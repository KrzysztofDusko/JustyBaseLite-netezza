"use strict";var bK=Object.create;var Sf=Object.defineProperty;var wK=Object.getOwnPropertyDescriptor;var DK=Object.getOwnPropertyNames;var PK=Object.getPrototypeOf,MK=Object.prototype.hasOwnProperty;var Ke=(t,e)=>()=>(t&&(e=t(t=0)),e);var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Sr=(t,e)=>{for(var r in e)Sf(t,r,{get:e[r],enumerable:!0})},L0=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of DK(e))!MK.call(t,i)&&i!==r&&Sf(t,i,{get:()=>e[i],enumerable:!(n=wK(e,i))||n.enumerable});return t};var oe=(t,e,r)=>(r=t!=null?bK(PK(t)):{},L0(e||!t||!t.__esModule?Sf(r,"default",{value:t,enumerable:!0}):r,t)),xK=t=>L0(Sf({},"__esModule",{value:!0}),t);var AR=g((aye,b0)=>{"use strict";var pR=class{static readInt32(e,r=0){return e.readInt32BE(r)}static readInt16(e,r=0){return e.readInt16BE(r)}static writeInt32(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt32BE(r,n);else{let i=Buffer.allocUnsafe(4);i.writeInt32BE(r,0),e.write(i)}}static writeInt16(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt16BE(r,n);else{let i=Buffer.allocUnsafe(2);i.writeInt16BE(r,0),e.write(i)}}};b0.exports=pR});var _R=g((tr,w0)=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.ExtabSock=tr.HandshakeCode=tr.ProtocolVersion=tr.NzType=tr.BackendMessageCode=void 0;tr.BackendMessageCode={AuthenticationRequest:82,ErrorResponse:69,NoticeResponse:78,BackendKeyData:75,ReadyForQuery:90,RowDescription:84,RowDescriptionStandard:88,DataRow:68,CommandComplete:67,EmptyQueryResponse:73,RowStandard:89,CopyInResponse:71,CopyOutResponse:72,CopyDone:99,CopyData:100};tr.NzType={NzTypeRecAddr:1,NzTypeDouble:2,NzTypeInt:3,NzTypeFloat:4,NzTypeMoney:5,NzTypeDate:6,NzTypeNumeric:7,NzTypeTime:8,NzTypeTimestamp:9,NzTypeInterval:10,NzTypeTimeTz:11,NzTypeBool:12,NzTypeInt1:13,NzTypeBinary:14,NzTypeChar:15,NzTypeVarChar:16,NzDEPR_Text:17,NzTypeUnknown:18,NzTypeInt2:19,NzTypeInt8:20,NzTypeVarFixedChar:21,NzTypeGeometry:22,NzTypeVarBinary:23,NzDEPR_Blob:24,NzTypeNChar:25,NzTypeNVarChar:26,NzDEPR_NText:27,NzTypeJson:30,NzTypeJsonb:31,NzTypeJsonpath:32,NzTypeLastEntry:33,NzTypeIntvsAbsTimeFIX:39};tr.ProtocolVersion={CP_VERSION_2:2,CP_VERSION_3:3,CP_VERSION_4:4,CP_VERSION_5:5,CP_VERSION_6:6};tr.HandshakeCode={HSV2_CLIENT_BEGIN:1,HSV2_DB:2,HSV2_USER:3,HSV2_OPTIONS:4,HSV2_REMOTE_PID:6,HSV2_CLIENT_TYPE:8,HSV2_PROTOCOL:9,HSV2_SSL_NEGOTIATE:11,HSV2_SSL_CONNECT:12,HSV2_APPNAME:13,HSV2_CLIENT_OS:14,HSV2_CLIENT_HOST_NAME:15,HSV2_CLIENT_OS_USER:16,HSV2_64BIT_VARLENA_ENABLED:17,HSV2_CLIENT_DONE:1e3};tr.ExtabSock={DATA:1,ERROR:2,DONE:3};w0.exports={BackendMessageCode:tr.BackendMessageCode,NzType:tr.NzType,ProtocolVersion:tr.ProtocolVersion,HandshakeCode:tr.HandshakeCode,ExtabSock:tr.ExtabSock}});var P0=g((lye,D0)=>{var ga=1e3,Ca=ga*60,ya=Ca*60,zs=ya*24,vK=zs*7,UK=zs*365.25;D0.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return BK(t);if(r==="number"&&isFinite(t))return e.long?GK(t):FK(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function BK(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*UK;case"weeks":case"week":case"w":return r*vK;case"days":case"day":case"d":return r*zs;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ya;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ca;case"seconds":case"second":case"secs":case"sec":case"s":return r*ga;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function FK(t){var e=Math.abs(t);return e>=zs?Math.round(t/zs)+"d":e>=ya?Math.round(t/ya)+"h":e>=Ca?Math.round(t/Ca)+"m":e>=ga?Math.round(t/ga)+"s":t+"ms"}function GK(t){var e=Math.abs(t);return e>=zs?Rf(t,e,zs,"day"):e>=ya?Rf(t,e,ya,"hour"):e>=Ca?Rf(t,e,Ca,"minute"):e>=ga?Rf(t,e,ga,"second"):t+" ms"}function Rf(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var IR=g((cye,M0)=>{function HK(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=P0(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let E=0;for(let d=0;d<u.length;d++)E=(E<<5)-E+u.charCodeAt(d),E|=0;return r.colors[Math.abs(E)%r.colors.length]}r.selectColor=e;function r(u){let E,d=null,f,h;function T(...S){if(!T.enabled)return;let R=T,N=Number(new Date),p=N-(E||N);R.diff=p,R.prev=E,R.curr=N,E=N,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let A=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(b,I)=>{if(b==="%%")return"%";A++;let D=r.formatters[I];if(typeof D=="function"){let L=S[A];b=D.call(R,L),S.splice(A,1),A--}return b}),r.formatArgs.call(R,S),(R.log||r.log).apply(R,S)}return T.namespace=u,T.useColors=r.useColors(),T.color=r.selectColor(u),T.extend=n,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(f!==r.namespaces&&(f=r.namespaces,h=r.enabled(u)),h),set:S=>{d=S}}),typeof r.init=="function"&&r.init(T),T}function n(u,E){let d=r(this.namespace+(typeof E>"u"?":":E)+u);return d.log=this.log,d}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let E=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let d of E)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function s(u,E){let d=0,f=0,h=-1,T=0;for(;d<u.length;)if(f<E.length&&(E[f]===u[d]||E[f]==="*"))E[f]==="*"?(h=f,T=d,f++):(d++,f++);else if(h!==-1)f=h+1,T++,d=T;else return!1;for(;f<E.length&&E[f]==="*";)f++;return f===E.length}function o(){let u=[...r.names,...r.skips.map(E=>"-"+E)].join(",");return r.enable(""),u}function a(u){for(let E of r.skips)if(s(u,E))return!1;for(let E of r.names)if(s(u,E))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}M0.exports=HK});var x0=g((Fr,pf)=>{Fr.formatArgs=YK;Fr.save=$K;Fr.load=VK;Fr.useColors=WK;Fr.storage=kK();Fr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Fr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function WK(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function YK(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+pf.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Fr.log=console.debug||console.log||(()=>{});function $K(t){try{t?Fr.storage.setItem("debug",t):Fr.storage.removeItem("debug")}catch{}}function VK(){let t;try{t=Fr.storage.getItem("debug")||Fr.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function kK(){try{return localStorage}catch{}}pf.exports=IR()(Fr);var{formatters:qK}=pf.exports;qK.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var U0=g((uye,v0)=>{"use strict";v0.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var G0=g((Eye,F0)=>{"use strict";var XK=require("os"),B0=require("tty"),on=U0(),{env:$t}=process,cs;on("no-color")||on("no-colors")||on("color=false")||on("color=never")?cs=0:(on("color")||on("colors")||on("color=true")||on("color=always"))&&(cs=1);"FORCE_COLOR"in $t&&($t.FORCE_COLOR==="true"?cs=1:$t.FORCE_COLOR==="false"?cs=0:cs=$t.FORCE_COLOR.length===0?1:Math.min(parseInt($t.FORCE_COLOR,10),3));function NR(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function mR(t,e){if(cs===0)return 0;if(on("color=16m")||on("color=full")||on("color=truecolor"))return 3;if(on("color=256"))return 2;if(t&&!e&&cs===void 0)return 0;let r=cs||0;if($t.TERM==="dumb")return r;if(process.platform==="win32"){let n=XK.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in $t)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in $t)||$t.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in $t)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test($t.TEAMCITY_VERSION)?1:0;if($t.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in $t){let n=parseInt(($t.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch($t.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test($t.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test($t.TERM)||"COLORTERM"in $t?1:r}function KK(t){let e=mR(t,t&&t.isTTY);return NR(e)}F0.exports={supportsColor:KK,stdout:NR(mR(!0,B0.isatty(1))),stderr:NR(mR(!0,B0.isatty(2)))}});var W0=g((Vt,_f)=>{var jK=require("tty"),Af=require("util");Vt.init=r4;Vt.log=ZK;Vt.formatArgs=JK;Vt.save=e4;Vt.load=t4;Vt.useColors=zK;Vt.destroy=Af.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Vt.colors=[6,2,3,4,5,1];try{let t=G0();t&&(t.stderr||t).level>=2&&(Vt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Vt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function zK(){return"colors"in Vt.inspectOpts?!!Vt.inspectOpts.colors:jK.isatty(process.stderr.fd)}function JK(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+_f.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=QK()+e+" "+t[0]}function QK(){return Vt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function ZK(...t){return process.stderr.write(Af.formatWithOptions(Vt.inspectOpts,...t)+`
`)}function e4(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function t4(){return process.env.DEBUG}function r4(t){t.inspectOpts={};let e=Object.keys(Vt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Vt.inspectOpts[e[r]]}_f.exports=IR()(Vt);var{formatters:H0}=_f.exports;H0.o=function(t){return this.inspectOpts.colors=this.useColors,Af.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};H0.O=function(t){return this.inspectOpts.colors=this.useColors,Af.inspect(t,this.inspectOpts)}});var CR=g((fye,gR)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?gR.exports=x0():gR.exports=W0()});var $0=g((Js,Y0)=>{"use strict";var n4=Js&&Js.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),i4=Js&&Js.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),If=Js&&Js.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&n4(r,e,n[i]);return i4(r,e),r}})(),s4=If(require("crypto")),o4=If(require("os")),a4=If(require("tls")),l4=If(require("fs")),re=AR(),te=_R(),Dt=CR()("nz:handshake"),yR=class{constructor(e,r,n,i={}){this._hsVersion=-1,this._protocol1=-1,this._protocol2=-1,this.NPSCLIENT_TYPE_DOTNET=11,this.backendProcessId=0,this.backendSecretKey=0,this._socket=e,this._stream=r,this._host=n,this._options=i,this._guardiumClientOS=process.platform,this._guardiumClientOSUser=process.env.USERNAME||process.env.USER||"unknown",this._guardiumAppName="scJs-Driver",this._guardiumClientHostName=o4.hostname()}async startup(e,r,n){if(!await this.connHandshakeNegotiate())throw new Error("Handshake negotiation unsuccessful");if(Dt("Sending handshake info"),!await this.connSendHandshakeInfo(e,r))throw new Error("Error in ConnSendHandshakeInfo");if(!await this.connAuthenticate(n))throw new Error("Error in ConnAuthenticate");if(!await this.connConnectionComplete())throw new Error("Error in ConnConnectionComplete");return this._stream}async _readExactly(e){return new Promise((r,n)=>{let i=this._stream.read(e);i?r(i):this._stream.once("readable",()=>{let s=this._stream.read(e);s&&r(s)})})}async readBytes(e){for(;;){let r=this._stream.read(e);if(r!==null)return r;await new Promise(n=>this._stream.once("readable",n))}}async readByte(){return(await this.readBytes(1))[0]}async connHandshakeNegotiate(){let e=te.ProtocolVersion.CP_VERSION_6;for(;;){Dt(`Sending version: ${e}`),re.writeInt32(this._stream,8),re.writeInt16(this._stream,te.HandshakeCode.HSV2_CLIENT_BEGIN),re.writeInt16(this._stream,e);let r=await this.readByte();if(Dt(`Got response: ${String.fromCharCode(r)}`),r===78)return this._hsVersion=e,this._protocol2=0,!0;if(r===77){let n=await this.readByte(),i=String.fromCharCode(n);i==="2"?e=te.ProtocolVersion.CP_VERSION_2:i==="3"?e=te.ProtocolVersion.CP_VERSION_3:i==="4"?e=te.ProtocolVersion.CP_VERSION_4:i==="5"&&(e=te.ProtocolVersion.CP_VERSION_5)}else return!1}}async connSendHandshakeInfo(e,r){return await this.connSendDatabase(e)?(await this.connSecureSession(),this.connSetNextDataProtocol(this._protocol1,this._protocol2),this._hsVersion===te.ProtocolVersion.CP_VERSION_6||this._hsVersion===te.ProtocolVersion.CP_VERSION_4?this.connSendHandshakeVersion4(this._hsVersion,r):this.connSendHandshakeVersion2(this._hsVersion,r)):!1}async connSendDatabase(e){let r=Buffer.from(e,"utf8"),n=6+r.length+1;return re.writeInt32(this._stream,n),re.writeInt16(this._stream,te.HandshakeCode.HSV2_DB),this._stream.write(r),this._stream.write(Buffer.from([0])),await this.readByte()===78}async connSecureSession(){let r=0,n=this._options.securityLevel;n==="OnlyUnsecuredSession"?r=1:n==="PreferredSecuredSession"?r=2:n==="OnlySecuredSession"&&(r=3),re.writeInt32(this._stream,10),re.writeInt16(this._stream,te.HandshakeCode.HSV2_SSL_NEGOTIATE),re.writeInt32(this._stream,r);let i=await this.readByte();if(i===78){if(this._options.securityLevel==="OnlySecuredSession")throw new Error("Server refused secure session, but OnlySecuredSession was requested.");return!0}if(i===83){Dt("Upgrading to SSL...");let s=Buffer.alloc(6);s.writeInt32BE(6,0),s.writeInt16BE(te.HandshakeCode.HSV2_SSL_CONNECT,4),await new Promise(a=>{this._stream.write(s)?a():this._stream.once("drain",a)}),this._socket.removeAllListeners("data"),this._socket.removeAllListeners("readable");let o={socket:this._socket,rejectUnauthorized:!1};if(this._options.sslCerFilePath){this._options.rejectUnauthorized===!1?o.rejectUnauthorized=!1:o.rejectUnauthorized=!0;try{o.ca=l4.readFileSync(this._options.sslCerFilePath)}catch(a){throw Dt("Failed to load cert file",a),a}}return new Promise((a,l)=>{let c=a4.connect(o,()=>{Dt("SSL Connected"),this._stream=c,this._stream.on("error",u=>{Dt("Secure Stream Error",u)}),this.readByte().then(u=>{u===78?a(!0):l(new Error(`SSL Handshake failed: Unexpected response ${String.fromCharCode(u)}`))}).catch(u=>{Dt("Failed to read SSL confirmation",u),l(u)})});c.on("error",u=>{Dt("SSL Connection Error",u),l(u)})})}return!1}connSetNextDataProtocol(e,r){return this._protocol2===0&&(this._protocol2=5),this._protocol1=3,!0}async connSendHandshakeVersion4(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;re.writeInt32(this._stream,i),re.writeInt16(this._stream,te.HandshakeCode.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=te.HandshakeCode.HSV2_APPNAME;for(;s!==0;){if(await this.readByte()!==78)return!1;switch(s){case te.HandshakeCode.HSV2_APPNAME:await this.sendStringOption(s,this._guardiumAppName),s=te.HandshakeCode.HSV2_CLIENT_OS;break;case te.HandshakeCode.HSV2_CLIENT_OS:await this.sendStringOption(s,this._guardiumClientOS),s=te.HandshakeCode.HSV2_CLIENT_HOST_NAME;break;case te.HandshakeCode.HSV2_CLIENT_HOST_NAME:await this.sendStringOption(s,this._guardiumClientHostName),s=te.HandshakeCode.HSV2_CLIENT_OS_USER;break;case te.HandshakeCode.HSV2_CLIENT_OS_USER:await this.sendStringOption(s,this._guardiumClientOSUser),s=te.HandshakeCode.HSV2_PROTOCOL;break;case te.HandshakeCode.HSV2_PROTOCOL:i=10,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),re.writeInt16(this._stream,this._protocol1),re.writeInt16(this._stream,this._protocol2),s=te.HandshakeCode.HSV2_REMOTE_PID;break;case te.HandshakeCode.HSV2_REMOTE_PID:i=10,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),re.writeInt32(this._stream,process.pid),s=te.HandshakeCode.HSV2_CLIENT_TYPE;break;case te.HandshakeCode.HSV2_CLIENT_TYPE:i=8,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),re.writeInt16(this._stream,11),e>=5?s=te.HandshakeCode.HSV2_64BIT_VARLENA_ENABLED:s=te.HandshakeCode.HSV2_CLIENT_DONE;break;case te.HandshakeCode.HSV2_64BIT_VARLENA_ENABLED:i=8,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),re.writeInt16(this._stream,1),s=te.HandshakeCode.HSV2_CLIENT_DONE;break;case te.HandshakeCode.HSV2_CLIENT_DONE:return i=6,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),s=0,!0}}return!1}async connSendHandshakeVersion2(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;re.writeInt32(this._stream,i),re.writeInt16(this._stream,te.HandshakeCode.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=te.HandshakeCode.HSV2_PROTOCOL;for(;s!==0;){Dt(`Waiting for response in v2 loop. Info: ${s}`);let o=await this.readByte();if(Dt(`Got response: ${String.fromCharCode(o)}`),o===78)switch(s){case te.HandshakeCode.HSV2_PROTOCOL:i=10,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),re.writeInt16(this._stream,this._protocol1),re.writeInt16(this._stream,this._protocol2),s=te.HandshakeCode.HSV2_REMOTE_PID;break;case te.HandshakeCode.HSV2_REMOTE_PID:i=10,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),re.writeInt32(this._stream,process.pid),s=te.HandshakeCode.HSV2_CLIENT_TYPE;break;case te.HandshakeCode.HSV2_OPTIONS:s=te.HandshakeCode.HSV2_CLIENT_TYPE;break;case te.HandshakeCode.HSV2_CLIENT_TYPE:i=8,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),re.writeInt16(this._stream,11),e===te.ProtocolVersion.CP_VERSION_5||e===te.ProtocolVersion.CP_VERSION_6?s=te.HandshakeCode.HSV2_64BIT_VARLENA_ENABLED:s=te.HandshakeCode.HSV2_CLIENT_DONE;break;case te.HandshakeCode.HSV2_64BIT_VARLENA_ENABLED:i=8,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),re.writeInt16(this._stream,1),s=te.HandshakeCode.HSV2_CLIENT_DONE;break;case te.HandshakeCode.HSV2_CLIENT_DONE:return i=6,re.writeInt32(this._stream,i),re.writeInt16(this._stream,s),s=0,!0}else throw o===te.BackendMessageCode.ErrorResponse?new Error("Handshake V2 Failed: ErrorResponse from backend"):new Error(`Handshake V2 Failed: Unexpected response ${String.fromCharCode(o)}`)}return!1}async sendStringOption(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;re.writeInt32(this._stream,i),re.writeInt16(this._stream,e),this._stream.write(n),this._stream.write(Buffer.from([0]))}async connAuthenticate(e){if(await this.readByte()!==te.BackendMessageCode.AuthenticationRequest)return!1;let n=re.readInt32(await this.readBytes(4));if(Dt(`Auth request: ${n}`),n===0)return!0;if(n===3){let i=Buffer.from(e,"utf8"),s=4+i.length+1;return re.writeInt32(this._stream,s),this._stream.write(i),this._stream.write(Buffer.from([0])),!0}if(n===5){let i=await this.readBytes(2),s=Buffer.from(e,"utf8"),a=s4.createHash("md5").update(Buffer.concat([i,s])).digest("base64").replace(/=+$/,""),l=Buffer.from(a,"utf8"),c=4+l.length+1;return re.writeInt32(this._stream,c),this._stream.write(l),this._stream.write(Buffer.from([0])),!0}return!1}async readString(){let e=[];for(;;){let r=await this.readByte();if(r===0)break;e.push(r)}return Buffer.from(e).toString("utf8")}async connConnectionComplete(){for(;;){let e=await this.readByte();if(Dt(`Resp: ${String.fromCharCode(e)} (0x${e.toString(16)})`),e===te.BackendMessageCode.AuthenticationRequest){let n=re.readInt32(await this.readBytes(4));Dt(`Auth req in complete: ${n}`);continue}if(e===te.BackendMessageCode.ErrorResponse){let n=await this.readBytes(4),i=re.readInt32(n);if(i<0||i>1e8){let o=n.toString("utf8");throw o+=await this.readString(),new Error(`Backend Error: ${o}`)}let s=await this.readBytes(i-4);throw new Error(`Backend Error: ${s.toString()}`)}let r=await this.readBytes(4);if(Dt(`Skipped 4 bytes: ${r.toString("hex")}`),e===te.BackendMessageCode.BackendKeyData){let n=await this.readBytes(4);Dt(`KeyData Padding: ${n.toString("hex")}`);let i=re.readInt32(await this.readBytes(4)),s=re.readInt32(await this.readBytes(4));Dt(`KeyData: PID=${i} Key=${s}`),this.backendProcessId=i,this.backendSecretKey=s;continue}if(e===te.BackendMessageCode.ReadyForQuery)return Dt("ReadyForQuery"),!0;if(e===te.BackendMessageCode.NoticeResponse){let n=re.readInt32(await this.readBytes(4)),i=await this.readBytes(n);Dt(`Notice: ${i.toString()}`);continue}}}};Y0.exports=yR});var k0=g((dye,V0)=>{"use strict";var LR=class{constructor(e){this.connection=e,this.commandText="",this.parameters=[],this._recordsAffected=-1,this.commandTimeout=e.commandTimeout!==void 0?e.commandTimeout:30}async execute(){return this.connection.execute(this,!1)}async executeNonQuery(){return await this.connection.execute(this,!1),this._recordsAffected}async executeReader(){return this.connection.executeReader(this)}async cancel(){return this.connection.cancel()}};V0.exports=LR});var X0=g((hye,q0)=>{"use strict";var de={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700,Float4:700,Float8:701},gc=16,bR=class{constructor(e,r,n,i,s){this.currentRow=null,this.closed=!1,this._nameIndex={},this._pendingColumns=null,this._isFinished=!1,this.command=e,this.generator=r,this.columnDescriptions=n||[],this.releaseCallback=i,this._initNameIndex(),this._nextItem=s,this._hasRows=!!(this._nextItem&&this._nextItem.type==="DataRow")}get hasRows(){return this._hasRows}_initNameIndex(){if(this._nameIndex={},this.columnDescriptions)for(let e=0;e<this.columnDescriptions.length;e++)this._nameIndex[this.columnDescriptions[e].name.toLowerCase()]=e}_markFinished(){this._isFinished=!0,this._nextItem=null,this._hasRows=!1,this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}async nextResult(){if(this._pendingColumns){for(this.columnDescriptions=this._pendingColumns,this._pendingColumns=null,this._initNameIndex(),this.currentRow=null;;){let e=await this.generator.next();if(e.done){this._nextItem=null,this._hasRows=!1;break}let r=e.value;if(r.type!=="RowDescriptionStandard")if(r.type==="DataRow"){this._nextItem=r,this._hasRows=!0;break}else if(r.type==="CommandComplete"){this._nextItem=r,this._hasRows=!1;break}else{this._nextItem=r,this._hasRows=!1;break}}return!0}if(this.closed||this._isFinished)return!1;for(;;){let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),!1;let r=e.value;if(r.type==="RowDescription"){this.columnDescriptions=r.columns,this._initNameIndex(),this.currentRow=null;continue}if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;this.columnDescriptions.length===0&&n&&n.description&&(this.columnDescriptions=n.description,this._initNameIndex()),this.currentRow=null;continue}if(r.type==="DataRow")return this._nextItem=r,this._hasRows=!0,!0;if(r.type!=="CommandComplete"){if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");if(r.type==="ReadyForQuery")return this._markFinished(),!1}}}getSchemaTable(){if(!this.columnDescriptions)return[];let e=[];for(let r=0;r<this.columnDescriptions.length;r++){let n=this.columnDescriptions[r],i={ColumnName:n.name,ColumnOrdinal:r+1,ColumnSize:-1,NumericPrecision:0,NumericScale:0,DataType:String,ProviderType:n.typeOid,AllowDBNull:!0,IsReadOnly:!0,IsLong:!1},s=n.typeMod,o=n.typeOid;switch(o){case de.Bool:i.DataType=Boolean,i.ColumnSize=1;break;case de.Int2:i.DataType=Number,i.ColumnSize=2;break;case de.Int4:i.DataType=Number,i.ColumnSize=4;break;case de.Int8:i.DataType=Number,i.ColumnSize=8;break;case de.Float4:case de.Float8:i.DataType=Number,i.ColumnSize=o===de.Float8?8:4,i.NumericPrecision=o===de.Float8?53:24;break;case de.Numeric:if(i.DataType=Number,s>gc){let a=s-gc>>16,l=s-gc&65535;i.NumericPrecision=a,i.NumericScale=l,i.ColumnSize=Math.floor(a/2)+1,i.ColumnSize<n.typeLen&&n.typeLen>0&&(i.ColumnSize=n.typeLen)}else i.ColumnSize=n.typeLen;break;case de.Date:case de.Timestamp:case de.TimestampTz:case de.Time:case de.TimeTz:i.DataType=Date,(o===de.Time||o===de.TimeTz)&&(i.DataType=Object),i.ColumnSize=n.typeLen;break;case de.Char:case de.BpChar:case de.VarChar:case de.Text:case de.Name:case de.ShowDate:i.DataType=String,s>gc?i.ColumnSize=s-gc:(i.ColumnSize=-1,n.typeLen>0&&(i.ColumnSize=n.typeLen)),i.ColumnSize>8e3&&(i.IsLong=!0);break;default:i.DataType=String,i.ColumnSize=n.typeLen;break}e.push(i)}return{Rows:e,Columns:{Count:e.length}}}getTypeName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);let n=this.columnDescriptions[e].typeOid;switch(n){case de.Bool:return"BOOL";case de.Bytea:return"BYTEA";case de.Char:return"CHAR";case de.Name:return"NAME";case de.Int8:return"INT8";case de.Int2:return"INT2";case de.Int4:return"INT4";case de.Text:return"TEXT";case de.BpChar:return"CHAR";case de.VarChar:return"VARCHAR";case de.Date:return"DATE";case de.Time:return"TIME";case de.Timestamp:return"TIMESTAMP";case de.TimestampTz:return"TIMESTAMPTZ";case de.Interval:return"INTERVAL";case de.TimeTz:return"TIMETZ";case de.Numeric:return"NUMERIC";case de.Float4:return"FLOAT4";case de.Float8:return"FLOAT8";case 2530:return"DATE";case 15:return"CHAR";case 16:return"BOOL";default:return`UNKNOWN(${n})`}}async read(){if(this.closed||this._isFinished||this._pendingColumns)return!1;let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),this.currentRow=null,!1;let r=e.value;if(r.type==="DataRow")return this.currentRow=r.row,!0;if(r.type==="RowDescription")return this._pendingColumns=r.columns,this.currentRow=null,!1;if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;return this._pendingColumns=n&&n.description?n.description:this.columnDescriptions,this.currentRow=null,!1}if(r.type==="CommandComplete")return this.currentRow=null,this.read();if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");return r.type==="ReadyForQuery"?(this._markFinished(),this.currentRow=null,!1):this.read()}getValue(e){return this._validateOrdinal(e),this.currentRow[e]}getValueByName(e){let r=this.getOrdinal(e);return this.getValue(r)}getName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);return this.columnDescriptions[e].name}getOrdinal(e){let r=this._nameIndex[e.toLowerCase()];if(r===void 0)throw new Error(`Column '${e}' not found`);return r}get fieldCount(){return this.columnDescriptions?.length||0}get FieldCount(){return this.fieldCount}isDBNull(e){return this._validateOrdinal(e),this.currentRow[e]===null}getBoolean(e){let r=this.getValue(e);return r===null?!1:typeof r=="boolean"?r:typeof r=="string"?r.toLowerCase()==="t"||r==="1"||r.toLowerCase()==="true":!!r}getByte(e){let r=this.getValue(e);return r===null?0:Number(r)&255}getInt16(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt32(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt64(e){let r=this.getValue(e);return r===null?0:typeof r=="bigint"?r:Number(r)}getFloat(e){let r=this.getValue(e);return r===null?0:Number(r)}getDouble(e){let r=this.getValue(e);return r===null?0:Number(r)}getDecimal(e){let r=this.getValue(e);return r===null?0:typeof r=="string"?r:Number(r)}getString(e){let r=this.getValue(e);return r===null?null:typeof r=="string"?r:r.toString?r.toString():String(r)}getDateTime(e){let r=this.getValue(e);return r===null?null:r instanceof Date?r:new Date(r)}getTimeSpan(e){let r=this.getValue(e);if(r===null)return null;if(typeof r=="object"&&"hours"in r)return r;if(typeof r=="string"){let n=r.split(":");if(n.length>=2){let i=(n[2]||"0").split(".");return{hours:parseInt(n[0],10),minutes:parseInt(n[1],10),seconds:parseInt(i[0],10),microseconds:i.length>1?parseInt(i[1].padEnd(6,"0"),10):0,toString(){return r}}}}return r}getRowObject(){if(!this.currentRow)return null;let e={};for(let r=0;r<this.columnDescriptions.length;r++)e[this.columnDescriptions[r].name]=this.currentRow[r];return e}getValues(){return this.currentRow?[...this.currentRow]:[]}async close(){if(!this.closed){if(this.closed=!0,!this._isFinished&&this.generator)try{for await(let e of this.generator)if(e.type==="ReadyForQuery")break}catch{}this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}}get isClosed(){return this.closed}_validateOrdinal(e){if(!this.currentRow)throw new Error("No current row. Did you call read()?");if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`)}async*[Symbol.asyncIterator](){for(;await this.read();)yield this.getRowObject()}};q0.exports=bR});var j0=g((Tye,K0)=>{"use strict";var wR=class{constructor(){this.version=null,this.nullsAllowed=null,this.sizeWord=null,this.sizeWordSize=null,this.numFixedFields=null,this.numVaryingFields=null,this.fixedFieldsSize=0,this.maxRecordSize=null,this.numFields=0,this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[],this.dateStyle=null,this.euroDates=null}clear(){this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[]}parse(e,r){this.clear();let n=0;this.version=e.readInt32BE(n),n+=4,this.nullsAllowed=e.readInt32BE(n),n+=4,this.sizeWord=e.readInt32BE(n),n+=4,this.sizeWordSize=e.readInt32BE(n),n+=4,this.numFixedFields=e.readInt32BE(n),n+=4,this.numVaryingFields=e.readInt32BE(n),n+=4,this.fixedFieldsSize=e.readInt32BE(n),n+=4,this.maxRecordSize=e.readInt32BE(n),n+=4,this.numFields=e.readInt32BE(n),n+=4;let i=3,s=39;for(let o=0;o<this.numFields;o++){let a=e.readInt32BE(n);a===i&&r?.description?.[o]?.typeOid===702&&(a=s),this.fieldType.push(a),this.fieldSize.push(e.readInt32BE(n+4)),this.fieldTrueSize.push(e.readInt32BE(n+8)),this.fieldOffset.push(e.readInt32BE(n+12)),this.fieldPhysField.push(e.readInt32BE(n+16)),this.fieldLogField.push(e.readInt32BE(n+20)),this.fieldNullAllowed.push(e.readInt32BE(n+24)!==0),this.fieldFixedSize.push(e.readInt32BE(n+28)),this.fieldSpringField.push(e.readInt32BE(n+32)),n+=36}this.dateStyle=e.readInt32BE(n),n+=4,this.euroDates=e.readInt32BE(n)}getFieldPrecision(e){return this.fieldSize[e]>>8&127}getFieldScale(e){return this.fieldSize[e]&255}getNumericDigitCount(e){return Math.floor(this.fieldTrueSize[e]/4)}};K0.exports=wR});var J0=g(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.POSTGRES_EPOCH_MS=void 0;Gr.toDateTimeFrom8Bytes=c4;Gr.toDateTimeFrom4Bytes=u4;Gr.timeRecvFloat=DR;Gr.parseTimeString=E4;Gr.intervalRecvFloat=f4;Gr.timetzOutput=d4;Gr.timestampRecvInt=h4;Gr.getCsNumeric=T4;Gr.POSTGRES_EPOCH_MS=Date.UTC(2e3,0,1);function c4(t){let e=t.readBigInt64LE(0),r=Number(e/1000n);return new Date(Gr.POSTGRES_EPOCH_MS+r)}function u4(t){let r=t.readInt32LE(0)*24*60*60*1e3;return new Date(Gr.POSTGRES_EPOCH_MS+r)}function DR(t){let e=t.readBigInt64LE(0),r=Number(e/1000000n),n=Number(e%1000000n),i=Math.floor(r/3600),s=Math.floor(r%3600/60),o=r%60;return{hours:i,minutes:s,seconds:o,microseconds:n,toString(){let a=String(i).padStart(2,"0"),l=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");if(n>0){let u=String(n).padStart(6,"0");return`${a}:${l}:${c}.${u}`}return`${a}:${l}:${c}`}}}function E4(t){if(!t)return null;let e=t.split(":"),r=parseInt(e[0],10)||0,n=parseInt(e[1],10)||0,i=(e[2]||"0").split("."),s=parseInt(i[0],10)||0,o=0;return i.length>1&&(o=parseInt(i[1].substring(0,6).padEnd(6,"0"),10)),{hours:r,minutes:n,seconds:s,microseconds:o,toString(){return t}}}function f4(t){let e=t.readBigInt64LE(0),r=t.readInt32LE(8),n=DR(t);if(r===0)return n.toString();let i=Math.floor(r/12),s=r%12;return i>0?`${i} years ${s} mons ${n.toString()}`:`${s} mons ${n.toString()}`}function d4(t,e){let r=DR(t),n=t.readInt32LE(e-4),i=n<0?"+":"-",s=Math.abs(n),o=Math.floor(s/3600),a=Math.floor(s%3600/60),l=s%60,c=String(o).padStart(2,"0");return l!==0?c+=":"+String(a).padStart(2,"0")+":"+String(l).padStart(2,"0"):a!==0&&(c+=":"+String(a).padStart(2,"0")),`${r.toString()}${i}${c}`}function h4(t){let e=t.readInt32LE(0);return new Date(e*1e3)}var La=4,Cc=38,z0=2147483648;function T4(t,e,r,n){let i=e<=9?1:e<=18?2:4,s=[];for(let f=0;f<i;f++)s.push(t.readUInt32LE(f*4));let o=(s[0]&z0)!==0?4294967295:0,a=new Array(La).fill(o);for(let f=La-n,h=0;f<La;f++,h++)a[f]=s[h];let l=(a[0]&z0)!==0;l&&R4(a);let c=new Array(Cc).fill(0);for(let f=0;f<Cc;f++)c[Cc-f-1]=S4(a);let u="",E=!0;for(let f=0;f<Cc;f++)f<Cc-r-1&&E&&c[f]===0||(E=!1,u+=String(c[f]));if(u===""&&(u="0"),r!==0){let f=u.slice(0,-r)||"0",h=u.slice(-r).padStart(r,"0");u=f+"."+h}l&&(u="-"+u);let d=parseFloat(u);return e<=15&&u===String(d)?d:u}function S4(t){let e=0;for(let r=0;r<La;r++){let n=t[r]+e*4294967296;n!==0?(t[r]=Math.floor(n/10),e=n%10):(t[r]=0,e=0)}return e}function R4(t){for(let r=0;r<La;r++)t[r]=~t[r]>>>0;let e=1;for(let r=La-1;r>=0&&e;r--){let n=t[r]+e;t[r]=n>>>0,e=n>4294967295?1:0}}});var Hr=g((Zs,Z0)=>{"use strict";var p4=Zs&&Zs.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),A4=Zs&&Zs.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),xR=Zs&&Zs.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&p4(r,e,n[i]);return A4(r,e),r}})(),Q0=xR(require("net")),PR=xR(require("fs")),_4=require("events"),I4=$0(),At=AR(),N4=k0(),O4=X0(),m4=j0(),Fe=_R(),Qs=xR(J0()),Ee=CR()("nz:connection"),MR=class extends _4.EventEmitter{constructor(e){super(),this._socket=null,this._stream=null,this._backendProcessId=0,this._backendSecretKey=0,this._commandNumber=-1,this._connected=!1,this._rowDescription=null,this._rows=[],this._tupdesc=new m4,this._tmpBuffer=Buffer.alloc(65536),this._intBuf=Buffer.allocUnsafe(65536),this._intBufStart=0,this._intBufEnd=0,this.commandTimeout=30,this.connectionTimeout=30,this._executing=!1,this._exportStream=null,this.config=e,e.connectionTimeout!==void 0&&(this.connectionTimeout=e.connectionTimeout)}async connect(){return new Promise((e,r)=>{if(!this.config.host)return r(new Error("Host is required"));let n=!1,i;this.connectionTimeout>0&&(i=setTimeout(()=>{n=!0,Ee("Connection timeout triggered after",this.connectionTimeout,"seconds"),this._socket&&this._socket.destroy(),r(new Error(`Connection timeout after ${this.connectionTimeout} seconds`))},this.connectionTimeout*1e3));let s=()=>{i&&(clearTimeout(i),i=void 0)};this._socket=new Q0.Socket,this._socket.connect(this.config.port||5480,this.config.host,async()=>{if(n)return;Ee("Socket connected"),this._socket.setNoDelay(!0),this._stream=this._socket;let o=new I4(this._socket,this._stream,this.config.host,this.config);try{if(this._stream=await o.startup(this.config.database,this.config.user,this.config.password),n)return;s(),this._connected=!0,this._backendProcessId=o.backendProcessId,this._backendSecretKey=o.backendSecretKey,e()}catch(a){s(),this._socket.destroy(),r(a)}}),this._socket.on("error",o=>{Ee("Socket error",o),s(),this._connected?this.emit("error",o):r(o)}),this._socket.on("close",()=>{Ee("Socket closed"),s(),this._connected=!1,this.emit("close")})})}async cancel(){if(!(!this._backendProcessId||!this._backendSecretKey))return new Promise((e,r)=>{let n=new Q0.Socket;n.on("error",i=>{Ee("Cancel socket error",i),r(i)}),n.connect(this.config.port||5480,this.config.host,()=>{let i=Buffer.alloc(16);At.writeInt32(i,16,0),At.writeInt32(i,80877102,4),At.writeInt32(i,this._backendProcessId,8),At.writeInt32(i,this._backendSecretKey,12),n.write(i,()=>{}),n.on("close",()=>e()),n.on("end",()=>e()),n.on("error",()=>e())})})}close(){this._socket&&(this._socket.end(),this._socket.destroy())}createCommand(e){let r=new N4(this);return e&&(r.commandText=e),r}async beginTransaction(){let e=this.createCommand("BEGIN");await this.execute(e)}async commit(){let e=this.createCommand("COMMIT");await this.execute(e)}async rollback(){let e=this.createCommand("ROLLBACK");await this.execute(e)}async _readBytes(e){if(this._intBufEnd-this._intBufStart>=e){let r=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+e));return this._intBufStart+=e,r}return this._readBytesSlow(e)}async _readBytesSlow(e){if(e>this._intBuf.length){let n=[],i=this._intBufEnd-this._intBufStart;i>0&&(n.push(Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufEnd))),this._intBufStart=0,this._intBufEnd=0);let s=e-i;for(;s>0;){let o=this._stream.read();o!==null?o.length<=s?(n.push(o),s-=o.length):(n.push(o.slice(0,s)),this._feedBuffer(o.slice(s)),s=0):await this._waitForReadable()}return Buffer.concat(n,e)}if(this._intBuf.length-this._intBufStart<e){let n=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=n}for(;this._intBufEnd-this._intBufStart<e;){let n=this._stream.read();if(n!==null){let i=this._intBuf.length-this._intBufEnd;n.length<=i?(n.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=n.length):(n.copy(this._intBuf,this._intBufEnd,0,i),this._intBufEnd+=i,this._stream.unshift(n.slice(i)))}else await this._waitForReadable()}let r=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+e));return this._intBufStart+=e,r}async _waitForReadable(){if(!this._socket||this._socket.destroyed)throw new Error("Socket closed or destroyed during read");return new Promise((e,r)=>{let n=()=>{this._stream.removeListener("readable",i),this._stream.removeListener("close",s),this._stream.removeListener("error",o),this._stream.removeListener("end",s)},i=()=>{n(),e()},s=()=>{n(),r(new Error("Socket closed/ended during read"))},o=a=>{n(),r(a)};this._stream.once("readable",i),this._stream.once("close",s),this._stream.once("end",s),this._stream.once("error",o)})}_feedBuffer(e){this._stream.unshift(e)}async _readInt32(){await this._ensureBufferData(4);let e=this._intBuf.readInt32BE(this._intBufStart);return this._intBufStart+=4,e}async _readInt16(){await this._ensureBufferData(2);let e=this._intBuf.readInt16BE(this._intBufStart);return this._intBufStart+=2,e}async _readByte(){await this._ensureBufferData(1);let e=this._intBuf[this._intBufStart];return this._intBufStart+=1,e}async _ensureBufferData(e){if(!(this._intBufEnd-this._intBufStart>=e)){if(this._intBuf.length-this._intBufStart<e){let r=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=r}for(;this._intBufEnd-this._intBufStart<e;){let r=this._stream.read();if(r!==null){let n=this._intBuf.length-this._intBufEnd;r.length<=n?(r.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=r.length):(r.copy(this._intBuf,this._intBufEnd,0,n),this._intBufEnd+=n,this._stream.unshift(r.slice(n)))}else await this._waitForReadable()}}}async execute(e,r=!1){let n=e.commandTimeout;if(!n||n<=0)return this._doExecute(e);let i,s=this._doExecute(e),o=new Promise((a,l)=>{i=setTimeout(async()=>{Ee("Command timeout triggered");try{await this.cancel(),l(new Error("Command execution timeout"))}catch(c){l(new Error("Command execution timeout (Cancel failed: "+c.message+")"))}},n*1e3)});try{return await Promise.race([s,o])}catch(a){throw a.message&&a.message.includes("Command execution timeout")&&s.catch(()=>{}),a}finally{clearTimeout(i)}}async _doExecute(e){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{Ee("Executing:",e.commandText),this._preExecution(e.commandText);let r=null;for await(let n of this._responseGenerator(e))n.type==="ErrorResponse"&&(r=new Error("Netezza Error: "+n.message));if(r)throw r;return!0}finally{this._executing=!1}}async executeReader(e){let r=e.commandTimeout||this.commandTimeout;if(!r||r<=0)return this._doExecuteReader(e);let n,i=this._doExecuteReader(e),s=new Promise((o,a)=>{n=setTimeout(async()=>{Ee("Command timeout triggered");try{await this.cancel(),a(new Error("Command execution timeout"))}catch(l){a(new Error("Command execution timeout (Cancel failed: "+l.message+")"))}},r*1e3)});try{return await Promise.race([i,s])}catch(o){throw o.message&&o.message.includes("Command execution timeout")&&i.catch(()=>{}),o}finally{clearTimeout(n)}}async _doExecuteReader(e){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{Ee("Executing Reader:",e.commandText),this._preExecution(e.commandText);let r=this._responseGenerator(e),n=[],i=await r.next(),s=null,o=null;for(;!i.done;){let a=i.value;if(a.type==="RowDescription")n=a.columns;else if(a.type==="RowDescriptionStandard"){let l=a.desc;if(l&&l.numFields>0&&n.length===0){let c=e._preparedStatement;c&&c.description&&(n=c.description)}}else if(a.type==="DataRow"||a.type==="CommandComplete"||a.type==="ReadyForQuery"){if(!s&&n.length>0){o=a;break}}else a.type==="ErrorResponse"&&(s=new Error("Netezza Error: "+a.message));i=await r.next()}if(s)throw this._executing=!1,s;return new O4(e,r,n,()=>{this._executing=!1},o)}catch(r){throw this._executing=!1,r}}_preExecution(e){let r=Buffer.from(e,"utf8"),n=Buffer.allocUnsafe(5+r.length+1);n[0]=80,this._commandNumber!==-1?(this._commandNumber++,n.writeInt32BE(this._commandNumber,1)):(n[1]=255,n[2]=255,n[3]=255,n[4]=255),this._commandNumber>1e5&&(this._commandNumber=1),r.copy(n,5),n[5+r.length]=0,this._stream.write(n)}async*_responseGenerator(e){this._rows=[],this._rowDescription=null;let r=!1;for(;!r;){let n=await this._readByte();for(;n===0;)n=await this._readByte();if(n===117){await this._handleExternalTableExportStart();continue}if(n===85){await this._handleExternalTableExportData();continue}if(n===108){await this._handleExternalTableImport();continue}if(n===120){await this._readBytes(4),Ee("Error operation cancel (Ext Tbl)");continue}if(n===101){await this._readBytes(4);let s=At.readInt32(await this._readBytes(4)),o=(await this._readBytes(s-1)).toString("utf8");await this._readBytes(1);let a=[],l=(await this._readBytes(1))[0];for(a.push(l);l=(await this._readBytes(1))[0],l!==0;)a.push(l);let c=At.readInt32(await this._readBytes(4));await this._consumeExternalTableLogData();continue}let i=await this._readBytes(4);if(n===Fe.BackendMessageCode.CommandComplete){let s=await this._readInt32(),o=await this._readBytes(s);Ee("CommandComplete:",o.toString("utf8")),yield{type:"CommandComplete",text:o.toString("utf8")};continue}if(n===Fe.BackendMessageCode.ReadyForQuery){r=!0,yield{type:"ReadyForQuery"};continue}if(n===76){r=!0;continue}if(!(n===48||n===65)){if(n===80){let s=await this._readInt32();await this._readBytes(s);continue}if(n===Fe.BackendMessageCode.ErrorResponse){let s=await this._readInt32();yield{type:"ErrorResponse",message:(await this._readBytes(s)).toString("utf8")};continue}if(n===Fe.BackendMessageCode.RowDescription){let s=await this._readInt32(),o=await this._readBytes(s);this._parseRowDescription(o,e),yield{type:"RowDescription",columns:this._rowDescription};continue}if(n===Fe.BackendMessageCode.DataRow){let s=await this._readInt32(),o=await this._readBytes(s);yield{type:"DataRow",row:this._parseDataRow(o)};continue}if(n===Fe.BackendMessageCode.RowDescriptionStandard){let s=await this._readInt32(),o=await this._readBytes(s);this._tupdesc.parse(o,e._preparedStatement),yield{type:"RowDescriptionStandard",desc:this._tupdesc};continue}if(n===Fe.BackendMessageCode.RowStandard){yield{type:"DataRow",row:await this._resReadDbosTuple(e)};continue}if(n===Fe.BackendMessageCode.NoticeResponse){let s=await this._readInt32(),a=(await this._readBytes(s)).toString("utf8").replace(/\0/g,"").trim();this.emit("notice",{message:a});continue}Ee("Unknown message:","0x"+n.toString(16));try{let s=await this._readInt32();s>0&&s<1e7&&await this._readBytes(s)}catch{}}}}async _consumeExternalTableLogData(){for(;;){let e=await this._readBytes(4),r=At.readInt32(e);if(r===0)return;let n=await this._readBytes(r);Ee("ExtLog Content:",n.toString("utf8"))}}async _handleExternalTableExportStart(){await this._readBytes(4),await this._readBytes(10),await this._readBytes(16);let e=At.readInt32(await this._readBytes(4)),n=(await this._readBytes(e)).toString("utf8");Ee("ExternalTable Export Start. File:",n);try{this._exportStream=PR.createWriteStream(n),this._exportStream.on("error",s=>{Ee("Export Stream Error:",s)});let i=Buffer.alloc(4);await new Promise(s=>this._stream.write(i,()=>s()))}catch(i){Ee("Error opening export file:",i);let s=Buffer.alloc(4);At.writeInt32(s,1,0),this._stream.write(s)}}async _handleExternalTableExportData(){Ee("Handle Export Data: Skipping 8 bytes...");let e=await this._readBytes(4);Ee("Skipped 4:",e.toString("hex"));let r=await this._readBytes(4);Ee("Skipped 4 (2):",r.toString("hex")),await this._consumeExternalTableData(this._exportStream),this._exportStream=null}async _consumeExternalTableData(e){for(Ee("Entering Consume Loop");;){Ee("Reading status...");let r=await this._readBytes(4),n=At.readInt32(r);if(Ee("ExtTab Status:",n),n===Fe.ExtabSock.DATA){let i=At.readInt32(await this._readBytes(4));Ee("Block Length:",i);let s=await this._readBytes(i);e&&e.write(s)}else if(n===Fe.ExtabSock.DONE){Ee("ExternalTable Data Done"),e&&await new Promise(i=>{if(Ee("Waiting for writeStream finish..."),e.writableFinished)return Ee("Stream already finished"),i();let s=setTimeout(()=>{Ee("Stream finish timeout! Destroying..."),e.destroy(),i()},5e3),o=()=>{Ee("Stream finished event"),clearTimeout(s),l(),i()},a=c=>{Ee("Stream error on end:",c),clearTimeout(s),l(),i()},l=()=>{e.removeListener("finish",o),e.removeListener("error",a)};e.on("finish",o),e.on("error",a),e.end()});return}else if(n===Fe.ExtabSock.ERROR){let i=At.readInt16(await this._readBytes(2)),s=(await this._readBytes(i)).toString("utf8");Ee("ExternalTable Data Error:",s),e&&e.end();return}else{Ee("Unknown ExtTab Status:",n),e&&e.end();return}}}async _handleExternalTableImport(){await this._readBytes(8);let e=[],r=(await this._readBytes(1))[0];for(e.push(r);r!==0;)r=(await this._readBytes(1))[0],r!==0&&e.push(r);let n=Buffer.from(e).toString("utf8");Ee("ExternalTable Import Start. File:",n);let i=At.readInt32(await this._readBytes(4));Ee("Host Version:",i);let s=Buffer.alloc(4);At.writeInt32(s,1,0),await new Promise(c=>this._stream.write(s,()=>c())),Ee("Sent Client Version");let o=At.readInt32(await this._readBytes(4)),a=At.readInt32(await this._readBytes(4));if(Ee("ExtTab Import Config:",{hostVersion:i,format:o,bufSize:a}),!PR.existsSync(n)){Ee("Import file not found:",n);let c=Buffer.alloc(4);At.writeInt32(c,Fe.ExtabSock.ERROR,0),this._stream.write(c);return}let l=PR.createReadStream(n,{highWaterMark:a||65536});await new Promise((c,u)=>{l.on("data",E=>{let d=Buffer.isBuffer(E)?E:Buffer.from(E),f=Buffer.alloc(8);At.writeInt32(f,Fe.ExtabSock.DATA,0),At.writeInt32(f,d.length,4),this._stream.write(f),this._stream.write(d)}),l.on("end",()=>{Ee("Import Stream End");let E=Buffer.alloc(4);At.writeInt32(E,Fe.ExtabSock.DONE,0),this._stream.write(E),c()}),l.on("error",E=>{Ee("Import Stream Error:",E);let d=Buffer.alloc(4);At.writeInt32(d,Fe.ExtabSock.ERROR,0),this._stream.write(d);let f=E.message||"Error",h=Buffer.alloc(2);h.writeInt16BE(f.length),this._stream.write(h),this._stream.write(Buffer.from(f,"utf8")),u(E)})})}_parseRowDescription(e,r){Ee("parseRowDescription data length:",e.length,"hex:",e.toString("hex").substring(0,100));let n=0;if(e.length<2){Ee("Data too short for row description");return}let i=e.readInt16BE(n);n+=2,Ee("Column count:",i),this._rowDescription=[];for(let s=0;s<i&&n<e.length;s++){let o=n;for(;n<e.length&&e[n]!==0;)n++;let a=e.toString("utf8",o,n);if(n++,n+11>e.length){Ee("Not enough data for column",s,"at offset",n,"need 11 more, have",e.length-n);break}let l=e.readInt32BE(n);n+=4;let c=e.readInt16BE(n);n+=2;let u=e.readInt32BE(n);n+=4;let E=e[n];n+=1,this._rowDescription.push({name:a,typeOid:l,typeLen:c,typeMod:u,format:E}),Ee("Column",s,":",a,"typeOid:",l,"typeLen:",c)}r&&(r._preparedStatement={description:this._rowDescription})}_parseDataRow(e){let r=this._rowDescription.length,i=Math.ceil(r/8),s=[];for(let o=0;o<r;o++){let a=e[Math.floor(o/8)],l=7-o%8;if(!((a&1<<l)!==0)){s.push(null);continue}let u=e.readInt32BE(i);i+=4;let E=u-4;if(E<=0){s.push(null);continue}let f=this._rowDescription[o]?.typeOid,h=e.toString("utf8",i,i+E);f===1083?s.push(Qs.parseTimeString(h)):s.push(h),i+=E}return s}async _resReadDbosTuple(e){let r=this._tupdesc.numFields;await this._readBytes(4);let n=At.readInt32(await this._readBytes(4)),i=await this._readBytes(n),s=new Array(r);for(let o=0;o<r;o++){if(this._columnIsNull(i,o)){s[o]=null;continue}let a=this._cTableFieldAt(i,o),l=this._tupdesc.fieldType[o],c=this._tupdesc.fieldSize[o];s[o]=this._parseFieldByType(a,l,c,o)}return s}_parseFieldByType(e,r,n,i){switch(r){case Fe.NzType.NzTypeChar:return e.toString("latin1",0,n).trimEnd();case Fe.NzType.NzTypeNChar:case Fe.NzType.NzTypeNVarChar:{let s=e.readInt16LE(0)-2;return e.toString("utf8",2,2+s)}case Fe.NzType.NzTypeVarChar:case Fe.NzType.NzTypeVarFixedChar:{let s=e.readInt16LE(0)-2;return e.toString("latin1",2,2+s)}case Fe.NzType.NzTypeInt8:return e.readBigInt64LE(0);case Fe.NzType.NzTypeInt:return e.readInt32LE(0);case Fe.NzType.NzTypeInt2:return e.readInt16LE(0);case Fe.NzType.NzTypeInt1:return e.readInt8(0);case Fe.NzType.NzTypeDouble:return e.readDoubleLE(0);case Fe.NzType.NzTypeFloat:return e.readFloatLE(0);case Fe.NzType.NzTypeDate:return Qs.toDateTimeFrom4Bytes(e);case Fe.NzType.NzTypeTime:return Qs.timeRecvFloat(e);case Fe.NzType.NzTypeInterval:return Qs.intervalRecvFloat(e);case Fe.NzType.NzTypeTimeTz:return Qs.timetzOutput(e,n);case Fe.NzType.NzTypeTimestamp:return Qs.toDateTimeFrom8Bytes(e);case Fe.NzType.NzTypeBool:return e[0]===1;case Fe.NzType.NzTypeNumeric:{let s=this._tupdesc.getFieldPrecision(i),o=this._tupdesc.getFieldScale(i),a=this._tupdesc.getNumericDigitCount(i);return Qs.getCsNumeric(e,s,o,a)}default:return e.toString("utf8",0,n)}}_columnIsNull(e,r){if(!this._tupdesc.nullsAllowed)return!1;let n=this._tupdesc.fieldPhysField[r];return(e[2+Math.floor(n/8)]&1<<n%8)!==0}_cTableFieldAt(e,r){if(this._tupdesc.fieldFixedSize[r]!==0)return e.slice(this._tupdesc.fieldOffset[r]);let n=e.slice(this._tupdesc.fixedFieldsSize);for(let i=0;i<this._tupdesc.fieldOffset[r];i++){let s=n.readInt16LE(0);n=n.slice(s%2===0?s:s+1)}return n}};Z0.exports=MR});var Nf,us,vR=Ke(()=>{"use strict";Nf=oe(require("vscode")),us=class t{constructor(e){this.context=e;this._connections={};this._activeConnectionName=null;this._documentConnections=new Map;this._persistentConnections=new Map;this._keepConnectionOpen=!1;this._onDidChangeConnections=new Nf.EventEmitter;this.onDidChangeConnections=this._onDidChangeConnections.event;this._onDidChangeActiveConnection=new Nf.EventEmitter;this.onDidChangeActiveConnection=this._onDidChangeActiveConnection.event;this._onDidChangeDocumentConnection=new Nf.EventEmitter;this.onDidChangeDocumentConnection=this._onDidChangeDocumentConnection.event;this._loadingPromise=this.loadConnections()}static{this.SERVICE_NAME="netezza-vscode-connections"}static{this.ACTIVE_CONN_KEY="netezza-active-connection"}async loadConnections(){this._activeConnectionName=this.context.globalState.get(t.ACTIVE_CONN_KEY)||null;let e=await this.context.secrets.get(t.SERVICE_NAME);if(e)try{this._connections=JSON.parse(e)}catch(r){console.error("Failed to parse connections:",r),this._connections={}}else{let r=await this.context.secrets.get("netezza-vscode");if(r)try{let n=JSON.parse(r);if(n&&n.host){let i=`Default (${n.host})`;this._connections={[i]:{...n,name:i}},this._activeConnectionName=i,await this.saveConnectionsToStorage()}}catch{}}this._onDidChangeConnections.fire()}async ensureLoaded(){await this._loadingPromise}async saveConnectionsToStorage(){await this.context.secrets.store(t.SERVICE_NAME,JSON.stringify(this._connections)),this._activeConnectionName?await this.context.globalState.update(t.ACTIVE_CONN_KEY,this._activeConnectionName):await this.context.globalState.update(t.ACTIVE_CONN_KEY,void 0)}async saveConnection(e){if(await this.ensureLoaded(),!e.name)throw new Error("Connection name is required");this._connections[e.name]=e,this._activeConnectionName||await this.setActiveConnection(e.name),await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}async deleteConnection(e){if(await this.ensureLoaded(),this._connections[e]){if(await this.closePersistentConnection(e),delete this._connections[e],this._activeConnectionName===e){let r=Object.keys(this._connections);await this.setActiveConnection(r.length>0?r[0]:null)}await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}}async getConnections(){return await this.ensureLoaded(),Object.values(this._connections)}async getConnection(e){return await this.ensureLoaded(),this._connections[e]}async setActiveConnection(e){await this.ensureLoaded(),this._activeConnectionName=e,await this.context.globalState.update(t.ACTIVE_CONN_KEY,e),this._onDidChangeActiveConnection.fire(e)}getActiveConnectionName(){return this._activeConnectionName}async getConnectionString(e){await this.ensureLoaded();let r=e||this._activeConnectionName;if(!r)return null;let n=this._connections[r];if(!n)return console.error(`[ConnectionManager] Connection '${r}' not found in registry. Available keys: ${Object.keys(this._connections).join(", ")}`),null;let i=n.dbType||"NetezzaSQL";return i==="NetezzaSQL"?`DRIVER={NetezzaSQL};SERVER=${n.host};PORT=${n.port};DATABASE=${n.database};UID=${n.user};PWD=${n.password};`:`DRIVER={${i}};SERVER=${n.host};PORT=${n.port};DATABASE=${n.database};UID=${n.user};PWD=${n.password};`}async getCurrentDatabase(e){await this.ensureLoaded();let r=e||this._activeConnectionName;return r&&this._connections[r]?.database||null}setKeepConnectionOpen(e){this._keepConnectionOpen=e,e||this.closeAllPersistentConnections()}getKeepConnectionOpen(){return this._keepConnectionOpen}async getPersistentConnection(e){let r=e||this._activeConnectionName;if(!r)throw new Error("No connection selected");if(!await this.getConnectionString(r))throw new Error(`Connection '${r}' not found or invalid`);let i=this._persistentConnections.get(r);if(!i){let s=Hr(),o=this._connections[r],a={host:o.host,port:o.port||5480,database:o.database,user:o.user,password:o.password},l=new s(a);await l.connect(),i=l,this._persistentConnections.set(r,i)}return i}async closePersistentConnection(e){let r=this._persistentConnections.get(e);if(r){try{await r.close()}catch(n){console.error(`Error closing connection ${e}:`,n)}this._persistentConnections.delete(e)}}async closeAllPersistentConnections(){for(let e of this._persistentConnections.keys())await this.closePersistentConnection(e)}dispose(){this.closeAllPersistentConnections()}getDocumentConnection(e){return this._documentConnections.get(e)}setDocumentConnection(e,r){this._documentConnections.set(e,r),this._onDidChangeDocumentConnection.fire(e)}clearDocumentConnection(e){this._documentConnections.delete(e),this._onDidChangeDocumentConnection.fire(e)}getConnectionForExecution(e){if(e){let r=this._documentConnections.get(e);if(r)return r}return this._activeConnectionName||void 0}}});var ty={};Sr(ty,{QueryHistoryManager:()=>br});var ey,an,UR,br,Of=Ke(()=>{"use strict";ey=oe(require("vscode")),an=oe(require("fs")),UR=oe(require("path")),br=class t{constructor(e){this.context=e;this.cache=[];this.initialized=!1;if(this.context.globalStorageUri){this.historyFilePath=ey.Uri.joinPath(this.context.globalStorageUri,"query-history.json").fsPath;try{an.existsSync(this.context.globalStorageUri.fsPath)||an.mkdirSync(this.context.globalStorageUri.fsPath,{recursive:!0})}catch(r){console.error("[QueryHistoryManager] Error creating storage directory:",r)}}this.initialize()}static{this.STORAGE_KEY="queryHistory"}static{this.MAX_ENTRIES=5e4}static{this.CLEANUP_KEEP=4e4}static{this.STORAGE_VERSION=1}async initialize(){try{let e=!1;if(this.historyFilePath&&an.existsSync(this.historyFilePath))try{let r=await an.promises.readFile(this.historyFilePath,"utf-8");if(!r||!r.trim())console.log("[QueryHistoryManager] File is empty, starting fresh"),this.cache=[],e=!0;else{let n=JSON.parse(r);n&&n.entries&&(this.cache=n.entries,e=!0)}}catch(r){console.warn("[QueryHistoryManager] Corrupted history file, resetting:",r),this.cache=[],e=!0;try{await this.saveToStorage(),console.log("[QueryHistoryManager] Reset corrupted file to empty state")}catch(n){console.error("[QueryHistoryManager] Failed to reset file:",n)}}if(!e){let r=this.context.globalState.get(t.STORAGE_KEY);r&&r.entries&&(this.cache=r.entries,console.log(`\u2705 Migrated ${this.cache.length} entries from globalState`),await this.saveToStorage(),await this.context.globalState.update(t.STORAGE_KEY,void 0))}!e&&this.cache.length===0&&await this.migrateFromLegacyStorage(),this.initialized=!0}catch(e){console.error("\u274C Error initializing query history:",e),this.cache=[],this.initialized=!0}}async migrateFromLegacyStorage(){try{let e=this.context.globalStorageUri.fsPath,r=UR.join(e,"query-history.db");an.existsSync(r)&&console.log("\u26A0\uFE0F SQLite database found but migration not implemented");let n=UR.join(e,"query-history-archive.json");if(an.existsSync(n))try{let i=an.readFileSync(n,"utf8");if(i.trim()){let s=JSON.parse(i);this.cache.push(...s),await this.saveToStorage(),console.log(`\u2705 Migrated archive with ${s.length} entries`)}}catch{}}catch(e){console.error("Error during migration:",e)}}async saveToStorage(){if(this.historyFilePath)try{let e={entries:this.cache,version:t.STORAGE_VERSION};await an.promises.writeFile(this.historyFilePath,JSON.stringify(e),"utf-8")}catch(e){console.error("Error saving to storage:",e)}}async addEntry(e,r,n,i,s,o,a){try{this.initialized||await this.initialize();let l=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,c=Date.now(),u={id:l,host:e,database:r,schema:n,query:i.trim(),timestamp:c,connectionName:s,is_favorite:!1,tags:o||"",description:a||""};this.cache.unshift(u),this.cache.length>t.MAX_ENTRIES&&(this.cache=this.cache.slice(0,t.CLEANUP_KEEP),console.log(`Cleaned up old entries, keeping ${t.CLEANUP_KEEP} newest`)),await this.saveToStorage()}catch(l){console.error("Error adding query to history:",l)}}async getHistory(){return this.initialized||await this.initialize(),[...this.cache]}async deleteEntry(e){try{this.cache=this.cache.filter(r=>r.id!==e),await this.saveToStorage()}catch(r){console.error("Error deleting entry:",r)}}async clearHistory(){try{this.cache=[],await this.saveToStorage(),console.log("All query history cleared")}catch(e){console.error("Error clearing history:",e)}}async getStats(){try{let e=this.cache.length,r=JSON.stringify(this.cache).length,n=parseFloat((r/(1024*1024)).toFixed(2));return{activeEntries:e,archivedEntries:0,totalEntries:e,activeFileSizeMB:n,archiveFileSizeMB:0,totalFileSizeMB:n}}catch(e){return console.error("Error getting stats:",e),{activeEntries:0,archivedEntries:0,totalEntries:0,activeFileSizeMB:0,archiveFileSizeMB:0,totalFileSizeMB:0}}}async toggleFavorite(e){try{let r=this.cache.find(n=>n.id===e);r&&(r.is_favorite=!r.is_favorite,await this.saveToStorage())}catch(r){console.error("Error toggling favorite:",r)}}async updateEntry(e,r,n){try{let i=this.cache.find(s=>s.id===e);i&&(r!==void 0&&(i.tags=r),n!==void 0&&(i.description=n),await this.saveToStorage())}catch(i){console.error("Error updating entry:",i)}}async getFavorites(){return this.initialized||await this.initialize(),this.cache.filter(e=>e.is_favorite)}async getByTag(e){return this.initialized||await this.initialize(),this.cache.filter(r=>r.tags?.toLowerCase().includes(e.toLowerCase()))}async getAllTags(){this.initialized||await this.initialize();let e=new Set;return this.cache.forEach(r=>{r.tags&&r.tags.split(",").forEach(i=>{let s=i.trim();s&&e.add(s)})}),Array.from(e).sort()}async searchAll(e){this.initialized||await this.initialize();let r=e.toLowerCase();return this.cache.filter(n=>n.query.toLowerCase().includes(r)||n.host.toLowerCase().includes(r)||n.database.toLowerCase().includes(r)||n.schema.toLowerCase().includes(r)||n.tags?.toLowerCase().includes(r)||n.description?.toLowerCase().includes(r))}async getFilteredHistory(e,r,n,i){this.initialized||await this.initialize();let s=this.cache.filter(o=>!(e&&o.host!==e||r&&o.database!==r||n&&o.schema!==n));return i&&(s=s.slice(0,i)),s}async getArchivedHistory(){return[]}async clearArchive(){}close(){console.log("Query history manager closed")}}});function BR(t){let e=new Set;if(!t)return e;for(let r of t.matchAll(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g))r[1]&&e.add(r[1]);for(let r of t.matchAll(/\$([A-Za-z_][A-Za-z0-9_]*)(?!\s*\})/g)){let n=r[0],i=r.index;if(i>0&&t[i-1]==="{")continue;let s=i+n.length;s<t.length&&t[s]==="}"||r[1]&&e.add(r[1])}return e}function FR(t){if(!t)return{sql:"",setValues:{}};let e=t.split(/\r?\n/),r=[],n={};for(let i of e){let s=i.match(/^\s*@SET\s+([A-Za-z0-9_]+)\s*=\s*(.+)$/i);if(s){let o=s[2].trim();o.endsWith(";")&&(o=o.slice(0,-1).trim());let a=o.match(/^'(.*)'$/s)||o.match(/^"(.*)"$/s);a&&(o=a[1]),n[s[1]]=o}else r.push(i)}return{sql:r.join(`
`),setValues:n}}function GR(t,e){let r=t.replace(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g,(i,s)=>e[s]??""),n=Object.keys(e).sort((i,s)=>s.length-i.length);for(let i of n)if(/^[A-Za-z_]/.test(i)){let s=new RegExp(`\\$${i}(?![A-Za-z0-9_])`,"g");r=r.replace(s,e[i]??"")}return r}var ry=Ke(()=>{"use strict"});async function ny(){let t=kr.window.activeTextEditor;if(!t){kr.window.showWarningMessage("No active editor to cancel query for.");return}let e=t.document.uri.toString(),r=eo.get(e);if(r)try{await r.cancel(),kr.window.showInformationMessage("Cancellation request sent.")}catch(n){kr.window.showErrorMessage(`Failed to cancel query: ${n.message}`)}else kr.window.showInformationMessage("No active query found for this tab.")}async function iy(t,e,r){let n={};if(t.size===0)return n;if(e){let s=Array.from(t).filter(o=>!(r&&r[o]!==void 0));if(s.length>0)throw new Error("Query contains variables but silent mode is enabled; cannot prompt for values. Missing: "+s.join(", "));for(let o of t)n[o]=r[o];return n}let i=[];for(let s of t)r&&r[s]!==void 0?n[s]=r[s]:i.push(s);for(let s of i){let o=await kr.window.showInputBox({prompt:`Enter value for ${s}`,placeHolder:"",value:r&&r[s]?r[s]:void 0,ignoreFocusOut:!0});if(o===void 0)throw new Error("Variable input cancelled by user");n[s]=o}return n}async function g4(t,e,r=!1,n,i,s,o){let a=n||new us(t),l=a.getKeepConnectionOpen(),c;if(!r&&!o&&(c=kr.window.createOutputChannel("Netezza SQL"),c.show(!0),c.appendLine("Executing query...")),o&&o("Executing query..."),i){let u=`Target Connection: ${i}`;c&&c.appendLine(u),o&&o(u)}try{let u=FR(e),E=u.sql,d=u.setValues,f=BR(E);if(f.size>0){let R=await iy(f,r,d);E=GR(E,R)}let h,T=!0,S=i;if(!S&&s&&(S=a.getConnectionForExecution(s)),S||(S=a.getActiveConnectionName()||void 0),!S)throw new Error("No connection selected");if(l)h=await a.getPersistentConnection(S),T=!1;else{let R=Hr(),N=await a.getConnection(S);if(!N)throw new Error(`Connection '${S}' not found`);let p={host:N.host,port:N.port||5480,database:N.database,user:N.user,password:N.password};h=new R(p),await h.connect()}c&&h.on("notice",R=>{c.appendLine(`NOTICE: ${R.message}`)});try{let N=kr.workspace.getConfiguration("netezza").get("queryTimeout",1800),p=h.createCommand(E);p.commandTimeout=N,s&&eo.set(s,p);try{let A=await p.executeReader(),O=[],b=[],I,D=2e5,L=0,P=!1;for(;await A.read();){if(O.length===0)for(let V=0;V<A.fieldCount;V++)O.push({name:A.getName(V),type:A.getTypeName(V)});let Y=[];for(let V=0;V<A.fieldCount;V++)Y.push(A.getValue(V));if(b.push(Y),L++,L>=D){P=!0;break}}let x="unknown",$=await a.getConnection(S);return $&&new br(t).addEntry($.host,$.database,x,e,S).catch(V=>console.error("History log error:",V)),O.length>0?(c&&c.appendLine("Query completed."),{columns:O,data:b,rowsAffected:I,limitReached:P,sql:E}):(c&&c.appendLine("Query executed successfully (no results)."),{columns:[],data:[],rowsAffected:I,message:"Query executed successfully (no results).",sql:E})}finally{s&&eo.delete(s)}}finally{T&&await h.close()}}catch(u){let E=`Error: ${u.message||u}`;throw c&&c.appendLine(E),o&&o(E),new Error(E)}}async function q(t,e,r=!1,n,i,s){let o=await g4(t,e,r,i,n,s);if(o.data&&o.data.length>0){let a=o.data.map(c=>{let u={};return o.columns.forEach((E,d)=>{u[E.name]=c[d]}),u});return JSON.stringify(a,(c,u)=>typeof u=="bigint"?u>=Number.MIN_SAFE_INTEGER&&u<=Number.MAX_SAFE_INTEGER?Number(u):u.toString():u,2)}else if(o.message)return o.message}async function sy(t,e,r,n,i){let s=n||new us(t),o=s.getKeepConnectionOpen(),a=[],l=r;if(!l&&i&&(l=s.getConnectionForExecution(i)),l||(l=s.getActiveConnectionName()||void 0),!l)throw new Error("No connection selected");let c,u=!0;try{if(o)c=await s.getPersistentConnection(l),u=!1;else{let d=Hr(),f=await s.getConnection(l);if(!f)throw new Error(`Connection '${l}' not found`);let h={host:f.host,port:f.port||5480,database:f.database,user:f.user,password:f.password};c=new d(h),await c.connect()}let E=d=>{a.push(d.message)};c.on("notice",E);try{let f=kr.workspace.getConfiguration("netezza").get("queryTimeout",1800),h=c.createCommand(e);h.commandTimeout=f,i&&eo.set(i,h);try{let T=await h.executeReader();for(;await T.read(););}finally{i&&eo.delete(i)}}finally{c.removeListener("notice",E)}}finally{u&&c&&await c.close()}return a.join(`
`)}async function yc(t,e,r,n,i,s){let o=r||new us(t),a=o.getKeepConnectionOpen(),l;i||(l=kr.window.createOutputChannel("Netezza SQL"),l.show(!0),l.appendLine(`Executing ${e.length} queries sequentially...`));let c=[],u=r?r.getConnectionForExecution(n):void 0;if(u||(u=o.getActiveConnectionName()||void 0),!u)throw l&&l.appendLine("Error: No connection selected"),i&&i("Error: No connection selected"),new Error("No connection selected");try{let E,d=!0,f=await o.getConnection(u);if(!f)throw new Error(`Connection '${u}' not found`);if(a)E=await o.getPersistentConnection(u),d=!1;else{let h=Hr(),T={host:f.host,port:f.port||5480,database:f.database,user:f.user,password:f.password};E=new h(T),await E.connect()}E.on("notice",h=>{l&&l.appendLine(`NOTICE: ${h.message}`),i&&i(`NOTICE: ${h.message}`)});try{let h="unknown";try{let N=await E.createCommand("SELECT CURRENT_SID").executeReader();if(await N.read()){let p=N.getValue(0);p!==void 0&&i&&i(`Connected. Session ID: ${p}`)}await N.close()}catch(R){console.debug("Could not retrieve session ID:",R),i&&i("Connected.")}let T=new br(t),S=u;for(let R=0;R<e.length;R++){let N=e[R],p=`Executing query ${R+1}/${e.length}...`;l&&l.appendLine(p),i&&i(p);try{let A=FR(N),O=A.sql,b=A.setValues,I=BR(O);if(I.size>0){let V=await iy(I,!1,b);O=GR(O,V)}let L=kr.workspace.getConfiguration("netezza").get("queryTimeout",1800),P=Date.now(),{results:x,error:$}=await C4(E,O,2e5,L,n),Y=Date.now()-P;if(i&&i(`Executed query ${R+1}/${e.length} in ${Y}ms`),T.addEntry(f.host,f.database,h,N,S).catch(V=>{console.error("Failed to log query to history:",V)}),x&&x.length>0)for(let V of x)if(V&&V.columns){let ee=V.columns;c.push({columns:ee,data:V,rowsAffected:V.count,limitReached:V.limitReached,sql:O})}else c.push({columns:[],data:[],rowsAffected:V?.count,message:"Query executed successfully",sql:O});if(s&&x&&x.length>0){let V=[];for(let ee of x)ee&&ee.columns?V.push({columns:ee.columns,data:ee,rowsAffected:ee.count,limitReached:ee.limitReached,sql:O}):V.push({columns:[],data:[],rowsAffected:ee?.count,message:"Query executed successfully",sql:O});s(V)}if($)throw $}catch(A){let O=`Error: ${A.message}`;throw l&&l.appendLine(`Error in query ${R+1}: ${O}`),new Error(O)}}l&&l.appendLine("All queries completed.")}finally{d&&await E.close()}}catch(E){let d=`Error: ${E.message}`;throw l&&l.appendLine(d),i&&i(d),new Error(d)}return c}async function C4(t,e,r,n,i){let s=t.createCommand(e);n&&n>0&&(s.commandTimeout=n),i&&eo.set(i,s);try{let o=await s.executeReader(),a=[],l=!0,c;try{do{let u=[],E=[],d=0,f=!1;for(;await o.read();){if(u.length===0)for(let h=0;h<o.fieldCount;h++)u.push({name:o.getName(h),type:o.getTypeName(h)});if(d<r){let h=[];for(let T=0;T<o.fieldCount;T++)h.push(o.getValue(T));E.push(h),d++}if(d>=r){f=!0;break}}u.length>0&&(E.columns=u),f&&(E.limitReached=!0),a.push(E),l=await o.nextResult()}while(l)}catch(u){c=u}return{results:a,error:c}}finally{i&&eo.delete(i)}}var kr,eo,Rr=Ke(()=>{"use strict";kr=oe(require("vscode"));vR();Of();ry();eo=new Map});var ly={};Sr(ly,{SqlParser:()=>wr});var wr,ro=Ke(()=>{"use strict";wr=class{static splitStatements(e){let r=[],n="",i=!1,s=!1,o=!1,a=!1,l=0;for(;l<e.length;){let c=e[l],u=l+1<e.length?e[l+1]:"";if(o)c===`
`&&(o=!1);else if(a){if(c==="*"&&u==="/"){a=!1,n+=c+u,l++,l++;continue}}else if(i)c==="'"&&e[l-1]!=="\\"&&(i=!1);else if(s)c==='"'&&e[l-1]!=="\\"&&(s=!1);else if(c==="-"&&u==="-")o=!0;else if(c==="/"&&u==="*")a=!0;else if(c==="'")i=!0;else if(c==='"')s=!0;else if(c===";"){n.trim()&&r.push(n.trim()),n="",l++;continue}n+=c,l++}return n.trim()&&r.push(n.trim()),r}static getStatementAtPosition(e,r){let n=0,i=e.length,s=!1,o=!1,a=!1,l=!1,c=-1;for(let E=0;E<r;E++){let d=e[E],f=E+1<e.length?e[E+1]:"";a?d===`
`&&(a=!1):l?d==="*"&&f==="/"&&(l=!1,E++):s?d==="'"&&e[E-1]!=="\\"&&(s=!1):o?d==='"'&&e[E-1]!=="\\"&&(o=!1):d==="-"&&f==="-"?a=!0:d==="/"&&f==="*"?l=!0:d==="'"?s=!0:d==='"'?o=!0:d===";"&&(c=E)}n=c+1,s=!1,o=!1,a=!1,l=!1;for(let E=n;E<e.length;E++){let d=e[E],f=E+1<e.length?e[E+1]:"";if(a)d===`
`&&(a=!1);else if(l)d==="*"&&f==="/"&&(l=!1,E++);else if(s)d==="'"&&e[E-1]!=="\\"&&(s=!1);else if(o)d==='"'&&e[E-1]!=="\\"&&(o=!1);else if(d==="-"&&f==="-")a=!0;else if(d==="/"&&f==="*")l=!0;else if(d==="'")s=!0;else if(d==='"')o=!0;else if(d===";"){i=E;break}}let u=e.substring(n,i).trim();return u?{sql:u,start:n,end:i}:null}static getObjectAtPosition(e,r){let n=c=>/[a-zA-Z0-9_."]/i.test(c),i=r;for(;i>0&&n(e[i-1]);)i--;let s=r;for(;s<e.length&&n(e[s]);)s++;let o=e.substring(i,s);if(!o)return null;let a=c=>c?c.replace(/"/g,""):void 0;if(o.includes("..")){let c=o.split("..");if(c.length===2)return{database:a(c[0]),name:a(c[1])}}let l=o.split(".");return l.length===1?{name:a(l[0])}:l.length===2?{schema:a(l[0]),name:a(l[1])}:l.length===3?{database:a(l[0]),schema:a(l[1]),name:a(l[2])}:null}}});var Sy=Ke(()=>{"use strict"});async function ot(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function ue(t){return!t||/^[A-Z_][A-Z0-9_]*$/i.test(t)&&t===t.toUpperCase()?t:`"${t.replace(/"/g,'""')}"`}function zR(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}function Ry(t){if(!t)return t;let e=t.trim().toUpperCase();return e==="CHARACTER VARYING"?"CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER VARYING"?"NATIONAL CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER"?"NATIONAL CHARACTER(ANY)":e==="CHARACTER"?"CHARACTER(ANY)":t}async function py(t){let e=zR(t);e.port||(e.port=5480);let r=Hr(),n=new r(e);return await n.connect(),n}var Wn=Ke(()=>{"use strict"});async function On(t,e,r,n){let i=`
        SELECT 
            X.OBJID::INT AS OBJID
            , X.ATTNAME
            , X.DESCRIPTION
            , X.FORMAT_TYPE AS FULL_TYPE
            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
            , X.COLDEFAULT
        FROM
            ${e.toUpperCase()}.._V_RELATION_COLUMN X
        INNER JOIN
            ${e.toUpperCase()}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
        WHERE
            X.TYPE IN ('TABLE','VIEW','EXTERNAL TABLE', 'SEQUENCE','SYSTEM VIEW','SYSTEM TABLE')
            AND X.OBJID NOT IN (4,5)
            AND D.SCHEMA = '${r.toUpperCase()}'
            AND D.OBJNAME = '${n.toUpperCase()}'
        ORDER BY 
            X.OBJID, X.ATTNUM
    `,s=await ot(t,i),o=[];for(let a of s){let l=!1,c=a.ATTNOTNULL;if(typeof c=="boolean")l=c;else if(typeof c=="number")l=c!==0;else if(typeof c=="string"){let u=c.trim().toLowerCase();l=u==="t"||u==="true"||u==="1"||u==="yes"}o.push({name:a.ATTNAME,description:a.DESCRIPTION||null,fullTypeName:a.FULL_TYPE,notNull:l,defaultValue:a.COLDEFAULT||null})}return o}async function mi(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_DIST_MAP
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY DISTSEQNO
        `;return(await ot(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function gi(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_ORGANIZE_COLUMN
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY ORGSEQNO
        `;return(await ot(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function Ci(t,e,r,n){let i=`
        SELECT 
            X.SCHEMA
            , X.RELATION
            , X.CONSTRAINTNAME
            , X.CONTYPE
            , X.ATTNAME
            , X.PKDATABASE
            , X.PKSCHEMA
            , X.PKRELATION
            , X.PKATTNAME
            , X.UPDT_TYPE
            , X.DEL_TYPE
        FROM 
            ${e.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.OBJID NOT IN (4,5)
            AND X.SCHEMA = '${r.toUpperCase()}'
            AND X.RELATION = '${n.toUpperCase()}'
        ORDER BY
            X.SCHEMA, X.RELATION, X.CONSEQ
    `,s=new Map;try{let o=await ot(t,i);for(let a of o){let l=a.CONSTRAINTNAME;if(!s.has(l)){let u={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};s.set(l,{type:u[a.CONTYPE]||"UNKNOWN",typeChar:a.CONTYPE,columns:[],pkDatabase:a.PKDATABASE||null,pkSchema:a.PKSCHEMA||null,pkRelation:a.PKRELATION||null,pkColumns:[],updateType:a.UPDT_TYPE||"NO ACTION",deleteType:a.DEL_TYPE||"NO ACTION"})}let c=s.get(l);c.columns.push(a.ATTNAME),a.PKATTNAME&&c.pkColumns.push(a.PKATTNAME)}}catch(o){console.warn("Cannot retrieve keys info:",o)}return s}async function io(t,e,r,n){try{let i=`
            SELECT DESCRIPTION
            FROM ${e.toUpperCase()}.._V_OBJECT_DATA
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND OBJNAME = '${n.toUpperCase()}'
                AND OBJTYPE = 'TABLE'
        `,s=await ot(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{try{let i=`
                SELECT DESCRIPTION
                FROM ${e.toUpperCase()}.._V_OBJECT_DATA
                WHERE SCHEMA = '${r.toUpperCase()}'
                    AND OBJNAME = '${n.toUpperCase()}'
            `,s=await ot(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{}}return null}async function Mc(t,e,r,n){try{let i=`
            SELECT OWNER
            FROM ${e.toUpperCase()}.._V_TABLE
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
        `,s=await ot(t,i);if(s.length>0&&s[0].OWNER)return s[0].OWNER}catch{}return null}var Ff=Ke(()=>{"use strict";Wn()});async function xc(t,e,r,n){let i=await On(t,e,r,n);if(i.length===0)throw new Error(`Table ${e}.${r}.${n} not found or has no columns`);let s=await mi(t,e,r,n),o=await gi(t,e,r,n),a=await Ci(t,e,r,n),l=await io(t,e,r,n);return wa(e,r,n,i,s,o,a,l)}function wa(t,e,r,n,i,s,o,a){if(n.length===0)return`-- Table ${t}.${e}.${r} has no columns or was not found`;let l=ue(t),c=ue(e),u=ue(r),E=[];E.push(`CREATE TABLE ${l}.${c}.${u}`),E.push("(");let d=[];for(let f of n){let T=`    ${ue(f.name)} ${f.fullTypeName}`;f.notNull&&(T+=" NOT NULL"),f.defaultValue!==null&&(T+=` DEFAULT ${f.defaultValue}`),d.push(T)}if(E.push(d.join(`,
`)),i.length>0){let f=i.map(h=>ue(h));E.push(`)
DISTRIBUTE ON (${f.join(", ")})`)}else E.push(`)
DISTRIBUTE ON RANDOM`);if(s.length>0){let f=s.map(h=>ue(h));E.push(`ORGANIZE ON (${f.join(", ")})`)}E.push(";"),E.push("");for(let[f,h]of o){let T=ue(f),S=h.columns.map(R=>ue(R));if(h.typeChar==="f"){let R=h.pkColumns.filter(N=>N).map(N=>ue(N));R.length>0&&E.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${T} ${h.type} (${S.join(", ")}) REFERENCES ${h.pkDatabase}.${h.pkSchema}.${h.pkRelation} (${R.join(", ")}) ON DELETE ${h.deleteType} ON UPDATE ${h.updateType};`)}else(h.typeChar==="p"||h.typeChar==="u")&&E.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${T} ${h.type} (${S.join(", ")});`)}if(a){let f=a.replace(/'/g,"''");E.push(""),E.push(`COMMENT ON TABLE ${l}.${c}.${u} IS '${f}';`)}for(let f of n)if(f.description){let h=ue(f.name),T=f.description.replace(/'/g,"''");E.push(`COMMENT ON COLUMN ${l}.${c}.${u}.${h} IS '${T}';`)}return E.join(`
`)}var Gf=Ke(()=>{"use strict";Wn();Ff()});async function so(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            VIEWNAME,
            DEFINITION,
            OBJID::INT
        FROM ${e.toUpperCase()}.._V_VIEW
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND VIEWNAME = '${n.toUpperCase()}'
    `,o=await ot(t,i);if(o.length===0)throw new Error(`View ${e}.${r}.${n} not found`);let a=o[0],l=ue(e),c=ue(r),u=ue(n),E=[];return E.push(`CREATE OR REPLACE VIEW ${l}.${c}.${u} AS`),E.push(a.DEFINITION||""),E.join(`
`)}var Hf=Ke(()=>{"use strict";Wn()});async function oo(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            OBJID::INT,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS,
            NULL AS LANGUAGE
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
        ORDER BY 1, 2, 3
    `,o=await ot(t,i);if(o.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,procedureSource:a.PROCEDURESOURCE,objId:a.OBJID,returns:Ry(a.RETURNS),executeAsOwner:!!a.EXECUTEDASOWNER,description:a.DESCRIPTION||null,procedureSignature:a.PROCEDURESIGNATURE,procedureName:a.PROCEDURE,arguments:a.ARGUMENTS||null},c=ue(e),u=ue(r),E=ue(l.procedureName),d=[],f=`CREATE OR REPLACE PROCEDURE ${c}.${u}.${E}`;if(l.arguments){let h=l.arguments.trim();h.startsWith("(")&&h.endsWith(")")?f+=h:f+=`(${h})`}else f+="()";if(d.push(f),d.push(`RETURNS ${l.returns}`),l.executeAsOwner?d.push("EXECUTE AS OWNER"):d.push("EXECUTE AS CALLER"),d.push("LANGUAGE NZPLSQL AS"),d.push("BEGIN_PROC"),d.push(l.procedureSource),d.push("END_PROC;"),l.description){let h=l.description.replace(/'/g,"''");d.push(`COMMENT ON PROCEDURE ${E} IS '${h}';`)}return d.join(`
`)}var Wf=Ke(()=>{"use strict";Wn()});async function ao(t,e,r,n){let i=`
        SELECT 
            E1.SCHEMA,
            E1.TABLENAME,
            E2.EXTOBJNAME,
            E2.OBJID::INT,
            E1.DELIM,
            E1.ENCODING,
            E1.TIMESTYLE,
            E1.REMOTESOURCE,
            E1.SKIPROWS,
            E1.MAXERRORS,
            E1.ESCAPE,
            E1.LOGDIR,
            E1.DECIMALDELIM,
            E1.QUOTEDVALUE,
            E1.NULLVALUE,
            E1.CRINSTRING,
            E1.TRUNCSTRING,
            E1.CTRLCHARS,
            E1.IGNOREZERO,
            E1.TIMEEXTRAZEROS,
            E1.Y2BASE,
            E1.FILLRECORD,
            E1.COMPRESS,
            E1.INCLUDEHEADER,
            E1.LFINSTRING,
            E1.DATESTYLE,
            E1.DATEDELIM,
            E1.TIMEDELIM,
            E1.BOOLSTYLE,
            E1.FORMAT,
            E1.SOCKETBUFSIZE,
            E1.RECORDDELIM,
            E1.MAXROWS,
            E1.REQUIREQUOTES,
            E1.RECORDLENGTH,
            E1.DATETIMEDELIM,
            E1.REJECTFILE
        FROM 
            ${e.toUpperCase()}.._V_EXTERNAL E1
            JOIN ${e.toUpperCase()}.._V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE
                AND E1.SCHEMA = E2.SCHEMA
                AND E1.TABLENAME = E2.TABLENAME
        WHERE 
            E1.DATABASE = '${e.toUpperCase()}'
            AND E1.SCHEMA = '${r.toUpperCase()}'
            AND E1.TABLENAME = '${n.toUpperCase()}'
    `,o=await ot(t,i);if(o.length===0)throw new Error(`External table ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,tableName:a.TABLENAME,dataObject:a.EXTOBJNAME||null,delimiter:a.DELIM||null,encoding:a.ENCODING||null,timeStyle:a.TIMESTYLE||null,remoteSource:a.REMOTESOURCE||null,skipRows:a.SKIPROWS||null,maxErrors:a.MAXERRORS||null,escapeChar:a.ESCAPE||null,logDir:a.LOGDIR||null,decimalDelim:a.DECIMALDELIM||null,quotedValue:a.QUOTEDVALUE||null,nullValue:a.NULLVALUE||null,crInString:a.CRINSTRING??null,truncString:a.TRUNCSTRING??null,ctrlChars:a.CTRLCHARS??null,ignoreZero:a.IGNOREZERO??null,timeExtraZeros:a.TIMEEXTRAZEROS??null,y2Base:a.Y2BASE||null,fillRecord:a.FILLRECORD??null,compress:a.COMPRESS||null,includeHeader:a.INCLUDEHEADER??null,lfInString:a.LFINSTRING??null,dateStyle:a.DATESTYLE||null,dateDelim:a.DATEDELIM||null,timeDelim:a.TIMEDELIM||null,boolStyle:a.BOOLSTYLE||null,format:a.FORMAT||null,socketBufSize:a.SOCKETBUFSIZE||null,recordDelim:a.RECORDDELIM?String(a.RECORDDELIM).replace(/\r/g,"\\r").replace(/\n/g,"\\n"):null,maxRows:a.MAXROWS||null,requireQuotes:a.REQUIREQUOTES??null,recordLength:a.RECORDLENGTH||null,dateTimeDelim:a.DATETIMEDELIM||null,rejectFile:a.REJECTFILE||null},c=await On(t,e,r,n),u=ue(e),E=ue(r),d=ue(n),f=[];f.push(`CREATE EXTERNAL TABLE ${u}.${E}.${d}`),f.push("(");let h=c.map(T=>{let S=`    ${ue(T.name)} ${T.fullTypeName}`;return T.notNull&&(S+=" NOT NULL"),S});return f.push(h.join(`,
`)),f.push(")"),f.push("USING"),f.push("("),l.dataObject!==null&&f.push(`    DATAOBJECT('${l.dataObject}')`),l.delimiter!==null&&f.push(`    DELIMITER '${l.delimiter}'`),l.encoding!==null&&f.push(`    ENCODING '${l.encoding}'`),l.timeStyle!==null&&f.push(`    TIMESTYLE '${l.timeStyle}'`),l.remoteSource!==null&&f.push(`    REMOTESOURCE '${l.remoteSource}'`),l.maxErrors!==null&&f.push(`    MAXERRORS ${l.maxErrors}`),l.escapeChar!==null&&f.push(`    ESCAPECHAR '${l.escapeChar}'`),l.decimalDelim!==null&&f.push(`    DECIMALDELIM '${l.decimalDelim}'`),l.logDir!==null&&f.push(`    LOGDIR '${l.logDir}'`),l.quotedValue!==null&&f.push(`    QUOTEDVALUE '${l.quotedValue}'`),l.nullValue!==null&&f.push(`    NULLVALUE '${l.nullValue}'`),l.crInString!==null&&f.push(`    CRINSTRING ${l.crInString}`),l.truncString!==null&&f.push(`    TRUNCSTRING ${l.truncString}`),l.ctrlChars!==null&&f.push(`    CTRLCHARS ${l.ctrlChars}`),l.ignoreZero!==null&&f.push(`    IGNOREZERO ${l.ignoreZero}`),l.timeExtraZeros!==null&&f.push(`    TIMEEXTRAZEROS ${l.timeExtraZeros}`),l.y2Base!==null&&f.push(`    Y2BASE ${l.y2Base}`),l.fillRecord!==null&&f.push(`    FILLRECORD ${l.fillRecord}`),l.compress!==null&&f.push(`    COMPRESS ${l.compress}`),l.includeHeader!==null&&f.push(`    INCLUDEHEADER ${l.includeHeader}`),l.lfInString!==null&&f.push(`    LFINSTRING ${l.lfInString}`),l.dateStyle!==null&&f.push(`    DATESTYLE '${l.dateStyle}'`),l.dateDelim!==null&&f.push(`    DATEDELIM '${l.dateDelim}'`),l.timeDelim!==null&&f.push(`    TIMEDELIM '${l.timeDelim}'`),l.boolStyle!==null&&f.push(`    BOOLSTYLE '${l.boolStyle}'`),l.format!==null&&f.push(`    FORMAT '${l.format}'`),l.socketBufSize!==null&&f.push(`    SOCKETBUFSIZE ${l.socketBufSize}`),l.recordDelim!==null&&f.push(`    RECORDDELIM '${l.recordDelim}'`),l.maxRows!==null&&f.push(`    MAXROWS ${l.maxRows}`),l.requireQuotes!==null&&f.push(`    REQUIREQUOTES ${l.requireQuotes}`),l.recordLength!==null&&f.push(`    RECORDLENGTH ${l.recordLength}`),l.dateTimeDelim!==null&&f.push(`    DATETIMEDELIM '${l.dateTimeDelim}'`),l.rejectFile!==null&&f.push(`    REJECTFILE '${l.rejectFile}'`),f.push(");"),f.join(`
`)}var Yf=Ke(()=>{"use strict";Wn();Ff()});async function lo(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            OWNER,
            SYNONYM_NAME,
            REFOBJNAME,
            DESCRIPTION
        FROM ${e.toUpperCase()}.._V_SYNONYM
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND SYNONYM_NAME = '${n.toUpperCase()}'
    `,o=await ot(t,i);if(o.length===0)throw new Error(`Synonym ${e}.${r}.${n} not found`);let a=o[0],l=ue(e),c=ue(a.OWNER||r),u=ue(n),E=a.REFOBJNAME,d=[];if(d.push(`CREATE SYNONYM ${l}.${c}.${u} FOR ${E};`),a.DESCRIPTION){let f=a.DESCRIPTION.replace(/'/g,"''");d.push(`COMMENT ON SYNONYM ${u} IS '${f}';`)}return d.join(`
`)}var $f=Ke(()=>{"use strict";Wn()});async function JR(t){let e=null,r=[],n=[],i=0,s=0,o=["TABLE","VIEW","PROCEDURE","EXTERNAL TABLE","SYNONYM"];try{let a=zR(t.connectionString);a.port||(a.port=5480);let l=Hr();e=new l(a),await e.connect();let c=t.database.toUpperCase(),u=t.schema?t.schema.toUpperCase():null,E=t.objectTypes?t.objectTypes.map(A=>A.toUpperCase()).filter(A=>o.includes(A)):o;E.length===0&&(E=o),n.push("-- ============================================"),n.push("-- Batch DDL Export"),n.push(`-- Database: ${c}`),u&&n.push(`-- Schema: ${u}`),n.push(`-- Object Types: ${E.join(", ")}`),n.push(`-- Generated: ${new Date().toISOString()}`),n.push("-- ============================================"),n.push("");let d=new Map,f=new Map,h=new Map,T=new Map,S=new Map,R=E.includes("TABLE"),N=E.includes("VIEW"),p=E.includes("EXTERNAL TABLE");if(R||N||p){let A=u?`AND D.SCHEMA = '${u}'`:"",O=`
                SELECT 
                    D.SCHEMA,
                    D.OBJNAME,
                    D.OBJTYPE,
                    X.ATTNAME,
                    X.DESCRIPTION,
                    X.FORMAT_TYPE AS FULL_TYPE,
                    X.ATTNOTNULL::BOOL AS ATTNOTNULL,
                    X.COLDEFAULT
                FROM ${c}.._V_RELATION_COLUMN X
                INNER JOIN ${c}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
                WHERE D.DBNAME = '${c}'
                    AND D.OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                    ${A}
                ORDER BY D.SCHEMA, D.OBJNAME, X.ATTNUM
            `;try{let b=await ot(e,O);for(let I of b){let D=`${I.SCHEMA}.${I.OBJNAME}`;d.has(D)||d.set(D,[]);let L=!1,P=I.ATTNOTNULL;if(typeof P=="boolean")L=P;else if(typeof P=="number")L=P!==0;else if(typeof P=="string"){let x=P.trim().toLowerCase();L=x==="t"||x==="true"||x==="1"}d.get(D).push({name:I.ATTNAME,description:I.DESCRIPTION||null,fullTypeName:I.FULL_TYPE,notNull:L,defaultValue:I.COLDEFAULT||null})}}catch(b){r.push(`Error bulk fetching columns: ${b.message}`)}}if(R){let A=u?`AND SCHEMA = '${u}'`:"",O=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_DIST_MAP
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, DISTSEQNO
            `;try{let b=await ot(e,O);for(let I of b){let D=`${I.SCHEMA}.${I.TABLENAME}`;f.has(D)||f.set(D,[]),f.get(D).push(I.ATTNAME)}}catch{}}if(R){let A=u?`AND SCHEMA = '${u}'`:"",O=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_ORGANIZE_COLUMN
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, ORGSEQNO
            `;try{let b=await ot(e,O);for(let I of b){let D=`${I.SCHEMA}.${I.TABLENAME}`;h.has(D)||h.set(D,[]),h.get(D).push(I.ATTNAME)}}catch{}}if(R){let A=u?`AND X.SCHEMA = '${u}'`:"",O=`
                SELECT 
                    X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONTYPE,
                    X.ATTNAME, X.PKDATABASE, X.PKSCHEMA, X.PKRELATION, X.PKATTNAME,
                    X.UPDT_TYPE, X.DEL_TYPE
                FROM ${c}.._V_RELATION_KEYDATA X
                WHERE X.OBJID NOT IN (4,5) ${A}
                ORDER BY X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONSEQ
            `;try{let b=await ot(e,O);for(let I of b){let D=`${I.SCHEMA}.${I.RELATION}`;T.has(D)||T.set(D,new Map);let L=T.get(D),P=I.CONSTRAINTNAME;if(!L.has(P)){let $={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};L.set(P,{type:$[I.CONTYPE]||"UNKNOWN",typeChar:I.CONTYPE,columns:[],pkDatabase:I.PKDATABASE||null,pkSchema:I.PKSCHEMA||null,pkRelation:I.PKRELATION||null,pkColumns:[],updateType:I.UPDT_TYPE||"NO ACTION",deleteType:I.DEL_TYPE||"NO ACTION"})}let x=L.get(P);x.columns.push(I.ATTNAME),I.PKATTNAME&&x.pkColumns.push(I.PKATTNAME)}}catch{}}if(R){let A=u?`AND SCHEMA = '${u}'`:"",O=`
                SELECT SCHEMA, OBJNAME, DESCRIPTION
                FROM ${c}.._V_OBJECT_DATA
                WHERE DBNAME = '${c}' AND OBJTYPE = 'TABLE' AND DESCRIPTION IS NOT NULL ${A}
            `;try{let b=await ot(e,O);for(let I of b)I.DESCRIPTION&&S.set(`${I.SCHEMA}.${I.OBJNAME}`,I.DESCRIPTION)}catch{}}for(let A of E){let O=[];try{if(A==="PROCEDURE"){let b=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA FROM ${c}.._V_PROCEDURE WHERE DATABASE = '${c}'`;u&&(b+=` AND SCHEMA = '${u}'`),b+=" ORDER BY SCHEMA, PROCEDURESIGNATURE",O=(await ot(e,b)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}else{let b=`SELECT OBJNAME, SCHEMA FROM ${c}.._V_OBJECT_DATA WHERE DBNAME = '${c}' AND OBJTYPE = '${A}'`;u&&(b+=` AND SCHEMA = '${u}'`),b+=" ORDER BY SCHEMA, OBJNAME",O=(await ot(e,b)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}}catch(b){r.push(`Error querying ${A}s: ${b.message}`);continue}if(O.length!==0){n.push("-- ----------------------------------------"),n.push(`-- ${A}S (${O.length})`),n.push("-- ----------------------------------------"),n.push("");for(let b of O)try{let I,D=`${b.schema}.${b.name}`;switch(A){case"TABLE":I=wa(c,b.schema,b.name,d.get(D)||[],f.get(D)||[],h.get(D)||[],T.get(D)||new Map,S.get(D)||null);break;case"VIEW":I=await so(e,c,b.schema,b.name);break;case"PROCEDURE":I=await oo(e,c,b.schema,b.name);break;case"EXTERNAL TABLE":I=await ao(e,c,b.schema,b.name);break;case"SYNONYM":I=await lo(e,c,b.schema,b.name);break;default:s++;continue}n.push(`-- ${A}: ${c}.${b.schema}.${b.name}`),n.push(I),n.push(""),i++}catch(I){r.push(`Error generating DDL for ${A} ${c}.${b.schema}.${b.name}: ${I.message}`),s++}}}return n.push("-- ============================================"),n.push("-- End of Batch DDL Export"),n.push(`-- Total objects: ${i}`),s>0&&n.push(`-- Skipped: ${s}`),r.length>0&&n.push(`-- Errors: ${r.length}`),n.push("-- ============================================"),{success:!0,ddlCode:n.join(`
`),objectCount:i,errors:r,skipped:s}}catch(a){return{success:!1,objectCount:0,errors:[`Batch DDL generation error: ${a.message||a}`],skipped:0}}finally{if(e)try{await e.close()}catch{}}}var Ay=Ke(()=>{"use strict";Wn();Gf();Hf();Wf();Yf();$f()});async function QR(t,e,r,n,i){let s=null;try{s=await py(t);let o=i.toUpperCase();return o==="TABLE"?{success:!0,ddlCode:await xc(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="VIEW"?{success:!0,ddlCode:await so(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="PROCEDURE"?{success:!0,ddlCode:await oo(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="EXTERNAL TABLE"?{success:!0,ddlCode:await ao(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="SYNONYM"?{success:!0,ddlCode:await lo(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:{success:!0,ddlCode:`-- DDL generation for ${i} not yet implemented
-- Object: ${e}.${r}.${n}
-- Type: ${i}
--
-- This feature can be extended to support:
-- - FUNCTION: Query _V_FUNCTION system table
-- - AGGREGATE: Query _V_AGGREGATE system table
`,objectInfo:{database:e,schema:r,objectName:n,objectType:i},note:`${i} DDL generation not yet implemented`}}catch(o){return{success:!1,error:`DDL generation error: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}var _y=Ke(()=>{"use strict";Wn();Gf();Hf();Wf();Yf();$f()});var Iy=Ke(()=>{"use strict";Sy();Wn();Ff();Gf();Hf();Wf();Yf();$f();Ay();_y()});var ZR={};Sr(ZR,{buildTableDDLFromCache:()=>wa,generateBatchDDL:()=>JR,generateDDL:()=>QR,generateExternalTableDDL:()=>ao,generateProcedureDDL:()=>oo,generateSynonymDDL:()=>lo,generateTableDDL:()=>xc,generateViewDDL:()=>so,getColumns:()=>On,getDistributionInfo:()=>mi,getKeysInfo:()=>Ci,getOrganizeInfo:()=>gi,getTableComment:()=>io,getTableOwner:()=>Mc,quoteNameIfNeeded:()=>ue});var vc=Ke(()=>{"use strict";Iy()});var Ny={};Sr(Ny,{generateRecreateTableScript:()=>q4});function k4(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function q4(t,e,r,n,i){let s=null;try{let o=k4(t);o.port||(o.port=5480);let a=Hr();s=new a(o),await s.connect();let l=await On(s,e,r,n);if(l.length===0)return{success:!1,error:`Table ${e}.${r}.${n} not found or has no columns`};let c=await mi(s,e,r,n),u=await gi(s,e,r,n),E=await Ci(s,e,r,n),d=await io(s,e,r,n),f=await Mc(s,e,r,n),h=ue(e),T=ue(r),S=ue(n),R=new Date().toISOString().replace(/[-:T.]/g,"").substring(0,14),N=Math.random().toString(36).substring(2,7).toUpperCase(),p=i||`${n}_${R}_NEW`,A=ue(p),O=`${n}_${R}_BACKUP_${N}`,b=ue(O),I=[];I.push(`-- Recreate Table Script for ${h}.${T}.${S}`),I.push(`-- Generated at ${new Date().toISOString()}`),I.push(""),I.push("-- 1. Create new table with desired structure"),I.push(`CREATE TABLE ${h}.${T}.${A}`),I.push("(");let D=[];for(let P of l){let $=`    ${ue(P.name)} ${P.fullTypeName}`;P.notNull&&($+=" NOT NULL"),P.defaultValue!==null&&($+=` DEFAULT ${P.defaultValue}`),D.push($)}if(I.push(D.join(`,
`)),c.length>0){let P=c.map(x=>ue(x));I.push(`)
DISTRIBUTE ON (${P.join(", ")})`)}else I.push(`)
DISTRIBUTE ON RANDOM`);if(u.length>0){let P=u.map(x=>ue(x));I.push(`ORGANIZE ON (${P.join(", ")})`)}if(I.push(";"),I.push(""),I.push("-- 2. Copy data from original table"),I.push(`INSERT INTO ${h}.${T}.${A} SELECT * FROM ${h}.${T}.${S};`),I.push(""),I.push("-- 3. Copy privileges from original table"),I.push(`ALTER TABLE ${h}.${T}.${A} SET PRIVILEGES TO ${h}.${T}.${S};`),I.push(""),I.push("-- 4. Swap tables: Rename Original to Backup, New to Original"),I.push(`ALTER TABLE ${h}.${T}.${S} RENAME TO ${b};`),I.push(`ALTER TABLE ${h}.${T}.${A} RENAME TO ${S};`),I.push(""),f&&(I.push("-- 5. Restore Owner"),I.push(`ALTER TABLE ${h}.${T}.${S} OWNER TO ${f};`),I.push("")),I.push("-- 6. Drop Backup Table (Optional - Comment out if you want to keep it)"),I.push(`DROP TABLE ${h}.${T}.${b};`),I.push(""),E.size>0){I.push("-- 7. Restore Constraints");for(let[P,x]of E){let $=ue(P),Y=x.columns.map(ee=>ue(ee)),V="";if(x.typeChar==="f"){let ee=x.pkColumns.filter(le=>le).map(le=>ue(le));ee.length>0&&(V=`ALTER TABLE ${h}.${T}.${S} ADD CONSTRAINT ${$} ${x.type} (${Y.join(", ")}) REFERENCES ${x.pkDatabase}.${x.pkSchema}.${x.pkRelation} (${ee.join(", ")}) ON DELETE ${x.deleteType} ON UPDATE ${x.updateType};`)}else(x.typeChar==="p"||x.typeChar==="u")&&(V=`ALTER TABLE ${h}.${T}.${S} ADD CONSTRAINT ${$} ${x.type} (${Y.join(", ")});`);V&&I.push(V)}I.push("")}if(d){let P=d.replace(/'/g,"''");I.push("-- 8. Restore Comments"),I.push(`COMMENT ON TABLE ${h}.${T}.${S} IS '${P}';`)}let L=[];for(let P of l)if(P.description){let x=ue(P.name),$=P.description.replace(/'/g,"''");L.push(`COMMENT ON COLUMN ${h}.${T}.${S}.${x} IS '${$}';`)}return L.length>0&&(d||I.push("-- 8. Restore Comments"),I.push(L.join(`
`)),I.push("")),I.push("-- 9. Generate Statistics"),I.push(`GENERATE EXPRESS STATISTICS ON ${h}.${T}.${S};`),{success:!0,sqlScript:I.join(`
`)}}catch(o){return{success:!1,error:`Error generating recreate script: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}var Oy=Ke(()=>{"use strict";vc()});var ep={};Sr(ep,{compareProcedures:()=>Q4,compareTableStructures:()=>z4});async function X4(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function yy(t){let e={},r=t.split(";");for(let n of r){let[i,s]=n.split("=");if(i&&s){let o=i.trim().toLowerCase();o==="server"||o==="host"?e.host=s.trim():o==="database"||o==="db"?e.database=s.trim():o==="user"||o==="uid"?e.user=s.trim():o==="password"||o==="pwd"?e.password=s.trim():o==="port"&&(e.port=parseInt(s.trim(),10))}}return e}async function gy(t,e,r,n){let i=await On(t,e,r,n),s=await Ci(t,e,r,n),o=await mi(t,e,r,n),a=await gi(t,e,r,n);return{database:e,schema:r,tableName:n,columns:i,keys:s,distribution:o,organization:a}}function K4(t,e){let r=[];return t.fullTypeName!==e.fullTypeName&&r.push(`Type: ${t.fullTypeName} \u2192 ${e.fullTypeName}`),t.notNull!==e.notNull&&r.push(`NOT NULL: ${t.notNull} \u2192 ${e.notNull}`),t.defaultValue!==e.defaultValue&&r.push(`Default: ${t.defaultValue||"NULL"} \u2192 ${e.defaultValue||"NULL"}`),r}function j4(t,e){let r=[];return t.type!==e.type&&r.push(`Type: ${t.type} \u2192 ${e.type}`),t.columns.join(",")!==e.columns.join(",")&&r.push(`Columns: (${t.columns.join(", ")}) \u2192 (${e.columns.join(", ")})`),t.typeChar==="f"&&e.typeChar==="f"&&t.pkRelation!==e.pkRelation&&r.push(`References: ${t.pkRelation} \u2192 ${e.pkRelation}`),r}async function z4(t,e,r,n,i,s,o){let a=null;try{let l=yy(t);l.port||(l.port=5480);let c=Hr();a=new c(l),await a.connect();let u=await gy(a,e,r,n),E=await gy(a,i,s,o),d=[],f=new Map(u.columns.map(O=>[O.name.toUpperCase(),O])),h=new Map(E.columns.map(O=>[O.name.toUpperCase(),O]));for(let[O,b]of f){let I=h.get(O);if(!I)d.push({name:b.name,status:"removed",sourceColumn:b});else{let D=K4(b,I);d.push({name:b.name,status:D.length>0?"modified":"unchanged",sourceColumn:b,targetColumn:I,changes:D})}}for(let[O,b]of h)f.has(O)||d.push({name:b.name,status:"added",targetColumn:b});let T=[],S=u.keys,R=E.keys;for(let[O,b]of S){let I=R.get(O);if(!I)T.push({name:O,status:"removed",sourceKey:b});else{let D=j4(b,I);T.push({name:O,status:D.length>0?"modified":"unchanged",sourceKey:b,targetKey:I,changes:D})}}for(let[O,b]of R)S.has(O)||T.push({name:O,status:"added",targetKey:b});let N=JSON.stringify(u.distribution)===JSON.stringify(E.distribution),p=JSON.stringify(u.organization)===JSON.stringify(E.organization),A={columnsAdded:d.filter(O=>O.status==="added").length,columnsRemoved:d.filter(O=>O.status==="removed").length,columnsModified:d.filter(O=>O.status==="modified").length,columnsUnchanged:d.filter(O=>O.status==="unchanged").length,keysAdded:T.filter(O=>O.status==="added").length,keysRemoved:T.filter(O=>O.status==="removed").length,keysModified:T.filter(O=>O.status==="modified").length};return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},columnDiffs:d,keyDiffs:T,distributionMatch:N,sourceDistribution:u.distribution,targetDistribution:E.distribution,organizationMatch:p,sourceOrganization:u.organization,targetOrganization:E.organization,summary:A}}finally{if(a)try{await a.close()}catch{}}}async function Cy(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
    `,s=await X4(t,i);if(s.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let o=s[0];return{database:e,schema:r,procedureName:o.PROCEDURE,procedureSignature:o.PROCEDURESIGNATURE,arguments:o.ARGUMENTS||null,returns:o.RETURNS,executeAsOwner:!!o.EXECUTEDASOWNER,source:o.PROCEDURESOURCE,description:o.DESCRIPTION||null}}function J4(t,e){let r=t.split(`
`).map(o=>o.trimEnd()),n=e.split(`
`).map(o=>o.trimEnd()),i=[],s=Math.max(r.length,n.length);for(let o=0;o<s;o++){let a=r[o]||"",l=n[o]||"";a===l?i.push(`  ${a}`):r[o]?n[o]?(i.push(`- ${a}`),i.push(`+ ${l}`)):i.push(`- ${a}`):i.push(`+ ${l}`)}return i}async function Q4(t,e,r,n,i,s,o){let a=null;try{let l=yy(t);l.port||(l.port=5480);let c=Hr();a=new c(l),await a.connect();let u=await Cy(a,e,r,n),E=await Cy(a,i,s,o),d=u.arguments===E.arguments,f=u.returns===E.returns,h=u.executeAsOwner===E.executeAsOwner,T=u.source.trim()===E.source.trim(),S=T?[]:J4(u.source,E.source);return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},argumentsMatch:d,sourceArguments:u.arguments,targetArguments:E.arguments,returnsMatch:f,sourceReturns:u.returns,targetReturns:E.returns,executeAsOwnerMatch:h,sourceExecuteAsOwner:u.executeAsOwner,targetExecuteAsOwner:E.executeAsOwner,sourceMatch:T,sourceCode:u.source,targetCode:E.source,sourceDiff:S}}finally{if(a)try{await a.close()}catch{}}}var tp=Ke(()=>{"use strict";vc()});var np={};Sr(np,{SchemaCompareView:()=>rp});var Es,rp,ip=Ke(()=>{"use strict";Es=oe(require("vscode")),rp=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.schemaCompare"}static createOrShow(e,r,n){let i=Es.window.activeTextEditor?Es.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._update(r,n);return}let s=Es.window.createWebviewPanel(t.viewType,"Schema Comparison",i||Es.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Es.Uri.joinPath(e,"media")]});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){r==="table"?(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getTableComparisonHtml(e)):(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getProcedureComparisonHtml(e))}_getStatusIcon(e){switch(e){case"added":return"\u{1F7E2}";case"removed":return"\u{1F534}";case"modified":return"\u{1F7E1}";case"unchanged":return"\u26AA"}}_getStatusClass(e){return`status-${e}`}_getTableComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.columnDiffs.map(l=>{let c=l.sourceColumn,u=l.targetColumn,E=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.fullTypeName||"-"}</td>
                    <td>${u?.fullTypeName||"-"}</td>
                    <td class="changes">${E}</td>
                </tr>
            `}).join(""),s=e.keyDiffs.map(l=>{let c=l.sourceKey,u=l.targetKey,E=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.type||"-"} (${c?.columns.join(", ")||"-"})</td>
                    <td>${u?.type||"-"} (${u?.columns.join(", ")||"-"})</td>
                    <td class="changes">${E}</td>
                </tr>
            `}).join(""),o=e.distributionMatch?"\u2705 Match":"\u274C Different",a=e.organizationMatch?"\u2705 Match":"\u274C Different";return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Schema Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Table Structure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="summary">
                        <h2>Summary</h2>
                        <div class="summary-grid">
                            <div class="summary-item added">\u{1F7E2} Added: ${e.summary.columnsAdded} columns, ${e.summary.keysAdded} keys</div>
                            <div class="summary-item removed">\u{1F534} Removed: ${e.summary.columnsRemoved} columns, ${e.summary.keysRemoved} keys</div>
                            <div class="summary-item modified">\u{1F7E1} Modified: ${e.summary.columnsModified} columns, ${e.summary.keysModified} keys</div>
                            <div class="summary-item unchanged">\u26AA Unchanged: ${e.summary.columnsUnchanged} columns</div>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Columns</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Column Name</th>
                                    <th>Source Type</th>
                                    <th>Target Type</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${i}
                            </tbody>
                        </table>
                    </div>

                    ${e.keyDiffs.length>0?`
                    <div class="section">
                        <h2>Keys & Constraints</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Key Name</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${s}
                            </tbody>
                        </table>
                    </div>
                    `:""}

                    <div class="section">
                        <h2>Distribution & Organization</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>DISTRIBUTE ON</strong></td>
                                    <td>${e.sourceDistribution.length>0?e.sourceDistribution.join(", "):"RANDOM"}</td>
                                    <td>${e.targetDistribution.length>0?e.targetDistribution.join(", "):"RANDOM"}</td>
                                    <td>${o}</td>
                                </tr>
                                <tr>
                                    <td><strong>ORGANIZE ON</strong></td>
                                    <td>${e.sourceOrganization.length>0?e.sourceOrganization.join(", "):"(none)"}</td>
                                    <td>${e.targetOrganization.length>0?e.targetOrganization.join(", "):"(none)"}</td>
                                    <td>${a}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </body>
            </html>
        `}_getProcedureComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.sourceDiff.map(s=>{let o="";return s.startsWith("+")?o="diff-added":s.startsWith("-")?o="diff-removed":o="diff-unchanged",`<div class="${o}">${this._escapeHtml(s)}</div>`}).join("");return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Procedure Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Procedure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Signature Comparison</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Match</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="${e.argumentsMatch?"":"status-modified"}">
                                    <td><strong>Arguments</strong></td>
                                    <td><code>${e.sourceArguments||"(none)"}</code></td>
                                    <td><code>${e.targetArguments||"(none)"}</code></td>
                                    <td>${e.argumentsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.returnsMatch?"":"status-modified"}">
                                    <td><strong>Returns</strong></td>
                                    <td><code>${e.sourceReturns}</code></td>
                                    <td><code>${e.targetReturns}</code></td>
                                    <td>${e.returnsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.executeAsOwnerMatch?"":"status-modified"}">
                                    <td><strong>Execute As</strong></td>
                                    <td>${e.sourceExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.targetExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.executeAsOwnerMatch?"\u2705":"\u274C"}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section">
                        <h2>Source Code ${e.sourceMatch?"\u2705 Identical":"\u274C Different"}</h2>
                        ${e.sourceMatch?`
                            <div class="code-block">
                                <pre>${this._escapeHtml(e.sourceCode)}</pre>
                            </div>
                        `:`
                            <div class="code-diff">
                                <pre>${i}</pre>
                            </div>
                        `}
                    </div>
                </div>
            </body>
            </html>
        `}_escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --added-bg: rgba(40, 167, 69, 0.2);
                --removed-bg: rgba(220, 53, 69, 0.2);
                --modified-bg: rgba(255, 193, 7, 0.2);
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .container {
                max-width: 1400px;
                margin: 0 auto;
            }

            h1 {
                border-bottom: 1px solid var(--border-color);
                padding-bottom: 10px;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.1em;
                margin-top: 25px;
                margin-bottom: 10px;
                color: var(--vscode-textLink-foreground);
            }

            .header-info {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 20px;
                padding: 15px;
                background-color: var(--header-bg);
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .header-info .label {
                font-weight: bold;
                margin-right: 8px;
            }

            .header-info .value {
                font-family: monospace;
                background-color: var(--vscode-textCodeBlock-background);
                padding: 4px 8px;
                border-radius: 4px;
            }

            .arrow {
                font-size: 1.5em;
                color: var(--vscode-charts-blue);
            }

            .summary {
                background-color: var(--header-bg);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .summary h2 {
                margin-top: 0;
            }

            .summary-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 10px;
            }

            .summary-item {
                padding: 8px;
                border-radius: 4px;
            }

            .summary-item.added { background-color: var(--added-bg); }
            .summary-item.removed { background-color: var(--removed-bg); }
            .summary-item.modified { background-color: var(--modified-bg); }

            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            tr.status-added {
                background-color: var(--added-bg);
            }

            tr.status-removed {
                background-color: var(--removed-bg);
            }

            tr.status-modified {
                background-color: var(--modified-bg);
            }

            .changes {
                font-size: 0.9em;
                color: var(--vscode-descriptionForeground);
            }

            .code-block, .code-diff {
                background-color: var(--vscode-textCodeBlock-background);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                padding: 15px;
                overflow-x: auto;
            }

            .code-block pre, .code-diff pre {
                margin: 0;
                font-family: var(--vscode-editor-font-family);
                font-size: var(--vscode-editor-font-size);
                white-space: pre;
            }

            .diff-added {
                background-color: var(--added-bg);
                color: #28a745;
            }

            .diff-removed {
                background-color: var(--removed-bg);
                color: #dc3545;
            }

            .diff-unchanged {
                color: var(--fg-color);
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var Dy={};Sr(Dy,{buildERDData:()=>Z4,getForeignKeysForSchema:()=>by,getTablesInSchema:()=>wy});async function by(t,e,r,n,i){let s=`
        SELECT 
            X.SCHEMA,
            X.RELATION AS FROM_TABLE,
            X.CONSTRAINTNAME,
            X.ATTNAME AS FROM_COLUMN,
            X.PKDATABASE,
            X.PKSCHEMA,
            X.PKRELATION AS TO_TABLE,
            X.PKATTNAME AS TO_COLUMN,
            X.UPDT_TYPE,
            X.DEL_TYPE,
            X.CONSEQ
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'f'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY
            X.CONSTRAINTNAME, X.CONSEQ
    `,o=new Map;try{let a=await q(t,s,!0,r,e);if(!a)return[];let l=JSON.parse(a);for(let c of l){let u=c.CONSTRAINTNAME,E=`${c.SCHEMA}.${c.FROM_TABLE}`,d=`${c.PKSCHEMA}.${c.TO_TABLE}`;o.has(u)||o.set(u,{constraintName:u,fromTable:E,toTable:d,fromColumns:[],toColumns:[],onDelete:c.DEL_TYPE||"NO ACTION",onUpdate:c.UPDT_TYPE||"NO ACTION"});let f=o.get(u);f.fromColumns.push(c.FROM_COLUMN),f.toColumns.push(c.TO_COLUMN)}}catch(a){console.warn("Cannot retrieve FK relationships:",a)}return Array.from(o.values())}async function wy(t,e,r,n,i){let s=`
        SELECT 
            T.TABLENAME,
            T.OWNER
        FROM 
            ${n.toUpperCase()}.._V_TABLE T
        WHERE 
            T.SCHEMA = '${i.toUpperCase()}'
        ORDER BY T.TABLENAME
    `,o=`
        SELECT 
            A.NAME AS TABLENAME,
            A.ATTNAME,
            A.FORMAT_TYPE
        FROM 
            ${n.toUpperCase()}.._V_RELATION_COLUMN A
        WHERE 
            A.SCHEMA = '${i.toUpperCase()}'
            AND A.TYPE = 'TABLE'
        ORDER BY A.NAME, A.ATTNUM
    `,a=`
        SELECT 
            X.RELATION,
            X.ATTNAME
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'p'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY X.RELATION, X.CONSEQ
    `,l=new Map;try{let c=await q(t,s,!0,r,e);if(c){let d=JSON.parse(c);for(let f of d){let h=f.TABLENAME;l.set(h,{database:n,schema:i,tableName:h,fullName:`${i}.${h}`,columns:[],primaryKeyColumns:[]})}}let u=await q(t,o,!0,r,e);if(u){let d=JSON.parse(u);for(let f of d){let h=l.get(f.TABLENAME);h&&h.columns.push({name:f.ATTNAME,dataType:f.FORMAT_TYPE,isPrimaryKey:!1,isForeignKey:!1})}}let E=await q(t,a,!0,r,e);if(E){let d=JSON.parse(E);for(let f of d){let h=l.get(f.RELATION);if(h){h.primaryKeyColumns.push(f.ATTNAME);let T=h.columns.find(S=>S.name===f.ATTNAME);T&&(T.isPrimaryKey=!0)}}}}catch(c){console.warn("Cannot retrieve table information:",c)}return Array.from(l.values())}async function Z4(t,e,r,n,i){let[s,o]=await Promise.all([wy(t,e,r,n,i),by(t,e,r,n,i)]);for(let c of o){let u=c.fromTable.split(".")[1],E=s.find(d=>d.tableName===u);if(E)for(let d of c.fromColumns){let f=E.columns.find(h=>h.name===d);f&&(f.isForeignKey=!0)}}let a=new Set;for(let c of o)a.add(c.fromTable.split(".")[1]),a.add(c.toTable.split(".")[1]);let l=s.filter(c=>a.has(c.tableName)||s.length<=20);return{database:n,schema:i,tables:l,relationships:o}}var Py=Ke(()=>{"use strict";Rr()});var My={};Sr(My,{ERDView:()=>sp});var fs,sp,xy=Ke(()=>{"use strict";fs=oe(require("vscode")),sp=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.erdView"}static createOrShow(e,r){let n=fs.window.activeTextEditor?fs.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n),t.currentPanel._update(r);return}let i=fs.window.createWebviewPanel(t.viewType,`ERD: ${r.database}.${r.schema}`,n||fs.ViewColumn.One,{enableScripts:!0,localResourceRoots:[fs.Uri.joinPath(e,"media")]});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){this._panel.title=`ERD: ${e.database}.${e.schema}`,this._panel.webview.html=this._getHtml(e)}_getHtml(e){let r=this._generateTableBoxes(e.tables,e.relationships),n=e.relationships.length,i=e.tables.length;return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Entity Relationship Diagram</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>Entity Relationship Diagram</h1>
                    <div class="header-info">
                        <span class="badge">${e.database}.${e.schema}</span>
                        <span class="stat">${i} tables</span>
                        <span class="stat">${n} relationships</span>
                    </div>
                </div>

                <div class="legend">
                    <span class="legend-item"><span class="pk-indicator">\u{1F511}</span> Primary Key</span>
                    <span class="legend-item"><span class="fk-indicator">\u{1F517}</span> Foreign Key</span>
                </div>

                ${n===0?`
                    <div class="no-relationships">
                        <p>\u26A0\uFE0F No foreign key relationships found in this schema.</p>
                        <p>Tables are displayed but no relationship lines can be drawn.</p>
                    </div>
                `:""}

                <div class="erd-container" id="erdContainer">
                    <div class="erd-canvas" id="erdCanvas">
                        ${r}
                        <svg class="relationships-svg" id="relationshipsSvg"></svg>
                    </div>
                </div>

                <div class="relationships-table">
                    <h2>Foreign Key Relationships</h2>
                    ${n>0?`
                        <table>
                            <thead>
                                <tr>
                                    <th>Constraint Name</th>
                                    <th>From Table</th>
                                    <th>Column(s)</th>
                                    <th>\u2192</th>
                                    <th>To Table</th>
                                    <th>Column(s)</th>
                                    <th>On Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${e.relationships.map(s=>`
                                    <tr>
                                        <td><code>${s.constraintName}</code></td>
                                        <td><strong>${s.fromTable}</strong></td>
                                        <td>${s.fromColumns.join(", ")}</td>
                                        <td>\u2192</td>
                                        <td><strong>${s.toTable}</strong></td>
                                        <td>${s.toColumns.join(", ")}</td>
                                        <td>${s.onDelete}</td>
                                    </tr>
                                `).join("")}
                            </tbody>
                        </table>
                    `:"<p>No foreign key relationships defined.</p>"}
                </div>

                <script>
                    ${this._getScript(e)}
                </script>
            </body>
            </html>
        `}_generateTableBoxes(e,r){return e.map((i,s)=>{let o=Math.floor(s/4),l=20+s%4*280,c=20+o*250,u=i.columns.slice(0,10).map(d=>{let f=[];d.isPrimaryKey&&f.push("\u{1F511}"),d.isForeignKey&&f.push("\u{1F517}");let h=f.length>0?`<span class="col-icons">${f.join("")}</span>`:"";return`
                    <div class="table-column ${d.isPrimaryKey?"pk":""} ${d.isForeignKey?"fk":""}" data-col="${d.name}">
                        ${h}
                        <span class="col-name">${d.name}</span>
                        <span class="col-type">${d.dataType}</span>
                    </div>
                `}).join(""),E=i.columns.length>10?`<div class="more-columns">... and ${i.columns.length-10} more</div>`:"";return`
                <div class="table-box" id="table-${i.tableName}" 
                     data-table="${i.fullName}"
                     style="left: ${l}px; top: ${c}px;">
                    <div class="table-header">${i.tableName}</div>
                    <div class="table-columns">
                        ${u}
                        ${E}
                    </div>
                </div>
            `}).join("")}_getScript(e){return`
            (function() {
                const relationships = ${JSON.stringify(e.relationships)};
                const canvas = document.getElementById('erdCanvas');
                const svg = document.getElementById('relationshipsSvg');
                
                function getTableBox(el) {
                    const left = parseInt(el.style.left) || 0;
                    const top = parseInt(el.style.top) || 0;
                    const width = el.offsetWidth;
                    const height = el.offsetHeight;
                    return {
                        left: left,
                        top: top,
                        right: left + width,
                        bottom: top + height,
                        centerX: left + width / 2,
                        centerY: top + height / 2
                    };
                }

                function getColumnPosition(tableEl, columnName) {
                    // Try to find exact column
                    let colEl = tableEl.querySelector('.table-column[data-col="' + columnName + '"]');
                    
                    // If not found (hidden by "more columns"), try to estimate or return center
                    if (!colEl) return null;

                    // Calculate position relative to the table box
                    const tableRect = tableEl.getBoundingClientRect();
                    const colRect = colEl.getBoundingClientRect();
                    const canvasRect = canvas.getBoundingClientRect();

                    // Relative Y from canvas top
                    // We can't just subtract rects if the canvas is scrolled, but here we want SVG coords (absolute in canvas)
                    // The table.style.top is relative to canvas.
                    // The column offset within table is colRect.top - tableRect.top
                    // So Y = table.style.top + (colRect.top - tableRect.top) + colHeight/2
                    
                    const relativeTop = colRect.top - tableRect.top;
                    const centerY = relativeTop + colRect.height / 2;
                    
                    // We need to account for table scroll position if any?
                    // getBoundingClientRect takes visual position, so it accounts for scroll.
                    
                    const tableStyleTop = parseInt(tableEl.style.top) || 0;
                    
                    return tableStyleTop + centerY;
                }
                
                function drawRelationships() {
                    svg.innerHTML = '';
                    
                    // Update SVG size
                    let maxX = 1200, maxY = 600;
                    document.querySelectorAll('.table-box').forEach(el => {
                        const box = getTableBox(el);
                        maxX = Math.max(maxX, box.right + 50);
                        maxY = Math.max(maxY, box.bottom + 50);
                    });
                    
                    svg.setAttribute('width', maxX);
                    svg.setAttribute('height', maxY);
                    svg.style.width = maxX + 'px';
                    svg.style.height = maxY + 'px';
                    
                    // Defs
                    const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                    const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
                    marker.setAttribute('id', 'arrowhead');
                    marker.setAttribute('markerWidth', '10');
                    marker.setAttribute('markerHeight', '7');
                    marker.setAttribute('refX', '10');
                    marker.setAttribute('refY', '3.5');
                    marker.setAttribute('orient', 'auto');
                    const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                    polygon.setAttribute('points', '0 0, 10 3.5, 0 7');
                    polygon.setAttribute('fill', '#3794ff');
                    marker.appendChild(polygon);
                    defs.appendChild(marker);
                    svg.appendChild(defs);
                    
                    relationships.forEach((rel, index) => {
                        const childTableName = rel.fromTable.split('.')[1];
                        const parentTableName = rel.toTable.split('.')[1];
                        
                        const childEl = document.getElementById('table-' + childTableName);
                        const parentEl = document.getElementById('table-' + parentTableName);
                        
                        if (!childEl || !parentEl) return;
                        
                        const childBox = getTableBox(childEl);
                        const parentBox = getTableBox(parentEl);
                        
                        // Determine L/R relationship
                        // If Parent is to the right of Child: Child Right -> Parent Left
                        const parentIsRight = parentBox.centerX > childBox.centerX;
                        
                        let fromX, fromY, toX, toY;
                        let fromControlX, toControlX;
                        
                        // Default Y to center if col not found
                        fromY = childBox.centerY;
                        toY = parentBox.centerY;
                        
                        // Try get specific column Y
                        const colY1 = getColumnPosition(childEl, rel.fromColumns[0]);
                        const colY2 = getColumnPosition(parentEl, rel.toColumns[0]);
                        
                        if (colY1 !== null) fromY = colY1;
                        if (colY2 !== null) toY = colY2;
                        
                        if (parentIsRight) {
                            fromX = childBox.right;
                            toX = parentBox.left;
                            fromControlX = fromX + 50;
                            toControlX = toX - 50;
                        } else {
                            fromX = childBox.left;
                            toX = parentBox.right;
                            fromControlX = fromX - 50;
                            toControlX = toX + 50;
                        }
                        
                        // Calculate Bezier curve
                        // M start C c1 c2 end
                        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                        
                        // Adjust constraints for multiple lines?
                        // Simple cubic bezier is best for side-to-side
                        const d = \`M \${fromX} \${fromY} C \${fromControlX} \${fromY}, \${toControlX} \${toY}, \${toX} \${toY}\`;
                        
                        path.setAttribute('d', d);
                        path.setAttribute('stroke', '#3794ff');
                        path.setAttribute('stroke-width', '2');
                        path.setAttribute('fill', 'none');
                        path.setAttribute('marker-end', 'url(#arrowhead)');
                        path.setAttribute('class', 'relationship-line');
                        
                        const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
                        title.textContent = rel.constraintName + ': ' + 
                            childTableName + '.' + rel.fromColumns.join(',') + ' -> ' + 
                            parentTableName + '.' + rel.toColumns.join(',');
                        path.appendChild(title);
                        
                        svg.appendChild(path);
                    });
                }
                
                // Dragging Logic
                let dragging = null;
                let dragStartX = 0, dragStartY = 0;
                let elemStartLeft = 0, elemStartTop = 0;
                
                document.querySelectorAll('.table-box').forEach(table => {
                    const header = table.querySelector('.table-header');
                    if (header) {
                        header.addEventListener('mousedown', function(e) {
                            e.preventDefault();
                            dragging = table;
                            dragStartX = e.pageX;
                            dragStartY = e.pageY;
                            elemStartLeft = parseInt(table.style.left) || 0;
                            elemStartTop = parseInt(table.style.top) || 0;
                            table.style.zIndex = '1000';
                            document.body.style.cursor = 'grabbing';
                        });
                    }
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (!dragging) return;
                    const dx = e.pageX - dragStartX;
                    const dy = e.pageY - dragStartY;
                    dragging.style.left = Math.max(0, elemStartLeft + dx) + 'px';
                    dragging.style.top = Math.max(0, elemStartTop + dy) + 'px';
                    drawRelationships();
                });
                
                document.addEventListener('mouseup', function() {
                    if (dragging) {
                        dragging.style.zIndex = '';
                        document.body.style.cursor = '';
                        dragging = null;
                    }
                });
                
                requestAnimationFrame(() => setTimeout(drawRelationships, 50));
                window.addEventListener('resize', drawRelationships);
            })();
        `}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --table-bg: var(--vscode-editorWidget-background);
                --pk-color: #f1c40f;
                --fk-color: #3498db;
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                padding-bottom: 10px;
                border-bottom: 1px solid var(--border-color);
            }

            .header h1 {
                margin: 0;
                font-size: 1.4em;
            }

            .header-info {
                display: flex;
                gap: 15px;
                align-items: center;
            }

            .badge {
                background-color: var(--vscode-badge-background);
                color: var(--vscode-badge-foreground);
                padding: 4px 10px;
                border-radius: 12px;
                font-size: 0.9em;
            }

            .stat {
                color: var(--vscode-descriptionForeground);
                font-size: 0.9em;
            }

            .legend {
                display: flex;
                gap: 20px;
                margin-bottom: 15px;
                font-size: 0.9em;
            }

            .legend-item {
                display: flex;
                align-items: center;
                gap: 5px;
            }

            .no-relationships {
                background-color: rgba(255, 193, 7, 0.2);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 15px;
            }

            .no-relationships p {
                margin: 5px 0;
            }

            .erd-container {
                background-color: var(--header-bg);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                overflow: auto;
                margin-bottom: 20px;
                min-height: 400px;
            }

            .erd-canvas {
                position: relative;
                min-width: 1200px;
                min-height: 600px;
            }

            .relationships-svg {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
            }

            .relationship-line {
                pointer-events: stroke;
            }

            .relationship-line:hover {
                stroke-width: 3;
            }

            .table-box {
                position: absolute;
                width: 250px;
                background-color: var(--table-bg);
                border: 2px solid var(--border-color);
                border-radius: 6px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            }

            .table-header {
                background-color: var(--vscode-textLink-foreground);
                color: white;
                padding: 8px 12px;
                font-weight: bold;
                cursor: move;
                font-size: 0.95em;
            }

            .table-columns {
                max-height: 200px;
                overflow-y: auto;
            }

            .table-column {
                display: flex;
                align-items: center;
                padding: 4px 10px;
                border-bottom: 1px solid var(--border-color);
                font-size: 0.85em;
                gap: 6px;
            }

            .table-column:last-child {
                border-bottom: none;
            }

            .table-column.pk {
                background-color: rgba(241, 196, 15, 0.1);
            }

            .table-column.fk {
                background-color: rgba(52, 152, 219, 0.1);
            }

            .col-icons {
                font-size: 0.8em;
            }

            .col-name {
                flex: 1;
                font-weight: 500;
            }

            .col-type {
                color: var(--vscode-descriptionForeground);
                font-size: 0.85em;
            }

            .more-columns {
                padding: 6px 10px;
                color: var(--vscode-descriptionForeground);
                font-style: italic;
                font-size: 0.85em;
            }

            .relationships-table {
                margin-top: 20px;
            }

            .relationships-table h2 {
                font-size: 1.1em;
                margin-bottom: 10px;
            }

            table {
                width: 100%;
                border-collapse: collapse;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var vy={};Sr(vy,{SessionMonitorView:()=>op});function ej(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Kr,op,Uy=Ke(()=>{"use strict";Kr=oe(require("vscode"));Rr();op=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._context=n,this._connectionManager=i,this._update(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(async s=>{switch(s.command){case"refresh":await this._fetchAndSendData();return;case"killSession":await this._killSession(s.sessionId);return;case"toggleAutoRefresh":this._toggleAutoRefresh(s.enabled);return}},null,this._disposables),this._fetchAndSendData()}static{this.viewType="netezza.sessionMonitor"}static createOrShow(e,r,n){let i=Kr.window.activeTextEditor?Kr.ViewColumn.Beside:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._fetchAndSendData();return}let s=Kr.window.createWebviewPanel(t.viewType,"Session Monitor",i||Kr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Kr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._refreshInterval&&clearInterval(this._refreshInterval),this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_toggleAutoRefresh(e){e?this._refreshInterval=setInterval(()=>{this._fetchAndSendData()},3e4):this._refreshInterval&&(clearInterval(this._refreshInterval),this._refreshInterval=void 0)}async _killSession(e){try{if(await Kr.window.showWarningMessage(`Are you sure you want to terminate session ${e}?`,{modal:!0},"Yes, Kill Session")!=="Yes, Kill Session")return;let n=`DROP SESSION ${e}`;await q(this._context,n,!0,void 0,this._connectionManager),Kr.window.showInformationMessage(`Session ${e} terminated successfully.`),await this._fetchAndSendData()}catch(r){Kr.window.showErrorMessage(`Failed to kill session: ${r.message}`)}}async _fetchAndSendData(){this._panel.webview.postMessage({command:"setLoading",loading:!0});try{let[e,r,n,i]=await Promise.all([this._fetchSessions(),this._fetchQueries(),this._fetchStorage(),this._fetchResources()]);this._panel.webview.postMessage({command:"updateData",data:{sessions:e,queries:r,storage:n,resources:i}})}catch(e){this._panel.webview.postMessage({command:"error",text:`Failed to fetch data: ${e.message}`})}finally{this._panel.webview.postMessage({command:"setLoading",loading:!1})}}async _fetchSessions(){let e=`
            SELECT ID, PID, USERNAME, DBNAME, TYPE, CONNTIME, STATUS, 
                   SUBSTR(COMMAND, 1, 200) AS COMMAND, PRIORITY, CID, IPADDR, CLIENT_OS_USERNAME
            FROM _V_SESSION
            ORDER BY CONNTIME DESC
        `;try{let r=await q(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching sessions:",r),[]}}async _fetchQueries(){let e=`
            SELECT QS_SESSIONID, QS_PLANID, QS_CLIENTID, QS_CLIIPADDR,
                   SUBSTR(QS_SQL, 1, 300) AS QS_SQL, 
                   QS_STATE, QS_TSUBMIT, QS_TSTART, 
                   QS_PRIORITY, QS_PRITXT, QS_ESTCOST, 
                   QS_ESTDISK, QS_ESTMEM, QS_SNIPPETS, QS_CURSNIPT,
                   QS_RESROWS, QS_RESBYTES
            FROM _V_QRYSTAT
            ORDER BY QS_TSTART DESC
            LIMIT 100
        `;try{let r=await q(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching queries:",r),[]}}async _fetchStorage(){let e=`
            SELECT O.DBNAME AS DATABASE, TS.SCHEMA, 
                   ROUND(SUM(TS.ALLOCATED_BYTES) / 1024.0 / 1024.0, 2) AS ALLOC_MB,
                   ROUND(SUM(TS.USED_BYTES) / 1024.0 / 1024.0, 2) AS USED_MB,
                   ROUND(SUM(TS.SKEW * TS.USED_BYTES) / NULLIF(SUM(TS.USED_BYTES), 0), 2) AS AVG_SKEW,
                   COUNT(*) AS TABLE_COUNT
            FROM _V_TABLE_STORAGE_STAT TS
            JOIN _V_OBJECT_DATA O ON TS.OBJID = O.OBJID
            GROUP BY O.DBNAME, TS.SCHEMA
            ORDER BY USED_MB DESC
        `;try{let r=await q(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching storage:",r),[]}}async _fetchResources(){let e=[],r=[],n=null;try{let i=await q(this._context,"SELECT * FROM _V_SCHED_GRA_EXT LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(e=JSON.parse(i))}catch(i){console.warn("_V_SCHED_GRA_EXT not available:",i)}try{let i=await q(this._context,"SELECT * FROM _V_SYSTEM_UTIL ORDER BY 1 DESC LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(r=JSON.parse(i))}catch(i){console.warn("_V_SYSTEM_UTIL not available:",i)}try{let i=await q(this._context,`SELECT 
                    ROUND(AVG(HOST_CPU) * 100, 1) AS AVG_HOST_CPU_PCT,
                    ROUND(AVG(SPU_CPU) * 100, 1) AS AVG_SPU_CPU_PCT,
                    ROUND(AVG(HOST_DISK) * 100, 1) AS AVG_DISK_PCT,
                    ROUND(AVG(HOST_MEMORY) * 100, 1) AS AVG_MEMORY_PCT,
                    ROUND(AVG(HOST_FABRIC) * 100, 1) AS AVG_FABRIC_PCT,
                    COUNT(*) AS SAMPLE_COUNT
                FROM _V_SYSTEM_UTIL`,!0,void 0,this._connectionManager);if(i&&!i.startsWith("Query executed")){let s=JSON.parse(i);n=s.length>0?s[0]:null}}catch(i){console.warn("_V_SYSTEM_UTIL summary not available:",i)}return{gra:e,systemUtil:r,sysUtilSummary:n}}_update(){let e=this._panel.webview;this._panel.title="Session Monitor",this._panel.webview.html=this._getHtmlForWebview(e)}_getHtmlForWebview(e){let r=e.asWebviewUri(Kr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.js")),n=e.asWebviewUri(Kr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.css")),i=ej();return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Session Monitor</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>\u{1F5A5}\uFE0F Session Monitor Dashboard</h2>
            <div class="header-actions">
                <label class="auto-refresh">
                    <input type="checkbox" id="autoRefresh"> Auto-refresh (30s)
                </label>
                <button id="refreshBtn" class="btn btn-primary">\u{1F504} Refresh</button>
            </div>
        </div>

        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <span>Loading data...</span>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="sessions">\u{1F4CB} Sessions</button>
            <button class="tab-btn" data-tab="queries">\u23F1\uFE0F Running Queries</button>
            <button class="tab-btn" data-tab="storage">\u{1F4BE} Storage</button>
            <button class="tab-btn" data-tab="resources">\u{1F4CA} Resources</button>
        </div>

        <div class="tab-content" id="sessions">
            <div class="section-header">
                <h3>Active Sessions</h3>
                <span class="count" id="sessionCount">0 sessions</span>
            </div>
            <div class="table-container">
                <table id="sessionsTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>PID</th>
                            <th>User</th>
                            <th>Database</th>
                            <th>Type</th>
                            <th>Connected</th>
                            <th>Status</th>
                            <th>IP</th>
                            <th>Command</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="queries">
            <div class="section-header">
                <h3>Running Queries</h3>
                <span class="count" id="queryCount">0 queries</span>
            </div>
            <div class="table-container">
                <table id="queriesTable">
                    <thead>
                        <tr>
                            <th>Session</th>
                            <th>Plan ID</th>
                            <th>State</th>
                            <th>Priority</th>
                            <th>Submitted</th>
                            <th>Started</th>
                            <th>Est. Cost</th>
                            <th>Rows</th>
                            <th>SQL</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="storage">
            <div class="section-header">
                <h3>Storage by Schema</h3>
                <span class="count" id="storageCount">0 schemas</span>
            </div>
            <div class="table-container">
                <table id="storageTable">
                    <thead>
                        <tr>
                            <th>Database</th>
                            <th>Schema</th>
                            <th>Allocated (MB)</th>
                            <th>Used (MB)</th>
                            <th>Usage %</th>
                            <th>Avg Skew</th>
                            <th>Tables</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="resources">
            <div class="section-header">
                <h3>Resource Utilization</h3>
            </div>
            <div class="resources-grid">
                <div class="resource-section">
                    <h4>GRA Scheduler</h4>
                    <div id="graTable" class="table-container small"></div>
                </div>
                <div class="resource-section">
                    <h4>System Utilization</h4>
                    <div id="sysUtilSummary"></div>
                    <div id="sysUtilTable" class="table-container small"></div>
                </div>
            </div>
        </div>
    </div>

    <script nonce="${i}" src="${r}"></script>
</body>
</html>`}}});var Hy=g((zbe,Gy)=>{var tj=typeof process=="object"&&process&&process.platform==="win32";Gy.exports=tj?{sep:"\\"}:{sep:"/"}});var ap=g((Jbe,Vy)=>{"use strict";Vy.exports=Yy;function Yy(t,e,r){t instanceof RegExp&&(t=Wy(t,r)),e instanceof RegExp&&(e=Wy(e,r));var n=$y(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Wy(t,e){var r=e.match(t);return r?r[0]:null}Yy.range=$y;function $y(t,e,r){var n,i,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(t,u+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}});var Qy=g((Qbe,Jy)=>{var ky=ap();Jy.exports=ij;var qy="\0SLASH"+Math.random()+"\0",Xy="\0OPEN"+Math.random()+"\0",cp="\0CLOSE"+Math.random()+"\0",Ky="\0COMMA"+Math.random()+"\0",jy="\0PERIOD"+Math.random()+"\0";function lp(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function rj(t){return t.split("\\\\").join(qy).split("\\{").join(Xy).split("\\}").join(cp).split("\\,").join(Ky).split("\\.").join(jy)}function nj(t){return t.split(qy).join("\\").split(Xy).join("{").split(cp).join("}").split(Ky).join(",").split(jy).join(".")}function zy(t){if(!t)return[""];var e=[],r=ky("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=zy(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function ij(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Uc(rj(t),!0).map(nj)):[]}function sj(t){return"{"+t+"}"}function oj(t){return/^-?0\d/.test(t)}function aj(t,e){return t<=e}function lj(t,e){return t>=e}function Uc(t,e){var r=[],n=ky("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Uc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,E=n.body.indexOf(",")>=0;if(!u&&!E)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+cp+n.post,Uc(t)):[t];var d;if(u)d=n.body.split(/\.\./);else if(d=zy(n.body),d.length===1&&(d=Uc(d[0],!1).map(sj),d.length===1))return s.map(function(P){return n.pre+d[0]+P});var f;if(u){var h=lp(d[0]),T=lp(d[1]),S=Math.max(d[0].length,d[1].length),R=d.length==3?Math.abs(lp(d[2])):1,N=aj,p=T<h;p&&(R*=-1,N=lj);var A=d.some(oj);f=[];for(var O=h;N(O,T);O+=R){var b;if(c)b=String.fromCharCode(O),b==="\\"&&(b="");else if(b=String(O),A){var I=S-b.length;if(I>0){var D=new Array(I+1).join("0");O<0?b="-"+D+b.slice(1):b=D+b}}f.push(b)}}else{f=[];for(var L=0;L<d.length;L++)f.push.apply(f,Uc(d[L],!1))}for(var L=0;L<f.length;L++)for(var o=0;o<s.length;o++){var a=i+f[L]+s[o];(!e||u||a)&&r.push(a)}}return r}});var iL=g((ewe,hp)=>{var zr=hp.exports=(t,e,r={})=>(kf(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Da(e,r).match(t));hp.exports=zr;var fp=Hy();zr.sep=fp.sep;var mn=Symbol("globstar **");zr.GLOBSTAR=mn;var cj=Qy(),Zy={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},dp="[^/]",up=dp+"*?",uj="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Ej="(?:(?!(?:\\/|^)\\.).)*?",rL=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),eL=rL("().*{}+?[]^$\\!"),fj=rL("[.("),tL=/\/+/;zr.filter=(t,e={})=>(r,n,i)=>zr(r,t,e);var ds=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};zr.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return zr;let e=zr,r=(n,i,s)=>e(n,i,ds(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,ds(t,s))}},r.Minimatch.defaults=n=>e.defaults(ds(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,ds(t,i)),r.defaults=n=>e.defaults(ds(t,n)),r.makeRe=(n,i)=>e.makeRe(n,ds(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,ds(t,i)),r.match=(n,i,s)=>e.match(n,i,ds(t,s)),r};zr.braceExpand=(t,e)=>nL(t,e);var nL=(t,e={})=>(kf(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:cj(t)),dj=1024*64,kf=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>dj)throw new TypeError("pattern is too long")},Ep=Symbol("subparse");zr.makeRe=(t,e)=>new Da(t,e||{}).makeRe();zr.match=(t,e,r={})=>{let n=new Da(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var hj=t=>t.replace(/\\(.)/g,"$1"),Tj=t=>t.replace(/\\([^-\]])/g,"$1"),Sj=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Rj=t=>t.replace(/[[\]\\]/g,"\\$&"),Da=class{constructor(e,r){kf(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(tL)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,l=r.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=r[o],u=e[s];if(this.debug(r,c,u),c===!1)return!1;if(c===mn){this.debug("GLOBSTAR",[r,c,u]);var E=s,d=o+1;if(d===l){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;E<a;){var f=e[E];if(this.debug(`
globstar while`,e,E,r,d,f),this.matchOne(e.slice(E),r.slice(d),n))return this.debug("globstar found match!",E,a,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,E,r,d);break}this.debug("globstar swallow a segment, and continue"),E++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,E,r,d),E===a))}var h;if(typeof c=="string"?(h=u===c,this.debug("string match",c,u,h)):(h=u.match(c),this.debug("pattern match",c,u,h)),!h)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return nL(this.pattern,this.options)}parse(e,r){kf(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return mn;if(e==="")return"";let i="",s=!1,o=!1,a=[],l=[],c,u=!1,E=-1,d=-1,f,h,T,S=e.charAt(0)===".",R=n.dot||S,N=()=>S?"":R?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=I=>I.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",A=()=>{if(c){switch(c){case"*":i+=up,s=!0;break;case"?":i+=dp,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let I=0,D;I<e.length&&(D=e.charAt(I));I++){if(this.debug("%s	%s %s %j",e,I,i,D),o){if(D==="/")return!1;eL[D]&&(i+="\\"),i+=D,o=!1;continue}switch(D){case"/":return!1;case"\\":if(u&&e.charAt(I+1)==="-"){i+=D;continue}A(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,I,i,D),u){this.debug("  in class"),D==="!"&&I===d+1&&(D="^"),i+=D;continue}this.debug("call clearStateChar %j",c),A(),c=D,n.noext&&A();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}let L={type:c,start:I-1,reStart:i.length,open:Zy[c].open,close:Zy[c].close};this.debug(this.pattern,"	",L),a.push(L),i+=L.open,L.start===0&&L.type!=="!"&&(S=!0,i+=p(e.slice(I+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let L=a[a.length-1];if(u||!L){i+="\\)";continue}a.pop(),A(),s=!0,h=L,i+=h.close,h.type==="!"&&l.push(Object.assign(h,{reEnd:i.length}));continue}case"|":{let L=a[a.length-1];if(u||!L){i+="\\|";continue}A(),i+="|",L.start===0&&L.type!=="!"&&(S=!0,i+=p(e.slice(I+1)));continue}case"[":if(A(),u){i+="\\"+D;continue}u=!0,d=I,E=i.length,i+=D;continue;case"]":if(I===d+1||!u){i+="\\"+D;continue}f=e.substring(d+1,I);try{RegExp("["+Rj(Tj(f))+"]"),i+=D}catch{i=i.substring(0,E)+"(?:$.)"}s=!0,u=!1;continue;default:A(),eL[D]&&!(D==="^"&&u)&&(i+="\\"),i+=D;break}}for(u&&(f=e.slice(d+1),T=this.parse(f,Ep),i=i.substring(0,E)+"\\["+T[0],s=s||T[1]),h=a.pop();h;h=a.pop()){let I;I=i.slice(h.reStart+h.open.length),this.debug("setting tail",i,h),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(L,P,x)=>(x||(x="\\"),P+P+x+"|")),this.debug(`tail=%j
   %s`,I,I,h,i);let D=h.type==="*"?up:h.type==="?"?dp:"\\"+h.type;s=!0,i=i.slice(0,h.reStart)+D+"\\("+I}A(),o&&(i+="\\\\");let O=fj[i.charAt(0)];for(let I=l.length-1;I>-1;I--){let D=l[I],L=i.slice(0,D.reStart),P=i.slice(D.reStart,D.reEnd-8),x=i.slice(D.reEnd),$=i.slice(D.reEnd-8,D.reEnd)+x,Y=L.split(")").length,V=L.split("(").length-Y,ee=x;for(let Z=0;Z<V;Z++)ee=ee.replace(/\)[+*?]?/,"");x=ee;let le=x===""&&r!==Ep?"(?:$|\\/)":"";i=L+P+x+le+$}if(i!==""&&s&&(i="(?=.)"+i),O&&(i=N()+i),r===Ep)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return hj(e);let b=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",b),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?up:r.dot?uj:Ej,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?Sj(a):a===mn?mn:a._src).reduce((a,l)=>(a[a.length-1]===mn&&l===mn||a.push(l),a),[]),o.forEach((a,l)=>{a!==mn||o[l-1]===mn||(l===0?o.length>1?o[l+1]="(?:\\/|"+n+"\\/)?"+o[l+1]:o[l]=n:l===o.length-1?o[l-1]+="(?:\\/|"+n+")?":(o[l-1]+="(?:\\/|\\/"+n+"\\/)"+o[l+1],o[l+1]=mn))}),o.filter(a=>a!==mn).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;fp.sep!=="/"&&(e=e.split(fp.sep).join("/")),e=e.split(tL),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],l=e;if(n.matchBase&&a.length===1&&(l=[s]),this.matchOne(l,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return zr.defaults(e).Minimatch}};zr.Minimatch=Da});var cL=g((twe,lL)=>{lL.exports=aL;var Sp=require("fs"),{EventEmitter:pj}=require("events"),{Minimatch:Tp}=iL(),{resolve:Aj}=require("path");function _j(t,e){return new Promise((r,n)=>{Sp.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function sL(t,e){return new Promise((r,n)=>{(e?Sp.stat:Sp.lstat)(t,(s,o)=>{if(s)switch(s.code){case"ENOENT":r(e?sL(t,!1):null);break;default:r(null);break}else r(o)})})}async function*oL(t,e,r,n,i,s){let o=await _j(e+t,s);for(let a of o){let l=a.name;l===void 0&&(l=a,n=!0);let c=t+"/"+l,u=c.slice(1),E=e+"/"+u,d=null;(n||r)&&(d=await sL(E,r)),!d&&a.name!==void 0&&(d=a),d===null&&(d={isDirectory:()=>!1}),d.isDirectory()?i(u)||(yield{relative:u,absolute:E,stats:d},yield*oL(c,e,r,n,i,!1)):yield{relative:u,absolute:E,stats:d}}}async function*Ij(t,e,r,n){yield*oL("",t,e,r,n,!0)}function Nj(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var qf=class extends pj{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=Nj(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new Tp(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new Tp(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new Tp(s,{dot:!0}))}this.iterator=Ij(Aj(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function aL(t,e,r){return new qf(t,e,r)}aL.ReaddirGlob=qf});var EL=g((Xf,uL)=>{(function(t,e){typeof Xf=="object"&&typeof uL<"u"?e(Xf):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(Xf,(function(t){"use strict";function e(C,...m){return(...y)=>C(...m,...y)}function r(C){return function(...m){var y=m.pop();return C.call(this,m,y)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,s=typeof process=="object"&&typeof process.nextTick=="function";function o(C){setTimeout(C,0)}function a(C){return(m,...y)=>C(()=>m(...y))}var l;n?l=queueMicrotask:i?l=setImmediate:s?l=process.nextTick:l=o;var c=a(l);function u(C){return f(C)?function(...m){let y=m.pop(),w=C.apply(this,m);return E(w,y)}:r(function(m,y){var w;try{w=C.apply(this,m)}catch(v){return y(v)}if(w&&typeof w.then=="function")return E(w,y);y(null,w)})}function E(C,m){return C.then(y=>{d(m,null,y)},y=>{d(m,y&&(y instanceof Error||y.message)?y:new Error(y))})}function d(C,m,y){try{C(m,y)}catch(w){c(v=>{throw v},w)}}function f(C){return C[Symbol.toStringTag]==="AsyncFunction"}function h(C){return C[Symbol.toStringTag]==="AsyncGenerator"}function T(C){return typeof C[Symbol.asyncIterator]=="function"}function S(C){if(typeof C!="function")throw new Error("expected a function");return f(C)?u(C):C}function R(C,m){if(m||(m=C.length),!m)throw new Error("arity is undefined");function y(...w){return typeof w[m-1]=="function"?C.apply(this,w):new Promise((v,U)=>{w[m-1]=(B,...F)=>{if(B)return U(B);v(F.length>1?F:F[0])},C.apply(this,w)})}return y}function N(C){return function(y,...w){return R(function(U){var B=this;return C(y,(F,W)=>{S(F).apply(B,w.concat(W))},U)})}}function p(C,m,y,w){m=m||[];var v=[],U=0,B=S(y);return C(m,(F,W,J)=>{var De=U++;B(F,(He,Me)=>{v[De]=Me,J(He)})},F=>{w(F,v)})}function A(C){return C&&typeof C.length=="number"&&C.length>=0&&C.length%1===0}let O={};function b(C){function m(...y){if(C!==null){var w=C;C=null,w.apply(this,y)}}return Object.assign(m,C),m}function I(C){return C[Symbol.iterator]&&C[Symbol.iterator]()}function D(C){var m=-1,y=C.length;return function(){return++m<y?{value:C[m],key:m}:null}}function L(C){var m=-1;return function(){var w=C.next();return w.done?null:(m++,{value:w.value,key:m})}}function P(C){var m=C?Object.keys(C):[],y=-1,w=m.length;return function v(){var U=m[++y];return U==="__proto__"?v():y<w?{value:C[U],key:U}:null}}function x(C){if(A(C))return D(C);var m=I(C);return m?L(m):P(C)}function $(C){return function(...m){if(C===null)throw new Error("Callback was already called.");var y=C;C=null,y.apply(this,m)}}function Y(C,m,y,w){let v=!1,U=!1,B=!1,F=0,W=0;function J(){F>=m||B||v||(B=!0,C.next().then(({value:Me,done:nn})=>{if(!(U||v)){if(B=!1,nn){v=!0,F<=0&&w(null);return}F++,y(Me,W,De),W++,J()}}).catch(He))}function De(Me,nn){if(F-=1,!U){if(Me)return He(Me);if(Me===!1){v=!0,U=!0;return}if(nn===O||v&&F<=0)return v=!0,w(null);J()}}function He(Me){U||(B=!1,v=!0,w(Me))}J()}var V=C=>(m,y,w)=>{if(w=b(w),C<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!m)return w(null);if(h(m))return Y(m,C,y,w);if(T(m))return Y(m[Symbol.asyncIterator](),C,y,w);var v=x(m),U=!1,B=!1,F=0,W=!1;function J(He,Me){if(!B)if(F-=1,He)U=!0,w(He);else if(He===!1)U=!0,B=!0;else{if(Me===O||U&&F<=0)return U=!0,w(null);W||De()}}function De(){for(W=!0;F<C&&!U;){var He=v();if(He===null){U=!0,F<=0&&w(null);return}F+=1,y(He.value,He.key,$(J))}W=!1}De()};function ee(C,m,y,w){return V(m)(C,S(y),w)}var le=R(ee,4);function Z(C,m,y){y=b(y);var w=0,v=0,{length:U}=C,B=!1;U===0&&y(null);function F(W,J){W===!1&&(B=!0),B!==!0&&(W?y(W):(++v===U||J===O)&&y(null))}for(;w<U;w++)m(C[w],w,$(F))}function ke(C,m,y){return le(C,1/0,m,y)}function Ae(C,m,y){var w=A(C)?Z:ke;return w(C,S(m),y)}var Tr=R(Ae,3);function Sc(C,m,y){return p(Tr,C,m,y)}var Gn=R(Sc,3),Hn=N(Gn);function aR(C,m,y){return le(C,1,m,y)}var Vr=R(aR,3);function lR(C,m,y){return p(Vr,C,m,y)}var Rc=R(lR,3),kE=N(Rc);let as=Symbol("promiseCallback");function Ia(){let C,m;function y(w,...v){if(w)return m(w);C(v.length>1?v:v[0])}return y[as]=new Promise((w,v)=>{C=w,m=v}),y}function cR(C,m,y){typeof m!="number"&&(y=m,m=null),y=b(y||Ia());var w=Object.keys(C).length;if(!w)return y(null);m||(m=w);var v={},U=0,B=!1,F=!1,W=Object.create(null),J=[],De=[],He={};Object.keys(C).forEach(j=>{var ie=C[j];if(!Array.isArray(ie)){Me(j,[ie]),De.push(j);return}var xe=ie.slice(0,ie.length-1),st=xe.length;if(st===0){Me(j,ie),De.push(j);return}He[j]=st,xe.forEach(Yt=>{if(!C[Yt])throw new Error("async.auto task `"+j+"` has a non-existent dependency `"+Yt+"` in "+xe.join(", "));Oa(Yt,()=>{st--,st===0&&Me(j,ie)})})}),We(),nn();function Me(j,ie){J.push(()=>Oc(j,ie))}function nn(){if(!B){if(J.length===0&&U===0)return y(null,v);for(;J.length&&U<m;){var j=J.shift();j()}}}function Oa(j,ie){var xe=W[j];xe||(xe=W[j]=[]),xe.push(ie)}function Ks(j){var ie=W[j]||[];ie.forEach(xe=>xe()),nn()}function Oc(j,ie){if(!F){var xe=$((Yt,...sn)=>{if(U--,Yt===!1){B=!0;return}if(sn.length<2&&([sn]=sn),Yt){var ma={};if(Object.keys(v).forEach(js=>{ma[js]=v[js]}),ma[j]=sn,F=!0,W=Object.create(null),B)return;y(Yt,ma)}else v[j]=sn,Ks(j)});U++;var st=S(ie[ie.length-1]);ie.length>1?st(v,xe):st(xe)}}function We(){for(var j,ie=0;De.length;)j=De.pop(),ie++,ne(j).forEach(xe=>{--He[xe]===0&&De.push(xe)});if(ie!==w)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function ne(j){var ie=[];return Object.keys(C).forEach(xe=>{let st=C[xe];Array.isArray(st)&&st.indexOf(j)>=0&&ie.push(xe)}),ie}return y[as]}var B3=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,F3=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,G3=/,/,H3=/(=.+)?(\s*)$/;function W3(C){let m="",y=0,w=C.indexOf("*/");for(;y<C.length;)if(C[y]==="/"&&C[y+1]==="/"){let v=C.indexOf(`
`,y);y=v===-1?C.length:v}else if(w!==-1&&C[y]==="/"&&C[y+1]==="*"){let v=C.indexOf("*/",y);v!==-1?(y=v+2,w=C.indexOf("*/",y)):(m+=C[y],y++)}else m+=C[y],y++;return m}function Y3(C){let m=W3(C.toString()),y=m.match(B3);if(y||(y=m.match(F3)),!y)throw new Error(`could not parse args in autoInject
Source:
`+m);let[,w]=y;return w.replace(/\s/g,"").split(G3).map(v=>v.replace(H3,"").trim())}function YC(C,m){var y={};return Object.keys(C).forEach(w=>{var v=C[w],U,B=f(v),F=!B&&v.length===1||B&&v.length===0;if(Array.isArray(v))U=[...v],v=U.pop(),y[w]=U.concat(U.length>0?W:v);else if(F)y[w]=v;else{if(U=Y3(v),v.length===0&&!B&&U.length===0)throw new Error("autoInject task functions require explicit parameters.");B||U.pop(),y[w]=U.concat(W)}function W(J,De){var He=U.map(Me=>J[Me]);He.push(De),S(v)(...He)}}),cR(y,m)}class $3{constructor(){this.head=this.tail=null,this.length=0}removeLink(m){return m.prev?m.prev.next=m.next:this.head=m.next,m.next?m.next.prev=m.prev:this.tail=m.prev,m.prev=m.next=null,this.length-=1,m}empty(){for(;this.head;)this.shift();return this}insertAfter(m,y){y.prev=m,y.next=m.next,m.next?m.next.prev=y:this.tail=y,m.next=y,this.length+=1}insertBefore(m,y){y.prev=m.prev,y.next=m,m.prev?m.prev.next=y:this.head=y,m.prev=y,this.length+=1}unshift(m){this.head?this.insertBefore(this.head,m):$C(this,m)}push(m){this.tail?this.insertAfter(this.tail,m):$C(this,m)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var m=this.head;m;)yield m.data,m=m.next}remove(m){for(var y=this.head;y;){var{next:w}=y;m(y)&&this.removeLink(y),y=w}return this}}function $C(C,m){C.length=1,C.head=C.tail=m}function uR(C,m,y){if(m==null)m=1;else if(m===0)throw new RangeError("Concurrency must not be zero");var w=S(C),v=0,U=[];let B={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function F(ne,j){B[ne].push(j)}function W(ne,j){let ie=(...xe)=>{J(ne,ie),j(...xe)};B[ne].push(ie)}function J(ne,j){if(!ne)return Object.keys(B).forEach(ie=>B[ie]=[]);if(!j)return B[ne]=[];B[ne]=B[ne].filter(ie=>ie!==j)}function De(ne,...j){B[ne].forEach(ie=>ie(...j))}var He=!1;function Me(ne,j,ie,xe){if(xe!=null&&typeof xe!="function")throw new Error("task callback must be a function");We.started=!0;var st,Yt;function sn(js,...mc){if(js)return ie?Yt(js):st();if(mc.length<=1)return st(mc[0]);st(mc)}var ma=We._createTaskItem(ne,ie?sn:xe||sn);if(j?We._tasks.unshift(ma):We._tasks.push(ma),He||(He=!0,c(()=>{He=!1,We.process()})),ie||!xe)return new Promise((js,mc)=>{st=js,Yt=mc})}function nn(ne){return function(j,...ie){v-=1;for(var xe=0,st=ne.length;xe<st;xe++){var Yt=ne[xe],sn=U.indexOf(Yt);sn===0?U.shift():sn>0&&U.splice(sn,1),Yt.callback(j,...ie),j!=null&&De("error",j,Yt.data)}v<=We.concurrency-We.buffer&&De("unsaturated"),We.idle()&&De("drain"),We.process()}}function Oa(ne){return ne.length===0&&We.idle()?(c(()=>De("drain")),!0):!1}let Ks=ne=>j=>{if(!j)return new Promise((ie,xe)=>{W(ne,(st,Yt)=>{if(st)return xe(st);ie(Yt)})});J(ne),F(ne,j)};var Oc=!1,We={_tasks:new $3,_createTaskItem(ne,j){return{data:ne,callback:j}},*[Symbol.iterator](){yield*We._tasks[Symbol.iterator]()},concurrency:m,payload:y,buffer:m/4,started:!1,paused:!1,push(ne,j){return Array.isArray(ne)?Oa(ne)?void 0:ne.map(ie=>Me(ie,!1,!1,j)):Me(ne,!1,!1,j)},pushAsync(ne,j){return Array.isArray(ne)?Oa(ne)?void 0:ne.map(ie=>Me(ie,!1,!0,j)):Me(ne,!1,!0,j)},kill(){J(),We._tasks.empty()},unshift(ne,j){return Array.isArray(ne)?Oa(ne)?void 0:ne.map(ie=>Me(ie,!0,!1,j)):Me(ne,!0,!1,j)},unshiftAsync(ne,j){return Array.isArray(ne)?Oa(ne)?void 0:ne.map(ie=>Me(ie,!0,!0,j)):Me(ne,!0,!0,j)},remove(ne){We._tasks.remove(ne)},process(){if(!Oc){for(Oc=!0;!We.paused&&v<We.concurrency&&We._tasks.length;){var ne=[],j=[],ie=We._tasks.length;We.payload&&(ie=Math.min(ie,We.payload));for(var xe=0;xe<ie;xe++){var st=We._tasks.shift();ne.push(st),U.push(st),j.push(st.data)}v+=1,We._tasks.length===0&&De("empty"),v===We.concurrency&&De("saturated");var Yt=$(nn(ne));w(j,Yt)}Oc=!1}},length(){return We._tasks.length},running(){return v},workersList(){return U},idle(){return We._tasks.length+v===0},pause(){We.paused=!0},resume(){We.paused!==!1&&(We.paused=!1,c(We.process))}};return Object.defineProperties(We,{saturated:{writable:!1,value:Ks("saturated")},unsaturated:{writable:!1,value:Ks("unsaturated")},empty:{writable:!1,value:Ks("empty")},drain:{writable:!1,value:Ks("drain")},error:{writable:!1,value:Ks("error")}}),We}function VC(C,m){return uR(C,1,m)}function kC(C,m,y){return uR(C,m,y)}function V3(C,m,y,w){w=b(w);var v=S(y);return Vr(C,(U,B,F)=>{v(m,U,(W,J)=>{m=J,F(W)})},U=>w(U,m))}var ls=R(V3,4);function ER(...C){var m=C.map(S);return function(...y){var w=this,v=y[y.length-1];return typeof v=="function"?y.pop():v=Ia(),ls(m,y,(U,B,F)=>{B.apply(w,U.concat((W,...J)=>{F(W,J)}))},(U,B)=>v(U,...B)),v[as]}}function qC(...C){return ER(...C.reverse())}function k3(C,m,y,w){return p(V(m),C,y,w)}var pc=R(k3,4);function q3(C,m,y,w){var v=S(y);return pc(C,m,(U,B)=>{v(U,(F,...W)=>F?B(F):B(F,W))},(U,B)=>{for(var F=[],W=0;W<B.length;W++)B[W]&&(F=F.concat(...B[W]));return w(U,F)})}var Na=R(q3,4);function X3(C,m,y){return Na(C,1/0,m,y)}var qE=R(X3,3);function K3(C,m,y){return Na(C,1,m,y)}var XE=R(K3,3);function XC(...C){return function(...m){var y=m.pop();return y(null,...C)}}function Oi(C,m){return(y,w,v,U)=>{var B=!1,F;let W=S(v);y(w,(J,De,He)=>{W(J,(Me,nn)=>{if(Me||Me===!1)return He(Me);if(C(nn)&&!F)return B=!0,F=m(!0,J),He(null,O);He()})},J=>{if(J)return U(J);U(null,B?F:m(!1))})}}function j3(C,m,y){return Oi(w=>w,(w,v)=>v)(Tr,C,m,y)}var KE=R(j3,3);function z3(C,m,y,w){return Oi(v=>v,(v,U)=>U)(V(m),C,y,w)}var jE=R(z3,4);function J3(C,m,y){return Oi(w=>w,(w,v)=>v)(V(1),C,m,y)}var zE=R(J3,3);function KC(C){return(m,...y)=>S(m)(...y,(w,...v)=>{typeof console=="object"&&(w?console.error&&console.error(w):console[C]&&v.forEach(U=>console[C](U)))})}var jC=KC("dir");function Q3(C,m,y){y=$(y);var w=S(C),v=S(m),U;function B(W,...J){if(W)return y(W);W!==!1&&(U=J,v(...J,F))}function F(W,J){if(W)return y(W);if(W!==!1){if(!J)return y(null,...U);w(B)}}return F(null,!0)}var Ac=R(Q3,3);function zC(C,m,y){let w=S(m);return Ac(C,(...v)=>{let U=v.pop();w(...v,(B,F)=>U(B,!F))},y)}function JC(C){return(m,y,w)=>C(m,w)}function Z3(C,m,y){return Tr(C,JC(S(m)),y)}var JE=R(Z3,3);function eK(C,m,y,w){return V(m)(C,JC(S(y)),w)}var _c=R(eK,4);function tK(C,m,y){return _c(C,1,m,y)}var Ic=R(tK,3);function fR(C){return f(C)?C:function(...m){var y=m.pop(),w=!0;m.push((...v)=>{w?c(()=>y(...v)):y(...v)}),C.apply(this,m),w=!1}}function rK(C,m,y){return Oi(w=>!w,w=>!w)(Tr,C,m,y)}var QE=R(rK,3);function nK(C,m,y,w){return Oi(v=>!v,v=>!v)(V(m),C,y,w)}var ZE=R(nK,4);function iK(C,m,y){return Oi(w=>!w,w=>!w)(Vr,C,m,y)}var ef=R(iK,3);function sK(C,m,y,w){var v=new Array(m.length);C(m,(U,B,F)=>{y(U,(W,J)=>{v[B]=!!J,F(W)})},U=>{if(U)return w(U);for(var B=[],F=0;F<m.length;F++)v[F]&&B.push(m[F]);w(null,B)})}function oK(C,m,y,w){var v=[];C(m,(U,B,F)=>{y(U,(W,J)=>{if(W)return F(W);J&&v.push({index:B,value:U}),F(W)})},U=>{if(U)return w(U);w(null,v.sort((B,F)=>B.index-F.index).map(B=>B.value))})}function tf(C,m,y,w){var v=A(m)?sK:oK;return v(C,m,S(y),w)}function aK(C,m,y){return tf(Tr,C,m,y)}var rf=R(aK,3);function lK(C,m,y,w){return tf(V(m),C,y,w)}var nf=R(lK,4);function cK(C,m,y){return tf(Vr,C,m,y)}var sf=R(cK,3);function uK(C,m){var y=$(m),w=S(fR(C));function v(U){if(U)return y(U);U!==!1&&w(v)}return v()}var QC=R(uK,2);function EK(C,m,y,w){var v=S(y);return pc(C,m,(U,B)=>{v(U,(F,W)=>F?B(F):B(F,{key:W,val:U}))},(U,B)=>{for(var F={},{hasOwnProperty:W}=Object.prototype,J=0;J<B.length;J++)if(B[J]){var{key:De}=B[J],{val:He}=B[J];W.call(F,De)?F[De].push(He):F[De]=[He]}return w(U,F)})}var of=R(EK,4);function ZC(C,m,y){return of(C,1/0,m,y)}function e0(C,m,y){return of(C,1,m,y)}var t0=KC("log");function fK(C,m,y,w){w=b(w);var v={},U=S(y);return V(m)(C,(B,F,W)=>{U(B,F,(J,De)=>{if(J)return W(J);v[F]=De,W(J)})},B=>w(B,v))}var af=R(fK,4);function r0(C,m,y){return af(C,1/0,m,y)}function n0(C,m,y){return af(C,1,m,y)}function i0(C,m=y=>y){var y=Object.create(null),w=Object.create(null),v=S(C),U=r((B,F)=>{var W=m(...B);W in y?c(()=>F(null,...y[W])):W in w?w[W].push(F):(w[W]=[F],v(...B,(J,...De)=>{J||(y[W]=De);var He=w[W];delete w[W];for(var Me=0,nn=He.length;Me<nn;Me++)He[Me](J,...De)}))});return U.memo=y,U.unmemoized=C,U}var lf;s?lf=process.nextTick:i?lf=setImmediate:lf=o;var s0=a(lf),dR=R((C,m,y)=>{var w=A(m)?[]:{};C(m,(v,U,B)=>{S(v)((F,...W)=>{W.length<2&&([W]=W),w[U]=W,B(F)})},v=>y(v,w))},3);function o0(C,m){return dR(Tr,C,m)}function a0(C,m,y){return dR(V(m),C,y)}function hR(C,m){var y=S(C);return uR((w,v)=>{y(w[0],v)},m,1)}class dK{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(m){let y;for(;m>0&&TR(this.heap[m],this.heap[y=l0(m)]);){let w=this.heap[m];this.heap[m]=this.heap[y],this.heap[y]=w,m=y}}percDown(m){let y;for(;(y=hK(m))<this.heap.length&&(y+1<this.heap.length&&TR(this.heap[y+1],this.heap[y])&&(y=y+1),!TR(this.heap[m],this.heap[y]));){let w=this.heap[m];this.heap[m]=this.heap[y],this.heap[y]=w,m=y}}push(m){m.pushCount=++this.pushCount,this.heap.push(m),this.percUp(this.heap.length-1)}unshift(m){return this.heap.push(m)}shift(){let[m]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),m}toArray(){return[...this]}*[Symbol.iterator](){for(let m=0;m<this.heap.length;m++)yield this.heap[m].data}remove(m){let y=0;for(let w=0;w<this.heap.length;w++)m(this.heap[w])||(this.heap[y]=this.heap[w],y++);this.heap.splice(y);for(let w=l0(this.heap.length-1);w>=0;w--)this.percDown(w);return this}}function hK(C){return(C<<1)+1}function l0(C){return(C+1>>1)-1}function TR(C,m){return C.priority!==m.priority?C.priority<m.priority:C.pushCount<m.pushCount}function c0(C,m){var y=hR(C,m),{push:w,pushAsync:v}=y;y._tasks=new dK,y._createTaskItem=({data:B,priority:F},W)=>({data:B,priority:F,callback:W});function U(B,F){return Array.isArray(B)?B.map(W=>({data:W,priority:F})):{data:B,priority:F}}return y.push=function(B,F=0,W){return w(U(B,F),W)},y.pushAsync=function(B,F=0,W){return v(U(B,F),W)},delete y.unshift,delete y.unshiftAsync,y}function TK(C,m){if(m=b(m),!Array.isArray(C))return m(new TypeError("First argument to race must be an array of functions"));if(!C.length)return m();for(var y=0,w=C.length;y<w;y++)S(C[y])(m)}var u0=R(TK,2);function cf(C,m,y,w){var v=[...C].reverse();return ls(v,m,y,w)}function uf(C){var m=S(C);return r(function(w,v){return w.push((U,...B)=>{let F={};if(U&&(F.error=U),B.length>0){var W=B;B.length<=1&&([W]=B),F.value=W}v(null,F)}),m.apply(this,w)})}function E0(C){var m;return Array.isArray(C)?m=C.map(uf):(m={},Object.keys(C).forEach(y=>{m[y]=uf.call(this,C[y])})),m}function SR(C,m,y,w){let v=S(y);return tf(C,m,(U,B)=>{v(U,(F,W)=>{B(F,!W)})},w)}function SK(C,m,y){return SR(Tr,C,m,y)}var f0=R(SK,3);function RK(C,m,y,w){return SR(V(m),C,y,w)}var d0=R(RK,4);function pK(C,m,y){return SR(Vr,C,m,y)}var h0=R(pK,3);function T0(C){return function(){return C}}let RR=5,S0=0;function Ef(C,m,y){var w={times:RR,intervalFunc:T0(S0)};if(arguments.length<3&&typeof C=="function"?(y=m||Ia(),m=C):(AK(w,C),y=y||Ia()),typeof m!="function")throw new Error("Invalid arguments for async.retry");var v=S(m),U=1;function B(){v((F,...W)=>{F!==!1&&(F&&U++<w.times&&(typeof w.errorFilter!="function"||w.errorFilter(F))?setTimeout(B,w.intervalFunc(U-1)):y(F,...W))})}return B(),y[as]}function AK(C,m){if(typeof m=="object")C.times=+m.times||RR,C.intervalFunc=typeof m.interval=="function"?m.interval:T0(+m.interval||S0),C.errorFilter=m.errorFilter;else if(typeof m=="number"||typeof m=="string")C.times=+m||RR;else throw new Error("Invalid arguments for async.retry")}function R0(C,m){m||(m=C,C=null);let y=C&&C.arity||m.length;f(m)&&(y+=1);var w=S(m);return r((v,U)=>{(v.length<y-1||U==null)&&(v.push(U),U=Ia());function B(F){w(...v,F)}return C?Ef(C,B,U):Ef(B,U),U[as]})}function p0(C,m){return dR(Vr,C,m)}function _K(C,m,y){return Oi(Boolean,w=>w)(Tr,C,m,y)}var ff=R(_K,3);function IK(C,m,y,w){return Oi(Boolean,v=>v)(V(m),C,y,w)}var df=R(IK,4);function NK(C,m,y){return Oi(Boolean,w=>w)(Vr,C,m,y)}var hf=R(NK,3);function OK(C,m,y){var w=S(m);return Gn(C,(U,B)=>{w(U,(F,W)=>{if(F)return B(F);B(F,{value:U,criteria:W})})},(U,B)=>{if(U)return y(U);y(null,B.sort(v).map(F=>F.value))});function v(U,B){var F=U.criteria,W=B.criteria;return F<W?-1:F>W?1:0}}var A0=R(OK,3);function _0(C,m,y){var w=S(C);return r((v,U)=>{var B=!1,F;function W(){var J=C.name||"anonymous",De=new Error('Callback function "'+J+'" timed out.');De.code="ETIMEDOUT",y&&(De.info=y),B=!0,U(De)}v.push((...J)=>{B||(U(...J),clearTimeout(F))}),F=setTimeout(W,m),w(...v)})}function mK(C){for(var m=Array(C);C--;)m[C]=C;return m}function Tf(C,m,y,w){var v=S(y);return pc(mK(C),m,v,w)}function I0(C,m,y){return Tf(C,1/0,m,y)}function N0(C,m,y){return Tf(C,1,m,y)}function O0(C,m,y,w){arguments.length<=3&&typeof m=="function"&&(w=y,y=m,m=Array.isArray(C)?[]:{}),w=b(w||Ia());var v=S(y);return Tr(C,(U,B,F)=>{v(m,U,B,F)},U=>w(U,m)),w[as]}function gK(C,m){var y=null,w;return Ic(C,(v,U)=>{S(v)((B,...F)=>{if(B===!1)return U(B);F.length<2?[w]=F:w=F,y=B,U(B?null:{})})},()=>m(y,w))}var m0=R(gK);function g0(C){return(...m)=>(C.unmemoized||C)(...m)}function CK(C,m,y){y=$(y);var w=S(m),v=S(C),U=[];function B(W,...J){if(W)return y(W);U=J,W!==!1&&v(F)}function F(W,J){if(W)return y(W);if(W!==!1){if(!J)return y(null,...U);w(B)}}return v(F)}var Nc=R(CK,3);function C0(C,m,y){let w=S(C);return Nc(v=>w((U,B)=>v(U,!B)),m,y)}function yK(C,m){if(m=b(m),!Array.isArray(C))return m(new Error("First argument to waterfall must be an array of functions"));if(!C.length)return m();var y=0;function w(U){var B=S(C[y++]);B(...U,$(v))}function v(U,...B){if(U!==!1){if(U||y===C.length)return m(U,...B);w(B)}}w([])}var y0=R(yK),LK={apply:e,applyEach:Hn,applyEachSeries:kE,asyncify:u,auto:cR,autoInject:YC,cargo:VC,cargoQueue:kC,compose:qC,concat:qE,concatLimit:Na,concatSeries:XE,constant:XC,detect:KE,detectLimit:jE,detectSeries:zE,dir:jC,doUntil:zC,doWhilst:Ac,each:JE,eachLimit:_c,eachOf:Tr,eachOfLimit:le,eachOfSeries:Vr,eachSeries:Ic,ensureAsync:fR,every:QE,everyLimit:ZE,everySeries:ef,filter:rf,filterLimit:nf,filterSeries:sf,forever:QC,groupBy:ZC,groupByLimit:of,groupBySeries:e0,log:t0,map:Gn,mapLimit:pc,mapSeries:Rc,mapValues:r0,mapValuesLimit:af,mapValuesSeries:n0,memoize:i0,nextTick:s0,parallel:o0,parallelLimit:a0,priorityQueue:c0,queue:hR,race:u0,reduce:ls,reduceRight:cf,reflect:uf,reflectAll:E0,reject:f0,rejectLimit:d0,rejectSeries:h0,retry:Ef,retryable:R0,seq:ER,series:p0,setImmediate:c,some:ff,someLimit:df,someSeries:hf,sortBy:A0,timeout:_0,times:I0,timesLimit:Tf,timesSeries:N0,transform:O0,tryEach:m0,unmemoize:g0,until:C0,waterfall:y0,whilst:Nc,all:QE,allLimit:ZE,allSeries:ef,any:ff,anyLimit:df,anySeries:hf,find:KE,findLimit:jE,findSeries:zE,flatMap:qE,flatMapLimit:Na,flatMapSeries:XE,forEach:JE,forEachSeries:Ic,forEachLimit:_c,forEachOf:Tr,forEachOfSeries:Vr,forEachOfLimit:le,inject:ls,foldl:ls,foldr:cf,select:rf,selectLimit:nf,selectSeries:sf,wrapSync:u,during:Nc,doDuring:Ac};t.all=QE,t.allLimit=ZE,t.allSeries=ef,t.any=ff,t.anyLimit=df,t.anySeries=hf,t.apply=e,t.applyEach=Hn,t.applyEachSeries=kE,t.asyncify=u,t.auto=cR,t.autoInject=YC,t.cargo=VC,t.cargoQueue=kC,t.compose=qC,t.concat=qE,t.concatLimit=Na,t.concatSeries=XE,t.constant=XC,t.default=LK,t.detect=KE,t.detectLimit=jE,t.detectSeries=zE,t.dir=jC,t.doDuring=Ac,t.doUntil=zC,t.doWhilst=Ac,t.during=Nc,t.each=JE,t.eachLimit=_c,t.eachOf=Tr,t.eachOfLimit=le,t.eachOfSeries=Vr,t.eachSeries=Ic,t.ensureAsync=fR,t.every=QE,t.everyLimit=ZE,t.everySeries=ef,t.filter=rf,t.filterLimit=nf,t.filterSeries=sf,t.find=KE,t.findLimit=jE,t.findSeries=zE,t.flatMap=qE,t.flatMapLimit=Na,t.flatMapSeries=XE,t.foldl=ls,t.foldr=cf,t.forEach=JE,t.forEachLimit=_c,t.forEachOf=Tr,t.forEachOfLimit=le,t.forEachOfSeries=Vr,t.forEachSeries=Ic,t.forever=QC,t.groupBy=ZC,t.groupByLimit=of,t.groupBySeries=e0,t.inject=ls,t.log=t0,t.map=Gn,t.mapLimit=pc,t.mapSeries=Rc,t.mapValues=r0,t.mapValuesLimit=af,t.mapValuesSeries=n0,t.memoize=i0,t.nextTick=s0,t.parallel=o0,t.parallelLimit=a0,t.priorityQueue=c0,t.queue=hR,t.race=u0,t.reduce=ls,t.reduceRight=cf,t.reflect=uf,t.reflectAll=E0,t.reject=f0,t.rejectLimit=d0,t.rejectSeries=h0,t.retry=Ef,t.retryable=R0,t.select=rf,t.selectLimit=nf,t.selectSeries=sf,t.seq=ER,t.series=p0,t.setImmediate=c,t.some=ff,t.someLimit=df,t.someSeries=hf,t.sortBy=A0,t.timeout=_0,t.times=I0,t.timesLimit=Tf,t.timesSeries=N0,t.transform=O0,t.tryEach=m0,t.unmemoize=g0,t.until=C0,t.waterfall=y0,t.whilst=Nc,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})}))});var dL=g((rwe,fL)=>{var hs=require("constants"),Oj=process.cwd,Kf=null,mj=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Kf||(Kf=Oj.call(process)),Kf};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Rp=process.chdir,process.chdir=function(t){Kf=null,Rp.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Rp));var Rp;fL.exports=gj;function gj(t){hs.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,E,d){d&&process.nextTick(d)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,E,d,f){f&&process.nextTick(f)},t.lchownSync=function(){}),mj==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:(function(u){function E(d,f,h){var T=Date.now(),S=0;u(d,f,function R(N){if(N&&(N.code==="EACCES"||N.code==="EPERM"||N.code==="EBUSY")&&Date.now()-T<6e4){setTimeout(function(){t.stat(f,function(p,A){p&&p.code==="ENOENT"?u(d,f,R):h(N)})},S),S<100&&(S+=10);return}h&&h(N)})}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E})(t.rename)),t.read=typeof t.read!="function"?t.read:(function(u){function E(d,f,h,T,S,R){var N;if(R&&typeof R=="function"){var p=0;N=function(A,O,b){if(A&&A.code==="EAGAIN"&&p<10)return p++,u.call(t,d,f,h,T,S,N);R.apply(this,arguments)}}return u.call(t,d,f,h,T,S,N)}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E})(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:(function(u){return function(E,d,f,h,T){for(var S=0;;)try{return u.call(t,E,d,f,h,T)}catch(R){if(R.code==="EAGAIN"&&S<10){S++;continue}throw R}}})(t.readSync);function e(u){u.lchmod=function(E,d,f){u.open(E,hs.O_WRONLY|hs.O_SYMLINK,d,function(h,T){if(h){f&&f(h);return}u.fchmod(T,d,function(S){u.close(T,function(R){f&&f(S||R)})})})},u.lchmodSync=function(E,d){var f=u.openSync(E,hs.O_WRONLY|hs.O_SYMLINK,d),h=!0,T;try{T=u.fchmodSync(f,d),h=!1}finally{if(h)try{u.closeSync(f)}catch{}else u.closeSync(f)}return T}}function r(u){hs.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(E,d,f,h){u.open(E,hs.O_SYMLINK,function(T,S){if(T){h&&h(T);return}u.futimes(S,d,f,function(R){u.close(S,function(N){h&&h(R||N)})})})},u.lutimesSync=function(E,d,f){var h=u.openSync(E,hs.O_SYMLINK),T,S=!0;try{T=u.futimesSync(h,d,f),S=!1}finally{if(S)try{u.closeSync(h)}catch{}else u.closeSync(h)}return T}):u.futimes&&(u.lutimes=function(E,d,f,h){h&&process.nextTick(h)},u.lutimesSync=function(){})}function n(u){return u&&function(E,d,f){return u.call(t,E,d,function(h){c(h)&&(h=null),f&&f.apply(this,arguments)})}}function i(u){return u&&function(E,d){try{return u.call(t,E,d)}catch(f){if(!c(f))throw f}}}function s(u){return u&&function(E,d,f,h){return u.call(t,E,d,f,function(T){c(T)&&(T=null),h&&h.apply(this,arguments)})}}function o(u){return u&&function(E,d,f){try{return u.call(t,E,d,f)}catch(h){if(!c(h))throw h}}}function a(u){return u&&function(E,d,f){typeof d=="function"&&(f=d,d=null);function h(T,S){S&&(S.uid<0&&(S.uid+=4294967296),S.gid<0&&(S.gid+=4294967296)),f&&f.apply(this,arguments)}return d?u.call(t,E,d,h):u.call(t,E,h)}}function l(u){return u&&function(E,d){var f=d?u.call(t,E,d):u.call(t,E);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function c(u){if(!u||u.code==="ENOSYS")return!0;var E=!process.getuid||process.getuid()!==0;return!!(E&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var SL=g((nwe,TL)=>{var hL=require("stream").Stream;TL.exports=Cj;function Cj(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);hL.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,E){if(u){s.emit("error",u),s.readable=!1;return}s.fd=E,s.emit("open",E),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);hL.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var pL=g((iwe,RL)=>{"use strict";RL.exports=Lj;var yj=Object.getPrototypeOf||function(t){return t.__proto__};function Lj(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:yj(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var Ip=g((swe,_p)=>{var Et=require("fs"),bj=dL(),wj=SL(),Dj=pL(),jf=require("util"),sr,Jf;typeof Symbol=="function"&&typeof Symbol.for=="function"?(sr=Symbol.for("graceful-fs.queue"),Jf=Symbol.for("graceful-fs.previous")):(sr="___graceful-fs.queue",Jf="___graceful-fs.previous");function Pj(){}function IL(t,e){Object.defineProperty(t,sr,{get:function(){return e}})}var co=Pj;jf.debuglog?co=jf.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(co=function(){var t=jf.format.apply(jf,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});Et[sr]||(AL=global[sr]||[],IL(Et,AL),Et.close=(function(t){function e(r,n){return t.call(Et,r,function(i){i||_L(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,Jf,{value:t}),e})(Et.close),Et.closeSync=(function(t){function e(r){t.apply(Et,arguments),_L()}return Object.defineProperty(e,Jf,{value:t}),e})(Et.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){co(Et[sr]),require("assert").equal(Et[sr].length,0)}));var AL;global[sr]||IL(global,Et[sr]);_p.exports=pp(Dj(Et));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Et.__patched&&(_p.exports=pp(Et),Et.__patched=!0);function pp(t){bj(t),t.gracefulify=pp,t.createReadStream=O,t.createWriteStream=b;var e=t.readFile;t.readFile=r;function r(L,P,x){return typeof P=="function"&&(x=P,P=null),$(L,P,x);function $(Y,V,ee,le){return e(Y,V,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?Pa([$,[Y,V,ee],Z,le||Date.now(),Date.now()]):typeof ee=="function"&&ee.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(L,P,x,$){return typeof x=="function"&&($=x,x=null),Y(L,P,x,$);function Y(V,ee,le,Z,ke){return n(V,ee,le,function(Ae){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Pa([Y,[V,ee,le,Z],Ae,ke||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(L,P,x,$){return typeof x=="function"&&($=x,x=null),Y(L,P,x,$);function Y(V,ee,le,Z,ke){return s(V,ee,le,function(Ae){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Pa([Y,[V,ee,le,Z],Ae,ke||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(L,P,x,$){return typeof x=="function"&&($=x,x=0),Y(L,P,x,$);function Y(V,ee,le,Z,ke){return a(V,ee,le,function(Ae){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Pa([Y,[V,ee,le,Z],Ae,ke||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}var c=t.readdir;t.readdir=E;var u=/^v[0-5]\./;function E(L,P,x){typeof P=="function"&&(x=P,P=null);var $=u.test(process.version)?function(ee,le,Z,ke){return c(ee,Y(ee,le,Z,ke))}:function(ee,le,Z,ke){return c(ee,le,Y(ee,le,Z,ke))};return $(L,P,x);function Y(V,ee,le,Z){return function(ke,Ae){ke&&(ke.code==="EMFILE"||ke.code==="ENFILE")?Pa([$,[V,ee,le],ke,Z||Date.now(),Date.now()]):(Ae&&Ae.sort&&Ae.sort(),typeof le=="function"&&le.call(this,ke,Ae))}}}if(process.version.substr(0,4)==="v0.8"){var d=wj(t);R=d.ReadStream,p=d.WriteStream}var f=t.ReadStream;f&&(R.prototype=Object.create(f.prototype),R.prototype.open=N);var h=t.WriteStream;h&&(p.prototype=Object.create(h.prototype),p.prototype.open=A),Object.defineProperty(t,"ReadStream",{get:function(){return R},set:function(L){R=L},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return p},set:function(L){p=L},enumerable:!0,configurable:!0});var T=R;Object.defineProperty(t,"FileReadStream",{get:function(){return T},set:function(L){T=L},enumerable:!0,configurable:!0});var S=p;Object.defineProperty(t,"FileWriteStream",{get:function(){return S},set:function(L){S=L},enumerable:!0,configurable:!0});function R(L,P){return this instanceof R?(f.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function N(){var L=this;D(L.path,L.flags,L.mode,function(P,x){P?(L.autoClose&&L.destroy(),L.emit("error",P)):(L.fd=x,L.emit("open",x),L.read())})}function p(L,P){return this instanceof p?(h.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}function A(){var L=this;D(L.path,L.flags,L.mode,function(P,x){P?(L.destroy(),L.emit("error",P)):(L.fd=x,L.emit("open",x))})}function O(L,P){return new t.ReadStream(L,P)}function b(L,P){return new t.WriteStream(L,P)}var I=t.open;t.open=D;function D(L,P,x,$){return typeof x=="function"&&($=x,x=null),Y(L,P,x,$);function Y(V,ee,le,Z,ke){return I(V,ee,le,function(Ae,Tr){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Pa([Y,[V,ee,le,Z],Ae,ke||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}return t}function Pa(t){co("ENQUEUE",t[0].name,t[1]),Et[sr].push(t),Ap()}var zf;function _L(){for(var t=Date.now(),e=0;e<Et[sr].length;++e)Et[sr][e].length>2&&(Et[sr][e][3]=t,Et[sr][e][4]=t);Ap()}function Ap(){if(clearTimeout(zf),zf=void 0,Et[sr].length!==0){var t=Et[sr].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)co("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){co("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(co("RETRY",e.name,r),e.apply(null,r.concat([i]))):Et[sr].push(t)}zf===void 0&&(zf=setTimeout(Ap,0))}}});var Qf=g((owe,NL)=>{"use strict";var Yn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Yn.writable=t=>Yn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Yn.readable=t=>Yn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Yn.duplex=t=>Yn.writable(t)&&Yn.readable(t);Yn.transform=t=>Yn.duplex(t)&&typeof t._transform=="function";NL.exports=Yn});var Bc=g((awe,Np)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Np.exports={nextTick:Mj}:Np.exports=process;function Mj(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var mL=g((lwe,OL)=>{var xj={}.toString;OL.exports=Array.isArray||function(t){return xj.call(t)=="[object Array]"}});var Op=g((cwe,gL)=>{gL.exports=require("stream")});var Fc=g((mp,yL)=>{var Zf=require("buffer"),yi=Zf.Buffer;function CL(t,e){for(var r in t)e[r]=t[r]}yi.from&&yi.alloc&&yi.allocUnsafe&&yi.allocUnsafeSlow?yL.exports=Zf:(CL(Zf,mp),mp.Buffer=Ma);function Ma(t,e,r){return yi(t,e,r)}CL(yi,Ma);Ma.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return yi(t,e,r)};Ma.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=yi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ma.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return yi(t)};Ma.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Zf.SlowBuffer(t)}});var xa=g(pr=>{function vj(t){return Array.isArray?Array.isArray(t):ed(t)==="[object Array]"}pr.isArray=vj;function Uj(t){return typeof t=="boolean"}pr.isBoolean=Uj;function Bj(t){return t===null}pr.isNull=Bj;function Fj(t){return t==null}pr.isNullOrUndefined=Fj;function Gj(t){return typeof t=="number"}pr.isNumber=Gj;function Hj(t){return typeof t=="string"}pr.isString=Hj;function Wj(t){return typeof t=="symbol"}pr.isSymbol=Wj;function Yj(t){return t===void 0}pr.isUndefined=Yj;function $j(t){return ed(t)==="[object RegExp]"}pr.isRegExp=$j;function Vj(t){return typeof t=="object"&&t!==null}pr.isObject=Vj;function kj(t){return ed(t)==="[object Date]"}pr.isDate=kj;function qj(t){return ed(t)==="[object Error]"||t instanceof Error}pr.isError=qj;function Xj(t){return typeof t=="function"}pr.isFunction=Xj;function Kj(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}pr.isPrimitive=Kj;pr.isBuffer=require("buffer").Buffer.isBuffer;function ed(t){return Object.prototype.toString.call(t)}});var LL=g((Ewe,gp)=>{typeof Object.create=="function"?gp.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:gp.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var va=g((fwe,yp)=>{try{if(Cp=require("util"),typeof Cp.inherits!="function")throw"";yp.exports=Cp.inherits}catch{yp.exports=LL()}var Cp});var wL=g((dwe,Lp)=>{"use strict";function jj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var bL=Fc().Buffer,Gc=require("util");function zj(t,e,r){t.copy(e,r)}Lp.exports=(function(){function t(){jj(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return bL.alloc(0);for(var n=bL.allocUnsafe(r>>>0),i=this.head,s=0;i;)zj(i.data,n,s),s+=i.data.length,i=i.next;return n},t})();Gc&&Gc.inspect&&Gc.inspect.custom&&(Lp.exports.prototype[Gc.inspect.custom]=function(){var t=Gc.inspect({length:this.length});return this.constructor.name+" "+t})});var bp=g((hwe,DL)=>{"use strict";var td=Bc();function Jj(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,td.nextTick(rd,this,t)):td.nextTick(rd,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,td.nextTick(rd,r,s)):td.nextTick(rd,r,s):e&&e(s)}),this)}function Qj(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function rd(t,e){t.emit("error",e)}DL.exports={destroy:Jj,undestroy:Qj}});var ML=g((Twe,PL)=>{PL.exports=require("util").deprecate});var Dp=g((Swe,WL)=>{"use strict";var uo=Bc();WL.exports=wt;function vL(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Sz(e,t)}}var Zj=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:uo.nextTick,Ua;wt.WritableState=Wc;var UL=Object.create(xa());UL.inherits=va();var ez={deprecate:ML()},BL=Op(),id=Fc().Buffer,tz=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function rz(t){return id.from(t)}function nz(t){return id.isBuffer(t)||t instanceof tz}var FL=bp();UL.inherits(wt,BL);function iz(){}function Wc(t,e){Ua=Ua||Eo(),t=t||{};var r=e instanceof Ua;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Ez(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new vL(this)}Wc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Wc.prototype,"buffer",{get:ez.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var nd;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(nd=Function.prototype[Symbol.hasInstance],Object.defineProperty(wt,Symbol.hasInstance,{value:function(t){return nd.call(this,t)?!0:this!==wt?!1:t&&t._writableState instanceof Wc}})):nd=function(t){return t instanceof this};function wt(t){if(Ua=Ua||Eo(),!nd.call(wt,this)&&!(this instanceof Ua))return new wt(t);this._writableState=new Wc(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),BL.call(this)}wt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function sz(t,e){var r=new Error("write after end");t.emit("error",r),uo.nextTick(e,r)}function oz(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),uo.nextTick(n,s),i=!1),i}wt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&nz(t);return s&&!id.isBuffer(t)&&(t=rz(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=iz),n.ended?sz(this,r):(s||oz(this,n,t,r))&&(n.pendingcb++,i=lz(this,n,s,t,e,r)),i};wt.prototype.cork=function(){var t=this._writableState;t.corked++};wt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&GL(this,t))};wt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function az(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=id.from(e,r)),e}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function lz(t,e,r,n,i,s){if(!r){var o=az(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else wp(t,e,!1,a,n,i,s);return l}function wp(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function cz(t,e,r,n,i){--e.pendingcb,r?(uo.nextTick(i,n),uo.nextTick(Hc,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Hc(t,e))}function uz(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Ez(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(uz(r),e)cz(t,r,n,e,i);else{var s=HL(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&GL(t,r),n?Zj(xL,t,r,s,i):xL(t,r,s,i)}}function xL(t,e,r,n){r||fz(t,e),e.pendingcb--,n(),Hc(t,e)}function fz(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function GL(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,wp(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new vL(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,E=e.objectMode?1:l.length;if(wp(t,e,!1,E,l,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}wt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};wt.prototype._writev=null;wt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Tz(this,n,r)};function HL(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function dz(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Hc(t,e)})}function hz(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,uo.nextTick(dz,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Hc(t,e){var r=HL(e);return r&&(hz(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function Tz(t,e,r){e.ending=!0,Hc(t,e),r&&(e.finished?uo.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Sz(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(wt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});wt.prototype.destroy=FL.destroy;wt.prototype._undestroy=FL.undestroy;wt.prototype._destroy=function(t,e){this.end(),e(t)}});var Eo=g((Rwe,kL)=>{"use strict";var YL=Bc(),Rz=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};kL.exports=Li;var $L=Object.create(xa());$L.inherits=va();var VL=xp(),Mp=Dp();$L.inherits(Li,VL);for(Pp=Rz(Mp.prototype),sd=0;sd<Pp.length;sd++)od=Pp[sd],Li.prototype[od]||(Li.prototype[od]=Mp.prototype[od]);var Pp,od,sd;function Li(t){if(!(this instanceof Li))return new Li(t);VL.call(this,t),Mp.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",pz)}Object.defineProperty(Li.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function pz(){this.allowHalfOpen||this._writableState.ended||YL.nextTick(Az,this)}function Az(t){t.end()}Object.defineProperty(Li.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Li.prototype._destroy=function(t,e){this.push(null),this.end(),YL.nextTick(e,t)}});var Bp=g(XL=>{"use strict";var Up=Fc().Buffer,qL=Up.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _z(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Iz(t){var e=_z(t);if(typeof e!="string"&&(Up.isEncoding===qL||!qL(t)))throw new Error("Unknown encoding: "+t);return e||t}XL.StringDecoder=Yc;function Yc(t){this.encoding=Iz(t);var e;switch(this.encoding){case"utf16le":this.text=yz,this.end=Lz,e=4;break;case"utf8":this.fillLast=mz,e=4;break;case"base64":this.text=bz,this.end=wz,e=3;break;default:this.write=Dz,this.end=Pz;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Up.allocUnsafe(e)}Yc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Yc.prototype.end=Cz;Yc.prototype.text=gz;Yc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function vp(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Nz(t,e,r){var n=e.length-1;if(n<r)return 0;var i=vp(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=vp(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=vp(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Oz(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function mz(t){var e=this.lastTotal-this.lastNeed,r=Oz(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function gz(t,e){var r=Nz(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Cz(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function yz(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Lz(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function bz(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function wz(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Dz(t){return t.toString(this.encoding)}function Pz(t){return t&&t.length?this.write(t):""}});var xp=g((_we,sb)=>{"use strict";var Fa=Bc();sb.exports=Qe;var Mz=mL(),$c;Qe.ReadableState=eb;var Awe=require("events").EventEmitter,JL=function(t,e){return t.listeners(e).length},Yp=Op(),Vc=Fc().Buffer,xz=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function vz(t){return Vc.from(t)}function Uz(t){return Vc.isBuffer(t)||t instanceof xz}var QL=Object.create(xa());QL.inherits=va();var Fp=require("util"),$e=void 0;Fp&&Fp.debuglog?$e=Fp.debuglog("stream"):$e=function(){};var Bz=wL(),ZL=bp(),Ba;QL.inherits(Qe,Yp);var Gp=["error","close","destroy","pause","resume"];function Fz(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Mz(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function eb(t,e){$c=$c||Eo(),t=t||{};var r=e instanceof $c;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Bz,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ba||(Ba=Bp().StringDecoder),this.decoder=new Ba(t.encoding),this.encoding=t.encoding)}function Qe(t){if($c=$c||Eo(),!(this instanceof Qe))return new Qe(t);this._readableState=new eb(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Yp.call(this)}Object.defineProperty(Qe.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Qe.prototype.destroy=ZL.destroy;Qe.prototype._undestroy=ZL.undestroy;Qe.prototype._destroy=function(t,e){this.push(null),e(t)};Qe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Vc.from(t,e),e=""),n=!0),tb(this,t,e,!1,n)};Qe.prototype.unshift=function(t){return tb(this,t,null,!0,!1)};function tb(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,Yz(t,s);else{var o;i||(o=Gz(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Vc.prototype&&(e=vz(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):Hp(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?Hp(t,s,e,!1):rb(t,s)):Hp(t,s,e,!1))):n||(s.reading=!1)}return Hz(s)}function Hp(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ad(t)),rb(t,e)}function Gz(t,e){var r;return!Uz(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Hz(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Qe.prototype.isPaused=function(){return this._readableState.flowing===!1};Qe.prototype.setEncoding=function(t){return Ba||(Ba=Bp().StringDecoder),this._readableState.decoder=new Ba(t),this._readableState.encoding=t,this};var KL=8388608;function Wz(t){return t>=KL?t=KL:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function jL(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Wz(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Qe.prototype.read=function(t){$e("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return $e("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Wp(this):ad(this),null;if(t=jL(t,e),t===0&&e.ended)return e.length===0&&Wp(this),null;var n=e.needReadable;$e("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,$e("length less than watermark",n)),e.ended||e.reading?(n=!1,$e("reading or ended",n)):n&&($e("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=jL(r,e)));var i;return t>0?i=nb(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Wp(this)),i!==null&&this.emit("data",i),i};function Yz(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,ad(t)}}function ad(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||($e("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Fa.nextTick(zL,t):zL(t))}function zL(t){$e("emit readable"),t.emit("readable"),$p(t)}function rb(t,e){e.readingMore||(e.readingMore=!0,Fa.nextTick($z,t,e))}function $z(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&($e("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Qe.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Qe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,$e("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:S;n.endEmitted?Fa.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(R,N){$e("onunpipe"),R===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,u())}function a(){$e("onend"),t.end()}var l=Vz(r);t.on("drain",l);var c=!1;function u(){$e("cleanup"),t.removeListener("close",h),t.removeListener("finish",T),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var E=!1;r.on("data",d);function d(R){$e("ondata"),E=!1;var N=t.write(R);N===!1&&!E&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&ib(n.pipes,t)!==-1)&&!c&&($e("false write response, pause",n.awaitDrain),n.awaitDrain++,E=!0),r.pause())}function f(R){$e("onerror",R),S(),t.removeListener("error",f),JL(t,"error")===0&&t.emit("error",R)}Fz(t,"error",f);function h(){t.removeListener("finish",T),S()}t.once("close",h);function T(){$e("onfinish"),t.removeListener("close",h),S()}t.once("finish",T);function S(){$e("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||($e("pipe resume"),r.resume()),t};function Vz(t){return function(){var e=t._readableState;$e("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&JL(t,"data")&&(e.flowing=!0,$p(t))}}Qe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=ib(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Qe.prototype.on=function(t,e){var r=Yp.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&ad(this):Fa.nextTick(kz,this))}return r};Qe.prototype.addListener=Qe.prototype.on;function kz(t){$e("readable nexttick read 0"),t.read(0)}Qe.prototype.resume=function(){var t=this._readableState;return t.flowing||($e("resume"),t.flowing=!0,qz(this,t)),this};function qz(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Fa.nextTick(Xz,t,e))}function Xz(t,e){e.reading||($e("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),$p(t),e.flowing&&!e.reading&&t.read(0)}Qe.prototype.pause=function(){return $e("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&($e("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function $p(t){var e=t._readableState;for($e("flow",e.flowing);e.flowing&&t.read()!==null;);}Qe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if($e("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if($e("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(o){return function(){return t[o].apply(t,arguments)}})(i));for(var s=0;s<Gp.length;s++)t.on(Gp[s],this.emit.bind(this,Gp[s]));return this._read=function(o){$e("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Qe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Qe._fromList=nb;function nb(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=Kz(t,e.buffer,e.decoder),r}function Kz(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?jz(t,e):zz(t,e),n}function jz(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function zz(t,e){var r=Vc.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function Wp(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Fa.nextTick(Jz,e,t))}function Jz(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function ib(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Vp=g((Iwe,lb)=>{"use strict";lb.exports=bi;var ld=Eo(),ab=Object.create(xa());ab.inherits=va();ab.inherits(bi,ld);function Qz(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function bi(t){if(!(this instanceof bi))return new bi(t);ld.call(this,t),this._transformState={afterTransform:Qz.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Zz)}function Zz(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){ob(t,e,r)}):ob(this,null,null)}bi.prototype.push=function(t,e){return this._transformState.needTransform=!1,ld.prototype.push.call(this,t,e)};bi.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};bi.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};bi.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};bi.prototype._destroy=function(t,e){var r=this;ld.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function ob(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var fb=g((Nwe,Eb)=>{"use strict";Eb.exports=kc;var cb=Vp(),ub=Object.create(xa());ub.inherits=va();ub.inherits(kc,cb);function kc(t){if(!(this instanceof kc))return new kc(t);cb.call(this,t)}kc.prototype._transform=function(t,e,r){r(null,t)}});var db=g((or,cd)=>{var $n=require("stream");process.env.READABLE_STREAM==="disable"&&$n?(cd.exports=$n,or=cd.exports=$n.Readable,or.Readable=$n.Readable,or.Writable=$n.Writable,or.Duplex=$n.Duplex,or.Transform=$n.Transform,or.PassThrough=$n.PassThrough,or.Stream=$n):(or=cd.exports=xp(),or.Stream=$n||or,or.Readable=or,or.Writable=Dp(),or.Duplex=Eo(),or.Transform=Vp(),or.PassThrough=fb())});var Tb=g((Owe,hb)=>{hb.exports=db().PassThrough});var Ab=g((mwe,pb)=>{var Sb=require("util"),fd=Tb();pb.exports={Readable:ud,Writable:Ed};Sb.inherits(ud,fd);Sb.inherits(Ed,fd);function Rb(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function ud(t,e){if(!(this instanceof ud))return new ud(t,e);fd.call(this,e),Rb(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function Ed(t,e){if(!(this instanceof Ed))return new Ed(t,e);fd.call(this,e),Rb(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var kp=g((gwe,_b)=>{_b.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")}});var qp=g((Cwe,Ib)=>{function e8(t){return t}Ib.exports=e8});var Ob=g((ywe,Nb)=>{function t8(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}Nb.exports=t8});var Cb=g((Lwe,gb)=>{var r8=Ob(),mb=Math.max;function n8(t,e,r){return e=mb(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=mb(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),r8(t,this,a)}}gb.exports=n8});var Lb=g((bwe,yb)=>{function i8(t){return function(){return t}}yb.exports=i8});var Xp=g((wwe,bb)=>{var s8=typeof global=="object"&&global&&global.Object===Object&&global;bb.exports=s8});var Ga=g((Dwe,wb)=>{var o8=Xp(),a8=typeof self=="object"&&self&&self.Object===Object&&self,l8=o8||a8||Function("return this")();wb.exports=l8});var dd=g((Pwe,Db)=>{var c8=Ga(),u8=c8.Symbol;Db.exports=u8});var vb=g((Mwe,xb)=>{var Pb=dd(),Mb=Object.prototype,E8=Mb.hasOwnProperty,f8=Mb.toString,qc=Pb?Pb.toStringTag:void 0;function d8(t){var e=E8.call(t,qc),r=t[qc];try{t[qc]=void 0;var n=!0}catch{}var i=f8.call(t);return n&&(e?t[qc]=r:delete t[qc]),i}xb.exports=d8});var Bb=g((xwe,Ub)=>{var h8=Object.prototype,T8=h8.toString;function S8(t){return T8.call(t)}Ub.exports=S8});var Xc=g((vwe,Hb)=>{var Fb=dd(),R8=vb(),p8=Bb(),A8="[object Null]",_8="[object Undefined]",Gb=Fb?Fb.toStringTag:void 0;function I8(t){return t==null?t===void 0?_8:A8:Gb&&Gb in Object(t)?R8(t):p8(t)}Hb.exports=I8});var Kc=g((Uwe,Wb)=>{function N8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}Wb.exports=N8});var Kp=g((Bwe,Yb)=>{var O8=Xc(),m8=Kc(),g8="[object AsyncFunction]",C8="[object Function]",y8="[object GeneratorFunction]",L8="[object Proxy]";function b8(t){if(!m8(t))return!1;var e=O8(t);return e==C8||e==y8||e==g8||e==L8}Yb.exports=b8});var Vb=g((Fwe,$b)=>{var w8=Ga(),D8=w8["__core-js_shared__"];$b.exports=D8});var Xb=g((Gwe,qb)=>{var jp=Vb(),kb=(function(){var t=/[^.]+$/.exec(jp&&jp.keys&&jp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function P8(t){return!!kb&&kb in t}qb.exports=P8});var jb=g((Hwe,Kb)=>{var M8=Function.prototype,x8=M8.toString;function v8(t){if(t!=null){try{return x8.call(t)}catch{}try{return t+""}catch{}}return""}Kb.exports=v8});var Jb=g((Wwe,zb)=>{var U8=Kp(),B8=Xb(),F8=Kc(),G8=jb(),H8=/[\\^$.*+?()[\]{}|]/g,W8=/^\[object .+?Constructor\]$/,Y8=Function.prototype,$8=Object.prototype,V8=Y8.toString,k8=$8.hasOwnProperty,q8=RegExp("^"+V8.call(k8).replace(H8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X8(t){if(!F8(t)||B8(t))return!1;var e=U8(t)?q8:W8;return e.test(G8(t))}zb.exports=X8});var Zb=g((Ywe,Qb)=>{function K8(t,e){return t?.[e]}Qb.exports=K8});var jc=g(($we,ew)=>{var j8=Jb(),z8=Zb();function J8(t,e){var r=z8(t,e);return j8(r)?r:void 0}ew.exports=J8});var rw=g((Vwe,tw)=>{var Q8=jc(),Z8=(function(){try{var t=Q8(Object,"defineProperty");return t({},"",{}),t}catch{}})();tw.exports=Z8});var sw=g((kwe,iw)=>{var eJ=Lb(),nw=rw(),tJ=qp(),rJ=nw?function(t,e){return nw(t,"toString",{configurable:!0,enumerable:!1,value:eJ(e),writable:!0})}:tJ;iw.exports=rJ});var aw=g((qwe,ow)=>{var nJ=800,iJ=16,sJ=Date.now;function oJ(t){var e=0,r=0;return function(){var n=sJ(),i=iJ-(n-r);if(r=n,i>0){if(++e>=nJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}ow.exports=oJ});var cw=g((Xwe,lw)=>{var aJ=sw(),lJ=aw(),cJ=lJ(aJ);lw.exports=cJ});var hd=g((Kwe,uw)=>{var uJ=qp(),EJ=Cb(),fJ=cw();function dJ(t,e){return fJ(EJ(t,e,uJ),t+"")}uw.exports=dJ});var Td=g((jwe,Ew)=>{function hJ(t,e){return t===e||t!==t&&e!==e}Ew.exports=hJ});var zp=g((zwe,fw)=>{var TJ=9007199254740991;function SJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=TJ}fw.exports=SJ});var Sd=g((Jwe,dw)=>{var RJ=Kp(),pJ=zp();function AJ(t){return t!=null&&pJ(t.length)&&!RJ(t)}dw.exports=AJ});var Jp=g((Qwe,hw)=>{var _J=9007199254740991,IJ=/^(?:0|[1-9]\d*)$/;function NJ(t,e){var r=typeof t;return e=e??_J,!!e&&(r=="number"||r!="symbol"&&IJ.test(t))&&t>-1&&t%1==0&&t<e}hw.exports=NJ});var Sw=g((Zwe,Tw)=>{var OJ=Td(),mJ=Sd(),gJ=Jp(),CJ=Kc();function yJ(t,e,r){if(!CJ(r))return!1;var n=typeof e;return(n=="number"?mJ(r)&&gJ(e,r.length):n=="string"&&e in r)?OJ(r[e],t):!1}Tw.exports=yJ});var pw=g((eDe,Rw)=>{function LJ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}Rw.exports=LJ});var Ha=g((tDe,Aw)=>{function bJ(t){return t!=null&&typeof t=="object"}Aw.exports=bJ});var Iw=g((rDe,_w)=>{var wJ=Xc(),DJ=Ha(),PJ="[object Arguments]";function MJ(t){return DJ(t)&&wJ(t)==PJ}_w.exports=MJ});var Qp=g((nDe,mw)=>{var Nw=Iw(),xJ=Ha(),Ow=Object.prototype,vJ=Ow.hasOwnProperty,UJ=Ow.propertyIsEnumerable,BJ=Nw((function(){return arguments})())?Nw:function(t){return xJ(t)&&vJ.call(t,"callee")&&!UJ.call(t,"callee")};mw.exports=BJ});var Zp=g((iDe,gw)=>{var FJ=Array.isArray;gw.exports=FJ});var yw=g((sDe,Cw)=>{function GJ(){return!1}Cw.exports=GJ});var Dw=g((zc,Wa)=>{var HJ=Ga(),WJ=yw(),ww=typeof zc=="object"&&zc&&!zc.nodeType&&zc,Lw=ww&&typeof Wa=="object"&&Wa&&!Wa.nodeType&&Wa,YJ=Lw&&Lw.exports===ww,bw=YJ?HJ.Buffer:void 0,$J=bw?bw.isBuffer:void 0,VJ=$J||WJ;Wa.exports=VJ});var Mw=g((oDe,Pw)=>{var kJ=Xc(),qJ=zp(),XJ=Ha(),KJ="[object Arguments]",jJ="[object Array]",zJ="[object Boolean]",JJ="[object Date]",QJ="[object Error]",ZJ="[object Function]",e5="[object Map]",t5="[object Number]",r5="[object Object]",n5="[object RegExp]",i5="[object Set]",s5="[object String]",o5="[object WeakMap]",a5="[object ArrayBuffer]",l5="[object DataView]",c5="[object Float32Array]",u5="[object Float64Array]",E5="[object Int8Array]",f5="[object Int16Array]",d5="[object Int32Array]",h5="[object Uint8Array]",T5="[object Uint8ClampedArray]",S5="[object Uint16Array]",R5="[object Uint32Array]",Ze={};Ze[c5]=Ze[u5]=Ze[E5]=Ze[f5]=Ze[d5]=Ze[h5]=Ze[T5]=Ze[S5]=Ze[R5]=!0;Ze[KJ]=Ze[jJ]=Ze[a5]=Ze[zJ]=Ze[l5]=Ze[JJ]=Ze[QJ]=Ze[ZJ]=Ze[e5]=Ze[t5]=Ze[r5]=Ze[n5]=Ze[i5]=Ze[s5]=Ze[o5]=!1;function p5(t){return XJ(t)&&qJ(t.length)&&!!Ze[kJ(t)]}Pw.exports=p5});var eA=g((aDe,xw)=>{function A5(t){return function(e){return t(e)}}xw.exports=A5});var Uw=g((Jc,Ya)=>{var _5=Xp(),vw=typeof Jc=="object"&&Jc&&!Jc.nodeType&&Jc,Qc=vw&&typeof Ya=="object"&&Ya&&!Ya.nodeType&&Ya,I5=Qc&&Qc.exports===vw,tA=I5&&_5.process,N5=(function(){try{var t=Qc&&Qc.require&&Qc.require("util").types;return t||tA&&tA.binding&&tA.binding("util")}catch{}})();Ya.exports=N5});var Hw=g((lDe,Gw)=>{var O5=Mw(),m5=eA(),Bw=Uw(),Fw=Bw&&Bw.isTypedArray,g5=Fw?m5(Fw):O5;Gw.exports=g5});var Yw=g((cDe,Ww)=>{var C5=pw(),y5=Qp(),L5=Zp(),b5=Dw(),w5=Jp(),D5=Hw(),P5=Object.prototype,M5=P5.hasOwnProperty;function x5(t,e){var r=L5(t),n=!r&&y5(t),i=!r&&!n&&b5(t),s=!r&&!n&&!i&&D5(t),o=r||n||i||s,a=o?C5(t.length,String):[],l=a.length;for(var c in t)(e||M5.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||w5(c,l)))&&a.push(c);return a}Ww.exports=x5});var Vw=g((uDe,$w)=>{var v5=Object.prototype;function U5(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||v5;return t===r}$w.exports=U5});var qw=g((EDe,kw)=>{function B5(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}kw.exports=B5});var Kw=g((fDe,Xw)=>{var F5=Kc(),G5=Vw(),H5=qw(),W5=Object.prototype,Y5=W5.hasOwnProperty;function $5(t){if(!F5(t))return H5(t);var e=G5(t),r=[];for(var n in t)n=="constructor"&&(e||!Y5.call(t,n))||r.push(n);return r}Xw.exports=$5});var zw=g((dDe,jw)=>{var V5=Yw(),k5=Kw(),q5=Sd();function X5(t){return q5(t)?V5(t,!0):k5(t)}jw.exports=X5});var Zw=g((hDe,Qw)=>{var K5=hd(),j5=Td(),z5=Sw(),J5=zw(),Jw=Object.prototype,Q5=Jw.hasOwnProperty,Z5=K5(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&z5(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=J5(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||j5(u,Jw[c])&&!Q5.call(t,c))&&(t[c]=s[c])}return t});Qw.exports=Z5});var at=g((TDe,eD)=>{"use strict";var rA=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};eD.exports={AggregateError:rA,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var nA=g((SDe,tD)=>{"use strict";tD.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Ar=g((RDe,iD)=>{"use strict";var{format:eQ,inspect:Rd}=nA(),{AggregateError:tQ}=at(),rQ=globalThis.AggregateError||tQ,nQ=Symbol("kIsNodeError"),iQ=["string","function","number","object","Function","Object","boolean","bigint","symbol"],sQ=/^([A-Z][a-z0-9]*)+$/,oQ="__node_internal_",pd={};function fo(t,e){if(!t)throw new pd.ERR_INTERNAL_ASSERTION(e)}function rD(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function aQ(t,e,r){if(typeof e=="function")return fo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return fo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:eQ(e,...r)}function ar(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(aQ(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[nQ]=!0,pd[t]=n}function nD(t){let e=oQ+t.name;return Object.defineProperty(t,"name",{value:e}),t}function lQ(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new rQ([e,t],e.message);return r.code=e.code,r}return t||e}var iA=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new pd.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ar("ERR_ASSERTION","%s",Error);ar("ERR_INVALID_ARG_TYPE",(t,e,r)=>{fo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)fo(typeof l=="string","All expected entries have to be of type string"),iQ.includes(l)?i.push(l.toLowerCase()):sQ.test(l)?s.push(l):(fo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Rd(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Rd(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);ar("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Rd(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);ar("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);ar("ERR_MISSING_ARGS",(...t)=>{fo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);ar("ERR_OUT_OF_RANGE",(t,e,r)=>{fo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=rD(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=rD(n)),n+="n"}else n=Rd(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);ar("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ar("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ar("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ar("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ar("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ar("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ar("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ar("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ar("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ar("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ar("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);iD.exports={AbortError:iA,aggregateTwoErrors:nD(lQ),hideStackFrames:nD,codes:pd}});var hD=g((tu,eu)=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});var uD=new WeakMap,sA=new WeakMap;function et(t){let e=uD.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function sD(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function $a(t,e){uD.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,ED(i))}}$a.prototype={get type(){return et(this).event.type},get target(){return et(this).eventTarget},get currentTarget(){return et(this).currentTarget},composedPath(){let t=et(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return et(this).eventPhase},stopPropagation(){let t=et(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=et(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!et(this).event.bubbles},get cancelable(){return!!et(this).event.cancelable},preventDefault(){sD(et(this))},get defaultPrevented(){return et(this).canceled},get composed(){return!!et(this).event.composed},get timeStamp(){return et(this).timeStamp},get srcElement(){return et(this).eventTarget},get cancelBubble(){return et(this).stopped},set cancelBubble(t){if(!t)return;let e=et(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!et(this).canceled},set returnValue(t){t||sD(et(this))},initEvent(){}};Object.defineProperty($a.prototype,"constructor",{value:$a,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf($a.prototype,window.Event.prototype),sA.set(window.Event.prototype,$a));function ED(t){return{get(){return et(this).event[t]},set(e){et(this).event[t]=e},configurable:!0,enumerable:!0}}function cQ(t){return{value(){let e=et(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function uQ(t,e){let r=Object.keys(e);if(r.length===0)return t;function n(i,s){t.call(this,i,s)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in t.prototype)){let a=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(n.prototype,s,a?cQ(s):ED(s))}}return n}function fD(t){if(t==null||t===Object.prototype)return $a;let e=sA.get(t);return e==null&&(e=uQ(fD(Object.getPrototypeOf(t)),t),sA.set(t,e)),e}function EQ(t,e){let r=fD(Object.getPrototypeOf(e));return new r(t,e)}function fQ(t){return et(t).immediateStopped}function dQ(t,e){et(t).eventPhase=e}function hQ(t,e){et(t).currentTarget=e}function oD(t,e){et(t).passiveListener=e}var dD=new WeakMap,aD=1,lD=2,Ad=3;function _d(t){return t!==null&&typeof t=="object"}function Zc(t){let e=dD.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function TQ(t){return{get(){let r=Zc(this).get(t);for(;r!=null;){if(r.listenerType===Ad)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!_d(e)&&(e=null);let r=Zc(this),n=null,i=r.get(t);for(;i!=null;)i.listenerType===Ad?n!==null?n.next=i.next:i.next!==null?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(e!==null){let s={listener:e,listenerType:Ad,passive:!1,once:!1,next:null};n===null?r.set(t,s):n.next=s}},configurable:!0,enumerable:!0}}function oA(t,e){Object.defineProperty(t,`on${e}`,TQ(e))}function cD(t){function e(){gn.call(this)}e.prototype=Object.create(gn.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)oA(e.prototype,t[r]);return e}function gn(){if(this instanceof gn){dD.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return cD(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return cD(t)}throw new TypeError("Cannot call a class as a function")}gn.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!_d(e))throw new TypeError("'listener' should be a function or an object.");let n=Zc(this),i=_d(r),o=(i?!!r.capture:!!r)?aD:lD,a={listener:e,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},l=n.get(t);if(l===void 0){n.set(t,a);return}let c=null;for(;l!=null;){if(l.listener===e&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(t,e,r){if(e==null)return;let n=Zc(this),s=(_d(r)?!!r.capture:!!r)?aD:lD,o=null,a=n.get(t);for(;a!=null;){if(a.listener===e&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?n.set(t,a.next):n.delete(t);return}o=a,a=a.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=Zc(this),r=t.type,n=e.get(r);if(n==null)return!0;let i=EQ(this,t),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?e.set(r,n.next):e.delete(r):s=n,oD(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else n.listenerType!==Ad&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(fQ(i))break;n=n.next}return oD(i,null),dQ(i,0),hQ(i,null),!i.defaultPrevented}};Object.defineProperty(gn.prototype,"constructor",{value:gn,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(gn.prototype,window.EventTarget.prototype);tu.defineEventAttribute=oA;tu.EventTarget=gn;tu.default=gn;eu.exports=gn;eu.exports.EventTarget=eu.exports.default=gn;eu.exports.defineEventAttribute=oA});var Ct=g((nu,ru)=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});var aA=hD(),Ts=class extends aA.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=Id.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};aA.defineEventAttribute(Ts.prototype,"abort");function SQ(){let t=Object.create(Ts.prototype);return aA.EventTarget.call(t),Id.set(t,!1),t}function RQ(t){Id.get(t)===!1&&(Id.set(t,!0),t.dispatchEvent({type:"abort"}))}var Id=new WeakMap;Object.defineProperties(Ts.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ts.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var Ss=class{constructor(){SD.set(this,SQ())}get signal(){return TD(this)}abort(){RQ(TD(this))}},SD=new WeakMap;function TD(t){let e=SD.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(Ss.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ss.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});nu.AbortController=Ss;nu.AbortSignal=Ts;nu.default=Ss;ru.exports=Ss;ru.exports.AbortController=ru.exports.default=Ss;ru.exports.AbortSignal=Ts});var Dr=g((pDe,cA)=>{"use strict";var pQ=require("buffer"),{format:AQ,inspect:_Q}=nA(),{codes:{ERR_INVALID_ARG_TYPE:lA}}=Ar(),{kResistStopPropagation:IQ,AggregateError:NQ,SymbolDispose:OQ}=at(),mQ=globalThis.AbortSignal||Ct().AbortSignal,gQ=globalThis.AbortController||Ct().AbortController,CQ=Object.getPrototypeOf(async function(){}).constructor,RD=globalThis.Blob||pQ.Blob,yQ=typeof RD<"u"?function(e){return e instanceof RD}:function(e){return!1},pD=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new lA(e,"AbortSignal",t)},LQ=(t,e)=>{if(typeof t!="function")throw new lA(e,"Function",t)};cA.exports={AggregateError:NQ,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:AQ,inspect:_Q,types:{isAsyncFunction(t){return t instanceof CQ},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:yQ,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new lA("signal","AbortSignal",e);pD(e,"signal"),LQ(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[IQ]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[OQ](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:mQ.any||function(e){if(e.length===1)return e[0];let r=new gQ,n=()=>r.abort();return e.forEach(i=>{pD(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};cA.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ka=g((ADe,LD)=>{"use strict";var{ArrayIsArray:EA,ArrayPrototypeIncludes:ND,ArrayPrototypeJoin:OD,ArrayPrototypeMap:bQ,NumberIsInteger:fA,NumberIsNaN:wQ,NumberMAX_SAFE_INTEGER:DQ,NumberMIN_SAFE_INTEGER:PQ,NumberParseInt:MQ,ObjectPrototypeHasOwnProperty:xQ,RegExpPrototypeExec:mD,String:vQ,StringPrototypeToUpperCase:UQ,StringPrototypeTrim:BQ}=at(),{hideStackFrames:cn,codes:{ERR_SOCKET_BAD_PORT:FQ,ERR_INVALID_ARG_TYPE:_r,ERR_INVALID_ARG_VALUE:Va,ERR_OUT_OF_RANGE:ho,ERR_UNKNOWN_SIGNAL:AD}}=Ar(),{normalizeEncoding:GQ}=Dr(),{isAsyncFunction:HQ,isArrayBufferView:WQ}=Dr().types,_D={};function YQ(t){return t===(t|0)}function $Q(t){return t===t>>>0}var VQ=/^[0-7]+$/,kQ="must be a 32-bit unsigned integer or an octal string";function qQ(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(mD(VQ,t)===null)throw new Va(e,t,kQ);t=MQ(t,8)}return gD(t,e),t}var XQ=cn((t,e,r=PQ,n=DQ)=>{if(typeof t!="number")throw new _r(e,"number",t);if(!fA(t))throw new ho(e,"an integer",t);if(t<r||t>n)throw new ho(e,`>= ${r} && <= ${n}`,t)}),KQ=cn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new _r(e,"number",t);if(!fA(t))throw new ho(e,"an integer",t);if(t<r||t>n)throw new ho(e,`>= ${r} && <= ${n}`,t)}),gD=cn((t,e,r=!1)=>{if(typeof t!="number")throw new _r(e,"number",t);if(!fA(t))throw new ho(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new ho(e,`>= ${n} && <= ${i}`,t)});function dA(t,e){if(typeof t!="string")throw new _r(e,"string",t)}function jQ(t,e,r=void 0,n){if(typeof t!="number")throw new _r(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&wQ(t))throw new ho(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var zQ=cn((t,e,r)=>{if(!ND(r,t)){let i="must be one of: "+OD(bQ(r,s=>typeof s=="string"?`'${s}'`:vQ(s)),", ");throw new Va(e,t,i)}});function CD(t,e){if(typeof t!="boolean")throw new _r(e,"boolean",t)}function uA(t,e,r){return t==null||!xQ(t,e)?r:t[e]}var JQ=cn((t,e,r=null)=>{let n=uA(r,"allowArray",!1),i=uA(r,"allowFunction",!1);if(!uA(r,"nullable",!1)&&t===null||!n&&EA(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new _r(e,"Object",t)}),QQ=cn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new _r(e,"a dictionary",t)}),Nd=cn((t,e,r=0)=>{if(!EA(t))throw new _r(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Va(e,t,n)}});function ZQ(t,e){Nd(t,e);for(let r=0;r<t.length;r++)dA(t[r],`${e}[${r}]`)}function e7(t,e){Nd(t,e);for(let r=0;r<t.length;r++)CD(t[r],`${e}[${r}]`)}function t7(t,e){Nd(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new _r(i,"AbortSignal",n);yD(n,i)}}function r7(t,e="signal"){if(dA(t,e),_D[t]===void 0)throw _D[UQ(t)]!==void 0?new AD(t+" (signals must use all capital letters)"):new AD(t)}var n7=cn((t,e="buffer")=>{if(!WQ(t))throw new _r(e,["Buffer","TypedArray","DataView"],t)});function i7(t,e){let r=GQ(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Va("encoding",e,`is invalid for data of length ${n}`)}function s7(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&BQ(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new FQ(e,t,r);return t|0}var yD=cn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new _r(e,"AbortSignal",t)}),o7=cn((t,e)=>{if(typeof t!="function")throw new _r(e,"Function",t)}),a7=cn((t,e)=>{if(typeof t!="function"||HQ(t))throw new _r(e,"Function",t)}),l7=cn((t,e)=>{if(t!==void 0)throw new _r(e,"undefined",t)});function c7(t,e,r){if(!ND(r,t))throw new _r(e,`('${OD(r,"|")}')`,t)}var u7=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ID(t,e){if(typeof t>"u"||!mD(u7,t))throw new Va(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function E7(t){if(typeof t=="string")return ID(t,"hints"),t;if(EA(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];ID(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Va("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}LD.exports={isInt32:YQ,isUint32:$Q,parseFileMode:qQ,validateArray:Nd,validateStringArray:ZQ,validateBooleanArray:e7,validateAbortSignalArray:t7,validateBoolean:CD,validateBuffer:n7,validateDictionary:QQ,validateEncoding:i7,validateFunction:o7,validateInt32:KQ,validateInteger:XQ,validateNumber:jQ,validateObject:JQ,validateOneOf:zQ,validatePlainFunction:a7,validatePort:s7,validateSignalName:r7,validateString:dA,validateUint32:gD,validateUndefined:l7,validateUnion:c7,validateAbortSignal:yD,validateLinkHeaderValue:E7}});var qe=g((_De,bD)=>{bD.exports=global.process});var kn=g((IDe,VD)=>{"use strict";var{SymbolAsyncIterator:wD,SymbolIterator:DD,SymbolFor:To}=at(),PD=To("nodejs.stream.destroyed"),MD=To("nodejs.stream.errored"),hA=To("nodejs.stream.readable"),TA=To("nodejs.stream.writable"),xD=To("nodejs.stream.disturbed"),f7=To("nodejs.webstream.isClosedPromise"),d7=To("nodejs.webstream.controllerErrorFunction");function Od(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function md(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function h7(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Vn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function vD(t){return!!(t&&!Vn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function UD(t){return!!(t&&!Vn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function BD(t){return!!(t&&!Vn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function T7(t){return vD(t)||UD(t)||BD(t)}function S7(t,e){return t==null?!1:e===!0?typeof t[wD]=="function":e===!1?typeof t[DD]=="function":typeof t[wD]=="function"||typeof t[DD]=="function"}function gd(t){if(!Vn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[PD]||n!=null&&n.destroyed)}function FD(t){if(!md(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function R7(t,e){if(!md(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function p7(t){if(!Od(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function GD(t,e){if(!Od(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function HD(t){return t&&t[hA]!=null?t[hA]:typeof t?.readable!="boolean"?null:gd(t)?!1:Od(t)&&t.readable&&!GD(t)}function WD(t){return t&&t[TA]!=null?t[TA]:typeof t?.writable!="boolean"?null:gd(t)?!1:md(t)&&t.writable&&!FD(t)}function A7(t,e){return Vn(t)?gd(t)?!0:!(e?.readable!==!1&&HD(t)||e?.writable!==!1&&WD(t)):null}function _7(t){var e,r;return Vn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function I7(t){var e,r;return Vn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function N7(t){if(!Vn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&YD(t)?t._closed:null}function YD(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function $D(t){return typeof t._sent100=="boolean"&&YD(t)}function O7(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function m7(t){if(!Vn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&$D(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function g7(t){var e;return!!(t&&((e=t[xD])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function C7(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[MD])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}VD.exports={isDestroyed:gd,kIsDestroyed:PD,isDisturbed:g7,kIsDisturbed:xD,isErrored:C7,kIsErrored:MD,isReadable:HD,kIsReadable:hA,kIsClosedPromise:f7,kControllerErrorFunction:d7,kIsWritable:TA,isClosed:N7,isDuplexNodeStream:h7,isFinished:A7,isIterable:S7,isReadableNodeStream:Od,isReadableStream:vD,isReadableEnded:p7,isReadableFinished:GD,isReadableErrored:I7,isNodeStream:Vn,isWebStream:T7,isWritable:WD,isWritableNodeStream:md,isWritableStream:UD,isWritableEnded:FD,isWritableFinished:R7,isWritableErrored:_7,isServerRequest:O7,isServerResponse:$D,willEmitClose:m7,isTransformStream:BD}});var wi=g((NDe,_A)=>{"use strict";var Rs=qe(),{AbortError:ZD,codes:y7}=Ar(),{ERR_INVALID_ARG_TYPE:L7,ERR_STREAM_PREMATURE_CLOSE:kD}=y7,{kEmptyObject:RA,once:pA}=Dr(),{validateAbortSignal:b7,validateFunction:w7,validateObject:D7,validateBoolean:P7}=ka(),{Promise:M7,PromisePrototypeThen:x7,SymbolDispose:eP}=at(),{isClosed:v7,isReadable:qD,isReadableNodeStream:SA,isReadableStream:U7,isReadableFinished:XD,isReadableErrored:KD,isWritable:jD,isWritableNodeStream:zD,isWritableStream:B7,isWritableFinished:JD,isWritableErrored:QD,isNodeStream:F7,willEmitClose:G7,kIsClosedPromise:H7}=kn(),qa;function W7(t){return t.setHeader&&typeof t.abort=="function"}var AA=()=>{};function tP(t,e,r){var n,i;if(arguments.length===2?(r=e,e=RA):e==null?e=RA:D7(e,"options"),w7(r,"callback"),b7(e.signal,"options.signal"),r=pA(r),U7(t)||B7(t))return Y7(t,e,r);if(!F7(t))throw new L7("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:SA(t),o=(i=e.writable)!==null&&i!==void 0?i:zD(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=G7(t)&&SA(t)===s&&zD(t)===o,E=JD(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=XD(t,!1),h=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},T=O=>{r.call(t,O)},S=v7(t),R=()=>{S=!0;let O=QD(t)||KD(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&SA(t,!0)&&!XD(t,!1))return r.call(t,new kD);if(o&&!E&&!JD(t,!1))return r.call(t,new kD);r.call(t)},N=()=>{S=!0;let O=QD(t)||KD(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},p=()=>{t.req.on("finish",d)};W7(t)?(t.on("complete",d),u||t.on("abort",R),t.req?p():t.on("request",p)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",R),t.on("end",h),t.on("finish",d),e.error!==!1&&t.on("error",T),t.on("close",R),S?Rs.nextTick(R):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Rs.nextTick(N):(!s&&(!u||qD(t))&&(E||jD(t)===!1)||!o&&(!u||jD(t))&&(f||qD(t)===!1)||l&&t.req&&t.aborted)&&Rs.nextTick(N);let A=()=>{r=AA,t.removeListener("aborted",R),t.removeListener("complete",d),t.removeListener("abort",R),t.removeListener("request",p),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",T),t.removeListener("close",R)};if(e.signal&&!S){let O=()=>{let b=r;A(),b.call(t,new ZD(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Rs.nextTick(O);else{qa=qa||Dr().addAbortListener;let b=qa(e.signal,O),I=r;r=pA((...D)=>{b[eP](),I.apply(t,D)})}}return A}function Y7(t,e,r){let n=!1,i=AA;if(e.signal)if(i=()=>{n=!0,r.call(t,new ZD(void 0,{cause:e.signal.reason}))},e.signal.aborted)Rs.nextTick(i);else{qa=qa||Dr().addAbortListener;let o=qa(e.signal,i),a=r;r=pA((...l)=>{o[eP](),a.apply(t,l)})}let s=(...o)=>{n||Rs.nextTick(()=>r.apply(t,o))};return x7(t[H7].promise,s,s),AA}function $7(t,e){var r;let n=!1;return e===null&&(e=RA),(r=e)!==null&&r!==void 0&&r.cleanup&&(P7(e.cleanup,"cleanup"),n=e.cleanup),new M7((i,s)=>{let o=tP(t,e,a=>{n&&o(),a?s(a):i()})})}_A.exports=tP;_A.exports.finished=$7});var So=g((ODe,cP)=>{"use strict";var qn=qe(),{aggregateTwoErrors:V7,codes:{ERR_MULTIPLE_CALLBACK:k7},AbortError:q7}=Ar(),{Symbol:iP}=at(),{kIsDestroyed:X7,isDestroyed:K7,isFinished:j7,isServerRequest:z7}=kn(),sP=iP("kDestroy"),IA=iP("kConstruct");function oP(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function J7(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(oP(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?rP(this,t,e):this.once(sP,function(s){rP(this,V7(s,t),e)}),this)}function rP(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;oP(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?qn.nextTick(Q7,t,s):qn.nextTick(aP,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function Q7(t,e){NA(t,e),aP(t)}function aP(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function NA(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Z7(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function OA(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?qn.nextTick(NA,t,e):NA(t,e))}function e9(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(IA,e),!(t.listenerCount(IA)>1)&&qn.nextTick(t9,t)}function t9(t){let e=!1;function r(n){if(e){OA(t,n??new k7);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(sP,n):n?OA(t,n,!0):qn.nextTick(r9,t)}try{t._construct(n=>{qn.nextTick(r,n)})}catch(n){qn.nextTick(r,n)}}function r9(t){t.emit(IA)}function nP(t){return t?.setHeader&&typeof t.abort=="function"}function lP(t){t.emit("close")}function n9(t,e){t.emit("error",e),qn.nextTick(lP,t)}function i9(t,e){!t||K7(t)||(!e&&!j7(t)&&(e=new q7),z7(t)?(t.socket=null,t.destroy(e)):nP(t)?t.abort():nP(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?qn.nextTick(n9,t,e):qn.nextTick(lP,t),t.destroyed||(t[X7]=!0))}cP.exports={construct:e9,destroyer:i9,destroy:J7,undestroy:Z7,errorOrDestroy:OA}});var Ld=g((mDe,EP)=>{"use strict";var{ArrayIsArray:s9,ObjectSetPrototypeOf:uP}=at(),{EventEmitter:Cd}=require("events");function yd(t){Cd.call(this,t)}uP(yd.prototype,Cd.prototype);uP(yd,Cd);yd.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),Cd.listenerCount(this,"error")===0&&this.emit("error",u)}mA(r,"error",l),mA(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function mA(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):s9(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}EP.exports={Stream:yd,prependListener:mA}});var iu=g((gDe,bd)=>{"use strict";var{SymbolDispose:o9}=at(),{AbortError:fP,codes:a9}=Ar(),{isNodeStream:dP,isWebStream:l9,kControllerErrorFunction:c9}=kn(),u9=wi(),{ERR_INVALID_ARG_TYPE:hP}=a9,gA,E9=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new hP(e,"AbortSignal",t)};bd.exports.addAbortSignal=function(e,r){if(E9(e,"signal"),!dP(r)&&!l9(r))throw new hP("stream",["ReadableStream","WritableStream","Stream"],r);return bd.exports.addAbortSignalNoValidate(e,r)};bd.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=dP(e)?()=>{e.destroy(new fP(void 0,{cause:t.reason}))}:()=>{e[c9](new fP(void 0,{cause:t.reason}))};if(t.aborted)r();else{gA=gA||Dr().addAbortListener;let n=gA(t,r);u9(e,n[o9])}return e}});var RP=g((yDe,SP)=>{"use strict";var{StringPrototypeSlice:TP,SymbolIterator:f9,TypedArrayPrototypeSet:wd,Uint8Array:d9}=at(),{Buffer:CA}=require("buffer"),{inspect:h9}=Dr();SP.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return CA.alloc(0);let r=CA.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)wd(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[f9](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=TP(s,0,e),this.head=n,n.data=TP(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=CA.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)wd(r,o,n-e),e-=o.length;else{e===o.length?(wd(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(wd(r,new d9(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return h9(this,{...r,depth:0,customInspect:!1})}}});var su=g((LDe,IP)=>{"use strict";var{MathFloor:T9,NumberIsInteger:S9}=at(),{validateInteger:R9}=ka(),{ERR_INVALID_ARG_VALUE:p9}=Ar().codes,pP=16*1024,AP=16;function A9(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function _P(t){return t?AP:pP}function _9(t,e){R9(e,"value",0),t?AP=e:pP=e}function I9(t,e,r,n){let i=A9(e,n,r);if(i!=null){if(!S9(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new p9(s,i)}return T9(i)}return _P(t.objectMode)}IP.exports={getHighWaterMark:I9,getDefaultHighWaterMark:_P,setDefaultHighWaterMark:_9}});var mP=g((yA,OP)=>{var Dd=require("buffer"),Xn=Dd.Buffer;function NP(t,e){for(var r in t)e[r]=t[r]}Xn.from&&Xn.alloc&&Xn.allocUnsafe&&Xn.allocUnsafeSlow?OP.exports=Dd:(NP(Dd,yA),yA.Buffer=Ro);function Ro(t,e,r){return Xn(t,e,r)}Ro.prototype=Object.create(Xn.prototype);NP(Xn,Ro);Ro.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Xn(t,e,r)};Ro.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Xn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ro.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Xn(t)};Ro.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Dd.SlowBuffer(t)}});var au=g(CP=>{"use strict";var bA=mP().Buffer,gP=bA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function N9(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function O9(t){var e=N9(t);if(typeof e!="string"&&(bA.isEncoding===gP||!gP(t)))throw new Error("Unknown encoding: "+t);return e||t}CP.StringDecoder=ou;function ou(t){this.encoding=O9(t);var e;switch(this.encoding){case"utf16le":this.text=b9,this.end=w9,e=4;break;case"utf8":this.fillLast=C9,e=4;break;case"base64":this.text=D9,this.end=P9,e=3;break;default:this.write=M9,this.end=x9;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=bA.allocUnsafe(e)}ou.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};ou.prototype.end=L9;ou.prototype.text=y9;ou.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function LA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function m9(t,e,r){var n=e.length-1;if(n<r)return 0;var i=LA(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=LA(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=LA(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function g9(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function C9(t){var e=this.lastTotal-this.lastNeed,r=g9(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function y9(t,e){var r=m9(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function L9(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function b9(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function w9(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function D9(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function P9(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function M9(t){return t.toString(this.encoding)}function x9(t){return t&&t.length?this.write(t):""}});var wA=g((wDe,wP)=>{"use strict";var yP=qe(),{PromisePrototypeThen:v9,SymbolAsyncIterator:LP,SymbolIterator:bP}=at(),{Buffer:U9}=require("buffer"),{ERR_INVALID_ARG_TYPE:B9,ERR_STREAM_NULL_VALUES:F9}=Ar().codes;function G9(t,e,r){let n;if(typeof e=="string"||e instanceof U9)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[LP])i=!0,n=e[LP]();else if(e&&e[bP])i=!1,n=e[bP]();else throw new B9("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){v9(a(c),()=>yP.nextTick(u,c),E=>yP.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new F9;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}wP.exports=G9});var cu=g((DDe,KP)=>{"use strict";var Cn=qe(),{ArrayPrototypeIndexOf:H9,NumberIsInteger:W9,NumberIsNaN:Y9,NumberParseInt:$9,ObjectDefineProperties:FA,ObjectKeys:V9,ObjectSetPrototypeOf:MP,Promise:xP,SafeSet:k9,SymbolAsyncDispose:q9,SymbolAsyncIterator:X9,Symbol:K9}=at();KP.exports=Te;Te.ReadableState=vd;var{EventEmitter:j9}=require("events"),{Stream:ps,prependListener:z9}=Ld(),{Buffer:DA}=require("buffer"),{addAbortSignal:J9}=iu(),vP=wi(),Ce=Dr().debuglog("stream",t=>{Ce=t}),Q9=RP(),ja=So(),{getHighWaterMark:Z9,getDefaultHighWaterMark:eZ}=su(),{aggregateTwoErrors:DP,codes:{ERR_INVALID_ARG_TYPE:tZ,ERR_METHOD_NOT_IMPLEMENTED:rZ,ERR_OUT_OF_RANGE:nZ,ERR_STREAM_PUSH_AFTER_EOF:iZ,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:sZ},AbortError:oZ}=Ar(),{validateObject:aZ}=ka(),po=K9("kPaused"),{StringDecoder:UP}=au(),lZ=wA();MP(Te.prototype,ps.prototype);MP(Te,ps);var PA=()=>{},{errorOrDestroy:Xa}=ja,Ka=1,cZ=2,BP=4,lu=8,FP=16,Pd=32,Md=64,GP=128,uZ=256,EZ=512,fZ=1024,UA=2048,BA=4096,dZ=8192,hZ=16384,TZ=32768,HP=65536,SZ=1<<17,RZ=1<<18;function Pt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}FA(vd.prototype,{objectMode:Pt(Ka),ended:Pt(cZ),endEmitted:Pt(BP),reading:Pt(lu),constructed:Pt(FP),sync:Pt(Pd),needReadable:Pt(Md),emittedReadable:Pt(GP),readableListening:Pt(uZ),resumeScheduled:Pt(EZ),errorEmitted:Pt(fZ),emitClose:Pt(UA),autoDestroy:Pt(BA),destroyed:Pt(dZ),closed:Pt(hZ),closeEmitted:Pt(TZ),multiAwaitDrain:Pt(HP),readingMore:Pt(SZ),dataEmitted:Pt(RZ)});function vd(t,e,r){typeof r!="boolean"&&(r=e instanceof Kn()),this.state=UA|BA|FP|Pd,t&&t.objectMode&&(this.state|=Ka),r&&t&&t.readableObjectMode&&(this.state|=Ka),this.highWaterMark=t?Z9(this,t,"readableHighWaterMark",r):eZ(!1),this.buffer=new Q9,this.length=0,this.pipes=[],this.flowing=null,this[po]=null,t&&t.emitClose===!1&&(this.state&=~UA),t&&t.autoDestroy===!1&&(this.state&=~BA),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new UP(t.encoding),this.encoding=t.encoding)}function Te(t){if(!(this instanceof Te))return new Te(t);let e=this instanceof Kn();this._readableState=new vd(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&J9(t.signal,this)),ps.call(this,t),ja.construct(this,()=>{this._readableState.needReadable&&xd(this,this._readableState)})}Te.prototype.destroy=ja.destroy;Te.prototype._undestroy=ja.undestroy;Te.prototype._destroy=function(t,e){e(t)};Te.prototype[j9.captureRejectionSymbol]=function(t){this.destroy(t)};Te.prototype[q9]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new oZ,this.destroy(t)),new xP((e,r)=>vP(this,n=>n&&n!==t?r(n):e(null)))};Te.prototype.push=function(t,e){return WP(this,t,e,!1)};Te.prototype.unshift=function(t,e){return WP(this,t,e,!0)};function WP(t,e,r,n){Ce("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ka)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=DA.from(e,r).toString(i.encoding):(e=DA.from(e,r),r=""))):e instanceof DA?r="":ps._isUint8Array(e)?(e=ps._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new tZ("chunk",["string","Buffer","Uint8Array"],e))),s)Xa(t,s);else if(e===null)i.state&=~lu,_Z(t,i);else if((i.state&Ka)!==0||e&&e.length>0)if(n)if((i.state&BP)!==0)Xa(t,new sZ);else{if(i.destroyed||i.errored)return!1;MA(t,i,e,!0)}else if(i.ended)Xa(t,new iZ);else{if(i.destroyed||i.errored)return!1;i.state&=~lu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?MA(t,i,e,!1):xd(t,i)):MA(t,i,e,!1)}else n||(i.state&=~lu,xd(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function MA(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&HP)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&Md)!==0&&Ud(t)),xd(t,e)}Te.prototype.isPaused=function(){let t=this._readableState;return t[po]===!0||t.flowing===!1};Te.prototype.setEncoding=function(t){let e=new UP(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var pZ=1073741824;function AZ(t){if(t>pZ)throw new nZ("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function PP(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ka)!==0?1:Y9(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Te.prototype.read=function(t){Ce("read",t),t===void 0?t=NaN:W9(t)||(t=$9(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=AZ(t)),t!==0&&(e.state&=~GP),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ce("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?xA(this):Ud(this),null;if(t=PP(t,e),t===0&&e.ended)return e.length===0&&xA(this),null;let n=(e.state&Md)!==0;if(Ce("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ce("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Ce("reading, ended or constructing",n);else if(n){Ce("do read"),e.state|=lu|Pd,e.length===0&&(e.state|=Md);try{this._read(e.highWaterMark)}catch(s){Xa(this,s)}e.state&=~Pd,e.reading||(t=PP(r,e))}let i;return t>0?i=qP(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&xA(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function _Z(t,e){if(Ce("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Ud(t):(e.needReadable=!1,e.emittedReadable=!0,YP(t))}}function Ud(t){let e=t._readableState;Ce("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ce("emitReadable",e.flowing),e.emittedReadable=!0,Cn.nextTick(YP,t))}function YP(t){let e=t._readableState;Ce("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,VP(t)}function xd(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Cn.nextTick(IZ,t,e))}function IZ(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Ce("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Te.prototype._read=function(t){throw new rZ("_read()")};Te.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new k9(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Ce("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Cn.stdout&&t!==Cn.stderr?a:S;n.endEmitted?Cn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(R,N){Ce("onunpipe"),R===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,u())}function a(){Ce("onend"),t.end()}let l,c=!1;function u(){Ce("cleanup"),t.removeListener("close",h),t.removeListener("finish",T),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(Ce("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Ce("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=NZ(r,t),t.on("drain",l))}r.on("data",d);function d(R){Ce("ondata");let N=t.write(R);Ce("dest.write",N),N===!1&&E()}function f(R){if(Ce("onerror",R),S(),t.removeListener("error",f),t.listenerCount("error")===0){let N=t._writableState||t._readableState;N&&!N.errorEmitted?Xa(t,R):t.emit("error",R)}}z9(t,"error",f);function h(){t.removeListener("finish",T),S()}t.once("close",h);function T(){Ce("onfinish"),t.removeListener("close",h),S()}t.once("finish",T);function S(){Ce("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(Ce("pipe resume"),r.resume()),t};function NZ(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Ce("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Ce("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Te.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=H9(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Te.prototype.on=function(t,e){let r=ps.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ce("on readable",n.length,n.reading),n.length?Ud(this):n.reading||Cn.nextTick(OZ,this)),r};Te.prototype.addListener=Te.prototype.on;Te.prototype.removeListener=function(t,e){let r=ps.prototype.removeListener.call(this,t,e);return t==="readable"&&Cn.nextTick($P,this),r};Te.prototype.off=Te.prototype.removeListener;Te.prototype.removeAllListeners=function(t){let e=ps.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Cn.nextTick($P,this),e};function $P(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[po]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function OZ(t){Ce("readable nexttick read 0"),t.read(0)}Te.prototype.resume=function(){let t=this._readableState;return t.flowing||(Ce("resume"),t.flowing=!t.readableListening,mZ(this,t)),t[po]=!1,this};function mZ(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Cn.nextTick(gZ,t,e))}function gZ(t,e){Ce("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),VP(t),e.flowing&&!e.reading&&t.read(0)}Te.prototype.pause=function(){return Ce("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ce("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[po]=!0,this};function VP(t){let e=t._readableState;for(Ce("flow",e.flowing);e.flowing&&t.read()!==null;);}Te.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Xa(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=V9(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Te.prototype[X9]=function(){return kP(this)};Te.prototype.iterator=function(t){return t!==void 0&&aZ(t,"options"),kP(this,t)};function kP(t,e){typeof t.read!="function"&&(t=Te.wrap(t,{objectMode:!0}));let r=CZ(t,e);return r.stream=t,r}async function*CZ(t,e){let r=PA;function n(o){this===t?(r(),r=PA):r=o}t.on("readable",n);let i,s=vP(t,{writable:!1},o=>{i=o?DP(i,o):null,r(),r=PA});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new xP(n)}}}catch(o){throw i=DP(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?ja.destroyer(t,null):(t.off("readable",n),s())}}FA(Te.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});FA(vd.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[po]!==!1},set(t){this[po]=!!t}}});Te._fromList=qP;function qP(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function xA(t){let e=t._readableState;Ce("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Cn.nextTick(yZ,e,t))}function yZ(t,e){if(Ce("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Cn.nextTick(LZ,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function LZ(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Te.from=function(t,e){return lZ(Te,t,e)};var vA;function XP(){return vA===void 0&&(vA={}),vA}Te.fromWeb=function(t,e){return XP().newStreamReadableFromReadableStream(t,e)};Te.toWeb=function(t,e){return XP().newReadableStreamFromStreamReadable(t,e)};Te.wrap=function(t,e){var r,n;return new Te({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){ja.destroyer(t,i),s(i)}}).wrap(t)}});var Wd=g((PDe,oM)=>{"use strict";var Ao=qe(),{ArrayPrototypeSlice:JP,Error:bZ,FunctionPrototypeSymbolHasInstance:QP,ObjectDefineProperty:ZP,ObjectDefineProperties:wZ,ObjectSetPrototypeOf:eM,StringPrototypeToLowerCase:DZ,Symbol:PZ,SymbolHasInstance:MZ}=at();oM.exports=ft;ft.WritableState=fu;var{EventEmitter:xZ}=require("events"),uu=Ld().Stream,{Buffer:Bd}=require("buffer"),Hd=So(),{addAbortSignal:vZ}=iu(),{getHighWaterMark:UZ,getDefaultHighWaterMark:BZ}=su(),{ERR_INVALID_ARG_TYPE:FZ,ERR_METHOD_NOT_IMPLEMENTED:GZ,ERR_MULTIPLE_CALLBACK:tM,ERR_STREAM_CANNOT_PIPE:HZ,ERR_STREAM_DESTROYED:Eu,ERR_STREAM_ALREADY_FINISHED:WZ,ERR_STREAM_NULL_VALUES:YZ,ERR_STREAM_WRITE_AFTER_END:$Z,ERR_UNKNOWN_ENCODING:rM}=Ar().codes,{errorOrDestroy:za}=Hd;eM(ft.prototype,uu.prototype);eM(ft,uu);function WA(){}var Ja=PZ("kOnFinished");function fu(t,e,r){typeof r!="boolean"&&(r=e instanceof Kn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?UZ(this,t,"writableHighWaterMark",r):BZ(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=kZ.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Gd(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ja]=[]}function Gd(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}fu.prototype.getBuffer=function(){return JP(this.buffered,this.bufferedIndex)};ZP(fu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ft(t){let e=this instanceof Kn();if(!e&&!QP(ft,this))return new ft(t);this._writableState=new fu(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&vZ(t.signal,this)),uu.call(this,t),Hd.construct(this,()=>{let r=this._writableState;r.writing||$A(this,r),VA(this,r)})}ZP(ft,MZ,{__proto__:null,value:function(t){return QP(this,t)?!0:this!==ft?!1:t&&t._writableState instanceof fu}});ft.prototype.pipe=function(){za(this,new HZ)};function nM(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Bd.isEncoding(r))throw new rM(r);typeof n!="function"&&(n=WA)}if(e===null)throw new YZ;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Bd.from(e,r),r="buffer");else if(e instanceof Bd)r="buffer";else if(uu._isUint8Array(e))e=uu._uint8ArrayToBuffer(e),r="buffer";else throw new FZ("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new $Z:i.destroyed&&(s=new Eu("write")),s?(Ao.nextTick(n,s),za(t,s,!0),s):(i.pendingcb++,VZ(t,i,e,r,n))}ft.prototype.write=function(t,e,r){return nM(this,t,e,r)===!0};ft.prototype.cork=function(){this._writableState.corked++};ft.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||$A(this,t))};ft.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=DZ(e)),!Bd.isEncoding(e))throw new rM(e);return this._writableState.defaultEncoding=e,this};function VZ(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==WA&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function jP(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Eu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function zP(t,e,r,n){--e.pendingcb,n(r),YA(e),za(t,r)}function kZ(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){za(t,new tM);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Ao.nextTick(zP,t,r,e,i):zP(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&$A(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Ao.nextTick(qZ,r.afterWriteTickInfo)):iM(t,r,1,i))}function qZ({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,iM(t,e,r,n)}function iM(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&YA(e),VA(t,e)}function YA(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Eu("write"))}let r=t[Ja].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Eu("end"))}Gd(t)}function $A(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?WA:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:JP(r,o);l.allBuffers=e.allBuffers,jP(t,e,!0,e.length,l,"",a),Gd(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;jP(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Gd(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ft.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new GZ("_write()")};ft.prototype._writev=null;ft.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=nM(this,t,e);s instanceof bZ&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,VA(this,n,!0),n.ended=!0):n.finished?i=new WZ("end"):n.destroyed&&(i=new Eu("end"))),typeof r=="function"&&(i||n.finished?Ao.nextTick(r,i):n[Ja].push(r)),this};function Fd(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function XZ(t,e){let r=!1;function n(i){if(r){za(t,i??tM());return}if(r=!0,e.pendingcb--,i){let s=e[Ja].splice(0);for(let o=0;o<s.length;o++)s[o](i);za(t,i,e.sync)}else Fd(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Ao.nextTick(HA,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function KZ(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,XZ(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function VA(t,e,r){Fd(e)&&(KZ(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Ao.nextTick((n,i)=>{Fd(i)?HA(n,i):i.pendingcb--},t,e)):Fd(e)&&(e.pendingcb++,HA(t,e))))}function HA(t,e){e.pendingcb--,e.finished=!0;let r=e[Ja].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}wZ(ft.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var jZ=Hd.destroy;ft.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Ja].length)&&Ao.nextTick(YA,r),jZ.call(this,t,e),this};ft.prototype._undestroy=Hd.undestroy;ft.prototype._destroy=function(t,e){e(t)};ft.prototype[xZ.captureRejectionSymbol]=function(t){this.destroy(t)};var GA;function sM(){return GA===void 0&&(GA={}),GA}ft.fromWeb=function(t,e){return sM().newStreamWritableFromWritableStream(t,e)};ft.toWeb=function(t){return sM().newWritableStreamFromStreamWritable(t)}});var IM=g((MDe,_M)=>{var kA=qe(),zZ=require("buffer"),{isReadable:JZ,isWritable:QZ,isIterable:aM,isNodeStream:ZZ,isReadableNodeStream:lM,isWritableNodeStream:cM,isDuplexNodeStream:eee,isReadableStream:uM,isWritableStream:EM}=kn(),fM=wi(),{AbortError:pM,codes:{ERR_INVALID_ARG_TYPE:tee,ERR_INVALID_RETURN_VALUE:dM}}=Ar(),{destroyer:Za}=So(),ree=Kn(),AM=cu(),nee=Wd(),{createDeferredPromise:hM}=Dr(),TM=wA(),SM=globalThis.Blob||zZ.Blob,iee=typeof SM<"u"?function(e){return e instanceof SM}:function(e){return!1},see=globalThis.AbortController||Ct().AbortController,{FunctionPrototypeCall:RM}=at(),As=class extends ree{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};_M.exports=function t(e,r){if(eee(e))return e;if(lM(e))return Qa({readable:e});if(cM(e))return Qa({writable:e});if(ZZ(e))return Qa({writable:!1,readable:!1});if(uM(e))return Qa({readable:AM.fromWeb(e)});if(EM(e))return Qa({writable:nee.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=oee(e);if(aM(i))return TM(As,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=RM(l,i,E=>{if(E!=null)throw new dM("nully","body",E)},E=>{Za(c,E)});return c=new As({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,kA.nextTick(E,null)}catch(d){kA.nextTick(E,d)}})},destroy:a})}throw new dM("Iterable, AsyncIterable or AsyncFunction",r,i)}if(iee(e))return t(e.arrayBuffer());if(aM(e))return TM(As,e,{objectMode:!0,writable:!1});if(uM(e?.readable)&&EM(e?.writable))return As.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?lM(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?cM(e?.writable)?e?.writable:t(e.writable):void 0;return Qa({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return RM(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Za(i,s)}),i=new As({objectMode:!0,writable:!1,read(){}})}throw new tee(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function oee(t){let{promise:e,resolve:r}=hM(),n=new see,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(kA.nextTick(c),l)return;if(i.aborted)throw new pM(void 0,{cause:i.reason});({promise:e,resolve:r}=hM()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Qa(t){let e=t.readable&&typeof t.readable.read!="function"?AM.wrap(t.readable):t.readable,r=t.writable,n=!!JZ(e),i=!!QZ(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new As({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(fM(r,E=>{i=!1,E&&Za(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(fM(e,E=>{n=!1,E&&Za(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new pM),a=null,s=null,o=null,l===null?d(E):(l=d,Za(r,E),Za(e,E))},c}});var Kn=g((xDe,mM)=>{"use strict";var{ObjectDefineProperties:aee,ObjectGetOwnPropertyDescriptor:Di,ObjectKeys:lee,ObjectSetPrototypeOf:NM}=at();mM.exports=yn;var KA=cu(),un=Wd();NM(yn.prototype,KA.prototype);NM(yn,KA);{let t=lee(un.prototype);for(let e=0;e<t.length;e++){let r=t[e];yn.prototype[r]||(yn.prototype[r]=un.prototype[r])}}function yn(t){if(!(this instanceof yn))return new yn(t);KA.call(this,t),un.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}aee(yn.prototype,{writable:{__proto__:null,...Di(un.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Di(un.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Di(un.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Di(un.prototype,"writableBuffer")},writableLength:{__proto__:null,...Di(un.prototype,"writableLength")},writableFinished:{__proto__:null,...Di(un.prototype,"writableFinished")},writableCorked:{__proto__:null,...Di(un.prototype,"writableCorked")},writableEnded:{__proto__:null,...Di(un.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Di(un.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var qA;function OM(){return qA===void 0&&(qA={}),qA}yn.fromWeb=function(t,e){return OM().newStreamDuplexFromReadableWritablePair(t,e)};yn.toWeb=function(t){return OM().newReadableWritablePairFromDuplex(t)};var XA;yn.from=function(t){return XA||(XA=IM()),XA(t,"body")}});var JA=g((vDe,CM)=>{"use strict";var{ObjectSetPrototypeOf:gM,Symbol:cee}=at();CM.exports=Pi;var{ERR_METHOD_NOT_IMPLEMENTED:uee}=Ar().codes,zA=Kn(),{getHighWaterMark:Eee}=su();gM(Pi.prototype,zA.prototype);gM(Pi,zA);var du=cee("kCallback");function Pi(t){if(!(this instanceof Pi))return new Pi(t);let e=t?Eee(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),zA.call(this,t),this._readableState.sync=!1,this[du]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",fee)}function jA(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function fee(){this._final!==jA&&jA.call(this)}Pi.prototype._final=jA;Pi.prototype._transform=function(t,e,r){throw new uee("_transform()")};Pi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[du]=r})};Pi.prototype._read=function(){if(this[du]){let t=this[du];this[du]=null,t()}}});var ZA=g((UDe,LM)=>{"use strict";var{ObjectSetPrototypeOf:yM}=at();LM.exports=el;var QA=JA();yM(el.prototype,QA.prototype);yM(el,QA);function el(t){if(!(this instanceof el))return new el(t);QA.call(this,t)}el.prototype._transform=function(t,e,r){r(null,t)}});var kd=g((BDe,MM)=>{var hu=qe(),{ArrayIsArray:dee,Promise:hee,SymbolAsyncIterator:Tee,SymbolDispose:See}=at(),Vd=wi(),{once:Ree}=Dr(),pee=So(),bM=Kn(),{aggregateTwoErrors:Aee,codes:{ERR_INVALID_ARG_TYPE:l_,ERR_INVALID_RETURN_VALUE:e_,ERR_MISSING_ARGS:_ee,ERR_STREAM_DESTROYED:Iee,ERR_STREAM_PREMATURE_CLOSE:Nee},AbortError:Oee}=Ar(),{validateFunction:mee,validateAbortSignal:gee}=ka(),{isIterable:_o,isReadable:t_,isReadableNodeStream:$d,isNodeStream:wM,isTransformStream:tl,isWebStream:Cee,isReadableStream:r_,isReadableFinished:yee}=kn(),Lee=globalThis.AbortController||Ct().AbortController,n_,i_,s_;function DM(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Vd(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,pee.destroyer(t,s||new Iee("pipe")))},cleanup:i}}function bee(t){return mee(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function o_(t){if(_o(t))return t;if($d(t))return wee(t);throw new l_("val",["Readable","Iterable","AsyncIterable"],t)}async function*wee(t){i_||(i_=cu()),yield*i_.prototype[Tee].call(t)}async function Yd(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new hee((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Vd(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?Aee(i,c):c)}finally{l(),e.off("drain",o)}}async function a_(t,e,r,{end:n}){tl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Dee(...t){return PM(t,Ree(bee(t)))}function PM(t,e,r){if(t.length===1&&dee(t[0])&&(t=t[0]),t.length<2)throw new _ee("streams");let n=new Lee,i=n.signal,s=r?.signal,o=[];gee(s,"options.signal");function a(){h(new Oee)}s_=s_||Dr().addAbortListener;let l;s&&(l=s_(s,a));let c,u,E=[],d=0;function f(p){h(p,--d===0)}function h(p,A){var O;if(p&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=p),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[See](),n.abort(),A&&(c||o.forEach(b=>b()),hu.nextTick(e,c,u))}}let T;for(let p=0;p<t.length;p++){let A=t[p],O=p<t.length-1,b=p>0,I=O||r?.end!==!1,D=p===t.length-1;if(wM(A)){let L=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var N=L;if(I){let{destroy:P,cleanup:x}=DM(A,O,b);E.push(P),t_(A)&&D&&o.push(x)}A.on("error",L),t_(A)&&D&&o.push(()=>{A.removeListener("error",L)})}if(p===0)if(typeof A=="function"){if(T=A({signal:i}),!_o(T))throw new e_("Iterable, AsyncIterable or Stream","source",T)}else _o(A)||$d(A)||tl(A)?T=A:T=bM.from(A);else if(typeof A=="function"){if(tl(T)){var S;T=o_((S=T)===null||S===void 0?void 0:S.readable)}else T=o_(T);if(T=A(T,{signal:i}),O){if(!_o(T,!0))throw new e_("AsyncIterable",`transform[${p-1}]`,T)}else{var R;n_||(n_=ZA());let L=new n_({objectMode:!0}),P=(R=T)===null||R===void 0?void 0:R.then;if(typeof P=="function")d++,P.call(T,Y=>{u=Y,Y!=null&&L.write(Y),I&&L.end(),hu.nextTick(f)},Y=>{L.destroy(Y),hu.nextTick(f,Y)});else if(_o(T,!0))d++,Yd(T,L,f,{end:I});else if(r_(T)||tl(T)){let Y=T.readable||T;d++,Yd(Y,L,f,{end:I})}else throw new e_("AsyncIterable or Promise","destination",T);T=L;let{destroy:x,cleanup:$}=DM(T,!1,!0);E.push(x),D&&o.push($)}}else if(wM(A)){if($d(T)){d+=2;let L=Pee(T,A,f,{end:I});t_(A)&&D&&o.push(L)}else if(tl(T)||r_(T)){let L=T.readable||T;d++,Yd(L,A,f,{end:I})}else if(_o(T))d++,Yd(T,A,f,{end:I});else throw new l_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=A}else if(Cee(A)){if($d(T))d++,a_(o_(T),A,f,{end:I});else if(r_(T)||_o(T))d++,a_(T,A,f,{end:I});else if(tl(T))d++,a_(T.readable,A,f,{end:I});else throw new l_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=A}else T=bM.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&hu.nextTick(a),T}function Pee(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Nee)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;yee(t)?hu.nextTick(o):t.once("end",o)}else r();return Vd(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Vd(e,{readable:!1,writable:!0},r)}MM.exports={pipelineImpl:PM,pipeline:Dee}});var u_=g((FDe,GM)=>{"use strict";var{pipeline:Mee}=kd(),qd=Kn(),{destroyer:xee}=So(),{isNodeStream:Xd,isReadable:xM,isWritable:vM,isWebStream:c_,isTransformStream:Io,isWritableStream:UM,isReadableStream:BM}=kn(),{AbortError:vee,codes:{ERR_INVALID_ARG_VALUE:FM,ERR_MISSING_ARGS:Uee}}=Ar(),Bee=wi();GM.exports=function(...e){if(e.length===0)throw new Uee("streams");if(e.length===1)return qd.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=qd.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=qd.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Xd(e[f])&&!c_(e[f]))){if(f<e.length-1&&!(xM(e[f])||BM(e[f])||Io(e[f])))throw new FM(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(vM(e[f])||UM(e[f])||Io(e[f])))throw new FM(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let h=o;o=null,h?h(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=Mee(e,l),E=!!(vM(c)||UM(c)||Io(c)),d=!!(xM(u)||BM(u)||Io(u));if(a=new qd({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(Xd(c))a._write=function(h,T,S){c.write(h,T)?S():n=S},a._final=function(h){c.end(),i=h},c.on("drain",function(){if(n){let h=n;n=null,h()}});else if(c_(c)){let T=(Io(c)?c.writable:c).getWriter();a._write=async function(S,R,N){try{await T.ready,T.write(S).catch(()=>{}),N()}catch(p){N(p)}},a._final=async function(S){try{await T.ready,T.close().catch(()=>{}),i=S}catch(R){S(R)}}}let f=Io(u)?u.readable:u;Bee(f,()=>{if(i){let h=i;i=null,h()}})}if(d){if(Xd(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(c_(u)){let h=(Io(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:T,done:S}=await h.read();if(!a.push(T))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,h){!f&&o!==null&&(f=new vee),s=null,n=null,i=null,o===null?h(f):(o=h,Xd(u)&&xee(u,f))},a}});var jM=g((GDe,d_)=>{"use strict";var Fee=globalThis.AbortController||Ct().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Gee,ERR_INVALID_ARG_TYPE:Tu,ERR_MISSING_ARGS:Hee,ERR_OUT_OF_RANGE:Wee},AbortError:jn}=Ar(),{validateAbortSignal:No,validateInteger:HM,validateObject:Oo}=ka(),Yee=at().Symbol("kWeak"),$ee=at().Symbol("kResistStopPropagation"),{finished:Vee}=wi(),kee=u_(),{addAbortSignalNoValidate:qee}=iu(),{isWritable:Xee,isNodeStream:Kee}=kn(),{deprecate:jee}=Dr(),{ArrayPrototypePush:zee,Boolean:Jee,MathFloor:WM,Number:Qee,NumberIsNaN:Zee,Promise:YM,PromiseReject:$M,PromiseResolve:ete,PromisePrototypeThen:VM,Symbol:qM}=at(),Kd=qM("kEmpty"),kM=qM("kEof");function tte(t,e){if(e!=null&&Oo(e,"options"),e?.signal!=null&&No(e.signal,"options.signal"),Kee(t)&&!Xee(t))throw new Gee("stream",t,"must be writable");let r=kee(this,t);return e!=null&&e.signal&&qee(e.signal,r),r}function jd(t,e){if(typeof t!="function")throw new Tu("fn",["Function","AsyncFunction"],t);e!=null&&Oo(e,"options"),e?.signal!=null&&No(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=WM(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=WM(e.highWaterMark)),HM(r,"options.concurrency",1),HM(n,"options.highWaterMark",0),n+=r,async function*(){let s=Dr().AbortSignalAny([e?.signal].filter(Jee)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,h()}function h(){d-=1,T()}function T(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let R of o){if(E)return;if(s.aborted)throw new jn;try{if(R=t(R,l),R===Kd)continue;R=ete(R)}catch(N){R=$M(N)}d+=1,VM(R,h,f),a.push(R),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new YM(N=>{u=N})}a.push(kM)}catch(R){let N=$M(R);VM(N,h,f),a.push(N)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let R=await a[0];if(R===kM)return;if(s.aborted)throw new jn;R!==Kd&&(yield R),a.shift(),T()}await new YM(R=>{c=R})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function rte(t=void 0){return t!=null&&Oo(t,"options"),t?.signal!=null&&No(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new jn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function XM(t,e=void 0){for await(let r of f_.call(this,t,e))return!0;return!1}async function nte(t,e=void 0){if(typeof t!="function")throw new Tu("fn",["Function","AsyncFunction"],t);return!await XM.call(this,async(...r)=>!await t(...r),e)}async function ite(t,e){for await(let r of f_.call(this,t,e))return r}async function ste(t,e){if(typeof t!="function")throw new Tu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Kd}for await(let n of jd.call(this,r,e));}function f_(t,e){if(typeof t!="function")throw new Tu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Kd}return jd.call(this,r,e)}var E_=class extends Hee{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ote(t,e,r){var n;if(typeof t!="function")throw new Tu("reducer",["Function","AsyncFunction"],t);r!=null&&Oo(r,"options"),r?.signal!=null&&No(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new jn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Vee(this.destroy(c)),c}let s=new Fee,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Yee]:this,[$ee]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new jn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new E_}finally{s.abort()}return e}async function ate(t){t!=null&&Oo(t,"options"),t?.signal!=null&&No(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new jn(void 0,{cause:t.signal.reason});zee(e,n)}return e}function lte(t,e){let r=jd.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function KM(t){if(t=Qee(t),Zee(t))return 0;if(t<0)throw new Wee("number",">= 0",t);return t}function cte(t,e=void 0){return e!=null&&Oo(e,"options"),e?.signal!=null&&No(e.signal,"options.signal"),t=KM(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new jn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new jn;t--<=0&&(yield s)}}.call(this)}function ute(t,e=void 0){return e!=null&&Oo(e,"options"),e?.signal!=null&&No(e.signal,"options.signal"),t=KM(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new jn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new jn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}d_.exports.streamReturningOperators={asIndexedPairs:jee(rte,"readable.asIndexedPairs will be removed in a future version."),drop:cte,filter:f_,flatMap:lte,map:jd,take:ute,compose:tte};d_.exports.promiseReturningOperators={every:nte,forEach:ste,reduce:ote,toArray:ate,some:XM,find:ite}});var h_=g((HDe,zM)=>{"use strict";var{ArrayPrototypePop:Ete,Promise:fte}=at(),{isIterable:dte,isNodeStream:hte,isWebStream:Tte}=kn(),{pipelineImpl:Ste}=kd(),{finished:Rte}=wi();T_();function pte(...t){return new fte((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!hte(s)&&!dte(s)&&!Tte(s)){let o=Ete(t);n=o.signal,i=o.end}Ste(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}zM.exports={finished:Rte,pipeline:pte}});var T_=g((WDe,sx)=>{"use strict";var{Buffer:Ate}=require("buffer"),{ObjectDefineProperty:Mi,ObjectKeys:ZM,ReflectApply:ex}=at(),{promisify:{custom:tx}}=Dr(),{streamReturningOperators:JM,promiseReturningOperators:QM}=jM(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:rx}}=Ar(),_te=u_(),{setDefaultHighWaterMark:Ite,getDefaultHighWaterMark:Nte}=su(),{pipeline:nx}=kd(),{destroyer:Ote}=So(),ix=wi(),S_=h_(),Su=kn(),tt=sx.exports=Ld().Stream;tt.isDestroyed=Su.isDestroyed;tt.isDisturbed=Su.isDisturbed;tt.isErrored=Su.isErrored;tt.isReadable=Su.isReadable;tt.isWritable=Su.isWritable;tt.Readable=cu();for(let t of ZM(JM)){let r=function(...n){if(new.target)throw rx();return tt.Readable.from(ex(e,this,n))},e=JM[t];Mi(r,"name",{__proto__:null,value:e.name}),Mi(r,"length",{__proto__:null,value:e.length}),Mi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of ZM(QM)){let r=function(...n){if(new.target)throw rx();return ex(e,this,n)},e=QM[t];Mi(r,"name",{__proto__:null,value:e.name}),Mi(r,"length",{__proto__:null,value:e.length}),Mi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}tt.Writable=Wd();tt.Duplex=Kn();tt.Transform=JA();tt.PassThrough=ZA();tt.pipeline=nx;var{addAbortSignal:mte}=iu();tt.addAbortSignal=mte;tt.finished=ix;tt.destroy=Ote;tt.compose=_te;tt.setDefaultHighWaterMark=Ite;tt.getDefaultHighWaterMark=Nte;Mi(tt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return S_}});Mi(nx,tx,{__proto__:null,enumerable:!0,get(){return S_.pipeline}});Mi(ix,tx,{__proto__:null,enumerable:!0,get(){return S_.finished}});tt.Stream=tt;tt._isUint8Array=function(e){return e instanceof Uint8Array};tt._uint8ArrayToBuffer=function(e){return Ate.from(e.buffer,e.byteOffset,e.byteLength)}});var ox=g((YDe,Ne)=>{"use strict";var Mt=require("stream");if(Mt&&process.env.READABLE_STREAM==="disable"){let t=Mt.promises;Ne.exports._uint8ArrayToBuffer=Mt._uint8ArrayToBuffer,Ne.exports._isUint8Array=Mt._isUint8Array,Ne.exports.isDisturbed=Mt.isDisturbed,Ne.exports.isErrored=Mt.isErrored,Ne.exports.isReadable=Mt.isReadable,Ne.exports.Readable=Mt.Readable,Ne.exports.Writable=Mt.Writable,Ne.exports.Duplex=Mt.Duplex,Ne.exports.Transform=Mt.Transform,Ne.exports.PassThrough=Mt.PassThrough,Ne.exports.addAbortSignal=Mt.addAbortSignal,Ne.exports.finished=Mt.finished,Ne.exports.destroy=Mt.destroy,Ne.exports.pipeline=Mt.pipeline,Ne.exports.compose=Mt.compose,Object.defineProperty(Mt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Ne.exports.Stream=Mt.Stream}else{let t=T_(),e=h_(),r=t.Readable.destroy;Ne.exports=t.Readable,Ne.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Ne.exports._isUint8Array=t._isUint8Array,Ne.exports.isDisturbed=t.isDisturbed,Ne.exports.isErrored=t.isErrored,Ne.exports.isReadable=t.isReadable,Ne.exports.Readable=t.Readable,Ne.exports.Writable=t.Writable,Ne.exports.Duplex=t.Duplex,Ne.exports.Transform=t.Transform,Ne.exports.PassThrough=t.PassThrough,Ne.exports.addAbortSignal=t.addAbortSignal,Ne.exports.finished=t.finished,Ne.exports.destroy=t.destroy,Ne.exports.destroy=r,Ne.exports.pipeline=t.pipeline,Ne.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Ne.exports.Stream=t.Stream}Ne.exports.default=Ne.exports});var lx=g(($De,ax)=>{function gte(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}ax.exports=gte});var fx=g((VDe,Ex)=>{var cx=dd(),Cte=Qp(),yte=Zp(),ux=cx?cx.isConcatSpreadable:void 0;function Lte(t){return yte(t)||Cte(t)||!!(ux&&t&&t[ux])}Ex.exports=Lte});var zd=g((kDe,hx)=>{var bte=lx(),wte=fx();function dx(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=wte),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?dx(a,e-1,r,n,i):bte(i,a):n||(i[i.length]=a)}return i}hx.exports=dx});var Sx=g((qDe,Tx)=>{var Dte=zd();function Pte(t){var e=t==null?0:t.length;return e?Dte(t,1):[]}Tx.exports=Pte});var Ru=g((XDe,Rx)=>{var Mte=jc(),xte=Mte(Object,"create");Rx.exports=xte});var _x=g((KDe,Ax)=>{var px=Ru();function vte(){this.__data__=px?px(null):{},this.size=0}Ax.exports=vte});var Nx=g((jDe,Ix)=>{function Ute(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}Ix.exports=Ute});var mx=g((zDe,Ox)=>{var Bte=Ru(),Fte="__lodash_hash_undefined__",Gte=Object.prototype,Hte=Gte.hasOwnProperty;function Wte(t){var e=this.__data__;if(Bte){var r=e[t];return r===Fte?void 0:r}return Hte.call(e,t)?e[t]:void 0}Ox.exports=Wte});var Cx=g((JDe,gx)=>{var Yte=Ru(),$te=Object.prototype,Vte=$te.hasOwnProperty;function kte(t){var e=this.__data__;return Yte?e[t]!==void 0:Vte.call(e,t)}gx.exports=kte});var Lx=g((QDe,yx)=>{var qte=Ru(),Xte="__lodash_hash_undefined__";function Kte(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=qte&&e===void 0?Xte:e,this}yx.exports=Kte});var wx=g((ZDe,bx)=>{var jte=_x(),zte=Nx(),Jte=mx(),Qte=Cx(),Zte=Lx();function rl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rl.prototype.clear=jte;rl.prototype.delete=zte;rl.prototype.get=Jte;rl.prototype.has=Qte;rl.prototype.set=Zte;bx.exports=rl});var Px=g((ePe,Dx)=>{function ere(){this.__data__=[],this.size=0}Dx.exports=ere});var pu=g((tPe,Mx)=>{var tre=Td();function rre(t,e){for(var r=t.length;r--;)if(tre(t[r][0],e))return r;return-1}Mx.exports=rre});var vx=g((rPe,xx)=>{var nre=pu(),ire=Array.prototype,sre=ire.splice;function ore(t){var e=this.__data__,r=nre(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():sre.call(e,r,1),--this.size,!0}xx.exports=ore});var Bx=g((nPe,Ux)=>{var are=pu();function lre(t){var e=this.__data__,r=are(e,t);return r<0?void 0:e[r][1]}Ux.exports=lre});var Gx=g((iPe,Fx)=>{var cre=pu();function ure(t){return cre(this.__data__,t)>-1}Fx.exports=ure});var Wx=g((sPe,Hx)=>{var Ere=pu();function fre(t,e){var r=this.__data__,n=Ere(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Hx.exports=fre});var $x=g((oPe,Yx)=>{var dre=Px(),hre=vx(),Tre=Bx(),Sre=Gx(),Rre=Wx();function nl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nl.prototype.clear=dre;nl.prototype.delete=hre;nl.prototype.get=Tre;nl.prototype.has=Sre;nl.prototype.set=Rre;Yx.exports=nl});var kx=g((aPe,Vx)=>{var pre=jc(),Are=Ga(),_re=pre(Are,"Map");Vx.exports=_re});var Kx=g((lPe,Xx)=>{var qx=wx(),Ire=$x(),Nre=kx();function Ore(){this.size=0,this.__data__={hash:new qx,map:new(Nre||Ire),string:new qx}}Xx.exports=Ore});var zx=g((cPe,jx)=>{function mre(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}jx.exports=mre});var Au=g((uPe,Jx)=>{var gre=zx();function Cre(t,e){var r=t.__data__;return gre(e)?r[typeof e=="string"?"string":"hash"]:r.map}Jx.exports=Cre});var Zx=g((EPe,Qx)=>{var yre=Au();function Lre(t){var e=yre(this,t).delete(t);return this.size-=e?1:0,e}Qx.exports=Lre});var tv=g((fPe,ev)=>{var bre=Au();function wre(t){return bre(this,t).get(t)}ev.exports=wre});var nv=g((dPe,rv)=>{var Dre=Au();function Pre(t){return Dre(this,t).has(t)}rv.exports=Pre});var sv=g((hPe,iv)=>{var Mre=Au();function xre(t,e){var r=Mre(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}iv.exports=xre});var av=g((TPe,ov)=>{var vre=Kx(),Ure=Zx(),Bre=tv(),Fre=nv(),Gre=sv();function il(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}il.prototype.clear=vre;il.prototype.delete=Ure;il.prototype.get=Bre;il.prototype.has=Fre;il.prototype.set=Gre;ov.exports=il});var cv=g((SPe,lv)=>{var Hre="__lodash_hash_undefined__";function Wre(t){return this.__data__.set(t,Hre),this}lv.exports=Wre});var Ev=g((RPe,uv)=>{function Yre(t){return this.__data__.has(t)}uv.exports=Yre});var R_=g((pPe,fv)=>{var $re=av(),Vre=cv(),kre=Ev();function Jd(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new $re;++e<r;)this.add(t[e])}Jd.prototype.add=Jd.prototype.push=Vre;Jd.prototype.has=kre;fv.exports=Jd});var hv=g((APe,dv)=>{function qre(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}dv.exports=qre});var Sv=g((_Pe,Tv)=>{function Xre(t){return t!==t}Tv.exports=Xre});var pv=g((IPe,Rv)=>{function Kre(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}Rv.exports=Kre});var _v=g((NPe,Av)=>{var jre=hv(),zre=Sv(),Jre=pv();function Qre(t,e,r){return e===e?Jre(t,e,r):jre(t,zre,r)}Av.exports=Qre});var p_=g((OPe,Iv)=>{var Zre=_v();function ene(t,e){var r=t==null?0:t.length;return!!r&&Zre(t,e,0)>-1}Iv.exports=ene});var A_=g((mPe,Nv)=>{function tne(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}Nv.exports=tne});var mv=g((gPe,Ov)=>{function rne(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}Ov.exports=rne});var __=g((CPe,gv)=>{function nne(t,e){return t.has(e)}gv.exports=nne});var yv=g((yPe,Cv)=>{var ine=R_(),sne=p_(),one=A_(),ane=mv(),lne=eA(),cne=__(),une=200;function Ene(t,e,r,n){var i=-1,s=sne,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;r&&(e=ane(e,lne(r))),n?(s=one,o=!1):e.length>=une&&(s=cne,o=!1,e=new ine(e));e:for(;++i<a;){var u=t[i],E=r==null?u:r(u);if(u=n||u!==0?u:0,o&&E===E){for(var d=c;d--;)if(e[d]===E)continue e;l.push(u)}else s(e,E,n)||l.push(u)}return l}Cv.exports=Ene});var I_=g((LPe,Lv)=>{var fne=Sd(),dne=Ha();function hne(t){return dne(t)&&fne(t)}Lv.exports=hne});var Dv=g((bPe,wv)=>{var Tne=yv(),Sne=zd(),Rne=hd(),bv=I_(),pne=Rne(function(t,e){return bv(t)?Tne(t,Sne(e,1,bv,!0)):[]});wv.exports=pne});var Mv=g((wPe,Pv)=>{var Ane=jc(),_ne=Ga(),Ine=Ane(_ne,"Set");Pv.exports=Ine});var vv=g((DPe,xv)=>{function Nne(){}xv.exports=Nne});var N_=g((PPe,Uv)=>{function One(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}Uv.exports=One});var Fv=g((MPe,Bv)=>{var O_=Mv(),mne=vv(),gne=N_(),Cne=1/0,yne=O_&&1/gne(new O_([,-0]))[1]==Cne?function(t){return new O_(t)}:mne;Bv.exports=yne});var Hv=g((xPe,Gv)=>{var Lne=R_(),bne=p_(),wne=A_(),Dne=__(),Pne=Fv(),Mne=N_(),xne=200;function vne(t,e,r){var n=-1,i=bne,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=wne;else if(s>=xne){var c=e?null:Pne(t);if(c)return Mne(c);o=!1,i=Dne,l=new Lne}else l=e?[]:a;e:for(;++n<s;){var u=t[n],E=e?e(u):u;if(u=r||u!==0?u:0,o&&E===E){for(var d=l.length;d--;)if(l[d]===E)continue e;e&&l.push(E),a.push(u)}else i(l,E,r)||(l!==a&&l.push(E),a.push(u))}return a}Gv.exports=vne});var Yv=g((vPe,Wv)=>{var Une=zd(),Bne=hd(),Fne=Hv(),Gne=I_(),Hne=Bne(function(t){return Fne(Une(t,1,Gne,!0))});Wv.exports=Hne});var Vv=g((UPe,$v)=>{function Wne(t,e){return function(r){return t(e(r))}}$v.exports=Wne});var qv=g((BPe,kv)=>{var Yne=Vv(),$ne=Yne(Object.getPrototypeOf,Object);kv.exports=$ne});var jv=g((FPe,Kv)=>{var Vne=Xc(),kne=qv(),qne=Ha(),Xne="[object Object]",Kne=Function.prototype,jne=Object.prototype,Xv=Kne.toString,zne=jne.hasOwnProperty,Jne=Xv.call(Object);function Qne(t){if(!qne(t)||Vne(t)!=Xne)return!1;var e=kne(t);if(e===null)return!0;var r=zne.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Xv.call(r)==Jne}Kv.exports=Qne});var nU=g((GPe,rU)=>{var zv=ap();rU.exports=tie;var Jv="\0SLASH"+Math.random()+"\0",Qv="\0OPEN"+Math.random()+"\0",g_="\0CLOSE"+Math.random()+"\0",Zv="\0COMMA"+Math.random()+"\0",eU="\0PERIOD"+Math.random()+"\0";function m_(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Zne(t){return t.split("\\\\").join(Jv).split("\\{").join(Qv).split("\\}").join(g_).split("\\,").join(Zv).split("\\.").join(eU)}function eie(t){return t.split(Jv).join("\\").split(Qv).join("{").split(g_).join("}").split(Zv).join(",").split(eU).join(".")}function tU(t){if(!t)return[""];var e=[],r=zv("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=tU(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function tie(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),_u(Zne(t),!0).map(eie)):[]}function rie(t){return"{"+t+"}"}function nie(t){return/^-?0\d/.test(t)}function iie(t,e){return t<=e}function sie(t,e){return t>=e}function _u(t,e){var r=[],n=zv("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?_u(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,E=n.body.indexOf(",")>=0;if(!u&&!E)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+g_+n.post,_u(t)):[t];var d;if(u)d=n.body.split(/\.\./);else if(d=tU(n.body),d.length===1&&(d=_u(d[0],!1).map(rie),d.length===1))return s.map(function(P){return n.pre+d[0]+P});var f;if(u){var h=m_(d[0]),T=m_(d[1]),S=Math.max(d[0].length,d[1].length),R=d.length==3?Math.abs(m_(d[2])):1,N=iie,p=T<h;p&&(R*=-1,N=sie);var A=d.some(nie);f=[];for(var O=h;N(O,T);O+=R){var b;if(c)b=String.fromCharCode(O),b==="\\"&&(b="");else if(b=String(O),A){var I=S-b.length;if(I>0){var D=new Array(I+1).join("0");O<0?b="-"+D+b.slice(1):b=D+b}}f.push(b)}}else{f=[];for(var L=0;L<d.length;L++)f.push.apply(f,_u(d[L],!1))}for(var L=0;L<f.length;L++)for(var o=0;o<s.length;o++){var a=i+f[L]+s[o];(!e||u||a)&&r.push(a)}}return r}});var iU=g(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.assertValidPattern=void 0;var oie=1024*64,aie=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>oie)throw new TypeError("pattern is too long")};Qd.assertValidPattern=aie});var oU=g(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.parseClass=void 0;var lie={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Iu=t=>t.replace(/[[\]\\-]/g,"\\$&"),cie=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),sU=t=>t.join(""),uie=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,E="";e:for(;s<t.length;){let T=t.charAt(s);if((T==="!"||T==="^")&&s===r+1){c=!0,s++;continue}if(T==="]"&&o&&!l){u=s+1;break}if(o=!0,T==="\\"&&!l){l=!0,s++;continue}if(T==="["&&!l){for(let[S,[R,N,p]]of Object.entries(lie))if(t.startsWith(S,s)){if(E)return["$.",!1,t.length-r,!0];s+=S.length,p?i.push(R):n.push(R),a=a||N;continue e}}if(l=!1,E){T>E?n.push(Iu(E)+"-"+Iu(T)):T===E&&n.push(Iu(T)),E="",s++;continue}if(t.startsWith("-]",s+1)){n.push(Iu(T+"-")),s+=2;continue}if(t.startsWith("-",s+1)){E=T,s+=2;continue}n.push(Iu(T)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let T=n[0].length===2?n[0].slice(-1):n[0];return[cie(T),!1,u-r,!1]}let d="["+(c?"^":"")+sU(n)+"]",f="["+(c?"":"^")+sU(i)+"]";return[n.length&&i.length?"("+d+"|"+f+")":n.length?d:f,a,u-r,!0]};Zd.parseClass=uie});var th=g(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.unescape=void 0;var Eie=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");eh.unescape=Eie});var L_=g(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.AST=void 0;var fie=oU(),rh=th(),die=new Set(["!","?","+","*","@"]),aU=t=>die.has(t),hie="(?!(?:^|/)\\.\\.?(?:$|/))",nh="(?!\\.)",Tie=new Set(["[","."]),Sie=new Set(["..","."]),Rie=new Set("().*{}+?[]^$\\!"),pie=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),y_="[^/]",lU=y_+"*?",cU=y_+"+?",C_=class t{type;#e;#t;#s=!1;#n=[];#o;#_;#c;#E=!1;#a;#l;#i=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#o=r,this.#e=this.#o?this.#o.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#c=this.#e===this?[]:this.#e.#c,e==="!"&&!this.#e.#E&&this.#c.push(this),this.#_=this.#o?this.#o.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#S(){if(this!==this.#e)throw new Error("should only call on root");if(this.#E)return this;this.toString(),this.#E=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let r=e,n=r.#o;for(;n;){for(let i=r.#_+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#o}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#o===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#E&&this.#o?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#o?.isStart())return!1;if(this.#_===0)return!0;let e=this.#o;for(let r=0;r<this.#_;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let e=this.#o?this.#o.#n.length:0;return this.#_===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#R(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let f=n,h="";for(;f<e.length;){let T=e.charAt(f++);if(s||T==="\\"){s=!s,h+=T;continue}if(o){f===a+1?(T==="^"||T==="!")&&(l=!0):T==="]"&&!(f===a+2&&l)&&(o=!1),h+=T;continue}else if(T==="["){o=!0,a=f,l=!1,h+=T;continue}if(!i.noext&&aU(T)&&e.charAt(f)==="("){r.push(h),h="";let S=new t(T,r);f=t.#R(e,S,f,i),r.push(S);continue}h+=T}return r.push(h),f}let c=n+1,u=new t(null,r),E=[],d="";for(;c<e.length;){let f=e.charAt(c++);if(s||f==="\\"){s=!s,d+=f;continue}if(o){c===a+1?(f==="^"||f==="!")&&(l=!0):f==="]"&&!(c===a+2&&l)&&(o=!1),d+=f;continue}else if(f==="["){o=!0,a=c,l=!1,d+=f;continue}if(aU(f)&&e.charAt(c)==="("){u.push(d),d="";let h=new t(f,u);u.push(h),c=t.#R(e,h,c,i);continue}if(f==="|"){u.push(d),d="",E.push(u),u=new t(null,r);continue}if(f===")")return d===""&&r.#n.length===0&&(r.#i=!0),u.push(d),d="",r.push(...E,u),c;d+=f}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],c}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#R(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#a}toRegExpSource(e){let r=e??!!this.#a.dot;if(this.#e===this&&this.#S(),!this.type){let l=this.isStart()&&this.isEnd(),c=this.#n.map(f=>{let[h,T,S,R]=typeof f=="string"?t.#f(f,this.#t,l):f.toRegExpSource(e);return this.#t=this.#t||S,this.#s=this.#s||R,h}).join(""),u="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&Sie.has(this.#n[0]))){let h=Tie,T=r&&h.has(c.charAt(0))||c.startsWith("\\.")&&h.has(c.charAt(2))||c.startsWith("\\.\\.")&&h.has(c.charAt(4)),S=!r&&!e&&h.has(c.charAt(0));u=T?hie:S?nh:""}let E="";return this.isEnd()&&this.#e.#E&&this.#o?.type==="!"&&(E="(?:$|\\/)"),[u+c+E,(0,rh.unescape)(c),this.#t=!!this.#t,this.#s]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,(0,rh.unescape)(this.toString()),!1,!1]}let o=!n||e||r||!nh?"":this.#d(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#i)a=(this.isStart()&&!r?nh:"")+cU;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?nh:"")+lU+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+l}return[a,(0,rh.unescape)(s),this.#t=!!this.#t,this.#s]}#d(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#f(e,r,n=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(i){i=!1,s+=(Rie.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[c,u,E,d]=(0,fie.parseClass)(e,a);if(E){s+=c,o=o||u,a+=E-1,r=r||d;continue}}if(l==="*"){n&&e==="*"?s+=cU:s+=lU,r=!0;continue}if(l==="?"){s+=y_,r=!0;continue}s+=pie(l)}return[s,(0,rh.unescape)(e),!!r,o]}};ih.AST=C_});var b_=g(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.escape=void 0;var Aie=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");sh.escape=Aie});var _s=g(K=>{"use strict";var _ie=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(K,"__esModule",{value:!0});K.unescape=K.escape=K.AST=K.Minimatch=K.match=K.makeRe=K.braceExpand=K.defaults=K.filter=K.GLOBSTAR=K.sep=K.minimatch=void 0;var Iie=_ie(nU()),oh=iU(),fU=L_(),Nie=b_(),Oie=th(),mie=(t,e,r={})=>((0,oh.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new mo(e,r).match(t));K.minimatch=mie;var gie=/^\*+([^+@!?\*\[\(]*)$/,Cie=t=>e=>!e.startsWith(".")&&e.endsWith(t),yie=t=>e=>e.endsWith(t),Lie=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),bie=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),wie=/^\*+\.\*+$/,Die=t=>!t.startsWith(".")&&t.includes("."),Pie=t=>t!=="."&&t!==".."&&t.includes("."),Mie=/^\.\*+$/,xie=t=>t!=="."&&t!==".."&&t.startsWith("."),vie=/^\*+$/,Uie=t=>t.length!==0&&!t.startsWith("."),Bie=t=>t.length!==0&&t!=="."&&t!=="..",Fie=/^\?+([^+@!?\*\[\(]*)?$/,Gie=([t,e=""])=>{let r=dU([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Hie=([t,e=""])=>{let r=hU([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Wie=([t,e=""])=>{let r=hU([t]);return e?n=>r(n)&&n.endsWith(e):r},Yie=([t,e=""])=>{let r=dU([t]);return e?n=>r(n)&&n.endsWith(e):r},dU=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},hU=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},TU=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",uU={win32:{sep:"\\"},posix:{sep:"/"}};K.sep=TU==="win32"?uU.win32.sep:uU.posix.sep;K.minimatch.sep=K.sep;K.GLOBSTAR=Symbol("globstar **");K.minimatch.GLOBSTAR=K.GLOBSTAR;var $ie="[^/]",Vie=$ie+"*?",kie="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",qie="(?:(?!(?:\\/|^)\\.).)*?",Xie=(t,e={})=>r=>(0,K.minimatch)(r,t,e);K.filter=Xie;K.minimatch.filter=K.filter;var En=(t,e={})=>Object.assign({},t,e),Kie=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return K.minimatch;let e=K.minimatch;return Object.assign((n,i,s={})=>e(n,i,En(t,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,En(t,s))}static defaults(i){return e.defaults(En(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,En(t,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,En(t,s))}},unescape:(n,i={})=>e.unescape(n,En(t,i)),escape:(n,i={})=>e.escape(n,En(t,i)),filter:(n,i={})=>e.filter(n,En(t,i)),defaults:n=>e.defaults(En(t,n)),makeRe:(n,i={})=>e.makeRe(n,En(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,En(t,i)),match:(n,i,s={})=>e.match(n,i,En(t,s)),sep:e.sep,GLOBSTAR:K.GLOBSTAR})};K.defaults=Kie;K.minimatch.defaults=K.defaults;var jie=(t,e={})=>((0,oh.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,Iie.default)(t));K.braceExpand=jie;K.minimatch.braceExpand=K.braceExpand;var zie=(t,e={})=>new mo(t,e).makeRe();K.makeRe=zie;K.minimatch.makeRe=K.makeRe;var Jie=(t,e,r={})=>{let n=new mo(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};K.match=Jie;K.minimatch.match=K.match;var EU=/[?*]|[+@!]\(.*?\)|\[|\]/,Qie=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),mo=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,oh.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||TU,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!EU.test(s[2]))&&!EU.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let o=i;for(;n[o+1]==="**";)o++;o>i&&n.splice(i+1,o-i);let a=n[i+1],l=n[i+2],c=n[i+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",e.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let a=n[o];o===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let o=n[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])o.push(a==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])o.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])o.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),i++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let T=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),S=!T&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),R=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),N=!R&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),p=S?3:T?0:void 0,A=N?3:R?0:void 0;if(typeof p=="number"&&typeof A=="number"){let[O,b]=[e[p],r[A]];O.toLowerCase()===b.toLowerCase()&&(r[A]=O,A>p?r=r.slice(A):p>A&&(e=e.slice(p)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],E=e[o];if(this.debug(r,u,E),u===!1)return!1;if(u===K.GLOBSTAR){this.debug("GLOBSTAR",[r,u,E]);var d=o,f=a+1;if(f===c){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;d<l;){var h=e[d];if(this.debug(`
globstar while`,e,d,r,f,h),this.matchOne(e.slice(d),r.slice(f),n))return this.debug("globstar found match!",d,l,h),!0;if(h==="."||h===".."||!i.dot&&h.charAt(0)==="."){this.debug("dot detected!",e,d,r,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,f),d===l))}let T;if(typeof u=="string"?(T=E===u,this.debug("string match",u,E,T)):(T=u.test(E),this.debug("pattern match",u,E,T)),!T)return!1}if(o===l&&a===c)return!0;if(o===l)return n;if(a===c)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,K.braceExpand)(this.pattern,this.options)}parse(e){(0,oh.assertValidPattern)(e);let r=this.options;if(e==="**")return K.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(vie))?i=r.dot?Bie:Uie:(n=e.match(gie))?i=(r.nocase?r.dot?bie:Lie:r.dot?yie:Cie)(n[1]):(n=e.match(Fie))?i=(r.nocase?r.dot?Hie:Gie:r.dot?Wie:Yie)(n):(n=e.match(wie))?i=r.dot?Pie:Die:(n=e.match(Mie))&&(i=xie);let s=fU.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Vie:r.dot?kie:qie,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let E of u.flags.split(""))i.add(E);return typeof u=="string"?Qie(u):u===K.GLOBSTAR?K.GLOBSTAR:u._src});return c.forEach((u,E)=>{let d=c[E+1],f=c[E-1];u!==K.GLOBSTAR||f===K.GLOBSTAR||(f===void 0?d!==void 0&&d!==K.GLOBSTAR?c[E+1]="(?:\\/|"+n+"\\/)?"+d:c[E]=n:d===void 0?c[E-1]=f+"(?:\\/|"+n+")?":d!==K.GLOBSTAR&&(c[E-1]=f+"(?:\\/|\\/"+n+"\\/)"+d,c[E+1]=K.GLOBSTAR))}),c.filter(u=>u!==K.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let l=s[a],c=i;if(n.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return K.minimatch.defaults(e).Minimatch}};K.Minimatch=mo;var Zie=L_();Object.defineProperty(K,"AST",{enumerable:!0,get:function(){return Zie.AST}});var ese=b_();Object.defineProperty(K,"escape",{enumerable:!0,get:function(){return ese.escape}});var tse=th();Object.defineProperty(K,"unescape",{enumerable:!0,get:function(){return tse.unescape}});K.minimatch.AST=fU.AST;K.minimatch.Minimatch=mo;K.minimatch.escape=Nie.escape;K.minimatch.unescape=Oie.unescape});var _U=g(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.LRUCache=void 0;var sl=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,RU=new Set,w_=typeof process=="object"&&process?process:{},pU=(t,e,r,n)=>{typeof w_.emitWarning=="function"?w_.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},ah=globalThis.AbortController,SU=globalThis.AbortSignal;if(typeof ah>"u"){SU=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},ah=class{constructor(){e()}signal=new SU;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=w_.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,pU("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var rse=t=>!RU.has(t),Is=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),AU=t=>Is(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?ol:null:null,ol=class extends Array{constructor(e){super(e),this.fill(0)}},D_=class t{heap;length;static#e=!1;static create(e){let r=AU(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},P_=class t{#e;#t;#s;#n;#o;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#E;#a;#l;#i;#S;#R;#d;#f;#O;#T;#m;#g;#A;#I;#N;#h;static unsafeExposeInternals(e){return{starts:e.#g,ttls:e.#A,sizes:e.#m,keyMap:e.#a,keyList:e.#l,valList:e.#i,next:e.#S,prev:e.#R,get head(){return e.#d},get tail(){return e.#f},free:e.#O,isBackgroundFetch:r=>e.#u(r),backgroundFetch:(r,n,i,s)=>e.#F(r,n,i,s),moveToTail:r=>e.#H(r),indexes:r=>e.#y(r),rindexes:r=>e.#L(r),isStale:r=>e.#p(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#E}get size(){return this.#c}get fetchMethod(){return this.#o}get memoMethod(){return this.#_}get dispose(){return this.#s}get disposeAfter(){return this.#n}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:E,noUpdateTTL:d,maxSize:f=0,maxEntrySize:h=0,sizeCalculation:T,fetchMethod:S,memoMethod:R,noDeleteOnFetchRejection:N,noDeleteOnStaleGet:p,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:O,ignoreFetchAbort:b}=e;if(r!==0&&!Is(r))throw new TypeError("max option must be a nonnegative integer");let I=r?AU(r):Array;if(!I)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=f,this.maxEntrySize=h||this.#t,this.sizeCalculation=T,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(R!==void 0&&typeof R!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#_=R,S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=S,this.#N=!!S,this.#a=new Map,this.#l=new Array(r).fill(void 0),this.#i=new Array(r).fill(void 0),this.#S=new I(r),this.#R=new I(r),this.#d=0,this.#f=0,this.#O=D_.create(r),this.#c=0,this.#E=0,typeof c=="function"&&(this.#s=c),typeof u=="function"?(this.#n=u,this.#T=[]):(this.#n=void 0,this.#T=void 0),this.#I=!!this.#s,this.#h=!!this.#n,this.noDisposeOnSet=!!E,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!N,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!O,this.ignoreFetchAbort=!!b,this.maxEntrySize!==0){if(this.#t!==0&&!Is(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Is(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#w()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!p,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Is(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Is(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#b()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let D="LRU_CACHE_UNBOUNDED";rse(D)&&(RU.add(D),pU("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#b(){let e=new ol(this.#e),r=new ol(this.#e);this.#A=e,this.#g=r,this.#P=(s,o,a=sl.now())=>{if(r[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#p(s)&&this.#D(this.#l[s],"expire")},o+1);l.unref&&l.unref()}},this.#C=s=>{r[s]=e[s]!==0?sl.now():0},this.#r=(s,o)=>{if(e[o]){let a=e[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=n||i();let c=s.now-l;s.remainingTTL=a-c}};let n=0,i=()=>{let s=sl.now();if(this.ttlResolution>0){n=s;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#a.get(s);if(o===void 0)return 0;let a=e[o],l=r[o];if(!a||!l)return 1/0;let c=(n||i())-l;return a-c},this.#p=s=>{let o=r[s],a=e[s];return!!a&&!!o&&(n||i())-o>a}}#C=()=>{};#r=()=>{};#P=()=>{};#p=()=>!1;#w(){let e=new ol(this.#e);this.#E=0,this.#m=e,this.#M=r=>{this.#E-=e[r],e[r]=0},this.#v=(r,n,i,s)=>{if(this.#u(n))return 0;if(!Is(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!Is(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#x=(r,n,i)=>{if(e[r]=n,this.#t){let s=this.#t-e[r];for(;this.#E>s;)this.#B(!0)}this.#E+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#E)}}#M=e=>{};#x=(e,r,n)=>{};#v=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#y({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#f;!(!this.#U(r)||((e||!this.#p(r))&&(yield r),r===this.#d));)r=this.#R[r]}*#L({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#d;!(!this.#U(r)||((e||!this.#p(r))&&(yield r),r===this.#f));)r=this.#S[r]}#U(e){return e!==void 0&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#y())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*rentries(){for(let e of this.#L())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*keys(){for(let e of this.#y()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*rkeys(){for(let e of this.#L()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*values(){for(let e of this.#y())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}*rvalues(){for(let e of this.#L())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#y()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.#l[n],this))return this.get(this.#l[n],r)}}forEach(e,r=this){for(let n of this.#y()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}rforEach(e,r=this){for(let n of this.#L()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}purgeStale(){let e=!1;for(let r of this.#L({allowStale:!0}))this.#p(r)&&(this.#D(this.#l[r],"expire"),e=!0);return e}info(e){let r=this.#a.get(e);if(r===void 0)return;let n=this.#i[r],i=this.#u(n)?n.__staleWhileFetching:n;if(i===void 0)return;let s={value:i};if(this.#A&&this.#g){let o=this.#A[r],a=this.#g[r];if(o&&a){let l=o-(sl.now()-a);s.ttl=l,s.start=Date.now()}}return this.#m&&(s.size=this.#m[r]),s}dump(){let e=[];for(let r of this.#y({allowStale:!0})){let n=this.#l[r],i=this.#i[r],s=this.#u(i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;let o={value:s};if(this.#A&&this.#g){o.ttl=this.#A[r];let a=sl.now()-this.#g[r];o.start=Math.floor(Date.now()-a)}this.#m&&(o.size=this.#m[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=sl.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n,{noUpdateTTL:c=this.noUpdateTTL}=n,u=this.#v(e,r,n.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let E=this.#c===0?void 0:this.#a.get(e);if(E===void 0)E=this.#c===0?this.#f:this.#O.length!==0?this.#O.pop():this.#c===this.#e?this.#B(!1):this.#c,this.#l[E]=e,this.#i[E]=r,this.#a.set(e,E),this.#S[this.#f]=E,this.#R[E]=this.#f,this.#f=E,this.#c++,this.#x(E,u,l),l&&(l.set="add"),c=!1;else{this.#H(E);let d=this.#i[E];if(r!==d){if(this.#N&&this.#u(d)){d.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:f}=d;f!==void 0&&!o&&(this.#I&&this.#s?.(f,e,"set"),this.#h&&this.#T?.push([f,e,"set"]))}else o||(this.#I&&this.#s?.(d,e,"set"),this.#h&&this.#T?.push([d,e,"set"]));if(this.#M(E),this.#x(E,u,l),this.#i[E]=r,l){l.set="replace";let f=d&&this.#u(d)?d.__staleWhileFetching:d;f!==void 0&&(l.oldValue=f)}}else l&&(l.set="update")}if(i!==0&&!this.#A&&this.#b(),this.#A&&(c||this.#P(E,i,s),l&&this.#r(l,E)),!o&&this.#h&&this.#T){let d=this.#T,f;for(;f=d?.shift();)this.#n?.(...f)}return this}pop(){try{for(;this.#c;){let e=this.#i[this.#d];if(this.#B(!0),this.#u(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#h&&this.#T){let e=this.#T,r;for(;r=e?.shift();)this.#n?.(...r)}}}#B(e){let r=this.#d,n=this.#l[r],i=this.#i[r];return this.#N&&this.#u(i)?i.__abortController.abort(new Error("evicted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(i,n,"evict"),this.#h&&this.#T?.push([i,n,"evict"])),this.#M(r),e&&(this.#l[r]=void 0,this.#i[r]=void 0,this.#O.push(r)),this.#c===1?(this.#d=this.#f=0,this.#O.length=0):this.#d=this.#S[r],this.#a.delete(n),this.#c--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=this.#a.get(e);if(s!==void 0){let o=this.#i[s];if(this.#u(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#p(s))i&&(i.has="stale",this.#r(i,s));else return n&&this.#C(s),i&&(i.has="hit",this.#r(i,s)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i===void 0||!n&&this.#p(i))return;let s=this.#i[i];return this.#u(s)?s.__staleWhileFetching:s}#F(e,r,n,i){let s=r===void 0?void 0:this.#i[r];if(this.#u(s))return s;let o=new ah,{signal:a}=n;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:n,context:i},c=(T,S=!1)=>{let{aborted:R}=o.signal,N=n.ignoreFetchAbort&&T!==void 0;if(n.status&&(R&&!S?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,N&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),R&&!N&&!S)return E(o.signal.reason);let p=f;return this.#i[r]===f&&(T===void 0?p.__staleWhileFetching?this.#i[r]=p.__staleWhileFetching:this.#D(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,T,l.options))),T},u=T=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=T),E(T)),E=T=>{let{aborted:S}=o.signal,R=S&&n.allowStaleOnFetchAbort,N=R||n.allowStaleOnFetchRejection,p=N||n.noDeleteOnFetchRejection,A=f;if(this.#i[r]===f&&(!p||A.__staleWhileFetching===void 0?this.#D(e,"fetch"):R||(this.#i[r]=A.__staleWhileFetching)),N)return n.status&&A.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),A.__staleWhileFetching;if(A.__returned===A)throw T},d=(T,S)=>{let R=this.#o?.(e,s,l);R&&R instanceof Promise&&R.then(N=>T(N===void 0?void 0:N),S),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(T(void 0),n.allowStaleOnFetchAbort&&(T=N=>c(N,!0)))})};n.status&&(n.status.fetchDispatched=!0);let f=new Promise(d).then(c,u),h=Object.assign(f,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,h,{...l.options,status:void 0}),r=this.#a.get(e)):this.#i[r]=h,h}#u(e){if(!this.#N)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof ah}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:E=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:h=this.allowStaleOnFetchAbort,context:T,forceRefresh:S=!1,status:R,signal:N}=r;if(!this.#N)return R&&(R.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:R});let p={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:E,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:h,ignoreFetchAbort:f,status:R,signal:N},A=this.#a.get(e);if(A===void 0){R&&(R.fetch="miss");let O=this.#F(e,A,p,T);return O.__returned=O}else{let O=this.#i[A];if(this.#u(O)){let P=n&&O.__staleWhileFetching!==void 0;return R&&(R.fetch="inflight",P&&(R.returnedStale=!0)),P?O.__staleWhileFetching:O.__returned=O}let b=this.#p(A);if(!S&&!b)return R&&(R.fetch="hit"),this.#H(A),i&&this.#C(A),R&&this.#r(R,A),O;let I=this.#F(e,A,p,T),L=I.__staleWhileFetching!==void 0&&n;return R&&(R.fetch=b?"stale":"refresh",L&&b&&(R.returnedStale=!0)),L?I.__staleWhileFetching:I.__returned=I}}async forceFetch(e,r={}){let n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){let n=this.#_;if(!n)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:s,...o}=r,a=this.get(e,o);if(!s&&a!==void 0)return a;let l=n(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#a.get(e);if(a!==void 0){let l=this.#i[a],c=this.#u(l);return o&&this.#r(o,a),this.#p(a)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(this.#H(a),i&&this.#C(a),l))}else o&&(o.get="miss")}#G(e,r){this.#R[r]=e,this.#S[e]=r}#H(e){e!==this.#f&&(e===this.#d?this.#d=this.#S[e]:this.#G(this.#R[e],this.#S[e]),this.#G(this.#f,e),this.#f=e)}delete(e){return this.#D(e,"delete")}#D(e,r){let n=!1;if(this.#c!==0){let i=this.#a.get(e);if(i!==void 0)if(n=!0,this.#c===1)this.#W(r);else{this.#M(i);let s=this.#i[i];if(this.#u(s)?s.__abortController.abort(new Error("deleted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(s,e,r),this.#h&&this.#T?.push([s,e,r])),this.#a.delete(e),this.#l[i]=void 0,this.#i[i]=void 0,i===this.#f)this.#f=this.#R[i];else if(i===this.#d)this.#d=this.#S[i];else{let o=this.#R[i];this.#S[o]=this.#S[i];let a=this.#S[i];this.#R[a]=this.#R[i]}this.#c--,this.#O.push(i)}}if(this.#h&&this.#T?.length){let i=this.#T,s;for(;s=i?.shift();)this.#n?.(...s)}return n}clear(){return this.#W("delete")}#W(e){for(let r of this.#L({allowStale:!0})){let n=this.#i[r];if(this.#u(n))n.__abortController.abort(new Error("deleted"));else{let i=this.#l[r];this.#I&&this.#s?.(n,i,e),this.#h&&this.#T?.push([n,i,e])}}if(this.#a.clear(),this.#i.fill(void 0),this.#l.fill(void 0),this.#A&&this.#g&&(this.#A.fill(0),this.#g.fill(0)),this.#m&&this.#m.fill(0),this.#d=0,this.#f=0,this.#O.length=0,this.#E=0,this.#c=0,this.#h&&this.#T){let r=this.#T,n;for(;n=r?.shift();)this.#n?.(...n)}}};lh.LRUCache=P_});var DU=g(wU=>{"use strict";var IU=typeof process=="object"&&process?process:{stdout:null,stderr:null},nse=require("events"),NU=require("stream"),ise=require("string_decoder"),OU=ise.StringDecoder,xi=Symbol("EOF"),vi=Symbol("maybeEmitEnd"),Ns=Symbol("emittedEnd"),ch=Symbol("emittingEnd"),Nu=Symbol("emittedError"),uh=Symbol("closed"),mU=Symbol("read"),Eh=Symbol("flush"),gU=Symbol("flushChunk"),$r=Symbol("encoding"),Ui=Symbol("decoder"),fh=Symbol("flowing"),Ou=Symbol("paused"),al=Symbol("resume"),yt=Symbol("buffer"),zn=Symbol("pipes"),Kt=Symbol("bufferLength"),M_=Symbol("bufferPush"),x_=Symbol("bufferShift"),lr=Symbol("objectMode"),Lt=Symbol("destroyed"),v_=Symbol("error"),U_=Symbol("emitData"),CU=Symbol("emitEnd"),B_=Symbol("emitEnd2"),Bi=Symbol("async"),F_=Symbol("abort"),dh=Symbol("aborted"),go=Symbol("signal"),mu=t=>Promise.resolve().then(t),bU=global._MP_NO_ITERATOR_SYMBOLS_!=="1",yU=bU&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),LU=bU&&Symbol.iterator||Symbol("iterator not implemented"),sse=t=>t==="end"||t==="finish"||t==="prefinish",ose=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,ase=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),hh=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[al](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},G_=class extends hh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},H_=class t extends NU{constructor(e){super(),this[fh]=!1,this[Ou]=!1,this[zn]=[],this[yt]=[],this[lr]=e&&e.objectMode||!1,this[lr]?this[$r]=null:this[$r]=e&&e.encoding||null,this[$r]==="buffer"&&(this[$r]=null),this[Bi]=e&&!!e.async||!1,this[Ui]=this[$r]?new OU(this[$r]):null,this[xi]=!1,this[Ns]=!1,this[ch]=!1,this[uh]=!1,this[Nu]=null,this.writable=!0,this.readable=!0,this[Kt]=0,this[Lt]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[yt]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[zn]}),this[go]=e&&e.signal,this[dh]=!1,this[go]&&(this[go].addEventListener("abort",()=>this[F_]()),this[go].aborted&&this[F_]())}get bufferLength(){return this[Kt]}get encoding(){return this[$r]}set encoding(e){if(this[lr])throw new Error("cannot set encoding in objectMode");if(this[$r]&&e!==this[$r]&&(this[Ui]&&this[Ui].lastNeed||this[Kt]))throw new Error("cannot change encoding");this[$r]!==e&&(this[Ui]=e?new OU(e):null,this[yt].length&&(this[yt]=this[yt].map(r=>this[Ui].write(r)))),this[$r]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[lr]}set objectMode(e){this[lr]=this[lr]||!!e}get async(){return this[Bi]}set async(e){this[Bi]=this[Bi]||!!e}[F_](){this[dh]=!0,this.emit("abort",this[go].reason),this.destroy(this[go].reason)}get aborted(){return this[dh]}set aborted(e){}write(e,r,n){if(this[dh])return!1;if(this[xi])throw new Error("write after end");if(this[Lt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Bi]?mu:s=>s();return!this[lr]&&!Buffer.isBuffer(e)&&(ase(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):ose(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[lr]?(this.flowing&&this[Kt]!==0&&this[Eh](!0),this.flowing?this.emit("data",e):this[M_](e),this[Kt]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[$r]&&!this[Ui].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[$r]&&(e=this[Ui].write(e)),this.flowing&&this[Kt]!==0&&this[Eh](!0),this.flowing?this.emit("data",e):this[M_](e),this[Kt]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[Kt]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Lt])return null;if(this[Kt]===0||e===0||e>this[Kt])return this[vi](),null;this[lr]&&(e=null),this[yt].length>1&&!this[lr]&&(this.encoding?this[yt]=[this[yt].join("")]:this[yt]=[Buffer.concat(this[yt],this[Kt])]);let r=this[mU](e||null,this[yt][0]);return this[vi](),r}[mU](e,r){return e===r.length||e===null?this[x_]():(this[yt][0]=r.slice(e),r=r.slice(0,e),this[Kt]-=e),this.emit("data",r),!this[yt].length&&!this[xi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[xi]=!0,this.writable=!1,(this.flowing||!this[Ou])&&this[vi](),this}[al](){this[Lt]||(this[Ou]=!1,this[fh]=!0,this.emit("resume"),this[yt].length?this[Eh]():this[xi]?this[vi]():this.emit("drain"))}resume(){return this[al]()}pause(){this[fh]=!1,this[Ou]=!0}get destroyed(){return this[Lt]}get flowing(){return this[fh]}get paused(){return this[Ou]}[M_](e){this[lr]?this[Kt]+=1:this[Kt]+=e.length,this[yt].push(e)}[x_](){return this[lr]?this[Kt]-=1:this[Kt]-=this[yt][0].length,this[yt].shift()}[Eh](e){do;while(this[gU](this[x_]())&&this[yt].length);!e&&!this[yt].length&&!this[xi]&&this.emit("drain")}[gU](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[Lt])return;let n=this[Ns];return r=r||{},e===IU.stdout||e===IU.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[zn].push(r.proxyErrors?new G_(this,e,r):new hh(this,e,r)),this[Bi]?mu(()=>this[al]()):this[al]()),e}unpipe(e){let r=this[zn].find(n=>n.dest===e);r&&(this[zn].splice(this[zn].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[zn].length&&!this.flowing?this[al]():e==="readable"&&this[Kt]!==0?super.emit("readable"):sse(e)&&this[Ns]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Nu]&&(this[Bi]?mu(()=>r.call(this,this[Nu])):r.call(this,this[Nu])),n}get emittedEnd(){return this[Ns]}[vi](){!this[ch]&&!this[Ns]&&!this[Lt]&&this[yt].length===0&&this[xi]&&(this[ch]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[uh]&&this.emit("close"),this[ch]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Lt&&this[Lt])return;if(e==="data")return!this[lr]&&!r?!1:this[Bi]?mu(()=>this[U_](r)):this[U_](r);if(e==="end")return this[CU]();if(e==="close"){if(this[uh]=!0,!this[Ns]&&!this[Lt])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Nu]=r,super.emit(v_,r);let s=!this[go]||this.listeners("error").length?super.emit("error",r):!1;return this[vi](),s}else if(e==="resume"){let s=super.emit("resume");return this[vi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[vi](),i}[U_](e){for(let n of this[zn])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[vi](),r}[CU](){this[Ns]||(this[Ns]=!0,this.readable=!1,this[Bi]?mu(()=>this[B_]()):this[B_]())}[B_](){if(this[Ui]){let r=this[Ui].end();if(r){for(let n of this[zn])n.dest.write(r);super.emit("data",r)}}for(let r of this[zn])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[lr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[lr]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[lr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[lr]?Promise.reject(new Error("cannot concat in objectMode")):this[$r]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Lt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[yU](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[xi])return r();let s=null,o=null,a=E=>{this.removeListener("data",l),this.removeListener("end",c),this.removeListener(Lt,u),r(),o(E)},l=E=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(Lt,u),this.pause(),s({value:E,done:!!this[xi]})},c=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(Lt,u),r(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((E,d)=>{o=d,s=E,this.once(Lt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[yU](){return this}}}[LU](){let e=!1,r=()=>(this.pause(),this.removeListener(v_,r),this.removeListener(Lt,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(v_,r),this.once(Lt,r),{next:n,throw:r,return:r,[LU](){return this}}}destroy(e){return this[Lt]?(e?this.emit("error",e):this.emit(Lt),this):(this[Lt]=!0,this[yt].length=0,this[Kt]=0,typeof this.close=="function"&&!this[uh]&&this.close(),e?this.emit("error",e):this.emit(Lt),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof NU||e instanceof nse&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};wU.Minipass=H_});var qU=g(Ve=>{"use strict";var lse=Ve&&Ve.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),cse=Ve&&Ve.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),use=Ve&&Ve.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lse(e,t,r);return cse(e,t),e};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PathScurry=Ve.Path=Ve.PathScurryDarwin=Ve.PathScurryPosix=Ve.PathScurryWin32=Ve.PathScurryBase=Ve.PathPosix=Ve.PathWin32=Ve.PathBase=Ve.ChildrenCache=Ve.ResolveCache=void 0;var BU=_U(),Ah=require("node:path"),Ese=require("node:url"),Cu=require("fs"),fse=use(require("node:fs")),dse=Cu.realpathSync.native,Th=require("node:fs/promises"),PU=DU(),yu={lstatSync:Cu.lstatSync,readdir:Cu.readdir,readdirSync:Cu.readdirSync,readlinkSync:Cu.readlinkSync,realpathSync:dse,promises:{lstat:Th.lstat,readdir:Th.readdir,readlink:Th.readlink,realpath:Th.realpath}},FU=t=>!t||t===yu||t===fse?yu:{...yu,...t,promises:{...yu.promises,...t.promises||{}}},GU=/^\\\\\?\\([a-z]:)\\?$/i,hse=t=>t.replace(/\//g,"\\").replace(GU,"$1\\"),Tse=/[\\\/]/,dn=0,HU=1,WU=2,Jn=4,YU=6,$U=8,Co=10,VU=12,fn=15,gu=~fn,W_=16,MU=32,Lu=64,Ln=128,Sh=256,ph=512,xU=Lu|Ln|ph,Sse=1023,Y_=t=>t.isFile()?$U:t.isDirectory()?Jn:t.isSymbolicLink()?Co:t.isCharacterDevice()?WU:t.isBlockDevice()?YU:t.isSocket()?VU:t.isFIFO()?HU:dn,vU=new Map,bu=t=>{let e=vU.get(t);if(e)return e;let r=t.normalize("NFKD");return vU.set(t,r),r},UU=new Map,Rh=t=>{let e=UU.get(t);if(e)return e;let r=bu(t.toLowerCase());return UU.set(t,r),r},wu=class extends BU.LRUCache{constructor(){super({max:256})}};Ve.ResolveCache=wu;var _h=class extends BU.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}};Ve.ChildrenCache=_h;var kU=Symbol("PathScurry setAsCwd"),cr=class{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#s;get mode(){return this.#s}#n;get nlink(){return this.#n}#o;get uid(){return this.#o}#_;get gid(){return this.#_}#c;get rdev(){return this.#c}#E;get blksize(){return this.#E}#a;get ino(){return this.#a}#l;get size(){return this.#l}#i;get blocks(){return this.#i}#S;get atimeMs(){return this.#S}#R;get mtimeMs(){return this.#R}#d;get ctimeMs(){return this.#d}#f;get birthtimeMs(){return this.#f}#O;get atime(){return this.#O}#T;get mtime(){return this.#T}#m;get ctime(){return this.#m}#g;get birthtime(){return this.#g}#A;#I;#N;#h;#b;#C;#r;#P;#p;#w;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=dn,n,i,s,o,a){this.name=e,this.#A=s?Rh(e):bu(e),this.#r=r&Sse,this.nocase=s,this.roots=i,this.root=n||this,this.#P=o,this.#N=a.fullpath,this.#b=a.relative,this.#C=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=FU(a.fs)}depth(){return this.#I!==void 0?this.#I:this.parent?this.#I=this.parent.depth()+1:this.#I=0}childrenCache(){return this.#P}resolve(e){if(!e)return this;let r=this.getRootString(e),i=e.substring(r.length).split(this.splitSep);return r?this.getRoot(r).#M(i):this.#M(i)}#M(e){let r=this;for(let n of e)r=r.child(n);return r}children(){let e=this.#P.get(this);if(e)return e;let r=Object.assign([],{provisional:0});return this.#P.set(this,r),this.#r&=~W_,r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let n=this.children(),i=this.nocase?Rh(e):bu(e);for(let l of n)if(l.#A===i)return l;let s=this.parent?this.sep:"",o=this.#N?this.#N+s+e:void 0,a=this.newChild(e,dn,{...r,parent:this,fullpath:o});return this.canReaddir()||(a.#r|=Ln),n.push(a),a}relative(){if(this.isCWD)return"";if(this.#b!==void 0)return this.#b;let e=this.name,r=this.parent;if(!r)return this.#b=this.name;let n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#C!==void 0)return this.#C;let e=this.name,r=this.parent;if(!r)return this.#C=this.fullpathPosix();let n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#N!==void 0)return this.#N;let e=this.name,r=this.parent;if(!r)return this.#N=this.name;let i=r.fullpath()+(r.parent?this.sep:"")+e;return this.#N=i}fullpathPosix(){if(this.#h!==void 0)return this.#h;if(this.sep==="/")return this.#h=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#h=`//?/${i}`:this.#h=i}let e=this.parent,r=e.fullpathPosix(),n=r+(!r||!e.parent?"":"/")+this.name;return this.#h=n}isUnknown(){return(this.#r&fn)===dn}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&fn)===$U}isDirectory(){return(this.#r&fn)===Jn}isCharacterDevice(){return(this.#r&fn)===WU}isBlockDevice(){return(this.#r&fn)===YU}isFIFO(){return(this.#r&fn)===HU}isSocket(){return(this.#r&fn)===VU}isSymbolicLink(){return(this.#r&Co)===Co}lstatCached(){return this.#r&MU?this:void 0}readlinkCached(){return this.#p}realpathCached(){return this.#w}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#p)return!0;if(!this.parent)return!1;let e=this.#r&fn;return!(e!==dn&&e!==Co||this.#r&Sh||this.#r&Ln)}calledReaddir(){return!!(this.#r&W_)}isENOENT(){return!!(this.#r&Ln)}isNamed(e){return this.nocase?this.#A===Rh(e):this.#A===bu(e)}async readlink(){let e=this.#p;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=await this.#e.promises.readlink(this.fullpath()),n=(await this.parent.realpath())?.resolve(r);if(n)return this.#p=n}catch(r){this.#u(r.code);return}}readlinkSync(){let e=this.#p;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=this.#e.readlinkSync(this.fullpath()),n=this.parent.realpathSync()?.resolve(r);if(n)return this.#p=n}catch(r){this.#u(r.code);return}}#x(e){this.#r|=W_;for(let r=e.provisional;r<e.length;r++){let n=e[r];n&&n.#v()}}#v(){this.#r&Ln||(this.#r=(this.#r|Ln)&gu,this.#y())}#y(){let e=this.children();e.provisional=0;for(let r of e)r.#v()}#L(){this.#r|=ph,this.#U()}#U(){if(this.#r&Lu)return;let e=this.#r;(e&fn)===Jn&&(e&=gu),this.#r=e|Lu,this.#y()}#B(e=""){e==="ENOTDIR"||e==="EPERM"?this.#U():e==="ENOENT"?this.#v():this.children().provisional=0}#F(e=""){e==="ENOTDIR"?this.parent.#U():e==="ENOENT"&&this.#v()}#u(e=""){let r=this.#r;r|=Sh,e==="ENOENT"&&(r|=Ln),(e==="EINVAL"||e==="UNKNOWN")&&(r&=gu),this.#r=r,e==="ENOTDIR"&&this.parent&&this.parent.#U()}#G(e,r){return this.#D(e,r)||this.#H(e,r)}#H(e,r){let n=Y_(e),i=this.newChild(e.name,n,{parent:this}),s=i.#r&fn;return s!==Jn&&s!==Co&&s!==dn&&(i.#r|=Lu),r.unshift(i),r.provisional++,i}#D(e,r){for(let n=r.provisional;n<r.length;n++){let i=r[n];if((this.nocase?Rh(e.name):bu(e.name))===i.#A)return this.#W(e,i,n,r)}}#W(e,r,n,i){let s=r.name;return r.#r=r.#r&gu|Y_(e),s!==e.name&&(r.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(r)),i.provisional++,r}async lstat(){if((this.#r&Ln)===0)try{return this.#k(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#F(e.code)}}lstatSync(){if((this.#r&Ln)===0)try{return this.#k(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#F(e.code)}}#k(e){let{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:E,ino:d,mode:f,mtime:h,mtimeMs:T,nlink:S,rdev:R,size:N,uid:p}=e;this.#O=r,this.#S=n,this.#g=i,this.#f=s,this.#E=o,this.#i=a,this.#m=l,this.#d=c,this.#t=u,this.#_=E,this.#a=d,this.#s=f,this.#T=h,this.#R=T,this.#n=S,this.#c=R,this.#l=N,this.#o=p;let A=Y_(e);this.#r=this.#r&gu|A|MU,A!==dn&&A!==Jn&&A!==Co&&(this.#r|=Lu)}#$=[];#V=!1;#q(e){this.#V=!1;let r=this.#$.slice();this.#$.length=0,r.forEach(n=>n(null,e))}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}let n=this.children();if(this.calledReaddir()){let s=n.slice(0,n.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(this.#$.push(e),this.#V)return;this.#V=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(s,o)=>{if(s)this.#B(s.code),n.provisional=0;else{for(let a of o)this.#G(a,n);this.#x(n)}this.#q(n.slice(0,n.provisional))})}#Y;async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();if(this.#Y)await this.#Y;else{let n=()=>{};this.#Y=new Promise(i=>n=i);try{for(let i of await this.#e.promises.readdir(r,{withFileTypes:!0}))this.#G(i,e);this.#x(e)}catch(i){this.#B(i.code),e.provisional=0}this.#Y=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();try{for(let n of this.#e.readdirSync(r,{withFileTypes:!0}))this.#G(n,e);this.#x(e)}catch(n){this.#B(n.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#r&xU)return!1;let e=fn&this.#r;return e===dn||e===Jn||e===Co}shouldWalk(e,r){return(this.#r&Jn)===Jn&&!(this.#r&xU)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#w)return this.#w;if(!((ph|Sh|Ln)&this.#r))try{let e=await this.#e.promises.realpath(this.fullpath());return this.#w=this.resolve(e)}catch{this.#L()}}realpathSync(){if(this.#w)return this.#w;if(!((ph|Sh|Ln)&this.#r))try{let e=this.#e.realpathSync(this.fullpath());return this.#w=this.resolve(e)}catch{this.#L()}}[kU](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;let r=new Set([]),n=[],i=this;for(;i&&i.parent;)r.add(i),i.#b=n.join(this.sep),i.#C=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!r.has(i);)i.#b=void 0,i.#C=void 0,i=i.parent}};Ve.PathBase=cr;var Du=class t extends cr{sep="\\";splitSep=Tse;constructor(e,r=dn,n,i,s,o,a){super(e,r,n,i,s,o,a)}newChild(e,r=dn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return Ah.win32.parse(e).root}getRoot(e){if(e=hse(e.toUpperCase()),e===this.root.name)return this.root;for(let[r,n]of Object.entries(this.roots))if(this.sameRoot(e,r))return this.roots[e]=n;return this.roots[e]=new xu(e,this).root}sameRoot(e,r=this.root.name){return e=e.toUpperCase().replace(/\//g,"\\").replace(GU,"$1\\"),e===r}};Ve.PathWin32=Du;var Pu=class t extends cr{splitSep="/";sep="/";constructor(e,r=dn,n,i,s,o,a){super(e,r,n,i,s,o,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=dn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};Ve.PathPosix=Pu;var Mu=class{root;rootPath;roots;cwd;#e;#t;#s;nocase;#n;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=yu}={}){this.#n=FU(o),(e instanceof URL||e.startsWith("file://"))&&(e=(0,Ese.fileURLToPath)(e));let a=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new wu,this.#t=new wu,this.#s=new _h(s);let l=a.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#n),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,E=r.sep,d=this.rootPath,f=!1;for(let h of l){let T=u--;c=c.child(h,{relative:new Array(T).fill("..").join(E),relativePosix:new Array(T).fill("..").join("/"),fullpath:d+=(f?"":E)+h}),f=!0}this.cwd=c}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#s}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#e.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpath();return this.#e.set(r,i),i}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#t.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpathPosix();return this.#t.set(r,i),i}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e,e=this.cwd);let{withFileTypes:n}=r;if(e.canReaddir()){let i=await e.readdir();return n?i:i.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e,e=this.cwd);let{withFileTypes:n=!0}=r;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map(i=>i.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e.withFileTypes,e=this.cwd);let n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e.withFileTypes,e=this.cwd);let n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e.withFileTypes,e=this.cwd);let n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e.withFileTypes,e=this.cwd);let n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set,c=(E,d)=>{l.add(E),E.readdirCB((f,h)=>{if(f)return d(f);let T=h.length;if(!T)return d();let S=()=>{--T===0&&d()};for(let R of h)(!s||s(R))&&a.push(n?R:R.fullpath()),i&&R.isSymbolicLink()?R.realpath().then(N=>N?.isUnknown()?N.lstat():N).then(N=>N?.shouldWalk(l,o)?c(N,S):S()):R.shouldWalk(l,o)?c(R,S):S()},!0)},u=e;return new Promise((E,d)=>{c(u,f=>{if(f)return d(f);E(a)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set([e]);for(let c of l){let u=c.readdirSync();for(let E of u){(!s||s(E))&&a.push(n?E:E.fullpath());let d=E;if(E.isSymbolicLink()){if(!(i&&(d=E.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(l,o)&&l.add(d)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r;(!s||s(e))&&(yield n?e:e.fullpath());let a=new Set([e]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield n?u:u.fullpath());let E=u;if(u.isSymbolicLink()){if(!(i&&(E=u.realpathSync())))continue;E.isUnknown()&&E.lstatSync()}E.shouldWalk(a,o)&&a.add(E)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new PU.Minipass({objectMode:!0});(!s||s(e))&&a.write(n?e:e.fullpath());let l=new Set,c=[e],u=0,E=()=>{let d=!1;for(;!d;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let h=(S,R,N=!1)=>{if(S)return a.emit("error",S);if(i&&!N){let p=[];for(let A of R)A.isSymbolicLink()&&p.push(A.realpath().then(O=>O?.isUnknown()?O.lstat():O));if(p.length){Promise.all(p).then(()=>h(null,R,!0));return}}for(let p of R)p&&(!s||s(p))&&(a.write(n?p:p.fullpath())||(d=!0));u--;for(let p of R){let A=p.realpathCached()||p;A.shouldWalk(l,o)&&c.push(A)}d&&!a.flowing?a.once("drain",E):T||E()},T=!0;f.readdirCB(h,!0),T=!1}};return E(),a}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof cr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new PU.Minipass({objectMode:!0}),l=new Set;(!s||s(e))&&a.write(n?e:e.fullpath());let c=[e],u=0,E=()=>{let d=!1;for(;!d;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let h=f.readdirSync();for(let T of h)(!s||s(T))&&(a.write(n?T:T.fullpath())||(d=!0));u--;for(let T of h){let S=T;if(T.isSymbolicLink()){if(!(i&&(S=T.realpathSync())))continue;S.isUnknown()&&S.lstatSync()}S.shouldWalk(l,o)&&c.push(S)}}d&&!a.flowing&&a.once("drain",E)};return E(),a}chdir(e=this.cwd){let r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[kU](r)}};Ve.PathScurryBase=Mu;var xu=class extends Mu{sep="\\";constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,Ah.win32,"\\",{...r,nocase:n}),this.nocase=n;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(e){return Ah.win32.parse(e).root.toUpperCase()}newRoot(e){return new Du(this.rootPath,Jn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}};Ve.PathScurryWin32=xu;var vu=class extends Mu{sep="/";constructor(e=process.cwd(),r={}){let{nocase:n=!1}=r;super(e,Ah.posix,"/",{...r,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new Pu(this.rootPath,Jn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}};Ve.PathScurryPosix=vu;var Ih=class extends vu{constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,{...r,nocase:n})}};Ve.PathScurryDarwin=Ih;Ve.Path=process.platform==="win32"?Du:Pu;Ve.PathScurry=process.platform==="win32"?xu:process.platform==="darwin"?Ih:vu});var V_=g(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.Pattern=void 0;var Rse=_s(),pse=t=>t.length>=1,Ase=t=>t.length>=1,$_=class t{#e;#t;#s;length;#n;#o;#_;#c;#E;#a;#l=!0;constructor(e,r,n,i){if(!pse(e))throw new TypeError("empty pattern list");if(!Ase(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=r,this.#s=n,this.#n=i,this.#s===0){if(this.isUNC()){let[s,o,a,l,...c]=this.#e,[u,E,d,f,...h]=this.#t;c[0]===""&&(c.shift(),h.shift());let T=[s,o,a,l,""].join("/"),S=[u,E,d,f,""].join("/");this.#e=[T,...c],this.#t=[S,...h],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...l]=this.#t;o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";this.#e=[c,...o],this.#t=[u,...l],this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]=="string"}isGlobstar(){return this.#e[this.#s]===Rse.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#_=this.#_||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new t(this.#e,this.#t,this.#s+1,this.#n),this.#o.#a=this.#a,this.#o.#E=this.#E,this.#o.#c=this.#c,this.#o):this.#o=null}isUNC(){let e=this.#e;return this.#E!==void 0?this.#E:this.#E=this.#n==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3]}isDrive(){let e=this.#e;return this.#c!==void 0?this.#c:this.#c=this.#n==="win32"&&this.#s===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){let e=this.#e;return this.#a!==void 0?this.#a:this.#a=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){let e=this.#e[0];return typeof e=="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#l?!1:(this.#l=!1,!0)}};Nh.Pattern=$_});var QU=g(Mr=>{"use strict";var _se=Mr&&Mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.Minipass=Mr.isWritable=Mr.isReadable=Mr.isStream=void 0;var XU=typeof process=="object"&&process?process:{stdout:null,stderr:null},J_=require("node:events"),JU=_se(require("node:stream")),Ise=require("node:string_decoder"),Nse=t=>!!t&&typeof t=="object"&&(t instanceof bh||t instanceof JU.default||(0,Mr.isReadable)(t)||(0,Mr.isWritable)(t));Mr.isStream=Nse;var Ose=t=>!!t&&typeof t=="object"&&t instanceof J_.EventEmitter&&typeof t.pipe=="function"&&t.pipe!==JU.default.Writable.prototype.pipe;Mr.isReadable=Ose;var mse=t=>!!t&&typeof t=="object"&&t instanceof J_.EventEmitter&&typeof t.write=="function"&&typeof t.end=="function";Mr.isWritable=mse;var Fi=Symbol("EOF"),Gi=Symbol("maybeEmitEnd"),Os=Symbol("emittedEnd"),Oh=Symbol("emittingEnd"),Uu=Symbol("emittedError"),mh=Symbol("closed"),KU=Symbol("read"),gh=Symbol("flush"),jU=Symbol("flushChunk"),bn=Symbol("encoding"),ll=Symbol("decoder"),jt=Symbol("flowing"),Bu=Symbol("paused"),cl=Symbol("resume"),zt=Symbol("buffer"),Pr=Symbol("pipes"),Jt=Symbol("bufferLength"),k_=Symbol("bufferPush"),Ch=Symbol("bufferShift"),Ir=Symbol("objectMode"),bt=Symbol("destroyed"),q_=Symbol("error"),X_=Symbol("emitData"),zU=Symbol("emitEnd"),K_=Symbol("emitEnd2"),Qn=Symbol("async"),j_=Symbol("abort"),yh=Symbol("aborted"),Fu=Symbol("signal"),yo=Symbol("dataListeners"),Jr=Symbol("discarded"),Gu=t=>Promise.resolve().then(t),gse=t=>t(),Cse=t=>t==="end"||t==="finish"||t==="prefinish",yse=t=>t instanceof ArrayBuffer||!!t&&typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,Lse=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Lh=class{src;dest;opts;ondrain;constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[cl](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},z_=class extends Lh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},bse=t=>!!t.objectMode,wse=t=>!t.objectMode&&!!t.encoding&&t.encoding!=="buffer",bh=class extends J_.EventEmitter{[jt]=!1;[Bu]=!1;[Pr]=[];[zt]=[];[Ir];[bn];[Qn];[ll];[Fi]=!1;[Os]=!1;[Oh]=!1;[mh]=!1;[Uu]=null;[Jt]=0;[bt]=!1;[Fu];[yh]=!1;[yo]=0;[Jr]=!1;writable=!0;readable=!0;constructor(...e){let r=e[0]||{};if(super(),r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");bse(r)?(this[Ir]=!0,this[bn]=null):wse(r)?(this[bn]=r.encoding,this[Ir]=!1):(this[Ir]=!1,this[bn]=null),this[Qn]=!!r.async,this[ll]=this[bn]?new Ise.StringDecoder(this[bn]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[zt]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Pr]});let{signal:n}=r;n&&(this[Fu]=n,n.aborted?this[j_]():n.addEventListener("abort",()=>this[j_]()))}get bufferLength(){return this[Jt]}get encoding(){return this[bn]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Ir]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Qn]}set async(e){this[Qn]=this[Qn]||!!e}[j_](){this[yh]=!0,this.emit("abort",this[Fu]?.reason),this.destroy(this[Fu]?.reason)}get aborted(){return this[yh]}set aborted(e){}write(e,r,n){if(this[yh])return!1;if(this[Fi])throw new Error("write after end");if(this[bt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Qn]?Gu:gse;if(!this[Ir]&&!Buffer.isBuffer(e)){if(Lse(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(yse(e))e=Buffer.from(e);else if(typeof e!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Ir]?(this[jt]&&this[Jt]!==0&&this[gh](!0),this[jt]?this.emit("data",e):this[k_](e),this[Jt]!==0&&this.emit("readable"),n&&i(n),this[jt]):e.length?(typeof e=="string"&&!(r===this[bn]&&!this[ll]?.lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[bn]&&(e=this[ll].write(e)),this[jt]&&this[Jt]!==0&&this[gh](!0),this[jt]?this.emit("data",e):this[k_](e),this[Jt]!==0&&this.emit("readable"),n&&i(n),this[jt]):(this[Jt]!==0&&this.emit("readable"),n&&i(n),this[jt])}read(e){if(this[bt])return null;if(this[Jr]=!1,this[Jt]===0||e===0||e&&e>this[Jt])return this[Gi](),null;this[Ir]&&(e=null),this[zt].length>1&&!this[Ir]&&(this[zt]=[this[bn]?this[zt].join(""):Buffer.concat(this[zt],this[Jt])]);let r=this[KU](e||null,this[zt][0]);return this[Gi](),r}[KU](e,r){if(this[Ir])this[Ch]();else{let n=r;e===n.length||e===null?this[Ch]():typeof n=="string"?(this[zt][0]=n.slice(e),r=n.slice(0,e),this[Jt]-=e):(this[zt][0]=n.subarray(e),r=n.subarray(0,e),this[Jt]-=e)}return this.emit("data",r),!this[zt].length&&!this[Fi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r="utf8"),e!==void 0&&this.write(e,r),n&&this.once("end",n),this[Fi]=!0,this.writable=!1,(this[jt]||!this[Bu])&&this[Gi](),this}[cl](){this[bt]||(!this[yo]&&!this[Pr].length&&(this[Jr]=!0),this[Bu]=!1,this[jt]=!0,this.emit("resume"),this[zt].length?this[gh]():this[Fi]?this[Gi]():this.emit("drain"))}resume(){return this[cl]()}pause(){this[jt]=!1,this[Bu]=!0,this[Jr]=!1}get destroyed(){return this[bt]}get flowing(){return this[jt]}get paused(){return this[Bu]}[k_](e){this[Ir]?this[Jt]+=1:this[Jt]+=e.length,this[zt].push(e)}[Ch](){return this[Ir]?this[Jt]-=1:this[Jt]-=this[zt][0].length,this[zt].shift()}[gh](e=!1){do;while(this[jU](this[Ch]())&&this[zt].length);!e&&!this[zt].length&&!this[Fi]&&this.emit("drain")}[jU](e){return this.emit("data",e),this[jt]}pipe(e,r){if(this[bt])return e;this[Jr]=!1;let n=this[Os];return r=r||{},e===XU.stdout||e===XU.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Pr].push(r.proxyErrors?new z_(this,e,r):new Lh(this,e,r)),this[Qn]?Gu(()=>this[cl]()):this[cl]()),e}unpipe(e){let r=this[Pr].find(n=>n.dest===e);r&&(this[Pr].length===1?(this[jt]&&this[yo]===0&&(this[jt]=!1),this[Pr]=[]):this[Pr].splice(this[Pr].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);if(e==="data")this[Jr]=!1,this[yo]++,!this[Pr].length&&!this[jt]&&this[cl]();else if(e==="readable"&&this[Jt]!==0)super.emit("readable");else if(Cse(e)&&this[Os])super.emit(e),this.removeAllListeners(e);else if(e==="error"&&this[Uu]){let i=r;this[Qn]?Gu(()=>i.call(this,this[Uu])):i.call(this,this[Uu])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){let n=super.off(e,r);return e==="data"&&(this[yo]=this.listeners("data").length,this[yo]===0&&!this[Jr]&&!this[Pr].length&&(this[jt]=!1)),n}removeAllListeners(e){let r=super.removeAllListeners(e);return(e==="data"||e===void 0)&&(this[yo]=0,!this[Jr]&&!this[Pr].length&&(this[jt]=!1)),r}get emittedEnd(){return this[Os]}[Gi](){!this[Oh]&&!this[Os]&&!this[bt]&&this[zt].length===0&&this[Fi]&&(this[Oh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[mh]&&this.emit("close"),this[Oh]=!1)}emit(e,...r){let n=r[0];if(e!=="error"&&e!=="close"&&e!==bt&&this[bt])return!1;if(e==="data")return!this[Ir]&&!n?!1:this[Qn]?(Gu(()=>this[X_](n)),!0):this[X_](n);if(e==="end")return this[zU]();if(e==="close"){if(this[mh]=!0,!this[Os]&&!this[bt])return!1;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Uu]=n,super.emit(q_,n);let s=!this[Fu]||this.listeners("error").length?super.emit("error",n):!1;return this[Gi](),s}else if(e==="resume"){let s=super.emit("resume");return this[Gi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,...r);return this[Gi](),i}[X_](e){for(let n of this[Pr])n.dest.write(e)===!1&&this.pause();let r=this[Jr]?!1:super.emit("data",e);return this[Gi](),r}[zU](){return this[Os]?!1:(this[Os]=!0,this.readable=!1,this[Qn]?(Gu(()=>this[K_]()),!0):this[K_]())}[K_](){if(this[ll]){let r=this[ll].end();if(r){for(let n of this[Pr])n.dest.write(r);this[Jr]||super.emit("data",r)}}for(let r of this[Pr])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){let e=Object.assign([],{dataLength:0});this[Ir]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[Ir]||(e.dataLength+=n.length)}),await r,e}async concat(){if(this[Ir])throw new Error("cannot concat in objectMode");let e=await this.collect();return this[bn]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise((e,r)=>{this.on(bt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[Symbol.asyncIterator](){this[Jr]=!1;let e=!1,r=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Fi])return r();let s,o,a=E=>{this.off("data",l),this.off("end",c),this.off(bt,u),r(),o(E)},l=E=>{this.off("error",a),this.off("end",c),this.off(bt,u),this.pause(),s({value:E,done:!!this[Fi]})},c=()=>{this.off("error",a),this.off("data",l),this.off(bt,u),r(),s({done:!0,value:void 0})},u=()=>a(new Error("stream destroyed"));return new Promise((E,d)=>{o=d,s=E,this.once(bt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Jr]=!1;let e=!1,r=()=>(this.pause(),this.off(q_,r),this.off(bt,r),this.off("end",r),e=!0,{done:!0,value:void 0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{done:!1,value:i}};return this.once("end",r),this.once(q_,r),this.once(bt,r),{next:n,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(e){if(this[bt])return e?this.emit("error",e):this.emit(bt),this;this[bt]=!0,this[Jr]=!0,this[zt].length=0,this[Jt]=0;let r=this;return typeof r.close=="function"&&!this[mh]&&r.close(),e?this.emit("error",e):this.emit(bt),this}static get isStream(){return Mr.isStream}};Mr.Minipass=bh});var Z_=g(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.Ignore=void 0;var ZU=_s(),Dse=V_(),Pse=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Q_=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:o=Pse}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of e)this.add(a)}add(e){let r=new ZU.Minimatch(e,this.mmopts);for(let n=0;n<r.set.length;n++){let i=r.set[n],s=r.globParts[n];if(!i||!s)throw new Error("invalid pattern object");for(;i[0]==="."&&s[0]===".";)i.shift(),s.shift();let o=new Dse.Pattern(i,s,0,this.platform),a=new ZU.Minimatch(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){let r=e.fullpath(),n=`${r}/`,i=e.relative()||".",s=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(n))return!0;return!1}childrenIgnored(e){let r=e.fullpath()+"/",n=(e.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(n))return!0;for(let i of this.absoluteChildren)if(i.match(r))return!0;return!1}};wh.Ignore=Q_});var tB=g(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.Processor=Zn.SubWalks=Zn.MatchRecord=Zn.HasWalkedCache=void 0;var eB=_s(),Dh=class t{store;constructor(e=new Map){this.store=e}copy(){return new t(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){let n=e.fullpath(),i=this.store.get(n);i?i.add(r.globString()):this.store.set(n,new Set([r.globString()]))}};Zn.HasWalkedCache=Dh;var Ph=class{store=new Map;add(e,r,n){let i=(r?2:0)|(n?1:0),s=this.store.get(e);this.store.set(e,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}};Zn.MatchRecord=Ph;var Mh=class{store=new Map;add(e,r){if(!e.canReaddir())return;let n=this.store.get(e);n?n.find(i=>i.globString()===r.globString())||n.push(r):this.store.set(e,[r])}get(e){let r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}};Zn.SubWalks=Mh;var eI=class t{hasWalkedCache;matches=new Ph;subwalks=new Mh;patterns;follow;dot;opts;constructor(e,r){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new Dh}processPatterns(e,r){this.patterns=r;let n=r.map(i=>[e,i]);for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let E=s.rest();if(E)s=E;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)i=i.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof l=="string"){let E=l===".."||l===""||l===".";this.matches.add(i.resolve(l),a,E);continue}else if(l===eB.GLOBSTAR){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let E=c?.pattern(),d=c?.rest();if(!c||(E===""||E===".")&&!d)this.matches.add(i,a,E===""||E===".");else if(E===".."){let f=i.parent||i;d?this.hasWalkedCache.hasWalked(f,d)||this.subwalks.add(f,d):this.matches.add(f,a,!0)}}else l instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(e,r){let n=this.subwalks.get(e),i=this.child();for(let s of r)for(let o of n){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===eB.GLOBSTAR?i.testGlobstar(s,o,c,a):l instanceof RegExp?i.testRegExp(s,l,c,a):i.testString(s,l,c,a)}return i}testGlobstar(e,r,n,i){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(n&&r.checkFollowGlobstar()?this.subwalks.add(e,n):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),n){let s=n.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,n.rest(),i);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,n)}else s instanceof RegExp&&this.testRegExp(e,s,n.rest(),i)}}testRegExp(e,r,n,i){r.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,r,n,i){e.isNamed(r)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}};Zn.Processor=eI});var iB=g(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.GlobStream=ms.GlobWalker=ms.GlobUtil=void 0;var Mse=QU(),rB=Z_(),nB=tB(),xse=(t,e)=>typeof t=="string"?new rB.Ignore([t],e):Array.isArray(t)?new rB.Ignore(t,e):t,Hu=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#s;signal;maxDepth;includeChildMatches;constructor(e,r,n){if(this.patterns=e,this.path=r,this.opts=n,this.#s=!n.posix&&n.platform==="win32"?"\\":"/",this.includeChildMatches=n.includeChildMatches!==!1,(n.ignore||!this.includeChildMatches)&&(this.#t=xse(n.ignore??[],n),!this.includeChildMatches&&typeof this.#t.add!="function")){let i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#n(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#o(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#n(e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#n(e))return;if(!this.includeChildMatches&&this.#t?.add){let s=`${e.relativePosix()}/**`;this.#t.add(s)}let n=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);let i=this.opts.mark&&e.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){let s=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(s+i)}else{let s=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(s?o+s+i:"."+i)}}async match(e,r,n){let i=await this.matchCheck(e,n);i&&this.matchFinish(i,r)}matchSync(e,r,n){let i=this.matchCheckSync(e,n);i&&this.matchFinish(i,r)}walkCB(e,r,n){this.signal?.aborted&&n(),this.walkCB2(e,r,new nB.Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,n,o):a.readdirCB((c,u)=>this.walkCB3(a,u,n,o),!0)}o()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of n.subwalks.entries())s++,this.walkCB2(a,l,n.child(),o);o()}walkCBSync(e,r,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,r,new nB.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,n,o)}o()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let[a,l]of n.subwalks.entries())s++,this.walkCB2Sync(a,l,n.child(),o);o()}};ms.GlobUtil=Hu;var tI=class extends Hu{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,r)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?r(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};ms.GlobWalker=tI;var rI=class extends Hu{results;constructor(e,r,n){super(e,r,n),this.results=new Mse.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let e=this.path;return e.isUnknown()?e.lstat().then(()=>{this.walkCB(e,this.patterns,()=>this.results.end())}):this.walkCB(e,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};ms.GlobStream=rI});var iI=g(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.Glob=void 0;var vse=_s(),Use=require("node:url"),xh=qU(),Bse=V_(),vh=iB(),Fse=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",nI=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,Use.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=e,this.platform=r.platform||Fse,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?xh.PathScurryWin32:r.platform==="darwin"?xh.PathScurryDarwin:r.platform?xh.PathScurryPosix:xh.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let n=this.platform==="darwin"||this.platform==="win32",i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new vse.Minimatch(l,i)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new Bse.Pattern(l,u,0,this.platform)})}async walk(){return[...await new vh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new vh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new vh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new vh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};Uh.Glob=nI});var sI=g(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.hasMagic=void 0;var Gse=_s(),Hse=(t,e={})=>{Array.isArray(t)||(t=[t]);for(let r of t)if(new Gse.Minimatch(r,e).hasMagic())return!0;return!1};Bh.hasMagic=Hse});var lB=g(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.glob=ye.sync=ye.iterate=ye.iterateSync=ye.stream=ye.streamSync=ye.Ignore=ye.hasMagic=ye.Glob=ye.unescape=ye.escape=void 0;ye.globStreamSync=Wu;ye.globStream=oI;ye.globSync=aI;ye.globIterateSync=Yu;ye.globIterate=lI;var sB=_s(),Lo=iI(),Wse=sI(),aB=_s();Object.defineProperty(ye,"escape",{enumerable:!0,get:function(){return aB.escape}});Object.defineProperty(ye,"unescape",{enumerable:!0,get:function(){return aB.unescape}});var Yse=iI();Object.defineProperty(ye,"Glob",{enumerable:!0,get:function(){return Yse.Glob}});var $se=sI();Object.defineProperty(ye,"hasMagic",{enumerable:!0,get:function(){return $se.hasMagic}});var Vse=Z_();Object.defineProperty(ye,"Ignore",{enumerable:!0,get:function(){return Vse.Ignore}});function Wu(t,e={}){return new Lo.Glob(t,e).streamSync()}function oI(t,e={}){return new Lo.Glob(t,e).stream()}function aI(t,e={}){return new Lo.Glob(t,e).walkSync()}async function oB(t,e={}){return new Lo.Glob(t,e).walk()}function Yu(t,e={}){return new Lo.Glob(t,e).iterateSync()}function lI(t,e={}){return new Lo.Glob(t,e).iterate()}ye.streamSync=Wu;ye.stream=Object.assign(oI,{sync:Wu});ye.iterateSync=Yu;ye.iterate=Object.assign(lI,{sync:Yu});ye.sync=Object.assign(aI,{stream:Wu,iterate:Yu});ye.glob=Object.assign(oB,{glob:oB,globSync:aI,sync:ye.sync,globStream:oI,stream:ye.stream,globStreamSync:Wu,streamSync:ye.streamSync,globIterate:lI,iterate:ye.iterate,globIterateSync:Yu,iterateSync:ye.iterateSync,Glob:Lo.Glob,hasMagic:Wse.hasMagic,escape:sB.escape,unescape:sB.unescape});ye.glob.glob=ye.glob});var fB=g((aMe,EB)=>{var uB=Ip(),ul=require("path"),cI=Sx(),kse=Dv(),qse=Yv(),Xse=jv(),Kse=lB(),bo=EB.exports={},cB=/[\/\\]/g,jse=function(t,e){var r=[];return cI(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=kse(r,s):r=qse(r,s)}),r};bo.exists=function(){var t=ul.join.apply(ul,arguments);return uB.existsSync(t)};bo.expand=function(...t){var e=Xse(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=jse(r,function(i){return Kse.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=ul.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):uB.statSync(i)[e.filter]()}catch{return!1}})),n};bo.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return ul.join(s||"",o)}},r);var n=[],i={};return bo.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=ul.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=ul.join(r.cwd,s)),a=a.replace(cB,"/"),s=s.replace(cB,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};bo.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=cI(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return bo.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?cI(o):[o],s.result=bo.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var El=g((cMe,TB)=>{var uI=Ip(),dB=require("path"),zse=Qf(),Jse=Ab(),hB=kp(),Qse=Zw(),lMe=require("stream").Stream,Zse=ox().PassThrough,Qr=TB.exports={};Qr.file=fB();Qr.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};Qr.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};Qr.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},Qse(...n)};Qr.isStream=function(t){return zse(t)};Qr.lazyReadStream=function(t){return new Jse.Readable(function(){return uI.createReadStream(t)})};Qr.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):Qr.isStream(t)?t.pipe(new Zse):t};Qr.sanitizePath=function(t){return hB(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};Qr.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};Qr.unixifyPath=function(t){return hB(t,!1).replace(/^\w+:/,"")};Qr.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),uI.readdir(t,function(i,s){var o=0,a,l;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);l=dB.join(t,a),uI.stat(l,function(u,E){n.push({path:l,relative:dB.relative(e,l).replace(/\\/g,"/"),stats:E}),E&&E.isDirectory()?Qr.walkdir(l,e,function(d,f){if(d)return r(d);f.forEach(function(h){n.push(h)}),c()}):c()})})()})}});var AB=g((RB,pB)=>{var eoe=require("util"),toe={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function SB(t,e){Error.captureStackTrace(this,this.constructor),this.message=toe[t]||t,this.code=t,this.data=e}eoe.inherits(SB,Error);RB=pB.exports=SB});var lt=g((uMe,_B)=>{"use strict";var EI=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};_B.exports={AggregateError:EI,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var fI=g((EMe,IB)=>{"use strict";IB.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Nr=g((fMe,mB)=>{"use strict";var{format:roe,inspect:Fh}=fI(),{AggregateError:noe}=lt(),ioe=globalThis.AggregateError||noe,soe=Symbol("kIsNodeError"),ooe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],aoe=/^([A-Z][a-z0-9]*)+$/,loe="__node_internal_",Gh={};function wo(t,e){if(!t)throw new Gh.ERR_INTERNAL_ASSERTION(e)}function NB(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function coe(t,e,r){if(typeof e=="function")return wo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return wo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:roe(e,...r)}function ur(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(coe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[soe]=!0,Gh[t]=n}function OB(t){let e=loe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function uoe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new ioe([e,t],e.message);return r.code=e.code,r}return t||e}var dI=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Gh.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ur("ERR_ASSERTION","%s",Error);ur("ERR_INVALID_ARG_TYPE",(t,e,r)=>{wo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)wo(typeof l=="string","All expected entries have to be of type string"),ooe.includes(l)?i.push(l.toLowerCase()):aoe.test(l)?s.push(l):(wo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Fh(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Fh(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);ur("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Fh(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);ur("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);ur("ERR_MISSING_ARGS",(...t)=>{wo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);ur("ERR_OUT_OF_RANGE",(t,e,r)=>{wo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=NB(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=NB(n)),n+="n"}else n=Fh(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);ur("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ur("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ur("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ur("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ur("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ur("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ur("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ur("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ur("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ur("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ur("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);mB.exports={AbortError:dI,aggregateTwoErrors:OB(uoe),hideStackFrames:OB,codes:Gh}});var xr=g((dMe,TI)=>{"use strict";var Eoe=require("buffer"),{format:foe,inspect:doe}=fI(),{codes:{ERR_INVALID_ARG_TYPE:hI}}=Nr(),{kResistStopPropagation:hoe,AggregateError:Toe,SymbolDispose:Soe}=lt(),Roe=globalThis.AbortSignal||Ct().AbortSignal,poe=globalThis.AbortController||Ct().AbortController,Aoe=Object.getPrototypeOf(async function(){}).constructor,gB=globalThis.Blob||Eoe.Blob,_oe=typeof gB<"u"?function(e){return e instanceof gB}:function(e){return!1},CB=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new hI(e,"AbortSignal",t)},Ioe=(t,e)=>{if(typeof t!="function")throw new hI(e,"Function",t)};TI.exports={AggregateError:Toe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:foe,inspect:doe,types:{isAsyncFunction(t){return t instanceof Aoe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:_oe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new hI("signal","AbortSignal",e);CB(e,"signal"),Ioe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[hoe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Soe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Roe.any||function(e){if(e.length===1)return e[0];let r=new poe,n=()=>r.abort();return e.forEach(i=>{CB(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};TI.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var dl=g((hMe,UB)=>{"use strict";var{ArrayIsArray:RI,ArrayPrototypeIncludes:wB,ArrayPrototypeJoin:DB,ArrayPrototypeMap:Noe,NumberIsInteger:pI,NumberIsNaN:Ooe,NumberMAX_SAFE_INTEGER:moe,NumberMIN_SAFE_INTEGER:goe,NumberParseInt:Coe,ObjectPrototypeHasOwnProperty:yoe,RegExpPrototypeExec:PB,String:Loe,StringPrototypeToUpperCase:boe,StringPrototypeTrim:woe}=lt(),{hideStackFrames:hn,codes:{ERR_SOCKET_BAD_PORT:Doe,ERR_INVALID_ARG_TYPE:Or,ERR_INVALID_ARG_VALUE:fl,ERR_OUT_OF_RANGE:Do,ERR_UNKNOWN_SIGNAL:yB}}=Nr(),{normalizeEncoding:Poe}=xr(),{isAsyncFunction:Moe,isArrayBufferView:xoe}=xr().types,LB={};function voe(t){return t===(t|0)}function Uoe(t){return t===t>>>0}var Boe=/^[0-7]+$/,Foe="must be a 32-bit unsigned integer or an octal string";function Goe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(PB(Boe,t)===null)throw new fl(e,t,Foe);t=Coe(t,8)}return MB(t,e),t}var Hoe=hn((t,e,r=goe,n=moe)=>{if(typeof t!="number")throw new Or(e,"number",t);if(!pI(t))throw new Do(e,"an integer",t);if(t<r||t>n)throw new Do(e,`>= ${r} && <= ${n}`,t)}),Woe=hn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Or(e,"number",t);if(!pI(t))throw new Do(e,"an integer",t);if(t<r||t>n)throw new Do(e,`>= ${r} && <= ${n}`,t)}),MB=hn((t,e,r=!1)=>{if(typeof t!="number")throw new Or(e,"number",t);if(!pI(t))throw new Do(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Do(e,`>= ${n} && <= ${i}`,t)});function AI(t,e){if(typeof t!="string")throw new Or(e,"string",t)}function Yoe(t,e,r=void 0,n){if(typeof t!="number")throw new Or(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Ooe(t))throw new Do(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var $oe=hn((t,e,r)=>{if(!wB(r,t)){let i="must be one of: "+DB(Noe(r,s=>typeof s=="string"?`'${s}'`:Loe(s)),", ");throw new fl(e,t,i)}});function xB(t,e){if(typeof t!="boolean")throw new Or(e,"boolean",t)}function SI(t,e,r){return t==null||!yoe(t,e)?r:t[e]}var Voe=hn((t,e,r=null)=>{let n=SI(r,"allowArray",!1),i=SI(r,"allowFunction",!1);if(!SI(r,"nullable",!1)&&t===null||!n&&RI(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Or(e,"Object",t)}),koe=hn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Or(e,"a dictionary",t)}),Hh=hn((t,e,r=0)=>{if(!RI(t))throw new Or(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new fl(e,t,n)}});function qoe(t,e){Hh(t,e);for(let r=0;r<t.length;r++)AI(t[r],`${e}[${r}]`)}function Xoe(t,e){Hh(t,e);for(let r=0;r<t.length;r++)xB(t[r],`${e}[${r}]`)}function Koe(t,e){Hh(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Or(i,"AbortSignal",n);vB(n,i)}}function joe(t,e="signal"){if(AI(t,e),LB[t]===void 0)throw LB[boe(t)]!==void 0?new yB(t+" (signals must use all capital letters)"):new yB(t)}var zoe=hn((t,e="buffer")=>{if(!xoe(t))throw new Or(e,["Buffer","TypedArray","DataView"],t)});function Joe(t,e){let r=Poe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new fl("encoding",e,`is invalid for data of length ${n}`)}function Qoe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&woe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Doe(e,t,r);return t|0}var vB=hn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Or(e,"AbortSignal",t)}),Zoe=hn((t,e)=>{if(typeof t!="function")throw new Or(e,"Function",t)}),eae=hn((t,e)=>{if(typeof t!="function"||Moe(t))throw new Or(e,"Function",t)}),tae=hn((t,e)=>{if(t!==void 0)throw new Or(e,"undefined",t)});function rae(t,e,r){if(!wB(r,t))throw new Or(e,`('${DB(r,"|")}')`,t)}var nae=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function bB(t,e){if(typeof t>"u"||!PB(nae,t))throw new fl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function iae(t){if(typeof t=="string")return bB(t,"hints"),t;if(RI(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];bB(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new fl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}UB.exports={isInt32:voe,isUint32:Uoe,parseFileMode:Goe,validateArray:Hh,validateStringArray:qoe,validateBooleanArray:Xoe,validateAbortSignalArray:Koe,validateBoolean:xB,validateBuffer:zoe,validateDictionary:koe,validateEncoding:Joe,validateFunction:Zoe,validateInt32:Woe,validateInteger:Hoe,validateNumber:Yoe,validateObject:Voe,validateOneOf:$oe,validatePlainFunction:eae,validatePort:Qoe,validateSignalName:joe,validateString:AI,validateUint32:MB,validateUndefined:tae,validateUnion:rae,validateAbortSignal:vB,validateLinkHeaderValue:iae}});var ti=g((TMe,JB)=>{"use strict";var{SymbolAsyncIterator:BB,SymbolIterator:FB,SymbolFor:Po}=lt(),GB=Po("nodejs.stream.destroyed"),HB=Po("nodejs.stream.errored"),_I=Po("nodejs.stream.readable"),II=Po("nodejs.stream.writable"),WB=Po("nodejs.stream.disturbed"),sae=Po("nodejs.webstream.isClosedPromise"),oae=Po("nodejs.webstream.controllerErrorFunction");function Wh(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Yh(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function aae(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ei(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function YB(t){return!!(t&&!ei(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function $B(t){return!!(t&&!ei(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function VB(t){return!!(t&&!ei(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function lae(t){return YB(t)||$B(t)||VB(t)}function cae(t,e){return t==null?!1:e===!0?typeof t[BB]=="function":e===!1?typeof t[FB]=="function":typeof t[BB]=="function"||typeof t[FB]=="function"}function $h(t){if(!ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[GB]||n!=null&&n.destroyed)}function kB(t){if(!Yh(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function uae(t,e){if(!Yh(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Eae(t){if(!Wh(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function qB(t,e){if(!Wh(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function XB(t){return t&&t[_I]!=null?t[_I]:typeof t?.readable!="boolean"?null:$h(t)?!1:Wh(t)&&t.readable&&!qB(t)}function KB(t){return t&&t[II]!=null?t[II]:typeof t?.writable!="boolean"?null:$h(t)?!1:Yh(t)&&t.writable&&!kB(t)}function fae(t,e){return ei(t)?$h(t)?!0:!(e?.readable!==!1&&XB(t)||e?.writable!==!1&&KB(t)):null}function dae(t){var e,r;return ei(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function hae(t){var e,r;return ei(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Tae(t){if(!ei(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&jB(t)?t._closed:null}function jB(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function zB(t){return typeof t._sent100=="boolean"&&jB(t)}function Sae(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Rae(t){if(!ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&zB(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function pae(t){var e;return!!(t&&((e=t[WB])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Aae(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[HB])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}JB.exports={isDestroyed:$h,kIsDestroyed:GB,isDisturbed:pae,kIsDisturbed:WB,isErrored:Aae,kIsErrored:HB,isReadable:XB,kIsReadable:_I,kIsClosedPromise:sae,kControllerErrorFunction:oae,kIsWritable:II,isClosed:Tae,isDuplexNodeStream:aae,isFinished:fae,isIterable:cae,isReadableNodeStream:Wh,isReadableStream:YB,isReadableEnded:Eae,isReadableFinished:qB,isReadableErrored:hae,isNodeStream:ei,isWebStream:lae,isWritable:KB,isWritableNodeStream:Yh,isWritableStream:$B,isWritableEnded:kB,isWritableFinished:uae,isWritableErrored:dae,isServerRequest:Sae,isServerResponse:zB,willEmitClose:Rae,isTransformStream:VB}});var Hi=g((SMe,CI)=>{"use strict";var gs=qe(),{AbortError:oF,codes:_ae}=Nr(),{ERR_INVALID_ARG_TYPE:Iae,ERR_STREAM_PREMATURE_CLOSE:QB}=_ae,{kEmptyObject:OI,once:mI}=xr(),{validateAbortSignal:Nae,validateFunction:Oae,validateObject:mae,validateBoolean:gae}=dl(),{Promise:Cae,PromisePrototypeThen:yae,SymbolDispose:aF}=lt(),{isClosed:Lae,isReadable:ZB,isReadableNodeStream:NI,isReadableStream:bae,isReadableFinished:eF,isReadableErrored:tF,isWritable:rF,isWritableNodeStream:nF,isWritableStream:wae,isWritableFinished:iF,isWritableErrored:sF,isNodeStream:Dae,willEmitClose:Pae,kIsClosedPromise:Mae}=ti(),hl;function xae(t){return t.setHeader&&typeof t.abort=="function"}var gI=()=>{};function lF(t,e,r){var n,i;if(arguments.length===2?(r=e,e=OI):e==null?e=OI:mae(e,"options"),Oae(r,"callback"),Nae(e.signal,"options.signal"),r=mI(r),bae(t)||wae(t))return vae(t,e,r);if(!Dae(t))throw new Iae("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:NI(t),o=(i=e.writable)!==null&&i!==void 0?i:nF(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=Pae(t)&&NI(t)===s&&nF(t)===o,E=iF(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=eF(t,!1),h=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},T=O=>{r.call(t,O)},S=Lae(t),R=()=>{S=!0;let O=sF(t)||tF(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&NI(t,!0)&&!eF(t,!1))return r.call(t,new QB);if(o&&!E&&!iF(t,!1))return r.call(t,new QB);r.call(t)},N=()=>{S=!0;let O=sF(t)||tF(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},p=()=>{t.req.on("finish",d)};xae(t)?(t.on("complete",d),u||t.on("abort",R),t.req?p():t.on("request",p)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",R),t.on("end",h),t.on("finish",d),e.error!==!1&&t.on("error",T),t.on("close",R),S?gs.nextTick(R):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||gs.nextTick(N):(!s&&(!u||ZB(t))&&(E||rF(t)===!1)||!o&&(!u||rF(t))&&(f||ZB(t)===!1)||l&&t.req&&t.aborted)&&gs.nextTick(N);let A=()=>{r=gI,t.removeListener("aborted",R),t.removeListener("complete",d),t.removeListener("abort",R),t.removeListener("request",p),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",T),t.removeListener("close",R)};if(e.signal&&!S){let O=()=>{let b=r;A(),b.call(t,new oF(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)gs.nextTick(O);else{hl=hl||xr().addAbortListener;let b=hl(e.signal,O),I=r;r=mI((...D)=>{b[aF](),I.apply(t,D)})}}return A}function vae(t,e,r){let n=!1,i=gI;if(e.signal)if(i=()=>{n=!0,r.call(t,new oF(void 0,{cause:e.signal.reason}))},e.signal.aborted)gs.nextTick(i);else{hl=hl||xr().addAbortListener;let o=hl(e.signal,i),a=r;r=mI((...l)=>{o[aF](),a.apply(t,l)})}let s=(...o)=>{n||gs.nextTick(()=>r.apply(t,o))};return yae(t[Mae].promise,s,s),gI}function Uae(t,e){var r;let n=!1;return e===null&&(e=OI),(r=e)!==null&&r!==void 0&&r.cleanup&&(gae(e.cleanup,"cleanup"),n=e.cleanup),new Cae((i,s)=>{let o=lF(t,e,a=>{n&&o(),a?s(a):i()})})}CI.exports=lF;CI.exports.finished=Uae});var Mo=g((RMe,SF)=>{"use strict";var ri=qe(),{aggregateTwoErrors:Bae,codes:{ERR_MULTIPLE_CALLBACK:Fae},AbortError:Gae}=Nr(),{Symbol:EF}=lt(),{kIsDestroyed:Hae,isDestroyed:Wae,isFinished:Yae,isServerRequest:$ae}=ti(),fF=EF("kDestroy"),yI=EF("kConstruct");function dF(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Vae(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(dF(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?cF(this,t,e):this.once(fF,function(s){cF(this,Bae(s,t),e)}),this)}function cF(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;dF(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?ri.nextTick(kae,t,s):ri.nextTick(hF,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function kae(t,e){LI(t,e),hF(t)}function hF(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function LI(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function qae(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function bI(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?ri.nextTick(LI,t,e):LI(t,e))}function Xae(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(yI,e),!(t.listenerCount(yI)>1)&&ri.nextTick(Kae,t)}function Kae(t){let e=!1;function r(n){if(e){bI(t,n??new Fae);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(fF,n):n?bI(t,n,!0):ri.nextTick(jae,t)}try{t._construct(n=>{ri.nextTick(r,n)})}catch(n){ri.nextTick(r,n)}}function jae(t){t.emit(yI)}function uF(t){return t?.setHeader&&typeof t.abort=="function"}function TF(t){t.emit("close")}function zae(t,e){t.emit("error",e),ri.nextTick(TF,t)}function Jae(t,e){!t||Wae(t)||(!e&&!Yae(t)&&(e=new Gae),$ae(t)?(t.socket=null,t.destroy(e)):uF(t)?t.abort():uF(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ri.nextTick(zae,t,e):ri.nextTick(TF,t),t.destroyed||(t[Hae]=!0))}SF.exports={construct:Xae,destroyer:Jae,destroy:Vae,undestroy:qae,errorOrDestroy:bI}});var qh=g((pMe,pF)=>{"use strict";var{ArrayIsArray:Qae,ObjectSetPrototypeOf:RF}=lt(),{EventEmitter:Vh}=require("events");function kh(t){Vh.call(this,t)}RF(kh.prototype,Vh.prototype);RF(kh,Vh);kh.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),Vh.listenerCount(this,"error")===0&&this.emit("error",u)}wI(r,"error",l),wI(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function wI(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Qae(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}pF.exports={Stream:kh,prependListener:wI}});var $u=g((AMe,Xh)=>{"use strict";var{SymbolDispose:Zae}=lt(),{AbortError:AF,codes:ele}=Nr(),{isNodeStream:_F,isWebStream:tle,kControllerErrorFunction:rle}=ti(),nle=Hi(),{ERR_INVALID_ARG_TYPE:IF}=ele,DI,ile=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new IF(e,"AbortSignal",t)};Xh.exports.addAbortSignal=function(e,r){if(ile(e,"signal"),!_F(r)&&!tle(r))throw new IF("stream",["ReadableStream","WritableStream","Stream"],r);return Xh.exports.addAbortSignalNoValidate(e,r)};Xh.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=_F(e)?()=>{e.destroy(new AF(void 0,{cause:t.reason}))}:()=>{e[rle](new AF(void 0,{cause:t.reason}))};if(t.aborted)r();else{DI=DI||xr().addAbortListener;let n=DI(t,r);nle(e,n[Zae])}return e}});var mF=g((IMe,OF)=>{"use strict";var{StringPrototypeSlice:NF,SymbolIterator:sle,TypedArrayPrototypeSet:Kh,Uint8Array:ole}=lt(),{Buffer:PI}=require("buffer"),{inspect:ale}=xr();OF.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return PI.alloc(0);let r=PI.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Kh(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[sle](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=NF(s,0,e),this.head=n,n.data=NF(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=PI.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)Kh(r,o,n-e),e-=o.length;else{e===o.length?(Kh(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(Kh(r,new ole(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return ale(this,{...r,depth:0,customInspect:!1})}}});var Vu=g((NMe,LF)=>{"use strict";var{MathFloor:lle,NumberIsInteger:cle}=lt(),{validateInteger:ule}=dl(),{ERR_INVALID_ARG_VALUE:Ele}=Nr().codes,gF=16*1024,CF=16;function fle(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function yF(t){return t?CF:gF}function dle(t,e){ule(e,"value",0),t?CF=e:gF=e}function hle(t,e,r,n){let i=fle(e,n,r);if(i!=null){if(!cle(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Ele(s,i)}return lle(i)}return yF(t.objectMode)}LF.exports={getHighWaterMark:hle,getDefaultHighWaterMark:yF,setDefaultHighWaterMark:dle}});var MI=g((OMe,PF)=>{"use strict";var bF=qe(),{PromisePrototypeThen:Tle,SymbolAsyncIterator:wF,SymbolIterator:DF}=lt(),{Buffer:Sle}=require("buffer"),{ERR_INVALID_ARG_TYPE:Rle,ERR_STREAM_NULL_VALUES:ple}=Nr().codes;function Ale(t,e,r){let n;if(typeof e=="string"||e instanceof Sle)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[wF])i=!0,n=e[wF]();else if(e&&e[DF])i=!1,n=e[DF]();else throw new Rle("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Tle(a(c),()=>bF.nextTick(u,c),E=>bF.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new ple;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}PF.exports=Ale});var qu=g((mMe,zF)=>{"use strict";var wn=qe(),{ArrayPrototypeIndexOf:_le,NumberIsInteger:Ile,NumberIsNaN:Nle,NumberParseInt:Ole,ObjectDefineProperties:WI,ObjectKeys:mle,ObjectSetPrototypeOf:vF,Promise:UF,SafeSet:gle,SymbolAsyncDispose:Cle,SymbolAsyncIterator:yle,Symbol:Lle}=lt();zF.exports=Se;Se.ReadableState=Qh;var{EventEmitter:ble}=require("events"),{Stream:Cs,prependListener:wle}=qh(),{Buffer:xI}=require("buffer"),{addAbortSignal:Dle}=$u(),BF=Hi(),Le=xr().debuglog("stream",t=>{Le=t}),Ple=mF(),Rl=Mo(),{getHighWaterMark:Mle,getDefaultHighWaterMark:xle}=Vu(),{aggregateTwoErrors:MF,codes:{ERR_INVALID_ARG_TYPE:vle,ERR_METHOD_NOT_IMPLEMENTED:Ule,ERR_OUT_OF_RANGE:Ble,ERR_STREAM_PUSH_AFTER_EOF:Fle,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Gle},AbortError:Hle}=Nr(),{validateObject:Wle}=dl(),xo=Lle("kPaused"),{StringDecoder:FF}=au(),Yle=MI();vF(Se.prototype,Cs.prototype);vF(Se,Cs);var vI=()=>{},{errorOrDestroy:Tl}=Rl,Sl=1,$le=2,GF=4,ku=8,HF=16,jh=32,zh=64,WF=128,Vle=256,kle=512,qle=1024,GI=2048,HI=4096,Xle=8192,Kle=16384,jle=32768,YF=65536,zle=1<<17,Jle=1<<18;function xt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}WI(Qh.prototype,{objectMode:xt(Sl),ended:xt($le),endEmitted:xt(GF),reading:xt(ku),constructed:xt(HF),sync:xt(jh),needReadable:xt(zh),emittedReadable:xt(WF),readableListening:xt(Vle),resumeScheduled:xt(kle),errorEmitted:xt(qle),emitClose:xt(GI),autoDestroy:xt(HI),destroyed:xt(Xle),closed:xt(Kle),closeEmitted:xt(jle),multiAwaitDrain:xt(YF),readingMore:xt(zle),dataEmitted:xt(Jle)});function Qh(t,e,r){typeof r!="boolean"&&(r=e instanceof ni()),this.state=GI|HI|HF|jh,t&&t.objectMode&&(this.state|=Sl),r&&t&&t.readableObjectMode&&(this.state|=Sl),this.highWaterMark=t?Mle(this,t,"readableHighWaterMark",r):xle(!1),this.buffer=new Ple,this.length=0,this.pipes=[],this.flowing=null,this[xo]=null,t&&t.emitClose===!1&&(this.state&=~GI),t&&t.autoDestroy===!1&&(this.state&=~HI),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new FF(t.encoding),this.encoding=t.encoding)}function Se(t){if(!(this instanceof Se))return new Se(t);let e=this instanceof ni();this._readableState=new Qh(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Dle(t.signal,this)),Cs.call(this,t),Rl.construct(this,()=>{this._readableState.needReadable&&Jh(this,this._readableState)})}Se.prototype.destroy=Rl.destroy;Se.prototype._undestroy=Rl.undestroy;Se.prototype._destroy=function(t,e){e(t)};Se.prototype[ble.captureRejectionSymbol]=function(t){this.destroy(t)};Se.prototype[Cle]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Hle,this.destroy(t)),new UF((e,r)=>BF(this,n=>n&&n!==t?r(n):e(null)))};Se.prototype.push=function(t,e){return $F(this,t,e,!1)};Se.prototype.unshift=function(t,e){return $F(this,t,e,!0)};function $F(t,e,r,n){Le("readableAddChunk",e);let i=t._readableState,s;if((i.state&Sl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=xI.from(e,r).toString(i.encoding):(e=xI.from(e,r),r=""))):e instanceof xI?r="":Cs._isUint8Array(e)?(e=Cs._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new vle("chunk",["string","Buffer","Uint8Array"],e))),s)Tl(t,s);else if(e===null)i.state&=~ku,ece(t,i);else if((i.state&Sl)!==0||e&&e.length>0)if(n)if((i.state&GF)!==0)Tl(t,new Gle);else{if(i.destroyed||i.errored)return!1;UI(t,i,e,!0)}else if(i.ended)Tl(t,new Fle);else{if(i.destroyed||i.errored)return!1;i.state&=~ku,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?UI(t,i,e,!1):Jh(t,i)):UI(t,i,e,!1)}else n||(i.state&=~ku,Jh(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function UI(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&YF)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&zh)!==0&&Zh(t)),Jh(t,e)}Se.prototype.isPaused=function(){let t=this._readableState;return t[xo]===!0||t.flowing===!1};Se.prototype.setEncoding=function(t){let e=new FF(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Qle=1073741824;function Zle(t){if(t>Qle)throw new Ble("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function xF(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Sl)!==0?1:Nle(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Se.prototype.read=function(t){Le("read",t),t===void 0?t=NaN:Ile(t)||(t=Ole(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Zle(t)),t!==0&&(e.state&=~WF),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Le("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?BI(this):Zh(this),null;if(t=xF(t,e),t===0&&e.ended)return e.length===0&&BI(this),null;let n=(e.state&zh)!==0;if(Le("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Le("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Le("reading, ended or constructing",n);else if(n){Le("do read"),e.state|=ku|jh,e.length===0&&(e.state|=zh);try{this._read(e.highWaterMark)}catch(s){Tl(this,s)}e.state&=~jh,e.reading||(t=xF(r,e))}let i;return t>0?i=KF(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&BI(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function ece(t,e){if(Le("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Zh(t):(e.needReadable=!1,e.emittedReadable=!0,VF(t))}}function Zh(t){let e=t._readableState;Le("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Le("emitReadable",e.flowing),e.emittedReadable=!0,wn.nextTick(VF,t))}function VF(t){let e=t._readableState;Le("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,qF(t)}function Jh(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,wn.nextTick(tce,t,e))}function tce(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Le("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Se.prototype._read=function(t){throw new Ule("_read()")};Se.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new gle(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Le("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==wn.stdout&&t!==wn.stderr?a:S;n.endEmitted?wn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(R,N){Le("onunpipe"),R===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,u())}function a(){Le("onend"),t.end()}let l,c=!1;function u(){Le("cleanup"),t.removeListener("close",h),t.removeListener("finish",T),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(Le("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Le("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=rce(r,t),t.on("drain",l))}r.on("data",d);function d(R){Le("ondata");let N=t.write(R);Le("dest.write",N),N===!1&&E()}function f(R){if(Le("onerror",R),S(),t.removeListener("error",f),t.listenerCount("error")===0){let N=t._writableState||t._readableState;N&&!N.errorEmitted?Tl(t,R):t.emit("error",R)}}wle(t,"error",f);function h(){t.removeListener("finish",T),S()}t.once("close",h);function T(){Le("onfinish"),t.removeListener("close",h),S()}t.once("finish",T);function S(){Le("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(Le("pipe resume"),r.resume()),t};function rce(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Le("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Le("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Se.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=_le(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Se.prototype.on=function(t,e){let r=Cs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Le("on readable",n.length,n.reading),n.length?Zh(this):n.reading||wn.nextTick(nce,this)),r};Se.prototype.addListener=Se.prototype.on;Se.prototype.removeListener=function(t,e){let r=Cs.prototype.removeListener.call(this,t,e);return t==="readable"&&wn.nextTick(kF,this),r};Se.prototype.off=Se.prototype.removeListener;Se.prototype.removeAllListeners=function(t){let e=Cs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&wn.nextTick(kF,this),e};function kF(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[xo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function nce(t){Le("readable nexttick read 0"),t.read(0)}Se.prototype.resume=function(){let t=this._readableState;return t.flowing||(Le("resume"),t.flowing=!t.readableListening,ice(this,t)),t[xo]=!1,this};function ice(t,e){e.resumeScheduled||(e.resumeScheduled=!0,wn.nextTick(sce,t,e))}function sce(t,e){Le("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),qF(t),e.flowing&&!e.reading&&t.read(0)}Se.prototype.pause=function(){return Le("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Le("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[xo]=!0,this};function qF(t){let e=t._readableState;for(Le("flow",e.flowing);e.flowing&&t.read()!==null;);}Se.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Tl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=mle(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Se.prototype[yle]=function(){return XF(this)};Se.prototype.iterator=function(t){return t!==void 0&&Wle(t,"options"),XF(this,t)};function XF(t,e){typeof t.read!="function"&&(t=Se.wrap(t,{objectMode:!0}));let r=oce(t,e);return r.stream=t,r}async function*oce(t,e){let r=vI;function n(o){this===t?(r(),r=vI):r=o}t.on("readable",n);let i,s=BF(t,{writable:!1},o=>{i=o?MF(i,o):null,r(),r=vI});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new UF(n)}}}catch(o){throw i=MF(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Rl.destroyer(t,null):(t.off("readable",n),s())}}WI(Se.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});WI(Qh.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[xo]!==!1},set(t){this[xo]=!!t}}});Se._fromList=KF;function KF(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function BI(t){let e=t._readableState;Le("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,wn.nextTick(ace,e,t))}function ace(t,e){if(Le("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)wn.nextTick(lce,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function lce(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Se.from=function(t,e){return Yle(Se,t,e)};var FI;function jF(){return FI===void 0&&(FI={}),FI}Se.fromWeb=function(t,e){return jF().newStreamReadableFromReadableStream(t,e)};Se.toWeb=function(t,e){return jF().newReadableStreamFromStreamReadable(t,e)};Se.wrap=function(t,e){var r,n;return new Se({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Rl.destroyer(t,i),s(i)}}).wrap(t)}});var iT=g((gMe,l1)=>{"use strict";var vo=qe(),{ArrayPrototypeSlice:ZF,Error:cce,FunctionPrototypeSymbolHasInstance:e1,ObjectDefineProperty:t1,ObjectDefineProperties:uce,ObjectSetPrototypeOf:r1,StringPrototypeToLowerCase:Ece,Symbol:fce,SymbolHasInstance:dce}=lt();l1.exports=dt;dt.WritableState=ju;var{EventEmitter:hce}=require("events"),Xu=qh().Stream,{Buffer:eT}=require("buffer"),nT=Mo(),{addAbortSignal:Tce}=$u(),{getHighWaterMark:Sce,getDefaultHighWaterMark:Rce}=Vu(),{ERR_INVALID_ARG_TYPE:pce,ERR_METHOD_NOT_IMPLEMENTED:Ace,ERR_MULTIPLE_CALLBACK:n1,ERR_STREAM_CANNOT_PIPE:_ce,ERR_STREAM_DESTROYED:Ku,ERR_STREAM_ALREADY_FINISHED:Ice,ERR_STREAM_NULL_VALUES:Nce,ERR_STREAM_WRITE_AFTER_END:Oce,ERR_UNKNOWN_ENCODING:i1}=Nr().codes,{errorOrDestroy:pl}=nT;r1(dt.prototype,Xu.prototype);r1(dt,Xu);function VI(){}var Al=fce("kOnFinished");function ju(t,e,r){typeof r!="boolean"&&(r=e instanceof ni()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Sce(this,t,"writableHighWaterMark",r):Rce(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=gce.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,rT(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Al]=[]}function rT(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}ju.prototype.getBuffer=function(){return ZF(this.buffered,this.bufferedIndex)};t1(ju.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function dt(t){let e=this instanceof ni();if(!e&&!e1(dt,this))return new dt(t);this._writableState=new ju(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Tce(t.signal,this)),Xu.call(this,t),nT.construct(this,()=>{let r=this._writableState;r.writing||qI(this,r),XI(this,r)})}t1(dt,dce,{__proto__:null,value:function(t){return e1(this,t)?!0:this!==dt?!1:t&&t._writableState instanceof ju}});dt.prototype.pipe=function(){pl(this,new _ce)};function s1(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!eT.isEncoding(r))throw new i1(r);typeof n!="function"&&(n=VI)}if(e===null)throw new Nce;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=eT.from(e,r),r="buffer");else if(e instanceof eT)r="buffer";else if(Xu._isUint8Array(e))e=Xu._uint8ArrayToBuffer(e),r="buffer";else throw new pce("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Oce:i.destroyed&&(s=new Ku("write")),s?(vo.nextTick(n,s),pl(t,s,!0),s):(i.pendingcb++,mce(t,i,e,r,n))}dt.prototype.write=function(t,e,r){return s1(this,t,e,r)===!0};dt.prototype.cork=function(){this._writableState.corked++};dt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||qI(this,t))};dt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Ece(e)),!eT.isEncoding(e))throw new i1(e);return this._writableState.defaultEncoding=e,this};function mce(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==VI&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function JF(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Ku("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function QF(t,e,r,n){--e.pendingcb,n(r),kI(e),pl(t,r)}function gce(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){pl(t,new n1);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?vo.nextTick(QF,t,r,e,i):QF(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&qI(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},vo.nextTick(Cce,r.afterWriteTickInfo)):o1(t,r,1,i))}function Cce({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,o1(t,e,r,n)}function o1(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&kI(e),XI(t,e)}function kI(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Ku("write"))}let r=t[Al].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Ku("end"))}rT(t)}function qI(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?VI:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:ZF(r,o);l.allBuffers=e.allBuffers,JF(t,e,!0,e.length,l,"",a),rT(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;JF(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?rT(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}dt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Ace("_write()")};dt.prototype._writev=null;dt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=s1(this,t,e);s instanceof cce&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,XI(this,n,!0),n.ended=!0):n.finished?i=new Ice("end"):n.destroyed&&(i=new Ku("end"))),typeof r=="function"&&(i||n.finished?vo.nextTick(r,i):n[Al].push(r)),this};function tT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function yce(t,e){let r=!1;function n(i){if(r){pl(t,i??n1());return}if(r=!0,e.pendingcb--,i){let s=e[Al].splice(0);for(let o=0;o<s.length;o++)s[o](i);pl(t,i,e.sync)}else tT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,vo.nextTick($I,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Lce(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,yce(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function XI(t,e,r){tT(e)&&(Lce(t,e),e.pendingcb===0&&(r?(e.pendingcb++,vo.nextTick((n,i)=>{tT(i)?$I(n,i):i.pendingcb--},t,e)):tT(e)&&(e.pendingcb++,$I(t,e))))}function $I(t,e){e.pendingcb--,e.finished=!0;let r=e[Al].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}uce(dt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var bce=nT.destroy;dt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Al].length)&&vo.nextTick(kI,r),bce.call(this,t,e),this};dt.prototype._undestroy=nT.undestroy;dt.prototype._destroy=function(t,e){e(t)};dt.prototype[hce.captureRejectionSymbol]=function(t){this.destroy(t)};var YI;function a1(){return YI===void 0&&(YI={}),YI}dt.fromWeb=function(t,e){return a1().newStreamWritableFromWritableStream(t,e)};dt.toWeb=function(t){return a1().newWritableStreamFromStreamWritable(t)}});var O1=g((CMe,N1)=>{var KI=qe(),wce=require("buffer"),{isReadable:Dce,isWritable:Pce,isIterable:c1,isNodeStream:Mce,isReadableNodeStream:u1,isWritableNodeStream:E1,isDuplexNodeStream:xce,isReadableStream:f1,isWritableStream:d1}=ti(),h1=Hi(),{AbortError:_1,codes:{ERR_INVALID_ARG_TYPE:vce,ERR_INVALID_RETURN_VALUE:T1}}=Nr(),{destroyer:Il}=Mo(),Uce=ni(),I1=qu(),Bce=iT(),{createDeferredPromise:S1}=xr(),R1=MI(),p1=globalThis.Blob||wce.Blob,Fce=typeof p1<"u"?function(e){return e instanceof p1}:function(e){return!1},Gce=globalThis.AbortController||Ct().AbortController,{FunctionPrototypeCall:A1}=lt(),ys=class extends Uce{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};N1.exports=function t(e,r){if(xce(e))return e;if(u1(e))return _l({readable:e});if(E1(e))return _l({writable:e});if(Mce(e))return _l({writable:!1,readable:!1});if(f1(e))return _l({readable:I1.fromWeb(e)});if(d1(e))return _l({writable:Bce.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Hce(e);if(c1(i))return R1(ys,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=A1(l,i,E=>{if(E!=null)throw new T1("nully","body",E)},E=>{Il(c,E)});return c=new ys({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,KI.nextTick(E,null)}catch(d){KI.nextTick(E,d)}})},destroy:a})}throw new T1("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Fce(e))return t(e.arrayBuffer());if(c1(e))return R1(ys,e,{objectMode:!0,writable:!1});if(f1(e?.readable)&&d1(e?.writable))return ys.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?u1(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?E1(e?.writable)?e?.writable:t(e.writable):void 0;return _l({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return A1(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Il(i,s)}),i=new ys({objectMode:!0,writable:!1,read(){}})}throw new vce(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Hce(t){let{promise:e,resolve:r}=S1(),n=new Gce,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(KI.nextTick(c),l)return;if(i.aborted)throw new _1(void 0,{cause:i.reason});({promise:e,resolve:r}=S1()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function _l(t){let e=t.readable&&typeof t.readable.read!="function"?I1.wrap(t.readable):t.readable,r=t.writable,n=!!Dce(e),i=!!Pce(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new ys({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(h1(r,E=>{i=!1,E&&Il(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(h1(e,E=>{n=!1,E&&Il(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new _1),a=null,s=null,o=null,l===null?d(E):(l=d,Il(r,E),Il(e,E))},c}});var ni=g((yMe,C1)=>{"use strict";var{ObjectDefineProperties:Wce,ObjectGetOwnPropertyDescriptor:Wi,ObjectKeys:Yce,ObjectSetPrototypeOf:m1}=lt();C1.exports=Dn;var JI=qu(),Tn=iT();m1(Dn.prototype,JI.prototype);m1(Dn,JI);{let t=Yce(Tn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Dn.prototype[r]||(Dn.prototype[r]=Tn.prototype[r])}}function Dn(t){if(!(this instanceof Dn))return new Dn(t);JI.call(this,t),Tn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Wce(Dn.prototype,{writable:{__proto__:null,...Wi(Tn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Wi(Tn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Wi(Tn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Wi(Tn.prototype,"writableBuffer")},writableLength:{__proto__:null,...Wi(Tn.prototype,"writableLength")},writableFinished:{__proto__:null,...Wi(Tn.prototype,"writableFinished")},writableCorked:{__proto__:null,...Wi(Tn.prototype,"writableCorked")},writableEnded:{__proto__:null,...Wi(Tn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Wi(Tn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var jI;function g1(){return jI===void 0&&(jI={}),jI}Dn.fromWeb=function(t,e){return g1().newStreamDuplexFromReadableWritablePair(t,e)};Dn.toWeb=function(t){return g1().newReadableWritablePairFromDuplex(t)};var zI;Dn.from=function(t){return zI||(zI=O1()),zI(t,"body")}});var eN=g((LMe,L1)=>{"use strict";var{ObjectSetPrototypeOf:y1,Symbol:$ce}=lt();L1.exports=Yi;var{ERR_METHOD_NOT_IMPLEMENTED:Vce}=Nr().codes,ZI=ni(),{getHighWaterMark:kce}=Vu();y1(Yi.prototype,ZI.prototype);y1(Yi,ZI);var zu=$ce("kCallback");function Yi(t){if(!(this instanceof Yi))return new Yi(t);let e=t?kce(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),ZI.call(this,t),this._readableState.sync=!1,this[zu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",qce)}function QI(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function qce(){this._final!==QI&&QI.call(this)}Yi.prototype._final=QI;Yi.prototype._transform=function(t,e,r){throw new Vce("_transform()")};Yi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[zu]=r})};Yi.prototype._read=function(){if(this[zu]){let t=this[zu];this[zu]=null,t()}}});var rN=g((bMe,w1)=>{"use strict";var{ObjectSetPrototypeOf:b1}=lt();w1.exports=Nl;var tN=eN();b1(Nl.prototype,tN.prototype);b1(Nl,tN);function Nl(t){if(!(this instanceof Nl))return new Nl(t);tN.call(this,t)}Nl.prototype._transform=function(t,e,r){r(null,t)}});var lT=g((wMe,v1)=>{var Ju=qe(),{ArrayIsArray:Xce,Promise:Kce,SymbolAsyncIterator:jce,SymbolDispose:zce}=lt(),aT=Hi(),{once:Jce}=xr(),Qce=Mo(),D1=ni(),{aggregateTwoErrors:Zce,codes:{ERR_INVALID_ARG_TYPE:EN,ERR_INVALID_RETURN_VALUE:nN,ERR_MISSING_ARGS:eue,ERR_STREAM_DESTROYED:tue,ERR_STREAM_PREMATURE_CLOSE:rue},AbortError:nue}=Nr(),{validateFunction:iue,validateAbortSignal:sue}=dl(),{isIterable:Uo,isReadable:iN,isReadableNodeStream:oT,isNodeStream:P1,isTransformStream:Ol,isWebStream:oue,isReadableStream:sN,isReadableFinished:aue}=ti(),lue=globalThis.AbortController||Ct().AbortController,oN,aN,lN;function M1(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=aT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Qce.destroyer(t,s||new tue("pipe")))},cleanup:i}}function cue(t){return iue(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function cN(t){if(Uo(t))return t;if(oT(t))return uue(t);throw new EN("val",["Readable","Iterable","AsyncIterable"],t)}async function*uue(t){aN||(aN=qu()),yield*aN.prototype[jce].call(t)}async function sT(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new Kce((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=aT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?Zce(i,c):c)}finally{l(),e.off("drain",o)}}async function uN(t,e,r,{end:n}){Ol(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Eue(...t){return x1(t,Jce(cue(t)))}function x1(t,e,r){if(t.length===1&&Xce(t[0])&&(t=t[0]),t.length<2)throw new eue("streams");let n=new lue,i=n.signal,s=r?.signal,o=[];sue(s,"options.signal");function a(){h(new nue)}lN=lN||xr().addAbortListener;let l;s&&(l=lN(s,a));let c,u,E=[],d=0;function f(p){h(p,--d===0)}function h(p,A){var O;if(p&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=p),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[zce](),n.abort(),A&&(c||o.forEach(b=>b()),Ju.nextTick(e,c,u))}}let T;for(let p=0;p<t.length;p++){let A=t[p],O=p<t.length-1,b=p>0,I=O||r?.end!==!1,D=p===t.length-1;if(P1(A)){let L=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var N=L;if(I){let{destroy:P,cleanup:x}=M1(A,O,b);E.push(P),iN(A)&&D&&o.push(x)}A.on("error",L),iN(A)&&D&&o.push(()=>{A.removeListener("error",L)})}if(p===0)if(typeof A=="function"){if(T=A({signal:i}),!Uo(T))throw new nN("Iterable, AsyncIterable or Stream","source",T)}else Uo(A)||oT(A)||Ol(A)?T=A:T=D1.from(A);else if(typeof A=="function"){if(Ol(T)){var S;T=cN((S=T)===null||S===void 0?void 0:S.readable)}else T=cN(T);if(T=A(T,{signal:i}),O){if(!Uo(T,!0))throw new nN("AsyncIterable",`transform[${p-1}]`,T)}else{var R;oN||(oN=rN());let L=new oN({objectMode:!0}),P=(R=T)===null||R===void 0?void 0:R.then;if(typeof P=="function")d++,P.call(T,Y=>{u=Y,Y!=null&&L.write(Y),I&&L.end(),Ju.nextTick(f)},Y=>{L.destroy(Y),Ju.nextTick(f,Y)});else if(Uo(T,!0))d++,sT(T,L,f,{end:I});else if(sN(T)||Ol(T)){let Y=T.readable||T;d++,sT(Y,L,f,{end:I})}else throw new nN("AsyncIterable or Promise","destination",T);T=L;let{destroy:x,cleanup:$}=M1(T,!1,!0);E.push(x),D&&o.push($)}}else if(P1(A)){if(oT(T)){d+=2;let L=fue(T,A,f,{end:I});iN(A)&&D&&o.push(L)}else if(Ol(T)||sN(T)){let L=T.readable||T;d++,sT(L,A,f,{end:I})}else if(Uo(T))d++,sT(T,A,f,{end:I});else throw new EN("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=A}else if(oue(A)){if(oT(T))d++,uN(cN(T),A,f,{end:I});else if(sN(T)||Uo(T))d++,uN(T,A,f,{end:I});else if(Ol(T))d++,uN(T.readable,A,f,{end:I});else throw new EN("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=A}else T=D1.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Ju.nextTick(a),T}function fue(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new rue)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;aue(t)?Ju.nextTick(o):t.once("end",o)}else r();return aT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),aT(e,{readable:!1,writable:!0},r)}v1.exports={pipelineImpl:x1,pipeline:Eue}});var dN=g((DMe,W1)=>{"use strict";var{pipeline:due}=lT(),cT=ni(),{destroyer:hue}=Mo(),{isNodeStream:uT,isReadable:U1,isWritable:B1,isWebStream:fN,isTransformStream:Bo,isWritableStream:F1,isReadableStream:G1}=ti(),{AbortError:Tue,codes:{ERR_INVALID_ARG_VALUE:H1,ERR_MISSING_ARGS:Sue}}=Nr(),Rue=Hi();W1.exports=function(...e){if(e.length===0)throw new Sue("streams");if(e.length===1)return cT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=cT.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=cT.from(e[f])}for(let f=0;f<e.length;++f)if(!(!uT(e[f])&&!fN(e[f]))){if(f<e.length-1&&!(U1(e[f])||G1(e[f])||Bo(e[f])))throw new H1(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(B1(e[f])||F1(e[f])||Bo(e[f])))throw new H1(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let h=o;o=null,h?h(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=due(e,l),E=!!(B1(c)||F1(c)||Bo(c)),d=!!(U1(u)||G1(u)||Bo(u));if(a=new cT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(uT(c))a._write=function(h,T,S){c.write(h,T)?S():n=S},a._final=function(h){c.end(),i=h},c.on("drain",function(){if(n){let h=n;n=null,h()}});else if(fN(c)){let T=(Bo(c)?c.writable:c).getWriter();a._write=async function(S,R,N){try{await T.ready,T.write(S).catch(()=>{}),N()}catch(p){N(p)}},a._final=async function(S){try{await T.ready,T.close().catch(()=>{}),i=S}catch(R){S(R)}}}let f=Bo(u)?u.readable:u;Rue(f,()=>{if(i){let h=i;i=null,h()}})}if(d){if(uT(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(fN(u)){let h=(Bo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:T,done:S}=await h.read();if(!a.push(T))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,h){!f&&o!==null&&(f=new Tue),s=null,n=null,i=null,o===null?h(f):(o=h,uT(u)&&hue(u,f))},a}});var J1=g((PMe,SN)=>{"use strict";var pue=globalThis.AbortController||Ct().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Aue,ERR_INVALID_ARG_TYPE:Qu,ERR_MISSING_ARGS:_ue,ERR_OUT_OF_RANGE:Iue},AbortError:ii}=Nr(),{validateAbortSignal:Fo,validateInteger:Y1,validateObject:Go}=dl(),Nue=lt().Symbol("kWeak"),Oue=lt().Symbol("kResistStopPropagation"),{finished:mue}=Hi(),gue=dN(),{addAbortSignalNoValidate:Cue}=$u(),{isWritable:yue,isNodeStream:Lue}=ti(),{deprecate:bue}=xr(),{ArrayPrototypePush:wue,Boolean:Due,MathFloor:$1,Number:Pue,NumberIsNaN:Mue,Promise:V1,PromiseReject:k1,PromiseResolve:xue,PromisePrototypeThen:q1,Symbol:K1}=lt(),ET=K1("kEmpty"),X1=K1("kEof");function vue(t,e){if(e!=null&&Go(e,"options"),e?.signal!=null&&Fo(e.signal,"options.signal"),Lue(t)&&!yue(t))throw new Aue("stream",t,"must be writable");let r=gue(this,t);return e!=null&&e.signal&&Cue(e.signal,r),r}function fT(t,e){if(typeof t!="function")throw new Qu("fn",["Function","AsyncFunction"],t);e!=null&&Go(e,"options"),e?.signal!=null&&Fo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=$1(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=$1(e.highWaterMark)),Y1(r,"options.concurrency",1),Y1(n,"options.highWaterMark",0),n+=r,async function*(){let s=xr().AbortSignalAny([e?.signal].filter(Due)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,h()}function h(){d-=1,T()}function T(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let R of o){if(E)return;if(s.aborted)throw new ii;try{if(R=t(R,l),R===ET)continue;R=xue(R)}catch(N){R=k1(N)}d+=1,q1(R,h,f),a.push(R),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new V1(N=>{u=N})}a.push(X1)}catch(R){let N=k1(R);q1(N,h,f),a.push(N)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let R=await a[0];if(R===X1)return;if(s.aborted)throw new ii;R!==ET&&(yield R),a.shift(),T()}await new V1(R=>{c=R})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function Uue(t=void 0){return t!=null&&Go(t,"options"),t?.signal!=null&&Fo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ii({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function j1(t,e=void 0){for await(let r of TN.call(this,t,e))return!0;return!1}async function Bue(t,e=void 0){if(typeof t!="function")throw new Qu("fn",["Function","AsyncFunction"],t);return!await j1.call(this,async(...r)=>!await t(...r),e)}async function Fue(t,e){for await(let r of TN.call(this,t,e))return r}async function Gue(t,e){if(typeof t!="function")throw new Qu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),ET}for await(let n of fT.call(this,r,e));}function TN(t,e){if(typeof t!="function")throw new Qu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:ET}return fT.call(this,r,e)}var hN=class extends _ue{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Hue(t,e,r){var n;if(typeof t!="function")throw new Qu("reducer",["Function","AsyncFunction"],t);r!=null&&Go(r,"options"),r?.signal!=null&&Fo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new ii(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await mue(this.destroy(c)),c}let s=new pue,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Nue]:this,[Oue]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new ii;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new hN}finally{s.abort()}return e}async function Wue(t){t!=null&&Go(t,"options"),t?.signal!=null&&Fo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new ii(void 0,{cause:t.signal.reason});wue(e,n)}return e}function Yue(t,e){let r=fT.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function z1(t){if(t=Pue(t),Mue(t))return 0;if(t<0)throw new Iue("number",">= 0",t);return t}function $ue(t,e=void 0){return e!=null&&Go(e,"options"),e?.signal!=null&&Fo(e.signal,"options.signal"),t=z1(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ii;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ii;t--<=0&&(yield s)}}.call(this)}function Vue(t,e=void 0){return e!=null&&Go(e,"options"),e?.signal!=null&&Fo(e.signal,"options.signal"),t=z1(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ii;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ii;if(t-- >0&&(yield s),t<=0)return}}.call(this)}SN.exports.streamReturningOperators={asIndexedPairs:bue(Uue,"readable.asIndexedPairs will be removed in a future version."),drop:$ue,filter:TN,flatMap:Yue,map:fT,take:Vue,compose:vue};SN.exports.promiseReturningOperators={every:Bue,forEach:Gue,reduce:Hue,toArray:Wue,some:j1,find:Fue}});var RN=g((MMe,Q1)=>{"use strict";var{ArrayPrototypePop:kue,Promise:que}=lt(),{isIterable:Xue,isNodeStream:Kue,isWebStream:jue}=ti(),{pipelineImpl:zue}=lT(),{finished:Jue}=Hi();pN();function Que(...t){return new que((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!Kue(s)&&!Xue(s)&&!jue(s)){let o=kue(t);n=o.signal,i=o.end}zue(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}Q1.exports={finished:Jue,pipeline:Que}});var pN=g((xMe,aG)=>{"use strict";var{Buffer:Zue}=require("buffer"),{ObjectDefineProperty:$i,ObjectKeys:tG,ReflectApply:rG}=lt(),{promisify:{custom:nG}}=xr(),{streamReturningOperators:Z1,promiseReturningOperators:eG}=J1(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:iG}}=Nr(),eEe=dN(),{setDefaultHighWaterMark:tEe,getDefaultHighWaterMark:rEe}=Vu(),{pipeline:sG}=lT(),{destroyer:nEe}=Mo(),oG=Hi(),AN=RN(),Zu=ti(),rt=aG.exports=qh().Stream;rt.isDestroyed=Zu.isDestroyed;rt.isDisturbed=Zu.isDisturbed;rt.isErrored=Zu.isErrored;rt.isReadable=Zu.isReadable;rt.isWritable=Zu.isWritable;rt.Readable=qu();for(let t of tG(Z1)){let r=function(...n){if(new.target)throw iG();return rt.Readable.from(rG(e,this,n))},e=Z1[t];$i(r,"name",{__proto__:null,value:e.name}),$i(r,"length",{__proto__:null,value:e.length}),$i(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of tG(eG)){let r=function(...n){if(new.target)throw iG();return rG(e,this,n)},e=eG[t];$i(r,"name",{__proto__:null,value:e.name}),$i(r,"length",{__proto__:null,value:e.length}),$i(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}rt.Writable=iT();rt.Duplex=ni();rt.Transform=eN();rt.PassThrough=rN();rt.pipeline=sG;var{addAbortSignal:iEe}=$u();rt.addAbortSignal=iEe;rt.finished=oG;rt.destroy=nEe;rt.compose=eEe;rt.setDefaultHighWaterMark=tEe;rt.getDefaultHighWaterMark=rEe;$i(rt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return AN}});$i(sG,nG,{__proto__:null,enumerable:!0,get(){return AN.pipeline}});$i(oG,nG,{__proto__:null,enumerable:!0,get(){return AN.finished}});rt.Stream=rt;rt._isUint8Array=function(e){return e instanceof Uint8Array};rt._uint8ArrayToBuffer=function(e){return Zue.from(e.buffer,e.byteOffset,e.byteLength)}});var _N=g((vMe,Oe)=>{"use strict";var vt=require("stream");if(vt&&process.env.READABLE_STREAM==="disable"){let t=vt.promises;Oe.exports._uint8ArrayToBuffer=vt._uint8ArrayToBuffer,Oe.exports._isUint8Array=vt._isUint8Array,Oe.exports.isDisturbed=vt.isDisturbed,Oe.exports.isErrored=vt.isErrored,Oe.exports.isReadable=vt.isReadable,Oe.exports.Readable=vt.Readable,Oe.exports.Writable=vt.Writable,Oe.exports.Duplex=vt.Duplex,Oe.exports.Transform=vt.Transform,Oe.exports.PassThrough=vt.PassThrough,Oe.exports.addAbortSignal=vt.addAbortSignal,Oe.exports.finished=vt.finished,Oe.exports.destroy=vt.destroy,Oe.exports.pipeline=vt.pipeline,Oe.exports.compose=vt.compose,Object.defineProperty(vt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Oe.exports.Stream=vt.Stream}else{let t=pN(),e=RN(),r=t.Readable.destroy;Oe.exports=t.Readable,Oe.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Oe.exports._isUint8Array=t._isUint8Array,Oe.exports.isDisturbed=t.isDisturbed,Oe.exports.isErrored=t.isErrored,Oe.exports.isReadable=t.isReadable,Oe.exports.Readable=t.Readable,Oe.exports.Writable=t.Writable,Oe.exports.Duplex=t.Duplex,Oe.exports.Transform=t.Transform,Oe.exports.PassThrough=t.PassThrough,Oe.exports.addAbortSignal=t.addAbortSignal,Oe.exports.finished=t.finished,Oe.exports.destroy=t.destroy,Oe.exports.destroy=r,Oe.exports.pipeline=t.pipeline,Oe.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Oe.exports.Stream=t.Stream}Oe.exports.default=Oe.exports});var fG=g((UMe,EG)=>{var ON=require("fs"),cG=cL(),lG=EL(),IN=require("path"),si=El(),sEe=require("util").inherits,It=AB(),uG=_N().Transform,NN=process.platform==="win32",Ye=function(t,e){if(!(this instanceof Ye))return new Ye(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=si.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),uG.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=lG.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=lG.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};sEe(Ye,uG);Ye.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};Ye.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof ON.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};Ye.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};Ye.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};Ye.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};Ye.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new It("NOENDMETHOD"))};Ye.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};Ye.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};Ye.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};Ye.prototype._normalizeEntryData=function(t,e){t=si.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=si.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?NN?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(NN?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,NN&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=si.dateify(t.date),t};Ye.prototype._onModuleError=function(t){this.emit("error",t)};Ye.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};Ye.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};Ye.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}ON.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};Ye.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};Ye.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};Ye.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=si.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=si.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=si.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=ON.readlinkSync(t.filepath),n=IN.dirname(t.filepath);t.data.type="symlink",t.data.linkname=IN.relative(n,IN.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new It("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new It("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new It("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};Ye.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};Ye.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new It("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new It("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new It("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=si.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(si.isStream(t))e.sourceType="stream";else return this.emit("error",new It("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};Ye.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new It("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new It("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function o(c){this.emit("error",c)}function a(c){l.pause();var u=!1,E=Object.assign({},r);E.name=c.relative,E.prefix=e,E.stats=c.stat,E.callback=l.resume.bind(l);try{if(n){if(E=n(E),E===!1)u=!0;else if(typeof E!="object")throw new It("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(d){this.emit("error",d);return}if(u){l.resume();return}this._append(c.absolute,E)}var l=cG(t,i);return l.on("error",o.bind(this)),l.on("match",a.bind(this)),l.on("end",s.bind(this)),this};Ye.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new It("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new It("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};Ye.prototype.glob=function(t,e,r){this._pending++,e=si.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(a){this.emit("error",a)}function s(a){o.pause();var l=Object.assign({},r);l.callback=o.resume.bind(o),l.stats=a.stat,l.name=a.relative,this._append(a.absolute,l)}var o=cG(e.cwd||".",e);return o.on("error",i.bind(this)),o.on("match",s.bind(this)),o.on("end",n.bind(this)),this};Ye.prototype.finalize=function(){if(this._state.aborted){var t=new It("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new It("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(o){s=!0,i(o)})})};Ye.prototype.setFormat=function(t){return this._format?(this.emit("error",new It("FORMATSET")),this):(this._format=t,this)};Ye.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new It("ABORTED")),this):this._state.module?(this.emit("error",new It("MODULESET")),this):(this._module=t,this._modulePipe(),this)};Ye.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new It("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new It("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new It("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new It("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};Ye.prototype.pointer=function(){return this._pointer};Ye.prototype.use=function(t){return this._streams.push(t),this};EG.exports=Ye});var hT=g((BMe,dG)=>{var dT=dG.exports=function(){};dT.prototype.getName=function(){};dT.prototype.getSize=function(){};dT.prototype.getLastModifiedDate=function(){};dT.prototype.isDirectory=function(){}});var TT=g((FMe,hG)=>{var Sn=hG.exports={};Sn.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};Sn.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};Sn.fromDosTime=function(t){return Sn.dosToDate(t.readUInt32LE(0))};Sn.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};Sn.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};Sn.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};Sn.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};Sn.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};Sn.toDosTime=function(t){return Sn.getLongBytes(Sn.dateToDos(t))}});var mN=g((GMe,_G)=>{var TG=TT(),SG=8,RG=1,oEe=4,aEe=2,pG=64,AG=2048,Er=_G.exports=function(){return this instanceof Er?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new Er};Er.prototype.encode=function(){return TG.getShortBytes((this.descriptor?SG:0)|(this.utf8?AG:0)|(this.encryption?RG:0)|(this.strongEncryption?pG:0))};Er.prototype.parse=function(t,e){var r=TG.getShortBytesValue(t,e),n=new Er;return n.useDataDescriptor((r&SG)!==0),n.useUTF8ForNames((r&AG)!==0),n.useStrongEncryption((r&pG)!==0),n.useEncryption((r&RG)!==0),n.setSlidingDictionarySize((r&aEe)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&oEe)!==0?3:2),n};Er.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};Er.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};Er.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};Er.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};Er.prototype.useDataDescriptor=function(t){this.descriptor=t};Er.prototype.usesDataDescriptor=function(){return this.descriptor};Er.prototype.useEncryption=function(t){this.encryption=t};Er.prototype.usesEncryption=function(){return this.encryption};Er.prototype.useStrongEncryption=function(t){this.strongEncryption=t};Er.prototype.usesStrongEncryption=function(){return this.strongEncryption};Er.prototype.useUTF8ForNames=function(t){this.utf8=t};Er.prototype.usesUTF8ForNames=function(){return this.utf8}});var NG=g((HMe,IG)=>{IG.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var gN=g((WMe,OG)=>{OG.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var CN=g((YMe,LG)=>{var lEe=require("util").inherits,cEe=kp(),gG=hT(),CG=mN(),mG=NG(),vr=gN(),yG=TT(),Ie=LG.exports=function(t){if(!(this instanceof Ie))return new Ie(t);gG.call(this),this.platform=vr.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new CG,this.crc=0,this.time=-1,this.minver=vr.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};lEe(Ie,gG);Ie.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};Ie.prototype.getComment=function(){return this.comment!==null?this.comment:""};Ie.prototype.getCompressedSize=function(){return this.csize};Ie.prototype.getCrc=function(){return this.crc};Ie.prototype.getExternalAttributes=function(){return this.exattr};Ie.prototype.getExtra=function(){return this.extra!==null?this.extra:vr.EMPTY};Ie.prototype.getGeneralPurposeBit=function(){return this.gpb};Ie.prototype.getInternalAttributes=function(){return this.inattr};Ie.prototype.getLastModifiedDate=function(){return this.getTime()};Ie.prototype.getLocalFileDataExtra=function(){return this.getExtra()};Ie.prototype.getMethod=function(){return this.method};Ie.prototype.getName=function(){return this.name};Ie.prototype.getPlatform=function(){return this.platform};Ie.prototype.getSize=function(){return this.size};Ie.prototype.getTime=function(){return this.time!==-1?yG.dosToDate(this.time):-1};Ie.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};Ie.prototype.getUnixMode=function(){return this.platform!==vr.PLATFORM_UNIX?0:this.getExternalAttributes()>>vr.SHORT_SHIFT&vr.SHORT_MASK};Ie.prototype.getVersionNeededToExtract=function(){return this.minver};Ie.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};Ie.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};Ie.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};Ie.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};Ie.prototype.setExtra=function(t){this.extra=t};Ie.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof CG))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};Ie.prototype.setInternalAttributes=function(t){this.inattr=t};Ie.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};Ie.prototype.setName=function(t,e=!1){t=cEe(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};Ie.prototype.setPlatform=function(t){this.platform=t};Ie.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};Ie.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=yG.dateToDos(t,e)};Ie.prototype.setUnixMode=function(t){t|=this.isDirectory()?vr.S_IFDIR:vr.S_IFREG;var e=0;e|=t<<vr.SHORT_SHIFT|(this.isDirectory()?vr.S_DOS_D:vr.S_DOS_A),this.setExternalAttributes(e),this.mode=t&vr.MODE_MASK,this.platform=vr.PLATFORM_UNIX};Ie.prototype.setVersionNeededToExtract=function(t){this.minver=t};Ie.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};Ie.prototype.isUnixSymlink=function(){return(this.getUnixMode()&mG.FILE_TYPE_FLAG)===mG.LINK_FLAG};Ie.prototype.isZip64=function(){return this.csize>vr.ZIP64_MAGIC||this.size>vr.ZIP64_MAGIC}});var ct=g(($Me,bG)=>{"use strict";var yN=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};bG.exports={AggregateError:yN,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var LN=g((VMe,wG)=>{"use strict";wG.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var mr=g((kMe,MG)=>{"use strict";var{format:uEe,inspect:ST}=LN(),{AggregateError:EEe}=ct(),fEe=globalThis.AggregateError||EEe,dEe=Symbol("kIsNodeError"),hEe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],TEe=/^([A-Z][a-z0-9]*)+$/,SEe="__node_internal_",RT={};function Ho(t,e){if(!t)throw new RT.ERR_INTERNAL_ASSERTION(e)}function DG(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function REe(t,e,r){if(typeof e=="function")return Ho(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Ho(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:uEe(e,...r)}function fr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(REe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[dEe]=!0,RT[t]=n}function PG(t){let e=SEe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function pEe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new fEe([e,t],e.message);return r.code=e.code,r}return t||e}var bN=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new RT.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};fr("ERR_ASSERTION","%s",Error);fr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Ho(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Ho(typeof l=="string","All expected entries have to be of type string"),hEe.includes(l)?i.push(l.toLowerCase()):TEe.test(l)?s.push(l):(Ho(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=ST(r,{depth:-1});n+=`. Received ${l}`}}else{let l=ST(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);fr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=ST(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);fr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);fr("ERR_MISSING_ARGS",(...t)=>{Ho(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);fr("ERR_OUT_OF_RANGE",(t,e,r)=>{Ho(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=DG(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=DG(n)),n+="n"}else n=ST(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);fr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);fr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);fr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);fr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);fr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);fr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);fr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);fr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);fr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);fr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);fr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);MG.exports={AbortError:bN,aggregateTwoErrors:PG(pEe),hideStackFrames:PG,codes:RT}});var Ur=g((qMe,DN)=>{"use strict";var AEe=require("buffer"),{format:_Ee,inspect:IEe}=LN(),{codes:{ERR_INVALID_ARG_TYPE:wN}}=mr(),{kResistStopPropagation:NEe,AggregateError:OEe,SymbolDispose:mEe}=ct(),gEe=globalThis.AbortSignal||Ct().AbortSignal,CEe=globalThis.AbortController||Ct().AbortController,yEe=Object.getPrototypeOf(async function(){}).constructor,xG=globalThis.Blob||AEe.Blob,LEe=typeof xG<"u"?function(e){return e instanceof xG}:function(e){return!1},vG=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new wN(e,"AbortSignal",t)},bEe=(t,e)=>{if(typeof t!="function")throw new wN(e,"Function",t)};DN.exports={AggregateError:OEe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:_Ee,inspect:IEe,types:{isAsyncFunction(t){return t instanceof yEe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:LEe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new wN("signal","AbortSignal",e);vG(e,"signal"),bEe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[NEe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[mEe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:gEe.any||function(e){if(e.length===1)return e[0];let r=new CEe,n=()=>r.abort();return e.forEach(i=>{vG(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};DN.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var gl=g((XMe,kG)=>{"use strict";var{ArrayIsArray:MN,ArrayPrototypeIncludes:GG,ArrayPrototypeJoin:HG,ArrayPrototypeMap:wEe,NumberIsInteger:xN,NumberIsNaN:DEe,NumberMAX_SAFE_INTEGER:PEe,NumberMIN_SAFE_INTEGER:MEe,NumberParseInt:xEe,ObjectPrototypeHasOwnProperty:vEe,RegExpPrototypeExec:WG,String:UEe,StringPrototypeToUpperCase:BEe,StringPrototypeTrim:FEe}=ct(),{hideStackFrames:Rn,codes:{ERR_SOCKET_BAD_PORT:GEe,ERR_INVALID_ARG_TYPE:gr,ERR_INVALID_ARG_VALUE:ml,ERR_OUT_OF_RANGE:Wo,ERR_UNKNOWN_SIGNAL:UG}}=mr(),{normalizeEncoding:HEe}=Ur(),{isAsyncFunction:WEe,isArrayBufferView:YEe}=Ur().types,BG={};function $Ee(t){return t===(t|0)}function VEe(t){return t===t>>>0}var kEe=/^[0-7]+$/,qEe="must be a 32-bit unsigned integer or an octal string";function XEe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(WG(kEe,t)===null)throw new ml(e,t,qEe);t=xEe(t,8)}return YG(t,e),t}var KEe=Rn((t,e,r=MEe,n=PEe)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!xN(t))throw new Wo(e,"an integer",t);if(t<r||t>n)throw new Wo(e,`>= ${r} && <= ${n}`,t)}),jEe=Rn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!xN(t))throw new Wo(e,"an integer",t);if(t<r||t>n)throw new Wo(e,`>= ${r} && <= ${n}`,t)}),YG=Rn((t,e,r=!1)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!xN(t))throw new Wo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Wo(e,`>= ${n} && <= ${i}`,t)});function vN(t,e){if(typeof t!="string")throw new gr(e,"string",t)}function zEe(t,e,r=void 0,n){if(typeof t!="number")throw new gr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&DEe(t))throw new Wo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var JEe=Rn((t,e,r)=>{if(!GG(r,t)){let i="must be one of: "+HG(wEe(r,s=>typeof s=="string"?`'${s}'`:UEe(s)),", ");throw new ml(e,t,i)}});function $G(t,e){if(typeof t!="boolean")throw new gr(e,"boolean",t)}function PN(t,e,r){return t==null||!vEe(t,e)?r:t[e]}var QEe=Rn((t,e,r=null)=>{let n=PN(r,"allowArray",!1),i=PN(r,"allowFunction",!1);if(!PN(r,"nullable",!1)&&t===null||!n&&MN(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new gr(e,"Object",t)}),ZEe=Rn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new gr(e,"a dictionary",t)}),pT=Rn((t,e,r=0)=>{if(!MN(t))throw new gr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new ml(e,t,n)}});function efe(t,e){pT(t,e);for(let r=0;r<t.length;r++)vN(t[r],`${e}[${r}]`)}function tfe(t,e){pT(t,e);for(let r=0;r<t.length;r++)$G(t[r],`${e}[${r}]`)}function rfe(t,e){pT(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new gr(i,"AbortSignal",n);VG(n,i)}}function nfe(t,e="signal"){if(vN(t,e),BG[t]===void 0)throw BG[BEe(t)]!==void 0?new UG(t+" (signals must use all capital letters)"):new UG(t)}var ife=Rn((t,e="buffer")=>{if(!YEe(t))throw new gr(e,["Buffer","TypedArray","DataView"],t)});function sfe(t,e){let r=HEe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new ml("encoding",e,`is invalid for data of length ${n}`)}function ofe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&FEe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new GEe(e,t,r);return t|0}var VG=Rn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new gr(e,"AbortSignal",t)}),afe=Rn((t,e)=>{if(typeof t!="function")throw new gr(e,"Function",t)}),lfe=Rn((t,e)=>{if(typeof t!="function"||WEe(t))throw new gr(e,"Function",t)}),cfe=Rn((t,e)=>{if(t!==void 0)throw new gr(e,"undefined",t)});function ufe(t,e,r){if(!GG(r,t))throw new gr(e,`('${HG(r,"|")}')`,t)}var Efe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function FG(t,e){if(typeof t>"u"||!WG(Efe,t))throw new ml(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ffe(t){if(typeof t=="string")return FG(t,"hints"),t;if(MN(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];FG(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new ml("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}kG.exports={isInt32:$Ee,isUint32:VEe,parseFileMode:XEe,validateArray:pT,validateStringArray:efe,validateBooleanArray:tfe,validateAbortSignalArray:rfe,validateBoolean:$G,validateBuffer:ife,validateDictionary:ZEe,validateEncoding:sfe,validateFunction:afe,validateInt32:jEe,validateInteger:KEe,validateNumber:zEe,validateObject:QEe,validateOneOf:JEe,validatePlainFunction:lfe,validatePort:ofe,validateSignalName:nfe,validateString:vN,validateUint32:YG,validateUndefined:cfe,validateUnion:ufe,validateAbortSignal:VG,validateLinkHeaderValue:ffe}});var ai=g((KMe,oH)=>{"use strict";var{SymbolAsyncIterator:qG,SymbolIterator:XG,SymbolFor:Yo}=ct(),KG=Yo("nodejs.stream.destroyed"),jG=Yo("nodejs.stream.errored"),UN=Yo("nodejs.stream.readable"),BN=Yo("nodejs.stream.writable"),zG=Yo("nodejs.stream.disturbed"),dfe=Yo("nodejs.webstream.isClosedPromise"),hfe=Yo("nodejs.webstream.controllerErrorFunction");function AT(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function _T(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Tfe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function oi(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function JG(t){return!!(t&&!oi(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function QG(t){return!!(t&&!oi(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function ZG(t){return!!(t&&!oi(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Sfe(t){return JG(t)||QG(t)||ZG(t)}function Rfe(t,e){return t==null?!1:e===!0?typeof t[qG]=="function":e===!1?typeof t[XG]=="function":typeof t[qG]=="function"||typeof t[XG]=="function"}function IT(t){if(!oi(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[KG]||n!=null&&n.destroyed)}function eH(t){if(!_T(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function pfe(t,e){if(!_T(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Afe(t){if(!AT(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function tH(t,e){if(!AT(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function rH(t){return t&&t[UN]!=null?t[UN]:typeof t?.readable!="boolean"?null:IT(t)?!1:AT(t)&&t.readable&&!tH(t)}function nH(t){return t&&t[BN]!=null?t[BN]:typeof t?.writable!="boolean"?null:IT(t)?!1:_T(t)&&t.writable&&!eH(t)}function _fe(t,e){return oi(t)?IT(t)?!0:!(e?.readable!==!1&&rH(t)||e?.writable!==!1&&nH(t)):null}function Ife(t){var e,r;return oi(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Nfe(t){var e,r;return oi(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Ofe(t){if(!oi(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&iH(t)?t._closed:null}function iH(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function sH(t){return typeof t._sent100=="boolean"&&iH(t)}function mfe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function gfe(t){if(!oi(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&sH(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Cfe(t){var e;return!!(t&&((e=t[zG])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function yfe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[jG])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}oH.exports={isDestroyed:IT,kIsDestroyed:KG,isDisturbed:Cfe,kIsDisturbed:zG,isErrored:yfe,kIsErrored:jG,isReadable:rH,kIsReadable:UN,kIsClosedPromise:dfe,kControllerErrorFunction:hfe,kIsWritable:BN,isClosed:Ofe,isDuplexNodeStream:Tfe,isFinished:_fe,isIterable:Rfe,isReadableNodeStream:AT,isReadableStream:JG,isReadableEnded:Afe,isReadableFinished:tH,isReadableErrored:Nfe,isNodeStream:oi,isWebStream:Sfe,isWritable:nH,isWritableNodeStream:_T,isWritableStream:QG,isWritableEnded:eH,isWritableFinished:pfe,isWritableErrored:Ife,isServerRequest:mfe,isServerResponse:sH,willEmitClose:gfe,isTransformStream:ZG}});var Vi=g((jMe,YN)=>{"use strict";var Ls=qe(),{AbortError:TH,codes:Lfe}=mr(),{ERR_INVALID_ARG_TYPE:bfe,ERR_STREAM_PREMATURE_CLOSE:aH}=Lfe,{kEmptyObject:GN,once:HN}=Ur(),{validateAbortSignal:wfe,validateFunction:Dfe,validateObject:Pfe,validateBoolean:Mfe}=gl(),{Promise:xfe,PromisePrototypeThen:vfe,SymbolDispose:SH}=ct(),{isClosed:Ufe,isReadable:lH,isReadableNodeStream:FN,isReadableStream:Bfe,isReadableFinished:cH,isReadableErrored:uH,isWritable:EH,isWritableNodeStream:fH,isWritableStream:Ffe,isWritableFinished:dH,isWritableErrored:hH,isNodeStream:Gfe,willEmitClose:Hfe,kIsClosedPromise:Wfe}=ai(),Cl;function Yfe(t){return t.setHeader&&typeof t.abort=="function"}var WN=()=>{};function RH(t,e,r){var n,i;if(arguments.length===2?(r=e,e=GN):e==null?e=GN:Pfe(e,"options"),Dfe(r,"callback"),wfe(e.signal,"options.signal"),r=HN(r),Bfe(t)||Ffe(t))return $fe(t,e,r);if(!Gfe(t))throw new bfe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:FN(t),o=(i=e.writable)!==null&&i!==void 0?i:fH(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=Hfe(t)&&FN(t)===s&&fH(t)===o,E=dH(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=cH(t,!1),h=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},T=O=>{r.call(t,O)},S=Ufe(t),R=()=>{S=!0;let O=hH(t)||uH(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&FN(t,!0)&&!cH(t,!1))return r.call(t,new aH);if(o&&!E&&!dH(t,!1))return r.call(t,new aH);r.call(t)},N=()=>{S=!0;let O=hH(t)||uH(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},p=()=>{t.req.on("finish",d)};Yfe(t)?(t.on("complete",d),u||t.on("abort",R),t.req?p():t.on("request",p)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",R),t.on("end",h),t.on("finish",d),e.error!==!1&&t.on("error",T),t.on("close",R),S?Ls.nextTick(R):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Ls.nextTick(N):(!s&&(!u||lH(t))&&(E||EH(t)===!1)||!o&&(!u||EH(t))&&(f||lH(t)===!1)||l&&t.req&&t.aborted)&&Ls.nextTick(N);let A=()=>{r=WN,t.removeListener("aborted",R),t.removeListener("complete",d),t.removeListener("abort",R),t.removeListener("request",p),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",T),t.removeListener("close",R)};if(e.signal&&!S){let O=()=>{let b=r;A(),b.call(t,new TH(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ls.nextTick(O);else{Cl=Cl||Ur().addAbortListener;let b=Cl(e.signal,O),I=r;r=HN((...D)=>{b[SH](),I.apply(t,D)})}}return A}function $fe(t,e,r){let n=!1,i=WN;if(e.signal)if(i=()=>{n=!0,r.call(t,new TH(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ls.nextTick(i);else{Cl=Cl||Ur().addAbortListener;let o=Cl(e.signal,i),a=r;r=HN((...l)=>{o[SH](),a.apply(t,l)})}let s=(...o)=>{n||Ls.nextTick(()=>r.apply(t,o))};return vfe(t[Wfe].promise,s,s),WN}function Vfe(t,e){var r;let n=!1;return e===null&&(e=GN),(r=e)!==null&&r!==void 0&&r.cleanup&&(Mfe(e.cleanup,"cleanup"),n=e.cleanup),new xfe((i,s)=>{let o=RH(t,e,a=>{n&&o(),a?s(a):i()})})}YN.exports=RH;YN.exports.finished=Vfe});var $o=g((zMe,gH)=>{"use strict";var li=qe(),{aggregateTwoErrors:kfe,codes:{ERR_MULTIPLE_CALLBACK:qfe},AbortError:Xfe}=mr(),{Symbol:_H}=ct(),{kIsDestroyed:Kfe,isDestroyed:jfe,isFinished:zfe,isServerRequest:Jfe}=ai(),IH=_H("kDestroy"),$N=_H("kConstruct");function NH(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Qfe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(NH(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?pH(this,t,e):this.once(IH,function(s){pH(this,kfe(s,t),e)}),this)}function pH(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;NH(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?li.nextTick(Zfe,t,s):li.nextTick(OH,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function Zfe(t,e){VN(t,e),OH(t)}function OH(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function VN(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function ede(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function kN(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?li.nextTick(VN,t,e):VN(t,e))}function tde(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once($N,e),!(t.listenerCount($N)>1)&&li.nextTick(rde,t)}function rde(t){let e=!1;function r(n){if(e){kN(t,n??new qfe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(IH,n):n?kN(t,n,!0):li.nextTick(nde,t)}try{t._construct(n=>{li.nextTick(r,n)})}catch(n){li.nextTick(r,n)}}function nde(t){t.emit($N)}function AH(t){return t?.setHeader&&typeof t.abort=="function"}function mH(t){t.emit("close")}function ide(t,e){t.emit("error",e),li.nextTick(mH,t)}function sde(t,e){!t||jfe(t)||(!e&&!zfe(t)&&(e=new Xfe),Jfe(t)?(t.socket=null,t.destroy(e)):AH(t)?t.abort():AH(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?li.nextTick(ide,t,e):li.nextTick(mH,t),t.destroyed||(t[Kfe]=!0))}gH.exports={construct:tde,destroyer:sde,destroy:Qfe,undestroy:ede,errorOrDestroy:kN}});var mT=g((JMe,yH)=>{"use strict";var{ArrayIsArray:ode,ObjectSetPrototypeOf:CH}=ct(),{EventEmitter:NT}=require("events");function OT(t){NT.call(this,t)}CH(OT.prototype,NT.prototype);CH(OT,NT);OT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),NT.listenerCount(this,"error")===0&&this.emit("error",u)}qN(r,"error",l),qN(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function qN(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):ode(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}yH.exports={Stream:OT,prependListener:qN}});var eE=g((QMe,gT)=>{"use strict";var{SymbolDispose:ade}=ct(),{AbortError:LH,codes:lde}=mr(),{isNodeStream:bH,isWebStream:cde,kControllerErrorFunction:ude}=ai(),Ede=Vi(),{ERR_INVALID_ARG_TYPE:wH}=lde,XN,fde=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new wH(e,"AbortSignal",t)};gT.exports.addAbortSignal=function(e,r){if(fde(e,"signal"),!bH(r)&&!cde(r))throw new wH("stream",["ReadableStream","WritableStream","Stream"],r);return gT.exports.addAbortSignalNoValidate(e,r)};gT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=bH(e)?()=>{e.destroy(new LH(void 0,{cause:t.reason}))}:()=>{e[ude](new LH(void 0,{cause:t.reason}))};if(t.aborted)r();else{XN=XN||Ur().addAbortListener;let n=XN(t,r);Ede(e,n[ade])}return e}});var MH=g((exe,PH)=>{"use strict";var{StringPrototypeSlice:DH,SymbolIterator:dde,TypedArrayPrototypeSet:CT,Uint8Array:hde}=ct(),{Buffer:KN}=require("buffer"),{inspect:Tde}=Ur();PH.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return KN.alloc(0);let r=KN.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)CT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[dde](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=DH(s,0,e),this.head=n,n.data=DH(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=KN.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)CT(r,o,n-e),e-=o.length;else{e===o.length?(CT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(CT(r,new hde(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Tde(this,{...r,depth:0,customInspect:!1})}}});var tE=g((txe,BH)=>{"use strict";var{MathFloor:Sde,NumberIsInteger:Rde}=ct(),{validateInteger:pde}=gl(),{ERR_INVALID_ARG_VALUE:Ade}=mr().codes,xH=16*1024,vH=16;function _de(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function UH(t){return t?vH:xH}function Ide(t,e){pde(e,"value",0),t?vH=e:xH=e}function Nde(t,e,r,n){let i=_de(e,n,r);if(i!=null){if(!Rde(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Ade(s,i)}return Sde(i)}return UH(t.objectMode)}BH.exports={getHighWaterMark:Nde,getDefaultHighWaterMark:UH,setDefaultHighWaterMark:Ide}});var jN=g((rxe,WH)=>{"use strict";var FH=qe(),{PromisePrototypeThen:Ode,SymbolAsyncIterator:GH,SymbolIterator:HH}=ct(),{Buffer:mde}=require("buffer"),{ERR_INVALID_ARG_TYPE:gde,ERR_STREAM_NULL_VALUES:Cde}=mr().codes;function yde(t,e,r){let n;if(typeof e=="string"||e instanceof mde)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[GH])i=!0,n=e[GH]();else if(e&&e[HH])i=!1,n=e[HH]();else throw new gde("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Ode(a(c),()=>FH.nextTick(u,c),E=>FH.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new Cde;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}WH.exports=yde});var nE=g((nxe,sW)=>{"use strict";var Pn=qe(),{ArrayPrototypeIndexOf:Lde,NumberIsInteger:bde,NumberIsNaN:wde,NumberParseInt:Dde,ObjectDefineProperties:nO,ObjectKeys:Pde,ObjectSetPrototypeOf:VH,Promise:kH,SafeSet:Mde,SymbolAsyncDispose:xde,SymbolAsyncIterator:vde,Symbol:Ude}=ct();sW.exports=Re;Re.ReadableState=wT;var{EventEmitter:Bde}=require("events"),{Stream:bs,prependListener:Fde}=mT(),{Buffer:zN}=require("buffer"),{addAbortSignal:Gde}=eE(),qH=Vi(),be=Ur().debuglog("stream",t=>{be=t}),Hde=MH(),bl=$o(),{getHighWaterMark:Wde,getDefaultHighWaterMark:Yde}=tE(),{aggregateTwoErrors:YH,codes:{ERR_INVALID_ARG_TYPE:$de,ERR_METHOD_NOT_IMPLEMENTED:Vde,ERR_OUT_OF_RANGE:kde,ERR_STREAM_PUSH_AFTER_EOF:qde,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Xde},AbortError:Kde}=mr(),{validateObject:jde}=gl(),Vo=Ude("kPaused"),{StringDecoder:XH}=au(),zde=jN();VH(Re.prototype,bs.prototype);VH(Re,bs);var JN=()=>{},{errorOrDestroy:yl}=bl,Ll=1,Jde=2,KH=4,rE=8,jH=16,yT=32,LT=64,zH=128,Qde=256,Zde=512,ehe=1024,tO=2048,rO=4096,the=8192,rhe=16384,nhe=32768,JH=65536,ihe=1<<17,she=1<<18;function Ut(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}nO(wT.prototype,{objectMode:Ut(Ll),ended:Ut(Jde),endEmitted:Ut(KH),reading:Ut(rE),constructed:Ut(jH),sync:Ut(yT),needReadable:Ut(LT),emittedReadable:Ut(zH),readableListening:Ut(Qde),resumeScheduled:Ut(Zde),errorEmitted:Ut(ehe),emitClose:Ut(tO),autoDestroy:Ut(rO),destroyed:Ut(the),closed:Ut(rhe),closeEmitted:Ut(nhe),multiAwaitDrain:Ut(JH),readingMore:Ut(ihe),dataEmitted:Ut(she)});function wT(t,e,r){typeof r!="boolean"&&(r=e instanceof ci()),this.state=tO|rO|jH|yT,t&&t.objectMode&&(this.state|=Ll),r&&t&&t.readableObjectMode&&(this.state|=Ll),this.highWaterMark=t?Wde(this,t,"readableHighWaterMark",r):Yde(!1),this.buffer=new Hde,this.length=0,this.pipes=[],this.flowing=null,this[Vo]=null,t&&t.emitClose===!1&&(this.state&=~tO),t&&t.autoDestroy===!1&&(this.state&=~rO),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new XH(t.encoding),this.encoding=t.encoding)}function Re(t){if(!(this instanceof Re))return new Re(t);let e=this instanceof ci();this._readableState=new wT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Gde(t.signal,this)),bs.call(this,t),bl.construct(this,()=>{this._readableState.needReadable&&bT(this,this._readableState)})}Re.prototype.destroy=bl.destroy;Re.prototype._undestroy=bl.undestroy;Re.prototype._destroy=function(t,e){e(t)};Re.prototype[Bde.captureRejectionSymbol]=function(t){this.destroy(t)};Re.prototype[xde]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Kde,this.destroy(t)),new kH((e,r)=>qH(this,n=>n&&n!==t?r(n):e(null)))};Re.prototype.push=function(t,e){return QH(this,t,e,!1)};Re.prototype.unshift=function(t,e){return QH(this,t,e,!0)};function QH(t,e,r,n){be("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ll)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=zN.from(e,r).toString(i.encoding):(e=zN.from(e,r),r=""))):e instanceof zN?r="":bs._isUint8Array(e)?(e=bs._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new $de("chunk",["string","Buffer","Uint8Array"],e))),s)yl(t,s);else if(e===null)i.state&=~rE,lhe(t,i);else if((i.state&Ll)!==0||e&&e.length>0)if(n)if((i.state&KH)!==0)yl(t,new Xde);else{if(i.destroyed||i.errored)return!1;QN(t,i,e,!0)}else if(i.ended)yl(t,new qde);else{if(i.destroyed||i.errored)return!1;i.state&=~rE,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?QN(t,i,e,!1):bT(t,i)):QN(t,i,e,!1)}else n||(i.state&=~rE,bT(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function QN(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&JH)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&LT)!==0&&DT(t)),bT(t,e)}Re.prototype.isPaused=function(){let t=this._readableState;return t[Vo]===!0||t.flowing===!1};Re.prototype.setEncoding=function(t){let e=new XH(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var ohe=1073741824;function ahe(t){if(t>ohe)throw new kde("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function $H(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ll)!==0?1:wde(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Re.prototype.read=function(t){be("read",t),t===void 0?t=NaN:bde(t)||(t=Dde(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=ahe(t)),t!==0&&(e.state&=~zH),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return be("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?ZN(this):DT(this),null;if(t=$H(t,e),t===0&&e.ended)return e.length===0&&ZN(this),null;let n=(e.state&LT)!==0;if(be("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,be("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,be("reading, ended or constructing",n);else if(n){be("do read"),e.state|=rE|yT,e.length===0&&(e.state|=LT);try{this._read(e.highWaterMark)}catch(s){yl(this,s)}e.state&=~yT,e.reading||(t=$H(r,e))}let i;return t>0?i=nW(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&ZN(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function lhe(t,e){if(be("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?DT(t):(e.needReadable=!1,e.emittedReadable=!0,ZH(t))}}function DT(t){let e=t._readableState;be("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(be("emitReadable",e.flowing),e.emittedReadable=!0,Pn.nextTick(ZH,t))}function ZH(t){let e=t._readableState;be("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,tW(t)}function bT(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Pn.nextTick(che,t,e))}function che(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(be("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Re.prototype._read=function(t){throw new Vde("_read()")};Re.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Mde(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),be("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Pn.stdout&&t!==Pn.stderr?a:S;n.endEmitted?Pn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(R,N){be("onunpipe"),R===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,u())}function a(){be("onend"),t.end()}let l,c=!1;function u(){be("cleanup"),t.removeListener("close",h),t.removeListener("finish",T),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(be("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(be("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=uhe(r,t),t.on("drain",l))}r.on("data",d);function d(R){be("ondata");let N=t.write(R);be("dest.write",N),N===!1&&E()}function f(R){if(be("onerror",R),S(),t.removeListener("error",f),t.listenerCount("error")===0){let N=t._writableState||t._readableState;N&&!N.errorEmitted?yl(t,R):t.emit("error",R)}}Fde(t,"error",f);function h(){t.removeListener("finish",T),S()}t.once("close",h);function T(){be("onfinish"),t.removeListener("close",h),S()}t.once("finish",T);function S(){be("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(be("pipe resume"),r.resume()),t};function uhe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(be("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(be("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Re.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Lde(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Re.prototype.on=function(t,e){let r=bs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,be("on readable",n.length,n.reading),n.length?DT(this):n.reading||Pn.nextTick(Ehe,this)),r};Re.prototype.addListener=Re.prototype.on;Re.prototype.removeListener=function(t,e){let r=bs.prototype.removeListener.call(this,t,e);return t==="readable"&&Pn.nextTick(eW,this),r};Re.prototype.off=Re.prototype.removeListener;Re.prototype.removeAllListeners=function(t){let e=bs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Pn.nextTick(eW,this),e};function eW(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Vo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Ehe(t){be("readable nexttick read 0"),t.read(0)}Re.prototype.resume=function(){let t=this._readableState;return t.flowing||(be("resume"),t.flowing=!t.readableListening,fhe(this,t)),t[Vo]=!1,this};function fhe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Pn.nextTick(dhe,t,e))}function dhe(t,e){be("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),tW(t),e.flowing&&!e.reading&&t.read(0)}Re.prototype.pause=function(){return be("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(be("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Vo]=!0,this};function tW(t){let e=t._readableState;for(be("flow",e.flowing);e.flowing&&t.read()!==null;);}Re.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{yl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Pde(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Re.prototype[vde]=function(){return rW(this)};Re.prototype.iterator=function(t){return t!==void 0&&jde(t,"options"),rW(this,t)};function rW(t,e){typeof t.read!="function"&&(t=Re.wrap(t,{objectMode:!0}));let r=hhe(t,e);return r.stream=t,r}async function*hhe(t,e){let r=JN;function n(o){this===t?(r(),r=JN):r=o}t.on("readable",n);let i,s=qH(t,{writable:!1},o=>{i=o?YH(i,o):null,r(),r=JN});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new kH(n)}}}catch(o){throw i=YH(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?bl.destroyer(t,null):(t.off("readable",n),s())}}nO(Re.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});nO(wT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Vo]!==!1},set(t){this[Vo]=!!t}}});Re._fromList=nW;function nW(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ZN(t){let e=t._readableState;be("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Pn.nextTick(The,e,t))}function The(t,e){if(be("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Pn.nextTick(She,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function She(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Re.from=function(t,e){return zde(Re,t,e)};var eO;function iW(){return eO===void 0&&(eO={}),eO}Re.fromWeb=function(t,e){return iW().newStreamReadableFromReadableStream(t,e)};Re.toWeb=function(t,e){return iW().newReadableStreamFromStreamReadable(t,e)};Re.wrap=function(t,e){var r,n;return new Re({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){bl.destroyer(t,i),s(i)}}).wrap(t)}});var UT=g((ixe,RW)=>{"use strict";var ko=qe(),{ArrayPrototypeSlice:lW,Error:Rhe,FunctionPrototypeSymbolHasInstance:cW,ObjectDefineProperty:uW,ObjectDefineProperties:phe,ObjectSetPrototypeOf:EW,StringPrototypeToLowerCase:Ahe,Symbol:_he,SymbolHasInstance:Ihe}=ct();RW.exports=ht;ht.WritableState=oE;var{EventEmitter:Nhe}=require("events"),iE=mT().Stream,{Buffer:PT}=require("buffer"),vT=$o(),{addAbortSignal:Ohe}=eE(),{getHighWaterMark:mhe,getDefaultHighWaterMark:ghe}=tE(),{ERR_INVALID_ARG_TYPE:Che,ERR_METHOD_NOT_IMPLEMENTED:yhe,ERR_MULTIPLE_CALLBACK:fW,ERR_STREAM_CANNOT_PIPE:Lhe,ERR_STREAM_DESTROYED:sE,ERR_STREAM_ALREADY_FINISHED:bhe,ERR_STREAM_NULL_VALUES:whe,ERR_STREAM_WRITE_AFTER_END:Dhe,ERR_UNKNOWN_ENCODING:dW}=mr().codes,{errorOrDestroy:wl}=vT;EW(ht.prototype,iE.prototype);EW(ht,iE);function oO(){}var Dl=_he("kOnFinished");function oE(t,e,r){typeof r!="boolean"&&(r=e instanceof ci()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?mhe(this,t,"writableHighWaterMark",r):ghe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Mhe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,xT(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Dl]=[]}function xT(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}oE.prototype.getBuffer=function(){return lW(this.buffered,this.bufferedIndex)};uW(oE.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ht(t){let e=this instanceof ci();if(!e&&!cW(ht,this))return new ht(t);this._writableState=new oE(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Ohe(t.signal,this)),iE.call(this,t),vT.construct(this,()=>{let r=this._writableState;r.writing||lO(this,r),cO(this,r)})}uW(ht,Ihe,{__proto__:null,value:function(t){return cW(this,t)?!0:this!==ht?!1:t&&t._writableState instanceof oE}});ht.prototype.pipe=function(){wl(this,new Lhe)};function hW(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!PT.isEncoding(r))throw new dW(r);typeof n!="function"&&(n=oO)}if(e===null)throw new whe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=PT.from(e,r),r="buffer");else if(e instanceof PT)r="buffer";else if(iE._isUint8Array(e))e=iE._uint8ArrayToBuffer(e),r="buffer";else throw new Che("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Dhe:i.destroyed&&(s=new sE("write")),s?(ko.nextTick(n,s),wl(t,s,!0),s):(i.pendingcb++,Phe(t,i,e,r,n))}ht.prototype.write=function(t,e,r){return hW(this,t,e,r)===!0};ht.prototype.cork=function(){this._writableState.corked++};ht.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||lO(this,t))};ht.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Ahe(e)),!PT.isEncoding(e))throw new dW(e);return this._writableState.defaultEncoding=e,this};function Phe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==oO&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function oW(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new sE("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function aW(t,e,r,n){--e.pendingcb,n(r),aO(e),wl(t,r)}function Mhe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){wl(t,new fW);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?ko.nextTick(aW,t,r,e,i):aW(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&lO(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},ko.nextTick(xhe,r.afterWriteTickInfo)):TW(t,r,1,i))}function xhe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,TW(t,e,r,n)}function TW(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&aO(e),cO(t,e)}function aO(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new sE("write"))}let r=t[Dl].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new sE("end"))}xT(t)}function lO(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?oO:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:lW(r,o);l.allBuffers=e.allBuffers,oW(t,e,!0,e.length,l,"",a),xT(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;oW(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?xT(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ht.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new yhe("_write()")};ht.prototype._writev=null;ht.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=hW(this,t,e);s instanceof Rhe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,cO(this,n,!0),n.ended=!0):n.finished?i=new bhe("end"):n.destroyed&&(i=new sE("end"))),typeof r=="function"&&(i||n.finished?ko.nextTick(r,i):n[Dl].push(r)),this};function MT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function vhe(t,e){let r=!1;function n(i){if(r){wl(t,i??fW());return}if(r=!0,e.pendingcb--,i){let s=e[Dl].splice(0);for(let o=0;o<s.length;o++)s[o](i);wl(t,i,e.sync)}else MT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,ko.nextTick(sO,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Uhe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,vhe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function cO(t,e,r){MT(e)&&(Uhe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,ko.nextTick((n,i)=>{MT(i)?sO(n,i):i.pendingcb--},t,e)):MT(e)&&(e.pendingcb++,sO(t,e))))}function sO(t,e){e.pendingcb--,e.finished=!0;let r=e[Dl].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}phe(ht.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Bhe=vT.destroy;ht.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Dl].length)&&ko.nextTick(aO,r),Bhe.call(this,t,e),this};ht.prototype._undestroy=vT.undestroy;ht.prototype._destroy=function(t,e){e(t)};ht.prototype[Nhe.captureRejectionSymbol]=function(t){this.destroy(t)};var iO;function SW(){return iO===void 0&&(iO={}),iO}ht.fromWeb=function(t,e){return SW().newStreamWritableFromWritableStream(t,e)};ht.toWeb=function(t){return SW().newWritableStreamFromStreamWritable(t)}});var PW=g((sxe,DW)=>{var uO=qe(),Fhe=require("buffer"),{isReadable:Ghe,isWritable:Hhe,isIterable:pW,isNodeStream:Whe,isReadableNodeStream:AW,isWritableNodeStream:_W,isDuplexNodeStream:Yhe,isReadableStream:IW,isWritableStream:NW}=ai(),OW=Vi(),{AbortError:bW,codes:{ERR_INVALID_ARG_TYPE:$he,ERR_INVALID_RETURN_VALUE:mW}}=mr(),{destroyer:Ml}=$o(),Vhe=ci(),wW=nE(),khe=UT(),{createDeferredPromise:gW}=Ur(),CW=jN(),yW=globalThis.Blob||Fhe.Blob,qhe=typeof yW<"u"?function(e){return e instanceof yW}:function(e){return!1},Xhe=globalThis.AbortController||Ct().AbortController,{FunctionPrototypeCall:LW}=ct(),ws=class extends Vhe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};DW.exports=function t(e,r){if(Yhe(e))return e;if(AW(e))return Pl({readable:e});if(_W(e))return Pl({writable:e});if(Whe(e))return Pl({writable:!1,readable:!1});if(IW(e))return Pl({readable:wW.fromWeb(e)});if(NW(e))return Pl({writable:khe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Khe(e);if(pW(i))return CW(ws,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=LW(l,i,E=>{if(E!=null)throw new mW("nully","body",E)},E=>{Ml(c,E)});return c=new ws({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,uO.nextTick(E,null)}catch(d){uO.nextTick(E,d)}})},destroy:a})}throw new mW("Iterable, AsyncIterable or AsyncFunction",r,i)}if(qhe(e))return t(e.arrayBuffer());if(pW(e))return CW(ws,e,{objectMode:!0,writable:!1});if(IW(e?.readable)&&NW(e?.writable))return ws.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?AW(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?_W(e?.writable)?e?.writable:t(e.writable):void 0;return Pl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return LW(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Ml(i,s)}),i=new ws({objectMode:!0,writable:!1,read(){}})}throw new $he(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Khe(t){let{promise:e,resolve:r}=gW(),n=new Xhe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(uO.nextTick(c),l)return;if(i.aborted)throw new bW(void 0,{cause:i.reason});({promise:e,resolve:r}=gW()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Pl(t){let e=t.readable&&typeof t.readable.read!="function"?wW.wrap(t.readable):t.readable,r=t.writable,n=!!Ghe(e),i=!!Hhe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new ws({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(OW(r,E=>{i=!1,E&&Ml(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(OW(e,E=>{n=!1,E&&Ml(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new bW),a=null,s=null,o=null,l===null?d(E):(l=d,Ml(r,E),Ml(e,E))},c}});var ci=g((oxe,vW)=>{"use strict";var{ObjectDefineProperties:jhe,ObjectGetOwnPropertyDescriptor:ki,ObjectKeys:zhe,ObjectSetPrototypeOf:MW}=ct();vW.exports=Mn;var dO=nE(),pn=UT();MW(Mn.prototype,dO.prototype);MW(Mn,dO);{let t=zhe(pn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Mn.prototype[r]||(Mn.prototype[r]=pn.prototype[r])}}function Mn(t){if(!(this instanceof Mn))return new Mn(t);dO.call(this,t),pn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}jhe(Mn.prototype,{writable:{__proto__:null,...ki(pn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ki(pn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ki(pn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ki(pn.prototype,"writableBuffer")},writableLength:{__proto__:null,...ki(pn.prototype,"writableLength")},writableFinished:{__proto__:null,...ki(pn.prototype,"writableFinished")},writableCorked:{__proto__:null,...ki(pn.prototype,"writableCorked")},writableEnded:{__proto__:null,...ki(pn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ki(pn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var EO;function xW(){return EO===void 0&&(EO={}),EO}Mn.fromWeb=function(t,e){return xW().newStreamDuplexFromReadableWritablePair(t,e)};Mn.toWeb=function(t){return xW().newReadableWritablePairFromDuplex(t)};var fO;Mn.from=function(t){return fO||(fO=PW()),fO(t,"body")}});var SO=g((axe,BW)=>{"use strict";var{ObjectSetPrototypeOf:UW,Symbol:Jhe}=ct();BW.exports=qi;var{ERR_METHOD_NOT_IMPLEMENTED:Qhe}=mr().codes,TO=ci(),{getHighWaterMark:Zhe}=tE();UW(qi.prototype,TO.prototype);UW(qi,TO);var aE=Jhe("kCallback");function qi(t){if(!(this instanceof qi))return new qi(t);let e=t?Zhe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),TO.call(this,t),this._readableState.sync=!1,this[aE]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",eTe)}function hO(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function eTe(){this._final!==hO&&hO.call(this)}qi.prototype._final=hO;qi.prototype._transform=function(t,e,r){throw new Qhe("_transform()")};qi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[aE]=r})};qi.prototype._read=function(){if(this[aE]){let t=this[aE];this[aE]=null,t()}}});var pO=g((lxe,GW)=>{"use strict";var{ObjectSetPrototypeOf:FW}=ct();GW.exports=xl;var RO=SO();FW(xl.prototype,RO.prototype);FW(xl,RO);function xl(t){if(!(this instanceof xl))return new xl(t);RO.call(this,t)}xl.prototype._transform=function(t,e,r){r(null,t)}});var HT=g((cxe,VW)=>{var lE=qe(),{ArrayIsArray:tTe,Promise:rTe,SymbolAsyncIterator:nTe,SymbolDispose:iTe}=ct(),GT=Vi(),{once:sTe}=Ur(),oTe=$o(),HW=ci(),{aggregateTwoErrors:aTe,codes:{ERR_INVALID_ARG_TYPE:yO,ERR_INVALID_RETURN_VALUE:AO,ERR_MISSING_ARGS:lTe,ERR_STREAM_DESTROYED:cTe,ERR_STREAM_PREMATURE_CLOSE:uTe},AbortError:ETe}=mr(),{validateFunction:fTe,validateAbortSignal:dTe}=gl(),{isIterable:qo,isReadable:_O,isReadableNodeStream:FT,isNodeStream:WW,isTransformStream:vl,isWebStream:hTe,isReadableStream:IO,isReadableFinished:TTe}=ai(),STe=globalThis.AbortController||Ct().AbortController,NO,OO,mO;function YW(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=GT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,oTe.destroyer(t,s||new cTe("pipe")))},cleanup:i}}function RTe(t){return fTe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function gO(t){if(qo(t))return t;if(FT(t))return pTe(t);throw new yO("val",["Readable","Iterable","AsyncIterable"],t)}async function*pTe(t){OO||(OO=nE()),yield*OO.prototype[nTe].call(t)}async function BT(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new rTe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=GT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?aTe(i,c):c)}finally{l(),e.off("drain",o)}}async function CO(t,e,r,{end:n}){vl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function ATe(...t){return $W(t,sTe(RTe(t)))}function $W(t,e,r){if(t.length===1&&tTe(t[0])&&(t=t[0]),t.length<2)throw new lTe("streams");let n=new STe,i=n.signal,s=r?.signal,o=[];dTe(s,"options.signal");function a(){h(new ETe)}mO=mO||Ur().addAbortListener;let l;s&&(l=mO(s,a));let c,u,E=[],d=0;function f(p){h(p,--d===0)}function h(p,A){var O;if(p&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=p),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[iTe](),n.abort(),A&&(c||o.forEach(b=>b()),lE.nextTick(e,c,u))}}let T;for(let p=0;p<t.length;p++){let A=t[p],O=p<t.length-1,b=p>0,I=O||r?.end!==!1,D=p===t.length-1;if(WW(A)){let L=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var N=L;if(I){let{destroy:P,cleanup:x}=YW(A,O,b);E.push(P),_O(A)&&D&&o.push(x)}A.on("error",L),_O(A)&&D&&o.push(()=>{A.removeListener("error",L)})}if(p===0)if(typeof A=="function"){if(T=A({signal:i}),!qo(T))throw new AO("Iterable, AsyncIterable or Stream","source",T)}else qo(A)||FT(A)||vl(A)?T=A:T=HW.from(A);else if(typeof A=="function"){if(vl(T)){var S;T=gO((S=T)===null||S===void 0?void 0:S.readable)}else T=gO(T);if(T=A(T,{signal:i}),O){if(!qo(T,!0))throw new AO("AsyncIterable",`transform[${p-1}]`,T)}else{var R;NO||(NO=pO());let L=new NO({objectMode:!0}),P=(R=T)===null||R===void 0?void 0:R.then;if(typeof P=="function")d++,P.call(T,Y=>{u=Y,Y!=null&&L.write(Y),I&&L.end(),lE.nextTick(f)},Y=>{L.destroy(Y),lE.nextTick(f,Y)});else if(qo(T,!0))d++,BT(T,L,f,{end:I});else if(IO(T)||vl(T)){let Y=T.readable||T;d++,BT(Y,L,f,{end:I})}else throw new AO("AsyncIterable or Promise","destination",T);T=L;let{destroy:x,cleanup:$}=YW(T,!1,!0);E.push(x),D&&o.push($)}}else if(WW(A)){if(FT(T)){d+=2;let L=_Te(T,A,f,{end:I});_O(A)&&D&&o.push(L)}else if(vl(T)||IO(T)){let L=T.readable||T;d++,BT(L,A,f,{end:I})}else if(qo(T))d++,BT(T,A,f,{end:I});else throw new yO("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=A}else if(hTe(A)){if(FT(T))d++,CO(gO(T),A,f,{end:I});else if(IO(T)||qo(T))d++,CO(T,A,f,{end:I});else if(vl(T))d++,CO(T.readable,A,f,{end:I});else throw new yO("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=A}else T=HW.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&lE.nextTick(a),T}function _Te(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new uTe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;TTe(t)?lE.nextTick(o):t.once("end",o)}else r();return GT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),GT(e,{readable:!1,writable:!0},r)}VW.exports={pipelineImpl:$W,pipeline:ATe}});var bO=g((uxe,zW)=>{"use strict";var{pipeline:ITe}=HT(),WT=ci(),{destroyer:NTe}=$o(),{isNodeStream:YT,isReadable:kW,isWritable:qW,isWebStream:LO,isTransformStream:Xo,isWritableStream:XW,isReadableStream:KW}=ai(),{AbortError:OTe,codes:{ERR_INVALID_ARG_VALUE:jW,ERR_MISSING_ARGS:mTe}}=mr(),gTe=Vi();zW.exports=function(...e){if(e.length===0)throw new mTe("streams");if(e.length===1)return WT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=WT.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=WT.from(e[f])}for(let f=0;f<e.length;++f)if(!(!YT(e[f])&&!LO(e[f]))){if(f<e.length-1&&!(kW(e[f])||KW(e[f])||Xo(e[f])))throw new jW(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(qW(e[f])||XW(e[f])||Xo(e[f])))throw new jW(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let h=o;o=null,h?h(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=ITe(e,l),E=!!(qW(c)||XW(c)||Xo(c)),d=!!(kW(u)||KW(u)||Xo(u));if(a=new WT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(YT(c))a._write=function(h,T,S){c.write(h,T)?S():n=S},a._final=function(h){c.end(),i=h},c.on("drain",function(){if(n){let h=n;n=null,h()}});else if(LO(c)){let T=(Xo(c)?c.writable:c).getWriter();a._write=async function(S,R,N){try{await T.ready,T.write(S).catch(()=>{}),N()}catch(p){N(p)}},a._final=async function(S){try{await T.ready,T.close().catch(()=>{}),i=S}catch(R){S(R)}}}let f=Xo(u)?u.readable:u;gTe(f,()=>{if(i){let h=i;i=null,h()}})}if(d){if(YT(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(LO(u)){let h=(Xo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:T,done:S}=await h.read();if(!a.push(T))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,h){!f&&o!==null&&(f=new OTe),s=null,n=null,i=null,o===null?h(f):(o=h,YT(u)&&NTe(u,f))},a}});var oY=g((Exe,PO)=>{"use strict";var CTe=globalThis.AbortController||Ct().AbortController,{codes:{ERR_INVALID_ARG_VALUE:yTe,ERR_INVALID_ARG_TYPE:cE,ERR_MISSING_ARGS:LTe,ERR_OUT_OF_RANGE:bTe},AbortError:ui}=mr(),{validateAbortSignal:Ko,validateInteger:JW,validateObject:jo}=gl(),wTe=ct().Symbol("kWeak"),DTe=ct().Symbol("kResistStopPropagation"),{finished:PTe}=Vi(),MTe=bO(),{addAbortSignalNoValidate:xTe}=eE(),{isWritable:vTe,isNodeStream:UTe}=ai(),{deprecate:BTe}=Ur(),{ArrayPrototypePush:FTe,Boolean:GTe,MathFloor:QW,Number:HTe,NumberIsNaN:WTe,Promise:ZW,PromiseReject:eY,PromiseResolve:YTe,PromisePrototypeThen:tY,Symbol:nY}=ct(),$T=nY("kEmpty"),rY=nY("kEof");function $Te(t,e){if(e!=null&&jo(e,"options"),e?.signal!=null&&Ko(e.signal,"options.signal"),UTe(t)&&!vTe(t))throw new yTe("stream",t,"must be writable");let r=MTe(this,t);return e!=null&&e.signal&&xTe(e.signal,r),r}function VT(t,e){if(typeof t!="function")throw new cE("fn",["Function","AsyncFunction"],t);e!=null&&jo(e,"options"),e?.signal!=null&&Ko(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=QW(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=QW(e.highWaterMark)),JW(r,"options.concurrency",1),JW(n,"options.highWaterMark",0),n+=r,async function*(){let s=Ur().AbortSignalAny([e?.signal].filter(GTe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,h()}function h(){d-=1,T()}function T(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let R of o){if(E)return;if(s.aborted)throw new ui;try{if(R=t(R,l),R===$T)continue;R=YTe(R)}catch(N){R=eY(N)}d+=1,tY(R,h,f),a.push(R),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new ZW(N=>{u=N})}a.push(rY)}catch(R){let N=eY(R);tY(N,h,f),a.push(N)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let R=await a[0];if(R===rY)return;if(s.aborted)throw new ui;R!==$T&&(yield R),a.shift(),T()}await new ZW(R=>{c=R})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function VTe(t=void 0){return t!=null&&jo(t,"options"),t?.signal!=null&&Ko(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ui({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function iY(t,e=void 0){for await(let r of DO.call(this,t,e))return!0;return!1}async function kTe(t,e=void 0){if(typeof t!="function")throw new cE("fn",["Function","AsyncFunction"],t);return!await iY.call(this,async(...r)=>!await t(...r),e)}async function qTe(t,e){for await(let r of DO.call(this,t,e))return r}async function XTe(t,e){if(typeof t!="function")throw new cE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),$T}for await(let n of VT.call(this,r,e));}function DO(t,e){if(typeof t!="function")throw new cE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:$T}return VT.call(this,r,e)}var wO=class extends LTe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function KTe(t,e,r){var n;if(typeof t!="function")throw new cE("reducer",["Function","AsyncFunction"],t);r!=null&&jo(r,"options"),r?.signal!=null&&Ko(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new ui(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await PTe(this.destroy(c)),c}let s=new CTe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[wTe]:this,[DTe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new ui;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new wO}finally{s.abort()}return e}async function jTe(t){t!=null&&jo(t,"options"),t?.signal!=null&&Ko(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new ui(void 0,{cause:t.signal.reason});FTe(e,n)}return e}function zTe(t,e){let r=VT.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function sY(t){if(t=HTe(t),WTe(t))return 0;if(t<0)throw new bTe("number",">= 0",t);return t}function JTe(t,e=void 0){return e!=null&&jo(e,"options"),e?.signal!=null&&Ko(e.signal,"options.signal"),t=sY(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ui;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ui;t--<=0&&(yield s)}}.call(this)}function QTe(t,e=void 0){return e!=null&&jo(e,"options"),e?.signal!=null&&Ko(e.signal,"options.signal"),t=sY(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ui;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ui;if(t-- >0&&(yield s),t<=0)return}}.call(this)}PO.exports.streamReturningOperators={asIndexedPairs:BTe(VTe,"readable.asIndexedPairs will be removed in a future version."),drop:JTe,filter:DO,flatMap:zTe,map:VT,take:QTe,compose:$Te};PO.exports.promiseReturningOperators={every:kTe,forEach:XTe,reduce:KTe,toArray:jTe,some:iY,find:qTe}});var MO=g((fxe,aY)=>{"use strict";var{ArrayPrototypePop:ZTe,Promise:eSe}=ct(),{isIterable:tSe,isNodeStream:rSe,isWebStream:nSe}=ai(),{pipelineImpl:iSe}=HT(),{finished:sSe}=Vi();xO();function oSe(...t){return new eSe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!rSe(s)&&!tSe(s)&&!nSe(s)){let o=ZTe(t);n=o.signal,i=o.end}iSe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}aY.exports={finished:sSe,pipeline:oSe}});var xO=g((dxe,SY)=>{"use strict";var{Buffer:aSe}=require("buffer"),{ObjectDefineProperty:Xi,ObjectKeys:uY,ReflectApply:EY}=ct(),{promisify:{custom:fY}}=Ur(),{streamReturningOperators:lY,promiseReturningOperators:cY}=oY(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:dY}}=mr(),lSe=bO(),{setDefaultHighWaterMark:cSe,getDefaultHighWaterMark:uSe}=tE(),{pipeline:hY}=HT(),{destroyer:ESe}=$o(),TY=Vi(),vO=MO(),uE=ai(),nt=SY.exports=mT().Stream;nt.isDestroyed=uE.isDestroyed;nt.isDisturbed=uE.isDisturbed;nt.isErrored=uE.isErrored;nt.isReadable=uE.isReadable;nt.isWritable=uE.isWritable;nt.Readable=nE();for(let t of uY(lY)){let r=function(...n){if(new.target)throw dY();return nt.Readable.from(EY(e,this,n))},e=lY[t];Xi(r,"name",{__proto__:null,value:e.name}),Xi(r,"length",{__proto__:null,value:e.length}),Xi(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of uY(cY)){let r=function(...n){if(new.target)throw dY();return EY(e,this,n)},e=cY[t];Xi(r,"name",{__proto__:null,value:e.name}),Xi(r,"length",{__proto__:null,value:e.length}),Xi(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}nt.Writable=UT();nt.Duplex=ci();nt.Transform=SO();nt.PassThrough=pO();nt.pipeline=hY;var{addAbortSignal:fSe}=eE();nt.addAbortSignal=fSe;nt.finished=TY;nt.destroy=ESe;nt.compose=lSe;nt.setDefaultHighWaterMark=cSe;nt.getDefaultHighWaterMark=uSe;Xi(nt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return vO}});Xi(hY,fY,{__proto__:null,enumerable:!0,get(){return vO.pipeline}});Xi(TY,fY,{__proto__:null,enumerable:!0,get(){return vO.finished}});nt.Stream=nt;nt._isUint8Array=function(e){return e instanceof Uint8Array};nt._uint8ArrayToBuffer=function(e){return aSe.from(e.buffer,e.byteOffset,e.byteLength)}});var UO=g((hxe,me)=>{"use strict";var Bt=require("stream");if(Bt&&process.env.READABLE_STREAM==="disable"){let t=Bt.promises;me.exports._uint8ArrayToBuffer=Bt._uint8ArrayToBuffer,me.exports._isUint8Array=Bt._isUint8Array,me.exports.isDisturbed=Bt.isDisturbed,me.exports.isErrored=Bt.isErrored,me.exports.isReadable=Bt.isReadable,me.exports.Readable=Bt.Readable,me.exports.Writable=Bt.Writable,me.exports.Duplex=Bt.Duplex,me.exports.Transform=Bt.Transform,me.exports.PassThrough=Bt.PassThrough,me.exports.addAbortSignal=Bt.addAbortSignal,me.exports.finished=Bt.finished,me.exports.destroy=Bt.destroy,me.exports.pipeline=Bt.pipeline,me.exports.compose=Bt.compose,Object.defineProperty(Bt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),me.exports.Stream=Bt.Stream}else{let t=xO(),e=MO(),r=t.Readable.destroy;me.exports=t.Readable,me.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,me.exports._isUint8Array=t._isUint8Array,me.exports.isDisturbed=t.isDisturbed,me.exports.isErrored=t.isErrored,me.exports.isReadable=t.isReadable,me.exports.Readable=t.Readable,me.exports.Writable=t.Writable,me.exports.Duplex=t.Duplex,me.exports.Transform=t.Transform,me.exports.PassThrough=t.PassThrough,me.exports.addAbortSignal=t.addAbortSignal,me.exports.finished=t.finished,me.exports.destroy=t.destroy,me.exports.destroy=r,me.exports.pipeline=t.pipeline,me.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),me.exports.Stream=t.Stream}me.exports.default=me.exports});var BO=g((Sxe,RY)=>{var Txe=require("stream").Stream,dSe=UO().PassThrough,hSe=Qf(),TSe=RY.exports={};TSe.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(hSe(t)&&!t._readableState){var e=new dSe;return t.pipe(e),e}return t}});var GO=g((Rxe,pY)=>{var SSe=require("util").inherits,RSe=Qf(),FO=UO().Transform,pSe=hT(),ASe=BO(),Zr=pY.exports=function(t){if(!(this instanceof Zr))return new Zr(t);FO.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};SSe(Zr,FO);Zr.prototype._appendBuffer=function(t,e,r){};Zr.prototype._appendStream=function(t,e,r){};Zr.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};Zr.prototype._finish=function(t){};Zr.prototype._normalizeEntry=function(t){};Zr.prototype._transform=function(t,e,r){r(null,t)};Zr.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof pSe)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=ASe.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(RSe(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};Zr.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};Zr.prototype.getBytesWritten=function(){return this.offset};Zr.prototype.write=function(t,e){return t&&(this.offset+=t.length),FO.prototype.write.call(this,t,e)}});var kT=g(HO=>{var AY;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof HO=="object"?t(HO):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(AY={}):t(AY={})})(function(t){t.version="1.2.2";function e(){for(var I=0,D=new Array(256),L=0;L!=256;++L)I=L,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,D[L]=I;return typeof Int32Array<"u"?new Int32Array(D):D}var r=e();function n(I){var D=0,L=0,P=0,x=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)x[P]=I[P];for(P=0;P!=256;++P)for(L=I[P],D=256+P;D<4096;D+=256)L=x[D]=L>>>8^I[L&255];var $=[];for(P=1;P!=16;++P)$[P-1]=typeof Int32Array<"u"?x.subarray(P*256,P*256+256):x.slice(P*256,P*256+256);return $}var i=n(r),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],E=i[6],d=i[7],f=i[8],h=i[9],T=i[10],S=i[11],R=i[12],N=i[13],p=i[14];function A(I,D){for(var L=D^-1,P=0,x=I.length;P<x;)L=L>>>8^r[(L^I.charCodeAt(P++))&255];return~L}function O(I,D){for(var L=D^-1,P=I.length-15,x=0;x<P;)L=p[I[x++]^L&255]^N[I[x++]^L>>8&255]^R[I[x++]^L>>16&255]^S[I[x++]^L>>>24]^T[I[x++]]^h[I[x++]]^f[I[x++]]^d[I[x++]]^E[I[x++]]^u[I[x++]]^c[I[x++]]^l[I[x++]]^a[I[x++]]^o[I[x++]]^s[I[x++]]^r[I[x++]];for(P+=15;x<P;)L=L>>>8^r[(L^I[x++])&255];return~L}function b(I,D){for(var L=D^-1,P=0,x=I.length,$=0,Y=0;P<x;)$=I.charCodeAt(P++),$<128?L=L>>>8^r[(L^$)&255]:$<2048?(L=L>>>8^r[(L^(192|$>>6&31))&255],L=L>>>8^r[(L^(128|$&63))&255]):$>=55296&&$<57344?($=($&1023)+64,Y=I.charCodeAt(P++)&1023,L=L>>>8^r[(L^(240|$>>8&7))&255],L=L>>>8^r[(L^(128|$>>2&63))&255],L=L>>>8^r[(L^(128|Y>>6&15|($&3)<<4))&255],L=L>>>8^r[(L^(128|Y&63))&255]):(L=L>>>8^r[(L^(224|$>>12&15))&255],L=L>>>8^r[(L^(128|$>>6&63))&255],L=L>>>8^r[(L^(128|$&63))&255]);return~L}t.table=r,t.bstr=A,t.buf=O,t.str=b})});var ut=g((Axe,_Y)=>{"use strict";var WO=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};_Y.exports={AggregateError:WO,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var YO=g((_xe,IY)=>{"use strict";IY.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Cr=g((Ixe,mY)=>{"use strict";var{format:_Se,inspect:qT}=YO(),{AggregateError:ISe}=ut(),NSe=globalThis.AggregateError||ISe,OSe=Symbol("kIsNodeError"),mSe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],gSe=/^([A-Z][a-z0-9]*)+$/,CSe="__node_internal_",XT={};function zo(t,e){if(!t)throw new XT.ERR_INTERNAL_ASSERTION(e)}function NY(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function ySe(t,e,r){if(typeof e=="function")return zo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return zo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:_Se(e,...r)}function dr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(ySe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[OSe]=!0,XT[t]=n}function OY(t){let e=CSe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function LSe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new NSe([e,t],e.message);return r.code=e.code,r}return t||e}var $O=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new XT.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};dr("ERR_ASSERTION","%s",Error);dr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{zo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)zo(typeof l=="string","All expected entries have to be of type string"),mSe.includes(l)?i.push(l.toLowerCase()):gSe.test(l)?s.push(l):(zo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=qT(r,{depth:-1});n+=`. Received ${l}`}}else{let l=qT(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);dr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=qT(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);dr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);dr("ERR_MISSING_ARGS",(...t)=>{zo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);dr("ERR_OUT_OF_RANGE",(t,e,r)=>{zo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=NY(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=NY(n)),n+="n"}else n=qT(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);dr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);dr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);dr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);dr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);dr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);dr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);dr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);dr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);dr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);dr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);dr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);mY.exports={AbortError:$O,aggregateTwoErrors:OY(LSe),hideStackFrames:OY,codes:XT}});var Br=g((Nxe,kO)=>{"use strict";var bSe=require("buffer"),{format:wSe,inspect:DSe}=YO(),{codes:{ERR_INVALID_ARG_TYPE:VO}}=Cr(),{kResistStopPropagation:PSe,AggregateError:MSe,SymbolDispose:xSe}=ut(),vSe=globalThis.AbortSignal||Ct().AbortSignal,USe=globalThis.AbortController||Ct().AbortController,BSe=Object.getPrototypeOf(async function(){}).constructor,gY=globalThis.Blob||bSe.Blob,FSe=typeof gY<"u"?function(e){return e instanceof gY}:function(e){return!1},CY=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new VO(e,"AbortSignal",t)},GSe=(t,e)=>{if(typeof t!="function")throw new VO(e,"Function",t)};kO.exports={AggregateError:MSe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:wSe,inspect:DSe,types:{isAsyncFunction(t){return t instanceof BSe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:FSe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new VO("signal","AbortSignal",e);CY(e,"signal"),GSe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[PSe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[xSe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:vSe.any||function(e){if(e.length===1)return e[0];let r=new USe,n=()=>r.abort();return e.forEach(i=>{CY(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};kO.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Bl=g((Oxe,UY)=>{"use strict";var{ArrayIsArray:XO,ArrayPrototypeIncludes:wY,ArrayPrototypeJoin:DY,ArrayPrototypeMap:HSe,NumberIsInteger:KO,NumberIsNaN:WSe,NumberMAX_SAFE_INTEGER:YSe,NumberMIN_SAFE_INTEGER:$Se,NumberParseInt:VSe,ObjectPrototypeHasOwnProperty:kSe,RegExpPrototypeExec:PY,String:qSe,StringPrototypeToUpperCase:XSe,StringPrototypeTrim:KSe}=ut(),{hideStackFrames:An,codes:{ERR_SOCKET_BAD_PORT:jSe,ERR_INVALID_ARG_TYPE:yr,ERR_INVALID_ARG_VALUE:Ul,ERR_OUT_OF_RANGE:Jo,ERR_UNKNOWN_SIGNAL:yY}}=Cr(),{normalizeEncoding:zSe}=Br(),{isAsyncFunction:JSe,isArrayBufferView:QSe}=Br().types,LY={};function ZSe(t){return t===(t|0)}function eRe(t){return t===t>>>0}var tRe=/^[0-7]+$/,rRe="must be a 32-bit unsigned integer or an octal string";function nRe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(PY(tRe,t)===null)throw new Ul(e,t,rRe);t=VSe(t,8)}return MY(t,e),t}var iRe=An((t,e,r=$Se,n=YSe)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!KO(t))throw new Jo(e,"an integer",t);if(t<r||t>n)throw new Jo(e,`>= ${r} && <= ${n}`,t)}),sRe=An((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!KO(t))throw new Jo(e,"an integer",t);if(t<r||t>n)throw new Jo(e,`>= ${r} && <= ${n}`,t)}),MY=An((t,e,r=!1)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!KO(t))throw new Jo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Jo(e,`>= ${n} && <= ${i}`,t)});function jO(t,e){if(typeof t!="string")throw new yr(e,"string",t)}function oRe(t,e,r=void 0,n){if(typeof t!="number")throw new yr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&WSe(t))throw new Jo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var aRe=An((t,e,r)=>{if(!wY(r,t)){let i="must be one of: "+DY(HSe(r,s=>typeof s=="string"?`'${s}'`:qSe(s)),", ");throw new Ul(e,t,i)}});function xY(t,e){if(typeof t!="boolean")throw new yr(e,"boolean",t)}function qO(t,e,r){return t==null||!kSe(t,e)?r:t[e]}var lRe=An((t,e,r=null)=>{let n=qO(r,"allowArray",!1),i=qO(r,"allowFunction",!1);if(!qO(r,"nullable",!1)&&t===null||!n&&XO(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new yr(e,"Object",t)}),cRe=An((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new yr(e,"a dictionary",t)}),KT=An((t,e,r=0)=>{if(!XO(t))throw new yr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Ul(e,t,n)}});function uRe(t,e){KT(t,e);for(let r=0;r<t.length;r++)jO(t[r],`${e}[${r}]`)}function ERe(t,e){KT(t,e);for(let r=0;r<t.length;r++)xY(t[r],`${e}[${r}]`)}function fRe(t,e){KT(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new yr(i,"AbortSignal",n);vY(n,i)}}function dRe(t,e="signal"){if(jO(t,e),LY[t]===void 0)throw LY[XSe(t)]!==void 0?new yY(t+" (signals must use all capital letters)"):new yY(t)}var hRe=An((t,e="buffer")=>{if(!QSe(t))throw new yr(e,["Buffer","TypedArray","DataView"],t)});function TRe(t,e){let r=zSe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Ul("encoding",e,`is invalid for data of length ${n}`)}function SRe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&KSe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new jSe(e,t,r);return t|0}var vY=An((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new yr(e,"AbortSignal",t)}),RRe=An((t,e)=>{if(typeof t!="function")throw new yr(e,"Function",t)}),pRe=An((t,e)=>{if(typeof t!="function"||JSe(t))throw new yr(e,"Function",t)}),ARe=An((t,e)=>{if(t!==void 0)throw new yr(e,"undefined",t)});function _Re(t,e,r){if(!wY(r,t))throw new yr(e,`('${DY(r,"|")}')`,t)}var IRe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function bY(t,e){if(typeof t>"u"||!PY(IRe,t))throw new Ul(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function NRe(t){if(typeof t=="string")return bY(t,"hints"),t;if(XO(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];bY(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Ul("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}UY.exports={isInt32:ZSe,isUint32:eRe,parseFileMode:nRe,validateArray:KT,validateStringArray:uRe,validateBooleanArray:ERe,validateAbortSignalArray:fRe,validateBoolean:xY,validateBuffer:hRe,validateDictionary:cRe,validateEncoding:TRe,validateFunction:RRe,validateInt32:sRe,validateInteger:iRe,validateNumber:oRe,validateObject:lRe,validateOneOf:aRe,validatePlainFunction:pRe,validatePort:SRe,validateSignalName:dRe,validateString:jO,validateUint32:MY,validateUndefined:ARe,validateUnion:_Re,validateAbortSignal:vY,validateLinkHeaderValue:NRe}});var fi=g((mxe,JY)=>{"use strict";var{SymbolAsyncIterator:BY,SymbolIterator:FY,SymbolFor:Qo}=ut(),GY=Qo("nodejs.stream.destroyed"),HY=Qo("nodejs.stream.errored"),zO=Qo("nodejs.stream.readable"),JO=Qo("nodejs.stream.writable"),WY=Qo("nodejs.stream.disturbed"),ORe=Qo("nodejs.webstream.isClosedPromise"),mRe=Qo("nodejs.webstream.controllerErrorFunction");function jT(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function zT(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function gRe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Ei(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function YY(t){return!!(t&&!Ei(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function $Y(t){return!!(t&&!Ei(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function VY(t){return!!(t&&!Ei(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function CRe(t){return YY(t)||$Y(t)||VY(t)}function yRe(t,e){return t==null?!1:e===!0?typeof t[BY]=="function":e===!1?typeof t[FY]=="function":typeof t[BY]=="function"||typeof t[FY]=="function"}function JT(t){if(!Ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[GY]||n!=null&&n.destroyed)}function kY(t){if(!zT(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function LRe(t,e){if(!zT(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function bRe(t){if(!jT(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function qY(t,e){if(!jT(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function XY(t){return t&&t[zO]!=null?t[zO]:typeof t?.readable!="boolean"?null:JT(t)?!1:jT(t)&&t.readable&&!qY(t)}function KY(t){return t&&t[JO]!=null?t[JO]:typeof t?.writable!="boolean"?null:JT(t)?!1:zT(t)&&t.writable&&!kY(t)}function wRe(t,e){return Ei(t)?JT(t)?!0:!(e?.readable!==!1&&XY(t)||e?.writable!==!1&&KY(t)):null}function DRe(t){var e,r;return Ei(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function PRe(t){var e,r;return Ei(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function MRe(t){if(!Ei(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&jY(t)?t._closed:null}function jY(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function zY(t){return typeof t._sent100=="boolean"&&jY(t)}function xRe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function vRe(t){if(!Ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&zY(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function URe(t){var e;return!!(t&&((e=t[WY])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function BRe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[HY])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}JY.exports={isDestroyed:JT,kIsDestroyed:GY,isDisturbed:URe,kIsDisturbed:WY,isErrored:BRe,kIsErrored:HY,isReadable:XY,kIsReadable:zO,kIsClosedPromise:ORe,kControllerErrorFunction:mRe,kIsWritable:JO,isClosed:MRe,isDuplexNodeStream:gRe,isFinished:wRe,isIterable:yRe,isReadableNodeStream:jT,isReadableStream:YY,isReadableEnded:bRe,isReadableFinished:qY,isReadableErrored:PRe,isNodeStream:Ei,isWebStream:CRe,isWritable:KY,isWritableNodeStream:zT,isWritableStream:$Y,isWritableEnded:kY,isWritableFinished:LRe,isWritableErrored:DRe,isServerRequest:xRe,isServerResponse:zY,willEmitClose:vRe,isTransformStream:VY}});var Ki=g((gxe,rm)=>{"use strict";var Ds=qe(),{AbortError:o$,codes:FRe}=Cr(),{ERR_INVALID_ARG_TYPE:GRe,ERR_STREAM_PREMATURE_CLOSE:QY}=FRe,{kEmptyObject:ZO,once:em}=Br(),{validateAbortSignal:HRe,validateFunction:WRe,validateObject:YRe,validateBoolean:$Re}=Bl(),{Promise:VRe,PromisePrototypeThen:kRe,SymbolDispose:a$}=ut(),{isClosed:qRe,isReadable:ZY,isReadableNodeStream:QO,isReadableStream:XRe,isReadableFinished:e$,isReadableErrored:t$,isWritable:r$,isWritableNodeStream:n$,isWritableStream:KRe,isWritableFinished:i$,isWritableErrored:s$,isNodeStream:jRe,willEmitClose:zRe,kIsClosedPromise:JRe}=fi(),Fl;function QRe(t){return t.setHeader&&typeof t.abort=="function"}var tm=()=>{};function l$(t,e,r){var n,i;if(arguments.length===2?(r=e,e=ZO):e==null?e=ZO:YRe(e,"options"),WRe(r,"callback"),HRe(e.signal,"options.signal"),r=em(r),XRe(t)||KRe(t))return ZRe(t,e,r);if(!jRe(t))throw new GRe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:QO(t),o=(i=e.writable)!==null&&i!==void 0?i:n$(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=zRe(t)&&QO(t)===s&&n$(t)===o,E=i$(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=e$(t,!1),h=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},T=O=>{r.call(t,O)},S=qRe(t),R=()=>{S=!0;let O=s$(t)||t$(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&QO(t,!0)&&!e$(t,!1))return r.call(t,new QY);if(o&&!E&&!i$(t,!1))return r.call(t,new QY);r.call(t)},N=()=>{S=!0;let O=s$(t)||t$(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},p=()=>{t.req.on("finish",d)};QRe(t)?(t.on("complete",d),u||t.on("abort",R),t.req?p():t.on("request",p)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",R),t.on("end",h),t.on("finish",d),e.error!==!1&&t.on("error",T),t.on("close",R),S?Ds.nextTick(R):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Ds.nextTick(N):(!s&&(!u||ZY(t))&&(E||r$(t)===!1)||!o&&(!u||r$(t))&&(f||ZY(t)===!1)||l&&t.req&&t.aborted)&&Ds.nextTick(N);let A=()=>{r=tm,t.removeListener("aborted",R),t.removeListener("complete",d),t.removeListener("abort",R),t.removeListener("request",p),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",T),t.removeListener("close",R)};if(e.signal&&!S){let O=()=>{let b=r;A(),b.call(t,new o$(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ds.nextTick(O);else{Fl=Fl||Br().addAbortListener;let b=Fl(e.signal,O),I=r;r=em((...D)=>{b[a$](),I.apply(t,D)})}}return A}function ZRe(t,e,r){let n=!1,i=tm;if(e.signal)if(i=()=>{n=!0,r.call(t,new o$(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ds.nextTick(i);else{Fl=Fl||Br().addAbortListener;let o=Fl(e.signal,i),a=r;r=em((...l)=>{o[a$](),a.apply(t,l)})}let s=(...o)=>{n||Ds.nextTick(()=>r.apply(t,o))};return kRe(t[JRe].promise,s,s),tm}function epe(t,e){var r;let n=!1;return e===null&&(e=ZO),(r=e)!==null&&r!==void 0&&r.cleanup&&($Re(e.cleanup,"cleanup"),n=e.cleanup),new VRe((i,s)=>{let o=l$(t,e,a=>{n&&o(),a?s(a):i()})})}rm.exports=l$;rm.exports.finished=epe});var Zo=g((Cxe,S$)=>{"use strict";var di=qe(),{aggregateTwoErrors:tpe,codes:{ERR_MULTIPLE_CALLBACK:rpe},AbortError:npe}=Cr(),{Symbol:E$}=ut(),{kIsDestroyed:ipe,isDestroyed:spe,isFinished:ope,isServerRequest:ape}=fi(),f$=E$("kDestroy"),nm=E$("kConstruct");function d$(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function lpe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(d$(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?c$(this,t,e):this.once(f$,function(s){c$(this,tpe(s,t),e)}),this)}function c$(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;d$(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?di.nextTick(cpe,t,s):di.nextTick(h$,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function cpe(t,e){im(t,e),h$(t)}function h$(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function im(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function upe(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function sm(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?di.nextTick(im,t,e):im(t,e))}function Epe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(nm,e),!(t.listenerCount(nm)>1)&&di.nextTick(fpe,t)}function fpe(t){let e=!1;function r(n){if(e){sm(t,n??new rpe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(f$,n):n?sm(t,n,!0):di.nextTick(dpe,t)}try{t._construct(n=>{di.nextTick(r,n)})}catch(n){di.nextTick(r,n)}}function dpe(t){t.emit(nm)}function u$(t){return t?.setHeader&&typeof t.abort=="function"}function T$(t){t.emit("close")}function hpe(t,e){t.emit("error",e),di.nextTick(T$,t)}function Tpe(t,e){!t||spe(t)||(!e&&!ope(t)&&(e=new npe),ape(t)?(t.socket=null,t.destroy(e)):u$(t)?t.abort():u$(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?di.nextTick(hpe,t,e):di.nextTick(T$,t),t.destroyed||(t[ipe]=!0))}S$.exports={construct:Epe,destroyer:Tpe,destroy:lpe,undestroy:upe,errorOrDestroy:sm}});var eS=g((yxe,p$)=>{"use strict";var{ArrayIsArray:Spe,ObjectSetPrototypeOf:R$}=ut(),{EventEmitter:QT}=require("events");function ZT(t){QT.call(this,t)}R$(ZT.prototype,QT.prototype);R$(ZT,QT);ZT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),QT.listenerCount(this,"error")===0&&this.emit("error",u)}om(r,"error",l),om(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function om(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Spe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}p$.exports={Stream:ZT,prependListener:om}});var EE=g((Lxe,tS)=>{"use strict";var{SymbolDispose:Rpe}=ut(),{AbortError:A$,codes:ppe}=Cr(),{isNodeStream:_$,isWebStream:Ape,kControllerErrorFunction:_pe}=fi(),Ipe=Ki(),{ERR_INVALID_ARG_TYPE:I$}=ppe,am,Npe=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new I$(e,"AbortSignal",t)};tS.exports.addAbortSignal=function(e,r){if(Npe(e,"signal"),!_$(r)&&!Ape(r))throw new I$("stream",["ReadableStream","WritableStream","Stream"],r);return tS.exports.addAbortSignalNoValidate(e,r)};tS.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=_$(e)?()=>{e.destroy(new A$(void 0,{cause:t.reason}))}:()=>{e[_pe](new A$(void 0,{cause:t.reason}))};if(t.aborted)r();else{am=am||Br().addAbortListener;let n=am(t,r);Ipe(e,n[Rpe])}return e}});var m$=g((wxe,O$)=>{"use strict";var{StringPrototypeSlice:N$,SymbolIterator:Ope,TypedArrayPrototypeSet:rS,Uint8Array:mpe}=ut(),{Buffer:lm}=require("buffer"),{inspect:gpe}=Br();O$.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return lm.alloc(0);let r=lm.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)rS(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Ope](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=N$(s,0,e),this.head=n,n.data=N$(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=lm.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)rS(r,o,n-e),e-=o.length;else{e===o.length?(rS(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(rS(r,new mpe(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return gpe(this,{...r,depth:0,customInspect:!1})}}});var fE=g((Dxe,L$)=>{"use strict";var{MathFloor:Cpe,NumberIsInteger:ype}=ut(),{validateInteger:Lpe}=Bl(),{ERR_INVALID_ARG_VALUE:bpe}=Cr().codes,g$=16*1024,C$=16;function wpe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function y$(t){return t?C$:g$}function Dpe(t,e){Lpe(e,"value",0),t?C$=e:g$=e}function Ppe(t,e,r,n){let i=wpe(e,n,r);if(i!=null){if(!ype(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new bpe(s,i)}return Cpe(i)}return y$(t.objectMode)}L$.exports={getHighWaterMark:Ppe,getDefaultHighWaterMark:y$,setDefaultHighWaterMark:Dpe}});var cm=g((Pxe,P$)=>{"use strict";var b$=qe(),{PromisePrototypeThen:Mpe,SymbolAsyncIterator:w$,SymbolIterator:D$}=ut(),{Buffer:xpe}=require("buffer"),{ERR_INVALID_ARG_TYPE:vpe,ERR_STREAM_NULL_VALUES:Upe}=Cr().codes;function Bpe(t,e,r){let n;if(typeof e=="string"||e instanceof xpe)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[w$])i=!0,n=e[w$]();else if(e&&e[D$])i=!1,n=e[D$]();else throw new vpe("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Mpe(a(c),()=>b$.nextTick(u,c),E=>b$.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new Upe;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}P$.exports=Bpe});var hE=g((Mxe,z$)=>{"use strict";var xn=qe(),{ArrayPrototypeIndexOf:Fpe,NumberIsInteger:Gpe,NumberIsNaN:Hpe,NumberParseInt:Wpe,ObjectDefineProperties:Rm,ObjectKeys:Ype,ObjectSetPrototypeOf:v$,Promise:U$,SafeSet:$pe,SymbolAsyncDispose:Vpe,SymbolAsyncIterator:kpe,Symbol:qpe}=ut();z$.exports=pe;pe.ReadableState=oS;var{EventEmitter:Xpe}=require("events"),{Stream:Ps,prependListener:Kpe}=eS(),{Buffer:um}=require("buffer"),{addAbortSignal:jpe}=EE(),B$=Ki(),we=Br().debuglog("stream",t=>{we=t}),zpe=m$(),Wl=Zo(),{getHighWaterMark:Jpe,getDefaultHighWaterMark:Qpe}=fE(),{aggregateTwoErrors:M$,codes:{ERR_INVALID_ARG_TYPE:Zpe,ERR_METHOD_NOT_IMPLEMENTED:eAe,ERR_OUT_OF_RANGE:tAe,ERR_STREAM_PUSH_AFTER_EOF:rAe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:nAe},AbortError:iAe}=Cr(),{validateObject:sAe}=Bl(),ea=qpe("kPaused"),{StringDecoder:F$}=au(),oAe=cm();v$(pe.prototype,Ps.prototype);v$(pe,Ps);var Em=()=>{},{errorOrDestroy:Gl}=Wl,Hl=1,aAe=2,G$=4,dE=8,H$=16,nS=32,iS=64,W$=128,lAe=256,cAe=512,uAe=1024,Tm=2048,Sm=4096,EAe=8192,fAe=16384,dAe=32768,Y$=65536,hAe=1<<17,TAe=1<<18;function Ft(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}Rm(oS.prototype,{objectMode:Ft(Hl),ended:Ft(aAe),endEmitted:Ft(G$),reading:Ft(dE),constructed:Ft(H$),sync:Ft(nS),needReadable:Ft(iS),emittedReadable:Ft(W$),readableListening:Ft(lAe),resumeScheduled:Ft(cAe),errorEmitted:Ft(uAe),emitClose:Ft(Tm),autoDestroy:Ft(Sm),destroyed:Ft(EAe),closed:Ft(fAe),closeEmitted:Ft(dAe),multiAwaitDrain:Ft(Y$),readingMore:Ft(hAe),dataEmitted:Ft(TAe)});function oS(t,e,r){typeof r!="boolean"&&(r=e instanceof hi()),this.state=Tm|Sm|H$|nS,t&&t.objectMode&&(this.state|=Hl),r&&t&&t.readableObjectMode&&(this.state|=Hl),this.highWaterMark=t?Jpe(this,t,"readableHighWaterMark",r):Qpe(!1),this.buffer=new zpe,this.length=0,this.pipes=[],this.flowing=null,this[ea]=null,t&&t.emitClose===!1&&(this.state&=~Tm),t&&t.autoDestroy===!1&&(this.state&=~Sm),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new F$(t.encoding),this.encoding=t.encoding)}function pe(t){if(!(this instanceof pe))return new pe(t);let e=this instanceof hi();this._readableState=new oS(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&jpe(t.signal,this)),Ps.call(this,t),Wl.construct(this,()=>{this._readableState.needReadable&&sS(this,this._readableState)})}pe.prototype.destroy=Wl.destroy;pe.prototype._undestroy=Wl.undestroy;pe.prototype._destroy=function(t,e){e(t)};pe.prototype[Xpe.captureRejectionSymbol]=function(t){this.destroy(t)};pe.prototype[Vpe]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new iAe,this.destroy(t)),new U$((e,r)=>B$(this,n=>n&&n!==t?r(n):e(null)))};pe.prototype.push=function(t,e){return $$(this,t,e,!1)};pe.prototype.unshift=function(t,e){return $$(this,t,e,!0)};function $$(t,e,r,n){we("readableAddChunk",e);let i=t._readableState,s;if((i.state&Hl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=um.from(e,r).toString(i.encoding):(e=um.from(e,r),r=""))):e instanceof um?r="":Ps._isUint8Array(e)?(e=Ps._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Zpe("chunk",["string","Buffer","Uint8Array"],e))),s)Gl(t,s);else if(e===null)i.state&=~dE,pAe(t,i);else if((i.state&Hl)!==0||e&&e.length>0)if(n)if((i.state&G$)!==0)Gl(t,new nAe);else{if(i.destroyed||i.errored)return!1;fm(t,i,e,!0)}else if(i.ended)Gl(t,new rAe);else{if(i.destroyed||i.errored)return!1;i.state&=~dE,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?fm(t,i,e,!1):sS(t,i)):fm(t,i,e,!1)}else n||(i.state&=~dE,sS(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function fm(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&Y$)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&iS)!==0&&aS(t)),sS(t,e)}pe.prototype.isPaused=function(){let t=this._readableState;return t[ea]===!0||t.flowing===!1};pe.prototype.setEncoding=function(t){let e=new F$(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var SAe=1073741824;function RAe(t){if(t>SAe)throw new tAe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function x$(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Hl)!==0?1:Hpe(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}pe.prototype.read=function(t){we("read",t),t===void 0?t=NaN:Gpe(t)||(t=Wpe(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=RAe(t)),t!==0&&(e.state&=~W$),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return we("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?dm(this):aS(this),null;if(t=x$(t,e),t===0&&e.ended)return e.length===0&&dm(this),null;let n=(e.state&iS)!==0;if(we("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,we("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,we("reading, ended or constructing",n);else if(n){we("do read"),e.state|=dE|nS,e.length===0&&(e.state|=iS);try{this._read(e.highWaterMark)}catch(s){Gl(this,s)}e.state&=~nS,e.reading||(t=x$(r,e))}let i;return t>0?i=K$(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&dm(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function pAe(t,e){if(we("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?aS(t):(e.needReadable=!1,e.emittedReadable=!0,V$(t))}}function aS(t){let e=t._readableState;we("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(we("emitReadable",e.flowing),e.emittedReadable=!0,xn.nextTick(V$,t))}function V$(t){let e=t._readableState;we("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,q$(t)}function sS(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,xn.nextTick(AAe,t,e))}function AAe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(we("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}pe.prototype._read=function(t){throw new eAe("_read()")};pe.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new $pe(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),we("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==xn.stdout&&t!==xn.stderr?a:S;n.endEmitted?xn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(R,N){we("onunpipe"),R===r&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,u())}function a(){we("onend"),t.end()}let l,c=!1;function u(){we("cleanup"),t.removeListener("close",h),t.removeListener("finish",T),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(we("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(we("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=_Ae(r,t),t.on("drain",l))}r.on("data",d);function d(R){we("ondata");let N=t.write(R);we("dest.write",N),N===!1&&E()}function f(R){if(we("onerror",R),S(),t.removeListener("error",f),t.listenerCount("error")===0){let N=t._writableState||t._readableState;N&&!N.errorEmitted?Gl(t,R):t.emit("error",R)}}Kpe(t,"error",f);function h(){t.removeListener("finish",T),S()}t.once("close",h);function T(){we("onfinish"),t.removeListener("close",h),S()}t.once("finish",T);function S(){we("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(we("pipe resume"),r.resume()),t};function _Ae(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(we("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(we("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}pe.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Fpe(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};pe.prototype.on=function(t,e){let r=Ps.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,we("on readable",n.length,n.reading),n.length?aS(this):n.reading||xn.nextTick(IAe,this)),r};pe.prototype.addListener=pe.prototype.on;pe.prototype.removeListener=function(t,e){let r=Ps.prototype.removeListener.call(this,t,e);return t==="readable"&&xn.nextTick(k$,this),r};pe.prototype.off=pe.prototype.removeListener;pe.prototype.removeAllListeners=function(t){let e=Ps.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&xn.nextTick(k$,this),e};function k$(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[ea]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function IAe(t){we("readable nexttick read 0"),t.read(0)}pe.prototype.resume=function(){let t=this._readableState;return t.flowing||(we("resume"),t.flowing=!t.readableListening,NAe(this,t)),t[ea]=!1,this};function NAe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,xn.nextTick(OAe,t,e))}function OAe(t,e){we("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),q$(t),e.flowing&&!e.reading&&t.read(0)}pe.prototype.pause=function(){return we("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(we("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ea]=!0,this};function q$(t){let e=t._readableState;for(we("flow",e.flowing);e.flowing&&t.read()!==null;);}pe.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Gl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Ype(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};pe.prototype[kpe]=function(){return X$(this)};pe.prototype.iterator=function(t){return t!==void 0&&sAe(t,"options"),X$(this,t)};function X$(t,e){typeof t.read!="function"&&(t=pe.wrap(t,{objectMode:!0}));let r=mAe(t,e);return r.stream=t,r}async function*mAe(t,e){let r=Em;function n(o){this===t?(r(),r=Em):r=o}t.on("readable",n);let i,s=B$(t,{writable:!1},o=>{i=o?M$(i,o):null,r(),r=Em});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new U$(n)}}}catch(o){throw i=M$(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Wl.destroyer(t,null):(t.off("readable",n),s())}}Rm(pe.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Rm(oS.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ea]!==!1},set(t){this[ea]=!!t}}});pe._fromList=K$;function K$(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function dm(t){let e=t._readableState;we("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,xn.nextTick(gAe,e,t))}function gAe(t,e){if(we("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)xn.nextTick(CAe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function CAe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}pe.from=function(t,e){return oAe(pe,t,e)};var hm;function j$(){return hm===void 0&&(hm={}),hm}pe.fromWeb=function(t,e){return j$().newStreamReadableFromReadableStream(t,e)};pe.toWeb=function(t,e){return j$().newReadableStreamFromStreamReadable(t,e)};pe.wrap=function(t,e){var r,n;return new pe({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Wl.destroyer(t,i),s(i)}}).wrap(t)}});var fS=g((xxe,lV)=>{"use strict";var ta=qe(),{ArrayPrototypeSlice:Z$,Error:yAe,FunctionPrototypeSymbolHasInstance:eV,ObjectDefineProperty:tV,ObjectDefineProperties:LAe,ObjectSetPrototypeOf:rV,StringPrototypeToLowerCase:bAe,Symbol:wAe,SymbolHasInstance:DAe}=ut();lV.exports=Tt;Tt.WritableState=RE;var{EventEmitter:PAe}=require("events"),TE=eS().Stream,{Buffer:lS}=require("buffer"),ES=Zo(),{addAbortSignal:MAe}=EE(),{getHighWaterMark:xAe,getDefaultHighWaterMark:vAe}=fE(),{ERR_INVALID_ARG_TYPE:UAe,ERR_METHOD_NOT_IMPLEMENTED:BAe,ERR_MULTIPLE_CALLBACK:nV,ERR_STREAM_CANNOT_PIPE:FAe,ERR_STREAM_DESTROYED:SE,ERR_STREAM_ALREADY_FINISHED:GAe,ERR_STREAM_NULL_VALUES:HAe,ERR_STREAM_WRITE_AFTER_END:WAe,ERR_UNKNOWN_ENCODING:iV}=Cr().codes,{errorOrDestroy:Yl}=ES;rV(Tt.prototype,TE.prototype);rV(Tt,TE);function _m(){}var $l=wAe("kOnFinished");function RE(t,e,r){typeof r!="boolean"&&(r=e instanceof hi()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?xAe(this,t,"writableHighWaterMark",r):vAe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=$Ae.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,uS(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[$l]=[]}function uS(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}RE.prototype.getBuffer=function(){return Z$(this.buffered,this.bufferedIndex)};tV(RE.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Tt(t){let e=this instanceof hi();if(!e&&!eV(Tt,this))return new Tt(t);this._writableState=new RE(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&MAe(t.signal,this)),TE.call(this,t),ES.construct(this,()=>{let r=this._writableState;r.writing||Nm(this,r),Om(this,r)})}tV(Tt,DAe,{__proto__:null,value:function(t){return eV(this,t)?!0:this!==Tt?!1:t&&t._writableState instanceof RE}});Tt.prototype.pipe=function(){Yl(this,new FAe)};function sV(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!lS.isEncoding(r))throw new iV(r);typeof n!="function"&&(n=_m)}if(e===null)throw new HAe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=lS.from(e,r),r="buffer");else if(e instanceof lS)r="buffer";else if(TE._isUint8Array(e))e=TE._uint8ArrayToBuffer(e),r="buffer";else throw new UAe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new WAe:i.destroyed&&(s=new SE("write")),s?(ta.nextTick(n,s),Yl(t,s,!0),s):(i.pendingcb++,YAe(t,i,e,r,n))}Tt.prototype.write=function(t,e,r){return sV(this,t,e,r)===!0};Tt.prototype.cork=function(){this._writableState.corked++};Tt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Nm(this,t))};Tt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=bAe(e)),!lS.isEncoding(e))throw new iV(e);return this._writableState.defaultEncoding=e,this};function YAe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==_m&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function J$(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new SE("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Q$(t,e,r,n){--e.pendingcb,n(r),Im(e),Yl(t,r)}function $Ae(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Yl(t,new nV);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?ta.nextTick(Q$,t,r,e,i):Q$(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&Nm(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},ta.nextTick(VAe,r.afterWriteTickInfo)):oV(t,r,1,i))}function VAe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,oV(t,e,r,n)}function oV(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Im(e),Om(t,e)}function Im(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new SE("write"))}let r=t[$l].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new SE("end"))}uS(t)}function Nm(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?_m:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:Z$(r,o);l.allBuffers=e.allBuffers,J$(t,e,!0,e.length,l,"",a),uS(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;J$(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?uS(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}Tt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new BAe("_write()")};Tt.prototype._writev=null;Tt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=sV(this,t,e);s instanceof yAe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Om(this,n,!0),n.ended=!0):n.finished?i=new GAe("end"):n.destroyed&&(i=new SE("end"))),typeof r=="function"&&(i||n.finished?ta.nextTick(r,i):n[$l].push(r)),this};function cS(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function kAe(t,e){let r=!1;function n(i){if(r){Yl(t,i??nV());return}if(r=!0,e.pendingcb--,i){let s=e[$l].splice(0);for(let o=0;o<s.length;o++)s[o](i);Yl(t,i,e.sync)}else cS(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,ta.nextTick(Am,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function qAe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,kAe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Om(t,e,r){cS(e)&&(qAe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,ta.nextTick((n,i)=>{cS(i)?Am(n,i):i.pendingcb--},t,e)):cS(e)&&(e.pendingcb++,Am(t,e))))}function Am(t,e){e.pendingcb--,e.finished=!0;let r=e[$l].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}LAe(Tt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var XAe=ES.destroy;Tt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[$l].length)&&ta.nextTick(Im,r),XAe.call(this,t,e),this};Tt.prototype._undestroy=ES.undestroy;Tt.prototype._destroy=function(t,e){e(t)};Tt.prototype[PAe.captureRejectionSymbol]=function(t){this.destroy(t)};var pm;function aV(){return pm===void 0&&(pm={}),pm}Tt.fromWeb=function(t,e){return aV().newStreamWritableFromWritableStream(t,e)};Tt.toWeb=function(t){return aV().newWritableStreamFromStreamWritable(t)}});var OV=g((vxe,NV)=>{var mm=qe(),KAe=require("buffer"),{isReadable:jAe,isWritable:zAe,isIterable:cV,isNodeStream:JAe,isReadableNodeStream:uV,isWritableNodeStream:EV,isDuplexNodeStream:QAe,isReadableStream:fV,isWritableStream:dV}=fi(),hV=Ki(),{AbortError:_V,codes:{ERR_INVALID_ARG_TYPE:ZAe,ERR_INVALID_RETURN_VALUE:TV}}=Cr(),{destroyer:kl}=Zo(),e_e=hi(),IV=hE(),t_e=fS(),{createDeferredPromise:SV}=Br(),RV=cm(),pV=globalThis.Blob||KAe.Blob,r_e=typeof pV<"u"?function(e){return e instanceof pV}:function(e){return!1},n_e=globalThis.AbortController||Ct().AbortController,{FunctionPrototypeCall:AV}=ut(),Ms=class extends e_e{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};NV.exports=function t(e,r){if(QAe(e))return e;if(uV(e))return Vl({readable:e});if(EV(e))return Vl({writable:e});if(JAe(e))return Vl({writable:!1,readable:!1});if(fV(e))return Vl({readable:IV.fromWeb(e)});if(dV(e))return Vl({writable:t_e.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=i_e(e);if(cV(i))return RV(Ms,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=AV(l,i,E=>{if(E!=null)throw new TV("nully","body",E)},E=>{kl(c,E)});return c=new Ms({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,mm.nextTick(E,null)}catch(d){mm.nextTick(E,d)}})},destroy:a})}throw new TV("Iterable, AsyncIterable or AsyncFunction",r,i)}if(r_e(e))return t(e.arrayBuffer());if(cV(e))return RV(Ms,e,{objectMode:!0,writable:!1});if(fV(e?.readable)&&dV(e?.writable))return Ms.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?uV(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?EV(e?.writable)?e?.writable:t(e.writable):void 0;return Vl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return AV(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{kl(i,s)}),i=new Ms({objectMode:!0,writable:!1,read(){}})}throw new ZAe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function i_e(t){let{promise:e,resolve:r}=SV(),n=new n_e,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(mm.nextTick(c),l)return;if(i.aborted)throw new _V(void 0,{cause:i.reason});({promise:e,resolve:r}=SV()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Vl(t){let e=t.readable&&typeof t.readable.read!="function"?IV.wrap(t.readable):t.readable,r=t.writable,n=!!jAe(e),i=!!zAe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new Ms({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(hV(r,E=>{i=!1,E&&kl(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(hV(e,E=>{n=!1,E&&kl(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new _V),a=null,s=null,o=null,l===null?d(E):(l=d,kl(r,E),kl(e,E))},c}});var hi=g((Uxe,CV)=>{"use strict";var{ObjectDefineProperties:s_e,ObjectGetOwnPropertyDescriptor:ji,ObjectKeys:o_e,ObjectSetPrototypeOf:mV}=ut();CV.exports=vn;var ym=hE(),_n=fS();mV(vn.prototype,ym.prototype);mV(vn,ym);{let t=o_e(_n.prototype);for(let e=0;e<t.length;e++){let r=t[e];vn.prototype[r]||(vn.prototype[r]=_n.prototype[r])}}function vn(t){if(!(this instanceof vn))return new vn(t);ym.call(this,t),_n.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s_e(vn.prototype,{writable:{__proto__:null,...ji(_n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ji(_n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ji(_n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ji(_n.prototype,"writableBuffer")},writableLength:{__proto__:null,...ji(_n.prototype,"writableLength")},writableFinished:{__proto__:null,...ji(_n.prototype,"writableFinished")},writableCorked:{__proto__:null,...ji(_n.prototype,"writableCorked")},writableEnded:{__proto__:null,...ji(_n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ji(_n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var gm;function gV(){return gm===void 0&&(gm={}),gm}vn.fromWeb=function(t,e){return gV().newStreamDuplexFromReadableWritablePair(t,e)};vn.toWeb=function(t){return gV().newReadableWritablePairFromDuplex(t)};var Cm;vn.from=function(t){return Cm||(Cm=OV()),Cm(t,"body")}});var wm=g((Bxe,LV)=>{"use strict";var{ObjectSetPrototypeOf:yV,Symbol:a_e}=ut();LV.exports=zi;var{ERR_METHOD_NOT_IMPLEMENTED:l_e}=Cr().codes,bm=hi(),{getHighWaterMark:c_e}=fE();yV(zi.prototype,bm.prototype);yV(zi,bm);var pE=a_e("kCallback");function zi(t){if(!(this instanceof zi))return new zi(t);let e=t?c_e(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),bm.call(this,t),this._readableState.sync=!1,this[pE]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",u_e)}function Lm(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function u_e(){this._final!==Lm&&Lm.call(this)}zi.prototype._final=Lm;zi.prototype._transform=function(t,e,r){throw new l_e("_transform()")};zi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[pE]=r})};zi.prototype._read=function(){if(this[pE]){let t=this[pE];this[pE]=null,t()}}});var Pm=g((Fxe,wV)=>{"use strict";var{ObjectSetPrototypeOf:bV}=ut();wV.exports=ql;var Dm=wm();bV(ql.prototype,Dm.prototype);bV(ql,Dm);function ql(t){if(!(this instanceof ql))return new ql(t);Dm.call(this,t)}ql.prototype._transform=function(t,e,r){r(null,t)}});var SS=g((Gxe,vV)=>{var AE=qe(),{ArrayIsArray:E_e,Promise:f_e,SymbolAsyncIterator:d_e,SymbolDispose:h_e}=ut(),TS=Ki(),{once:T_e}=Br(),S_e=Zo(),DV=hi(),{aggregateTwoErrors:R_e,codes:{ERR_INVALID_ARG_TYPE:Wm,ERR_INVALID_RETURN_VALUE:Mm,ERR_MISSING_ARGS:p_e,ERR_STREAM_DESTROYED:A_e,ERR_STREAM_PREMATURE_CLOSE:__e},AbortError:I_e}=Cr(),{validateFunction:N_e,validateAbortSignal:O_e}=Bl(),{isIterable:ra,isReadable:xm,isReadableNodeStream:hS,isNodeStream:PV,isTransformStream:Xl,isWebStream:m_e,isReadableStream:vm,isReadableFinished:g_e}=fi(),C_e=globalThis.AbortController||Ct().AbortController,Um,Bm,Fm;function MV(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=TS(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,S_e.destroyer(t,s||new A_e("pipe")))},cleanup:i}}function y_e(t){return N_e(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Gm(t){if(ra(t))return t;if(hS(t))return L_e(t);throw new Wm("val",["Readable","Iterable","AsyncIterable"],t)}async function*L_e(t){Bm||(Bm=hE()),yield*Bm.prototype[d_e].call(t)}async function dS(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new f_e((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=TS(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?R_e(i,c):c)}finally{l(),e.off("drain",o)}}async function Hm(t,e,r,{end:n}){Xl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function b_e(...t){return xV(t,T_e(y_e(t)))}function xV(t,e,r){if(t.length===1&&E_e(t[0])&&(t=t[0]),t.length<2)throw new p_e("streams");let n=new C_e,i=n.signal,s=r?.signal,o=[];O_e(s,"options.signal");function a(){h(new I_e)}Fm=Fm||Br().addAbortListener;let l;s&&(l=Fm(s,a));let c,u,E=[],d=0;function f(p){h(p,--d===0)}function h(p,A){var O;if(p&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=p),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[h_e](),n.abort(),A&&(c||o.forEach(b=>b()),AE.nextTick(e,c,u))}}let T;for(let p=0;p<t.length;p++){let A=t[p],O=p<t.length-1,b=p>0,I=O||r?.end!==!1,D=p===t.length-1;if(PV(A)){let L=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var N=L;if(I){let{destroy:P,cleanup:x}=MV(A,O,b);E.push(P),xm(A)&&D&&o.push(x)}A.on("error",L),xm(A)&&D&&o.push(()=>{A.removeListener("error",L)})}if(p===0)if(typeof A=="function"){if(T=A({signal:i}),!ra(T))throw new Mm("Iterable, AsyncIterable or Stream","source",T)}else ra(A)||hS(A)||Xl(A)?T=A:T=DV.from(A);else if(typeof A=="function"){if(Xl(T)){var S;T=Gm((S=T)===null||S===void 0?void 0:S.readable)}else T=Gm(T);if(T=A(T,{signal:i}),O){if(!ra(T,!0))throw new Mm("AsyncIterable",`transform[${p-1}]`,T)}else{var R;Um||(Um=Pm());let L=new Um({objectMode:!0}),P=(R=T)===null||R===void 0?void 0:R.then;if(typeof P=="function")d++,P.call(T,Y=>{u=Y,Y!=null&&L.write(Y),I&&L.end(),AE.nextTick(f)},Y=>{L.destroy(Y),AE.nextTick(f,Y)});else if(ra(T,!0))d++,dS(T,L,f,{end:I});else if(vm(T)||Xl(T)){let Y=T.readable||T;d++,dS(Y,L,f,{end:I})}else throw new Mm("AsyncIterable or Promise","destination",T);T=L;let{destroy:x,cleanup:$}=MV(T,!1,!0);E.push(x),D&&o.push($)}}else if(PV(A)){if(hS(T)){d+=2;let L=w_e(T,A,f,{end:I});xm(A)&&D&&o.push(L)}else if(Xl(T)||vm(T)){let L=T.readable||T;d++,dS(L,A,f,{end:I})}else if(ra(T))d++,dS(T,A,f,{end:I});else throw new Wm("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=A}else if(m_e(A)){if(hS(T))d++,Hm(Gm(T),A,f,{end:I});else if(vm(T)||ra(T))d++,Hm(T,A,f,{end:I});else if(Xl(T))d++,Hm(T.readable,A,f,{end:I});else throw new Wm("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=A}else T=DV.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&AE.nextTick(a),T}function w_e(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new __e)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;g_e(t)?AE.nextTick(o):t.once("end",o)}else r();return TS(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),TS(e,{readable:!1,writable:!0},r)}vV.exports={pipelineImpl:xV,pipeline:b_e}});var $m=g((Hxe,WV)=>{"use strict";var{pipeline:D_e}=SS(),RS=hi(),{destroyer:P_e}=Zo(),{isNodeStream:pS,isReadable:UV,isWritable:BV,isWebStream:Ym,isTransformStream:na,isWritableStream:FV,isReadableStream:GV}=fi(),{AbortError:M_e,codes:{ERR_INVALID_ARG_VALUE:HV,ERR_MISSING_ARGS:x_e}}=Cr(),v_e=Ki();WV.exports=function(...e){if(e.length===0)throw new x_e("streams");if(e.length===1)return RS.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=RS.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=RS.from(e[f])}for(let f=0;f<e.length;++f)if(!(!pS(e[f])&&!Ym(e[f]))){if(f<e.length-1&&!(UV(e[f])||GV(e[f])||na(e[f])))throw new HV(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(BV(e[f])||FV(e[f])||na(e[f])))throw new HV(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let h=o;o=null,h?h(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=D_e(e,l),E=!!(BV(c)||FV(c)||na(c)),d=!!(UV(u)||GV(u)||na(u));if(a=new RS({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(pS(c))a._write=function(h,T,S){c.write(h,T)?S():n=S},a._final=function(h){c.end(),i=h},c.on("drain",function(){if(n){let h=n;n=null,h()}});else if(Ym(c)){let T=(na(c)?c.writable:c).getWriter();a._write=async function(S,R,N){try{await T.ready,T.write(S).catch(()=>{}),N()}catch(p){N(p)}},a._final=async function(S){try{await T.ready,T.close().catch(()=>{}),i=S}catch(R){S(R)}}}let f=na(u)?u.readable:u;v_e(f,()=>{if(i){let h=i;i=null,h()}})}if(d){if(pS(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(Ym(u)){let h=(na(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:T,done:S}=await h.read();if(!a.push(T))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,h){!f&&o!==null&&(f=new M_e),s=null,n=null,i=null,o===null?h(f):(o=h,pS(u)&&P_e(u,f))},a}});var JV=g((Wxe,qm)=>{"use strict";var U_e=globalThis.AbortController||Ct().AbortController,{codes:{ERR_INVALID_ARG_VALUE:B_e,ERR_INVALID_ARG_TYPE:_E,ERR_MISSING_ARGS:F_e,ERR_OUT_OF_RANGE:G_e},AbortError:Ti}=Cr(),{validateAbortSignal:ia,validateInteger:YV,validateObject:sa}=Bl(),H_e=ut().Symbol("kWeak"),W_e=ut().Symbol("kResistStopPropagation"),{finished:Y_e}=Ki(),$_e=$m(),{addAbortSignalNoValidate:V_e}=EE(),{isWritable:k_e,isNodeStream:q_e}=fi(),{deprecate:X_e}=Br(),{ArrayPrototypePush:K_e,Boolean:j_e,MathFloor:$V,Number:z_e,NumberIsNaN:J_e,Promise:VV,PromiseReject:kV,PromiseResolve:Q_e,PromisePrototypeThen:qV,Symbol:KV}=ut(),AS=KV("kEmpty"),XV=KV("kEof");function Z_e(t,e){if(e!=null&&sa(e,"options"),e?.signal!=null&&ia(e.signal,"options.signal"),q_e(t)&&!k_e(t))throw new B_e("stream",t,"must be writable");let r=$_e(this,t);return e!=null&&e.signal&&V_e(e.signal,r),r}function _S(t,e){if(typeof t!="function")throw new _E("fn",["Function","AsyncFunction"],t);e!=null&&sa(e,"options"),e?.signal!=null&&ia(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=$V(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=$V(e.highWaterMark)),YV(r,"options.concurrency",1),YV(n,"options.highWaterMark",0),n+=r,async function*(){let s=Br().AbortSignalAny([e?.signal].filter(j_e)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,h()}function h(){d-=1,T()}function T(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let R of o){if(E)return;if(s.aborted)throw new Ti;try{if(R=t(R,l),R===AS)continue;R=Q_e(R)}catch(N){R=kV(N)}d+=1,qV(R,h,f),a.push(R),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new VV(N=>{u=N})}a.push(XV)}catch(R){let N=kV(R);qV(N,h,f),a.push(N)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let R=await a[0];if(R===XV)return;if(s.aborted)throw new Ti;R!==AS&&(yield R),a.shift(),T()}await new VV(R=>{c=R})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function eIe(t=void 0){return t!=null&&sa(t,"options"),t?.signal!=null&&ia(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ti({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function jV(t,e=void 0){for await(let r of km.call(this,t,e))return!0;return!1}async function tIe(t,e=void 0){if(typeof t!="function")throw new _E("fn",["Function","AsyncFunction"],t);return!await jV.call(this,async(...r)=>!await t(...r),e)}async function rIe(t,e){for await(let r of km.call(this,t,e))return r}async function nIe(t,e){if(typeof t!="function")throw new _E("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),AS}for await(let n of _S.call(this,r,e));}function km(t,e){if(typeof t!="function")throw new _E("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:AS}return _S.call(this,r,e)}var Vm=class extends F_e{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function iIe(t,e,r){var n;if(typeof t!="function")throw new _E("reducer",["Function","AsyncFunction"],t);r!=null&&sa(r,"options"),r?.signal!=null&&ia(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Ti(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Y_e(this.destroy(c)),c}let s=new U_e,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[H_e]:this,[W_e]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Ti;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new Vm}finally{s.abort()}return e}async function sIe(t){t!=null&&sa(t,"options"),t?.signal!=null&&ia(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Ti(void 0,{cause:t.signal.reason});K_e(e,n)}return e}function oIe(t,e){let r=_S.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function zV(t){if(t=z_e(t),J_e(t))return 0;if(t<0)throw new G_e("number",">= 0",t);return t}function aIe(t,e=void 0){return e!=null&&sa(e,"options"),e?.signal!=null&&ia(e.signal,"options.signal"),t=zV(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ti;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ti;t--<=0&&(yield s)}}.call(this)}function lIe(t,e=void 0){return e!=null&&sa(e,"options"),e?.signal!=null&&ia(e.signal,"options.signal"),t=zV(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ti;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ti;if(t-- >0&&(yield s),t<=0)return}}.call(this)}qm.exports.streamReturningOperators={asIndexedPairs:X_e(eIe,"readable.asIndexedPairs will be removed in a future version."),drop:aIe,filter:km,flatMap:oIe,map:_S,take:lIe,compose:Z_e};qm.exports.promiseReturningOperators={every:tIe,forEach:nIe,reduce:iIe,toArray:sIe,some:jV,find:rIe}});var Xm=g((Yxe,QV)=>{"use strict";var{ArrayPrototypePop:cIe,Promise:uIe}=ut(),{isIterable:EIe,isNodeStream:fIe,isWebStream:dIe}=fi(),{pipelineImpl:hIe}=SS(),{finished:TIe}=Ki();Km();function SIe(...t){return new uIe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!fIe(s)&&!EIe(s)&&!dIe(s)){let o=cIe(t);n=o.signal,i=o.end}hIe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}QV.exports={finished:TIe,pipeline:SIe}});var Km=g(($xe,ak)=>{"use strict";var{Buffer:RIe}=require("buffer"),{ObjectDefineProperty:Ji,ObjectKeys:tk,ReflectApply:rk}=ut(),{promisify:{custom:nk}}=Br(),{streamReturningOperators:ZV,promiseReturningOperators:ek}=JV(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:ik}}=Cr(),pIe=$m(),{setDefaultHighWaterMark:AIe,getDefaultHighWaterMark:_Ie}=fE(),{pipeline:sk}=SS(),{destroyer:IIe}=Zo(),ok=Ki(),jm=Xm(),IE=fi(),it=ak.exports=eS().Stream;it.isDestroyed=IE.isDestroyed;it.isDisturbed=IE.isDisturbed;it.isErrored=IE.isErrored;it.isReadable=IE.isReadable;it.isWritable=IE.isWritable;it.Readable=hE();for(let t of tk(ZV)){let r=function(...n){if(new.target)throw ik();return it.Readable.from(rk(e,this,n))},e=ZV[t];Ji(r,"name",{__proto__:null,value:e.name}),Ji(r,"length",{__proto__:null,value:e.length}),Ji(it.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of tk(ek)){let r=function(...n){if(new.target)throw ik();return rk(e,this,n)},e=ek[t];Ji(r,"name",{__proto__:null,value:e.name}),Ji(r,"length",{__proto__:null,value:e.length}),Ji(it.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}it.Writable=fS();it.Duplex=hi();it.Transform=wm();it.PassThrough=Pm();it.pipeline=sk;var{addAbortSignal:NIe}=EE();it.addAbortSignal=NIe;it.finished=ok;it.destroy=IIe;it.compose=pIe;it.setDefaultHighWaterMark=AIe;it.getDefaultHighWaterMark=_Ie;Ji(it,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return jm}});Ji(sk,nk,{__proto__:null,enumerable:!0,get(){return jm.pipeline}});Ji(ok,nk,{__proto__:null,enumerable:!0,get(){return jm.finished}});it.Stream=it;it._isUint8Array=function(e){return e instanceof Uint8Array};it._uint8ArrayToBuffer=function(e){return RIe.from(e.buffer,e.byteOffset,e.byteLength)}});var lk=g((Vxe,ge)=>{"use strict";var Gt=require("stream");if(Gt&&process.env.READABLE_STREAM==="disable"){let t=Gt.promises;ge.exports._uint8ArrayToBuffer=Gt._uint8ArrayToBuffer,ge.exports._isUint8Array=Gt._isUint8Array,ge.exports.isDisturbed=Gt.isDisturbed,ge.exports.isErrored=Gt.isErrored,ge.exports.isReadable=Gt.isReadable,ge.exports.Readable=Gt.Readable,ge.exports.Writable=Gt.Writable,ge.exports.Duplex=Gt.Duplex,ge.exports.Transform=Gt.Transform,ge.exports.PassThrough=Gt.PassThrough,ge.exports.addAbortSignal=Gt.addAbortSignal,ge.exports.finished=Gt.finished,ge.exports.destroy=Gt.destroy,ge.exports.pipeline=Gt.pipeline,ge.exports.compose=Gt.compose,Object.defineProperty(Gt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),ge.exports.Stream=Gt.Stream}else{let t=Km(),e=Xm(),r=t.Readable.destroy;ge.exports=t.Readable,ge.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,ge.exports._isUint8Array=t._isUint8Array,ge.exports.isDisturbed=t.isDisturbed,ge.exports.isErrored=t.isErrored,ge.exports.isReadable=t.isReadable,ge.exports.Readable=t.Readable,ge.exports.Writable=t.Writable,ge.exports.Duplex=t.Duplex,ge.exports.Transform=t.Transform,ge.exports.PassThrough=t.PassThrough,ge.exports.addAbortSignal=t.addAbortSignal,ge.exports.finished=t.finished,ge.exports.destroy=t.destroy,ge.exports.destroy=r,ge.exports.pipeline=t.pipeline,ge.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),ge.exports.Stream=t.Stream}ge.exports.default=ge.exports});var uk=g((kxe,ck)=>{"use strict";var{Transform:OIe}=lk(),mIe=kT(),zm=class extends OIe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=mIe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};ck.exports=zm});var fk=g((qxe,Ek)=>{"use strict";var{DeflateRaw:gIe}=require("zlib"),CIe=kT(),Jm=class extends gIe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=CIe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};Ek.exports=Jm});var Qm=g((Xxe,dk)=>{"use strict";dk.exports={CRC32Stream:uk(),DeflateCRC32Stream:fk()}});var Sk=g((Jxe,Tk)=>{var yIe=require("util").inherits,LIe=kT(),{CRC32Stream:bIe}=Qm(),{DeflateCRC32Stream:wIe}=Qm(),hk=GO(),Kxe=CN(),jxe=mN(),he=gN(),zxe=BO(),se=TT(),Qt=Tk.exports=function(t){if(!(this instanceof Qt))return new Qt(t);t=this.options=this._defaults(t),hk.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};yIe(Qt,hk);Qt.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};Qt.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(he.METHOD_STORED);var n=t.getMethod();if(n===he.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(LIe.buf(e)>>>0)),this._writeLocalFileHeader(t),n===he.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===he.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};Qt.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(he.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};Qt.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=he.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};Qt.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};Qt.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(he.METHOD_DEFLATED),t.getMethod()===he.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(he.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};Qt.prototype._smartStream=function(t,e){var r=t.getMethod()===he.METHOD_DEFLATED,n=r?new wIe(this.options.zlib):new bIe,i=null;function s(){var o=n.digest().readUInt32BE(0);t.setCrc(o),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(o){i=o}),n.pipe(this,{end:!1}),n};Qt.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=he.ZIP64_MAGIC_SHORT,e=he.ZIP64_MAGIC,r=he.ZIP64_MAGIC),this.write(se.getLongBytes(he.SIG_EOCD)),this.write(he.SHORT_ZERO),this.write(he.SHORT_ZERO),this.write(se.getShortBytes(t)),this.write(se.getShortBytes(t)),this.write(se.getLongBytes(e)),this.write(se.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(se.getShortBytes(i)),this.write(n)};Qt.prototype._writeCentralDirectoryZip64=function(){this.write(se.getLongBytes(he.SIG_ZIP64_EOCD)),this.write(se.getEightBytes(44)),this.write(se.getShortBytes(he.MIN_VERSION_ZIP64)),this.write(se.getShortBytes(he.MIN_VERSION_ZIP64)),this.write(he.LONG_ZERO),this.write(he.LONG_ZERO),this.write(se.getEightBytes(this._entries.length)),this.write(se.getEightBytes(this._entries.length)),this.write(se.getEightBytes(this._archive.centralLength)),this.write(se.getEightBytes(this._archive.centralOffset)),this.write(se.getLongBytes(he.SIG_ZIP64_EOCD_LOC)),this.write(he.LONG_ZERO),this.write(se.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(se.getLongBytes(1))};Qt.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>he.ZIP64_MAGIC){i=he.ZIP64_MAGIC,s=he.ZIP64_MAGIC,n=he.ZIP64_MAGIC,t.setVersionNeededToExtract(he.MIN_VERSION_ZIP64);var o=Buffer.concat([se.getShortBytes(he.ZIP64_EXTRA_ID),se.getShortBytes(24),se.getEightBytes(t.getSize()),se.getEightBytes(t.getCompressedSize()),se.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(se.getLongBytes(he.SIG_CFH)),this.write(se.getShortBytes(t.getPlatform()<<8|he.VERSION_MADEBY)),this.write(se.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(se.getShortBytes(r)),this.write(se.getLongBytes(t.getTimeDos())),this.write(se.getLongBytes(t.getCrc())),this.write(se.getLongBytes(s)),this.write(se.getLongBytes(i));var a=t.getName(),l=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(se.getShortBytes(a.length)),this.write(se.getShortBytes(c.length)),this.write(se.getShortBytes(l.length)),this.write(he.SHORT_ZERO),this.write(se.getShortBytes(t.getInternalAttributes())),this.write(se.getLongBytes(t.getExternalAttributes())),this.write(se.getLongBytes(n)),this.write(a),this.write(c),this.write(l)};Qt.prototype._writeDataDescriptor=function(t){this.write(se.getLongBytes(he.SIG_DD)),this.write(se.getLongBytes(t.getCrc())),t.isZip64()?(this.write(se.getEightBytes(t.getCompressedSize())),this.write(se.getEightBytes(t.getSize()))):(this.write(se.getLongBytes(t.getCompressedSize())),this.write(se.getLongBytes(t.getSize())))};Qt.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(he.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(se.getLongBytes(he.SIG_LFH)),this.write(se.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(se.getShortBytes(r)),this.write(se.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(he.LONG_ZERO),this.write(he.LONG_ZERO),this.write(he.LONG_ZERO)):(this.write(se.getLongBytes(t.getCrc())),this.write(se.getLongBytes(t.getCompressedSize())),this.write(se.getLongBytes(t.getSize()))),this.write(se.getShortBytes(n.length)),this.write(se.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};Qt.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};Qt.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>he.ZIP64_MAGIC_SHORT||this._archive.centralLength>he.ZIP64_MAGIC||this._archive.centralOffset>he.ZIP64_MAGIC};Qt.prototype.setComment=function(t){this._archive.comment=t}});var Zm=g((Qxe,Rk)=>{Rk.exports={ArchiveEntry:hT(),ZipArchiveEntry:CN(),ArchiveOutputStream:GO(),ZipArchiveOutputStream:Sk()}});var Ak=g((Zxe,pk)=>{var DIe=require("util").inherits,tg=Zm().ZipArchiveOutputStream,PIe=Zm().ZipArchiveEntry,eg=El(),Kl=pk.exports=function(t){if(!(this instanceof Kl))return new Kl(t);t=this.options=t||{},t.zlib=t.zlib||{},tg.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};DIe(Kl,tg);Kl.prototype._normalizeFileData=function(t){t=eg.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=eg.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=eg.dateify(t.date),t};Kl.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new PIe(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),tg.prototype.entry.call(this,n,t,r)};Kl.prototype.finalize=function(){this.finish()}});var Ik=g((eve,_k)=>{var MIe=Ak(),xIe=El(),xs=function(t){if(!(this instanceof xs))return new xs(t);t=this.options=xIe.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new MIe(t)};xs.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};xs.prototype.finalize=function(){this.engine.finalize()};xs.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};xs.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};xs.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};_k.exports=xs});var Ok=g((tve,Nk)=>{Nk.exports=require("events")});var gk=g((nve,mk)=>{mk.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var rg=g((sve,yk)=>{var Ck=gk();yk.exports=class{constructor(e){this.hwm=e||16,this.head=new Ck(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new Ck(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var jl=g((ove,Lk)=>{function vIe(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function UIe(t){return Buffer.isEncoding(t)}function BIe(t,e,r){return Buffer.alloc(t,e,r)}function FIe(t){return Buffer.allocUnsafe(t)}function GIe(t){return Buffer.allocUnsafeSlow(t)}function HIe(t,e){return Buffer.byteLength(t,e)}function WIe(t,e){return Buffer.compare(t,e)}function YIe(t,e){return Buffer.concat(t,e)}function $Ie(t,e,r,n,i){return je(t).copy(e,r,n,i)}function VIe(t,e){return je(t).equals(e)}function kIe(t,e,r,n,i){return je(t).fill(e,r,n,i)}function qIe(t,e,r){return Buffer.from(t,e,r)}function XIe(t,e,r,n){return je(t).includes(e,r,n)}function KIe(t,e,r,n){return je(t).indexOf(e,r,n)}function jIe(t,e,r,n){return je(t).lastIndexOf(e,r,n)}function zIe(t){return je(t).swap16()}function JIe(t){return je(t).swap32()}function QIe(t){return je(t).swap64()}function je(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function ZIe(t,e,r,n){return je(t).toString(e,r,n)}function eNe(t,e,r,n,i){return je(t).write(e,r,n,i)}function tNe(t,e){return je(t).readDoubleBE(e)}function rNe(t,e){return je(t).readDoubleLE(e)}function nNe(t,e){return je(t).readFloatBE(e)}function iNe(t,e){return je(t).readFloatLE(e)}function sNe(t,e){return je(t).readInt32BE(e)}function oNe(t,e){return je(t).readInt32LE(e)}function aNe(t,e){return je(t).readUInt32BE(e)}function lNe(t,e){return je(t).readUInt32LE(e)}function cNe(t,e,r){return je(t).writeDoubleBE(e,r)}function uNe(t,e,r){return je(t).writeDoubleLE(e,r)}function ENe(t,e,r){return je(t).writeFloatBE(e,r)}function fNe(t,e,r){return je(t).writeFloatLE(e,r)}function dNe(t,e,r){return je(t).writeInt32BE(e,r)}function hNe(t,e,r){return je(t).writeInt32LE(e,r)}function TNe(t,e,r){return je(t).writeUInt32BE(e,r)}function SNe(t,e,r){return je(t).writeUInt32LE(e,r)}Lk.exports={isBuffer:vIe,isEncoding:UIe,alloc:BIe,allocUnsafe:FIe,allocUnsafeSlow:GIe,byteLength:HIe,compare:WIe,concat:YIe,copy:$Ie,equals:VIe,fill:kIe,from:qIe,includes:XIe,indexOf:KIe,lastIndexOf:jIe,swap16:zIe,swap32:JIe,swap64:QIe,toBuffer:je,toString:ZIe,write:eNe,readDoubleBE:tNe,readDoubleLE:rNe,readFloatBE:nNe,readFloatLE:iNe,readInt32BE:sNe,readInt32LE:oNe,readUInt32BE:aNe,readUInt32LE:lNe,writeDoubleBE:cNe,writeDoubleLE:uNe,writeFloatBE:ENe,writeFloatLE:fNe,writeInt32BE:dNe,writeInt32LE:hNe,writeUInt32BE:TNe,writeUInt32LE:SNe}});var wk=g((lve,bk)=>{var RNe=jl();bk.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return RNe.toString(e,this.encoding)}flush(){return""}}});var Pk=g((uve,Dk)=>{var pNe=jl();Dk.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return pNe.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){let s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="\uFFFD");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="\uFFFD";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){let e=this.bytesNeeded>0?"\uFFFD":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}});var xk=g((fve,Mk)=>{var ANe=wk(),_Ne=Pk();Mk.exports=class{constructor(e="utf8"){switch(this.encoding=INe(e),this.encoding){case"utf8":this.decoder=new _Ne;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new ANe(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function INe(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}});var pg=g((dve,n2)=>{var{EventEmitter:NNe}=Ok(),CS=new Error("Stream was destroyed"),ng=new Error("Premature close"),Hk=rg(),ONe=xk(),ig=typeof queueMicrotask>"u"?t=>global.process.nextTick(t):queueMicrotask,St=(1<<29)-1,Si=1,Eg=2,oa=4,NE=8,Wk=St^Si,mNe=St^Eg,yE=16,zl=32,Zl=64,Us=128,LE=256,fg=512,aa=1024,sg=2048,dg=4096,hg=8192,Un=16384,vs=32768,yS=65536,la=131072,Yk=LE|fg,gNe=yE|yS,CNe=Zl|yE,yNe=dg|Us,Tg=LE|la,LNe=St^yE,bNe=St^Zl,wNe=St^(Zl|yS),vk=St^yS,DNe=St^LE,PNe=St^(Us|hg),MNe=St^aa,Uk=St^Yk,$k=St^vs,xNe=St^zl,Vk=St^la,vNe=St^Tg,Qi=1<<18,Ql=2<<18,bE=4<<18,ca=8<<18,wE=16<<18,Bs=32<<18,og=64<<18,Jl=128<<18,Sg=256<<18,ua=512<<18,LS=1024<<18,UNe=St^(Qi|Sg),kk=St^bE,BNe=St^(Qi|ua),FNe=St^wE,GNe=St^ca,qk=St^Jl,HNe=St^Ql,Xk=St^LS,OE=yE|Qi,Kk=St^OE,Rg=Un|Bs,Ri=oa|NE|Eg,en=Ri|Si,jk=Ri|Rg,WNe=kk&bNe,bS=Jl|vs,YNe=bS&Kk,zk=en|YNe,$Ne=en|aa|Un,Bk=en|Un|Us,VNe=en|aa|Us,kNe=en|dg|Us|hg,qNe=en|yE|aa|Un|yS|la,XNe=Ri|aa|Un,KNe=zl|en|vs|Zl,jNe=vs|Si,zNe=en|ua|Bs,JNe=ca|wE,Jk=ca|Qi,QNe=ca|wE|en|Qi,Fk=en|Qi|ca|LS,ZNe=bE|Qi,eOe=Qi|Sg,tOe=en|ua|Jk|Bs,rOe=wE|Ri|ua|Bs,nOe=Ql|en|Jl|bE,iOe=ua|Bs|Ri,IS=Symbol.asyncIterator||Symbol("asyncIterator"),NS=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new Hk,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||r2,this.map=i||n,this.afterWrite=aOe.bind(this),this.afterUpdateNextTick=uOe.bind(this)}get ended(){return(this.stream._duplexState&Bs)!==0}push(e){return(this.stream._duplexState&iOe)!==0?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=ca,!0):(this.stream._duplexState|=JNe,!1))}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=GNe),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|ua)&kk}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&Fk)===Jk;)n.push(i._writableState.shift());if((i._duplexState&en)!==0)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=Ql;do{for(;(e._duplexState&Fk)===ca;){let r=this.shift();e._duplexState|=eOe,e._write(r,this.afterWrite)}(e._duplexState&ZNe)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=HNe}updateNonPrimary(){let e=this.stream;if((e._duplexState&tOe)===ua){e._duplexState=e._duplexState|Qi,e._final(oOe.bind(this));return}if((e._duplexState&Ri)===oa){(e._duplexState&bS)===0&&(e._duplexState|=OE,e._destroy(Qk.bind(this)));return}(e._duplexState&zk)===Si&&(e._duplexState=(e._duplexState|OE)&Wk,e._open(Zk.bind(this)))}continueUpdate(){return(this.stream._duplexState&Jl)===0?!1:(this.stream._duplexState&=qk,!0)}updateCallback(){(this.stream._duplexState&nOe)===bE?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&Jl)===0&&(this.stream._duplexState|=Jl,(this.stream._duplexState&Ql)===0&&ig(this.afterUpdateNextTick))}},ag=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new Hk,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=o||s||r2,this.map=i||n,this.pipeTo=null,this.afterRead=lOe.bind(this),this.afterUpdateNextTick=cOe.bind(this)}get ended(){return(this.stream._duplexState&Un)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=fg,this.pipeTo=e,this.pipeline=new cg(this.stream,e,r),r&&this.stream.on("error",Gk),CE(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",Gk),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",sOe.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|aa)&wNe,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=vk,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|Us)&vk,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=PNe),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&Bk)===Us){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=Uk),(e._duplexState&sg)!==0&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=la,this.updateNextTick()),null}drain(){let e=this.stream;for(;(e._duplexState&Bk)===Us&&(e._duplexState&Yk)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=Uk),(e._duplexState&sg)!==0&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=zl;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&qNe)===la;)e._duplexState|=gNe,e._read(this.afterRead),this.drain();(e._duplexState&kNe)===yNe&&(e._duplexState|=hg,e.emit("readable")),(e._duplexState&CNe)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=xNe}updateNonPrimary(){let e=this.stream;if((e._duplexState&VNe)===aa&&(e._duplexState=(e._duplexState|Un)&MNe,e.emit("end"),(e._duplexState&jk)===Rg&&(e._duplexState|=oa),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&Ri)===oa){(e._duplexState&bS)===0&&(e._duplexState|=OE,e._destroy(Qk.bind(this)));return}(e._duplexState&zk)===Si&&(e._duplexState=(e._duplexState|OE)&Wk,e._open(Zk.bind(this)))}continueUpdate(){return(this.stream._duplexState&vs)===0?!1:(this.stream._duplexState&=$k,!0)}updateCallback(){(this.stream._duplexState&KNe)===Zl?this.update():this.updateNextTick()}updateNextTickIfOpen(){(this.stream._duplexState&jNe)===0&&(this.stream._duplexState|=vs,(this.stream._duplexState&zl)===0&&ig(this.afterUpdateNextTick))}updateNextTick(){(this.stream._duplexState&vs)===0&&(this.stream._duplexState|=vs,(this.stream._duplexState&zl)===0&&ig(this.afterUpdateNextTick))}},lg=class{constructor(e){this.data=null,this.afterTransform=fOe.bind(e),this.afterFinal=null}},cg=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&Un)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&Un)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function sOe(){this.stream._duplexState|=fg,this.updateCallback()}function oOe(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&Ri)===0&&(e._duplexState|=Bs,e.emit("finish")),(e._duplexState&jk)===Rg&&(e._duplexState|=oa),e._duplexState&=BNe,(e._duplexState&Ql)===0?this.update():this.updateNextTick()}function Qk(t){let e=this.stream;!t&&this.error!==CS&&(t=this.error),t&&e.emit("error",t),e._duplexState|=NE,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function aOe(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=UNe,this.drains!==null&&EOe(this.drains),(e._duplexState&QNe)===wE&&(e._duplexState&=FNe,(e._duplexState&og)===og&&e.emit("drain")),this.updateCallback()}function lOe(t){t&&this.stream.destroy(t),this.stream._duplexState&=LNe,this.readAhead===!1&&(this.stream._duplexState&LE)===0&&(this.stream._duplexState&=Vk),this.updateCallback()}function cOe(){(this.stream._duplexState&zl)===0&&(this.stream._duplexState&=$k,this.update())}function uOe(){(this.stream._duplexState&Ql)===0&&(this.stream._duplexState&=qk,this.update())}function EOe(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function Zk(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&oa)===0&&((e._duplexState&$Ne)===0&&(e._duplexState|=Zl),(e._duplexState&zNe)===0&&(e._duplexState|=bE),e.emit("open")),e._duplexState&=Kk,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function fOe(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}function dOe(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=sg|Tg,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=dg,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=og,this._writableState.updateNextTick())}var mE=class extends NNe{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",OOe.bind(this))),this.on("newListener",dOe)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&NE)!==0}get destroying(){return(this._duplexState&Ri)!==0}destroy(e){(this._duplexState&Ri)===0&&(e||(e=CS),this._duplexState=(this._duplexState|oa)&WNe,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=Eg,this._predestroy(),this._duplexState&=mNe,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},OS=class t extends mE{constructor(e){super(e),this._duplexState|=Si|Bs|la,this._readableState=new ag(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=Vk),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){let r=new ONe(e),n=this._readableState.map||SOe;return this._readableState.map=i,this;function i(s){let o=r.push(s);return o===""&&(s.byteLength!==0||r.remaining>0)?null:n(o)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=Tg,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?vNe:DNe,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(_Oe(e))return e;if(e[IS])return this._fromAsyncIterator(e[IS](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&XNe)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&LE)===0}[IS](){let e=this,r=null,n=null,i=null;return this.on("error",c=>{r=c}),this.on("readable",s),this.on("close",o),{[IS](){return this},next(){return new Promise(function(c,u){n=c,i=u;let E=e.read();E!==null?a(E):(e._duplexState&NE)!==0&&a(null)})},return(){return l(null)},throw(c){return l(c)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(c){i!==null&&(r?i(r):c===null&&(e._duplexState&Un)===0?i(CS):n({value:c,done:c===null}),i=n=null)}function l(c){return e.destroy(c),new Promise((u,E)=>{if(e._duplexState&NE)return u({value:void 0,done:!0});e.once("close",function(){c?E(c):u({value:void 0,done:!0})})})}}},mS=class extends mE{constructor(e){super(e),this._duplexState|=Si|Un,this._writableState=new NS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=LS}uncork(){this._duplexState&=Xk,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&rOe)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,i=(mOe(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&Sg?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},gE=class extends OS{constructor(e){super(e),this._duplexState=Si|this._duplexState&la,this._writableState=new NS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=LS}uncork(){this._duplexState&=Xk,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},gS=class extends gE{constructor(e){super(e),this._transformState=new lg(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(hOe.bind(this))}},ug=class extends gS{};function hOe(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function TOe(...t){return new Promise((e,r)=>e2(...t,n=>{if(n)return r(n);e()}))}function e2(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let c=1;c<r.length;c++)s=r[c],CE(i)?i.pipe(s,l):(a(i,!0,c>1,l),i.pipe(s)),i=s;if(n){let c=!1,u=CE(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",E=>{o===null&&(o=E)}),s.on("finish",()=>{c=!0,u||n(o)}),u&&s.on("close",()=>n(o||(c?null:ng)))}return s;function a(c,u,E,d){c.on("error",d),c.on("close",f);function f(){if(u&&c._readableState&&!c._readableState.ended||E&&c._writableState&&!c._writableState.ended)return d(ng)}}function l(c){if(!(!c||o)){o=c;for(let u of r)u.destroy(c)}}}function SOe(t){return t}function t2(t){return!!t._readableState||!!t._writableState}function CE(t){return typeof t._duplexState=="number"&&t2(t)}function ROe(t){return!!t._readableState&&t._readableState.ended}function pOe(t){return!!t._writableState&&t._writableState.ended}function AOe(t,e={}){let r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===CS?null:r}function _Oe(t){return CE(t)&&t.readable}function IOe(t){return(t._duplexState&Si)!==Si||(t._duplexState&bS)!==0}function NOe(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function r2(t){return NOe(t)?t.byteLength:1024}function Gk(){}function OOe(){this.destroy(new Error("Stream aborted."))}function mOe(t){return t._writev!==mS.prototype._writev&&t._writev!==gE.prototype._writev}n2.exports={pipeline:e2,pipelinePromise:TOe,isStream:t2,isStreamx:CE,isEnded:ROe,isFinished:pOe,isDisturbed:IOe,getStreamError:AOe,Stream:mE,Writable:mS,Readable:OS,Duplex:gE,Transform:gS,PassThrough:ug}});var Ig=g(tc=>{var Ue=jl(),gOe="0000000000000000000",COe="7777777777777777777",wS=48,i2=Ue.from([117,115,116,97,114,0]),yOe=Ue.from([wS,wS]),LOe=Ue.from([117,115,116,97,114,32]),bOe=Ue.from([32,0]),wOe=4095,DE=257,_g=263;tc.decodeLongPath=function(e,r){return ec(e,0,e.length,r)};tc.encodePax=function(e){let r="";e.name&&(r+=Ag(" path="+e.name+`
`)),e.linkname&&(r+=Ag(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=Ag(" "+i+"="+n[i]+`
`);return Ue.from(r)};tc.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(Ue.toString(e.subarray(0,n)),10);if(!i)return r;let s=Ue.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};tc.encode=function(e){let r=Ue.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),Ue.byteLength(n)!==n.length)return null;for(;Ue.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return Ue.byteLength(n)>100||Ue.byteLength(i)>155||e.linkname&&Ue.byteLength(e.linkname)>100?null:(Ue.write(r,n),Ue.write(r,Gs(e.mode&wOe,6),100),Ue.write(r,Gs(e.uid,6),108),Ue.write(r,Gs(e.gid,6),116),BOe(e.size,r,124),Ue.write(r,Gs(e.mtime.getTime()/1e3|0,11),136),r[156]=wS+vOe(e.type),e.linkname&&Ue.write(r,e.linkname,157),Ue.copy(i2,r,DE),Ue.copy(yOe,r,_g),e.uname&&Ue.write(r,e.uname,265),e.gname&&Ue.write(r,e.gname,297),Ue.write(r,Gs(e.devmajor||0,6),329),Ue.write(r,Gs(e.devminor||0,6),337),i&&Ue.write(r,i,345),Ue.write(r,Gs(o2(r),6),148),r)};tc.decode=function(e,r,n){let i=e[156]===0?0:e[156]-wS,s=ec(e,0,100,r),o=Fs(e,100,8),a=Fs(e,108,8),l=Fs(e,116,8),c=Fs(e,124,12),u=Fs(e,136,12),E=xOe(i),d=e[157]===0?null:ec(e,157,100,r),f=ec(e,265,32),h=ec(e,297,32),T=Fs(e,329,8),S=Fs(e,337,8),R=o2(e);if(R===256)return null;if(R!==Fs(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(DOe(e))e[345]&&(s=ec(e,345,155,r)+"/"+s);else if(!POe(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:l,size:c,mtime:new Date(1e3*u),type:E,linkname:d,uname:f,gname:h,devmajor:T,devminor:S,pax:null}};function DOe(t){return Ue.equals(i2,t.subarray(DE,DE+6))}function POe(t){return Ue.equals(LOe,t.subarray(DE,DE+6))&&Ue.equals(bOe,t.subarray(_g,_g+2))}function MOe(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function xOe(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function vOe(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function s2(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function o2(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function Gs(t,e){return t=t.toString(8),t.length>e?COe.slice(0,e)+" ":gOe.slice(0,e-t.length)+t+" "}function UOe(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function BOe(t,e,r){t.toString(8).length>11?UOe(t,e,r):Ue.write(e,Gs(t,11),r)}function FOe(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function Fs(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return FOe(t);{for(;e<t.length&&t[e]===32;)e++;let n=MOe(s2(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(Ue.toString(t.subarray(e,n)),8)}}function ec(t,e,r,n){return Ue.toString(t.subarray(e,s2(t,0,e,e+r)),n)}function Ag(t){let e=Ue.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var E2=g((Tve,u2)=>{var{Writable:GOe,Readable:HOe,getStreamError:a2}=pg(),WOe=rg(),l2=jl(),rc=Ig(),YOe=l2.alloc(0),Og=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new WOe,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return YOe;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return l2.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},mg=class extends HOe{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(a2(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=c2(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},gg=class extends GOe{constructor(e){super(e),e||(e={}),this._buffer=new Og,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=Ng,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=rc.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=rc.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=rc.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=rc.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?rc.decodePax(e):Object.assign({},this._paxGlobal,rc.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=c2(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new mg(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=Ng,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(a2(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",c),this.on("error",d=>{e=d}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(l)},return(){return E(null)},throw(d){return E(d)}};function a(d){if(!s)return;let f=s;s=null,f(d)}function l(d,f){if(e)return f(e);if(i){d({value:i,done:!1}),i=null;return}r=d,n=f,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function c(d,f,h){s=h,f.on("error",Ng),r?(r({value:f,done:!1}),r=n=null):i=f}function u(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function E(d){return o.destroy(d),a(d),new Promise((f,h)=>{if(o.destroyed)return f({value:void 0,done:!0});o.once("close",function(){d?h(d):f({value:void 0,done:!0})})})}}};u2.exports=function(e){return new gg(e)};function Ng(){}function c2(t){return t&=511,t&&512-t}});var d2=g((Sve,Cg)=>{var f2={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{Cg.exports=require("fs").constants||f2}catch{Cg.exports=f2}});var p2=g((Rve,R2)=>{var{Readable:$Oe,Writable:VOe,getStreamError:h2}=pg(),Ea=jl(),nc=d2(),DS=Ig(),kOe=493,qOe=420,T2=Ea.alloc(1024),Lg=class extends VOe{constructor(e,r,n){super({mapWritable:KOe,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?Ea.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?Ea.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),S2(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return h2(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},bg=class extends $Oe{constructor(e){super(e),this._drain=yg,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=yg),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=XOe(e.mode)),e.mode||(e.mode=e.type==="directory"?kOe:qOe),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=Ea.from(r));let i=new Lg(this,e,n);return Ea.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(T2),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=DS.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=DS.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(DS.encode(n)),this.push(r),S2(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(DS.encode(n))}_doDrain(){let e=this._drain;this._drain=yg,e()}_predestroy(){let e=h2(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};R2.exports=function(e){return new bg(e)};function XOe(t){switch(t&nc.S_IFMT){case nc.S_IFBLK:return"block-device";case nc.S_IFCHR:return"character-device";case nc.S_IFDIR:return"directory";case nc.S_IFIFO:return"fifo";case nc.S_IFLNK:return"symlink"}return"file"}function yg(){}function S2(t,e){e&=511,e&&t.push(T2.subarray(0,512-e))}function KOe(t){return Ea.isBuffer(t)?t:Ea.from(t)}});var A2=g(wg=>{wg.extract=E2();wg.pack=p2()});var N2=g((Ave,I2)=>{var jOe=require("zlib"),zOe=A2(),_2=El(),Zi=function(t){if(!(this instanceof Zi))return new Zi(t);t=this.options=_2.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=zOe.pack(t),this.compressor=!1,t.gzip&&(this.compressor=jOe.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};Zi.prototype._onCompressorError=function(t){this.engine.emit("error",t)};Zi.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(o,a){if(o){r(o);return}n.engine.entry(e,a,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(o){r(o,e)});t.pipe(s)}else e.sourceType==="stream"&&_2.collectStream(t,i)};Zi.prototype.finalize=function(){this.engine.finalize()};Zi.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Zi.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};Zi.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};I2.exports=Zi});var g2=g((_ve,m2)=>{"use strict";function JOe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QOe=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function O2(t){if(Buffer.isBuffer(t))return t;if(typeof t=="number")return Buffer.alloc(t);if(typeof t=="string")return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function ZOe(t){let e=O2(4);return e.writeInt32BE(t,0),e}function Dg(t,e){t=O2(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~~e^-1;for(var n=0;n<t.length;n++)r=QOe[(r^t[n])&255]^r>>>8;return r^-1}function Pg(){return ZOe(Dg.apply(null,arguments))}Pg.signed=function(){return Dg.apply(null,arguments)};Pg.unsigned=function(){return Dg.apply(null,arguments)>>>0};var eme=Pg,tme=JOe(eme);m2.exports=tme});var b2=g((Ive,L2)=>{var rme=require("util").inherits,C2=_N().Transform,nme=g2(),y2=El(),Hs=function(t){if(!(this instanceof Hs))return new Hs(t);t=this.options=y2.defaults(t,{}),C2.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};rme(Hs,C2);Hs.prototype._transform=function(t,e,r){r(null,t)};Hs.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};Hs.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,o){if(s){r(s);return}e.size=o.length||0,e.crc32=nme.unsigned(o),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&y2.collectStream(t,i)};Hs.prototype.finalize=function(){this._writeStringified(),this.end()};L2.exports=Hs});var D2=g((Nve,w2)=>{var ime=fG(),PE={},Ws=function(t,e){return Ws.create(t,e)};Ws.create=function(t,e){if(PE[t]){var r=new ime(t,e);return r.setFormat(t),r.setModule(new PE[t](e)),r}else throw new Error("create("+t+"): format not registered")};Ws.registerFormat=function(t,e){if(PE[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");PE[t]=e};Ws.isRegisteredFormat=function(t){return!!PE[t]};Ws.registerFormat("zip",Ik());Ws.registerFormat("tar",N2());Ws.registerFormat("json",b2());w2.exports=Ws});var M2=g((Ove,P2)=>{"use strict";var{Buffer:ic}=require("buffer"),Mg=class{constructor(e=65536){this.chunkSize=e,this.chunks=[],this.currentBuffer=ic.alloc(e),this.cursor=0}_ensureCapacity(e){this.cursor+e>this.chunkSize&&this._flush()}_flush(){this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=ic.alloc(this.chunkSize),this.cursor=0)}write(e){let r=e.length,n=0;for(;r>0;){let i=this.chunkSize-this.cursor;i===0&&(this._flush(),i=this.chunkSize);let s=Math.min(r,i);e.copy(this.currentBuffer,this.cursor,n,n+s),this.cursor+=s,n+=s,r-=s}}writeByte(e){this._ensureCapacity(1),this.currentBuffer[this.cursor]=e,this.cursor++}writeInt32LE(e){this._ensureCapacity(4),this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeDoubleLE(e){this._ensureCapacity(8),this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeString(e){let r=ic.byteLength(e,"utf8");if(this.cursor+r<=this.chunkSize){this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8");return}this._flush(),r>this.chunkSize?this.chunks.push(ic.from(e,"utf8")):this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8")}writeUtf16LE(e){let r=e.length*2;if(this.cursor+r<=this.chunkSize){for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}return}if(this._flush(),r>this.chunkSize)this.chunks.push(ic.from(e,"utf16le"));else for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}}getChunks(){return this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=ic.alloc(this.chunkSize),this.cursor=0),this.chunks}reset(){this.chunks=[],this.cursor=0}};P2.exports=Mg});var B2=g((mve,U2)=>{"use strict";var sme=require("fs"),ome=D2(),{Readable:x2}=require("stream"),v2=M2(),ame=/[\\\/*?\[\]:]/g,xg=class{constructor(e){this.filePath=e,this.output=sme.createWriteStream(e),this.archive=ome("zip"),this.archive.pipe(this.output),this.sheetCount=0,this.sheetList=[],this.sstDic=new Map,this.sstCntUnique=0,this.sstCntAll=0,this.colWidths=[],this._autofilterIsOn=!1,this._oaEpoch=Date.UTC(1899,11,30),this._sheet1Bytes=Buffer.from([129,1,0,147,1,23,203,4,2,0,64,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,148,1,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,1,0,137,1,30,220,3,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,100,0,0,0,0,0,0,0,0,0,0,0,152,1,36,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,1,0,134,1,0,37,6,1,0,2,14,0,128,149,8,2,5,0,38,0,229,3,12,255,255,255,255,8,0,44,1,0,0,0,0,145,1,0,37,6,1,0,2,14,0,128,128,8,2,5,0,38,0,0,25,0,0,0,0,0,0,0,0,44,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,7,12,0,0,0,0,0,0,0,0,0,0,0,0,146,1,0,151,4,66,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,221,3,2,16,0,220,3,48,102,102,102,102,102,102,230,63,102,102,102,102,102,102,230,63,0,0,0,0,0,0,232,63,0,0,0,0,0,0,232,63,51,51,51,51,51,51,211,63,51,51,51,51,51,51,211,63,37,6,1,0,0,16,0,128,128,24,16,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,38,0,130,1,0]),this._workbookBinStart=Buffer.from([131,1,0,128,1,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,120,0,108,0,1,0,0,0,55,0,1,0,0,0,54,0,5,0,0,0,50,0,52,0,51,0,50,0,54,0,153,1,12,32,0,1,0,0,0,0,0,0,0,0,0,37,6,1,0,3,15,0,128,151,16,52,24,0,0,0,67,0,58,0,92,0,115,0,113,0,108,0,115,0,92,0,84,0,101,0,115,0,116,0,121,0,90,0,97,0,112,0,105,0,115,0,117,0,88,0,108,0,115,0,98,0,92,0,38,0,37,6,1,0,0,16,0,128,129,24,130,1,0,0,0,0,0,0,0,0,47,0,0,0,49,0,51,0,95,0,110,0,99,0,114,0,58,0,49,0,95,0,123,0,49,0,54,0,53,0,48,0,56,0,68,0,54,0,57,0,45,0,67,0,70,0,56,0,55,0,45,0,52,0,55,0,54,0,57,0,45,0,56,0,52,0,53,0,54,0,45,0,68,0,52,0,65,0,52,0,48,0,49,0,49,0,51,0,49,0,53,0,54,0,55,0,125,0,47,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,135,1,0,37,6,1,0,2,16,0,128,128,24,16,0,0,0,0,13,0,0,0,255,255,255,255,0,0,0,0,38,0,158,1,29,0,0,0,0,158,22,0,0,180,105,0,0,232,38,0,0,88,2,0,0,0,0,0,0,0,0,0,0,120,136,1,0,143,1,0]),this._workbookBinMiddle=Buffer.from([144,1,0]),this._workbookBinEnd=Buffer.from([157,1,26,53,234,2,0,1,0,0,0,100,0,0,0,252,169,241,210,77,98,80,63,1,0,0,0,106,0,155,1,1,0,35,4,3,15,0,0,171,16,1,1,36,0,132,1,0]),this._stylesBin=Buffer.from([150,2,0,231,4,4,2,0,0,0,44,44,164,0,19,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,92,0,32,0,104,0,104,0,58,0,109,0,109,0,44,30,166,0,12,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,232,4,0,227,4,4,1,0,0,0,43,39,220,0,0,0,144,1,0,0,0,2,0,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,43,39,220,0,1,0,188,2,0,0,0,2,238,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,37,6,1,0,2,14,0,128,129,8,0,38,0,228,4,0,219,4,4,2,0,0,0,45,68,0,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,68,17,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,4,0,229,4,4,1,0,0,0,46,51,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,230,4,0,242,4,4,1,0,0,0,47,16,255,255,0,0,0,0,0,0,0,0,0,0,16,16,0,0,243,4,0,233,4,4,4,0,0,0,47,16,0,0,0,0,0,0,0,0,0,0,0,0,16,16,0,0,47,16,0,0,164,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,166,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,0,1,1,0,0,0,0,0,0,0,16,16,0,0,234,4,0,235,4,4,1,0,0,0,37,6,1,0,2,17,0,128,128,24,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,48,28,0,0,0,0,1,0,0,0,8,0,0,0,78,0,111,0,114,0,109,0,97,0,108,0,110,0,121,0,236,4,0,249,3,4,0,0,0,0,250,3,0,252,3,80,0,0,0,0,17,0,0,0,84,0,97,0,98,0,108,0,101,0,83,0,116,0,121,0,108,0,101,0,77,0,101,0,100,0,105,0,117,0,109,0,50,0,17,0,0,0,80,0,105,0,118,0,111,0,116,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,54,0,253,3,0,35,4,2,14,0,0,235,8,0,246,8,42,0,0,0,0,17,0,0,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,247,8,0,236,8,0,36,0,35,4,3,15,0,0,176,16,0,178,16,50,0,0,0,0,21,0,0,0,84,0,105,0,109,0,101,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,179,16,0,177,16,0,36,0,151,2,0]),this._binaryIndexBin=Buffer.from([42,24,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,2,0]),this._rRkIntegerLowerLimit=-1<<29,this._rRkIntegerUpperLimit=(1<<29)-1,this._autoFilterStartBytes=Buffer.from([161,1,16]),this._autoFilterEndBytes=Buffer.from([162,1,0]),this._stickHeaderA1bytes=Buffer.from([151,1,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,1,0,0,0,0,0,0,0,2,0,0,0,3]),this._magicFilterExcel2016Fix0=Buffer.from([225,2,0,229,2,0,234,2]),this._magicFilterExcel2016Fix1=Buffer.from([39,70,33,0,0,0,0,255,0,0,0,15,0,0,0,95,0,70,0,105,0,108,0,116,0,101,0,114,0,68,0,97,0,116,0,97,0,98,0,97,0,115,0,101,0,15,0,0,0,59,255,0]),this._magicFilterExcel2016Fix2=Buffer.from([0,0,0,0,255,255,255,255])}_sanitizeSheetName(e){if(!e||typeof e!="string")return`Sheet${this.sheetCount+1}`;let r=e.replace(ame,"_");return r.length>31&&(r=r.substring(0,31)),r.trim().length===0&&(r=`Sheet${this.sheetCount+1}`),r}addSheet(e,r=!1){let n=this._sanitizeSheetName(e);this.sheetCount++,this.sheetList.push({name:n,pathInArchive:`xl/worksheets/sheet${this.sheetCount}.bin`,hidden:r,nameInArchive:`sheet${this.sheetCount}.bin`,sheetId:this.sheetCount,filterHeaderRange:null})}writeSheet(e,r=null,n=!0){let i=new v2,s=0;if(e.length>0?s=e[0].length:r&&(s=r.length),this.colWidths=new Array(s).fill(-1),r)for(let u=0;u<s;u++){let d=1.25*(r[u]?r[u].length:0)+2;d>80&&(d=80),this.colWidths[u]<d&&(this.colWidths[u]=d)}for(let u=0;u<Math.min(e.length,100);u++){let E=e[u];for(let d=0;d<E.length;d++){let f=E[d],T=1.25*(f?f.toString().length:0)+2;T>80&&(T=80),this.colWidths[d]<T&&(this.colWidths[d]=T)}}let o=Buffer.from(this._sheet1Bytes),a=0,l=s;o.writeInt32LE(a,40),o.writeInt32LE(l,44),this.sheetCount!==1&&(o[54]=156),i.write(o.subarray(0,84)),n&&r&&i.write(this._stickHeaderA1bytes),i.write(o.subarray(84,159)),i.writeByte(134),i.writeByte(3);for(let u=a;u<l;u++){i.writeByte(0),i.writeByte(60),i.writeByte(18),i.writeInt32LE(u),i.writeInt32LE(u);let E=this.colWidths[u]>0?Math.floor(this.colWidths[u]):10;i.writeByte(0),i.writeByte(Math.max(0,Math.min(255,E))),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(2)}i.writeByte(0),i.writeByte(135),i.writeByte(3),i.writeByte(0),i.write(o.subarray(159,175)),i.write(Buffer.from([38,0]));let c=0;if(r){this.createRowHeader(i,c,a,l);for(let u=0;u<r.length;u++)this.writeString(i,r[u],u,!0);c++}for(let u=0;u<e.length;u++){this.createRowHeader(i,c,a,l);let E=e[u];for(let d=0;d<E.length;d++){let f=E[d];f!=null&&(typeof f=="number"?Number.isInteger(f)?f>=this._rRkIntegerLowerLimit&&f<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(i,f,d):this.writeDouble(i,f,d):this.writeDouble(i,f,d):typeof f=="bigint"?this.writeString(i,f.toString(),d):typeof f=="boolean"?this.writeBool(i,f,d):f instanceof Date?this.writeDateTime(i,f,d):this.writeString(i,f.toString(),d))}c++}if(i.write(o.subarray(218,290)),n&&r){this._autofilterIsOn=!0;let u=0,E=e.length+1;i.write(this._autoFilterStartBytes);let d=Buffer.alloc(8);d.writeInt32LE(0,0),d.writeInt32LE(E-1,4),i.write(d);let f=Buffer.alloc(8);f.writeInt32LE(a,0),f.writeInt32LE(l-1,4),i.write(f),i.write(this._autoFilterEndBytes);let h=this.sheetList[this.sheetCount-1];h.filterData={startRow:0,endRow:e.length,startColumn:a,endColumn:l-1}}i.write(o.subarray(290)),this.archive.append(x2.from(i.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive})}_getColumnLetter(e){if(e<26)return String.fromCharCode(65+e);if(e<702){let r=Math.floor(e/26)-1,n=e%26;return String.fromCharCode(65+r)+String.fromCharCode(65+n)}return"A"}createRowHeader(e,r,n,i){e.writeByte(0),e.writeByte(25),e.writeInt32LE(r),e.writeInt32LE(0),e.writeByte(44),e.writeByte(1),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(1),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeInt32LE(n),e.writeInt32LE(i)}writeRkNumberInteger(e,r,n,i=0){e.writeByte(2),e.writeByte(12),e.writeInt32LE(n),e.writeByte(i),e.writeByte(0),e.writeByte(0),e.writeByte(0);let s=r<<2|2;e.writeInt32LE(s)}writeDouble(e,r,n,i=0){e.writeByte(5),e.writeByte(16),e.writeInt32LE(n),e.writeByte(i),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeDoubleLE(r)}writeBool(e,r,n){e.writeByte(4),e.writeByte(9),e.writeInt32LE(n),e.writeInt32LE(0),e.writeByte(r?1:0)}writeDateTime(e,r,n){let i=r.getTimezoneOffset()*6e4,s=(r.getTime()-i-this._oaEpoch)/864e5;this.writeDouble(e,s,n,1)}writeString(e,r,n,i=!1){let s;this.sstDic.has(r)?s=this.sstDic.get(r):(s=this.sstCntUnique,this.sstDic.set(r,s),this.sstCntUnique++),this.sstCntAll++,e.writeByte(7),e.writeByte(12),e.writeInt32LE(n),e.writeByte(i?3:0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeInt32LE(s)}saveSst(){let e=new v2;e.writeByte(159),e.writeByte(1),e.writeByte(8),e.writeInt32LE(this.sstCntUnique),e.writeInt32LE(this.sstCntAll);for(let[r,n]of this.sstDic){let i=r.length;e.writeByte(19);let s=5+2*i;if(s>=128){e.writeByte(128+s%128);let o=s>>7;o>=256?e.writeByte(128+o%128):e.writeByte(o),e.writeByte(s>>14),s>>14>0&&e.writeByte(0)}else e.writeByte(s&255),e.writeByte(s>>8&255);e.writeInt32LE(i),e.writeUtf16LE(r)}e.writeByte(160),e.writeByte(1),e.writeByte(0),this.archive.append(x2.from(e.getChunks()),{name:"xl/sharedStrings.bin"})}_writeFilterDefinedName(e,r,n){let i=r.filterData,s=r.sheetId-1,o=Buffer.alloc(this._magicFilterExcel2016Fix1.length);this._magicFilterExcel2016Fix1.copy(o);let a=this._magicFilterExcel2016Fix1.length-2;o[7]=s,o[a]=n,e.push(o);let l=Buffer.alloc(8);l.writeInt32LE(i.startRow,0),l.writeInt32LE(i.endRow,4),e.push(l);let c=Buffer.alloc(4);c.writeInt16LE(i.startColumn,0),c.writeInt16LE(i.endColumn,2),e.push(c),e.push(this._magicFilterExcel2016Fix2)}finalize(){return new Promise((e,r)=>{try{this.saveSst(),this.archive.append(this._stylesBin,{name:"xl/styles.bin"});let n=[];n.push(this._workbookBinStart);for(let a of this.sheetList){let l=`rId${a.sheetId}`,c=16+a.name.length*2+l.length*2,u=Buffer.alloc(3+c);u[0]=156,u[1]=1,u[2]=c;let E=3;u.writeInt32LE(a.hidden?1:0,E),E+=4,u.writeInt32LE(a.sheetId,E),E+=4,u.writeInt32LE(l.length,E),E+=4;for(let d=0;d<l.length;d++){let f=l.charCodeAt(d);u[E++]=f&255,u[E++]=f>>8&255}u.writeInt32LE(a.name.length,E),E+=4;for(let d=0;d<a.name.length;d++){let f=a.name.charCodeAt(d);u[E++]=f&255,u[E++]=f>>8&255}n.push(u)}if(n.push(this._workbookBinMiddle),this._autofilterIsOn){let a=this.sheetList.filter(c=>c.filterData),l=a.length;if(l>0){n.push(this._magicFilterExcel2016Fix0);let c=16+(l-1)*12,u=Buffer.from([c,l,0,0,0]);n.push(u);for(let E=0;E<l;E++){let d=a[E].sheetId-1,f=Buffer.alloc(12);f.writeInt32LE(0,0),f[4]=d,f[8]=d,n.push(f)}n.push(Buffer.from([226,2,0]));for(let E=0;E<l;E++){let d=a[E];this._writeFilterDefinedName(n,d,E)}}}n.push(this._workbookBinEnd),this.archive.append(Buffer.concat(n),{name:"xl/workbook.bin"});for(let a of this.sheetList)this.archive.append(this._binaryIndexBin,{name:`xl/worksheets/binaryIndex${a.sheetId}.bin`});let i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default Extension="bin" ContentType="application/vnd.ms-excel.sheet.binary.macroEnabled.main"/>
<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>
<Default Extension="xml" ContentType="application/xml"/>`;for(let a of this.sheetList)i+=`<Override PartName="/${a.pathInArchive}" ContentType="application/vnd.ms-excel.worksheet"/>`,i+=`<Override PartName="/xl/worksheets/binaryIndex${a.sheetId}.bin" ContentType="application/vnd.ms-excel.binIndexWs"/>`;i+=`<Override PartName="/xl/styles.bin" ContentType="application/vnd.ms-excel.styles"/>
<Override PartName="/xl/sharedStrings.bin" ContentType="application/vnd.ms-excel.sharedStrings"/>
</Types>`,this.archive.append(i,{name:"[Content_Types].xml"});let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`;for(let a of this.sheetList){let l=`rId${a.sheetId}`;s+=`<Relationship Id="${l}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/${a.nameInArchive}"/>`}s+=`<Relationship Id="rId${this.sheetList.length+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.bin"/>
<Relationship Id="rId${this.sheetList.length+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.bin"/>
</Relationships>`,this.archive.append(s,{name:"xl/_rels/workbook.bin.rels"}),this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.bin"/>
</Relationships>`,{name:"_rels/.rels"});for(let a of this.sheetList){let l=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.microsoft.com/office/2006/relationships/xlBinaryIndex" Target="binaryIndex${a.sheetId}.bin"/>
</Relationships>`;this.archive.append(l,{name:`xl/worksheets/_rels/${a.nameInArchive}.rels`})}this.output.on("close",()=>e()),this.archive.on("error",a=>r(a)),this.archive.finalize()}catch(n){r(n)}})}};U2.exports=xg});var fa={};Sr(fa,{copyFileToClipboard:()=>Ug,exportCsvToXlsb:()=>Eme,exportQueryToXlsb:()=>ume,getTempFilePath:()=>fme});function lme(t){if(typeof t=="string"&&t.length>0&&/^-?\d+(\.\d+)?$/.test(t)){let e=parseFloat(t);if(Number.isFinite(e))return e}return t}function H2(t){return t.map(lme)}function cme(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function ume(t,e,r,n=!1,i){let s=null;try{i&&i("Connecting to database...");let o=cme(t);o.port||(o.port=5480);let a=Hr();s=new a(o),await s.connect();let l=new G2(r),{SqlParser:c}=await Promise.resolve().then(()=>(ro(),ly)),u=c.splitStatements(e),E=0,d=0;for(let R=0;R<u.length;R++){let N=u[R];if(!N.trim())continue;let p=u.length>1?`Result ${R+1}`:"Query Results";i&&i(`Executing query ${R+1}/${u.length}...`);try{let O=await s.createCommand(N).executeReader(),b=[];for(let P=0;P<O.fieldCount;P++)b.push(O.getName(P));let I=b.length;d=Math.max(d,I);let D=[],L=0;for(;await O.read();){let P=[];for(let x=0;x<O.fieldCount;x++)P.push(O.getValue(x));D.push(H2(P)),L++}E+=L,i&&i(`Writing ${L.toLocaleString()} rows to sheet "${p}"`),l.addSheet(p),l.writeSheet(D,b)}catch(A){l.addSheet(`Error ${R+1}`),l.writeSheet([[`Error executing query: ${A.message}`]],["Error"],!1)}}l.addSheet("SQL Code");let f=[["SQL Query:"],...e.split(`
`).map(R=>[R])];l.writeSheet(f,null,!1),i&&i("Finalizing file..."),await l.finalize();let T=vg.statSync(r).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Total Rows: ${E.toLocaleString()}`),i(`  - File size: ${T.toFixed(1)} MB`),i(`  - Location: ${r}`));let S={success:!0,message:`Successfully exported ${E} rows to ${r}`,details:{rows_exported:E,columns:d,file_size_mb:parseFloat(T.toFixed(1)),file_path:r}};if(n){i&&i("Copying to clipboard...");let R=await Ug(r);S.details&&(S.details.clipboard_success=R)}return S}catch(o){return{success:!1,message:`Export error: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}async function Eme(t,e,r=!1,n={source:"Unknown"},i){try{i&&i("Initializing XLSB writer...");let s=new G2(e),o=0,a=0,l=[],c=(f,h)=>{let T=[],S=f.split(/\r?\n/),R=A=>{let O=[],b=0,I=!1;for(let L=0;L<A.length;L++)if(A[L]==='"')I=!I;else if(A[L]===","&&!I){let P=A.substring(b,L);P.startsWith('"')&&P.endsWith('"')&&(P=P.substring(1,P.length-1).replace(/""/g,'"')),O.push(P),b=L+1}let D=A.substring(b);return D.startsWith('"')&&D.endsWith('"')&&(D=D.substring(1,D.length-1).replace(/""/g,'"')),O.push(D),O},N=[],p=0;S.forEach((A,O)=>{if(!A.trim())return;let b=R(A);O===0?N=b:(T.push(H2(b)),p++)}),N.length>0&&(a=Math.max(a,N.length),s.addSheet(h),s.writeSheet(T,N),o+=p)};if(Array.isArray(t))i&&i(`Processing ${t.length} result sets...`),t.forEach((f,h)=>{let T=f.name||`Result ${h+1}`;i&&i(`Processing sheet "${T}"...`),c(f.csv,T),f.sql&&l.push({name:T,sql:f.sql})});else if(i&&i("Reading CSV content..."),c(t,"Query Results"),n.sql)l.push({name:"Query Results",sql:n.sql});else if(n.source){s.addSheet("CSV Source");let f=[["CSV Source:"],[n.source]];s.writeSheet(f,null,!1)}if(l.length>0){s.addSheet("SQL Code");let f=[];l.forEach(h=>{f.push([`--- SQL for ${h.name} ---`]),h.sql.split(`
`).forEach(T=>{f.push([T])}),f.push([""])}),s.writeSheet(f,null,!1)}i&&i("Finalizing XLSB file..."),await s.finalize();let E=vg.statSync(e).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Rows: ${o.toLocaleString()}`),i(`  - File size: ${E.toFixed(1)} MB`));let d={success:!0,message:`Successfully exported ${o} rows to ${e}`,details:{rows_exported:o,columns:a,file_size_mb:parseFloat(E.toFixed(1)),file_path:e}};if(r){i&&i("Copying file to clipboard...");let f=await Ug(e);d.details&&(d.details.clipboard_success=f)}return d}catch(s){return{success:!1,message:`Export failed: ${s.message}`}}}async function Ug(t){return PS.platform()!=="win32"?(console.error("Clipboard file copy is only supported on Windows"),!1):new Promise(e=>{try{let r=sc.normalize(sc.resolve(t)),n=`Set-Clipboard -Path "${r.replace(/"/g,'`"')}"`,i=(0,F2.spawn)("powershell.exe",["-NoProfile","-NonInteractive","-Command",n]),s="";i.stderr.on("data",o=>{s+=o.toString()}),i.on("close",o=>{o!==0?(console.error(`PowerShell clipboard copy failed: ${s}`),e(!1)):(console.log(`File copied to clipboard: ${r}`),e(!0))}),i.on("error",o=>{console.error(`Error spawning PowerShell: ${o.message}`),e(!1)})}catch(r){console.error(`Error copying file to clipboard: ${r.message}`),e(!1)}})}function fme(){let t=PS.tmpdir(),r=`netezza_export_${Date.now()}.xlsb`;return sc.join(t,r)}var vg,sc,PS,F2,G2,da=Ke(()=>{"use strict";vg=oe(require("fs")),sc=oe(require("path")),PS=oe(require("os")),F2=require("child_process"),G2=B2()});var $2={};Sr($2,{exportToCsv:()=>hme});function dme(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function hme(t,e,r,n,i){let s=null;try{i&&i.report({message:"Connecting to database..."});let o=dme(e);o.port||(o.port=5480);let a=Hr();s=new a(o),await s.connect(),i&&i.report({message:"Executing query..."});let c=await s.createCommand(r).executeReader();i&&i.report({message:"Writing to CSV..."});let u=Y2.createWriteStream(n,{encoding:"utf8",highWaterMark:64*1024}),E=[];for(let T=0;T<c.fieldCount;T++)E.push(c.getName(T));E.length>0&&u.write(E.map(W2).join(",")+`
`);let d=0,f=[],h=500;for(;await c.read();){d++;let T=[];for(let S=0;S<c.fieldCount;S++)T.push(W2(c.getValue(S)));if(f.push(T.join(",")),f.length>=h){let S=u.write(f.join(`
`)+`
`);f=[],S||await new Promise(R=>u.once("drain",R)),i&&d%1e3===0&&i.report({message:`Processed ${d} rows...`})}}f.length>0&&u.write(f.join(`
`)+`
`),u.end(),await new Promise((T,S)=>{u.on("finish",T),u.on("error",S)}),i&&i.report({message:`Completed: ${d} rows exported`})}finally{if(s)try{await s.close()}catch(o){console.error("Error closing connection:",o)}}}function W2(t){if(t==null)return"";let e="";return typeof t=="bigint"?t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?e=Number(t).toString():e=t.toString():t instanceof Date?e=t.toISOString():typeof t=="object"&&Buffer.isBuffer(t)?e=t.toString("hex"):typeof t=="object"?e=JSON.stringify(t):e=String(t),e.includes('"')||e.includes(",")||e.includes(`
`)||e.includes("\r")?`"${e.replace(/"/g,'""')}"`:e}var Y2,V2=Ke(()=>{"use strict";Y2=oe(require("fs"))});var z2=g((Cve,j2)=>{j2.exports=xS;function xS(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}xS.prototype.go=function(t){this.pending<this.max?K2(this,t):this.waiting.push(t)};xS.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};xS.prototype.hold=function(){return X2(this)};function X2(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)K2(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function K2(t,e){e(X2(t))}});var Q2=g(vE=>{var xE=require("fs"),vS=require("util"),Bg=require("stream"),J2=Bg.Readable,Fg=Bg.Writable,Tme=Bg.PassThrough,Sme=z2(),US=require("events").EventEmitter;vE.createFromBuffer=Rme;vE.createFromFd=pme;vE.BufferSlicer=ts;vE.FdSlicer=es;vS.inherits(es,US);function es(t,e){e=e||{},US.call(this),this.fd=t,this.pend=new Sme,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}es.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(o){xE.read(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};es.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(o){xE.write(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};es.prototype.createReadStream=function(t){return new BS(this,t)};es.prototype.createWriteStream=function(t){return new FS(this,t)};es.prototype.ref=function(){this.refCount+=1};es.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&xE.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};vS.inherits(BS,J2);function BS(t,e){e=e||{},J2.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}BS.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=Buffer.allocUnsafe(r);xE.read(e.context.fd,i,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(i.slice(0,o))),n()})})}};BS.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};vS.inherits(FS,Fg);function FS(t,e){e=e||{},Fg.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}FS.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();xE.write(n.context.fd,t,0,t.length,n.pos,function(o,a){o?(n.destroy(),s(),r(o)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),s(),r())})})}};FS.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};vS.inherits(ts,US);function ts(t,e){US.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}ts.prototype.read=function(t,e,r,n,i){if(!(0<=e&&e<=t.length))throw new RangeError("offset outside buffer: 0 <= "+e+" <= "+t.length);if(n<0)throw new RangeError("position is negative: "+n);if(e+r>t.length&&(r=t.length-e),n+r>this.buffer.length&&(r=this.buffer.length-n),r<=0){setImmediate(function(){i(null,0)});return}this.buffer.copy(t,e,n,n+r),setImmediate(function(){i(null,r)})};ts.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};ts.prototype.createReadStream=function(t){t=t||{};var e=new Tme(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};ts.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new Fg(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var o=r.pos+n.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};ts.prototype.ref=function(){this.refCount+=1};ts.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Rme(t,e){return new ts(t,e)}function pme(t,e){return new es(t,e)}});var tq=g((Lve,eq)=>{var Ys=require("buffer").Buffer,Gg=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Gg=new Int32Array(Gg));function Z2(t){if(Ys.isBuffer(t))return t;var e=typeof Ys.alloc=="function"&&typeof Ys.from=="function";if(typeof t=="number")return e?Ys.alloc(t):new Ys(t);if(typeof t=="string")return e?Ys.from(t):new Ys(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Ame(t){var e=Z2(4);return e.writeInt32BE(t,0),e}function Hg(t,e){t=Z2(t),Ys.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=Gg[(r^t[n])&255]^r>>>8;return r^-1}function Wg(){return Ame(Hg.apply(null,arguments))}Wg.signed=function(){return Hg.apply(null,arguments)};Wg.unsigned=function(){return Hg.apply(null,arguments)>>>0};eq.exports=Wg});var Eq=g(tn=>{var Yg=require("fs"),_me=require("zlib"),rq=Q2(),Ime=tq(),WS=require("util"),YS=require("events").EventEmitter,nq=require("stream").Transform,Vg=require("stream").PassThrough,Nme=require("stream").Writable;tn.open=Ome;tn.fromFd=iq;tn.fromBuffer=mme;tn.fromRandomAccessReader=kg;tn.dosDateTimeToDate=aq;tn.getFileNameLowLevel=lq;tn.validateFileName=cq;tn.parseExtraFields=uq;tn.ZipFile=Ai;tn.Entry=UE;tn.LocalFileHeader=oq;tn.RandomAccessReader=$s;function Ome(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=HS),Yg.open(t,"r",function(n,i){if(n)return r(n);iq(i,e,function(s,o){s&&Yg.close(i,HS),r(s,o)})})}function iq(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=HS),Yg.fstat(t,function(n,i){if(n)return r(n);var s=rq.createFromFd(t,{autoClose:!0});kg(s,i.size,e,r)})}function mme(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=rq.createFromBuffer(t,{maxChunkSize:65536});kg(n,t.length,e,r)}function kg(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=HS),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=20,a=65535,l=Math.min(o+s+a,e),c=rs(l),u=e-c.length;ac(t,c,0,l,u,function(E){if(E)return n(E);for(var d=l-s;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.subarray(d),h=f.readUInt16LE(4),T=f.readUInt16LE(10),S=f.readUInt32LE(16),R=f.readUInt16LE(20),N=f.length-s;if(R!==N)return n(new Error("Invalid comment length. Expected: "+N+". Found: "+R+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK\u263A\u263B` in the comment?"));var p=i?GS(f.subarray(22),!1):f.subarray(22);if(d-o>=0&&c.readUInt32LE(d-o)===117853008){var A=c.subarray(d-o,d-o+o),O=oc(A,8),b=rs(56);return ac(t,b,0,b.length,O,function(I){return I?n(I):b.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(h=b.readUInt32LE(16),h!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+h)):(T=oc(b,32),S=oc(b,48),n(null,new Ai(t,S,e,T,p,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))))})}return h!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+h)):n(null,new Ai(t,S,e,T,p,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))}n(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}WS.inherits(Ai,YS);function Ai(t,e,r,n,i,s,o,a,l,c){var u=this;YS.call(u),u.reader=t,u.reader.on("error",function(E){sq(u,E)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=n,u.comment=i,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!o,u.decodeStrings=!!a,u.validateEntrySizes=!!l,u.strictFileNames=!!c,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Ai.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function pi(t,e){t.autoClose&&t.close(),sq(t,e)}function sq(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Ai.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Ai.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=rs(46);ac(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return pi(t,r);if(!t.emittedError){var n=new UE,i=e.readUInt32LE(0);if(i!==33639248)return pi(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return pi(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=rs(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),ac(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return pi(t,s);if(!t.emittedError){n.fileNameRaw=e.subarray(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength;n.extraFieldRaw=e.subarray(n.fileNameLength,o),n.fileCommentRaw=e.subarray(o,o+n.fileCommentLength);try{n.extraFields=uq(n.extraFieldRaw)}catch(T){return pi(t,T)}if(t.decodeStrings){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileComment=GS(n.fileCommentRaw,a),n.fileName=lq(n.generalPurposeBitFlag,n.fileNameRaw,n.extraFields,t.strictFileNames);var l=cq(n.fileName);if(l!=null)return pi(t,new Error(l))}else n.fileComment=n.fileCommentRaw,n.fileName=n.fileNameRaw;n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1;for(var c=0;c<n.extraFields.length;c++){var u=n.extraFields[c];if(u.id===1){var E=u.data,d=0;if(n.uncompressedSize===4294967295){if(d+8>E.length)return pi(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=oc(E,d),d+=8}if(n.compressedSize===4294967295){if(d+8>E.length)return pi(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=oc(E,d),d+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(d+8>E.length)return pi(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=oc(E,d),d+=8}break}}if(t.validateEntrySizes&&n.compressionMethod===0){var f=n.uncompressedSize;if(n.isEncrypted()&&(f+=12),n.compressedSize!==f){var h="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return pi(t,new Error(h))}}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};Ai.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null&&(r=e,e=null),e==null)e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));var o;if(t.compressionMethod===0)o=!1;else if(t.compressionMethod===8)o=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));n.readLocalFileHeader(t,{minimal:!0},function(a,l){if(a)return r(a);n.openReadStreamLowLevel(l.fileDataStart,t.compressedSize,i,s,o,t.uncompressedSize,r)})};Ai.prototype.openReadStreamLowLevel=function(t,e,r,n,i,s,o){var a=this,l=t+e,c=a.reader.createReadStream({start:t+r,end:t+n}),u=c;if(i){var E=!1,d=_me.createInflateRaw();c.on("error",function(f){setImmediate(function(){E||d.emit("error",f)})}),c.pipe(d),a.validateEntrySizes?(u=new BE(s),d.on("error",function(f){setImmediate(function(){E||u.emit("error",f)})}),d.pipe(u)):u=d,$g(u,function(){E=!0,d!==u&&d.unpipe(u),c.unpipe(d),c.destroy()})}o(null,u)};Ai.prototype.readLocalFileHeader=function(t,e,r){var n=this;r==null&&(r=e,e=null),e==null&&(e={}),n.reader.ref();var i=rs(30);ac(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader,function(s){try{if(s)return r(s);var o=i.readUInt32LE(0);if(o!==67324752)return r(new Error("invalid local file header signature: 0x"+o.toString(16)));var a=i.readUInt16LE(26),l=i.readUInt16LE(28),c=t.relativeOffsetOfLocalHeader+30+a+l;if(c+t.compressedSize>n.fileSize)return r(new Error("file data overflows file bounds: "+c+" + "+t.compressedSize+" > "+n.fileSize));if(e.minimal)return r(null,{fileDataStart:c});var u=new oq;u.fileDataStart=c,u.versionNeededToExtract=i.readUInt16LE(4),u.generalPurposeBitFlag=i.readUInt16LE(6),u.compressionMethod=i.readUInt16LE(8),u.lastModFileTime=i.readUInt16LE(10),u.lastModFileDate=i.readUInt16LE(12),u.crc32=i.readUInt32LE(14),u.compressedSize=i.readUInt32LE(18),u.uncompressedSize=i.readUInt32LE(22),u.fileNameLength=a,u.extraFieldLength=l,i=rs(a+l),n.reader.ref(),ac(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader+30,function(E){try{return E?r(E):(u.fileName=i.subarray(0,a),u.extraField=i.subarray(a),r(null,u))}finally{n.reader.unref()}})}finally{n.reader.unref()}})};function UE(){}UE.prototype.getLastModDate=function(t){if(t==null&&(t={}),!t.forceDosFormat)for(var e=0;e<this.extraFields.length;e++){var r=this.extraFields[e];if(r.id===21589){var n=r.data;if(n.length<5)continue;var i=n[0],s=1;if(!(i&s))continue;var o=n.readInt32LE(1);return new Date(o*1e3)}else if(r.id===10)for(var n=r.data,a=4;a<n.length+4;){var l=n.readUInt16LE(a);a+=2;var c=n.readUInt16LE(a);if(a+=2,l!==1){a+=c;continue}if(c<8||a+c>n.length)break;var u=4294967296*n.readInt32LE(a+4)+n.readUInt32LE(a),E=u/1e4-116444736e5;return new Date(E)}}return aq(this.lastModFileDate,this.lastModFileTime,t.timezone)};UE.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};UE.prototype.isCompressed=function(){return this.compressionMethod===8};function oq(){}function aq(t,e,r){var n=t&31,i=(t>>5&15)-1,s=(t>>9&127)+1980,o=0,a=(e&31)*2,l=e>>5&63,c=e>>11&31;if(r==null||r==="local")return new Date(s,i,n,c,l,a,o);if(r==="UTC")return new Date(Date.UTC(s,i,n,c,l,a,o));throw new Error("unrecognized options.timezone: "+options.timezone)}function lq(t,e,r,n){for(var i=null,s=0;s<r.length;s++){var o=r[s];if(o.id===28789){if(o.data.length<6||o.data.readUInt8(0)!==1)continue;var a=o.data.readUInt32LE(1);if(Ime.unsigned(e)!==a)continue;i=GS(o.data.subarray(5),!0);break}}if(i==null){var l=(t&2048)!==0;i=GS(e,l)}return n||(i=i.replace(/\\/g,"/")),i}function cq(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function uq(t){for(var e=[],r=0;r<t.length-3;){var n=t.readUInt16LE(r+0),i=t.readUInt16LE(r+2),s=r+4,o=s+i;if(o>t.length)throw new Error("extra field length exceeds extra field buffer size");var a=t.subarray(s,o);e.push({id:n,data:a}),r=o}return e}function ac(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,rs(0))});t.read(e,r,n,i,function(o,a){if(o)return s(o);if(a<n)return s(new Error("unexpected EOF"));s()})}WS.inherits(BE,nq);function BE(t){nq.call(this),this.actualByteCount=0,this.expectedByteCount=t}BE.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};BE.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};WS.inherits($s,YS);function $s(){YS.call(this),this.refCount=0}$s.prototype.ref=function(){this.refCount+=1};$s.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};$s.prototype.createReadStream=function(t){t==null&&(t={});var e=t.start,r=t.end;if(e===r){var n=new Vg;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,o=new $S(this);i.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),$g(o,function(){i.unpipe(o),o.unref(),i.destroy()});var a=new BE(r-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),$g(a,function(){s=!0,o.unpipe(a),o.destroy()}),i.pipe(o).pipe(a)};$s.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};$s.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),o=new Nme,a=0;o._write=function(l,c,u){l.copy(t,e+a,0,l.length),a+=l.length,u()},o.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(o)};$s.prototype.close=function(t){setImmediate(t)};WS.inherits($S,Vg);function $S(t){Vg.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}$S.prototype._flush=function(t){this.unref(),t()};$S.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var gme="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function GS(t,e){if(e)return t.toString("utf8");for(var r="",n=0;n<t.length;n++)r+=gme[t[n]];return r}function oc(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var rs;typeof Buffer.allocUnsafe=="function"?rs=function(t){return Buffer.allocUnsafe(t)}:rs=function(t){return new Buffer(t)};function $g(t,e){typeof t.destroy=="function"?t._destroy=function(r,n){e(),n?.(r)}:t.destroy=e}function HS(t){if(t)throw t}});var Xg=g((wve,fq)=>{"use strict";var qg=class{constructor(){this.fieldCount=0,this.rowCount=0,this.actualSheetName="",this.resultsCount=0,this._oaEpoch=Date.UTC(1899,11,30)}async open(e,r=!0,n=!1){throw new Error("Method 'open' must be implemented.")}async close(){}read(){throw new Error("Method 'read' must be implemented.")}getSheetNames(){throw new Error("Method 'getSheetNames' must be implemented.")}getValue(e){throw new Error("Method 'getValue' must be implemented.")}dispose(){}getDateTimeFromOaDate(e){let r=e*864e5+this._oaEpoch;return new Date(r)}};fq.exports=qg});var hq=g((Dve,dq)=>{"use strict";var Cme=Eq(),yme=Xg(),Kg=class extends yme{constructor(){super(),this.zipfile=null,this.sharedStrings=[],this.styles=[],this.sheetNames=[],this.sheets=[],this._currentSheetIndex=-1,this._sheetXml=null,this._xmlPos=0,this._currentRow=[],this.fieldCount=0}async open(e,r=!0){return new Promise((n,i)=>{Cme.open(e,{lazyEntries:!0,autoClose:!1},async(s,o)=>{if(s)return i(s);this.zipfile=o,this.entries=new Map,o.on("entry",a=>{this.entries.set(a.fileName,a),o.readEntry()}),o.on("end",async()=>{try{let a=await this._readZipEntryContent("xl/_rels/workbook.xml.rels"),l={};if(a){let E=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,d;for(;(d=E.exec(a))!==null;)l[d[1]]=d[2];for(let f in l){let h=l[f];h.startsWith("/")&&(h=h.substring(1)),!h.startsWith("xl/")&&!h.startsWith("worksheets/")&&!h.startsWith("theme/")&&!h.startsWith("styles")&&h.startsWith("sharedStrings")}}let c=await this._readZipEntryContent("xl/workbook.xml");if(c){let E=/<sheet[^>]*name="([^"]*)"[^>]*sheetId="([^"]*)"[^>]*r:id="([^"]*)"/g,d;for(;(d=E.exec(c))!==null;){let f=this._unescapeXml(d[1]),h=d[2],T=d[3],R=l[T];R.startsWith("xl/")||(R="xl/"+R),this.sheetNames.push(f),this.sheets.push({name:f,sheetId:h,rId:T,path:R})}}if(r){let E=await this._readZipEntryContent("xl/sharedStrings.xml");E&&this._parseSharedStrings(E)}let u=await this._readZipEntryContent("xl/styles.xml");u&&this._parseStyles(u),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1,n()}catch(a){i(a)}}),o.readEntry()})})}async close(){this.zipfile&&this.zipfile.close()}async _readZipEntryContent(e){let r=this.entries.get(e);return r?new Promise((n,i)=>{this.zipfile.openReadStream(r,(s,o)=>{if(s)return i(s);let a=[];o.on("data",l=>a.push(l)),o.on("end",()=>{n(Buffer.concat(a).toString("utf8"))}),o.on("error",i)})}):null}_unescapeXml(e){return e?e.indexOf("&")===-1?e:e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):""}_parseSharedStrings(e){let r=0;for(;;){let n=e.indexOf("<si>",r);if(n===-1)break;let i=e.indexOf("</si>",n);if(i===-1)break;let s=e.substring(n,i),o="",a=0;for(;;){let l=s.indexOf("<t",a);if(l===-1)break;let c=s.indexOf(">",l),u=s.indexOf("</t>",c);if(u===-1)break;o+=s.substring(c+1,u),a=u+4}this.sharedStrings.push(this._unescapeXml(o)),r=i+5}}_parseStyles(e){let r=/<numFmt\s+[^>]*numFmtId="(\d+)"[^>]*formatCode="([^"]*)"/g,n;for(this.customDateFormats=new Set;(n=r.exec(e))!==null;){let s=parseInt(n[1]),o=n[2];(o.toLowerCase().includes("yy")||o.toLowerCase().includes("mm")||o.toLowerCase().includes("dd")||o.toLowerCase().includes("h:mm"))&&this.customDateFormats.add(s)}this.xfIdToNumFmtId=[];let i=e.indexOf("<cellXfs");if(i!==-1){let s=e.indexOf("</cellXfs>",i);if(s!==-1){let o=e.substring(i,s),a=/<xf\s+[^>]*numFmtId="(\d+)"/g;for(;(n=a.exec(o))!==null;){let l=parseInt(n[1]);this.xfIdToNumFmtId.push(l)}}}}getSheetNames(){return this.sheetNames}async read(){return this._currentSheetIndex===-1&&(this._currentSheetIndex=0,await this._initSheet(this._currentSheetIndex)),!!this._readNextRow()}async _initSheet(e){if(e>=this.sheets.length)return;let r=this.sheets[e];this.actualSheetName=r.name,this._sheetXml=await this._readZipEntryContent(r.path),this._sheetXml||(this._sheetXml=""),this._xmlPos=0;let n=this._sheetXml.indexOf("<sheetData>");n!==-1&&(this._xmlPos=n+11)}_readNextRow(){if(!this._sheetXml)return!1;let e=this._sheetXml.indexOf("<row",this._xmlPos);if(e===-1)return!1;let r=this._sheetXml.indexOf("</row>",e);return r===-1?!1:(this._xmlPos=r+6,this._parseRowByIndex(e,r),!0)}_parseRowByIndex(e,r){this._currentRow=[];let n=this._sheetXml,i=n.indexOf(">",e)+1;for(;i<r;){let s=n.indexOf("<c",i);if(s===-1||s>=r)break;let o=n.indexOf(">",s),a=-1,l="n",c=0,u=s+2;for(;u<o;){for(;n.charCodeAt(u)<=32&&u<o;)u++;if(u>=o)break;let f=u;for(;n.charCodeAt(u)!==61&&u<o;)u++;let h=n.substring(f,u);if(u++,n.charCodeAt(u)===34){u++;let T=u;for(;n.charCodeAt(u)!==34&&u<o;)u++;let S=n.substring(T,u);if(u++,h==="r"){let R=0;for(;R<S.length&&S.charCodeAt(R)>=65;)R++;a=this._columnLetterToIndex(S.substring(0,R))}else h==="t"?l=S:h==="s"&&(c=parseInt(S,10))}}let E=null;if(n.charCodeAt(o-1)===47)i=o+1;else{let f=n.indexOf("</c>",o),h=f!==-1&&f<r?f:r,T=n.indexOf("<v>",o);if(T!==-1&&T<h){let S=T+3,R=n.indexOf("</v>",S);R!==-1&&R<h&&(E=n.substring(S,R))}else if(l==="inlineStr"){let S=n.indexOf("<t",o);if(S!==-1&&S<h){let R=n.indexOf(">",S)+1,N=n.indexOf("</t>",R);N!==-1&&N<h&&(E=n.substring(R,N))}}i=h+4}let d=null;if(E!==null){if(l==="s"){let f=parseInt(E,10);d=this.sharedStrings[f]}else if(l==="b")d=E==="1"||E==="true";else if(l==="inlineStr")d=this._unescapeXml(E);else if((l==="n"||l==="")&&(d=parseFloat(E),c>0&&this.xfIdToNumFmtId)){let f=0;if(c<this.xfIdToNumFmtId.length&&(f=this.xfIdToNumFmtId[c]),f>=14&&f<=22||f>=45&&f<=47||this.customDateFormats&&this.customDateFormats.has(f))try{d=this.getDateTimeFromOaDate(d)}catch{}}}a!==-1&&(this._currentRow[a]=d,a>=this.fieldCount&&(this.fieldCount=a+1))}}_columnLetterToIndex(e){let r=0,n=e.length;for(let i=0;i<n;i++)r+=(e.charCodeAt(i)-64)*Math.pow(26,n-i-1);return r-1}getValue(e){return e<0||e>=this._currentRow.length?null:this._currentRow[e]}};dq.exports=Kg});var jg=g((Pve,Tq)=>{Tq.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var VS=g(Rq=>{var Sq={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function Lme(t){return function(...e){return e.length&&(t=t.replace(/\{(\d)\}/g,(r,n)=>e[n]||"")),new Error("ADM-ZIP: "+t)}}for(let t of Object.keys(Sq))Rq[t]=Lme(Sq[t])});var Nq=g((xve,Iq)=>{var bme=require("fs"),Ht=require("path"),pq=jg(),wme=VS(),Dme=typeof process=="object"&&process.platform==="win32",Aq=t=>typeof t=="object"&&t!==null,_q=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function Nt(t){this.sep=Ht.sep,this.fs=bme,Aq(t)&&Aq(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}Iq.exports=Nt;Nt.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw wme.FILE_IN_THE_WAY(`"${i}"`)}})}r(t)};Nt.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=Ht.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};Nt.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,l){if(o&&l.isDirectory())return i(!1);var c=Ht.dirname(t);s.fs.exists(c,function(u){u||s.makeDir(c),s.fs.open(t,"w",438,function(E,d){E?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(f,h){s.fs.write(h,e,0,e.length,0,function(){s.fs.close(h,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):d?s.fs.write(d,e,0,e.length,0,function(){s.fs.close(d,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};Nt.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){let l=Ht.join(n,a),c=e.fs.statSync(l);(!i||i.test(l))&&o.push(Ht.normalize(l)+(c.isDirectory()?e.sep:"")),c.isDirectory()&&s&&(o=o.concat(r(l,i,s)))}),o}return r(t,void 0,!0)};Nt.prototype.findFilesAsync=function(t,e){let r=this,n=[];r.fs.readdir(t,function(i,s){if(i)return e(i);let o=s.length;if(!o)return e(null,n);s.forEach(function(a){a=Ht.join(t,a),r.fs.stat(a,function(l,c){if(l)return e(l);c&&(n.push(Ht.normalize(a)+(c.isDirectory()?r.sep:"")),c.isDirectory()?r.findFilesAsync(a,function(u,E){if(u)return e(u);n=n.concat(E),--o||e(null,n)}):--o||e(null,n))})})})};Nt.prototype.getAttributes=function(){};Nt.prototype.setAttributes=function(){};Nt.crc32update=function(t,e){return _q[(t^e)&255]^t>>>8};Nt.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8"));let e=t.length,r=-1;for(let n=0;n<e;)r=Nt.crc32update(r,t[n++]);return~r>>>0};Nt.methodToString=function(t){switch(t){case pq.STORED:return"STORED ("+t+")";case pq.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};Nt.canonical=function(t){if(!t)return"";let e=Ht.posix.normalize("/"+t.split("\\").join("/"));return Ht.join(".",e)};Nt.zipnamefix=function(t){if(!t)return"";let e=Ht.posix.normalize("/"+t.split("\\").join("/"));return Ht.posix.join(".",e)};Nt.findLast=function(t,e){if(!Array.isArray(t))throw new TypeError("arr is not array");let r=t.length>>>0;for(let n=r-1;n>=0;n--)if(e(t[n],n,t))return t[n]};Nt.sanitize=function(t,e){t=Ht.resolve(Ht.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=Ht.normalize(Ht.join(t,r.slice(n,i).join(Ht.sep)));if(s.indexOf(t)===0)return s}return Ht.normalize(Ht.join(t,Ht.basename(e)))};Nt.toBuffer=function(e,r){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?r(e):Buffer.alloc(0)};Nt.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};Nt.fromDOS2Date=function(t){return new Date((t>>25&127)+1980,Math.max((t>>21&15)-1,0),Math.max(t>>16&31,1),t>>11&31,t>>5&63,(t&31)<<1)};Nt.fromDate2DOS=function(t){let e=0,r=0;return t.getFullYear()>1979&&(e=(t.getFullYear()-1980&127)<<9|t.getMonth()+1<<5|t.getDate(),r=t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1),e<<16|r};Nt.isWin=Dme;Nt.crcTable=_q});var mq=g((vve,Oq)=>{var Pme=require("path");Oq.exports=function(t,{fs:e}){var r=t||"",n=s(),i=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&e.existsSync(r)?(i=e.statSync(r),n.directory=i.isDirectory(),n.mtime=i.mtime,n.atime=i.atime,n.executable=(73&i.mode)!==0,n.readonly=(128&i.mode)===0,n.hidden=Pme.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Cq=g((Uve,gq)=>{gq.exports={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}});var cc=g((Bve,lc)=>{lc.exports=Nq();lc.exports.Constants=jg();lc.exports.Errors=VS();lc.exports.FileAttr=mq();lc.exports.decoder=Cq()});var Lq=g((Fve,yq)=>{var Vs=cc(),k=Vs.Constants;yq.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,l=0,c=0,u=0,E=0,d=0,f=0,h=0;t|=Vs.isWin?2560:768,r|=k.FLG_EFS;let T={extraLen:0},S=p=>Math.max(0,p)>>>0,R=p=>Math.max(0,p)&65535,N=p=>Math.max(0,p)&255;return i=Vs.fromDate2DOS(new Date),{get made(){return t},set made(p){t=p},get version(){return e},set version(p){e=p},get flags(){return r},set flags(p){r=p},get flags_efs(){return(r&k.FLG_EFS)>0},set flags_efs(p){p?r|=k.FLG_EFS:r&=~k.FLG_EFS},get flags_desc(){return(r&k.FLG_DESC)>0},set flags_desc(p){p?r|=k.FLG_DESC:r&=~k.FLG_DESC},get method(){return n},set method(p){switch(p){case k.STORED:this.version=10;case k.DEFLATED:default:this.version=20}n=p},get time(){return Vs.fromDOS2Date(this.timeval)},set time(p){this.timeval=Vs.fromDate2DOS(p)},get timeval(){return i},set timeval(p){i=S(p)},get timeHighByte(){return N(i>>>8)},get crc(){return s},set crc(p){s=S(p)},get compressedSize(){return o},set compressedSize(p){o=S(p)},get size(){return a},set size(p){a=S(p)},get fileNameLength(){return l},set fileNameLength(p){l=p},get extraLength(){return c},set extraLength(p){c=p},get extraLocalLength(){return T.extraLen},set extraLocalLength(p){T.extraLen=p},get commentLength(){return u},set commentLength(p){u=p},get diskNumStart(){return E},set diskNumStart(p){E=S(p)},get inAttr(){return d},set inAttr(p){d=S(p)},get attr(){return f},set attr(p){f=S(p)},get fileAttr(){return(f||0)>>16&4095},get offset(){return h},set offset(p){h=S(p)},get encrypted(){return(r&k.FLG_ENC)===k.FLG_ENC},get centralHeaderSize(){return k.CENHDR+l+c+u},get realDataOffset(){return h+k.LOCHDR+T.fnameLen+T.extraLen},get localHeader(){return T},loadLocalHeaderFromBinary:function(p){var A=p.slice(h,h+k.LOCHDR);if(A.readUInt32LE(0)!==k.LOCSIG)throw Vs.Errors.INVALID_LOC();T.version=A.readUInt16LE(k.LOCVER),T.flags=A.readUInt16LE(k.LOCFLG),T.method=A.readUInt16LE(k.LOCHOW),T.time=A.readUInt32LE(k.LOCTIM),T.crc=A.readUInt32LE(k.LOCCRC),T.compressedSize=A.readUInt32LE(k.LOCSIZ),T.size=A.readUInt32LE(k.LOCLEN),T.fnameLen=A.readUInt16LE(k.LOCNAM),T.extraLen=A.readUInt16LE(k.LOCEXT);let O=h+k.LOCHDR+T.fnameLen,b=O+T.extraLen;return p.slice(O,b)},loadFromBinary:function(p){if(p.length!==k.CENHDR||p.readUInt32LE(0)!==k.CENSIG)throw Vs.Errors.INVALID_CEN();t=p.readUInt16LE(k.CENVEM),e=p.readUInt16LE(k.CENVER),r=p.readUInt16LE(k.CENFLG),n=p.readUInt16LE(k.CENHOW),i=p.readUInt32LE(k.CENTIM),s=p.readUInt32LE(k.CENCRC),o=p.readUInt32LE(k.CENSIZ),a=p.readUInt32LE(k.CENLEN),l=p.readUInt16LE(k.CENNAM),c=p.readUInt16LE(k.CENEXT),u=p.readUInt16LE(k.CENCOM),E=p.readUInt16LE(k.CENDSK),d=p.readUInt16LE(k.CENATT),f=p.readUInt32LE(k.CENATX),h=p.readUInt32LE(k.CENOFF)},localHeaderToBinary:function(){var p=Buffer.alloc(k.LOCHDR);return p.writeUInt32LE(k.LOCSIG,0),p.writeUInt16LE(e,k.LOCVER),p.writeUInt16LE(r,k.LOCFLG),p.writeUInt16LE(n,k.LOCHOW),p.writeUInt32LE(i,k.LOCTIM),p.writeUInt32LE(s,k.LOCCRC),p.writeUInt32LE(o,k.LOCSIZ),p.writeUInt32LE(a,k.LOCLEN),p.writeUInt16LE(l,k.LOCNAM),p.writeUInt16LE(T.extraLen,k.LOCEXT),p},centralHeaderToBinary:function(){var p=Buffer.alloc(k.CENHDR+l+c+u);return p.writeUInt32LE(k.CENSIG,0),p.writeUInt16LE(t,k.CENVEM),p.writeUInt16LE(e,k.CENVER),p.writeUInt16LE(r,k.CENFLG),p.writeUInt16LE(n,k.CENHOW),p.writeUInt32LE(i,k.CENTIM),p.writeUInt32LE(s,k.CENCRC),p.writeUInt32LE(o,k.CENSIZ),p.writeUInt32LE(a,k.CENLEN),p.writeUInt16LE(l,k.CENNAM),p.writeUInt16LE(c,k.CENEXT),p.writeUInt16LE(u,k.CENCOM),p.writeUInt16LE(E,k.CENDSK),p.writeUInt16LE(d,k.CENATT),p.writeUInt32LE(f,k.CENATX),p.writeUInt32LE(h,k.CENOFF),p},toJSON:function(){let p=function(A){return A+" bytes"};return{made:t,version:e,flags:r,method:Vs.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:p(o),size:p(a),fileNameLength:p(l),extraLength:p(c),commentLength:p(u),diskNumStart:E,inAttr:d,attr:f,offset:h,centralHeaderSize:p(k.CENHDR+l+c+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var wq=g((Gve,bq)=>{var uc=cc(),Rt=uc.Constants;bq.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return Rt.ENDHDR+i},loadFromBinary:function(s){if((s.length!==Rt.ENDHDR||s.readUInt32LE(0)!==Rt.ENDSIG)&&(s.length<Rt.ZIP64HDR||s.readUInt32LE(0)!==Rt.ZIP64SIG))throw uc.Errors.INVALID_END();s.readUInt32LE(0)===Rt.ENDSIG?(t=s.readUInt16LE(Rt.ENDSUB),e=s.readUInt16LE(Rt.ENDTOT),r=s.readUInt32LE(Rt.ENDSIZ),n=s.readUInt32LE(Rt.ENDOFF),i=s.readUInt16LE(Rt.ENDCOM)):(t=uc.readBigUInt64LE(s,Rt.ZIP64SUB),e=uc.readBigUInt64LE(s,Rt.ZIP64TOT),r=uc.readBigUInt64LE(s,Rt.ZIP64SIZE),n=uc.readBigUInt64LE(s,Rt.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(Rt.ENDHDR+i);return s.writeUInt32LE(Rt.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,Rt.ENDSUB),s.writeUInt16LE(e,Rt.ENDTOT),s.writeUInt32LE(r,Rt.ENDSIZ),s.writeUInt32LE(n,Rt.ENDOFF),s.writeUInt16LE(i,Rt.ENDCOM),s.fill(" ",Rt.ENDHDR),s},toJSON:function(){let s=function(o,a){let l=o.toString(16).toUpperCase();for(;l.length<a;)l="0"+l;return"0x"+l};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Jg=g(zg=>{zg.EntryHeader=Lq();zg.MainHeader=wq()});var Pq=g((Wve,Dq)=>{Dq.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),l=0;a.fill(0);for(var c=0;c<s.length;c++){var u=s[c];u.copy(a,l),l+=u.length}n&&n(a)}),i.end(t)}}}});var xq=g((Yve,Mq)=>{var Mme=+(process.versions?process.versions.node:"").split(".")[0]||0;Mq.exports=function(t,e){var r=require("zlib");let n=Mme>=15&&e>0?{maxOutputLength:e}:{};return{inflate:function(){return r.inflateRawSync(t,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],a=0;s.on("data",function(l){o.push(l),a+=l.length}),s.on("end",function(){var l=Buffer.alloc(a),c=0;l.fill(0);for(var u=0;u<o.length;u++){var E=o[u];E.copy(l,c),c+=E.length}i&&i(l)}),s.end(t)}}}});var Gq=g(($ve,Fq)=>{"use strict";var{randomFillSync:vq}=require("crypto"),xme=VS(),vme=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=e>>>1^3988292384:e>>>=1;return e>>>0}),Bq=(t,e)=>Math.imul(t,e)>>>0,Uq=(t,e)=>vme[(t^e)&255]^t>>>8,FE=()=>typeof vq=="function"?vq(Buffer.alloc(12)):FE.node();FE.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var kS={genSalt:FE};function qS(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}qS.prototype.updateKeys=function(t){let e=this.keys;return e[0]=Uq(e[0],t),e[1]+=e[0]&255,e[1]=Bq(e[1],134775813)+1,e[2]=Uq(e[2],e[1]>>>24),t};qS.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return Bq(t,t^1)>>8&255};function Ume(t){let e=new qS(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function Bme(t){let e=new qS(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function Fme(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=Ume(r),i=n(t.slice(0,12)),s=(e.flags&8)===8?e.timeHighByte:e.crc>>>24;if(i[11]!==s)throw xme.WRONG_PASSWORD();return n(t.slice(12))}function Gme(t){Buffer.isBuffer(t)&&t.length>=12?kS.genSalt=function(){return t.slice(0,12)}:t==="node"?kS.genSalt=FE.node:kS.genSalt=FE}function Hme(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=Bme(r),s=kS.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}Fq.exports={decrypt:Fme,encrypt:Hme,_salter:Gme}});var Hq=g(XS=>{XS.Deflater=Pq();XS.Inflater=xq();XS.ZipCrypto=Gq()});var Zg=g((kve,Wq)=>{var Xe=cc(),Wme=Jg(),Ot=Xe.Constants,Qg=Hq();Wq.exports=function(t,e){var r=new Wme.EntryHeader,n=Buffer.alloc(0),i=Buffer.alloc(0),s=!1,o=null,a=Buffer.alloc(0),l=Buffer.alloc(0),c=!0;let u=t,E=typeof u.decoder=="object"?u.decoder:Xe.decoder;c=E.hasOwnProperty("efs")?E.efs:!1;function d(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(l=r.loadLocalHeaderFromBinary(e),e.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(p){if(r.flags_desc){let A={},O=r.realDataOffset+r.compressedSize;if(e.readUInt32LE(O)==Ot.LOCSIG||e.readUInt32LE(O)==Ot.CENSIG)throw Xe.Errors.DESCRIPTOR_NOT_EXIST();if(e.readUInt32LE(O)==Ot.EXTSIG)A.crc=e.readUInt32LE(O+Ot.EXTCRC),A.compressedSize=e.readUInt32LE(O+Ot.EXTSIZ),A.size=e.readUInt32LE(O+Ot.EXTLEN);else if(e.readUInt16LE(O+12)===19280)A.crc=e.readUInt32LE(O+Ot.EXTCRC-4),A.compressedSize=e.readUInt32LE(O+Ot.EXTSIZ-4),A.size=e.readUInt32LE(O+Ot.EXTLEN-4);else throw Xe.Errors.DESCRIPTOR_UNKNOWN();if(A.compressedSize!==r.compressedSize||A.size!==r.size||A.crc!==r.crc)throw Xe.Errors.DESCRIPTOR_FAULTY();if(Xe.crc32(p)!==A.crc)return!1}else if(Xe.crc32(p)!==r.localHeader.crc)return!1;return!0}function h(p,A,O){if(typeof A>"u"&&typeof p=="string"&&(O=p,p=void 0),s)return p&&A&&A(Buffer.alloc(0),Xe.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var b=d();if(b.length===0)return p&&A&&A(b),b;if(r.encrypted){if(typeof O!="string"&&!Buffer.isBuffer(O))throw Xe.Errors.INVALID_PASS_PARAM();b=Qg.ZipCrypto.decrypt(b,r,O)}var I=Buffer.alloc(r.size);switch(r.method){case Xe.Constants.STORED:if(b.copy(I),f(I))return p&&A&&A(I),I;throw p&&A&&A(I,Xe.Errors.BAD_CRC()),Xe.Errors.BAD_CRC();case Xe.Constants.DEFLATED:var D=new Qg.Inflater(b,r.size);if(p)D.inflateAsync(function(L){L.copy(L,0),A&&(f(L)?A(L):A(L,Xe.Errors.BAD_CRC()))});else{if(D.inflate(I).copy(I,0),!f(I))throw Xe.Errors.BAD_CRC(`"${E.decode(n)}"`);return I}break;default:throw p&&A&&A(Buffer.alloc(0),Xe.Errors.UNKNOWN_METHOD()),Xe.Errors.UNKNOWN_METHOD()}}function T(p,A){if((!o||!o.length)&&Buffer.isBuffer(e))return p&&A&&A(d()),d();if(o.length&&!s){var O;switch(r.method){case Xe.Constants.STORED:return r.compressedSize=r.size,O=Buffer.alloc(o.length),o.copy(O),p&&A&&A(O),O;default:case Xe.Constants.DEFLATED:var b=new Qg.Deflater(o);if(p)b.deflateAsync(function(D){O=Buffer.alloc(D.length),r.compressedSize=D.length,D.copy(O),A&&A(O)});else{var I=b.deflate();return r.compressedSize=I.length,I}b=null;break}}else if(p&&A)A(Buffer.alloc(0));else return Buffer.alloc(0)}function S(p,A){return(p.readUInt32LE(A+4)<<4)+p.readUInt32LE(A)}function R(p){try{for(var A=0,O,b,I;A+4<p.length;)O=p.readUInt16LE(A),A+=2,b=p.readUInt16LE(A),A+=2,I=p.slice(A,A+b),A+=b,Ot.ID_ZIP64===O&&N(I)}catch{throw Xe.Errors.EXTRA_FIELD_PARSE_ERROR()}}function N(p){var A,O,b,I;p.length>=Ot.EF_ZIP64_SCOMP&&(A=S(p,Ot.EF_ZIP64_SUNCOMP),r.size===Ot.EF_ZIP64_OR_32&&(r.size=A)),p.length>=Ot.EF_ZIP64_RHO&&(O=S(p,Ot.EF_ZIP64_SCOMP),r.compressedSize===Ot.EF_ZIP64_OR_32&&(r.compressedSize=O)),p.length>=Ot.EF_ZIP64_DSN&&(b=S(p,Ot.EF_ZIP64_RHO),r.offset===Ot.EF_ZIP64_OR_32&&(r.offset=b)),p.length>=Ot.EF_ZIP64_DSN+4&&(I=p.readUInt32LE(Ot.EF_ZIP64_DSN),r.diskNumStart===Ot.EF_ZIP64_OR_16&&(r.diskNumStart=I))}return{get entryName(){return E.decode(n)},get rawEntryName(){return n},set entryName(p){n=Xe.toBuffer(p,E.encode);var A=n[n.length-1];s=A===47||A===92,r.fileNameLength=n.length},get efs(){return typeof c=="function"?c(this.entryName):c},get extra(){return a},set extra(p){a=p,r.extraLength=p.length,R(p)},get comment(){return E.decode(i)},set comment(p){if(i=Xe.toBuffer(p,E.encode),r.commentLength=i.length,i.length>65535)throw Xe.Errors.COMMENT_TOO_LONG()},get name(){var p=E.decode(n);return s?p.substr(p.length-1).split("/").pop():p.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return T(!1,null)},getCompressedDataAsync:function(p){T(!0,p)},setData:function(p){o=Xe.toBuffer(p,Xe.decoder.encode),!s&&o.length?(r.size=o.length,r.method=Xe.Constants.DEFLATED,r.crc=Xe.crc32(p),r.changed=!0):r.method=Xe.Constants.STORED},getData:function(p){return r.changed?o:h(!1,null,p)},getDataAsync:function(p,A){r.changed?p(o):h(!0,p,A)},set attr(p){r.attr=p},get attr(){return r.attr},set header(p){r.loadFromBinary(p)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=a.length;var p=r.centralHeaderToBinary(),A=Xe.Constants.CENHDR;return n.copy(p,A),A+=n.length,a.copy(p,A),A+=r.extraLength,i.copy(p,A),p},packLocalHeader:function(){let p=0;r.flags_efs=this.efs,r.extraLocalLength=l.length;let A=r.localHeaderToBinary(),O=Buffer.alloc(A.length+n.length+r.extraLocalLength);return A.copy(O,p),p+=A.length,n.copy(O,p),p+=n.length,l.copy(O,p),p+=l.length,O},toJSON:function(){let p=function(A){return"<"+(A&&A.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:p(e),data:p(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Vq=g((qve,$q)=>{var Yq=Zg(),Yme=Jg(),hr=cc();$q.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new Yme.MainHeader,o=!1,a=null;let l=new Set,c=e,{noSort:u,decoder:E}=c;t?h(c.readEntries):o=!0;function d(){let S=new Set;for(let R of Object.keys(n)){let N=R.split("/");if(N.pop(),!!N.length)for(let p=0;p<N.length;p++){let A=N.slice(0,p+1).join("/")+"/";S.add(A)}}for(let R of S)if(!(R in n)){let N=new Yq(c);N.entryName=R,N.attr=16,N.temporary=!0,r.push(N),n[N.entryName]=N,l.add(N)}}function f(){if(o=!0,n={},s.diskEntries>(t.length-s.offset)/hr.Constants.CENHDR)throw hr.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(s.diskEntries);for(var S=s.offset,R=0;R<r.length;R++){var N=S,p=new Yq(c,t);p.header=t.slice(N,N+=hr.Constants.CENHDR),p.entryName=t.slice(N,N+=p.header.fileNameLength),p.header.extraLength&&(p.extra=t.slice(N,N+=p.header.extraLength)),p.header.commentLength&&(p.comment=t.slice(N,N+p.header.commentLength)),S+=p.header.centralHeaderSize,r[R]=p,n[p.entryName]=p}l.clear(),d()}function h(S){var R=t.length-hr.Constants.ENDHDR,N=Math.max(0,R-65535),p=N,A=t.length,O=-1,b=0;for(typeof c.trailingSpace=="boolean"&&c.trailingSpace&&(N=0),R;R>=p;R--)if(t[R]===80){if(t.readUInt32LE(R)===hr.Constants.ENDSIG){O=R,b=R,A=R+hr.Constants.ENDHDR,p=R-hr.Constants.END64HDR;continue}if(t.readUInt32LE(R)===hr.Constants.END64SIG){p=N;continue}if(t.readUInt32LE(R)===hr.Constants.ZIP64SIG){O=R,A=R+hr.readBigUInt64LE(t,R+hr.Constants.ZIP64SIZE)+hr.Constants.ZIP64LEAD;break}}if(O==-1)throw hr.Errors.INVALID_FORMAT();s.loadFromBinary(t.slice(O,A)),s.commentLength&&(i=t.slice(b+hr.Constants.ENDHDR)),S&&f()}function T(){r.length>1&&!u&&r.sort((S,R)=>S.entryName.toLowerCase().localeCompare(R.entryName.toLowerCase()))}return{get entries(){return o||f(),r.filter(S=>!l.has(S))},get comment(){return E.decode(i)},set comment(S){i=hr.toBuffer(S,E.encode),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(S){this.entries.forEach(S)},getEntry:function(S){return o||f(),n[S]||null},setEntry:function(S){o||f(),r.push(S),n[S.entryName]=S,s.totalEntries=r.length},deleteFile:function(S,R=!0){o||f();let N=n[S];this.getEntryChildren(N,R).map(A=>A.entryName).forEach(this.deleteEntry)},deleteEntry:function(S){o||f();let R=n[S],N=r.indexOf(R);N>=0&&(r.splice(N,1),delete n[S],s.totalEntries=r.length)},getEntryChildren:function(S,R=!0){if(o||f(),typeof S=="object")if(S.isDirectory&&R){let N=[],p=S.entryName;for(let A of r)A.entryName.startsWith(p)&&N.push(A);return N}else return[S];return[]},getChildCount:function(S){if(S&&S.isDirectory){let R=this.getEntryChildren(S);return R.includes(S)?R.length-1:R.length}return 0},compressToBuffer:function(){o||f(),T();let S=[],R=[],N=0,p=0;s.size=0,s.offset=0;let A=0;for(let I of this.entries){let D=I.getCompressedData();I.header.offset=p;let L=I.packLocalHeader(),P=L.length+D.length;p+=P,S.push(L),S.push(D);let x=I.packCentralHeader();R.push(x),s.size+=x.length,N+=P+x.length,A++}N+=s.mainHeaderSize,s.offset=p,s.totalEntries=A,p=0;let O=Buffer.alloc(N);for(let I of S)I.copy(O,p),p+=I.length;for(let I of R)I.copy(O,p),p+=I.length;let b=s.toBinary();return i&&i.copy(b,hr.Constants.ENDHDR),b.copy(O,p),t=O,o=!1,O},toAsyncBuffer:function(S,R,N,p){try{o||f(),T();let A=[],O=[],b=0,I=0,D=0;s.size=0,s.offset=0;let L=function(P){if(P.length>0){let x=P.shift(),$=x.entryName+x.extra.toString();N&&N($),x.getCompressedDataAsync(function(Y){p&&p($),x.header.offset=I;let V=x.packLocalHeader(),ee=V.length+Y.length;I+=ee,A.push(V),A.push(Y);let le=x.packCentralHeader();O.push(le),s.size+=le.length,b+=ee+le.length,D++,L(P)})}else{b+=s.mainHeaderSize,s.offset=I,s.totalEntries=D,I=0;let x=Buffer.alloc(b);A.forEach(function(Y){Y.copy(x,I),I+=Y.length}),O.forEach(function(Y){Y.copy(x,I),I+=Y.length});let $=s.toBinary();i&&i.copy($,hr.Constants.ENDHDR),$.copy(x,I),t=x,o=!1,S(x)}};L(Array.from(this.entries))}catch(A){R(A)}}}}});var Xq=g((Xve,qq)=>{var pt=cc(),mt=require("path"),$me=Zg(),Vme=Vq(),ha=(...t)=>pt.findLast(t,e=>typeof e=="boolean"),kq=(...t)=>pt.findLast(t,e=>typeof e=="string"),kme=(...t)=>pt.findLast(t,e=>typeof e=="function"),qme={noSort:!1,readEntries:!1,method:pt.Constants.NONE,fs:null};qq.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),qme);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=pt.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new pt(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=pt.decoder),t&&typeof t=="string")if(i.fs.existsSync(t))n.method=pt.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw pt.Errors.INVALID_FILENAME();let s=new Vme(r,n),{canonical:o,sanitize:a,zipnamefix:l}=pt;function c(f){if(f&&s){var h;if(typeof f=="string"&&(h=s.getEntry(mt.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(h=s.getEntry(f.entryName)),h)return h}return null}function u(f){let{join:h,normalize:T,sep:S}=mt.posix;return h(".",T(S+f.split("\\").join(S)+S))}function E(f){return f instanceof RegExp?(function(h){return function(T){return h.test(T)}})(f):typeof f!="function"?()=>!0:f}let d=(f,h)=>{let T=h.slice(-1);return T=T===i.sep?i.sep:"",mt.relative(f,h)+T};return{readFile:function(f,h){var T=c(f);return T&&T.getData(h)||null},childCount:function(f){let h=c(f);if(h)return s.getChildCount(h)},readFileAsync:function(f,h){var T=c(f);T?T.getDataAsync(h):h(null,"getEntry failed for:"+f)},readAsText:function(f,h){var T=c(f);if(T){var S=T.getData();if(S&&S.length)return S.toString(h||"utf8")}return""},readAsTextAsync:function(f,h,T){var S=c(f);S?S.getDataAsync(function(R,N){if(N){h(R,N);return}R&&R.length?h(R.toString(T||"utf8")):h("")}):h("")},deleteFile:function(f,h=!0){var T=c(f);T&&s.deleteFile(T.entryName,h)},deleteEntry:function(f){var h=c(f);h&&s.deleteEntry(h.entryName)},addZipComment:function(f){s.comment=f},getZipComment:function(){return s.comment||""},addZipEntryComment:function(f,h){var T=c(f);T&&(T.comment=h)},getZipEntryComment:function(f){var h=c(f);return h&&h.comment||""},updateFile:function(f,h){var T=c(f);T&&T.setData(h)},addLocalFile:function(f,h,T,S){if(i.fs.existsSync(f)){h=h?u(h):"";let R=mt.win32.basename(mt.win32.normalize(f));h+=T||R;let N=i.fs.statSync(f),p=N.isFile()?i.fs.readFileSync(f):Buffer.alloc(0);N.isDirectory()&&(h+=i.sep),this.addFile(h,p,S,N)}else throw pt.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,h){f=typeof f=="object"?f:{localPath:f};let T=mt.resolve(f.localPath),{comment:S}=f,{zipPath:R,zipName:N}=f,p=this;i.fs.stat(T,function(A,O){if(A)return h(A,!1);R=R?u(R):"";let b=mt.win32.basename(mt.win32.normalize(T));if(R+=N||b,O.isFile())i.fs.readFile(T,function(I,D){return I?h(I,!1):(p.addFile(R,D,S,O),setImmediate(h,void 0,!0))});else if(O.isDirectory())return R+=i.sep,p.addFile(R,Buffer.alloc(0),S,O),setImmediate(h,void 0,!0)})},addLocalFolder:function(f,h,T){if(T=E(T),h=h?u(h):"",f=mt.normalize(f),i.fs.existsSync(f)){let S=i.findFiles(f),R=this;if(S.length)for(let N of S){let p=mt.join(h,d(f,N));T(p)&&R.addLocalFile(N,mt.dirname(p))}}else throw pt.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,h,T,S){S=E(S),T=T?u(T):"",f=mt.normalize(f);var R=this;i.fs.open(f,"r",function(N){if(N&&N.code==="ENOENT")h(void 0,pt.Errors.FILE_NOT_FOUND(f));else if(N)h(void 0,N);else{var p=i.findFiles(f),A=-1,O=function(){if(A+=1,A<p.length){var b=p[A],I=d(f,b).split("\\").join("/");I=I.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),S(I)?i.fs.stat(b,function(D,L){D&&h(void 0,D),L.isFile()?i.fs.readFile(b,function(P,x){P?h(void 0,P):(R.addFile(T+I,x,"",L),O())}):(R.addFile(T+I+"/",Buffer.alloc(0),"",L),O())}):process.nextTick(()=>{O()})}else h(!0,void 0)};O()}})},addLocalFolderAsync2:function(f,h){let T=this;f=typeof f=="object"?f:{localPath:f},localPath=mt.resolve(u(f.localPath));let{zipPath:S,filter:R,namefix:N}=f;R instanceof RegExp?R=(function(O){return function(b){return O.test(b)}})(R):typeof R!="function"&&(R=function(){return!0}),S=S?u(S):"",N=="latin1"&&(N=O=>O.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof N!="function"&&(N=O=>O);let p=O=>mt.join(S,N(d(localPath,O))),A=O=>mt.win32.basename(mt.win32.normalize(N(O)));i.fs.open(localPath,"r",function(O){O&&O.code==="ENOENT"?h(void 0,pt.Errors.FILE_NOT_FOUND(localPath)):O?h(void 0,O):i.findFilesAsync(localPath,function(b,I){if(b)return h(b);I=I.filter(D=>R(p(D))),I.length||h(void 0,!1),setImmediate(I.reverse().reduce(function(D,L){return function(P,x){if(P||x===!1)return setImmediate(D,P,!1);T.addLocalFileAsync({localPath:L,zipPath:mt.dirname(p(L)),zipName:A(L)},D)}},h))})})},addLocalFolderPromise:function(f,h){return new Promise((T,S)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},h),(R,N)=>{R&&S(R),N&&T(this)})})},addFile:function(f,h,T,S){f=l(f);let R=c(f),N=R!=null;N||(R=new $me(n),R.entryName=f),R.comment=T||"";let p=typeof S=="object"&&S instanceof i.fs.Stats;p&&(R.header.time=S.mtime);var A=R.isDirectory?16:0;let O=R.isDirectory?16384:32768;return p?O|=4095&S.mode:typeof S=="number"?O|=4095&S:O|=R.isDirectory?493:420,A=(A|O<<16)>>>0,R.attr=A,R.setData(h),N||s.setEntry(R),R},getEntries:function(f){return s.password=f,s?s.entries:[]},getEntry:function(f){return c(f)},getEntryCount:function(){return s.getEntryCount()},forEach:function(f){return s.forEach(f)},extractEntryTo:function(f,h,T,S,R,N){S=ha(!1,S),R=ha(!1,R),T=ha(!0,T),N=kq(R,N);var p=c(f);if(!p)throw pt.Errors.NO_ENTRY();var A=o(p.entryName),O=a(h,N&&!p.isDirectory?N:T?A:mt.basename(A));if(p.isDirectory){var b=s.getEntryChildren(p);return b.forEach(function(L){if(L.isDirectory)return;var P=L.getData();if(!P)throw pt.Errors.CANT_EXTRACT_FILE();var x=o(L.entryName),$=a(h,T?x:mt.basename(x));let Y=R?L.header.fileAttr:void 0;i.writeFileTo($,P,S,Y)}),!0}var I=p.getData(s.password);if(!I)throw pt.Errors.CANT_EXTRACT_FILE();if(i.fs.existsSync(O)&&!S)throw pt.Errors.CANT_OVERRIDE();let D=R?f.header.fileAttr:void 0;return i.writeFileTo(O,I,S,D),!0},test:function(f){if(!s)return!1;for(var h in s.entries)try{if(h.isDirectory)continue;var T=s.entries[h].getData(f);if(!T)return!1}catch{return!1}return!0},extractAllTo:function(f,h,T,S){if(T=ha(!1,T),S=kq(T,S),h=ha(!1,h),!s)throw pt.Errors.NO_ZIP();s.entries.forEach(function(R){var N=a(f,o(R.entryName));if(R.isDirectory){i.makeDir(N);return}var p=R.getData(S);if(!p)throw pt.Errors.CANT_EXTRACT_FILE();let A=T?R.header.fileAttr:void 0;i.writeFileTo(N,p,h,A);try{i.fs.utimesSync(N,R.header.time,R.header.time)}catch{throw pt.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,h,T,S){if(S=kme(h,T,S),T=ha(!1,T),h=ha(!1,h),!S)return new Promise((O,b)=>{this.extractAllToAsync(f,h,T,function(I){I?b(I):O(this)})});if(!s){S(pt.Errors.NO_ZIP());return}f=mt.resolve(f);let R=O=>a(f,mt.normalize(o(O.entryName))),N=(O,b)=>new Error(O+': "'+b+'"'),p=[],A=[];s.entries.forEach(O=>{O.isDirectory?p.push(O):A.push(O)});for(let O of p){let b=R(O),I=T?O.header.fileAttr:void 0;try{i.makeDir(b),I&&i.fs.chmodSync(b,I),i.fs.utimesSync(b,O.header.time,O.header.time)}catch{S(N("Unable to create folder",b))}}A.reverse().reduce(function(O,b){return function(I){if(I)O(I);else{let D=mt.normalize(o(b.entryName)),L=a(f,D);b.getDataAsync(function(P,x){if(x)O(x);else if(!P)O(pt.Errors.CANT_EXTRACT_FILE());else{let $=T?b.header.fileAttr:void 0;i.writeFileToAsync(L,P,h,$,function(Y){Y||O(N("Unable to write file",L)),i.fs.utimes(L,b.header.time,b.header.time,function(V){V?O(N("Unable to set times",L)):O()})})}})}}},S)()},writeZip:function(f,h){if(arguments.length===1&&typeof f=="function"&&(h=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var T=s.compressToBuffer();if(T){var S=i.writeFileTo(f,T,!0);typeof h=="function"&&h(S?null:new Error("failed"),"")}}},writeZipPromise:function(f,h){let{overwrite:T,perm:S}=Object.assign({overwrite:!0},h);return new Promise((R,N)=>{!f&&n.filename&&(f=n.filename),f||N("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(p=>{let A=O=>O?R(O):N("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(f,p,T,S,A)},N)})},toBufferPromise:function(){return new Promise((f,h)=>{s.toAsyncBuffer(f,h)})},toBuffer:function(f,h,T,S){return typeof f=="function"?(s.toAsyncBuffer(f,h,T,S),null):s.compressToBuffer()}}}});var jq=g((jve,Kq)=>{"use strict";var{TextDecoder:Kve}=require("util"),eC=class{constructor(e){if(!Buffer.isBuffer(e))throw new Error("BiffReaderWriter expects a Buffer");this.buffer=e,this.pos=0,this.length=e.length,this._isSheet=!1,this._workbookId=0,this._recId=null,this._workbookName=null,this._inCellXf=!1,this._inCellStyleXf=!1,this._inNumberFormat=!1,this._parentCellStyleXf=0,this._numberFormatIndex=0,this._format=0,this._formatString=null,this._sharedStringValue=null,this._sharedStringUniqueCount=0,this._cellType=0,this._intValue=0,this._doubleVal=0,this._boolValue=!1,this._stringValue=null,this._columnNum=-1,this._xfIndex=0,this._readCell=!1,this._rowIndex=-1,this._tempBuf=Buffer.alloc(128),this._xfIndexToNumFmtId=[],this._customNumFmts=new Set}_tryReadVariableValue(){if(this.pos>=this.length)return null;let e=this.buffer[this.pos++],r=(e&127)>>>0;if((e&128)===0)return r;if(this.pos>=this.length)return null;let n=this.buffer[this.pos++];if(r=((n&127)<<7|r)>>>0,(n&128)===0)return r;if(this.pos>=this.length)return null;let i=this.buffer[this.pos++];return r=((i&127)<<14|r)>>>0,(i&128)===0?r:this.pos>=this.length?null:(r=((this.buffer[this.pos++]&127)<<21|r)>>>0,r)}_getDWord(e,r){return e.readUInt32LE(r)}_getInt32(e,r){return e.readInt32LE(r)}_getWord(e,r){return e.readUInt16LE(r)}_getString(e,r,n){let i=r,s=r+n*2;return s>e.length?"":e.toString("utf16le",i,s)}_getNullableString(e,r){let n=this._getDWord(e,r.val);if(r.val+=4,n===4294967295)return null;let i=this._getString(e,r.val,n);return r.val+=n*2,i}readWorkbook(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);if(this.pos+=r,this._isSheet=!1,e===156){this._workbookId=this._getDWord(i,4);let s={val:8};this._recId=this._getNullableString(i,s);let o=this._getDWord(i,s.val);this._workbookName=this._getString(i,s.val+4,o),this._isSheet=!0}return!0}readSharedStrings(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);if(this.pos+=r,this._sharedStringValue=null,e===19){let s=this._getDWord(i,1);this._sharedStringValue=this._getString(i,5,s)}else e===159&&(this._sharedStringUniqueCount=this._getDWord(i,4));return!0}readStyles(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);this.pos+=r;let s=617,o=618,a=626,l=627,c=615,u=616,E=47,d=44;switch(e){case s:this._inCellXf=!0;break;case o:this._inCellXf=!1;break;case a:this._inCellStyleXf=!0;break;case l:this._inCellStyleXf=!1;break;case c:this._inNumberFormat=!0;break;case u:this._inNumberFormat=!1;break;case E:this._inCellXf&&(this._parentCellStyleXf=this._getWord(i,0),this._numberFormatIndex=this._getWord(i,2),this._xfIndexToNumFmtId.push(this._numberFormatIndex));break;case d:if(this._inNumberFormat){this._format=this._getWord(i,0);let f=this._getDWord(i,2);this._formatString=this._getString(i,6,f);let h=this._formatString.toLowerCase();(h.includes("yy")||h.includes("mm")||h.includes("dd")||h.includes("h:mm"))&&this._customNumFmts.add(this._format)}break}return!0}_getRkNumber(e,r){let n=e[r],i=0;if((n&2)!==0)i=e.readInt32LE(r)>>2;else{let o=e.readInt32LE(r)&4294967292,a=Buffer.alloc(8);a.writeInt32LE(0,0),a.writeInt32LE(o,4),i=a.readDoubleLE(0)}return(n&1)!==0&&(i/=100),i}readWorksheet(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);this.pos+=r,this._readCell=!1,this._columnNum=-1;let s=0,o=1,a=2,l=3,c=4,u=5,E=6,d=7,f=8,h=9,T=10,S=11;switch(e){case s:this._rowIndex=this._getInt32(i,0);break;case o:case l:case S:this._readCell=!0,this._cellType=0;break;case a:this._doubleVal=this._getRkNumber(i,8),this._readCell=!0,this._cellType=3;break;case c:case T:this._boolValue=i[8]===1,this._readCell=!0,this._cellType=4;break;case h:case u:this._doubleVal=i.readDoubleLE(8),this._readCell=!0,this._cellType=3;break;case E:case f:{let R=this._getDWord(i,8);this._stringValue=this._getString(i,12,R),this._readCell=!0,this._cellType=5;break}case d:this._intValue=this._getDWord(i,8),this._readCell=!0,this._cellType=2;break}return this._readCell&&(this._columnNum=this._getDWord(i,0),this._xfIndex=this._getDWord(i,4)&16777215),!0}};Kq.exports=eC});var Jq=g((zve,zq)=>{"use strict";var Xme=Xq(),Kme=Xg(),KS=jq(),tC=class extends Kme{constructor(){super(),this.zip=null,this.sharedStrings=[],this.styles=[],this.sheetNames=[],this.sheets=[],this._currentSheetIndex=-1,this._reader=null,this._currentRow=[],this._pendingRowIndex=-1,this._eof=!1}open(e,r=!0){this.zip=new Xme(e);let n=this.zip.getEntry("xl/workbook.bin");if(n){let o=n.getData(),a=new KS(o);for(;a.readWorkbook();)if(a._isSheet){let l=a._workbookName,c=a._recId;this.sheetNames.push(l),this.sheets.push({name:l,rId:c,path:null})}}let i=this.zip.getEntry("xl/_rels/workbook.bin.rels");if(i){let o=i.getData().toString("utf8"),a=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,l,c={};for(;(l=a.exec(o))!==null;)c[l[1]]=l[2];for(let u of this.sheets){let E=c[u.rId];E&&(E.startsWith("/")&&(E=E.substring(1)),E.startsWith("xl/")||(E="xl/"+E),u.path=E)}}if(r){let o="xl/sharedStrings.bin";this.zip.getEntry(o)&&this._readSharedStrings(o)}let s="xl/styles.bin";this.zip.getEntry(s)&&this._readStyles(s),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1}_readSharedStrings(e){let r=this.zip.getEntry(e);if(!r)return;let n=new KS(r.getData());for(;n.readSharedStrings();)n._sharedStringValue!==null&&this.sharedStrings.push(n._sharedStringValue)}_readStyles(e){let r=this.zip.getEntry(e);if(!r)return;let n=new KS(r.getData());for(;n.readStyles(););this.xfIdToNumFmtId=n._xfIndexToNumFmtId,this.customDateFormats=n._customNumFmts}getSheetNames(){return this.sheetNames}read(){if(this._currentSheetIndex===-1&&(this._currentSheetIndex=0,!this._initSheet(0))||this._eof)return!1;for(this._currentRow=[];;){if(!this._reader.readWorksheet())return this._eof=!0,!0;if(this._reader._rowIndex!==-1&&this._reader._rowIndex!==this._pendingRowIndex){let r=this._pendingRowIndex;return this._pendingRowIndex=this._reader._rowIndex,!0}if(this._reader._readCell){let r=this._reader._columnNum,n=null;switch(this._reader._cellType){case 2:n=this.sharedStrings[this._reader._intValue];break;case 3:n=this._reader._doubleVal;let i=this._reader._xfIndex,s=0;if(this.xfIdToNumFmtId&&i<this.xfIdToNumFmtId.length&&(s=this.xfIdToNumFmtId[i]),s>=14&&s<=22||s>=45&&s<=47||this.customDateFormats&&this.customDateFormats.has(s))try{n=this.getDateTimeFromOaDate(n)}catch{}break;case 4:n=this._reader._boolValue;break;case 5:n=this._reader._stringValue;break;default:n=null}this._currentRow[r]=n,r>=this.fieldCount&&(this.fieldCount=r+1)}}}_initSheet(e){if(e>=this.sheets.length)return!1;let r=this.sheets[e],n=this.zip.getEntry(r.path);if(!n)return!1;for(this._reader=new KS(n.getData()),this._eof=!1,this._pendingRowIndex=-1;this._reader.readWorksheet();)if(this._reader._rowIndex!==-1)return this._pendingRowIndex=this._reader._rowIndex,!0;return this._eof=!0,!1}getValue(e){return e<0||e>=this._currentRow.length?null:this._currentRow[e]}};zq.exports=tC});var Zq=g((Jve,Qq)=>{"use strict";var jme=hq(),zme=Jq(),Jme=require("path"),rC=class{static create(e){let r=Jme.extname(e).toLowerCase();if(r===".xlsx")return new jme;if(r===".xlsb")return new zme;throw new Error(`Unsupported extension: ${r}`)}};Qq.exports=rC});var eX={};Sr(eX,{ColumnTypeChooser:()=>Ec,NetezzaDataType:()=>_i,NetezzaImporter:()=>jS,importDataToNetezza:()=>Zme});function Qme(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function Zme(t,e,r,n){let i=Date.now(),s=null;try{if(!t||!Lr.existsSync(t))return{success:!1,message:`Source file not found: ${t}`};if(!e)return{success:!1,message:"Target table name is required"};if(!r)return{success:!1,message:"Connection string is required"};let a=Lr.statSync(t).size,l=ks.extname(t).toLowerCase(),c=[".csv",".txt",".xlsx",".xlsb"];if(!c.includes(l))return{success:!1,message:`Unsupported file format: ${l}. Supported: ${c.join(", ")}`};n?.("Starting import process..."),n?.(`  Source file: ${t}`),n?.(`  Target table: ${e}`),n?.(`  File size: ${a.toLocaleString()} bytes`),n?.(`  File format: ${l}`);let u=new jS(t,e,r);await u.analyzeDataTypes(n),n?.("Using file-based import...");let E=await u.createDataFile(n),d=u.generateCreateTableSql();n?.("Generated SQL:"),n?.(d),n?.("Connecting to Netezza...");let f=Qme(r);f.port||(f.port=5480);let h=Hr();s=new h(f),await s.connect();try{n?.("Executing CREATE TABLE with EXTERNAL data..."),await s.createCommand(d).execute(),n?.("Import completed successfully")}finally{await s.close();try{Lr.existsSync(E)&&(Lr.unlinkSync(E),n?.("Temporary data file cleaned up"))}catch(S){n?.(`Warning: Could not clean up temp file: ${S.message}`)}}let T=(Date.now()-i)/1e3;return{success:!0,message:"Import completed successfully",details:{sourceFile:t,targetTable:e,fileSize:a,format:l,rowsProcessed:u.getRowsCount(),rowsInserted:u.getRowsCount(),processingTime:`${T.toFixed(1)}s`,columns:u.getSqlHeaders().length,detectedDelimiter:u.getCsvDelimiter()}}}catch(o){let a=(Date.now()-i)/1e3;return{success:!1,message:`Import failed: ${o.message}`,details:{processingTime:`${a.toFixed(1)}s`}}}finally{if(s&&s._connected)try{await s.close()}catch{}}}var Lr,ks,nC,_i,Ec,jS,iC=Ke(()=>{"use strict";Lr=oe(require("fs")),ks=oe(require("path"));try{nC=Zq()}catch(t){console.error("ExcelHelpers/ReaderFactory module not available",t)}_i=class{constructor(e,r,n,i){this.dbType=e;this.precision=r;this.scale=n;this.length=i}toString(){return["BIGINT","DATE","DATETIME"].includes(this.dbType)?this.dbType:this.dbType==="NUMERIC"?`${this.dbType}(${this.precision},${this.scale})`:this.dbType==="NVARCHAR"?`${this.dbType}(${this.length})`:`TODO !!! ${this.dbType}`}},Ec=class{constructor(e="."){this.decimalDelimInCsv=".";this.firstTime=!0;this.currentType=new _i("BIGINT"),this.decimalDelimInCsv=e}getType(e){let r=this.currentType.dbType,n=e.length;if(r==="BIGINT"&&/^\d+$/.test(e)&&n<15)return this.firstTime=!1,new _i("BIGINT");let i=this.decimalDelimInCsv==="."?"\\.":this.decimalDelimInCsv,s=(e.match(new RegExp(`${i}`,"g"))||[]).length;if(["BIGINT","NUMERIC"].includes(r)&&s<=1){let a=e.replace(this.decimalDelimInCsv,"");if(/^\d+$/.test(a)&&n<15&&(!a.startsWith("0")||s>0||a==="0"))return this.firstTime=!1,new _i("NUMERIC",16,6)}if((r==="DATE"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=8&&n<=10){let a=e.split("-");if(a.length===3&&a.every(l=>/^\d+$/.test(l)))try{let l=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]));if(!isNaN(l.getTime()))return this.firstTime=!1,new _i("DATE")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=12&&n<=20){let a=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})[\s|T](\d{2}):(\d{2})(:?(\d{2}))?$/);if(a)try{let l=a[7]?parseInt(a[7]):0,c=new Date(parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),l);if(!isNaN(c.getTime()))return this.firstTime=!1,new _i("DATETIME")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/\./g)||[]).length>=2){let a=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(a)try{let l=parseInt(a[1]),c=parseInt(a[2])-1,u=parseInt(a[3]),E=a[4]?parseInt(a[4]):0,d=a[5]?parseInt(a[5]):0,f=a[6]?parseInt(a[6]):0;if(c>=0&&c<=11&&l>=1&&l<=31){let h=new Date(u,c,l,E,d,f);if(!isNaN(h.getTime())&&h.getFullYear()===u&&h.getMonth()===c&&h.getDate()===l)return this.firstTime=!1,new _i("DATETIME")}}catch{}}let o=Math.max(n+5,20);return this.currentType.length!==void 0&&o<this.currentType.length&&(o=this.currentType.length),this.firstTime=!1,new _i("NVARCHAR",void 0,void 0,o)}refreshCurrentType(e){return this.currentType=this.getType(e),this.currentType}},jS=class{constructor(e,r,n){this.delimiter="	";this.delimiterPlain="\\t";this.recordDelim=`
`;this.recordDelimPlain="\\n";this.escapechar="\\";this.csvDelimiter=",";this.excelData=[];this.isExcelFile=!1;this.sqlHeaders=[];this.dataTypes=[];this.rowsCount=0;this.valuesToEscape=[];this.filePath=e,this.targetTable=r,this.logDir=n||ks.join(ks.dirname(e),"netezza_logs");let i=ks.extname(e).toLowerCase();this.isExcelFile=[".xlsx",".xlsb"].includes(i);let s=Math.floor(Math.random()*1e3);this.pipeName=`\\\\.\\pipe\\NETEZZA_IMPORT_${s}`,this.valuesToEscape=[this.escapechar,this.recordDelim,"\r",this.delimiter],Lr.existsSync(this.logDir)||Lr.mkdirSync(this.logDir,{recursive:!0})}detectCsvDelimiter(){let r=Lr.readFileSync(this.filePath,"utf-8").split(`
`)[0]||"";r.startsWith("\uFEFF")&&(r=r.slice(1));let n=[";","	","|",","],i={};for(let o of n)i[o]=(r.match(new RegExp(o==="|"?"\\|":o,"g"))||[]).length;let s=Math.max(...Object.values(i));s>0&&(this.csvDelimiter=Object.keys(i).find(o=>i[o]===s)||",")}cleanColumnName(e){let r=String(e).trim();return r=r.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!r||/^\d/.test(r))&&(r="COL_"+r),r}parseCsvLine(e){let r=[],n="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];o==='"'?i&&e[s+1]==='"'?(n+='"',s++):i=!i:o===this.csvDelimiter&&!i?(r.push(n),n=""):n+=o}return r.push(n),r}async readExcelFile(e){if(!nC)throw new Error("ReaderFactory module not available");e?.("Reading Excel file...");let r=nC.create(this.filePath);await r.open(this.filePath);let n=[],i=o=>{if(o==null)return"";if(o instanceof Date){let a=l=>l<10?"0"+l:l;return`${o.getFullYear()}-${a(o.getMonth()+1)}-${a(o.getDate())} ${a(o.getHours())}:${a(o.getMinutes())}:${a(o.getSeconds())}`}return String(o)},s=0;for(;await r.read();){let o=[],a=r._currentRow;if(a&&Array.isArray(a))for(let l=0;l<a.length;l++)o.push(i(a[l]));n.push(o),s++,s%1e4===0&&e?.(`Processed ${s.toLocaleString()} rows...`)}return typeof r.close=="function"&&await r.close(),e?.(`Excel file loaded: ${n.length} rows`),n}async analyzeDataTypes(e){e?.("Analyzing data types...");let r;if(this.isExcelFile)this.excelData=await this.readExcelFile(e),r=this.excelData;else{this.detectCsvDelimiter();let i=Lr.readFileSync(this.filePath,"utf-8");i.startsWith("\uFEFF")&&(i=i.slice(1));let s=i.split(/\r?\n/);r=[];for(let o of s)o.trim()&&r.push(this.parseCsvLine(o))}if(!r||r.length===0)throw new Error("No data found in file");let n=[];this.sqlHeaders=r[0].map(i=>this.cleanColumnName(i||"COLUMN"));for(let i=0;i<r[0].length;i++)n.push(new Ec);for(let i=1;i<r.length;i++){let s=r[i];for(let o=0;o<s.length;o++)o<n.length&&s[o]&&s[o].trim()&&n[o].refreshCurrentType(s[o].trim());i%1e4===0&&e?.(`Analyzed ${i.toLocaleString()} rows...`)}return this.rowsCount=r.length-1,e?.(`Analysis complete: ${this.rowsCount.toLocaleString()} rows`),this.dataTypes=n,n}escapeValue(e){let r=String(e).trim();for(let n of this.valuesToEscape)r=r.split(n).join(`${this.escapechar}${n}`);return r}formatValue(e,r){let n=this.escapeValue(e);return r<this.dataTypes.length&&this.dataTypes[r].currentType.dbType==="DATETIME"&&(n=n.replace("T"," ")),n}generateCreateTableSql(){let e=[];for(let n=0;n<this.sqlHeaders.length;n++){let i=this.sqlHeaders[n],s=this.dataTypes[n];e.push(`        ${i} ${s.currentType.toString()}`)}let r=this.logDir.replace(/\\/g,"/");return`CREATE TABLE ${this.targetTable} AS 
(
    SELECT * FROM EXTERNAL '${this.pipeName}'
    (
${e.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${this.delimiterPlain}'
        RecordDelim '${this.recordDelimPlain}'
        ESCAPECHAR '${this.escapechar}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${r}'
    )
) DISTRIBUTE ON RANDOM;`}async createDataFile(e){let r=ks.join(this.logDir,`netezza_import_data_${Math.floor(Math.random()*1e3)}.txt`);e?.(`Creating temporary data file: ${r}`);try{let n;if(this.isExcelFile){if(!this.excelData||this.excelData.length===0)throw new Error("Excel data not loaded. Call analyzeDataTypes first.");n=this.excelData.slice(1)}else{let s=Lr.readFileSync(this.filePath,"utf-8");s.startsWith("\uFEFF")&&(s=s.slice(1));let o=s.split(/\r?\n/);n=[];let a=!0;for(let l of o)if(l.trim()){if(a){a=!1;continue}n.push(this.parseCsvLine(l))}}let i=[];for(let s=0;s<n.length;s++){let a=n[s].map((l,c)=>this.formatValue(l||"",c));i.push(a.join(this.delimiter)),(s+1)%1e4===0&&e?.(`Processed ${(s+1).toLocaleString()} rows...`)}return Lr.writeFileSync(r,i.join(this.recordDelim),"utf-8"),this.pipeName=r.replace(/\\/g,"/"),e?.(`Data file created: ${this.pipeName}`),r}catch(n){throw new Error(`Error creating data file: ${n.message}`)}}getRowsCount(){return this.rowsCount}getSqlHeaders(){return this.sqlHeaders}getCsvDelimiter(){return this.csvDelimiter}}});var rX={};Sr(rX,{ClipboardDataProcessor:()=>zS,importClipboardDataToNetezza:()=>ige});function ege(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}function tge(t){let e=String(t).trim();return e=e.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!e||/^\d/.test(e))&&(e="COL_"+e),e}function rge(t,e,r){let n=String(t).trim();for(let i of r)n=n.split(i).join(`${e}${i}`);return n}function nge(t,e,r,n,i){let s=rge(t,n,i);return e<r.length&&r[e].currentType.dbType==="DATETIME"&&(s=s.replace("T"," ")),s}async function ige(t,e,r,n,i){let s=Date.now(),o=null,a=null;try{if(!t)return{success:!1,message:"Target table name is required"};if(!e)return{success:!1,message:"Connection string is required"};i?.("Starting clipboard import process..."),i?.(`  Target table: ${t}`),i?.(`  Format preference: ${r||"auto-detect"}`);let l=new zS,[c,u]=await l.processClipboardData(r,i);if(!c||!c.length)return{success:!1,message:"No data found in clipboard"};if(c.length<2)return{success:!1,message:"Clipboard data must contain at least headers and one data row"};i?.(`  Detected format: ${u}`),i?.(`  Rows: ${c.length}`),i?.(`  Columns: ${c[0].length}`);let E=c[0].map(Z=>tge(Z)),d=c.slice(1);i?.("Detecting decimal separator...");let f=".",h=0,T=0,S=d.slice(0,100);for(let Z of S)for(let ke of Z){if(!ke||!ke.trim())continue;let Ae=ke.trim();/^\d+\.\d+$/.test(Ae)&&h++,/^\d+,\d+$/.test(Ae)&&T++}T>h&&T>0&&(f=","),i?.(`Detected decimal separator: '${f}'`),i?.("Analyzing clipboard data types...");let R=E.map(()=>new Ec(f));for(let Z=0;Z<d.length;Z++){let ke=d[Z];for(let Ae=0;Ae<ke.length;Ae++)Ae<R.length&&ke[Ae]&&ke[Ae].trim()&&R[Ae].refreshCurrentType(ke[Ae].trim());(Z+1)%1e3===0&&i?.(`Analyzed ${(Z+1).toLocaleString()} rows...`)}i?.(`Analysis complete: ${d.length.toLocaleString()} data rows`);let N=sC.join(require("os").tmpdir(),"netezza_clipboard_logs");ns.existsSync(N)||ns.mkdirSync(N,{recursive:!0});let p="	",A="\\t",O=`
`,b="\\n",I="\\",D=[I,O,"\r",p];o=sC.join(N,`netezza_clipboard_import_${Math.floor(Math.random()*1e3)}.txt`),i?.(`Creating temporary data file: ${o}`);let L=[];for(let Z=0;Z<d.length;Z++){let Ae=d[Z].map((Tr,Sc)=>{let Gn=nge(Tr,Sc,R,I,D);if(R[Sc].currentType.dbType==="NUMERIC"&&f===","&&(Gn=Gn.replace(",",".")),R[Sc].currentType.dbType==="DATETIME"){let Hn=Gn.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(Hn){let aR=Hn[1],Vr=Hn[2],lR=Hn[3],Rc=Hn[4]||"00",kE=Hn[5]||"00",as=Hn[6]||"00";Gn=`${lR}-${Vr}-${aR} ${Rc}:${kE}:${as}`}}return Gn});L.push(Ae.join(p)),(Z+1)%1e3===0&&i?.(`Processed ${(Z+1).toLocaleString()} rows...`)}ns.writeFileSync(o,L.join(O),"utf-8");let P=o.replace(/\\/g,"/");i?.(`Data file created: ${P}`);let x=[];for(let Z=0;Z<E.length;Z++)x.push(`        ${E[Z]} ${R[Z].currentType.toString()}`);let $=N.replace(/\\/g,"/"),Y=`CREATE TABLE ${t} AS 
(
    SELECT * FROM EXTERNAL '${P}'
    (
${x.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${A}'
        RecordDelim '${b}'
        ESCAPECHAR '${I}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${$}'
    )
) DISTRIBUTE ON RANDOM;`;i?.("Generated SQL:"),i?.(Y),i?.("Connecting to Netezza...");let V=ege(e);V.port||(V.port=5480);let ee=Hr();a=new ee(V),await a.connect();try{i?.("Executing CREATE TABLE with EXTERNAL clipboard data..."),await a.createCommand(Y).execute(),i?.("Clipboard import completed successfully")}finally{await a.close()}let le=(Date.now()-s)/1e3;return{success:!0,message:"Clipboard import completed successfully",details:{targetTable:t,format:u,rowsProcessed:d.length,rowsInserted:d.length,processingTime:`${le.toFixed(1)}s`,columns:E.length,detectedDelimiter:p}}}catch(l){let c=(Date.now()-s)/1e3;return{success:!1,message:`Clipboard import failed: ${l.message}`,details:{processingTime:`${c.toFixed(1)}s`}}}finally{if(a&&a._connected)try{await a.close()}catch{}if(o&&ns.existsSync(o))try{ns.unlinkSync(o),i?.("Temporary clipboard data file cleaned up")}catch(l){i?.(`Warning: Could not clean up temp file: ${l.message}`)}}}var ns,sC,tX,zS,nX=Ke(()=>{"use strict";ns=oe(require("fs")),sC=oe(require("path")),tX=oe(require("vscode"));iC();zS=class{processXmlSpreadsheet(e,r){r?.("Processing XML Spreadsheet data...");let n=[],i=0,s=[],o=0,a=e.match(/ExpandedColumnCount="(\d+)"/);a&&(i=parseInt(a[1]),r?.(`Table has ${i} columns`));let l=e.match(/ExpandedRowCount="(\d+)"/);l&&r?.(`Table has ${l[1]} rows`);let c=/<Row[^>]*>([\s\S]*?)<\/Row>/gi,u;for(;(u=c.exec(e))!==null;){let E=u[1];s=new Array(i).fill("");let d,f=0,h=/<Cell(?:[^>]*ss:Index="(\d+)")?[^>]*>(?:[\s\S]*?<Data[^>]*(?:\s+ss:Type="([^"]*)")?[^>]*>([^<]*)<\/Data>)?[\s\S]*?<\/Cell>/gi;for(;(d=h.exec(E))!==null;){d[1]&&(f=parseInt(d[1])-1);let T=d[2]||"",S=d[3]||"";T==="Boolean"&&(S=S==="0"?"False":"True"),f<i&&(s[f]=S),f++}s.some(T=>T.trim())&&n.push([...s]),o++,o%1e4===0&&r?.(`Analyzed ${o.toLocaleString()} rows...`)}return r?.(`XML processing complete: ${n.length} rows, ${i} columns`),n}processTextData(e,r){if(r?.("Processing text data..."),!e.trim())return[];let n=e.split(`
`);for(;n.length&&!n[n.length-1].trim();)n.pop();if(!n.length)return[];let i=["	",",",";","|"],s={};for(let c of i){let u=[];for(let E of n.slice(0,Math.min(5,n.length)))if(E.trim()){let d=E.split(c);u.push(d.length)}if(u.length){let E=u.reduce((f,h)=>f+h,0)/u.length,d=u.reduce((f,h)=>f+Math.pow(h-E,2),0)/u.length;s[c]=[E,-d]}}let o="	";Object.keys(s).length&&(o=Object.keys(s).reduce((c,u)=>{let[E,d]=s[c]||[0,0],[f,h]=s[u];return f>E||f===E&&h>d?u:c},"	")),r?.(`Auto-detected delimiter: '${o==="	"?"\\t":o}'`);let a=[],l=0;for(let c of n)if(c.trim()){let u=c.split(o).map(E=>E.trim());a.push(u),l=Math.max(l,u.length)}for(let c of a)for(;c.length<l;)c.push("");return r?.(`Text processing complete: ${a.length} rows, ${l} columns`),a}async getClipboardText(){return await tX.env.clipboard.readText()}async processClipboardData(e,r){r?.("Getting clipboard data...");let n=await this.getClipboardText();if(!n)throw new Error("No data found in clipboard");r?.(`Data size: ${n.length} characters`);let i="TEXT";e==="XML Spreadsheet"||!e&&n.includes("<Workbook")&&n.includes("<Worksheet")?i="XML Spreadsheet":e==="TEXT"&&(i="TEXT"),r?.(`Detected format: ${i}`);let s;return i==="XML Spreadsheet"?s=this.processXmlSpreadsheet(n,r):s=this.processTextData(n,r),r?.(`Processed ${s.length} rows`),s.length&&r?.(`Columns per row: ${s[0].length}`),[s,i]}}});var c3=g((l3,nR)=>{(function(t,e){typeof nR=="object"&&nR.exports?nR.exports=e():t.nearley=e()})(l3,function(){function t(l,c,u){return this.id=++t.highestId,this.name=l,this.symbols=c,this.postprocess=u,this}t.highestId=0,t.prototype.toString=function(l){var c=typeof l>"u"?this.symbols.map(a).join(" "):this.symbols.slice(0,l).map(a).join(" ")+" \u25CF "+this.symbols.slice(l).map(a).join(" ");return this.name+" \u2192 "+c};function e(l,c,u,E){this.rule=l,this.dot=c,this.reference=u,this.data=[],this.wantedBy=E,this.isComplete=this.dot===l.symbols.length}e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(l){var c=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=l,c.isComplete&&(c.data=c.build(),c.right=void 0),c},e.prototype.build=function(){var l=[],c=this;do l.push(c.right.data),c=c.left;while(c.left);return l.reverse(),l},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function r(l,c){this.grammar=l,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(l){for(var c=this.states,u=this.wants,E=this.completed,d=0;d<c.length;d++){var f=c[d];if(f.isComplete){if(f.finish(),f.data!==s.fail){for(var h=f.wantedBy,T=h.length;T--;){var S=h[T];this.complete(S,f)}if(f.reference===this.index){var R=f.rule.name;(this.completed[R]=this.completed[R]||[]).push(f)}}}else{var R=f.rule.symbols[f.dot];if(typeof R!="string"){this.scannable.push(f);continue}if(u[R]){if(u[R].push(f),E.hasOwnProperty(R))for(var N=E[R],T=0;T<N.length;T++){var p=N[T];this.complete(f,p)}}else u[R]=[f],this.predict(R)}}},r.prototype.predict=function(l){for(var c=this.grammar.byName[l]||[],u=0;u<c.length;u++){var E=c[u],d=this.wants[l],f=new e(E,0,this.index,d);this.states.push(f)}},r.prototype.complete=function(l,c){var u=l.nextState(c);this.states.push(u)};function n(l,c){this.rules=l,this.start=c||this.rules[0].name;var u=this.byName={};this.rules.forEach(function(E){u.hasOwnProperty(E.name)||(u[E.name]=[]),u[E.name].push(E)})}n.fromCompiled=function(E,c){var u=E.Lexer;E.ParserStart&&(c=E.ParserStart,E=E.ParserRules);var E=E.map(function(f){return new t(f.name,f.symbols,f.postprocess)}),d=new n(E,c);return d.lexer=u,d};function i(){this.reset("")}i.prototype.reset=function(l,c){this.buffer=l,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var l=this.buffer[this.index++];return l===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:l}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(l,c){var u=this.buffer;if(typeof u=="string"){var E=u.split(`
`).slice(Math.max(0,this.line-5),this.line),d=u.indexOf(`
`,this.index);d===-1&&(d=u.length);var f=this.index-this.lastLineBreak,h=String(this.line).length;return c+=" at line "+this.line+" col "+f+`:

`,c+=E.map(function(S,R){return T(this.line-E.length+R+1,h)+" "+S},this).join(`
`),c+=`
`+T("",h+f)+`^
`,c}else return c+" at index "+(this.index-1);function T(S,R){var N=String(S);return Array(R-N.length+1).join(" ")+N}};function s(l,c,u){if(l instanceof n)var E=l,u=c;else var E=n.fromCompiled(l,c);this.grammar=E,this.options={keepHistory:!1,lexer:E.lexer||new i};for(var d in u||{})this.options[d]=u[d];this.lexer=this.options.lexer,this.lexerState=void 0;var f=new r(E,0),h=this.table=[f];f.wants[E.start]=[],f.predict(E.start),f.process(),this.current=0}s.fail={},s.prototype.feed=function(l){var c=this.lexer;c.reset(l,this.lexerState);for(var u;;){try{if(u=c.next(),!u)break}catch(b){var h=new r(this.grammar,this.current+1);this.table.push(h);var E=new Error(this.reportLexerError(b));throw E.offset=this.current,E.token=b.token,E}var d=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var f=this.current+1,h=new r(this.grammar,f);this.table.push(h);for(var T=u.text!==void 0?u.text:u.value,S=c.constructor===i?u.value:u,R=d.scannable,N=R.length;N--;){var p=R[N],A=p.rule.symbols[p.dot];if(A.test?A.test(S):A.type?A.type===u.type:A.literal===T){var O=p.nextState({data:S,token:u,isToken:!0,reference:f-1});h.states.push(O)}}if(h.process(),h.states.length===0){var E=new Error(this.reportError(u));throw E.offset=this.current,E.token=u,E}this.options.keepHistory&&(d.lexerState=c.save()),this.current++}return d&&(this.lexerState=c.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(l){var c,u,E=l.token;return E?(c="input "+JSON.stringify(E.text[0])+" (lexer error)",u=this.lexer.formatError(E,"Syntax error")):(c="input (lexer error)",u=l.message),this.reportErrorCommon(u,c)},s.prototype.reportError=function(l){var c=(l.type?l.type+" token: ":"")+JSON.stringify(l.value!==void 0?l.value:l),u=this.lexer.formatError(l,"Syntax error");return this.reportErrorCommon(u,c)},s.prototype.reportErrorCommon=function(l,c){var u=[];u.push(l);var E=this.table.length-2,d=this.table[E],f=d.states.filter(function(T){var S=T.rule.symbols[T.dot];return S&&typeof S!="string"});if(f.length===0)u.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(d.states,u);else{u.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var h=f.map(function(T){return this.buildFirstStateStack(T,[])||[T]},this);h.forEach(function(T){var S=T[0],R=S.rule.symbols[S.dot],N=this.getSymbolDisplay(R);u.push("A "+N+" based on:"),this.displayStateStack(T,u)},this)}return u.push(""),u.join(`
`)},s.prototype.displayStateStack=function(l,c){for(var u,E=0,d=0;d<l.length;d++){var f=l[d],h=f.rule.toString(f.dot);h===u?E++:(E>0&&c.push("    ^ "+E+" more lines identical to this"),E=0,c.push("    "+h)),u=h}},s.prototype.getSymbolDisplay=function(l){return o(l)},s.prototype.buildFirstStateStack=function(l,c){if(c.indexOf(l)!==-1)return null;if(l.wantedBy.length===0)return[l];var u=l.wantedBy[0],E=[l].concat(c),d=this.buildFirstStateStack(u,E);return d===null?null:[l].concat(d)},s.prototype.save=function(){var l=this.table[this.current];return l.lexerState=this.lexerState,l},s.prototype.restore=function(l){var c=l.index;this.current=c,this.table[c]=l,this.table.splice(c+1),this.lexerState=l.lexerState,this.results=this.finish()},s.prototype.rewind=function(l){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[l])},s.prototype.finish=function(){var l=[],c=this.grammar.start,u=this.table[this.table.length-1];return u.states.forEach(function(E){E.rule.name===c&&E.dot===E.rule.symbols.length&&E.reference===0&&E.data!==s.fail&&l.push(E)}),l.map(function(E){return E.data})};function o(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return"character matching "+l;if(l.type)return l.type+" token";if(l.test)return"token matching "+String(l.test);throw new Error("Unknown symbol type: "+l)}}function a(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return l.toString();if(l.type)return"%"+l.type;if(l.test)return"<"+String(l.test)+">";throw new Error("Unknown symbol type: "+l)}}return{Parser:s,Grammar:n,Rule:t}})});var g3={};Sr(g3,{ExplainPlanView:()=>GC,parseExplainOutput:()=>J0e});function J0e(t){let e=t.split(`
`).filter(E=>E.trim()),r=t.includes("QUERY VERBOSE PLAN:")||t.includes("Node 1."),n=e.map(E=>E.replace(/^NOTICE:\s*/i,"").trim()).filter(E=>E&&!E.startsWith("QUERY PLAN")&&!E.startsWith("QUERY VERBOSE")),i=[],s=[],o=0,a=0,l=n.findIndex(E=>E.includes("PLANTEXT:")),c=l>=0?n.slice(l+1).filter(E=>!E.startsWith("(")&&!E.includes("locus=")):n,u=[];for(let E of c){if(!E.trim()||E.startsWith("(xpath_")||E.includes("locus="))continue;let d=E.match(/^(\s*)/)?.[1]?.length||0,f=Math.floor(d/3),h=E.match(/^[\s]*(?:[lr]:\s*)?([\w\s-]+?)(?:\s+table\s+"(\w+)")?(?:\s+{[^}]*})?\s*\(cost=([\d.]+)\.\.([\d.]+)\s+rows=(\d+)\s+width=(\d+)\s+conf=([\d.]+)\)/i);if(h){let[,T,S,R,N,p,A,O]=h,b=T.trim(),I={id:++o,type:b,table:S,cost:{start:parseFloat(R),end:parseFloat(N)},rows:parseInt(p),width:parseInt(A),confidence:parseFloat(O),indent:f,children:[],raw:E.trim(),warnings:[]};for(Q0e(I),s.push(...I.warnings),I.cost.end>a&&(a=I.cost.end);u.length>0&&u[u.length-1].indent>=f;)u.pop();u.length>0?u[u.length-1].children.push(I):i.push(I),u.push(I)}}return{nodes:i,rawText:t,isVerbose:r,totalCost:a,warnings:s}}function Q0e(t){t.type.includes("Sequential Scan")&&t.rows>5e5&&t.warnings.push({type:"warning",message:`Sequential Scan on ${t.table||"table"} (${t.rows.toLocaleString()} rows) - consider adding an index`,icon:"\u26A0\uFE0F"}),t.type.includes("Nested Loop")&&t.rows>1e5&&t.warnings.push({type:"critical",message:`Nested Loop producing ${t.rows.toLocaleString()} rows - potential performance issue`,icon:"\u{1F534}"}),t.cost.end>1e10?t.warnings.push({type:"critical",message:`Very high estimated cost: ${t.cost.end.toExponential(2)}`,icon:"\u{1F534}"}):t.cost.end>1e7&&t.warnings.push({type:"warning",message:`High estimated cost: ${t.cost.end.toLocaleString()}`,icon:"\u26A0\uFE0F"}),t.confidence===0&&t.warnings.push({type:"info",message:"Low confidence estimate (conf=0) - statistics may be outdated",icon:"\u2139\uFE0F"})}function Z0e(t){return t.includes("Sequential Scan")?"#e74c3c":t.includes("Index Scan")?"#27ae60":t.includes("Nested Loop")?"#e67e22":t.includes("Hash Join")?"#3498db":t.includes("Merge Join")?"#9b59b6":t.includes("Aggregate")?"#1abc9c":t.includes("Group")?"#16a085":t.includes("Sort")?"#f39c12":t.includes("Limit")?"#95a5a6":t.includes("Sub-query")?"#34495e":"#7f8c8d"}function O3(t,e=0){return t.map(r=>{let n=r.children.length>0,i=Z0e(r.type),s=r.warnings.map(o=>`<span class="warning-badge warning-${o.type}" title="${o.message}">${o.icon}</span>`).join("");return`
        <div class="plan-node" style="--node-color: ${i}">
            <div class="node-header">
                ${n?'<span class="toggle-btn">\u25BC</span>':'<span class="toggle-spacer"></span>'}
                <span class="node-type" style="background-color: ${i}">${r.type}</span>
                ${r.table?`<span class="node-table">${r.table}${r.alias?` (${r.alias})`:""}</span>`:""}
                ${s}
            </div>
            <div class="node-metrics">
                <span class="metric"><b>Cost:</b> ${I3(r.cost.start)}..${I3(r.cost.end)}</span>
                <span class="metric"><b>Rows:</b> ${r.rows.toLocaleString()}</span>
                <span class="metric"><b>Width:</b> ${r.width}</span>
                <span class="metric ${r.confidence===0?"low-conf":""}"><b>Conf:</b> ${r.confidence}%</span>
            </div>
            ${n?`<div class="node-children">${O3(r.children,e+1)}</div>`:""}
        </div>`}).join("")}function I3(t){return t>1e6?t.toExponential(1):t.toLocaleString(void 0,{maximumFractionDigits:1})}function m3(t){return t.reduce((e,r)=>e+1+m3(r.children),0)}function N3(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function eye(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var In,GC,C3=Ke(()=>{"use strict";In=oe(require("vscode"));GC=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(s=>{switch(s.command){case"copyPlan":In.env.clipboard.writeText(n.rawText),In.window.showInformationMessage("Plan copied to clipboard");return}},null,this._disposables)}static{this.viewType="netezza.explainPlan"}static createOrShow(e,r,n){let i=In.window.activeTextEditor?In.ViewColumn.Beside:void 0,s=In.window.createWebviewPanel(t.viewType,"Query Execution Plan",i||In.ViewColumn.One,{enableScripts:!0,localResourceRoots:[In.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(s,e,r,n)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){this._panel.title="Query Execution Plan",this._panel.webview.html=this._getHtmlForWebview(e,r)}_getHtmlForWebview(e,r){let n=this._panel.webview.asWebviewUri(In.Uri.joinPath(this._extensionUri,"media","explainPlan.css")),i=eye(),s=N3(r);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${this._panel.webview.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Query Execution Plan</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>Query Execution Plan</h2>
            <div class="header-actions">
                <button id="copyBtn" class="btn">\u{1F4CB} Copy Plan</button>
                <button id="expandAllBtn" class="btn">\u2795 Expand All</button>
                <button id="collapseAllBtn" class="btn">\u2796 Collapse All</button>
            </div>
        </div>

        ${e.warnings.length>0?`
        <div class="warnings-summary">
            <h3>\u26A0\uFE0F Performance Issues Detected (${e.warnings.length})</h3>
            <ul>
                ${e.warnings.map(o=>`<li class="warning-${o.type}">${o.icon} ${o.message}</li>`).join("")}
            </ul>
        </div>
        `:`
        <div class="no-warnings">
            <span>\u2705 No obvious performance issues detected</span>
        </div>
        `}

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-label">Total Cost:</span>
                <span class="stat-value">${e.totalCost>1e6?e.totalCost.toExponential(2):e.totalCost.toLocaleString()}</span>
            </div>
            <div class="stat">
                <span class="stat-label">Nodes:</span>
                <span class="stat-value">${m3(e.nodes)}</span>
            </div>
        </div>

        <div class="query-section">
            <h3>Query</h3>
            <pre class="query-text">${s}</pre>
        </div>

        <div class="plan-section">
            <h3>Execution Plan</h3>
            <div id="planTree" class="plan-tree">
                ${O3(e.nodes)}
            </div>
        </div>

        <div class="raw-section">
            <details>
                <summary>Raw Plan Output</summary>
                <pre class="raw-plan">${N3(e.rawText)}</pre>
            </details>
        </div>
    </div>

    <script nonce="${i}">
        const vscode = acquireVsCodeApi();
        
        document.getElementById('copyBtn').addEventListener('click', () => {
            vscode.postMessage({ command: 'copyPlan' });
        });

        document.getElementById('expandAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'block');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25BC');
        });

        document.getElementById('collapseAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25B6');
        });

        document.querySelectorAll('.toggle-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const node = e.target.closest('.plan-node');
                const children = node.querySelector('.node-children');
                if (children) {
                    const isHidden = children.style.display === 'none';
                    children.style.display = isHidden ? 'block' : 'none';
                    e.target.textContent = isHidden ? '\u25BC' : '\u25B6';
                }
            });
        });
    </script>
</body>
</html>`}}});var sye={};Sr(sye,{activate:()=>nye,deactivate:()=>iye});module.exports=xK(sye);var Q=oe(require("vscode"));Rr();vR();var qr=oe(require("vscode")),mf=class t{constructor(e,r,n){this.extensionUri=r;this.connectionManager=n;this._disposables=[];this._panel=e,this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.html=this._getHtmlForWebview(this._panel.webview),this._panel.webview.onDidReceiveMessage(async i=>{switch(i.command){case"save":try{await this.connectionManager.saveConnection(i.data),qr.window.showInformationMessage(`Connection '${i.data.name}' saved and activated!`),this.sendConnectionsToWebview()}catch(s){qr.window.showErrorMessage(`Error saving: ${s.message}`)}return;case"delete":try{await qr.window.showWarningMessage(`Are you sure you want to delete '${i.name}'?`,{modal:!0},"Yes","No")==="Yes"&&(await this.connectionManager.deleteConnection(i.name),qr.window.showInformationMessage(`Connection '${i.name}' deleted.`),this.sendConnectionsToWebview())}catch(s){qr.window.showErrorMessage(`Error deleting: ${s.message}`)}return;case"loadConnections":this.sendConnectionsToWebview();return}},null,this._disposables)}async sendConnectionsToWebview(){let e=await this.connectionManager.getConnections(),r=this.connectionManager.getActiveConnectionName();await this._panel.webview.postMessage({command:"updateConnections",connections:e,activeName:r})}static createOrShow(e,r){let n=qr.window.activeTextEditor?qr.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n);return}let i=qr.window.createWebviewPanel("netezzaLogin","Connect to Netezza",n||qr.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getHtmlForWebview(e){let r=e.asWebviewUri(qr.Uri.joinPath(this.extensionUri,"netezza_icon64.png"));return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Connect to Netezza</title>
            <style>
                :root {
                    --container-paddding: 20px;
                    --input-padding-vertical: 6px;
                    --input-padding-horizontal: 8px;
                    --input-margin-vertical: 4px;
                    --input-margin-horizontal: 0;
                }
                body {
                    font-family: var(--vscode-font-family);
                    padding: 0;
                    margin: 0;
                    color: var(--vscode-foreground);
                    background-color: var(--vscode-editor-background);
                    display: flex;
                    height: 100vh;
                    overflow: hidden;
                }
                
                /* Sidebar */
                .sidebar {
                    width: 260px;
                    background-color: var(--vscode-sideBar-background);
                    border-right: 1px solid var(--vscode-panel-border);
                    display: flex;
                    flex-direction: column;
                    flex-shrink: 0;
                    user-select: none;
                }
                .sidebar-header {
                    padding: 10px 15px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    background-color: var(--vscode-sideBarSectionHeader-background);
                }
                .sidebar-title {
                    font-weight: bold;
                    font-size: 11px;
                    text-transform: uppercase;
                    color: var(--vscode-sideBarTitle-foreground);
                }
                .connection-list {
                    flex: 1;
                    overflow-y: auto;
                    padding: 0;
                }
                .connection-item {
                    padding: 8px 15px;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    border-left: 3px solid transparent;
                    color: var(--vscode-sideBar-foreground);
                }
                .connection-item:hover {
                    background-color: var(--vscode-list-hoverBackground);
                }
                .connection-item.active {
                    background-color: var(--vscode-list-activeSelectionBackground);
                    color: var(--vscode-list-activeSelectionForeground);
                    border-left-color: var(--vscode-focusBorder);
                }
                .connection-item .name {
                    flex: 1;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                .connection-item .status {
                    font-size: 0.8em;
                    margin-left: 5px;
                    opacity: 0.7;
                }

                /* Main Content */
                .main {
                    flex: 1;
                    padding: 40px;
                    overflow-y: auto;
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                }
                .form-container {
                    width: 100%;
                    max-width: 500px;
                    background-color: var(--vscode-editorWidget-background);
                    border: 1px solid var(--vscode-widget-border);
                    padding: 30px;
                    border-radius: 4px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
                
                h2 {
                    margin-top: 0;
                    margin-bottom: 25px;
                    font-size: 1.4em;
                    font-weight: 500;
                    padding-bottom: 10px;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .form-group {
                    margin-bottom: 18px;
                }
                .form-row {
                    display: flex;
                    gap: 15px;
                }
                .form-col {
                    flex: 1;
                }

                label {
                    display: block;
                    margin-bottom: 6px;
                    font-weight: 600;
                    font-size: 12px;
                    color: var(--vscode-input-placeholderForeground);
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }

                input, select {
                    width: 100%;
                    padding: 8px 10px;
                    box-sizing: border-box;
                    background: var(--vscode-input-background);
                    color: var(--vscode-input-foreground);
                    border: 1px solid var(--vscode-input-border);
                    border-radius: 2px;
                    font-family: inherit;
                    font-size: 13px;
                }
                input:focus, select:focus {
                    border-color: var(--vscode-focusBorder);
                    outline: 1px solid var(--vscode-focusBorder);
                }
                
                /* Buttons */
                .actions {
                    margin-top: 30px;
                    display: flex;
                    gap: 12px;
                    padding-top: 20px;
                    border-top: 1px solid var(--vscode-panel-border);
                }
                button {
                    background: var(--vscode-button-background);
                    color: var(--vscode-button-foreground);
                    padding: 8px 16px;
                    border: none;
                    cursor: pointer;
                    border-radius: 2px;
                    font-size: 13px;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                button:hover {
                    background: var(--vscode-button-hoverBackground);
                }
                button.secondary {
                    background: var(--vscode-button-secondaryBackground);
                    color: var(--vscode-button-secondaryForeground);
                }
                button.secondary:hover {
                    background: var(--vscode-button-secondaryHoverBackground);
                }
                button.danger {
                    background: var(--vscode-errorForeground);
                    color: white;
                }
                button.icon-btn {
                    padding: 4px;
                    background: transparent;
                    color: var(--vscode-icon-foreground);
                }
                button.icon-btn:hover {
                    background: var(--vscode-toolbar-hoverBackground);
                }

                .icon-img {
                    width: 16px;
                    height: 16px;
                    object-fit: contain;
                }
                .logo-header {
                    width: 32px;
                    height: 32px;
                    margin-right: 10px;
                }

            </style>
        </head>
        <body>
            <div class="sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-title">Saved Connections</span>
                    <button class="icon-btn" id="btnNew" title="New Connection">
                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14 7v1H8v6H7V8H1V7h6V1h1v6h6z"/></svg>
                    </button>
                </div>
                <div id="connectionList" class="connection-list"></div>
            </div>
            
            <div class="main">
                <div class="form-container">
                    <h2 id="formTitle">
                        <img src="${r}" class="logo-header" />
                        New Connection
                    </h2>
                    
                    <div class="form-group">
                        <label for="name">Connection Name</label>
                        <input type="text" id="name" placeholder="Friendly name (e.g. Production)">
                    </div>

                    <div class="form-group">
                        <label for="dbType">
                            Database Type 
                            <img src="${r}" class="icon-img" />
                        </label>
                        <select id="dbType">
                            <option value="NetezzaSQL">NetezzaSQL</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="host">Host</label>
                                <input type="text" id="host" placeholder="Hostname or IP">
                            </div>
                        </div>
                        <div class="form-col" style="flex: 0 0 80px;">
                            <div class="form-group">
                                <label for="port">Port</label>
                                <input type="number" id="port" value="5480">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="database">
                            Database
                        </label>
                        <input type="text" id="database" placeholder="Database name" value="system">
                    </div>

                    <div class="form-row">
                         <div class="form-col">
                            <div class="form-group">
                                <label for="user">User</label>
                                <input type="text" id="user" placeholder="Username">
                            </div>
                         </div>
                         <div class="form-col">
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" id="password" placeholder="Password">
                            </div>
                         </div>
                    </div>
                    
                    <div class="actions">
                        <button id="btnSave" onclick="save()">Save & Connect</button>
                        <button id="btnDelete" class="danger" onclick="del()" style="display: none;">Delete</button>
                    </div>
                </div>
            </div>

            <script>
                const vscode = acquireVsCodeApi();
                let connections = [];
                let activeName = null;
                let currentEditName = null;
                const iconSrc = "${r}";

                // Load initial data
                window.addEventListener('message', event => {
                    const message = event.data;
                    switch (message.command) {
                        case 'updateConnections':
                            connections = message.connections;
                            activeName = message.activeName;
                            renderList();
                            break;
                    }
                });
                
                vscode.postMessage({ command: 'loadConnections' });

                document.getElementById('btnNew').addEventListener('click', () => {
                    clearForm();
                });

                function renderList() {
                    const list = document.getElementById('connectionList');
                    list.innerHTML = '';
                    
                    connections.forEach(conn => {
                        const div = document.createElement('div');
                        div.className = 'connection-item';
                        if (conn.name === currentEditName) {
                             div.classList.add('active');
                        }
                        
                        div.innerHTML = \`<span class="name"><img src="\${iconSrc}" class="icon-img"> \${conn.name}</span>\`;
                        if (conn.name === activeName) {
                            div.innerHTML += \`<span class="status">\u25CF</span>\`;
                            div.title = 'Active Connection';
                        }
                        
                        div.onclick = () => loadForm(conn);
                        list.appendChild(div);
                    });
                }

                function loadForm(conn) {
                    currentEditName = conn.name;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> Edit Connection\`;
                    document.getElementById('name').value = conn.name;
                    document.getElementById('dbType').value = conn.dbType || 'NetezzaSQL';
                    document.getElementById('host').value = conn.host;
                    document.getElementById('port').value = conn.port;
                    document.getElementById('database').value = conn.database;
                    document.getElementById('user').value = conn.user;
                    document.getElementById('password').value = conn.password || ''; 
                    
                    document.getElementById('btnDelete').style.display = 'block';
                    renderList();
                }

                function clearForm() {
                    currentEditName = null;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> New Connection\`;
                    document.getElementById('name').value = '';
                    document.getElementById('dbType').value = 'NetezzaSQL';
                    document.getElementById('host').value = '';
                    document.getElementById('port').value = '5480';
                    document.getElementById('database').value = 'system';
                    document.getElementById('user').value = '';
                    document.getElementById('password').value = '';
                    
                    document.getElementById('btnDelete').style.display = 'none';
                    renderList();
                }

                function save() {
                    const name = document.getElementById('name').value;
                    if (!name) {
                        return; // Add validation UI?
                    }
                    
                    const data = {
                        name: name,
                        dbType: document.getElementById('dbType').value,
                        host: document.getElementById('host').value,
                        port: parseInt(document.getElementById('port').value),
                        database: document.getElementById('database').value,
                        user: document.getElementById('user').value,
                        password: document.getElementById('password').value
                    };
                    
                    vscode.postMessage({
                        command: 'save',
                        data: data
                    });
                }

                function del() {
                    if (currentEditName) {
                        vscode.postMessage({
                            command: 'delete',
                            name: currentEditName
                        });
                    }
                }
            </script>
        </body>
        </html>`}};var fe=oe(require("vscode"));Rr();function y4(t,e,r){return`SELECT description FROM ${t}.._v_object_data WHERE objtype='TABLE' AND objname='${r}' AND schema='${e}'`}function HR(t,e,r){return`
        SELECT 
            X.ATTNAME
            , X.FORMAT_TYPE
            , CASE WHEN X.ATTNOTNULL THEN 1 ELSE 0 END AS IS_NOT_NULL
            , X.COLDEFAULT
            , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
            , MAX(CASE WHEN K.CONTYPE = 'p' THEN 1 ELSE 0 END) AS IS_PK
            , MAX(CASE WHEN K.CONTYPE = 'f' THEN 1 ELSE 0 END) AS IS_FK
        FROM
            ${t}.._V_RELATION_COLUMN X
        INNER JOIN
            ${t}.._V_OBJECT_DATA O ON X.OBJID = O.OBJID
        LEFT JOIN
            ${t}.._V_RELATION_KEYDATA K 
            ON UPPER(K.RELATION) = UPPER(O.OBJNAME) 
            AND UPPER(K.SCHEMA) = UPPER(O.SCHEMA)
            AND UPPER(K.ATTNAME) = UPPER(X.ATTNAME)
            AND K.CONTYPE IN ('p', 'f')
        WHERE
            UPPER(O.OBJNAME) = UPPER('${r}')
            AND UPPER(O.DBNAME) = UPPER('${t}')
            AND UPPER(O.SCHEMA) = UPPER('${e}')
        GROUP BY 
            X.ATTNAME, X.FORMAT_TYPE, X.ATTNOTNULL, X.COLDEFAULT, X.DESCRIPTION, X.ATTNUM
        ORDER BY 
            X.ATTNUM
    `}function L4(t){let e=!1,r=t.IS_NOT_NULL;return typeof r=="boolean"?e=r:typeof r=="number"?e=r===1:typeof r=="string"&&(e=r==="1"||r.toLowerCase()==="true"||r.toLowerCase()==="t"),{attname:t.ATTNAME,formatType:t.FORMAT_TYPE,isNotNull:e,colDefault:t.COLDEFAULT||null,description:t.DESCRIPTION||"",isPk:Number(t.IS_PK)===1,isFk:Number(t.IS_FK)===1}}function b4(t){if(!t)return null;try{let e=JSON.parse(t);if(e.length>0&&e[0].DESCRIPTION)return e[0].DESCRIPTION}catch{}return null}function WR(t){if(!t)return[];try{return JSON.parse(t).map(L4)}catch(e){return console.error("[TableMetadataProvider] Error parsing column metadata:",e),[]}}async function oy(t,e,r,n){let i=y4(e,r,n),s=HR(e,r,n),[o,a]=await Promise.all([t(i),t(s)]);return{tableComment:b4(o),columns:WR(a)}}function ay(t){return t.map(e=>({ATTNAME:e.attname,FORMAT_TYPE:e.formatType,IS_NOT_NULL:e.isNotNull?1:0,COLDEFAULT:e.colDefault,DESCRIPTION:e.description,IS_PK:e.isPk?1:0,IS_FK:e.isFk?1:0}))}var gf=class{constructor(e,r,n){this.context=e;this.connectionManager=r;this.metadataCache=n;this._onDidChangeTreeData=new fe.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.connectionManager.onDidChangeConnections(()=>this.refresh())}refresh(){this._onDidChangeTreeData.fire()}triggerDatabasePrefetch(e,r){this.metadataCache.hasConnectionPrefetchTriggered(e)||(console.log(`[SchemaProvider] Triggering connection prefetch for: ${e}`),this.metadataCache.triggerConnectionPrefetch(e,async n=>{try{return await q(this.context,n,!0,e,this.connectionManager)}catch(i){console.error("[SchemaProvider] Prefetch query error:",i);return}}))}getTreeItem(e){return e}getParent(e){if(e.contextValue!=="serverInstance"){if(e.contextValue==="database")return new kt(e.connectionName,fe.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,e.connectionName,void 0);if(e.contextValue.startsWith("typeGroup"))return new kt(e.dbName,fe.TreeItemCollapsibleState.Collapsed,"database",e.dbName,void 0,void 0,void 0,void 0,e.connectionName);if(e.contextValue.startsWith("netezza:"))return new kt(e.objType,fe.TreeItemCollapsibleState.Collapsed,`typeGroup:${e.objType}`,e.dbName,e.objType,void 0,void 0,void 0,e.connectionName)}}async getChildren(e){if(e){if(e.contextValue==="serverInstance"){if(!e.connectionName)return[];let r=this.metadataCache.getDatabases(e.connectionName);if(r)return r.map(n=>new kt(n.label||n.DATABASE,fe.TreeItemCollapsibleState.Collapsed,"database",n.label||n.DATABASE,void 0,void 0,void 0,void 0,e.connectionName));try{let n=await q(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e.connectionName,this.connectionManager);if(!n)return[];let i=JSON.parse(n),s=i.map(o=>({label:o.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e.connectionName,s),i.map(o=>new kt(o.DATABASE,fe.TreeItemCollapsibleState.Collapsed,"database",o.DATABASE,void 0,void 0,void 0,void 0,e.connectionName))}catch(n){return fe.window.showErrorMessage(`Failed to load databases for ${e.connectionName}: ${n}`),[]}}else if(e.contextValue==="database"){if(e.connectionName&&e.dbName&&this.triggerDatabasePrefetch(e.connectionName,e.dbName),e.connectionName&&e.dbName){let r=this.metadataCache.getTypeGroups(e.connectionName,e.dbName);if(r&&r.length>0)return r.map(n=>new kt(n,fe.TreeItemCollapsibleState.Collapsed,`typeGroup:${n}`,e.dbName,n,void 0,void 0,void 0,e.connectionName))}try{let r=`SELECT DISTINCT OBJTYPE FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' ORDER BY OBJTYPE`,n=await q(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName){let s=i.map(o=>o.OBJTYPE);this.metadataCache.setTypeGroups(e.connectionName,e.dbName,s)}return i.map(s=>new kt(s.OBJTYPE,fe.TreeItemCollapsibleState.Collapsed,`typeGroup:${s.OBJTYPE}`,e.dbName,s.OBJTYPE,void 0,void 0,void 0,e.connectionName))}catch(r){return fe.window.showErrorMessage("Failed to load object types: "+r),[]}}else if(e.contextValue.startsWith("typeGroup")){if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW"||e.objType==="EXTERNAL TABLE")){let r=this.metadataCache.getObjectsWithSchema(e.connectionName,e.dbName);if(r&&r.length>0){let n=e.objType,i=r.filter(s=>{let o=s.item;return o.objType?o.objType===n:n==="VIEW"?o.kind===18:n==="TABLE"?o.kind!==18&&o.detail!=="EXTERNAL TABLE":n==="EXTERNAL TABLE"?o.detail==="EXTERNAL TABLE"||o.detail?.startsWith("EXTERNAL TABLE"):!1});if(i.length>0)return i.map(s=>new kt(typeof s.item.label=="string"?s.item.label:s.item.label?.label||"unknown",fe.TreeItemCollapsibleState.Collapsed,`netezza:${e.objType}`,e.dbName,e.objType,s.schema,s.objId,void 0,e.connectionName))}}try{let r;e.objType==="PROCEDURE"?r=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA, OBJID::INT AS OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_PROCEDURE WHERE DATABASE = '${e.dbName}' ORDER BY PROCEDURESIGNATURE`:r=`SELECT OBJNAME, SCHEMA, OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' AND OBJTYPE = '${e.objType}' ORDER BY OBJNAME`;let n=await q(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW")){let s=new Map;for(let o of i){let a=o.SCHEMA?`${e.dbName}.${o.SCHEMA}`:`${e.dbName}..`;s.has(a)||s.set(a,{tables:[],idMap:new Map});let l=s.get(a);l.tables.push({label:o.OBJNAME,kind:e.objType==="VIEW"?18:7,detail:o.SCHEMA?e.objType:`${e.objType} (${o.SCHEMA})`,sortText:o.OBJNAME});let c=o.SCHEMA?`${e.dbName}.${o.SCHEMA}.${o.OBJNAME}`:`${e.dbName}..${o.OBJNAME}`;l.idMap.set(c,o.OBJID)}}return i.map(s=>{let a=["TABLE","VIEW","EXTERNAL TABLE","SYSTEM VIEW","SYSTEM TABLE"].includes(e.objType||"");return new kt(s.OBJNAME,a?fe.TreeItemCollapsibleState.Collapsed:fe.TreeItemCollapsibleState.None,`netezza:${e.objType}`,e.dbName,e.objType,s.SCHEMA,s.OBJID,s.DESCRIPTION,e.connectionName)})}catch(r){return fe.window.showErrorMessage("Failed to load objects: "+r),[]}}else if(e.contextValue.startsWith("netezza:")){let r=e.label,n=e.schema,i=e.dbName;if(e.connectionName&&i){let s=`${i}.${n||""}.${r}`,o=this.metadataCache.getColumns(e.connectionName,s);if(o&&o.length>0&&o[0].isPk!==void 0)return o.map(a=>new kt(a.detail?`${a.label} (${a.detail})`:a.label,fe.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,a.documentation||"",e.connectionName,r,void 0,a.isPk,a.isFk))}if(!e.connectionName||!i)return[];try{let s=HR(i,n||"",r),o=await q(this.context,s,!0,e.connectionName,this.connectionManager),a=WR(o),l=`${i}.${n||""}.${r}`,c=a.map(u=>({label:u.attname,kind:5,detail:u.formatType,documentation:u.description,isPk:u.isPk,isFk:u.isFk}));return this.metadataCache.setColumns(e.connectionName,l,c),a.map(u=>new kt(`${u.attname} (${u.formatType})`,fe.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,u.description,e.connectionName,r,void 0,u.isPk,u.isFk))}catch(s){return fe.window.showErrorMessage("Failed to load columns: "+s),[]}}}else{let r=await this.connectionManager.getConnections(),n=fe.Uri.file(this.context.asAbsolutePath("netezza_icon64.png"));return r.map(i=>new kt(i.name,fe.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,i.name,void 0,n))}return[]}},kt=class extends fe.TreeItem{constructor(r,n,i,s,o,a,l,c,u,E,d,f,h){super(r,n);this.label=r;this.collapsibleState=n;this.contextValue=i;this.dbName=s;this.objType=o;this.schema=a;this.objId=l;this.objectDescription=c;this.connectionName=u;this.parentName=E;this.isPk=f;this.isFk=h;let T=this.label;u&&(T+=`
[Server: ${u}]`),c&&c.trim()&&(T+=`

${c.trim()}`),a&&i.startsWith("netezza:")&&(T+=`

Schema: ${a}`),this.isPk&&(T+=`
\u{1F511} Primary Key`),this.isFk&&(T+=`
\u{1F517} Foreign Key`),this.tooltip=T,this.description=a?`(${a})`:"";let S=[u||"global",i,s||"",a||"",o||"",E||"",r,l?l.toString():""];this.id=S.join("|"),d?this.iconPath=d:i==="serverInstance"?this.iconPath=new fe.ThemeIcon("server"):i==="database"?this.iconPath=new fe.ThemeIcon("database"):i.startsWith("typeGroup")?this.iconPath=new fe.ThemeIcon("folder"):i.startsWith("netezza:")?this.iconPath=this.getIconForType(o):i==="column"&&(this.isPk?this.iconPath=new fe.ThemeIcon("key",new fe.ThemeColor("charts.yellow")):this.isFk?this.iconPath=new fe.ThemeIcon("link",new fe.ThemeColor("charts.blue")):this.iconPath=new fe.ThemeIcon("symbol-field"))}getIconForType(r){switch(r){case"TABLE":return new fe.ThemeIcon("table");case"VIEW":return new fe.ThemeIcon("eye");case"PROCEDURE":return new fe.ThemeIcon("gear");case"FUNCTION":return new fe.ThemeIcon("symbol-function");case"AGGREGATE":return new fe.ThemeIcon("symbol-operator");case"EXTERNAL TABLE":return new fe.ThemeIcon("server");default:return new fe.ThemeIcon("file")}}};var Ge=oe(require("vscode"));var Wr=oe(require("vscode")),Cf=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(i=>{switch(i.command){case"alert":Wr.window.showErrorMessage(i.text);return;case"info":Wr.window.showInformationMessage(i.text);return}},null,this._disposables)}static{this.viewType="netezza.analysisPanel"}static createOrShow(e,r){let n=Wr.window.activeTextEditor?Wr.ViewColumn.Beside:void 0,i=Wr.window.createWebviewPanel(t.viewType,"Data Analysis",n||Wr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Wr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(i,e,r)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){let r=this._panel.webview;this._panel.title="Data Analysis",this._panel.webview.html=this._getHtmlForWebview(r,e)}_getHtmlForWebview(e,r){let n=Wr.Uri.joinPath(this._extensionUri,"media","analysisPanel.js"),i=e.asWebviewUri(n),s=Wr.Uri.joinPath(this._extensionUri,"media","analysisPanel.css"),o=e.asWebviewUri(s),a=e.asWebviewUri(Wr.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),l=e.asWebviewUri(Wr.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),c=w4();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}'; font-src ${e.cspSource};">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${o}" rel="stylesheet">

            <title>Data Analysis</title>
        </head>
        <body>
            <div id="app">
                <div class="sidebar">
                    <div class="section">
                        <h3>Fields</h3>
                        <div id="fieldList" class="field-list"></div>
                    </div>
                </div>
                <div class="main-content">
                    <div class="filter-section" style="margin-bottom: 15px; display: flex; gap: 10px; align-items: center;">
                        <label for="dataFilter" style="font-weight: bold;">Filter:</label>
                        <input type="text" id="dataFilter" placeholder="Type to filter data..." style="flex: 1; padding: 6px 10px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); border-radius: 4px;">
                        <button id="applyFilter" style="padding: 6px 12px; cursor: pointer;">Apply</button>
                        <button id="clearFilter" style="padding: 6px 12px; cursor: pointer;">Clear</button>
                    </div>
                    <div class="config-zones">
                        <div class="zone-container">
                            <h4>Rows</h4>
                            <div id="rowsZone" class="drop-zone" data-zone="rows"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Columns</h4>
                            <div id="colsZone" class="drop-zone" data-zone="cols"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Values</h4>
                            <div id="valuesZone" class="drop-zone" data-zone="values"></div>
                        </div>
                    </div>
                    <div class="pivot-grid-container">
                        <div id="pivotGrid"></div>
                    </div>
                    <div class="chart-container" style="margin-top: 20px;">
                        <div class="chart-header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <h4 style="margin: 0;">Chart</h4>
                            <select id="chartType" style="padding: 4px;">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                            </select>
                        </div>
                        <canvas id="pivotChart" width="600" height="300" style="background: var(--vscode-editor-background); border: 1px solid var(--vscode-panel-border); border-radius: 4px;"></canvas>
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${a}"></script>
            <script nonce="${c}" src="${l}"></script>
            <script nonce="${c}">
                // Pass initial data to the script
                window.initialData = ${JSON.stringify(r)};
                window.TableCore = TableCore;
                window.VirtualCore = VirtualCore;
            </script>
            <script nonce="${c}" src="${i}"></script>
        </body>
        </html>`}};function w4(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Lc=class{constructor(e){this._resultsMap=new Map;this._pinnedSources=new Set;this._pinnedResults=new Map;this._autoPinnedResults=new Set;this._resultIdCounter=0;this._extensionUri=e}static{this.viewType="netezza.results"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[Ge.Uri.joinPath(this._extensionUri,"media")]},e.webview.html=this._getHtmlForWebview(),e.webview.onDidReceiveMessage(i=>{switch(i.command){case"analyze":Cf.createOrShow(this._extensionUri,i.data);return;case"exportCsv":this.exportCsv(i.data);return;case"openInExcel":this.openInExcel(i.data,i.sql);return;case"copyAsExcel":this.copyAsExcel(i.data,i.sql);return;case"exportJson":this.exportJson(i.data);return;case"exportXml":this.exportXml(i.data);return;case"exportSqlInsert":this.exportSqlInsert(i.data);return;case"exportMarkdown":this.exportMarkdown(i.data);return;case"switchSource":this._activeSourceUri=i.sourceUri,this._updateWebview();return;case"togglePin":this._pinnedSources.has(i.sourceUri)?this._pinnedSources.delete(i.sourceUri):this._pinnedSources.add(i.sourceUri),this._updateWebview();return;case"toggleResultPin":this._toggleResultPin(i.sourceUri,i.resultSetIndex);return;case"switchToPinnedResult":this._switchToPinnedResult(i.resultId);return;case"unpinResult":this._pinnedResults.delete(i.resultId),this._updateWebview();return;case"closeSource":this.closeSource(i.sourceUri);return;case"copyToClipboard":Ge.env.clipboard.writeText(i.text),Ge.window.showInformationMessage("Copied to clipboard");return;case"info":Ge.window.showInformationMessage(i.text);return;case"error":Ge.window.showErrorMessage(i.text);return}})}setActiveSource(e){this._resultsMap.has(e)&&this._activeSourceUri!==e&&(this._activeSourceUri=e,this._updateWebview())}startExecution(e){let r=this._resultsMap.get(e)||[],n,i=r.findIndex(E=>E.isLog);if(i!==-1){n=r[i];let E=new Date().toLocaleTimeString();n.data.push(["",""]),n.data.push([E,"--- New Execution Started ---"]),n.message="Execution started...",n.executionTimestamp=Date.now()}else n={columns:[{name:"Time",type:"string"},{name:"Message",type:"string"}],data:[],message:"Execution started...",executionTimestamp:Date.now(),isLog:!0,name:"Logs"};let s=Array.from(this._pinnedResults.entries()).filter(([E,d])=>d.sourceUri===e&&r[d.resultSetIndex]!==n).sort((E,d)=>E[1].resultSetIndex-d[1].resultSetIndex),o=[];s.forEach(([E,d])=>{d.resultSetIndex<r.length&&o.push(r[d.resultSetIndex])});let a=[n,...o];this._resultsMap.set(e,a),Array.from(this._pinnedResults.entries()).filter(([E,d])=>d.sourceUri===e).map(([E,d])=>E).forEach(E=>this._pinnedResults.delete(E));let c=`result_${++this._resultIdCounter}`,u=e.split(/[\\/]/).pop()||e;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:0,timestamp:Date.now(),label:`${u} - Logs`}),s.forEach(([E,d],f)=>{let h=`result_${++this._resultIdCounter}`;this._pinnedResults.set(h,{sourceUri:e,resultSetIndex:f+1,timestamp:Date.now(),label:`${u} - Result ${f+2}`})}),this._pinnedSources.add(e),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}log(e,r){let n=this._resultsMap.get(e);if(!n||n.length===0)return;let i=n.find(s=>s.isLog);if(i){let s=new Date().toLocaleTimeString();i.data.push([s,r]),this._updateWebview()}}finalizeExecution(e){for(let r of this._autoPinnedResults){let n=this._pinnedResults.get(r);n&&n.sourceUri===e&&this._pinnedResults.delete(r)}this._autoPinnedResults.clear()}updateResults(e,r,n=!1){this._resultsMap.has(r)||this._pinnedSources.add(r);let i=[];Array.isArray(e)?i=e:i=[e];let s=Date.now();i.forEach(f=>{f.executionTimestamp=s});let o=this._resultsMap.get(r)||[],a=o.find(f=>f.isLog),l=Array.from(this._pinnedResults.entries()).filter(([f,h])=>h.sourceUri===r).sort((f,h)=>f[1].resultSetIndex-h[1].resultSetIndex),c=[],u=new Map;a&&c.push(a),l.forEach(([f,h])=>{let T=o[h.resultSetIndex];T&&(T===a||c.includes(T)||c.push(T),u.set(f,T))});let E=c.length;c.push(...i);let d=r.split(/[\\\\/]/).pop()||r;if(i.forEach((f,h)=>{let T=`result_${++this._resultIdCounter}`,S=E+h;this._pinnedResults.set(T,{sourceUri:r,resultSetIndex:S,timestamp:Date.now(),label:f.isLog?`${d} - Logs`:`${d} - Result ${S}`}),this._autoPinnedResults.add(T)}),this._resultsMap.set(r,c),u.forEach((f,h)=>{let T=c.indexOf(f);if(T!==-1){let S=this._pinnedResults.get(h);S&&(S.resultSetIndex=T)}}),a&&!Array.from(u.values()).includes(a)){let h=`result_${++this._resultIdCounter}`,T=r.split(/[\\/]/).pop()||r;this._pinnedResults.set(h,{sourceUri:r,resultSetIndex:0,timestamp:Date.now(),label:`${T} - Logs`})}n||Array.from(this._resultsMap.keys()).filter(h=>h!==r&&!this._pinnedSources.has(h)).forEach(h=>{this._resultsMap.delete(h),Array.from(this._pinnedResults.entries()).filter(([S,R])=>R.sourceUri===h).map(([S,R])=>S).forEach(S=>this._pinnedResults.delete(S))}),this._activeSourceUri=r,this._view?(this._updateWebview(),this._view.show?.(!0)):Ge.window.showInformationMessage('Query completed. Please open "Query Results" panel to view data.')}_updateWebview(){this._view&&(this._view.webview.html=this._getHtmlForWebview())}_toggleResultPin(e,r){let n=Array.from(this._pinnedResults.entries()).find(([i,s])=>s.sourceUri===e&&s.resultSetIndex===r);if(n)this._pinnedResults.delete(n[0]);else{let i=`result_${++this._resultIdCounter}`,s=Date.now(),a=`${e.split(/[\\/]/).pop()||e} - Result ${r+1}`;this._pinnedResults.set(i,{sourceUri:e,resultSetIndex:r,timestamp:s,label:a})}this._updateWebview()}_switchToPinnedResult(e){let r=this._pinnedResults.get(e);r&&(this._activeSourceUri=r.sourceUri,this._updateWebview(),this._view&&this._view.webview.postMessage({command:"switchToResultSet",resultSetIndex:r.resultSetIndex}))}async exportCsv(e){let r=await Ge.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export"});r&&(await Ge.workspace.fs.writeFile(r,Buffer.from(e)),Ge.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async openInExcel(e,r){Ge.commands.executeCommand("netezza.exportCurrentResultToXlsbAndOpen",e,r)}async copyAsExcel(e,r){Ge.commands.executeCommand("netezza.copyCurrentResultToXlsbClipboard",e,r)}async exportJson(e){let r=await Ge.window.showSaveDialog({filters:{"JSON Files":["json"]},saveLabel:"Export JSON"});r&&(await Ge.workspace.fs.writeFile(r,Buffer.from(e)),Ge.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportXml(e){let r=await Ge.window.showSaveDialog({filters:{"XML Files":["xml"]},saveLabel:"Export XML"});r&&(await Ge.workspace.fs.writeFile(r,Buffer.from(e)),Ge.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportSqlInsert(e){let r=await Ge.window.showSaveDialog({filters:{"SQL Files":["sql"]},saveLabel:"Export SQL"});r&&(await Ge.workspace.fs.writeFile(r,Buffer.from(e)),Ge.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportMarkdown(e){let r=await Ge.window.showSaveDialog({filters:{"Markdown Files":["md"]},saveLabel:"Export Markdown"});r&&(await Ge.workspace.fs.writeFile(r,Buffer.from(e)),Ge.window.showInformationMessage(`Results exported to ${r.fsPath}`))}closeSource(e){if(this._resultsMap.has(e)){if(this._resultsMap.delete(e),this._pinnedSources.delete(e),Array.from(this._pinnedResults.entries()).filter(([n,i])=>i.sourceUri===e).map(([n,i])=>n).forEach(n=>this._pinnedResults.delete(n)),this._activeSourceUri===e){let n=Array.from(this._resultsMap.keys());this._activeSourceUri=n.length>0?n[0]:void 0}this._updateWebview()}}_getHtmlForWebview(){if(!this._view)return"";let{scriptUri:e,virtualUri:r,mainScriptUri:n,styleUri:i,workerUri:s}=this._getScriptUris(),o=this._prepareViewData();return this._buildHtmlDocument(e,r,n,i,o,s)}_getScriptUris(){return{scriptUri:this._view.webview.asWebviewUri(Ge.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),virtualUri:this._view.webview.asWebviewUri(Ge.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),mainScriptUri:this._view.webview.asWebviewUri(Ge.Uri.joinPath(this._extensionUri,"media","resultPanel.js")),workerUri:this._view.webview.asWebviewUri(Ge.Uri.joinPath(this._extensionUri,"media","searchWorker.js")),styleUri:this._view.webview.asWebviewUri(Ge.Uri.joinPath(this._extensionUri,"media","resultPanel.css"))}}_prepareViewData(){let e=Array.from(this._resultsMap.keys()),r=Array.from(this._pinnedSources),n=Array.from(this._pinnedResults.entries()).map(([a,l])=>({id:a,...l})),i=this._activeSourceUri&&this._resultsMap.has(this._activeSourceUri)?this._activeSourceUri:e.length>0?e[0]:null,s=i?this._resultsMap.get(i):[],o=(a,l)=>typeof l=="bigint"?l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l):l.toString():l;return{sourcesJson:JSON.stringify(e),pinnedSourcesJson:JSON.stringify(r),pinnedResultsJson:JSON.stringify(n),activeSourceJson:JSON.stringify(i),resultSetsJson:JSON.stringify(s,o)}}_buildHtmlDocument(e,r,n,i,s,o){let a=this._view.webview.cspSource,l={eye:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 3c-3 0-6 2.5-6 5s3 5 6 5 6-2.5 6-5-3-5-6-5zm0 9c-2.5 0-4.5-2-4.5-4S5.5 4 8 4s4.5 2 4.5 4-2 4.5-4.5 4.5z"/><circle cx="8" cy="8" r="2"/></svg>',excel:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/></svg>',copy:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4 4h7v2H4V4zm0 4h7v2H4V8zm0 4h7v2H4v-2zM2 1h12v14H2V1zm1 1v12h10V2H3z"/></svg>',csv:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13 2H6L2 6v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-1 11H4V7h3V4h5v9z"/></svg>',json:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M5 2c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2h-2V2H7v2H5V2zm0 12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-2h-2v2H7v-2H5v2zM2 7v2h2V7H2zm10 0v2h2V7h-2z"/></svg>',xml:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M11.5 1L7 15h2l4.5-14h-2zM4.5 1L0 15h2l4.5-14h-2z"/></svg>',sql:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 0C3.6 0 0 1.8 0 4v8c0 2.2 3.6 4 8 4s8-1.8 8-4V4c0-2.2-3.6-4-8-4zm0 2c3.3 0 6 1.3 6 3s-2.7 3-6 3-6-1.3-6-3 2.7-3 6-3zm0 12c-3.3 0-6-1.3-6-3V9c1.6 1.7 4.3 2 6 2s4.4-.3 6-2v2c0 1.7-2.7 3-6 3z"/></svg>',markdown:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14.5 2H1.5C.7 2 0 2.7 0 3.5v9C0 13.3.7 14 1.5 14h13c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5zM3 11V5l2 2 2-2v6H6V7l-1 1-1-1v4H3zm10 0h-2V9h-2v2H7V5h2v2h2V5h2v6z"/></svg>',export:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/><path d="M10 12L8 14L6 12" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>',checkAll:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13.485 1.929l1.414 1.414-9.9 9.9-4.243-4.242 1.415-1.415 2.828 2.829z"/></svg>',clear:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 7.293l4.146-4.147.708.708L8.707 8l4.147 4.146-.708.708L8 8.707l-4.146 4.147-.708-.708L7.293 8 3.146 3.854l.708-.708L8 7.293z"/></svg>'};return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src ${a} 'unsafe-inline'; worker-src ${a} blob:; connect-src ${a}; style-src ${a} 'unsafe-inline';">
            <title>Query Results</title>
            <script src="${e}"></script>
            <script src="${r}"></script>
            <link rel="stylesheet" href="${i}">
        </head>
        <body>
            <div id="sourceTabs" class="source-tabs"></div>
            <div id="resultSetTabs" class="result-set-tabs" style="display: none;"></div>
            
            <div class="controls">
                <input type="text" id="globalFilter" placeholder="Filter..." onkeyup="onFilterChanged()" style="background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); padding: 4px;">
                <button onclick="toggleRowView()" title="Toggle Row View">${l.eye} Row View</button>
                
                <!-- Split Button for Export -->
                <div class="split-btn-container">
                    <button id="exportMainBtn" class="split-btn-main" onclick="executeSplitExport()" title="Export results (Excel)">
                        ${l.excel} Excel
                    </button>
                    <button id="exportArrowBtn" class="split-btn-arrow" onclick="toggleExportMenu()" title="Select export format">
                        <svg width="10" height="10" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                            <path d="M8 11L3 6h10l-5 5z"/>
                        </svg>
                    </button>
                    <div id="exportMenu" class="split-btn-menu" style="display:none;">
                        <div class="split-btn-menu-item" onclick="selectExportFormat('excel')">
                            ${l.excel} Excel (XLSB)
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('csv')">
                            ${l.csv} CSV
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('json')">
                            ${l.json} JSON
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('xml')">
                            ${l.xml} XML
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('sql')">
                            ${l.sql} SQL INSERT
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('markdown')">
                            ${l.markdown} Markdown Table
                        </div>
                    </div>
                </div>

                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="copyAsExcel()" title="Copy results as Excel to clipboard">${l.excel} Excel Copy</button>
                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="selectAll()" title="Select all rows">${l.checkAll} Select All</button>
                <button onclick="copySelection(false)" title="Copy selected cells to clipboard">${l.copy} Copy</button>
                <button onclick="copySelection(true)" title="Copy selected cells with headers">${l.copy} Copy w/ Headers</button>
                <button onclick="clearAllFilters()" title="Clear all column filters">${l.clear} Clear Filters</button>
                <span id="rowCountInfo" style="margin-left: auto; font-size: 12px; opacity: 0.8;"></span>
            </div>

            <div id="groupingPanel" class="grouping-panel" ondragover="onDragOverGroup(event)" ondragleave="onDragLeaveGroup(event)" ondrop="onDropGroup(event)">
                <span style="opacity: 0.5;">Drag headers here to group</span>
            </div>

            <div id="mainSplitView" class="main-split-view">
                <div id="gridContainer"></div>
                <div id="rowViewPanel" class="row-view-panel">
                    <div class="row-view-header">
                        <span>Row Details & Comparison</span>
                        <span class="row-view-close" onclick="toggleRowView()">\xD7</span>
                    </div>
                    <div id="rowViewContent" class="row-view-content">
                        <div class="row-view-placeholder">Select 1 or 2 rows to view details or compare</div>
                    </div>
                </div>
            </div>
            
            <script>
                const vscode = acquireVsCodeApi();
                window.sources = ${s.sourcesJson};
                window.pinnedSources = new Set(${s.pinnedSourcesJson});
                window.pinnedResults = ${s.pinnedResultsJson};
                window.activeSource = ${s.activeSourceJson};
                window.resultSets = ${s.resultSetsJson};
                
                let grids = [];
                let activeGridIndex = window.resultSets && window.resultSets.length > 0 ? window.resultSets.length - 1 : 0;
                const workerUri = "${o}";
            </script>
            <script src="${n}"></script>
            <script>
                // Initialize on load
                init();
            </script>
        </body>
        </html>`}};var Pe=oe(require("vscode"));Rr();var yf=class{constructor(e,r,n){this.context=e;this.metadataCache=r;this.connectionManager=n}async provideCompletionItems(e,r,n,i){let s=e.getText(),o=this.stripComments(s),a=this.parseLocalDefinitions(o),l=e.lineAt(r).text.substr(0,r.character),c=l.toUpperCase(),u=r.line>0?e.lineAt(r.line-1).text:"",E=this.connectionManager.getConnectionForExecution(e.uri.toString());if(E||(E=this.connectionManager.getActiveConnectionName()||void 0),E&&!this.metadataCache.hasConnectionPrefetchTriggered(E)&&this.metadataCache.triggerConnectionPrefetch(E,N=>q(this.context,N,!0,E,this.connectionManager)),/(FROM|JOIN)\s+$/.test(c)){let N=await this.getDatabases(E);return[...a.map(A=>{let O=new Pe.CompletionItem(A.name,Pe.CompletionItemKind.Class);return O.detail=A.type,O}),...N]}if(/(?:FROM|JOIN)\s*$/i.test(u)&&/^\s*[a-zA-Z0-9_]*$/.test(l)){let N=await this.getDatabases(E);return[...a.map(A=>{let O=new Pe.CompletionItem(A.name,Pe.CompletionItemKind.Class);return O.detail=A.type,O}),...N]}let d=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\s*$/i);if(d){let N=d[1],p=await this.getSchemas(E,N);return new Pe.CompletionList(p,!1)}let f=l.match(/^\s*([a-zA-Z0-9_]+)\.\s*$/i);if(f&&/(?:FROM|JOIN)\s*$/i.test(u)){let N=f[1],p=await this.getSchemas(E,N);return new Pe.CompletionList(p,!1)}let h=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.$/i);if(h){let N=h[1],p=h[2];return this.getTables(E,N,p)}let T=l.match(/^\s*([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.\s*$/i);if(T&&/(?:FROM|JOIN)\s*$/i.test(u)){let N=T[1],p=T[2];return this.getTables(E,N,p)}let S=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\.$/i);if(S){let N=S[1];return this.getTables(E,N,void 0)}let R=l.match(/^\s*([a-zA-Z0-9_]+)\.\.\s*$/i);if(R&&/(?:FROM|JOIN)\s*$/i.test(u)){let N=R[1];return this.getTables(E,N,void 0)}if(l.trim().endsWith(".")){let N=l.match(/([a-zA-Z0-9_]+)\.$/);if(N){let p=N[1],A=this.findAlias(o,p);if(A){let b=a.find(I=>I.name.toUpperCase()===A.table.toUpperCase());return b?b.columns.map(I=>{let D=new Pe.CompletionItem(I,Pe.CompletionItemKind.Field);return D.detail="Local Column",D}):this.getColumns(E,A.db,A.schema,A.table)}let O=a.find(b=>b.name.toUpperCase()===p.toUpperCase());if(O)return O.columns.map(b=>{let I=new Pe.CompletionItem(b,Pe.CompletionItemKind.Field);return I.detail="Local Column",I})}}return this.getKeywords()}stripComments(e){let r=e.replace(/--.*$/gm,"");return r=r.replace(/\/\*[\s\S]*?\*\//g,""),r}parseLocalDefinitions(e){let r=[],n=/CREATE\s+TABLE\s+([a-zA-Z0-9_]+)\s+AS\s*\(/gi,i;for(;(i=n.exec(e))!==null;){let a=i[1],l=i.index+i[0].length,c=this.extractBalancedParenthesisContent(e,l);if(c){let u=this.extractColumnsFromQuery(c);r.push({name:a,type:"Temp Table",columns:u})}}let s=/\bWITH\s+/gi;for(;(i=s.exec(e))!==null;){let a=i.index+i[0].length;for(;;){let l=/^\s*([a-zA-Z0-9_]+)\s+AS\s*\(/i,c=e.substring(a),u=c.match(l);if(!u)break;let E=u[1],d=c.indexOf("(",u.index+u[1].length),f=a+d,h=this.extractBalancedParenthesisContent(e,f+1);if(h){let T=this.extractColumnsFromQuery(h);r.push({name:E,type:"CTE",columns:T}),a=f+1+h.length+1;let S=/^\s*,/,R=e.substring(a);if(S.test(R)){let N=R.match(S);a+=N[0].length}else break}else break}}let o=/\bJOIN\s+\(/gi;for(;(i=o.exec(e))!==null;){let a=i.index+i[0].length,l=this.extractBalancedParenthesisContent(e,a);if(l&&/^\s*SELECT\b/i.test(l)){let c=a+l.length+1,E=e.substring(c).match(/^\s+(?:AS\s+)?([a-zA-Z0-9_]+)/i);if(E){let d=E[1],f=this.extractColumnsFromQuery(l);r.push({name:d,type:"Subquery",columns:f})}}}return r}extractBalancedParenthesisContent(e,r){let n=1,i=r;for(;i<e.length;i++)if(e[i]==="("?n++:e[i]===")"&&n--,n===0)return e.substring(r,i);return null}extractColumnsFromQuery(e){let r=e.match(/^\s*SELECT\s+/i);if(!r)return[];let n="",i=0,s=-1,o=r[0].length;for(let c=o;c<e.length;c++)if(e[c]==="("?i++:e[c]===")"&&i--,i===0&&e.substr(c).match(/^\s+FROM\b/i)){s=c;break}s!==-1?n=e.substring(o,s):n=e.substring(o);let a=[],l="";i=0;for(let c=0;c<n.length;c++){let u=n[c];u==="("?i++:u===")"&&i--,u===","&&i===0?(a.push(l.trim()),l=""):l+=u}return l.trim()&&a.push(l.trim()),a.map(c=>{let u=c.match(/\s+AS\s+([a-zA-Z0-9_]+)$/i);if(u)return u[1];let E=c.match(/\s+([a-zA-Z0-9_]+)$/i);if(E)return E[1];let d=c.split(".");return d[d.length-1]})}getKeywords(){return["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","DROP","TABLE","VIEW","DATABASE","JOIN","INNER","LEFT","RIGHT","OUTER","ON","AND","OR","NOT","NULL","IS","IN","BETWEEN","LIKE","AS","DISTINCT","CASE","WHEN","THEN","ELSE","END","WITH","UNION","ALL"].map(r=>{let n=new Pe.CompletionItem(r,Pe.CompletionItemKind.Keyword);return n.detail="SQL Keyword",n})}async getDatabases(e){if(!e)return[];let r=this.metadataCache.getDatabases(e);if(r)return r.map(n=>{if(n instanceof Pe.CompletionItem)return n;let i=new Pe.CompletionItem(n.label,n.kind);return i.detail=n.detail,i});try{let i=await q(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e,this.connectionManager);if(!i)return[];let o=JSON.parse(i).map(a=>{let l=new Pe.CompletionItem(a.DATABASE,Pe.CompletionItemKind.Module);return l.detail="Database",l});return this.metadataCache.setDatabases(e,o),o}catch(n){return console.error(n),[]}}async getSchemas(e,r){if(!e)return[];let n=this.metadataCache.getSchemas(e,r);if(n)return n.map(s=>{if(s instanceof Pe.CompletionItem)return s;let o=new Pe.CompletionItem(s.label,s.kind);return o.detail=s.detail,o.insertText=s.insertText,o.sortText=s.sortText,o.filterText=s.filterText,o});let i=Pe.window.setStatusBarMessage(`Fetching schemas for ${r}...`);try{let s=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,o=await q(this.context,s,!0,e,this.connectionManager);if(!o)return[];let l=JSON.parse(o).filter(c=>c.SCHEMA!=null&&c.SCHEMA!=="").map(c=>{let u=c.SCHEMA,E=new Pe.CompletionItem(u,Pe.CompletionItemKind.Folder);return E.detail=`Schema in ${r}`,E.insertText=u,E.sortText=u,E.filterText=u,E});return this.metadataCache.setSchemas(e,r,l),l}catch(s){return console.error("[SqlCompletion] Error in getSchemas:",s),[]}finally{i.dispose()}}async getTables(e,r,n){if(!e)return[];let i=n?`${r}.${n}`:`${r}..`,s=n?this.metadataCache.getTables(e,i):this.metadataCache.getTables(e,i)||this.metadataCache.getTablesAllSchemas(e,r);if(s)return s.map(l=>{if(l instanceof Pe.CompletionItem)return l;let c=new Pe.CompletionItem(l.label,l.kind);return c.detail=l.detail,c.sortText=l.sortText,c});let o=n?`Fetching tables for ${r}.${n}...`:`Fetching tables for ${r}...`,a=Pe.window.setStatusBarMessage(o);try{let l="";n?l=`SELECT OBJNAME, OBJID FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND UPPER(SCHEMA) = UPPER('${n}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`:l=`SELECT OBJNAME, OBJID, SCHEMA FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`;let c=await q(this.context,l,!0,e,this.connectionManager);if(!c)return[];let u=JSON.parse(c),E=new Map,d=u.map(f=>{let h=new Pe.CompletionItem(f.OBJNAME,Pe.CompletionItemKind.Class);return h.detail=n?"Table":`Table (${f.SCHEMA})`,h.sortText=f.OBJNAME,n?E.set(`${r}.${n}.${f.OBJNAME}`,f.OBJID):f.SCHEMA&&E.set(`${r}.${f.SCHEMA}.${f.OBJNAME}`,f.OBJID),h});return this.metadataCache.setTables(e,i,d,E),d}catch(l){return console.error(l),[]}finally{a.dispose()}}async getColumns(e,r,n,i){if(!e)return[];let s,o=r?`${r}..`:"",a=n&&r?`${r}.${n}.${i}`:r?`${r}..${i}`:void 0;a&&(s=this.metadataCache.findTableId(e,a));let l=`${r||"CURRENT"}.${n||""}.${i}`,c=this.metadataCache.getColumns(e,l);if(c)return c.map(E=>{if(E instanceof Pe.CompletionItem)return E;let d=new Pe.CompletionItem(E.label,E.kind);return d.detail=E.detail,d});let u=Pe.window.setStatusBarMessage(`Fetching columns for ${i}...`);try{let E="";if(s)E=`SELECT ATTNAME, FORMAT_TYPE FROM ${o}_V_RELATION_COLUMN WHERE OBJID = ${s} ORDER BY ATTNUM`;else{let T=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",S=r?`AND UPPER(O.DBNAME) = UPPER('${r}')`:"";E=`
                    SELECT C.ATTNAME, C.FORMAT_TYPE 
                    FROM ${o}_V_RELATION_COLUMN C
                    JOIN ${o}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) = UPPER('${i}') ${T} ${S}
                    ORDER BY C.ATTNUM
                `}let d=await q(this.context,E,!0,e,this.connectionManager);if(!d)return[];let h=JSON.parse(d).map(T=>{let S=new Pe.CompletionItem(T.ATTNAME,Pe.CompletionItemKind.Field);return S.detail=T.FORMAT_TYPE,S});if(this.metadataCache.setColumns(e,l,h),r){let T=this.context,S=this.metadataCache;setTimeout(async()=>{try{await S.prefetchColumnsForSchema(e,r,n,R=>q(T,R,!0,e,this.connectionManager))}catch(R){console.error("[SqlCompletion] Background column prefetch error:",R)}},100)}return h}catch(E){return console.error(E),[]}finally{u.dispose()}}findAlias(e,r){let n=new RegExp(`([a-zA-Z0-9_\\.]+) (?:AS\\s+)?${r}\\b`,"gi"),i=new Set(["SELECT","WHERE","GROUP","ORDER","HAVING","LIMIT","ON","AND","OR","NOT","CASE","WHEN","THEN","ELSE","END","JOIN","LEFT","RIGHT","INNER","OUTER","CROSS","FULL","UNION","EXCEPT","INTERSECT","FROM","UPDATE","DELETE","INSERT","INTO","VALUES","SET"]),s;for(;(s=n.exec(e))!==null;){let o=s[1];if(i.has(o.toUpperCase()))continue;let a=o.split(".");return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{table:a[1],schema:a[0]}:{table:a[0]}}return null}};var to=oe(require("vscode"));Rr();function D4(t){let e="",r=0;for(;r<t.length;){if(t[r]==="-"&&r+1<t.length&&t[r+1]==="-"){for(;r<t.length&&t[r]!==`
`;)r++;r<t.length&&(e+=" ",r++);continue}if(t[r]==="/"&&r+1<t.length&&t[r+1]==="*"){for(r+=2;r<t.length-1&&!(t[r]==="*"&&t[r+1]==="/");)r++;r<t.length-1&&(r+=2),e+=" ";continue}if(t[r]==="'"){for(r++;r<t.length;)if(t[r]==="'"&&r+1<t.length&&t[r+1]==="'")r+=2;else if(t[r]==="'"){r++;break}else r++;e+=" ";continue}e+=t[r],r++}return e}function YR(t,e){return D4(t).toUpperCase().includes(e.toUpperCase())}var bc=class{constructor(e,r,n,i){this._extensionUri=e;this.context=r;this.metadataCache=n;this.connectionManager=i;this.currentSearchId=0}static{this.viewType="netezza.search"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"search":await this.search(i.value);break;case"searchSource":await this.searchSourceCode(i.value);break;case"navigate":to.commands.executeCommand("netezza.revealInSchema",i);break}})}async search(e){if(!e||e.length<2)return;let r,n=to.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=to.window.setStatusBarMessage(`$(loading~spin) Searching for "${e}"...`),o=new Set;if(this._view){let u=this.metadataCache.search(e,r);if(u.length>0){let E=[];u.forEach(d=>{let f=`${d.name.toUpperCase().trim()}|${d.type.toUpperCase().trim()}|${(d.parent||"").toUpperCase().trim()}`;o.has(f)||(o.add(f),E.push({NAME:d.name,SCHEMA:d.schema,DATABASE:d.database,TYPE:d.type,PARENT:d.parent||"",DESCRIPTION:"Result from Cache",MATCH_TYPE:"NAME",connectionName:r}))}),E.sort((d,f)=>{let h=T=>T==="COLUMN"?2:1;return h(f.TYPE)-h(d.TYPE)?h(d.TYPE)-h(f.TYPE):d.NAME.localeCompare(f.NAME)}),E.length>0&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:E,append:!1})}else i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});this.metadataCache.hasAllObjectsPrefetchTriggered(r)||this.metadataCache.prefetchAllObjects(r,async E=>q(this.context,E,!0,r,this.connectionManager))}let l=`%${e.replace(/'/g,"''").toUpperCase()}%`,c=`
            SELECT * FROM (
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(OBJNAME) LIKE '${l}'
                UNION ALL
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'DESC' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(DESCRIPTION) LIKE '${l}' AND UPPER(OBJNAME) NOT LIKE '${l}'
                UNION ALL
                SELECT 2 AS PRIORITY, C.ATTNAME AS NAME, O.SCHEMA, O.DBNAME AS DATABASE, 'COLUMN' AS TYPE, O.OBJNAME AS PARENT,
                       COALESCE(C.DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_RELATION_COLUMN C
                JOIN _V_OBJECT_DATA O ON C.OBJID = O.OBJID
                WHERE UPPER(C.ATTNAME) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, V.VIEWNAME AS NAME, V.SCHEMA, V.DATABASE, 'VIEW' AS TYPE, '' AS PARENT, 
                       'Found in view definition' AS DESCRIPTION, 'DEFINITION' AS MATCH_TYPE
                FROM _V_VIEW V
                WHERE UPPER(V.DEFINITION) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, P.PROCEDURE AS NAME, P.SCHEMA, P.DATABASE, 'PROCEDURE' AS TYPE, '' AS PARENT, 
                       'Found in procedure source' AS DESCRIPTION, 'SOURCE' AS MATCH_TYPE
                FROM _V_PROCEDURE P
                WHERE UPPER(P.PROCEDURESOURCE) LIKE '${l}'
                UNION ALL
                SELECT 3 AS PRIORITY, E1.TABLENAME AS NAME, E1.SCHEMA, E1.DATABASE, 'EXTERNAL TABLE' AS TYPE, '' AS PARENT,
                       COALESCE(E2.EXTOBJNAME, '') AS DESCRIPTION, 'DATAOBJECT' AS MATCH_TYPE
                FROM _V_EXTERNAL E1
                JOIN _V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE AND E1.SCHEMA = E2.SCHEMA AND E1.TABLENAME = E2.TABLENAME
                WHERE UPPER(E2.EXTOBJNAME) LIKE '${l}'
            ) AS R
            ORDER BY PRIORITY, NAME
            LIMIT 100
        `;try{let u=await q(this.context,c,!0,r,this.connectionManager);if(i!==this.currentSearchId){s.dispose();return}if(u){let E=[];u==="Query executed successfully (no results)."||u.startsWith("Query executed successfully")?E=[]:E=JSON.parse(u);let d=[];E.forEach(f=>{let h=`${f.NAME.toUpperCase().trim()}|${f.TYPE.toUpperCase().trim()}|${(f.PARENT||"").toUpperCase().trim()}`;o.has(h)||(d.push({NAME:f.NAME,SCHEMA:f.SCHEMA,DATABASE:f.DATABASE,TYPE:f.TYPE,PARENT:f.PARENT,DESCRIPTION:f.DESCRIPTION,MATCH_TYPE:f.MATCH_TYPE,connectionName:r}),o.add(h))}),d.length>0&&this._view&&this._view.webview.postMessage({type:"results",data:d,append:!0})}}catch(u){console.error("Search error:",u),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:u.message})}finally{s.dispose()}}async searchSourceCode(e){if(!e||e.length<2)return;let r,n=to.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=to.window.setStatusBarMessage(`$(loading~spin) Searching in source code for "${e}"...`);try{this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});let o=e.toUpperCase(),a=[],l=`
                SELECT VIEWNAME AS NAME, SCHEMA, DATABASE, DEFINITION AS SOURCE
                FROM _V_VIEW
            `;try{let u=await q(this.context,l,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let E=JSON.parse(u);for(let d of E)d.SOURCE&&YR(d.SOURCE,o)&&a.push({NAME:d.NAME,SCHEMA:d.SCHEMA,DATABASE:d.DATABASE,TYPE:"VIEW",PARENT:"",DESCRIPTION:"Found in view source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching views:",u)}let c=`
                SELECT PROCEDURE AS NAME, SCHEMA, DATABASE, PROCEDURESOURCE AS SOURCE
                FROM _V_PROCEDURE
            `;try{let u=await q(this.context,c,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let E=JSON.parse(u);for(let d of E)d.SOURCE&&YR(d.SOURCE,o)&&a.push({NAME:d.NAME,SCHEMA:d.SCHEMA,DATABASE:d.DATABASE,TYPE:"PROCEDURE",PARENT:"",DESCRIPTION:"Found in procedure source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching procedures:",u)}this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:a,append:!1})}catch(o){console.error("Source code search error:",o),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:o.message})}finally{s.dispose()}}_getHtmlForWebview(e){return`<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Schema Search</title>
        <style>
            body { 
                font-family: var(--vscode-font-family); 
                padding: 0; 
                margin: 0;
                color: var(--vscode-foreground); 
                display: flex;
                flex-direction: column;
                height: 100vh;
                overflow: hidden;
            }
            .search-box { 
                display: flex; 
                gap: 5px; 
                padding: 10px;
                flex-shrink: 0;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            input { flex-grow: 1; padding: 5px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); }
            button {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: 6px;
                background-color: var(--vscode-button-secondaryBackground);
                color: var(--vscode-button-secondaryForeground);
                border: 1px solid var(--vscode-contrastBorder, transparent);
                padding: 4px 10px;
                cursor: pointer;
                border-radius: 2px;
                font-family: var(--vscode-font-family);
                font-size: 12px;
                line-height: 18px;
            }
            button:hover { background-color: var(--vscode-button-secondaryHoverBackground); }
            button.primary { background-color: var(--vscode-button-background); color: var(--vscode-button-foreground); }
            button.primary:hover { background-color: var(--vscode-button-hoverBackground); }
            #status { padding: 5px 10px; flex-shrink: 0; }
            .results { 
                list-style: none; 
                padding: 0; 
                margin: 0; 
                flex-grow: 1; 
                overflow-y: auto; 
            }
            .result-item { padding: 8px 10px; border-bottom: 1px solid var(--vscode-panel-border); display: flex; flex-direction: column; cursor: pointer; position: relative; }
            .result-item:hover { background: var(--vscode-list-hoverBackground); }
            .item-header { display: flex; justify-content: space-between; font-weight: bold; }
            .item-details { font-size: 0.9em; opacity: 0.8; display: flex; gap: 10px; }
            .type-badge { font-size: 0.8em; background: var(--vscode-badge-background); color: var(--vscode-badge-foreground); padding: 2px 5px; border-radius: 3px; }
            .tooltip { position: absolute; background: var(--vscode-editorHoverWidget-background); color: var(--vscode-editorHoverWidget-foreground); border: 1px solid var(--vscode-editorHoverWidget-border); padding: 8px; border-radius: 4px; font-size: 0.9em; max-width: 300px; word-wrap: break-word; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.2s, visibility 0.2s; pointer-events: none; }
            .result-item:hover .tooltip { opacity: 1; visibility: visible; }
            .tooltip.top { bottom: 100%; left: 0; margin-bottom: 5px; }
            .tooltip.bottom { top: 100%; left: 0; margin-top: 5px; }
            .cache-badge { background-color: var(--vscode-charts-green); color: white; padding: 1px 4px; border-radius: 2px; font-size: 0.7em; margin-left: 5px; }
            .spinner {
                border: 2px solid transparent;
                border-top: 2px solid var(--vscode-progressBar-background);
                border-radius: 50%;
                width: 14px;
                height: 14px;
                animation: spin 1s linear infinite;
                display: inline-block;
                vertical-align: middle;
                margin-right: 8px;
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            .options-row {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 5px 10px;
                font-size: 12px;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            .options-row label {
                display: flex;
                align-items: center;
                gap: 4px;
                cursor: pointer;
            }
            .options-row input[type="checkbox"] {
                margin: 0;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search tables, columns, view definitions, procedure source..." />
            <button id="searchBtn" class="primary">Search</button>
        </div>
        <div class="options-row">
            <label>
                <input type="checkbox" id="sourceOnlyCheck" />
                Source Code Only (exclude comments/strings)
            </label>
        </div>
        <div id="status"></div>
        <ul class="results" id="resultsList"></ul>

        <script>
            try {
            const vscode = acquireVsCodeApi();
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const sourceOnlyCheck = document.getElementById('sourceOnlyCheck');
            const resultsList = document.getElementById('resultsList');
            const status = document.getElementById('status');

            searchBtn.addEventListener('click', () => {
                const term = searchInput.value;
                if (term) {
                    status.innerHTML = '<span class="spinner"></span> Searching...';
                    const messageType = sourceOnlyCheck.checked ? 'searchSource' : 'search';
                    vscode.postMessage({ type: messageType, value: term });
                }
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchBtn.click();
                }
            });

            window.addEventListener('message', event => {
                const message = event.data;
                switch (message.type) {
                    case 'results':
                        status.textContent = '';
                        renderResults(message.data, message.append);
                        break;
                    case 'error':
                        status.textContent = 'Error: ' + message.message;
                        break;
                }
            });

            function renderResults(data, append) {
                if (!append) {
                    resultsList.innerHTML = '';
                }

                if (!data || data.length === 0) {
                    if (!append && resultsList.children.length === 0) {
                        status.textContent = 'No results found.';
                    }
                    return;
                }

                data.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'result-item';

                    const parentInfo = item.PARENT ? \`Parent: \${item.PARENT}\` : '';
                    const schemaInfo = item.SCHEMA ? \`Schema: \${item.SCHEMA}\` : '';
                    const databaseInfo = item.DATABASE ? \`Database: \${item.DATABASE}\` : '';
                    const description = item.DESCRIPTION && item.DESCRIPTION.trim() ? item.DESCRIPTION : '';
                    
                    // Add match type indicator
                    const matchTypeInfo = item.MATCH_TYPE === 'DEFINITION' ? 'Match in view definition' :
                                        item.MATCH_TYPE === 'SOURCE' ? 'Match in procedure source' :
                                        item.MATCH_TYPE === 'NAME' ? 'Match in name' : '';
                    
                    li.innerHTML = \`
                        <div class="item-header">
                            <span>\${item.NAME}</span>
                            <span class="type-badge">\${item.TYPE}</span>
                        </div>
                        <div class="item-details">
                            <span>\${databaseInfo}</span>
                            <span>\${schemaInfo}</span>
                            <span>\${parentInfo}</span>
                            \${matchTypeInfo ? \`<span style="font-style: italic; color: var(--vscode-descriptionForeground);">\${matchTypeInfo}</span>\` : ''}
                        </div>
                        \${description ? \`<div class="tooltip bottom">\${description}</div>\` : ''}
                    \`;
                    
                    // Add double-click handler to navigate to schema tree
                    li.addEventListener('dblclick', () => {
                        vscode.postMessage({ 
                            type: 'navigate', 
                            name: item.NAME,
                            schema: item.SCHEMA,
                            database: item.DATABASE,
                            objType: item.TYPE,
                            parent: item.PARENT,
                            connectionName: item.connectionName // Pass back connection name
                        });
                    });
                    
                    resultsList.appendChild(li);
                });
            }
            } catch (e) {
                document.body.innerHTML = '<pre style="color:red;">Error loading Schema Search: ' + e.message + '\\n' + e.stack + '</pre>';
            }
        </script>
    </body>
    </html>`}};ro();var ba=oe(require("vscode"));ro();var Lf=class{provideDocumentLinks(e,r){let n=[],i=e.getText(),s=/[a-zA-Z0-9_"]+(\.[a-zA-Z0-9_"]*)+/g,o;for(;(o=s.exec(i))!==null;){let a=e.positionAt(o.index),l=e.positionAt(o.index+o[0].length),c=new ba.Range(a,l),u=wr.getObjectAtPosition(i,o.index+Math.floor(o[0].length/2));if(u){if(o[0].split(".").length===2&&!u.database&&this.isLikelyAliasReference(i,o.index))continue;let f={name:u.name,schema:u.schema,database:u.database},h=ba.Uri.parse(`command:netezza.revealInSchema?${encodeURIComponent(JSON.stringify(f))}`),T=new ba.DocumentLink(c,h);T.tooltip=`Reveal ${u.name} in Schema`,n.push(T)}}return n}isLikelyAliasReference(e,r){let i=e.substring(Math.max(0,r-200),r).replace(/--[^\n]*/g,"").replace(/\/\*[\s\S]*?\*\//g,"").toUpperCase();return/(?:FROM|JOIN)\s+[a-zA-Z0-9_"]*$/i.test(i)?!1:!!i.match(/\b(SELECT|WHERE|ON|HAVING|ORDER\s+BY|GROUP\s+BY|AND|OR|SET|VALUES)\b(?!.*\b(?:FROM|JOIN)\b)/)}};var wf=oe(require("vscode")),bf=class{provideFoldingRanges(e,r,n){let i=[],s=[],o=/^\s*--\s*REGION\b/i,a=/^\s*--\s*ENDREGION\b/i;for(let l=0;l<e.lineCount;l++){let u=e.lineAt(l).text;if(o.test(u))s.push(l);else if(a.test(u)&&s.length>0){let E=s.pop();i.push(new wf.FoldingRange(E,l,wf.FoldingRangeKind.Region))}}return i}};var qt=oe(require("vscode"));Of();var wc=class{constructor(e,r){this._extensionUri=e;this._context=r}static{this.viewType="netezza.queryHistory"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),this.sendHistoryToWebview(),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"refresh":this.refresh();break;case"clearAll":await this.clearAllHistory();break;case"deleteEntry":await this.deleteEntry(i.id,i.query);break;case"copyQuery":await qt.env.clipboard.writeText(i.query),qt.window.showInformationMessage("Query copied to clipboard");break;case"executeQuery":await this.executeQuery(i.query);break;case"getHistory":await this.sendHistoryToWebview();break;case"toggleFavorite":await this.toggleFavorite(i.id);break;case"updateEntry":await this.updateEntry(i.id,i.tags,i.description);break;case"requestEdit":await this.requestEdit(i.id);break;case"requestTagFilter":await this.requestTagFilter(i.tags);break;case"showFavoritesOnly":await this.sendFavoritesToWebview();break;case"filterByTag":await this.sendFilteredByTagToWebview(i.tag);break}})}refresh(){this._view&&this.sendHistoryToWebview()}async sendHistoryToWebview(){if(!this._view)return;let e=new br(this._context),r=await e.getHistory(),n=await e.getStats();console.log("QueryHistoryView: sending history to webview, entries=",r.length),this._view.webview.postMessage({type:"historyData",history:r,stats:n})}async clearAllHistory(){await qt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await new br(this._context).clearHistory(),this.refresh(),qt.window.showInformationMessage("Query history cleared"))}async deleteEntry(e,r){let n=r?`: ${r.substring(0,50)}${r.length>50?"...":""}`:"";await qt.window.showWarningMessage(`Are you sure you want to delete this query${n}?`,{modal:!0},"Delete")==="Delete"&&(await new br(this._context).deleteEntry(e),this.refresh())}async executeQuery(e){let r=await qt.workspace.openTextDocument({content:e,language:"sql"});await qt.window.showTextDocument(r)}async toggleFavorite(e){await new br(this._context).toggleFavorite(e),this.refresh()}async updateEntry(e,r,n){await new br(this._context).updateEntry(e,r,n),this.refresh(),qt.window.showInformationMessage("Entry updated successfully")}async requestEdit(e){let i=(await new br(this._context).getHistory()).find(a=>a.id===e);if(!i){qt.window.showErrorMessage("Entry not found");return}let s=await qt.window.showInputBox({prompt:"Enter tags (comma separated)",value:i.tags||"",placeHolder:"tag1, tag2, tag3"});if(s===void 0)return;let o=await qt.window.showInputBox({prompt:"Enter description",value:i.description||"",placeHolder:"Description for this query"});o!==void 0&&await this.updateEntry(e,s,o)}async requestTagFilter(e){if(e.length===1)await this.sendFilteredByTagToWebview(e[0]);else if(e.length>1){let r=await qt.window.showQuickPick(e,{placeHolder:"Filter by which tag?"});r&&await this.sendFilteredByTagToWebview(r)}}async sendFavoritesToWebview(){if(!this._view)return;let e=new br(this._context),r=await e.getFavorites(),n=await e.getStats();this._view.webview.postMessage({type:"historyData",history:r,stats:n,filter:"favorites"})}async sendFilteredByTagToWebview(e){if(!this._view)return;let r=new br(this._context),n=await r.getByTag(e),i=await r.getStats();this._view.webview.postMessage({type:"historyData",history:n,stats:i,filter:`tag: ${e}`})}_getHtmlForWebview(e){let r=e.asWebviewUri(qt.Uri.joinPath(this._extensionUri,"media","queryHistory.css")),n=e.asWebviewUri(qt.Uri.joinPath(this._extensionUri,"media","queryHistory.js"));return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src ${e.cspSource};">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Query History</title>
    <link href="${r}" rel="stylesheet">
</head>
<body>
    <div class="toolbar">
        <div class="toolbar-top">
            <input type="search" id="searchInput" placeholder="Search queries..." />
            <span class="stats" id="stats">Loading...</span>
        </div>
        <div class="toolbar-buttons">
            <button class="secondary" id="showAllBtn">\u{1F4DC} All</button>
            <button class="secondary" id="showFavoritesBtn">\u2B50 Favorites</button>
            <button class="secondary" id="refreshBtn">\u21BB Refresh</button>
            <button class="secondary" id="clearAllBtn">\u{1F5D1}\uFE0F Clear All</button>
        </div>
    </div>
    <div class="history-container" id="historyContainer">
        <div class="empty-state">
            <div class="empty-state-icon">\u{1F4DC}</div>
            <div>No query history yet</div>
        </div>
    </div>

    <script src="${n}"></script>
</body>
</html>`}};var gt=oe(require("vscode"));Rr();var Df=class t{static{this.viewType="netezza.editData"}static async createOrShow(e,r,n,i){if(!r||!r.label||!r.dbName||!r.schema){gt.window.showErrorMessage("Invalid table selection");return}let s=r.label,o=r.schema,a=r.dbName,l=`${a}.${o}.${s}`,c=gt.window.createWebviewPanel(t.viewType,`Edit: ${s}`,gt.ViewColumn.One,{enableScripts:!0,localResourceRoots:[gt.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});c.webview.html=this._getHtmlForWebview(c.webview,e,l),this._loadData(c,a,o,s,r.connectionName,n,i),c.webview.onDidReceiveMessage(async u=>{try{switch(u.command){case"save":await this._handleSave(c,u.changes,l,r.connectionName,n,i),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"refresh":this._loadData(c,a,o,s,r.connectionName,n,i);break;case"updateTableComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON TABLE ${l} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Table comment updated");break;case"updateColumnComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON COLUMN ${l}.${u.column} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Column comment updated");break;case"addColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} ADD COLUMN ${u.name} ${u.type}`,`Column ${u.name} added`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"dropColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} DROP COLUMN ${u.column}`,`Column ${u.column} dropped`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"error":gt.window.showErrorMessage(u.text);break;case"info":gt.window.showInformationMessage(u.text);break}}catch(E){gt.window.showErrorMessage(`Error: ${E.message}`)}})}static async _execSimpleCommand(e,r,n,i,s,o=!1){try{await q(e,i,!0,n,r),gt.window.showInformationMessage(s)}catch(a){gt.window.showErrorMessage(`Operation failed: ${a.message}`)}}static async _loadData(e,r,n,i,s,o,a){let l=`${r}.${n}.${i}`;try{e.webview.postMessage({command:"setLoading",loading:!0,message:"Fetching data..."});let c=S=>q(o,S,!0,s,a),[u,E]=await Promise.all([q(o,`SELECT ROWID, * FROM ${l} LIMIT 50000`,!0,s,a),oy(c,r,n,i)]),d=E.tableComment||"",f=ay(E.columns),h=[];try{let S=u||"[]";console.log("[EditDataProvider] dataResult type:",typeof S,"length:",typeof S=="string"?S.length:"N/A"),console.log("[EditDataProvider] dataResult preview:",typeof S=="string"?S.substring(0,200):"array"),typeof S=="string"?S.trim().startsWith("[")?h=JSON.parse(S):(console.log("[EditDataProvider] dataResult is NOT JSON array:",S.substring(0,100)),h=[]):Array.isArray(S)&&(h=S),console.log("[EditDataProvider] Parsed data rows:",h.length)}catch(S){console.error("[EditDataProvider] Data Parse Error",S)}let T=[];f.length>0?T=["ROWID",...f.map(S=>S.ATTNAME)]:h.length>0&&(T=Object.keys(h[0])),console.log("[EditDataProvider] Sending to webview:",{dataRows:h.length,columns:T.length}),e.webview.postMessage({command:"setData",data:h,columns:T,metadata:{tableComment:d,columns:f}})}catch(c){gt.window.showErrorMessage(`Failed to load data: ${c.message}`),e.webview.postMessage({command:"setError",text:c.message})}finally{e.webview.postMessage({command:"setLoading",loading:!1})}}static async _handleSave(e,r,n,i,s,o){let a=[];if(r.deletes&&r.deletes.length>0){let l=r.deletes.join(",");a.push(`DELETE FROM ${n} WHERE ROWID IN (${l})`)}if(r.updates&&r.updates.length>0)for(let l of r.updates){let c=[];for(let[u,E]of Object.entries(l.changes))u!=="ROWID"&&c.push(`${u} = ${this._formatValue(E)}`);c.length>0&&a.push(`UPDATE ${n} SET ${c.join(", ")} WHERE ROWID = ${l.rowId}`)}if(r.inserts&&r.inserts.length>0)for(let l of r.inserts){let c=Object.keys(l).filter(E=>E!=="ROWID");if(c.length===0)continue;let u=c.map(E=>this._formatValue(l[E]));a.push(`INSERT INTO ${n} (${c.join(", ")}) VALUES (${u.join(", ")})`)}if(a.length===0){gt.window.showInformationMessage("No changes to save.");return}try{let l=["BEGIN",...a,"COMMIT"];await yc(s,l,o),gt.window.showInformationMessage(`Successfully executed ${a.length} changes.`)}catch(l){gt.window.showErrorMessage(`Failed to save changes: ${l.message}`)}}static _formatValue(e){return e==null||e===""?"NULL":typeof e=="number"?e.toString():typeof e=="boolean"?e?"TRUE":"FALSE":`'${String(e).replace(/'/g,"''")}'`}static _getHtmlForWebview(e,r,n){let i=e.asWebviewUri(gt.Uri.joinPath(r,"media","tanstack-table-core.js")),s=e.asWebviewUri(gt.Uri.joinPath(r,"media","tanstack-virtual-core.js")),o=e.asWebviewUri(gt.Uri.joinPath(r,"media","editDataPanel.js")),a=e.asWebviewUri(gt.Uri.joinPath(r,"media","editDataPanel.css")),l=e.asWebviewUri(gt.Uri.joinPath(r,"media","codicon.ttf")),c=P4();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; font-src ${e.cspSource}; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}';">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${a}" rel="stylesheet">
            <style>
                @font-face {
                    font-family: 'codicon';
                    src: url('${l}') format('truetype');
                }
                .codicon { font-family: 'codicon'; }
            </style>
            <script nonce="${c}" src="${i}"></script>
            <script nonce="${c}" src="${s}"></script>
            <title>Edit Data: ${n}</title>
        </head>
        <body>
            <div class="main-layout">
                <!-- Tabs Header -->
                <div class="tabs-header">
                    <div class="tab active" data-target="tab-data">
                        Data
                    </div>
                    <div class="tab" data-target="tab-metadata">
                        Table Description
                    </div>
                </div>

                <!-- Tab: Data -->
                <div id="tab-data" class="tab-content active">
                    <div class="toolbar">
                        <span id="status" class="status"></span>
                        <div class="actions">
                            <button id="refreshBtn">Refresh</button>
                            <button id="addRowBtn">Add Row</button>
                            <button id="saveBtn" class="primary">Save Changes</button>
                        </div>
                    </div>
                    <div id="gridContainer" class="grid-container"></div>
                </div>

                <!-- Tab: Metadata -->
                <div id="tab-metadata" class="tab-content">
                    <div id="metadataContent" class="metadata-content">
                        <!-- Populated by JS -->
                        Loading metadata...
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${o}"></script>
        </body>
        </html>`}};function P4(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function $R(t,e){return e?t.startsWith(`${e}|`):!0}function Nn(t){if(t)return typeof t.label=="string"?t.label:t.label?.label}function Pf(t){let e={};return t.forEach((r,n)=>{e[n]=r}),e}function cy(t){let e={};return t.forEach((r,n)=>{let i={};r.data.forEach((s,o)=>{i[o]=s}),e[n]={data:i,timestamp:r.timestamp}}),e}function VR(t,e,r){return e?`${t}.${e}.${r}`:`${t}..${r}`}var Mf=class{constructor(){this.dbCache=new Map;this.schemaCache=new Map;this.tableCache=new Map;this.columnCache=new Map;this.tableIdMap=new Map;this.typeGroupCache=new Map}setOnDataChange(e){this.onDataChange=e}clearAll(){this.dbCache.clear(),this.schemaCache.clear(),this.tableCache.clear(),this.columnCache.clear(),this.tableIdMap.clear(),this.typeGroupCache.clear()}getDatabases(e){return this.dbCache.get(e)?.data}setDatabases(e,r){this.dbCache.set(e,{data:r,timestamp:Date.now()}),this.onDataChange?.("db")}getSchemas(e,r){let n=`${e}|${r}`;return this.schemaCache.get(n)?.data}setSchemas(e,r,n){let i=`${e}|${r}`;this.schemaCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("schema")}getTables(e,r){let n=`${e}|${r}`;return this.tableCache.get(n)?.data}getTablesAllSchemas(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n))for(let l of a.data){let c=Nn(l);c&&!s.has(c.toUpperCase())&&(s.add(c.toUpperCase()),i.push(l))}return i.length>0?i:void 0}setTables(e,r,n,i){let s=Date.now(),o=`${e}|${r}`;this.tableCache.set(o,{data:n,timestamp:s}),this.tableIdMap.set(o,{data:i,timestamp:s}),this.onDataChange?.("table")}getObjectsWithSchema(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n)||o===`${e}|${r}..`){let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),E=(u.length>1?u[1]:"")||"",d=this.tableIdMap.get(o);for(let f of a.data){let h=Nn(f),T=`${E}.${h}`;if(h&&!s.has(T)){s.add(T);let S;if(d){let R=VR(r,E||void 0,h);S=d.data.get(R)}i.push({item:f,schema:E,objId:S})}}}return i}getColumns(e,r){let n=`${e}|${r}`;return this.columnCache.get(n)?.data}setColumns(e,r,n){let i=`${e}|${r}`;this.columnCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("column")}findTableId(e,r){let n=`${e}|`;for(let[i,s]of this.tableIdMap)if(i.startsWith(n)){let o=s.data.get(r);if(o!==void 0)return o}}getTypeGroups(e,r){let n=`${e}|${r}`;return this.typeGroupCache.get(n)?.data}setTypeGroups(e,r,n){let i=`${e}|${r}`;this.typeGroupCache.set(i,{data:n,timestamp:Date.now()})}findObjectWithType(e,r,n,i){let s=`${e}|`,o=i.toUpperCase();for(let[a,l]of this.tableCache){if(!a.startsWith(s))continue;let c=a.split("|");if(c.length<2)continue;let E=c[1].split("."),d=E[0],f=E.length>1?E[1]:void 0;if(d.toUpperCase()===r.toUpperCase()&&!(n!==void 0&&n!==""&&f?.toUpperCase()!==n.toUpperCase()))for(let h of l.data){let T=Nn(h);if(T?.toUpperCase()===o){let S=h.objType||(h.kind===18?"VIEW":"TABLE"),R=VR(d,f,T),p=this.tableIdMap.get(a)?.data.get(R);if(p!==void 0)return{objId:p,objType:S,schema:f||"",name:T||i}}}}}invalidateSchema(e,r,n){let i=n?`${r}.${n}`:`${r}..`,s=`${e}|${i}`;this.tableCache.has(s)&&(this.tableCache.delete(s),this.tableIdMap.delete(s),this.onDataChange?.("table"),console.log(`[CacheStorage] Invalidated cache for ${s}`))}getDbCacheMap(){return this.dbCache}getSchemaCacheMap(){return this.schemaCache}getTableCacheMap(){return this.tableCache}getTableIdMapMap(){return this.tableIdMap}loadDbCache(e){this.dbCache=e}loadSchemaCache(e){this.schemaCache=e}loadTableCache(e){this.tableCache=e}loadTableIdMap(e){this.tableIdMap=e}};var vf=oe(require("vscode"));var xf=class{constructor(e,r){this.context=e;this.storage=r;this.CACHE_TTL=14400*1e3;this.savePending=!1;this.context.storageUri&&(this.cacheFilePath=vf.Uri.joinPath(this.context.storageUri,"schema-cache.json").fsPath,this.ensureStorageDir())}async ensureStorageDir(){if(this.context.storageUri)try{await vf.workspace.fs.createDirectory(this.context.storageUri)}catch{}}async initialize(){try{let e=["sqlCompletion.dbCache","sqlCompletion.schemaCache","sqlCompletion.tableCache","sqlCompletion.columnCache","sqlCompletion.tableIdMap"];for(let r of e)this.context.workspaceState.get(r)!==void 0&&await this.context.workspaceState.update(r,void 0)}catch(e){console.error("[CachePersistence] Error cleaning up legacy workspace state:",e)}if(this.cacheFilePath)try{let e=require("fs");if(e.existsSync(this.cacheFilePath)){let r=await e.promises.readFile(this.cacheFilePath,"utf-8"),n=JSON.parse(r),i=Date.now();if(n.dbCache){let s=new Map;for(let[o,a]of Object.entries(n.dbCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadDbCache(s)}if(n.schemaCache){let s=new Map;for(let[o,a]of Object.entries(n.schemaCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadSchemaCache(s)}if(n.tableCache){let s=new Map;for(let[o,a]of Object.entries(n.tableCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadTableCache(s)}if(n.tableIdMap){let s=new Map;for(let[o,a]of Object.entries(n.tableIdMap))(this.storage.getTableCacheMap().has(o)||i-a.timestamp<this.CACHE_TTL)&&s.set(o,{data:new Map(Object.entries(a.data)),timestamp:a.timestamp});this.storage.loadTableIdMap(s)}}}catch(e){console.error("[CachePersistence] Error loading cache from disk:",e)}}scheduleSave(e){this.savePending||(this.savePending=!0,this.saveTimeoutId=setTimeout(()=>this.flushSave(),2e3))}async flushSave(){if(this.savePending=!1,!!this.cacheFilePath)try{let e=require("fs"),r={dbCache:Pf(this.storage.getDbCacheMap()),schemaCache:Pf(this.storage.getSchemaCacheMap()),tableCache:Pf(this.storage.getTableCacheMap()),tableIdMap:cy(this.storage.getTableIdMapMap())};await e.promises.writeFile(this.cacheFilePath,JSON.stringify(r),"utf-8")}catch(e){console.error("[CachePersistence] Error saving cache to disk:",e)}}async clearCache(){if(this.saveTimeoutId&&(clearTimeout(this.saveTimeoutId),this.saveTimeoutId=void 0),this.savePending=!1,this.storage.clearAll(),this.cacheFilePath)try{let e=require("fs");e.existsSync(this.cacheFilePath)&&await e.promises.unlink(this.cacheFilePath)}catch(e){console.error("[CachePersistence] Error clearing cache file:",e)}}};var Uf=class{constructor(e){this.storage=e;this.columnPrefetchInProgress=new Set;this.allObjectsPrefetchTriggeredSet=new Set;this.connectionPrefetchTriggered=new Set;this.connectionPrefetchInProgress=new Set}async prefetchColumnsForSchema(e,r,n,i){let s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;if(this.columnPrefetchInProgress.has(o))return;let a=this.storage.getTables(e,s);if(!(!a||a.length===0)){this.columnPrefetchInProgress.add(o);try{let l=[];for(let u of a){let E=Nn(u);if(!E)continue;let d=`${r}.${n||""}.${E}`;this.storage.getColumns(e,d)||l.push(E)}if(l.length===0)return;let c=10;for(let u=0;u<l.length;u+=c){let d=l.slice(u,u+c).map(S=>`'${S}'`).join(","),f=`${r}..`,h=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",T=`
                    SELECT O.OBJNAME AS TABLENAME, C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                    FROM ${f}_V_RELATION_COLUMN C
                    JOIN ${f}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) IN (${d.toUpperCase()}) 
                    ${h}
                    AND UPPER(O.DBNAME) = UPPER('${r}')
                    ORDER BY O.OBJNAME, C.ATTNUM
                `;try{let S=await i(T);if(S){let R=JSON.parse(S),N=new Map;for(let p of R){let A=p.TABLENAME;N.has(A)||N.set(A,[]),N.get(A).push({label:p.ATTNAME,kind:5,detail:p.FORMAT_TYPE})}for(let[p,A]of N){let O=`${r}.${n||""}.${p}`;this.storage.setColumns(e,O,A)}}}catch(S){console.error("[CachePrefetcher] Error fetching batch columns:",S)}}}finally{this.columnPrefetchInProgress.delete(o)}}}async prefetchAllObjects(e,r){let n=`ALL_OBJECTS|${e}`;if(!this.allObjectsPrefetchTriggeredSet.has(n)){this.allObjectsPrefetchTriggeredSet.add(n),console.log(`[CachePrefetcher] Starting background prefetch of all objects (Connection: ${e})`);try{let s=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME 
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE = 'TABLE' 
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!s)return;let o=JSON.parse(s),a=new Map;for(let l of o){let c=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}`:`${l.DBNAME}..`;a.has(c)||a.set(c,{tables:[],idMap:new Map});let u=a.get(c);u.tables.push({label:l.OBJNAME,kind:7,detail:l.SCHEMA?"Table":`Table (${l.SCHEMA})`,sortText:l.OBJNAME});let E=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}.${l.OBJNAME}`:`${l.DBNAME}..${l.OBJNAME}`;u.idMap.set(E,l.OBJID)}for(let[l,c]of a)this.storage.setTables(e,l,c.tables,c.idMap);console.log(`[CachePrefetcher] Prefetched tables for ${a.size} schema(s) on ${e}`)}catch(i){console.error("[CachePrefetcher] Error in prefetchAllObjects:",i)}}}hasAllObjectsPrefetchTriggered(e){return this.allObjectsPrefetchTriggeredSet.has(`ALL_OBJECTS|${e}`)}hasConnectionPrefetchTriggered(e){return this.connectionPrefetchTriggered.has(e)}triggerConnectionPrefetch(e,r){this.connectionPrefetchTriggered.has(e)||this.connectionPrefetchInProgress.has(e)||(this.connectionPrefetchInProgress.add(e),console.log(`[CachePrefetcher] Starting eager prefetch for connection: ${e}`),this.executeConnectionPrefetch(e,r).catch(n=>console.error("[CachePrefetcher] Connection prefetch error:",n)).finally(()=>{this.connectionPrefetchInProgress.delete(e),this.connectionPrefetchTriggered.add(e),console.log(`[CachePrefetcher] Completed eager prefetch for connection: ${e}`)}))}async executeConnectionPrefetch(e,r){let n=await this.prefetchDatabases(e,r);if(!(!n||n.length===0)){for(let i of n)await this.prefetchSchemasForDb(e,i,r),await new Promise(s=>setTimeout(s,50));await this.prefetchAllTablesAndViews(e,r),await this.prefetchAllColumnsForConnection(e,r)}}async prefetchDatabases(e,r){if(this.storage.getDatabases(e))return this.storage.getDatabases(e)?.map(i=>Nn(i)).filter(Boolean)||[];try{let i=await r("SELECT DATABASE FROM system.._v_database ORDER BY DATABASE");if(!i)return[];let s=JSON.parse(i),o=s.map(a=>({label:a.DATABASE,kind:9,detail:"Database"}));return this.storage.setDatabases(e,o),s.map(a=>a.DATABASE)}catch(n){return console.error("[CachePrefetcher] prefetchDatabases error:",n),[]}}async prefetchSchemasForDb(e,r,n){if(!this.storage.getSchemas(e,r))try{let i=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,s=await n(i);if(!s)return;let a=JSON.parse(s).filter(l=>l.SCHEMA!=null&&l.SCHEMA!=="").map(l=>({label:l.SCHEMA,kind:19,detail:`Schema in ${r}`,insertText:l.SCHEMA,sortText:l.SCHEMA,filterText:l.SCHEMA}));this.storage.setSchemas(e,r,a)}catch(i){console.error(`[CachePrefetcher] prefetchSchemasForDb error for ${r}:`,i)}}async prefetchAllTablesAndViews(e,r){try{let i=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!i)return;let s=JSON.parse(i),o=new Map;for(let a of s){let l=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}`:`${a.DBNAME}..`;o.has(l)||o.set(l,{tables:[],idMap:new Map});let c=o.get(l);c.tables.push({label:a.OBJNAME,kind:a.OBJTYPE==="VIEW"?18:6,detail:a.SCHEMA?a.OBJTYPE:`${a.OBJTYPE} (${a.SCHEMA})`,sortText:a.OBJNAME,objType:a.OBJTYPE});let u=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}.${a.OBJNAME}`:`${a.DBNAME}..${a.OBJNAME}`;c.idMap.set(u,a.OBJID)}for(let[a,l]of o)this.storage.getTables(e,a)||this.storage.setTables(e,a,l.tables,l.idMap);console.log(`[CachePrefetcher] Prefetched tables/views for ${o.size} schema(s)`)}catch(n){console.error("[CachePrefetcher] prefetchAllTablesAndViews error:",n)}}async prefetchAllColumnsForConnection(e,r){try{let n=`${e}|`,i=[];for(let[a,l]of this.storage.tableCache){if(!a.startsWith(n))continue;let c=a.split("|");if(c.length<2)continue;let E=c[1].split("."),d=E[0],f=E.length>1?E[1]:"";for(let h of l.data){let T=Nn(h);T&&i.push({schema:f,name:T,db:d})}}if(i.length===0)return;let s=50,o=0;for(let a=0;a<i.length;a+=s){let l=i.slice(a,a+s),c=new Map;for(let u of l)c.has(u.db)||c.set(u.db,[]),c.get(u.db).push(u);for(let[u,E]of c){let d=E.map(h=>`(UPPER(O.SCHEMA) = UPPER('${h.schema}') AND UPPER(O.OBJNAME) = UPPER('${h.name}'))`).join(" OR "),f=`
                        SELECT O.OBJNAME AS TABLENAME, O.SCHEMA, O.DBNAME, 
                               C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                        FROM ${u}.._V_RELATION_COLUMN C
                        JOIN ${u}.._V_OBJECT_DATA O ON C.OBJID = O.OBJID
                        WHERE O.DBNAME = '${u}' 
                        AND (${d})
                        ORDER BY O.SCHEMA, O.OBJNAME, C.ATTNUM
                    `;try{let h=await r(f);if(h){let T=JSON.parse(h),S=new Map;for(let R of T){let N=`${R.DBNAME}.${R.SCHEMA||""}.${R.TABLENAME}`;S.has(N)||S.set(N,[]),S.get(N).push({label:R.ATTNAME,kind:5,detail:R.FORMAT_TYPE})}for(let[R,N]of S)this.storage.getColumns(e,R)||(this.storage.setColumns(e,R,N),o++)}}catch(h){console.error(`[CachePrefetcher] Error fetching batch columns for DB ${u}:`,h)}}await new Promise(u=>setTimeout(u,10))}console.log(`[CachePrefetcher] Prefetched columns for ${o} tables/views (Batched)`)}catch(n){console.error("[CachePrefetcher] prefetchAllColumnsForConnection error:",n)}}};function uy(t,e,r){let n=[],i=e.toLowerCase();for(let[s,o]of t.tableCache){if(!$R(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],E=c.length>1?c[1]:void 0;for(let d of o.data){let f=Nn(d);if(f&&f.toLowerCase().includes(i)){let h=d.objType||(d.kind===18?"VIEW":"TABLE");n.push({name:f,type:h,database:u,schema:E||(d.detail&&d.detail.includes("(")?d.detail.match(/\((.*?)\)/)?.[1]:void 0)})}}}for(let[s,o]of t.columnCache){if(!$R(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],E=c[1],d=c[2];for(let f of o.data){let h=Nn(f);h&&h.toLowerCase().includes(i)&&n.push({name:h,type:"COLUMN",database:u,schema:E,parent:d})}}return n}var Bf=class{constructor(e){this.storage=new Mf,this.persistence=new xf(e,this.storage),this.prefetcher=new Uf(this.storage),this.storage.setOnDataChange(r=>{this.persistence.scheduleSave(r)})}async initialize(){return this.persistence.initialize()}scheduleSave(e){this.persistence.scheduleSave(e)}async flushSave(){return this.persistence.flushSave()}async clearCache(){return this.persistence.clearCache()}getDatabases(e){return this.storage.getDatabases(e)}setDatabases(e,r){this.storage.setDatabases(e,r)}getSchemas(e,r){return this.storage.getSchemas(e,r)}setSchemas(e,r,n){this.storage.setSchemas(e,r,n)}getTables(e,r){return this.storage.getTables(e,r)}getTablesAllSchemas(e,r){return this.storage.getTablesAllSchemas(e,r)}setTables(e,r,n,i){this.storage.setTables(e,r,n,i)}getObjectsWithSchema(e,r){return this.storage.getObjectsWithSchema(e,r)}getColumns(e,r){return this.storage.getColumns(e,r)}setColumns(e,r,n){this.storage.setColumns(e,r,n)}findTableId(e,r){return this.storage.findTableId(e,r)}getTypeGroups(e,r){return this.storage.getTypeGroups(e,r)}setTypeGroups(e,r,n){this.storage.setTypeGroups(e,r,n)}findObjectWithType(e,r,n,i){return this.storage.findObjectWithType(e,r,n,i)}invalidateSchema(e,r,n){this.storage.invalidateSchema(e,r,n)}search(e,r){return uy(this.storage,e,r)}async prefetchColumnsForSchema(e,r,n,i){return this.prefetcher.prefetchColumnsForSchema(e,r,n,i)}async prefetchAllObjects(e,r){return this.prefetcher.prefetchAllObjects(e,r)}hasAllObjectsPrefetchTriggered(e){return this.prefetcher.hasAllObjectsPrefetchTriggered(e)}hasConnectionPrefetchTriggered(e){return this.prefetcher.hasConnectionPrefetchTriggered(e)}triggerConnectionPrefetch(e,r){this.prefetcher.triggerConnectionPrefetch(e,r)}get schemaCache(){return this.storage.schemaCache}get tableCache(){return this.storage.tableCache}get columnCache(){return this.storage.columnCache}get tableIdMap(){return this.storage.tableIdMap}get typeGroupCache(){return this.storage.typeGroupCache}};var Xr=oe(require("vscode"));var rr=oe(require("vscode"));function Ey(t){switch(t){case"error":return rr.DiagnosticSeverity.Error;case"warning":return rr.DiagnosticSeverity.Warning;case"information":return rr.DiagnosticSeverity.Information;case"hint":return rr.DiagnosticSeverity.Hint;case"off":return null;default:return rr.DiagnosticSeverity.Warning}}function kR(t,e){let r=!1,n=!1,i=!1,s=!1;for(let o=0;o<e&&o<t.length;o++){let a=t[o],l=o+1<t.length?t[o+1]:"";i?a===`
`&&(i=!1):s?a==="*"&&l==="/"&&(s=!1,o++):r?a==="'"&&t[o-1]!=="\\"&&(r=!1):n?a==='"'&&t[o-1]!=="\\"&&(n=!1):a==="-"&&l==="-"?i=!0:a==="/"&&l==="*"?s=!0:a==="'"?r=!0:a==='"'&&(n=!0)}return r||n||i||s}function ln(t,e){let r=[],n,i=new RegExp(e.source,e.flags.includes("g")?e.flags:e.flags+"g");for(;(n=i.exec(t))!==null;)kR(t,n.index)||r.push(n);return r}var M4={id:"NZ001",name:"Select Star",description:"Avoid using SELECT * - specify explicit column names for better performance and maintainability",defaultSeverity:rr.DiagnosticSeverity.Warning,check(t){let e=[],n=ln(t,/\bSELECT\s+\*/gi);for(let i of n){let s=i[0].indexOf("*");e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index+s,endOffset:i.index+s+1})}return e}},x4={id:"NZ002",name:"Delete Without Where",description:"DELETE statement without WHERE clause will delete all rows",defaultSeverity:rr.DiagnosticSeverity.Error,check(t){let e=[],n=ln(t,/\bDELETE\s+FROM\s+[\w."]+/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},v4={id:"NZ003",name:"Update Without Where",description:"UPDATE statement without WHERE clause will update all rows",defaultSeverity:rr.DiagnosticSeverity.Error,check(t){let e=[],n=ln(t,/\bUPDATE\s+[\w."]+\s+SET\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},U4={id:"NZ004",name:"Cross Join",description:"CROSS JOIN produces a Cartesian product - verify this is intentional",defaultSeverity:rr.DiagnosticSeverity.Warning,check(t){let e=[],n=ln(t,/\bCROSS\s+JOIN\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},B4={id:"NZ005",name:"Leading Wildcard Like",description:"LIKE pattern with leading wildcard ('%...') prevents index usage",defaultSeverity:rr.DiagnosticSeverity.Hint,check(t){let e=[],n=ln(t,/\bLIKE\s+'%/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},F4={id:"NZ006",name:"Order By Without Limit",description:"ORDER BY without LIMIT/FETCH may cause performance issues on large datasets",defaultSeverity:rr.DiagnosticSeverity.Information,check(t){let e=[],n=ln(t,/\bORDER\s+BY\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;if(!/\b(LIMIT|FETCH|TOP)\b/i.test(a)){let l=t.substring(0,i.index);/\bTOP\s+\d+\b/i.test(l)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}}return e}},G4={id:"NZ007",name:"Inconsistent Keyword Case",description:"SQL keywords have inconsistent casing - consider using consistent UPPER or lower case",defaultSeverity:rr.DiagnosticSeverity.Warning,check(t){let e=[],r=["SELECT","FROM","WHERE","JOIN","LEFT","RIGHT","INNER","OUTER","ON","AND","OR","INSERT","INTO","UPDATE","DELETE","CREATE","DROP","ALTER","TABLE","VIEW","INDEX","ORDER","BY","GROUP","HAVING","UNION","ALL","DISTINCT","AS","SET","VALUES","NULL","NOT","IN","BETWEEN","LIKE","IS","EXISTS","CASE","WHEN","THEN","ELSE","END","LIMIT","OFFSET"],n=0,i=0,s=[],o=new Set;for(let c of r){let u=new RegExp(`\\b${c}\\b`,"gi"),E=ln(t,u);for(let d of E){if(o.has(d.index))continue;o.add(d.index);let f=d[0],h;f===f.toUpperCase()?(n++,h="UPPER"):f===f.toLowerCase()?(i++,h="lower"):h="Mixed",s.push({keyword:f,index:d.index,type:h})}}let a=n>=i,l=a?"UPPER":"lower";for(let c of s)c.type==="Mixed"?e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' has mixed casing (expected ${a?"UPPERCASE":"lowercase"})`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length}):c.type!==l&&e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' should be ${a?"UPPERCASE":"lowercase"}`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length});return e}},H4={id:"NZ008",name:"Truncate Table",description:"TRUNCATE removes all data and cannot be rolled back - use with caution",defaultSeverity:rr.DiagnosticSeverity.Warning,check(t){let e=[],n=ln(t,/\bTRUNCATE\s+(TABLE\s+)?[\w."]+/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+8});return e}},W4={id:"NZ009",name:"Or In Where Clause",description:"Multiple OR conditions may prevent index usage - consider UNION for better performance",defaultSeverity:rr.DiagnosticSeverity.Hint,check(t){let e=[],n=ln(t,/\bWHERE\b/gi);for(let i of n){let s=t.substring(i.index),o=s.search(/\b(GROUP\s+BY|ORDER\s+BY|HAVING|LIMIT|UNION|;)/i),a=o>=0?s.substring(0,o):s,l=ln(a,/\bOR\b/gi);if(l.length>=2){let c=l[0];e.push({ruleId:this.id,message:`${this.id}: ${this.description} (${l.length} OR conditions found)`,severity:this.defaultSeverity,startOffset:i.index+c.index,endOffset:i.index+c.index+2})}}return e}},Y4={id:"NZ010",name:"Missing Table Alias",description:"Consider using table aliases in JOINs for better readability",defaultSeverity:rr.DiagnosticSeverity.Information,check(t){let e=[],n=ln(t,/\bJOIN\s+([\w."]+)\s+ON\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: Table '${i[1]}' in JOIN has no alias - ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},$4={id:"NZ011",name:"CTAS Missing Distribution",description:"CREATE TABLE AS SELECT should specify explicit data distribution",defaultSeverity:rr.DiagnosticSeverity.Warning,check(t){let e=[],n=ln(t,/\bCREATE\s+TABLE\s+(?:(?:IF\s+NOT\s+EXISTS\s+)?[\w."]+\s+)?AS\s+(?:\(\s*)?SELECT\b/gi);for(let i of n){let s=t.length;for(let u=i.index;u<t.length;u++)if(t[u]===";"&&!kR(t,u)){s=u;break}let o=t.substring(i.index,s),l=/\bDISTRIBUTE\s+ON\b/i.exec(o),c=!1;l&&(kR(t,i.index+l.index)||(c=!0)),c||e.push({ruleId:this.id,message:`${this.id}: ${this.description} - Add 'DISTRIBUTE ON (...)' or 'DISTRIBUTE ON RANDOM'`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}return e}},fy=[M4,x4,v4,U4,B4,F4,G4,H4,W4,Y4,$4];var XR=class{constructor(){this.disposables=[];this.diagnosticCollection=Xr.languages.createDiagnosticCollection("netezza-sql-linter")}activate(e){e.subscriptions.push(this.diagnosticCollection),this.disposables.push(Xr.workspace.onDidOpenTextDocument(r=>{this.shouldLint(r)&&this.lintDocument(r)})),this.disposables.push(Xr.workspace.onDidChangeTextDocument(r=>{this.shouldLint(r.document)&&this.lintDocument(r.document)})),this.disposables.push(Xr.workspace.onDidCloseTextDocument(r=>{this.diagnosticCollection.delete(r.uri)})),this.disposables.push(Xr.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("netezza.linter")&&this.lintAllOpenDocuments()})),e.subscriptions.push(...this.disposables),this.lintAllOpenDocuments()}shouldLint(e){return e.languageId==="sql"}getConfig(){let e=Xr.workspace.getConfiguration("netezza.linter");return{enabled:e.get("enabled",!0),rules:e.get("rules",{})}}lintAllOpenDocuments(){for(let e of Xr.workspace.textDocuments)this.shouldLint(e)&&this.lintDocument(e)}lintDocument(e){let r=this.getConfig();if(!r.enabled){this.diagnosticCollection.delete(e.uri);return}let n=e.getText(),i=this.lintSql(n,r.rules),s=this.issuesToDiagnostics(e,i);this.diagnosticCollection.set(e.uri,s)}lintSql(e,r={}){let n=[];for(let i of fy){let s=r[i.id],o=s!==void 0?Ey(s):i.defaultSeverity;if(o===null)continue;let a=i.check(e);for(let l of a)n.push({...l,severity:o})}return n}issuesToDiagnostics(e,r){return r.map(n=>{let i=e.positionAt(n.startOffset),s=e.positionAt(n.endOffset),o=new Xr.Range(i,s),a=new Xr.Diagnostic(o,n.message,n.severity);return a.source="Netezza SQL Linter",a.code=n.ruleId,a})}dispose(){this.diagnosticCollection.dispose();for(let e of this.disposables)e.dispose()}},qR;function V4(){return qR||(qR=new XR),qR}function dy(t){let e=V4();return e.activate(t),e}var no=oe(require("vscode"));ro();var Dc=class{static{this.providedCodeActionKinds=[no.CodeActionKind.QuickFix]}provideCodeActions(e,r,n,i){let s=[];for(let o of n.diagnostics)if(o.code==="NZ011"){let a=this.createDistributeOnRandomFix(e,o);a&&s.push(a)}return s}createDistributeOnRandomFix(e,r){let n=new no.CodeAction("Add DISTRIBUTE ON RANDOM",no.CodeActionKind.QuickFix);n.diagnostics=[r],n.isPreferred=!0;let i=e.offsetAt(r.range.start),s=e.getText(),o=wr.getStatementAtPosition(s,i);if(o)return n.edit=new no.WorkspaceEdit,n.edit.insert(e.uri,e.positionAt(o.end)," DISTRIBUTE ON RANDOM"),n}};var Pc=oe(require("vscode"));function Yr(t){return`${t.dbName}.${t.schema}.${t.label}`}async function Xt(t,e){let r=await t.getConnectionString(e);return r||(Pc.window.showErrorMessage("No database connection"),null)}async function nr(t,e){return Pc.window.withProgress({location:Pc.ProgressLocation.Notification,title:t,cancellable:!1},e)}function KR(t){return t.replace(/'/g,"''")}function jR(t){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t.trim())}var ir=oe(require("vscode"));Rr();function hy(t){let{context:e,connectionManager:r,schemaProvider:n}=t;return[ir.commands.registerCommand("netezza.copySelectAll",async i=>{if(i&&i.label&&i.dbName&&i.schema){let s=`SELECT * FROM ${i.dbName}.${i.schema}.${i.label} LIMIT 1000;`,o=await ir.window.showQuickPick([{label:"Open in Editor",description:"Open SQL in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy SQL to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the SQL?"});if(o)if(o.value==="editor"){let a=await ir.workspace.openTextDocument({content:s,language:"sql"});await ir.window.showTextDocument(a)}else await ir.env.clipboard.writeText(s),ir.window.showInformationMessage("Copied to clipboard")}}),ir.commands.registerCommand("netezza.copyDrop",async i=>{if(i&&i.label&&i.dbName&&i.schema&&i.objType){let s=Yr(i),o=`DROP ${i.objType} ${s};`;if(await ir.window.showWarningMessage(`Are you sure you want to delete ${i.objType.toLowerCase()} "${s}"?`,{modal:!0},"Yes, delete","Cancel")==="Yes, delete"){if(!await Xt(r))return;try{await nr(`Deleting ${i.objType.toLowerCase()} ${s}...`,async()=>{await q(e,o,!0,i.connectionName,r)}),ir.window.showInformationMessage(`Deleted ${i.objType.toLowerCase()}: ${s}`),n.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);ir.window.showErrorMessage(`Error during deletion: ${u}`)}}}}),ir.commands.registerCommand("netezza.copyName",i=>{if(i&&i.label&&i.dbName&&i.schema){let s=Yr(i);ir.env.clipboard.writeText(s),ir.window.showInformationMessage("Copied to clipboard")}})]}var ve=oe(require("vscode"));Rr();function Ty(t){let{context:e,connectionManager:r,metadataCache:n,schemaProvider:i}=t;return[ve.commands.registerCommand("netezza.grantPermissions",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType){let o=Yr(s),a=await ve.window.showQuickPick([{label:"SELECT",description:"Privileges to read data"},{label:"INSERT",description:"Privileges to insert data"},{label:"UPDATE",description:"Privileges to update data"},{label:"DELETE",description:"Privileges to delete data"},{label:"ALL",description:"All privileges (SELECT, INSERT, UPDATE, DELETE)"},{label:"LIST",description:"Privileges to list objects"}],{placeHolder:"Select privilege type"});if(!a)return;let l=await ve.window.showInputBox({prompt:"Enter user or group name",placeHolder:"e.g. SOME_USER or GROUP_NAME",validateInput:E=>!E||E.trim().length===0?"User/group name cannot be empty":jR(E)?null:"Invalid user/group name"});if(!l)return;let c=`GRANT ${a.label} ON ${o} TO ${l.trim().toUpperCase()};`;if(await ve.window.showInformationMessage(`Execute: ${c}`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute"){if(!await Xt(r))return;try{await nr(`Granting ${a.label} on ${o}...`,async()=>{await q(e,c,!0,s.connectionName,r)}),ve.window.showInformationMessage(`Granted ${a.label} on ${o} to ${l.trim().toUpperCase()}`)}catch(d){let f=d instanceof Error?d.message:String(d);ve.window.showErrorMessage(`Error granting privileges: ${f}`)}}}}),ve.commands.registerCommand("netezza.addTableComment",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=await ve.window.showInputBox({prompt:"Enter comment for table",placeHolder:"e.g. Table contains customer data",value:s.objectDescription||""});if(a===void 0)return;let l=`COMMENT ON TABLE ${o} IS '${KR(a)}';`;try{if(!await Xt(r))return;await q(e,l,!0,s.connectionName,r),ve.window.showInformationMessage(`Comment added to table: ${o}`),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);ve.window.showErrorMessage(`Error adding comment: ${u}`)}}}),ve.commands.registerCommand("netezza.addColumnComment",async s=>{if(s&&s.label&&s.dbName&&s.parentName){let o=s.label.split(" ")[0],a=s.parentName,l=s.schema||"ADMIN",c=`${s.dbName}.${l}.${a}.${o}`,u=await ve.window.showInputBox({prompt:`Enter comment for column "${o}"`,placeHolder:"e.g. Customer ID from CRM",value:s.objectDescription||""});if(u===void 0)return;let E=`COMMENT ON COLUMN ${c} IS '${KR(u)}';`;try{if(!await Xt(r))return;await q(e,E,!0,s.connectionName,r),ve.window.showInformationMessage(`Comment added to column: ${o}`),i.refresh()}catch(d){let f=d instanceof Error?d.message:String(d);ve.window.showErrorMessage(`Error adding comment: ${f}`)}}}),ve.commands.registerCommand("netezza.truncateTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=`TRUNCATE TABLE ${o};`;if(await ve.window.showWarningMessage(`\u26A0\uFE0F WARNING: Are you sure you want to delete ALL data from the table "${o}"?

${a}

This operation is IRREVERSIBLE!`,{modal:!0},"Yes, delete all data","Cancel")==="Yes, delete all data"){if(!await Xt(r))return;try{await nr(`Clearing table ${o}...`,async()=>{await q(e,a,!0,s.connectionName,r)}),ve.window.showInformationMessage(`Table cleared: ${o}`)}catch(u){let E=u instanceof Error?u.message:String(u);ve.window.showErrorMessage(`Error clearing table: ${E}`)}}}}),ve.commands.registerCommand("netezza.addPrimaryKey",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=await ve.window.showInputBox({prompt:"Enter primary key constraint name",placeHolder:`e.g. PK_${s.label}`,value:`PK_${s.label}`,validateInput:d=>!d||d.trim().length===0?"Constraint name cannot be empty":jR(d)?null:"Invalid constraint name"});if(!a)return;let l=await ve.window.showInputBox({prompt:"Enter primary key column names (comma separated)",placeHolder:"e.g. COL1, COL2 or ID",validateInput:d=>!d||d.trim().length===0?"You must provide at least one column":null});if(!l)return;let c=l.split(",").map(d=>d.trim().toUpperCase()).join(", "),u=`ALTER TABLE ${o} ADD CONSTRAINT ${a.trim().toUpperCase()} PRIMARY KEY (${c});`;if(await ve.window.showInformationMessage(`Add primary key to table "${o}"?

${u}`,{modal:!0},"Yes, add","Cancel")==="Yes, add"){if(!await Xt(r))return;try{await nr(`Adding primary key to ${o}...`,async()=>{await q(e,u,!0,s.connectionName,r)}),ve.window.showInformationMessage(`Primary key added: ${a.trim().toUpperCase()}`),i.refresh()}catch(f){let h=f instanceof Error?f.message:String(f);ve.window.showErrorMessage(`Error adding primary key: ${h}`)}}}}),ve.commands.registerCommand("netezza.changeOwner",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=await ve.window.showInputBox({prompt:"Enter new owner name",placeHolder:"e.g. USER_NAME or GROUP_NAME"});if(!a)return;let l=`ALTER TABLE ${o} OWNER TO ${a.trim()};`;try{if(!await Xt(r))return;await q(e,l,!0,s.connectionName,r),ve.window.showInformationMessage(`Owner changed to ${a} for ${o}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);ve.window.showErrorMessage(`Error changing owner: ${u}`)}}}),ve.commands.registerCommand("netezza.renameTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=await ve.window.showInputBox({prompt:"Enter new table name",placeHolder:"NewTableName",value:s.label});if(!a||a===s.label)return;let l=`ALTER TABLE ${o} RENAME TO ${a.trim()};`;try{if(!await Xt(r))return;await q(e,l,!0,s.connectionName,r),ve.window.showInformationMessage(`Table renamed to ${a}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);ve.window.showErrorMessage(`Error renaming table: ${u}`)}}})]}var ze=oe(require("vscode"));Rr();function my(t){let{context:e,connectionManager:r}=t;return[ze.commands.registerCommand("netezza.groomTable",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=Yr(n),s=await ze.window.showQuickPick([{label:"RECORDS ALL",description:"Groom all records (reclaim space from deleted rows)"},{label:"RECORDS READY",description:"Groom only ready records"},{label:"PAGES ALL",description:"Groom all pages (reorganize data pages)"},{label:"PAGES START",description:"Groom pages from start"},{label:"VERSIONS",description:"Groom versions (clean up old row versions)"}],{placeHolder:"Select GROOM mode"});if(!s)return;let o=await ze.window.showQuickPick([{label:"DEFAULT",description:"Use default backupset",value:"DEFAULT"},{label:"NONE",description:"No backupset",value:"NONE"},{label:"Custom",description:"Specify custom backupset ID",value:"CUSTOM"}],{placeHolder:"Select RECLAIM BACKUPSET option"});if(!o)return;let a=o.value;if(o.value==="CUSTOM"){let u=await ze.window.showInputBox({prompt:"Enter backupset ID",placeHolder:"e.g. 12345",validateInput:E=>!E||E.trim().length===0?"Backupset ID cannot be empty":/^\d+$/.test(E.trim())?null:"Backupset ID must be a number"});if(!u)return;a=u.trim()}let l=`GROOM TABLE ${i} ${s.label} RECLAIM BACKUPSET ${a};`;if(await ze.window.showWarningMessage(`Execute GROOM on table "${i}"?

${l}

Warning: This operation may be time-consuming for large tables.`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute"){if(!await Xt(r))return;try{let E=Date.now();await nr(`GROOM TABLE ${i} (${s.label})...`,async()=>{await q(e,l,!0,n.connectionName,r)});let d=((Date.now()-E)/1e3).toFixed(1);ze.window.showInformationMessage(`GROOM completed successfully (${d}s): ${i}`)}catch(E){let d=E instanceof Error?E.message:String(E);ze.window.showErrorMessage(`Error during GROOM: ${d}`)}}}}),ze.commands.registerCommand("netezza.generateStatistics",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=Yr(n),s=`GENERATE EXPRESS STATISTICS ON ${i};`;if(await ze.window.showInformationMessage(`Generate statistics for table "${i}"?

${s}`,{modal:!0},"Yes, generate","Cancel")==="Yes, generate"){if(!await Xt(r))return;try{let l=Date.now();await nr(`Generating statistics for ${i}...`,async()=>{await q(e,s,!0,n.connectionName,r)});let c=((Date.now()-l)/1e3).toFixed(1);ze.window.showInformationMessage(`Statistics generated successfully (${c}s): ${i}`)}catch(l){let c=l instanceof Error?l.message:String(l);ze.window.showErrorMessage(`Error generating statistics: ${c}`)}}}}),ze.commands.registerCommand("netezza.checkSkew",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=Yr(n),s=`SELECT datasliceid, count(*) as row_count FROM ${i} GROUP BY 1 ORDER BY 1;`;if(await ze.window.showInformationMessage(`Check skew for "${i}"?

This will run: ${s}

Note: This may be slow on very large tables.`,{modal:!0},"Yes, check skew","Cancel")==="Yes, check skew"){let a=await ze.workspace.openTextDocument({content:`-- Check Skew for ${i}
${s}`,language:"sql"});await ze.window.showTextDocument(a),ze.commands.executeCommand("netezza.runQuery")}}}),ze.commands.registerCommand("netezza.recreateTable",async n=>{if(!n||!n.label||!n.dbName||!n.schema||!n.objType||n.objType!=="TABLE"){ze.window.showErrorMessage("Invalid object selected for Recreate Table");return}let i=await Xt(r);if(!i){ze.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=await ze.window.showInputBox({prompt:"Enter temporary table name (Optional)",placeHolder:"Leave empty to auto-generate timestamped name",value:""});if(s!==void 0)try{await nr(`Generating Recreate Script for ${n.label}...`,async()=>{let{generateRecreateTableScript:o}=await Promise.resolve().then(()=>(Oy(),Ny)),a=await o(i,n.dbName,n.schema,n.label,s||void 0);if(a.success&&a.sqlScript){let l=await ze.workspace.openTextDocument({content:a.sqlScript,language:"sql"});await ze.window.showTextDocument(l),ze.window.showInformationMessage(`Recreate script generated for ${n.label}`)}else throw new Error(a.error||"Script generation failed")})}catch(o){let a=o instanceof Error?o.message:String(o);ze.window.showErrorMessage(`Error generating recreate script: ${a}`)}})]}var _e=oe(require("vscode"));Rr();function Ly(t){let{context:e,connectionManager:r}=t;return[_e.commands.registerCommand("netezza.createDDL",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){_e.window.showErrorMessage("Invalid object selected for DDL generation");return}let i=await r.getConnectionString();if(!i){_e.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}await nr(`Generating DDL for ${n.objType} ${n.label}...`,async()=>{let{generateDDL:s}=await Promise.resolve().then(()=>(vc(),ZR)),o=await s(i,n.dbName,n.schema,n.label,n.objType);if(o.success&&o.ddlCode){let a=await _e.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the DDL code?"});if(a)if(a.value==="editor"){let l=await _e.workspace.openTextDocument({content:o.ddlCode,language:"sql"});await _e.window.showTextDocument(l),_e.window.showInformationMessage(`DDL code generated for ${n.objType} ${n.label}`)}else a.value==="clipboard"&&(await _e.env.clipboard.writeText(o.ddlCode),_e.window.showInformationMessage("DDL code copied to clipboard"))}else throw new Error(o.error||"DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);_e.window.showErrorMessage(`Error generating DDL: ${s}`)}}),_e.commands.registerCommand("netezza.compareSchema",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){_e.window.showErrorMessage("Invalid object selected for comparison");return}let i=await r.getConnectionString();if(!i){_e.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=n.objType,o=`${n.dbName}.${n.schema}.${n.label}`,a=[];if(await nr(`Loading ${s}s for comparison...`,async()=>{let c=s==="PROCEDURE"?"OBJTYPE = 'PROCEDURE'":s==="VIEW"?"OBJTYPE = 'VIEW'":"OBJTYPE = 'TABLE'",u=s==="PROCEDURE"?`SELECT DISTINCT SCHEMA, PROCEDURESIGNATURE AS OBJNAME FROM ${n.dbName}.._V_PROCEDURE WHERE DATABASE = '${n.dbName.toUpperCase()}' ORDER BY SCHEMA, PROCEDURESIGNATURE`:`SELECT SCHEMA, OBJNAME FROM ${n.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${n.dbName.toUpperCase()}' AND ${c} ORDER BY SCHEMA, OBJNAME`,E=await q(e,u,!0,n.connectionName,r);if(E&&!E.startsWith("Query executed successfully")){let d=JSON.parse(E);for(let f of d){let h=f.OBJNAME,T=f.SCHEMA;`${n.dbName}.${T}.${h}`.toUpperCase()!==o.toUpperCase()&&a.push({label:h,description:`${n.dbName}.${T}`,db:n.dbName,schema:T,name:h})}}}),a.length===0){_e.window.showWarningMessage(`No other ${s}s found to compare with.`);return}let l=await _e.window.showQuickPick(a,{placeHolder:`Select ${s} to compare with ${n.label}`,matchOnDescription:!0});if(!l)return;await nr(`Comparing ${n.label} with ${l.label}...`,async()=>{if(s==="PROCEDURE"){let{compareProcedures:c}=await Promise.resolve().then(()=>(tp(),ep)),{SchemaCompareView:u}=await Promise.resolve().then(()=>(ip(),np)),E=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,E,"procedure")}else{let{compareTableStructures:c}=await Promise.resolve().then(()=>(tp(),ep)),{SchemaCompareView:u}=await Promise.resolve().then(()=>(ip(),np)),E=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,E,"table")}}),_e.window.showInformationMessage(`Comparison complete: ${n.label} \u2194 ${l.label}`)}catch(i){let s=i instanceof Error?i.message:String(i);_e.window.showErrorMessage(`Error comparing objects: ${s}`)}}),_e.commands.registerCommand("netezza.batchExportDDL",async n=>{try{if(!n||!n.contextValue){_e.window.showErrorMessage("Invalid node selected for batch DDL export");return}let i=n.contextValue==="database",s=n.contextValue.startsWith("typeGroup:");if(!i&&!s){_e.window.showErrorMessage("Batch DDL export is only available on database or object type nodes");return}let o=await Xt(r,n.connectionName);if(!o){_e.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let a=n.dbName||n.label,l=s?[n.objType||n.contextValue.replace("typeGroup:","")]:void 0;await nr(i?`Exporting all DDL for database ${a}...`:`Exporting ${l?.[0]} DDL for ${a}...`,async()=>{let{generateBatchDDL:c}=await Promise.resolve().then(()=>(vc(),ZR)),u=await c({connectionString:o,database:a,objectTypes:l});if(u.success&&u.ddlCode){let E=await _e.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Save to File",description:"Save DDL code to a .sql file",value:"file"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:`${u.objectCount} objects found. How would you like to access the DDL code?`});if(E)if(E.value==="editor"){let d=await _e.workspace.openTextDocument({content:u.ddlCode,language:"sql"});await _e.window.showTextDocument(d),_e.window.showInformationMessage(`DDL exported: ${u.objectCount} objects`)}else if(E.value==="file"){let d=i?`${a}_all_ddl.sql`:`${a}_${l?.[0]?.toLowerCase()||"objects"}_ddl.sql`,f=await _e.window.showSaveDialog({defaultUri:_e.Uri.file(d),filters:{"SQL Files":["sql"]}});f&&(await _e.workspace.fs.writeFile(f,Buffer.from(u.ddlCode,"utf8")),_e.window.showInformationMessage(`DDL saved to ${f.fsPath}`))}else E.value==="clipboard"&&(await _e.env.clipboard.writeText(u.ddlCode),_e.window.showInformationMessage(`DDL copied: ${u.objectCount} objects`));u.errors.length>0&&_e.window.showWarningMessage(`Batch DDL completed with ${u.errors.length} error(s). Check the generated file for details.`)}else throw new Error(u.errors.join(", ")||"Batch DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);_e.window.showErrorMessage(`Error exporting DDL: ${s}`)}})]}var jr=oe(require("vscode"));Rr();function By(t){let{context:e,connectionManager:r}=t;return[jr.commands.registerCommand("netezza.showERD",async n=>{try{if(!n||!n.contextValue||!n.contextValue.startsWith("typeGroup:")){jr.window.showErrorMessage("Please right-click on a TABLE type group to show ERD");return}let i=n.dbName||n.label,s=n.connectionName;if(!s){jr.window.showErrorMessage("No connection selected");return}let o=`SELECT DISTINCT SCHEMA FROM ${i}.._V_TABLE ORDER BY SCHEMA`,a=await q(e,o,!0,s,r);if(!a){jr.window.showErrorMessage("Could not retrieve schemas");return}let l=JSON.parse(a);if(l.length===0){jr.window.showWarningMessage("No tables found in this database");return}let c;if(l.length===1)c=l[0].SCHEMA;else{let d=l.map(h=>({label:h.SCHEMA,description:`${i}.${h.SCHEMA}`})),f=await jr.window.showQuickPick(d,{placeHolder:"Select schema to show ERD for"});if(!f)return;c=f.label}let u=0,E=0;await nr(`Building ERD for ${i}.${c}...`,async()=>{let{buildERDData:d}=await Promise.resolve().then(()=>(Py(),Dy)),{ERDView:f}=await Promise.resolve().then(()=>(xy(),My)),h=await d(e,r,s,i,c);u=h.tables.length,E=h.relationships.length,f.createOrShow(e.extensionUri,h)}),jr.window.showInformationMessage(`ERD generated: ${u} tables, ${E} relationships`)}catch(i){let s=i instanceof Error?i.message:String(i);jr.window.showErrorMessage(`Error generating ERD: ${s}`)}}),jr.commands.registerCommand("netezza.showSessionMonitor",async()=>{try{if(!await Xt(r)){jr.window.showErrorMessage("Please connect to a Netezza database first.");return}let{SessionMonitorView:i}=await Promise.resolve().then(()=>(Uy(),vy));i.createOrShow(e.extensionUri,e,r)}catch(n){let i=n instanceof Error?n.message:String(n);jr.window.showErrorMessage(`Error opening Session Monitor: ${i}`)}})]}var _t=oe(require("vscode"));Rr();function Fy(t){let{context:e,connectionManager:r,metadataCache:n,schemaTreeView:i}=t;return[_t.commands.registerCommand("netezza.revealInSchema",async s=>{let o=_t.window.setStatusBarMessage(`$(loading~spin) Revealing ${s.name} in schema...`);try{let a,l=_t.window.activeTextEditor;if(l&&l.document.languageId==="sql"&&(a=r.getConnectionForExecution(l.document.uri.toString())),a||(a=s.connectionName),a||(a=r.getActiveConnectionName()||void 0),!a){o.dispose(),_t.window.showWarningMessage("No active connection. Please select a connection first.");return}let c=s.name,u=s.objType;if(u==="COLUMN"){if(!s.parent){o.dispose(),_t.window.showWarningMessage("Cannot find column without parent table");return}c=s.parent}if(s.database){let f=n.findObjectWithType(a,s.database,s.schema,c);if(f){let h=new kt(f.name,_t.TreeItemCollapsibleState.Collapsed,`netezza:${f.objType}`,s.database,f.objType,f.schema||s.schema,f.objId,void 0,a);await i.reveal(h,{select:!0,focus:!0,expand:!0}),o.dispose(),_t.window.setStatusBarMessage(`$(check) Found ${c} in ${s.database}.${f.schema||s.schema} (cached)`,3e3);return}else n.hasConnectionPrefetchTriggered(a)||n.triggerConnectionPrefetch(a,async h=>q(e,h,!0,a,r))}if(!await r.getConnectionString(a)){o.dispose(),_t.window.showWarningMessage("Not connected to database and object not found in cache.");return}let d=s.database||await r.getCurrentDatabase(a);if(d){let f=u&&u!=="COLUMN"?`AND UPPER(OBJTYPE) = UPPER('${u}')`:"",h=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",T=`
                        SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                        FROM ${d}.._V_OBJECT_DATA 
                        WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                        AND DBNAME = '${d}'
                        ${f}
                        ${h}
                        LIMIT 1
                    `;try{let S=await q(e,T,!0,a,r);if(S){let R=[];if(S==="Query executed successfully (no results)."||S.startsWith("Query executed successfully")?R=[]:R=JSON.parse(S),R.length>0){let N=R[0];if(N.OBJTYPE==="PROCEDURE")try{let A=`SELECT PROCEDURESIGNATURE FROM ${d}.._V_PROCEDURE WHERE OBJID = ${N.OBJID}`,O=await q(e,A,!0,a,r);if(O){let b=JSON.parse(O);b.length>0&&b[0].PROCEDURESIGNATURE&&(N.OBJNAME=b[0].PROCEDURESIGNATURE)}}catch(A){console.warn("Failed to resolve procedure signature:",A)}let p=new kt(N.OBJNAME,_t.TreeItemCollapsibleState.Collapsed,`netezza:${N.OBJTYPE}`,d,N.OBJTYPE,N.SCHEMA,N.OBJID,void 0,a);await i.reveal(p,{select:!0,focus:!0,expand:!0}),o.dispose(),_t.window.setStatusBarMessage(`$(check) Found ${c} in ${d}.${N.SCHEMA}`,3e3);return}}}catch(S){console.log(`Error searching in ${d}:`,S)}}if(!d){let f=await q(e,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,a,r);if(f){let h=JSON.parse(f);for(let T of h){let S=T.DATABASE;try{let R=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",N=`
                                    SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                                    FROM ${S}.._V_OBJECT_DATA 
                                    WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                                    AND DBNAME = '${S}'
                                    ${R}
                                    LIMIT 1
                                `,p=await q(e,N,!0,a,r);if(p){let A=[];if(p==="Query executed successfully (no results)."||p.startsWith("Query executed successfully")?A=[]:A=JSON.parse(p),A.length>0){let O=A[0];if(O.OBJTYPE==="PROCEDURE")try{let I=`SELECT PROCEDURESIGNATURE FROM ${S}.._V_PROCEDURE WHERE OBJID = ${O.OBJID}`,D=await q(e,I,!0,a,r);if(D){let L=JSON.parse(D);L.length>0&&L[0].PROCEDURESIGNATURE&&(O.OBJNAME=L[0].PROCEDURESIGNATURE)}}catch(I){console.warn("Failed to resolve procedure signature:",I)}let b=new kt(O.OBJNAME,_t.TreeItemCollapsibleState.Collapsed,`netezza:${O.OBJTYPE}`,S,O.OBJTYPE,O.SCHEMA,O.OBJID,void 0,a);await i.reveal(b,{select:!0,focus:!0,expand:!0}),o.dispose(),_t.window.setStatusBarMessage(`$(check) Found ${c} in ${S}.${O.SCHEMA}`,3e3);return}}}catch(R){console.log(`Error searching in ${S}:`,R)}}}}o.dispose(),_t.window.showWarningMessage(`Could not find ${u||"object"} ${c}`)}catch(a){o.dispose();let l=a instanceof Error?a.message:String(a);_t.window.showErrorMessage(`Error revealing item: ${l}`)}}),_t.commands.registerCommand("netezza.showQueryHistory",()=>{_t.commands.executeCommand("netezza.queryHistory.focus")}),_t.commands.registerCommand("netezza.clearQueryHistory",async()=>{let{QueryHistoryManager:s}=await Promise.resolve().then(()=>(Of(),ty)),o=new s(e);await _t.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await o.clearHistory(),_t.window.showInformationMessage("Query history cleared"))})]}function Vf(t){return[...hy(t),...Ty(t),...my(t),...Ly(t),...By(t),...Fy(t)]}var z=oe(require("vscode")),k2=oe(require("path")),MS=oe(require("os"));function ME(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}function q2(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[z.commands.registerCommand("netezza.exportToXlsb",async()=>{let i=z.window.activeTextEditor;if(!i){z.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){z.window.showWarningMessage("No SQL query to export");return}let a=await z.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),E=await r.getConnectionString(u);if(!E)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await z.window.withProgress({location:z.ProgressLocation.Notification,title:"Exporting to XLSB...",cancellable:!1},async d=>{let{exportQueryToXlsb:f}=await Promise.resolve().then(()=>(da(),fa)),h=await f(E,o,a.fsPath,!1,T=>{d.report({message:T}),n.appendLine(`[XLSB Export] ${T}`)});if(!h.success)throw new Error(h.message)}),ME(n,"Export to XLSB",l),z.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){z.window.showErrorMessage(`Error exporting to XLSB: ${c.message}`)}}),z.commands.registerCommand("netezza.exportToCsv",async()=>{let i=z.window.activeTextEditor;if(!i){z.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){z.window.showWarningMessage("No SQL query to export");return}let a=await z.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export to CSV"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),E=await r.getConnectionString(u);if(!E)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await z.window.withProgress({location:z.ProgressLocation.Notification,title:"Exporting to CSV...",cancellable:!1},async d=>{let{exportToCsv:f}=await Promise.resolve().then(()=>(V2(),$2));await f(e,E,o,a.fsPath,d)}),ME(n,"Export to CSV",l),z.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){z.window.showErrorMessage(`Error exporting to CSV: ${c.message}`)}}),z.commands.registerCommand("netezza.copyXlsbToClipboard",async()=>{let i=z.window.activeTextEditor;if(!i){z.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){z.window.showWarningMessage("No SQL query to export");return}try{let a=i.document.uri.toString(),l=r.getConnectionForExecution(a),c=await r.getConnectionString(l);if(!c)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let u=Date.now();if(await z.window.withProgress({location:z.ProgressLocation.Notification,title:"Exporting to XLSB and copying to clipboard...",cancellable:!1},async d=>{let{exportQueryToXlsb:f,getTempFilePath:h}=await Promise.resolve().then(()=>(da(),fa)),T=h(),S=await f(c,o,T,!0,R=>{d.report({message:R}),n.appendLine(`[XLSB Clipboard] ${R}`)});if(!S.success)throw new Error(S.message);if(!S.details?.clipboard_success)throw new Error("Failed to copy file to clipboard")}),ME(n,"Copy XLSB to Clipboard",u),await z.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let d=MS.tmpdir();await z.env.openExternal(z.Uri.file(d))}}catch(a){z.window.showErrorMessage(`Error copying XLSB to clipboard: ${a.message}`)}}),z.commands.registerCommand("netezza.exportToXlsbAndOpen",async()=>{let i=z.window.activeTextEditor;if(!i){z.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){z.window.showWarningMessage("No SQL query to export");return}let a=await z.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB and Open"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),E=await r.getConnectionString(u);if(!E)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await z.window.withProgress({location:z.ProgressLocation.Notification,title:"Exporting to XLSB and opening...",cancellable:!1},async d=>{let{exportQueryToXlsb:f}=await Promise.resolve().then(()=>(da(),fa)),h=await f(E,o,a.fsPath,!1,T=>{d.report({message:T}),n.appendLine(`[XLSB Export] ${T}`)});if(!h.success)throw new Error(h.message)}),ME(n,"Export to XLSB and Open",l),await z.env.openExternal(a),z.window.showInformationMessage(`Results exported and opened: ${a.fsPath}`)}catch(c){z.window.showErrorMessage(`Error exporting to XLSB: ${c.message}`)}}),z.commands.registerCommand("netezza.exportCurrentResultToXlsbAndOpen",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){z.window.showErrorMessage("No data to export");return}let o=i;if(Array.isArray(i)&&i.length>1){let E=await z.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!E)return;if(E==="Export Active Result Only"){let d=i.find(f=>f.isActive);d?o=[d]:o=[i[0]]}}let a=new Date().toISOString().replace(/[:.]/g,"-"),l=k2.join(MS.tmpdir(),`netezza_results_${a}.xlsb`),c=Date.now();await z.window.withProgress({location:z.ProgressLocation.Notification,title:"Creating Excel file...",cancellable:!1},async E=>{let{exportCsvToXlsb:d}=await Promise.resolve().then(()=>(da(),fa)),f=await d(o,l,!1,{source:"Query Results Panel",sql:s},h=>{E.report({message:h}),n.appendLine(`[CSV to XLSB] ${h}`)});if(!f.success)throw new Error(f.message)});let u=Date.now()-c;n.appendLine(`[${new Date().toLocaleTimeString()}] Export Current Result to Excel completed in ${u}ms`),await z.env.openExternal(z.Uri.file(l)),z.window.showInformationMessage(`Results exported and opened: ${l}`)}catch(o){z.window.showErrorMessage(`Error exporting to Excel: ${o.message}`)}}),z.commands.registerCommand("netezza.copyCurrentResultToXlsbClipboard",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){z.window.showErrorMessage("No data to copy");return}let o=i;if(Array.isArray(i)&&i.length>1){let E=await z.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!E)return;if(E==="Export Active Result Only"){let d=i.find(f=>f.isActive);d?o=[d]:o=[i[0]]}}let{getTempFilePath:a}=await Promise.resolve().then(()=>(da(),fa)),l=a(),c=Date.now();if(await z.window.withProgress({location:z.ProgressLocation.Notification,title:"Copying to clipboard as Excel...",cancellable:!1},async E=>{let{exportCsvToXlsb:d}=await Promise.resolve().then(()=>(da(),fa)),f=await d(o,l,!0,{source:"Query Results Panel",sql:s},h=>{E.report({message:h}),n.appendLine(`[Clipboard XLSB] ${h}`)});if(!f.success)throw new Error(f.message)}),ME(n,"Copy Result as Excel",c),await z.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let E=MS.tmpdir();await z.env.openExternal(z.Uri.file(E))}}catch(o){z.window.showErrorMessage(`Error copying to Excel: ${o.message}`)}})]}var Be=oe(require("vscode")),oX=oe(require("path"));Rr();function iX(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}async function sX(t,e,r){try{let i=await q(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,e,r);if(i){let s=JSON.parse(i);if(s&&s.length>0){let o=s[0].CURRENT_CATALOG||"SYSTEM",a=s[0].CURRENT_SCHEMA||"ADMIN",c=new Date().toISOString().slice(0,10).replace(/-/g,""),u=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${o}.${a}.IMPORT_${c}_${u}`}}}catch(n){Be.window.showErrorMessage(`Error getting current database/schema: ${n.message}`)}return null}function aX(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[Be.commands.registerCommand("netezza.importClipboard",async()=>{try{let s=Be.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnectionString(o);if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await Be.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:d=>!d||d.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(d.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(l===void 0)return;let c;if(!l||l.trim().length===0){let d=await sX(e,o,r);if(!d)return;c=d,Be.window.showInformationMessage(`Auto-generated table name: ${c}`)}else c=l.trim();let u=await Be.window.showQuickPick([{label:"Auto-detect",description:"Automatically detect clipboard format (text or Excel XML)",value:null},{label:"Excel XML Spreadsheet",description:"Force Excel XML format processing",value:"XML Spreadsheet"},{label:"Plain Text",description:"Force plain text processing with delimiter detection",value:"TEXT"}],{placeHolder:"Select clipboard data format"});if(!u)return;let E=Date.now();await Be.window.withProgress({location:Be.ProgressLocation.Notification,title:"Importing clipboard data...",cancellable:!1},async d=>{let{importClipboardDataToNetezza:f}=await Promise.resolve().then(()=>(nX(),rX)),h=await f(c,a,u.value,{},T=>{d.report({message:T}),n.appendLine(`[Clipboard Import] ${T}`)});if(!h.success)throw new Error(h.message);h.details&&(n.appendLine(`[Clipboard Import] Rows processed: ${h.details.rowsProcessed}`),n.appendLine(`[Clipboard Import] Columns: ${h.details.columns}`),n.appendLine(`[Clipboard Import] Format: ${h.details.format}`))}),iX(n,"Import Clipboard Data",E),Be.window.showInformationMessage(`Clipboard data imported successfully to table: ${c}`)}catch(i){Be.window.showErrorMessage(`Error importing clipboard data: ${i.message}`)}}),Be.commands.registerCommand("netezza.importData",async()=>{try{let s=Be.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnectionString(o);if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await Be.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Data Files":["csv","txt","xlsx","xlsb","json"],"CSV Files":["csv"],"Excel Files":["xlsx","xlsb"],"Text Files":["txt"],"JSON Files":["json"],"All Files":["*"]},openLabel:"Select file to import"});if(!l||l.length===0)return;let c=l[0].fsPath,u=await Be.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:h=>!h||h.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(h.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(u===void 0)return;let E;if(!u||u.trim().length===0){let h=await sX(e,o,r);if(!h)return;E=h,Be.window.showInformationMessage(`Auto-generated table name: ${E}`)}else E=u.trim();let d=await Be.window.showQuickPick([{label:"Default Import",description:"Use default settings",value:{}},{label:"Custom Options",description:"Configure import settings (coming soon)",value:null}],{placeHolder:"Select import options"});if(!d)return;if(d.value===null){Be.window.showInformationMessage("Custom options will be available in future version");return}let f=Date.now();await Be.window.withProgress({location:Be.ProgressLocation.Notification,title:"Importing data...",cancellable:!1},async h=>{let{importDataToNetezza:T}=await Promise.resolve().then(()=>(iC(),eX)),S=await T(c,E,a,R=>{h.report({message:R}),n.appendLine(`[Import] ${R}`)});if(!S.success)throw new Error(S.message);S.details&&(n.appendLine(`[Import] Rows processed: ${S.details.rowsProcessed}`),n.appendLine(`[Import] Columns: ${S.details.columns}`),n.appendLine(`[Import] Delimiter: ${S.details.detectedDelimiter}`))}),iX(n,"Import Data",f),Be.window.showInformationMessage(`Data imported successfully to table: ${E}`)}catch(i){Be.window.showErrorMessage(`Error importing data: ${i.message}`)}}),Be.commands.registerCommand("netezza.smartPaste",async()=>{try{let i=Be.window.activeTextEditor;if(!i)return;let o=Be.workspace.getConfiguration("netezza").get("pythonPath")||"python",a=oX.join(e.extensionPath,"python","check_clipboard_format.py"),l=require("child_process");if(await new Promise(u=>{let E=l.spawn(o,[a]);E.on("close",d=>{u(d===1)}),E.on("error",()=>{u(!1)})})){let u=await Be.window.showQuickPick([{label:"\u{1F4CA} import to Netezza table",description:'Detected "XML Spreadsheet" format - import data to database',value:"import"},{label:"\u{1F4DD} Paste as text",description:"Paste clipboard content as plain text",value:"paste"}],{placeHolder:'Detected "XML Spreadsheet" format in clipboard - choose an action'});if(u?.value==="import")Be.commands.executeCommand("netezza.importClipboard");else if(u?.value==="paste"){let E=await Be.env.clipboard.readText(),d=i.selection;await i.edit(f=>{f.replace(d,E)})}}else{let u=await Be.env.clipboard.readText(),E=i.selection;await i.edit(d=>{d.replace(E,u)})}}catch(i){Be.window.showErrorMessage(`Error during paste: ${i.message}`)}})]}var ce=oe(require("vscode"));Rr();ro();var CC={};Sr(CC,{bigquery:()=>hX,db2:()=>AX,db2i:()=>mX,duckdb:()=>bX,hive:()=>xX,mariadb:()=>GX,mysql:()=>VX,n1ql:()=>e6,plsql:()=>s6,postgresql:()=>u6,redshift:()=>T6,singlestoredb:()=>k6,snowflake:()=>z6,spark:()=>_6,sql:()=>w6,sqlite:()=>g6,tidb:()=>jX,transactsql:()=>H6,trino:()=>v6});var M=t=>t.flatMap(sge),sge=t=>JS(age(t)).map(oge),oge=t=>t.replace(/ +/g," ").trim(),age=t=>({type:"mandatory_block",items:oC(t,0)[0]}),oC=(t,e,r)=>{let n=[];for(;t[e];){let[i,s]=lge(t,e);if(n.push(i),e=s,t[e]==="|")e++;else if(t[e]==="}"||t[e]==="]"){if(r!==t[e])throw new Error(`Unbalanced parenthesis in: ${t}`);return e++,[n,e]}else if(e===t.length){if(r)throw new Error(`Unbalanced parenthesis in: ${t}`);return[n,e]}else throw new Error(`Unexpected "${t[e]}"`)}return[n,e]},lge=(t,e)=>{let r=[];for(;;){let[n,i]=cge(t,e);if(n)r.push(n),e=i;else break}return r.length===1?[r[0],e]:[{type:"concatenation",items:r},e]},cge=(t,e)=>{if(t[e]==="{")return uge(t,e+1);if(t[e]==="[")return Ege(t,e+1);{let r="";for(;t[e]&&/[A-Za-z0-9_ ]/.test(t[e]);)r+=t[e],e++;return[r,e]}},uge=(t,e)=>{let[r,n]=oC(t,e,"}");return[{type:"mandatory_block",items:r},n]},Ege=(t,e)=>{let[r,n]=oC(t,e,"]");return[{type:"optional_block",items:r},n]},JS=t=>{if(typeof t=="string")return[t];if(t.type==="concatenation")return t.items.map(JS).reduce(fge,[""]);if(t.type==="mandatory_block")return t.items.flatMap(JS);if(t.type==="optional_block")return["",...t.items.flatMap(JS)];throw new Error(`Unknown node type: ${t}`)},fge=(t,e)=>{let r=[];for(let n of t)for(let i of e)r.push(n+i);return r};var H;(function(t){t.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",t.IDENTIFIER="IDENTIFIER",t.STRING="STRING",t.VARIABLE="VARIABLE",t.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",t.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",t.RESERVED_KEYWORD="RESERVED_KEYWORD",t.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",t.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",t.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",t.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",t.RESERVED_CLAUSE="RESERVED_CLAUSE",t.RESERVED_SELECT="RESERVED_SELECT",t.RESERVED_JOIN="RESERVED_JOIN",t.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",t.ARRAY_KEYWORD="ARRAY_KEYWORD",t.CASE="CASE",t.END="END",t.WHEN="WHEN",t.ELSE="ELSE",t.THEN="THEN",t.LIMIT="LIMIT",t.BETWEEN="BETWEEN",t.AND="AND",t.OR="OR",t.XOR="XOR",t.OPERATOR="OPERATOR",t.COMMA="COMMA",t.ASTERISK="ASTERISK",t.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",t.OPEN_PAREN="OPEN_PAREN",t.CLOSE_PAREN="CLOSE_PAREN",t.LINE_COMMENT="LINE_COMMENT",t.BLOCK_COMMENT="BLOCK_COMMENT",t.DISABLE_COMMENT="DISABLE_COMMENT",t.NUMBER="NUMBER",t.NAMED_PARAMETER="NAMED_PARAMETER",t.QUOTED_PARAMETER="QUOTED_PARAMETER",t.NUMBERED_PARAMETER="NUMBERED_PARAMETER",t.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",t.CUSTOM_PARAMETER="CUSTOM_PARAMETER",t.DELIMITER="DELIMITER",t.EOF="EOF"})(H=H||(H={}));var aC=t=>({type:H.EOF,raw:"\xABEOF\xBB",text:"\xABEOF\xBB",start:t}),Ii=aC(1/0),fc=t=>e=>e.type===t.type&&e.text===t.text,Bn={ARRAY:fc({text:"ARRAY",type:H.RESERVED_DATA_TYPE}),BY:fc({text:"BY",type:H.RESERVED_KEYWORD}),SET:fc({text:"SET",type:H.RESERVED_CLAUSE}),STRUCT:fc({text:"STRUCT",type:H.RESERVED_DATA_TYPE}),WINDOW:fc({text:"WINDOW",type:H.RESERVED_CLAUSE}),VALUES:fc({text:"VALUES",type:H.RESERVED_CLAUSE})},QS=t=>t===H.RESERVED_DATA_TYPE||t===H.RESERVED_KEYWORD||t===H.RESERVED_FUNCTION_NAME||t===H.RESERVED_KEYWORD_PHRASE||t===H.RESERVED_DATA_TYPE_PHRASE||t===H.RESERVED_CLAUSE||t===H.RESERVED_SELECT||t===H.RESERVED_SET_OPERATION||t===H.RESERVED_JOIN||t===H.ARRAY_KEYWORD||t===H.CASE||t===H.END||t===H.WHEN||t===H.ELSE||t===H.THEN||t===H.LIMIT||t===H.BETWEEN||t===H.AND||t===H.OR||t===H.XOR,lX=t=>t===H.AND||t===H.OR||t===H.XOR;var cX=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"];var uX=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],EX=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"];var dge=M(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),hge=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),fX=M(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),lC=M(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),Tge=M(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),Sge=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),Rge=M(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),pge=M([]),hX={name:"bigquery",tokenizerOptions:{reservedSelect:dge,reservedClauses:[...hge,...lC,...fX],reservedSetOperations:Tge,reservedJoins:Sge,reservedKeywordPhrases:Rge,reservedDataTypePhrases:pge,reservedKeywords:uX,reservedDataTypes:EX,reservedFunctionNames:cX,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:Age},formatOptions:{onelineClauses:[...fX,...lC],tabularOnelineClauses:lC}};function Age(t){return _ge(Ige(t))}function _ge(t){let e=Ii;return t.map(r=>r.text==="OFFSET"&&e.text==="["?(e=r,Object.assign(Object.assign({},r),{type:H.RESERVED_FUNCTION_NAME})):(e=r,r))}function Ige(t){var e;let r=[];for(let n=0;n<t.length;n++){let i=t[n];if((Bn.ARRAY(i)||Bn.STRUCT(i))&&((e=t[n+1])===null||e===void 0?void 0:e.text)==="<"){let s=Nge(t,n+1),o=t.slice(n,s+1);r.push({type:H.IDENTIFIER,raw:o.map(dX("raw")).join(""),text:o.map(dX("text")).join(""),start:i.start}),n=s}else r.push(i)}return r}var dX=t=>e=>e.type===H.IDENTIFIER||e.type===H.COMMA?e[t]+" ":e[t];function Nge(t,e){let r=0;for(let n=e;n<t.length;n++){let i=t[n];if(i.text==="<"?r++:i.text===">"?r--:i.text===">>"&&(r-=2),r===0)return n}return t.length-1}var TX=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"];var SX=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],RX=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"];var Oge=M(["SELECT [ALL | DISTINCT]"]),mge=M(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),pX=M(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),cC=M(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),gge=M(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),Cge=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),yge=M(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),Lge=M([]),AX={name:"db2",tokenizerOptions:{reservedSelect:Oge,reservedClauses:[...mge,...pX,...cC],reservedSetOperations:gge,reservedJoins:Cge,reservedKeywordPhrases:yge,reservedDataTypePhrases:Lge,reservedKeywords:SX,reservedDataTypes:RX,reservedFunctionNames:TX,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","\xAC=","\xAC>","\xAC<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...pX,...cC],tabularOnelineClauses:cC}};var _X=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"];var IX=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],NX=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"];var bge=M(["SELECT [ALL | DISTINCT]"]),wge=M(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),OX=M(["CREATE [OR REPLACE] TABLE"]),uC=M(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),Dge=M(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),Pge=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),Mge=M(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),xge=M([]),mX={name:"db2i",tokenizerOptions:{reservedSelect:bge,reservedClauses:[...wge,...OX,...uC],reservedSetOperations:Dge,reservedJoins:Pge,reservedKeywordPhrases:Mge,reservedDataTypePhrases:xge,reservedKeywords:IX,reservedDataTypes:NX,reservedFunctionNames:_X,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","\xAC=","\xAC>","\xAC<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...OX,...uC],tabularOnelineClauses:uC}};var gX=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"];var CX=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],yX=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"];var vge=M(["SELECT [ALL | DISTINCT]"]),Uge=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),LX=M(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),EC=M(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),Bge=M(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),Fge=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),Gge=M(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"]),Hge=M(["TIMESTAMP WITH TIME ZONE"]),bX={name:"duckdb",tokenizerOptions:{reservedSelect:vge,reservedClauses:[...Uge,...LX,...EC],reservedSetOperations:Bge,reservedJoins:Fge,reservedKeywordPhrases:Gge,reservedDataTypePhrases:Hge,supportsXor:!0,reservedKeywords:CX,reservedDataTypes:yX,reservedFunctionNames:gX,nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...LX,...EC],tabularOnelineClauses:EC}};var wX=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"];var DX=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],PX=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"];var Wge=M(["SELECT [ALL | DISTINCT]"]),Yge=M(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),MX=M(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),fC=M(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),$ge=M(["UNION [ALL | DISTINCT]"]),Vge=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),kge=M(["{ROWS | RANGE} BETWEEN"]),qge=M([]),xX={name:"hive",tokenizerOptions:{reservedSelect:Wge,reservedClauses:[...Yge,...MX,...fC],reservedSetOperations:$ge,reservedJoins:Vge,reservedKeywordPhrases:kge,reservedDataTypePhrases:qge,reservedKeywords:DX,reservedDataTypes:PX,reservedFunctionNames:wX,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...MX,...fC],tabularOnelineClauses:fC}};function qs(t){return t.map((e,r)=>{let n=t[r+1]||Ii;if(Bn.SET(e)&&n.text==="(")return Object.assign(Object.assign({},e),{type:H.RESERVED_FUNCTION_NAME});let i=t[r-1]||Ii;return Bn.VALUES(e)&&i.text==="="?Object.assign(Object.assign({},e),{type:H.RESERVED_FUNCTION_NAME}):e})}var vX=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],UX=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"];var BX=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"];var Xge=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),Kge=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),FX=M(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),dC=M(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),jge=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),zge=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Jge=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),Qge=M([]),GX={name:"mariadb",tokenizerOptions:{reservedSelect:Xge,reservedClauses:[...Kge,...FX,...dC],reservedSetOperations:jge,reservedJoins:zge,reservedKeywordPhrases:Jge,reservedDataTypePhrases:Qge,supportsXor:!0,reservedKeywords:vX,reservedDataTypes:UX,reservedFunctionNames:BX,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:qs},formatOptions:{onelineClauses:[...FX,...dC],tabularOnelineClauses:dC}};var HX=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],WX=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"];var YX=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"];var Zge=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),eCe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),$X=M(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),hC=M(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),tCe=M(["UNION [ALL | DISTINCT]"]),rCe=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),nCe=M(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),iCe=M([]),VX={name:"mysql",tokenizerOptions:{reservedSelect:Zge,reservedClauses:[...eCe,...$X,...hC],reservedSetOperations:tCe,reservedJoins:rCe,reservedKeywordPhrases:nCe,reservedDataTypePhrases:iCe,supportsXor:!0,reservedKeywords:HX,reservedDataTypes:WX,reservedFunctionNames:YX,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:qs},formatOptions:{onelineClauses:[...$X,...hC],tabularOnelineClauses:hC}};var kX=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],qX=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"];var XX=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"];var sCe=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),oCe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),KX=M(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),TC=M(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),aCe=M(["UNION [ALL | DISTINCT]"]),lCe=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),cCe=M(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),uCe=M([]),jX={name:"tidb",tokenizerOptions:{reservedSelect:sCe,reservedClauses:[...oCe,...KX,...TC],reservedSetOperations:aCe,reservedJoins:lCe,reservedKeywordPhrases:cCe,reservedDataTypePhrases:uCe,supportsXor:!0,reservedKeywords:kX,reservedDataTypes:qX,reservedFunctionNames:XX,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:qs},formatOptions:{onelineClauses:[...KX,...TC],tabularOnelineClauses:TC}};var zX=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"];var JX=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],QX=[];var ECe=M(["SELECT [ALL | DISTINCT]"]),fCe=M(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),ZX=M(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),dCe=M(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),hCe=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),TCe=M(["{ROWS | RANGE | GROUPS} BETWEEN"]),SCe=M([]),e6={name:"n1ql",tokenizerOptions:{reservedSelect:ECe,reservedClauses:[...fCe,...ZX],reservedSetOperations:dCe,reservedJoins:hCe,reservedKeywordPhrases:TCe,reservedDataTypePhrases:SCe,supportsXor:!0,reservedKeywords:JX,reservedDataTypes:QX,reservedFunctionNames:zX,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:ZX}};var t6=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],r6=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"];var n6=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"];var RCe=M(["SELECT [ALL | DISTINCT | UNIQUE]"]),pCe=M(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),i6=M(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),SC=M(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),ACe=M(["UNION [ALL]","MINUS","INTERSECT"]),_Ce=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),ICe=M(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),NCe=M([]),s6={name:"plsql",tokenizerOptions:{reservedSelect:RCe,reservedClauses:[...pCe,...i6,...SC],reservedSetOperations:ACe,reservedJoins:_Ce,reservedKeywordPhrases:ICe,reservedDataTypePhrases:NCe,supportsXor:!0,reservedKeywords:t6,reservedDataTypes:r6,reservedFunctionNames:n6,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:OCe},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...i6,...SC],tabularOnelineClauses:SC}};function OCe(t){let e=Ii;return t.map(r=>Bn.SET(r)&&Bn.BY(e)?Object.assign(Object.assign({},r),{type:H.RESERVED_KEYWORD}):(QS(r.type)&&(e=r),r))}var o6=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","UUIDV4","UUIDV7","UUID_EXTRACT_TIMESTAMP","UUID_EXTRACT_VERSION","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"];var a6=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],l6=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"];var mCe=M(["SELECT [ALL | DISTINCT]"]),gCe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),c6=M(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),RC=M(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMENT ON","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),CCe=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),yCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),LCe=M(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),bCe=M(["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"]),u6={name:"postgresql",tokenizerOptions:{reservedSelect:mCe,reservedClauses:[...gCe,...c6,...RC],reservedSetOperations:CCe,reservedJoins:yCe,reservedKeywordPhrases:LCe,reservedDataTypePhrases:bCe,reservedKeywords:a6,reservedDataTypes:l6,reservedFunctionNames:o6,nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...c6,...RC],tabularOnelineClauses:RC}};var E6=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"];var f6=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],d6=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"];var wCe=M(["SELECT [ALL | DISTINCT]"]),DCe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),h6=M(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),pC=M(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),PCe=M(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),MCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),xCe=M(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),vCe=M([]),T6={name:"redshift",tokenizerOptions:{reservedSelect:wCe,reservedClauses:[...DCe,...h6,...pC],reservedSetOperations:PCe,reservedJoins:MCe,reservedKeywordPhrases:xCe,reservedDataTypePhrases:vCe,reservedKeywords:f6,reservedDataTypes:d6,reservedFunctionNames:E6,extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...h6,...pC],tabularOnelineClauses:pC}};var S6=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],R6=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"];var p6=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"];var UCe=M(["SELECT [ALL | DISTINCT]"]),BCe=M(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),A6=M(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),AC=M(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),FCe=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),GCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),HCe=M(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),WCe=M([]),_6={name:"spark",tokenizerOptions:{reservedSelect:UCe,reservedClauses:[...BCe,...A6,...AC],reservedSetOperations:FCe,reservedJoins:GCe,reservedKeywordPhrases:HCe,reservedDataTypePhrases:WCe,supportsXor:!0,reservedKeywords:S6,reservedDataTypes:R6,reservedFunctionNames:p6,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:YCe},formatOptions:{onelineClauses:[...A6,...AC],tabularOnelineClauses:AC}};function YCe(t){return t.map((e,r)=>{let n=t[r-1]||Ii,i=t[r+1]||Ii;return Bn.WINDOW(e)&&i.type===H.OPEN_PAREN?Object.assign(Object.assign({},e),{type:H.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===H.RESERVED_KEYWORD&&!(n.text==="COLLECTION"&&i.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:H.IDENTIFIER,text:e.raw}):e})}var I6=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"];var N6=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],O6=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"];var $Ce=M(["SELECT [ALL | DISTINCT]"]),VCe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"]),m6=M(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),_C=M(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),kCe=M(["UNION [ALL]","EXCEPT","INTERSECT"]),qCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),XCe=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),KCe=M([]),g6={name:"sqlite",tokenizerOptions:{reservedSelect:$Ce,reservedClauses:[...VCe,...m6,..._C],reservedSetOperations:kCe,reservedJoins:qCe,reservedKeywordPhrases:XCe,reservedDataTypePhrases:KCe,reservedKeywords:N6,reservedDataTypes:O6,reservedFunctionNames:I6,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...m6,..._C],tabularOnelineClauses:_C}};var C6=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"];var y6=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],L6=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"];var jCe=M(["SELECT [ALL | DISTINCT]"]),zCe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),b6=M(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),IC=M(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),JCe=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),QCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),ZCe=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),e0e=M([]),w6={name:"sql",tokenizerOptions:{reservedSelect:jCe,reservedClauses:[...zCe,...b6,...IC],reservedSetOperations:JCe,reservedJoins:QCe,reservedKeywordPhrases:ZCe,reservedDataTypePhrases:e0e,reservedKeywords:y6,reservedDataTypes:L6,reservedFunctionNames:C6,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...b6,...IC],tabularOnelineClauses:IC}};var D6=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"];var P6=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],M6=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"];var t0e=M(["SELECT [ALL | DISTINCT]"]),r0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),x6=M(["CREATE TABLE [IF NOT EXISTS]"]),NC=M(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),n0e=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),i0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),s0e=M(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),o0e=M([]),v6={name:"trino",tokenizerOptions:{reservedSelect:t0e,reservedClauses:[...r0e,...x6,...NC],reservedSetOperations:n0e,reservedJoins:i0e,reservedKeywordPhrases:s0e,reservedDataTypePhrases:o0e,reservedKeywords:P6,reservedDataTypes:M6,reservedFunctionNames:D6,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...x6,...NC],tabularOnelineClauses:NC}};var U6=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"];var B6=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],F6=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"];var a0e=M(["SELECT [ALL | DISTINCT]"]),l0e=M(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"]),G6=M(["CREATE TABLE"]),OC=M(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),c0e=M(["UNION [ALL]","EXCEPT","INTERSECT"]),u0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),E0e=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),f0e=M([]),H6={name:"transactsql",tokenizerOptions:{reservedSelect:a0e,reservedClauses:[...l0e,...G6,...OC],reservedSetOperations:c0e,reservedJoins:u0e,reservedKeywordPhrases:E0e,reservedDataTypePhrases:f0e,reservedKeywords:B6,reservedDataTypes:F6,reservedFunctionNames:U6,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...G6,...OC],tabularOnelineClauses:OC}};var W6=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],Y6=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"];var $6=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"];var d0e=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),h0e=M(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),V6=M(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),mC=M(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),T0e=M(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),S0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),R0e=M(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),p0e=M([]),k6={name:"singlestoredb",tokenizerOptions:{reservedSelect:d0e,reservedClauses:[...h0e,...V6,...mC],reservedSetOperations:T0e,reservedJoins:S0e,reservedKeywordPhrases:R0e,reservedDataTypePhrases:p0e,reservedKeywords:W6,reservedDataTypes:Y6,reservedFunctionNames:$6,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:qs},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...V6,...mC],tabularOnelineClauses:mC}};var q6=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER \u2014 Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"];var X6=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],K6=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"];var A0e=M(["SELECT [ALL | DISTINCT]"]),_0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),j6=M(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),gC=M(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),I0e=M(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),N0e=M(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),O0e=M(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),m0e=M([]),z6={name:"snowflake",tokenizerOptions:{reservedSelect:A0e,reservedClauses:[..._0e,...j6,...gC],reservedSetOperations:I0e,reservedJoins:N0e,reservedKeywordPhrases:O0e,reservedDataTypePhrases:m0e,reservedKeywords:X6,reservedDataTypes:K6,reservedFunctionNames:q6,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...j6,...gC],tabularOnelineClauses:gC}};var Xs=t=>t[t.length-1],yC=t=>t.sort((e,r)=>r.length-e.length||e.localeCompare(r));var dc=t=>t.replace(/\s+/gu," "),ZS=t=>/\n/.test(t);var rn=t=>t.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),LC=/\s+/uy,is=t=>new RegExp(`(?:${t})`,"uy"),g0e=t=>t.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),J6=t=>t+"(?:-"+t+")*",Q6=({prefixes:t,requirePrefix:e})=>`(?:${t.map(g0e).join("|")}${e?"":"|"})`;var e3=t=>new RegExp(`(?:${t.map(rn).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),bC=(t,e=[])=>{let r=t==="open"?0:1,n=["()",...e].map(i=>i[r]);return is(n.map(rn).join("|"))},wC=t=>is(`${yC(t).map(rn).join("|")}`),C0e=({rest:t,dashes:e})=>t||e?`(?![${t||""}${e?"-":""}])`:"",Ni=(t,e={})=>{if(t.length===0)return/^\b$/u;let r=C0e(e),n=yC(t).map(rn).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${n})${r}\\b`,"iuy")},eR=(t,e)=>{if(!t.length)return;let r=t.map(rn).join("|");return is(`(?:${r})(?:${e})`)},y0e=()=>{let t={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",r=Object.entries(t).map(([o,a])=>e.replace(/{left}/g,rn(o)).replace(/{right}/g,rn(a))),n=rn(Object.keys(t).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${n}])(?:(?!\k<tag>').)*?\k<tag>`}|${r.join("|")})'`},Z6={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":y0e()},t3=t=>typeof t=="string"?Z6[t]:"regex"in t?t.regex:Q6(t)+Z6[t.quote],r3=t=>is(t.map(e=>"regex"in e?e.regex:t3(e)).join("|")),DC=t=>t.map(t3).join("|"),PC=t=>is(DC(t)),n3=(t={})=>is(MC(t)),MC=({first:t,rest:e,dashes:r,allowFirstCharNumber:n}={})=>{let i="\\p{Alphabetic}\\p{Mark}_",s="\\p{Decimal_Number}",o=rn(t??""),a=rn(e??""),l=n?`[${i}${s}${o}][${i}${s}${a}]*`:`[${i}${o}][${i}${s}${a}]*`;return r?J6(l):l};function tR(t,e){let r=t.slice(0,e).split(/\n/);return{line:r.length,col:r[r.length-1].length+1}}var GE=class{constructor(e,r){this.rules=e,this.dialectName=r,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;let r=[],n;for(;this.index<this.input.length;){let i=this.getWhitespace();if(this.index<this.input.length){if(n=this.getNextToken(),!n)throw this.createParseError();r.push(Object.assign(Object.assign({},n),{precedingWhitespace:i}))}}return r}createParseError(){let e=this.input.slice(this.index,this.index+10),{line:r,col:n}=tR(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${r} column ${n}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){LC.lastIndex=this.index;let e=LC.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(let e of this.rules){let r=this.match(e);if(r)return r}}match(e){e.regex.lastIndex=this.index;let r=e.regex.exec(this.input);if(r){let n=r[0],i={type:e.type,raw:n,text:e.text?e.text(n):n,start:this.index};return e.key&&(i.key=e.key(n)),this.index+=n.length,i}}};var i3=/\/\*/uy,b0e=/[\s\S]/uy,w0e=/\*\//uy,rR=class{constructor(){this.lastIndex=0}exec(e){let r="",n,i=0;if(n=this.matchSection(i3,e))r+=n,i++;else return null;for(;i>0;)if(n=this.matchSection(i3,e))r+=n,i++;else if(n=this.matchSection(w0e,e))r+=n,i--;else if(n=this.matchSection(b0e,e))r+=n;else return null;return[r]}matchSection(e,r){e.lastIndex=this.lastIndex;let n=e.exec(r);return n&&(this.lastIndex+=n[0].length),n?n[0]:null}};var HE=class{constructor(e,r){this.cfg=e,this.dialectName=r,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,r){let n=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,r),...this.rulesAfterParams],i=new GE(n,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(i):i}buildRulesBeforeParams(e){var r,n,i;return this.validRules([{type:H.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:H.BLOCK_COMMENT,regex:e.nestedBlockComments?new rR:/(\/\*[^]*?\*\/)/uy},{type:H.LINE_COMMENT,regex:e3((r=e.lineCommentTypes)!==null&&r!==void 0?r:["--"])},{type:H.QUOTED_IDENTIFIER,regex:PC(e.identTypes)},{type:H.NUMBER,regex:e.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:H.RESERVED_KEYWORD_PHRASE,regex:Ni((n=e.reservedKeywordPhrases)!==null&&n!==void 0?n:[],e.identChars),text:Wt},{type:H.RESERVED_DATA_TYPE_PHRASE,regex:Ni((i=e.reservedDataTypePhrases)!==null&&i!==void 0?i:[],e.identChars),text:Wt},{type:H.CASE,regex:/CASE\b/iuy,text:Wt},{type:H.END,regex:/END\b/iuy,text:Wt},{type:H.BETWEEN,regex:/BETWEEN\b/iuy,text:Wt},{type:H.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:Wt},{type:H.RESERVED_CLAUSE,regex:Ni(e.reservedClauses,e.identChars),text:Wt},{type:H.RESERVED_SELECT,regex:Ni(e.reservedSelect,e.identChars),text:Wt},{type:H.RESERVED_SET_OPERATION,regex:Ni(e.reservedSetOperations,e.identChars),text:Wt},{type:H.WHEN,regex:/WHEN\b/iuy,text:Wt},{type:H.ELSE,regex:/ELSE\b/iuy,text:Wt},{type:H.THEN,regex:/THEN\b/iuy,text:Wt},{type:H.RESERVED_JOIN,regex:Ni(e.reservedJoins,e.identChars),text:Wt},{type:H.AND,regex:/AND\b/iuy,text:Wt},{type:H.OR,regex:/OR\b/iuy,text:Wt},{type:H.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:Wt},...e.operatorKeyword?[{type:H.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:H.RESERVED_FUNCTION_NAME,regex:Ni(e.reservedFunctionNames,e.identChars),text:Wt},{type:H.RESERVED_DATA_TYPE,regex:Ni(e.reservedDataTypes,e.identChars),text:Wt},{type:H.RESERVED_KEYWORD,regex:Ni(e.reservedKeywords,e.identChars),text:Wt}])}buildRulesAfterParams(e){var r,n;return this.validRules([{type:H.VARIABLE,regex:e.variableTypes?r3(e.variableTypes):void 0},{type:H.STRING,regex:PC(e.stringTypes)},{type:H.IDENTIFIER,regex:n3(e.identChars)},{type:H.DELIMITER,regex:/[;]/uy},{type:H.COMMA,regex:/[,]/y},{type:H.OPEN_PAREN,regex:bC("open",e.extraParens)},{type:H.CLOSE_PAREN,regex:bC("close",e.extraParens)},{type:H.OPERATOR,regex:wC(["+","-","/",">","<","=","<>","<=",">=","!=",...(r=e.operators)!==null&&r!==void 0?r:[]])},{type:H.ASTERISK,regex:/[*]/uy},{type:H.PROPERTY_ACCESS_OPERATOR,regex:wC([".",...(n=e.propertyAccessOperators)!==null&&n!==void 0?n:[]])}])}buildParamRules(e,r){var n,i,s,o,a;let l={named:r?.named||((n=e.paramTypes)===null||n===void 0?void 0:n.named)||[],quoted:r?.quoted||((i=e.paramTypes)===null||i===void 0?void 0:i.quoted)||[],numbered:r?.numbered||((s=e.paramTypes)===null||s===void 0?void 0:s.numbered)||[],positional:typeof r?.positional=="boolean"?r.positional:(o=e.paramTypes)===null||o===void 0?void 0:o.positional,custom:r?.custom||((a=e.paramTypes)===null||a===void 0?void 0:a.custom)||[]};return this.validRules([{type:H.NAMED_PARAMETER,regex:eR(l.named,MC(e.paramChars||e.identChars)),key:c=>c.slice(1)},{type:H.QUOTED_PARAMETER,regex:eR(l.quoted,DC(e.identTypes)),key:c=>(({tokenKey:u,quoteChar:E})=>u.replace(new RegExp(rn("\\"+E),"gu"),E))({tokenKey:c.slice(2,-1),quoteChar:c.slice(-1)})},{type:H.NUMBERED_PARAMETER,regex:eR(l.numbered,"[0-9]+"),key:c=>c.slice(1)},{type:H.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(c=>{var u;return{type:H.CUSTOM_PARAMETER,regex:is(c.regex),key:(u=c.key)!==null&&u!==void 0?u:(E=>E)}})])}validRules(e){return e.filter(r=>!!r.regex)}},Wt=t=>dc(t.toUpperCase());var s3=new Map,o3=t=>{let e=s3.get(t);return e||(e=D0e(t),s3.set(t,e)),e},D0e=t=>({tokenizer:new HE(t.tokenizerOptions,t.name),formatOptions:P0e(t.formatOptions)}),P0e=t=>{var e;return{alwaysDenseOperators:t.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(t.onelineClauses.map(r=>[r,!0])),tabularOnelineClauses:Object.fromEntries(((e=t.tabularOnelineClauses)!==null&&e!==void 0?e:t.onelineClauses).map(r=>[r,!0]))}};function a3(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"?" ".repeat(10):t.useTabs?"	":" ".repeat(t.tabWidth)}function Ta(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"}var WE=class{constructor(e){this.params=e,this.index=0}get({key:e,text:r}){return this.params?e?this.params[e]:this.params[this.index++]:r}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}};var T3=oe(c3(),1);function u3(t){return t.map(M0e).map(x0e).map(v0e).map(U0e).map(B0e)}var M0e=(t,e,r)=>{if(QS(t.type)){let n=F0e(r,e);if(n&&n.type===H.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:H.IDENTIFIER,text:t.raw});let i=hc(r,e);if(i&&i.type===H.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:H.IDENTIFIER,text:t.raw})}return t},x0e=(t,e,r)=>{if(t.type===H.RESERVED_FUNCTION_NAME){let n=hc(r,e);if(!n||!E3(n))return Object.assign(Object.assign({},t),{type:H.IDENTIFIER,text:t.raw})}return t},v0e=(t,e,r)=>{if(t.type===H.RESERVED_DATA_TYPE){let n=hc(r,e);if(n&&E3(n))return Object.assign(Object.assign({},t),{type:H.RESERVED_PARAMETERIZED_DATA_TYPE})}return t},U0e=(t,e,r)=>{if(t.type===H.IDENTIFIER){let n=hc(r,e);if(n&&f3(n))return Object.assign(Object.assign({},t),{type:H.ARRAY_IDENTIFIER})}return t},B0e=(t,e,r)=>{if(t.type===H.RESERVED_DATA_TYPE){let n=hc(r,e);if(n&&f3(n))return Object.assign(Object.assign({},t),{type:H.ARRAY_KEYWORD})}return t},F0e=(t,e)=>hc(t,e,-1),hc=(t,e,r=1)=>{let n=1;for(;t[e+n*r]&&G0e(t[e+n*r]);)n++;return t[e+n*r]},E3=t=>t.type===H.OPEN_PAREN&&t.text==="(",f3=t=>t.type===H.OPEN_PAREN&&t.text==="[",G0e=t=>t.type===H.BLOCK_COMMENT||t.type===H.LINE_COMMENT;var Sa=class{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,r){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){let{line:r,col:n}=tR(this.input,e.start);return`Parse error at token: ${e.text} at line ${r} column ${n}`}has(e){return e in H}};var X;(function(t){t.statement="statement",t.clause="clause",t.set_operation="set_operation",t.function_call="function_call",t.parameterized_data_type="parameterized_data_type",t.array_subscript="array_subscript",t.property_access="property_access",t.parenthesis="parenthesis",t.between_predicate="between_predicate",t.case_expression="case_expression",t.case_when="case_when",t.case_else="case_else",t.limit_clause="limit_clause",t.all_columns_asterisk="all_columns_asterisk",t.literal="literal",t.identifier="identifier",t.keyword="keyword",t.data_type="data_type",t.parameter="parameter",t.operator="operator",t.comma="comma",t.line_comment="line_comment",t.block_comment="block_comment",t.disable_comment="disable_comment"})(X=X||(X={}));function xC(t){return t[0]}var ae=new Sa(t=>[]),Ra=([[t]])=>t,Zt=t=>({type:X.keyword,tokenType:t.type,text:t.text,raw:t.raw}),d3=t=>({type:X.data_type,text:t.text,raw:t.raw}),er=(t,{leading:e,trailing:r})=>(e?.length&&(t=Object.assign(Object.assign({},t),{leadingComments:e})),r?.length&&(t=Object.assign(Object.assign({},t),{trailingComments:r})),t),H0e=(t,{leading:e,trailing:r})=>{if(e?.length){let[n,...i]=t;t=[er(n,{leading:e}),...i]}if(r?.length){let n=t.slice(0,-1),i=t[t.length-1];t=[...n,er(i,{trailing:r})]}return t},W0e={Lexer:ae,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:t=>t[0].concat([t[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([t])=>{let e=t[t.length-1];return e&&!e.hasSemicolon?e.children.length>0?t:t.slice(0,-1):t}},{name:"statement$subexpression$1",symbols:[ae.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[ae.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([t,[e]])=>({type:X.statement,children:t,hasSemicolon:e.type===H.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([t,e])=>[...t,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:Ra},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[ae.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:xC},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[ae.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([t,e,r,n])=>{if(n){let[i,s]=n;return{type:X.limit_clause,limitKw:er(Zt(t),{trailing:e}),offset:r,count:s}}else return{type:X.limit_clause,limitKw:er(Zt(t),{trailing:e}),count:r}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[ae.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([t,[e,r]])=>({type:X.clause,nameKw:Zt(t),children:[e,...r]})},{name:"select_clause",symbols:[ae.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([t])=>({type:X.clause,nameKw:Zt(t),children:[]})},{name:"all_columns_asterisk",symbols:[ae.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:X.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"other_clause",symbols:[ae.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([t,e])=>({type:X.clause,nameKw:Zt(t),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"set_operation",symbols:[ae.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([t,e])=>({type:X.set_operation,nameKw:Zt(t),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:xC},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([t,e])=>er(t,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([t,e])=>er(e,{leading:t})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([t,e])=>er(e,{leading:t})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:Ra},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:Ra},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:Ra},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:Ra},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:Ra},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:Ra},{name:"array_subscript",symbols:[ae.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([t,e,r])=>({type:X.array_subscript,array:er({type:X.identifier,quoted:!1,text:t.text},{trailing:e}),parenthesis:r})},{name:"array_subscript",symbols:[ae.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([t,e,r])=>({type:X.array_subscript,array:er(Zt(t),{trailing:e}),parenthesis:r})},{name:"function_call",symbols:[ae.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([t,e,r])=>({type:X.function_call,nameKw:er(Zt(t),{trailing:e}),parenthesis:r})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([t,e,r])=>({type:X.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([t,e,r])=>({type:X.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([t,e,r])=>({type:X.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",ae.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([t,e,r,n,[i]])=>({type:X.property_access,object:er(t,{trailing:e}),operator:r.text,property:er(i,{leading:n})})},{name:"between_predicate",symbols:[ae.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",ae.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([t,e,r,n,i,s,o])=>({type:X.between_predicate,betweenKw:Zt(t),expr1:H0e(r,{leading:e,trailing:n}),andKw:Zt(i),expr2:[er(o,{leading:s})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:xC},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:t=>t[0].concat([t[1]])},{name:"case_expression",symbols:[ae.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",ae.has("END")?{type:"END"}:END],postprocess:([t,e,r,n,i])=>({type:X.case_expression,caseKw:er(Zt(t),{trailing:e}),endKw:Zt(i),expr:r||[],clauses:n})},{name:"case_clause",symbols:[ae.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",ae.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([t,e,r,n,i,s])=>({type:X.case_when,whenKw:er(Zt(t),{trailing:e}),thenKw:er(Zt(n),{trailing:i}),condition:r,result:s})},{name:"case_clause",symbols:[ae.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([t,e,r])=>({type:X.case_else,elseKw:er(Zt(t),{trailing:e}),result:r})},{name:"comma$subexpression$1",symbols:[ae.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[t]])=>({type:X.comma})},{name:"asterisk$subexpression$1",symbols:[ae.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[t]])=>({type:X.operator,text:t.text})},{name:"operator$subexpression$1",symbols:[ae.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[t]])=>({type:X.operator,text:t.text})},{name:"identifier$subexpression$1",symbols:[ae.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[ae.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[ae.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[t]])=>({type:X.identifier,quoted:t.type!=="IDENTIFIER",text:t.text})},{name:"parameter$subexpression$1",symbols:[ae.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ae.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ae.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ae.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[ae.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[t]])=>({type:X.parameter,key:t.key,text:t.text})},{name:"literal$subexpression$1",symbols:[ae.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[ae.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[t]])=>({type:X.literal,text:t.text})},{name:"keyword$subexpression$1",symbols:[ae.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[ae.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[ae.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[t]])=>Zt(t)},{name:"data_type$subexpression$1",symbols:[ae.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[ae.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[t]])=>d3(t)},{name:"data_type",symbols:[ae.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([t,e,r])=>({type:X.parameterized_data_type,dataType:er(d3(t),{trailing:e}),parenthesis:r})},{name:"logic_operator$subexpression$1",symbols:[ae.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[ae.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[ae.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[t]])=>Zt(t)},{name:"other_keyword$subexpression$1",symbols:[ae.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[ae.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[ae.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[ae.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[t]])=>Zt(t)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:t=>t[0].concat([t[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([t])=>t},{name:"comment",symbols:[ae.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([t])=>({type:X.line_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[ae.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([t])=>({type:X.block_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[ae.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([t])=>({type:X.disable_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})}],ParserStart:"main"},h3=W0e;var{Parser:Y0e,Grammar:$0e}=T3.default;function S3(t){let e={},r=new Sa(i=>[...u3(t.tokenize(i,e)),aC(i.length)]),n=new Y0e($0e.fromCompiled(h3),{lexer:r});return{parse:(i,s)=>{e=s;let{results:o}=n.feed(i);if(o.length===1)return o[0];throw o.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(o,void 0,2)}`)}}}var G;(function(t){t[t.SPACE=0]="SPACE",t[t.NO_SPACE=1]="NO_SPACE",t[t.NO_NEWLINE=2]="NO_NEWLINE",t[t.NEWLINE=3]="NEWLINE",t[t.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",t[t.INDENT=5]="INDENT",t[t.SINGLE_INDENT=6]="SINGLE_INDENT"})(G=G||(G={}));var pa=class{constructor(e){this.indentation=e,this.items=[]}add(...e){for(let r of e)switch(r){case G.SPACE:this.items.push(G.SPACE);break;case G.NO_SPACE:this.trimHorizontalWhitespace();break;case G.NO_NEWLINE:this.trimWhitespace();break;case G.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(G.NEWLINE);break;case G.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(G.MANDATORY_NEWLINE);break;case G.INDENT:this.addIndentation();break;case G.SINGLE_INDENT:this.items.push(G.SINGLE_INDENT);break;default:this.items.push(r)}}trimHorizontalWhitespace(){for(;V0e(Xs(this.items));)this.items.pop()}trimWhitespace(){for(;k0e(Xs(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(Xs(this.items)){case G.NEWLINE:this.items.pop(),this.items.push(e);break;case G.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(G.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case G.SPACE:return" ";case G.NEWLINE:case G.MANDATORY_NEWLINE:return`
`;case G.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}},V0e=t=>t===G.SPACE||t===G.SINGLE_INDENT,k0e=t=>t===G.SPACE||t===G.SINGLE_INDENT||t===G.NEWLINE;function iR(t,e){if(e==="standard")return t;let r=[];return t.length>=10&&t.includes(" ")&&([t,...r]=t.split(" ")),e==="tabularLeft"?t=t.padEnd(9," "):t=t.padStart(9," "),t+["",...r].join(" ")}function vC(t){return lX(t)||t===H.RESERVED_CLAUSE||t===H.RESERVED_SELECT||t===H.RESERVED_SET_OPERATION||t===H.RESERVED_JOIN||t===H.LIMIT}var UC="top-level",q0e="block-level",Aa=class{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(UC)}increaseBlockLevel(){this.indentTypes.push(q0e)}decreaseTopLevel(){this.indentTypes.length>0&&Xs(this.indentTypes)===UC&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===UC;);}};var YE=class extends pa{constructor(e){super(new Aa("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(r=>this.addToLength(r)),this.length>this.expressionWidth)throw new Tc;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===G.MANDATORY_NEWLINE||e===G.NEWLINE)throw new Tc;e===G.INDENT||e===G.SINGLE_INDENT||e===G.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===G.NO_NEWLINE||e===G.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}},Tc=class extends Error{};var $E=class t{constructor({cfg:e,dialectCfg:r,params:n,layout:i,inline:s=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=r,this.inline=s,this.params=n,this.layout=i}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case X.function_call:return this.formatFunctionCall(e);case X.parameterized_data_type:return this.formatParameterizedDataType(e);case X.array_subscript:return this.formatArraySubscript(e);case X.property_access:return this.formatPropertyAccess(e);case X.parenthesis:return this.formatParenthesis(e);case X.between_predicate:return this.formatBetweenPredicate(e);case X.case_expression:return this.formatCaseExpression(e);case X.case_when:return this.formatCaseWhen(e);case X.case_else:return this.formatCaseElse(e);case X.clause:return this.formatClause(e);case X.set_operation:return this.formatSetOperation(e);case X.limit_clause:return this.formatLimitClause(e);case X.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case X.literal:return this.formatLiteral(e);case X.identifier:return this.formatIdentifier(e);case X.parameter:return this.formatParameter(e);case X.operator:return this.formatOperator(e);case X.comma:return this.formatComma(e);case X.line_comment:return this.formatLineComment(e);case X.block_comment:return this.formatBlockComment(e);case X.disable_comment:return this.formatBlockComment(e);case X.data_type:return this.formatDataType(e);case X.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let r;switch(e.array.type){case X.data_type:r=this.showDataType(e.array);break;case X.keyword:r=this.showKw(e.array);break;default:r=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(r)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(G.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){let r=this.formatInlineExpression(e.children);r?(this.layout.add(e.openParen),this.layout.add(...r.getLayoutItems()),this.layout.add(G.NO_SPACE,e.closeParen,G.SPACE)):(this.layout.add(e.openParen,G.NEWLINE),Ta(this.cfg)?(this.layout.add(G.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(G.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(G.NEWLINE,G.INDENT,e.closeParen,G.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),G.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(G.NO_SPACE,G.SPACE,this.showNonTabularKw(e.andKw),G.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(G.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(G.NEWLINE,G.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(G.NEWLINE,G.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(G.NEWLINE,G.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):Ta(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return Ta(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(G.NEWLINE,G.INDENT,this.showKw(e.nameKw),G.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(G.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(G.NEWLINE,G.INDENT,this.showKw(e.nameKw),G.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(G.NEWLINE,G.INDENT,this.showKw(e.nameKw),G.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(G.NEWLINE,G.INDENT,this.showKw(e.nameKw),G.NEWLINE),this.layout.add(G.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(G.NEWLINE,G.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),Ta(this.cfg)?this.layout.add(G.SPACE):this.layout.add(G.NEWLINE,G.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(G.NO_SPACE,",",G.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",G.SPACE)}formatLiteral(e){this.layout.add(e.text,G.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),G.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),G.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(G.NO_SPACE,e):e===":"?this.layout.add(G.NO_SPACE,e,G.SPACE):this.layout.add(e,G.SPACE)}formatComma(e){this.inline?this.layout.add(G.NO_SPACE,",",G.SPACE):this.layout.add(G.NO_SPACE,",",G.NEWLINE,G.INDENT)}withComments(e,r){this.formatComments(e.leadingComments),r(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(r=>{r.type===X.line_comment?this.formatLineComment(r):this.formatBlockComment(r)})}formatLineComment(e){ZS(e.precedingWhitespace||"")?this.layout.add(G.NEWLINE,G.INDENT,e.text,G.MANDATORY_NEWLINE,G.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(G.NO_NEWLINE,G.SPACE,e.text,G.MANDATORY_NEWLINE,G.INDENT):this.layout.add(e.text,G.MANDATORY_NEWLINE,G.INDENT)}formatBlockComment(e){e.type===X.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(r=>{this.layout.add(G.NEWLINE,G.INDENT,r)}),this.layout.add(G.NEWLINE,G.INDENT)):this.layout.add(e.text,G.SPACE)}isMultilineBlockComment(e){return ZS(e.text)||ZS(e.precedingWhitespace||"")}isDocComment(e){let r=e.split(/\n/);return/^\/\*\*?$/.test(r[0])&&r.slice(1,r.length-1).every(n=>/^\s*\*/.test(n))&&/^\s*\*\/$/.test(Xs(r))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(r=>/^\s*\*/.test(r)?" "+r.replace(/^\s*/,""):r):e.split(/\n/).map(r=>r.replace(/^\s*/,""))}formatSubExpression(e){return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){let r=this.params.getPositionalParameterIndex();try{return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new YE(this.cfg.expressionWidth),inline:!0}).format(e)}catch(n){if(n instanceof Tc){this.params.setPositionalParameterIndex(r);return}else throw n}}formatKeywordNode(e){switch(e.tokenType){case H.RESERVED_JOIN:return this.formatJoin(e);case H.AND:case H.OR:case H.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){Ta(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(G.NEWLINE,G.INDENT,this.showKw(e),G.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(G.NEWLINE,G.INDENT,this.showKw(e),G.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),G.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?Ta(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(G.NEWLINE,G.INDENT,this.showKw(e),G.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(G.NEWLINE,G.INDENT,this.showKw(e),G.SPACE):this.layout.add(this.showKw(e),G.NEWLINE,G.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),G.SPACE)}showKw(e){return vC(e.tokenType)?iR(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return dc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return vC(e.tokenType)?iR(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return dc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return dc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}};var VE=class{constructor(e,r){this.dialect=e,this.cfg=r,this.params=new WE(this.cfg.params)}format(e){let r=this.parse(e);return this.formatAst(r).trimEnd()}parse(e){return S3(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(r=>this.formatStatement(r)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){let r=new $E({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new pa(new Aa(a3(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?r.add(G.NEWLINE,";"):r.add(G.NO_NEWLINE,";")),r.toString()}};var _a=class extends Error{};function R3(t){let e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(let r of e)if(r in t)throw new _a(`${r} config is no more supported.`);if(t.expressionWidth<=0)throw new _a(`expressionWidth config must be positive number. Received ${t.expressionWidth} instead.`);if(t.params&&!X0e(t.params)&&console.warn('WARNING: All "params" option values should be strings.'),t.paramTypes&&!K0e(t.paramTypes))throw new _a("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return t}function X0e(t){return(t instanceof Array?t:Object.values(t)).every(r=>typeof r=="string")}function K0e(t){return t.custom&&Array.isArray(t.custom)?t.custom.every(e=>e.regex!==""):!0}var j0e=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},p3={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},A3=Object.keys(p3),z0e={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},BC=(t,e={})=>{if(typeof e.language=="string"&&!A3.includes(e.language))throw new _a(`Unsupported SQL dialect: ${e.language}`);let r=p3[e.language||"sql"];return _3(t,Object.assign(Object.assign({},e),{dialect:CC[r]}))},_3=(t,e)=>{var{dialect:r}=e,n=j0e(e,["dialect"]);if(typeof t!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof t);let i=R3(Object.assign(Object.assign({},z0e),n));return new VE(o3(r),i).format(t)};function FC(t){return t&&(t.includes(" ")?`"${t.replace(/"/g,'\\"')}"`:t)}function ss(t,e,r){let i=/[ \\/]/.test(t)?`& ${FC(t)}`:t,s=FC(e),o=r.map(a=>FC(a)).join(" ");return`${i} ${s}${o?" "+o:""}`.trim()}function L3(t){let{context:e,connectionManager:r,resultPanelProvider:n}=t;return[ce.commands.registerCommand("netezza.runQuery",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.getText(),l=s.uri.toString(),c=[];if(o.isEmpty){let E=s.offsetAt(o.active),d=wr.getStatementAtPosition(a,E);if(d){c=[d.sql];let f=s.positionAt(d.start),h=s.positionAt(d.end);i.selection=new ce.Selection(f,h)}else{ce.window.showWarningMessage("No SQL statement found at cursor");return}}else{let E=s.getText(o);if(!E.trim()){ce.window.showWarningMessage("No SQL query selected");return}/^\s*CREATE\s+(OR\s+REPLACE\s+)?PROCEDURE\b/i.test(E)?c=[E]:c=wr.splitStatements(E)}if(c.length===0)return;let u=c.length===1?c[0].trim():null;if(u){let E=u.split(/\s+/),d=E[0]||"",f=/python(\.exe)?$/i.test(d)&&E.length>=2&&E[1].toLowerCase().endsWith(".py"),h=d.toLowerCase().endsWith(".py");if(f||h){let S=ce.workspace.getConfiguration("netezza").get("pythonPath")||"python",R="";if(f){let p=E[0],A=E[1],O=E.slice(2);R=ss(p,A,O)}else{let p=d,A=E.slice(1);R=ss(S,p,A)}let N=ce.window.createTerminal({name:"Netezza: Script"});N.show(!0),N.sendText(R,!0),ce.window.showInformationMessage(`Running script: ${R}`);return}}try{n.startExecution(l),await yc(e,c,r,l,E=>n.log(l,E),E=>n.updateResults(E,l,!0)),n.finalizeExecution(l),ce.commands.executeCommand("netezza.results.focus")}catch(E){n.finalizeExecution(l),n.log(l,`Error: ${E.message}`),ce.window.showErrorMessage(`Error executing query: ${E.message}`)}}),ce.commands.registerCommand("netezza.runQueryBatch",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.uri.toString(),l;if(o.isEmpty?l=s.getText():l=s.getText(o),!l.trim()){ce.window.showWarningMessage("No SQL query to execute");return}let u=l.trim().split(/\s+/),E=u[0]||"",d=/python(\.exe)?$/i.test(E)&&u.length>=2&&u[1].toLowerCase().endsWith(".py"),f=E.toLowerCase().endsWith(".py");if(d||f){let T=ce.workspace.getConfiguration("netezza").get("pythonPath")||"python",S="";if(d){let N=u[0],p=u[1],A=u.slice(2);S=ss(N,p,A)}else{let N=E,p=u.slice(1);S=ss(T,N,p)}let R=ce.window.createTerminal({name:"Netezza: Script"});R.show(!0),R.sendText(S,!0),ce.window.showInformationMessage(`Running script: ${S}`);return}try{n.startExecution(a),await yc(e,[l],r,a,h=>n.log(a,h),h=>n.updateResults(h,a,!0)),n.finalizeExecution(a),ce.commands.executeCommand("netezza.results.focus")}catch(h){n.finalizeExecution(a),n.log(a,`Error: ${h.message}`),ce.window.showErrorMessage(`Error executing query: ${h.message}`)}}),ce.commands.registerCommand("netezza.explainQuery",async()=>{await y3(e,r,!1)}),ce.commands.registerCommand("netezza.explainQueryVerbose",async()=>{await y3(e,r,!0)}),ce.commands.registerCommand("netezza.formatSQL",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor");return}if(i.document.languageId!=="sql"&&i.document.languageId!=="mssql"){ce.window.showWarningMessage("Format SQL is only available for SQL files");return}let s=ce.workspace.getConfiguration("netezza"),o=s.get("formatSQL.tabWidth",4),a=s.get("formatSQL.keywordCase","upper"),l=i.selection,c=l.isEmpty?i.document.getText():i.document.getText(l);try{let u="__NZ_DOUBLE_DOT__",E=c.replace(/\.\.(?=[a-zA-Z_])/g,`.${u}.`),f=BC(E,{language:"sql",tabWidth:o,keywordCase:a,linesBetweenQueries:2}).replace(new RegExp(`\\.\\s*${u}\\s*\\.`,"g"),"..");await i.edit(h=>{if(l.isEmpty){let T=new ce.Range(i.document.positionAt(0),i.document.positionAt(i.document.getText().length));h.replace(T,f)}else h.replace(l,f)}),ce.window.showInformationMessage("SQL formatted successfully")}catch(u){let E=u.message||String(u);E.includes("Parse error")?ce.window.showErrorMessage("SQL formatting failed: The SQL contains syntax not supported by the formatter. Try selecting a simpler portion of the SQL to format."):ce.window.showErrorMessage(`Format SQL failed: ${E}`)}})]}async function y3(t,e,r){let n=ce.window.activeTextEditor;if(!n){ce.window.showErrorMessage("No active editor found");return}let i=n.document,s=n.selection,o;if(!s.isEmpty)o=i.getText(s);else{let c=n.selection.active,u=i.offsetAt(c),E=i.getText(),d=wr.getStatementAtPosition(E,u);d?o=E.substring(d.start,d.end):o=i.getText()}if(!o.trim()){ce.window.showWarningMessage("No SQL query to explain");return}let a=o.trim();a.toUpperCase().startsWith("EXPLAIN")&&(a=a.replace(/^EXPLAIN\s+(?:VERBOSE\s+)?/i,""));let l=r?`EXPLAIN VERBOSE ${a}`:`EXPLAIN ${a}`;try{let c=i.uri.toString(),u=e.getConnectionForExecution(c);if(!await e.getConnectionString(u)){ce.window.showErrorMessage("No database connection. Please connect first.");return}await ce.window.withProgress({location:ce.ProgressLocation.Notification,title:"Generating query plan...",cancellable:!1},async()=>{let d=await sy(t,l,u,e,c);if(d&&d.trim()){let{parseExplainOutput:f,ExplainPlanView:h}=await Promise.resolve().then(()=>(C3(),g3)),T=f(d);h.createOrShow(t.extensionUri,T,a)}else ce.window.showWarningMessage("No explain output received")})}catch(c){ce.window.showErrorMessage(`Error generating query plan: ${c.message}`)}}var os=oe(require("vscode"));function HC(t,e){let r=e.getKeepConnectionOpen();t.text=r?"\u{1F517} Keep Connection ON":"\u26D3\uFE0F\u200D\u{1F4A5} Keep Connection OFF",t.tooltip=r?"Keep Connection Open: ENABLED - Click to disable":"Keep Connection Open: DISABLED - Click to enable",t.backgroundColor=r?new os.ThemeColor("statusBarItem.prominentBackground"):void 0}function b3(t,e){let r=os.window.createStatusBarItem(os.StatusBarAlignment.Right,100);return r.command="netezza.toggleKeepConnectionOpen",HC(r,e),r.show(),t.subscriptions.push(r),r}function w3(t,e){let r=os.window.createStatusBarItem(os.StatusBarAlignment.Left,100);return r.command="netezza.selectConnectionForTab",r.tooltip="Click to select connection for this SQL tab",t.subscriptions.push(r),{statusBarItem:r,updateFn:()=>{let i=os.window.activeTextEditor;if(i&&i.document.languageId==="sql"){let s=i.document.uri.toString(),o=e.getConnectionForExecution(s);o?(r.text=`$(database) ${o}`,r.show()):(r.text="$(database) Select Connection",r.show())}else r.hide()}}}var Je=oe(require("vscode"));ro();var D3=/(^|\s)(?:[A-Za-z]:\\|\\|\/)?[\w.\-\\/]+\.py\b|(^|\s)python(?:\.exe)?\s+[^\n]*\.py\b/i,oR=class{constructor(){this._onDidChange=new Je.EventEmitter;this.onDidChangeCodeLenses=this._onDidChange.event}provideCodeLenses(e){let r=[];for(let n=0;n<e.lineCount;n++){let i=e.lineAt(n);if(D3.test(i.text)){let s=i.range,o={title:"Run as script",command:"netezza.runScriptFromLens",arguments:[e.uri,s]};r.push(new Je.CodeLens(s,o))}}return r}refresh(){this._onDidChange.fire()}};function P3(){return Je.window.createTextEditorDecorationType({backgroundColor:new Je.ThemeColor("editor.rangeHighlightBackground"),borderRadius:"3px"})}function M3(){return Je.window.createTextEditorDecorationType({backgroundColor:"rgba(5, 115, 201, 0.10)",isWholeLine:!1,rangeBehavior:Je.DecorationRangeBehavior.ClosedClosed})}function WC(t,e){let r=e||Je.window.activeTextEditor;if(!r)return;let n=r.document,i=[];for(let s=0;s<n.lineCount;s++){let o=n.lineAt(s);D3.test(o.text)&&i.push({range:o.range,hoverMessage:"Python script invocation"})}r.setDecorations(t,i)}function sR(t,e){if(!Je.workspace.getConfiguration("netezza").get("highlightActiveStatement",!0)||!e||e.document.languageId!=="sql"&&e.document.languageId!=="mssql"){e&&e.setDecorations(t,[]);return}try{let i=e.document,s=e.selection.active,o=i.offsetAt(s),a=i.getText(),l=wr.getStatementAtPosition(a,o);if(l){let c=i.positionAt(l.start),u=i.positionAt(l.end),E=new Je.Range(c,u);e.setDecorations(t,[E])}else e.setDecorations(t,[])}catch(i){console.error("Error updating SQL highlight:",i)}}function x3(t,e,r){t.subscriptions.push(Je.window.onDidChangeActiveTextEditor(()=>WC(e)),Je.workspace.onDidChangeTextDocument(n=>{Je.window.activeTextEditor&&n.document===Je.window.activeTextEditor.document&&WC(e,Je.window.activeTextEditor)})),t.subscriptions.push(Je.window.onDidChangeTextEditorSelection(n=>{sR(r,n.textEditor)}),Je.window.onDidChangeActiveTextEditor(n=>{sR(r,n)}),Je.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration("netezza.highlightActiveStatement")&&sR(r,Je.window.activeTextEditor)})),WC(e,Je.window.activeTextEditor),sR(r,Je.window.activeTextEditor)}var Fn=oe(require("vscode")),tye=new Map([["SX","SELECT"],["WX","WHERE"],["GX","GROUP BY"],["HX","HAVING"],["OX","ORDER BY"],["FX","FROM"],["JX","JOIN"],["LX","LIMIT"],["IX","INSERT INTO"],["UX","UPDATE"],["DX","DELETE FROM"],["CX","CREATE TABLE"]]);function v3(t){let e=Fn.workspace.onDidChangeTextDocument(async r=>{if(r.document.languageId!=="sql"&&r.document.languageId!=="mssql"||r.contentChanges.length!==1)return;let n=r.contentChanges[0];if(n.text!==" ")return;let i=Fn.window.activeTextEditor;if(!i||i.document!==r.document)return;let o=r.document.lineAt(n.range.start.line).text;for(let[a,l]of tye)if(new RegExp(`\\b${a}\\s$`,"i").test(o)){let u=o.toUpperCase().lastIndexOf(a.toUpperCase());if(u>=0){let E=new Fn.Position(n.range.start.line,u),d=new Fn.Position(n.range.start.line,u+a.length+1);await i.edit(f=>{f.replace(new Fn.Range(E,d),l+" ")}),["SELECT","FROM","JOIN"].includes(l)&&setTimeout(()=>{Fn.commands.executeCommand("editor.action.triggerSuggest")},100);break}}});t.subscriptions.push(e)}var U3=[{id:"mtxr.sqltools",name:"SQLTools"},{id:"ms-mssql.mssql",name:"Microsoft SQL Server"},{id:"oracle.oracledevtools",name:"Oracle Developer Tools"},{id:"cweijan.vscode-mysql-client2",name:"MySQL"},{id:"ckolkman.vscode-postgres",name:"PostgreSQL"}];async function rye(t){let e=Q.workspace.getConfiguration("netezza");if(!e.get("showConflictWarnings",!0))return;let n=[];for(let a of U3)Q.extensions.getExtension(a.id)&&n.push(a.name);let s=Q.extensions.all.filter(a=>{let l=a.packageJSON;if(!l||a.id==="krzysztof-d.justybaselite-netezza"||U3.some(d=>d.id===a.id))return!1;let c=l.activationEvents?.some(d=>d.includes("onLanguage:sql")||d.includes("onLanguage:mssql")),u=l.contributes?.languages?.some(d=>d.id==="sql"||d.extensions?.includes(".sql"));return(l.displayName||"")==="SQL Language Basics"?!1:c||u}).map(a=>a.packageJSON.displayName||a.id),o=[...n,...s];if(o.length>0){let a=o.length===1?`SQL extension detected "${o[0]}" which may cause conflicts (e.g. duplicate keybindings F5, Ctrl+Enter).`:`SQL extensions detected which may cause conflicts: ${o.join(", ")}. Some functions (e.g. F5, Ctrl+Enter) may be duplicated.`;await Q.window.showWarningMessage(a,"OK","Do not show again")==="Do not show again"&&await e.update("showConflictWarnings",!1,Q.ConfigurationTarget.Global)}}async function nye(t){console.log("Netezza extension: Activating..."),rye(t);let e=new us(t),r=new Bf(t);await r.initialize();let n=new gf(t,e,r),i=new Lc(t.extensionUri);t.subscriptions.push({dispose:()=>{e.closeAllPersistentConnections()}});let s=Q.window.createOutputChannel("Netezza"),o=b3(t,e),{updateFn:a}=w3(t,e);a(),e.onDidChangeActiveConnection(p=>{a(),p&&!r.hasConnectionPrefetchTriggered(p)&&r.triggerConnectionPrefetch(p,A=>q(t,A,!0,p,e))}),e.onDidChangeConnections(a),e.onDidChangeDocumentConnection(p=>{a();let A=e.getDocumentConnection(p);A&&!r.hasConnectionPrefetchTriggered(A)&&r.triggerConnectionPrefetch(A,O=>q(t,O,!0,A,e))}),Q.window.onDidChangeActiveTextEditor(a),console.log("Netezza extension: Registering SchemaSearchProvider...");let l=new bc(t.extensionUri,t,r,e);console.log("Netezza extension: Registering QueryHistoryView...");let c=new wc(t.extensionUri,t),u=Q.window.createTreeView("netezza.schema",{treeDataProvider:n,showCollapseAll:!0});t.subscriptions.push(Q.window.registerWebviewViewProvider(Lc.viewType,i),Q.window.registerWebviewViewProvider(bc.viewType,l),Q.window.registerWebviewViewProvider(wc.viewType,c));let E=P3(),d=M3();x3(t,E,d);let f=new oR;t.subscriptions.push(Q.languages.registerCodeLensProvider({scheme:"file"},f)),t.subscriptions.push(Q.window.onDidChangeActiveTextEditor(p=>{if(p&&p.document){let A=p.document.uri.toString();i.setActiveSource(A)}}));let h=Vf({context:t,connectionManager:e,metadataCache:r,schemaProvider:n,schemaTreeView:u});t.subscriptions.push(...h);let T=q2({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...T);let S=aX({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...S);let R=L3({context:t,connectionManager:e,resultPanelProvider:i});t.subscriptions.push(...R),t.subscriptions.push(Q.commands.registerCommand("netezza.viewEditData",p=>{Df.createOrShow(t.extensionUri,p,t,e)}),Q.commands.registerCommand("netezza.createProcedure",async p=>{if(!p||!p.dbName){Q.window.showErrorMessage("Invalid selection. Select a Procedure folder.");return}let A=await Q.window.showInputBox({prompt:"Enter new procedure name",placeHolder:"NEW_PROCEDURE",value:"NEW_PROCEDURE"});if(A===void 0)return;let O=A.trim()||"NEW_PROCEDURE",I=`CREATE OR REPLACE PROCEDURE ${p.dbName}.SCHEMA.${O}(INTEGER)
RETURNS INTEGER
EXECUTE AS CALLER
LANGUAGE NZPLSQL AS
BEGIN_PROC
DECLARE
    arg1 ALIAS FOR $1;
BEGIN
    -- YOUR CODE GOES HERE
    
    EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE EXCEPTION  'Procedure failed: %', sqlerrm;
        --RAISE NOTICE 'Caught error, continuing %', sqlerrm;

END;
END_PROC;`,D=await Q.workspace.openTextDocument({content:I,language:"sql"});await Q.window.showTextDocument(D)}),Q.commands.registerCommand("netezza.toggleKeepConnectionOpen",()=>{let p=e.getKeepConnectionOpen();e.setKeepConnectionOpen(!p),HC(o,e);let A=!p;Q.window.showInformationMessage(A?"Keep connection open: ENABLED - connection will remain open after queries":"Keep connection open: DISABLED - connection will be closed after each query")}),Q.commands.registerCommand("netezza.cancelQuery",async()=>{await ny()}),Q.commands.registerCommand("netezza.selectActiveConnection",async()=>{let p=await e.getConnections();if(p.length===0){Q.window.showWarningMessage("No connections configured. Please connect first.");return}let A=await Q.window.showQuickPick(p.map(O=>O.name),{placeHolder:"Select Active Connection"});A&&(await e.setActiveConnection(A),Q.window.showInformationMessage(`Active connection set to: ${A}`))}),Q.commands.registerCommand("netezza.selectConnectionForTab",async()=>{let p=Q.window.activeTextEditor;if(!p||p.document.languageId!=="sql"){Q.window.showWarningMessage("This command is only available for SQL files");return}let A=await e.getConnections();if(A.length===0){Q.window.showWarningMessage("No connections configured. Please connect first.");return}let O=p.document.uri.toString(),b=e.getDocumentConnection(O)||e.getActiveConnectionName(),I=A.map(L=>({label:L.name,description:b===L.name?"$(check) Currently selected":`${L.host}:${L.port}/${L.database}`,name:L.name})),D=await Q.window.showQuickPick(I,{placeHolder:"Select connection for this SQL tab"});D&&(e.setDocumentConnection(O,D.name),Q.window.showInformationMessage(`Connection for this tab set to: ${D.name}`))}),Q.commands.registerCommand("netezza.openLogin",()=>{mf.createOrShow(t.extensionUri,e)}),Q.commands.registerCommand("netezza.refreshSchema",async()=>{await r.clearCache(),n.refresh(),Q.window.showInformationMessage("Schema refreshed (Cache cleared)")}),Q.commands.registerCommand("netezza.jumpToSchema",async()=>{let p=Q.window.activeTextEditor;if(!p)return;let A=p.document,O=p.selection,b=A.offsetAt(O.active),I=wr.getObjectAtPosition(A.getText(),b);I?Q.commands.executeCommand("netezza.revealInSchema",I):Q.window.showWarningMessage("No object found at cursor")}),Q.commands.registerCommand("netezza.runScriptFromLens",async(p,A)=>{try{let O=await Q.workspace.openTextDocument(p),b=O.getText(A).trim()||O.lineAt(A.start.line).text.trim();if(!b){Q.window.showWarningMessage("No script command found");return}let I=b.split(/\s+/),D=I[0]||"",L=/python(\.exe)?$/i.test(D)&&I.length>=2&&I[1].toLowerCase().endsWith(".py"),P=D.toLowerCase().endsWith(".py"),$=Q.workspace.getConfiguration("netezza").get("pythonPath")||"python",Y="";if(L){let ee=I[0],le=I[1],Z=I.slice(2);Y=ss(ee,le,Z)}else if(P){let ee=D,le=I.slice(1);Y=ss($,ee,le)}else Y=ss($,"",I);let V=Q.window.createTerminal({name:"Netezza: Script"});V.show(!0),V.sendText(Y,!0),Q.window.showInformationMessage(`Running script: ${Y}`)}catch(O){Q.window.showErrorMessage(`Error running script: ${O.message}`)}}),Q.commands.registerCommand("netezza.clearAutocompleteCache",async()=>{await Q.window.showWarningMessage("Are you sure you want to clear the autocomplete cache? This will remove all cached databases, schemas, tables, and columns.",{modal:!0},"Clear Cache")==="Clear Cache"&&(await r.clearCache(),Q.window.showInformationMessage("Autocomplete cache cleared successfully. Cache will be rebuilt on next use."))})),t.subscriptions.push(Q.languages.registerDocumentLinkProvider({language:"sql"},new Lf),Q.languages.registerFoldingRangeProvider({language:"sql"},new bf));let N=new yf(t,r,e);t.subscriptions.push(Q.languages.registerCompletionItemProvider(["sql","mssql"],N,"."," ")),v3(t),dy(t),t.subscriptions.push(Q.languages.registerCodeActionsProvider(["sql","netezza-sql"],new Dc,{providedCodeActionKinds:Dc.providedCodeActionKinds})),console.log("Netezza extension: Activation complete.")}function iye(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

archiver/lib/error.js:
archiver/lib/core.js:
  (**
   * Archiver Core
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

zip-stream/index.js:
  (**
   * ZipStream
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
   * @copyright (c) 2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/zip.js:
  (**
   * ZIP Format Plugin
   *
   * @module plugins/zip
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/tar.js:
  (**
   * TAR Format Plugin
   *
   * @module plugins/tar
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/json.js:
  (**
   * JSON Format Plugin
   *
   * @module plugins/json
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/index.js:
  (**
   * Archiver Vending
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)
*/
