"use strict";var $W=Object.create;var ff=Object.defineProperty;var qW=Object.getOwnPropertyDescriptor;var UW=Object.getOwnPropertyNames;var WW=Object.getPrototypeOf,jW=Object.prototype.hasOwnProperty;var tn=(t,e)=>()=>(t&&(e=t(t=0)),e);var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),mn=(t,e)=>{for(var r in e)ff(t,r,{get:e[r],enumerable:!0})},Gx=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of UW(e))!jW.call(t,i)&&i!==r&&ff(t,i,{get:()=>e[i],enumerable:!(n=qW(e,i))||n.enumerable});return t};var Je=(t,e,r)=>(r=t!=null?$W(WW(t)):{},Gx(e||!t||!t.__esModule?ff(r,"default",{value:t,enumerable:!0}):r,t)),zW=t=>Gx(ff({},"__esModule",{value:!0}),t);var G0=x((wbe,Yx)=>{"use strict";var V0=class{static readInt32(e,r=0){return e.readInt32BE(r)}static readInt16(e,r=0){return e.readInt16BE(r)}static writeInt32(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt32BE(r,n);else{let i=Buffer.allocUnsafe(4);i.writeInt32BE(r,0),e.write(i)}}static writeInt16(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt16BE(r,n);else{let i=Buffer.allocUnsafe(2);i.writeInt16BE(r,0),e.write(i)}}};Yx.exports=V0});var df=x((_be,Jx)=>{"use strict";var HW={AuthenticationRequest:82,ErrorResponse:69,NoticeResponse:78,BackendKeyData:75,ReadyForQuery:90,RowDescription:84,RowDescriptionStandard:88,DataRow:68,CommandComplete:67,EmptyQueryResponse:73,RowStandard:89,CopyInResponse:71,CopyOutResponse:72,CopyDone:99,CopyData:100},VW={NzTypeRecAddr:1,NzTypeDouble:2,NzTypeInt:3,NzTypeFloat:4,NzTypeMoney:5,NzTypeDate:6,NzTypeNumeric:7,NzTypeTime:8,NzTypeTimestamp:9,NzTypeInterval:10,NzTypeTimeTz:11,NzTypeBool:12,NzTypeInt1:13,NzTypeBinary:14,NzTypeChar:15,NzTypeVarChar:16,NzDEPR_Text:17,NzTypeUnknown:18,NzTypeInt2:19,NzTypeInt8:20,NzTypeVarFixedChar:21,NzTypeGeometry:22,NzTypeVarBinary:23,NzDEPR_Blob:24,NzTypeNChar:25,NzTypeNVarChar:26,NzDEPR_NText:27,NzTypeJson:30,NzTypeJsonb:31,NzTypeJsonpath:32,NzTypeLastEntry:33,NzTypeIntvsAbsTimeFIX:39},GW={CP_VERSION_2:2,CP_VERSION_3:3,CP_VERSION_4:4,CP_VERSION_5:5,CP_VERSION_6:6},YW={HSV2_CLIENT_BEGIN:1,HSV2_DB:2,HSV2_USER:3,HSV2_OPTIONS:4,HSV2_REMOTE_PID:6,HSV2_CLIENT_TYPE:8,HSV2_PROTOCOL:9,HSV2_SSL_NEGOTIATE:11,HSV2_SSL_CONNECT:12,HSV2_APPNAME:13,HSV2_CLIENT_OS:14,HSV2_CLIENT_HOST_NAME:15,HSV2_CLIENT_OS_USER:16,HSV2_64BIT_VARLENA_ENABLED:17,HSV2_CLIENT_DONE:1e3},JW={DATA:1,ERROR:2,DONE:3};Jx.exports={BackendMessageCode:HW,NzType:VW,ProtocolVersion:GW,HandshakeCode:YW,ExtabSock:JW}});var Xx=x((Ebe,Kx)=>{var Po=1e3,Fo=Po*60,Bo=Fo*60,bs=Bo*24,KW=bs*7,XW=bs*365.25;Kx.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return ZW(t);if(r==="number"&&isFinite(t))return e.long?e4(t):QW(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function ZW(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*XW;case"weeks":case"week":case"w":return r*KW;case"days":case"day":case"d":return r*bs;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Bo;case"minutes":case"minute":case"mins":case"min":case"m":return r*Fo;case"seconds":case"second":case"secs":case"sec":case"s":return r*Po;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function QW(t){var e=Math.abs(t);return e>=bs?Math.round(t/bs)+"d":e>=Bo?Math.round(t/Bo)+"h":e>=Fo?Math.round(t/Fo)+"m":e>=Po?Math.round(t/Po)+"s":t+"ms"}function e4(t){var e=Math.abs(t);return e>=bs?hf(t,e,bs,"day"):e>=Bo?hf(t,e,Bo,"hour"):e>=Fo?hf(t,e,Fo,"minute"):e>=Po?hf(t,e,Po,"second"):t+" ms"}function hf(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Y0=x((Sbe,Zx)=>{function t4(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=Xx(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,h=null,f,g;function p(...m){if(!p.enabled)return;let y=p,v=Number(new Date),b=v-(d||v);y.diff=b,y.prev=d,y.curr=v,d=v,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let w=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(O,A)=>{if(O==="%%")return"%";w++;let k=r.formatters[A];if(typeof k=="function"){let N=m[w];O=k.call(y,N),m.splice(w,1),w--}return O}),r.formatArgs.call(y,m),(y.log||r.log).apply(y,m)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(f!==r.namespaces&&(f=r.namespaces,g=r.enabled(u)),g),set:m=>{h=m}}),typeof r.init=="function"&&r.init(p),p}function n(u,d){let h=r(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let h of d)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function s(u,d){let h=0,f=0,g=-1,p=0;for(;h<u.length;)if(f<d.length&&(d[f]===u[h]||d[f]==="*"))d[f]==="*"?(g=f,p=h,f++):(h++,f++);else if(g!==-1)f=g+1,p++,h=p;else return!1;for(;f<d.length&&d[f]==="*";)f++;return f===d.length}function o(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function a(u){for(let d of r.skips)if(s(u,d))return!1;for(let d of r.names)if(s(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Zx.exports=t4});var Qx=x((Cr,pf)=>{Cr.formatArgs=n4;Cr.save=i4;Cr.load=s4;Cr.useColors=r4;Cr.storage=o4();Cr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Cr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r4(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n4(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+pf.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Cr.log=console.debug||console.log||(()=>{});function i4(t){try{t?Cr.storage.setItem("debug",t):Cr.storage.removeItem("debug")}catch{}}function s4(){let t;try{t=Cr.storage.getItem("debug")||Cr.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function o4(){try{return localStorage}catch{}}pf.exports=Y0()(Cr);var{formatters:a4}=pf.exports;a4.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var tv=x((xbe,ev)=>{"use strict";ev.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var iv=x((vbe,nv)=>{"use strict";var l4=require("os"),rv=require("tty"),qr=tv(),{env:Ut}=process,Li;qr("no-color")||qr("no-colors")||qr("color=false")||qr("color=never")?Li=0:(qr("color")||qr("colors")||qr("color=true")||qr("color=always"))&&(Li=1);"FORCE_COLOR"in Ut&&(Ut.FORCE_COLOR==="true"?Li=1:Ut.FORCE_COLOR==="false"?Li=0:Li=Ut.FORCE_COLOR.length===0?1:Math.min(parseInt(Ut.FORCE_COLOR,10),3));function J0(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function K0(t,e){if(Li===0)return 0;if(qr("color=16m")||qr("color=full")||qr("color=truecolor"))return 3;if(qr("color=256"))return 2;if(t&&!e&&Li===void 0)return 0;let r=Li||0;if(Ut.TERM==="dumb")return r;if(process.platform==="win32"){let n=l4.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Ut)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Ut)||Ut.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Ut)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ut.TEAMCITY_VERSION)?1:0;if(Ut.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ut){let n=parseInt((Ut.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ut.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ut.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ut.TERM)||"COLORTERM"in Ut?1:r}function c4(t){let e=K0(t,t&&t.isTTY);return J0(e)}nv.exports={supportsColor:c4,stdout:J0(K0(!0,rv.isatty(1))),stderr:J0(K0(!0,rv.isatty(2)))}});var ov=x((Wt,yf)=>{var u4=require("tty"),gf=require("util");Wt.init=m4;Wt.log=p4;Wt.formatArgs=d4;Wt.save=g4;Wt.load=y4;Wt.useColors=f4;Wt.destroy=gf.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Wt.colors=[6,2,3,4,5,1];try{let t=iv();t&&(t.stderr||t).level>=2&&(Wt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Wt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function f4(){return"colors"in Wt.inspectOpts?!!Wt.inspectOpts.colors:u4.isatty(process.stderr.fd)}function d4(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+yf.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=h4()+e+" "+t[0]}function h4(){return Wt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function p4(...t){return process.stderr.write(gf.formatWithOptions(Wt.inspectOpts,...t)+`
`)}function g4(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function y4(){return process.env.DEBUG}function m4(t){t.inspectOpts={};let e=Object.keys(Wt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Wt.inspectOpts[e[r]]}yf.exports=Y0()(Wt);var{formatters:sv}=yf.exports;sv.o=function(t){return this.inspectOpts.colors=this.useColors,gf.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};sv.O=function(t){return this.inspectOpts.colors=this.useColors,gf.inspect(t,this.inspectOpts)}});var Z0=x((Tbe,X0)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?X0.exports=Qx():X0.exports=ov()});var lv=x((Rbe,av)=>{"use strict";var b4=require("crypto"),oe=G0(),{BackendMessageCode:ws,HandshakeCode:_e,ProtocolVersion:ei}=df(),Nt=Z0()("nz:handshake"),Q0=class{constructor(e,r,n,i={}){this._socket=e,this._stream=r,this._host=n,this._options=i,this._hsVersion=-1,this._protocol1=-1,this._protocol2=-1,this._guardiumClientOS=process.platform,this._guardiumClientOSUser=process.env.USERNAME||process.env.USER||"unknown",this._guardiumAppName="scJs-Driver",this._guardiumClientHostName=require("os").hostname(),this.NPSCLIENT_TYPE_DOTNET=11}async startup(e,r,n){if(!await this.connHandshakeNegotiate())throw new Error("Handshake negotiation unsuccessful");if(Nt("Sending handshake info"),!await this.connSendHandshakeInfo(e,r))throw new Error("Error in ConnSendHandshakeInfo");if(!await this.connAuthenticate(n))throw new Error("Error in ConnAuthenticate");if(!await this.connConnectionComplete())throw new Error("Error in ConnConnectionComplete");return this._stream}async _readExactly(e){return new Promise((r,n)=>{let i=this._stream.read(e);i?r(i):this._stream.once("readable",()=>{let s=this._stream.read(e);s&&r(s)})})}async readBytes(e){for(;;){let r=this._stream.read(e);if(r!==null)return r;await new Promise(n=>this._stream.once("readable",n))}}async readByte(){return(await this.readBytes(1))[0]}async connHandshakeNegotiate(){let e=ei.CP_VERSION_6;for(;;){Nt(`Sending version: ${e}`),oe.writeInt32(this._stream,8),oe.writeInt16(this._stream,_e.HSV2_CLIENT_BEGIN),oe.writeInt16(this._stream,e);let r=await this.readByte();if(Nt(`Got response: ${String.fromCharCode(r)}`),r===78)return this._hsVersion=e,this._protocol2=0,!0;if(r===77){let n=await this.readByte(),i=String.fromCharCode(n);i==="2"?e=ei.CP_VERSION_2:i==="3"?e=ei.CP_VERSION_3:i==="4"?e=ei.CP_VERSION_4:i==="5"&&(e=ei.CP_VERSION_5)}else return!1}}async connSendHandshakeInfo(e,r){return await this.connSendDatabase(e)?(await this.connSecureSession(),this.connSetNextDataProtocol(this._protocol1,this._protocol2),this._hsVersion===ei.CP_VERSION_6||this._hsVersion===ei.CP_VERSION_4?this.connSendHandshakeVersion4(this._hsVersion,r):this.connSendHandshakeVersion2(this._hsVersion,r)):!1}async connSendDatabase(e){let r=Buffer.from(e,"utf8"),n=6+r.length+1;return oe.writeInt32(this._stream,n),oe.writeInt16(this._stream,_e.HSV2_DB),this._stream.write(r),this._stream.write(Buffer.from([0])),await this.readByte()===78}async connSecureSession(){let r=0,n=this._options.securityLevel;n==="OnlyUnsecuredSession"?r=1:n==="PreferredSecuredSession"?r=2:n==="OnlySecuredSession"&&(r=3),oe.writeInt32(this._stream,10),oe.writeInt16(this._stream,_e.HSV2_SSL_NEGOTIATE),oe.writeInt32(this._stream,r);let i=await this.readByte();if(i===78){if(this._options.securityLevel==="OnlySecuredSession")throw new Error("Server refused secure session, but OnlySecuredSession was requested.");return!0}if(i===83){Nt("Upgrading to SSL...");let s=Buffer.alloc(6);s.writeInt32BE(6,0),s.writeInt16BE(_e.HSV2_SSL_CONNECT,4),await new Promise(l=>{this._stream.write(s)?l():this._stream.once("drain",l)}),this._socket.removeAllListeners("data"),this._socket.removeAllListeners("readable");let o=require("tls"),a={socket:this._socket,rejectUnauthorized:!1};if(this._options.sslCerFilePath){this._options.rejectUnauthorized===!1?a.rejectUnauthorized=!1:a.rejectUnauthorized=!0;try{let l=require("fs");a.ca=l.readFileSync(this._options.sslCerFilePath)}catch(l){throw Nt("Failed to load cert file",l),l}}return new Promise((l,c)=>{let u=o.connect(a,()=>{Nt("SSL Connected"),this._stream=u,this._stream.on("error",d=>{Nt("Secure Stream Error",d)}),this.readByte().then(d=>{d===78?l(!0):c(new Error(`SSL Handshake failed: Unexpected response ${String.fromCharCode(d)}`))}).catch(d=>{Nt("Failed to read SSL confirmation",d),c(d)})});u.on("error",d=>{Nt("SSL Connection Error",d),c(d)})})}return!1}connSetNextDataProtocol(e,r){return this._protocol2===0&&(this._protocol2=5),this._protocol1=3,!0}async connSendHandshakeVersion4(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,_e.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=_e.HSV2_APPNAME;for(;s!==0;){if(await this.readByte()!==78)return!1;switch(s){case _e.HSV2_APPNAME:await this.sendStringOption(s,this._guardiumAppName),s=_e.HSV2_CLIENT_OS;break;case _e.HSV2_CLIENT_OS:await this.sendStringOption(s,this._guardiumClientOS),s=_e.HSV2_CLIENT_HOST_NAME;break;case _e.HSV2_CLIENT_HOST_NAME:await this.sendStringOption(s,this._guardiumClientHostName),s=_e.HSV2_CLIENT_OS_USER;break;case _e.HSV2_CLIENT_OS_USER:await this.sendStringOption(s,this._guardiumClientOSUser),s=_e.HSV2_PROTOCOL;break;case _e.HSV2_PROTOCOL:i=10,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),oe.writeInt16(this._stream,this._protocol1),oe.writeInt16(this._stream,this._protocol2),s=_e.HSV2_REMOTE_PID;break;case _e.HSV2_REMOTE_PID:i=10,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),oe.writeInt32(this._stream,process.pid),s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_CLIENT_TYPE:i=8,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),oe.writeInt16(this._stream,11),e>=5?s=_e.HSV2_64BIT_VARLENA_ENABLED:s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_64BIT_VARLENA_ENABLED:i=8,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),oe.writeInt16(this._stream,1),s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_CLIENT_DONE:return i=6,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),s=0,!0}}return!1}async connSendHandshakeVersion2(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,_e.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=_e.HSV2_PROTOCOL;for(;s!==0;){Nt(`Waiting for response in v2 loop. Info: ${s}`);let o=await this.readByte();if(Nt(`Got response: ${String.fromCharCode(o)}`),o===78)switch(s){case _e.HSV2_PROTOCOL:i=10,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),oe.writeInt16(this._stream,this._protocol1),oe.writeInt16(this._stream,this._protocol2),s=_e.HSV2_REMOTE_PID;break;case _e.HSV2_REMOTE_PID:i=10,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),oe.writeInt32(this._stream,process.pid),s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_OPTIONS:s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_CLIENT_TYPE:i=8,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),oe.writeInt16(this._stream,11),e===ei.CP_VERSION_5||e===ei.CP_VERSION_6?s=_e.HSV2_64BIT_VARLENA_ENABLED:s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_64BIT_VARLENA_ENABLED:i=8,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),oe.writeInt16(this._stream,1),s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_CLIENT_DONE:return i=6,oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,s),s=0,!0}else throw o===ws.ErrorResponse?new Error("Handshake V2 Failed: ErrorResponse from backend"):new Error(`Handshake V2 Failed: Unexpected response ${String.fromCharCode(o)}`)}return!1}async sendStringOption(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;oe.writeInt32(this._stream,i),oe.writeInt16(this._stream,e),this._stream.write(n),this._stream.write(Buffer.from([0]))}async connAuthenticate(e){if(await this.readByte()!==ws.AuthenticationRequest)return!1;let n=oe.readInt32(await this.readBytes(4));if(Nt(`Auth request: ${n}`),n===0)return!0;if(n===3){let i=Buffer.from(e,"utf8"),s=4+i.length+1;return oe.writeInt32(this._stream,s),this._stream.write(i),this._stream.write(Buffer.from([0])),!0}if(n===5){let i=await this.readBytes(2),s=Buffer.from(e,"utf8"),a=b4.createHash("md5").update(Buffer.concat([i,s])).digest("base64").replace(/=+$/,""),l=Buffer.from(a,"utf8"),c=4+l.length+1;return oe.writeInt32(this._stream,c),this._stream.write(l),this._stream.write(Buffer.from([0])),!0}return!1}async readString(){let e=[];for(;;){let r=await this.readByte();if(r===0)break;e.push(r)}return Buffer.from(e).toString("utf8")}async connConnectionComplete(){for(;;){let e=await this.readByte();if(Nt(`Resp: ${String.fromCharCode(e)} (0x${e.toString(16)})`),e===ws.AuthenticationRequest){let n=oe.readInt32(await this.readBytes(4));Nt(`Auth req in complete: ${n}`);continue}if(e===ws.ErrorResponse){let n=await this.readBytes(4),i=oe.readInt32(n);if(i<0||i>1e8){let o=n.toString("utf8");throw o+=await this.readString(),new Error(`Backend Error: ${o}`)}let s=await this.readBytes(i-4);throw new Error(`Backend Error: ${s.toString()}`)}let r=await this.readBytes(4);if(Nt(`Skipped 4 bytes: ${r.toString("hex")}`),e===ws.BackendKeyData){let n=await this.readBytes(4);Nt(`KeyData Padding: ${n.toString("hex")}`);let i=oe.readInt32(await this.readBytes(4)),s=oe.readInt32(await this.readBytes(4));Nt(`KeyData: PID=${i} Key=${s}`),this.backendProcessId=i,this.backendSecretKey=s;continue}if(e===ws.ReadyForQuery)return Nt("ReadyForQuery"),!0;if(e===ws.NoticeResponse){let n=oe.readInt32(await this.readBytes(4)),i=await this.readBytes(n);Nt(`Notice: ${i.toString()}`);continue}}}};av.exports=Q0});var uv=x((Abe,cv)=>{"use strict";var eg=class{constructor(e){this.connection=e,this.commandText="",this.parameters=[],this._recordsAffected=-1,this.commandTimeout=e.commandTimeout!==void 0?e.commandTimeout:30}async execute(){return this.connection.execute(this,!1)}async executeNonQuery(){return await this.connection.execute(this,!1),this._recordsAffected}async executeReader(){return this.connection.executeReader(this)}async cancel(){return this.connection.cancel()}};cv.exports=eg});var dv=x((Ibe,fv)=>{"use strict";var{NzType:Cbe}=df(),tg=class{constructor(e,r,n,i,s){this.command=e,this.generator=r,this.columnDescriptions=n||[],this.releaseCallback=i,this.currentRow=null,this.closed=!1,this._initNameIndex(),this._pendingColumns=null,this._isFinished=!1,this._nextItem=s,this._hasRows=!!(this._nextItem&&this._nextItem.type==="DataRow")}get hasRows(){return this._hasRows}_initNameIndex(){if(this._nameIndex={},this.columnDescriptions)for(let e=0;e<this.columnDescriptions.length;e++)this._nameIndex[this.columnDescriptions[e].name.toLowerCase()]=e}_markFinished(){this._isFinished=!0,this._nextItem=null,this._hasRows=!1,this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}async nextResult(){if(this._pendingColumns){for(this.columnDescriptions=this._pendingColumns,this._pendingColumns=null,this._initNameIndex(),this.currentRow=null;;){let e=await this.generator.next();if(e.done){this._nextItem=null,this._hasRows=!1;break}let r=e.value;if(r.type!=="RowDescriptionStandard")if(r.type==="DataRow"){this._nextItem=r,this._hasRows=!0;break}else if(r.type==="CommandComplete"){this._nextItem=r,this._hasRows=!1;break}else{this._nextItem=r,this._hasRows=!1;break}}return!0}if(this.closed||this._isFinished)return!1;for(;;){let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),!1;let r=e.value;if(r.type==="RowDescription"){this.columnDescriptions=r.columns,this._initNameIndex(),this.currentRow=null;continue}if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;this.columnDescriptions.length===0&&n&&n.description&&(this.columnDescriptions=n.description,this._initNameIndex()),this.currentRow=null;continue}if(r.type==="DataRow")return this._nextItem=r,this._hasRows=!0,!0;if(r.type!=="CommandComplete"){if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");if(r.type==="ReadyForQuery")return this._markFinished(),!1}}}getSchemaTable(){if(!this.columnDescriptions)return[];let e=[];for(let r=0;r<this.columnDescriptions.length;r++){let n=this.columnDescriptions[r],i={ColumnName:n.name,ColumnOrdinal:r+1,ColumnSize:-1,NumericPrecision:0,NumericScale:0,DataType:String,ProviderType:n.typeOid,AllowDBNull:!0,IsReadOnly:!0,IsLong:!1},s=n.typeMod,o=n.typeOid,a={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700},l=16;switch(o){case a.Bool:i.DataType=Boolean,i.ColumnSize=1;break;case a.Int2:i.DataType=Number,i.ColumnSize=2;break;case a.Int4:i.DataType=Number,i.ColumnSize=4;break;case a.Int8:i.DataType=Number,i.ColumnSize=8;break;case 700:case 701:i.DataType=Number,i.ColumnSize=o===701?8:4,i.NumericPrecision=o===701?53:24;break;case a.Numeric:if(i.DataType=Number,s>l){let c=s-l>>16,u=s-l&65535;i.NumericPrecision=c,i.NumericScale=u,i.ColumnSize=Math.floor(c/2)+1,i.ColumnSize<n.typeLen&&n.typeLen>0&&(i.ColumnSize=n.typeLen)}else i.ColumnSize=n.typeLen;break;case a.Date:case a.Timestamp:case a.TimestampTz:case a.Time:case a.TimeTz:i.DataType=Date,(o===a.Time||o===a.TimeTz)&&(i.DataType=Object),i.ColumnSize=n.typeLen;break;case a.Char:case a.BpChar:case a.VarChar:case a.Text:case a.Name:case a.ShowDate:i.DataType=String,s>l?i.ColumnSize=s-l:(i.ColumnSize=-1,n.typeLen>0&&(i.ColumnSize=n.typeLen)),i.ColumnSize>8e3&&(i.IsLong=!0);break;default:i.DataType=String,i.ColumnSize=n.typeLen;break}e.push(i)}return{Rows:e,Columns:{Count:e.length}}}getTypeName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);let n=this.columnDescriptions[e].typeOid,i={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700,Float4:700,Float8:701};switch(n){case i.Bool:return"BOOL";case i.Bytea:return"BYTEA";case i.Char:return"CHAR";case i.Name:return"NAME";case i.Int8:return"INT8";case i.Int2:return"INT2";case i.Int4:return"INT4";case i.Text:return"TEXT";case i.BpChar:return"CHAR";case i.VarChar:return"VARCHAR";case i.Date:return"DATE";case i.Time:return"TIME";case i.Timestamp:return"TIMESTAMP";case i.TimestampTz:return"TIMESTAMPTZ";case i.Interval:return"INTERVAL";case i.TimeTz:return"TIMETZ";case i.Numeric:return"NUMERIC";case i.Float4:return"FLOAT4";case i.Float8:return"FLOAT8";case 2530:return"DATE";case 15:return"CHAR";case 16:return"BOOL";default:return`UNKNOWN(${n})`}}async read(){if(this.closed||this._isFinished||this._pendingColumns)return!1;let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),this.currentRow=null,!1;let r=e.value;if(r.type==="DataRow")return this.currentRow=r.row,!0;if(r.type==="RowDescription")return this._pendingColumns=r.columns,this.currentRow=null,!1;if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;return this._pendingColumns=n&&n.description?n.description:this.columnDescriptions,this.currentRow=null,!1}if(r.type==="CommandComplete")return this.currentRow=null,this.read();if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");return r.type==="ReadyForQuery"?(this._markFinished(),this.currentRow=null,!1):this.read()}getValue(e){return this._validateOrdinal(e),this.currentRow[e]}getValueByName(e){let r=this.getOrdinal(e);return this.getValue(r)}getName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);return this.columnDescriptions[e].name}getOrdinal(e){let r=this._nameIndex[e.toLowerCase()];if(r===void 0)throw new Error(`Column '${e}' not found`);return r}get fieldCount(){return this.columnDescriptions?.length||0}get FieldCount(){return this.fieldCount}isDBNull(e){return this._validateOrdinal(e),this.currentRow[e]===null}getBoolean(e){let r=this.getValue(e);return r===null?!1:typeof r=="boolean"?r:typeof r=="string"?r.toLowerCase()==="t"||r==="1"||r.toLowerCase()==="true":!!r}getByte(e){let r=this.getValue(e);return r===null?0:Number(r)&255}getInt16(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt32(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt64(e){let r=this.getValue(e);return r===null?0:typeof r=="bigint"?r:Number(r)}getFloat(e){let r=this.getValue(e);return r===null?0:Number(r)}getDouble(e){let r=this.getValue(e);return r===null?0:Number(r)}getDecimal(e){let r=this.getValue(e);return r===null?0:typeof r=="string"?r:Number(r)}getString(e){let r=this.getValue(e);return r===null?null:typeof r=="string"?r:r.toString?r.toString():String(r)}getDateTime(e){let r=this.getValue(e);return r===null?null:r instanceof Date?r:new Date(r)}getTimeSpan(e){let r=this.getValue(e);if(r===null)return null;if(typeof r=="object"&&"hours"in r)return r;if(typeof r=="string"){let n=r.split(":");if(n.length>=2){let i=(n[2]||"0").split(".");return{hours:parseInt(n[0],10),minutes:parseInt(n[1],10),seconds:parseInt(i[0],10),microseconds:i.length>1?parseInt(i[1].padEnd(6,"0"),10):0,toString(){return r}}}}return r}getRowObject(){if(!this.currentRow)return null;let e={};for(let r=0;r<this.columnDescriptions.length;r++)e[this.columnDescriptions[r].name]=this.currentRow[r];return e}getValues(){return this.currentRow?[...this.currentRow]:[]}async close(){if(!this.closed){if(this.closed=!0,!this._isFinished&&this.generator)try{for await(let e of this.generator)if(e.type==="ReadyForQuery")break}catch{}this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}}get isClosed(){return this.closed}_validateOrdinal(e){if(!this.currentRow)throw new Error("No current row. Did you call read()?");if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`)}async*[Symbol.asyncIterator](){for(;await this.read();)yield this.getRowObject()}};fv.exports=tg});var pv=x((Nbe,hv)=>{"use strict";var rg=class{constructor(){this.version=null,this.nullsAllowed=null,this.sizeWord=null,this.sizeWordSize=null,this.numFixedFields=null,this.numVaryingFields=null,this.fixedFieldsSize=0,this.maxRecordSize=null,this.numFields=0,this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[],this.dateStyle=null,this.euroDates=null}clear(){this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[]}parse(e,r){this.clear();let n=0;this.version=e.readInt32BE(n),n+=4,this.nullsAllowed=e.readInt32BE(n),n+=4,this.sizeWord=e.readInt32BE(n),n+=4,this.sizeWordSize=e.readInt32BE(n),n+=4,this.numFixedFields=e.readInt32BE(n),n+=4,this.numVaryingFields=e.readInt32BE(n),n+=4,this.fixedFieldsSize=e.readInt32BE(n),n+=4,this.maxRecordSize=e.readInt32BE(n),n+=4,this.numFields=e.readInt32BE(n),n+=4;let i=3,s=39;for(let o=0;o<this.numFields;o++){let a=e.readInt32BE(n);a===i&&r?.description?.[o]?.typeOid===702&&(a=s),this.fieldType.push(a),this.fieldSize.push(e.readInt32BE(n+4)),this.fieldTrueSize.push(e.readInt32BE(n+8)),this.fieldOffset.push(e.readInt32BE(n+12)),this.fieldPhysField.push(e.readInt32BE(n+16)),this.fieldLogField.push(e.readInt32BE(n+20)),this.fieldNullAllowed.push(e.readInt32BE(n+24)!==0),this.fieldFixedSize.push(e.readInt32BE(n+28)),this.fieldSpringField.push(e.readInt32BE(n+32)),n+=36}this.dateStyle=e.readInt32BE(n),n+=4,this.euroDates=e.readInt32BE(n)}getFieldPrecision(e){return this.fieldSize[e]>>8&127}getFieldScale(e){return this.fieldSize[e]&255}getNumericDigitCount(e){return Math.floor(this.fieldTrueSize[e]/4)}};hv.exports=rg});var mv=x((Dbe,yv)=>{"use strict";var ng=Date.UTC(2e3,0,1);function w4(t){let e=t.readBigInt64LE(0),r=Number(e/1000n);return new Date(ng+r)}function _4(t){let r=t.readInt32LE(0)*24*60*60*1e3;return new Date(ng+r)}function ig(t){let e=t.readBigInt64LE(0),r=Number(e/1000000n),n=Number(e%1000000n),i=Math.floor(r/3600),s=Math.floor(r%3600/60),o=r%60;return{hours:i,minutes:s,seconds:o,microseconds:n,toString(){let a=String(i).padStart(2,"0"),l=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");if(n>0){let u=String(n).padStart(6,"0");return`${a}:${l}:${c}.${u}`}return`${a}:${l}:${c}`}}}function E4(t){if(!t)return null;let e=t.split(":"),r=parseInt(e[0],10)||0,n=parseInt(e[1],10)||0,i=(e[2]||"0").split("."),s=parseInt(i[0],10)||0,o=0;return i.length>1&&(o=parseInt(i[1].substring(0,6).padEnd(6,"0"),10)),{hours:r,minutes:n,seconds:s,microseconds:o,toString(){return t}}}function S4(t){let e=t.readBigInt64LE(0),r=t.readInt32LE(8),n=ig(t);if(r===0)return n.toString();let i=Math.floor(r/12),s=r%12;return i>0?`${i} years ${s} mons ${n.toString()}`:`${s} mons ${n.toString()}`}function x4(t,e){let r=ig(t),n=t.readInt32LE(e-4),i=n<0?"+":"-",s=Math.abs(n),o=Math.floor(s/3600),a=Math.floor(s%3600/60),l=s%60,c=String(o).padStart(2,"0");return l!==0?c+=":"+String(a).padStart(2,"0")+":"+String(l).padStart(2,"0"):a!==0&&(c+=":"+String(a).padStart(2,"0")),`${r.toString()}${i}${c}`}function v4(t){let e=t.readInt32LE(0);return new Date(e*1e3)}var ko=4,Il=38,gv=2147483648;function T4(t,e,r,n){let i=e<=9?1:e<=18?2:4,s=[];for(let f=0;f<i;f++)s.push(t.readUInt32LE(f*4));let o=(s[0]&gv)!==0?4294967295:0,a=new Array(ko).fill(o);for(let f=ko-n,g=0;f<ko;f++,g++)a[f]=s[g];let l=(a[0]&gv)!==0;l&&A4(a);let c=new Array(Il).fill(0);for(let f=0;f<Il;f++)c[Il-f-1]=R4(a);let u="",d=!0;for(let f=0;f<Il;f++)f<Il-r-1&&d&&c[f]===0||(d=!1,u+=String(c[f]));if(u===""&&(u="0"),r!==0){let f=u.slice(0,-r)||"0",g=u.slice(-r).padStart(r,"0");u=f+"."+g}l&&(u="-"+u);let h=parseFloat(u);return e<=15&&u===String(h)?h:u}function R4(t){let e=0;for(let r=0;r<ko;r++){let n=t[r]+e*4294967296;n!==0?(t[r]=Math.floor(n/10),e=n%10):(t[r]=0,e=0)}return e}function A4(t){for(let r=0;r<ko;r++)t[r]=~t[r]>>>0;let e=1;for(let r=ko-1;r>=0&&e;r--){let n=t[r]+e;t[r]=n>>>0,e=n>4294967295?1:0}}yv.exports={toDateTimeFrom8Bytes:w4,toDateTimeFrom4Bytes:_4,timeRecvFloat:ig,parseTimeString:E4,intervalRecvFloat:S4,timetzOutput:x4,timestampRecvInt:v4,getCsNumeric:T4,POSTGRES_EPOCH_MS:ng}});var Ev=x((Obe,_v)=>{"use strict";var bv="utf8",wv="latin1";function C4(t,e,r){return r+e>t.length&&(r=t.length-e),t.toString(bv,e,e+r)}function I4(t,e,r){return r+e>t.length&&(r=t.length-e),t.toString(wv,e,e+r)}function N4(t,e,r){return t.toString("ascii",e,e+r)}function D4(t,e){return t[e]===116}function O4(t,e,r){let n=t.toString("ascii",e,e+r);return parseInt(n,10)}function L4(t,e,r){let n=t.toString("ascii",e,e+r);return parseInt(n,10)}function M4(t,e,r){let n=t.toString("ascii",e,e+r);return parseInt(n,10)}function P4(t,e,r){let n=t.toString("ascii",e,e+r),i=parseInt(n,10);return i>Number.MAX_SAFE_INTEGER||i<Number.MIN_SAFE_INTEGER?BigInt(n):i}function F4(t,e,r){let n=t.toString("ascii",e,e+r);return parseFloat(n)}function B4(t,e,r){let n=t.toString("ascii",e,e+r);return parseFloat(n)}function k4(t,e,r){let n=t.toString("ascii",e,e+r),i=parseFloat(n);return n.includes(".")&&n.length>15?n:i}function $4(t,e,r){return t.toString("ascii",e,e+r)}function q4(t,e,r){let n=t.toString("ascii",e,e+r);try{let i=parseInt(n.substring(0,4),10),s=parseInt(n.substring(5,7),10)-1,o=parseInt(n.substring(8,10),10);return new Date(Date.UTC(i,s,o))}catch{return new Date(0)}}function U4(t,e,r){let n=t.toString("ascii",e,e+r),i=parseInt(n.substring(0,2),10),s=parseInt(n.substring(3,5),10),a=n.substring(6).split("."),l=parseInt(a[0],10),c=a.length>1?parseInt(a[1].padEnd(6,"0").substring(0,6),10):0;return{hours:i,minutes:s,seconds:l,microseconds:c,toString(){let u=String(i).padStart(2,"0"),d=String(s).padStart(2,"0"),h=String(l).padStart(2,"0");if(c>0){let f=String(c).padStart(6,"0");return`${u}:${d}:${h}.${f}`}return`${u}:${d}:${h}`}}}function W4(t,e,r){let n=t.toString("ascii",e,e+r);return new Date(n)}function j4(t,e){let n=t.readDoubleLE(e);return new Date((946684800+n)*1e3)}function z4(t,e,r){if(r!==16)throw new Error("UUID must be exactly 16 bytes");let n=t.toString("hex",e,e+16);return`${n.substr(0,8)}-${n.substr(8,4)}-${n.substr(12,4)}-${n.substr(16,4)}-${n.substr(20,12)}`}_v.exports={CLIENT_ENCODING:bv,CHAR_VARCHAR_ENCODING:wv,textRecv:C4,textRecvLatin1:I4,byteaRecv:N4,boolRecv:D4,byteRecv:O4,int2Recv:L4,int4Recv:M4,int8Recv:P4,float4Recv:F4,float8Recv:B4,numericIn:k4,intervalRecv:$4,dateIn:q4,timeIn:U4,timestampIn:W4,timestampRecvFloat:j4,uuidRecv:z4}});var bn=x((Mbe,xv)=>{"use strict";var Sv=require("net"),H4=require("events"),V4=lv(),mt=G0(),G4=uv(),Y4=dv(),J4=pv(),{BackendMessageCode:Mi,NzType:jt,ExtabSock:_s}=df(),Es=mv(),Lbe=Ev(),de=Z0()("nz:connection"),sg=require("fs"),og=class extends H4{constructor(e){super(),this.config=e,this._socket=null,this._stream=null,this._backendProcessId=0,this._backendSecretKey=0,this._commandNumber=-1,this._connected=!1,this._rowDescription=null,this._rows=[],this._tupdesc=new J4,this._tmpBuffer=Buffer.alloc(65536),this._intBuf=Buffer.allocUnsafe(65536),this._intBufStart=0,this._intBufEnd=0,this.commandTimeout=30,this._executing=!1}async connect(){return new Promise((e,r)=>{if(!this.config.host)return r(new Error("Host is required"));this._socket=new Sv.Socket,this._socket.connect(this.config.port||5480,this.config.host,async()=>{de("Socket connected"),this._socket.setNoDelay(!0),this._stream=this._socket;let n=new V4(this._socket,this._stream,this.config.host,this.config);try{this._stream=await n.startup(this.config.database,this.config.user,this.config.password),this._connected=!0,this._backendProcessId=n.backendProcessId,this._backendSecretKey=n.backendSecretKey,e()}catch(i){this._socket.destroy(),r(i)}}),this._socket.on("error",n=>{de("Socket error",n),this._connected?this.emit("error",n):r(n)}),this._socket.on("close",()=>{de("Socket closed"),this._connected=!1,this.emit("close")})})}async cancel(){if(!(!this._backendProcessId||!this._backendSecretKey))return new Promise((e,r)=>{let n=new Sv.Socket;n.on("error",i=>{de("Cancel socket error",i),r(i)}),n.connect(this.config.port||5480,this.config.host,()=>{let i=Buffer.alloc(16);mt.writeInt32(i,16,0),mt.writeInt32(i,80877102,4),mt.writeInt32(i,this._backendProcessId,8),mt.writeInt32(i,this._backendSecretKey,12),n.write(i,()=>{}),n.on("close",e),n.on("end",e),n.on("error",s=>{de("Cancel socket error during wait",s),e()})})})}close(){this._socket&&(this._socket.end(),this._socket.destroy())}createCommand(e){let r=new G4(this);return r.commandText=e,r}async beginTransaction(){let e=this.createCommand("BEGIN");await this.execute(e)}async commit(){let e=this.createCommand("COMMIT");await this.execute(e)}async rollback(){let e=this.createCommand("ROLLBACK");await this.execute(e)}async _readBytes(e){if(this._intBufEnd-this._intBufStart>=e){let r=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+e));return this._intBufStart+=e,r}return this._readBytesSlow(e)}async _readBytesSlow(e){if(e>this._intBuf.length){let n=[],i=this._intBufEnd-this._intBufStart;i>0&&(n.push(Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufEnd))),this._intBufStart=0,this._intBufEnd=0);let s=e-i;for(;s>0;){let o=this._stream.read();o!==null?o.length<=s?(n.push(o),s-=o.length):(n.push(o.slice(0,s)),this._feedBuffer(o.slice(s)),s=0):await this._waitForReadable()}return Buffer.concat(n,e)}if(this._intBuf.length-this._intBufStart<e){let n=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=n}for(;this._intBufEnd-this._intBufStart<e;){let n=this._stream.read();if(n!==null){let i=this._intBuf.length-this._intBufEnd;n.length<=i?(n.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=n.length):(n.copy(this._intBuf,this._intBufEnd,0,i),this._intBufEnd+=i,this._stream.unshift(n.slice(i)))}else await this._waitForReadable()}let r=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+e));return this._intBufStart+=e,r}async _waitForReadable(){if(!this._socket||this._socket.destroyed)throw new Error("Socket closed or destroyed during read");return new Promise((e,r)=>{let n=()=>{this._stream.removeListener("readable",i),this._stream.removeListener("close",s),this._stream.removeListener("error",o),this._stream.removeListener("end",s)},i=()=>{n(),e()},s=()=>{n(),r(new Error("Socket closed/ended during read"))},o=a=>{n(),r(a)};this._stream.once("readable",i),this._stream.once("close",s),this._stream.once("end",s),this._stream.once("error",o)})}_feedBuffer(e){this._stream.unshift(e)}async _readInt32(){await this._ensureBufferData(4);let e=this._intBuf.readInt32BE(this._intBufStart);return this._intBufStart+=4,e}async _readInt16(){await this._ensureBufferData(2);let e=this._intBuf.readInt16BE(this._intBufStart);return this._intBufStart+=2,e}async _readByte(){await this._ensureBufferData(1);let e=this._intBuf[this._intBufStart];return this._intBufStart+=1,e}async _ensureBufferData(e){if(!(this._intBufEnd-this._intBufStart>=e)){if(this._intBuf.length-this._intBufStart<e){let r=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=r}for(;this._intBufEnd-this._intBufStart<e;){let r=this._stream.read();if(r!==null){let n=this._intBuf.length-this._intBufEnd;r.length<=n?(r.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=r.length):(r.copy(this._intBuf,this._intBufEnd,0,n),this._intBufEnd+=n,this._stream.unshift(r.slice(n)))}else await this._waitForReadable()}}}async execute(e,r=!1){let n=e.commandTimeout;if(!n||n<=0)return this._doExecute(e,r);let i,s=this._doExecute(e,r),o=new Promise((a,l)=>{i=setTimeout(async()=>{de("Command timeout triggered");try{await this.cancel(),l(new Error("Command execution timeout"))}catch(c){l(new Error("Command execution timeout (Cancel failed: "+c.message+")"))}},n*1e3)});try{return await Promise.race([s,o])}catch(a){throw a.message&&a.message.includes("Command execution timeout")&&s.catch(()=>{}),a}finally{clearTimeout(i)}}async _doExecute(e){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{de("Executing:",e.commandText),this._preExecution(e.commandText);let r=null;for await(let n of this._responseGenerator(e))n.type==="ErrorResponse"&&(r=new Error("Netezza Error: "+n.message));if(r)throw r;return!0}finally{this._executing=!1}}async executeReader(e){let r=e.commandTimeout||this.commandTimeout;if(!r||r<=0)return this._doExecuteReader(e);let n,i=this._doExecuteReader(e),s=new Promise((o,a)=>{n=setTimeout(async()=>{de("Command timeout triggered");try{await this.cancel(),a(new Error("Command execution timeout"))}catch(l){a(new Error("Command execution timeout (Cancel failed: "+l.message+")"))}},r*1e3)});try{return await Promise.race([i,s])}catch(o){throw o.message&&o.message.includes("Command execution timeout")&&i.catch(()=>{}),o}finally{clearTimeout(n)}}async _doExecuteReader(e){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{de("Executing Reader:",e.commandText),this._preExecution(e.commandText);let r=this._responseGenerator(e),n=[],i=await r.next(),s=null,o=null;for(;!i.done;){let a=i.value;if(a.type==="RowDescription")n=a.columns;else if(a.type==="RowDescriptionStandard"){let l=a.desc;if(l&&l.numFields>0&&n.length===0){let c=e._preparedStatement;c&&c.description&&(n=c.description)}}else if(a.type==="DataRow"||a.type==="CommandComplete"||a.type==="ReadyForQuery"){if(!s&&n.length>0){o=a;break}}else a.type==="ErrorResponse"&&(s=new Error("Netezza Error: "+a.message));i=await r.next()}if(s)throw this._executing=!1,s;return new Y4(e,r,n,async()=>{this._executing=!1},o)}catch(r){throw this._executing=!1,r}}_preExecution(e){let r=Buffer.from(e,"utf8"),n=Buffer.allocUnsafe(5+r.length+1);n[0]=80,this._commandNumber!==-1?(this._commandNumber++,n.writeInt32BE(this._commandNumber,1)):(n[1]=255,n[2]=255,n[3]=255,n[4]=255),this._commandNumber>1e5&&(this._commandNumber=1),r.copy(n,5),n[5+r.length]=0,this._stream.write(n)}async*_responseGenerator(e){this._rows=[],this._rowDescription=null;let r=!1;for(;!r;){let n=await this._readByte();for(;n===0;)n=await this._readByte();if(n===117){await this._handleExternalTableExportStart();continue}if(n===85){await this._handleExternalTableExportData();continue}if(n===108){await this._handleExternalTableImport();continue}if(n===120){await this._readBytes(4),de("Error operation cancel (Ext Tbl)");continue}if(n===101){await this._readBytes(4);let s=mt.readInt32(await this._readBytes(4)),o=(await this._readBytes(s-1)).toString("utf8");await this._readBytes(1);let a=[],l=(await this._readBytes(1))[0];for(a.push(l);l=(await this._readBytes(1))[0],l!==0;)a.push(l);let c=mt.readInt32(await this._readBytes(4));await this._consumeExternalTableLogData();continue}let i=await this._readBytes(4);if(n===Mi.CommandComplete){let s=await this._readInt32(),o=await this._readBytes(s);de("CommandComplete:",o.toString("utf8")),yield{type:"CommandComplete",text:o.toString("utf8")};continue}if(n===Mi.ReadyForQuery){r=!0,yield{type:"ReadyForQuery"};continue}if(n===76){r=!0;continue}if(!(n===48||n===65)){if(n===80){let s=await this._readInt32();await this._readBytes(s);continue}if(n===Mi.ErrorResponse){let s=await this._readInt32();yield{type:"ErrorResponse",message:(await this._readBytes(s)).toString("utf8")};continue}if(n===Mi.RowDescription){let s=await this._readInt32(),o=await this._readBytes(s);this._parseRowDescription(o,e),yield{type:"RowDescription",columns:this._rowDescription};continue}if(n===Mi.DataRow){let s=await this._readInt32(),o=await this._readBytes(s);yield{type:"DataRow",row:this._parseDataRow(o)};continue}if(n===Mi.RowDescriptionStandard){let s=await this._readInt32(),o=await this._readBytes(s);this._tupdesc.parse(o,e._preparedStatement),yield{type:"RowDescriptionStandard",desc:this._tupdesc};continue}if(n===Mi.RowStandard){yield{type:"DataRow",row:await this._resReadDbosTuple(e)};continue}if(n===Mi.NoticeResponse){let s=await this._readInt32(),a=(await this._readBytes(s)).toString("utf8").replace(/\0/g,"").trim();this.emit("notice",{message:a});continue}de("Unknown message:","0x"+n.toString(16));try{let s=await this._readInt32();s>0&&s<1e7&&await this._readBytes(s)}catch{}}}}async _consumeExternalTableLogData(){for(;;){let e=await this._readBytes(4),r=mt.readInt32(e);if(r===0)return;let n=await this._readBytes(r);de("ExtLog Content:",n.toString("utf8"))}}async _handleExternalTableExportStart(){await this._readBytes(4),await this._readBytes(10),await this._readBytes(16);let e=mt.readInt32(await this._readBytes(4)),n=(await this._readBytes(e)).toString("utf8");de("ExternalTable Export Start. File:",n);try{this._exportStream=sg.createWriteStream(n),this._exportStream.on("error",s=>{de("Export Stream Error:",s)});let i=Buffer.alloc(4);await new Promise(s=>this._stream.write(i,s))}catch(i){de("Error opening export file:",i);let s=Buffer.alloc(4);mt.writeInt32(s,1,0),this._stream.write(s)}}async _handleExternalTableExportData(){de("Handle Export Data: Skipping 8 bytes...");let e=await this._readBytes(4);de("Skipped 4:",e.toString("hex"));let r=await this._readBytes(4);de("Skipped 4 (2):",r.toString("hex")),await this._consumeExternalTableData(this._exportStream),this._exportStream=null}async _consumeExternalTableData(e){for(de("Entering Consume Loop");;){de("Reading status...");let r=await this._readBytes(4),n=mt.readInt32(r);if(de("ExtTab Status:",n),n===_s.DATA){let i=mt.readInt32(await this._readBytes(4));de("Block Length:",i);let s=await this._readBytes(i);e&&e.write(s)}else if(n===_s.DONE){de("ExternalTable Data Done"),e&&await new Promise(i=>{if(de("Waiting for writeStream finish..."),e.writableFinished)return de("Stream already finished"),i();let s=setTimeout(()=>{de("Stream finish timeout! Destroying..."),e.destroy(),i()},5e3),o=()=>{de("Stream finished event"),clearTimeout(s),l(),i()},a=c=>{de("Stream error on end:",c),clearTimeout(s),l(),i()},l=()=>{e.removeListener("finish",o),e.removeListener("error",a)};e.on("finish",o),e.on("error",a),e.end()});return}else if(n===_s.ERROR){let i=mt.readInt16(await this._readBytes(2)),s=(await this._readBytes(i)).toString("utf8");de("ExternalTable Data Error:",s),e&&e.end();return}else{de("Unknown ExtTab Status:",n),e&&e.end();return}}}async _handleExternalTableImport(){await this._readBytes(8);let e=[],r=(await this._readBytes(1))[0];for(e.push(r);r!==0;)r=(await this._readBytes(1))[0],r!==0&&e.push(r);let n=Buffer.from(e).toString("utf8");de("ExternalTable Import Start. File:",n);let i=mt.readInt32(await this._readBytes(4));de("Host Version:",i);let s=Buffer.alloc(4);mt.writeInt32(s,1,0),await new Promise(c=>this._stream.write(s,c)),de("Sent Client Version");let o=mt.readInt32(await this._readBytes(4)),a=mt.readInt32(await this._readBytes(4));if(de("ExtTab Import Config:",{hostVersion:i,format:o,bufSize:a}),!sg.existsSync(n)){de("Import file not found:",n);let c=Buffer.alloc(4);mt.writeInt32(c,_s.ERROR,0),this._stream.write(c);return}let l=sg.createReadStream(n,{highWaterMark:a||65536});await new Promise((c,u)=>{l.on("data",d=>{let h=Buffer.alloc(8);mt.writeInt32(h,_s.DATA,0),mt.writeInt32(h,d.length,4),this._stream.write(h),this._stream.write(d)}),l.on("end",()=>{de("Import Stream End");let d=Buffer.alloc(4);mt.writeInt32(d,_s.DONE,0),this._stream.write(d),c()}),l.on("error",d=>{de("Import Stream Error:",d);let h=Buffer.alloc(4);mt.writeInt32(h,_s.ERROR,0),this._stream.write(h);let f=d.message||"Error",g=Buffer.alloc(2);g.writeInt16BE(f.length),this._stream.write(g),this._stream.write(Buffer.from(f,"utf8")),u(d)})})}_parseRowDescription(e,r){de("parseRowDescription data length:",e.length,"hex:",e.toString("hex").substring(0,100));let n=0;if(e.length<2){de("Data too short for row description");return}let i=e.readInt16BE(n);n+=2,de("Column count:",i),this._rowDescription=[];for(let s=0;s<i&&n<e.length;s++){let o=n;for(;n<e.length&&e[n]!==0;)n++;let a=e.toString("utf8",o,n);if(n++,n+11>e.length){de("Not enough data for column",s,"at offset",n,"need 11 more, have",e.length-n);break}let l=e.readInt32BE(n);n+=4;let c=e.readInt16BE(n);n+=2;let u=e.readInt32BE(n);n+=4;let d=e[n];n+=1,this._rowDescription.push({name:a,typeOid:l,typeLen:c,typeMod:u,format:d}),de("Column",s,":",a,"typeOid:",l,"typeLen:",c)}r&&(r._preparedStatement={description:this._rowDescription})}_parseDataRow(e){let r=this._rowDescription.length,i=Math.ceil(r/8),s=[];for(let o=0;o<r;o++){let a=e[Math.floor(o/8)],l=7-o%8;if(!((a&1<<l)!==0)){s.push(null);continue}let u=e.readInt32BE(i);i+=4;let d=u-4;if(d<=0){s.push(null);continue}let f=this._rowDescription[o]?.typeOid,g=e.toString("utf8",i,i+d);f===1083?s.push(Es.parseTimeString(g)):s.push(g),i+=d}return s}async _resReadDbosTuple(e){let r=this._tupdesc.numFields;await this._readBytes(4);let n=mt.readInt32(await this._readBytes(4)),i=await this._readBytes(n),s=new Array(r);for(let o=0;o<r;o++){if(this._columnIsNull(i,o)){s[o]=null;continue}let a=this._cTableFieldAt(i,o),l=this._tupdesc.fieldType[o],c=this._tupdesc.fieldSize[o];s[o]=this._parseFieldByType(a,l,c,o)}return s}_parseFieldByType(e,r,n,i){switch(r){case jt.NzTypeChar:return e.toString("latin1",0,n).trimEnd();case jt.NzTypeNChar:case jt.NzTypeNVarChar:{let s=e.readInt16LE(0)-2;return e.toString("utf8",2,2+s)}case jt.NzTypeVarChar:case jt.NzTypeVarFixedChar:{let s=e.readInt16LE(0)-2;return e.toString("latin1",2,2+s)}case jt.NzTypeInt8:return e.readBigInt64LE(0);case jt.NzTypeInt:return e.readInt32LE(0);case jt.NzTypeInt2:return e.readInt16LE(0);case jt.NzTypeInt1:return e.readInt8(0);case jt.NzTypeDouble:return e.readDoubleLE(0);case jt.NzTypeFloat:return e.readFloatLE(0);case jt.NzTypeDate:return Es.toDateTimeFrom4Bytes(e);case jt.NzTypeTime:return Es.timeRecvFloat(e);case jt.NzTypeInterval:return Es.intervalRecvFloat(e);case jt.NzTypeTimeTz:return Es.timetzOutput(e,n);case jt.NzTypeTimestamp:return Es.toDateTimeFrom8Bytes(e);case jt.NzTypeBool:return e[0]===1;case jt.NzTypeNumeric:{let s=this._tupdesc.getFieldPrecision(i),o=this._tupdesc.getFieldScale(i),a=this._tupdesc.getNumericDigitCount(i);return Es.getCsNumeric(e,s,o,a)}default:return e.toString("utf8",0,n)}}_columnIsNull(e,r){if(!this._tupdesc.nullsAllowed)return!1;let n=this._tupdesc.fieldPhysField[r];return(e[2+Math.floor(n/8)]&1<<n%8)!==0}_cTableFieldAt(e,r){if(this._tupdesc.fieldFixedSize[r]!==0)return e.slice(this._tupdesc.fieldOffset[r]);let n=e.slice(this._tupdesc.fixedFieldsSize);for(let i=0;i<this._tupdesc.fieldOffset[r];i++){let s=n.readInt16LE(0);n=n.slice(s%2===0?s:s+1)}return n}};xv.exports=og});var mf,Ss,ag=tn(()=>{"use strict";mf=Je(require("vscode")),Ss=class t{constructor(e){this.context=e;this._connections={};this._activeConnectionName=null;this._documentConnections=new Map;this._persistentConnections=new Map;this._keepConnectionOpen=!1;this._onDidChangeConnections=new mf.EventEmitter;this.onDidChangeConnections=this._onDidChangeConnections.event;this._onDidChangeActiveConnection=new mf.EventEmitter;this.onDidChangeActiveConnection=this._onDidChangeActiveConnection.event;this._onDidChangeDocumentConnection=new mf.EventEmitter;this.onDidChangeDocumentConnection=this._onDidChangeDocumentConnection.event;this._loadingPromise=this.loadConnections()}static{this.SERVICE_NAME="netezza-vscode-connections"}static{this.ACTIVE_CONN_KEY="netezza-active-connection"}async loadConnections(){this._activeConnectionName=this.context.globalState.get(t.ACTIVE_CONN_KEY)||null;let e=await this.context.secrets.get(t.SERVICE_NAME);if(e)try{this._connections=JSON.parse(e)}catch(r){console.error("Failed to parse connections:",r),this._connections={}}else{let r=await this.context.secrets.get("netezza-vscode");if(r)try{let n=JSON.parse(r);if(n&&n.host){let i=`Default (${n.host})`;this._connections={[i]:{...n,name:i}},this._activeConnectionName=i,await this.saveConnectionsToStorage()}}catch{}}this._onDidChangeConnections.fire()}async ensureLoaded(){await this._loadingPromise}async saveConnectionsToStorage(){await this.context.secrets.store(t.SERVICE_NAME,JSON.stringify(this._connections)),this._activeConnectionName?await this.context.globalState.update(t.ACTIVE_CONN_KEY,this._activeConnectionName):await this.context.globalState.update(t.ACTIVE_CONN_KEY,void 0)}async saveConnection(e){if(await this.ensureLoaded(),!e.name)throw new Error("Connection name is required");this._connections[e.name]=e,this._activeConnectionName||await this.setActiveConnection(e.name),await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}async deleteConnection(e){if(await this.ensureLoaded(),this._connections[e]){if(await this.closePersistentConnection(e),delete this._connections[e],this._activeConnectionName===e){let r=Object.keys(this._connections);await this.setActiveConnection(r.length>0?r[0]:null)}await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}}async getConnections(){return await this.ensureLoaded(),Object.values(this._connections)}async getConnection(e){return await this.ensureLoaded(),this._connections[e]}async setActiveConnection(e){await this.ensureLoaded(),this._activeConnectionName=e,await this.context.globalState.update(t.ACTIVE_CONN_KEY,e),this._onDidChangeActiveConnection.fire(e)}getActiveConnectionName(){return this._activeConnectionName}async getConnectionString(e){await this.ensureLoaded();let r=e||this._activeConnectionName;if(!r)return null;let n=this._connections[r];if(!n)return console.error(`[ConnectionManager] Connection '${r}' not found in registry. Available keys: ${Object.keys(this._connections).join(", ")}`),null;let i=n.dbType||"NetezzaSQL";return i==="NetezzaSQL"?`DRIVER={NetezzaSQL};SERVER=${n.host};PORT=${n.port};DATABASE=${n.database};UID=${n.user};PWD=${n.password};`:`DRIVER={${i}};SERVER=${n.host};PORT=${n.port};DATABASE=${n.database};UID=${n.user};PWD=${n.password};`}async getCurrentDatabase(e){await this.ensureLoaded();let r=e||this._activeConnectionName;return r&&this._connections[r]?.database||null}setKeepConnectionOpen(e){this._keepConnectionOpen=e,e||this.closeAllPersistentConnections()}getKeepConnectionOpen(){return this._keepConnectionOpen}async getPersistentConnection(e){let r=e||this._activeConnectionName;if(!r)throw new Error("No connection selected");if(!await this.getConnectionString(r))throw new Error(`Connection '${r}' not found or invalid`);let i=this._persistentConnections.get(r);if(!i){let s=bn(),o=this._connections[r],a={host:o.host,port:o.port||5480,database:o.database,user:o.user,password:o.password},l=new s(a);await l.connect(),i=l,this._persistentConnections.set(r,i)}return i}async closePersistentConnection(e){let r=this._persistentConnections.get(e);if(r){try{await r.close()}catch(n){console.error(`Error closing connection ${e}:`,n)}this._persistentConnections.delete(e)}}async closeAllPersistentConnections(){for(let e of this._persistentConnections.keys())await this.closePersistentConnection(e)}dispose(){this.closeAllPersistentConnections()}getDocumentConnection(e){return this._documentConnections.get(e)}setDocumentConnection(e,r){this._documentConnections.set(e,r),this._onDidChangeDocumentConnection.fire(e)}clearDocumentConnection(e){this._documentConnections.delete(e),this._onDidChangeDocumentConnection.fire(e)}getConnectionForExecution(e){if(e){let r=this._documentConnections.get(e);if(r)return r}return this._activeConnectionName||void 0}}});var Tv={};mn(Tv,{QueryHistoryManager:()=>wr});var vv,Ur,lg,wr,bf=tn(()=>{"use strict";vv=Je(require("vscode")),Ur=Je(require("fs")),lg=Je(require("path")),wr=class t{constructor(e){this.context=e;this.cache=[];this.initialized=!1;if(this.context.globalStorageUri){this.historyFilePath=vv.Uri.joinPath(this.context.globalStorageUri,"query-history.json").fsPath;try{Ur.existsSync(this.context.globalStorageUri.fsPath)||Ur.mkdirSync(this.context.globalStorageUri.fsPath,{recursive:!0})}catch(r){console.error("[QueryHistoryManager] Error creating storage directory:",r)}}this.initialize()}static{this.STORAGE_KEY="queryHistory"}static{this.MAX_ENTRIES=5e4}static{this.CLEANUP_KEEP=4e4}static{this.STORAGE_VERSION=1}async initialize(){try{let e=!1;if(this.historyFilePath&&Ur.existsSync(this.historyFilePath))try{let r=await Ur.promises.readFile(this.historyFilePath,"utf-8");if(!r||!r.trim())console.log("[QueryHistoryManager] File is empty, starting fresh"),this.cache=[],e=!0;else{let n=JSON.parse(r);n&&n.entries&&(this.cache=n.entries,e=!0)}}catch(r){console.warn("[QueryHistoryManager] Corrupted history file, resetting:",r),this.cache=[],e=!0;try{await this.saveToStorage(),console.log("[QueryHistoryManager] Reset corrupted file to empty state")}catch(n){console.error("[QueryHistoryManager] Failed to reset file:",n)}}if(!e){let r=this.context.globalState.get(t.STORAGE_KEY);r&&r.entries&&(this.cache=r.entries,console.log(`\u2705 Migrated ${this.cache.length} entries from globalState`),await this.saveToStorage(),await this.context.globalState.update(t.STORAGE_KEY,void 0))}!e&&this.cache.length===0&&await this.migrateFromLegacyStorage(),this.initialized=!0}catch(e){console.error("\u274C Error initializing query history:",e),this.cache=[],this.initialized=!0}}async migrateFromLegacyStorage(){try{let e=this.context.globalStorageUri.fsPath,r=lg.join(e,"query-history.db");Ur.existsSync(r)&&console.log("\u26A0\uFE0F SQLite database found but migration not implemented");let n=lg.join(e,"query-history-archive.json");if(Ur.existsSync(n))try{let i=Ur.readFileSync(n,"utf8");if(i.trim()){let s=JSON.parse(i);this.cache.push(...s),await this.saveToStorage(),console.log(`\u2705 Migrated archive with ${s.length} entries`)}}catch{}}catch(e){console.error("Error during migration:",e)}}async saveToStorage(){if(this.historyFilePath)try{let e={entries:this.cache,version:t.STORAGE_VERSION};await Ur.promises.writeFile(this.historyFilePath,JSON.stringify(e),"utf-8")}catch(e){console.error("Error saving to storage:",e)}}async addEntry(e,r,n,i,s,o,a){try{this.initialized||await this.initialize();let l=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,c=Date.now(),u={id:l,host:e,database:r,schema:n,query:i.trim(),timestamp:c,connectionName:s,is_favorite:!1,tags:o||"",description:a||""};this.cache.unshift(u),this.cache.length>t.MAX_ENTRIES&&(this.cache=this.cache.slice(0,t.CLEANUP_KEEP),console.log(`Cleaned up old entries, keeping ${t.CLEANUP_KEEP} newest`)),await this.saveToStorage()}catch(l){console.error("Error adding query to history:",l)}}async getHistory(){return this.initialized||await this.initialize(),[...this.cache]}async deleteEntry(e){try{this.cache=this.cache.filter(r=>r.id!==e),await this.saveToStorage()}catch(r){console.error("Error deleting entry:",r)}}async clearHistory(){try{this.cache=[],await this.saveToStorage(),console.log("All query history cleared")}catch(e){console.error("Error clearing history:",e)}}async getStats(){try{let e=this.cache.length,r=JSON.stringify(this.cache).length,n=parseFloat((r/(1024*1024)).toFixed(2));return{activeEntries:e,archivedEntries:0,totalEntries:e,activeFileSizeMB:n,archiveFileSizeMB:0,totalFileSizeMB:n}}catch(e){return console.error("Error getting stats:",e),{activeEntries:0,archivedEntries:0,totalEntries:0,activeFileSizeMB:0,archiveFileSizeMB:0,totalFileSizeMB:0}}}async toggleFavorite(e){try{let r=this.cache.find(n=>n.id===e);r&&(r.is_favorite=!r.is_favorite,await this.saveToStorage())}catch(r){console.error("Error toggling favorite:",r)}}async updateEntry(e,r,n){try{let i=this.cache.find(s=>s.id===e);i&&(r!==void 0&&(i.tags=r),n!==void 0&&(i.description=n),await this.saveToStorage())}catch(i){console.error("Error updating entry:",i)}}async getFavorites(){return this.initialized||await this.initialize(),this.cache.filter(e=>e.is_favorite)}async getByTag(e){return this.initialized||await this.initialize(),this.cache.filter(r=>r.tags?.toLowerCase().includes(e.toLowerCase()))}async getAllTags(){this.initialized||await this.initialize();let e=new Set;return this.cache.forEach(r=>{r.tags&&r.tags.split(",").forEach(i=>{let s=i.trim();s&&e.add(s)})}),Array.from(e).sort()}async searchAll(e){this.initialized||await this.initialize();let r=e.toLowerCase();return this.cache.filter(n=>n.query.toLowerCase().includes(r)||n.host.toLowerCase().includes(r)||n.database.toLowerCase().includes(r)||n.schema.toLowerCase().includes(r)||n.tags?.toLowerCase().includes(r)||n.description?.toLowerCase().includes(r))}async getFilteredHistory(e,r,n,i){this.initialized||await this.initialize();let s=this.cache.filter(o=>!(e&&o.host!==e||r&&o.database!==r||n&&o.schema!==n));return i&&(s=s.slice(0,i)),s}async getArchivedHistory(){return[]}async clearArchive(){}close(){console.log("Query history manager closed")}}});async function Rv(){let t=Wr.window.activeTextEditor;if(!t){Wr.window.showWarningMessage("No active editor to cancel query for.");return}let e=t.document.uri.toString(),r=Nl.get(e);if(r)try{await r.cancel(),Wr.window.showInformationMessage("Cancellation request sent.")}catch(n){Wr.window.showErrorMessage(`Failed to cancel query: ${n.message}`)}else Wr.window.showInformationMessage("No active query found for this tab.")}function Av(t){let e=new Set;if(!t)return e;for(let r of t.matchAll(/\$\{([A-Za-z0-9_]+)\}/g))r[1]&&e.add(r[1]);return e}function Cv(t){if(!t)return{sql:"",setValues:{}};let e=t.split(/\r?\n/),r=[],n={};for(let i of e){let s=i.match(/^\s*@SET\s+([A-Za-z0-9_]+)\s*=\s*(.+)$/i);if(s){let o=s[2].trim();o.endsWith(";")&&(o=o.slice(0,-1).trim());let a=o.match(/^'(.*)'$/s)||o.match(/^"(.*)"$/s);a&&(o=a[1]),n[s[1]]=o}else r.push(i)}return{sql:r.join(`
`),setValues:n}}async function Iv(t,e,r){let n={};if(t.size===0)return n;if(e){let s=Array.from(t).filter(o=>!(r&&r[o]!==void 0));if(s.length>0)throw new Error("Query contains variables but silent mode is enabled; cannot prompt for values. Missing: "+s.join(", "));for(let o of t)n[o]=r[o];return n}let i=[];for(let s of t)r&&r[s]!==void 0?n[s]=r[s]:i.push(s);for(let s of i){let o=await Wr.window.showInputBox({prompt:`Enter value for ${s}`,placeHolder:"",value:r&&r[s]?r[s]:void 0,ignoreFocusOut:!0});if(o===void 0)throw new Error("Variable input cancelled by user");n[s]=o}return n}function Nv(t,e){return t.replace(/\$\{([A-Za-z0-9_]+)\}/g,(r,n)=>e[n]??"")}async function K4(t,e,r=!1,n,i,s,o){let a=n||new Ss(t),l=a.getKeepConnectionOpen(),c;if(!r&&!o&&(c=Wr.window.createOutputChannel("Netezza SQL"),c.show(!0),c.appendLine("Executing query...")),o&&o("Executing query..."),i){let u=`Target Connection: ${i}`;c&&c.appendLine(u),o&&o(u)}try{let u=Cv(e),d=u.sql,h=u.setValues,f=Av(d);if(f.size>0){let v=await Iv(f,r,h);d=Nv(d,v)}let g,p=!0,m="",y=i;if(!y&&s&&(y=a.getConnectionForExecution(s)),y||(y=a.getActiveConnectionName()||void 0),!y)throw new Error("No connection selected");if(l)g=await a.getPersistentConnection(y),p=!1;else{let v=bn(),b=await a.getConnection(y);if(!b)throw new Error(`Connection '${y}' not found`);let w={host:b.host,port:b.port||5480,database:b.database,user:b.user,password:b.password};g=new v(w),await g.connect()}c&&g.on("notice",v=>{c.appendLine(`NOTICE: ${v.message}`)});try{let b=Wr.workspace.getConfiguration("netezza").get("queryTimeout",1800),w=g.createCommand(d);w.commandTimeout=b,s&&Nl.set(s,w);try{let I=await w.executeReader(),O=[],A=[],k,N=2e5,L=0,M=!1;for(;await I.read();){if(O.length===0)for(let te=0;te<I.fieldCount;te++)O.push({name:I.getName(te),type:I.getTypeName(te)});let Q=[];for(let te=0;te<I.fieldCount;te++)Q.push(I.getValue(te));if(A.push(Q),L++,L>=N){M=!0;break}}let Y="unknown",G=await a.getConnection(y);return G&&new wr(t).addEntry(G.host,G.database,Y,e,y).catch(te=>console.error("History log error:",te)),O.length>0?(c&&c.appendLine("Query completed."),{columns:O,data:A,rowsAffected:k,limitReached:M,sql:d}):(c&&c.appendLine("Query executed successfully (no results)."),{columns:[],data:[],rowsAffected:k,message:"Query executed successfully (no results).",sql:d})}finally{s&&Nl.delete(s)}}finally{p&&await g.close()}}catch(u){let d=`Error: ${u.message||u}`;throw c&&c.appendLine(d),o&&o(d),new Error(d)}}async function Ee(t,e,r=!1,n,i,s){try{let o=await K4(t,e,r,i,n,s);if(o.data&&o.data.length>0){let a=o.data.map(c=>{let u={};return o.columns.forEach((d,h)=>{u[d.name]=c[h]}),u});return JSON.stringify(a,(c,u)=>typeof u=="bigint"?u>=Number.MIN_SAFE_INTEGER&&u<=Number.MAX_SAFE_INTEGER?Number(u):u.toString():u,2)}else if(o.message)return o.message;return}catch(o){throw o}}async function Dl(t,e,r,n,i,s){let o=r||new Ss(t),a=o.getKeepConnectionOpen(),l;i||(l=Wr.window.createOutputChannel("Netezza SQL"),l.show(!0),l.appendLine(`Executing ${e.length} queries sequentially...`));let c=[],u=r?r.getConnectionForExecution(n):void 0;if(u||(u=o.getActiveConnectionName()||void 0),!u)throw l&&l.appendLine("Error: No connection selected"),i&&i("Error: No connection selected"),new Error("No connection selected");try{let d,h=!0,f=await o.getConnection(u);if(!f)throw new Error(`Connection '${u}' not found`);if(a)d=await o.getPersistentConnection(u),h=!1;else{let g=bn(),p={host:f.host,port:f.port||5480,database:f.database,user:f.user,password:f.password};d=new g(p),await d.connect()}d.on("notice",g=>{l&&l.appendLine(`NOTICE: ${g.message}`),i&&i(`NOTICE: ${g.message}`)});try{let g="unknown";try{let v=await d.createCommand("SELECT CURRENT_SID").executeReader();if(await v.read()){let b=v.getValue(0);b!==void 0&&i&&i(`Connected. Session ID: ${b}`)}await v.close()}catch(y){console.debug("Could not retrieve session ID:",y),i&&i("Connected.")}let p=new wr(t),m=u;for(let y=0;y<e.length;y++){let v=e[y],b=`Executing query ${y+1}/${e.length}...`;l&&l.appendLine(b),i&&i(b);try{let w=Cv(v),I=w.sql,O=w.setValues,A=Av(I);if(A.size>0){let Q=await Iv(A,!1,O);I=Nv(I,Q)}let N=Wr.workspace.getConfiguration("netezza").get("queryTimeout",1800),L=Date.now(),{results:M,error:Y}=await X4(d,I,2e5,N,n),G=Date.now()-L;if(i&&i(`Executed query ${y+1}/${e.length} in ${G}ms`),p.addEntry(f.host,f.database,g,v,m).catch(Q=>{console.error("Failed to log query to history:",Q)}),M&&M.length>0)for(let Q of M)if(Q&&Q.columns){let te=Q.columns;c.push({columns:te,data:Q,rowsAffected:Q.count,limitReached:Q.limitReached,sql:I})}else c.push({columns:[],data:[],rowsAffected:Q?.count,message:"Query executed successfully",sql:I});if(s&&M&&M.length>0){let Q=[];for(let te of M)te&&te.columns?Q.push({columns:te.columns,data:te,rowsAffected:te.count,limitReached:te.limitReached,sql:I}):Q.push({columns:[],data:[],rowsAffected:te?.count,message:"Query executed successfully",sql:I});s(Q)}if(Y)throw Y}catch(w){let I=`Error: ${w.message}`;throw l&&l.appendLine(`Error in query ${y+1}: ${I}`),new Error(I)}}l&&l.appendLine("All queries completed.")}finally{h&&await d.close()}}catch(d){let h=`Error: ${d.message}`;throw l&&l.appendLine(h),i&&i(h),new Error(h)}return c}async function X4(t,e,r,n,i){let s=t.createCommand(e);n&&n>0&&(s.commandTimeout=n),i&&Nl.set(i,s);try{let o=await s.executeReader(),a=[],l=!0,c;try{do{let u=[],d=[],h=0,f=!1;for(;await o.read();){if(u.length===0)for(let g=0;g<o.fieldCount;g++)u.push({name:o.getName(g),type:o.getTypeName(g)});if(h<r){let g=[];for(let p=0;p<o.fieldCount;p++)g.push(o.getValue(p));d.push(g),h++}if(h>=r){f=!0;break}}u.length>0&&(d.columns=u),f&&(d.limitReached=!0),a.push(d),l=await o.nextResult()}while(l)}catch(u){c=u}return{results:a,error:c}}finally{i&&Nl.delete(i)}}var Wr,Nl,$o=tn(()=>{"use strict";Wr=Je(require("vscode"));ag();bf();Nl=new Map});var _f={};mn(_f,{SchemaItem:()=>_r,SchemaProvider:()=>Ol});var xe,Ol,_r,Ll=tn(()=>{"use strict";xe=Je(require("vscode"));$o();Ol=class{constructor(e,r,n){this.context=e;this.connectionManager=r;this.metadataCache=n;this._onDidChangeTreeData=new xe.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.connectionManager.onDidChangeConnections(()=>this.refresh())}refresh(){this._onDidChangeTreeData.fire()}triggerDatabasePrefetch(e,r){this.metadataCache.hasConnectionPrefetchTriggered(e)||(console.log(`[SchemaProvider] Triggering connection prefetch for: ${e}`),this.metadataCache.triggerConnectionPrefetch(e,async n=>{try{return await Ee(this.context,n,!0,e,this.connectionManager)}catch(i){console.error("[SchemaProvider] Prefetch query error:",i);return}}))}getTreeItem(e){return e}getParent(e){if(e.contextValue!=="serverInstance"){if(e.contextValue==="database")return new _r(e.connectionName,xe.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,e.connectionName,void 0);if(e.contextValue.startsWith("typeGroup"))return new _r(e.dbName,xe.TreeItemCollapsibleState.Collapsed,"database",e.dbName,void 0,void 0,void 0,void 0,e.connectionName);if(e.contextValue.startsWith("netezza:"))return new _r(e.objType,xe.TreeItemCollapsibleState.Collapsed,`typeGroup:${e.objType}`,e.dbName,e.objType,void 0,void 0,void 0,e.connectionName)}}async getChildren(e){if(e){if(e.contextValue==="serverInstance"){if(!e.connectionName)return[];let r=this.metadataCache.getDatabases(e.connectionName);if(r)return r.map(n=>new _r(n.label||n.DATABASE,xe.TreeItemCollapsibleState.Collapsed,"database",n.label||n.DATABASE,void 0,void 0,void 0,void 0,e.connectionName));try{let n=await Ee(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e.connectionName,this.connectionManager);if(!n)return[];let i=JSON.parse(n),s=i.map(o=>({label:o.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e.connectionName,s),i.map(o=>new _r(o.DATABASE,xe.TreeItemCollapsibleState.Collapsed,"database",o.DATABASE,void 0,void 0,void 0,void 0,e.connectionName))}catch(n){return xe.window.showErrorMessage(`Failed to load databases for ${e.connectionName}: ${n}`),[]}}else if(e.contextValue==="database"){if(e.connectionName&&e.dbName&&this.triggerDatabasePrefetch(e.connectionName,e.dbName),e.connectionName&&e.dbName){let r=this.metadataCache.getTypeGroups(e.connectionName,e.dbName);if(r&&r.length>0)return r.map(n=>new _r(n,xe.TreeItemCollapsibleState.Collapsed,`typeGroup:${n}`,e.dbName,n,void 0,void 0,void 0,e.connectionName))}try{let r=`SELECT DISTINCT OBJTYPE FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' ORDER BY OBJTYPE`,n=await Ee(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName){let s=i.map(o=>o.OBJTYPE);this.metadataCache.setTypeGroups(e.connectionName,e.dbName,s)}return i.map(s=>new _r(s.OBJTYPE,xe.TreeItemCollapsibleState.Collapsed,`typeGroup:${s.OBJTYPE}`,e.dbName,s.OBJTYPE,void 0,void 0,void 0,e.connectionName))}catch(r){return xe.window.showErrorMessage("Failed to load object types: "+r),[]}}else if(e.contextValue.startsWith("typeGroup")){if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW"||e.objType==="EXTERNAL TABLE")){let r=this.metadataCache.getObjectsWithSchema(e.connectionName,e.dbName);if(r&&r.length>0){let n=e.objType,i=r.filter(s=>{let o=s.item;return o.objType?o.objType===n:n==="VIEW"?o.kind===18:n==="TABLE"?o.kind!==18&&o.detail!=="EXTERNAL TABLE":n==="EXTERNAL TABLE"?o.detail==="EXTERNAL TABLE"||o.detail?.startsWith("EXTERNAL TABLE"):!1});if(i.length>0)return i.map(s=>new _r(typeof s.item.label=="string"?s.item.label:s.item.label?.label||"unknown",xe.TreeItemCollapsibleState.Collapsed,`netezza:${e.objType}`,e.dbName,e.objType,s.schema,s.objId,void 0,e.connectionName))}}try{let r;e.objType==="PROCEDURE"?r=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA, OBJID::INT AS OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_PROCEDURE WHERE DATABASE = '${e.dbName}' ORDER BY PROCEDURESIGNATURE`:r=`SELECT OBJNAME, SCHEMA, OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' AND OBJTYPE = '${e.objType}' ORDER BY OBJNAME`;let n=await Ee(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW")){let s=new Map;for(let o of i){let a=o.SCHEMA?`${e.dbName}.${o.SCHEMA}`:`${e.dbName}..`;s.has(a)||s.set(a,{tables:[],idMap:new Map});let l=s.get(a);l.tables.push({label:o.OBJNAME,kind:e.objType==="VIEW"?18:7,detail:o.SCHEMA?e.objType:`${e.objType} (${o.SCHEMA})`,sortText:o.OBJNAME});let c=o.SCHEMA?`${e.dbName}.${o.SCHEMA}.${o.OBJNAME}`:`${e.dbName}..${o.OBJNAME}`;l.idMap.set(c,o.OBJID)}for(let[o,a]of s);}return i.map(s=>{let a=["TABLE","VIEW","EXTERNAL TABLE","SYSTEM VIEW","SYSTEM TABLE"].includes(e.objType||"");return new _r(s.OBJNAME,a?xe.TreeItemCollapsibleState.Collapsed:xe.TreeItemCollapsibleState.None,`netezza:${e.objType}`,e.dbName,e.objType,s.SCHEMA,s.OBJID,s.DESCRIPTION,e.connectionName)})}catch(r){return xe.window.showErrorMessage("Failed to load objects: "+r),[]}}else if(e.contextValue.startsWith("netezza:")){let r=e.label,n=e.schema,i=e.dbName;if(e.connectionName&&i){let s=`${i}.${n||""}.${r}`,o=this.metadataCache.getColumns(e.connectionName,s);if(o)return o.map(a=>new _r(a.detail?`${a.label} (${a.detail})`:a.label,xe.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,a.documentation||"",e.connectionName,r))}if(!e.connectionName||!i)return[];try{let s;if(e.objId)s=`SELECT 
                            X.ATTNAME
                            , X.FORMAT_TYPE
                            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
                            , X.COLDEFAULT
                            , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
                        FROM
                            ${i}.._V_RELATION_COLUMN X
                        WHERE
                            X.OBJID = ${e.objId}
                        ORDER BY 
                            X.ATTNUM`;else{let u=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"";s=`SELECT 
                            X.ATTNAME
                            , X.FORMAT_TYPE
                            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
                            , X.COLDEFAULT
                            , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
                        FROM
                            ${i}.._V_RELATION_COLUMN X
                        INNER JOIN
                            ${i}.._V_OBJECT_DATA O ON X.OBJID = O.OBJID
                        WHERE
                            UPPER(O.OBJNAME) = UPPER('${r}')
                            AND UPPER(O.DBNAME) = UPPER('${i}')
                            ${u}
                        ORDER BY 
                            X.ATTNUM`}let o=await Ee(this.context,s,!0,e.connectionName,this.connectionManager),a=JSON.parse(o||"[]"),l=`${i}.${n||""}.${r}`,c=a.map(u=>({label:u.ATTNAME,kind:5,detail:u.FORMAT_TYPE,documentation:u.DESCRIPTION}));return this.metadataCache.setColumns(e.connectionName,l,c),a.map(u=>new _r(`${u.ATTNAME} (${u.FORMAT_TYPE})`,xe.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,u.DESCRIPTION,e.connectionName,r))}catch(s){return xe.window.showErrorMessage("Failed to load columns: "+s),[]}}}else{let r=await this.connectionManager.getConnections(),n=xe.Uri.file(this.context.asAbsolutePath("netezza_icon64.png"));return r.map(i=>new _r(i.name,xe.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,i.name,void 0,n))}return[]}},_r=class extends xe.TreeItem{constructor(r,n,i,s,o,a,l,c,u,d,h){super(r,n);this.label=r;this.collapsibleState=n;this.contextValue=i;this.dbName=s;this.objType=o;this.schema=a;this.objId=l;this.objectDescription=c;this.connectionName=u;this.parentName=d;let f=this.label;u&&(f+=`
[Server: ${u}]`),c&&c.trim()&&(f+=`

${c.trim()}`),a&&i.startsWith("netezza:")&&(f+=`

Schema: ${a}`),this.tooltip=f,this.description=a?`(${a})`:"";let g=[u||"global",i,s||"",a||"",o||"",d||"",r];this.id=g.join("|"),h?this.iconPath=h:i==="serverInstance"?this.iconPath=new xe.ThemeIcon("server"):i==="database"?this.iconPath=new xe.ThemeIcon("database"):i.startsWith("typeGroup")?this.iconPath=new xe.ThemeIcon("folder"):i.startsWith("netezza:")?this.iconPath=this.getIconForType(o):i==="column"&&(this.iconPath=new xe.ThemeIcon("symbol-field"))}getIconForType(r){switch(r){case"TABLE":return new xe.ThemeIcon("table");case"VIEW":return new xe.ThemeIcon("eye");case"PROCEDURE":return new xe.ThemeIcon("gear");case"FUNCTION":return new xe.ThemeIcon("symbol-function");case"AGGREGATE":return new xe.ThemeIcon("symbol-operator");case"EXTERNAL TABLE":return new xe.ThemeIcon("server");default:return new xe.ThemeIcon("file")}}}});var Dv={};mn(Dv,{SqlParser:()=>wn});var wn,xf=tn(()=>{"use strict";wn=class{static splitStatements(e){let r=[],n="",i=!1,s=!1,o=!1,a=!1,l=0;for(;l<e.length;){let c=e[l],u=l+1<e.length?e[l+1]:"";if(o)c===`
`&&(o=!1);else if(a){if(c==="*"&&u==="/"){a=!1,n+=c+u,l++,l++;continue}}else if(i)c==="'"&&e[l-1]!=="\\"&&(i=!1);else if(s)c==='"'&&e[l-1]!=="\\"&&(s=!1);else if(c==="-"&&u==="-")o=!0;else if(c==="/"&&u==="*")a=!0;else if(c==="'")i=!0;else if(c==='"')s=!0;else if(c===";"){n.trim()&&r.push(n.trim()),n="",l++;continue}n+=c,l++}return n.trim()&&r.push(n.trim()),r}static getStatementAtPosition(e,r){let n=0,i=e.length,s=!1,o=!1,a=!1,l=!1,c=-1;for(let d=0;d<r;d++){let h=e[d],f=d+1<e.length?e[d+1]:"";a?h===`
`&&(a=!1):l?h==="*"&&f==="/"&&(l=!1,d++):s?h==="'"&&e[d-1]!=="\\"&&(s=!1):o?h==='"'&&e[d-1]!=="\\"&&(o=!1):h==="-"&&f==="-"?a=!0:h==="/"&&f==="*"?l=!0:h==="'"?s=!0:h==='"'?o=!0:h===";"&&(c=d)}n=c+1,s=!1,o=!1,a=!1,l=!1;for(let d=n;d<e.length;d++){let h=e[d],f=d+1<e.length?e[d+1]:"";if(a)h===`
`&&(a=!1);else if(l)h==="*"&&f==="/"&&(l=!1,d++);else if(s)h==="'"&&e[d-1]!=="\\"&&(s=!1);else if(o)h==='"'&&e[d-1]!=="\\"&&(o=!1);else if(h==="-"&&f==="-")a=!0;else if(h==="/"&&f==="*")l=!0;else if(h==="'")s=!0;else if(h==='"')o=!0;else if(h===";"){i=d;break}}let u=e.substring(n,i).trim();return u?{sql:u,start:n,end:i}:null}static getObjectAtPosition(e,r){let n=c=>/[a-zA-Z0-9_."]/i.test(c),i=r;for(;i>0&&n(e[i-1]);)i--;let s=r;for(;s<e.length&&n(e[s]);)s++;let o=e.substring(i,s);if(!o)return null;let a=c=>c?c.replace(/"/g,""):void 0;if(o.includes("..")){let c=o.split("..");if(c.length===2)return{database:a(c[0]),name:a(c[1])}}let l=o.split(".");return l.length===1?{name:a(l[0])}:l.length===2?{schema:a(l[0]),name:a(l[1])}:l.length===3?{database:a(l[0]),schema:a(l[1]),name:a(l[2])}:null}}});var Ov={};mn(Ov,{generateDDL:()=>lj,getColumns:()=>kl,getDistributionInfo:()=>Nf,getKeysInfo:()=>Of,getOrganizeInfo:()=>Df,getTableComment:()=>Lf,getTableOwner:()=>cg,quoteNameIfNeeded:()=>ve});async function rn(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function ve(t){return!t||/^[A-Z_][A-Z0-9_]*$/i.test(t)&&t===t.toUpperCase()?t:`"${t.replace(/"/g,'""')}"`}async function kl(t,e,r,n){let i=`
        SELECT 
            X.OBJID::INT AS OBJID
            , X.ATTNAME
            , X.DESCRIPTION
            , X.FORMAT_TYPE AS FULL_TYPE
            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
            , X.COLDEFAULT
        FROM
            ${e.toUpperCase()}.._V_RELATION_COLUMN X
        INNER JOIN
            ${e.toUpperCase()}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
        WHERE
            X.TYPE IN ('TABLE','VIEW','EXTERNAL TABLE', 'SEQUENCE','SYSTEM VIEW','SYSTEM TABLE')
            AND X.OBJID NOT IN (4,5)
            AND D.SCHEMA = '${r.toUpperCase()}'
            AND D.OBJNAME = '${n.toUpperCase()}'
        ORDER BY 
            X.OBJID, X.ATTNUM
    `,s=await rn(t,i),o=[];for(let a of s){let l=!1,c=a.ATTNOTNULL;if(typeof c=="boolean")l=c;else if(typeof c=="number")l=c!==0;else if(typeof c=="string"){let u=c.trim().toLowerCase();l=u==="t"||u==="true"||u==="1"||u==="yes"}o.push({name:a.ATTNAME,description:a.DESCRIPTION||null,fullTypeName:a.FULL_TYPE,notNull:l,defaultValue:a.COLDEFAULT||null})}return o}async function Nf(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_DIST_MAP
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY DISTSEQNO
        `;return(await rn(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function Df(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_ORGANIZE_COLUMN
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY ORGSEQNO
        `;return(await rn(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function Of(t,e,r,n){let i=`
        SELECT 
            X.SCHEMA
            , X.RELATION
            , X.CONSTRAINTNAME
            , X.CONTYPE
            , X.ATTNAME
            , X.PKDATABASE
            , X.PKSCHEMA
            , X.PKRELATION
            , X.PKATTNAME
            , X.UPDT_TYPE
            , X.DEL_TYPE
        FROM 
            ${e.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.OBJID NOT IN (4,5)
            AND X.SCHEMA = '${r.toUpperCase()}'
            AND X.RELATION = '${n.toUpperCase()}'
        ORDER BY
            X.SCHEMA, X.RELATION, X.CONSEQ
    `,s=new Map;try{let o=await rn(t,i);for(let a of o){let l=a.CONSTRAINTNAME;if(!s.has(l)){let u={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};s.set(l,{type:u[a.CONTYPE]||"UNKNOWN",typeChar:a.CONTYPE,columns:[],pkDatabase:a.PKDATABASE||null,pkSchema:a.PKSCHEMA||null,pkRelation:a.PKRELATION||null,pkColumns:[],updateType:a.UPDT_TYPE||"NO ACTION",deleteType:a.DEL_TYPE||"NO ACTION"})}let c=s.get(l);c.columns.push(a.ATTNAME),a.PKATTNAME&&c.pkColumns.push(a.PKATTNAME)}}catch(o){console.warn("Cannot retrieve keys info:",o)}return s}async function Lf(t,e,r,n){try{let i=`
            SELECT DESCRIPTION
            FROM ${e.toUpperCase()}.._V_OBJECT_DATA
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND OBJNAME = '${n.toUpperCase()}'
                AND OBJTYPE = 'TABLE'
        `,s=await rn(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{try{let i=`
                SELECT DESCRIPTION
                FROM ${e.toUpperCase()}.._V_OBJECT_DATA
                WHERE SCHEMA = '${r.toUpperCase()}'
                    AND OBJNAME = '${n.toUpperCase()}'
            `,s=await rn(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{}}return null}async function cg(t,e,r,n){try{let i=`
            SELECT OWNER
            FROM ${e.toUpperCase()}.._V_TABLE
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
        `,s=await rn(t,i);if(s.length>0&&s[0].OWNER)return s[0].OWNER}catch{}return null}async function tj(t,e,r,n){let i=await kl(t,e,r,n);if(i.length===0)throw new Error(`Table ${e}.${r}.${n} not found or has no columns`);let s=await Nf(t,e,r,n),o=await Df(t,e,r,n),a=await Of(t,e,r,n),l=await Lf(t,e,r,n),c=ve(e),u=ve(r),d=ve(n),h=[];h.push(`CREATE TABLE ${c}.${u}.${d}`),h.push("(");let f=[];for(let g of i){let m=`    ${ve(g.name)} ${g.fullTypeName}`;g.notNull&&(m+=" NOT NULL"),g.defaultValue!==null&&(m+=` DEFAULT ${g.defaultValue}`),f.push(m)}if(h.push(f.join(`,
`)),s.length>0){let g=s.map(p=>ve(p));h.push(`)
DISTRIBUTE ON (${g.join(", ")})`)}else h.push(`)
DISTRIBUTE ON RANDOM`);if(o.length>0){let g=o.map(p=>ve(p));h.push(`ORGANIZE ON (${g.join(", ")})`)}h.push(";"),h.push("");for(let[g,p]of a){let m=ve(g),y=p.columns.map(v=>ve(v));if(p.typeChar==="f"){let v=p.pkColumns.filter(b=>b).map(b=>ve(b));v.length>0&&h.push(`ALTER TABLE ${c}.${u}.${d} ADD CONSTRAINT ${m} ${p.type} (${y.join(", ")}) REFERENCES ${p.pkDatabase}.${p.pkSchema}.${p.pkRelation} (${v.join(", ")}) ON DELETE ${p.deleteType} ON UPDATE ${p.updateType};`)}else(p.typeChar==="p"||p.typeChar==="u")&&h.push(`ALTER TABLE ${c}.${u}.${d} ADD CONSTRAINT ${m} ${p.type} (${y.join(", ")});`)}if(l){let g=l.replace(/'/g,"''");h.push(""),h.push(`COMMENT ON TABLE ${c}.${u}.${d} IS '${g}';`)}for(let g of i)if(g.description){let p=ve(g.name),m=g.description.replace(/'/g,"''");h.push(`COMMENT ON COLUMN ${c}.${u}.${d}.${p} IS '${m}';`)}return h.join(`
`)}async function rj(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            VIEWNAME,
            DEFINITION,
            OBJID::INT
        FROM ${e.toUpperCase()}.._V_VIEW
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND VIEWNAME = '${n.toUpperCase()}'
    `,o=await rn(t,i);if(o.length===0)throw new Error(`View ${e}.${r}.${n} not found`);let a=o[0],l=ve(e),c=ve(r),u=ve(n),d=[];return d.push(`CREATE OR REPLACE VIEW ${l}.${c}.${u} AS`),d.push(a.DEFINITION||""),d.join(`
`)}function nj(t){if(!t)return t;let e=t.trim().toUpperCase();return e==="CHARACTER VARYING"?"CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER VARYING"?"NATIONAL CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER"?"NATIONAL CHARACTER(ANY)":e==="CHARACTER"?"CHARACTER(ANY)":t}async function ij(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            OBJID::INT,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS,
            NULL AS LANGUAGE
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
        ORDER BY 1, 2, 3
    `,o=await rn(t,i);if(o.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,procedureSource:a.PROCEDURESOURCE,objId:a.OBJID,returns:nj(a.RETURNS),executeAsOwner:!!a.EXECUTEDASOWNER,description:a.DESCRIPTION||null,procedureSignature:a.PROCEDURESIGNATURE,procedureName:a.PROCEDURE,arguments:a.ARGUMENTS||null},c=ve(e),u=ve(r),d=ve(l.procedureName),h=[],f=`CREATE OR REPLACE PROCEDURE ${c}.${u}.${d}`;if(l.arguments){let g=l.arguments.trim();g.startsWith("(")&&g.endsWith(")")?f+=g:f+=`(${g})`}else f+="()";if(h.push(f),h.push(`RETURNS ${l.returns}`),l.executeAsOwner?h.push("EXECUTE AS OWNER"):h.push("EXECUTE AS CALLER"),h.push("LANGUAGE NZPLSQL AS"),h.push("BEGIN_PROC"),h.push(l.procedureSource),h.push("END_PROC;"),l.description){let g=l.description.replace(/'/g,"''");h.push(`COMMENT ON PROCEDURE ${d} IS '${g}';`)}return h.join(`
`)}async function sj(t,e,r,n){let i=`
        SELECT 
            E1.SCHEMA,
            E1.TABLENAME,
            E2.EXTOBJNAME,
            E2.OBJID::INT,
            E1.DELIM,
            E1.ENCODING,
            E1.TIMESTYLE,
            E1.REMOTESOURCE,
            E1.SKIPROWS,
            E1.MAXERRORS,
            E1.ESCAPE,
            E1.LOGDIR,
            E1.DECIMALDELIM,
            E1.QUOTEDVALUE,
            E1.NULLVALUE,
            E1.CRINSTRING,
            E1.TRUNCSTRING,
            E1.CTRLCHARS,
            E1.IGNOREZERO,
            E1.TIMEEXTRAZEROS,
            E1.Y2BASE,
            E1.FILLRECORD,
            E1.COMPRESS,
            E1.INCLUDEHEADER,
            E1.LFINSTRING,
            E1.DATESTYLE,
            E1.DATEDELIM,
            E1.TIMEDELIM,
            E1.BOOLSTYLE,
            E1.FORMAT,
            E1.SOCKETBUFSIZE,
            E1.RECORDDELIM,
            E1.MAXROWS,
            E1.REQUIREQUOTES,
            E1.RECORDLENGTH,
            E1.DATETIMEDELIM,
            E1.REJECTFILE
        FROM 
            ${e.toUpperCase()}.._V_EXTERNAL E1
            JOIN ${e.toUpperCase()}.._V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE
                AND E1.SCHEMA = E2.SCHEMA
                AND E1.TABLENAME = E2.TABLENAME
        WHERE 
            E1.DATABASE = '${e.toUpperCase()}'
            AND E1.SCHEMA = '${r.toUpperCase()}'
            AND E1.TABLENAME = '${n.toUpperCase()}'
    `,o=await rn(t,i);if(o.length===0)throw new Error(`External table ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,tableName:a.TABLENAME,dataObject:a.EXTOBJNAME||null,delimiter:a.DELIM||null,encoding:a.ENCODING||null,timeStyle:a.TIMESTYLE||null,remoteSource:a.REMOTESOURCE||null,skipRows:a.SKIPROWS||null,maxErrors:a.MAXERRORS||null,escapeChar:a.ESCAPE||null,logDir:a.LOGDIR||null,decimalDelim:a.DECIMALDELIM||null,quotedValue:a.QUOTEDVALUE||null,nullValue:a.NULLVALUE||null,crInString:a.CRINSTRING??null,truncString:a.TRUNCSTRING??null,ctrlChars:a.CTRLCHARS??null,ignoreZero:a.IGNOREZERO??null,timeExtraZeros:a.TIMEEXTRAZEROS??null,y2Base:a.Y2BASE||null,fillRecord:a.FILLRECORD??null,compress:a.COMPRESS||null,includeHeader:a.INCLUDEHEADER??null,lfInString:a.LFINSTRING??null,dateStyle:a.DATESTYLE||null,dateDelim:a.DATEDELIM||null,timeDelim:a.TIMEDELIM||null,boolStyle:a.BOOLSTYLE||null,format:a.FORMAT||null,socketBufSize:a.SOCKETBUFSIZE||null,recordDelim:a.RECORDDELIM?String(a.RECORDDELIM).replace(/\r/g,"\\r").replace(/\n/g,"\\n"):null,maxRows:a.MAXROWS||null,requireQuotes:a.REQUIREQUOTES??null,recordLength:a.RECORDLENGTH||null,dateTimeDelim:a.DATETIMEDELIM||null,rejectFile:a.REJECTFILE||null},c=await kl(t,e,r,n),u=ve(e),d=ve(r),h=ve(n),f=[];f.push(`CREATE EXTERNAL TABLE ${u}.${d}.${h}`),f.push("(");let g=c.map(p=>{let m=`    ${ve(p.name)} ${p.fullTypeName}`;return p.notNull&&(m+=" NOT NULL"),m});return f.push(g.join(`,
`)),f.push(")"),f.push("USING"),f.push("("),l.dataObject!==null&&f.push(`    DATAOBJECT('${l.dataObject}')`),l.delimiter!==null&&f.push(`    DELIMITER '${l.delimiter}'`),l.encoding!==null&&f.push(`    ENCODING '${l.encoding}'`),l.timeStyle!==null&&f.push(`    TIMESTYLE '${l.timeStyle}'`),l.remoteSource!==null&&f.push(`    REMOTESOURCE '${l.remoteSource}'`),l.maxErrors!==null&&f.push(`    MAXERRORS ${l.maxErrors}`),l.escapeChar!==null&&f.push(`    ESCAPECHAR '${l.escapeChar}'`),l.decimalDelim!==null&&f.push(`    DECIMALDELIM '${l.decimalDelim}'`),l.logDir!==null&&f.push(`    LOGDIR '${l.logDir}'`),l.quotedValue!==null&&f.push(`    QUOTEDVALUE '${l.quotedValue}'`),l.nullValue!==null&&f.push(`    NULLVALUE '${l.nullValue}'`),l.crInString!==null&&f.push(`    CRINSTRING ${l.crInString}`),l.truncString!==null&&f.push(`    TRUNCSTRING ${l.truncString}`),l.ctrlChars!==null&&f.push(`    CTRLCHARS ${l.ctrlChars}`),l.ignoreZero!==null&&f.push(`    IGNOREZERO ${l.ignoreZero}`),l.timeExtraZeros!==null&&f.push(`    TIMEEXTRAZEROS ${l.timeExtraZeros}`),l.y2Base!==null&&f.push(`    Y2BASE ${l.y2Base}`),l.fillRecord!==null&&f.push(`    FILLRECORD ${l.fillRecord}`),l.compress!==null&&f.push(`    COMPRESS ${l.compress}`),l.includeHeader!==null&&f.push(`    INCLUDEHEADER ${l.includeHeader}`),l.lfInString!==null&&f.push(`    LFINSTRING ${l.lfInString}`),l.dateStyle!==null&&f.push(`    DATESTYLE '${l.dateStyle}'`),l.dateDelim!==null&&f.push(`    DATEDELIM '${l.dateDelim}'`),l.timeDelim!==null&&f.push(`    TIMEDELIM '${l.timeDelim}'`),l.boolStyle!==null&&f.push(`    BOOLSTYLE '${l.boolStyle}'`),l.format!==null&&f.push(`    FORMAT '${l.format}'`),l.socketBufSize!==null&&f.push(`    SOCKETBUFSIZE ${l.socketBufSize}`),l.recordDelim!==null&&f.push(`    RECORDDELIM '${l.recordDelim}'`),l.maxRows!==null&&f.push(`    MAXROWS ${l.maxRows}`),l.requireQuotes!==null&&f.push(`    REQUIREQUOTES ${l.requireQuotes}`),l.recordLength!==null&&f.push(`    RECORDLENGTH ${l.recordLength}`),l.dateTimeDelim!==null&&f.push(`    DATETIMEDELIM '${l.dateTimeDelim}'`),l.rejectFile!==null&&f.push(`    REJECTFILE '${l.rejectFile}'`),f.push(");"),f.join(`
`)}async function oj(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            OWNER,
            SYNONYM_NAME,
            REFOBJNAME,
            DESCRIPTION
        FROM ${e.toUpperCase()}.._V_SYNONYM
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND SYNONYM_NAME = '${n.toUpperCase()}'
    `,o=await rn(t,i);if(o.length===0)throw new Error(`Synonym ${e}.${r}.${n} not found`);let a=o[0],l=ve(e),c=ve(a.OWNER||r),u=ve(n),d=a.REFOBJNAME,h=[];if(h.push(`CREATE SYNONYM ${l}.${c}.${u} FOR ${d};`),a.DESCRIPTION){let f=a.DESCRIPTION.replace(/'/g,"''");h.push(`COMMENT ON SYNONYM ${u} IS '${f}';`)}return h.join(`
`)}function aj(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function lj(t,e,r,n,i){let s=null;try{let o=aj(t);o.port||(o.port=5480);let a=bn();s=new a(o),await s.connect();let l=i.toUpperCase();return l==="TABLE"?{success:!0,ddlCode:await tj(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="VIEW"?{success:!0,ddlCode:await rj(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="PROCEDURE"?{success:!0,ddlCode:await ij(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="EXTERNAL TABLE"?{success:!0,ddlCode:await sj(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="SYNONYM"?{success:!0,ddlCode:await oj(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:{success:!0,ddlCode:`-- DDL generation for ${i} not yet implemented
-- Object: ${e}.${r}.${n}
-- Type: ${i}
--
-- This feature can be extended to support:
-- - FUNCTION: Query _V_FUNCTION system table
-- - AGGREGATE: Query _V_AGGREGATE system table
`,objectInfo:{database:e,schema:r,objectName:n,objectType:i},note:`${i} DDL generation not yet implemented`}}catch(o){return{success:!1,error:`DDL generation error: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}var ug=tn(()=>{"use strict"});var Lv={};mn(Lv,{generateRecreateTableScript:()=>uj});function cj(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function uj(t,e,r,n,i){let s=null;try{let o=cj(t);o.port||(o.port=5480);let a=bn();s=new a(o),await s.connect();let l=await kl(s,e,r,n);if(l.length===0)return{success:!1,error:`Table ${e}.${r}.${n} not found or has no columns`};let c=await Nf(s,e,r,n),u=await Df(s,e,r,n),d=await Of(s,e,r,n),h=await Lf(s,e,r,n),f=await cg(s,e,r,n),g=ve(e),p=ve(r),m=ve(n),y=new Date().toISOString().replace(/[-:T.]/g,"").substring(0,14),v=Math.random().toString(36).substring(2,7).toUpperCase(),b=i||`${n}_${y}_NEW`,w=ve(b),I=`${n}_${y}_BACKUP_${v}`,O=ve(I),A=[];A.push(`-- Recreate Table Script for ${g}.${p}.${m}`),A.push(`-- Generated at ${new Date().toISOString()}`),A.push(""),A.push("-- 1. Create new table with desired structure"),A.push(`CREATE TABLE ${g}.${p}.${w}`),A.push("(");let k=[];for(let L of l){let Y=`    ${ve(L.name)} ${L.fullTypeName}`;L.notNull&&(Y+=" NOT NULL"),L.defaultValue!==null&&(Y+=` DEFAULT ${L.defaultValue}`),k.push(Y)}if(A.push(k.join(`,
`)),c.length>0){let L=c.map(M=>ve(M));A.push(`)
DISTRIBUTE ON (${L.join(", ")})`)}else A.push(`)
DISTRIBUTE ON RANDOM`);if(u.length>0){let L=u.map(M=>ve(M));A.push(`ORGANIZE ON (${L.join(", ")})`)}if(A.push(";"),A.push(""),A.push("-- 2. Copy data from original table"),A.push(`INSERT INTO ${g}.${p}.${w} SELECT * FROM ${g}.${p}.${m};`),A.push(""),A.push("-- 3. Copy privileges from original table"),A.push(`ALTER TABLE ${g}.${p}.${w} SET PRIVILEGES TO ${g}.${p}.${m};`),A.push(""),A.push("-- 4. Swap tables: Rename Original to Backup, New to Original"),A.push(`ALTER TABLE ${g}.${p}.${m} RENAME TO ${O};`),A.push(`ALTER TABLE ${g}.${p}.${w} RENAME TO ${m};`),A.push(""),f&&(A.push("-- 5. Restore Owner"),A.push(`ALTER TABLE ${g}.${p}.${m} OWNER TO ${f};`),A.push("")),A.push("-- 6. Drop Backup Table (Optional - Comment out if you want to keep it)"),A.push(`DROP TABLE ${g}.${p}.${O};`),A.push(""),d.size>0){A.push("-- 7. Restore Constraints");for(let[L,M]of d){let Y=ve(L),G=M.columns.map(te=>ve(te)),Q="";if(M.typeChar==="f"){let te=M.pkColumns.filter(he=>he).map(he=>ve(he));te.length>0&&(Q=`ALTER TABLE ${g}.${p}.${m} ADD CONSTRAINT ${Y} ${M.type} (${G.join(", ")}) REFERENCES ${M.pkDatabase}.${M.pkSchema}.${M.pkRelation} (${te.join(", ")}) ON DELETE ${M.deleteType} ON UPDATE ${M.updateType};`)}else(M.typeChar==="p"||M.typeChar==="u")&&(Q=`ALTER TABLE ${g}.${p}.${m} ADD CONSTRAINT ${Y} ${M.type} (${G.join(", ")});`);Q&&A.push(Q)}A.push("")}if(h){let L=h.replace(/'/g,"''");A.push("-- 8. Restore Comments"),A.push(`COMMENT ON TABLE ${g}.${p}.${m} IS '${L}';`)}let N=[];for(let L of l)if(L.description){let M=ve(L.name),Y=L.description.replace(/'/g,"''");N.push(`COMMENT ON COLUMN ${g}.${p}.${m}.${M} IS '${Y}';`)}return N.length>0&&(h||A.push("-- 8. Restore Comments"),A.push(N.join(`
`)),A.push("")),A.push("-- 9. Generate Statistics"),A.push(`GENERATE EXPRESS STATISTICS ON ${g}.${p}.${m};`),{success:!0,sqlScript:A.join(`
`)}}catch(o){return{success:!1,error:`Error generating recreate script: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}var Mv=tn(()=>{"use strict";ug()});var Fv=x((iwe,Pv)=>{var fj=typeof process=="object"&&process&&process.platform==="win32";Pv.exports=fj?{sep:"\\"}:{sep:"/"}});var fg=x((swe,qv)=>{"use strict";qv.exports=kv;function kv(t,e,r){t instanceof RegExp&&(t=Bv(t,r)),e instanceof RegExp&&(e=Bv(e,r));var n=$v(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Bv(t,e){var r=e.match(t);return r?r[0]:null}kv.range=$v;function $v(t,e,r){var n,i,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(t,u+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}});var Yv=x((owe,Gv)=>{var Uv=fg();Gv.exports=pj;var Wv="\0SLASH"+Math.random()+"\0",jv="\0OPEN"+Math.random()+"\0",hg="\0CLOSE"+Math.random()+"\0",zv="\0COMMA"+Math.random()+"\0",Hv="\0PERIOD"+Math.random()+"\0";function dg(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function dj(t){return t.split("\\\\").join(Wv).split("\\{").join(jv).split("\\}").join(hg).split("\\,").join(zv).split("\\.").join(Hv)}function hj(t){return t.split(Wv).join("\\").split(jv).join("{").split(hg).join("}").split(zv).join(",").split(Hv).join(".")}function Vv(t){if(!t)return[""];var e=[],r=Uv("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Vv(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function pj(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),$l(dj(t),!0).map(hj)):[]}function gj(t){return"{"+t+"}"}function yj(t){return/^-?0\d/.test(t)}function mj(t,e){return t<=e}function bj(t,e){return t>=e}function $l(t,e){var r=[],n=Uv("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?$l(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+hg+n.post,$l(t)):[t];var h;if(u)h=n.body.split(/\.\./);else if(h=Vv(n.body),h.length===1&&(h=$l(h[0],!1).map(gj),h.length===1))return s.map(function(L){return n.pre+h[0]+L});var f;if(u){var g=dg(h[0]),p=dg(h[1]),m=Math.max(h[0].length,h[1].length),y=h.length==3?Math.abs(dg(h[2])):1,v=mj,b=p<g;b&&(y*=-1,v=bj);var w=h.some(yj);f=[];for(var I=g;v(I,p);I+=y){var O;if(c)O=String.fromCharCode(I),O==="\\"&&(O="");else if(O=String(I),w){var A=m-O.length;if(A>0){var k=new Array(A+1).join("0");I<0?O="-"+k+O.slice(1):O=k+O}}f.push(O)}}else{f=[];for(var N=0;N<h.length;N++)f.push.apply(f,$l(h[N],!1))}for(var N=0;N<f.length;N++)for(var o=0;o<s.length;o++){var a=i+f[N]+s[o];(!e||u||a)&&r.push(a)}}return r}});var eT=x((lwe,bg)=>{var Or=bg.exports=(t,e,r={})=>(Mf(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Uo(e,r).match(t));bg.exports=Or;var yg=Fv();Or.sep=yg.sep;var nn=Symbol("globstar **");Or.GLOBSTAR=nn;var wj=Yv(),Jv={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},mg="[^/]",pg=mg+"*?",_j="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Ej="(?:(?!(?:\\/|^)\\.).)*?",Zv=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),Kv=Zv("().*{}+?[]^$\\!"),Sj=Zv("[.("),Xv=/\/+/;Or.filter=(t,e={})=>(r,n,i)=>Or(r,t,e);var Pi=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};Or.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Or;let e=Or,r=(n,i,s)=>e(n,i,Pi(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,Pi(t,s))}},r.Minimatch.defaults=n=>e.defaults(Pi(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,Pi(t,i)),r.defaults=n=>e.defaults(Pi(t,n)),r.makeRe=(n,i)=>e.makeRe(n,Pi(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,Pi(t,i)),r.match=(n,i,s)=>e.match(n,i,Pi(t,s)),r};Or.braceExpand=(t,e)=>Qv(t,e);var Qv=(t,e={})=>(Mf(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:wj(t)),xj=1024*64,Mf=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>xj)throw new TypeError("pattern is too long")},gg=Symbol("subparse");Or.makeRe=(t,e)=>new Uo(t,e||{}).makeRe();Or.match=(t,e,r={})=>{let n=new Uo(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var vj=t=>t.replace(/\\(.)/g,"$1"),Tj=t=>t.replace(/\\([^-\]])/g,"$1"),Rj=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Aj=t=>t.replace(/[[\]\\]/g,"\\$&"),Uo=class{constructor(e,r){Mf(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(Xv)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,l=r.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=r[o],u=e[s];if(this.debug(r,c,u),c===!1)return!1;if(c===nn){this.debug("GLOBSTAR",[r,c,u]);var d=s,h=o+1;if(h===l){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;d<a;){var f=e[d];if(this.debug(`
globstar while`,e,d,r,h,f),this.matchOne(e.slice(d),r.slice(h),n))return this.debug("globstar found match!",d,a,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,d,r,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,h),d===a))}var g;if(typeof c=="string"?(g=u===c,this.debug("string match",c,u,g)):(g=u.match(c),this.debug("pattern match",c,u,g)),!g)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return Qv(this.pattern,this.options)}parse(e,r){Mf(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return nn;if(e==="")return"";let i="",s=!1,o=!1,a=[],l=[],c,u=!1,d=-1,h=-1,f,g,p,m=e.charAt(0)===".",y=n.dot||m,v=()=>m?"":y?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=A=>A.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=()=>{if(c){switch(c){case"*":i+=pg,s=!0;break;case"?":i+=mg,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let A=0,k;A<e.length&&(k=e.charAt(A));A++){if(this.debug("%s	%s %s %j",e,A,i,k),o){if(k==="/")return!1;Kv[k]&&(i+="\\"),i+=k,o=!1;continue}switch(k){case"/":return!1;case"\\":if(u&&e.charAt(A+1)==="-"){i+=k;continue}w(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,A,i,k),u){this.debug("  in class"),k==="!"&&A===h+1&&(k="^"),i+=k;continue}this.debug("call clearStateChar %j",c),w(),c=k,n.noext&&w();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}let N={type:c,start:A-1,reStart:i.length,open:Jv[c].open,close:Jv[c].close};this.debug(this.pattern,"	",N),a.push(N),i+=N.open,N.start===0&&N.type!=="!"&&(m=!0,i+=b(e.slice(A+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let N=a[a.length-1];if(u||!N){i+="\\)";continue}a.pop(),w(),s=!0,g=N,i+=g.close,g.type==="!"&&l.push(Object.assign(g,{reEnd:i.length}));continue}case"|":{let N=a[a.length-1];if(u||!N){i+="\\|";continue}w(),i+="|",N.start===0&&N.type!=="!"&&(m=!0,i+=b(e.slice(A+1)));continue}case"[":if(w(),u){i+="\\"+k;continue}u=!0,h=A,d=i.length,i+=k;continue;case"]":if(A===h+1||!u){i+="\\"+k;continue}f=e.substring(h+1,A);try{RegExp("["+Aj(Tj(f))+"]"),i+=k}catch{i=i.substring(0,d)+"(?:$.)"}s=!0,u=!1;continue;default:w(),Kv[k]&&!(k==="^"&&u)&&(i+="\\"),i+=k;break}}for(u&&(f=e.slice(h+1),p=this.parse(f,gg),i=i.substring(0,d)+"\\["+p[0],s=s||p[1]),g=a.pop();g;g=a.pop()){let A;A=i.slice(g.reStart+g.open.length),this.debug("setting tail",i,g),A=A.replace(/((?:\\{2}){0,64})(\\?)\|/g,(N,L,M)=>(M||(M="\\"),L+L+M+"|")),this.debug(`tail=%j
   %s`,A,A,g,i);let k=g.type==="*"?pg:g.type==="?"?mg:"\\"+g.type;s=!0,i=i.slice(0,g.reStart)+k+"\\("+A}w(),o&&(i+="\\\\");let I=Sj[i.charAt(0)];for(let A=l.length-1;A>-1;A--){let k=l[A],N=i.slice(0,k.reStart),L=i.slice(k.reStart,k.reEnd-8),M=i.slice(k.reEnd),Y=i.slice(k.reEnd-8,k.reEnd)+M,G=N.split(")").length,Q=N.split("(").length-G,te=M;for(let se=0;se<Q;se++)te=te.replace(/\)[+*?]?/,"");M=te;let he=M===""&&r!==gg?"(?:$|\\/)":"";i=N+L+M+he+Y}if(i!==""&&s&&(i="(?=.)"+i),I&&(i=v()+i),r===gg)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return vj(e);let O=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",O),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?pg:r.dot?_j:Ej,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?Rj(a):a===nn?nn:a._src).reduce((a,l)=>(a[a.length-1]===nn&&l===nn||a.push(l),a),[]),o.forEach((a,l)=>{a!==nn||o[l-1]===nn||(l===0?o.length>1?o[l+1]="(?:\\/|"+n+"\\/)?"+o[l+1]:o[l]=n:l===o.length-1?o[l-1]+="(?:\\/|"+n+")?":(o[l-1]+="(?:\\/|\\/"+n+"\\/)"+o[l+1],o[l+1]=nn))}),o.filter(a=>a!==nn).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;yg.sep!=="/"&&(e=e.split(yg.sep).join("/")),e=e.split(Xv),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],l=e;if(n.matchBase&&a.length===1&&(l=[s]),this.matchOne(l,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Or.defaults(e).Minimatch}};Or.Minimatch=Uo});var sT=x((cwe,iT)=>{iT.exports=nT;var _g=require("fs"),{EventEmitter:Cj}=require("events"),{Minimatch:wg}=eT(),{resolve:Ij}=require("path");function Nj(t,e){return new Promise((r,n)=>{_g.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function tT(t,e){return new Promise((r,n)=>{(e?_g.stat:_g.lstat)(t,(s,o)=>{if(s)switch(s.code){case"ENOENT":r(e?tT(t,!1):null);break;default:r(null);break}else r(o)})})}async function*rT(t,e,r,n,i,s){let o=await Nj(e+t,s);for(let a of o){let l=a.name;l===void 0&&(l=a,n=!0);let c=t+"/"+l,u=c.slice(1),d=e+"/"+u,h=null;(n||r)&&(h=await tT(d,r)),!h&&a.name!==void 0&&(h=a),h===null&&(h={isDirectory:()=>!1}),h.isDirectory()?i(u)||(yield{relative:u,absolute:d,stats:h},yield*rT(c,e,r,n,i,!1)):yield{relative:u,absolute:d,stats:h}}}async function*Dj(t,e,r,n){yield*rT("",t,e,r,n,!0)}function Oj(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var Pf=class extends Cj{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=Oj(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new wg(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new wg(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new wg(s,{dot:!0}))}this.iterator=Dj(Ij(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function nT(t,e,r){return new Pf(t,e,r)}nT.ReaddirGlob=Pf});var aT=x((Ff,oT)=>{(function(t,e){typeof Ff=="object"&&typeof oT<"u"?e(Ff):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(Ff,(function(t){"use strict";function e(R,...E){return(...C)=>R(...E,...C)}function r(R){return function(...E){var C=E.pop();return R.call(this,E,C)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,s=typeof process=="object"&&typeof process.nextTick=="function";function o(R){setTimeout(R,0)}function a(R){return(E,...C)=>R(()=>E(...C))}var l;n?l=queueMicrotask:i?l=setImmediate:s?l=process.nextTick:l=o;var c=a(l);function u(R){return f(R)?function(...E){let C=E.pop(),D=R.apply(this,E);return d(D,C)}:r(function(E,C){var D;try{D=R.apply(this,E)}catch(P){return C(P)}if(D&&typeof D.then=="function")return d(D,C);C(null,D)})}function d(R,E){return R.then(C=>{h(E,null,C)},C=>{h(E,C&&(C instanceof Error||C.message)?C:new Error(C))})}function h(R,E,C){try{R(E,C)}catch(D){c(P=>{throw P},D)}}function f(R){return R[Symbol.toStringTag]==="AsyncFunction"}function g(R){return R[Symbol.toStringTag]==="AsyncGenerator"}function p(R){return typeof R[Symbol.asyncIterator]=="function"}function m(R){if(typeof R!="function")throw new Error("expected a function");return f(R)?u(R):R}function y(R,E){if(E||(E=R.length),!E)throw new Error("arity is undefined");function C(...D){return typeof D[E-1]=="function"?R.apply(this,D):new Promise((P,$)=>{D[E-1]=(q,...U)=>{if(q)return $(q);P(U.length>1?U:U[0])},R.apply(this,D)})}return C}function v(R){return function(C,...D){return y(function($){var q=this;return R(C,(U,z)=>{m(U).apply(q,D.concat(z))},$)})}}function b(R,E,C,D){E=E||[];var P=[],$=0,q=m(C);return R(E,(U,z,ie)=>{var Me=$++;q(U,($e,Fe)=>{P[Me]=Fe,ie($e)})},U=>{D(U,P)})}function w(R){return R&&typeof R.length=="number"&&R.length>=0&&R.length%1===0}let I={};function O(R){function E(...C){if(R!==null){var D=R;R=null,D.apply(this,C)}}return Object.assign(E,R),E}function A(R){return R[Symbol.iterator]&&R[Symbol.iterator]()}function k(R){var E=-1,C=R.length;return function(){return++E<C?{value:R[E],key:E}:null}}function N(R){var E=-1;return function(){var D=R.next();return D.done?null:(E++,{value:D.value,key:E})}}function L(R){var E=R?Object.keys(R):[],C=-1,D=E.length;return function P(){var $=E[++C];return $==="__proto__"?P():C<D?{value:R[$],key:$}:null}}function M(R){if(w(R))return k(R);var E=A(R);return E?N(E):L(R)}function Y(R){return function(...E){if(R===null)throw new Error("Callback was already called.");var C=R;R=null,C.apply(this,E)}}function G(R,E,C,D){let P=!1,$=!1,q=!1,U=0,z=0;function ie(){U>=E||q||P||(q=!0,R.next().then(({value:Fe,done:kr})=>{if(!($||P)){if(q=!1,kr){P=!0,U<=0&&D(null);return}U++,C(Fe,z,Me),z++,ie()}}).catch($e))}function Me(Fe,kr){if(U-=1,!$){if(Fe)return $e(Fe);if(Fe===!1){P=!0,$=!0;return}if(kr===I||P&&U<=0)return P=!0,D(null);ie()}}function $e(Fe){$||(q=!1,P=!0,D(Fe))}ie()}var Q=R=>(E,C,D)=>{if(D=O(D),R<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!E)return D(null);if(g(E))return G(E,R,C,D);if(p(E))return G(E[Symbol.asyncIterator](),R,C,D);var P=M(E),$=!1,q=!1,U=0,z=!1;function ie($e,Fe){if(!q)if(U-=1,$e)$=!0,D($e);else if($e===!1)$=!0,q=!0;else{if(Fe===I||$&&U<=0)return $=!0,D(null);z||Me()}}function Me(){for(z=!0;U<R&&!$;){var $e=P();if($e===null){$=!0,U<=0&&D(null);return}U+=1,C($e.value,$e.key,Y(ie))}z=!1}Me()};function te(R,E,C,D){return Q(E)(R,m(C),D)}var he=y(te,4);function se(R,E,C){C=O(C);var D=0,P=0,{length:$}=R,q=!1;$===0&&C(null);function U(z,ie){z===!1&&(q=!0),q!==!0&&(z?C(z):(++P===$||ie===I)&&C(null))}for(;D<$;D++)E(R[D],D,Y(U))}function We(R,E,C){return he(R,1/0,E,C)}function pe(R,E,C){var D=w(R)?se:We;return D(R,m(E),C)}var S=y(pe,3);function B(R,E,C){return b(S,R,E,C)}var F=y(B,3),j=v(F);function W(R,E,C){return he(R,1,E,C)}var H=y(W,3);function J(R,E,C){return b(H,R,E,C)}var V=y(J,3),K=v(V);let ee=Symbol("promiseCallback");function X(){let R,E;function C(D,...P){if(D)return E(D);R(P.length>1?P:P[0])}return C[ee]=new Promise((D,P)=>{R=D,E=P}),C}function fe(R,E,C){typeof E!="number"&&(C=E,E=null),C=O(C||X());var D=Object.keys(R).length;if(!D)return C(null);E||(E=D);var P={},$=0,q=!1,U=!1,z=Object.create(null),ie=[],Me=[],$e={};Object.keys(R).forEach(ne=>{var le=R[ne];if(!Array.isArray(le)){Fe(ne,[le]),Me.push(ne);return}var Be=le.slice(0,le.length-1),it=Be.length;if(it===0){Fe(ne,le),Me.push(ne);return}$e[ne]=it,Be.forEach(qt=>{if(!R[qt])throw new Error("async.auto task `"+ne+"` has a non-existent dependency `"+qt+"` in "+Be.join(", "));Lo(qt,()=>{it--,it===0&&Fe(ne,le)})})}),qe(),kr();function Fe(ne,le){ie.push(()=>Al(ne,le))}function kr(){if(!q){if(ie.length===0&&$===0)return C(null,P);for(;ie.length&&$<E;){var ne=ie.shift();ne()}}}function Lo(ne,le){var Be=z[ne];Be||(Be=z[ne]=[]),Be.push(le)}function ys(ne){var le=z[ne]||[];le.forEach(Be=>Be()),kr()}function Al(ne,le){if(!U){var Be=Y((qt,...$r)=>{if($--,qt===!1){q=!0;return}if($r.length<2&&([$r]=$r),qt){var Mo={};if(Object.keys(P).forEach(ms=>{Mo[ms]=P[ms]}),Mo[ne]=$r,U=!0,z=Object.create(null),q)return;C(qt,Mo)}else P[ne]=$r,ys(ne)});$++;var it=m(le[le.length-1]);le.length>1?it(P,Be):it(Be)}}function qe(){for(var ne,le=0;Me.length;)ne=Me.pop(),le++,ae(ne).forEach(Be=>{--$e[Be]===0&&Me.push(Be)});if(le!==D)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function ae(ne){var le=[];return Object.keys(R).forEach(Be=>{let it=R[Be];Array.isArray(it)&&it.indexOf(ne)>=0&&le.push(Be)}),le}return C[ee]}var ue=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,je=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,Ke=/,/,Ct=/(=.+)?(\s*)$/;function ar(R){let E="",C=0,D=R.indexOf("*/");for(;C<R.length;)if(R[C]==="/"&&R[C+1]==="/"){let P=R.indexOf(`
`,C);C=P===-1?R.length:P}else if(D!==-1&&R[C]==="/"&&R[C+1]==="*"){let P=R.indexOf("*/",C);P!==-1?(C=P+2,D=R.indexOf("*/",C)):(E+=R[C],C++)}else E+=R[C],C++;return E}function It(R){let E=ar(R.toString()),C=E.match(ue);if(C||(C=E.match(je)),!C)throw new Error(`could not parse args in autoInject
Source:
`+E);let[,D]=C;return D.replace(/\s/g,"").split(Ke).map(P=>P.replace(Ct,"").trim())}function ps(R,E){var C={};return Object.keys(R).forEach(D=>{var P=R[D],$,q=f(P),U=!q&&P.length===1||q&&P.length===0;if(Array.isArray(P))$=[...P],P=$.pop(),C[D]=$.concat($.length>0?z:P);else if(U)C[D]=P;else{if($=It(P),P.length===0&&!q&&$.length===0)throw new Error("autoInject task functions require explicit parameters.");q||$.pop(),C[D]=$.concat(z)}function z(ie,Me){var $e=$.map(Fe=>ie[Fe]);$e.push(Me),m(P)(...$e)}}),fe(C,E)}class gs{constructor(){this.head=this.tail=null,this.length=0}removeLink(E){return E.prev?E.prev.next=E.next:this.head=E.next,E.next?E.next.prev=E.prev:this.tail=E.prev,E.prev=E.next=null,this.length-=1,E}empty(){for(;this.head;)this.shift();return this}insertAfter(E,C){C.prev=E,C.next=E.next,E.next?E.next.prev=C:this.tail=C,E.next=C,this.length+=1}insertBefore(E,C){C.prev=E.prev,C.next=E,E.prev?E.prev.next=C:this.head=C,E.prev=C,this.length+=1}unshift(E){this.head?this.insertBefore(this.head,E):Io(this,E)}push(E){this.tail?this.insertAfter(this.tail,E):Io(this,E)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var E=this.head;E;)yield E.data,E=E.next}remove(E){for(var C=this.head;C;){var{next:D}=C;E(C)&&this.removeLink(C),C=D}return this}}function Io(R,E){R.length=1,R.head=R.tail=E}function No(R,E,C){if(E==null)E=1;else if(E===0)throw new RangeError("Concurrency must not be zero");var D=m(R),P=0,$=[];let q={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function U(ae,ne){q[ae].push(ne)}function z(ae,ne){let le=(...Be)=>{ie(ae,le),ne(...Be)};q[ae].push(le)}function ie(ae,ne){if(!ae)return Object.keys(q).forEach(le=>q[le]=[]);if(!ne)return q[ae]=[];q[ae]=q[ae].filter(le=>le!==ne)}function Me(ae,...ne){q[ae].forEach(le=>le(...ne))}var $e=!1;function Fe(ae,ne,le,Be){if(Be!=null&&typeof Be!="function")throw new Error("task callback must be a function");qe.started=!0;var it,qt;function $r(ms,...Cl){if(ms)return le?qt(ms):it();if(Cl.length<=1)return it(Cl[0]);it(Cl)}var Mo=qe._createTaskItem(ae,le?$r:Be||$r);if(ne?qe._tasks.unshift(Mo):qe._tasks.push(Mo),$e||($e=!0,c(()=>{$e=!1,qe.process()})),le||!Be)return new Promise((ms,Cl)=>{it=ms,qt=Cl})}function kr(ae){return function(ne,...le){P-=1;for(var Be=0,it=ae.length;Be<it;Be++){var qt=ae[Be],$r=$.indexOf(qt);$r===0?$.shift():$r>0&&$.splice($r,1),qt.callback(ne,...le),ne!=null&&Me("error",ne,qt.data)}P<=qe.concurrency-qe.buffer&&Me("unsaturated"),qe.idle()&&Me("drain"),qe.process()}}function Lo(ae){return ae.length===0&&qe.idle()?(c(()=>Me("drain")),!0):!1}let ys=ae=>ne=>{if(!ne)return new Promise((le,Be)=>{z(ae,(it,qt)=>{if(it)return Be(it);le(qt)})});ie(ae),U(ae,ne)};var Al=!1,qe={_tasks:new gs,_createTaskItem(ae,ne){return{data:ae,callback:ne}},*[Symbol.iterator](){yield*qe._tasks[Symbol.iterator]()},concurrency:E,payload:C,buffer:E/4,started:!1,paused:!1,push(ae,ne){return Array.isArray(ae)?Lo(ae)?void 0:ae.map(le=>Fe(le,!1,!1,ne)):Fe(ae,!1,!1,ne)},pushAsync(ae,ne){return Array.isArray(ae)?Lo(ae)?void 0:ae.map(le=>Fe(le,!1,!0,ne)):Fe(ae,!1,!0,ne)},kill(){ie(),qe._tasks.empty()},unshift(ae,ne){return Array.isArray(ae)?Lo(ae)?void 0:ae.map(le=>Fe(le,!0,!1,ne)):Fe(ae,!0,!1,ne)},unshiftAsync(ae,ne){return Array.isArray(ae)?Lo(ae)?void 0:ae.map(le=>Fe(le,!0,!0,ne)):Fe(ae,!0,!0,ne)},remove(ae){qe._tasks.remove(ae)},process(){if(!Al){for(Al=!0;!qe.paused&&P<qe.concurrency&&qe._tasks.length;){var ae=[],ne=[],le=qe._tasks.length;qe.payload&&(le=Math.min(le,qe.payload));for(var Be=0;Be<le;Be++){var it=qe._tasks.shift();ae.push(it),$.push(it),ne.push(it.data)}P+=1,qe._tasks.length===0&&Me("empty"),P===qe.concurrency&&Me("saturated");var qt=Y(kr(ae));D(ne,qt)}Al=!1}},length(){return qe._tasks.length},running(){return P},workersList(){return $},idle(){return qe._tasks.length+P===0},pause(){qe.paused=!0},resume(){qe.paused!==!1&&(qe.paused=!1,c(qe.process))}};return Object.defineProperties(qe,{saturated:{writable:!1,value:ys("saturated")},unsaturated:{writable:!1,value:ys("unsaturated")},empty:{writable:!1,value:ys("empty")},drain:{writable:!1,value:ys("drain")},error:{writable:!1,value:ys("error")}}),qe}function Do(R,E){return No(R,1,E)}function ux(R,E,C){return No(R,E,C)}function eW(R,E,C,D){D=O(D);var P=m(C);return H(R,($,q,U)=>{P(E,$,(z,ie)=>{E=ie,U(z)})},$=>D($,E))}var Oi=y(eW,4);function $0(...R){var E=R.map(m);return function(...C){var D=this,P=C[C.length-1];return typeof P=="function"?C.pop():P=X(),Oi(E,C,($,q,U)=>{q.apply(D,$.concat((z,...ie)=>{U(z,ie)}))},($,q)=>P($,...q)),P[ee]}}function fx(...R){return $0(...R.reverse())}function tW(R,E,C,D){return b(Q(E),R,C,D)}var Sl=y(tW,4);function rW(R,E,C,D){var P=m(C);return Sl(R,E,($,q)=>{P($,(U,...z)=>U?q(U):q(U,z))},($,q)=>{for(var U=[],z=0;z<q.length;z++)q[z]&&(U=U.concat(...q[z]));return D($,U)})}var Oo=y(rW,4);function nW(R,E,C){return Oo(R,1/0,E,C)}var Uu=y(nW,3);function iW(R,E,C){return Oo(R,1,E,C)}var Wu=y(iW,3);function dx(...R){return function(...E){var C=E.pop();return C(null,...R)}}function Qn(R,E){return(C,D,P,$)=>{var q=!1,U;let z=m(P);C(D,(ie,Me,$e)=>{z(ie,(Fe,kr)=>{if(Fe||Fe===!1)return $e(Fe);if(R(kr)&&!U)return q=!0,U=E(!0,ie),$e(null,I);$e()})},ie=>{if(ie)return $(ie);$(null,q?U:E(!1))})}}function sW(R,E,C){return Qn(D=>D,(D,P)=>P)(S,R,E,C)}var ju=y(sW,3);function oW(R,E,C,D){return Qn(P=>P,(P,$)=>$)(Q(E),R,C,D)}var zu=y(oW,4);function aW(R,E,C){return Qn(D=>D,(D,P)=>P)(Q(1),R,E,C)}var Hu=y(aW,3);function hx(R){return(E,...C)=>m(E)(...C,(D,...P)=>{typeof console=="object"&&(D?console.error&&console.error(D):console[R]&&P.forEach($=>console[R]($)))})}var px=hx("dir");function lW(R,E,C){C=Y(C);var D=m(R),P=m(E),$;function q(z,...ie){if(z)return C(z);z!==!1&&($=ie,P(...ie,U))}function U(z,ie){if(z)return C(z);if(z!==!1){if(!ie)return C(null,...$);D(q)}}return U(null,!0)}var xl=y(lW,3);function gx(R,E,C){let D=m(E);return xl(R,(...P)=>{let $=P.pop();D(...P,(q,U)=>$(q,!U))},C)}function yx(R){return(E,C,D)=>R(E,D)}function cW(R,E,C){return S(R,yx(m(E)),C)}var Vu=y(cW,3);function uW(R,E,C,D){return Q(E)(R,yx(m(C)),D)}var vl=y(uW,4);function fW(R,E,C){return vl(R,1,E,C)}var Tl=y(fW,3);function q0(R){return f(R)?R:function(...E){var C=E.pop(),D=!0;E.push((...P)=>{D?c(()=>C(...P)):C(...P)}),R.apply(this,E),D=!1}}function dW(R,E,C){return Qn(D=>!D,D=>!D)(S,R,E,C)}var Gu=y(dW,3);function hW(R,E,C,D){return Qn(P=>!P,P=>!P)(Q(E),R,C,D)}var Yu=y(hW,4);function pW(R,E,C){return Qn(D=>!D,D=>!D)(H,R,E,C)}var Ju=y(pW,3);function gW(R,E,C,D){var P=new Array(E.length);R(E,($,q,U)=>{C($,(z,ie)=>{P[q]=!!ie,U(z)})},$=>{if($)return D($);for(var q=[],U=0;U<E.length;U++)P[U]&&q.push(E[U]);D(null,q)})}function yW(R,E,C,D){var P=[];R(E,($,q,U)=>{C($,(z,ie)=>{if(z)return U(z);ie&&P.push({index:q,value:$}),U(z)})},$=>{if($)return D($);D(null,P.sort((q,U)=>q.index-U.index).map(q=>q.value))})}function Ku(R,E,C,D){var P=w(E)?gW:yW;return P(R,E,m(C),D)}function mW(R,E,C){return Ku(S,R,E,C)}var Xu=y(mW,3);function bW(R,E,C,D){return Ku(Q(E),R,C,D)}var Zu=y(bW,4);function wW(R,E,C){return Ku(H,R,E,C)}var Qu=y(wW,3);function _W(R,E){var C=Y(E),D=m(q0(R));function P($){if($)return C($);$!==!1&&D(P)}return P()}var mx=y(_W,2);function EW(R,E,C,D){var P=m(C);return Sl(R,E,($,q)=>{P($,(U,z)=>U?q(U):q(U,{key:z,val:$}))},($,q)=>{for(var U={},{hasOwnProperty:z}=Object.prototype,ie=0;ie<q.length;ie++)if(q[ie]){var{key:Me}=q[ie],{val:$e}=q[ie];z.call(U,Me)?U[Me].push($e):U[Me]=[$e]}return D($,U)})}var ef=y(EW,4);function bx(R,E,C){return ef(R,1/0,E,C)}function wx(R,E,C){return ef(R,1,E,C)}var _x=hx("log");function SW(R,E,C,D){D=O(D);var P={},$=m(C);return Q(E)(R,(q,U,z)=>{$(q,U,(ie,Me)=>{if(ie)return z(ie);P[U]=Me,z(ie)})},q=>D(q,P))}var tf=y(SW,4);function Ex(R,E,C){return tf(R,1/0,E,C)}function Sx(R,E,C){return tf(R,1,E,C)}function xx(R,E=C=>C){var C=Object.create(null),D=Object.create(null),P=m(R),$=r((q,U)=>{var z=E(...q);z in C?c(()=>U(null,...C[z])):z in D?D[z].push(U):(D[z]=[U],P(...q,(ie,...Me)=>{ie||(C[z]=Me);var $e=D[z];delete D[z];for(var Fe=0,kr=$e.length;Fe<kr;Fe++)$e[Fe](ie,...Me)}))});return $.memo=C,$.unmemoized=R,$}var rf;s?rf=process.nextTick:i?rf=setImmediate:rf=o;var vx=a(rf),U0=y((R,E,C)=>{var D=w(E)?[]:{};R(E,(P,$,q)=>{m(P)((U,...z)=>{z.length<2&&([z]=z),D[$]=z,q(U)})},P=>C(P,D))},3);function Tx(R,E){return U0(S,R,E)}function Rx(R,E,C){return U0(Q(E),R,C)}function W0(R,E){var C=m(R);return No((D,P)=>{C(D[0],P)},E,1)}class xW{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(E){let C;for(;E>0&&j0(this.heap[E],this.heap[C=Ax(E)]);){let D=this.heap[E];this.heap[E]=this.heap[C],this.heap[C]=D,E=C}}percDown(E){let C;for(;(C=vW(E))<this.heap.length&&(C+1<this.heap.length&&j0(this.heap[C+1],this.heap[C])&&(C=C+1),!j0(this.heap[E],this.heap[C]));){let D=this.heap[E];this.heap[E]=this.heap[C],this.heap[C]=D,E=C}}push(E){E.pushCount=++this.pushCount,this.heap.push(E),this.percUp(this.heap.length-1)}unshift(E){return this.heap.push(E)}shift(){let[E]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),E}toArray(){return[...this]}*[Symbol.iterator](){for(let E=0;E<this.heap.length;E++)yield this.heap[E].data}remove(E){let C=0;for(let D=0;D<this.heap.length;D++)E(this.heap[D])||(this.heap[C]=this.heap[D],C++);this.heap.splice(C);for(let D=Ax(this.heap.length-1);D>=0;D--)this.percDown(D);return this}}function vW(R){return(R<<1)+1}function Ax(R){return(R+1>>1)-1}function j0(R,E){return R.priority!==E.priority?R.priority<E.priority:R.pushCount<E.pushCount}function Cx(R,E){var C=W0(R,E),{push:D,pushAsync:P}=C;C._tasks=new xW,C._createTaskItem=({data:q,priority:U},z)=>({data:q,priority:U,callback:z});function $(q,U){return Array.isArray(q)?q.map(z=>({data:z,priority:U})):{data:q,priority:U}}return C.push=function(q,U=0,z){return D($(q,U),z)},C.pushAsync=function(q,U=0,z){return P($(q,U),z)},delete C.unshift,delete C.unshiftAsync,C}function TW(R,E){if(E=O(E),!Array.isArray(R))return E(new TypeError("First argument to race must be an array of functions"));if(!R.length)return E();for(var C=0,D=R.length;C<D;C++)m(R[C])(E)}var Ix=y(TW,2);function nf(R,E,C,D){var P=[...R].reverse();return Oi(P,E,C,D)}function sf(R){var E=m(R);return r(function(D,P){return D.push(($,...q)=>{let U={};if($&&(U.error=$),q.length>0){var z=q;q.length<=1&&([z]=q),U.value=z}P(null,U)}),E.apply(this,D)})}function Nx(R){var E;return Array.isArray(R)?E=R.map(sf):(E={},Object.keys(R).forEach(C=>{E[C]=sf.call(this,R[C])})),E}function z0(R,E,C,D){let P=m(C);return Ku(R,E,($,q)=>{P($,(U,z)=>{q(U,!z)})},D)}function RW(R,E,C){return z0(S,R,E,C)}var Dx=y(RW,3);function AW(R,E,C,D){return z0(Q(E),R,C,D)}var Ox=y(AW,4);function CW(R,E,C){return z0(H,R,E,C)}var Lx=y(CW,3);function Mx(R){return function(){return R}}let H0=5,Px=0;function of(R,E,C){var D={times:H0,intervalFunc:Mx(Px)};if(arguments.length<3&&typeof R=="function"?(C=E||X(),E=R):(IW(D,R),C=C||X()),typeof E!="function")throw new Error("Invalid arguments for async.retry");var P=m(E),$=1;function q(){P((U,...z)=>{U!==!1&&(U&&$++<D.times&&(typeof D.errorFilter!="function"||D.errorFilter(U))?setTimeout(q,D.intervalFunc($-1)):C(U,...z))})}return q(),C[ee]}function IW(R,E){if(typeof E=="object")R.times=+E.times||H0,R.intervalFunc=typeof E.interval=="function"?E.interval:Mx(+E.interval||Px),R.errorFilter=E.errorFilter;else if(typeof E=="number"||typeof E=="string")R.times=+E||H0;else throw new Error("Invalid arguments for async.retry")}function Fx(R,E){E||(E=R,R=null);let C=R&&R.arity||E.length;f(E)&&(C+=1);var D=m(E);return r((P,$)=>{(P.length<C-1||$==null)&&(P.push($),$=X());function q(U){D(...P,U)}return R?of(R,q,$):of(q,$),$[ee]})}function Bx(R,E){return U0(H,R,E)}function NW(R,E,C){return Qn(Boolean,D=>D)(S,R,E,C)}var af=y(NW,3);function DW(R,E,C,D){return Qn(Boolean,P=>P)(Q(E),R,C,D)}var lf=y(DW,4);function OW(R,E,C){return Qn(Boolean,D=>D)(H,R,E,C)}var cf=y(OW,3);function LW(R,E,C){var D=m(E);return F(R,($,q)=>{D($,(U,z)=>{if(U)return q(U);q(U,{value:$,criteria:z})})},($,q)=>{if($)return C($);C(null,q.sort(P).map(U=>U.value))});function P($,q){var U=$.criteria,z=q.criteria;return U<z?-1:U>z?1:0}}var kx=y(LW,3);function $x(R,E,C){var D=m(R);return r((P,$)=>{var q=!1,U;function z(){var ie=R.name||"anonymous",Me=new Error('Callback function "'+ie+'" timed out.');Me.code="ETIMEDOUT",C&&(Me.info=C),q=!0,$(Me)}P.push((...ie)=>{q||($(...ie),clearTimeout(U))}),U=setTimeout(z,E),D(...P)})}function MW(R){for(var E=Array(R);R--;)E[R]=R;return E}function uf(R,E,C,D){var P=m(C);return Sl(MW(R),E,P,D)}function qx(R,E,C){return uf(R,1/0,E,C)}function Ux(R,E,C){return uf(R,1,E,C)}function Wx(R,E,C,D){arguments.length<=3&&typeof E=="function"&&(D=C,C=E,E=Array.isArray(R)?[]:{}),D=O(D||X());var P=m(C);return S(R,($,q,U)=>{P(E,$,q,U)},$=>D($,E)),D[ee]}function PW(R,E){var C=null,D;return Tl(R,(P,$)=>{m(P)((q,...U)=>{if(q===!1)return $(q);U.length<2?[D]=U:D=U,C=q,$(q?null:{})})},()=>E(C,D))}var jx=y(PW);function zx(R){return(...E)=>(R.unmemoized||R)(...E)}function FW(R,E,C){C=Y(C);var D=m(E),P=m(R),$=[];function q(z,...ie){if(z)return C(z);$=ie,z!==!1&&P(U)}function U(z,ie){if(z)return C(z);if(z!==!1){if(!ie)return C(null,...$);D(q)}}return P(U)}var Rl=y(FW,3);function Hx(R,E,C){let D=m(R);return Rl(P=>D(($,q)=>P($,!q)),E,C)}function BW(R,E){if(E=O(E),!Array.isArray(R))return E(new Error("First argument to waterfall must be an array of functions"));if(!R.length)return E();var C=0;function D($){var q=m(R[C++]);q(...$,Y(P))}function P($,...q){if($!==!1){if($||C===R.length)return E($,...q);D(q)}}D([])}var Vx=y(BW),kW={apply:e,applyEach:j,applyEachSeries:K,asyncify:u,auto:fe,autoInject:ps,cargo:Do,cargoQueue:ux,compose:fx,concat:Uu,concatLimit:Oo,concatSeries:Wu,constant:dx,detect:ju,detectLimit:zu,detectSeries:Hu,dir:px,doUntil:gx,doWhilst:xl,each:Vu,eachLimit:vl,eachOf:S,eachOfLimit:he,eachOfSeries:H,eachSeries:Tl,ensureAsync:q0,every:Gu,everyLimit:Yu,everySeries:Ju,filter:Xu,filterLimit:Zu,filterSeries:Qu,forever:mx,groupBy:bx,groupByLimit:ef,groupBySeries:wx,log:_x,map:F,mapLimit:Sl,mapSeries:V,mapValues:Ex,mapValuesLimit:tf,mapValuesSeries:Sx,memoize:xx,nextTick:vx,parallel:Tx,parallelLimit:Rx,priorityQueue:Cx,queue:W0,race:Ix,reduce:Oi,reduceRight:nf,reflect:sf,reflectAll:Nx,reject:Dx,rejectLimit:Ox,rejectSeries:Lx,retry:of,retryable:Fx,seq:$0,series:Bx,setImmediate:c,some:af,someLimit:lf,someSeries:cf,sortBy:kx,timeout:$x,times:qx,timesLimit:uf,timesSeries:Ux,transform:Wx,tryEach:jx,unmemoize:zx,until:Hx,waterfall:Vx,whilst:Rl,all:Gu,allLimit:Yu,allSeries:Ju,any:af,anyLimit:lf,anySeries:cf,find:ju,findLimit:zu,findSeries:Hu,flatMap:Uu,flatMapLimit:Oo,flatMapSeries:Wu,forEach:Vu,forEachSeries:Tl,forEachLimit:vl,forEachOf:S,forEachOfSeries:H,forEachOfLimit:he,inject:Oi,foldl:Oi,foldr:nf,select:Xu,selectLimit:Zu,selectSeries:Qu,wrapSync:u,during:Rl,doDuring:xl};t.all=Gu,t.allLimit=Yu,t.allSeries=Ju,t.any=af,t.anyLimit=lf,t.anySeries=cf,t.apply=e,t.applyEach=j,t.applyEachSeries=K,t.asyncify=u,t.auto=fe,t.autoInject=ps,t.cargo=Do,t.cargoQueue=ux,t.compose=fx,t.concat=Uu,t.concatLimit=Oo,t.concatSeries=Wu,t.constant=dx,t.default=kW,t.detect=ju,t.detectLimit=zu,t.detectSeries=Hu,t.dir=px,t.doDuring=xl,t.doUntil=gx,t.doWhilst=xl,t.during=Rl,t.each=Vu,t.eachLimit=vl,t.eachOf=S,t.eachOfLimit=he,t.eachOfSeries=H,t.eachSeries=Tl,t.ensureAsync=q0,t.every=Gu,t.everyLimit=Yu,t.everySeries=Ju,t.filter=Xu,t.filterLimit=Zu,t.filterSeries=Qu,t.find=ju,t.findLimit=zu,t.findSeries=Hu,t.flatMap=Uu,t.flatMapLimit=Oo,t.flatMapSeries=Wu,t.foldl=Oi,t.foldr=nf,t.forEach=Vu,t.forEachLimit=vl,t.forEachOf=S,t.forEachOfLimit=he,t.forEachOfSeries=H,t.forEachSeries=Tl,t.forever=mx,t.groupBy=bx,t.groupByLimit=ef,t.groupBySeries=wx,t.inject=Oi,t.log=_x,t.map=F,t.mapLimit=Sl,t.mapSeries=V,t.mapValues=Ex,t.mapValuesLimit=tf,t.mapValuesSeries=Sx,t.memoize=xx,t.nextTick=vx,t.parallel=Tx,t.parallelLimit=Rx,t.priorityQueue=Cx,t.queue=W0,t.race=Ix,t.reduce=Oi,t.reduceRight=nf,t.reflect=sf,t.reflectAll=Nx,t.reject=Dx,t.rejectLimit=Ox,t.rejectSeries=Lx,t.retry=of,t.retryable=Fx,t.select=Xu,t.selectLimit=Zu,t.selectSeries=Qu,t.seq=$0,t.series=Bx,t.setImmediate=c,t.some=af,t.someLimit=lf,t.someSeries=cf,t.sortBy=kx,t.timeout=$x,t.times=qx,t.timesLimit=uf,t.timesSeries=Ux,t.transform=Wx,t.tryEach=jx,t.unmemoize=zx,t.until=Hx,t.waterfall=Vx,t.whilst=Rl,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})}))});var cT=x((uwe,lT)=>{var Fi=require("constants"),Lj=process.cwd,Bf=null,Mj=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Bf||(Bf=Lj.call(process)),Bf};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Eg=process.chdir,process.chdir=function(t){Bf=null,Eg.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Eg));var Eg;lT.exports=Pj;function Pj(t){Fi.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,d,h){h&&process.nextTick(h)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,d,h,f){f&&process.nextTick(f)},t.lchownSync=function(){}),Mj==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:(function(u){function d(h,f,g){var p=Date.now(),m=0;u(h,f,function y(v){if(v&&(v.code==="EACCES"||v.code==="EPERM"||v.code==="EBUSY")&&Date.now()-p<6e4){setTimeout(function(){t.stat(f,function(b,w){b&&b.code==="ENOENT"?u(h,f,y):g(v)})},m),m<100&&(m+=10);return}g&&g(v)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,u),d})(t.rename)),t.read=typeof t.read!="function"?t.read:(function(u){function d(h,f,g,p,m,y){var v;if(y&&typeof y=="function"){var b=0;v=function(w,I,O){if(w&&w.code==="EAGAIN"&&b<10)return b++,u.call(t,h,f,g,p,m,v);y.apply(this,arguments)}}return u.call(t,h,f,g,p,m,v)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,u),d})(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:(function(u){return function(d,h,f,g,p){for(var m=0;;)try{return u.call(t,d,h,f,g,p)}catch(y){if(y.code==="EAGAIN"&&m<10){m++;continue}throw y}}})(t.readSync);function e(u){u.lchmod=function(d,h,f){u.open(d,Fi.O_WRONLY|Fi.O_SYMLINK,h,function(g,p){if(g){f&&f(g);return}u.fchmod(p,h,function(m){u.close(p,function(y){f&&f(m||y)})})})},u.lchmodSync=function(d,h){var f=u.openSync(d,Fi.O_WRONLY|Fi.O_SYMLINK,h),g=!0,p;try{p=u.fchmodSync(f,h),g=!1}finally{if(g)try{u.closeSync(f)}catch{}else u.closeSync(f)}return p}}function r(u){Fi.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(d,h,f,g){u.open(d,Fi.O_SYMLINK,function(p,m){if(p){g&&g(p);return}u.futimes(m,h,f,function(y){u.close(m,function(v){g&&g(y||v)})})})},u.lutimesSync=function(d,h,f){var g=u.openSync(d,Fi.O_SYMLINK),p,m=!0;try{p=u.futimesSync(g,h,f),m=!1}finally{if(m)try{u.closeSync(g)}catch{}else u.closeSync(g)}return p}):u.futimes&&(u.lutimes=function(d,h,f,g){g&&process.nextTick(g)},u.lutimesSync=function(){})}function n(u){return u&&function(d,h,f){return u.call(t,d,h,function(g){c(g)&&(g=null),f&&f.apply(this,arguments)})}}function i(u){return u&&function(d,h){try{return u.call(t,d,h)}catch(f){if(!c(f))throw f}}}function s(u){return u&&function(d,h,f,g){return u.call(t,d,h,f,function(p){c(p)&&(p=null),g&&g.apply(this,arguments)})}}function o(u){return u&&function(d,h,f){try{return u.call(t,d,h,f)}catch(g){if(!c(g))throw g}}}function a(u){return u&&function(d,h,f){typeof h=="function"&&(f=h,h=null);function g(p,m){m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),f&&f.apply(this,arguments)}return h?u.call(t,d,h,g):u.call(t,d,g)}}function l(u){return u&&function(d,h){var f=h?u.call(t,d,h):u.call(t,d);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function c(u){if(!u||u.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var dT=x((fwe,fT)=>{var uT=require("stream").Stream;fT.exports=Fj;function Fj(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);uT.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,d){if(u){s.emit("error",u),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);uT.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var pT=x((dwe,hT)=>{"use strict";hT.exports=kj;var Bj=Object.getPrototypeOf||function(t){return t.__proto__};function kj(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:Bj(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var Tg=x((hwe,vg)=>{var ct=require("fs"),$j=cT(),qj=dT(),Uj=pT(),kf=require("util"),Xt,qf;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Xt=Symbol.for("graceful-fs.queue"),qf=Symbol.for("graceful-fs.previous")):(Xt="___graceful-fs.queue",qf="___graceful-fs.previous");function Wj(){}function mT(t,e){Object.defineProperty(t,Xt,{get:function(){return e}})}var xs=Wj;kf.debuglog?xs=kf.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(xs=function(){var t=kf.format.apply(kf,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});ct[Xt]||(gT=global[Xt]||[],mT(ct,gT),ct.close=(function(t){function e(r,n){return t.call(ct,r,function(i){i||yT(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,qf,{value:t}),e})(ct.close),ct.closeSync=(function(t){function e(r){t.apply(ct,arguments),yT()}return Object.defineProperty(e,qf,{value:t}),e})(ct.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){xs(ct[Xt]),require("assert").equal(ct[Xt].length,0)}));var gT;global[Xt]||mT(global,ct[Xt]);vg.exports=Sg(Uj(ct));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ct.__patched&&(vg.exports=Sg(ct),ct.__patched=!0);function Sg(t){$j(t),t.gracefulify=Sg,t.createReadStream=I,t.createWriteStream=O;var e=t.readFile;t.readFile=r;function r(N,L,M){return typeof L=="function"&&(M=L,L=null),Y(N,L,M);function Y(G,Q,te,he){return e(G,Q,function(se){se&&(se.code==="EMFILE"||se.code==="ENFILE")?Wo([Y,[G,Q,te],se,he||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(N,L,M,Y){return typeof M=="function"&&(Y=M,M=null),G(N,L,M,Y);function G(Q,te,he,se,We){return n(Q,te,he,function(pe){pe&&(pe.code==="EMFILE"||pe.code==="ENFILE")?Wo([G,[Q,te,he,se],pe,We||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(N,L,M,Y){return typeof M=="function"&&(Y=M,M=null),G(N,L,M,Y);function G(Q,te,he,se,We){return s(Q,te,he,function(pe){pe&&(pe.code==="EMFILE"||pe.code==="ENFILE")?Wo([G,[Q,te,he,se],pe,We||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(N,L,M,Y){return typeof M=="function"&&(Y=M,M=0),G(N,L,M,Y);function G(Q,te,he,se,We){return a(Q,te,he,function(pe){pe&&(pe.code==="EMFILE"||pe.code==="ENFILE")?Wo([G,[Q,te,he,se],pe,We||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)})}}var c=t.readdir;t.readdir=d;var u=/^v[0-5]\./;function d(N,L,M){typeof L=="function"&&(M=L,L=null);var Y=u.test(process.version)?function(te,he,se,We){return c(te,G(te,he,se,We))}:function(te,he,se,We){return c(te,he,G(te,he,se,We))};return Y(N,L,M);function G(Q,te,he,se){return function(We,pe){We&&(We.code==="EMFILE"||We.code==="ENFILE")?Wo([Y,[Q,te,he],We,se||Date.now(),Date.now()]):(pe&&pe.sort&&pe.sort(),typeof he=="function"&&he.call(this,We,pe))}}}if(process.version.substr(0,4)==="v0.8"){var h=qj(t);y=h.ReadStream,b=h.WriteStream}var f=t.ReadStream;f&&(y.prototype=Object.create(f.prototype),y.prototype.open=v);var g=t.WriteStream;g&&(b.prototype=Object.create(g.prototype),b.prototype.open=w),Object.defineProperty(t,"ReadStream",{get:function(){return y},set:function(N){y=N},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return b},set:function(N){b=N},enumerable:!0,configurable:!0});var p=y;Object.defineProperty(t,"FileReadStream",{get:function(){return p},set:function(N){p=N},enumerable:!0,configurable:!0});var m=b;Object.defineProperty(t,"FileWriteStream",{get:function(){return m},set:function(N){m=N},enumerable:!0,configurable:!0});function y(N,L){return this instanceof y?(f.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function v(){var N=this;k(N.path,N.flags,N.mode,function(L,M){L?(N.autoClose&&N.destroy(),N.emit("error",L)):(N.fd=M,N.emit("open",M),N.read())})}function b(N,L){return this instanceof b?(g.apply(this,arguments),this):b.apply(Object.create(b.prototype),arguments)}function w(){var N=this;k(N.path,N.flags,N.mode,function(L,M){L?(N.destroy(),N.emit("error",L)):(N.fd=M,N.emit("open",M))})}function I(N,L){return new t.ReadStream(N,L)}function O(N,L){return new t.WriteStream(N,L)}var A=t.open;t.open=k;function k(N,L,M,Y){return typeof M=="function"&&(Y=M,M=null),G(N,L,M,Y);function G(Q,te,he,se,We){return A(Q,te,he,function(pe,S){pe&&(pe.code==="EMFILE"||pe.code==="ENFILE")?Wo([G,[Q,te,he,se],pe,We||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)})}}return t}function Wo(t){xs("ENQUEUE",t[0].name,t[1]),ct[Xt].push(t),xg()}var $f;function yT(){for(var t=Date.now(),e=0;e<ct[Xt].length;++e)ct[Xt][e].length>2&&(ct[Xt][e][3]=t,ct[Xt][e][4]=t);xg()}function xg(){if(clearTimeout($f),$f=void 0,ct[Xt].length!==0){var t=ct[Xt].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)xs("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){xs("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(xs("RETRY",e.name,r),e.apply(null,r.concat([i]))):ct[Xt].push(t)}$f===void 0&&($f=setTimeout(xg,0))}}});var Uf=x((pwe,bT)=>{"use strict";var _n=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";_n.writable=t=>_n(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";_n.readable=t=>_n(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";_n.duplex=t=>_n.writable(t)&&_n.readable(t);_n.transform=t=>_n.duplex(t)&&typeof t._transform=="function";bT.exports=_n});var ql=x((gwe,Rg)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Rg.exports={nextTick:jj}:Rg.exports=process;function jj(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var _T=x((ywe,wT)=>{var zj={}.toString;wT.exports=Array.isArray||function(t){return zj.call(t)=="[object Array]"}});var Ag=x((mwe,ET)=>{ET.exports=require("stream")});var Ul=x((Cg,xT)=>{var Wf=require("buffer"),ti=Wf.Buffer;function ST(t,e){for(var r in t)e[r]=t[r]}ti.from&&ti.alloc&&ti.allocUnsafe&&ti.allocUnsafeSlow?xT.exports=Wf:(ST(Wf,Cg),Cg.Buffer=jo);function jo(t,e,r){return ti(t,e,r)}ST(ti,jo);jo.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ti(t,e,r)};jo.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ti(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};jo.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ti(t)};jo.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Wf.SlowBuffer(t)}});var zo=x(lr=>{function Hj(t){return Array.isArray?Array.isArray(t):jf(t)==="[object Array]"}lr.isArray=Hj;function Vj(t){return typeof t=="boolean"}lr.isBoolean=Vj;function Gj(t){return t===null}lr.isNull=Gj;function Yj(t){return t==null}lr.isNullOrUndefined=Yj;function Jj(t){return typeof t=="number"}lr.isNumber=Jj;function Kj(t){return typeof t=="string"}lr.isString=Kj;function Xj(t){return typeof t=="symbol"}lr.isSymbol=Xj;function Zj(t){return t===void 0}lr.isUndefined=Zj;function Qj(t){return jf(t)==="[object RegExp]"}lr.isRegExp=Qj;function ez(t){return typeof t=="object"&&t!==null}lr.isObject=ez;function tz(t){return jf(t)==="[object Date]"}lr.isDate=tz;function rz(t){return jf(t)==="[object Error]"||t instanceof Error}lr.isError=rz;function nz(t){return typeof t=="function"}lr.isFunction=nz;function iz(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}lr.isPrimitive=iz;lr.isBuffer=require("buffer").Buffer.isBuffer;function jf(t){return Object.prototype.toString.call(t)}});var vT=x((wwe,Ig)=>{typeof Object.create=="function"?Ig.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ig.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Ho=x((_we,Dg)=>{try{if(Ng=require("util"),typeof Ng.inherits!="function")throw"";Dg.exports=Ng.inherits}catch{Dg.exports=vT()}var Ng});var RT=x((Ewe,Og)=>{"use strict";function sz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var TT=Ul().Buffer,Wl=require("util");function oz(t,e,r){t.copy(e,r)}Og.exports=(function(){function t(){sz(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return TT.alloc(0);for(var n=TT.allocUnsafe(r>>>0),i=this.head,s=0;i;)oz(i.data,n,s),s+=i.data.length,i=i.next;return n},t})();Wl&&Wl.inspect&&Wl.inspect.custom&&(Og.exports.prototype[Wl.inspect.custom]=function(){var t=Wl.inspect({length:this.length});return this.constructor.name+" "+t})});var Lg=x((Swe,AT)=>{"use strict";var zf=ql();function az(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,zf.nextTick(Hf,this,t)):zf.nextTick(Hf,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,zf.nextTick(Hf,r,s)):zf.nextTick(Hf,r,s):e&&e(s)}),this)}function lz(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Hf(t,e){t.emit("error",e)}AT.exports={destroy:az,undestroy:lz}});var IT=x((xwe,CT)=>{CT.exports=require("util").deprecate});var Pg=x((vwe,BT)=>{"use strict";var vs=ql();BT.exports=At;function DT(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Rz(e,t)}}var cz=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:vs.nextTick,Vo;At.WritableState=zl;var OT=Object.create(zo());OT.inherits=Ho();var uz={deprecate:IT()},LT=Ag(),Gf=Ul().Buffer,fz=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function dz(t){return Gf.from(t)}function hz(t){return Gf.isBuffer(t)||t instanceof fz}var MT=Lg();OT.inherits(At,LT);function pz(){}function zl(t,e){Vo=Vo||Ts(),t=t||{};var r=e instanceof Vo;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Ez(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new DT(this)}zl.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(zl.prototype,"buffer",{get:uz.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Vf;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Vf=Function.prototype[Symbol.hasInstance],Object.defineProperty(At,Symbol.hasInstance,{value:function(t){return Vf.call(this,t)?!0:this!==At?!1:t&&t._writableState instanceof zl}})):Vf=function(t){return t instanceof this};function At(t){if(Vo=Vo||Ts(),!Vf.call(At,this)&&!(this instanceof Vo))return new At(t);this._writableState=new zl(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),LT.call(this)}At.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function gz(t,e){var r=new Error("write after end");t.emit("error",r),vs.nextTick(e,r)}function yz(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),vs.nextTick(n,s),i=!1),i}At.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&hz(t);return s&&!Gf.isBuffer(t)&&(t=dz(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=pz),n.ended?gz(this,r):(s||yz(this,n,t,r))&&(n.pendingcb++,i=bz(this,n,s,t,e,r)),i};At.prototype.cork=function(){var t=this._writableState;t.corked++};At.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&PT(this,t))};At.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function mz(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Gf.from(e,r)),e}Object.defineProperty(At.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function bz(t,e,r,n,i,s){if(!r){var o=mz(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Mg(t,e,!1,a,n,i,s);return l}function Mg(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function wz(t,e,r,n,i){--e.pendingcb,r?(vs.nextTick(i,n),vs.nextTick(jl,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),jl(t,e))}function _z(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Ez(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(_z(r),e)wz(t,r,n,e,i);else{var s=FT(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&PT(t,r),n?cz(NT,t,r,s,i):NT(t,r,s,i)}}function NT(t,e,r,n){r||Sz(t,e),e.pendingcb--,n(),jl(t,e)}function Sz(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function PT(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,Mg(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new DT(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,d=e.objectMode?1:l.length;if(Mg(t,e,!1,d,l,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}At.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};At.prototype._writev=null;At.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Tz(this,n,r)};function FT(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function xz(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),jl(t,e)})}function vz(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,vs.nextTick(xz,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function jl(t,e){var r=FT(e);return r&&(vz(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function Tz(t,e,r){e.ending=!0,jl(t,e),r&&(e.finished?vs.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Rz(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(At.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});At.prototype.destroy=MT.destroy;At.prototype._undestroy=MT.undestroy;At.prototype._destroy=function(t,e){this.end(),e(t)}});var Ts=x((Twe,UT)=>{"use strict";var kT=ql(),Az=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};UT.exports=ri;var $T=Object.create(zo());$T.inherits=Ho();var qT=kg(),Bg=Pg();$T.inherits(ri,qT);for(Fg=Az(Bg.prototype),Yf=0;Yf<Fg.length;Yf++)Jf=Fg[Yf],ri.prototype[Jf]||(ri.prototype[Jf]=Bg.prototype[Jf]);var Fg,Jf,Yf;function ri(t){if(!(this instanceof ri))return new ri(t);qT.call(this,t),Bg.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Cz)}Object.defineProperty(ri.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Cz(){this.allowHalfOpen||this._writableState.ended||kT.nextTick(Iz,this)}function Iz(t){t.end()}Object.defineProperty(ri.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});ri.prototype._destroy=function(t,e){this.push(null),this.end(),kT.nextTick(e,t)}});var Ug=x(jT=>{"use strict";var qg=Ul().Buffer,WT=qg.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Nz(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Dz(t){var e=Nz(t);if(typeof e!="string"&&(qg.isEncoding===WT||!WT(t)))throw new Error("Unknown encoding: "+t);return e||t}jT.StringDecoder=Hl;function Hl(t){this.encoding=Dz(t);var e;switch(this.encoding){case"utf16le":this.text=Bz,this.end=kz,e=4;break;case"utf8":this.fillLast=Mz,e=4;break;case"base64":this.text=$z,this.end=qz,e=3;break;default:this.write=Uz,this.end=Wz;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=qg.allocUnsafe(e)}Hl.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Hl.prototype.end=Fz;Hl.prototype.text=Pz;Hl.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function $g(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Oz(t,e,r){var n=e.length-1;if(n<r)return 0;var i=$g(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=$g(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=$g(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Lz(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Mz(t){var e=this.lastTotal-this.lastNeed,r=Lz(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Pz(t,e){var r=Oz(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Fz(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Bz(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function kz(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function $z(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function qz(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Uz(t){return t.toString(this.encoding)}function Wz(t){return t&&t.length?this.write(t):""}});var kg=x((Cwe,tR)=>{"use strict";var Yo=ql();tR.exports=Xe;var jz=_T(),Vl;Xe.ReadableState=KT;var Awe=require("events").EventEmitter,GT=function(t,e){return t.listeners(e).length},Vg=Ag(),Gl=Ul().Buffer,zz=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Hz(t){return Gl.from(t)}function Vz(t){return Gl.isBuffer(t)||t instanceof zz}var YT=Object.create(zo());YT.inherits=Ho();var Wg=require("util"),ze=void 0;Wg&&Wg.debuglog?ze=Wg.debuglog("stream"):ze=function(){};var Gz=RT(),JT=Lg(),Go;YT.inherits(Xe,Vg);var jg=["error","close","destroy","pause","resume"];function Yz(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):jz(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function KT(t,e){Vl=Vl||Ts(),t=t||{};var r=e instanceof Vl;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Gz,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Go||(Go=Ug().StringDecoder),this.decoder=new Go(t.encoding),this.encoding=t.encoding)}function Xe(t){if(Vl=Vl||Ts(),!(this instanceof Xe))return new Xe(t);this._readableState=new KT(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Vg.call(this)}Object.defineProperty(Xe.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Xe.prototype.destroy=JT.destroy;Xe.prototype._undestroy=JT.undestroy;Xe.prototype._destroy=function(t,e){this.push(null),e(t)};Xe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Gl.from(t,e),e=""),n=!0),XT(this,t,e,!1,n)};Xe.prototype.unshift=function(t){return XT(this,t,null,!0,!1)};function XT(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,Zz(t,s);else{var o;i||(o=Jz(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Gl.prototype&&(e=Hz(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):zg(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?zg(t,s,e,!1):ZT(t,s)):zg(t,s,e,!1))):n||(s.reading=!1)}return Kz(s)}function zg(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Kf(t)),ZT(t,e)}function Jz(t,e){var r;return!Vz(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Kz(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Xe.prototype.isPaused=function(){return this._readableState.flowing===!1};Xe.prototype.setEncoding=function(t){return Go||(Go=Ug().StringDecoder),this._readableState.decoder=new Go(t),this._readableState.encoding=t,this};var zT=8388608;function Xz(t){return t>=zT?t=zT:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function HT(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Xz(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Xe.prototype.read=function(t){ze("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return ze("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Hg(this):Kf(this),null;if(t=HT(t,e),t===0&&e.ended)return e.length===0&&Hg(this),null;var n=e.needReadable;ze("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ze("length less than watermark",n)),e.ended||e.reading?(n=!1,ze("reading or ended",n)):n&&(ze("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=HT(r,e)));var i;return t>0?i=QT(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Hg(this)),i!==null&&this.emit("data",i),i};function Zz(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Kf(t)}}function Kf(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(ze("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Yo.nextTick(VT,t):VT(t))}function VT(t){ze("emit readable"),t.emit("readable"),Gg(t)}function ZT(t,e){e.readingMore||(e.readingMore=!0,Yo.nextTick(Qz,t,e))}function Qz(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(ze("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Xe.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Xe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ze("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:m;n.endEmitted?Yo.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,v){ze("onunpipe"),y===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,u())}function a(){ze("onend"),t.end()}var l=e8(r);t.on("drain",l);var c=!1;function u(){ze("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var d=!1;r.on("data",h);function h(y){ze("ondata"),d=!1;var v=t.write(y);v===!1&&!d&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&eR(n.pipes,t)!==-1)&&!c&&(ze("false write response, pause",n.awaitDrain),n.awaitDrain++,d=!0),r.pause())}function f(y){ze("onerror",y),m(),t.removeListener("error",f),GT(t,"error")===0&&t.emit("error",y)}Yz(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){ze("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){ze("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ze("pipe resume"),r.resume()),t};function e8(t){return function(){var e=t._readableState;ze("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&GT(t,"data")&&(e.flowing=!0,Gg(t))}}Xe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=eR(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Xe.prototype.on=function(t,e){var r=Vg.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Kf(this):Yo.nextTick(t8,this))}return r};Xe.prototype.addListener=Xe.prototype.on;function t8(t){ze("readable nexttick read 0"),t.read(0)}Xe.prototype.resume=function(){var t=this._readableState;return t.flowing||(ze("resume"),t.flowing=!0,r8(this,t)),this};function r8(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Yo.nextTick(n8,t,e))}function n8(t,e){e.reading||(ze("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Gg(t),e.flowing&&!e.reading&&t.read(0)}Xe.prototype.pause=function(){return ze("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ze("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Gg(t){var e=t._readableState;for(ze("flow",e.flowing);e.flowing&&t.read()!==null;);}Xe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ze("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(ze("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(o){return function(){return t[o].apply(t,arguments)}})(i));for(var s=0;s<jg.length;s++)t.on(jg[s],this.emit.bind(this,jg[s]));return this._read=function(o){ze("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Xe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Xe._fromList=QT;function QT(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=i8(t,e.buffer,e.decoder),r}function i8(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?s8(t,e):o8(t,e),n}function s8(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function o8(t,e){var r=Gl.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function Hg(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Yo.nextTick(a8,e,t))}function a8(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function eR(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Yg=x((Iwe,iR)=>{"use strict";iR.exports=ni;var Xf=Ts(),nR=Object.create(zo());nR.inherits=Ho();nR.inherits(ni,Xf);function l8(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ni(t){if(!(this instanceof ni))return new ni(t);Xf.call(this,t),this._transformState={afterTransform:l8.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",c8)}function c8(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){rR(t,e,r)}):rR(this,null,null)}ni.prototype.push=function(t,e){return this._transformState.needTransform=!1,Xf.prototype.push.call(this,t,e)};ni.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};ni.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ni.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ni.prototype._destroy=function(t,e){var r=this;Xf.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function rR(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var lR=x((Nwe,aR)=>{"use strict";aR.exports=Yl;var sR=Yg(),oR=Object.create(zo());oR.inherits=Ho();oR.inherits(Yl,sR);function Yl(t){if(!(this instanceof Yl))return new Yl(t);sR.call(this,t)}Yl.prototype._transform=function(t,e,r){r(null,t)}});var cR=x((Zt,Zf)=>{var En=require("stream");process.env.READABLE_STREAM==="disable"&&En?(Zf.exports=En,Zt=Zf.exports=En.Readable,Zt.Readable=En.Readable,Zt.Writable=En.Writable,Zt.Duplex=En.Duplex,Zt.Transform=En.Transform,Zt.PassThrough=En.PassThrough,Zt.Stream=En):(Zt=Zf.exports=kg(),Zt.Stream=En||Zt,Zt.Readable=Zt,Zt.Writable=Pg(),Zt.Duplex=Ts(),Zt.Transform=Yg(),Zt.PassThrough=lR())});var fR=x((Dwe,uR)=>{uR.exports=cR().PassThrough});var gR=x((Owe,pR)=>{var dR=require("util"),td=fR();pR.exports={Readable:Qf,Writable:ed};dR.inherits(Qf,td);dR.inherits(ed,td);function hR(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function Qf(t,e){if(!(this instanceof Qf))return new Qf(t,e);td.call(this,e),hR(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function ed(t,e){if(!(this instanceof ed))return new ed(t,e);td.call(this,e),hR(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var Jg=x((Lwe,yR)=>{yR.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")}});var Kg=x((Mwe,mR)=>{function u8(t){return t}mR.exports=u8});var wR=x((Pwe,bR)=>{function f8(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}bR.exports=f8});var SR=x((Fwe,ER)=>{var d8=wR(),_R=Math.max;function h8(t,e,r){return e=_R(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=_R(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),d8(t,this,a)}}ER.exports=h8});var vR=x((Bwe,xR)=>{function p8(t){return function(){return t}}xR.exports=p8});var Xg=x((kwe,TR)=>{var g8=typeof global=="object"&&global&&global.Object===Object&&global;TR.exports=g8});var Jo=x(($we,RR)=>{var y8=Xg(),m8=typeof self=="object"&&self&&self.Object===Object&&self,b8=y8||m8||Function("return this")();RR.exports=b8});var rd=x((qwe,AR)=>{var w8=Jo(),_8=w8.Symbol;AR.exports=_8});var DR=x((Uwe,NR)=>{var CR=rd(),IR=Object.prototype,E8=IR.hasOwnProperty,S8=IR.toString,Jl=CR?CR.toStringTag:void 0;function x8(t){var e=E8.call(t,Jl),r=t[Jl];try{t[Jl]=void 0;var n=!0}catch{}var i=S8.call(t);return n&&(e?t[Jl]=r:delete t[Jl]),i}NR.exports=x8});var LR=x((Wwe,OR)=>{var v8=Object.prototype,T8=v8.toString;function R8(t){return T8.call(t)}OR.exports=R8});var Kl=x((jwe,FR)=>{var MR=rd(),A8=DR(),C8=LR(),I8="[object Null]",N8="[object Undefined]",PR=MR?MR.toStringTag:void 0;function D8(t){return t==null?t===void 0?N8:I8:PR&&PR in Object(t)?A8(t):C8(t)}FR.exports=D8});var Xl=x((zwe,BR)=>{function O8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}BR.exports=O8});var Zg=x((Hwe,kR)=>{var L8=Kl(),M8=Xl(),P8="[object AsyncFunction]",F8="[object Function]",B8="[object GeneratorFunction]",k8="[object Proxy]";function $8(t){if(!M8(t))return!1;var e=L8(t);return e==F8||e==B8||e==P8||e==k8}kR.exports=$8});var qR=x((Vwe,$R)=>{var q8=Jo(),U8=q8["__core-js_shared__"];$R.exports=U8});var jR=x((Gwe,WR)=>{var Qg=qR(),UR=(function(){var t=/[^.]+$/.exec(Qg&&Qg.keys&&Qg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function W8(t){return!!UR&&UR in t}WR.exports=W8});var HR=x((Ywe,zR)=>{var j8=Function.prototype,z8=j8.toString;function H8(t){if(t!=null){try{return z8.call(t)}catch{}try{return t+""}catch{}}return""}zR.exports=H8});var GR=x((Jwe,VR)=>{var V8=Zg(),G8=jR(),Y8=Xl(),J8=HR(),K8=/[\\^$.*+?()[\]{}|]/g,X8=/^\[object .+?Constructor\]$/,Z8=Function.prototype,Q8=Object.prototype,eH=Z8.toString,tH=Q8.hasOwnProperty,rH=RegExp("^"+eH.call(tH).replace(K8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nH(t){if(!Y8(t)||G8(t))return!1;var e=V8(t)?rH:X8;return e.test(J8(t))}VR.exports=nH});var JR=x((Kwe,YR)=>{function iH(t,e){return t?.[e]}YR.exports=iH});var Zl=x((Xwe,KR)=>{var sH=GR(),oH=JR();function aH(t,e){var r=oH(t,e);return sH(r)?r:void 0}KR.exports=aH});var ZR=x((Zwe,XR)=>{var lH=Zl(),cH=(function(){try{var t=lH(Object,"defineProperty");return t({},"",{}),t}catch{}})();XR.exports=cH});var tA=x((Qwe,eA)=>{var uH=vR(),QR=ZR(),fH=Kg(),dH=QR?function(t,e){return QR(t,"toString",{configurable:!0,enumerable:!1,value:uH(e),writable:!0})}:fH;eA.exports=dH});var nA=x((e_e,rA)=>{var hH=800,pH=16,gH=Date.now;function yH(t){var e=0,r=0;return function(){var n=gH(),i=pH-(n-r);if(r=n,i>0){if(++e>=hH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}rA.exports=yH});var sA=x((t_e,iA)=>{var mH=tA(),bH=nA(),wH=bH(mH);iA.exports=wH});var nd=x((r_e,oA)=>{var _H=Kg(),EH=SR(),SH=sA();function xH(t,e){return SH(EH(t,e,_H),t+"")}oA.exports=xH});var id=x((n_e,aA)=>{function vH(t,e){return t===e||t!==t&&e!==e}aA.exports=vH});var ey=x((i_e,lA)=>{var TH=9007199254740991;function RH(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=TH}lA.exports=RH});var sd=x((s_e,cA)=>{var AH=Zg(),CH=ey();function IH(t){return t!=null&&CH(t.length)&&!AH(t)}cA.exports=IH});var ty=x((o_e,uA)=>{var NH=9007199254740991,DH=/^(?:0|[1-9]\d*)$/;function OH(t,e){var r=typeof t;return e=e??NH,!!e&&(r=="number"||r!="symbol"&&DH.test(t))&&t>-1&&t%1==0&&t<e}uA.exports=OH});var dA=x((a_e,fA)=>{var LH=id(),MH=sd(),PH=ty(),FH=Xl();function BH(t,e,r){if(!FH(r))return!1;var n=typeof e;return(n=="number"?MH(r)&&PH(e,r.length):n=="string"&&e in r)?LH(r[e],t):!1}fA.exports=BH});var pA=x((l_e,hA)=>{function kH(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}hA.exports=kH});var Ko=x((c_e,gA)=>{function $H(t){return t!=null&&typeof t=="object"}gA.exports=$H});var mA=x((u_e,yA)=>{var qH=Kl(),UH=Ko(),WH="[object Arguments]";function jH(t){return UH(t)&&qH(t)==WH}yA.exports=jH});var ry=x((f_e,_A)=>{var bA=mA(),zH=Ko(),wA=Object.prototype,HH=wA.hasOwnProperty,VH=wA.propertyIsEnumerable,GH=bA((function(){return arguments})())?bA:function(t){return zH(t)&&HH.call(t,"callee")&&!VH.call(t,"callee")};_A.exports=GH});var ny=x((d_e,EA)=>{var YH=Array.isArray;EA.exports=YH});var xA=x((h_e,SA)=>{function JH(){return!1}SA.exports=JH});var AA=x((Ql,Xo)=>{var KH=Jo(),XH=xA(),RA=typeof Ql=="object"&&Ql&&!Ql.nodeType&&Ql,vA=RA&&typeof Xo=="object"&&Xo&&!Xo.nodeType&&Xo,ZH=vA&&vA.exports===RA,TA=ZH?KH.Buffer:void 0,QH=TA?TA.isBuffer:void 0,e5=QH||XH;Xo.exports=e5});var IA=x((p_e,CA)=>{var t5=Kl(),r5=ey(),n5=Ko(),i5="[object Arguments]",s5="[object Array]",o5="[object Boolean]",a5="[object Date]",l5="[object Error]",c5="[object Function]",u5="[object Map]",f5="[object Number]",d5="[object Object]",h5="[object RegExp]",p5="[object Set]",g5="[object String]",y5="[object WeakMap]",m5="[object ArrayBuffer]",b5="[object DataView]",w5="[object Float32Array]",_5="[object Float64Array]",E5="[object Int8Array]",S5="[object Int16Array]",x5="[object Int32Array]",v5="[object Uint8Array]",T5="[object Uint8ClampedArray]",R5="[object Uint16Array]",A5="[object Uint32Array]",Ze={};Ze[w5]=Ze[_5]=Ze[E5]=Ze[S5]=Ze[x5]=Ze[v5]=Ze[T5]=Ze[R5]=Ze[A5]=!0;Ze[i5]=Ze[s5]=Ze[m5]=Ze[o5]=Ze[b5]=Ze[a5]=Ze[l5]=Ze[c5]=Ze[u5]=Ze[f5]=Ze[d5]=Ze[h5]=Ze[p5]=Ze[g5]=Ze[y5]=!1;function C5(t){return n5(t)&&r5(t.length)&&!!Ze[t5(t)]}CA.exports=C5});var iy=x((g_e,NA)=>{function I5(t){return function(e){return t(e)}}NA.exports=I5});var OA=x((ec,Zo)=>{var N5=Xg(),DA=typeof ec=="object"&&ec&&!ec.nodeType&&ec,tc=DA&&typeof Zo=="object"&&Zo&&!Zo.nodeType&&Zo,D5=tc&&tc.exports===DA,sy=D5&&N5.process,O5=(function(){try{var t=tc&&tc.require&&tc.require("util").types;return t||sy&&sy.binding&&sy.binding("util")}catch{}})();Zo.exports=O5});var FA=x((y_e,PA)=>{var L5=IA(),M5=iy(),LA=OA(),MA=LA&&LA.isTypedArray,P5=MA?M5(MA):L5;PA.exports=P5});var kA=x((m_e,BA)=>{var F5=pA(),B5=ry(),k5=ny(),$5=AA(),q5=ty(),U5=FA(),W5=Object.prototype,j5=W5.hasOwnProperty;function z5(t,e){var r=k5(t),n=!r&&B5(t),i=!r&&!n&&$5(t),s=!r&&!n&&!i&&U5(t),o=r||n||i||s,a=o?F5(t.length,String):[],l=a.length;for(var c in t)(e||j5.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||q5(c,l)))&&a.push(c);return a}BA.exports=z5});var qA=x((b_e,$A)=>{var H5=Object.prototype;function V5(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||H5;return t===r}$A.exports=V5});var WA=x((w_e,UA)=>{function G5(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}UA.exports=G5});var zA=x((__e,jA)=>{var Y5=Xl(),J5=qA(),K5=WA(),X5=Object.prototype,Z5=X5.hasOwnProperty;function Q5(t){if(!Y5(t))return K5(t);var e=J5(t),r=[];for(var n in t)n=="constructor"&&(e||!Z5.call(t,n))||r.push(n);return r}jA.exports=Q5});var VA=x((E_e,HA)=>{var eV=kA(),tV=zA(),rV=sd();function nV(t){return rV(t)?eV(t,!0):tV(t)}HA.exports=nV});var JA=x((S_e,YA)=>{var iV=nd(),sV=id(),oV=dA(),aV=VA(),GA=Object.prototype,lV=GA.hasOwnProperty,cV=iV(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&oV(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=aV(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||sV(u,GA[c])&&!lV.call(t,c))&&(t[c]=s[c])}return t});YA.exports=cV});var st=x((x_e,KA)=>{"use strict";var oy=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};KA.exports={AggregateError:oy,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var ay=x((v_e,XA)=>{"use strict";XA.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var cr=x((T_e,eC)=>{"use strict";var{format:uV,inspect:od}=ay(),{AggregateError:fV}=st(),dV=globalThis.AggregateError||fV,hV=Symbol("kIsNodeError"),pV=["string","function","number","object","Function","Object","boolean","bigint","symbol"],gV=/^([A-Z][a-z0-9]*)+$/,yV="__node_internal_",ad={};function Rs(t,e){if(!t)throw new ad.ERR_INTERNAL_ASSERTION(e)}function ZA(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function mV(t,e,r){if(typeof e=="function")return Rs(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Rs(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:uV(e,...r)}function Qt(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(mV(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[hV]=!0,ad[t]=n}function QA(t){let e=yV+t.name;return Object.defineProperty(t,"name",{value:e}),t}function bV(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new dV([e,t],e.message);return r.code=e.code,r}return t||e}var ly=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new ad.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Qt("ERR_ASSERTION","%s",Error);Qt("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Rs(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Rs(typeof l=="string","All expected entries have to be of type string"),pV.includes(l)?i.push(l.toLowerCase()):gV.test(l)?s.push(l):(Rs(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=od(r,{depth:-1});n+=`. Received ${l}`}}else{let l=od(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Qt("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=od(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Qt("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Qt("ERR_MISSING_ARGS",(...t)=>{Rs(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Qt("ERR_OUT_OF_RANGE",(t,e,r)=>{Rs(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=ZA(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=ZA(n)),n+="n"}else n=od(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Qt("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Qt("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Qt("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Qt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Qt("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Qt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Qt("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Qt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Qt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Qt("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Qt("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);eC.exports={AbortError:ly,aggregateTwoErrors:QA(bV),hideStackFrames:QA,codes:ad}});var uC=x((ic,nc)=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});var oC=new WeakMap,cy=new WeakMap;function Qe(t){let e=oC.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function tC(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function Qo(t,e){oC.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,aC(i))}}Qo.prototype={get type(){return Qe(this).event.type},get target(){return Qe(this).eventTarget},get currentTarget(){return Qe(this).currentTarget},composedPath(){let t=Qe(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Qe(this).eventPhase},stopPropagation(){let t=Qe(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=Qe(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!Qe(this).event.bubbles},get cancelable(){return!!Qe(this).event.cancelable},preventDefault(){tC(Qe(this))},get defaultPrevented(){return Qe(this).canceled},get composed(){return!!Qe(this).event.composed},get timeStamp(){return Qe(this).timeStamp},get srcElement(){return Qe(this).eventTarget},get cancelBubble(){return Qe(this).stopped},set cancelBubble(t){if(!t)return;let e=Qe(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!Qe(this).canceled},set returnValue(t){t||tC(Qe(this))},initEvent(){}};Object.defineProperty(Qo.prototype,"constructor",{value:Qo,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Qo.prototype,window.Event.prototype),cy.set(window.Event.prototype,Qo));function aC(t){return{get(){return Qe(this).event[t]},set(e){Qe(this).event[t]=e},configurable:!0,enumerable:!0}}function wV(t){return{value(){let e=Qe(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function _V(t,e){let r=Object.keys(e);if(r.length===0)return t;function n(i,s){t.call(this,i,s)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in t.prototype)){let a=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(n.prototype,s,a?wV(s):aC(s))}}return n}function lC(t){if(t==null||t===Object.prototype)return Qo;let e=cy.get(t);return e==null&&(e=_V(lC(Object.getPrototypeOf(t)),t),cy.set(t,e)),e}function EV(t,e){let r=lC(Object.getPrototypeOf(e));return new r(t,e)}function SV(t){return Qe(t).immediateStopped}function xV(t,e){Qe(t).eventPhase=e}function vV(t,e){Qe(t).currentTarget=e}function rC(t,e){Qe(t).passiveListener=e}var cC=new WeakMap,nC=1,iC=2,ld=3;function cd(t){return t!==null&&typeof t=="object"}function rc(t){let e=cC.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function TV(t){return{get(){let r=rc(this).get(t);for(;r!=null;){if(r.listenerType===ld)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!cd(e)&&(e=null);let r=rc(this),n=null,i=r.get(t);for(;i!=null;)i.listenerType===ld?n!==null?n.next=i.next:i.next!==null?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(e!==null){let s={listener:e,listenerType:ld,passive:!1,once:!1,next:null};n===null?r.set(t,s):n.next=s}},configurable:!0,enumerable:!0}}function uy(t,e){Object.defineProperty(t,`on${e}`,TV(e))}function sC(t){function e(){sn.call(this)}e.prototype=Object.create(sn.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)uy(e.prototype,t[r]);return e}function sn(){if(this instanceof sn){cC.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return sC(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return sC(t)}throw new TypeError("Cannot call a class as a function")}sn.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!cd(e))throw new TypeError("'listener' should be a function or an object.");let n=rc(this),i=cd(r),o=(i?!!r.capture:!!r)?nC:iC,a={listener:e,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},l=n.get(t);if(l===void 0){n.set(t,a);return}let c=null;for(;l!=null;){if(l.listener===e&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(t,e,r){if(e==null)return;let n=rc(this),s=(cd(r)?!!r.capture:!!r)?nC:iC,o=null,a=n.get(t);for(;a!=null;){if(a.listener===e&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?n.set(t,a.next):n.delete(t);return}o=a,a=a.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=rc(this),r=t.type,n=e.get(r);if(n==null)return!0;let i=EV(this,t),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?e.set(r,n.next):e.delete(r):s=n,rC(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else n.listenerType!==ld&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(SV(i))break;n=n.next}return rC(i,null),xV(i,0),vV(i,null),!i.defaultPrevented}};Object.defineProperty(sn.prototype,"constructor",{value:sn,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(sn.prototype,window.EventTarget.prototype);ic.defineEventAttribute=uy;ic.EventTarget=sn;ic.default=sn;nc.exports=sn;nc.exports.EventTarget=nc.exports.default=sn;nc.exports.defineEventAttribute=uy});var xt=x((oc,sc)=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});var fy=uC(),Bi=class extends fy.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=ud.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};fy.defineEventAttribute(Bi.prototype,"abort");function RV(){let t=Object.create(Bi.prototype);return fy.EventTarget.call(t),ud.set(t,!1),t}function AV(t){ud.get(t)===!1&&(ud.set(t,!0),t.dispatchEvent({type:"abort"}))}var ud=new WeakMap;Object.defineProperties(Bi.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bi.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var ki=class{constructor(){dC.set(this,RV())}get signal(){return fC(this)}abort(){AV(fC(this))}},dC=new WeakMap;function fC(t){let e=dC.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(ki.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ki.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});oc.AbortController=ki;oc.AbortSignal=Bi;oc.default=ki;sc.exports=ki;sc.exports.AbortController=sc.exports.default=ki;sc.exports.AbortSignal=Bi});var Er=x((R_e,hy)=>{"use strict";var CV=require("buffer"),{format:IV,inspect:NV}=ay(),{codes:{ERR_INVALID_ARG_TYPE:dy}}=cr(),{kResistStopPropagation:DV,AggregateError:OV,SymbolDispose:LV}=st(),MV=globalThis.AbortSignal||xt().AbortSignal,PV=globalThis.AbortController||xt().AbortController,FV=Object.getPrototypeOf(async function(){}).constructor,hC=globalThis.Blob||CV.Blob,BV=typeof hC<"u"?function(e){return e instanceof hC}:function(e){return!1},pC=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new dy(e,"AbortSignal",t)},kV=(t,e)=>{if(typeof t!="function")throw new dy(e,"Function",t)};hy.exports={AggregateError:OV,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:IV,inspect:NV,types:{isAsyncFunction(t){return t instanceof FV},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:BV,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new dy("signal","AbortSignal",e);pC(e,"signal"),kV(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[DV]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[LV](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:MV.any||function(e){if(e.length===1)return e[0];let r=new PV,n=()=>r.abort();return e.forEach(i=>{pC(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};hy.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ta=x((A_e,vC)=>{"use strict";var{ArrayIsArray:gy,ArrayPrototypeIncludes:bC,ArrayPrototypeJoin:wC,ArrayPrototypeMap:$V,NumberIsInteger:yy,NumberIsNaN:qV,NumberMAX_SAFE_INTEGER:UV,NumberMIN_SAFE_INTEGER:WV,NumberParseInt:jV,ObjectPrototypeHasOwnProperty:zV,RegExpPrototypeExec:_C,String:HV,StringPrototypeToUpperCase:VV,StringPrototypeTrim:GV}=st(),{hideStackFrames:jr,codes:{ERR_SOCKET_BAD_PORT:YV,ERR_INVALID_ARG_TYPE:ur,ERR_INVALID_ARG_VALUE:ea,ERR_OUT_OF_RANGE:As,ERR_UNKNOWN_SIGNAL:gC}}=cr(),{normalizeEncoding:JV}=Er(),{isAsyncFunction:KV,isArrayBufferView:XV}=Er().types,yC={};function ZV(t){return t===(t|0)}function QV(t){return t===t>>>0}var eG=/^[0-7]+$/,tG="must be a 32-bit unsigned integer or an octal string";function rG(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(_C(eG,t)===null)throw new ea(e,t,tG);t=jV(t,8)}return EC(t,e),t}var nG=jr((t,e,r=WV,n=UV)=>{if(typeof t!="number")throw new ur(e,"number",t);if(!yy(t))throw new As(e,"an integer",t);if(t<r||t>n)throw new As(e,`>= ${r} && <= ${n}`,t)}),iG=jr((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new ur(e,"number",t);if(!yy(t))throw new As(e,"an integer",t);if(t<r||t>n)throw new As(e,`>= ${r} && <= ${n}`,t)}),EC=jr((t,e,r=!1)=>{if(typeof t!="number")throw new ur(e,"number",t);if(!yy(t))throw new As(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new As(e,`>= ${n} && <= ${i}`,t)});function my(t,e){if(typeof t!="string")throw new ur(e,"string",t)}function sG(t,e,r=void 0,n){if(typeof t!="number")throw new ur(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&qV(t))throw new As(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var oG=jr((t,e,r)=>{if(!bC(r,t)){let i="must be one of: "+wC($V(r,s=>typeof s=="string"?`'${s}'`:HV(s)),", ");throw new ea(e,t,i)}});function SC(t,e){if(typeof t!="boolean")throw new ur(e,"boolean",t)}function py(t,e,r){return t==null||!zV(t,e)?r:t[e]}var aG=jr((t,e,r=null)=>{let n=py(r,"allowArray",!1),i=py(r,"allowFunction",!1);if(!py(r,"nullable",!1)&&t===null||!n&&gy(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new ur(e,"Object",t)}),lG=jr((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new ur(e,"a dictionary",t)}),fd=jr((t,e,r=0)=>{if(!gy(t))throw new ur(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new ea(e,t,n)}});function cG(t,e){fd(t,e);for(let r=0;r<t.length;r++)my(t[r],`${e}[${r}]`)}function uG(t,e){fd(t,e);for(let r=0;r<t.length;r++)SC(t[r],`${e}[${r}]`)}function fG(t,e){fd(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new ur(i,"AbortSignal",n);xC(n,i)}}function dG(t,e="signal"){if(my(t,e),yC[t]===void 0)throw yC[VV(t)]!==void 0?new gC(t+" (signals must use all capital letters)"):new gC(t)}var hG=jr((t,e="buffer")=>{if(!XV(t))throw new ur(e,["Buffer","TypedArray","DataView"],t)});function pG(t,e){let r=JV(e),n=t.length;if(r==="hex"&&n%2!==0)throw new ea("encoding",e,`is invalid for data of length ${n}`)}function gG(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&GV(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new YV(e,t,r);return t|0}var xC=jr((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ur(e,"AbortSignal",t)}),yG=jr((t,e)=>{if(typeof t!="function")throw new ur(e,"Function",t)}),mG=jr((t,e)=>{if(typeof t!="function"||KV(t))throw new ur(e,"Function",t)}),bG=jr((t,e)=>{if(t!==void 0)throw new ur(e,"undefined",t)});function wG(t,e,r){if(!bC(r,t))throw new ur(e,`('${wC(r,"|")}')`,t)}var _G=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function mC(t,e){if(typeof t>"u"||!_C(_G,t))throw new ea(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function EG(t){if(typeof t=="string")return mC(t,"hints"),t;if(gy(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];mC(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new ea("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}vC.exports={isInt32:ZV,isUint32:QV,parseFileMode:rG,validateArray:fd,validateStringArray:cG,validateBooleanArray:uG,validateAbortSignalArray:fG,validateBoolean:SC,validateBuffer:hG,validateDictionary:lG,validateEncoding:pG,validateFunction:yG,validateInt32:iG,validateInteger:nG,validateNumber:sG,validateObject:aG,validateOneOf:oG,validatePlainFunction:mG,validatePort:gG,validateSignalName:dG,validateString:my,validateUint32:EC,validateUndefined:bG,validateUnion:wG,validateAbortSignal:xC,validateLinkHeaderValue:EG}});var Ve=x((C_e,TC)=>{TC.exports=global.process});var xn=x((I_e,qC)=>{"use strict";var{SymbolAsyncIterator:RC,SymbolIterator:AC,SymbolFor:Cs}=st(),CC=Cs("nodejs.stream.destroyed"),IC=Cs("nodejs.stream.errored"),by=Cs("nodejs.stream.readable"),wy=Cs("nodejs.stream.writable"),NC=Cs("nodejs.stream.disturbed"),SG=Cs("nodejs.webstream.isClosedPromise"),xG=Cs("nodejs.webstream.controllerErrorFunction");function dd(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function hd(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function vG(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Sn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function DC(t){return!!(t&&!Sn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function OC(t){return!!(t&&!Sn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function LC(t){return!!(t&&!Sn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function TG(t){return DC(t)||OC(t)||LC(t)}function RG(t,e){return t==null?!1:e===!0?typeof t[RC]=="function":e===!1?typeof t[AC]=="function":typeof t[RC]=="function"||typeof t[AC]=="function"}function pd(t){if(!Sn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[CC]||n!=null&&n.destroyed)}function MC(t){if(!hd(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function AG(t,e){if(!hd(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function CG(t){if(!dd(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function PC(t,e){if(!dd(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function FC(t){return t&&t[by]!=null?t[by]:typeof t?.readable!="boolean"?null:pd(t)?!1:dd(t)&&t.readable&&!PC(t)}function BC(t){return t&&t[wy]!=null?t[wy]:typeof t?.writable!="boolean"?null:pd(t)?!1:hd(t)&&t.writable&&!MC(t)}function IG(t,e){return Sn(t)?pd(t)?!0:!(e?.readable!==!1&&FC(t)||e?.writable!==!1&&BC(t)):null}function NG(t){var e,r;return Sn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function DG(t){var e,r;return Sn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function OG(t){if(!Sn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&kC(t)?t._closed:null}function kC(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function $C(t){return typeof t._sent100=="boolean"&&kC(t)}function LG(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function MG(t){if(!Sn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&$C(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function PG(t){var e;return!!(t&&((e=t[NC])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function FG(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[IC])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}qC.exports={isDestroyed:pd,kIsDestroyed:CC,isDisturbed:PG,kIsDisturbed:NC,isErrored:FG,kIsErrored:IC,isReadable:FC,kIsReadable:by,kIsClosedPromise:SG,kControllerErrorFunction:xG,kIsWritable:wy,isClosed:OG,isDuplexNodeStream:vG,isFinished:IG,isIterable:RG,isReadableNodeStream:dd,isReadableStream:DC,isReadableEnded:CG,isReadableFinished:PC,isReadableErrored:DG,isNodeStream:Sn,isWebStream:TG,isWritable:BC,isWritableNodeStream:hd,isWritableStream:OC,isWritableEnded:MC,isWritableFinished:AG,isWritableErrored:NG,isServerRequest:LG,isServerResponse:$C,willEmitClose:MG,isTransformStream:LC}});var ii=x((N_e,vy)=>{"use strict";var $i=Ve(),{AbortError:JC,codes:BG}=cr(),{ERR_INVALID_ARG_TYPE:kG,ERR_STREAM_PREMATURE_CLOSE:UC}=BG,{kEmptyObject:Ey,once:Sy}=Er(),{validateAbortSignal:$G,validateFunction:qG,validateObject:UG,validateBoolean:WG}=ta(),{Promise:jG,PromisePrototypeThen:zG,SymbolDispose:KC}=st(),{isClosed:HG,isReadable:WC,isReadableNodeStream:_y,isReadableStream:VG,isReadableFinished:jC,isReadableErrored:zC,isWritable:HC,isWritableNodeStream:VC,isWritableStream:GG,isWritableFinished:GC,isWritableErrored:YC,isNodeStream:YG,willEmitClose:JG,kIsClosedPromise:KG}=xn(),ra;function XG(t){return t.setHeader&&typeof t.abort=="function"}var xy=()=>{};function XC(t,e,r){var n,i;if(arguments.length===2?(r=e,e=Ey):e==null?e=Ey:UG(e,"options"),qG(r,"callback"),$G(e.signal,"options.signal"),r=Sy(r),VG(t)||GG(t))return ZG(t,e,r);if(!YG(t))throw new kG("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:_y(t),o=(i=e.writable)!==null&&i!==void 0?i:VC(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||h()},u=JG(t)&&_y(t)===s&&VC(t)===o,d=GC(t,!1),h=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=jC(t,!1),g=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},p=I=>{r.call(t,I)},m=HG(t),y=()=>{m=!0;let I=YC(t)||zC(t);if(I&&typeof I!="boolean")return r.call(t,I);if(s&&!f&&_y(t,!0)&&!jC(t,!1))return r.call(t,new UC);if(o&&!d&&!GC(t,!1))return r.call(t,new UC);r.call(t)},v=()=>{m=!0;let I=YC(t)||zC(t);if(I&&typeof I!="boolean")return r.call(t,I);r.call(t)},b=()=>{t.req.on("finish",h)};XG(t)?(t.on("complete",h),u||t.on("abort",y),t.req?b():t.on("request",b)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",g),t.on("finish",h),e.error!==!1&&t.on("error",p),t.on("close",y),m?$i.nextTick(y):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||$i.nextTick(v):(!s&&(!u||WC(t))&&(d||HC(t)===!1)||!o&&(!u||HC(t))&&(f||WC(t)===!1)||l&&t.req&&t.aborted)&&$i.nextTick(v);let w=()=>{r=xy,t.removeListener("aborted",y),t.removeListener("complete",h),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",g),t.removeListener("error",p),t.removeListener("close",y)};if(e.signal&&!m){let I=()=>{let O=r;w(),O.call(t,new JC(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)$i.nextTick(I);else{ra=ra||Er().addAbortListener;let O=ra(e.signal,I),A=r;r=Sy((...k)=>{O[KC](),A.apply(t,k)})}}return w}function ZG(t,e,r){let n=!1,i=xy;if(e.signal)if(i=()=>{n=!0,r.call(t,new JC(void 0,{cause:e.signal.reason}))},e.signal.aborted)$i.nextTick(i);else{ra=ra||Er().addAbortListener;let o=ra(e.signal,i),a=r;r=Sy((...l)=>{o[KC](),a.apply(t,l)})}let s=(...o)=>{n||$i.nextTick(()=>r.apply(t,o))};return zG(t[KG].promise,s,s),xy}function QG(t,e){var r;let n=!1;return e===null&&(e=Ey),(r=e)!==null&&r!==void 0&&r.cleanup&&(WG(e.cleanup,"cleanup"),n=e.cleanup),new jG((i,s)=>{let o=XC(t,e,a=>{n&&o(),a?s(a):i()})})}vy.exports=XC;vy.exports.finished=QG});var Is=x((D_e,sI)=>{"use strict";var vn=Ve(),{aggregateTwoErrors:e7,codes:{ERR_MULTIPLE_CALLBACK:t7},AbortError:r7}=cr(),{Symbol:eI}=st(),{kIsDestroyed:n7,isDestroyed:i7,isFinished:s7,isServerRequest:o7}=xn(),tI=eI("kDestroy"),Ty=eI("kConstruct");function rI(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function a7(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(rI(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?ZC(this,t,e):this.once(tI,function(s){ZC(this,e7(s,t),e)}),this)}function ZC(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;rI(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?vn.nextTick(l7,t,s):vn.nextTick(nI,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function l7(t,e){Ry(t,e),nI(t)}function nI(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Ry(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function c7(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Ay(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?vn.nextTick(Ry,t,e):Ry(t,e))}function u7(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Ty,e),!(t.listenerCount(Ty)>1)&&vn.nextTick(f7,t)}function f7(t){let e=!1;function r(n){if(e){Ay(t,n??new t7);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(tI,n):n?Ay(t,n,!0):vn.nextTick(d7,t)}try{t._construct(n=>{vn.nextTick(r,n)})}catch(n){vn.nextTick(r,n)}}function d7(t){t.emit(Ty)}function QC(t){return t?.setHeader&&typeof t.abort=="function"}function iI(t){t.emit("close")}function h7(t,e){t.emit("error",e),vn.nextTick(iI,t)}function p7(t,e){!t||i7(t)||(!e&&!s7(t)&&(e=new r7),o7(t)?(t.socket=null,t.destroy(e)):QC(t)?t.abort():QC(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?vn.nextTick(h7,t,e):vn.nextTick(iI,t),t.destroyed||(t[n7]=!0))}sI.exports={construct:u7,destroyer:p7,destroy:a7,undestroy:c7,errorOrDestroy:Ay}});var md=x((O_e,aI)=>{"use strict";var{ArrayIsArray:g7,ObjectSetPrototypeOf:oI}=st(),{EventEmitter:gd}=require("events");function yd(t){gd.call(this,t)}oI(yd.prototype,gd.prototype);oI(yd,gd);yd.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),gd.listenerCount(this,"error")===0&&this.emit("error",u)}Cy(r,"error",l),Cy(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Cy(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):g7(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}aI.exports={Stream:yd,prependListener:Cy}});var ac=x((L_e,bd)=>{"use strict";var{SymbolDispose:y7}=st(),{AbortError:lI,codes:m7}=cr(),{isNodeStream:cI,isWebStream:b7,kControllerErrorFunction:w7}=xn(),_7=ii(),{ERR_INVALID_ARG_TYPE:uI}=m7,Iy,E7=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new uI(e,"AbortSignal",t)};bd.exports.addAbortSignal=function(e,r){if(E7(e,"signal"),!cI(r)&&!b7(r))throw new uI("stream",["ReadableStream","WritableStream","Stream"],r);return bd.exports.addAbortSignalNoValidate(e,r)};bd.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=cI(e)?()=>{e.destroy(new lI(void 0,{cause:t.reason}))}:()=>{e[w7](new lI(void 0,{cause:t.reason}))};if(t.aborted)r();else{Iy=Iy||Er().addAbortListener;let n=Iy(t,r);_7(e,n[y7])}return e}});var hI=x((P_e,dI)=>{"use strict";var{StringPrototypeSlice:fI,SymbolIterator:S7,TypedArrayPrototypeSet:wd,Uint8Array:x7}=st(),{Buffer:Ny}=require("buffer"),{inspect:v7}=Er();dI.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Ny.alloc(0);let r=Ny.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)wd(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[S7](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=fI(s,0,e),this.head=n,n.data=fI(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Ny.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)wd(r,o,n-e),e-=o.length;else{e===o.length?(wd(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(wd(r,new x7(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return v7(this,{...r,depth:0,customInspect:!1})}}});var lc=x((F_e,mI)=>{"use strict";var{MathFloor:T7,NumberIsInteger:R7}=st(),{validateInteger:A7}=ta(),{ERR_INVALID_ARG_VALUE:C7}=cr().codes,pI=16*1024,gI=16;function I7(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function yI(t){return t?gI:pI}function N7(t,e){A7(e,"value",0),t?gI=e:pI=e}function D7(t,e,r,n){let i=I7(e,n,r);if(i!=null){if(!R7(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new C7(s,i)}return T7(i)}return yI(t.objectMode)}mI.exports={getHighWaterMark:D7,getDefaultHighWaterMark:yI,setDefaultHighWaterMark:N7}});var _I=x((Dy,wI)=>{var _d=require("buffer"),Tn=_d.Buffer;function bI(t,e){for(var r in t)e[r]=t[r]}Tn.from&&Tn.alloc&&Tn.allocUnsafe&&Tn.allocUnsafeSlow?wI.exports=_d:(bI(_d,Dy),Dy.Buffer=Ns);function Ns(t,e,r){return Tn(t,e,r)}Ns.prototype=Object.create(Tn.prototype);bI(Tn,Ns);Ns.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Tn(t,e,r)};Ns.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Tn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ns.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Tn(t)};Ns.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return _d.SlowBuffer(t)}});var uc=x(SI=>{"use strict";var Ly=_I().Buffer,EI=Ly.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function O7(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function L7(t){var e=O7(t);if(typeof e!="string"&&(Ly.isEncoding===EI||!EI(t)))throw new Error("Unknown encoding: "+t);return e||t}SI.StringDecoder=cc;function cc(t){this.encoding=L7(t);var e;switch(this.encoding){case"utf16le":this.text=$7,this.end=q7,e=4;break;case"utf8":this.fillLast=F7,e=4;break;case"base64":this.text=U7,this.end=W7,e=3;break;default:this.write=j7,this.end=z7;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ly.allocUnsafe(e)}cc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};cc.prototype.end=k7;cc.prototype.text=B7;cc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Oy(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function M7(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Oy(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Oy(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Oy(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function P7(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function F7(t){var e=this.lastTotal-this.lastNeed,r=P7(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function B7(t,e){var r=M7(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function k7(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function $7(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function q7(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function U7(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function W7(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function j7(t){return t.toString(this.encoding)}function z7(t){return t&&t.length?this.write(t):""}});var My=x((k_e,RI)=>{"use strict";var xI=Ve(),{PromisePrototypeThen:H7,SymbolAsyncIterator:vI,SymbolIterator:TI}=st(),{Buffer:V7}=require("buffer"),{ERR_INVALID_ARG_TYPE:G7,ERR_STREAM_NULL_VALUES:Y7}=cr().codes;function J7(t,e,r){let n;if(typeof e=="string"||e instanceof V7)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[vI])i=!0,n=e[vI]();else if(e&&e[TI])i=!1,n=e[TI]();else throw new G7("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){H7(a(c),()=>xI.nextTick(u,c),d=>xI.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:h,done:f}=await n.throw(c);if(await h,f)return}if(typeof n.return=="function"){let{value:h}=await n.return();await h}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Y7;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}RI.exports=J7});var dc=x(($_e,zI)=>{"use strict";var on=Ve(),{ArrayPrototypeIndexOf:K7,NumberIsInteger:X7,NumberIsNaN:Z7,NumberParseInt:Q7,ObjectDefineProperties:Wy,ObjectKeys:e9,ObjectSetPrototypeOf:II,Promise:NI,SafeSet:t9,SymbolAsyncDispose:r9,SymbolAsyncIterator:n9,Symbol:i9}=st();zI.exports=ye;ye.ReadableState=vd;var{EventEmitter:s9}=require("events"),{Stream:qi,prependListener:o9}=md(),{Buffer:Py}=require("buffer"),{addAbortSignal:a9}=ac(),DI=ii(),Ie=Er().debuglog("stream",t=>{Ie=t}),l9=hI(),sa=Is(),{getHighWaterMark:c9,getDefaultHighWaterMark:u9}=lc(),{aggregateTwoErrors:AI,codes:{ERR_INVALID_ARG_TYPE:f9,ERR_METHOD_NOT_IMPLEMENTED:d9,ERR_OUT_OF_RANGE:h9,ERR_STREAM_PUSH_AFTER_EOF:p9,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:g9},AbortError:y9}=cr(),{validateObject:m9}=ta(),Ds=i9("kPaused"),{StringDecoder:OI}=uc(),b9=My();II(ye.prototype,qi.prototype);II(ye,qi);var Fy=()=>{},{errorOrDestroy:na}=sa,ia=1,w9=2,LI=4,fc=8,MI=16,Ed=32,Sd=64,PI=128,_9=256,E9=512,S9=1024,qy=2048,Uy=4096,x9=8192,v9=16384,T9=32768,FI=65536,R9=1<<17,A9=1<<18;function Dt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}Wy(vd.prototype,{objectMode:Dt(ia),ended:Dt(w9),endEmitted:Dt(LI),reading:Dt(fc),constructed:Dt(MI),sync:Dt(Ed),needReadable:Dt(Sd),emittedReadable:Dt(PI),readableListening:Dt(_9),resumeScheduled:Dt(E9),errorEmitted:Dt(S9),emitClose:Dt(qy),autoDestroy:Dt(Uy),destroyed:Dt(x9),closed:Dt(v9),closeEmitted:Dt(T9),multiAwaitDrain:Dt(FI),readingMore:Dt(R9),dataEmitted:Dt(A9)});function vd(t,e,r){typeof r!="boolean"&&(r=e instanceof Rn()),this.state=qy|Uy|MI|Ed,t&&t.objectMode&&(this.state|=ia),r&&t&&t.readableObjectMode&&(this.state|=ia),this.highWaterMark=t?c9(this,t,"readableHighWaterMark",r):u9(!1),this.buffer=new l9,this.length=0,this.pipes=[],this.flowing=null,this[Ds]=null,t&&t.emitClose===!1&&(this.state&=~qy),t&&t.autoDestroy===!1&&(this.state&=~Uy),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new OI(t.encoding),this.encoding=t.encoding)}function ye(t){if(!(this instanceof ye))return new ye(t);let e=this instanceof Rn();this._readableState=new vd(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&a9(t.signal,this)),qi.call(this,t),sa.construct(this,()=>{this._readableState.needReadable&&xd(this,this._readableState)})}ye.prototype.destroy=sa.destroy;ye.prototype._undestroy=sa.undestroy;ye.prototype._destroy=function(t,e){e(t)};ye.prototype[s9.captureRejectionSymbol]=function(t){this.destroy(t)};ye.prototype[r9]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new y9,this.destroy(t)),new NI((e,r)=>DI(this,n=>n&&n!==t?r(n):e(null)))};ye.prototype.push=function(t,e){return BI(this,t,e,!1)};ye.prototype.unshift=function(t,e){return BI(this,t,e,!0)};function BI(t,e,r,n){Ie("readableAddChunk",e);let i=t._readableState,s;if((i.state&ia)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=Py.from(e,r).toString(i.encoding):(e=Py.from(e,r),r=""))):e instanceof Py?r="":qi._isUint8Array(e)?(e=qi._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new f9("chunk",["string","Buffer","Uint8Array"],e))),s)na(t,s);else if(e===null)i.state&=~fc,N9(t,i);else if((i.state&ia)!==0||e&&e.length>0)if(n)if((i.state&LI)!==0)na(t,new g9);else{if(i.destroyed||i.errored)return!1;By(t,i,e,!0)}else if(i.ended)na(t,new p9);else{if(i.destroyed||i.errored)return!1;i.state&=~fc,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?By(t,i,e,!1):xd(t,i)):By(t,i,e,!1)}else n||(i.state&=~fc,xd(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function By(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&FI)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&Sd)!==0&&Td(t)),xd(t,e)}ye.prototype.isPaused=function(){let t=this._readableState;return t[Ds]===!0||t.flowing===!1};ye.prototype.setEncoding=function(t){let e=new OI(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var C9=1073741824;function I9(t){if(t>C9)throw new h9("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function CI(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&ia)!==0?1:Z7(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}ye.prototype.read=function(t){Ie("read",t),t===void 0?t=NaN:X7(t)||(t=Q7(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=I9(t)),t!==0&&(e.state&=~PI),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ie("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?ky(this):Td(this),null;if(t=CI(t,e),t===0&&e.ended)return e.length===0&&ky(this),null;let n=(e.state&Sd)!==0;if(Ie("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ie("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Ie("reading, ended or constructing",n);else if(n){Ie("do read"),e.state|=fc|Ed,e.length===0&&(e.state|=Sd);try{this._read(e.highWaterMark)}catch(s){na(this,s)}e.state&=~Ed,e.reading||(t=CI(r,e))}let i;return t>0?i=WI(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&ky(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function N9(t,e){if(Ie("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Td(t):(e.needReadable=!1,e.emittedReadable=!0,kI(t))}}function Td(t){let e=t._readableState;Ie("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ie("emitReadable",e.flowing),e.emittedReadable=!0,on.nextTick(kI,t))}function kI(t){let e=t._readableState;Ie("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,qI(t)}function xd(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,on.nextTick(D9,t,e))}function D9(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Ie("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ye.prototype._read=function(t){throw new d9("_read()")};ye.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new t9(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Ie("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==on.stdout&&t!==on.stderr?a:m;n.endEmitted?on.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,v){Ie("onunpipe"),y===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,u())}function a(){Ie("onend"),t.end()}let l,c=!1;function u(){Ie("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Ie("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Ie("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=O9(r,t),t.on("drain",l))}r.on("data",h);function h(y){Ie("ondata");let v=t.write(y);Ie("dest.write",v),v===!1&&d()}function f(y){if(Ie("onerror",y),m(),t.removeListener("error",f),t.listenerCount("error")===0){let v=t._writableState||t._readableState;v&&!v.errorEmitted?na(t,y):t.emit("error",y)}}o9(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){Ie("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){Ie("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Ie("pipe resume"),r.resume()),t};function O9(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Ie("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Ie("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}ye.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=K7(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};ye.prototype.on=function(t,e){let r=qi.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ie("on readable",n.length,n.reading),n.length?Td(this):n.reading||on.nextTick(L9,this)),r};ye.prototype.addListener=ye.prototype.on;ye.prototype.removeListener=function(t,e){let r=qi.prototype.removeListener.call(this,t,e);return t==="readable"&&on.nextTick($I,this),r};ye.prototype.off=ye.prototype.removeListener;ye.prototype.removeAllListeners=function(t){let e=qi.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&on.nextTick($I,this),e};function $I(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Ds]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function L9(t){Ie("readable nexttick read 0"),t.read(0)}ye.prototype.resume=function(){let t=this._readableState;return t.flowing||(Ie("resume"),t.flowing=!t.readableListening,M9(this,t)),t[Ds]=!1,this};function M9(t,e){e.resumeScheduled||(e.resumeScheduled=!0,on.nextTick(P9,t,e))}function P9(t,e){Ie("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),qI(t),e.flowing&&!e.reading&&t.read(0)}ye.prototype.pause=function(){return Ie("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ds]=!0,this};function qI(t){let e=t._readableState;for(Ie("flow",e.flowing);e.flowing&&t.read()!==null;);}ye.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{na(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=e9(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};ye.prototype[n9]=function(){return UI(this)};ye.prototype.iterator=function(t){return t!==void 0&&m9(t,"options"),UI(this,t)};function UI(t,e){typeof t.read!="function"&&(t=ye.wrap(t,{objectMode:!0}));let r=F9(t,e);return r.stream=t,r}async function*F9(t,e){let r=Fy;function n(o){this===t?(r(),r=Fy):r=o}t.on("readable",n);let i,s=DI(t,{writable:!1},o=>{i=o?AI(i,o):null,r(),r=Fy});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new NI(n)}}}catch(o){throw i=AI(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?sa.destroyer(t,null):(t.off("readable",n),s())}}Wy(ye.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Wy(vd.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Ds]!==!1},set(t){this[Ds]=!!t}}});ye._fromList=WI;function WI(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ky(t){let e=t._readableState;Ie("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,on.nextTick(B9,e,t))}function B9(t,e){if(Ie("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)on.nextTick(k9,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function k9(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}ye.from=function(t,e){return b9(ye,t,e)};var $y;function jI(){return $y===void 0&&($y={}),$y}ye.fromWeb=function(t,e){return jI().newStreamReadableFromReadableStream(t,e)};ye.toWeb=function(t,e){return jI().newReadableStreamFromStreamReadable(t,e)};ye.wrap=function(t,e){var r,n;return new ye({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){sa.destroyer(t,i),s(i)}}).wrap(t)}});var Nd=x((q_e,r1)=>{"use strict";var Os=Ve(),{ArrayPrototypeSlice:GI,Error:$9,FunctionPrototypeSymbolHasInstance:YI,ObjectDefineProperty:JI,ObjectDefineProperties:q9,ObjectSetPrototypeOf:KI,StringPrototypeToLowerCase:U9,Symbol:W9,SymbolHasInstance:j9}=st();r1.exports=ut;ut.WritableState=gc;var{EventEmitter:z9}=require("events"),hc=md().Stream,{Buffer:Rd}=require("buffer"),Id=Is(),{addAbortSignal:H9}=ac(),{getHighWaterMark:V9,getDefaultHighWaterMark:G9}=lc(),{ERR_INVALID_ARG_TYPE:Y9,ERR_METHOD_NOT_IMPLEMENTED:J9,ERR_MULTIPLE_CALLBACK:XI,ERR_STREAM_CANNOT_PIPE:K9,ERR_STREAM_DESTROYED:pc,ERR_STREAM_ALREADY_FINISHED:X9,ERR_STREAM_NULL_VALUES:Z9,ERR_STREAM_WRITE_AFTER_END:Q9,ERR_UNKNOWN_ENCODING:ZI}=cr().codes,{errorOrDestroy:oa}=Id;KI(ut.prototype,hc.prototype);KI(ut,hc);function Hy(){}var aa=W9("kOnFinished");function gc(t,e,r){typeof r!="boolean"&&(r=e instanceof Rn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?V9(this,t,"writableHighWaterMark",r):G9(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=tY.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Cd(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[aa]=[]}function Cd(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}gc.prototype.getBuffer=function(){return GI(this.buffered,this.bufferedIndex)};JI(gc.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ut(t){let e=this instanceof Rn();if(!e&&!YI(ut,this))return new ut(t);this._writableState=new gc(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&H9(t.signal,this)),hc.call(this,t),Id.construct(this,()=>{let r=this._writableState;r.writing||Gy(this,r),Yy(this,r)})}JI(ut,j9,{__proto__:null,value:function(t){return YI(this,t)?!0:this!==ut?!1:t&&t._writableState instanceof gc}});ut.prototype.pipe=function(){oa(this,new K9)};function QI(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Rd.isEncoding(r))throw new ZI(r);typeof n!="function"&&(n=Hy)}if(e===null)throw new Z9;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Rd.from(e,r),r="buffer");else if(e instanceof Rd)r="buffer";else if(hc._isUint8Array(e))e=hc._uint8ArrayToBuffer(e),r="buffer";else throw new Y9("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Q9:i.destroyed&&(s=new pc("write")),s?(Os.nextTick(n,s),oa(t,s,!0),s):(i.pendingcb++,eY(t,i,e,r,n))}ut.prototype.write=function(t,e,r){return QI(this,t,e,r)===!0};ut.prototype.cork=function(){this._writableState.corked++};ut.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Gy(this,t))};ut.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=U9(e)),!Rd.isEncoding(e))throw new ZI(e);return this._writableState.defaultEncoding=e,this};function eY(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Hy&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function HI(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new pc("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function VI(t,e,r,n){--e.pendingcb,n(r),Vy(e),oa(t,r)}function tY(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){oa(t,new XI);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Os.nextTick(VI,t,r,e,i):VI(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&Gy(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Os.nextTick(rY,r.afterWriteTickInfo)):e1(t,r,1,i))}function rY({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,e1(t,e,r,n)}function e1(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Vy(e),Yy(t,e)}function Vy(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new pc("write"))}let r=t[aa].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new pc("end"))}Cd(t)}function Gy(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Hy:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:GI(r,o);l.allBuffers=e.allBuffers,HI(t,e,!0,e.length,l,"",a),Cd(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;HI(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Cd(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ut.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new J9("_write()")};ut.prototype._writev=null;ut.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=QI(this,t,e);s instanceof $9&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Yy(this,n,!0),n.ended=!0):n.finished?i=new X9("end"):n.destroyed&&(i=new pc("end"))),typeof r=="function"&&(i||n.finished?Os.nextTick(r,i):n[aa].push(r)),this};function Ad(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function nY(t,e){let r=!1;function n(i){if(r){oa(t,i??XI());return}if(r=!0,e.pendingcb--,i){let s=e[aa].splice(0);for(let o=0;o<s.length;o++)s[o](i);oa(t,i,e.sync)}else Ad(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Os.nextTick(zy,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function iY(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,nY(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Yy(t,e,r){Ad(e)&&(iY(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Os.nextTick((n,i)=>{Ad(i)?zy(n,i):i.pendingcb--},t,e)):Ad(e)&&(e.pendingcb++,zy(t,e))))}function zy(t,e){e.pendingcb--,e.finished=!0;let r=e[aa].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}q9(ut.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var sY=Id.destroy;ut.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[aa].length)&&Os.nextTick(Vy,r),sY.call(this,t,e),this};ut.prototype._undestroy=Id.undestroy;ut.prototype._destroy=function(t,e){e(t)};ut.prototype[z9.captureRejectionSymbol]=function(t){this.destroy(t)};var jy;function t1(){return jy===void 0&&(jy={}),jy}ut.fromWeb=function(t,e){return t1().newStreamWritableFromWritableStream(t,e)};ut.toWeb=function(t){return t1().newWritableStreamFromStreamWritable(t)}});var m1=x((U_e,y1)=>{var Jy=Ve(),oY=require("buffer"),{isReadable:aY,isWritable:lY,isIterable:n1,isNodeStream:cY,isReadableNodeStream:i1,isWritableNodeStream:s1,isDuplexNodeStream:uY,isReadableStream:o1,isWritableStream:a1}=xn(),l1=ii(),{AbortError:p1,codes:{ERR_INVALID_ARG_TYPE:fY,ERR_INVALID_RETURN_VALUE:c1}}=cr(),{destroyer:ca}=Is(),dY=Rn(),g1=dc(),hY=Nd(),{createDeferredPromise:u1}=Er(),f1=My(),d1=globalThis.Blob||oY.Blob,pY=typeof d1<"u"?function(e){return e instanceof d1}:function(e){return!1},gY=globalThis.AbortController||xt().AbortController,{FunctionPrototypeCall:h1}=st(),Ui=class extends dY{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};y1.exports=function t(e,r){if(uY(e))return e;if(i1(e))return la({readable:e});if(s1(e))return la({writable:e});if(cY(e))return la({writable:!1,readable:!1});if(o1(e))return la({readable:g1.fromWeb(e)});if(a1(e))return la({writable:hY.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=yY(e);if(n1(i))return f1(Ui,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=h1(l,i,d=>{if(d!=null)throw new c1("nully","body",d)},d=>{ca(c,d)});return c=new Ui({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,Jy.nextTick(d,null)}catch(h){Jy.nextTick(d,h)}})},destroy:a})}throw new c1("Iterable, AsyncIterable or AsyncFunction",r,i)}if(pY(e))return t(e.arrayBuffer());if(n1(e))return f1(Ui,e,{objectMode:!0,writable:!1});if(o1(e?.readable)&&a1(e?.writable))return Ui.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?i1(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?s1(e?.writable)?e?.writable:t(e.writable):void 0;return la({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return h1(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{ca(i,s)}),i=new Ui({objectMode:!0,writable:!1,read(){}})}throw new fY(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function yY(t){let{promise:e,resolve:r}=u1(),n=new gY,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(Jy.nextTick(c),l)return;if(i.aborted)throw new p1(void 0,{cause:i.reason});({promise:e,resolve:r}=u1()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function la(t){let e=t.readable&&typeof t.readable.read!="function"?g1.wrap(t.readable):t.readable,r=t.writable,n=!!aY(e),i=!!lY(r),s,o,a,l,c;function u(d){let h=l;l=null,h?h(d):d&&c.destroy(d)}return c=new Ui({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(l1(r,d=>{i=!1,d&&ca(e,d),u(d)}),c._write=function(d,h,f){r.write(d,h)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(l1(e,d=>{n=!1,d&&ca(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,h){!d&&l!==null&&(d=new p1),a=null,s=null,o=null,l===null?h(d):(l=h,ca(r,d),ca(e,d))},c}});var Rn=x((W_e,_1)=>{"use strict";var{ObjectDefineProperties:mY,ObjectGetOwnPropertyDescriptor:si,ObjectKeys:bY,ObjectSetPrototypeOf:b1}=st();_1.exports=an;var Zy=dc(),zr=Nd();b1(an.prototype,Zy.prototype);b1(an,Zy);{let t=bY(zr.prototype);for(let e=0;e<t.length;e++){let r=t[e];an.prototype[r]||(an.prototype[r]=zr.prototype[r])}}function an(t){if(!(this instanceof an))return new an(t);Zy.call(this,t),zr.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}mY(an.prototype,{writable:{__proto__:null,...si(zr.prototype,"writable")},writableHighWaterMark:{__proto__:null,...si(zr.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...si(zr.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...si(zr.prototype,"writableBuffer")},writableLength:{__proto__:null,...si(zr.prototype,"writableLength")},writableFinished:{__proto__:null,...si(zr.prototype,"writableFinished")},writableCorked:{__proto__:null,...si(zr.prototype,"writableCorked")},writableEnded:{__proto__:null,...si(zr.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...si(zr.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Ky;function w1(){return Ky===void 0&&(Ky={}),Ky}an.fromWeb=function(t,e){return w1().newStreamDuplexFromReadableWritablePair(t,e)};an.toWeb=function(t){return w1().newReadableWritablePairFromDuplex(t)};var Xy;an.from=function(t){return Xy||(Xy=m1()),Xy(t,"body")}});var tm=x((j_e,S1)=>{"use strict";var{ObjectSetPrototypeOf:E1,Symbol:wY}=st();S1.exports=oi;var{ERR_METHOD_NOT_IMPLEMENTED:_Y}=cr().codes,em=Rn(),{getHighWaterMark:EY}=lc();E1(oi.prototype,em.prototype);E1(oi,em);var yc=wY("kCallback");function oi(t){if(!(this instanceof oi))return new oi(t);let e=t?EY(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),em.call(this,t),this._readableState.sync=!1,this[yc]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",SY)}function Qy(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function SY(){this._final!==Qy&&Qy.call(this)}oi.prototype._final=Qy;oi.prototype._transform=function(t,e,r){throw new _Y("_transform()")};oi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[yc]=r})};oi.prototype._read=function(){if(this[yc]){let t=this[yc];this[yc]=null,t()}}});var nm=x((z_e,v1)=>{"use strict";var{ObjectSetPrototypeOf:x1}=st();v1.exports=ua;var rm=tm();x1(ua.prototype,rm.prototype);x1(ua,rm);function ua(t){if(!(this instanceof ua))return new ua(t);rm.call(this,t)}ua.prototype._transform=function(t,e,r){r(null,t)}});var Md=x((H_e,I1)=>{var mc=Ve(),{ArrayIsArray:xY,Promise:vY,SymbolAsyncIterator:TY,SymbolDispose:RY}=st(),Ld=ii(),{once:AY}=Er(),CY=Is(),T1=Rn(),{aggregateTwoErrors:IY,codes:{ERR_INVALID_ARG_TYPE:dm,ERR_INVALID_RETURN_VALUE:im,ERR_MISSING_ARGS:NY,ERR_STREAM_DESTROYED:DY,ERR_STREAM_PREMATURE_CLOSE:OY},AbortError:LY}=cr(),{validateFunction:MY,validateAbortSignal:PY}=ta(),{isIterable:Ls,isReadable:sm,isReadableNodeStream:Od,isNodeStream:R1,isTransformStream:fa,isWebStream:FY,isReadableStream:om,isReadableFinished:BY}=xn(),kY=globalThis.AbortController||xt().AbortController,am,lm,cm;function A1(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Ld(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,CY.destroyer(t,s||new DY("pipe")))},cleanup:i}}function $Y(t){return MY(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function um(t){if(Ls(t))return t;if(Od(t))return qY(t);throw new dm("val",["Readable","Iterable","AsyncIterable"],t)}async function*qY(t){lm||(lm=dc()),yield*lm.prototype[TY].call(t)}async function Dd(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new vY((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Ld(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?IY(i,c):c)}finally{l(),e.off("drain",o)}}async function fm(t,e,r,{end:n}){fa(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function UY(...t){return C1(t,AY($Y(t)))}function C1(t,e,r){if(t.length===1&&xY(t[0])&&(t=t[0]),t.length<2)throw new NY("streams");let n=new kY,i=n.signal,s=r?.signal,o=[];PY(s,"options.signal");function a(){g(new LY)}cm=cm||Er().addAbortListener;let l;s&&(l=cm(s,a));let c,u,d=[],h=0;function f(b){g(b,--h===0)}function g(b,w){var I;if(b&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=b),!(!c&&!w)){for(;d.length;)d.shift()(c);(I=l)===null||I===void 0||I[RY](),n.abort(),w&&(c||o.forEach(O=>O()),mc.nextTick(e,c,u))}}let p;for(let b=0;b<t.length;b++){let w=t[b],I=b<t.length-1,O=b>0,A=I||r?.end!==!1,k=b===t.length-1;if(R1(w)){let N=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(L)};var v=N;if(A){let{destroy:L,cleanup:M}=A1(w,I,O);d.push(L),sm(w)&&k&&o.push(M)}w.on("error",N),sm(w)&&k&&o.push(()=>{w.removeListener("error",N)})}if(b===0)if(typeof w=="function"){if(p=w({signal:i}),!Ls(p))throw new im("Iterable, AsyncIterable or Stream","source",p)}else Ls(w)||Od(w)||fa(w)?p=w:p=T1.from(w);else if(typeof w=="function"){if(fa(p)){var m;p=um((m=p)===null||m===void 0?void 0:m.readable)}else p=um(p);if(p=w(p,{signal:i}),I){if(!Ls(p,!0))throw new im("AsyncIterable",`transform[${b-1}]`,p)}else{var y;am||(am=nm());let N=new am({objectMode:!0}),L=(y=p)===null||y===void 0?void 0:y.then;if(typeof L=="function")h++,L.call(p,G=>{u=G,G!=null&&N.write(G),A&&N.end(),mc.nextTick(f)},G=>{N.destroy(G),mc.nextTick(f,G)});else if(Ls(p,!0))h++,Dd(p,N,f,{end:A});else if(om(p)||fa(p)){let G=p.readable||p;h++,Dd(G,N,f,{end:A})}else throw new im("AsyncIterable or Promise","destination",p);p=N;let{destroy:M,cleanup:Y}=A1(p,!1,!0);d.push(M),k&&o.push(Y)}}else if(R1(w)){if(Od(p)){h+=2;let N=WY(p,w,f,{end:A});sm(w)&&k&&o.push(N)}else if(fa(p)||om(p)){let N=p.readable||p;h++,Dd(N,w,f,{end:A})}else if(Ls(p))h++,Dd(p,w,f,{end:A});else throw new dm("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else if(FY(w)){if(Od(p))h++,fm(um(p),w,f,{end:A});else if(om(p)||Ls(p))h++,fm(p,w,f,{end:A});else if(fa(p))h++,fm(p.readable,w,f,{end:A});else throw new dm("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else p=T1.from(w)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&mc.nextTick(a),p}function WY(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new OY)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;BY(t)?mc.nextTick(o):t.once("end",o)}else r();return Ld(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Ld(e,{readable:!1,writable:!0},r)}I1.exports={pipelineImpl:C1,pipeline:UY}});var pm=x((V_e,P1)=>{"use strict";var{pipeline:jY}=Md(),Pd=Rn(),{destroyer:zY}=Is(),{isNodeStream:Fd,isReadable:N1,isWritable:D1,isWebStream:hm,isTransformStream:Ms,isWritableStream:O1,isReadableStream:L1}=xn(),{AbortError:HY,codes:{ERR_INVALID_ARG_VALUE:M1,ERR_MISSING_ARGS:VY}}=cr(),GY=ii();P1.exports=function(...e){if(e.length===0)throw new VY("streams");if(e.length===1)return Pd.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Pd.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Pd.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Fd(e[f])&&!hm(e[f]))){if(f<e.length-1&&!(N1(e[f])||L1(e[f])||Ms(e[f])))throw new M1(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(D1(e[f])||O1(e[f])||Ms(e[f])))throw new M1(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let g=o;o=null,g?g(f):f?a.destroy(f):!h&&!d&&a.destroy()}let c=e[0],u=jY(e,l),d=!!(D1(c)||O1(c)||Ms(c)),h=!!(N1(u)||L1(u)||Ms(u));if(a=new Pd({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:h}),d){if(Fd(c))a._write=function(g,p,m){c.write(g,p)?m():n=m},a._final=function(g){c.end(),i=g},c.on("drain",function(){if(n){let g=n;n=null,g()}});else if(hm(c)){let p=(Ms(c)?c.writable:c).getWriter();a._write=async function(m,y,v){try{await p.ready,p.write(m).catch(()=>{}),v()}catch(b){v(b)}},a._final=async function(m){try{await p.ready,p.close().catch(()=>{}),i=m}catch(y){m(y)}}}let f=Ms(u)?u.readable:u;GY(f,()=>{if(i){let g=i;i=null,g()}})}if(h){if(Fd(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(hm(u)){let g=(Ms(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:p,done:m}=await g.read();if(!a.push(p))return;if(m){a.push(null);return}}catch{return}}}}return a._destroy=function(f,g){!f&&o!==null&&(f=new HY),s=null,n=null,i=null,o===null?g(f):(o=g,Fd(u)&&zY(u,f))},a}});var H1=x((G_e,mm)=>{"use strict";var YY=globalThis.AbortController||xt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:JY,ERR_INVALID_ARG_TYPE:bc,ERR_MISSING_ARGS:KY,ERR_OUT_OF_RANGE:XY},AbortError:An}=cr(),{validateAbortSignal:Ps,validateInteger:F1,validateObject:Fs}=ta(),ZY=st().Symbol("kWeak"),QY=st().Symbol("kResistStopPropagation"),{finished:eJ}=ii(),tJ=pm(),{addAbortSignalNoValidate:rJ}=ac(),{isWritable:nJ,isNodeStream:iJ}=xn(),{deprecate:sJ}=Er(),{ArrayPrototypePush:oJ,Boolean:aJ,MathFloor:B1,Number:lJ,NumberIsNaN:cJ,Promise:k1,PromiseReject:$1,PromiseResolve:uJ,PromisePrototypeThen:q1,Symbol:W1}=st(),Bd=W1("kEmpty"),U1=W1("kEof");function fJ(t,e){if(e!=null&&Fs(e,"options"),e?.signal!=null&&Ps(e.signal,"options.signal"),iJ(t)&&!nJ(t))throw new JY("stream",t,"must be writable");let r=tJ(this,t);return e!=null&&e.signal&&rJ(e.signal,r),r}function kd(t,e){if(typeof t!="function")throw new bc("fn",["Function","AsyncFunction"],t);e!=null&&Fs(e,"options"),e?.signal!=null&&Ps(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=B1(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=B1(e.highWaterMark)),F1(r,"options.concurrency",1),F1(n,"options.highWaterMark",0),n+=r,async function*(){let s=Er().AbortSignalAny([e?.signal].filter(aJ)),o=this,a=[],l={signal:s},c,u,d=!1,h=0;function f(){d=!0,g()}function g(){h-=1,p()}function p(){u&&!d&&h<r&&a.length<n&&(u(),u=null)}async function m(){try{for await(let y of o){if(d)return;if(s.aborted)throw new An;try{if(y=t(y,l),y===Bd)continue;y=uJ(y)}catch(v){y=$1(v)}h+=1,q1(y,g,f),a.push(y),c&&(c(),c=null),!d&&(a.length>=n||h>=r)&&await new k1(v=>{u=v})}a.push(U1)}catch(y){let v=$1(y);q1(v,g,f),a.push(v)}finally{d=!0,c&&(c(),c=null)}}m();try{for(;;){for(;a.length>0;){let y=await a[0];if(y===U1)return;if(s.aborted)throw new An;y!==Bd&&(yield y),a.shift(),p()}await new k1(y=>{c=y})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function dJ(t=void 0){return t!=null&&Fs(t,"options"),t?.signal!=null&&Ps(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new An({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function j1(t,e=void 0){for await(let r of ym.call(this,t,e))return!0;return!1}async function hJ(t,e=void 0){if(typeof t!="function")throw new bc("fn",["Function","AsyncFunction"],t);return!await j1.call(this,async(...r)=>!await t(...r),e)}async function pJ(t,e){for await(let r of ym.call(this,t,e))return r}async function gJ(t,e){if(typeof t!="function")throw new bc("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Bd}for await(let n of kd.call(this,r,e));}function ym(t,e){if(typeof t!="function")throw new bc("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Bd}return kd.call(this,r,e)}var gm=class extends KY{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function yJ(t,e,r){var n;if(typeof t!="function")throw new bc("reducer",["Function","AsyncFunction"],t);r!=null&&Fs(r,"options"),r?.signal!=null&&Ps(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new An(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await eJ(this.destroy(c)),c}let s=new YY,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[ZY]:this,[QY]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new An;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new gm}finally{s.abort()}return e}async function mJ(t){t!=null&&Fs(t,"options"),t?.signal!=null&&Ps(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new An(void 0,{cause:t.signal.reason});oJ(e,n)}return e}function bJ(t,e){let r=kd.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function z1(t){if(t=lJ(t),cJ(t))return 0;if(t<0)throw new XY("number",">= 0",t);return t}function wJ(t,e=void 0){return e!=null&&Fs(e,"options"),e?.signal!=null&&Ps(e.signal,"options.signal"),t=z1(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new An;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new An;t--<=0&&(yield s)}}.call(this)}function _J(t,e=void 0){return e!=null&&Fs(e,"options"),e?.signal!=null&&Ps(e.signal,"options.signal"),t=z1(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new An;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new An;if(t-- >0&&(yield s),t<=0)return}}.call(this)}mm.exports.streamReturningOperators={asIndexedPairs:sJ(dJ,"readable.asIndexedPairs will be removed in a future version."),drop:wJ,filter:ym,flatMap:bJ,map:kd,take:_J,compose:fJ};mm.exports.promiseReturningOperators={every:hJ,forEach:gJ,reduce:yJ,toArray:mJ,some:j1,find:pJ}});var bm=x((Y_e,V1)=>{"use strict";var{ArrayPrototypePop:EJ,Promise:SJ}=st(),{isIterable:xJ,isNodeStream:vJ,isWebStream:TJ}=xn(),{pipelineImpl:RJ}=Md(),{finished:AJ}=ii();wm();function CJ(...t){return new SJ((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!vJ(s)&&!xJ(s)&&!TJ(s)){let o=EJ(t);n=o.signal,i=o.end}RJ(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}V1.exports={finished:AJ,pipeline:CJ}});var wm=x((J_e,tN)=>{"use strict";var{Buffer:IJ}=require("buffer"),{ObjectDefineProperty:ai,ObjectKeys:J1,ReflectApply:K1}=st(),{promisify:{custom:X1}}=Er(),{streamReturningOperators:G1,promiseReturningOperators:Y1}=H1(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Z1}}=cr(),NJ=pm(),{setDefaultHighWaterMark:DJ,getDefaultHighWaterMark:OJ}=lc(),{pipeline:Q1}=Md(),{destroyer:LJ}=Is(),eN=ii(),_m=bm(),wc=xn(),et=tN.exports=md().Stream;et.isDestroyed=wc.isDestroyed;et.isDisturbed=wc.isDisturbed;et.isErrored=wc.isErrored;et.isReadable=wc.isReadable;et.isWritable=wc.isWritable;et.Readable=dc();for(let t of J1(G1)){let r=function(...n){if(new.target)throw Z1();return et.Readable.from(K1(e,this,n))},e=G1[t];ai(r,"name",{__proto__:null,value:e.name}),ai(r,"length",{__proto__:null,value:e.length}),ai(et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of J1(Y1)){let r=function(...n){if(new.target)throw Z1();return K1(e,this,n)},e=Y1[t];ai(r,"name",{__proto__:null,value:e.name}),ai(r,"length",{__proto__:null,value:e.length}),ai(et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}et.Writable=Nd();et.Duplex=Rn();et.Transform=tm();et.PassThrough=nm();et.pipeline=Q1;var{addAbortSignal:MJ}=ac();et.addAbortSignal=MJ;et.finished=eN;et.destroy=LJ;et.compose=NJ;et.setDefaultHighWaterMark=DJ;et.getDefaultHighWaterMark=OJ;ai(et,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return _m}});ai(Q1,X1,{__proto__:null,enumerable:!0,get(){return _m.pipeline}});ai(eN,X1,{__proto__:null,enumerable:!0,get(){return _m.finished}});et.Stream=et;et._isUint8Array=function(e){return e instanceof Uint8Array};et._uint8ArrayToBuffer=function(e){return IJ.from(e.buffer,e.byteOffset,e.byteLength)}});var rN=x((K_e,Te)=>{"use strict";var Ot=require("stream");if(Ot&&process.env.READABLE_STREAM==="disable"){let t=Ot.promises;Te.exports._uint8ArrayToBuffer=Ot._uint8ArrayToBuffer,Te.exports._isUint8Array=Ot._isUint8Array,Te.exports.isDisturbed=Ot.isDisturbed,Te.exports.isErrored=Ot.isErrored,Te.exports.isReadable=Ot.isReadable,Te.exports.Readable=Ot.Readable,Te.exports.Writable=Ot.Writable,Te.exports.Duplex=Ot.Duplex,Te.exports.Transform=Ot.Transform,Te.exports.PassThrough=Ot.PassThrough,Te.exports.addAbortSignal=Ot.addAbortSignal,Te.exports.finished=Ot.finished,Te.exports.destroy=Ot.destroy,Te.exports.pipeline=Ot.pipeline,Te.exports.compose=Ot.compose,Object.defineProperty(Ot,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Te.exports.Stream=Ot.Stream}else{let t=wm(),e=bm(),r=t.Readable.destroy;Te.exports=t.Readable,Te.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Te.exports._isUint8Array=t._isUint8Array,Te.exports.isDisturbed=t.isDisturbed,Te.exports.isErrored=t.isErrored,Te.exports.isReadable=t.isReadable,Te.exports.Readable=t.Readable,Te.exports.Writable=t.Writable,Te.exports.Duplex=t.Duplex,Te.exports.Transform=t.Transform,Te.exports.PassThrough=t.PassThrough,Te.exports.addAbortSignal=t.addAbortSignal,Te.exports.finished=t.finished,Te.exports.destroy=t.destroy,Te.exports.destroy=r,Te.exports.pipeline=t.pipeline,Te.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Te.exports.Stream=t.Stream}Te.exports.default=Te.exports});var iN=x((X_e,nN)=>{function PJ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}nN.exports=PJ});var lN=x((Z_e,aN)=>{var sN=rd(),FJ=ry(),BJ=ny(),oN=sN?sN.isConcatSpreadable:void 0;function kJ(t){return BJ(t)||FJ(t)||!!(oN&&t&&t[oN])}aN.exports=kJ});var $d=x((Q_e,uN)=>{var $J=iN(),qJ=lN();function cN(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=qJ),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?cN(a,e-1,r,n,i):$J(i,a):n||(i[i.length]=a)}return i}uN.exports=cN});var dN=x((eEe,fN)=>{var UJ=$d();function WJ(t){var e=t==null?0:t.length;return e?UJ(t,1):[]}fN.exports=WJ});var _c=x((tEe,hN)=>{var jJ=Zl(),zJ=jJ(Object,"create");hN.exports=zJ});var yN=x((rEe,gN)=>{var pN=_c();function HJ(){this.__data__=pN?pN(null):{},this.size=0}gN.exports=HJ});var bN=x((nEe,mN)=>{function VJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}mN.exports=VJ});var _N=x((iEe,wN)=>{var GJ=_c(),YJ="__lodash_hash_undefined__",JJ=Object.prototype,KJ=JJ.hasOwnProperty;function XJ(t){var e=this.__data__;if(GJ){var r=e[t];return r===YJ?void 0:r}return KJ.call(e,t)?e[t]:void 0}wN.exports=XJ});var SN=x((sEe,EN)=>{var ZJ=_c(),QJ=Object.prototype,eK=QJ.hasOwnProperty;function tK(t){var e=this.__data__;return ZJ?e[t]!==void 0:eK.call(e,t)}EN.exports=tK});var vN=x((oEe,xN)=>{var rK=_c(),nK="__lodash_hash_undefined__";function iK(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=rK&&e===void 0?nK:e,this}xN.exports=iK});var RN=x((aEe,TN)=>{var sK=yN(),oK=bN(),aK=_N(),lK=SN(),cK=vN();function da(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}da.prototype.clear=sK;da.prototype.delete=oK;da.prototype.get=aK;da.prototype.has=lK;da.prototype.set=cK;TN.exports=da});var CN=x((lEe,AN)=>{function uK(){this.__data__=[],this.size=0}AN.exports=uK});var Ec=x((cEe,IN)=>{var fK=id();function dK(t,e){for(var r=t.length;r--;)if(fK(t[r][0],e))return r;return-1}IN.exports=dK});var DN=x((uEe,NN)=>{var hK=Ec(),pK=Array.prototype,gK=pK.splice;function yK(t){var e=this.__data__,r=hK(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():gK.call(e,r,1),--this.size,!0}NN.exports=yK});var LN=x((fEe,ON)=>{var mK=Ec();function bK(t){var e=this.__data__,r=mK(e,t);return r<0?void 0:e[r][1]}ON.exports=bK});var PN=x((dEe,MN)=>{var wK=Ec();function _K(t){return wK(this.__data__,t)>-1}MN.exports=_K});var BN=x((hEe,FN)=>{var EK=Ec();function SK(t,e){var r=this.__data__,n=EK(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}FN.exports=SK});var $N=x((pEe,kN)=>{var xK=CN(),vK=DN(),TK=LN(),RK=PN(),AK=BN();function ha(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ha.prototype.clear=xK;ha.prototype.delete=vK;ha.prototype.get=TK;ha.prototype.has=RK;ha.prototype.set=AK;kN.exports=ha});var UN=x((gEe,qN)=>{var CK=Zl(),IK=Jo(),NK=CK(IK,"Map");qN.exports=NK});var zN=x((yEe,jN)=>{var WN=RN(),DK=$N(),OK=UN();function LK(){this.size=0,this.__data__={hash:new WN,map:new(OK||DK),string:new WN}}jN.exports=LK});var VN=x((mEe,HN)=>{function MK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}HN.exports=MK});var Sc=x((bEe,GN)=>{var PK=VN();function FK(t,e){var r=t.__data__;return PK(e)?r[typeof e=="string"?"string":"hash"]:r.map}GN.exports=FK});var JN=x((wEe,YN)=>{var BK=Sc();function kK(t){var e=BK(this,t).delete(t);return this.size-=e?1:0,e}YN.exports=kK});var XN=x((_Ee,KN)=>{var $K=Sc();function qK(t){return $K(this,t).get(t)}KN.exports=qK});var QN=x((EEe,ZN)=>{var UK=Sc();function WK(t){return UK(this,t).has(t)}ZN.exports=WK});var tD=x((SEe,eD)=>{var jK=Sc();function zK(t,e){var r=jK(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}eD.exports=zK});var nD=x((xEe,rD)=>{var HK=zN(),VK=JN(),GK=XN(),YK=QN(),JK=tD();function pa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pa.prototype.clear=HK;pa.prototype.delete=VK;pa.prototype.get=GK;pa.prototype.has=YK;pa.prototype.set=JK;rD.exports=pa});var sD=x((vEe,iD)=>{var KK="__lodash_hash_undefined__";function XK(t){return this.__data__.set(t,KK),this}iD.exports=XK});var aD=x((TEe,oD)=>{function ZK(t){return this.__data__.has(t)}oD.exports=ZK});var Em=x((REe,lD)=>{var QK=nD(),eX=sD(),tX=aD();function qd(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new QK;++e<r;)this.add(t[e])}qd.prototype.add=qd.prototype.push=eX;qd.prototype.has=tX;lD.exports=qd});var uD=x((AEe,cD)=>{function rX(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}cD.exports=rX});var dD=x((CEe,fD)=>{function nX(t){return t!==t}fD.exports=nX});var pD=x((IEe,hD)=>{function iX(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}hD.exports=iX});var yD=x((NEe,gD)=>{var sX=uD(),oX=dD(),aX=pD();function lX(t,e,r){return e===e?aX(t,e,r):sX(t,oX,r)}gD.exports=lX});var Sm=x((DEe,mD)=>{var cX=yD();function uX(t,e){var r=t==null?0:t.length;return!!r&&cX(t,e,0)>-1}mD.exports=uX});var xm=x((OEe,bD)=>{function fX(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}bD.exports=fX});var _D=x((LEe,wD)=>{function dX(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}wD.exports=dX});var vm=x((MEe,ED)=>{function hX(t,e){return t.has(e)}ED.exports=hX});var xD=x((PEe,SD)=>{var pX=Em(),gX=Sm(),yX=xm(),mX=_D(),bX=iy(),wX=vm(),_X=200;function EX(t,e,r,n){var i=-1,s=gX,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;r&&(e=mX(e,bX(r))),n?(s=yX,o=!1):e.length>=_X&&(s=wX,o=!1,e=new pX(e));e:for(;++i<a;){var u=t[i],d=r==null?u:r(u);if(u=n||u!==0?u:0,o&&d===d){for(var h=c;h--;)if(e[h]===d)continue e;l.push(u)}else s(e,d,n)||l.push(u)}return l}SD.exports=EX});var Tm=x((FEe,vD)=>{var SX=sd(),xX=Ko();function vX(t){return xX(t)&&SX(t)}vD.exports=vX});var AD=x((BEe,RD)=>{var TX=xD(),RX=$d(),AX=nd(),TD=Tm(),CX=AX(function(t,e){return TD(t)?TX(t,RX(e,1,TD,!0)):[]});RD.exports=CX});var ID=x((kEe,CD)=>{var IX=Zl(),NX=Jo(),DX=IX(NX,"Set");CD.exports=DX});var DD=x(($Ee,ND)=>{function OX(){}ND.exports=OX});var Rm=x((qEe,OD)=>{function LX(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}OD.exports=LX});var MD=x((UEe,LD)=>{var Am=ID(),MX=DD(),PX=Rm(),FX=1/0,BX=Am&&1/PX(new Am([,-0]))[1]==FX?function(t){return new Am(t)}:MX;LD.exports=BX});var FD=x((WEe,PD)=>{var kX=Em(),$X=Sm(),qX=xm(),UX=vm(),WX=MD(),jX=Rm(),zX=200;function HX(t,e,r){var n=-1,i=$X,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=qX;else if(s>=zX){var c=e?null:WX(t);if(c)return jX(c);o=!1,i=UX,l=new kX}else l=e?[]:a;e:for(;++n<s;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,r)||(l!==a&&l.push(d),a.push(u))}return a}PD.exports=HX});var kD=x((jEe,BD)=>{var VX=$d(),GX=nd(),YX=FD(),JX=Tm(),KX=GX(function(t){return YX(VX(t,1,JX,!0))});BD.exports=KX});var qD=x((zEe,$D)=>{function XX(t,e){return function(r){return t(e(r))}}$D.exports=XX});var WD=x((HEe,UD)=>{var ZX=qD(),QX=ZX(Object.getPrototypeOf,Object);UD.exports=QX});var HD=x((VEe,zD)=>{var eZ=Kl(),tZ=WD(),rZ=Ko(),nZ="[object Object]",iZ=Function.prototype,sZ=Object.prototype,jD=iZ.toString,oZ=sZ.hasOwnProperty,aZ=jD.call(Object);function lZ(t){if(!rZ(t)||eZ(t)!=nZ)return!1;var e=tZ(t);if(e===null)return!0;var r=oZ.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&jD.call(r)==aZ}zD.exports=lZ});var QD=x((GEe,ZD)=>{var VD=fg();ZD.exports=fZ;var GD="\0SLASH"+Math.random()+"\0",YD="\0OPEN"+Math.random()+"\0",Im="\0CLOSE"+Math.random()+"\0",JD="\0COMMA"+Math.random()+"\0",KD="\0PERIOD"+Math.random()+"\0";function Cm(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function cZ(t){return t.split("\\\\").join(GD).split("\\{").join(YD).split("\\}").join(Im).split("\\,").join(JD).split("\\.").join(KD)}function uZ(t){return t.split(GD).join("\\").split(YD).join("{").split(Im).join("}").split(JD).join(",").split(KD).join(".")}function XD(t){if(!t)return[""];var e=[],r=VD("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=XD(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function fZ(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),xc(cZ(t),!0).map(uZ)):[]}function dZ(t){return"{"+t+"}"}function hZ(t){return/^-?0\d/.test(t)}function pZ(t,e){return t<=e}function gZ(t,e){return t>=e}function xc(t,e){var r=[],n=VD("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?xc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+Im+n.post,xc(t)):[t];var h;if(u)h=n.body.split(/\.\./);else if(h=XD(n.body),h.length===1&&(h=xc(h[0],!1).map(dZ),h.length===1))return s.map(function(L){return n.pre+h[0]+L});var f;if(u){var g=Cm(h[0]),p=Cm(h[1]),m=Math.max(h[0].length,h[1].length),y=h.length==3?Math.abs(Cm(h[2])):1,v=pZ,b=p<g;b&&(y*=-1,v=gZ);var w=h.some(hZ);f=[];for(var I=g;v(I,p);I+=y){var O;if(c)O=String.fromCharCode(I),O==="\\"&&(O="");else if(O=String(I),w){var A=m-O.length;if(A>0){var k=new Array(A+1).join("0");I<0?O="-"+k+O.slice(1):O=k+O}}f.push(O)}}else{f=[];for(var N=0;N<h.length;N++)f.push.apply(f,xc(h[N],!1))}for(var N=0;N<f.length;N++)for(var o=0;o<s.length;o++){var a=i+f[N]+s[o];(!e||u||a)&&r.push(a)}}return r}});var eO=x(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.assertValidPattern=void 0;var yZ=1024*64,mZ=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>yZ)throw new TypeError("pattern is too long")};Ud.assertValidPattern=mZ});var rO=x(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.parseClass=void 0;var bZ={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},vc=t=>t.replace(/[[\]\\-]/g,"\\$&"),wZ=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),tO=t=>t.join(""),_Z=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,d="";e:for(;s<t.length;){let p=t.charAt(s);if((p==="!"||p==="^")&&s===r+1){c=!0,s++;continue}if(p==="]"&&o&&!l){u=s+1;break}if(o=!0,p==="\\"&&!l){l=!0,s++;continue}if(p==="["&&!l){for(let[m,[y,v,b]]of Object.entries(bZ))if(t.startsWith(m,s)){if(d)return["$.",!1,t.length-r,!0];s+=m.length,b?i.push(y):n.push(y),a=a||v;continue e}}if(l=!1,d){p>d?n.push(vc(d)+"-"+vc(p)):p===d&&n.push(vc(p)),d="",s++;continue}if(t.startsWith("-]",s+1)){n.push(vc(p+"-")),s+=2;continue}if(t.startsWith("-",s+1)){d=p,s+=2;continue}n.push(vc(p)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let p=n[0].length===2?n[0].slice(-1):n[0];return[wZ(p),!1,u-r,!1]}let h="["+(c?"^":"")+tO(n)+"]",f="["+(c?"":"^")+tO(i)+"]";return[n.length&&i.length?"("+h+"|"+f+")":n.length?h:f,a,u-r,!0]};Wd.parseClass=_Z});var zd=x(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.unescape=void 0;var EZ=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");jd.unescape=EZ});var Om=x(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.AST=void 0;var SZ=rO(),Hd=zd(),xZ=new Set(["!","?","+","*","@"]),nO=t=>xZ.has(t),vZ="(?!(?:^|/)\\.\\.?(?:$|/))",Vd="(?!\\.)",TZ=new Set(["[","."]),RZ=new Set(["..","."]),AZ=new Set("().*{}+?[]^$\\!"),CZ=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Dm="[^/]",iO=Dm+"*?",sO=Dm+"+?",Nm=class t{type;#e;#t;#s=!1;#n=[];#o;#_;#c;#f=!1;#a;#l;#i=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#o=r,this.#e=this.#o?this.#o.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#c=this.#e===this?[]:this.#e.#c,e==="!"&&!this.#e.#f&&this.#c.push(this),this.#_=this.#o?this.#o.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#y(){if(this!==this.#e)throw new Error("should only call on root");if(this.#f)return this;this.toString(),this.#f=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let r=e,n=r.#o;for(;n;){for(let i=r.#_+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#o}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#o===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#f&&this.#o?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#o?.isStart())return!1;if(this.#_===0)return!0;let e=this.#o;for(let r=0;r<this.#_;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let e=this.#o?this.#o.#n.length:0;return this.#_===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#m(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let f=n,g="";for(;f<e.length;){let p=e.charAt(f++);if(s||p==="\\"){s=!s,g+=p;continue}if(o){f===a+1?(p==="^"||p==="!")&&(l=!0):p==="]"&&!(f===a+2&&l)&&(o=!1),g+=p;continue}else if(p==="["){o=!0,a=f,l=!1,g+=p;continue}if(!i.noext&&nO(p)&&e.charAt(f)==="("){r.push(g),g="";let m=new t(p,r);f=t.#m(e,m,f,i),r.push(m);continue}g+=p}return r.push(g),f}let c=n+1,u=new t(null,r),d=[],h="";for(;c<e.length;){let f=e.charAt(c++);if(s||f==="\\"){s=!s,h+=f;continue}if(o){c===a+1?(f==="^"||f==="!")&&(l=!0):f==="]"&&!(c===a+2&&l)&&(o=!1),h+=f;continue}else if(f==="["){o=!0,a=c,l=!1,h+=f;continue}if(nO(f)&&e.charAt(c)==="("){u.push(h),h="";let g=new t(f,u);u.push(g),c=t.#m(e,g,c,i);continue}if(f==="|"){u.push(h),h="",d.push(u),u=new t(null,r);continue}if(f===")")return h===""&&r.#n.length===0&&(r.#i=!0),u.push(h),h="",r.push(...d,u),c;h+=f}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],c}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#m(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#a}toRegExpSource(e){let r=e??!!this.#a.dot;if(this.#e===this&&this.#y(),!this.type){let l=this.isStart()&&this.isEnd(),c=this.#n.map(f=>{let[g,p,m,y]=typeof f=="string"?t.#d(f,this.#t,l):f.toRegExpSource(e);return this.#t=this.#t||m,this.#s=this.#s||y,g}).join(""),u="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&RZ.has(this.#n[0]))){let g=TZ,p=r&&g.has(c.charAt(0))||c.startsWith("\\.")&&g.has(c.charAt(2))||c.startsWith("\\.\\.")&&g.has(c.charAt(4)),m=!r&&!e&&g.has(c.charAt(0));u=p?vZ:m?Vd:""}let d="";return this.isEnd()&&this.#e.#f&&this.#o?.type==="!"&&(d="(?:$|\\/)"),[u+c+d,(0,Hd.unescape)(c),this.#t=!!this.#t,this.#s]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#h(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,(0,Hd.unescape)(this.toString()),!1,!1]}let o=!n||e||r||!Vd?"":this.#h(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#i)a=(this.isStart()&&!r?Vd:"")+sO;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?Vd:"")+iO+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+l}return[a,(0,Hd.unescape)(s),this.#t=!!this.#t,this.#s]}#h(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#d(e,r,n=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(i){i=!1,s+=(AZ.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[c,u,d,h]=(0,SZ.parseClass)(e,a);if(d){s+=c,o=o||u,a+=d-1,r=r||h;continue}}if(l==="*"){n&&e==="*"?s+=sO:s+=iO,r=!0;continue}if(l==="?"){s+=Dm,r=!0;continue}s+=CZ(l)}return[s,(0,Hd.unescape)(e),!!r,o]}};Gd.AST=Nm});var Lm=x(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.escape=void 0;var IZ=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");Yd.escape=IZ});var Wi=x(re=>{"use strict";var NZ=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(re,"__esModule",{value:!0});re.unescape=re.escape=re.AST=re.Minimatch=re.match=re.makeRe=re.braceExpand=re.defaults=re.filter=re.GLOBSTAR=re.sep=re.minimatch=void 0;var DZ=NZ(QD()),Jd=eO(),lO=Om(),OZ=Lm(),LZ=zd(),MZ=(t,e,r={})=>((0,Jd.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Bs(e,r).match(t));re.minimatch=MZ;var PZ=/^\*+([^+@!?\*\[\(]*)$/,FZ=t=>e=>!e.startsWith(".")&&e.endsWith(t),BZ=t=>e=>e.endsWith(t),kZ=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),$Z=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),qZ=/^\*+\.\*+$/,UZ=t=>!t.startsWith(".")&&t.includes("."),WZ=t=>t!=="."&&t!==".."&&t.includes("."),jZ=/^\.\*+$/,zZ=t=>t!=="."&&t!==".."&&t.startsWith("."),HZ=/^\*+$/,VZ=t=>t.length!==0&&!t.startsWith("."),GZ=t=>t.length!==0&&t!=="."&&t!=="..",YZ=/^\?+([^+@!?\*\[\(]*)?$/,JZ=([t,e=""])=>{let r=cO([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},KZ=([t,e=""])=>{let r=uO([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},XZ=([t,e=""])=>{let r=uO([t]);return e?n=>r(n)&&n.endsWith(e):r},ZZ=([t,e=""])=>{let r=cO([t]);return e?n=>r(n)&&n.endsWith(e):r},cO=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},uO=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},fO=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",oO={win32:{sep:"\\"},posix:{sep:"/"}};re.sep=fO==="win32"?oO.win32.sep:oO.posix.sep;re.minimatch.sep=re.sep;re.GLOBSTAR=Symbol("globstar **");re.minimatch.GLOBSTAR=re.GLOBSTAR;var QZ="[^/]",eQ=QZ+"*?",tQ="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",rQ="(?:(?!(?:\\/|^)\\.).)*?",nQ=(t,e={})=>r=>(0,re.minimatch)(r,t,e);re.filter=nQ;re.minimatch.filter=re.filter;var Hr=(t,e={})=>Object.assign({},t,e),iQ=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return re.minimatch;let e=re.minimatch;return Object.assign((n,i,s={})=>e(n,i,Hr(t,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,Hr(t,s))}static defaults(i){return e.defaults(Hr(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,Hr(t,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,Hr(t,s))}},unescape:(n,i={})=>e.unescape(n,Hr(t,i)),escape:(n,i={})=>e.escape(n,Hr(t,i)),filter:(n,i={})=>e.filter(n,Hr(t,i)),defaults:n=>e.defaults(Hr(t,n)),makeRe:(n,i={})=>e.makeRe(n,Hr(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,Hr(t,i)),match:(n,i,s={})=>e.match(n,i,Hr(t,s)),sep:e.sep,GLOBSTAR:re.GLOBSTAR})};re.defaults=iQ;re.minimatch.defaults=re.defaults;var sQ=(t,e={})=>((0,Jd.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,DZ.default)(t));re.braceExpand=sQ;re.minimatch.braceExpand=re.braceExpand;var oQ=(t,e={})=>new Bs(t,e).makeRe();re.makeRe=oQ;re.minimatch.makeRe=re.makeRe;var aQ=(t,e,r={})=>{let n=new Bs(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};re.match=aQ;re.minimatch.match=re.match;var aO=/[?*]|[+@!]\(.*?\)|\[|\]/,lQ=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Bs=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,Jd.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||fO,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!aO.test(s[2]))&&!aO.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let o=i;for(;n[o+1]==="**";)o++;o>i&&n.splice(i+1,o-i);let a=n[i+1],l=n[i+2],c=n[i+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",e.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let a=n[o];o===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let o=n[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])o.push(a==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])o.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])o.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),i++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let p=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),m=!p&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),y=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),v=!y&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),b=m?3:p?0:void 0,w=v?3:y?0:void 0;if(typeof b=="number"&&typeof w=="number"){let[I,O]=[e[b],r[w]];I.toLowerCase()===O.toLowerCase()&&(r[w]=I,w>b?r=r.slice(w):b>w&&(e=e.slice(b)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],d=e[o];if(this.debug(r,u,d),u===!1)return!1;if(u===re.GLOBSTAR){this.debug("GLOBSTAR",[r,u,d]);var h=o,f=a+1;if(f===c){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;h<l;){var g=e[h];if(this.debug(`
globstar while`,e,h,r,f,g),this.matchOne(e.slice(h),r.slice(f),n))return this.debug("globstar found match!",h,l,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",e,h,r,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,h,r,f),h===l))}let p;if(typeof u=="string"?(p=d===u,this.debug("string match",u,d,p)):(p=u.test(d),this.debug("pattern match",u,d,p)),!p)return!1}if(o===l&&a===c)return!0;if(o===l)return n;if(a===c)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,re.braceExpand)(this.pattern,this.options)}parse(e){(0,Jd.assertValidPattern)(e);let r=this.options;if(e==="**")return re.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(HZ))?i=r.dot?GZ:VZ:(n=e.match(PZ))?i=(r.nocase?r.dot?$Z:kZ:r.dot?BZ:FZ)(n[1]):(n=e.match(YZ))?i=(r.nocase?r.dot?KZ:JZ:r.dot?XZ:ZZ)(n):(n=e.match(qZ))?i=r.dot?WZ:UZ:(n=e.match(jZ))&&(i=zZ);let s=lO.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?eQ:r.dot?tQ:rQ,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let d of u.flags.split(""))i.add(d);return typeof u=="string"?lQ(u):u===re.GLOBSTAR?re.GLOBSTAR:u._src});return c.forEach((u,d)=>{let h=c[d+1],f=c[d-1];u!==re.GLOBSTAR||f===re.GLOBSTAR||(f===void 0?h!==void 0&&h!==re.GLOBSTAR?c[d+1]="(?:\\/|"+n+"\\/)?"+h:c[d]=n:h===void 0?c[d-1]=f+"(?:\\/|"+n+")?":h!==re.GLOBSTAR&&(c[d-1]=f+"(?:\\/|\\/"+n+"\\/)"+h,c[d+1]=re.GLOBSTAR))}),c.filter(u=>u!==re.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let l=s[a],c=i;if(n.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return re.minimatch.defaults(e).Minimatch}};re.Minimatch=Bs;var cQ=Om();Object.defineProperty(re,"AST",{enumerable:!0,get:function(){return cQ.AST}});var uQ=Lm();Object.defineProperty(re,"escape",{enumerable:!0,get:function(){return uQ.escape}});var fQ=zd();Object.defineProperty(re,"unescape",{enumerable:!0,get:function(){return fQ.unescape}});re.minimatch.AST=lO.AST;re.minimatch.Minimatch=Bs;re.minimatch.escape=OZ.escape;re.minimatch.unescape=LZ.unescape});var yO=x(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.LRUCache=void 0;var ga=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,hO=new Set,Mm=typeof process=="object"&&process?process:{},pO=(t,e,r,n)=>{typeof Mm.emitWarning=="function"?Mm.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},Kd=globalThis.AbortController,dO=globalThis.AbortSignal;if(typeof Kd>"u"){dO=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},Kd=class{constructor(){e()}signal=new dO;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=Mm.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,pO("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var dQ=t=>!hO.has(t),ji=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),gO=t=>ji(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?ya:null:null,ya=class extends Array{constructor(e){super(e),this.fill(0)}},Pm=class t{heap;length;static#e=!1;static create(e){let r=gO(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Fm=class t{#e;#t;#s;#n;#o;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#f;#a;#l;#i;#y;#m;#h;#d;#x;#g;#v;#T;#w;#E;#S;#p;static unsafeExposeInternals(e){return{starts:e.#T,ttls:e.#w,sizes:e.#v,keyMap:e.#a,keyList:e.#l,valList:e.#i,next:e.#y,prev:e.#m,get head(){return e.#h},get tail(){return e.#d},free:e.#x,isBackgroundFetch:r=>e.#u(r),backgroundFetch:(r,n,i,s)=>e.#k(r,n,i,s),moveToTail:r=>e.#q(r),indexes:r=>e.#A(r),rindexes:r=>e.#C(r),isStale:r=>e.#b(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#f}get size(){return this.#c}get fetchMethod(){return this.#o}get memoMethod(){return this.#_}get dispose(){return this.#s}get disposeAfter(){return this.#n}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:d,noUpdateTTL:h,maxSize:f=0,maxEntrySize:g=0,sizeCalculation:p,fetchMethod:m,memoMethod:y,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:I,ignoreFetchAbort:O}=e;if(r!==0&&!ji(r))throw new TypeError("max option must be a nonnegative integer");let A=r?gO(r):Array;if(!A)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=f,this.maxEntrySize=g||this.#t,this.sizeCalculation=p,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#_=y,m!==void 0&&typeof m!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=m,this.#S=!!m,this.#a=new Map,this.#l=new Array(r).fill(void 0),this.#i=new Array(r).fill(void 0),this.#y=new A(r),this.#m=new A(r),this.#h=0,this.#d=0,this.#x=Pm.create(r),this.#c=0,this.#f=0,typeof c=="function"&&(this.#s=c),typeof u=="function"?(this.#n=u,this.#g=[]):(this.#n=void 0,this.#g=void 0),this.#E=!!this.#s,this.#p=!!this.#n,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!I,this.ignoreFetchAbort=!!O,this.maxEntrySize!==0){if(this.#t!==0&&!ji(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!ji(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#N()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=ji(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!ji(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#I()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let k="LRU_CACHE_UNBOUNDED";dQ(k)&&(hO.add(k),pO("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",k,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#I(){let e=new ya(this.#e),r=new ya(this.#e);this.#w=e,this.#T=r,this.#O=(s,o,a=ga.now())=>{if(r[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#b(s)&&this.#D(this.#l[s],"expire")},o+1);l.unref&&l.unref()}},this.#R=s=>{r[s]=e[s]!==0?ga.now():0},this.#r=(s,o)=>{if(e[o]){let a=e[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=n||i();let c=s.now-l;s.remainingTTL=a-c}};let n=0,i=()=>{let s=ga.now();if(this.ttlResolution>0){n=s;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#a.get(s);if(o===void 0)return 0;let a=e[o],l=r[o];if(!a||!l)return 1/0;let c=(n||i())-l;return a-c},this.#b=s=>{let o=r[s],a=e[s];return!!a&&!!o&&(n||i())-o>a}}#R=()=>{};#r=()=>{};#O=()=>{};#b=()=>!1;#N(){let e=new ya(this.#e);this.#f=0,this.#v=e,this.#L=r=>{this.#f-=e[r],e[r]=0},this.#P=(r,n,i,s)=>{if(this.#u(n))return 0;if(!ji(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!ji(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#M=(r,n,i)=>{if(e[r]=n,this.#t){let s=this.#t-e[r];for(;this.#f>s;)this.#B(!0)}this.#f+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#f)}}#L=e=>{};#M=(e,r,n)=>{};#P=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#A({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#d;!(!this.#F(r)||((e||!this.#b(r))&&(yield r),r===this.#h));)r=this.#m[r]}*#C({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#h;!(!this.#F(r)||((e||!this.#b(r))&&(yield r),r===this.#d));)r=this.#y[r]}#F(e){return e!==void 0&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#A())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*rentries(){for(let e of this.#C())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*keys(){for(let e of this.#A()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*rkeys(){for(let e of this.#C()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*values(){for(let e of this.#A())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}*rvalues(){for(let e of this.#C())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#A()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.#l[n],this))return this.get(this.#l[n],r)}}forEach(e,r=this){for(let n of this.#A()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}rforEach(e,r=this){for(let n of this.#C()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}purgeStale(){let e=!1;for(let r of this.#C({allowStale:!0}))this.#b(r)&&(this.#D(this.#l[r],"expire"),e=!0);return e}info(e){let r=this.#a.get(e);if(r===void 0)return;let n=this.#i[r],i=this.#u(n)?n.__staleWhileFetching:n;if(i===void 0)return;let s={value:i};if(this.#w&&this.#T){let o=this.#w[r],a=this.#T[r];if(o&&a){let l=o-(ga.now()-a);s.ttl=l,s.start=Date.now()}}return this.#v&&(s.size=this.#v[r]),s}dump(){let e=[];for(let r of this.#A({allowStale:!0})){let n=this.#l[r],i=this.#i[r],s=this.#u(i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;let o={value:s};if(this.#w&&this.#T){o.ttl=this.#w[r];let a=ga.now()-this.#T[r];o.start=Math.floor(Date.now()-a)}this.#v&&(o.size=this.#v[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=ga.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n,{noUpdateTTL:c=this.noUpdateTTL}=n,u=this.#P(e,r,n.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let d=this.#c===0?void 0:this.#a.get(e);if(d===void 0)d=this.#c===0?this.#d:this.#x.length!==0?this.#x.pop():this.#c===this.#e?this.#B(!1):this.#c,this.#l[d]=e,this.#i[d]=r,this.#a.set(e,d),this.#y[this.#d]=d,this.#m[d]=this.#d,this.#d=d,this.#c++,this.#M(d,u,l),l&&(l.set="add"),c=!1;else{this.#q(d);let h=this.#i[d];if(r!==h){if(this.#S&&this.#u(h)){h.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:f}=h;f!==void 0&&!o&&(this.#E&&this.#s?.(f,e,"set"),this.#p&&this.#g?.push([f,e,"set"]))}else o||(this.#E&&this.#s?.(h,e,"set"),this.#p&&this.#g?.push([h,e,"set"]));if(this.#L(d),this.#M(d,u,l),this.#i[d]=r,l){l.set="replace";let f=h&&this.#u(h)?h.__staleWhileFetching:h;f!==void 0&&(l.oldValue=f)}}else l&&(l.set="update")}if(i!==0&&!this.#w&&this.#I(),this.#w&&(c||this.#O(d,i,s),l&&this.#r(l,d)),!o&&this.#p&&this.#g){let h=this.#g,f;for(;f=h?.shift();)this.#n?.(...f)}return this}pop(){try{for(;this.#c;){let e=this.#i[this.#h];if(this.#B(!0),this.#u(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#p&&this.#g){let e=this.#g,r;for(;r=e?.shift();)this.#n?.(...r)}}}#B(e){let r=this.#h,n=this.#l[r],i=this.#i[r];return this.#S&&this.#u(i)?i.__abortController.abort(new Error("evicted")):(this.#E||this.#p)&&(this.#E&&this.#s?.(i,n,"evict"),this.#p&&this.#g?.push([i,n,"evict"])),this.#L(r),e&&(this.#l[r]=void 0,this.#i[r]=void 0,this.#x.push(r)),this.#c===1?(this.#h=this.#d=0,this.#x.length=0):this.#h=this.#y[r],this.#a.delete(n),this.#c--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=this.#a.get(e);if(s!==void 0){let o=this.#i[s];if(this.#u(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(s))i&&(i.has="stale",this.#r(i,s));else return n&&this.#R(s),i&&(i.has="hit",this.#r(i,s)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i===void 0||!n&&this.#b(i))return;let s=this.#i[i];return this.#u(s)?s.__staleWhileFetching:s}#k(e,r,n,i){let s=r===void 0?void 0:this.#i[r];if(this.#u(s))return s;let o=new Kd,{signal:a}=n;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:n,context:i},c=(p,m=!1)=>{let{aborted:y}=o.signal,v=n.ignoreFetchAbort&&p!==void 0;if(n.status&&(y&&!m?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,v&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),y&&!v&&!m)return d(o.signal.reason);let b=f;return this.#i[r]===f&&(p===void 0?b.__staleWhileFetching?this.#i[r]=b.__staleWhileFetching:this.#D(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,p,l.options))),p},u=p=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=p),d(p)),d=p=>{let{aborted:m}=o.signal,y=m&&n.allowStaleOnFetchAbort,v=y||n.allowStaleOnFetchRejection,b=v||n.noDeleteOnFetchRejection,w=f;if(this.#i[r]===f&&(!b||w.__staleWhileFetching===void 0?this.#D(e,"fetch"):y||(this.#i[r]=w.__staleWhileFetching)),v)return n.status&&w.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),w.__staleWhileFetching;if(w.__returned===w)throw p},h=(p,m)=>{let y=this.#o?.(e,s,l);y&&y instanceof Promise&&y.then(v=>p(v===void 0?void 0:v),m),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(p(void 0),n.allowStaleOnFetchAbort&&(p=v=>c(v,!0)))})};n.status&&(n.status.fetchDispatched=!0);let f=new Promise(h).then(c,u),g=Object.assign(f,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,g,{...l.options,status:void 0}),r=this.#a.get(e)):this.#i[r]=g,g}#u(e){if(!this.#S)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Kd}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:p,forceRefresh:m=!1,status:y,signal:v}=r;if(!this.#S)return y&&(y.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:y});let b={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:g,ignoreFetchAbort:f,status:y,signal:v},w=this.#a.get(e);if(w===void 0){y&&(y.fetch="miss");let I=this.#k(e,w,b,p);return I.__returned=I}else{let I=this.#i[w];if(this.#u(I)){let L=n&&I.__staleWhileFetching!==void 0;return y&&(y.fetch="inflight",L&&(y.returnedStale=!0)),L?I.__staleWhileFetching:I.__returned=I}let O=this.#b(w);if(!m&&!O)return y&&(y.fetch="hit"),this.#q(w),i&&this.#R(w),y&&this.#r(y,w),I;let A=this.#k(e,w,b,p),N=A.__staleWhileFetching!==void 0&&n;return y&&(y.fetch=O?"stale":"refresh",N&&O&&(y.returnedStale=!0)),N?A.__staleWhileFetching:A.__returned=A}}async forceFetch(e,r={}){let n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){let n=this.#_;if(!n)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:s,...o}=r,a=this.get(e,o);if(!s&&a!==void 0)return a;let l=n(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#a.get(e);if(a!==void 0){let l=this.#i[a],c=this.#u(l);return o&&this.#r(o,a),this.#b(a)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(this.#q(a),i&&this.#R(a),l))}else o&&(o.get="miss")}#$(e,r){this.#m[r]=e,this.#y[e]=r}#q(e){e!==this.#d&&(e===this.#h?this.#h=this.#y[e]:this.#$(this.#m[e],this.#y[e]),this.#$(this.#d,e),this.#d=e)}delete(e){return this.#D(e,"delete")}#D(e,r){let n=!1;if(this.#c!==0){let i=this.#a.get(e);if(i!==void 0)if(n=!0,this.#c===1)this.#U(r);else{this.#L(i);let s=this.#i[i];if(this.#u(s)?s.__abortController.abort(new Error("deleted")):(this.#E||this.#p)&&(this.#E&&this.#s?.(s,e,r),this.#p&&this.#g?.push([s,e,r])),this.#a.delete(e),this.#l[i]=void 0,this.#i[i]=void 0,i===this.#d)this.#d=this.#m[i];else if(i===this.#h)this.#h=this.#y[i];else{let o=this.#m[i];this.#y[o]=this.#y[i];let a=this.#y[i];this.#m[a]=this.#m[i]}this.#c--,this.#x.push(i)}}if(this.#p&&this.#g?.length){let i=this.#g,s;for(;s=i?.shift();)this.#n?.(...s)}return n}clear(){return this.#U("delete")}#U(e){for(let r of this.#C({allowStale:!0})){let n=this.#i[r];if(this.#u(n))n.__abortController.abort(new Error("deleted"));else{let i=this.#l[r];this.#E&&this.#s?.(n,i,e),this.#p&&this.#g?.push([n,i,e])}}if(this.#a.clear(),this.#i.fill(void 0),this.#l.fill(void 0),this.#w&&this.#T&&(this.#w.fill(0),this.#T.fill(0)),this.#v&&this.#v.fill(0),this.#h=0,this.#d=0,this.#x.length=0,this.#f=0,this.#c=0,this.#p&&this.#g){let r=this.#g,n;for(;n=r?.shift();)this.#n?.(...n)}}};Xd.LRUCache=Fm});var AO=x(RO=>{"use strict";var mO=typeof process=="object"&&process?process:{stdout:null,stderr:null},hQ=require("events"),bO=require("stream"),pQ=require("string_decoder"),wO=pQ.StringDecoder,li=Symbol("EOF"),ci=Symbol("maybeEmitEnd"),zi=Symbol("emittedEnd"),Zd=Symbol("emittingEnd"),Tc=Symbol("emittedError"),Qd=Symbol("closed"),_O=Symbol("read"),eh=Symbol("flush"),EO=Symbol("flushChunk"),Nr=Symbol("encoding"),ui=Symbol("decoder"),th=Symbol("flowing"),Rc=Symbol("paused"),ma=Symbol("resume"),vt=Symbol("buffer"),Cn=Symbol("pipes"),Vt=Symbol("bufferLength"),Bm=Symbol("bufferPush"),km=Symbol("bufferShift"),er=Symbol("objectMode"),Tt=Symbol("destroyed"),$m=Symbol("error"),qm=Symbol("emitData"),SO=Symbol("emitEnd"),Um=Symbol("emitEnd2"),fi=Symbol("async"),Wm=Symbol("abort"),rh=Symbol("aborted"),ks=Symbol("signal"),Ac=t=>Promise.resolve().then(t),TO=global._MP_NO_ITERATOR_SYMBOLS_!=="1",xO=TO&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),vO=TO&&Symbol.iterator||Symbol("iterator not implemented"),gQ=t=>t==="end"||t==="finish"||t==="prefinish",yQ=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,mQ=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),nh=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[ma](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},jm=class extends nh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},zm=class t extends bO{constructor(e){super(),this[th]=!1,this[Rc]=!1,this[Cn]=[],this[vt]=[],this[er]=e&&e.objectMode||!1,this[er]?this[Nr]=null:this[Nr]=e&&e.encoding||null,this[Nr]==="buffer"&&(this[Nr]=null),this[fi]=e&&!!e.async||!1,this[ui]=this[Nr]?new wO(this[Nr]):null,this[li]=!1,this[zi]=!1,this[Zd]=!1,this[Qd]=!1,this[Tc]=null,this.writable=!0,this.readable=!0,this[Vt]=0,this[Tt]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[vt]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Cn]}),this[ks]=e&&e.signal,this[rh]=!1,this[ks]&&(this[ks].addEventListener("abort",()=>this[Wm]()),this[ks].aborted&&this[Wm]())}get bufferLength(){return this[Vt]}get encoding(){return this[Nr]}set encoding(e){if(this[er])throw new Error("cannot set encoding in objectMode");if(this[Nr]&&e!==this[Nr]&&(this[ui]&&this[ui].lastNeed||this[Vt]))throw new Error("cannot change encoding");this[Nr]!==e&&(this[ui]=e?new wO(e):null,this[vt].length&&(this[vt]=this[vt].map(r=>this[ui].write(r)))),this[Nr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[er]}set objectMode(e){this[er]=this[er]||!!e}get async(){return this[fi]}set async(e){this[fi]=this[fi]||!!e}[Wm](){this[rh]=!0,this.emit("abort",this[ks].reason),this.destroy(this[ks].reason)}get aborted(){return this[rh]}set aborted(e){}write(e,r,n){if(this[rh])return!1;if(this[li])throw new Error("write after end");if(this[Tt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[fi]?Ac:s=>s();return!this[er]&&!Buffer.isBuffer(e)&&(mQ(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):yQ(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[er]?(this.flowing&&this[Vt]!==0&&this[eh](!0),this.flowing?this.emit("data",e):this[Bm](e),this[Vt]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Nr]&&!this[ui].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Nr]&&(e=this[ui].write(e)),this.flowing&&this[Vt]!==0&&this[eh](!0),this.flowing?this.emit("data",e):this[Bm](e),this[Vt]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[Vt]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Tt])return null;if(this[Vt]===0||e===0||e>this[Vt])return this[ci](),null;this[er]&&(e=null),this[vt].length>1&&!this[er]&&(this.encoding?this[vt]=[this[vt].join("")]:this[vt]=[Buffer.concat(this[vt],this[Vt])]);let r=this[_O](e||null,this[vt][0]);return this[ci](),r}[_O](e,r){return e===r.length||e===null?this[km]():(this[vt][0]=r.slice(e),r=r.slice(0,e),this[Vt]-=e),this.emit("data",r),!this[vt].length&&!this[li]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[li]=!0,this.writable=!1,(this.flowing||!this[Rc])&&this[ci](),this}[ma](){this[Tt]||(this[Rc]=!1,this[th]=!0,this.emit("resume"),this[vt].length?this[eh]():this[li]?this[ci]():this.emit("drain"))}resume(){return this[ma]()}pause(){this[th]=!1,this[Rc]=!0}get destroyed(){return this[Tt]}get flowing(){return this[th]}get paused(){return this[Rc]}[Bm](e){this[er]?this[Vt]+=1:this[Vt]+=e.length,this[vt].push(e)}[km](){return this[er]?this[Vt]-=1:this[Vt]-=this[vt][0].length,this[vt].shift()}[eh](e){do;while(this[EO](this[km]())&&this[vt].length);!e&&!this[vt].length&&!this[li]&&this.emit("drain")}[EO](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[Tt])return;let n=this[zi];return r=r||{},e===mO.stdout||e===mO.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Cn].push(r.proxyErrors?new jm(this,e,r):new nh(this,e,r)),this[fi]?Ac(()=>this[ma]()):this[ma]()),e}unpipe(e){let r=this[Cn].find(n=>n.dest===e);r&&(this[Cn].splice(this[Cn].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[Cn].length&&!this.flowing?this[ma]():e==="readable"&&this[Vt]!==0?super.emit("readable"):gQ(e)&&this[zi]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Tc]&&(this[fi]?Ac(()=>r.call(this,this[Tc])):r.call(this,this[Tc])),n}get emittedEnd(){return this[zi]}[ci](){!this[Zd]&&!this[zi]&&!this[Tt]&&this[vt].length===0&&this[li]&&(this[Zd]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Qd]&&this.emit("close"),this[Zd]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Tt&&this[Tt])return;if(e==="data")return!this[er]&&!r?!1:this[fi]?Ac(()=>this[qm](r)):this[qm](r);if(e==="end")return this[SO]();if(e==="close"){if(this[Qd]=!0,!this[zi]&&!this[Tt])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Tc]=r,super.emit($m,r);let s=!this[ks]||this.listeners("error").length?super.emit("error",r):!1;return this[ci](),s}else if(e==="resume"){let s=super.emit("resume");return this[ci](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[ci](),i}[qm](e){for(let n of this[Cn])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[ci](),r}[SO](){this[zi]||(this[zi]=!0,this.readable=!1,this[fi]?Ac(()=>this[Um]()):this[Um]())}[Um](){if(this[ui]){let r=this[ui].end();if(r){for(let n of this[Cn])n.dest.write(r);super.emit("data",r)}}for(let r of this[Cn])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[er]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[er]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[er]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[er]?Promise.reject(new Error("cannot concat in objectMode")):this[Nr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Tt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[xO](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[li])return r();let s=null,o=null,a=d=>{this.removeListener("data",l),this.removeListener("end",c),this.removeListener(Tt,u),r(),o(d)},l=d=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(Tt,u),this.pause(),s({value:d,done:!!this[li]})},c=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(Tt,u),r(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,h)=>{o=h,s=d,this.once(Tt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[xO](){return this}}}[vO](){let e=!1,r=()=>(this.pause(),this.removeListener($m,r),this.removeListener(Tt,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once($m,r),this.once(Tt,r),{next:n,throw:r,return:r,[vO](){return this}}}destroy(e){return this[Tt]?(e?this.emit("error",e):this.emit(Tt),this):(this[Tt]=!0,this[vt].length=0,this[Vt]=0,typeof this.close=="function"&&!this[Qd]&&this.close(),e?this.emit("error",e):this.emit(Tt),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof bO||e instanceof hQ&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};RO.Minipass=zm});var WO=x(He=>{"use strict";var bQ=He&&He.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),wQ=He&&He.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),_Q=He&&He.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bQ(e,t,r);return wQ(e,t),e};Object.defineProperty(He,"__esModule",{value:!0});He.PathScurry=He.Path=He.PathScurryDarwin=He.PathScurryPosix=He.PathScurryWin32=He.PathScurryBase=He.PathPosix=He.PathWin32=He.PathBase=He.ChildrenCache=He.ResolveCache=void 0;var LO=yO(),lh=require("node:path"),EQ=require("node:url"),Ic=require("fs"),SQ=_Q(require("node:fs")),xQ=Ic.realpathSync.native,ih=require("node:fs/promises"),CO=AO(),Nc={lstatSync:Ic.lstatSync,readdir:Ic.readdir,readdirSync:Ic.readdirSync,readlinkSync:Ic.readlinkSync,realpathSync:xQ,promises:{lstat:ih.lstat,readdir:ih.readdir,readlink:ih.readlink,realpath:ih.realpath}},MO=t=>!t||t===Nc||t===SQ?Nc:{...Nc,...t,promises:{...Nc.promises,...t.promises||{}}},PO=/^\\\\\?\\([a-z]:)\\?$/i,vQ=t=>t.replace(/\//g,"\\").replace(PO,"$1\\"),TQ=/[\\\/]/,Gr=0,FO=1,BO=2,In=4,kO=6,$O=8,$s=10,qO=12,Vr=15,Cc=~Vr,Hm=16,IO=32,Dc=64,ln=128,sh=256,ah=512,NO=Dc|ln|ah,RQ=1023,Vm=t=>t.isFile()?$O:t.isDirectory()?In:t.isSymbolicLink()?$s:t.isCharacterDevice()?BO:t.isBlockDevice()?kO:t.isSocket()?qO:t.isFIFO()?FO:Gr,DO=new Map,Oc=t=>{let e=DO.get(t);if(e)return e;let r=t.normalize("NFKD");return DO.set(t,r),r},OO=new Map,oh=t=>{let e=OO.get(t);if(e)return e;let r=Oc(t.toLowerCase());return OO.set(t,r),r},Lc=class extends LO.LRUCache{constructor(){super({max:256})}};He.ResolveCache=Lc;var ch=class extends LO.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}};He.ChildrenCache=ch;var UO=Symbol("PathScurry setAsCwd"),tr=class{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#s;get mode(){return this.#s}#n;get nlink(){return this.#n}#o;get uid(){return this.#o}#_;get gid(){return this.#_}#c;get rdev(){return this.#c}#f;get blksize(){return this.#f}#a;get ino(){return this.#a}#l;get size(){return this.#l}#i;get blocks(){return this.#i}#y;get atimeMs(){return this.#y}#m;get mtimeMs(){return this.#m}#h;get ctimeMs(){return this.#h}#d;get birthtimeMs(){return this.#d}#x;get atime(){return this.#x}#g;get mtime(){return this.#g}#v;get ctime(){return this.#v}#T;get birthtime(){return this.#T}#w;#E;#S;#p;#I;#R;#r;#O;#b;#N;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=Gr,n,i,s,o,a){this.name=e,this.#w=s?oh(e):Oc(e),this.#r=r&RQ,this.nocase=s,this.roots=i,this.root=n||this,this.#O=o,this.#S=a.fullpath,this.#I=a.relative,this.#R=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=MO(a.fs)}depth(){return this.#E!==void 0?this.#E:this.parent?this.#E=this.parent.depth()+1:this.#E=0}childrenCache(){return this.#O}resolve(e){if(!e)return this;let r=this.getRootString(e),i=e.substring(r.length).split(this.splitSep);return r?this.getRoot(r).#L(i):this.#L(i)}#L(e){let r=this;for(let n of e)r=r.child(n);return r}children(){let e=this.#O.get(this);if(e)return e;let r=Object.assign([],{provisional:0});return this.#O.set(this,r),this.#r&=~Hm,r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let n=this.children(),i=this.nocase?oh(e):Oc(e);for(let l of n)if(l.#w===i)return l;let s=this.parent?this.sep:"",o=this.#S?this.#S+s+e:void 0,a=this.newChild(e,Gr,{...r,parent:this,fullpath:o});return this.canReaddir()||(a.#r|=ln),n.push(a),a}relative(){if(this.isCWD)return"";if(this.#I!==void 0)return this.#I;let e=this.name,r=this.parent;if(!r)return this.#I=this.name;let n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#R!==void 0)return this.#R;let e=this.name,r=this.parent;if(!r)return this.#R=this.fullpathPosix();let n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#S!==void 0)return this.#S;let e=this.name,r=this.parent;if(!r)return this.#S=this.name;let i=r.fullpath()+(r.parent?this.sep:"")+e;return this.#S=i}fullpathPosix(){if(this.#p!==void 0)return this.#p;if(this.sep==="/")return this.#p=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#p=`//?/${i}`:this.#p=i}let e=this.parent,r=e.fullpathPosix(),n=r+(!r||!e.parent?"":"/")+this.name;return this.#p=n}isUnknown(){return(this.#r&Vr)===Gr}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&Vr)===$O}isDirectory(){return(this.#r&Vr)===In}isCharacterDevice(){return(this.#r&Vr)===BO}isBlockDevice(){return(this.#r&Vr)===kO}isFIFO(){return(this.#r&Vr)===FO}isSocket(){return(this.#r&Vr)===qO}isSymbolicLink(){return(this.#r&$s)===$s}lstatCached(){return this.#r&IO?this:void 0}readlinkCached(){return this.#b}realpathCached(){return this.#N}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#b)return!0;if(!this.parent)return!1;let e=this.#r&Vr;return!(e!==Gr&&e!==$s||this.#r&sh||this.#r&ln)}calledReaddir(){return!!(this.#r&Hm)}isENOENT(){return!!(this.#r&ln)}isNamed(e){return this.nocase?this.#w===oh(e):this.#w===Oc(e)}async readlink(){let e=this.#b;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=await this.#e.promises.readlink(this.fullpath()),n=(await this.parent.realpath())?.resolve(r);if(n)return this.#b=n}catch(r){this.#u(r.code);return}}readlinkSync(){let e=this.#b;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=this.#e.readlinkSync(this.fullpath()),n=this.parent.realpathSync()?.resolve(r);if(n)return this.#b=n}catch(r){this.#u(r.code);return}}#M(e){this.#r|=Hm;for(let r=e.provisional;r<e.length;r++){let n=e[r];n&&n.#P()}}#P(){this.#r&ln||(this.#r=(this.#r|ln)&Cc,this.#A())}#A(){let e=this.children();e.provisional=0;for(let r of e)r.#P()}#C(){this.#r|=ah,this.#F()}#F(){if(this.#r&Dc)return;let e=this.#r;(e&Vr)===In&&(e&=Cc),this.#r=e|Dc,this.#A()}#B(e=""){e==="ENOTDIR"||e==="EPERM"?this.#F():e==="ENOENT"?this.#P():this.children().provisional=0}#k(e=""){e==="ENOTDIR"?this.parent.#F():e==="ENOENT"&&this.#P()}#u(e=""){let r=this.#r;r|=sh,e==="ENOENT"&&(r|=ln),(e==="EINVAL"||e==="UNKNOWN")&&(r&=Cc),this.#r=r,e==="ENOTDIR"&&this.parent&&this.parent.#F()}#$(e,r){return this.#D(e,r)||this.#q(e,r)}#q(e,r){let n=Vm(e),i=this.newChild(e.name,n,{parent:this}),s=i.#r&Vr;return s!==In&&s!==$s&&s!==Gr&&(i.#r|=Dc),r.unshift(i),r.provisional++,i}#D(e,r){for(let n=r.provisional;n<r.length;n++){let i=r[n];if((this.nocase?oh(e.name):Oc(e.name))===i.#w)return this.#U(e,i,n,r)}}#U(e,r,n,i){let s=r.name;return r.#r=r.#r&Cc|Vm(e),s!==e.name&&(r.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(r)),i.provisional++,r}async lstat(){if((this.#r&ln)===0)try{return this.#H(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#k(e.code)}}lstatSync(){if((this.#r&ln)===0)try{return this.#H(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#k(e.code)}}#H(e){let{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:d,ino:h,mode:f,mtime:g,mtimeMs:p,nlink:m,rdev:y,size:v,uid:b}=e;this.#x=r,this.#y=n,this.#T=i,this.#d=s,this.#f=o,this.#i=a,this.#v=l,this.#h=c,this.#t=u,this.#_=d,this.#a=h,this.#s=f,this.#g=g,this.#m=p,this.#n=m,this.#c=y,this.#l=v,this.#o=b;let w=Vm(e);this.#r=this.#r&Cc|w|IO,w!==Gr&&w!==In&&w!==$s&&(this.#r|=Dc)}#j=[];#z=!1;#V(e){this.#z=!1;let r=this.#j.slice();this.#j.length=0,r.forEach(n=>n(null,e))}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}let n=this.children();if(this.calledReaddir()){let s=n.slice(0,n.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(this.#j.push(e),this.#z)return;this.#z=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(s,o)=>{if(s)this.#B(s.code),n.provisional=0;else{for(let a of o)this.#$(a,n);this.#M(n)}this.#V(n.slice(0,n.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();if(this.#W)await this.#W;else{let n=()=>{};this.#W=new Promise(i=>n=i);try{for(let i of await this.#e.promises.readdir(r,{withFileTypes:!0}))this.#$(i,e);this.#M(e)}catch(i){this.#B(i.code),e.provisional=0}this.#W=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();try{for(let n of this.#e.readdirSync(r,{withFileTypes:!0}))this.#$(n,e);this.#M(e)}catch(n){this.#B(n.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#r&NO)return!1;let e=Vr&this.#r;return e===Gr||e===In||e===$s}shouldWalk(e,r){return(this.#r&In)===In&&!(this.#r&NO)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#N)return this.#N;if(!((ah|sh|ln)&this.#r))try{let e=await this.#e.promises.realpath(this.fullpath());return this.#N=this.resolve(e)}catch{this.#C()}}realpathSync(){if(this.#N)return this.#N;if(!((ah|sh|ln)&this.#r))try{let e=this.#e.realpathSync(this.fullpath());return this.#N=this.resolve(e)}catch{this.#C()}}[UO](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;let r=new Set([]),n=[],i=this;for(;i&&i.parent;)r.add(i),i.#I=n.join(this.sep),i.#R=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!r.has(i);)i.#I=void 0,i.#R=void 0,i=i.parent}};He.PathBase=tr;var Mc=class t extends tr{sep="\\";splitSep=TQ;constructor(e,r=Gr,n,i,s,o,a){super(e,r,n,i,s,o,a)}newChild(e,r=Gr,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return lh.win32.parse(e).root}getRoot(e){if(e=vQ(e.toUpperCase()),e===this.root.name)return this.root;for(let[r,n]of Object.entries(this.roots))if(this.sameRoot(e,r))return this.roots[e]=n;return this.roots[e]=new Bc(e,this).root}sameRoot(e,r=this.root.name){return e=e.toUpperCase().replace(/\//g,"\\").replace(PO,"$1\\"),e===r}};He.PathWin32=Mc;var Pc=class t extends tr{splitSep="/";sep="/";constructor(e,r=Gr,n,i,s,o,a){super(e,r,n,i,s,o,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=Gr,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};He.PathPosix=Pc;var Fc=class{root;rootPath;roots;cwd;#e;#t;#s;nocase;#n;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=Nc}={}){this.#n=MO(o),(e instanceof URL||e.startsWith("file://"))&&(e=(0,EQ.fileURLToPath)(e));let a=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new Lc,this.#t=new Lc,this.#s=new ch(s);let l=a.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#n),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,d=r.sep,h=this.rootPath,f=!1;for(let g of l){let p=u--;c=c.child(g,{relative:new Array(p).fill("..").join(d),relativePosix:new Array(p).fill("..").join("/"),fullpath:h+=(f?"":d)+g}),f=!0}this.cwd=c}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#s}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#e.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpath();return this.#e.set(r,i),i}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#t.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpathPosix();return this.#t.set(r,i),i}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n}=r;if(e.canReaddir()){let i=await e.readdir();return n?i:i.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0}=r;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map(i=>i.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e.withFileTypes,e=this.cwd);let n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e.withFileTypes,e=this.cwd);let n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e.withFileTypes,e=this.cwd);let n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e.withFileTypes,e=this.cwd);let n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set,c=(d,h)=>{l.add(d),d.readdirCB((f,g)=>{if(f)return h(f);let p=g.length;if(!p)return h();let m=()=>{--p===0&&h()};for(let y of g)(!s||s(y))&&a.push(n?y:y.fullpath()),i&&y.isSymbolicLink()?y.realpath().then(v=>v?.isUnknown()?v.lstat():v).then(v=>v?.shouldWalk(l,o)?c(v,m):m()):y.shouldWalk(l,o)?c(y,m):m()},!0)},u=e;return new Promise((d,h)=>{c(u,f=>{if(f)return h(f);d(a)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set([e]);for(let c of l){let u=c.readdirSync();for(let d of u){(!s||s(d))&&a.push(n?d:d.fullpath());let h=d;if(d.isSymbolicLink()){if(!(i&&(h=d.realpathSync())))continue;h.isUnknown()&&h.lstatSync()}h.shouldWalk(l,o)&&l.add(h)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r;(!s||s(e))&&(yield n?e:e.fullpath());let a=new Set([e]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield n?u:u.fullpath());let d=u;if(u.isSymbolicLink()){if(!(i&&(d=u.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(a,o)&&a.add(d)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new CO.Minipass({objectMode:!0});(!s||s(e))&&a.write(n?e:e.fullpath());let l=new Set,c=[e],u=0,d=()=>{let h=!1;for(;!h;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let g=(m,y,v=!1)=>{if(m)return a.emit("error",m);if(i&&!v){let b=[];for(let w of y)w.isSymbolicLink()&&b.push(w.realpath().then(I=>I?.isUnknown()?I.lstat():I));if(b.length){Promise.all(b).then(()=>g(null,y,!0));return}}for(let b of y)b&&(!s||s(b))&&(a.write(n?b:b.fullpath())||(h=!0));u--;for(let b of y){let w=b.realpathCached()||b;w.shouldWalk(l,o)&&c.push(w)}h&&!a.flowing?a.once("drain",d):p||d()},p=!0;f.readdirCB(g,!0),p=!1}};return d(),a}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new CO.Minipass({objectMode:!0}),l=new Set;(!s||s(e))&&a.write(n?e:e.fullpath());let c=[e],u=0,d=()=>{let h=!1;for(;!h;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let g=f.readdirSync();for(let p of g)(!s||s(p))&&(a.write(n?p:p.fullpath())||(h=!0));u--;for(let p of g){let m=p;if(p.isSymbolicLink()){if(!(i&&(m=p.realpathSync())))continue;m.isUnknown()&&m.lstatSync()}m.shouldWalk(l,o)&&c.push(m)}}h&&!a.flowing&&a.once("drain",d)};return d(),a}chdir(e=this.cwd){let r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[UO](r)}};He.PathScurryBase=Fc;var Bc=class extends Fc{sep="\\";constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,lh.win32,"\\",{...r,nocase:n}),this.nocase=n;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(e){return lh.win32.parse(e).root.toUpperCase()}newRoot(e){return new Mc(this.rootPath,In,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}};He.PathScurryWin32=Bc;var kc=class extends Fc{sep="/";constructor(e=process.cwd(),r={}){let{nocase:n=!1}=r;super(e,lh.posix,"/",{...r,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new Pc(this.rootPath,In,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}};He.PathScurryPosix=kc;var uh=class extends kc{constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,{...r,nocase:n})}};He.PathScurryDarwin=uh;He.Path=process.platform==="win32"?Mc:Pc;He.PathScurry=process.platform==="win32"?Bc:process.platform==="darwin"?uh:kc});var Ym=x(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.Pattern=void 0;var AQ=Wi(),CQ=t=>t.length>=1,IQ=t=>t.length>=1,Gm=class t{#e;#t;#s;length;#n;#o;#_;#c;#f;#a;#l=!0;constructor(e,r,n,i){if(!CQ(e))throw new TypeError("empty pattern list");if(!IQ(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=r,this.#s=n,this.#n=i,this.#s===0){if(this.isUNC()){let[s,o,a,l,...c]=this.#e,[u,d,h,f,...g]=this.#t;c[0]===""&&(c.shift(),g.shift());let p=[s,o,a,l,""].join("/"),m=[u,d,h,f,""].join("/");this.#e=[p,...c],this.#t=[m,...g],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...l]=this.#t;o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";this.#e=[c,...o],this.#t=[u,...l],this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]=="string"}isGlobstar(){return this.#e[this.#s]===AQ.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#_=this.#_||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new t(this.#e,this.#t,this.#s+1,this.#n),this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o.#c=this.#c,this.#o):this.#o=null}isUNC(){let e=this.#e;return this.#f!==void 0?this.#f:this.#f=this.#n==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3]}isDrive(){let e=this.#e;return this.#c!==void 0?this.#c:this.#c=this.#n==="win32"&&this.#s===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){let e=this.#e;return this.#a!==void 0?this.#a:this.#a=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){let e=this.#e[0];return typeof e=="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#l?!1:(this.#l=!1,!0)}};fh.Pattern=Gm});var YO=x(xr=>{"use strict";var NQ=xr&&xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xr,"__esModule",{value:!0});xr.Minipass=xr.isWritable=xr.isReadable=xr.isStream=void 0;var jO=typeof process=="object"&&process?process:{stdout:null,stderr:null},tb=require("node:events"),GO=NQ(require("node:stream")),DQ=require("node:string_decoder"),OQ=t=>!!t&&typeof t=="object"&&(t instanceof bh||t instanceof GO.default||(0,xr.isReadable)(t)||(0,xr.isWritable)(t));xr.isStream=OQ;var LQ=t=>!!t&&typeof t=="object"&&t instanceof tb.EventEmitter&&typeof t.pipe=="function"&&t.pipe!==GO.default.Writable.prototype.pipe;xr.isReadable=LQ;var MQ=t=>!!t&&typeof t=="object"&&t instanceof tb.EventEmitter&&typeof t.write=="function"&&typeof t.end=="function";xr.isWritable=MQ;var di=Symbol("EOF"),hi=Symbol("maybeEmitEnd"),Hi=Symbol("emittedEnd"),dh=Symbol("emittingEnd"),$c=Symbol("emittedError"),hh=Symbol("closed"),zO=Symbol("read"),ph=Symbol("flush"),HO=Symbol("flushChunk"),cn=Symbol("encoding"),ba=Symbol("decoder"),Gt=Symbol("flowing"),qc=Symbol("paused"),wa=Symbol("resume"),Yt=Symbol("buffer"),Sr=Symbol("pipes"),Jt=Symbol("bufferLength"),Jm=Symbol("bufferPush"),gh=Symbol("bufferShift"),fr=Symbol("objectMode"),Rt=Symbol("destroyed"),Km=Symbol("error"),Xm=Symbol("emitData"),VO=Symbol("emitEnd"),Zm=Symbol("emitEnd2"),Nn=Symbol("async"),Qm=Symbol("abort"),yh=Symbol("aborted"),Uc=Symbol("signal"),qs=Symbol("dataListeners"),Lr=Symbol("discarded"),Wc=t=>Promise.resolve().then(t),PQ=t=>t(),FQ=t=>t==="end"||t==="finish"||t==="prefinish",BQ=t=>t instanceof ArrayBuffer||!!t&&typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,kQ=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),mh=class{src;dest;opts;ondrain;constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[wa](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},eb=class extends mh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},$Q=t=>!!t.objectMode,qQ=t=>!t.objectMode&&!!t.encoding&&t.encoding!=="buffer",bh=class extends tb.EventEmitter{[Gt]=!1;[qc]=!1;[Sr]=[];[Yt]=[];[fr];[cn];[Nn];[ba];[di]=!1;[Hi]=!1;[dh]=!1;[hh]=!1;[$c]=null;[Jt]=0;[Rt]=!1;[Uc];[yh]=!1;[qs]=0;[Lr]=!1;writable=!0;readable=!0;constructor(...e){let r=e[0]||{};if(super(),r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");$Q(r)?(this[fr]=!0,this[cn]=null):qQ(r)?(this[cn]=r.encoding,this[fr]=!1):(this[fr]=!1,this[cn]=null),this[Nn]=!!r.async,this[ba]=this[cn]?new DQ.StringDecoder(this[cn]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Yt]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Sr]});let{signal:n}=r;n&&(this[Uc]=n,n.aborted?this[Qm]():n.addEventListener("abort",()=>this[Qm]()))}get bufferLength(){return this[Jt]}get encoding(){return this[cn]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[fr]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Nn]}set async(e){this[Nn]=this[Nn]||!!e}[Qm](){this[yh]=!0,this.emit("abort",this[Uc]?.reason),this.destroy(this[Uc]?.reason)}get aborted(){return this[yh]}set aborted(e){}write(e,r,n){if(this[yh])return!1;if(this[di])throw new Error("write after end");if(this[Rt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Nn]?Wc:PQ;if(!this[fr]&&!Buffer.isBuffer(e)){if(kQ(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(BQ(e))e=Buffer.from(e);else if(typeof e!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[fr]?(this[Gt]&&this[Jt]!==0&&this[ph](!0),this[Gt]?this.emit("data",e):this[Jm](e),this[Jt]!==0&&this.emit("readable"),n&&i(n),this[Gt]):e.length?(typeof e=="string"&&!(r===this[cn]&&!this[ba]?.lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[cn]&&(e=this[ba].write(e)),this[Gt]&&this[Jt]!==0&&this[ph](!0),this[Gt]?this.emit("data",e):this[Jm](e),this[Jt]!==0&&this.emit("readable"),n&&i(n),this[Gt]):(this[Jt]!==0&&this.emit("readable"),n&&i(n),this[Gt])}read(e){if(this[Rt])return null;if(this[Lr]=!1,this[Jt]===0||e===0||e&&e>this[Jt])return this[hi](),null;this[fr]&&(e=null),this[Yt].length>1&&!this[fr]&&(this[Yt]=[this[cn]?this[Yt].join(""):Buffer.concat(this[Yt],this[Jt])]);let r=this[zO](e||null,this[Yt][0]);return this[hi](),r}[zO](e,r){if(this[fr])this[gh]();else{let n=r;e===n.length||e===null?this[gh]():typeof n=="string"?(this[Yt][0]=n.slice(e),r=n.slice(0,e),this[Jt]-=e):(this[Yt][0]=n.subarray(e),r=n.subarray(0,e),this[Jt]-=e)}return this.emit("data",r),!this[Yt].length&&!this[di]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r="utf8"),e!==void 0&&this.write(e,r),n&&this.once("end",n),this[di]=!0,this.writable=!1,(this[Gt]||!this[qc])&&this[hi](),this}[wa](){this[Rt]||(!this[qs]&&!this[Sr].length&&(this[Lr]=!0),this[qc]=!1,this[Gt]=!0,this.emit("resume"),this[Yt].length?this[ph]():this[di]?this[hi]():this.emit("drain"))}resume(){return this[wa]()}pause(){this[Gt]=!1,this[qc]=!0,this[Lr]=!1}get destroyed(){return this[Rt]}get flowing(){return this[Gt]}get paused(){return this[qc]}[Jm](e){this[fr]?this[Jt]+=1:this[Jt]+=e.length,this[Yt].push(e)}[gh](){return this[fr]?this[Jt]-=1:this[Jt]-=this[Yt][0].length,this[Yt].shift()}[ph](e=!1){do;while(this[HO](this[gh]())&&this[Yt].length);!e&&!this[Yt].length&&!this[di]&&this.emit("drain")}[HO](e){return this.emit("data",e),this[Gt]}pipe(e,r){if(this[Rt])return e;this[Lr]=!1;let n=this[Hi];return r=r||{},e===jO.stdout||e===jO.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Sr].push(r.proxyErrors?new eb(this,e,r):new mh(this,e,r)),this[Nn]?Wc(()=>this[wa]()):this[wa]()),e}unpipe(e){let r=this[Sr].find(n=>n.dest===e);r&&(this[Sr].length===1?(this[Gt]&&this[qs]===0&&(this[Gt]=!1),this[Sr]=[]):this[Sr].splice(this[Sr].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);if(e==="data")this[Lr]=!1,this[qs]++,!this[Sr].length&&!this[Gt]&&this[wa]();else if(e==="readable"&&this[Jt]!==0)super.emit("readable");else if(FQ(e)&&this[Hi])super.emit(e),this.removeAllListeners(e);else if(e==="error"&&this[$c]){let i=r;this[Nn]?Wc(()=>i.call(this,this[$c])):i.call(this,this[$c])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){let n=super.off(e,r);return e==="data"&&(this[qs]=this.listeners("data").length,this[qs]===0&&!this[Lr]&&!this[Sr].length&&(this[Gt]=!1)),n}removeAllListeners(e){let r=super.removeAllListeners(e);return(e==="data"||e===void 0)&&(this[qs]=0,!this[Lr]&&!this[Sr].length&&(this[Gt]=!1)),r}get emittedEnd(){return this[Hi]}[hi](){!this[dh]&&!this[Hi]&&!this[Rt]&&this[Yt].length===0&&this[di]&&(this[dh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[hh]&&this.emit("close"),this[dh]=!1)}emit(e,...r){let n=r[0];if(e!=="error"&&e!=="close"&&e!==Rt&&this[Rt])return!1;if(e==="data")return!this[fr]&&!n?!1:this[Nn]?(Wc(()=>this[Xm](n)),!0):this[Xm](n);if(e==="end")return this[VO]();if(e==="close"){if(this[hh]=!0,!this[Hi]&&!this[Rt])return!1;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[$c]=n,super.emit(Km,n);let s=!this[Uc]||this.listeners("error").length?super.emit("error",n):!1;return this[hi](),s}else if(e==="resume"){let s=super.emit("resume");return this[hi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,...r);return this[hi](),i}[Xm](e){for(let n of this[Sr])n.dest.write(e)===!1&&this.pause();let r=this[Lr]?!1:super.emit("data",e);return this[hi](),r}[VO](){return this[Hi]?!1:(this[Hi]=!0,this.readable=!1,this[Nn]?(Wc(()=>this[Zm]()),!0):this[Zm]())}[Zm](){if(this[ba]){let r=this[ba].end();if(r){for(let n of this[Sr])n.dest.write(r);this[Lr]||super.emit("data",r)}}for(let r of this[Sr])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){let e=Object.assign([],{dataLength:0});this[fr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[fr]||(e.dataLength+=n.length)}),await r,e}async concat(){if(this[fr])throw new Error("cannot concat in objectMode");let e=await this.collect();return this[cn]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise((e,r)=>{this.on(Rt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[Symbol.asyncIterator](){this[Lr]=!1;let e=!1,r=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[di])return r();let s,o,a=d=>{this.off("data",l),this.off("end",c),this.off(Rt,u),r(),o(d)},l=d=>{this.off("error",a),this.off("end",c),this.off(Rt,u),this.pause(),s({value:d,done:!!this[di]})},c=()=>{this.off("error",a),this.off("data",l),this.off(Rt,u),r(),s({done:!0,value:void 0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,h)=>{o=h,s=d,this.once(Rt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Lr]=!1;let e=!1,r=()=>(this.pause(),this.off(Km,r),this.off(Rt,r),this.off("end",r),e=!0,{done:!0,value:void 0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{done:!1,value:i}};return this.once("end",r),this.once(Km,r),this.once(Rt,r),{next:n,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(e){if(this[Rt])return e?this.emit("error",e):this.emit(Rt),this;this[Rt]=!0,this[Lr]=!0,this[Yt].length=0,this[Jt]=0;let r=this;return typeof r.close=="function"&&!this[hh]&&r.close(),e?this.emit("error",e):this.emit(Rt),this}static get isStream(){return xr.isStream}};xr.Minipass=bh});var nb=x(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.Ignore=void 0;var JO=Wi(),UQ=Ym(),WQ=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",rb=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:o=WQ}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of e)this.add(a)}add(e){let r=new JO.Minimatch(e,this.mmopts);for(let n=0;n<r.set.length;n++){let i=r.set[n],s=r.globParts[n];if(!i||!s)throw new Error("invalid pattern object");for(;i[0]==="."&&s[0]===".";)i.shift(),s.shift();let o=new UQ.Pattern(i,s,0,this.platform),a=new JO.Minimatch(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){let r=e.fullpath(),n=`${r}/`,i=e.relative()||".",s=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(n))return!0;return!1}childrenIgnored(e){let r=e.fullpath()+"/",n=(e.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(n))return!0;for(let i of this.absoluteChildren)if(i.match(r))return!0;return!1}};wh.Ignore=rb});var XO=x(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.Processor=Dn.SubWalks=Dn.MatchRecord=Dn.HasWalkedCache=void 0;var KO=Wi(),_h=class t{store;constructor(e=new Map){this.store=e}copy(){return new t(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){let n=e.fullpath(),i=this.store.get(n);i?i.add(r.globString()):this.store.set(n,new Set([r.globString()]))}};Dn.HasWalkedCache=_h;var Eh=class{store=new Map;add(e,r,n){let i=(r?2:0)|(n?1:0),s=this.store.get(e);this.store.set(e,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}};Dn.MatchRecord=Eh;var Sh=class{store=new Map;add(e,r){if(!e.canReaddir())return;let n=this.store.get(e);n?n.find(i=>i.globString()===r.globString())||n.push(r):this.store.set(e,[r])}get(e){let r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}};Dn.SubWalks=Sh;var ib=class t{hasWalkedCache;matches=new Eh;subwalks=new Sh;patterns;follow;dot;opts;constructor(e,r){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new _h}processPatterns(e,r){this.patterns=r;let n=r.map(i=>[e,i]);for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let d=s.rest();if(d)s=d;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)i=i.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof l=="string"){let d=l===".."||l===""||l===".";this.matches.add(i.resolve(l),a,d);continue}else if(l===KO.GLOBSTAR){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let d=c?.pattern(),h=c?.rest();if(!c||(d===""||d===".")&&!h)this.matches.add(i,a,d===""||d===".");else if(d===".."){let f=i.parent||i;h?this.hasWalkedCache.hasWalked(f,h)||this.subwalks.add(f,h):this.matches.add(f,a,!0)}}else l instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(e,r){let n=this.subwalks.get(e),i=this.child();for(let s of r)for(let o of n){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===KO.GLOBSTAR?i.testGlobstar(s,o,c,a):l instanceof RegExp?i.testRegExp(s,l,c,a):i.testString(s,l,c,a)}return i}testGlobstar(e,r,n,i){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(n&&r.checkFollowGlobstar()?this.subwalks.add(e,n):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),n){let s=n.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,n.rest(),i);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,n)}else s instanceof RegExp&&this.testRegExp(e,s,n.rest(),i)}}testRegExp(e,r,n,i){r.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,r,n,i){e.isNamed(r)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}};Dn.Processor=ib});var eL=x(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.GlobStream=Vi.GlobWalker=Vi.GlobUtil=void 0;var jQ=YO(),ZO=nb(),QO=XO(),zQ=(t,e)=>typeof t=="string"?new ZO.Ignore([t],e):Array.isArray(t)?new ZO.Ignore(t,e):t,jc=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#s;signal;maxDepth;includeChildMatches;constructor(e,r,n){if(this.patterns=e,this.path=r,this.opts=n,this.#s=!n.posix&&n.platform==="win32"?"\\":"/",this.includeChildMatches=n.includeChildMatches!==!1,(n.ignore||!this.includeChildMatches)&&(this.#t=zQ(n.ignore??[],n),!this.includeChildMatches&&typeof this.#t.add!="function")){let i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#n(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#o(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#n(e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#n(e))return;if(!this.includeChildMatches&&this.#t?.add){let s=`${e.relativePosix()}/**`;this.#t.add(s)}let n=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);let i=this.opts.mark&&e.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){let s=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(s+i)}else{let s=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(s?o+s+i:"."+i)}}async match(e,r,n){let i=await this.matchCheck(e,n);i&&this.matchFinish(i,r)}matchSync(e,r,n){let i=this.matchCheckSync(e,n);i&&this.matchFinish(i,r)}walkCB(e,r,n){this.signal?.aborted&&n(),this.walkCB2(e,r,new QO.Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,n,o):a.readdirCB((c,u)=>this.walkCB3(a,u,n,o),!0)}o()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of n.subwalks.entries())s++,this.walkCB2(a,l,n.child(),o);o()}walkCBSync(e,r,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,r,new QO.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,n,o)}o()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let[a,l]of n.subwalks.entries())s++,this.walkCB2Sync(a,l,n.child(),o);o()}};Vi.GlobUtil=jc;var sb=class extends jc{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,r)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?r(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};Vi.GlobWalker=sb;var ob=class extends jc{results;constructor(e,r,n){super(e,r,n),this.results=new jQ.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let e=this.path;return e.isUnknown()?e.lstat().then(()=>{this.walkCB(e,this.patterns,()=>this.results.end())}):this.walkCB(e,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};Vi.GlobStream=ob});var lb=x(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.Glob=void 0;var HQ=Wi(),VQ=require("node:url"),xh=WO(),GQ=Ym(),vh=eL(),YQ=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",ab=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,VQ.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=e,this.platform=r.platform||YQ,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?xh.PathScurryWin32:r.platform==="darwin"?xh.PathScurryDarwin:r.platform?xh.PathScurryPosix:xh.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let n=this.platform==="darwin"||this.platform==="win32",i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new HQ.Minimatch(l,i)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new GQ.Pattern(l,u,0,this.platform)})}async walk(){return[...await new vh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new vh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new vh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new vh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};Th.Glob=ab});var cb=x(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.hasMagic=void 0;var JQ=Wi(),KQ=(t,e={})=>{Array.isArray(t)||(t=[t]);for(let r of t)if(new JQ.Minimatch(r,e).hasMagic())return!0;return!1};Rh.hasMagic=KQ});var iL=x(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.glob=Ne.sync=Ne.iterate=Ne.iterateSync=Ne.stream=Ne.streamSync=Ne.Ignore=Ne.hasMagic=Ne.Glob=Ne.unescape=Ne.escape=void 0;Ne.globStreamSync=zc;Ne.globStream=ub;Ne.globSync=fb;Ne.globIterateSync=Hc;Ne.globIterate=db;var tL=Wi(),Us=lb(),XQ=cb(),nL=Wi();Object.defineProperty(Ne,"escape",{enumerable:!0,get:function(){return nL.escape}});Object.defineProperty(Ne,"unescape",{enumerable:!0,get:function(){return nL.unescape}});var ZQ=lb();Object.defineProperty(Ne,"Glob",{enumerable:!0,get:function(){return ZQ.Glob}});var QQ=cb();Object.defineProperty(Ne,"hasMagic",{enumerable:!0,get:function(){return QQ.hasMagic}});var eee=nb();Object.defineProperty(Ne,"Ignore",{enumerable:!0,get:function(){return eee.Ignore}});function zc(t,e={}){return new Us.Glob(t,e).streamSync()}function ub(t,e={}){return new Us.Glob(t,e).stream()}function fb(t,e={}){return new Us.Glob(t,e).walkSync()}async function rL(t,e={}){return new Us.Glob(t,e).walk()}function Hc(t,e={}){return new Us.Glob(t,e).iterateSync()}function db(t,e={}){return new Us.Glob(t,e).iterate()}Ne.streamSync=zc;Ne.stream=Object.assign(ub,{sync:zc});Ne.iterateSync=Hc;Ne.iterate=Object.assign(db,{sync:Hc});Ne.sync=Object.assign(fb,{stream:zc,iterate:Hc});Ne.glob=Object.assign(rL,{glob:rL,globSync:fb,sync:Ne.sync,globStream:ub,stream:Ne.stream,globStreamSync:zc,streamSync:Ne.streamSync,globIterate:db,iterate:Ne.iterate,globIterateSync:Hc,iterateSync:Ne.iterateSync,Glob:Us.Glob,hasMagic:XQ.hasMagic,escape:tL.escape,unescape:tL.unescape});Ne.glob.glob=Ne.glob});var lL=x((gSe,aL)=>{var oL=Tg(),_a=require("path"),hb=dN(),tee=AD(),ree=kD(),nee=HD(),iee=iL(),Ws=aL.exports={},sL=/[\/\\]/g,see=function(t,e){var r=[];return hb(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=tee(r,s):r=ree(r,s)}),r};Ws.exists=function(){var t=_a.join.apply(_a,arguments);return oL.existsSync(t)};Ws.expand=function(...t){var e=nee(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=see(r,function(i){return iee.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=_a.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):oL.statSync(i)[e.filter]()}catch{return!1}})),n};Ws.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return _a.join(s||"",o)}},r);var n=[],i={};return Ws.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=_a.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=_a.join(r.cwd,s)),a=a.replace(sL,"/"),s=s.replace(sL,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};Ws.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=hb(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return Ws.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?hb(o):[o],s.result=Ws.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var Ea=x((mSe,fL)=>{var pb=Tg(),cL=require("path"),oee=Uf(),aee=gR(),uL=Jg(),lee=JA(),ySe=require("stream").Stream,cee=rN().PassThrough,Mr=fL.exports={};Mr.file=lL();Mr.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};Mr.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};Mr.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},lee(...n)};Mr.isStream=function(t){return oee(t)};Mr.lazyReadStream=function(t){return new aee.Readable(function(){return pb.createReadStream(t)})};Mr.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):Mr.isStream(t)?t.pipe(new cee):t};Mr.sanitizePath=function(t){return uL(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};Mr.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};Mr.unixifyPath=function(t){return uL(t,!1).replace(/^\w+:/,"")};Mr.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),pb.readdir(t,function(i,s){var o=0,a,l;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);l=cL.join(t,a),pb.stat(l,function(u,d){n.push({path:l,relative:cL.relative(e,l).replace(/\\/g,"/"),stats:d}),d&&d.isDirectory()?Mr.walkdir(l,e,function(h,f){if(h)return r(h);f.forEach(function(g){n.push(g)}),c()}):c()})})()})}});var gL=x((hL,pL)=>{var uee=require("util"),fee={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function dL(t,e){Error.captureStackTrace(this,this.constructor),this.message=fee[t]||t,this.code=t,this.data=e}uee.inherits(dL,Error);hL=pL.exports=dL});var ot=x((bSe,yL)=>{"use strict";var gb=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};yL.exports={AggregateError:gb,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var yb=x((wSe,mL)=>{"use strict";mL.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var dr=x((_Se,_L)=>{"use strict";var{format:dee,inspect:Ah}=yb(),{AggregateError:hee}=ot(),pee=globalThis.AggregateError||hee,gee=Symbol("kIsNodeError"),yee=["string","function","number","object","Function","Object","boolean","bigint","symbol"],mee=/^([A-Z][a-z0-9]*)+$/,bee="__node_internal_",Ch={};function js(t,e){if(!t)throw new Ch.ERR_INTERNAL_ASSERTION(e)}function bL(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function wee(t,e,r){if(typeof e=="function")return js(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return js(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:dee(e,...r)}function rr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(wee(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[gee]=!0,Ch[t]=n}function wL(t){let e=bee+t.name;return Object.defineProperty(t,"name",{value:e}),t}function _ee(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new pee([e,t],e.message);return r.code=e.code,r}return t||e}var mb=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Ch.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};rr("ERR_ASSERTION","%s",Error);rr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{js(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)js(typeof l=="string","All expected entries have to be of type string"),yee.includes(l)?i.push(l.toLowerCase()):mee.test(l)?s.push(l):(js(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Ah(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Ah(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);rr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Ah(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);rr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);rr("ERR_MISSING_ARGS",(...t)=>{js(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);rr("ERR_OUT_OF_RANGE",(t,e,r)=>{js(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=bL(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=bL(n)),n+="n"}else n=Ah(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);rr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);rr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);rr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);rr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);rr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);rr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);rr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);rr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);rr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);rr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);rr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);_L.exports={AbortError:mb,aggregateTwoErrors:wL(_ee),hideStackFrames:wL,codes:Ch}});var vr=x((ESe,wb)=>{"use strict";var Eee=require("buffer"),{format:See,inspect:xee}=yb(),{codes:{ERR_INVALID_ARG_TYPE:bb}}=dr(),{kResistStopPropagation:vee,AggregateError:Tee,SymbolDispose:Ree}=ot(),Aee=globalThis.AbortSignal||xt().AbortSignal,Cee=globalThis.AbortController||xt().AbortController,Iee=Object.getPrototypeOf(async function(){}).constructor,EL=globalThis.Blob||Eee.Blob,Nee=typeof EL<"u"?function(e){return e instanceof EL}:function(e){return!1},SL=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new bb(e,"AbortSignal",t)},Dee=(t,e)=>{if(typeof t!="function")throw new bb(e,"Function",t)};wb.exports={AggregateError:Tee,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:See,inspect:xee,types:{isAsyncFunction(t){return t instanceof Iee},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Nee,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new bb("signal","AbortSignal",e);SL(e,"signal"),Dee(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[vee]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Ree](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Aee.any||function(e){if(e.length===1)return e[0];let r=new Cee,n=()=>r.abort();return e.forEach(i=>{SL(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};wb.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var xa=x((SSe,OL)=>{"use strict";var{ArrayIsArray:Eb,ArrayPrototypeIncludes:RL,ArrayPrototypeJoin:AL,ArrayPrototypeMap:Oee,NumberIsInteger:Sb,NumberIsNaN:Lee,NumberMAX_SAFE_INTEGER:Mee,NumberMIN_SAFE_INTEGER:Pee,NumberParseInt:Fee,ObjectPrototypeHasOwnProperty:Bee,RegExpPrototypeExec:CL,String:kee,StringPrototypeToUpperCase:$ee,StringPrototypeTrim:qee}=ot(),{hideStackFrames:Yr,codes:{ERR_SOCKET_BAD_PORT:Uee,ERR_INVALID_ARG_TYPE:hr,ERR_INVALID_ARG_VALUE:Sa,ERR_OUT_OF_RANGE:zs,ERR_UNKNOWN_SIGNAL:xL}}=dr(),{normalizeEncoding:Wee}=vr(),{isAsyncFunction:jee,isArrayBufferView:zee}=vr().types,vL={};function Hee(t){return t===(t|0)}function Vee(t){return t===t>>>0}var Gee=/^[0-7]+$/,Yee="must be a 32-bit unsigned integer or an octal string";function Jee(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(CL(Gee,t)===null)throw new Sa(e,t,Yee);t=Fee(t,8)}return IL(t,e),t}var Kee=Yr((t,e,r=Pee,n=Mee)=>{if(typeof t!="number")throw new hr(e,"number",t);if(!Sb(t))throw new zs(e,"an integer",t);if(t<r||t>n)throw new zs(e,`>= ${r} && <= ${n}`,t)}),Xee=Yr((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new hr(e,"number",t);if(!Sb(t))throw new zs(e,"an integer",t);if(t<r||t>n)throw new zs(e,`>= ${r} && <= ${n}`,t)}),IL=Yr((t,e,r=!1)=>{if(typeof t!="number")throw new hr(e,"number",t);if(!Sb(t))throw new zs(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new zs(e,`>= ${n} && <= ${i}`,t)});function xb(t,e){if(typeof t!="string")throw new hr(e,"string",t)}function Zee(t,e,r=void 0,n){if(typeof t!="number")throw new hr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Lee(t))throw new zs(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Qee=Yr((t,e,r)=>{if(!RL(r,t)){let i="must be one of: "+AL(Oee(r,s=>typeof s=="string"?`'${s}'`:kee(s)),", ");throw new Sa(e,t,i)}});function NL(t,e){if(typeof t!="boolean")throw new hr(e,"boolean",t)}function _b(t,e,r){return t==null||!Bee(t,e)?r:t[e]}var ete=Yr((t,e,r=null)=>{let n=_b(r,"allowArray",!1),i=_b(r,"allowFunction",!1);if(!_b(r,"nullable",!1)&&t===null||!n&&Eb(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new hr(e,"Object",t)}),tte=Yr((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new hr(e,"a dictionary",t)}),Ih=Yr((t,e,r=0)=>{if(!Eb(t))throw new hr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Sa(e,t,n)}});function rte(t,e){Ih(t,e);for(let r=0;r<t.length;r++)xb(t[r],`${e}[${r}]`)}function nte(t,e){Ih(t,e);for(let r=0;r<t.length;r++)NL(t[r],`${e}[${r}]`)}function ite(t,e){Ih(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new hr(i,"AbortSignal",n);DL(n,i)}}function ste(t,e="signal"){if(xb(t,e),vL[t]===void 0)throw vL[$ee(t)]!==void 0?new xL(t+" (signals must use all capital letters)"):new xL(t)}var ote=Yr((t,e="buffer")=>{if(!zee(t))throw new hr(e,["Buffer","TypedArray","DataView"],t)});function ate(t,e){let r=Wee(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Sa("encoding",e,`is invalid for data of length ${n}`)}function lte(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&qee(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Uee(e,t,r);return t|0}var DL=Yr((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new hr(e,"AbortSignal",t)}),cte=Yr((t,e)=>{if(typeof t!="function")throw new hr(e,"Function",t)}),ute=Yr((t,e)=>{if(typeof t!="function"||jee(t))throw new hr(e,"Function",t)}),fte=Yr((t,e)=>{if(t!==void 0)throw new hr(e,"undefined",t)});function dte(t,e,r){if(!RL(r,t))throw new hr(e,`('${AL(r,"|")}')`,t)}var hte=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function TL(t,e){if(typeof t>"u"||!CL(hte,t))throw new Sa(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function pte(t){if(typeof t=="string")return TL(t,"hints"),t;if(Eb(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];TL(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Sa("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}OL.exports={isInt32:Hee,isUint32:Vee,parseFileMode:Jee,validateArray:Ih,validateStringArray:rte,validateBooleanArray:nte,validateAbortSignalArray:ite,validateBoolean:NL,validateBuffer:ote,validateDictionary:tte,validateEncoding:ate,validateFunction:cte,validateInt32:Xee,validateInteger:Kee,validateNumber:Zee,validateObject:ete,validateOneOf:Qee,validatePlainFunction:ute,validatePort:lte,validateSignalName:ste,validateString:xb,validateUint32:IL,validateUndefined:fte,validateUnion:dte,validateAbortSignal:DL,validateLinkHeaderValue:pte}});var Ln=x((xSe,GL)=>{"use strict";var{SymbolAsyncIterator:LL,SymbolIterator:ML,SymbolFor:Hs}=ot(),PL=Hs("nodejs.stream.destroyed"),FL=Hs("nodejs.stream.errored"),vb=Hs("nodejs.stream.readable"),Tb=Hs("nodejs.stream.writable"),BL=Hs("nodejs.stream.disturbed"),gte=Hs("nodejs.webstream.isClosedPromise"),yte=Hs("nodejs.webstream.controllerErrorFunction");function Nh(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Dh(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function mte(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function On(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function kL(t){return!!(t&&!On(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function $L(t){return!!(t&&!On(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function qL(t){return!!(t&&!On(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function bte(t){return kL(t)||$L(t)||qL(t)}function wte(t,e){return t==null?!1:e===!0?typeof t[LL]=="function":e===!1?typeof t[ML]=="function":typeof t[LL]=="function"||typeof t[ML]=="function"}function Oh(t){if(!On(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[PL]||n!=null&&n.destroyed)}function UL(t){if(!Dh(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function _te(t,e){if(!Dh(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Ete(t){if(!Nh(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function WL(t,e){if(!Nh(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function jL(t){return t&&t[vb]!=null?t[vb]:typeof t?.readable!="boolean"?null:Oh(t)?!1:Nh(t)&&t.readable&&!WL(t)}function zL(t){return t&&t[Tb]!=null?t[Tb]:typeof t?.writable!="boolean"?null:Oh(t)?!1:Dh(t)&&t.writable&&!UL(t)}function Ste(t,e){return On(t)?Oh(t)?!0:!(e?.readable!==!1&&jL(t)||e?.writable!==!1&&zL(t)):null}function xte(t){var e,r;return On(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function vte(t){var e,r;return On(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Tte(t){if(!On(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&HL(t)?t._closed:null}function HL(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function VL(t){return typeof t._sent100=="boolean"&&HL(t)}function Rte(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Ate(t){if(!On(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&VL(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Cte(t){var e;return!!(t&&((e=t[BL])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Ite(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[FL])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}GL.exports={isDestroyed:Oh,kIsDestroyed:PL,isDisturbed:Cte,kIsDisturbed:BL,isErrored:Ite,kIsErrored:FL,isReadable:jL,kIsReadable:vb,kIsClosedPromise:gte,kControllerErrorFunction:yte,kIsWritable:Tb,isClosed:Tte,isDuplexNodeStream:mte,isFinished:Ste,isIterable:wte,isReadableNodeStream:Nh,isReadableStream:kL,isReadableEnded:Ete,isReadableFinished:WL,isReadableErrored:vte,isNodeStream:On,isWebStream:bte,isWritable:zL,isWritableNodeStream:Dh,isWritableStream:$L,isWritableEnded:UL,isWritableFinished:_te,isWritableErrored:xte,isServerRequest:Rte,isServerResponse:VL,willEmitClose:Ate,isTransformStream:qL}});var pi=x((vSe,Nb)=>{"use strict";var Gi=Ve(),{AbortError:rM,codes:Nte}=dr(),{ERR_INVALID_ARG_TYPE:Dte,ERR_STREAM_PREMATURE_CLOSE:YL}=Nte,{kEmptyObject:Ab,once:Cb}=vr(),{validateAbortSignal:Ote,validateFunction:Lte,validateObject:Mte,validateBoolean:Pte}=xa(),{Promise:Fte,PromisePrototypeThen:Bte,SymbolDispose:nM}=ot(),{isClosed:kte,isReadable:JL,isReadableNodeStream:Rb,isReadableStream:$te,isReadableFinished:KL,isReadableErrored:XL,isWritable:ZL,isWritableNodeStream:QL,isWritableStream:qte,isWritableFinished:eM,isWritableErrored:tM,isNodeStream:Ute,willEmitClose:Wte,kIsClosedPromise:jte}=Ln(),va;function zte(t){return t.setHeader&&typeof t.abort=="function"}var Ib=()=>{};function iM(t,e,r){var n,i;if(arguments.length===2?(r=e,e=Ab):e==null?e=Ab:Mte(e,"options"),Lte(r,"callback"),Ote(e.signal,"options.signal"),r=Cb(r),$te(t)||qte(t))return Hte(t,e,r);if(!Ute(t))throw new Dte("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:Rb(t),o=(i=e.writable)!==null&&i!==void 0?i:QL(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||h()},u=Wte(t)&&Rb(t)===s&&QL(t)===o,d=eM(t,!1),h=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=KL(t,!1),g=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},p=I=>{r.call(t,I)},m=kte(t),y=()=>{m=!0;let I=tM(t)||XL(t);if(I&&typeof I!="boolean")return r.call(t,I);if(s&&!f&&Rb(t,!0)&&!KL(t,!1))return r.call(t,new YL);if(o&&!d&&!eM(t,!1))return r.call(t,new YL);r.call(t)},v=()=>{m=!0;let I=tM(t)||XL(t);if(I&&typeof I!="boolean")return r.call(t,I);r.call(t)},b=()=>{t.req.on("finish",h)};zte(t)?(t.on("complete",h),u||t.on("abort",y),t.req?b():t.on("request",b)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",g),t.on("finish",h),e.error!==!1&&t.on("error",p),t.on("close",y),m?Gi.nextTick(y):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Gi.nextTick(v):(!s&&(!u||JL(t))&&(d||ZL(t)===!1)||!o&&(!u||ZL(t))&&(f||JL(t)===!1)||l&&t.req&&t.aborted)&&Gi.nextTick(v);let w=()=>{r=Ib,t.removeListener("aborted",y),t.removeListener("complete",h),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",g),t.removeListener("error",p),t.removeListener("close",y)};if(e.signal&&!m){let I=()=>{let O=r;w(),O.call(t,new rM(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Gi.nextTick(I);else{va=va||vr().addAbortListener;let O=va(e.signal,I),A=r;r=Cb((...k)=>{O[nM](),A.apply(t,k)})}}return w}function Hte(t,e,r){let n=!1,i=Ib;if(e.signal)if(i=()=>{n=!0,r.call(t,new rM(void 0,{cause:e.signal.reason}))},e.signal.aborted)Gi.nextTick(i);else{va=va||vr().addAbortListener;let o=va(e.signal,i),a=r;r=Cb((...l)=>{o[nM](),a.apply(t,l)})}let s=(...o)=>{n||Gi.nextTick(()=>r.apply(t,o))};return Bte(t[jte].promise,s,s),Ib}function Vte(t,e){var r;let n=!1;return e===null&&(e=Ab),(r=e)!==null&&r!==void 0&&r.cleanup&&(Pte(e.cleanup,"cleanup"),n=e.cleanup),new Fte((i,s)=>{let o=iM(t,e,a=>{n&&o(),a?s(a):i()})})}Nb.exports=iM;Nb.exports.finished=Vte});var Vs=x((TSe,dM)=>{"use strict";var Mn=Ve(),{aggregateTwoErrors:Gte,codes:{ERR_MULTIPLE_CALLBACK:Yte},AbortError:Jte}=dr(),{Symbol:aM}=ot(),{kIsDestroyed:Kte,isDestroyed:Xte,isFinished:Zte,isServerRequest:Qte}=Ln(),lM=aM("kDestroy"),Db=aM("kConstruct");function cM(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function ere(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(cM(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?sM(this,t,e):this.once(lM,function(s){sM(this,Gte(s,t),e)}),this)}function sM(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;cM(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Mn.nextTick(tre,t,s):Mn.nextTick(uM,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function tre(t,e){Ob(t,e),uM(t)}function uM(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Ob(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function rre(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Lb(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Mn.nextTick(Ob,t,e):Ob(t,e))}function nre(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Db,e),!(t.listenerCount(Db)>1)&&Mn.nextTick(ire,t)}function ire(t){let e=!1;function r(n){if(e){Lb(t,n??new Yte);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(lM,n):n?Lb(t,n,!0):Mn.nextTick(sre,t)}try{t._construct(n=>{Mn.nextTick(r,n)})}catch(n){Mn.nextTick(r,n)}}function sre(t){t.emit(Db)}function oM(t){return t?.setHeader&&typeof t.abort=="function"}function fM(t){t.emit("close")}function ore(t,e){t.emit("error",e),Mn.nextTick(fM,t)}function are(t,e){!t||Xte(t)||(!e&&!Zte(t)&&(e=new Jte),Qte(t)?(t.socket=null,t.destroy(e)):oM(t)?t.abort():oM(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Mn.nextTick(ore,t,e):Mn.nextTick(fM,t),t.destroyed||(t[Kte]=!0))}dM.exports={construct:nre,destroyer:are,destroy:ere,undestroy:rre,errorOrDestroy:Lb}});var Ph=x((RSe,pM)=>{"use strict";var{ArrayIsArray:lre,ObjectSetPrototypeOf:hM}=ot(),{EventEmitter:Lh}=require("events");function Mh(t){Lh.call(this,t)}hM(Mh.prototype,Lh.prototype);hM(Mh,Lh);Mh.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),Lh.listenerCount(this,"error")===0&&this.emit("error",u)}Mb(r,"error",l),Mb(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Mb(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):lre(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}pM.exports={Stream:Mh,prependListener:Mb}});var Vc=x((ASe,Fh)=>{"use strict";var{SymbolDispose:cre}=ot(),{AbortError:gM,codes:ure}=dr(),{isNodeStream:yM,isWebStream:fre,kControllerErrorFunction:dre}=Ln(),hre=pi(),{ERR_INVALID_ARG_TYPE:mM}=ure,Pb,pre=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new mM(e,"AbortSignal",t)};Fh.exports.addAbortSignal=function(e,r){if(pre(e,"signal"),!yM(r)&&!fre(r))throw new mM("stream",["ReadableStream","WritableStream","Stream"],r);return Fh.exports.addAbortSignalNoValidate(e,r)};Fh.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=yM(e)?()=>{e.destroy(new gM(void 0,{cause:t.reason}))}:()=>{e[dre](new gM(void 0,{cause:t.reason}))};if(t.aborted)r();else{Pb=Pb||vr().addAbortListener;let n=Pb(t,r);hre(e,n[cre])}return e}});var _M=x((ISe,wM)=>{"use strict";var{StringPrototypeSlice:bM,SymbolIterator:gre,TypedArrayPrototypeSet:Bh,Uint8Array:yre}=ot(),{Buffer:Fb}=require("buffer"),{inspect:mre}=vr();wM.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Fb.alloc(0);let r=Fb.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Bh(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[gre](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=bM(s,0,e),this.head=n,n.data=bM(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Fb.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)Bh(r,o,n-e),e-=o.length;else{e===o.length?(Bh(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(Bh(r,new yre(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return mre(this,{...r,depth:0,customInspect:!1})}}});var Gc=x((NSe,vM)=>{"use strict";var{MathFloor:bre,NumberIsInteger:wre}=ot(),{validateInteger:_re}=xa(),{ERR_INVALID_ARG_VALUE:Ere}=dr().codes,EM=16*1024,SM=16;function Sre(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function xM(t){return t?SM:EM}function xre(t,e){_re(e,"value",0),t?SM=e:EM=e}function vre(t,e,r,n){let i=Sre(e,n,r);if(i!=null){if(!wre(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Ere(s,i)}return bre(i)}return xM(t.objectMode)}vM.exports={getHighWaterMark:vre,getDefaultHighWaterMark:xM,setDefaultHighWaterMark:xre}});var Bb=x((DSe,CM)=>{"use strict";var TM=Ve(),{PromisePrototypeThen:Tre,SymbolAsyncIterator:RM,SymbolIterator:AM}=ot(),{Buffer:Rre}=require("buffer"),{ERR_INVALID_ARG_TYPE:Are,ERR_STREAM_NULL_VALUES:Cre}=dr().codes;function Ire(t,e,r){let n;if(typeof e=="string"||e instanceof Rre)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[RM])i=!0,n=e[RM]();else if(e&&e[AM])i=!1,n=e[AM]();else throw new Are("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Tre(a(c),()=>TM.nextTick(u,c),d=>TM.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:h,done:f}=await n.throw(c);if(await h,f)return}if(typeof n.return=="function"){let{value:h}=await n.return();await h}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Cre;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}CM.exports=Ire});var Jc=x((OSe,VM)=>{"use strict";var un=Ve(),{ArrayPrototypeIndexOf:Nre,NumberIsInteger:Dre,NumberIsNaN:Ore,NumberParseInt:Lre,ObjectDefineProperties:Hb,ObjectKeys:Mre,ObjectSetPrototypeOf:DM,Promise:OM,SafeSet:Pre,SymbolAsyncDispose:Fre,SymbolAsyncIterator:Bre,Symbol:kre}=ot();VM.exports=me;me.ReadableState=Uh;var{EventEmitter:$re}=require("events"),{Stream:Yi,prependListener:qre}=Ph(),{Buffer:kb}=require("buffer"),{addAbortSignal:Ure}=Vc(),LM=pi(),De=vr().debuglog("stream",t=>{De=t}),Wre=_M(),Aa=Vs(),{getHighWaterMark:jre,getDefaultHighWaterMark:zre}=Gc(),{aggregateTwoErrors:IM,codes:{ERR_INVALID_ARG_TYPE:Hre,ERR_METHOD_NOT_IMPLEMENTED:Vre,ERR_OUT_OF_RANGE:Gre,ERR_STREAM_PUSH_AFTER_EOF:Yre,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Jre},AbortError:Kre}=dr(),{validateObject:Xre}=xa(),Gs=kre("kPaused"),{StringDecoder:MM}=uc(),Zre=Bb();DM(me.prototype,Yi.prototype);DM(me,Yi);var $b=()=>{},{errorOrDestroy:Ta}=Aa,Ra=1,Qre=2,PM=4,Yc=8,FM=16,kh=32,$h=64,BM=128,ene=256,tne=512,rne=1024,jb=2048,zb=4096,nne=8192,ine=16384,sne=32768,kM=65536,one=1<<17,ane=1<<18;function Lt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}Hb(Uh.prototype,{objectMode:Lt(Ra),ended:Lt(Qre),endEmitted:Lt(PM),reading:Lt(Yc),constructed:Lt(FM),sync:Lt(kh),needReadable:Lt($h),emittedReadable:Lt(BM),readableListening:Lt(ene),resumeScheduled:Lt(tne),errorEmitted:Lt(rne),emitClose:Lt(jb),autoDestroy:Lt(zb),destroyed:Lt(nne),closed:Lt(ine),closeEmitted:Lt(sne),multiAwaitDrain:Lt(kM),readingMore:Lt(one),dataEmitted:Lt(ane)});function Uh(t,e,r){typeof r!="boolean"&&(r=e instanceof Pn()),this.state=jb|zb|FM|kh,t&&t.objectMode&&(this.state|=Ra),r&&t&&t.readableObjectMode&&(this.state|=Ra),this.highWaterMark=t?jre(this,t,"readableHighWaterMark",r):zre(!1),this.buffer=new Wre,this.length=0,this.pipes=[],this.flowing=null,this[Gs]=null,t&&t.emitClose===!1&&(this.state&=~jb),t&&t.autoDestroy===!1&&(this.state&=~zb),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new MM(t.encoding),this.encoding=t.encoding)}function me(t){if(!(this instanceof me))return new me(t);let e=this instanceof Pn();this._readableState=new Uh(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Ure(t.signal,this)),Yi.call(this,t),Aa.construct(this,()=>{this._readableState.needReadable&&qh(this,this._readableState)})}me.prototype.destroy=Aa.destroy;me.prototype._undestroy=Aa.undestroy;me.prototype._destroy=function(t,e){e(t)};me.prototype[$re.captureRejectionSymbol]=function(t){this.destroy(t)};me.prototype[Fre]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Kre,this.destroy(t)),new OM((e,r)=>LM(this,n=>n&&n!==t?r(n):e(null)))};me.prototype.push=function(t,e){return $M(this,t,e,!1)};me.prototype.unshift=function(t,e){return $M(this,t,e,!0)};function $M(t,e,r,n){De("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ra)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=kb.from(e,r).toString(i.encoding):(e=kb.from(e,r),r=""))):e instanceof kb?r="":Yi._isUint8Array(e)?(e=Yi._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Hre("chunk",["string","Buffer","Uint8Array"],e))),s)Ta(t,s);else if(e===null)i.state&=~Yc,une(t,i);else if((i.state&Ra)!==0||e&&e.length>0)if(n)if((i.state&PM)!==0)Ta(t,new Jre);else{if(i.destroyed||i.errored)return!1;qb(t,i,e,!0)}else if(i.ended)Ta(t,new Yre);else{if(i.destroyed||i.errored)return!1;i.state&=~Yc,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?qb(t,i,e,!1):qh(t,i)):qb(t,i,e,!1)}else n||(i.state&=~Yc,qh(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function qb(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&kM)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&$h)!==0&&Wh(t)),qh(t,e)}me.prototype.isPaused=function(){let t=this._readableState;return t[Gs]===!0||t.flowing===!1};me.prototype.setEncoding=function(t){let e=new MM(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var lne=1073741824;function cne(t){if(t>lne)throw new Gre("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function NM(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ra)!==0?1:Ore(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}me.prototype.read=function(t){De("read",t),t===void 0?t=NaN:Dre(t)||(t=Lre(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=cne(t)),t!==0&&(e.state&=~BM),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return De("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Ub(this):Wh(this),null;if(t=NM(t,e),t===0&&e.ended)return e.length===0&&Ub(this),null;let n=(e.state&$h)!==0;if(De("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,De("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,De("reading, ended or constructing",n);else if(n){De("do read"),e.state|=Yc|kh,e.length===0&&(e.state|=$h);try{this._read(e.highWaterMark)}catch(s){Ta(this,s)}e.state&=~kh,e.reading||(t=NM(r,e))}let i;return t>0?i=zM(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Ub(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function une(t,e){if(De("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Wh(t):(e.needReadable=!1,e.emittedReadable=!0,qM(t))}}function Wh(t){let e=t._readableState;De("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(De("emitReadable",e.flowing),e.emittedReadable=!0,un.nextTick(qM,t))}function qM(t){let e=t._readableState;De("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,WM(t)}function qh(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,un.nextTick(fne,t,e))}function fne(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(De("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}me.prototype._read=function(t){throw new Vre("_read()")};me.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Pre(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),De("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==un.stdout&&t!==un.stderr?a:m;n.endEmitted?un.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,v){De("onunpipe"),y===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,u())}function a(){De("onend"),t.end()}let l,c=!1;function u(){De("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(De("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(De("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=dne(r,t),t.on("drain",l))}r.on("data",h);function h(y){De("ondata");let v=t.write(y);De("dest.write",v),v===!1&&d()}function f(y){if(De("onerror",y),m(),t.removeListener("error",f),t.listenerCount("error")===0){let v=t._writableState||t._readableState;v&&!v.errorEmitted?Ta(t,y):t.emit("error",y)}}qre(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){De("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){De("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(De("pipe resume"),r.resume()),t};function dne(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(De("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(De("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}me.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Nre(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};me.prototype.on=function(t,e){let r=Yi.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,De("on readable",n.length,n.reading),n.length?Wh(this):n.reading||un.nextTick(hne,this)),r};me.prototype.addListener=me.prototype.on;me.prototype.removeListener=function(t,e){let r=Yi.prototype.removeListener.call(this,t,e);return t==="readable"&&un.nextTick(UM,this),r};me.prototype.off=me.prototype.removeListener;me.prototype.removeAllListeners=function(t){let e=Yi.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&un.nextTick(UM,this),e};function UM(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Gs]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function hne(t){De("readable nexttick read 0"),t.read(0)}me.prototype.resume=function(){let t=this._readableState;return t.flowing||(De("resume"),t.flowing=!t.readableListening,pne(this,t)),t[Gs]=!1,this};function pne(t,e){e.resumeScheduled||(e.resumeScheduled=!0,un.nextTick(gne,t,e))}function gne(t,e){De("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),WM(t),e.flowing&&!e.reading&&t.read(0)}me.prototype.pause=function(){return De("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(De("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Gs]=!0,this};function WM(t){let e=t._readableState;for(De("flow",e.flowing);e.flowing&&t.read()!==null;);}me.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Ta(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Mre(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};me.prototype[Bre]=function(){return jM(this)};me.prototype.iterator=function(t){return t!==void 0&&Xre(t,"options"),jM(this,t)};function jM(t,e){typeof t.read!="function"&&(t=me.wrap(t,{objectMode:!0}));let r=yne(t,e);return r.stream=t,r}async function*yne(t,e){let r=$b;function n(o){this===t?(r(),r=$b):r=o}t.on("readable",n);let i,s=LM(t,{writable:!1},o=>{i=o?IM(i,o):null,r(),r=$b});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new OM(n)}}}catch(o){throw i=IM(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Aa.destroyer(t,null):(t.off("readable",n),s())}}Hb(me.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Hb(Uh.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Gs]!==!1},set(t){this[Gs]=!!t}}});me._fromList=zM;function zM(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Ub(t){let e=t._readableState;De("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,un.nextTick(mne,e,t))}function mne(t,e){if(De("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)un.nextTick(bne,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function bne(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}me.from=function(t,e){return Zre(me,t,e)};var Wb;function HM(){return Wb===void 0&&(Wb={}),Wb}me.fromWeb=function(t,e){return HM().newStreamReadableFromReadableStream(t,e)};me.toWeb=function(t,e){return HM().newReadableStreamFromStreamReadable(t,e)};me.wrap=function(t,e){var r,n;return new me({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Aa.destroyer(t,i),s(i)}}).wrap(t)}});var Gh=x((LSe,iP)=>{"use strict";var Ys=Ve(),{ArrayPrototypeSlice:JM,Error:wne,FunctionPrototypeSymbolHasInstance:KM,ObjectDefineProperty:XM,ObjectDefineProperties:_ne,ObjectSetPrototypeOf:ZM,StringPrototypeToLowerCase:Ene,Symbol:Sne,SymbolHasInstance:xne}=ot();iP.exports=ft;ft.WritableState=Zc;var{EventEmitter:vne}=require("events"),Kc=Ph().Stream,{Buffer:jh}=require("buffer"),Vh=Vs(),{addAbortSignal:Tne}=Vc(),{getHighWaterMark:Rne,getDefaultHighWaterMark:Ane}=Gc(),{ERR_INVALID_ARG_TYPE:Cne,ERR_METHOD_NOT_IMPLEMENTED:Ine,ERR_MULTIPLE_CALLBACK:QM,ERR_STREAM_CANNOT_PIPE:Nne,ERR_STREAM_DESTROYED:Xc,ERR_STREAM_ALREADY_FINISHED:Dne,ERR_STREAM_NULL_VALUES:One,ERR_STREAM_WRITE_AFTER_END:Lne,ERR_UNKNOWN_ENCODING:eP}=dr().codes,{errorOrDestroy:Ca}=Vh;ZM(ft.prototype,Kc.prototype);ZM(ft,Kc);function Yb(){}var Ia=Sne("kOnFinished");function Zc(t,e,r){typeof r!="boolean"&&(r=e instanceof Pn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Rne(this,t,"writableHighWaterMark",r):Ane(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Pne.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Hh(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ia]=[]}function Hh(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Zc.prototype.getBuffer=function(){return JM(this.buffered,this.bufferedIndex)};XM(Zc.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ft(t){let e=this instanceof Pn();if(!e&&!KM(ft,this))return new ft(t);this._writableState=new Zc(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Tne(t.signal,this)),Kc.call(this,t),Vh.construct(this,()=>{let r=this._writableState;r.writing||Kb(this,r),Xb(this,r)})}XM(ft,xne,{__proto__:null,value:function(t){return KM(this,t)?!0:this!==ft?!1:t&&t._writableState instanceof Zc}});ft.prototype.pipe=function(){Ca(this,new Nne)};function tP(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!jh.isEncoding(r))throw new eP(r);typeof n!="function"&&(n=Yb)}if(e===null)throw new One;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=jh.from(e,r),r="buffer");else if(e instanceof jh)r="buffer";else if(Kc._isUint8Array(e))e=Kc._uint8ArrayToBuffer(e),r="buffer";else throw new Cne("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Lne:i.destroyed&&(s=new Xc("write")),s?(Ys.nextTick(n,s),Ca(t,s,!0),s):(i.pendingcb++,Mne(t,i,e,r,n))}ft.prototype.write=function(t,e,r){return tP(this,t,e,r)===!0};ft.prototype.cork=function(){this._writableState.corked++};ft.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Kb(this,t))};ft.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Ene(e)),!jh.isEncoding(e))throw new eP(e);return this._writableState.defaultEncoding=e,this};function Mne(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Yb&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function GM(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Xc("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function YM(t,e,r,n){--e.pendingcb,n(r),Jb(e),Ca(t,r)}function Pne(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Ca(t,new QM);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Ys.nextTick(YM,t,r,e,i):YM(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&Kb(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Ys.nextTick(Fne,r.afterWriteTickInfo)):rP(t,r,1,i))}function Fne({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,rP(t,e,r,n)}function rP(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Jb(e),Xb(t,e)}function Jb(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Xc("write"))}let r=t[Ia].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Xc("end"))}Hh(t)}function Kb(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Yb:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:JM(r,o);l.allBuffers=e.allBuffers,GM(t,e,!0,e.length,l,"",a),Hh(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;GM(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Hh(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ft.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Ine("_write()")};ft.prototype._writev=null;ft.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=tP(this,t,e);s instanceof wne&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Xb(this,n,!0),n.ended=!0):n.finished?i=new Dne("end"):n.destroyed&&(i=new Xc("end"))),typeof r=="function"&&(i||n.finished?Ys.nextTick(r,i):n[Ia].push(r)),this};function zh(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Bne(t,e){let r=!1;function n(i){if(r){Ca(t,i??QM());return}if(r=!0,e.pendingcb--,i){let s=e[Ia].splice(0);for(let o=0;o<s.length;o++)s[o](i);Ca(t,i,e.sync)}else zh(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Ys.nextTick(Gb,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function kne(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Bne(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Xb(t,e,r){zh(e)&&(kne(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Ys.nextTick((n,i)=>{zh(i)?Gb(n,i):i.pendingcb--},t,e)):zh(e)&&(e.pendingcb++,Gb(t,e))))}function Gb(t,e){e.pendingcb--,e.finished=!0;let r=e[Ia].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}_ne(ft.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var $ne=Vh.destroy;ft.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Ia].length)&&Ys.nextTick(Jb,r),$ne.call(this,t,e),this};ft.prototype._undestroy=Vh.undestroy;ft.prototype._destroy=function(t,e){e(t)};ft.prototype[vne.captureRejectionSymbol]=function(t){this.destroy(t)};var Vb;function nP(){return Vb===void 0&&(Vb={}),Vb}ft.fromWeb=function(t,e){return nP().newStreamWritableFromWritableStream(t,e)};ft.toWeb=function(t){return nP().newWritableStreamFromStreamWritable(t)}});var wP=x((MSe,bP)=>{var Zb=Ve(),qne=require("buffer"),{isReadable:Une,isWritable:Wne,isIterable:sP,isNodeStream:jne,isReadableNodeStream:oP,isWritableNodeStream:aP,isDuplexNodeStream:zne,isReadableStream:lP,isWritableStream:cP}=Ln(),uP=pi(),{AbortError:yP,codes:{ERR_INVALID_ARG_TYPE:Hne,ERR_INVALID_RETURN_VALUE:fP}}=dr(),{destroyer:Da}=Vs(),Vne=Pn(),mP=Jc(),Gne=Gh(),{createDeferredPromise:dP}=vr(),hP=Bb(),pP=globalThis.Blob||qne.Blob,Yne=typeof pP<"u"?function(e){return e instanceof pP}:function(e){return!1},Jne=globalThis.AbortController||xt().AbortController,{FunctionPrototypeCall:gP}=ot(),Ji=class extends Vne{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};bP.exports=function t(e,r){if(zne(e))return e;if(oP(e))return Na({readable:e});if(aP(e))return Na({writable:e});if(jne(e))return Na({writable:!1,readable:!1});if(lP(e))return Na({readable:mP.fromWeb(e)});if(cP(e))return Na({writable:Gne.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Kne(e);if(sP(i))return hP(Ji,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=gP(l,i,d=>{if(d!=null)throw new fP("nully","body",d)},d=>{Da(c,d)});return c=new Ji({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,Zb.nextTick(d,null)}catch(h){Zb.nextTick(d,h)}})},destroy:a})}throw new fP("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Yne(e))return t(e.arrayBuffer());if(sP(e))return hP(Ji,e,{objectMode:!0,writable:!1});if(lP(e?.readable)&&cP(e?.writable))return Ji.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?oP(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?aP(e?.writable)?e?.writable:t(e.writable):void 0;return Na({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return gP(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Da(i,s)}),i=new Ji({objectMode:!0,writable:!1,read(){}})}throw new Hne(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Kne(t){let{promise:e,resolve:r}=dP(),n=new Jne,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(Zb.nextTick(c),l)return;if(i.aborted)throw new yP(void 0,{cause:i.reason});({promise:e,resolve:r}=dP()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Na(t){let e=t.readable&&typeof t.readable.read!="function"?mP.wrap(t.readable):t.readable,r=t.writable,n=!!Une(e),i=!!Wne(r),s,o,a,l,c;function u(d){let h=l;l=null,h?h(d):d&&c.destroy(d)}return c=new Ji({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(uP(r,d=>{i=!1,d&&Da(e,d),u(d)}),c._write=function(d,h,f){r.write(d,h)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(uP(e,d=>{n=!1,d&&Da(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,h){!d&&l!==null&&(d=new yP),a=null,s=null,o=null,l===null?h(d):(l=h,Da(r,d),Da(e,d))},c}});var Pn=x((PSe,SP)=>{"use strict";var{ObjectDefineProperties:Xne,ObjectGetOwnPropertyDescriptor:gi,ObjectKeys:Zne,ObjectSetPrototypeOf:_P}=ot();SP.exports=fn;var tw=Jc(),Jr=Gh();_P(fn.prototype,tw.prototype);_P(fn,tw);{let t=Zne(Jr.prototype);for(let e=0;e<t.length;e++){let r=t[e];fn.prototype[r]||(fn.prototype[r]=Jr.prototype[r])}}function fn(t){if(!(this instanceof fn))return new fn(t);tw.call(this,t),Jr.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Xne(fn.prototype,{writable:{__proto__:null,...gi(Jr.prototype,"writable")},writableHighWaterMark:{__proto__:null,...gi(Jr.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...gi(Jr.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...gi(Jr.prototype,"writableBuffer")},writableLength:{__proto__:null,...gi(Jr.prototype,"writableLength")},writableFinished:{__proto__:null,...gi(Jr.prototype,"writableFinished")},writableCorked:{__proto__:null,...gi(Jr.prototype,"writableCorked")},writableEnded:{__proto__:null,...gi(Jr.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...gi(Jr.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Qb;function EP(){return Qb===void 0&&(Qb={}),Qb}fn.fromWeb=function(t,e){return EP().newStreamDuplexFromReadableWritablePair(t,e)};fn.toWeb=function(t){return EP().newReadableWritablePairFromDuplex(t)};var ew;fn.from=function(t){return ew||(ew=wP()),ew(t,"body")}});var iw=x((FSe,vP)=>{"use strict";var{ObjectSetPrototypeOf:xP,Symbol:Qne}=ot();vP.exports=yi;var{ERR_METHOD_NOT_IMPLEMENTED:eie}=dr().codes,nw=Pn(),{getHighWaterMark:tie}=Gc();xP(yi.prototype,nw.prototype);xP(yi,nw);var Qc=Qne("kCallback");function yi(t){if(!(this instanceof yi))return new yi(t);let e=t?tie(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),nw.call(this,t),this._readableState.sync=!1,this[Qc]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",rie)}function rw(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function rie(){this._final!==rw&&rw.call(this)}yi.prototype._final=rw;yi.prototype._transform=function(t,e,r){throw new eie("_transform()")};yi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Qc]=r})};yi.prototype._read=function(){if(this[Qc]){let t=this[Qc];this[Qc]=null,t()}}});var ow=x((BSe,RP)=>{"use strict";var{ObjectSetPrototypeOf:TP}=ot();RP.exports=Oa;var sw=iw();TP(Oa.prototype,sw.prototype);TP(Oa,sw);function Oa(t){if(!(this instanceof Oa))return new Oa(t);sw.call(this,t)}Oa.prototype._transform=function(t,e,r){r(null,t)}});var Xh=x((kSe,DP)=>{var eu=Ve(),{ArrayIsArray:nie,Promise:iie,SymbolAsyncIterator:sie,SymbolDispose:oie}=ot(),Kh=pi(),{once:aie}=vr(),lie=Vs(),AP=Pn(),{aggregateTwoErrors:cie,codes:{ERR_INVALID_ARG_TYPE:gw,ERR_INVALID_RETURN_VALUE:aw,ERR_MISSING_ARGS:uie,ERR_STREAM_DESTROYED:fie,ERR_STREAM_PREMATURE_CLOSE:die},AbortError:hie}=dr(),{validateFunction:pie,validateAbortSignal:gie}=xa(),{isIterable:Js,isReadable:lw,isReadableNodeStream:Jh,isNodeStream:CP,isTransformStream:La,isWebStream:yie,isReadableStream:cw,isReadableFinished:mie}=Ln(),bie=globalThis.AbortController||xt().AbortController,uw,fw,dw;function IP(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Kh(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,lie.destroyer(t,s||new fie("pipe")))},cleanup:i}}function wie(t){return pie(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function hw(t){if(Js(t))return t;if(Jh(t))return _ie(t);throw new gw("val",["Readable","Iterable","AsyncIterable"],t)}async function*_ie(t){fw||(fw=Jc()),yield*fw.prototype[sie].call(t)}async function Yh(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new iie((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Kh(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?cie(i,c):c)}finally{l(),e.off("drain",o)}}async function pw(t,e,r,{end:n}){La(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Eie(...t){return NP(t,aie(wie(t)))}function NP(t,e,r){if(t.length===1&&nie(t[0])&&(t=t[0]),t.length<2)throw new uie("streams");let n=new bie,i=n.signal,s=r?.signal,o=[];gie(s,"options.signal");function a(){g(new hie)}dw=dw||vr().addAbortListener;let l;s&&(l=dw(s,a));let c,u,d=[],h=0;function f(b){g(b,--h===0)}function g(b,w){var I;if(b&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=b),!(!c&&!w)){for(;d.length;)d.shift()(c);(I=l)===null||I===void 0||I[oie](),n.abort(),w&&(c||o.forEach(O=>O()),eu.nextTick(e,c,u))}}let p;for(let b=0;b<t.length;b++){let w=t[b],I=b<t.length-1,O=b>0,A=I||r?.end!==!1,k=b===t.length-1;if(CP(w)){let N=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(L)};var v=N;if(A){let{destroy:L,cleanup:M}=IP(w,I,O);d.push(L),lw(w)&&k&&o.push(M)}w.on("error",N),lw(w)&&k&&o.push(()=>{w.removeListener("error",N)})}if(b===0)if(typeof w=="function"){if(p=w({signal:i}),!Js(p))throw new aw("Iterable, AsyncIterable or Stream","source",p)}else Js(w)||Jh(w)||La(w)?p=w:p=AP.from(w);else if(typeof w=="function"){if(La(p)){var m;p=hw((m=p)===null||m===void 0?void 0:m.readable)}else p=hw(p);if(p=w(p,{signal:i}),I){if(!Js(p,!0))throw new aw("AsyncIterable",`transform[${b-1}]`,p)}else{var y;uw||(uw=ow());let N=new uw({objectMode:!0}),L=(y=p)===null||y===void 0?void 0:y.then;if(typeof L=="function")h++,L.call(p,G=>{u=G,G!=null&&N.write(G),A&&N.end(),eu.nextTick(f)},G=>{N.destroy(G),eu.nextTick(f,G)});else if(Js(p,!0))h++,Yh(p,N,f,{end:A});else if(cw(p)||La(p)){let G=p.readable||p;h++,Yh(G,N,f,{end:A})}else throw new aw("AsyncIterable or Promise","destination",p);p=N;let{destroy:M,cleanup:Y}=IP(p,!1,!0);d.push(M),k&&o.push(Y)}}else if(CP(w)){if(Jh(p)){h+=2;let N=Sie(p,w,f,{end:A});lw(w)&&k&&o.push(N)}else if(La(p)||cw(p)){let N=p.readable||p;h++,Yh(N,w,f,{end:A})}else if(Js(p))h++,Yh(p,w,f,{end:A});else throw new gw("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else if(yie(w)){if(Jh(p))h++,pw(hw(p),w,f,{end:A});else if(cw(p)||Js(p))h++,pw(p,w,f,{end:A});else if(La(p))h++,pw(p.readable,w,f,{end:A});else throw new gw("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else p=AP.from(w)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&eu.nextTick(a),p}function Sie(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new die)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;mie(t)?eu.nextTick(o):t.once("end",o)}else r();return Kh(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Kh(e,{readable:!1,writable:!0},r)}DP.exports={pipelineImpl:NP,pipeline:Eie}});var mw=x(($Se,BP)=>{"use strict";var{pipeline:xie}=Xh(),Zh=Pn(),{destroyer:vie}=Vs(),{isNodeStream:Qh,isReadable:OP,isWritable:LP,isWebStream:yw,isTransformStream:Ks,isWritableStream:MP,isReadableStream:PP}=Ln(),{AbortError:Tie,codes:{ERR_INVALID_ARG_VALUE:FP,ERR_MISSING_ARGS:Rie}}=dr(),Aie=pi();BP.exports=function(...e){if(e.length===0)throw new Rie("streams");if(e.length===1)return Zh.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Zh.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Zh.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Qh(e[f])&&!yw(e[f]))){if(f<e.length-1&&!(OP(e[f])||PP(e[f])||Ks(e[f])))throw new FP(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(LP(e[f])||MP(e[f])||Ks(e[f])))throw new FP(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let g=o;o=null,g?g(f):f?a.destroy(f):!h&&!d&&a.destroy()}let c=e[0],u=xie(e,l),d=!!(LP(c)||MP(c)||Ks(c)),h=!!(OP(u)||PP(u)||Ks(u));if(a=new Zh({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:h}),d){if(Qh(c))a._write=function(g,p,m){c.write(g,p)?m():n=m},a._final=function(g){c.end(),i=g},c.on("drain",function(){if(n){let g=n;n=null,g()}});else if(yw(c)){let p=(Ks(c)?c.writable:c).getWriter();a._write=async function(m,y,v){try{await p.ready,p.write(m).catch(()=>{}),v()}catch(b){v(b)}},a._final=async function(m){try{await p.ready,p.close().catch(()=>{}),i=m}catch(y){m(y)}}}let f=Ks(u)?u.readable:u;Aie(f,()=>{if(i){let g=i;i=null,g()}})}if(h){if(Qh(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(yw(u)){let g=(Ks(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:p,done:m}=await g.read();if(!a.push(p))return;if(m){a.push(null);return}}catch{return}}}}return a._destroy=function(f,g){!f&&o!==null&&(f=new Tie),s=null,n=null,i=null,o===null?g(f):(o=g,Qh(u)&&vie(u,f))},a}});var GP=x((qSe,_w)=>{"use strict";var Cie=globalThis.AbortController||xt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Iie,ERR_INVALID_ARG_TYPE:tu,ERR_MISSING_ARGS:Nie,ERR_OUT_OF_RANGE:Die},AbortError:Fn}=dr(),{validateAbortSignal:Xs,validateInteger:kP,validateObject:Zs}=xa(),Oie=ot().Symbol("kWeak"),Lie=ot().Symbol("kResistStopPropagation"),{finished:Mie}=pi(),Pie=mw(),{addAbortSignalNoValidate:Fie}=Vc(),{isWritable:Bie,isNodeStream:kie}=Ln(),{deprecate:$ie}=vr(),{ArrayPrototypePush:qie,Boolean:Uie,MathFloor:$P,Number:Wie,NumberIsNaN:jie,Promise:qP,PromiseReject:UP,PromiseResolve:zie,PromisePrototypeThen:WP,Symbol:zP}=ot(),ep=zP("kEmpty"),jP=zP("kEof");function Hie(t,e){if(e!=null&&Zs(e,"options"),e?.signal!=null&&Xs(e.signal,"options.signal"),kie(t)&&!Bie(t))throw new Iie("stream",t,"must be writable");let r=Pie(this,t);return e!=null&&e.signal&&Fie(e.signal,r),r}function tp(t,e){if(typeof t!="function")throw new tu("fn",["Function","AsyncFunction"],t);e!=null&&Zs(e,"options"),e?.signal!=null&&Xs(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=$P(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=$P(e.highWaterMark)),kP(r,"options.concurrency",1),kP(n,"options.highWaterMark",0),n+=r,async function*(){let s=vr().AbortSignalAny([e?.signal].filter(Uie)),o=this,a=[],l={signal:s},c,u,d=!1,h=0;function f(){d=!0,g()}function g(){h-=1,p()}function p(){u&&!d&&h<r&&a.length<n&&(u(),u=null)}async function m(){try{for await(let y of o){if(d)return;if(s.aborted)throw new Fn;try{if(y=t(y,l),y===ep)continue;y=zie(y)}catch(v){y=UP(v)}h+=1,WP(y,g,f),a.push(y),c&&(c(),c=null),!d&&(a.length>=n||h>=r)&&await new qP(v=>{u=v})}a.push(jP)}catch(y){let v=UP(y);WP(v,g,f),a.push(v)}finally{d=!0,c&&(c(),c=null)}}m();try{for(;;){for(;a.length>0;){let y=await a[0];if(y===jP)return;if(s.aborted)throw new Fn;y!==ep&&(yield y),a.shift(),p()}await new qP(y=>{c=y})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function Vie(t=void 0){return t!=null&&Zs(t,"options"),t?.signal!=null&&Xs(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Fn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function HP(t,e=void 0){for await(let r of ww.call(this,t,e))return!0;return!1}async function Gie(t,e=void 0){if(typeof t!="function")throw new tu("fn",["Function","AsyncFunction"],t);return!await HP.call(this,async(...r)=>!await t(...r),e)}async function Yie(t,e){for await(let r of ww.call(this,t,e))return r}async function Jie(t,e){if(typeof t!="function")throw new tu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),ep}for await(let n of tp.call(this,r,e));}function ww(t,e){if(typeof t!="function")throw new tu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:ep}return tp.call(this,r,e)}var bw=class extends Nie{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Kie(t,e,r){var n;if(typeof t!="function")throw new tu("reducer",["Function","AsyncFunction"],t);r!=null&&Zs(r,"options"),r?.signal!=null&&Xs(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Fn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Mie(this.destroy(c)),c}let s=new Cie,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Oie]:this,[Lie]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Fn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new bw}finally{s.abort()}return e}async function Xie(t){t!=null&&Zs(t,"options"),t?.signal!=null&&Xs(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Fn(void 0,{cause:t.signal.reason});qie(e,n)}return e}function Zie(t,e){let r=tp.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function VP(t){if(t=Wie(t),jie(t))return 0;if(t<0)throw new Die("number",">= 0",t);return t}function Qie(t,e=void 0){return e!=null&&Zs(e,"options"),e?.signal!=null&&Xs(e.signal,"options.signal"),t=VP(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Fn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Fn;t--<=0&&(yield s)}}.call(this)}function ese(t,e=void 0){return e!=null&&Zs(e,"options"),e?.signal!=null&&Xs(e.signal,"options.signal"),t=VP(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Fn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Fn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}_w.exports.streamReturningOperators={asIndexedPairs:$ie(Vie,"readable.asIndexedPairs will be removed in a future version."),drop:Qie,filter:ww,flatMap:Zie,map:tp,take:ese,compose:Hie};_w.exports.promiseReturningOperators={every:Gie,forEach:Jie,reduce:Kie,toArray:Xie,some:HP,find:Yie}});var Ew=x((USe,YP)=>{"use strict";var{ArrayPrototypePop:tse,Promise:rse}=ot(),{isIterable:nse,isNodeStream:ise,isWebStream:sse}=Ln(),{pipelineImpl:ose}=Xh(),{finished:ase}=pi();Sw();function lse(...t){return new rse((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!ise(s)&&!nse(s)&&!sse(s)){let o=tse(t);n=o.signal,i=o.end}ose(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}YP.exports={finished:ase,pipeline:lse}});var Sw=x((WSe,nF)=>{"use strict";var{Buffer:cse}=require("buffer"),{ObjectDefineProperty:mi,ObjectKeys:XP,ReflectApply:ZP}=ot(),{promisify:{custom:QP}}=vr(),{streamReturningOperators:JP,promiseReturningOperators:KP}=GP(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:eF}}=dr(),use=mw(),{setDefaultHighWaterMark:fse,getDefaultHighWaterMark:dse}=Gc(),{pipeline:tF}=Xh(),{destroyer:hse}=Vs(),rF=pi(),xw=Ew(),ru=Ln(),tt=nF.exports=Ph().Stream;tt.isDestroyed=ru.isDestroyed;tt.isDisturbed=ru.isDisturbed;tt.isErrored=ru.isErrored;tt.isReadable=ru.isReadable;tt.isWritable=ru.isWritable;tt.Readable=Jc();for(let t of XP(JP)){let r=function(...n){if(new.target)throw eF();return tt.Readable.from(ZP(e,this,n))},e=JP[t];mi(r,"name",{__proto__:null,value:e.name}),mi(r,"length",{__proto__:null,value:e.length}),mi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of XP(KP)){let r=function(...n){if(new.target)throw eF();return ZP(e,this,n)},e=KP[t];mi(r,"name",{__proto__:null,value:e.name}),mi(r,"length",{__proto__:null,value:e.length}),mi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}tt.Writable=Gh();tt.Duplex=Pn();tt.Transform=iw();tt.PassThrough=ow();tt.pipeline=tF;var{addAbortSignal:pse}=Vc();tt.addAbortSignal=pse;tt.finished=rF;tt.destroy=hse;tt.compose=use;tt.setDefaultHighWaterMark=fse;tt.getDefaultHighWaterMark=dse;mi(tt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return xw}});mi(tF,QP,{__proto__:null,enumerable:!0,get(){return xw.pipeline}});mi(rF,QP,{__proto__:null,enumerable:!0,get(){return xw.finished}});tt.Stream=tt;tt._isUint8Array=function(e){return e instanceof Uint8Array};tt._uint8ArrayToBuffer=function(e){return cse.from(e.buffer,e.byteOffset,e.byteLength)}});var vw=x((jSe,Re)=>{"use strict";var Mt=require("stream");if(Mt&&process.env.READABLE_STREAM==="disable"){let t=Mt.promises;Re.exports._uint8ArrayToBuffer=Mt._uint8ArrayToBuffer,Re.exports._isUint8Array=Mt._isUint8Array,Re.exports.isDisturbed=Mt.isDisturbed,Re.exports.isErrored=Mt.isErrored,Re.exports.isReadable=Mt.isReadable,Re.exports.Readable=Mt.Readable,Re.exports.Writable=Mt.Writable,Re.exports.Duplex=Mt.Duplex,Re.exports.Transform=Mt.Transform,Re.exports.PassThrough=Mt.PassThrough,Re.exports.addAbortSignal=Mt.addAbortSignal,Re.exports.finished=Mt.finished,Re.exports.destroy=Mt.destroy,Re.exports.pipeline=Mt.pipeline,Re.exports.compose=Mt.compose,Object.defineProperty(Mt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Re.exports.Stream=Mt.Stream}else{let t=Sw(),e=Ew(),r=t.Readable.destroy;Re.exports=t.Readable,Re.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Re.exports._isUint8Array=t._isUint8Array,Re.exports.isDisturbed=t.isDisturbed,Re.exports.isErrored=t.isErrored,Re.exports.isReadable=t.isReadable,Re.exports.Readable=t.Readable,Re.exports.Writable=t.Writable,Re.exports.Duplex=t.Duplex,Re.exports.Transform=t.Transform,Re.exports.PassThrough=t.PassThrough,Re.exports.addAbortSignal=t.addAbortSignal,Re.exports.finished=t.finished,Re.exports.destroy=t.destroy,Re.exports.destroy=r,Re.exports.pipeline=t.pipeline,Re.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Re.exports.Stream=t.Stream}Re.exports.default=Re.exports});var lF=x((zSe,aF)=>{var Aw=require("fs"),sF=sT(),iF=aT(),Tw=require("path"),Bn=Ea(),gse=require("util").inherits,bt=gL(),oF=vw().Transform,Rw=process.platform==="win32",Ue=function(t,e){if(!(this instanceof Ue))return new Ue(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=Bn.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),oF.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=iF.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=iF.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};gse(Ue,oF);Ue.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};Ue.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof Aw.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};Ue.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};Ue.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};Ue.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};Ue.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new bt("NOENDMETHOD"))};Ue.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};Ue.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};Ue.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};Ue.prototype._normalizeEntryData=function(t,e){t=Bn.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=Bn.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?Rw?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(Rw?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,Rw&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=Bn.dateify(t.date),t};Ue.prototype._onModuleError=function(t){this.emit("error",t)};Ue.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};Ue.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};Ue.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}Aw.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};Ue.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};Ue.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};Ue.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=Bn.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=Bn.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=Bn.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=Aw.readlinkSync(t.filepath),n=Tw.dirname(t.filepath);t.data.type="symlink",t.data.linkname=Tw.relative(n,Tw.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new bt("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new bt("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new bt("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};Ue.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};Ue.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new bt("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new bt("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new bt("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=Bn.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(Bn.isStream(t))e.sourceType="stream";else return this.emit("error",new bt("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};Ue.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new bt("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new bt("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function o(c){this.emit("error",c)}function a(c){l.pause();var u=!1,d=Object.assign({},r);d.name=c.relative,d.prefix=e,d.stats=c.stat,d.callback=l.resume.bind(l);try{if(n){if(d=n(d),d===!1)u=!0;else if(typeof d!="object")throw new bt("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(h){this.emit("error",h);return}if(u){l.resume();return}this._append(c.absolute,d)}var l=sF(t,i);return l.on("error",o.bind(this)),l.on("match",a.bind(this)),l.on("end",s.bind(this)),this};Ue.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new bt("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new bt("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};Ue.prototype.glob=function(t,e,r){this._pending++,e=Bn.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(a){this.emit("error",a)}function s(a){o.pause();var l=Object.assign({},r);l.callback=o.resume.bind(o),l.stats=a.stat,l.name=a.relative,this._append(a.absolute,l)}var o=sF(e.cwd||".",e);return o.on("error",i.bind(this)),o.on("match",s.bind(this)),o.on("end",n.bind(this)),this};Ue.prototype.finalize=function(){if(this._state.aborted){var t=new bt("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new bt("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(o){s=!0,i(o)})})};Ue.prototype.setFormat=function(t){return this._format?(this.emit("error",new bt("FORMATSET")),this):(this._format=t,this)};Ue.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new bt("ABORTED")),this):this._state.module?(this.emit("error",new bt("MODULESET")),this):(this._module=t,this._modulePipe(),this)};Ue.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new bt("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new bt("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new bt("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new bt("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};Ue.prototype.pointer=function(){return this._pointer};Ue.prototype.use=function(t){return this._streams.push(t),this};aF.exports=Ue});var np=x((HSe,cF)=>{var rp=cF.exports=function(){};rp.prototype.getName=function(){};rp.prototype.getSize=function(){};rp.prototype.getLastModifiedDate=function(){};rp.prototype.isDirectory=function(){}});var ip=x((VSe,uF)=>{var Kr=uF.exports={};Kr.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};Kr.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};Kr.fromDosTime=function(t){return Kr.dosToDate(t.readUInt32LE(0))};Kr.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};Kr.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};Kr.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};Kr.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};Kr.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};Kr.toDosTime=function(t){return Kr.getLongBytes(Kr.dateToDos(t))}});var Cw=x((GSe,yF)=>{var fF=ip(),dF=8,hF=1,yse=4,mse=2,pF=64,gF=2048,nr=yF.exports=function(){return this instanceof nr?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new nr};nr.prototype.encode=function(){return fF.getShortBytes((this.descriptor?dF:0)|(this.utf8?gF:0)|(this.encryption?hF:0)|(this.strongEncryption?pF:0))};nr.prototype.parse=function(t,e){var r=fF.getShortBytesValue(t,e),n=new nr;return n.useDataDescriptor((r&dF)!==0),n.useUTF8ForNames((r&gF)!==0),n.useStrongEncryption((r&pF)!==0),n.useEncryption((r&hF)!==0),n.setSlidingDictionarySize((r&mse)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&yse)!==0?3:2),n};nr.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};nr.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};nr.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};nr.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};nr.prototype.useDataDescriptor=function(t){this.descriptor=t};nr.prototype.usesDataDescriptor=function(){return this.descriptor};nr.prototype.useEncryption=function(t){this.encryption=t};nr.prototype.usesEncryption=function(){return this.encryption};nr.prototype.useStrongEncryption=function(t){this.strongEncryption=t};nr.prototype.usesStrongEncryption=function(){return this.strongEncryption};nr.prototype.useUTF8ForNames=function(t){this.utf8=t};nr.prototype.usesUTF8ForNames=function(){return this.utf8}});var bF=x((YSe,mF)=>{mF.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var Iw=x((JSe,wF)=>{wF.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var Nw=x((KSe,vF)=>{var bse=require("util").inherits,wse=Jg(),EF=np(),SF=Cw(),_F=bF(),Tr=Iw(),xF=ip(),Se=vF.exports=function(t){if(!(this instanceof Se))return new Se(t);EF.call(this),this.platform=Tr.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new SF,this.crc=0,this.time=-1,this.minver=Tr.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};bse(Se,EF);Se.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};Se.prototype.getComment=function(){return this.comment!==null?this.comment:""};Se.prototype.getCompressedSize=function(){return this.csize};Se.prototype.getCrc=function(){return this.crc};Se.prototype.getExternalAttributes=function(){return this.exattr};Se.prototype.getExtra=function(){return this.extra!==null?this.extra:Tr.EMPTY};Se.prototype.getGeneralPurposeBit=function(){return this.gpb};Se.prototype.getInternalAttributes=function(){return this.inattr};Se.prototype.getLastModifiedDate=function(){return this.getTime()};Se.prototype.getLocalFileDataExtra=function(){return this.getExtra()};Se.prototype.getMethod=function(){return this.method};Se.prototype.getName=function(){return this.name};Se.prototype.getPlatform=function(){return this.platform};Se.prototype.getSize=function(){return this.size};Se.prototype.getTime=function(){return this.time!==-1?xF.dosToDate(this.time):-1};Se.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};Se.prototype.getUnixMode=function(){return this.platform!==Tr.PLATFORM_UNIX?0:this.getExternalAttributes()>>Tr.SHORT_SHIFT&Tr.SHORT_MASK};Se.prototype.getVersionNeededToExtract=function(){return this.minver};Se.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};Se.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};Se.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};Se.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};Se.prototype.setExtra=function(t){this.extra=t};Se.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof SF))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};Se.prototype.setInternalAttributes=function(t){this.inattr=t};Se.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};Se.prototype.setName=function(t,e=!1){t=wse(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};Se.prototype.setPlatform=function(t){this.platform=t};Se.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};Se.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=xF.dateToDos(t,e)};Se.prototype.setUnixMode=function(t){t|=this.isDirectory()?Tr.S_IFDIR:Tr.S_IFREG;var e=0;e|=t<<Tr.SHORT_SHIFT|(this.isDirectory()?Tr.S_DOS_D:Tr.S_DOS_A),this.setExternalAttributes(e),this.mode=t&Tr.MODE_MASK,this.platform=Tr.PLATFORM_UNIX};Se.prototype.setVersionNeededToExtract=function(t){this.minver=t};Se.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};Se.prototype.isUnixSymlink=function(){return(this.getUnixMode()&_F.FILE_TYPE_FLAG)===_F.LINK_FLAG};Se.prototype.isZip64=function(){return this.csize>Tr.ZIP64_MAGIC||this.size>Tr.ZIP64_MAGIC}});var at=x((XSe,TF)=>{"use strict";var Dw=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};TF.exports={AggregateError:Dw,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var Ow=x((ZSe,RF)=>{"use strict";RF.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var pr=x((QSe,IF)=>{"use strict";var{format:_se,inspect:sp}=Ow(),{AggregateError:Ese}=at(),Sse=globalThis.AggregateError||Ese,xse=Symbol("kIsNodeError"),vse=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Tse=/^([A-Z][a-z0-9]*)+$/,Rse="__node_internal_",op={};function Qs(t,e){if(!t)throw new op.ERR_INTERNAL_ASSERTION(e)}function AF(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Ase(t,e,r){if(typeof e=="function")return Qs(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Qs(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:_se(e,...r)}function ir(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Ase(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[xse]=!0,op[t]=n}function CF(t){let e=Rse+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Cse(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Sse([e,t],e.message);return r.code=e.code,r}return t||e}var Lw=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new op.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ir("ERR_ASSERTION","%s",Error);ir("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Qs(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Qs(typeof l=="string","All expected entries have to be of type string"),vse.includes(l)?i.push(l.toLowerCase()):Tse.test(l)?s.push(l):(Qs(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=sp(r,{depth:-1});n+=`. Received ${l}`}}else{let l=sp(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);ir("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=sp(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);ir("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);ir("ERR_MISSING_ARGS",(...t)=>{Qs(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);ir("ERR_OUT_OF_RANGE",(t,e,r)=>{Qs(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=AF(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=AF(n)),n+="n"}else n=sp(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);ir("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ir("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ir("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ir("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ir("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ir("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ir("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ir("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ir("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ir("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ir("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);IF.exports={AbortError:Lw,aggregateTwoErrors:CF(Cse),hideStackFrames:CF,codes:op}});var Rr=x((exe,Pw)=>{"use strict";var Ise=require("buffer"),{format:Nse,inspect:Dse}=Ow(),{codes:{ERR_INVALID_ARG_TYPE:Mw}}=pr(),{kResistStopPropagation:Ose,AggregateError:Lse,SymbolDispose:Mse}=at(),Pse=globalThis.AbortSignal||xt().AbortSignal,Fse=globalThis.AbortController||xt().AbortController,Bse=Object.getPrototypeOf(async function(){}).constructor,NF=globalThis.Blob||Ise.Blob,kse=typeof NF<"u"?function(e){return e instanceof NF}:function(e){return!1},DF=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Mw(e,"AbortSignal",t)},$se=(t,e)=>{if(typeof t!="function")throw new Mw(e,"Function",t)};Pw.exports={AggregateError:Lse,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:Nse,inspect:Dse,types:{isAsyncFunction(t){return t instanceof Bse},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:kse,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new Mw("signal","AbortSignal",e);DF(e,"signal"),$se(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Ose]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Mse](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Pse.any||function(e){if(e.length===1)return e[0];let r=new Fse,n=()=>r.abort();return e.forEach(i=>{DF(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};Pw.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Pa=x((txe,UF)=>{"use strict";var{ArrayIsArray:Bw,ArrayPrototypeIncludes:PF,ArrayPrototypeJoin:FF,ArrayPrototypeMap:qse,NumberIsInteger:kw,NumberIsNaN:Use,NumberMAX_SAFE_INTEGER:Wse,NumberMIN_SAFE_INTEGER:jse,NumberParseInt:zse,ObjectPrototypeHasOwnProperty:Hse,RegExpPrototypeExec:BF,String:Vse,StringPrototypeToUpperCase:Gse,StringPrototypeTrim:Yse}=at(),{hideStackFrames:Xr,codes:{ERR_SOCKET_BAD_PORT:Jse,ERR_INVALID_ARG_TYPE:gr,ERR_INVALID_ARG_VALUE:Ma,ERR_OUT_OF_RANGE:eo,ERR_UNKNOWN_SIGNAL:OF}}=pr(),{normalizeEncoding:Kse}=Rr(),{isAsyncFunction:Xse,isArrayBufferView:Zse}=Rr().types,LF={};function Qse(t){return t===(t|0)}function eoe(t){return t===t>>>0}var toe=/^[0-7]+$/,roe="must be a 32-bit unsigned integer or an octal string";function noe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(BF(toe,t)===null)throw new Ma(e,t,roe);t=zse(t,8)}return kF(t,e),t}var ioe=Xr((t,e,r=jse,n=Wse)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!kw(t))throw new eo(e,"an integer",t);if(t<r||t>n)throw new eo(e,`>= ${r} && <= ${n}`,t)}),soe=Xr((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!kw(t))throw new eo(e,"an integer",t);if(t<r||t>n)throw new eo(e,`>= ${r} && <= ${n}`,t)}),kF=Xr((t,e,r=!1)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!kw(t))throw new eo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new eo(e,`>= ${n} && <= ${i}`,t)});function $w(t,e){if(typeof t!="string")throw new gr(e,"string",t)}function ooe(t,e,r=void 0,n){if(typeof t!="number")throw new gr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Use(t))throw new eo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var aoe=Xr((t,e,r)=>{if(!PF(r,t)){let i="must be one of: "+FF(qse(r,s=>typeof s=="string"?`'${s}'`:Vse(s)),", ");throw new Ma(e,t,i)}});function $F(t,e){if(typeof t!="boolean")throw new gr(e,"boolean",t)}function Fw(t,e,r){return t==null||!Hse(t,e)?r:t[e]}var loe=Xr((t,e,r=null)=>{let n=Fw(r,"allowArray",!1),i=Fw(r,"allowFunction",!1);if(!Fw(r,"nullable",!1)&&t===null||!n&&Bw(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new gr(e,"Object",t)}),coe=Xr((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new gr(e,"a dictionary",t)}),ap=Xr((t,e,r=0)=>{if(!Bw(t))throw new gr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Ma(e,t,n)}});function uoe(t,e){ap(t,e);for(let r=0;r<t.length;r++)$w(t[r],`${e}[${r}]`)}function foe(t,e){ap(t,e);for(let r=0;r<t.length;r++)$F(t[r],`${e}[${r}]`)}function doe(t,e){ap(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new gr(i,"AbortSignal",n);qF(n,i)}}function hoe(t,e="signal"){if($w(t,e),LF[t]===void 0)throw LF[Gse(t)]!==void 0?new OF(t+" (signals must use all capital letters)"):new OF(t)}var poe=Xr((t,e="buffer")=>{if(!Zse(t))throw new gr(e,["Buffer","TypedArray","DataView"],t)});function goe(t,e){let r=Kse(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Ma("encoding",e,`is invalid for data of length ${n}`)}function yoe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Yse(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Jse(e,t,r);return t|0}var qF=Xr((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new gr(e,"AbortSignal",t)}),moe=Xr((t,e)=>{if(typeof t!="function")throw new gr(e,"Function",t)}),boe=Xr((t,e)=>{if(typeof t!="function"||Xse(t))throw new gr(e,"Function",t)}),woe=Xr((t,e)=>{if(t!==void 0)throw new gr(e,"undefined",t)});function _oe(t,e,r){if(!PF(r,t))throw new gr(e,`('${FF(r,"|")}')`,t)}var Eoe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function MF(t,e){if(typeof t>"u"||!BF(Eoe,t))throw new Ma(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Soe(t){if(typeof t=="string")return MF(t,"hints"),t;if(Bw(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];MF(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Ma("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}UF.exports={isInt32:Qse,isUint32:eoe,parseFileMode:noe,validateArray:ap,validateStringArray:uoe,validateBooleanArray:foe,validateAbortSignalArray:doe,validateBoolean:$F,validateBuffer:poe,validateDictionary:coe,validateEncoding:goe,validateFunction:moe,validateInt32:soe,validateInteger:ioe,validateNumber:ooe,validateObject:loe,validateOneOf:aoe,validatePlainFunction:boe,validatePort:yoe,validateSignalName:hoe,validateString:$w,validateUint32:kF,validateUndefined:woe,validateUnion:_oe,validateAbortSignal:qF,validateLinkHeaderValue:Soe}});var $n=x((rxe,rB)=>{"use strict";var{SymbolAsyncIterator:WF,SymbolIterator:jF,SymbolFor:to}=at(),zF=to("nodejs.stream.destroyed"),HF=to("nodejs.stream.errored"),qw=to("nodejs.stream.readable"),Uw=to("nodejs.stream.writable"),VF=to("nodejs.stream.disturbed"),xoe=to("nodejs.webstream.isClosedPromise"),voe=to("nodejs.webstream.controllerErrorFunction");function lp(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function cp(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Toe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function kn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function GF(t){return!!(t&&!kn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function YF(t){return!!(t&&!kn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function JF(t){return!!(t&&!kn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Roe(t){return GF(t)||YF(t)||JF(t)}function Aoe(t,e){return t==null?!1:e===!0?typeof t[WF]=="function":e===!1?typeof t[jF]=="function":typeof t[WF]=="function"||typeof t[jF]=="function"}function up(t){if(!kn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[zF]||n!=null&&n.destroyed)}function KF(t){if(!cp(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Coe(t,e){if(!cp(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Ioe(t){if(!lp(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function XF(t,e){if(!lp(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function ZF(t){return t&&t[qw]!=null?t[qw]:typeof t?.readable!="boolean"?null:up(t)?!1:lp(t)&&t.readable&&!XF(t)}function QF(t){return t&&t[Uw]!=null?t[Uw]:typeof t?.writable!="boolean"?null:up(t)?!1:cp(t)&&t.writable&&!KF(t)}function Noe(t,e){return kn(t)?up(t)?!0:!(e?.readable!==!1&&ZF(t)||e?.writable!==!1&&QF(t)):null}function Doe(t){var e,r;return kn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Ooe(t){var e,r;return kn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Loe(t){if(!kn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&eB(t)?t._closed:null}function eB(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function tB(t){return typeof t._sent100=="boolean"&&eB(t)}function Moe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Poe(t){if(!kn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&tB(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Foe(t){var e;return!!(t&&((e=t[VF])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Boe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[HF])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}rB.exports={isDestroyed:up,kIsDestroyed:zF,isDisturbed:Foe,kIsDisturbed:VF,isErrored:Boe,kIsErrored:HF,isReadable:ZF,kIsReadable:qw,kIsClosedPromise:xoe,kControllerErrorFunction:voe,kIsWritable:Uw,isClosed:Loe,isDuplexNodeStream:Toe,isFinished:Noe,isIterable:Aoe,isReadableNodeStream:lp,isReadableStream:GF,isReadableEnded:Ioe,isReadableFinished:XF,isReadableErrored:Ooe,isNodeStream:kn,isWebStream:Roe,isWritable:QF,isWritableNodeStream:cp,isWritableStream:YF,isWritableEnded:KF,isWritableFinished:Coe,isWritableErrored:Doe,isServerRequest:Moe,isServerResponse:tB,willEmitClose:Poe,isTransformStream:JF}});var bi=x((nxe,Vw)=>{"use strict";var Ki=Ve(),{AbortError:fB,codes:koe}=pr(),{ERR_INVALID_ARG_TYPE:$oe,ERR_STREAM_PREMATURE_CLOSE:nB}=koe,{kEmptyObject:jw,once:zw}=Rr(),{validateAbortSignal:qoe,validateFunction:Uoe,validateObject:Woe,validateBoolean:joe}=Pa(),{Promise:zoe,PromisePrototypeThen:Hoe,SymbolDispose:dB}=at(),{isClosed:Voe,isReadable:iB,isReadableNodeStream:Ww,isReadableStream:Goe,isReadableFinished:sB,isReadableErrored:oB,isWritable:aB,isWritableNodeStream:lB,isWritableStream:Yoe,isWritableFinished:cB,isWritableErrored:uB,isNodeStream:Joe,willEmitClose:Koe,kIsClosedPromise:Xoe}=$n(),Fa;function Zoe(t){return t.setHeader&&typeof t.abort=="function"}var Hw=()=>{};function hB(t,e,r){var n,i;if(arguments.length===2?(r=e,e=jw):e==null?e=jw:Woe(e,"options"),Uoe(r,"callback"),qoe(e.signal,"options.signal"),r=zw(r),Goe(t)||Yoe(t))return Qoe(t,e,r);if(!Joe(t))throw new $oe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:Ww(t),o=(i=e.writable)!==null&&i!==void 0?i:lB(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||h()},u=Koe(t)&&Ww(t)===s&&lB(t)===o,d=cB(t,!1),h=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=sB(t,!1),g=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},p=I=>{r.call(t,I)},m=Voe(t),y=()=>{m=!0;let I=uB(t)||oB(t);if(I&&typeof I!="boolean")return r.call(t,I);if(s&&!f&&Ww(t,!0)&&!sB(t,!1))return r.call(t,new nB);if(o&&!d&&!cB(t,!1))return r.call(t,new nB);r.call(t)},v=()=>{m=!0;let I=uB(t)||oB(t);if(I&&typeof I!="boolean")return r.call(t,I);r.call(t)},b=()=>{t.req.on("finish",h)};Zoe(t)?(t.on("complete",h),u||t.on("abort",y),t.req?b():t.on("request",b)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",g),t.on("finish",h),e.error!==!1&&t.on("error",p),t.on("close",y),m?Ki.nextTick(y):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Ki.nextTick(v):(!s&&(!u||iB(t))&&(d||aB(t)===!1)||!o&&(!u||aB(t))&&(f||iB(t)===!1)||l&&t.req&&t.aborted)&&Ki.nextTick(v);let w=()=>{r=Hw,t.removeListener("aborted",y),t.removeListener("complete",h),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",g),t.removeListener("error",p),t.removeListener("close",y)};if(e.signal&&!m){let I=()=>{let O=r;w(),O.call(t,new fB(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ki.nextTick(I);else{Fa=Fa||Rr().addAbortListener;let O=Fa(e.signal,I),A=r;r=zw((...k)=>{O[dB](),A.apply(t,k)})}}return w}function Qoe(t,e,r){let n=!1,i=Hw;if(e.signal)if(i=()=>{n=!0,r.call(t,new fB(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ki.nextTick(i);else{Fa=Fa||Rr().addAbortListener;let o=Fa(e.signal,i),a=r;r=zw((...l)=>{o[dB](),a.apply(t,l)})}let s=(...o)=>{n||Ki.nextTick(()=>r.apply(t,o))};return Hoe(t[Xoe].promise,s,s),Hw}function eae(t,e){var r;let n=!1;return e===null&&(e=jw),(r=e)!==null&&r!==void 0&&r.cleanup&&(joe(e.cleanup,"cleanup"),n=e.cleanup),new zoe((i,s)=>{let o=hB(t,e,a=>{n&&o(),a?s(a):i()})})}Vw.exports=hB;Vw.exports.finished=eae});var ro=x((ixe,EB)=>{"use strict";var qn=Ve(),{aggregateTwoErrors:tae,codes:{ERR_MULTIPLE_CALLBACK:rae},AbortError:nae}=pr(),{Symbol:yB}=at(),{kIsDestroyed:iae,isDestroyed:sae,isFinished:oae,isServerRequest:aae}=$n(),mB=yB("kDestroy"),Gw=yB("kConstruct");function bB(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function lae(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(bB(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?pB(this,t,e):this.once(mB,function(s){pB(this,tae(s,t),e)}),this)}function pB(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;bB(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?qn.nextTick(cae,t,s):qn.nextTick(wB,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function cae(t,e){Yw(t,e),wB(t)}function wB(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Yw(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function uae(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Jw(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?qn.nextTick(Yw,t,e):Yw(t,e))}function fae(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Gw,e),!(t.listenerCount(Gw)>1)&&qn.nextTick(dae,t)}function dae(t){let e=!1;function r(n){if(e){Jw(t,n??new rae);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(mB,n):n?Jw(t,n,!0):qn.nextTick(hae,t)}try{t._construct(n=>{qn.nextTick(r,n)})}catch(n){qn.nextTick(r,n)}}function hae(t){t.emit(Gw)}function gB(t){return t?.setHeader&&typeof t.abort=="function"}function _B(t){t.emit("close")}function pae(t,e){t.emit("error",e),qn.nextTick(_B,t)}function gae(t,e){!t||sae(t)||(!e&&!oae(t)&&(e=new nae),aae(t)?(t.socket=null,t.destroy(e)):gB(t)?t.abort():gB(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?qn.nextTick(pae,t,e):qn.nextTick(_B,t),t.destroyed||(t[iae]=!0))}EB.exports={construct:fae,destroyer:gae,destroy:lae,undestroy:uae,errorOrDestroy:Jw}});var hp=x((sxe,xB)=>{"use strict";var{ArrayIsArray:yae,ObjectSetPrototypeOf:SB}=at(),{EventEmitter:fp}=require("events");function dp(t){fp.call(this,t)}SB(dp.prototype,fp.prototype);SB(dp,fp);dp.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),fp.listenerCount(this,"error")===0&&this.emit("error",u)}Kw(r,"error",l),Kw(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Kw(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):yae(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}xB.exports={Stream:dp,prependListener:Kw}});var nu=x((oxe,pp)=>{"use strict";var{SymbolDispose:mae}=at(),{AbortError:vB,codes:bae}=pr(),{isNodeStream:TB,isWebStream:wae,kControllerErrorFunction:_ae}=$n(),Eae=bi(),{ERR_INVALID_ARG_TYPE:RB}=bae,Xw,Sae=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new RB(e,"AbortSignal",t)};pp.exports.addAbortSignal=function(e,r){if(Sae(e,"signal"),!TB(r)&&!wae(r))throw new RB("stream",["ReadableStream","WritableStream","Stream"],r);return pp.exports.addAbortSignalNoValidate(e,r)};pp.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=TB(e)?()=>{e.destroy(new vB(void 0,{cause:t.reason}))}:()=>{e[_ae](new vB(void 0,{cause:t.reason}))};if(t.aborted)r();else{Xw=Xw||Rr().addAbortListener;let n=Xw(t,r);Eae(e,n[mae])}return e}});var IB=x((lxe,CB)=>{"use strict";var{StringPrototypeSlice:AB,SymbolIterator:xae,TypedArrayPrototypeSet:gp,Uint8Array:vae}=at(),{Buffer:Zw}=require("buffer"),{inspect:Tae}=Rr();CB.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Zw.alloc(0);let r=Zw.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)gp(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[xae](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=AB(s,0,e),this.head=n,n.data=AB(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Zw.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)gp(r,o,n-e),e-=o.length;else{e===o.length?(gp(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(gp(r,new vae(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Tae(this,{...r,depth:0,customInspect:!1})}}});var iu=x((cxe,LB)=>{"use strict";var{MathFloor:Rae,NumberIsInteger:Aae}=at(),{validateInteger:Cae}=Pa(),{ERR_INVALID_ARG_VALUE:Iae}=pr().codes,NB=16*1024,DB=16;function Nae(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function OB(t){return t?DB:NB}function Dae(t,e){Cae(e,"value",0),t?DB=e:NB=e}function Oae(t,e,r,n){let i=Nae(e,n,r);if(i!=null){if(!Aae(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Iae(s,i)}return Rae(i)}return OB(t.objectMode)}LB.exports={getHighWaterMark:Oae,getDefaultHighWaterMark:OB,setDefaultHighWaterMark:Dae}});var Qw=x((uxe,BB)=>{"use strict";var MB=Ve(),{PromisePrototypeThen:Lae,SymbolAsyncIterator:PB,SymbolIterator:FB}=at(),{Buffer:Mae}=require("buffer"),{ERR_INVALID_ARG_TYPE:Pae,ERR_STREAM_NULL_VALUES:Fae}=pr().codes;function Bae(t,e,r){let n;if(typeof e=="string"||e instanceof Mae)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[PB])i=!0,n=e[PB]();else if(e&&e[FB])i=!1,n=e[FB]();else throw new Pae("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Lae(a(c),()=>MB.nextTick(u,c),d=>MB.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:h,done:f}=await n.throw(c);if(await h,f)return}if(typeof n.return=="function"){let{value:h}=await n.return();await h}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Fae;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}BB.exports=Bae});var ou=x((fxe,t2)=>{"use strict";var dn=Ve(),{ArrayPrototypeIndexOf:kae,NumberIsInteger:$ae,NumberIsNaN:qae,NumberParseInt:Uae,ObjectDefineProperties:a_,ObjectKeys:Wae,ObjectSetPrototypeOf:qB,Promise:UB,SafeSet:jae,SymbolAsyncDispose:zae,SymbolAsyncIterator:Hae,Symbol:Vae}=at();t2.exports=be;be.ReadableState=wp;var{EventEmitter:Gae}=require("events"),{Stream:Xi,prependListener:Yae}=hp(),{Buffer:e_}=require("buffer"),{addAbortSignal:Jae}=nu(),WB=bi(),Oe=Rr().debuglog("stream",t=>{Oe=t}),Kae=IB(),$a=ro(),{getHighWaterMark:Xae,getDefaultHighWaterMark:Zae}=iu(),{aggregateTwoErrors:kB,codes:{ERR_INVALID_ARG_TYPE:Qae,ERR_METHOD_NOT_IMPLEMENTED:ele,ERR_OUT_OF_RANGE:tle,ERR_STREAM_PUSH_AFTER_EOF:rle,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:nle},AbortError:ile}=pr(),{validateObject:sle}=Pa(),no=Vae("kPaused"),{StringDecoder:jB}=uc(),ole=Qw();qB(be.prototype,Xi.prototype);qB(be,Xi);var t_=()=>{},{errorOrDestroy:Ba}=$a,ka=1,ale=2,zB=4,su=8,HB=16,yp=32,mp=64,VB=128,lle=256,cle=512,ule=1024,s_=2048,o_=4096,fle=8192,dle=16384,hle=32768,GB=65536,ple=1<<17,gle=1<<18;function Pt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}a_(wp.prototype,{objectMode:Pt(ka),ended:Pt(ale),endEmitted:Pt(zB),reading:Pt(su),constructed:Pt(HB),sync:Pt(yp),needReadable:Pt(mp),emittedReadable:Pt(VB),readableListening:Pt(lle),resumeScheduled:Pt(cle),errorEmitted:Pt(ule),emitClose:Pt(s_),autoDestroy:Pt(o_),destroyed:Pt(fle),closed:Pt(dle),closeEmitted:Pt(hle),multiAwaitDrain:Pt(GB),readingMore:Pt(ple),dataEmitted:Pt(gle)});function wp(t,e,r){typeof r!="boolean"&&(r=e instanceof Un()),this.state=s_|o_|HB|yp,t&&t.objectMode&&(this.state|=ka),r&&t&&t.readableObjectMode&&(this.state|=ka),this.highWaterMark=t?Xae(this,t,"readableHighWaterMark",r):Zae(!1),this.buffer=new Kae,this.length=0,this.pipes=[],this.flowing=null,this[no]=null,t&&t.emitClose===!1&&(this.state&=~s_),t&&t.autoDestroy===!1&&(this.state&=~o_),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new jB(t.encoding),this.encoding=t.encoding)}function be(t){if(!(this instanceof be))return new be(t);let e=this instanceof Un();this._readableState=new wp(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Jae(t.signal,this)),Xi.call(this,t),$a.construct(this,()=>{this._readableState.needReadable&&bp(this,this._readableState)})}be.prototype.destroy=$a.destroy;be.prototype._undestroy=$a.undestroy;be.prototype._destroy=function(t,e){e(t)};be.prototype[Gae.captureRejectionSymbol]=function(t){this.destroy(t)};be.prototype[zae]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new ile,this.destroy(t)),new UB((e,r)=>WB(this,n=>n&&n!==t?r(n):e(null)))};be.prototype.push=function(t,e){return YB(this,t,e,!1)};be.prototype.unshift=function(t,e){return YB(this,t,e,!0)};function YB(t,e,r,n){Oe("readableAddChunk",e);let i=t._readableState,s;if((i.state&ka)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=e_.from(e,r).toString(i.encoding):(e=e_.from(e,r),r=""))):e instanceof e_?r="":Xi._isUint8Array(e)?(e=Xi._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Qae("chunk",["string","Buffer","Uint8Array"],e))),s)Ba(t,s);else if(e===null)i.state&=~su,ble(t,i);else if((i.state&ka)!==0||e&&e.length>0)if(n)if((i.state&zB)!==0)Ba(t,new nle);else{if(i.destroyed||i.errored)return!1;r_(t,i,e,!0)}else if(i.ended)Ba(t,new rle);else{if(i.destroyed||i.errored)return!1;i.state&=~su,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?r_(t,i,e,!1):bp(t,i)):r_(t,i,e,!1)}else n||(i.state&=~su,bp(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function r_(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&GB)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&mp)!==0&&_p(t)),bp(t,e)}be.prototype.isPaused=function(){let t=this._readableState;return t[no]===!0||t.flowing===!1};be.prototype.setEncoding=function(t){let e=new jB(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var yle=1073741824;function mle(t){if(t>yle)throw new tle("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function $B(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&ka)!==0?1:qae(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}be.prototype.read=function(t){Oe("read",t),t===void 0?t=NaN:$ae(t)||(t=Uae(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=mle(t)),t!==0&&(e.state&=~VB),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Oe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?n_(this):_p(this),null;if(t=$B(t,e),t===0&&e.ended)return e.length===0&&n_(this),null;let n=(e.state&mp)!==0;if(Oe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Oe("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Oe("reading, ended or constructing",n);else if(n){Oe("do read"),e.state|=su|yp,e.length===0&&(e.state|=mp);try{this._read(e.highWaterMark)}catch(s){Ba(this,s)}e.state&=~yp,e.reading||(t=$B(r,e))}let i;return t>0?i=QB(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&n_(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function ble(t,e){if(Oe("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?_p(t):(e.needReadable=!1,e.emittedReadable=!0,JB(t))}}function _p(t){let e=t._readableState;Oe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Oe("emitReadable",e.flowing),e.emittedReadable=!0,dn.nextTick(JB,t))}function JB(t){let e=t._readableState;Oe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,XB(t)}function bp(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,dn.nextTick(wle,t,e))}function wle(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Oe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}be.prototype._read=function(t){throw new ele("_read()")};be.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new jae(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Oe("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==dn.stdout&&t!==dn.stderr?a:m;n.endEmitted?dn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,v){Oe("onunpipe"),y===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,u())}function a(){Oe("onend"),t.end()}let l,c=!1;function u(){Oe("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Oe("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Oe("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=_le(r,t),t.on("drain",l))}r.on("data",h);function h(y){Oe("ondata");let v=t.write(y);Oe("dest.write",v),v===!1&&d()}function f(y){if(Oe("onerror",y),m(),t.removeListener("error",f),t.listenerCount("error")===0){let v=t._writableState||t._readableState;v&&!v.errorEmitted?Ba(t,y):t.emit("error",y)}}Yae(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){Oe("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){Oe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Oe("pipe resume"),r.resume()),t};function _le(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Oe("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Oe("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}be.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=kae(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};be.prototype.on=function(t,e){let r=Xi.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Oe("on readable",n.length,n.reading),n.length?_p(this):n.reading||dn.nextTick(Ele,this)),r};be.prototype.addListener=be.prototype.on;be.prototype.removeListener=function(t,e){let r=Xi.prototype.removeListener.call(this,t,e);return t==="readable"&&dn.nextTick(KB,this),r};be.prototype.off=be.prototype.removeListener;be.prototype.removeAllListeners=function(t){let e=Xi.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&dn.nextTick(KB,this),e};function KB(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[no]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Ele(t){Oe("readable nexttick read 0"),t.read(0)}be.prototype.resume=function(){let t=this._readableState;return t.flowing||(Oe("resume"),t.flowing=!t.readableListening,Sle(this,t)),t[no]=!1,this};function Sle(t,e){e.resumeScheduled||(e.resumeScheduled=!0,dn.nextTick(xle,t,e))}function xle(t,e){Oe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),XB(t),e.flowing&&!e.reading&&t.read(0)}be.prototype.pause=function(){return Oe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Oe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[no]=!0,this};function XB(t){let e=t._readableState;for(Oe("flow",e.flowing);e.flowing&&t.read()!==null;);}be.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Ba(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Wae(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};be.prototype[Hae]=function(){return ZB(this)};be.prototype.iterator=function(t){return t!==void 0&&sle(t,"options"),ZB(this,t)};function ZB(t,e){typeof t.read!="function"&&(t=be.wrap(t,{objectMode:!0}));let r=vle(t,e);return r.stream=t,r}async function*vle(t,e){let r=t_;function n(o){this===t?(r(),r=t_):r=o}t.on("readable",n);let i,s=WB(t,{writable:!1},o=>{i=o?kB(i,o):null,r(),r=t_});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new UB(n)}}}catch(o){throw i=kB(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?$a.destroyer(t,null):(t.off("readable",n),s())}}a_(be.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});a_(wp.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[no]!==!1},set(t){this[no]=!!t}}});be._fromList=QB;function QB(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function n_(t){let e=t._readableState;Oe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,dn.nextTick(Tle,e,t))}function Tle(t,e){if(Oe("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)dn.nextTick(Rle,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Rle(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}be.from=function(t,e){return ole(be,t,e)};var i_;function e2(){return i_===void 0&&(i_={}),i_}be.fromWeb=function(t,e){return e2().newStreamReadableFromReadableStream(t,e)};be.toWeb=function(t,e){return e2().newReadableStreamFromStreamReadable(t,e)};be.wrap=function(t,e){var r,n;return new be({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){$a.destroyer(t,i),s(i)}}).wrap(t)}});var Tp=x((dxe,h2)=>{"use strict";var io=Ve(),{ArrayPrototypeSlice:i2,Error:Ale,FunctionPrototypeSymbolHasInstance:s2,ObjectDefineProperty:o2,ObjectDefineProperties:Cle,ObjectSetPrototypeOf:a2,StringPrototypeToLowerCase:Ile,Symbol:Nle,SymbolHasInstance:Dle}=at();h2.exports=dt;dt.WritableState=cu;var{EventEmitter:Ole}=require("events"),au=hp().Stream,{Buffer:Ep}=require("buffer"),vp=ro(),{addAbortSignal:Lle}=nu(),{getHighWaterMark:Mle,getDefaultHighWaterMark:Ple}=iu(),{ERR_INVALID_ARG_TYPE:Fle,ERR_METHOD_NOT_IMPLEMENTED:Ble,ERR_MULTIPLE_CALLBACK:l2,ERR_STREAM_CANNOT_PIPE:kle,ERR_STREAM_DESTROYED:lu,ERR_STREAM_ALREADY_FINISHED:$le,ERR_STREAM_NULL_VALUES:qle,ERR_STREAM_WRITE_AFTER_END:Ule,ERR_UNKNOWN_ENCODING:c2}=pr().codes,{errorOrDestroy:qa}=vp;a2(dt.prototype,au.prototype);a2(dt,au);function u_(){}var Ua=Nle("kOnFinished");function cu(t,e,r){typeof r!="boolean"&&(r=e instanceof Un()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Mle(this,t,"writableHighWaterMark",r):Ple(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=jle.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,xp(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ua]=[]}function xp(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}cu.prototype.getBuffer=function(){return i2(this.buffered,this.bufferedIndex)};o2(cu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function dt(t){let e=this instanceof Un();if(!e&&!s2(dt,this))return new dt(t);this._writableState=new cu(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Lle(t.signal,this)),au.call(this,t),vp.construct(this,()=>{let r=this._writableState;r.writing||d_(this,r),h_(this,r)})}o2(dt,Dle,{__proto__:null,value:function(t){return s2(this,t)?!0:this!==dt?!1:t&&t._writableState instanceof cu}});dt.prototype.pipe=function(){qa(this,new kle)};function u2(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Ep.isEncoding(r))throw new c2(r);typeof n!="function"&&(n=u_)}if(e===null)throw new qle;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Ep.from(e,r),r="buffer");else if(e instanceof Ep)r="buffer";else if(au._isUint8Array(e))e=au._uint8ArrayToBuffer(e),r="buffer";else throw new Fle("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Ule:i.destroyed&&(s=new lu("write")),s?(io.nextTick(n,s),qa(t,s,!0),s):(i.pendingcb++,Wle(t,i,e,r,n))}dt.prototype.write=function(t,e,r){return u2(this,t,e,r)===!0};dt.prototype.cork=function(){this._writableState.corked++};dt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||d_(this,t))};dt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Ile(e)),!Ep.isEncoding(e))throw new c2(e);return this._writableState.defaultEncoding=e,this};function Wle(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==u_&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function r2(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new lu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function n2(t,e,r,n){--e.pendingcb,n(r),f_(e),qa(t,r)}function jle(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){qa(t,new l2);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?io.nextTick(n2,t,r,e,i):n2(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&d_(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},io.nextTick(zle,r.afterWriteTickInfo)):f2(t,r,1,i))}function zle({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,f2(t,e,r,n)}function f2(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&f_(e),h_(t,e)}function f_(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new lu("write"))}let r=t[Ua].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new lu("end"))}xp(t)}function d_(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?u_:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:i2(r,o);l.allBuffers=e.allBuffers,r2(t,e,!0,e.length,l,"",a),xp(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;r2(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?xp(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}dt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Ble("_write()")};dt.prototype._writev=null;dt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=u2(this,t,e);s instanceof Ale&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,h_(this,n,!0),n.ended=!0):n.finished?i=new $le("end"):n.destroyed&&(i=new lu("end"))),typeof r=="function"&&(i||n.finished?io.nextTick(r,i):n[Ua].push(r)),this};function Sp(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Hle(t,e){let r=!1;function n(i){if(r){qa(t,i??l2());return}if(r=!0,e.pendingcb--,i){let s=e[Ua].splice(0);for(let o=0;o<s.length;o++)s[o](i);qa(t,i,e.sync)}else Sp(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,io.nextTick(c_,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Vle(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Hle(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function h_(t,e,r){Sp(e)&&(Vle(t,e),e.pendingcb===0&&(r?(e.pendingcb++,io.nextTick((n,i)=>{Sp(i)?c_(n,i):i.pendingcb--},t,e)):Sp(e)&&(e.pendingcb++,c_(t,e))))}function c_(t,e){e.pendingcb--,e.finished=!0;let r=e[Ua].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Cle(dt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Gle=vp.destroy;dt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Ua].length)&&io.nextTick(f_,r),Gle.call(this,t,e),this};dt.prototype._undestroy=vp.undestroy;dt.prototype._destroy=function(t,e){e(t)};dt.prototype[Ole.captureRejectionSymbol]=function(t){this.destroy(t)};var l_;function d2(){return l_===void 0&&(l_={}),l_}dt.fromWeb=function(t,e){return d2().newStreamWritableFromWritableStream(t,e)};dt.toWeb=function(t){return d2().newWritableStreamFromStreamWritable(t)}});var C2=x((hxe,A2)=>{var p_=Ve(),Yle=require("buffer"),{isReadable:Jle,isWritable:Kle,isIterable:p2,isNodeStream:Xle,isReadableNodeStream:g2,isWritableNodeStream:y2,isDuplexNodeStream:Zle,isReadableStream:m2,isWritableStream:b2}=$n(),w2=bi(),{AbortError:T2,codes:{ERR_INVALID_ARG_TYPE:Qle,ERR_INVALID_RETURN_VALUE:_2}}=pr(),{destroyer:ja}=ro(),ece=Un(),R2=ou(),tce=Tp(),{createDeferredPromise:E2}=Rr(),S2=Qw(),x2=globalThis.Blob||Yle.Blob,rce=typeof x2<"u"?function(e){return e instanceof x2}:function(e){return!1},nce=globalThis.AbortController||xt().AbortController,{FunctionPrototypeCall:v2}=at(),Zi=class extends ece{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};A2.exports=function t(e,r){if(Zle(e))return e;if(g2(e))return Wa({readable:e});if(y2(e))return Wa({writable:e});if(Xle(e))return Wa({writable:!1,readable:!1});if(m2(e))return Wa({readable:R2.fromWeb(e)});if(b2(e))return Wa({writable:tce.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=ice(e);if(p2(i))return S2(Zi,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=v2(l,i,d=>{if(d!=null)throw new _2("nully","body",d)},d=>{ja(c,d)});return c=new Zi({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,p_.nextTick(d,null)}catch(h){p_.nextTick(d,h)}})},destroy:a})}throw new _2("Iterable, AsyncIterable or AsyncFunction",r,i)}if(rce(e))return t(e.arrayBuffer());if(p2(e))return S2(Zi,e,{objectMode:!0,writable:!1});if(m2(e?.readable)&&b2(e?.writable))return Zi.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?g2(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?y2(e?.writable)?e?.writable:t(e.writable):void 0;return Wa({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return v2(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{ja(i,s)}),i=new Zi({objectMode:!0,writable:!1,read(){}})}throw new Qle(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function ice(t){let{promise:e,resolve:r}=E2(),n=new nce,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(p_.nextTick(c),l)return;if(i.aborted)throw new T2(void 0,{cause:i.reason});({promise:e,resolve:r}=E2()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Wa(t){let e=t.readable&&typeof t.readable.read!="function"?R2.wrap(t.readable):t.readable,r=t.writable,n=!!Jle(e),i=!!Kle(r),s,o,a,l,c;function u(d){let h=l;l=null,h?h(d):d&&c.destroy(d)}return c=new Zi({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(w2(r,d=>{i=!1,d&&ja(e,d),u(d)}),c._write=function(d,h,f){r.write(d,h)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(w2(e,d=>{n=!1,d&&ja(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,h){!d&&l!==null&&(d=new T2),a=null,s=null,o=null,l===null?h(d):(l=h,ja(r,d),ja(e,d))},c}});var Un=x((pxe,D2)=>{"use strict";var{ObjectDefineProperties:sce,ObjectGetOwnPropertyDescriptor:wi,ObjectKeys:oce,ObjectSetPrototypeOf:I2}=at();D2.exports=hn;var m_=ou(),Zr=Tp();I2(hn.prototype,m_.prototype);I2(hn,m_);{let t=oce(Zr.prototype);for(let e=0;e<t.length;e++){let r=t[e];hn.prototype[r]||(hn.prototype[r]=Zr.prototype[r])}}function hn(t){if(!(this instanceof hn))return new hn(t);m_.call(this,t),Zr.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}sce(hn.prototype,{writable:{__proto__:null,...wi(Zr.prototype,"writable")},writableHighWaterMark:{__proto__:null,...wi(Zr.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...wi(Zr.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...wi(Zr.prototype,"writableBuffer")},writableLength:{__proto__:null,...wi(Zr.prototype,"writableLength")},writableFinished:{__proto__:null,...wi(Zr.prototype,"writableFinished")},writableCorked:{__proto__:null,...wi(Zr.prototype,"writableCorked")},writableEnded:{__proto__:null,...wi(Zr.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...wi(Zr.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var g_;function N2(){return g_===void 0&&(g_={}),g_}hn.fromWeb=function(t,e){return N2().newStreamDuplexFromReadableWritablePair(t,e)};hn.toWeb=function(t){return N2().newReadableWritablePairFromDuplex(t)};var y_;hn.from=function(t){return y_||(y_=C2()),y_(t,"body")}});var __=x((gxe,L2)=>{"use strict";var{ObjectSetPrototypeOf:O2,Symbol:ace}=at();L2.exports=_i;var{ERR_METHOD_NOT_IMPLEMENTED:lce}=pr().codes,w_=Un(),{getHighWaterMark:cce}=iu();O2(_i.prototype,w_.prototype);O2(_i,w_);var uu=ace("kCallback");function _i(t){if(!(this instanceof _i))return new _i(t);let e=t?cce(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),w_.call(this,t),this._readableState.sync=!1,this[uu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",uce)}function b_(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function uce(){this._final!==b_&&b_.call(this)}_i.prototype._final=b_;_i.prototype._transform=function(t,e,r){throw new lce("_transform()")};_i.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[uu]=r})};_i.prototype._read=function(){if(this[uu]){let t=this[uu];this[uu]=null,t()}}});var S_=x((yxe,P2)=>{"use strict";var{ObjectSetPrototypeOf:M2}=at();P2.exports=za;var E_=__();M2(za.prototype,E_.prototype);M2(za,E_);function za(t){if(!(this instanceof za))return new za(t);E_.call(this,t)}za.prototype._transform=function(t,e,r){r(null,t)}});var Ip=x((mxe,q2)=>{var fu=Ve(),{ArrayIsArray:fce,Promise:dce,SymbolAsyncIterator:hce,SymbolDispose:pce}=at(),Cp=bi(),{once:gce}=Rr(),yce=ro(),F2=Un(),{aggregateTwoErrors:mce,codes:{ERR_INVALID_ARG_TYPE:D_,ERR_INVALID_RETURN_VALUE:x_,ERR_MISSING_ARGS:bce,ERR_STREAM_DESTROYED:wce,ERR_STREAM_PREMATURE_CLOSE:_ce},AbortError:Ece}=pr(),{validateFunction:Sce,validateAbortSignal:xce}=Pa(),{isIterable:so,isReadable:v_,isReadableNodeStream:Ap,isNodeStream:B2,isTransformStream:Ha,isWebStream:vce,isReadableStream:T_,isReadableFinished:Tce}=$n(),Rce=globalThis.AbortController||xt().AbortController,R_,A_,C_;function k2(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Cp(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,yce.destroyer(t,s||new wce("pipe")))},cleanup:i}}function Ace(t){return Sce(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function I_(t){if(so(t))return t;if(Ap(t))return Cce(t);throw new D_("val",["Readable","Iterable","AsyncIterable"],t)}async function*Cce(t){A_||(A_=ou()),yield*A_.prototype[hce].call(t)}async function Rp(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new dce((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Cp(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?mce(i,c):c)}finally{l(),e.off("drain",o)}}async function N_(t,e,r,{end:n}){Ha(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Ice(...t){return $2(t,gce(Ace(t)))}function $2(t,e,r){if(t.length===1&&fce(t[0])&&(t=t[0]),t.length<2)throw new bce("streams");let n=new Rce,i=n.signal,s=r?.signal,o=[];xce(s,"options.signal");function a(){g(new Ece)}C_=C_||Rr().addAbortListener;let l;s&&(l=C_(s,a));let c,u,d=[],h=0;function f(b){g(b,--h===0)}function g(b,w){var I;if(b&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=b),!(!c&&!w)){for(;d.length;)d.shift()(c);(I=l)===null||I===void 0||I[pce](),n.abort(),w&&(c||o.forEach(O=>O()),fu.nextTick(e,c,u))}}let p;for(let b=0;b<t.length;b++){let w=t[b],I=b<t.length-1,O=b>0,A=I||r?.end!==!1,k=b===t.length-1;if(B2(w)){let N=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(L)};var v=N;if(A){let{destroy:L,cleanup:M}=k2(w,I,O);d.push(L),v_(w)&&k&&o.push(M)}w.on("error",N),v_(w)&&k&&o.push(()=>{w.removeListener("error",N)})}if(b===0)if(typeof w=="function"){if(p=w({signal:i}),!so(p))throw new x_("Iterable, AsyncIterable or Stream","source",p)}else so(w)||Ap(w)||Ha(w)?p=w:p=F2.from(w);else if(typeof w=="function"){if(Ha(p)){var m;p=I_((m=p)===null||m===void 0?void 0:m.readable)}else p=I_(p);if(p=w(p,{signal:i}),I){if(!so(p,!0))throw new x_("AsyncIterable",`transform[${b-1}]`,p)}else{var y;R_||(R_=S_());let N=new R_({objectMode:!0}),L=(y=p)===null||y===void 0?void 0:y.then;if(typeof L=="function")h++,L.call(p,G=>{u=G,G!=null&&N.write(G),A&&N.end(),fu.nextTick(f)},G=>{N.destroy(G),fu.nextTick(f,G)});else if(so(p,!0))h++,Rp(p,N,f,{end:A});else if(T_(p)||Ha(p)){let G=p.readable||p;h++,Rp(G,N,f,{end:A})}else throw new x_("AsyncIterable or Promise","destination",p);p=N;let{destroy:M,cleanup:Y}=k2(p,!1,!0);d.push(M),k&&o.push(Y)}}else if(B2(w)){if(Ap(p)){h+=2;let N=Nce(p,w,f,{end:A});v_(w)&&k&&o.push(N)}else if(Ha(p)||T_(p)){let N=p.readable||p;h++,Rp(N,w,f,{end:A})}else if(so(p))h++,Rp(p,w,f,{end:A});else throw new D_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else if(vce(w)){if(Ap(p))h++,N_(I_(p),w,f,{end:A});else if(T_(p)||so(p))h++,N_(p,w,f,{end:A});else if(Ha(p))h++,N_(p.readable,w,f,{end:A});else throw new D_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else p=F2.from(w)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&fu.nextTick(a),p}function Nce(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new _ce)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;Tce(t)?fu.nextTick(o):t.once("end",o)}else r();return Cp(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Cp(e,{readable:!1,writable:!0},r)}q2.exports={pipelineImpl:$2,pipeline:Ice}});var L_=x((bxe,V2)=>{"use strict";var{pipeline:Dce}=Ip(),Np=Un(),{destroyer:Oce}=ro(),{isNodeStream:Dp,isReadable:U2,isWritable:W2,isWebStream:O_,isTransformStream:oo,isWritableStream:j2,isReadableStream:z2}=$n(),{AbortError:Lce,codes:{ERR_INVALID_ARG_VALUE:H2,ERR_MISSING_ARGS:Mce}}=pr(),Pce=bi();V2.exports=function(...e){if(e.length===0)throw new Mce("streams");if(e.length===1)return Np.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Np.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Np.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Dp(e[f])&&!O_(e[f]))){if(f<e.length-1&&!(U2(e[f])||z2(e[f])||oo(e[f])))throw new H2(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(W2(e[f])||j2(e[f])||oo(e[f])))throw new H2(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let g=o;o=null,g?g(f):f?a.destroy(f):!h&&!d&&a.destroy()}let c=e[0],u=Dce(e,l),d=!!(W2(c)||j2(c)||oo(c)),h=!!(U2(u)||z2(u)||oo(u));if(a=new Np({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:h}),d){if(Dp(c))a._write=function(g,p,m){c.write(g,p)?m():n=m},a._final=function(g){c.end(),i=g},c.on("drain",function(){if(n){let g=n;n=null,g()}});else if(O_(c)){let p=(oo(c)?c.writable:c).getWriter();a._write=async function(m,y,v){try{await p.ready,p.write(m).catch(()=>{}),v()}catch(b){v(b)}},a._final=async function(m){try{await p.ready,p.close().catch(()=>{}),i=m}catch(y){m(y)}}}let f=oo(u)?u.readable:u;Pce(f,()=>{if(i){let g=i;i=null,g()}})}if(h){if(Dp(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(O_(u)){let g=(oo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:p,done:m}=await g.read();if(!a.push(p))return;if(m){a.push(null);return}}catch{return}}}}return a._destroy=function(f,g){!f&&o!==null&&(f=new Lce),s=null,n=null,i=null,o===null?g(f):(o=g,Dp(u)&&Oce(u,f))},a}});var rk=x((wxe,F_)=>{"use strict";var Fce=globalThis.AbortController||xt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Bce,ERR_INVALID_ARG_TYPE:du,ERR_MISSING_ARGS:kce,ERR_OUT_OF_RANGE:$ce},AbortError:Wn}=pr(),{validateAbortSignal:ao,validateInteger:G2,validateObject:lo}=Pa(),qce=at().Symbol("kWeak"),Uce=at().Symbol("kResistStopPropagation"),{finished:Wce}=bi(),jce=L_(),{addAbortSignalNoValidate:zce}=nu(),{isWritable:Hce,isNodeStream:Vce}=$n(),{deprecate:Gce}=Rr(),{ArrayPrototypePush:Yce,Boolean:Jce,MathFloor:Y2,Number:Kce,NumberIsNaN:Xce,Promise:J2,PromiseReject:K2,PromiseResolve:Zce,PromisePrototypeThen:X2,Symbol:Q2}=at(),Op=Q2("kEmpty"),Z2=Q2("kEof");function Qce(t,e){if(e!=null&&lo(e,"options"),e?.signal!=null&&ao(e.signal,"options.signal"),Vce(t)&&!Hce(t))throw new Bce("stream",t,"must be writable");let r=jce(this,t);return e!=null&&e.signal&&zce(e.signal,r),r}function Lp(t,e){if(typeof t!="function")throw new du("fn",["Function","AsyncFunction"],t);e!=null&&lo(e,"options"),e?.signal!=null&&ao(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Y2(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=Y2(e.highWaterMark)),G2(r,"options.concurrency",1),G2(n,"options.highWaterMark",0),n+=r,async function*(){let s=Rr().AbortSignalAny([e?.signal].filter(Jce)),o=this,a=[],l={signal:s},c,u,d=!1,h=0;function f(){d=!0,g()}function g(){h-=1,p()}function p(){u&&!d&&h<r&&a.length<n&&(u(),u=null)}async function m(){try{for await(let y of o){if(d)return;if(s.aborted)throw new Wn;try{if(y=t(y,l),y===Op)continue;y=Zce(y)}catch(v){y=K2(v)}h+=1,X2(y,g,f),a.push(y),c&&(c(),c=null),!d&&(a.length>=n||h>=r)&&await new J2(v=>{u=v})}a.push(Z2)}catch(y){let v=K2(y);X2(v,g,f),a.push(v)}finally{d=!0,c&&(c(),c=null)}}m();try{for(;;){for(;a.length>0;){let y=await a[0];if(y===Z2)return;if(s.aborted)throw new Wn;y!==Op&&(yield y),a.shift(),p()}await new J2(y=>{c=y})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function eue(t=void 0){return t!=null&&lo(t,"options"),t?.signal!=null&&ao(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Wn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function ek(t,e=void 0){for await(let r of P_.call(this,t,e))return!0;return!1}async function tue(t,e=void 0){if(typeof t!="function")throw new du("fn",["Function","AsyncFunction"],t);return!await ek.call(this,async(...r)=>!await t(...r),e)}async function rue(t,e){for await(let r of P_.call(this,t,e))return r}async function nue(t,e){if(typeof t!="function")throw new du("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Op}for await(let n of Lp.call(this,r,e));}function P_(t,e){if(typeof t!="function")throw new du("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Op}return Lp.call(this,r,e)}var M_=class extends kce{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function iue(t,e,r){var n;if(typeof t!="function")throw new du("reducer",["Function","AsyncFunction"],t);r!=null&&lo(r,"options"),r?.signal!=null&&ao(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Wn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Wce(this.destroy(c)),c}let s=new Fce,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[qce]:this,[Uce]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Wn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new M_}finally{s.abort()}return e}async function sue(t){t!=null&&lo(t,"options"),t?.signal!=null&&ao(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Wn(void 0,{cause:t.signal.reason});Yce(e,n)}return e}function oue(t,e){let r=Lp.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function tk(t){if(t=Kce(t),Xce(t))return 0;if(t<0)throw new $ce("number",">= 0",t);return t}function aue(t,e=void 0){return e!=null&&lo(e,"options"),e?.signal!=null&&ao(e.signal,"options.signal"),t=tk(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Wn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Wn;t--<=0&&(yield s)}}.call(this)}function lue(t,e=void 0){return e!=null&&lo(e,"options"),e?.signal!=null&&ao(e.signal,"options.signal"),t=tk(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Wn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Wn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}F_.exports.streamReturningOperators={asIndexedPairs:Gce(eue,"readable.asIndexedPairs will be removed in a future version."),drop:aue,filter:P_,flatMap:oue,map:Lp,take:lue,compose:Qce};F_.exports.promiseReturningOperators={every:tue,forEach:nue,reduce:iue,toArray:sue,some:ek,find:rue}});var B_=x((_xe,nk)=>{"use strict";var{ArrayPrototypePop:cue,Promise:uue}=at(),{isIterable:fue,isNodeStream:due,isWebStream:hue}=$n(),{pipelineImpl:pue}=Ip(),{finished:gue}=bi();k_();function yue(...t){return new uue((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!due(s)&&!fue(s)&&!hue(s)){let o=cue(t);n=o.signal,i=o.end}pue(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}nk.exports={finished:gue,pipeline:yue}});var k_=x((Exe,dk)=>{"use strict";var{Buffer:mue}=require("buffer"),{ObjectDefineProperty:Ei,ObjectKeys:ok,ReflectApply:ak}=at(),{promisify:{custom:lk}}=Rr(),{streamReturningOperators:ik,promiseReturningOperators:sk}=rk(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:ck}}=pr(),bue=L_(),{setDefaultHighWaterMark:wue,getDefaultHighWaterMark:_ue}=iu(),{pipeline:uk}=Ip(),{destroyer:Eue}=ro(),fk=bi(),$_=B_(),hu=$n(),rt=dk.exports=hp().Stream;rt.isDestroyed=hu.isDestroyed;rt.isDisturbed=hu.isDisturbed;rt.isErrored=hu.isErrored;rt.isReadable=hu.isReadable;rt.isWritable=hu.isWritable;rt.Readable=ou();for(let t of ok(ik)){let r=function(...n){if(new.target)throw ck();return rt.Readable.from(ak(e,this,n))},e=ik[t];Ei(r,"name",{__proto__:null,value:e.name}),Ei(r,"length",{__proto__:null,value:e.length}),Ei(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of ok(sk)){let r=function(...n){if(new.target)throw ck();return ak(e,this,n)},e=sk[t];Ei(r,"name",{__proto__:null,value:e.name}),Ei(r,"length",{__proto__:null,value:e.length}),Ei(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}rt.Writable=Tp();rt.Duplex=Un();rt.Transform=__();rt.PassThrough=S_();rt.pipeline=uk;var{addAbortSignal:Sue}=nu();rt.addAbortSignal=Sue;rt.finished=fk;rt.destroy=Eue;rt.compose=bue;rt.setDefaultHighWaterMark=wue;rt.getDefaultHighWaterMark=_ue;Ei(rt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return $_}});Ei(uk,lk,{__proto__:null,enumerable:!0,get(){return $_.pipeline}});Ei(fk,lk,{__proto__:null,enumerable:!0,get(){return $_.finished}});rt.Stream=rt;rt._isUint8Array=function(e){return e instanceof Uint8Array};rt._uint8ArrayToBuffer=function(e){return mue.from(e.buffer,e.byteOffset,e.byteLength)}});var q_=x((Sxe,Ae)=>{"use strict";var Ft=require("stream");if(Ft&&process.env.READABLE_STREAM==="disable"){let t=Ft.promises;Ae.exports._uint8ArrayToBuffer=Ft._uint8ArrayToBuffer,Ae.exports._isUint8Array=Ft._isUint8Array,Ae.exports.isDisturbed=Ft.isDisturbed,Ae.exports.isErrored=Ft.isErrored,Ae.exports.isReadable=Ft.isReadable,Ae.exports.Readable=Ft.Readable,Ae.exports.Writable=Ft.Writable,Ae.exports.Duplex=Ft.Duplex,Ae.exports.Transform=Ft.Transform,Ae.exports.PassThrough=Ft.PassThrough,Ae.exports.addAbortSignal=Ft.addAbortSignal,Ae.exports.finished=Ft.finished,Ae.exports.destroy=Ft.destroy,Ae.exports.pipeline=Ft.pipeline,Ae.exports.compose=Ft.compose,Object.defineProperty(Ft,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Ae.exports.Stream=Ft.Stream}else{let t=k_(),e=B_(),r=t.Readable.destroy;Ae.exports=t.Readable,Ae.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Ae.exports._isUint8Array=t._isUint8Array,Ae.exports.isDisturbed=t.isDisturbed,Ae.exports.isErrored=t.isErrored,Ae.exports.isReadable=t.isReadable,Ae.exports.Readable=t.Readable,Ae.exports.Writable=t.Writable,Ae.exports.Duplex=t.Duplex,Ae.exports.Transform=t.Transform,Ae.exports.PassThrough=t.PassThrough,Ae.exports.addAbortSignal=t.addAbortSignal,Ae.exports.finished=t.finished,Ae.exports.destroy=t.destroy,Ae.exports.destroy=r,Ae.exports.pipeline=t.pipeline,Ae.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Ae.exports.Stream=t.Stream}Ae.exports.default=Ae.exports});var U_=x((vxe,hk)=>{var xxe=require("stream").Stream,xue=q_().PassThrough,vue=Uf(),Tue=hk.exports={};Tue.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(vue(t)&&!t._readableState){var e=new xue;return t.pipe(e),e}return t}});var j_=x((Txe,pk)=>{var Rue=require("util").inherits,Aue=Uf(),W_=q_().Transform,Cue=np(),Iue=U_(),Pr=pk.exports=function(t){if(!(this instanceof Pr))return new Pr(t);W_.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};Rue(Pr,W_);Pr.prototype._appendBuffer=function(t,e,r){};Pr.prototype._appendStream=function(t,e,r){};Pr.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};Pr.prototype._finish=function(t){};Pr.prototype._normalizeEntry=function(t){};Pr.prototype._transform=function(t,e,r){r(null,t)};Pr.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof Cue)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=Iue.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(Aue(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};Pr.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};Pr.prototype.getBytesWritten=function(){return this.offset};Pr.prototype.write=function(t,e){return t&&(this.offset+=t.length),W_.prototype.write.call(this,t,e)}});var Mp=x(z_=>{var gk;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof z_=="object"?t(z_):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(gk={}):t(gk={})})(function(t){t.version="1.2.2";function e(){for(var A=0,k=new Array(256),N=0;N!=256;++N)A=N,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,k[N]=A;return typeof Int32Array<"u"?new Int32Array(k):k}var r=e();function n(A){var k=0,N=0,L=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)M[L]=A[L];for(L=0;L!=256;++L)for(N=A[L],k=256+L;k<4096;k+=256)N=M[k]=N>>>8^A[N&255];var Y=[];for(L=1;L!=16;++L)Y[L-1]=typeof Int32Array<"u"?M.subarray(L*256,L*256+256):M.slice(L*256,L*256+256);return Y}var i=n(r),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],g=i[9],p=i[10],m=i[11],y=i[12],v=i[13],b=i[14];function w(A,k){for(var N=k^-1,L=0,M=A.length;L<M;)N=N>>>8^r[(N^A.charCodeAt(L++))&255];return~N}function I(A,k){for(var N=k^-1,L=A.length-15,M=0;M<L;)N=b[A[M++]^N&255]^v[A[M++]^N>>8&255]^y[A[M++]^N>>16&255]^m[A[M++]^N>>>24]^p[A[M++]]^g[A[M++]]^f[A[M++]]^h[A[M++]]^d[A[M++]]^u[A[M++]]^c[A[M++]]^l[A[M++]]^a[A[M++]]^o[A[M++]]^s[A[M++]]^r[A[M++]];for(L+=15;M<L;)N=N>>>8^r[(N^A[M++])&255];return~N}function O(A,k){for(var N=k^-1,L=0,M=A.length,Y=0,G=0;L<M;)Y=A.charCodeAt(L++),Y<128?N=N>>>8^r[(N^Y)&255]:Y<2048?(N=N>>>8^r[(N^(192|Y>>6&31))&255],N=N>>>8^r[(N^(128|Y&63))&255]):Y>=55296&&Y<57344?(Y=(Y&1023)+64,G=A.charCodeAt(L++)&1023,N=N>>>8^r[(N^(240|Y>>8&7))&255],N=N>>>8^r[(N^(128|Y>>2&63))&255],N=N>>>8^r[(N^(128|G>>6&15|(Y&3)<<4))&255],N=N>>>8^r[(N^(128|G&63))&255]):(N=N>>>8^r[(N^(224|Y>>12&15))&255],N=N>>>8^r[(N^(128|Y>>6&63))&255],N=N>>>8^r[(N^(128|Y&63))&255]);return~N}t.table=r,t.bstr=w,t.buf=I,t.str=O})});var lt=x((Axe,yk)=>{"use strict";var H_=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};yk.exports={AggregateError:H_,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var V_=x((Cxe,mk)=>{"use strict";mk.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var yr=x((Ixe,_k)=>{"use strict";var{format:Nue,inspect:Pp}=V_(),{AggregateError:Due}=lt(),Oue=globalThis.AggregateError||Due,Lue=Symbol("kIsNodeError"),Mue=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Pue=/^([A-Z][a-z0-9]*)+$/,Fue="__node_internal_",Fp={};function co(t,e){if(!t)throw new Fp.ERR_INTERNAL_ASSERTION(e)}function bk(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Bue(t,e,r){if(typeof e=="function")return co(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return co(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Nue(e,...r)}function sr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Bue(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Lue]=!0,Fp[t]=n}function wk(t){let e=Fue+t.name;return Object.defineProperty(t,"name",{value:e}),t}function kue(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Oue([e,t],e.message);return r.code=e.code,r}return t||e}var G_=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Fp.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};sr("ERR_ASSERTION","%s",Error);sr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{co(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)co(typeof l=="string","All expected entries have to be of type string"),Mue.includes(l)?i.push(l.toLowerCase()):Pue.test(l)?s.push(l):(co(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Pp(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Pp(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);sr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Pp(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);sr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);sr("ERR_MISSING_ARGS",(...t)=>{co(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);sr("ERR_OUT_OF_RANGE",(t,e,r)=>{co(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=bk(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=bk(n)),n+="n"}else n=Pp(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);sr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);sr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);sr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);sr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);sr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);sr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);sr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);sr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);sr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);sr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);sr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);_k.exports={AbortError:G_,aggregateTwoErrors:wk(kue),hideStackFrames:wk,codes:Fp}});var Ar=x((Nxe,J_)=>{"use strict";var $ue=require("buffer"),{format:que,inspect:Uue}=V_(),{codes:{ERR_INVALID_ARG_TYPE:Y_}}=yr(),{kResistStopPropagation:Wue,AggregateError:jue,SymbolDispose:zue}=lt(),Hue=globalThis.AbortSignal||xt().AbortSignal,Vue=globalThis.AbortController||xt().AbortController,Gue=Object.getPrototypeOf(async function(){}).constructor,Ek=globalThis.Blob||$ue.Blob,Yue=typeof Ek<"u"?function(e){return e instanceof Ek}:function(e){return!1},Sk=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Y_(e,"AbortSignal",t)},Jue=(t,e)=>{if(typeof t!="function")throw new Y_(e,"Function",t)};J_.exports={AggregateError:jue,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:que,inspect:Uue,types:{isAsyncFunction(t){return t instanceof Gue},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Yue,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new Y_("signal","AbortSignal",e);Sk(e,"signal"),Jue(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Wue]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[zue](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Hue.any||function(e){if(e.length===1)return e[0];let r=new Vue,n=()=>r.abort();return e.forEach(i=>{Sk(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};J_.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Ga=x((Dxe,Ok)=>{"use strict";var{ArrayIsArray:X_,ArrayPrototypeIncludes:Rk,ArrayPrototypeJoin:Ak,ArrayPrototypeMap:Kue,NumberIsInteger:Z_,NumberIsNaN:Xue,NumberMAX_SAFE_INTEGER:Zue,NumberMIN_SAFE_INTEGER:Que,NumberParseInt:efe,ObjectPrototypeHasOwnProperty:tfe,RegExpPrototypeExec:Ck,String:rfe,StringPrototypeToUpperCase:nfe,StringPrototypeTrim:ife}=lt(),{hideStackFrames:Qr,codes:{ERR_SOCKET_BAD_PORT:sfe,ERR_INVALID_ARG_TYPE:mr,ERR_INVALID_ARG_VALUE:Va,ERR_OUT_OF_RANGE:uo,ERR_UNKNOWN_SIGNAL:xk}}=yr(),{normalizeEncoding:ofe}=Ar(),{isAsyncFunction:afe,isArrayBufferView:lfe}=Ar().types,vk={};function cfe(t){return t===(t|0)}function ufe(t){return t===t>>>0}var ffe=/^[0-7]+$/,dfe="must be a 32-bit unsigned integer or an octal string";function hfe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(Ck(ffe,t)===null)throw new Va(e,t,dfe);t=efe(t,8)}return Ik(t,e),t}var pfe=Qr((t,e,r=Que,n=Zue)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!Z_(t))throw new uo(e,"an integer",t);if(t<r||t>n)throw new uo(e,`>= ${r} && <= ${n}`,t)}),gfe=Qr((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!Z_(t))throw new uo(e,"an integer",t);if(t<r||t>n)throw new uo(e,`>= ${r} && <= ${n}`,t)}),Ik=Qr((t,e,r=!1)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!Z_(t))throw new uo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new uo(e,`>= ${n} && <= ${i}`,t)});function Q_(t,e){if(typeof t!="string")throw new mr(e,"string",t)}function yfe(t,e,r=void 0,n){if(typeof t!="number")throw new mr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Xue(t))throw new uo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var mfe=Qr((t,e,r)=>{if(!Rk(r,t)){let i="must be one of: "+Ak(Kue(r,s=>typeof s=="string"?`'${s}'`:rfe(s)),", ");throw new Va(e,t,i)}});function Nk(t,e){if(typeof t!="boolean")throw new mr(e,"boolean",t)}function K_(t,e,r){return t==null||!tfe(t,e)?r:t[e]}var bfe=Qr((t,e,r=null)=>{let n=K_(r,"allowArray",!1),i=K_(r,"allowFunction",!1);if(!K_(r,"nullable",!1)&&t===null||!n&&X_(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new mr(e,"Object",t)}),wfe=Qr((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new mr(e,"a dictionary",t)}),Bp=Qr((t,e,r=0)=>{if(!X_(t))throw new mr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Va(e,t,n)}});function _fe(t,e){Bp(t,e);for(let r=0;r<t.length;r++)Q_(t[r],`${e}[${r}]`)}function Efe(t,e){Bp(t,e);for(let r=0;r<t.length;r++)Nk(t[r],`${e}[${r}]`)}function Sfe(t,e){Bp(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new mr(i,"AbortSignal",n);Dk(n,i)}}function xfe(t,e="signal"){if(Q_(t,e),vk[t]===void 0)throw vk[nfe(t)]!==void 0?new xk(t+" (signals must use all capital letters)"):new xk(t)}var vfe=Qr((t,e="buffer")=>{if(!lfe(t))throw new mr(e,["Buffer","TypedArray","DataView"],t)});function Tfe(t,e){let r=ofe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Va("encoding",e,`is invalid for data of length ${n}`)}function Rfe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&ife(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new sfe(e,t,r);return t|0}var Dk=Qr((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new mr(e,"AbortSignal",t)}),Afe=Qr((t,e)=>{if(typeof t!="function")throw new mr(e,"Function",t)}),Cfe=Qr((t,e)=>{if(typeof t!="function"||afe(t))throw new mr(e,"Function",t)}),Ife=Qr((t,e)=>{if(t!==void 0)throw new mr(e,"undefined",t)});function Nfe(t,e,r){if(!Rk(r,t))throw new mr(e,`('${Ak(r,"|")}')`,t)}var Dfe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Tk(t,e){if(typeof t>"u"||!Ck(Dfe,t))throw new Va(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ofe(t){if(typeof t=="string")return Tk(t,"hints"),t;if(X_(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];Tk(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Va("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ok.exports={isInt32:cfe,isUint32:ufe,parseFileMode:hfe,validateArray:Bp,validateStringArray:_fe,validateBooleanArray:Efe,validateAbortSignalArray:Sfe,validateBoolean:Nk,validateBuffer:vfe,validateDictionary:wfe,validateEncoding:Tfe,validateFunction:Afe,validateInt32:gfe,validateInteger:pfe,validateNumber:yfe,validateObject:bfe,validateOneOf:mfe,validatePlainFunction:Cfe,validatePort:Rfe,validateSignalName:xfe,validateString:Q_,validateUint32:Ik,validateUndefined:Ife,validateUnion:Nfe,validateAbortSignal:Dk,validateLinkHeaderValue:Ofe}});var zn=x((Oxe,Gk)=>{"use strict";var{SymbolAsyncIterator:Lk,SymbolIterator:Mk,SymbolFor:fo}=lt(),Pk=fo("nodejs.stream.destroyed"),Fk=fo("nodejs.stream.errored"),eE=fo("nodejs.stream.readable"),tE=fo("nodejs.stream.writable"),Bk=fo("nodejs.stream.disturbed"),Lfe=fo("nodejs.webstream.isClosedPromise"),Mfe=fo("nodejs.webstream.controllerErrorFunction");function kp(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function $p(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Pfe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function jn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function kk(t){return!!(t&&!jn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function $k(t){return!!(t&&!jn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function qk(t){return!!(t&&!jn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Ffe(t){return kk(t)||$k(t)||qk(t)}function Bfe(t,e){return t==null?!1:e===!0?typeof t[Lk]=="function":e===!1?typeof t[Mk]=="function":typeof t[Lk]=="function"||typeof t[Mk]=="function"}function qp(t){if(!jn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[Pk]||n!=null&&n.destroyed)}function Uk(t){if(!$p(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function kfe(t,e){if(!$p(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function $fe(t){if(!kp(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Wk(t,e){if(!kp(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function jk(t){return t&&t[eE]!=null?t[eE]:typeof t?.readable!="boolean"?null:qp(t)?!1:kp(t)&&t.readable&&!Wk(t)}function zk(t){return t&&t[tE]!=null?t[tE]:typeof t?.writable!="boolean"?null:qp(t)?!1:$p(t)&&t.writable&&!Uk(t)}function qfe(t,e){return jn(t)?qp(t)?!0:!(e?.readable!==!1&&jk(t)||e?.writable!==!1&&zk(t)):null}function Ufe(t){var e,r;return jn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Wfe(t){var e,r;return jn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function jfe(t){if(!jn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Hk(t)?t._closed:null}function Hk(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Vk(t){return typeof t._sent100=="boolean"&&Hk(t)}function zfe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Hfe(t){if(!jn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&Vk(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Vfe(t){var e;return!!(t&&((e=t[Bk])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Gfe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[Fk])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}Gk.exports={isDestroyed:qp,kIsDestroyed:Pk,isDisturbed:Vfe,kIsDisturbed:Bk,isErrored:Gfe,kIsErrored:Fk,isReadable:jk,kIsReadable:eE,kIsClosedPromise:Lfe,kControllerErrorFunction:Mfe,kIsWritable:tE,isClosed:jfe,isDuplexNodeStream:Pfe,isFinished:qfe,isIterable:Bfe,isReadableNodeStream:kp,isReadableStream:kk,isReadableEnded:$fe,isReadableFinished:Wk,isReadableErrored:Wfe,isNodeStream:jn,isWebStream:Ffe,isWritable:zk,isWritableNodeStream:$p,isWritableStream:$k,isWritableEnded:Uk,isWritableFinished:kfe,isWritableErrored:Ufe,isServerRequest:zfe,isServerResponse:Vk,willEmitClose:Hfe,isTransformStream:qk}});var Si=x((Lxe,oE)=>{"use strict";var Qi=Ve(),{AbortError:r$,codes:Yfe}=yr(),{ERR_INVALID_ARG_TYPE:Jfe,ERR_STREAM_PREMATURE_CLOSE:Yk}=Yfe,{kEmptyObject:nE,once:iE}=Ar(),{validateAbortSignal:Kfe,validateFunction:Xfe,validateObject:Zfe,validateBoolean:Qfe}=Ga(),{Promise:ede,PromisePrototypeThen:tde,SymbolDispose:n$}=lt(),{isClosed:rde,isReadable:Jk,isReadableNodeStream:rE,isReadableStream:nde,isReadableFinished:Kk,isReadableErrored:Xk,isWritable:Zk,isWritableNodeStream:Qk,isWritableStream:ide,isWritableFinished:e$,isWritableErrored:t$,isNodeStream:sde,willEmitClose:ode,kIsClosedPromise:ade}=zn(),Ya;function lde(t){return t.setHeader&&typeof t.abort=="function"}var sE=()=>{};function i$(t,e,r){var n,i;if(arguments.length===2?(r=e,e=nE):e==null?e=nE:Zfe(e,"options"),Xfe(r,"callback"),Kfe(e.signal,"options.signal"),r=iE(r),nde(t)||ide(t))return cde(t,e,r);if(!sde(t))throw new Jfe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:rE(t),o=(i=e.writable)!==null&&i!==void 0?i:Qk(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||h()},u=ode(t)&&rE(t)===s&&Qk(t)===o,d=e$(t,!1),h=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=Kk(t,!1),g=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},p=I=>{r.call(t,I)},m=rde(t),y=()=>{m=!0;let I=t$(t)||Xk(t);if(I&&typeof I!="boolean")return r.call(t,I);if(s&&!f&&rE(t,!0)&&!Kk(t,!1))return r.call(t,new Yk);if(o&&!d&&!e$(t,!1))return r.call(t,new Yk);r.call(t)},v=()=>{m=!0;let I=t$(t)||Xk(t);if(I&&typeof I!="boolean")return r.call(t,I);r.call(t)},b=()=>{t.req.on("finish",h)};lde(t)?(t.on("complete",h),u||t.on("abort",y),t.req?b():t.on("request",b)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",g),t.on("finish",h),e.error!==!1&&t.on("error",p),t.on("close",y),m?Qi.nextTick(y):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Qi.nextTick(v):(!s&&(!u||Jk(t))&&(d||Zk(t)===!1)||!o&&(!u||Zk(t))&&(f||Jk(t)===!1)||l&&t.req&&t.aborted)&&Qi.nextTick(v);let w=()=>{r=sE,t.removeListener("aborted",y),t.removeListener("complete",h),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",g),t.removeListener("error",p),t.removeListener("close",y)};if(e.signal&&!m){let I=()=>{let O=r;w(),O.call(t,new r$(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Qi.nextTick(I);else{Ya=Ya||Ar().addAbortListener;let O=Ya(e.signal,I),A=r;r=iE((...k)=>{O[n$](),A.apply(t,k)})}}return w}function cde(t,e,r){let n=!1,i=sE;if(e.signal)if(i=()=>{n=!0,r.call(t,new r$(void 0,{cause:e.signal.reason}))},e.signal.aborted)Qi.nextTick(i);else{Ya=Ya||Ar().addAbortListener;let o=Ya(e.signal,i),a=r;r=iE((...l)=>{o[n$](),a.apply(t,l)})}let s=(...o)=>{n||Qi.nextTick(()=>r.apply(t,o))};return tde(t[ade].promise,s,s),sE}function ude(t,e){var r;let n=!1;return e===null&&(e=nE),(r=e)!==null&&r!==void 0&&r.cleanup&&(Qfe(e.cleanup,"cleanup"),n=e.cleanup),new ede((i,s)=>{let o=i$(t,e,a=>{n&&o(),a?s(a):i()})})}oE.exports=i$;oE.exports.finished=ude});var ho=x((Mxe,d$)=>{"use strict";var Hn=Ve(),{aggregateTwoErrors:fde,codes:{ERR_MULTIPLE_CALLBACK:dde},AbortError:hde}=yr(),{Symbol:a$}=lt(),{kIsDestroyed:pde,isDestroyed:gde,isFinished:yde,isServerRequest:mde}=zn(),l$=a$("kDestroy"),aE=a$("kConstruct");function c$(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function bde(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(c$(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?s$(this,t,e):this.once(l$,function(s){s$(this,fde(s,t),e)}),this)}function s$(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;c$(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Hn.nextTick(wde,t,s):Hn.nextTick(u$,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function wde(t,e){lE(t,e),u$(t)}function u$(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function lE(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function _de(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function cE(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Hn.nextTick(lE,t,e):lE(t,e))}function Ede(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(aE,e),!(t.listenerCount(aE)>1)&&Hn.nextTick(Sde,t)}function Sde(t){let e=!1;function r(n){if(e){cE(t,n??new dde);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(l$,n):n?cE(t,n,!0):Hn.nextTick(xde,t)}try{t._construct(n=>{Hn.nextTick(r,n)})}catch(n){Hn.nextTick(r,n)}}function xde(t){t.emit(aE)}function o$(t){return t?.setHeader&&typeof t.abort=="function"}function f$(t){t.emit("close")}function vde(t,e){t.emit("error",e),Hn.nextTick(f$,t)}function Tde(t,e){!t||gde(t)||(!e&&!yde(t)&&(e=new hde),mde(t)?(t.socket=null,t.destroy(e)):o$(t)?t.abort():o$(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Hn.nextTick(vde,t,e):Hn.nextTick(f$,t),t.destroyed||(t[pde]=!0))}d$.exports={construct:Ede,destroyer:Tde,destroy:bde,undestroy:_de,errorOrDestroy:cE}});var jp=x((Pxe,p$)=>{"use strict";var{ArrayIsArray:Rde,ObjectSetPrototypeOf:h$}=lt(),{EventEmitter:Up}=require("events");function Wp(t){Up.call(this,t)}h$(Wp.prototype,Up.prototype);h$(Wp,Up);Wp.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),Up.listenerCount(this,"error")===0&&this.emit("error",u)}uE(r,"error",l),uE(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function uE(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Rde(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}p$.exports={Stream:Wp,prependListener:uE}});var pu=x((Fxe,zp)=>{"use strict";var{SymbolDispose:Ade}=lt(),{AbortError:g$,codes:Cde}=yr(),{isNodeStream:y$,isWebStream:Ide,kControllerErrorFunction:Nde}=zn(),Dde=Si(),{ERR_INVALID_ARG_TYPE:m$}=Cde,fE,Ode=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new m$(e,"AbortSignal",t)};zp.exports.addAbortSignal=function(e,r){if(Ode(e,"signal"),!y$(r)&&!Ide(r))throw new m$("stream",["ReadableStream","WritableStream","Stream"],r);return zp.exports.addAbortSignalNoValidate(e,r)};zp.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=y$(e)?()=>{e.destroy(new g$(void 0,{cause:t.reason}))}:()=>{e[Nde](new g$(void 0,{cause:t.reason}))};if(t.aborted)r();else{fE=fE||Ar().addAbortListener;let n=fE(t,r);Dde(e,n[Ade])}return e}});var _$=x((kxe,w$)=>{"use strict";var{StringPrototypeSlice:b$,SymbolIterator:Lde,TypedArrayPrototypeSet:Hp,Uint8Array:Mde}=lt(),{Buffer:dE}=require("buffer"),{inspect:Pde}=Ar();w$.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return dE.alloc(0);let r=dE.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Hp(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Lde](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=b$(s,0,e),this.head=n,n.data=b$(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=dE.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)Hp(r,o,n-e),e-=o.length;else{e===o.length?(Hp(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(Hp(r,new Mde(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Pde(this,{...r,depth:0,customInspect:!1})}}});var gu=x(($xe,v$)=>{"use strict";var{MathFloor:Fde,NumberIsInteger:Bde}=lt(),{validateInteger:kde}=Ga(),{ERR_INVALID_ARG_VALUE:$de}=yr().codes,E$=16*1024,S$=16;function qde(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function x$(t){return t?S$:E$}function Ude(t,e){kde(e,"value",0),t?S$=e:E$=e}function Wde(t,e,r,n){let i=qde(e,n,r);if(i!=null){if(!Bde(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new $de(s,i)}return Fde(i)}return x$(t.objectMode)}v$.exports={getHighWaterMark:Wde,getDefaultHighWaterMark:x$,setDefaultHighWaterMark:Ude}});var hE=x((qxe,C$)=>{"use strict";var T$=Ve(),{PromisePrototypeThen:jde,SymbolAsyncIterator:R$,SymbolIterator:A$}=lt(),{Buffer:zde}=require("buffer"),{ERR_INVALID_ARG_TYPE:Hde,ERR_STREAM_NULL_VALUES:Vde}=yr().codes;function Gde(t,e,r){let n;if(typeof e=="string"||e instanceof zde)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[R$])i=!0,n=e[R$]();else if(e&&e[A$])i=!1,n=e[A$]();else throw new Hde("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){jde(a(c),()=>T$.nextTick(u,c),d=>T$.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:h,done:f}=await n.throw(c);if(await h,f)return}if(typeof n.return=="function"){let{value:h}=await n.return();await h}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Vde;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}C$.exports=Gde});var mu=x((Uxe,V$)=>{"use strict";var pn=Ve(),{ArrayPrototypeIndexOf:Yde,NumberIsInteger:Jde,NumberIsNaN:Kde,NumberParseInt:Xde,ObjectDefineProperties:EE,ObjectKeys:Zde,ObjectSetPrototypeOf:D$,Promise:O$,SafeSet:Qde,SymbolAsyncDispose:ehe,SymbolAsyncIterator:the,Symbol:rhe}=lt();V$.exports=we;we.ReadableState=Jp;var{EventEmitter:nhe}=require("events"),{Stream:es,prependListener:ihe}=jp(),{Buffer:pE}=require("buffer"),{addAbortSignal:she}=pu(),L$=Si(),Le=Ar().debuglog("stream",t=>{Le=t}),ohe=_$(),Xa=ho(),{getHighWaterMark:ahe,getDefaultHighWaterMark:lhe}=gu(),{aggregateTwoErrors:I$,codes:{ERR_INVALID_ARG_TYPE:che,ERR_METHOD_NOT_IMPLEMENTED:uhe,ERR_OUT_OF_RANGE:fhe,ERR_STREAM_PUSH_AFTER_EOF:dhe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:hhe},AbortError:phe}=yr(),{validateObject:ghe}=Ga(),po=rhe("kPaused"),{StringDecoder:M$}=uc(),yhe=hE();D$(we.prototype,es.prototype);D$(we,es);var gE=()=>{},{errorOrDestroy:Ja}=Xa,Ka=1,mhe=2,P$=4,yu=8,F$=16,Vp=32,Gp=64,B$=128,bhe=256,whe=512,_he=1024,wE=2048,_E=4096,Ehe=8192,She=16384,xhe=32768,k$=65536,vhe=1<<17,The=1<<18;function Bt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}EE(Jp.prototype,{objectMode:Bt(Ka),ended:Bt(mhe),endEmitted:Bt(P$),reading:Bt(yu),constructed:Bt(F$),sync:Bt(Vp),needReadable:Bt(Gp),emittedReadable:Bt(B$),readableListening:Bt(bhe),resumeScheduled:Bt(whe),errorEmitted:Bt(_he),emitClose:Bt(wE),autoDestroy:Bt(_E),destroyed:Bt(Ehe),closed:Bt(She),closeEmitted:Bt(xhe),multiAwaitDrain:Bt(k$),readingMore:Bt(vhe),dataEmitted:Bt(The)});function Jp(t,e,r){typeof r!="boolean"&&(r=e instanceof Vn()),this.state=wE|_E|F$|Vp,t&&t.objectMode&&(this.state|=Ka),r&&t&&t.readableObjectMode&&(this.state|=Ka),this.highWaterMark=t?ahe(this,t,"readableHighWaterMark",r):lhe(!1),this.buffer=new ohe,this.length=0,this.pipes=[],this.flowing=null,this[po]=null,t&&t.emitClose===!1&&(this.state&=~wE),t&&t.autoDestroy===!1&&(this.state&=~_E),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new M$(t.encoding),this.encoding=t.encoding)}function we(t){if(!(this instanceof we))return new we(t);let e=this instanceof Vn();this._readableState=new Jp(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&she(t.signal,this)),es.call(this,t),Xa.construct(this,()=>{this._readableState.needReadable&&Yp(this,this._readableState)})}we.prototype.destroy=Xa.destroy;we.prototype._undestroy=Xa.undestroy;we.prototype._destroy=function(t,e){e(t)};we.prototype[nhe.captureRejectionSymbol]=function(t){this.destroy(t)};we.prototype[ehe]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new phe,this.destroy(t)),new O$((e,r)=>L$(this,n=>n&&n!==t?r(n):e(null)))};we.prototype.push=function(t,e){return $$(this,t,e,!1)};we.prototype.unshift=function(t,e){return $$(this,t,e,!0)};function $$(t,e,r,n){Le("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ka)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=pE.from(e,r).toString(i.encoding):(e=pE.from(e,r),r=""))):e instanceof pE?r="":es._isUint8Array(e)?(e=es._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new che("chunk",["string","Buffer","Uint8Array"],e))),s)Ja(t,s);else if(e===null)i.state&=~yu,Che(t,i);else if((i.state&Ka)!==0||e&&e.length>0)if(n)if((i.state&P$)!==0)Ja(t,new hhe);else{if(i.destroyed||i.errored)return!1;yE(t,i,e,!0)}else if(i.ended)Ja(t,new dhe);else{if(i.destroyed||i.errored)return!1;i.state&=~yu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?yE(t,i,e,!1):Yp(t,i)):yE(t,i,e,!1)}else n||(i.state&=~yu,Yp(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function yE(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&k$)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&Gp)!==0&&Kp(t)),Yp(t,e)}we.prototype.isPaused=function(){let t=this._readableState;return t[po]===!0||t.flowing===!1};we.prototype.setEncoding=function(t){let e=new M$(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Rhe=1073741824;function Ahe(t){if(t>Rhe)throw new fhe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function N$(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ka)!==0?1:Kde(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}we.prototype.read=function(t){Le("read",t),t===void 0?t=NaN:Jde(t)||(t=Xde(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Ahe(t)),t!==0&&(e.state&=~B$),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Le("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?mE(this):Kp(this),null;if(t=N$(t,e),t===0&&e.ended)return e.length===0&&mE(this),null;let n=(e.state&Gp)!==0;if(Le("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Le("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Le("reading, ended or constructing",n);else if(n){Le("do read"),e.state|=yu|Vp,e.length===0&&(e.state|=Gp);try{this._read(e.highWaterMark)}catch(s){Ja(this,s)}e.state&=~Vp,e.reading||(t=N$(r,e))}let i;return t>0?i=z$(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&mE(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function Che(t,e){if(Le("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Kp(t):(e.needReadable=!1,e.emittedReadable=!0,q$(t))}}function Kp(t){let e=t._readableState;Le("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Le("emitReadable",e.flowing),e.emittedReadable=!0,pn.nextTick(q$,t))}function q$(t){let e=t._readableState;Le("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,W$(t)}function Yp(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,pn.nextTick(Ihe,t,e))}function Ihe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Le("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}we.prototype._read=function(t){throw new uhe("_read()")};we.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Qde(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Le("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==pn.stdout&&t!==pn.stderr?a:m;n.endEmitted?pn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,v){Le("onunpipe"),y===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,u())}function a(){Le("onend"),t.end()}let l,c=!1;function u(){Le("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Le("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Le("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Nhe(r,t),t.on("drain",l))}r.on("data",h);function h(y){Le("ondata");let v=t.write(y);Le("dest.write",v),v===!1&&d()}function f(y){if(Le("onerror",y),m(),t.removeListener("error",f),t.listenerCount("error")===0){let v=t._writableState||t._readableState;v&&!v.errorEmitted?Ja(t,y):t.emit("error",y)}}ihe(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){Le("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){Le("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Le("pipe resume"),r.resume()),t};function Nhe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Le("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Le("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}we.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Yde(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};we.prototype.on=function(t,e){let r=es.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Le("on readable",n.length,n.reading),n.length?Kp(this):n.reading||pn.nextTick(Dhe,this)),r};we.prototype.addListener=we.prototype.on;we.prototype.removeListener=function(t,e){let r=es.prototype.removeListener.call(this,t,e);return t==="readable"&&pn.nextTick(U$,this),r};we.prototype.off=we.prototype.removeListener;we.prototype.removeAllListeners=function(t){let e=es.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&pn.nextTick(U$,this),e};function U$(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[po]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Dhe(t){Le("readable nexttick read 0"),t.read(0)}we.prototype.resume=function(){let t=this._readableState;return t.flowing||(Le("resume"),t.flowing=!t.readableListening,Ohe(this,t)),t[po]=!1,this};function Ohe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,pn.nextTick(Lhe,t,e))}function Lhe(t,e){Le("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),W$(t),e.flowing&&!e.reading&&t.read(0)}we.prototype.pause=function(){return Le("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Le("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[po]=!0,this};function W$(t){let e=t._readableState;for(Le("flow",e.flowing);e.flowing&&t.read()!==null;);}we.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Ja(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Zde(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};we.prototype[the]=function(){return j$(this)};we.prototype.iterator=function(t){return t!==void 0&&ghe(t,"options"),j$(this,t)};function j$(t,e){typeof t.read!="function"&&(t=we.wrap(t,{objectMode:!0}));let r=Mhe(t,e);return r.stream=t,r}async function*Mhe(t,e){let r=gE;function n(o){this===t?(r(),r=gE):r=o}t.on("readable",n);let i,s=L$(t,{writable:!1},o=>{i=o?I$(i,o):null,r(),r=gE});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new O$(n)}}}catch(o){throw i=I$(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Xa.destroyer(t,null):(t.off("readable",n),s())}}EE(we.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});EE(Jp.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[po]!==!1},set(t){this[po]=!!t}}});we._fromList=z$;function z$(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function mE(t){let e=t._readableState;Le("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,pn.nextTick(Phe,e,t))}function Phe(t,e){if(Le("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)pn.nextTick(Fhe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Fhe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}we.from=function(t,e){return yhe(we,t,e)};var bE;function H$(){return bE===void 0&&(bE={}),bE}we.fromWeb=function(t,e){return H$().newStreamReadableFromReadableStream(t,e)};we.toWeb=function(t,e){return H$().newReadableStreamFromStreamReadable(t,e)};we.wrap=function(t,e){var r,n;return new we({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Xa.destroyer(t,i),s(i)}}).wrap(t)}});var t0=x((Wxe,iq)=>{"use strict";var go=Ve(),{ArrayPrototypeSlice:J$,Error:Bhe,FunctionPrototypeSymbolHasInstance:K$,ObjectDefineProperty:X$,ObjectDefineProperties:khe,ObjectSetPrototypeOf:Z$,StringPrototypeToLowerCase:$he,Symbol:qhe,SymbolHasInstance:Uhe}=lt();iq.exports=ht;ht.WritableState=_u;var{EventEmitter:Whe}=require("events"),bu=jp().Stream,{Buffer:Xp}=require("buffer"),e0=ho(),{addAbortSignal:jhe}=pu(),{getHighWaterMark:zhe,getDefaultHighWaterMark:Hhe}=gu(),{ERR_INVALID_ARG_TYPE:Vhe,ERR_METHOD_NOT_IMPLEMENTED:Ghe,ERR_MULTIPLE_CALLBACK:Q$,ERR_STREAM_CANNOT_PIPE:Yhe,ERR_STREAM_DESTROYED:wu,ERR_STREAM_ALREADY_FINISHED:Jhe,ERR_STREAM_NULL_VALUES:Khe,ERR_STREAM_WRITE_AFTER_END:Xhe,ERR_UNKNOWN_ENCODING:eq}=yr().codes,{errorOrDestroy:Za}=e0;Z$(ht.prototype,bu.prototype);Z$(ht,bu);function vE(){}var Qa=qhe("kOnFinished");function _u(t,e,r){typeof r!="boolean"&&(r=e instanceof Vn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?zhe(this,t,"writableHighWaterMark",r):Hhe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Qhe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Qp(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Qa]=[]}function Qp(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}_u.prototype.getBuffer=function(){return J$(this.buffered,this.bufferedIndex)};X$(_u.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ht(t){let e=this instanceof Vn();if(!e&&!K$(ht,this))return new ht(t);this._writableState=new _u(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&jhe(t.signal,this)),bu.call(this,t),e0.construct(this,()=>{let r=this._writableState;r.writing||RE(this,r),AE(this,r)})}X$(ht,Uhe,{__proto__:null,value:function(t){return K$(this,t)?!0:this!==ht?!1:t&&t._writableState instanceof _u}});ht.prototype.pipe=function(){Za(this,new Yhe)};function tq(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Xp.isEncoding(r))throw new eq(r);typeof n!="function"&&(n=vE)}if(e===null)throw new Khe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Xp.from(e,r),r="buffer");else if(e instanceof Xp)r="buffer";else if(bu._isUint8Array(e))e=bu._uint8ArrayToBuffer(e),r="buffer";else throw new Vhe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Xhe:i.destroyed&&(s=new wu("write")),s?(go.nextTick(n,s),Za(t,s,!0),s):(i.pendingcb++,Zhe(t,i,e,r,n))}ht.prototype.write=function(t,e,r){return tq(this,t,e,r)===!0};ht.prototype.cork=function(){this._writableState.corked++};ht.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||RE(this,t))};ht.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=$he(e)),!Xp.isEncoding(e))throw new eq(e);return this._writableState.defaultEncoding=e,this};function Zhe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==vE&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function G$(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new wu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Y$(t,e,r,n){--e.pendingcb,n(r),TE(e),Za(t,r)}function Qhe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Za(t,new Q$);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?go.nextTick(Y$,t,r,e,i):Y$(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&RE(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},go.nextTick(epe,r.afterWriteTickInfo)):rq(t,r,1,i))}function epe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,rq(t,e,r,n)}function rq(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&TE(e),AE(t,e)}function TE(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new wu("write"))}let r=t[Qa].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new wu("end"))}Qp(t)}function RE(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?vE:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:J$(r,o);l.allBuffers=e.allBuffers,G$(t,e,!0,e.length,l,"",a),Qp(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;G$(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Qp(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ht.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Ghe("_write()")};ht.prototype._writev=null;ht.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=tq(this,t,e);s instanceof Bhe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,AE(this,n,!0),n.ended=!0):n.finished?i=new Jhe("end"):n.destroyed&&(i=new wu("end"))),typeof r=="function"&&(i||n.finished?go.nextTick(r,i):n[Qa].push(r)),this};function Zp(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function tpe(t,e){let r=!1;function n(i){if(r){Za(t,i??Q$());return}if(r=!0,e.pendingcb--,i){let s=e[Qa].splice(0);for(let o=0;o<s.length;o++)s[o](i);Za(t,i,e.sync)}else Zp(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,go.nextTick(xE,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function rpe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,tpe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function AE(t,e,r){Zp(e)&&(rpe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,go.nextTick((n,i)=>{Zp(i)?xE(n,i):i.pendingcb--},t,e)):Zp(e)&&(e.pendingcb++,xE(t,e))))}function xE(t,e){e.pendingcb--,e.finished=!0;let r=e[Qa].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}khe(ht.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var npe=e0.destroy;ht.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Qa].length)&&go.nextTick(TE,r),npe.call(this,t,e),this};ht.prototype._undestroy=e0.undestroy;ht.prototype._destroy=function(t,e){e(t)};ht.prototype[Whe.captureRejectionSymbol]=function(t){this.destroy(t)};var SE;function nq(){return SE===void 0&&(SE={}),SE}ht.fromWeb=function(t,e){return nq().newStreamWritableFromWritableStream(t,e)};ht.toWeb=function(t){return nq().newWritableStreamFromStreamWritable(t)}});var wq=x((jxe,bq)=>{var CE=Ve(),ipe=require("buffer"),{isReadable:spe,isWritable:ope,isIterable:sq,isNodeStream:ape,isReadableNodeStream:oq,isWritableNodeStream:aq,isDuplexNodeStream:lpe,isReadableStream:lq,isWritableStream:cq}=zn(),uq=Si(),{AbortError:yq,codes:{ERR_INVALID_ARG_TYPE:cpe,ERR_INVALID_RETURN_VALUE:fq}}=yr(),{destroyer:tl}=ho(),upe=Vn(),mq=mu(),fpe=t0(),{createDeferredPromise:dq}=Ar(),hq=hE(),pq=globalThis.Blob||ipe.Blob,dpe=typeof pq<"u"?function(e){return e instanceof pq}:function(e){return!1},hpe=globalThis.AbortController||xt().AbortController,{FunctionPrototypeCall:gq}=lt(),ts=class extends upe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};bq.exports=function t(e,r){if(lpe(e))return e;if(oq(e))return el({readable:e});if(aq(e))return el({writable:e});if(ape(e))return el({writable:!1,readable:!1});if(lq(e))return el({readable:mq.fromWeb(e)});if(cq(e))return el({writable:fpe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=ppe(e);if(sq(i))return hq(ts,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=gq(l,i,d=>{if(d!=null)throw new fq("nully","body",d)},d=>{tl(c,d)});return c=new ts({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,CE.nextTick(d,null)}catch(h){CE.nextTick(d,h)}})},destroy:a})}throw new fq("Iterable, AsyncIterable or AsyncFunction",r,i)}if(dpe(e))return t(e.arrayBuffer());if(sq(e))return hq(ts,e,{objectMode:!0,writable:!1});if(lq(e?.readable)&&cq(e?.writable))return ts.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?oq(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?aq(e?.writable)?e?.writable:t(e.writable):void 0;return el({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return gq(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{tl(i,s)}),i=new ts({objectMode:!0,writable:!1,read(){}})}throw new cpe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function ppe(t){let{promise:e,resolve:r}=dq(),n=new hpe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(CE.nextTick(c),l)return;if(i.aborted)throw new yq(void 0,{cause:i.reason});({promise:e,resolve:r}=dq()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function el(t){let e=t.readable&&typeof t.readable.read!="function"?mq.wrap(t.readable):t.readable,r=t.writable,n=!!spe(e),i=!!ope(r),s,o,a,l,c;function u(d){let h=l;l=null,h?h(d):d&&c.destroy(d)}return c=new ts({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(uq(r,d=>{i=!1,d&&tl(e,d),u(d)}),c._write=function(d,h,f){r.write(d,h)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(uq(e,d=>{n=!1,d&&tl(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,h){!d&&l!==null&&(d=new yq),a=null,s=null,o=null,l===null?h(d):(l=h,tl(r,d),tl(e,d))},c}});var Vn=x((zxe,Sq)=>{"use strict";var{ObjectDefineProperties:gpe,ObjectGetOwnPropertyDescriptor:xi,ObjectKeys:ype,ObjectSetPrototypeOf:_q}=lt();Sq.exports=gn;var DE=mu(),en=t0();_q(gn.prototype,DE.prototype);_q(gn,DE);{let t=ype(en.prototype);for(let e=0;e<t.length;e++){let r=t[e];gn.prototype[r]||(gn.prototype[r]=en.prototype[r])}}function gn(t){if(!(this instanceof gn))return new gn(t);DE.call(this,t),en.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}gpe(gn.prototype,{writable:{__proto__:null,...xi(en.prototype,"writable")},writableHighWaterMark:{__proto__:null,...xi(en.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...xi(en.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...xi(en.prototype,"writableBuffer")},writableLength:{__proto__:null,...xi(en.prototype,"writableLength")},writableFinished:{__proto__:null,...xi(en.prototype,"writableFinished")},writableCorked:{__proto__:null,...xi(en.prototype,"writableCorked")},writableEnded:{__proto__:null,...xi(en.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...xi(en.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var IE;function Eq(){return IE===void 0&&(IE={}),IE}gn.fromWeb=function(t,e){return Eq().newStreamDuplexFromReadableWritablePair(t,e)};gn.toWeb=function(t){return Eq().newReadableWritablePairFromDuplex(t)};var NE;gn.from=function(t){return NE||(NE=wq()),NE(t,"body")}});var ME=x((Hxe,vq)=>{"use strict";var{ObjectSetPrototypeOf:xq,Symbol:mpe}=lt();vq.exports=vi;var{ERR_METHOD_NOT_IMPLEMENTED:bpe}=yr().codes,LE=Vn(),{getHighWaterMark:wpe}=gu();xq(vi.prototype,LE.prototype);xq(vi,LE);var Eu=mpe("kCallback");function vi(t){if(!(this instanceof vi))return new vi(t);let e=t?wpe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),LE.call(this,t),this._readableState.sync=!1,this[Eu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",_pe)}function OE(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function _pe(){this._final!==OE&&OE.call(this)}vi.prototype._final=OE;vi.prototype._transform=function(t,e,r){throw new bpe("_transform()")};vi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Eu]=r})};vi.prototype._read=function(){if(this[Eu]){let t=this[Eu];this[Eu]=null,t()}}});var FE=x((Vxe,Rq)=>{"use strict";var{ObjectSetPrototypeOf:Tq}=lt();Rq.exports=rl;var PE=ME();Tq(rl.prototype,PE.prototype);Tq(rl,PE);function rl(t){if(!(this instanceof rl))return new rl(t);PE.call(this,t)}rl.prototype._transform=function(t,e,r){r(null,t)}});var s0=x((Gxe,Dq)=>{var Su=Ve(),{ArrayIsArray:Epe,Promise:Spe,SymbolAsyncIterator:xpe,SymbolDispose:vpe}=lt(),i0=Si(),{once:Tpe}=Ar(),Rpe=ho(),Aq=Vn(),{aggregateTwoErrors:Ape,codes:{ERR_INVALID_ARG_TYPE:HE,ERR_INVALID_RETURN_VALUE:BE,ERR_MISSING_ARGS:Cpe,ERR_STREAM_DESTROYED:Ipe,ERR_STREAM_PREMATURE_CLOSE:Npe},AbortError:Dpe}=yr(),{validateFunction:Ope,validateAbortSignal:Lpe}=Ga(),{isIterable:yo,isReadable:kE,isReadableNodeStream:n0,isNodeStream:Cq,isTransformStream:nl,isWebStream:Mpe,isReadableStream:$E,isReadableFinished:Ppe}=zn(),Fpe=globalThis.AbortController||xt().AbortController,qE,UE,WE;function Iq(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=i0(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Rpe.destroyer(t,s||new Ipe("pipe")))},cleanup:i}}function Bpe(t){return Ope(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function jE(t){if(yo(t))return t;if(n0(t))return kpe(t);throw new HE("val",["Readable","Iterable","AsyncIterable"],t)}async function*kpe(t){UE||(UE=mu()),yield*UE.prototype[xpe].call(t)}async function r0(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new Spe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=i0(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?Ape(i,c):c)}finally{l(),e.off("drain",o)}}async function zE(t,e,r,{end:n}){nl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function $pe(...t){return Nq(t,Tpe(Bpe(t)))}function Nq(t,e,r){if(t.length===1&&Epe(t[0])&&(t=t[0]),t.length<2)throw new Cpe("streams");let n=new Fpe,i=n.signal,s=r?.signal,o=[];Lpe(s,"options.signal");function a(){g(new Dpe)}WE=WE||Ar().addAbortListener;let l;s&&(l=WE(s,a));let c,u,d=[],h=0;function f(b){g(b,--h===0)}function g(b,w){var I;if(b&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=b),!(!c&&!w)){for(;d.length;)d.shift()(c);(I=l)===null||I===void 0||I[vpe](),n.abort(),w&&(c||o.forEach(O=>O()),Su.nextTick(e,c,u))}}let p;for(let b=0;b<t.length;b++){let w=t[b],I=b<t.length-1,O=b>0,A=I||r?.end!==!1,k=b===t.length-1;if(Cq(w)){let N=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(L)};var v=N;if(A){let{destroy:L,cleanup:M}=Iq(w,I,O);d.push(L),kE(w)&&k&&o.push(M)}w.on("error",N),kE(w)&&k&&o.push(()=>{w.removeListener("error",N)})}if(b===0)if(typeof w=="function"){if(p=w({signal:i}),!yo(p))throw new BE("Iterable, AsyncIterable or Stream","source",p)}else yo(w)||n0(w)||nl(w)?p=w:p=Aq.from(w);else if(typeof w=="function"){if(nl(p)){var m;p=jE((m=p)===null||m===void 0?void 0:m.readable)}else p=jE(p);if(p=w(p,{signal:i}),I){if(!yo(p,!0))throw new BE("AsyncIterable",`transform[${b-1}]`,p)}else{var y;qE||(qE=FE());let N=new qE({objectMode:!0}),L=(y=p)===null||y===void 0?void 0:y.then;if(typeof L=="function")h++,L.call(p,G=>{u=G,G!=null&&N.write(G),A&&N.end(),Su.nextTick(f)},G=>{N.destroy(G),Su.nextTick(f,G)});else if(yo(p,!0))h++,r0(p,N,f,{end:A});else if($E(p)||nl(p)){let G=p.readable||p;h++,r0(G,N,f,{end:A})}else throw new BE("AsyncIterable or Promise","destination",p);p=N;let{destroy:M,cleanup:Y}=Iq(p,!1,!0);d.push(M),k&&o.push(Y)}}else if(Cq(w)){if(n0(p)){h+=2;let N=qpe(p,w,f,{end:A});kE(w)&&k&&o.push(N)}else if(nl(p)||$E(p)){let N=p.readable||p;h++,r0(N,w,f,{end:A})}else if(yo(p))h++,r0(p,w,f,{end:A});else throw new HE("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else if(Mpe(w)){if(n0(p))h++,zE(jE(p),w,f,{end:A});else if($E(p)||yo(p))h++,zE(p,w,f,{end:A});else if(nl(p))h++,zE(p.readable,w,f,{end:A});else throw new HE("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else p=Aq.from(w)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Su.nextTick(a),p}function qpe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Npe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;Ppe(t)?Su.nextTick(o):t.once("end",o)}else r();return i0(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),i0(e,{readable:!1,writable:!0},r)}Dq.exports={pipelineImpl:Nq,pipeline:$pe}});var GE=x((Yxe,Bq)=>{"use strict";var{pipeline:Upe}=s0(),o0=Vn(),{destroyer:Wpe}=ho(),{isNodeStream:a0,isReadable:Oq,isWritable:Lq,isWebStream:VE,isTransformStream:mo,isWritableStream:Mq,isReadableStream:Pq}=zn(),{AbortError:jpe,codes:{ERR_INVALID_ARG_VALUE:Fq,ERR_MISSING_ARGS:zpe}}=yr(),Hpe=Si();Bq.exports=function(...e){if(e.length===0)throw new zpe("streams");if(e.length===1)return o0.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=o0.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=o0.from(e[f])}for(let f=0;f<e.length;++f)if(!(!a0(e[f])&&!VE(e[f]))){if(f<e.length-1&&!(Oq(e[f])||Pq(e[f])||mo(e[f])))throw new Fq(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(Lq(e[f])||Mq(e[f])||mo(e[f])))throw new Fq(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let g=o;o=null,g?g(f):f?a.destroy(f):!h&&!d&&a.destroy()}let c=e[0],u=Upe(e,l),d=!!(Lq(c)||Mq(c)||mo(c)),h=!!(Oq(u)||Pq(u)||mo(u));if(a=new o0({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:h}),d){if(a0(c))a._write=function(g,p,m){c.write(g,p)?m():n=m},a._final=function(g){c.end(),i=g},c.on("drain",function(){if(n){let g=n;n=null,g()}});else if(VE(c)){let p=(mo(c)?c.writable:c).getWriter();a._write=async function(m,y,v){try{await p.ready,p.write(m).catch(()=>{}),v()}catch(b){v(b)}},a._final=async function(m){try{await p.ready,p.close().catch(()=>{}),i=m}catch(y){m(y)}}}let f=mo(u)?u.readable:u;Hpe(f,()=>{if(i){let g=i;i=null,g()}})}if(h){if(a0(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(VE(u)){let g=(mo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:p,done:m}=await g.read();if(!a.push(p))return;if(m){a.push(null);return}}catch{return}}}}return a._destroy=function(f,g){!f&&o!==null&&(f=new jpe),s=null,n=null,i=null,o===null?g(f):(o=g,a0(u)&&Wpe(u,f))},a}});var Gq=x((Jxe,KE)=>{"use strict";var Vpe=globalThis.AbortController||xt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Gpe,ERR_INVALID_ARG_TYPE:xu,ERR_MISSING_ARGS:Ype,ERR_OUT_OF_RANGE:Jpe},AbortError:Gn}=yr(),{validateAbortSignal:bo,validateInteger:kq,validateObject:wo}=Ga(),Kpe=lt().Symbol("kWeak"),Xpe=lt().Symbol("kResistStopPropagation"),{finished:Zpe}=Si(),Qpe=GE(),{addAbortSignalNoValidate:e0e}=pu(),{isWritable:t0e,isNodeStream:r0e}=zn(),{deprecate:n0e}=Ar(),{ArrayPrototypePush:i0e,Boolean:s0e,MathFloor:$q,Number:o0e,NumberIsNaN:a0e,Promise:qq,PromiseReject:Uq,PromiseResolve:l0e,PromisePrototypeThen:Wq,Symbol:zq}=lt(),l0=zq("kEmpty"),jq=zq("kEof");function c0e(t,e){if(e!=null&&wo(e,"options"),e?.signal!=null&&bo(e.signal,"options.signal"),r0e(t)&&!t0e(t))throw new Gpe("stream",t,"must be writable");let r=Qpe(this,t);return e!=null&&e.signal&&e0e(e.signal,r),r}function c0(t,e){if(typeof t!="function")throw new xu("fn",["Function","AsyncFunction"],t);e!=null&&wo(e,"options"),e?.signal!=null&&bo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=$q(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=$q(e.highWaterMark)),kq(r,"options.concurrency",1),kq(n,"options.highWaterMark",0),n+=r,async function*(){let s=Ar().AbortSignalAny([e?.signal].filter(s0e)),o=this,a=[],l={signal:s},c,u,d=!1,h=0;function f(){d=!0,g()}function g(){h-=1,p()}function p(){u&&!d&&h<r&&a.length<n&&(u(),u=null)}async function m(){try{for await(let y of o){if(d)return;if(s.aborted)throw new Gn;try{if(y=t(y,l),y===l0)continue;y=l0e(y)}catch(v){y=Uq(v)}h+=1,Wq(y,g,f),a.push(y),c&&(c(),c=null),!d&&(a.length>=n||h>=r)&&await new qq(v=>{u=v})}a.push(jq)}catch(y){let v=Uq(y);Wq(v,g,f),a.push(v)}finally{d=!0,c&&(c(),c=null)}}m();try{for(;;){for(;a.length>0;){let y=await a[0];if(y===jq)return;if(s.aborted)throw new Gn;y!==l0&&(yield y),a.shift(),p()}await new qq(y=>{c=y})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function u0e(t=void 0){return t!=null&&wo(t,"options"),t?.signal!=null&&bo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Gn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function Hq(t,e=void 0){for await(let r of JE.call(this,t,e))return!0;return!1}async function f0e(t,e=void 0){if(typeof t!="function")throw new xu("fn",["Function","AsyncFunction"],t);return!await Hq.call(this,async(...r)=>!await t(...r),e)}async function d0e(t,e){for await(let r of JE.call(this,t,e))return r}async function h0e(t,e){if(typeof t!="function")throw new xu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),l0}for await(let n of c0.call(this,r,e));}function JE(t,e){if(typeof t!="function")throw new xu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:l0}return c0.call(this,r,e)}var YE=class extends Ype{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function p0e(t,e,r){var n;if(typeof t!="function")throw new xu("reducer",["Function","AsyncFunction"],t);r!=null&&wo(r,"options"),r?.signal!=null&&bo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Gn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Zpe(this.destroy(c)),c}let s=new Vpe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Kpe]:this,[Xpe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Gn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new YE}finally{s.abort()}return e}async function g0e(t){t!=null&&wo(t,"options"),t?.signal!=null&&bo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Gn(void 0,{cause:t.signal.reason});i0e(e,n)}return e}function y0e(t,e){let r=c0.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function Vq(t){if(t=o0e(t),a0e(t))return 0;if(t<0)throw new Jpe("number",">= 0",t);return t}function m0e(t,e=void 0){return e!=null&&wo(e,"options"),e?.signal!=null&&bo(e.signal,"options.signal"),t=Vq(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Gn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Gn;t--<=0&&(yield s)}}.call(this)}function b0e(t,e=void 0){return e!=null&&wo(e,"options"),e?.signal!=null&&bo(e.signal,"options.signal"),t=Vq(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Gn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Gn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}KE.exports.streamReturningOperators={asIndexedPairs:n0e(u0e,"readable.asIndexedPairs will be removed in a future version."),drop:m0e,filter:JE,flatMap:y0e,map:c0,take:b0e,compose:c0e};KE.exports.promiseReturningOperators={every:f0e,forEach:h0e,reduce:p0e,toArray:g0e,some:Hq,find:d0e}});var XE=x((Kxe,Yq)=>{"use strict";var{ArrayPrototypePop:w0e,Promise:_0e}=lt(),{isIterable:E0e,isNodeStream:S0e,isWebStream:x0e}=zn(),{pipelineImpl:v0e}=s0(),{finished:T0e}=Si();ZE();function R0e(...t){return new _0e((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!S0e(s)&&!E0e(s)&&!x0e(s)){let o=w0e(t);n=o.signal,i=o.end}v0e(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}Yq.exports={finished:T0e,pipeline:R0e}});var ZE=x((Xxe,nU)=>{"use strict";var{Buffer:A0e}=require("buffer"),{ObjectDefineProperty:Ti,ObjectKeys:Xq,ReflectApply:Zq}=lt(),{promisify:{custom:Qq}}=Ar(),{streamReturningOperators:Jq,promiseReturningOperators:Kq}=Gq(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:eU}}=yr(),C0e=GE(),{setDefaultHighWaterMark:I0e,getDefaultHighWaterMark:N0e}=gu(),{pipeline:tU}=s0(),{destroyer:D0e}=ho(),rU=Si(),QE=XE(),vu=zn(),nt=nU.exports=jp().Stream;nt.isDestroyed=vu.isDestroyed;nt.isDisturbed=vu.isDisturbed;nt.isErrored=vu.isErrored;nt.isReadable=vu.isReadable;nt.isWritable=vu.isWritable;nt.Readable=mu();for(let t of Xq(Jq)){let r=function(...n){if(new.target)throw eU();return nt.Readable.from(Zq(e,this,n))},e=Jq[t];Ti(r,"name",{__proto__:null,value:e.name}),Ti(r,"length",{__proto__:null,value:e.length}),Ti(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of Xq(Kq)){let r=function(...n){if(new.target)throw eU();return Zq(e,this,n)},e=Kq[t];Ti(r,"name",{__proto__:null,value:e.name}),Ti(r,"length",{__proto__:null,value:e.length}),Ti(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}nt.Writable=t0();nt.Duplex=Vn();nt.Transform=ME();nt.PassThrough=FE();nt.pipeline=tU;var{addAbortSignal:O0e}=pu();nt.addAbortSignal=O0e;nt.finished=rU;nt.destroy=D0e;nt.compose=C0e;nt.setDefaultHighWaterMark=I0e;nt.getDefaultHighWaterMark=N0e;Ti(nt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return QE}});Ti(tU,Qq,{__proto__:null,enumerable:!0,get(){return QE.pipeline}});Ti(rU,Qq,{__proto__:null,enumerable:!0,get(){return QE.finished}});nt.Stream=nt;nt._isUint8Array=function(e){return e instanceof Uint8Array};nt._uint8ArrayToBuffer=function(e){return A0e.from(e.buffer,e.byteOffset,e.byteLength)}});var iU=x((Zxe,Ce)=>{"use strict";var kt=require("stream");if(kt&&process.env.READABLE_STREAM==="disable"){let t=kt.promises;Ce.exports._uint8ArrayToBuffer=kt._uint8ArrayToBuffer,Ce.exports._isUint8Array=kt._isUint8Array,Ce.exports.isDisturbed=kt.isDisturbed,Ce.exports.isErrored=kt.isErrored,Ce.exports.isReadable=kt.isReadable,Ce.exports.Readable=kt.Readable,Ce.exports.Writable=kt.Writable,Ce.exports.Duplex=kt.Duplex,Ce.exports.Transform=kt.Transform,Ce.exports.PassThrough=kt.PassThrough,Ce.exports.addAbortSignal=kt.addAbortSignal,Ce.exports.finished=kt.finished,Ce.exports.destroy=kt.destroy,Ce.exports.pipeline=kt.pipeline,Ce.exports.compose=kt.compose,Object.defineProperty(kt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Ce.exports.Stream=kt.Stream}else{let t=ZE(),e=XE(),r=t.Readable.destroy;Ce.exports=t.Readable,Ce.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Ce.exports._isUint8Array=t._isUint8Array,Ce.exports.isDisturbed=t.isDisturbed,Ce.exports.isErrored=t.isErrored,Ce.exports.isReadable=t.isReadable,Ce.exports.Readable=t.Readable,Ce.exports.Writable=t.Writable,Ce.exports.Duplex=t.Duplex,Ce.exports.Transform=t.Transform,Ce.exports.PassThrough=t.PassThrough,Ce.exports.addAbortSignal=t.addAbortSignal,Ce.exports.finished=t.finished,Ce.exports.destroy=t.destroy,Ce.exports.destroy=r,Ce.exports.pipeline=t.pipeline,Ce.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Ce.exports.Stream=t.Stream}Ce.exports.default=Ce.exports});var oU=x((Qxe,sU)=>{"use strict";var{Transform:L0e}=iU(),M0e=Mp(),eS=class extends L0e{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=M0e.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};sU.exports=eS});var lU=x((eve,aU)=>{"use strict";var{DeflateRaw:P0e}=require("zlib"),F0e=Mp(),tS=class extends P0e{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=F0e.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};aU.exports=tS});var rS=x((tve,cU)=>{"use strict";cU.exports={CRC32Stream:oU(),DeflateCRC32Stream:lU()}});var dU=x((sve,fU)=>{var B0e=require("util").inherits,k0e=Mp(),{CRC32Stream:$0e}=rS(),{DeflateCRC32Stream:q0e}=rS(),uU=j_(),rve=Nw(),nve=Cw(),ge=Iw(),ive=U_(),ce=ip(),Kt=fU.exports=function(t){if(!(this instanceof Kt))return new Kt(t);t=this.options=this._defaults(t),uU.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};B0e(Kt,uU);Kt.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};Kt.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(ge.METHOD_STORED);var n=t.getMethod();if(n===ge.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(k0e.buf(e)>>>0)),this._writeLocalFileHeader(t),n===ge.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===ge.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};Kt.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(ge.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};Kt.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=ge.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};Kt.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};Kt.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(ge.METHOD_DEFLATED),t.getMethod()===ge.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(ge.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};Kt.prototype._smartStream=function(t,e){var r=t.getMethod()===ge.METHOD_DEFLATED,n=r?new q0e(this.options.zlib):new $0e,i=null;function s(){var o=n.digest().readUInt32BE(0);t.setCrc(o),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(o){i=o}),n.pipe(this,{end:!1}),n};Kt.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=ge.ZIP64_MAGIC_SHORT,e=ge.ZIP64_MAGIC,r=ge.ZIP64_MAGIC),this.write(ce.getLongBytes(ge.SIG_EOCD)),this.write(ge.SHORT_ZERO),this.write(ge.SHORT_ZERO),this.write(ce.getShortBytes(t)),this.write(ce.getShortBytes(t)),this.write(ce.getLongBytes(e)),this.write(ce.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(ce.getShortBytes(i)),this.write(n)};Kt.prototype._writeCentralDirectoryZip64=function(){this.write(ce.getLongBytes(ge.SIG_ZIP64_EOCD)),this.write(ce.getEightBytes(44)),this.write(ce.getShortBytes(ge.MIN_VERSION_ZIP64)),this.write(ce.getShortBytes(ge.MIN_VERSION_ZIP64)),this.write(ge.LONG_ZERO),this.write(ge.LONG_ZERO),this.write(ce.getEightBytes(this._entries.length)),this.write(ce.getEightBytes(this._entries.length)),this.write(ce.getEightBytes(this._archive.centralLength)),this.write(ce.getEightBytes(this._archive.centralOffset)),this.write(ce.getLongBytes(ge.SIG_ZIP64_EOCD_LOC)),this.write(ge.LONG_ZERO),this.write(ce.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(ce.getLongBytes(1))};Kt.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>ge.ZIP64_MAGIC){i=ge.ZIP64_MAGIC,s=ge.ZIP64_MAGIC,n=ge.ZIP64_MAGIC,t.setVersionNeededToExtract(ge.MIN_VERSION_ZIP64);var o=Buffer.concat([ce.getShortBytes(ge.ZIP64_EXTRA_ID),ce.getShortBytes(24),ce.getEightBytes(t.getSize()),ce.getEightBytes(t.getCompressedSize()),ce.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(ce.getLongBytes(ge.SIG_CFH)),this.write(ce.getShortBytes(t.getPlatform()<<8|ge.VERSION_MADEBY)),this.write(ce.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ce.getShortBytes(r)),this.write(ce.getLongBytes(t.getTimeDos())),this.write(ce.getLongBytes(t.getCrc())),this.write(ce.getLongBytes(s)),this.write(ce.getLongBytes(i));var a=t.getName(),l=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(ce.getShortBytes(a.length)),this.write(ce.getShortBytes(c.length)),this.write(ce.getShortBytes(l.length)),this.write(ge.SHORT_ZERO),this.write(ce.getShortBytes(t.getInternalAttributes())),this.write(ce.getLongBytes(t.getExternalAttributes())),this.write(ce.getLongBytes(n)),this.write(a),this.write(c),this.write(l)};Kt.prototype._writeDataDescriptor=function(t){this.write(ce.getLongBytes(ge.SIG_DD)),this.write(ce.getLongBytes(t.getCrc())),t.isZip64()?(this.write(ce.getEightBytes(t.getCompressedSize())),this.write(ce.getEightBytes(t.getSize()))):(this.write(ce.getLongBytes(t.getCompressedSize())),this.write(ce.getLongBytes(t.getSize())))};Kt.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(ge.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(ce.getLongBytes(ge.SIG_LFH)),this.write(ce.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ce.getShortBytes(r)),this.write(ce.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(ge.LONG_ZERO),this.write(ge.LONG_ZERO),this.write(ge.LONG_ZERO)):(this.write(ce.getLongBytes(t.getCrc())),this.write(ce.getLongBytes(t.getCompressedSize())),this.write(ce.getLongBytes(t.getSize()))),this.write(ce.getShortBytes(n.length)),this.write(ce.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};Kt.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};Kt.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>ge.ZIP64_MAGIC_SHORT||this._archive.centralLength>ge.ZIP64_MAGIC||this._archive.centralOffset>ge.ZIP64_MAGIC};Kt.prototype.setComment=function(t){this._archive.comment=t}});var nS=x((ove,hU)=>{hU.exports={ArchiveEntry:np(),ZipArchiveEntry:Nw(),ArchiveOutputStream:j_(),ZipArchiveOutputStream:dU()}});var gU=x((ave,pU)=>{var U0e=require("util").inherits,sS=nS().ZipArchiveOutputStream,W0e=nS().ZipArchiveEntry,iS=Ea(),il=pU.exports=function(t){if(!(this instanceof il))return new il(t);t=this.options=t||{},t.zlib=t.zlib||{},sS.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};U0e(il,sS);il.prototype._normalizeFileData=function(t){t=iS.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=iS.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=iS.dateify(t.date),t};il.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new W0e(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),sS.prototype.entry.call(this,n,t,r)};il.prototype.finalize=function(){this.finish()}});var mU=x((lve,yU)=>{var j0e=gU(),z0e=Ea(),rs=function(t){if(!(this instanceof rs))return new rs(t);t=this.options=z0e.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new j0e(t)};rs.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};rs.prototype.finalize=function(){this.engine.finalize()};rs.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};rs.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};rs.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};yU.exports=rs});var wU=x((cve,bU)=>{bU.exports=require("events")});var EU=x((fve,_U)=>{_U.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var oS=x((hve,xU)=>{var SU=EU();xU.exports=class{constructor(e){this.hwm=e||16,this.head=new SU(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new SU(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var sl=x((pve,vU)=>{function H0e(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function V0e(t){return Buffer.isEncoding(t)}function G0e(t,e,r){return Buffer.alloc(t,e,r)}function Y0e(t){return Buffer.allocUnsafe(t)}function J0e(t){return Buffer.allocUnsafeSlow(t)}function K0e(t,e){return Buffer.byteLength(t,e)}function X0e(t,e){return Buffer.compare(t,e)}function Z0e(t,e){return Buffer.concat(t,e)}function Q0e(t,e,r,n,i){return Ye(t).copy(e,r,n,i)}function ege(t,e){return Ye(t).equals(e)}function tge(t,e,r,n,i){return Ye(t).fill(e,r,n,i)}function rge(t,e,r){return Buffer.from(t,e,r)}function nge(t,e,r,n){return Ye(t).includes(e,r,n)}function ige(t,e,r,n){return Ye(t).indexOf(e,r,n)}function sge(t,e,r,n){return Ye(t).lastIndexOf(e,r,n)}function oge(t){return Ye(t).swap16()}function age(t){return Ye(t).swap32()}function lge(t){return Ye(t).swap64()}function Ye(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function cge(t,e,r,n){return Ye(t).toString(e,r,n)}function uge(t,e,r,n,i){return Ye(t).write(e,r,n,i)}function fge(t,e){return Ye(t).readDoubleBE(e)}function dge(t,e){return Ye(t).readDoubleLE(e)}function hge(t,e){return Ye(t).readFloatBE(e)}function pge(t,e){return Ye(t).readFloatLE(e)}function gge(t,e){return Ye(t).readInt32BE(e)}function yge(t,e){return Ye(t).readInt32LE(e)}function mge(t,e){return Ye(t).readUInt32BE(e)}function bge(t,e){return Ye(t).readUInt32LE(e)}function wge(t,e,r){return Ye(t).writeDoubleBE(e,r)}function _ge(t,e,r){return Ye(t).writeDoubleLE(e,r)}function Ege(t,e,r){return Ye(t).writeFloatBE(e,r)}function Sge(t,e,r){return Ye(t).writeFloatLE(e,r)}function xge(t,e,r){return Ye(t).writeInt32BE(e,r)}function vge(t,e,r){return Ye(t).writeInt32LE(e,r)}function Tge(t,e,r){return Ye(t).writeUInt32BE(e,r)}function Rge(t,e,r){return Ye(t).writeUInt32LE(e,r)}vU.exports={isBuffer:H0e,isEncoding:V0e,alloc:G0e,allocUnsafe:Y0e,allocUnsafeSlow:J0e,byteLength:K0e,compare:X0e,concat:Z0e,copy:Q0e,equals:ege,fill:tge,from:rge,includes:nge,indexOf:ige,lastIndexOf:sge,swap16:oge,swap32:age,swap64:lge,toBuffer:Ye,toString:cge,write:uge,readDoubleBE:fge,readDoubleLE:dge,readFloatBE:hge,readFloatLE:pge,readInt32BE:gge,readInt32LE:yge,readUInt32BE:mge,readUInt32LE:bge,writeDoubleBE:wge,writeDoubleLE:_ge,writeFloatBE:Ege,writeFloatLE:Sge,writeInt32BE:xge,writeInt32LE:vge,writeUInt32BE:Tge,writeUInt32LE:Rge}});var RU=x((yve,TU)=>{var Age=sl();TU.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return Age.toString(e,this.encoding)}flush(){return""}}});var CU=x((bve,AU)=>{var Cge=sl();AU.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return Cge.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){let s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="\uFFFD");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="\uFFFD";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){let e=this.bytesNeeded>0?"\uFFFD":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}});var NU=x((_ve,IU)=>{var Ige=RU(),Nge=CU();IU.exports=class{constructor(e="utf8"){switch(this.encoding=Dge(e),this.encoding){case"utf8":this.decoder=new Nge;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new Ige(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function Dge(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}});var SS=x((Eve,QU)=>{var{EventEmitter:Oge}=wU(),g0=new Error("Stream was destroyed"),aS=new Error("Premature close"),FU=oS(),Lge=NU(),lS=typeof queueMicrotask>"u"?t=>global.process.nextTick(t):queueMicrotask,pt=(1<<29)-1,Yn=1,gS=2,_o=4,Tu=8,BU=pt^Yn,Mge=pt^gS,Nu=16,ol=32,cl=64,is=128,Du=256,yS=512,Eo=1024,cS=2048,mS=4096,bS=8192,yn=16384,ns=32768,y0=65536,So=131072,kU=Du|yS,Pge=Nu|y0,Fge=cl|Nu,Bge=mS|is,wS=Du|So,kge=pt^Nu,$ge=pt^cl,qge=pt^(cl|y0),DU=pt^y0,Uge=pt^Du,Wge=pt^(is|bS),jge=pt^Eo,OU=pt^kU,$U=pt^ns,zge=pt^ol,qU=pt^So,Hge=pt^wS,Ri=1<<18,ll=2<<18,Ou=4<<18,xo=8<<18,Lu=16<<18,ss=32<<18,uS=64<<18,al=128<<18,_S=256<<18,vo=512<<18,m0=1024<<18,Vge=pt^(Ri|_S),UU=pt^Ou,Gge=pt^(Ri|vo),Yge=pt^Lu,Jge=pt^xo,WU=pt^al,Kge=pt^ll,jU=pt^m0,Ru=Nu|Ri,zU=pt^Ru,ES=yn|ss,Jn=_o|Tu|gS,Fr=Jn|Yn,HU=Jn|ES,Xge=UU&$ge,b0=al|ns,Zge=b0&zU,VU=Fr|Zge,Qge=Fr|Eo|yn,LU=Fr|yn|is,eye=Fr|Eo|is,tye=Fr|mS|is|bS,rye=Fr|Nu|Eo|yn|y0|So,nye=Jn|Eo|yn,iye=ol|Fr|ns|cl,sye=ns|Yn,oye=Fr|vo|ss,aye=xo|Lu,GU=xo|Ri,lye=xo|Lu|Fr|Ri,MU=Fr|Ri|xo|m0,cye=Ou|Ri,uye=Ri|_S,fye=Fr|vo|GU|ss,dye=Lu|Jn|vo|ss,hye=ll|Fr|al|Ou,pye=vo|ss|Jn,u0=Symbol.asyncIterator||Symbol("asyncIterator"),f0=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new FU,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||ZU,this.map=i||n,this.afterWrite=mye.bind(this),this.afterUpdateNextTick=_ye.bind(this)}get ended(){return(this.stream._duplexState&ss)!==0}push(e){return(this.stream._duplexState&pye)!==0?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=xo,!0):(this.stream._duplexState|=aye,!1))}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=Jge),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|vo)&UU}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&MU)===GU;)n.push(i._writableState.shift());if((i._duplexState&Fr)!==0)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=ll;do{for(;(e._duplexState&MU)===xo;){let r=this.shift();e._duplexState|=uye,e._write(r,this.afterWrite)}(e._duplexState&cye)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=Kge}updateNonPrimary(){let e=this.stream;if((e._duplexState&fye)===vo){e._duplexState=e._duplexState|Ri,e._final(yye.bind(this));return}if((e._duplexState&Jn)===_o){(e._duplexState&b0)===0&&(e._duplexState|=Ru,e._destroy(YU.bind(this)));return}(e._duplexState&VU)===Yn&&(e._duplexState=(e._duplexState|Ru)&BU,e._open(JU.bind(this)))}continueUpdate(){return(this.stream._duplexState&al)===0?!1:(this.stream._duplexState&=WU,!0)}updateCallback(){(this.stream._duplexState&hye)===Ou?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&al)===0&&(this.stream._duplexState|=al,(this.stream._duplexState&ll)===0&&lS(this.afterUpdateNextTick))}},fS=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new FU,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=o||s||ZU,this.map=i||n,this.pipeTo=null,this.afterRead=bye.bind(this),this.afterUpdateNextTick=wye.bind(this)}get ended(){return(this.stream._duplexState&yn)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=yS,this.pipeTo=e,this.pipeline=new hS(this.stream,e,r),r&&this.stream.on("error",PU),Iu(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",PU),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",gye.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|Eo)&qge,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=DU,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|is)&DU,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=Wge),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&LU)===is){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=OU),(e._duplexState&cS)!==0&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=So,this.updateNextTick()),null}drain(){let e=this.stream;for(;(e._duplexState&LU)===is&&(e._duplexState&kU)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=OU),(e._duplexState&cS)!==0&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=ol;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&rye)===So;)e._duplexState|=Pge,e._read(this.afterRead),this.drain();(e._duplexState&tye)===Bge&&(e._duplexState|=bS,e.emit("readable")),(e._duplexState&Fge)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=zge}updateNonPrimary(){let e=this.stream;if((e._duplexState&eye)===Eo&&(e._duplexState=(e._duplexState|yn)&jge,e.emit("end"),(e._duplexState&HU)===ES&&(e._duplexState|=_o),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&Jn)===_o){(e._duplexState&b0)===0&&(e._duplexState|=Ru,e._destroy(YU.bind(this)));return}(e._duplexState&VU)===Yn&&(e._duplexState=(e._duplexState|Ru)&BU,e._open(JU.bind(this)))}continueUpdate(){return(this.stream._duplexState&ns)===0?!1:(this.stream._duplexState&=$U,!0)}updateCallback(){(this.stream._duplexState&iye)===cl?this.update():this.updateNextTick()}updateNextTickIfOpen(){(this.stream._duplexState&sye)===0&&(this.stream._duplexState|=ns,(this.stream._duplexState&ol)===0&&lS(this.afterUpdateNextTick))}updateNextTick(){(this.stream._duplexState&ns)===0&&(this.stream._duplexState|=ns,(this.stream._duplexState&ol)===0&&lS(this.afterUpdateNextTick))}},dS=class{constructor(e){this.data=null,this.afterTransform=Sye.bind(e),this.afterFinal=null}},hS=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&yn)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&yn)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function gye(){this.stream._duplexState|=yS,this.updateCallback()}function yye(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&Jn)===0&&(e._duplexState|=ss,e.emit("finish")),(e._duplexState&HU)===ES&&(e._duplexState|=_o),e._duplexState&=Gge,(e._duplexState&ll)===0?this.update():this.updateNextTick()}function YU(t){let e=this.stream;!t&&this.error!==g0&&(t=this.error),t&&e.emit("error",t),e._duplexState|=Tu,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function mye(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=Vge,this.drains!==null&&Eye(this.drains),(e._duplexState&lye)===Lu&&(e._duplexState&=Yge,(e._duplexState&uS)===uS&&e.emit("drain")),this.updateCallback()}function bye(t){t&&this.stream.destroy(t),this.stream._duplexState&=kge,this.readAhead===!1&&(this.stream._duplexState&Du)===0&&(this.stream._duplexState&=qU),this.updateCallback()}function wye(){(this.stream._duplexState&ol)===0&&(this.stream._duplexState&=$U,this.update())}function _ye(){(this.stream._duplexState&ll)===0&&(this.stream._duplexState&=WU,this.update())}function Eye(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function JU(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&_o)===0&&((e._duplexState&Qge)===0&&(e._duplexState|=cl),(e._duplexState&oye)===0&&(e._duplexState|=Ou),e.emit("open")),e._duplexState&=zU,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function Sye(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}function xye(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=cS|wS,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=mS,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=uS,this._writableState.updateNextTick())}var Au=class extends Oge{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Lye.bind(this))),this.on("newListener",xye)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&Tu)!==0}get destroying(){return(this._duplexState&Jn)!==0}destroy(e){(this._duplexState&Jn)===0&&(e||(e=g0),this._duplexState=(this._duplexState|_o)&Xge,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=gS,this._predestroy(),this._duplexState&=Mge,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},d0=class t extends Au{constructor(e){super(e),this._duplexState|=Yn|ss|So,this._readableState=new fS(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=qU),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){let r=new Lge(e),n=this._readableState.map||Rye;return this._readableState.map=i,this;function i(s){let o=r.push(s);return o===""&&(s.byteLength!==0||r.remaining>0)?null:n(o)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=wS,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?Hge:Uge,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(Nye(e))return e;if(e[u0])return this._fromAsyncIterator(e[u0](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&nye)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&Du)===0}[u0](){let e=this,r=null,n=null,i=null;return this.on("error",c=>{r=c}),this.on("readable",s),this.on("close",o),{[u0](){return this},next(){return new Promise(function(c,u){n=c,i=u;let d=e.read();d!==null?a(d):(e._duplexState&Tu)!==0&&a(null)})},return(){return l(null)},throw(c){return l(c)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(c){i!==null&&(r?i(r):c===null&&(e._duplexState&yn)===0?i(g0):n({value:c,done:c===null}),i=n=null)}function l(c){return e.destroy(c),new Promise((u,d)=>{if(e._duplexState&Tu)return u({value:void 0,done:!0});e.once("close",function(){c?d(c):u({value:void 0,done:!0})})})}}},h0=class extends Au{constructor(e){super(e),this._duplexState|=Yn|yn,this._writableState=new f0(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=m0}uncork(){this._duplexState&=jU,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&dye)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,i=(Mye(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&_S?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Cu=class extends d0{constructor(e){super(e),this._duplexState=Yn|this._duplexState&So,this._writableState=new f0(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=m0}uncork(){this._duplexState&=jU,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},p0=class extends Cu{constructor(e){super(e),this._transformState=new dS(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(vye.bind(this))}},pS=class extends p0{};function vye(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function Tye(...t){return new Promise((e,r)=>KU(...t,n=>{if(n)return r(n);e()}))}function KU(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let c=1;c<r.length;c++)s=r[c],Iu(i)?i.pipe(s,l):(a(i,!0,c>1,l),i.pipe(s)),i=s;if(n){let c=!1,u=Iu(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",d=>{o===null&&(o=d)}),s.on("finish",()=>{c=!0,u||n(o)}),u&&s.on("close",()=>n(o||(c?null:aS)))}return s;function a(c,u,d,h){c.on("error",h),c.on("close",f);function f(){if(u&&c._readableState&&!c._readableState.ended||d&&c._writableState&&!c._writableState.ended)return h(aS)}}function l(c){if(!(!c||o)){o=c;for(let u of r)u.destroy(c)}}}function Rye(t){return t}function XU(t){return!!t._readableState||!!t._writableState}function Iu(t){return typeof t._duplexState=="number"&&XU(t)}function Aye(t){return!!t._readableState&&t._readableState.ended}function Cye(t){return!!t._writableState&&t._writableState.ended}function Iye(t,e={}){let r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===g0?null:r}function Nye(t){return Iu(t)&&t.readable}function Dye(t){return(t._duplexState&Yn)!==Yn||(t._duplexState&b0)!==0}function Oye(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function ZU(t){return Oye(t)?t.byteLength:1024}function PU(){}function Lye(){this.destroy(new Error("Stream aborted."))}function Mye(t){return t._writev!==h0.prototype._writev&&t._writev!==Cu.prototype._writev}QU.exports={pipeline:KU,pipelinePromise:Tye,isStream:XU,isStreamx:Iu,isEnded:Aye,isFinished:Cye,isDisturbed:Dye,getStreamError:Iye,Stream:Au,Writable:h0,Readable:d0,Duplex:Cu,Transform:p0,PassThrough:pS}});var TS=x(fl=>{var ke=sl(),Pye="0000000000000000000",Fye="7777777777777777777",w0=48,e6=ke.from([117,115,116,97,114,0]),Bye=ke.from([w0,w0]),kye=ke.from([117,115,116,97,114,32]),$ye=ke.from([32,0]),qye=4095,Mu=257,vS=263;fl.decodeLongPath=function(e,r){return ul(e,0,e.length,r)};fl.encodePax=function(e){let r="";e.name&&(r+=xS(" path="+e.name+`
`)),e.linkname&&(r+=xS(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=xS(" "+i+"="+n[i]+`
`);return ke.from(r)};fl.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(ke.toString(e.subarray(0,n)),10);if(!i)return r;let s=ke.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};fl.encode=function(e){let r=ke.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),ke.byteLength(n)!==n.length)return null;for(;ke.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return ke.byteLength(n)>100||ke.byteLength(i)>155||e.linkname&&ke.byteLength(e.linkname)>100?null:(ke.write(r,n),ke.write(r,as(e.mode&qye,6),100),ke.write(r,as(e.uid,6),108),ke.write(r,as(e.gid,6),116),Gye(e.size,r,124),ke.write(r,as(e.mtime.getTime()/1e3|0,11),136),r[156]=w0+Hye(e.type),e.linkname&&ke.write(r,e.linkname,157),ke.copy(e6,r,Mu),ke.copy(Bye,r,vS),e.uname&&ke.write(r,e.uname,265),e.gname&&ke.write(r,e.gname,297),ke.write(r,as(e.devmajor||0,6),329),ke.write(r,as(e.devminor||0,6),337),i&&ke.write(r,i,345),ke.write(r,as(r6(r),6),148),r)};fl.decode=function(e,r,n){let i=e[156]===0?0:e[156]-w0,s=ul(e,0,100,r),o=os(e,100,8),a=os(e,108,8),l=os(e,116,8),c=os(e,124,12),u=os(e,136,12),d=zye(i),h=e[157]===0?null:ul(e,157,100,r),f=ul(e,265,32),g=ul(e,297,32),p=os(e,329,8),m=os(e,337,8),y=r6(e);if(y===256)return null;if(y!==os(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(Uye(e))e[345]&&(s=ul(e,345,155,r)+"/"+s);else if(!Wye(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:l,size:c,mtime:new Date(1e3*u),type:d,linkname:h,uname:f,gname:g,devmajor:p,devminor:m,pax:null}};function Uye(t){return ke.equals(e6,t.subarray(Mu,Mu+6))}function Wye(t){return ke.equals(kye,t.subarray(Mu,Mu+6))&&ke.equals($ye,t.subarray(vS,vS+2))}function jye(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function zye(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function Hye(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function t6(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function r6(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function as(t,e){return t=t.toString(8),t.length>e?Fye.slice(0,e)+" ":Pye.slice(0,e-t.length)+t+" "}function Vye(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function Gye(t,e,r){t.toString(8).length>11?Vye(t,e,r):ke.write(e,as(t,11),r)}function Yye(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function os(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return Yye(t);{for(;e<t.length&&t[e]===32;)e++;let n=jye(t6(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(ke.toString(t.subarray(e,n)),8)}}function ul(t,e,r,n){return ke.toString(t.subarray(e,t6(t,0,e,e+r)),n)}function xS(t){let e=ke.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var a6=x((xve,o6)=>{var{Writable:Jye,Readable:Kye,getStreamError:n6}=SS(),Xye=oS(),i6=sl(),dl=TS(),Zye=i6.alloc(0),AS=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new Xye,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return Zye;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return i6.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},CS=class extends Kye{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(n6(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=s6(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},IS=class extends Jye{constructor(e){super(e),e||(e={}),this._buffer=new AS,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=RS,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=dl.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=dl.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=dl.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=dl.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?dl.decodePax(e):Object.assign({},this._paxGlobal,dl.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=s6(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new CS(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=RS,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(n6(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",c),this.on("error",h=>{e=h}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(l)},return(){return d(null)},throw(h){return d(h)}};function a(h){if(!s)return;let f=s;s=null,f(h)}function l(h,f){if(e)return f(e);if(i){h({value:i,done:!1}),i=null;return}r=h,n=f,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function c(h,f,g){s=g,f.on("error",RS),r?(r({value:f,done:!1}),r=n=null):i=f}function u(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function d(h){return o.destroy(h),a(h),new Promise((f,g)=>{if(o.destroyed)return f({value:void 0,done:!0});o.once("close",function(){h?g(h):f({value:void 0,done:!0})})})}}};o6.exports=function(e){return new IS(e)};function RS(){}function s6(t){return t&=511,t&&512-t}});var c6=x((vve,NS)=>{var l6={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{NS.exports=require("fs").constants||l6}catch{NS.exports=l6}});var p6=x((Tve,h6)=>{var{Readable:Qye,Writable:eme,getStreamError:u6}=SS(),To=sl(),hl=c6(),_0=TS(),tme=493,rme=420,f6=To.alloc(1024),OS=class extends eme{constructor(e,r,n){super({mapWritable:ime,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?To.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?To.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),d6(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return u6(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},LS=class extends Qye{constructor(e){super(e),this._drain=DS,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=DS),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=nme(e.mode)),e.mode||(e.mode=e.type==="directory"?tme:rme),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=To.from(r));let i=new OS(this,e,n);return To.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(f6),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=_0.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=_0.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(_0.encode(n)),this.push(r),d6(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(_0.encode(n))}_doDrain(){let e=this._drain;this._drain=DS,e()}_predestroy(){let e=u6(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};h6.exports=function(e){return new LS(e)};function nme(t){switch(t&hl.S_IFMT){case hl.S_IFBLK:return"block-device";case hl.S_IFCHR:return"character-device";case hl.S_IFDIR:return"directory";case hl.S_IFIFO:return"fifo";case hl.S_IFLNK:return"symlink"}return"file"}function DS(){}function d6(t,e){e&=511,e&&t.push(f6.subarray(0,512-e))}function ime(t){return To.isBuffer(t)?t:To.from(t)}});var g6=x(MS=>{MS.extract=a6();MS.pack=p6()});var b6=x((Ave,m6)=>{var sme=require("zlib"),ome=g6(),y6=Ea(),Ai=function(t){if(!(this instanceof Ai))return new Ai(t);t=this.options=y6.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=ome.pack(t),this.compressor=!1,t.gzip&&(this.compressor=sme.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};Ai.prototype._onCompressorError=function(t){this.engine.emit("error",t)};Ai.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(o,a){if(o){r(o);return}n.engine.entry(e,a,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(o){r(o,e)});t.pipe(s)}else e.sourceType==="stream"&&y6.collectStream(t,i)};Ai.prototype.finalize=function(){this.engine.finalize()};Ai.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Ai.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};Ai.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};m6.exports=Ai});var E6=x((Cve,_6)=>{"use strict";function ame(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lme=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function w6(t){if(Buffer.isBuffer(t))return t;if(typeof t=="number")return Buffer.alloc(t);if(typeof t=="string")return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function cme(t){let e=w6(4);return e.writeInt32BE(t,0),e}function PS(t,e){t=w6(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~~e^-1;for(var n=0;n<t.length;n++)r=lme[(r^t[n])&255]^r>>>8;return r^-1}function FS(){return cme(PS.apply(null,arguments))}FS.signed=function(){return PS.apply(null,arguments)};FS.unsigned=function(){return PS.apply(null,arguments)>>>0};var ume=FS,fme=ame(ume);_6.exports=fme});var T6=x((Ive,v6)=>{var dme=require("util").inherits,S6=vw().Transform,hme=E6(),x6=Ea(),ls=function(t){if(!(this instanceof ls))return new ls(t);t=this.options=x6.defaults(t,{}),S6.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};dme(ls,S6);ls.prototype._transform=function(t,e,r){r(null,t)};ls.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};ls.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,o){if(s){r(s);return}e.size=o.length||0,e.crc32=hme.unsigned(o),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&x6.collectStream(t,i)};ls.prototype.finalize=function(){this._writeStringified(),this.end()};v6.exports=ls});var A6=x((Nve,R6)=>{var pme=lF(),Pu={},cs=function(t,e){return cs.create(t,e)};cs.create=function(t,e){if(Pu[t]){var r=new pme(t,e);return r.setFormat(t),r.setModule(new Pu[t](e)),r}else throw new Error("create("+t+"): format not registered")};cs.registerFormat=function(t,e){if(Pu[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");Pu[t]=e};cs.isRegisteredFormat=function(t){return!!Pu[t]};cs.registerFormat("zip",mU());cs.registerFormat("tar",b6());cs.registerFormat("json",T6());R6.exports=cs});var I6=x((Dve,C6)=>{"use strict";var{Buffer:pl}=require("buffer"),BS=class{constructor(e=65536){this.chunkSize=e,this.chunks=[],this.currentBuffer=pl.alloc(e),this.cursor=0}_ensureCapacity(e){this.cursor+e>this.chunkSize&&this._flush()}_flush(){this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=pl.alloc(this.chunkSize),this.cursor=0)}write(e){let r=e.length,n=0;for(;r>0;){let i=this.chunkSize-this.cursor;i===0&&(this._flush(),i=this.chunkSize);let s=Math.min(r,i);e.copy(this.currentBuffer,this.cursor,n,n+s),this.cursor+=s,n+=s,r-=s}}writeByte(e){this._ensureCapacity(1),this.currentBuffer[this.cursor]=e,this.cursor++}writeInt32LE(e){this._ensureCapacity(4),this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeDoubleLE(e){this._ensureCapacity(8),this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeString(e){let r=pl.byteLength(e,"utf8");if(this.cursor+r<=this.chunkSize){this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8");return}this._flush(),r>this.chunkSize?this.chunks.push(pl.from(e,"utf8")):this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8")}writeUtf16LE(e){let r=e.length*2;if(this.cursor+r<=this.chunkSize){for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}return}if(this._flush(),r>this.chunkSize)this.chunks.push(pl.from(e,"utf16le"));else for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}}getChunks(){return this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=pl.alloc(this.chunkSize),this.cursor=0),this.chunks}reset(){this.chunks=[],this.cursor=0}};C6.exports=BS});var L6=x((Ove,O6)=>{"use strict";var gme=require("fs"),yme=A6(),{Readable:N6}=require("stream"),D6=I6(),mme=/[\\\/*?\[\]:]/g,kS=class{constructor(e){this.filePath=e,this.output=gme.createWriteStream(e),this.archive=yme("zip"),this.archive.pipe(this.output),this.sheetCount=0,this.sheetList=[],this.sstDic=new Map,this.sstCntUnique=0,this.sstCntAll=0,this.colWidths=[],this._autofilterIsOn=!1,this._oaEpoch=Date.UTC(1899,11,30),this._sheet1Bytes=Buffer.from([129,1,0,147,1,23,203,4,2,0,64,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,148,1,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,1,0,137,1,30,220,3,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,100,0,0,0,0,0,0,0,0,0,0,0,152,1,36,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,1,0,134,1,0,37,6,1,0,2,14,0,128,149,8,2,5,0,38,0,229,3,12,255,255,255,255,8,0,44,1,0,0,0,0,145,1,0,37,6,1,0,2,14,0,128,128,8,2,5,0,38,0,0,25,0,0,0,0,0,0,0,0,44,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,7,12,0,0,0,0,0,0,0,0,0,0,0,0,146,1,0,151,4,66,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,221,3,2,16,0,220,3,48,102,102,102,102,102,102,230,63,102,102,102,102,102,102,230,63,0,0,0,0,0,0,232,63,0,0,0,0,0,0,232,63,51,51,51,51,51,51,211,63,51,51,51,51,51,51,211,63,37,6,1,0,0,16,0,128,128,24,16,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,38,0,130,1,0]),this._workbookBinStart=Buffer.from([131,1,0,128,1,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,120,0,108,0,1,0,0,0,55,0,1,0,0,0,54,0,5,0,0,0,50,0,52,0,51,0,50,0,54,0,153,1,12,32,0,1,0,0,0,0,0,0,0,0,0,37,6,1,0,3,15,0,128,151,16,52,24,0,0,0,67,0,58,0,92,0,115,0,113,0,108,0,115,0,92,0,84,0,101,0,115,0,116,0,121,0,90,0,97,0,112,0,105,0,115,0,117,0,88,0,108,0,115,0,98,0,92,0,38,0,37,6,1,0,0,16,0,128,129,24,130,1,0,0,0,0,0,0,0,0,47,0,0,0,49,0,51,0,95,0,110,0,99,0,114,0,58,0,49,0,95,0,123,0,49,0,54,0,53,0,48,0,56,0,68,0,54,0,57,0,45,0,67,0,70,0,56,0,55,0,45,0,52,0,55,0,54,0,57,0,45,0,56,0,52,0,53,0,54,0,45,0,68,0,52,0,65,0,52,0,48,0,49,0,49,0,51,0,49,0,53,0,54,0,55,0,125,0,47,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,135,1,0,37,6,1,0,2,16,0,128,128,24,16,0,0,0,0,13,0,0,0,255,255,255,255,0,0,0,0,38,0,158,1,29,0,0,0,0,158,22,0,0,180,105,0,0,232,38,0,0,88,2,0,0,0,0,0,0,0,0,0,0,120,136,1,0,143,1,0]),this._workbookBinMiddle=Buffer.from([144,1,0]),this._workbookBinEnd=Buffer.from([157,1,26,53,234,2,0,1,0,0,0,100,0,0,0,252,169,241,210,77,98,80,63,1,0,0,0,106,0,155,1,1,0,35,4,3,15,0,0,171,16,1,1,36,0,132,1,0]),this._stylesBin=Buffer.from([150,2,0,231,4,4,2,0,0,0,44,44,164,0,19,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,92,0,32,0,104,0,104,0,58,0,109,0,109,0,44,30,166,0,12,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,232,4,0,227,4,4,1,0,0,0,43,39,220,0,0,0,144,1,0,0,0,2,0,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,43,39,220,0,1,0,188,2,0,0,0,2,238,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,37,6,1,0,2,14,0,128,129,8,0,38,0,228,4,0,219,4,4,2,0,0,0,45,68,0,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,68,17,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,4,0,229,4,4,1,0,0,0,46,51,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,230,4,0,242,4,4,1,0,0,0,47,16,255,255,0,0,0,0,0,0,0,0,0,0,16,16,0,0,243,4,0,233,4,4,4,0,0,0,47,16,0,0,0,0,0,0,0,0,0,0,0,0,16,16,0,0,47,16,0,0,164,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,166,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,0,1,1,0,0,0,0,0,0,0,16,16,0,0,234,4,0,235,4,4,1,0,0,0,37,6,1,0,2,17,0,128,128,24,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,48,28,0,0,0,0,1,0,0,0,8,0,0,0,78,0,111,0,114,0,109,0,97,0,108,0,110,0,121,0,236,4,0,249,3,4,0,0,0,0,250,3,0,252,3,80,0,0,0,0,17,0,0,0,84,0,97,0,98,0,108,0,101,0,83,0,116,0,121,0,108,0,101,0,77,0,101,0,100,0,105,0,117,0,109,0,50,0,17,0,0,0,80,0,105,0,118,0,111,0,116,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,54,0,253,3,0,35,4,2,14,0,0,235,8,0,246,8,42,0,0,0,0,17,0,0,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,247,8,0,236,8,0,36,0,35,4,3,15,0,0,176,16,0,178,16,50,0,0,0,0,21,0,0,0,84,0,105,0,109,0,101,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,179,16,0,177,16,0,36,0,151,2,0]),this._binaryIndexBin=Buffer.from([42,24,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,2,0]),this._rRkIntegerLowerLimit=-1<<29,this._rRkIntegerUpperLimit=(1<<29)-1,this._autoFilterStartBytes=Buffer.from([161,1,16]),this._autoFilterEndBytes=Buffer.from([162,1,0]),this._stickHeaderA1bytes=Buffer.from([151,1,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,1,0,0,0,0,0,0,0,2,0,0,0,3]),this._magicFilterExcel2016Fix0=Buffer.from([225,2,0,229,2,0,234,2]),this._magicFilterExcel2016Fix1=Buffer.from([39,70,33,0,0,0,0,255,0,0,0,15,0,0,0,95,0,70,0,105,0,108,0,116,0,101,0,114,0,68,0,97,0,116,0,97,0,98,0,97,0,115,0,101,0,15,0,0,0,59,255,0]),this._magicFilterExcel2016Fix2=Buffer.from([0,0,0,0,255,255,255,255])}_sanitizeSheetName(e){if(!e||typeof e!="string")return`Sheet${this.sheetCount+1}`;let r=e.replace(mme,"_");return r.length>31&&(r=r.substring(0,31)),r.trim().length===0&&(r=`Sheet${this.sheetCount+1}`),r}addSheet(e,r=!1){let n=this._sanitizeSheetName(e);this.sheetCount++,this.sheetList.push({name:n,pathInArchive:`xl/worksheets/sheet${this.sheetCount}.bin`,hidden:r,nameInArchive:`sheet${this.sheetCount}.bin`,sheetId:this.sheetCount,filterHeaderRange:null})}writeSheet(e,r=null,n=!0){let i=new D6,s=0;if(e.length>0?s=e[0].length:r&&(s=r.length),this.colWidths=new Array(s).fill(-1),r)for(let u=0;u<s;u++){let h=1.25*(r[u]?r[u].length:0)+2;h>80&&(h=80),this.colWidths[u]<h&&(this.colWidths[u]=h)}for(let u=0;u<Math.min(e.length,100);u++){let d=e[u];for(let h=0;h<d.length;h++){let f=d[h],p=1.25*(f?f.toString().length:0)+2;p>80&&(p=80),this.colWidths[h]<p&&(this.colWidths[h]=p)}}let o=Buffer.from(this._sheet1Bytes),a=0,l=s;o.writeInt32LE(a,40),o.writeInt32LE(l,44),this.sheetCount!==1&&(o[54]=156),i.write(o.subarray(0,84)),n&&r&&i.write(this._stickHeaderA1bytes),i.write(o.subarray(84,159)),i.writeByte(134),i.writeByte(3);for(let u=a;u<l;u++){i.writeByte(0),i.writeByte(60),i.writeByte(18),i.writeInt32LE(u),i.writeInt32LE(u);let d=this.colWidths[u]>0?Math.floor(this.colWidths[u]):10;i.writeByte(0),i.writeByte(Math.max(0,Math.min(255,d))),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(2)}i.writeByte(0),i.writeByte(135),i.writeByte(3),i.writeByte(0),i.write(o.subarray(159,175)),i.write(Buffer.from([38,0]));let c=0;if(r){this.createRowHeader(i,c,a,l);for(let u=0;u<r.length;u++)this.writeString(i,r[u],u,!0);c++}for(let u=0;u<e.length;u++){this.createRowHeader(i,c,a,l);let d=e[u];for(let h=0;h<d.length;h++){let f=d[h];f!=null&&(typeof f=="number"?Number.isInteger(f)?f>=this._rRkIntegerLowerLimit&&f<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(i,f,h):this.writeDouble(i,f,h):this.writeDouble(i,f,h):typeof f=="bigint"?this.writeString(i,f.toString(),h):typeof f=="boolean"?this.writeBool(i,f,h):f instanceof Date?this.writeDateTime(i,f,h):this.writeString(i,f.toString(),h))}c++}if(i.write(o.subarray(218,290)),n&&r){this._autofilterIsOn=!0;let u=0,d=e.length+1;i.write(this._autoFilterStartBytes);let h=Buffer.alloc(8);h.writeInt32LE(0,0),h.writeInt32LE(d-1,4),i.write(h);let f=Buffer.alloc(8);f.writeInt32LE(a,0),f.writeInt32LE(l-1,4),i.write(f),i.write(this._autoFilterEndBytes);let g=this.sheetList[this.sheetCount-1];g.filterData={startRow:0,endRow:e.length,startColumn:a,endColumn:l-1}}i.write(o.subarray(290)),this.archive.append(N6.from(i.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive})}_getColumnLetter(e){if(e<26)return String.fromCharCode(65+e);if(e<702){let r=Math.floor(e/26)-1,n=e%26;return String.fromCharCode(65+r)+String.fromCharCode(65+n)}return"A"}createRowHeader(e,r,n,i){e.writeByte(0),e.writeByte(25),e.writeInt32LE(r),e.writeInt32LE(0),e.writeByte(44),e.writeByte(1),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(1),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeInt32LE(n),e.writeInt32LE(i)}writeRkNumberInteger(e,r,n,i=0){e.writeByte(2),e.writeByte(12),e.writeInt32LE(n),e.writeByte(i),e.writeByte(0),e.writeByte(0),e.writeByte(0);let s=r<<2|2;e.writeInt32LE(s)}writeDouble(e,r,n,i=0){e.writeByte(5),e.writeByte(16),e.writeInt32LE(n),e.writeByte(i),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeDoubleLE(r)}writeBool(e,r,n){e.writeByte(4),e.writeByte(9),e.writeInt32LE(n),e.writeInt32LE(0),e.writeByte(r?1:0)}writeDateTime(e,r,n){let i=r.getTimezoneOffset()*6e4,s=(r.getTime()-i-this._oaEpoch)/864e5;this.writeDouble(e,s,n,1)}writeString(e,r,n,i=!1){let s;this.sstDic.has(r)?s=this.sstDic.get(r):(s=this.sstCntUnique,this.sstDic.set(r,s),this.sstCntUnique++),this.sstCntAll++,e.writeByte(7),e.writeByte(12),e.writeInt32LE(n),e.writeByte(i?3:0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeInt32LE(s)}saveSst(){let e=new D6;e.writeByte(159),e.writeByte(1),e.writeByte(8),e.writeInt32LE(this.sstCntUnique),e.writeInt32LE(this.sstCntAll);for(let[r,n]of this.sstDic){let i=r.length;e.writeByte(19);let s=5+2*i;if(s>=128){e.writeByte(128+s%128);let o=s>>7;o>=256?e.writeByte(128+o%128):e.writeByte(o),e.writeByte(s>>14),s>>14>0&&e.writeByte(0)}else e.writeByte(s&255),e.writeByte(s>>8&255);e.writeInt32LE(i),e.writeUtf16LE(r)}e.writeByte(160),e.writeByte(1),e.writeByte(0),this.archive.append(N6.from(e.getChunks()),{name:"xl/sharedStrings.bin"})}_writeFilterDefinedName(e,r,n){let i=r.filterData,s=r.sheetId-1,o=Buffer.alloc(this._magicFilterExcel2016Fix1.length);this._magicFilterExcel2016Fix1.copy(o);let a=this._magicFilterExcel2016Fix1.length-2;o[7]=s,o[a]=n,e.push(o);let l=Buffer.alloc(8);l.writeInt32LE(i.startRow,0),l.writeInt32LE(i.endRow,4),e.push(l);let c=Buffer.alloc(4);c.writeInt16LE(i.startColumn,0),c.writeInt16LE(i.endColumn,2),e.push(c),e.push(this._magicFilterExcel2016Fix2)}finalize(){return new Promise((e,r)=>{try{this.saveSst(),this.archive.append(this._stylesBin,{name:"xl/styles.bin"});let n=[];n.push(this._workbookBinStart);for(let a of this.sheetList){let l=`rId${a.sheetId}`,c=16+a.name.length*2+l.length*2,u=Buffer.alloc(3+c);u[0]=156,u[1]=1,u[2]=c;let d=3;u.writeInt32LE(a.hidden?1:0,d),d+=4,u.writeInt32LE(a.sheetId,d),d+=4,u.writeInt32LE(l.length,d),d+=4;for(let h=0;h<l.length;h++){let f=l.charCodeAt(h);u[d++]=f&255,u[d++]=f>>8&255}u.writeInt32LE(a.name.length,d),d+=4;for(let h=0;h<a.name.length;h++){let f=a.name.charCodeAt(h);u[d++]=f&255,u[d++]=f>>8&255}n.push(u)}if(n.push(this._workbookBinMiddle),this._autofilterIsOn){let a=this.sheetList.filter(c=>c.filterData),l=a.length;if(l>0){n.push(this._magicFilterExcel2016Fix0);let c=16+(l-1)*12,u=Buffer.from([c,l,0,0,0]);n.push(u);for(let d=0;d<l;d++){let h=a[d].sheetId-1,f=Buffer.alloc(12);f.writeInt32LE(0,0),f[4]=h,f[8]=h,n.push(f)}n.push(Buffer.from([226,2,0]));for(let d=0;d<l;d++){let h=a[d];this._writeFilterDefinedName(n,h,d)}}}n.push(this._workbookBinEnd),this.archive.append(Buffer.concat(n),{name:"xl/workbook.bin"});for(let a of this.sheetList)this.archive.append(this._binaryIndexBin,{name:`xl/worksheets/binaryIndex${a.sheetId}.bin`});let i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default Extension="bin" ContentType="application/vnd.ms-excel.sheet.binary.macroEnabled.main"/>
<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>
<Default Extension="xml" ContentType="application/xml"/>`;for(let a of this.sheetList)i+=`<Override PartName="/${a.pathInArchive}" ContentType="application/vnd.ms-excel.worksheet"/>`,i+=`<Override PartName="/xl/worksheets/binaryIndex${a.sheetId}.bin" ContentType="application/vnd.ms-excel.binIndexWs"/>`;i+=`<Override PartName="/xl/styles.bin" ContentType="application/vnd.ms-excel.styles"/>
<Override PartName="/xl/sharedStrings.bin" ContentType="application/vnd.ms-excel.sharedStrings"/>
</Types>`,this.archive.append(i,{name:"[Content_Types].xml"});let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`;for(let a of this.sheetList){let l=`rId${a.sheetId}`;s+=`<Relationship Id="${l}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/${a.nameInArchive}"/>`}s+=`<Relationship Id="rId${this.sheetList.length+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.bin"/>
<Relationship Id="rId${this.sheetList.length+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.bin"/>
</Relationships>`,this.archive.append(s,{name:"xl/_rels/workbook.bin.rels"}),this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.bin"/>
</Relationships>`,{name:"_rels/.rels"});for(let a of this.sheetList){let l=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.microsoft.com/office/2006/relationships/xlBinaryIndex" Target="binaryIndex${a.sheetId}.bin"/>
</Relationships>`;this.archive.append(l,{name:`xl/worksheets/_rels/${a.nameInArchive}.rels`})}this.output.on("close",()=>e()),this.archive.on("error",a=>r(a)),this.archive.finalize()}catch(n){r(n)}})}};O6.exports=kS});var Ro={};mn(Ro,{copyFileToClipboard:()=>qS,exportCsvToXlsb:()=>_me,exportQueryToXlsb:()=>wme,getTempFilePath:()=>Eme});function bme(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function wme(t,e,r,n=!1,i){let s=null;try{i&&i("Connecting to database...");let o=bme(t);o.port||(o.port=5480);let a=bn();s=new a(o),await s.connect();let l=new P6(r),{SqlParser:c}=await Promise.resolve().then(()=>(xf(),Dv)),u=c.splitStatements(e),d=0,h=0;for(let y=0;y<u.length;y++){let v=u[y];if(!v.trim())continue;let b=u.length>1?`Result ${y+1}`:"Query Results";i&&i(`Executing query ${y+1}/${u.length}...`);try{let I=await s.createCommand(v).executeReader(),O=[];for(let L=0;L<I.fieldCount;L++)O.push(I.getName(L));let A=O.length;h=Math.max(h,A);let k=[],N=0;for(;await I.read();){let L=[];for(let M=0;M<I.fieldCount;M++)L.push(I.getValue(M));k.push(L),N++}d+=N,i&&i(`Writing ${N.toLocaleString()} rows to sheet "${b}"`),l.addSheet(b),l.writeSheet(k,O)}catch(w){l.addSheet(`Error ${y+1}`),l.writeSheet([[`Error executing query: ${w.message}`]],["Error"],!1)}}l.addSheet("SQL Code");let f=[["SQL Query:"],...e.split(`
`).map(y=>[y])];l.writeSheet(f,null,!1),i&&i("Finalizing file..."),await l.finalize();let p=$S.statSync(r).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Total Rows: ${d.toLocaleString()}`),i(`  - File size: ${p.toFixed(1)} MB`),i(`  - Location: ${r}`));let m={success:!0,message:`Successfully exported ${d} rows to ${r}`,details:{rows_exported:d,columns:h,file_size_mb:parseFloat(p.toFixed(1)),file_path:r}};if(n){i&&i("Copying to clipboard...");let y=await qS(r);m.details&&(m.details.clipboard_success=y)}return m}catch(o){return{success:!1,message:`Export error: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}async function _me(t,e,r=!1,n={source:"Unknown"},i){try{i&&i("Initializing XLSB writer...");let s=new P6(e),o=0,a=0,l=[],c=(f,g)=>{let p=[],m=f.split(/\r?\n/),y=w=>{let I=[],O=0,A=!1;for(let N=0;N<w.length;N++)if(w[N]==='"')A=!A;else if(w[N]===","&&!A){let L=w.substring(O,N);L.startsWith('"')&&L.endsWith('"')&&(L=L.substring(1,L.length-1).replace(/""/g,'"')),I.push(L),O=N+1}let k=w.substring(O);return k.startsWith('"')&&k.endsWith('"')&&(k=k.substring(1,k.length-1).replace(/""/g,'"')),I.push(k),I},v=[],b=0;m.forEach((w,I)=>{if(!w.trim())return;let O=y(w);I===0?v=O:(p.push(O),b++)}),v.length>0&&(a=Math.max(a,v.length),s.addSheet(g),s.writeSheet(p,v),o+=b)};if(Array.isArray(t))i&&i(`Processing ${t.length} result sets...`),t.forEach((f,g)=>{let p=f.name||`Result ${g+1}`;i&&i(`Processing sheet "${p}"...`),c(f.csv,p),f.sql&&l.push({name:p,sql:f.sql})});else if(i&&i("Reading CSV content..."),c(t,"Query Results"),n.sql)l.push({name:"Query Results",sql:n.sql});else if(n.source){s.addSheet("CSV Source");let f=[["CSV Source:"],[n.source]];s.writeSheet(f,null,!1)}if(l.length>0){s.addSheet("SQL Code");let f=[];l.forEach(g=>{f.push([`--- SQL for ${g.name} ---`]),g.sql.split(`
`).forEach(p=>{f.push([p])}),f.push([""])}),s.writeSheet(f,null,!1)}i&&i("Finalizing XLSB file..."),await s.finalize();let d=$S.statSync(e).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Rows: ${o.toLocaleString()}`),i(`  - File size: ${d.toFixed(1)} MB`));let h={success:!0,message:`Successfully exported ${o} rows to ${e}`,details:{rows_exported:o,columns:a,file_size_mb:parseFloat(d.toFixed(1)),file_path:e}};if(r){i&&i("Copying file to clipboard...");let f=await qS(e);h.details&&(h.details.clipboard_success=f)}return h}catch(s){return{success:!1,message:`Export failed: ${s.message}`}}}async function qS(t){return E0.platform()!=="win32"?(console.error("Clipboard file copy is only supported on Windows"),!1):new Promise(e=>{try{let r=gl.normalize(gl.resolve(t)),n=`Set-Clipboard -Path "${r.replace(/"/g,'`"')}"`,i=(0,M6.spawn)("powershell.exe",["-NoProfile","-NonInteractive","-Command",n]),s="";i.stderr.on("data",o=>{s+=o.toString()}),i.on("close",o=>{o!==0?(console.error(`PowerShell clipboard copy failed: ${s}`),e(!1)):(console.log(`File copied to clipboard: ${r}`),e(!0))}),i.on("error",o=>{console.error(`Error spawning PowerShell: ${o.message}`),e(!1)})}catch(r){console.error(`Error copying file to clipboard: ${r.message}`),e(!1)}})}function Eme(){let t=E0.tmpdir(),r=`netezza_export_${Date.now()}.xlsb`;return gl.join(t,r)}var $S,gl,E0,M6,P6,Ao=tn(()=>{"use strict";$S=Je(require("fs")),gl=Je(require("path")),E0=Je(require("os")),M6=require("child_process"),P6=L6()});var k6={};mn(k6,{exportToCsv:()=>xme});function Sme(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function xme(t,e,r,n,i){let s=null;try{i&&i.report({message:"Connecting to database..."});let o=Sme(e);o.port||(o.port=5480);let a=bn();s=new a(o),await s.connect(),i&&i.report({message:"Executing query..."});let c=await s.createCommand(r).executeReader();i&&i.report({message:"Writing to CSV..."});let u=B6.createWriteStream(n,{encoding:"utf8",highWaterMark:64*1024}),d=[];for(let p=0;p<c.fieldCount;p++)d.push(c.getName(p));d.length>0&&u.write(d.map(F6).join(",")+`
`);let h=0,f=[],g=500;for(;await c.read();){h++;let p=[];for(let m=0;m<c.fieldCount;m++)p.push(F6(c.getValue(m)));if(f.push(p.join(",")),f.length>=g){let m=u.write(f.join(`
`)+`
`);f=[],m||await new Promise(y=>u.once("drain",y)),i&&h%1e3===0&&i.report({message:`Processed ${h} rows...`})}}f.length>0&&u.write(f.join(`
`)+`
`),u.end(),await new Promise((p,m)=>{u.on("finish",p),u.on("error",m)}),i&&i.report({message:`Completed: ${h} rows exported`})}finally{if(s)try{await s.close()}catch(o){console.error("Error closing connection:",o)}}}function F6(t){if(t==null)return"";let e="";return typeof t=="bigint"?t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?e=Number(t).toString():e=t.toString():t instanceof Date?e=t.toISOString():typeof t=="object"&&Buffer.isBuffer(t)?e=t.toString("hex"):typeof t=="object"?e=JSON.stringify(t):e=String(t),e.includes('"')||e.includes(",")||e.includes(`
`)||e.includes("\r")?`"${e.replace(/"/g,'""')}"`:e}var B6,$6=tn(()=>{"use strict";B6=Je(require("fs"))});var j6=x((Lve,W6)=>{W6.exports=S0;function S0(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}S0.prototype.go=function(t){this.pending<this.max?U6(this,t):this.waiting.push(t)};S0.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};S0.prototype.hold=function(){return q6(this)};function q6(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)U6(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function U6(t,e){e(q6(t))}});var H6=x(Bu=>{var Fu=require("fs"),x0=require("util"),US=require("stream"),z6=US.Readable,WS=US.Writable,vme=US.PassThrough,Tme=j6(),v0=require("events").EventEmitter;Bu.createFromBuffer=Rme;Bu.createFromFd=Ame;Bu.BufferSlicer=Ii;Bu.FdSlicer=Ci;x0.inherits(Ci,v0);function Ci(t,e){e=e||{},v0.call(this),this.fd=t,this.pend=new Tme,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}Ci.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(o){Fu.read(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};Ci.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(o){Fu.write(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};Ci.prototype.createReadStream=function(t){return new T0(this,t)};Ci.prototype.createWriteStream=function(t){return new R0(this,t)};Ci.prototype.ref=function(){this.refCount+=1};Ci.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&Fu.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};x0.inherits(T0,z6);function T0(t,e){e=e||{},z6.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}T0.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=Buffer.allocUnsafe(r);Fu.read(e.context.fd,i,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(i.slice(0,o))),n()})})}};T0.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};x0.inherits(R0,WS);function R0(t,e){e=e||{},WS.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}R0.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();Fu.write(n.context.fd,t,0,t.length,n.pos,function(o,a){o?(n.destroy(),s(),r(o)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),s(),r())})})}};R0.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};x0.inherits(Ii,v0);function Ii(t,e){v0.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}Ii.prototype.read=function(t,e,r,n,i){if(!(0<=e&&e<=t.length))throw new RangeError("offset outside buffer: 0 <= "+e+" <= "+t.length);if(n<0)throw new RangeError("position is negative: "+n);if(e+r>t.length&&(r=t.length-e),n+r>this.buffer.length&&(r=this.buffer.length-n),r<=0){setImmediate(function(){i(null,0)});return}this.buffer.copy(t,e,n,n+r),setImmediate(function(){i(null,r)})};Ii.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};Ii.prototype.createReadStream=function(t){t=t||{};var e=new vme(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};Ii.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new WS(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var o=r.pos+n.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};Ii.prototype.ref=function(){this.refCount+=1};Ii.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Rme(t,e){return new Ii(t,e)}function Ame(t,e){return new Ci(t,e)}});var Y6=x((Pve,G6)=>{var us=require("buffer").Buffer,jS=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(jS=new Int32Array(jS));function V6(t){if(us.isBuffer(t))return t;var e=typeof us.alloc=="function"&&typeof us.from=="function";if(typeof t=="number")return e?us.alloc(t):new us(t);if(typeof t=="string")return e?us.from(t):new us(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Cme(t){var e=V6(4);return e.writeInt32BE(t,0),e}function zS(t,e){t=V6(t),us.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=jS[(r^t[n])&255]^r>>>8;return r^-1}function HS(){return Cme(zS.apply(null,arguments))}HS.signed=function(){return zS.apply(null,arguments)};HS.unsigned=function(){return zS.apply(null,arguments)>>>0};G6.exports=HS});var i3=x(Br=>{var VS=require("fs"),Ime=require("zlib"),J6=H6(),Nme=Y6(),I0=require("util"),N0=require("events").EventEmitter,K6=require("stream").Transform,YS=require("stream").PassThrough,Dme=require("stream").Writable;Br.open=Ome;Br.fromFd=X6;Br.fromBuffer=Lme;Br.fromRandomAccessReader=JS;Br.dosDateTimeToDate=e3;Br.getFileNameLowLevel=t3;Br.validateFileName=r3;Br.parseExtraFields=n3;Br.ZipFile=Xn;Br.Entry=ku;Br.LocalFileHeader=Q6;Br.RandomAccessReader=fs;function Ome(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=C0),VS.open(t,"r",function(n,i){if(n)return r(n);X6(i,e,function(s,o){s&&VS.close(i,C0),r(s,o)})})}function X6(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=C0),VS.fstat(t,function(n,i){if(n)return r(n);var s=J6.createFromFd(t,{autoClose:!0});JS(s,i.size,e,r)})}function Lme(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=J6.createFromBuffer(t,{maxChunkSize:65536});JS(n,t.length,e,r)}function JS(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=C0),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=20,a=65535,l=Math.min(o+s+a,e),c=Ni(l),u=e-c.length;ml(t,c,0,l,u,function(d){if(d)return n(d);for(var h=l-s;h>=0;h-=1)if(c.readUInt32LE(h)===101010256){var f=c.subarray(h),g=f.readUInt16LE(4),p=f.readUInt16LE(10),m=f.readUInt32LE(16),y=f.readUInt16LE(20),v=f.length-s;if(y!==v)return n(new Error("Invalid comment length. Expected: "+v+". Found: "+y+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK\u263A\u263B` in the comment?"));var b=i?A0(f.subarray(22),!1):f.subarray(22);if(h-o>=0&&c.readUInt32LE(h-o)===117853008){var w=c.subarray(h-o,h-o+o),I=yl(w,8),O=Ni(56);return ml(t,O,0,O.length,I,function(A){return A?n(A):O.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(g=O.readUInt32LE(16),g!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+g)):(p=yl(O,32),m=yl(O,48),n(null,new Xn(t,m,e,p,b,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))))})}return g!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+g)):n(null,new Xn(t,m,e,p,b,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))}n(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}I0.inherits(Xn,N0);function Xn(t,e,r,n,i,s,o,a,l,c){var u=this;N0.call(u),u.reader=t,u.reader.on("error",function(d){Z6(u,d)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=n,u.comment=i,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!o,u.decodeStrings=!!a,u.validateEntrySizes=!!l,u.strictFileNames=!!c,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Xn.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function Kn(t,e){t.autoClose&&t.close(),Z6(t,e)}function Z6(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Xn.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Xn.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=Ni(46);ml(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return Kn(t,r);if(!t.emittedError){var n=new ku,i=e.readUInt32LE(0);if(i!==33639248)return Kn(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return Kn(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=Ni(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),ml(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return Kn(t,s);if(!t.emittedError){n.fileNameRaw=e.subarray(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength;n.extraFieldRaw=e.subarray(n.fileNameLength,o),n.fileCommentRaw=e.subarray(o,o+n.fileCommentLength);try{n.extraFields=n3(n.extraFieldRaw)}catch(p){return Kn(t,p)}if(t.decodeStrings){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileComment=A0(n.fileCommentRaw,a),n.fileName=t3(n.generalPurposeBitFlag,n.fileNameRaw,n.extraFields,t.strictFileNames);var l=r3(n.fileName);if(l!=null)return Kn(t,new Error(l))}else n.fileComment=n.fileCommentRaw,n.fileName=n.fileNameRaw;n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1;for(var c=0;c<n.extraFields.length;c++){var u=n.extraFields[c];if(u.id===1){var d=u.data,h=0;if(n.uncompressedSize===4294967295){if(h+8>d.length)return Kn(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=yl(d,h),h+=8}if(n.compressedSize===4294967295){if(h+8>d.length)return Kn(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=yl(d,h),h+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(h+8>d.length)return Kn(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=yl(d,h),h+=8}break}}if(t.validateEntrySizes&&n.compressionMethod===0){var f=n.uncompressedSize;if(n.isEncrypted()&&(f+=12),n.compressedSize!==f){var g="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return Kn(t,new Error(g))}}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};Xn.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null&&(r=e,e=null),e==null)e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));var o;if(t.compressionMethod===0)o=!1;else if(t.compressionMethod===8)o=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));n.readLocalFileHeader(t,{minimal:!0},function(a,l){if(a)return r(a);n.openReadStreamLowLevel(l.fileDataStart,t.compressedSize,i,s,o,t.uncompressedSize,r)})};Xn.prototype.openReadStreamLowLevel=function(t,e,r,n,i,s,o){var a=this,l=t+e,c=a.reader.createReadStream({start:t+r,end:t+n}),u=c;if(i){var d=!1,h=Ime.createInflateRaw();c.on("error",function(f){setImmediate(function(){d||h.emit("error",f)})}),c.pipe(h),a.validateEntrySizes?(u=new $u(s),h.on("error",function(f){setImmediate(function(){d||u.emit("error",f)})}),h.pipe(u)):u=h,GS(u,function(){d=!0,h!==u&&h.unpipe(u),c.unpipe(h),c.destroy()})}o(null,u)};Xn.prototype.readLocalFileHeader=function(t,e,r){var n=this;r==null&&(r=e,e=null),e==null&&(e={}),n.reader.ref();var i=Ni(30);ml(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader,function(s){try{if(s)return r(s);var o=i.readUInt32LE(0);if(o!==67324752)return r(new Error("invalid local file header signature: 0x"+o.toString(16)));var a=i.readUInt16LE(26),l=i.readUInt16LE(28),c=t.relativeOffsetOfLocalHeader+30+a+l;if(c+t.compressedSize>n.fileSize)return r(new Error("file data overflows file bounds: "+c+" + "+t.compressedSize+" > "+n.fileSize));if(e.minimal)return r(null,{fileDataStart:c});var u=new Q6;u.fileDataStart=c,u.versionNeededToExtract=i.readUInt16LE(4),u.generalPurposeBitFlag=i.readUInt16LE(6),u.compressionMethod=i.readUInt16LE(8),u.lastModFileTime=i.readUInt16LE(10),u.lastModFileDate=i.readUInt16LE(12),u.crc32=i.readUInt32LE(14),u.compressedSize=i.readUInt32LE(18),u.uncompressedSize=i.readUInt32LE(22),u.fileNameLength=a,u.extraFieldLength=l,i=Ni(a+l),n.reader.ref(),ml(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader+30,function(d){try{return d?r(d):(u.fileName=i.subarray(0,a),u.extraField=i.subarray(a),r(null,u))}finally{n.reader.unref()}})}finally{n.reader.unref()}})};function ku(){}ku.prototype.getLastModDate=function(t){if(t==null&&(t={}),!t.forceDosFormat)for(var e=0;e<this.extraFields.length;e++){var r=this.extraFields[e];if(r.id===21589){var n=r.data;if(n.length<5)continue;var i=n[0],s=1;if(!(i&s))continue;var o=n.readInt32LE(1);return new Date(o*1e3)}else if(r.id===10)for(var n=r.data,a=4;a<n.length+4;){var l=n.readUInt16LE(a);a+=2;var c=n.readUInt16LE(a);if(a+=2,l!==1){a+=c;continue}if(c<8||a+c>n.length)break;var u=4294967296*n.readInt32LE(a+4)+n.readUInt32LE(a),d=u/1e4-116444736e5;return new Date(d)}}return e3(this.lastModFileDate,this.lastModFileTime,t.timezone)};ku.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};ku.prototype.isCompressed=function(){return this.compressionMethod===8};function Q6(){}function e3(t,e,r){var n=t&31,i=(t>>5&15)-1,s=(t>>9&127)+1980,o=0,a=(e&31)*2,l=e>>5&63,c=e>>11&31;if(r==null||r==="local")return new Date(s,i,n,c,l,a,o);if(r==="UTC")return new Date(Date.UTC(s,i,n,c,l,a,o));throw new Error("unrecognized options.timezone: "+options.timezone)}function t3(t,e,r,n){for(var i=null,s=0;s<r.length;s++){var o=r[s];if(o.id===28789){if(o.data.length<6||o.data.readUInt8(0)!==1)continue;var a=o.data.readUInt32LE(1);if(Nme.unsigned(e)!==a)continue;i=A0(o.data.subarray(5),!0);break}}if(i==null){var l=(t&2048)!==0;i=A0(e,l)}return n||(i=i.replace(/\\/g,"/")),i}function r3(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function n3(t){for(var e=[],r=0;r<t.length-3;){var n=t.readUInt16LE(r+0),i=t.readUInt16LE(r+2),s=r+4,o=s+i;if(o>t.length)throw new Error("extra field length exceeds extra field buffer size");var a=t.subarray(s,o);e.push({id:n,data:a}),r=o}return e}function ml(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,Ni(0))});t.read(e,r,n,i,function(o,a){if(o)return s(o);if(a<n)return s(new Error("unexpected EOF"));s()})}I0.inherits($u,K6);function $u(t){K6.call(this),this.actualByteCount=0,this.expectedByteCount=t}$u.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};$u.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};I0.inherits(fs,N0);function fs(){N0.call(this),this.refCount=0}fs.prototype.ref=function(){this.refCount+=1};fs.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};fs.prototype.createReadStream=function(t){t==null&&(t={});var e=t.start,r=t.end;if(e===r){var n=new YS;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,o=new D0(this);i.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),GS(o,function(){i.unpipe(o),o.unref(),i.destroy()});var a=new $u(r-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),GS(a,function(){s=!0,o.unpipe(a),o.destroy()}),i.pipe(o).pipe(a)};fs.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};fs.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),o=new Dme,a=0;o._write=function(l,c,u){l.copy(t,e+a,0,l.length),a+=l.length,u()},o.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(o)};fs.prototype.close=function(t){setImmediate(t)};I0.inherits(D0,YS);function D0(t){YS.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}D0.prototype._flush=function(t){this.unref(),t()};D0.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var Mme="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function A0(t,e){if(e)return t.toString("utf8");for(var r="",n=0;n<t.length;n++)r+=Mme[t[n]];return r}function yl(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var Ni;typeof Buffer.allocUnsafe=="function"?Ni=function(t){return Buffer.allocUnsafe(t)}:Ni=function(t){return new Buffer(t)};function GS(t,e){typeof t.destroy=="function"?t._destroy=function(r,n){e(),n?.(r)}:t.destroy=e}function C0(t){if(t)throw t}});var XS=x((Bve,s3)=>{"use strict";var KS=class{constructor(){this.fieldCount=0,this.rowCount=0,this.actualSheetName="",this.resultsCount=0,this._oaEpoch=Date.UTC(1899,11,30)}async open(e,r=!0,n=!1){throw new Error("Method 'open' must be implemented.")}async close(){}read(){throw new Error("Method 'read' must be implemented.")}getSheetNames(){throw new Error("Method 'getSheetNames' must be implemented.")}getValue(e){throw new Error("Method 'getValue' must be implemented.")}dispose(){}getDateTimeFromOaDate(e){let r=e*864e5+this._oaEpoch;return new Date(r)}};s3.exports=KS});var a3=x((kve,o3)=>{"use strict";var Pme=i3(),Fme=XS(),ZS=class extends Fme{constructor(){super(),this.zipfile=null,this.sharedStrings=[],this.styles=[],this.sheetNames=[],this.sheets=[],this._currentSheetIndex=-1,this._sheetXml=null,this._xmlPos=0,this._currentRow=[],this.fieldCount=0}async open(e,r=!0){return new Promise((n,i)=>{Pme.open(e,{lazyEntries:!0,autoClose:!1},async(s,o)=>{if(s)return i(s);this.zipfile=o,this.entries=new Map,o.on("entry",a=>{this.entries.set(a.fileName,a),o.readEntry()}),o.on("end",async()=>{try{let a=await this._readZipEntryContent("xl/_rels/workbook.xml.rels"),l={};if(a){let d=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,h;for(;(h=d.exec(a))!==null;)l[h[1]]=h[2];for(let f in l){let g=l[f];g.startsWith("/")&&(g=g.substring(1)),!g.startsWith("xl/")&&!g.startsWith("worksheets/")&&!g.startsWith("theme/")&&!g.startsWith("styles")&&g.startsWith("sharedStrings")}}let c=await this._readZipEntryContent("xl/workbook.xml");if(c){let d=/<sheet[^>]*name="([^"]*)"[^>]*sheetId="([^"]*)"[^>]*r:id="([^"]*)"/g,h;for(;(h=d.exec(c))!==null;){let f=this._unescapeXml(h[1]),g=h[2],p=h[3],y=l[p];y.startsWith("xl/")||(y="xl/"+y),this.sheetNames.push(f),this.sheets.push({name:f,sheetId:g,rId:p,path:y})}}if(r){let d=await this._readZipEntryContent("xl/sharedStrings.xml");d&&this._parseSharedStrings(d)}let u=await this._readZipEntryContent("xl/styles.xml");u&&this._parseStyles(u),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1,n()}catch(a){i(a)}}),o.readEntry()})})}async close(){this.zipfile&&this.zipfile.close()}async _readZipEntryContent(e){let r=this.entries.get(e);return r?new Promise((n,i)=>{this.zipfile.openReadStream(r,(s,o)=>{if(s)return i(s);let a=[];o.on("data",l=>a.push(l)),o.on("end",()=>{n(Buffer.concat(a).toString("utf8"))}),o.on("error",i)})}):null}_unescapeXml(e){return e?e.indexOf("&")===-1?e:e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):""}_parseSharedStrings(e){let r=0;for(;;){let n=e.indexOf("<si>",r);if(n===-1)break;let i=e.indexOf("</si>",n);if(i===-1)break;let s=e.substring(n,i),o="",a=0;for(;;){let l=s.indexOf("<t",a);if(l===-1)break;let c=s.indexOf(">",l),u=s.indexOf("</t>",c);if(u===-1)break;o+=s.substring(c+1,u),a=u+4}this.sharedStrings.push(this._unescapeXml(o)),r=i+5}}_parseStyles(e){let r=/<numFmt\s+[^>]*numFmtId="(\d+)"[^>]*formatCode="([^"]*)"/g,n;for(this.customDateFormats=new Set;(n=r.exec(e))!==null;){let s=parseInt(n[1]),o=n[2];(o.toLowerCase().includes("yy")||o.toLowerCase().includes("mm")||o.toLowerCase().includes("dd")||o.toLowerCase().includes("h:mm"))&&this.customDateFormats.add(s)}this.xfIdToNumFmtId=[];let i=e.indexOf("<cellXfs");if(i!==-1){let s=e.indexOf("</cellXfs>",i);if(s!==-1){let o=e.substring(i,s),a=/<xf\s+[^>]*numFmtId="(\d+)"/g;for(;(n=a.exec(o))!==null;){let l=parseInt(n[1]);this.xfIdToNumFmtId.push(l)}}}}getSheetNames(){return this.sheetNames}async read(){return this._currentSheetIndex===-1&&(this._currentSheetIndex=0,await this._initSheet(this._currentSheetIndex)),!!this._readNextRow()}async _initSheet(e){if(e>=this.sheets.length)return;let r=this.sheets[e];this.actualSheetName=r.name,this._sheetXml=await this._readZipEntryContent(r.path),this._sheetXml||(this._sheetXml=""),this._xmlPos=0;let n=this._sheetXml.indexOf("<sheetData>");n!==-1&&(this._xmlPos=n+11)}_readNextRow(){if(!this._sheetXml)return!1;let e=this._sheetXml.indexOf("<row",this._xmlPos);if(e===-1)return!1;let r=this._sheetXml.indexOf("</row>",e);return r===-1?!1:(this._xmlPos=r+6,this._parseRowByIndex(e,r),!0)}_parseRowByIndex(e,r){this._currentRow=[];let n=this._sheetXml,i=n.indexOf(">",e)+1;for(;i<r;){let s=n.indexOf("<c",i);if(s===-1||s>=r)break;let o=n.indexOf(">",s),a=-1,l="n",c=0,u=s+2;for(;u<o;){for(;n.charCodeAt(u)<=32&&u<o;)u++;if(u>=o)break;let f=u;for(;n.charCodeAt(u)!==61&&u<o;)u++;let g=n.substring(f,u);if(u++,n.charCodeAt(u)===34){u++;let p=u;for(;n.charCodeAt(u)!==34&&u<o;)u++;let m=n.substring(p,u);if(u++,g==="r"){let y=0;for(;y<m.length&&m.charCodeAt(y)>=65;)y++;a=this._columnLetterToIndex(m.substring(0,y))}else g==="t"?l=m:g==="s"&&(c=parseInt(m,10))}}let d=null;if(n.charCodeAt(o-1)===47)i=o+1;else{let f=n.indexOf("</c>",o),g=f!==-1&&f<r?f:r,p=n.indexOf("<v>",o);if(p!==-1&&p<g){let m=p+3,y=n.indexOf("</v>",m);y!==-1&&y<g&&(d=n.substring(m,y))}else if(l==="inlineStr"){let m=n.indexOf("<t",o);if(m!==-1&&m<g){let y=n.indexOf(">",m)+1,v=n.indexOf("</t>",y);v!==-1&&v<g&&(d=n.substring(y,v))}}i=g+4}let h=null;if(d!==null){if(l==="s"){let f=parseInt(d,10);h=this.sharedStrings[f]}else if(l==="b")h=d==="1"||d==="true";else if(l==="inlineStr")h=this._unescapeXml(d);else if((l==="n"||l==="")&&(h=parseFloat(d),c>0&&this.xfIdToNumFmtId)){let f=0;if(c<this.xfIdToNumFmtId.length&&(f=this.xfIdToNumFmtId[c]),f>=14&&f<=22||f>=45&&f<=47||this.customDateFormats&&this.customDateFormats.has(f))try{h=this.getDateTimeFromOaDate(h)}catch{}}}a!==-1&&(this._currentRow[a]=h,a>=this.fieldCount&&(this.fieldCount=a+1))}}_columnLetterToIndex(e){let r=0,n=e.length;for(let i=0;i<n;i++)r+=(e.charCodeAt(i)-64)*Math.pow(26,n-i-1);return r-1}getValue(e){return e<0||e>=this._currentRow.length?null:this._currentRow[e]}};o3.exports=ZS});var QS=x(($ve,l3)=>{l3.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var O0=x(u3=>{var c3={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function Bme(t){return function(...e){return e.length&&(t=t.replace(/\{(\d)\}/g,(r,n)=>e[n]||"")),new Error("ADM-ZIP: "+t)}}for(let t of Object.keys(c3))u3[t]=Bme(c3[t])});var g3=x((Uve,p3)=>{var kme=require("fs"),$t=require("path"),f3=QS(),$me=O0(),qme=typeof process=="object"&&process.platform==="win32",d3=t=>typeof t=="object"&&t!==null,h3=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function wt(t){this.sep=$t.sep,this.fs=kme,d3(t)&&d3(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}p3.exports=wt;wt.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw $me.FILE_IN_THE_WAY(`"${i}"`)}})}r(t)};wt.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=$t.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};wt.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,l){if(o&&l.isDirectory())return i(!1);var c=$t.dirname(t);s.fs.exists(c,function(u){u||s.makeDir(c),s.fs.open(t,"w",438,function(d,h){d?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(f,g){s.fs.write(g,e,0,e.length,0,function(){s.fs.close(g,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):h?s.fs.write(h,e,0,e.length,0,function(){s.fs.close(h,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};wt.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){let l=$t.join(n,a),c=e.fs.statSync(l);(!i||i.test(l))&&o.push($t.normalize(l)+(c.isDirectory()?e.sep:"")),c.isDirectory()&&s&&(o=o.concat(r(l,i,s)))}),o}return r(t,void 0,!0)};wt.prototype.findFilesAsync=function(t,e){let r=this,n=[];r.fs.readdir(t,function(i,s){if(i)return e(i);let o=s.length;if(!o)return e(null,n);s.forEach(function(a){a=$t.join(t,a),r.fs.stat(a,function(l,c){if(l)return e(l);c&&(n.push($t.normalize(a)+(c.isDirectory()?r.sep:"")),c.isDirectory()?r.findFilesAsync(a,function(u,d){if(u)return e(u);n=n.concat(d),--o||e(null,n)}):--o||e(null,n))})})})};wt.prototype.getAttributes=function(){};wt.prototype.setAttributes=function(){};wt.crc32update=function(t,e){return h3[(t^e)&255]^t>>>8};wt.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8"));let e=t.length,r=-1;for(let n=0;n<e;)r=wt.crc32update(r,t[n++]);return~r>>>0};wt.methodToString=function(t){switch(t){case f3.STORED:return"STORED ("+t+")";case f3.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};wt.canonical=function(t){if(!t)return"";let e=$t.posix.normalize("/"+t.split("\\").join("/"));return $t.join(".",e)};wt.zipnamefix=function(t){if(!t)return"";let e=$t.posix.normalize("/"+t.split("\\").join("/"));return $t.posix.join(".",e)};wt.findLast=function(t,e){if(!Array.isArray(t))throw new TypeError("arr is not array");let r=t.length>>>0;for(let n=r-1;n>=0;n--)if(e(t[n],n,t))return t[n]};wt.sanitize=function(t,e){t=$t.resolve($t.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=$t.normalize($t.join(t,r.slice(n,i).join($t.sep)));if(s.indexOf(t)===0)return s}return $t.normalize($t.join(t,$t.basename(e)))};wt.toBuffer=function(e,r){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?r(e):Buffer.alloc(0)};wt.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};wt.fromDOS2Date=function(t){return new Date((t>>25&127)+1980,Math.max((t>>21&15)-1,0),Math.max(t>>16&31,1),t>>11&31,t>>5&63,(t&31)<<1)};wt.fromDate2DOS=function(t){let e=0,r=0;return t.getFullYear()>1979&&(e=(t.getFullYear()-1980&127)<<9|t.getMonth()+1<<5|t.getDate(),r=t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1),e<<16|r};wt.isWin=qme;wt.crcTable=h3});var m3=x((Wve,y3)=>{var Ume=require("path");y3.exports=function(t,{fs:e}){var r=t||"",n=s(),i=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&e.existsSync(r)?(i=e.statSync(r),n.directory=i.isDirectory(),n.mtime=i.mtime,n.atime=i.atime,n.executable=(73&i.mode)!==0,n.readonly=(128&i.mode)===0,n.hidden=Ume.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var w3=x((jve,b3)=>{b3.exports={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}});var wl=x((zve,bl)=>{bl.exports=g3();bl.exports.Constants=QS();bl.exports.Errors=O0();bl.exports.FileAttr=m3();bl.exports.decoder=w3()});var E3=x((Hve,_3)=>{var ds=wl(),Z=ds.Constants;_3.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,l=0,c=0,u=0,d=0,h=0,f=0,g=0;t|=ds.isWin?2560:768,r|=Z.FLG_EFS;let p={extraLen:0},m=b=>Math.max(0,b)>>>0,y=b=>Math.max(0,b)&65535,v=b=>Math.max(0,b)&255;return i=ds.fromDate2DOS(new Date),{get made(){return t},set made(b){t=b},get version(){return e},set version(b){e=b},get flags(){return r},set flags(b){r=b},get flags_efs(){return(r&Z.FLG_EFS)>0},set flags_efs(b){b?r|=Z.FLG_EFS:r&=~Z.FLG_EFS},get flags_desc(){return(r&Z.FLG_DESC)>0},set flags_desc(b){b?r|=Z.FLG_DESC:r&=~Z.FLG_DESC},get method(){return n},set method(b){switch(b){case Z.STORED:this.version=10;case Z.DEFLATED:default:this.version=20}n=b},get time(){return ds.fromDOS2Date(this.timeval)},set time(b){this.timeval=ds.fromDate2DOS(b)},get timeval(){return i},set timeval(b){i=m(b)},get timeHighByte(){return v(i>>>8)},get crc(){return s},set crc(b){s=m(b)},get compressedSize(){return o},set compressedSize(b){o=m(b)},get size(){return a},set size(b){a=m(b)},get fileNameLength(){return l},set fileNameLength(b){l=b},get extraLength(){return c},set extraLength(b){c=b},get extraLocalLength(){return p.extraLen},set extraLocalLength(b){p.extraLen=b},get commentLength(){return u},set commentLength(b){u=b},get diskNumStart(){return d},set diskNumStart(b){d=m(b)},get inAttr(){return h},set inAttr(b){h=m(b)},get attr(){return f},set attr(b){f=m(b)},get fileAttr(){return(f||0)>>16&4095},get offset(){return g},set offset(b){g=m(b)},get encrypted(){return(r&Z.FLG_ENC)===Z.FLG_ENC},get centralHeaderSize(){return Z.CENHDR+l+c+u},get realDataOffset(){return g+Z.LOCHDR+p.fnameLen+p.extraLen},get localHeader(){return p},loadLocalHeaderFromBinary:function(b){var w=b.slice(g,g+Z.LOCHDR);if(w.readUInt32LE(0)!==Z.LOCSIG)throw ds.Errors.INVALID_LOC();p.version=w.readUInt16LE(Z.LOCVER),p.flags=w.readUInt16LE(Z.LOCFLG),p.method=w.readUInt16LE(Z.LOCHOW),p.time=w.readUInt32LE(Z.LOCTIM),p.crc=w.readUInt32LE(Z.LOCCRC),p.compressedSize=w.readUInt32LE(Z.LOCSIZ),p.size=w.readUInt32LE(Z.LOCLEN),p.fnameLen=w.readUInt16LE(Z.LOCNAM),p.extraLen=w.readUInt16LE(Z.LOCEXT);let I=g+Z.LOCHDR+p.fnameLen,O=I+p.extraLen;return b.slice(I,O)},loadFromBinary:function(b){if(b.length!==Z.CENHDR||b.readUInt32LE(0)!==Z.CENSIG)throw ds.Errors.INVALID_CEN();t=b.readUInt16LE(Z.CENVEM),e=b.readUInt16LE(Z.CENVER),r=b.readUInt16LE(Z.CENFLG),n=b.readUInt16LE(Z.CENHOW),i=b.readUInt32LE(Z.CENTIM),s=b.readUInt32LE(Z.CENCRC),o=b.readUInt32LE(Z.CENSIZ),a=b.readUInt32LE(Z.CENLEN),l=b.readUInt16LE(Z.CENNAM),c=b.readUInt16LE(Z.CENEXT),u=b.readUInt16LE(Z.CENCOM),d=b.readUInt16LE(Z.CENDSK),h=b.readUInt16LE(Z.CENATT),f=b.readUInt32LE(Z.CENATX),g=b.readUInt32LE(Z.CENOFF)},localHeaderToBinary:function(){var b=Buffer.alloc(Z.LOCHDR);return b.writeUInt32LE(Z.LOCSIG,0),b.writeUInt16LE(e,Z.LOCVER),b.writeUInt16LE(r,Z.LOCFLG),b.writeUInt16LE(n,Z.LOCHOW),b.writeUInt32LE(i,Z.LOCTIM),b.writeUInt32LE(s,Z.LOCCRC),b.writeUInt32LE(o,Z.LOCSIZ),b.writeUInt32LE(a,Z.LOCLEN),b.writeUInt16LE(l,Z.LOCNAM),b.writeUInt16LE(p.extraLen,Z.LOCEXT),b},centralHeaderToBinary:function(){var b=Buffer.alloc(Z.CENHDR+l+c+u);return b.writeUInt32LE(Z.CENSIG,0),b.writeUInt16LE(t,Z.CENVEM),b.writeUInt16LE(e,Z.CENVER),b.writeUInt16LE(r,Z.CENFLG),b.writeUInt16LE(n,Z.CENHOW),b.writeUInt32LE(i,Z.CENTIM),b.writeUInt32LE(s,Z.CENCRC),b.writeUInt32LE(o,Z.CENSIZ),b.writeUInt32LE(a,Z.CENLEN),b.writeUInt16LE(l,Z.CENNAM),b.writeUInt16LE(c,Z.CENEXT),b.writeUInt16LE(u,Z.CENCOM),b.writeUInt16LE(d,Z.CENDSK),b.writeUInt16LE(h,Z.CENATT),b.writeUInt32LE(f,Z.CENATX),b.writeUInt32LE(g,Z.CENOFF),b},toJSON:function(){let b=function(w){return w+" bytes"};return{made:t,version:e,flags:r,method:ds.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:b(o),size:b(a),fileNameLength:b(l),extraLength:b(c),commentLength:b(u),diskNumStart:d,inAttr:h,attr:f,offset:g,centralHeaderSize:b(Z.CENHDR+l+c+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var x3=x((Vve,S3)=>{var _l=wl(),gt=_l.Constants;S3.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return gt.ENDHDR+i},loadFromBinary:function(s){if((s.length!==gt.ENDHDR||s.readUInt32LE(0)!==gt.ENDSIG)&&(s.length<gt.ZIP64HDR||s.readUInt32LE(0)!==gt.ZIP64SIG))throw _l.Errors.INVALID_END();s.readUInt32LE(0)===gt.ENDSIG?(t=s.readUInt16LE(gt.ENDSUB),e=s.readUInt16LE(gt.ENDTOT),r=s.readUInt32LE(gt.ENDSIZ),n=s.readUInt32LE(gt.ENDOFF),i=s.readUInt16LE(gt.ENDCOM)):(t=_l.readBigUInt64LE(s,gt.ZIP64SUB),e=_l.readBigUInt64LE(s,gt.ZIP64TOT),r=_l.readBigUInt64LE(s,gt.ZIP64SIZE),n=_l.readBigUInt64LE(s,gt.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(gt.ENDHDR+i);return s.writeUInt32LE(gt.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,gt.ENDSUB),s.writeUInt16LE(e,gt.ENDTOT),s.writeUInt32LE(r,gt.ENDSIZ),s.writeUInt32LE(n,gt.ENDOFF),s.writeUInt16LE(i,gt.ENDCOM),s.fill(" ",gt.ENDHDR),s},toJSON:function(){let s=function(o,a){let l=o.toString(16).toUpperCase();for(;l.length<a;)l="0"+l;return"0x"+l};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var tx=x(ex=>{ex.EntryHeader=E3();ex.MainHeader=x3()});var T3=x((Yve,v3)=>{v3.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),l=0;a.fill(0);for(var c=0;c<s.length;c++){var u=s[c];u.copy(a,l),l+=u.length}n&&n(a)}),i.end(t)}}}});var A3=x((Jve,R3)=>{var Wme=+(process.versions?process.versions.node:"").split(".")[0]||0;R3.exports=function(t,e){var r=require("zlib");let n=Wme>=15&&e>0?{maxOutputLength:e}:{};return{inflate:function(){return r.inflateRawSync(t,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],a=0;s.on("data",function(l){o.push(l),a+=l.length}),s.on("end",function(){var l=Buffer.alloc(a),c=0;l.fill(0);for(var u=0;u<o.length;u++){var d=o[u];d.copy(l,c),c+=d.length}i&&i(l)}),s.end(t)}}}});var O3=x((Kve,D3)=>{"use strict";var{randomFillSync:C3}=require("crypto"),jme=O0(),zme=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=e>>>1^3988292384:e>>>=1;return e>>>0}),N3=(t,e)=>Math.imul(t,e)>>>0,I3=(t,e)=>zme[(t^e)&255]^t>>>8,qu=()=>typeof C3=="function"?C3(Buffer.alloc(12)):qu.node();qu.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var L0={genSalt:qu};function M0(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}M0.prototype.updateKeys=function(t){let e=this.keys;return e[0]=I3(e[0],t),e[1]+=e[0]&255,e[1]=N3(e[1],134775813)+1,e[2]=I3(e[2],e[1]>>>24),t};M0.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return N3(t,t^1)>>8&255};function Hme(t){let e=new M0(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function Vme(t){let e=new M0(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function Gme(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=Hme(r),i=n(t.slice(0,12)),s=(e.flags&8)===8?e.timeHighByte:e.crc>>>24;if(i[11]!==s)throw jme.WRONG_PASSWORD();return n(t.slice(12))}function Yme(t){Buffer.isBuffer(t)&&t.length>=12?L0.genSalt=function(){return t.slice(0,12)}:t==="node"?L0.genSalt=qu.node:L0.genSalt=qu}function Jme(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=Vme(r),s=L0.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}D3.exports={decrypt:Gme,encrypt:Jme,_salter:Yme}});var L3=x(P0=>{P0.Deflater=T3();P0.Inflater=A3();P0.ZipCrypto=O3()});var nx=x((Zve,M3)=>{var Ge=wl(),Kme=tx(),_t=Ge.Constants,rx=L3();M3.exports=function(t,e){var r=new Kme.EntryHeader,n=Buffer.alloc(0),i=Buffer.alloc(0),s=!1,o=null,a=Buffer.alloc(0),l=Buffer.alloc(0),c=!0;let u=t,d=typeof u.decoder=="object"?u.decoder:Ge.decoder;c=d.hasOwnProperty("efs")?d.efs:!1;function h(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(l=r.loadLocalHeaderFromBinary(e),e.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(b){if(r.flags_desc){let w={},I=r.realDataOffset+r.compressedSize;if(e.readUInt32LE(I)==_t.LOCSIG||e.readUInt32LE(I)==_t.CENSIG)throw Ge.Errors.DESCRIPTOR_NOT_EXIST();if(e.readUInt32LE(I)==_t.EXTSIG)w.crc=e.readUInt32LE(I+_t.EXTCRC),w.compressedSize=e.readUInt32LE(I+_t.EXTSIZ),w.size=e.readUInt32LE(I+_t.EXTLEN);else if(e.readUInt16LE(I+12)===19280)w.crc=e.readUInt32LE(I+_t.EXTCRC-4),w.compressedSize=e.readUInt32LE(I+_t.EXTSIZ-4),w.size=e.readUInt32LE(I+_t.EXTLEN-4);else throw Ge.Errors.DESCRIPTOR_UNKNOWN();if(w.compressedSize!==r.compressedSize||w.size!==r.size||w.crc!==r.crc)throw Ge.Errors.DESCRIPTOR_FAULTY();if(Ge.crc32(b)!==w.crc)return!1}else if(Ge.crc32(b)!==r.localHeader.crc)return!1;return!0}function g(b,w,I){if(typeof w>"u"&&typeof b=="string"&&(I=b,b=void 0),s)return b&&w&&w(Buffer.alloc(0),Ge.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var O=h();if(O.length===0)return b&&w&&w(O),O;if(r.encrypted){if(typeof I!="string"&&!Buffer.isBuffer(I))throw Ge.Errors.INVALID_PASS_PARAM();O=rx.ZipCrypto.decrypt(O,r,I)}var A=Buffer.alloc(r.size);switch(r.method){case Ge.Constants.STORED:if(O.copy(A),f(A))return b&&w&&w(A),A;throw b&&w&&w(A,Ge.Errors.BAD_CRC()),Ge.Errors.BAD_CRC();case Ge.Constants.DEFLATED:var k=new rx.Inflater(O,r.size);if(b)k.inflateAsync(function(N){N.copy(N,0),w&&(f(N)?w(N):w(N,Ge.Errors.BAD_CRC()))});else{if(k.inflate(A).copy(A,0),!f(A))throw Ge.Errors.BAD_CRC(`"${d.decode(n)}"`);return A}break;default:throw b&&w&&w(Buffer.alloc(0),Ge.Errors.UNKNOWN_METHOD()),Ge.Errors.UNKNOWN_METHOD()}}function p(b,w){if((!o||!o.length)&&Buffer.isBuffer(e))return b&&w&&w(h()),h();if(o.length&&!s){var I;switch(r.method){case Ge.Constants.STORED:return r.compressedSize=r.size,I=Buffer.alloc(o.length),o.copy(I),b&&w&&w(I),I;default:case Ge.Constants.DEFLATED:var O=new rx.Deflater(o);if(b)O.deflateAsync(function(k){I=Buffer.alloc(k.length),r.compressedSize=k.length,k.copy(I),w&&w(I)});else{var A=O.deflate();return r.compressedSize=A.length,A}O=null;break}}else if(b&&w)w(Buffer.alloc(0));else return Buffer.alloc(0)}function m(b,w){return(b.readUInt32LE(w+4)<<4)+b.readUInt32LE(w)}function y(b){try{for(var w=0,I,O,A;w+4<b.length;)I=b.readUInt16LE(w),w+=2,O=b.readUInt16LE(w),w+=2,A=b.slice(w,w+O),w+=O,_t.ID_ZIP64===I&&v(A)}catch{throw Ge.Errors.EXTRA_FIELD_PARSE_ERROR()}}function v(b){var w,I,O,A;b.length>=_t.EF_ZIP64_SCOMP&&(w=m(b,_t.EF_ZIP64_SUNCOMP),r.size===_t.EF_ZIP64_OR_32&&(r.size=w)),b.length>=_t.EF_ZIP64_RHO&&(I=m(b,_t.EF_ZIP64_SCOMP),r.compressedSize===_t.EF_ZIP64_OR_32&&(r.compressedSize=I)),b.length>=_t.EF_ZIP64_DSN&&(O=m(b,_t.EF_ZIP64_RHO),r.offset===_t.EF_ZIP64_OR_32&&(r.offset=O)),b.length>=_t.EF_ZIP64_DSN+4&&(A=b.readUInt32LE(_t.EF_ZIP64_DSN),r.diskNumStart===_t.EF_ZIP64_OR_16&&(r.diskNumStart=A))}return{get entryName(){return d.decode(n)},get rawEntryName(){return n},set entryName(b){n=Ge.toBuffer(b,d.encode);var w=n[n.length-1];s=w===47||w===92,r.fileNameLength=n.length},get efs(){return typeof c=="function"?c(this.entryName):c},get extra(){return a},set extra(b){a=b,r.extraLength=b.length,y(b)},get comment(){return d.decode(i)},set comment(b){if(i=Ge.toBuffer(b,d.encode),r.commentLength=i.length,i.length>65535)throw Ge.Errors.COMMENT_TOO_LONG()},get name(){var b=d.decode(n);return s?b.substr(b.length-1).split("/").pop():b.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return p(!1,null)},getCompressedDataAsync:function(b){p(!0,b)},setData:function(b){o=Ge.toBuffer(b,Ge.decoder.encode),!s&&o.length?(r.size=o.length,r.method=Ge.Constants.DEFLATED,r.crc=Ge.crc32(b),r.changed=!0):r.method=Ge.Constants.STORED},getData:function(b){return r.changed?o:g(!1,null,b)},getDataAsync:function(b,w){r.changed?b(o):g(!0,b,w)},set attr(b){r.attr=b},get attr(){return r.attr},set header(b){r.loadFromBinary(b)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=a.length;var b=r.centralHeaderToBinary(),w=Ge.Constants.CENHDR;return n.copy(b,w),w+=n.length,a.copy(b,w),w+=r.extraLength,i.copy(b,w),b},packLocalHeader:function(){let b=0;r.flags_efs=this.efs,r.extraLocalLength=l.length;let w=r.localHeaderToBinary(),I=Buffer.alloc(w.length+n.length+r.extraLocalLength);return w.copy(I,b),b+=w.length,n.copy(I,b),b+=n.length,l.copy(I,b),b+=l.length,I},toJSON:function(){let b=function(w){return"<"+(w&&w.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:b(e),data:b(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var B3=x((Qve,F3)=>{var P3=nx(),Xme=tx(),or=wl();F3.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new Xme.MainHeader,o=!1,a=null;let l=new Set,c=e,{noSort:u,decoder:d}=c;t?g(c.readEntries):o=!0;function h(){let m=new Set;for(let y of Object.keys(n)){let v=y.split("/");if(v.pop(),!!v.length)for(let b=0;b<v.length;b++){let w=v.slice(0,b+1).join("/")+"/";m.add(w)}}for(let y of m)if(!(y in n)){let v=new P3(c);v.entryName=y,v.attr=16,v.temporary=!0,r.push(v),n[v.entryName]=v,l.add(v)}}function f(){if(o=!0,n={},s.diskEntries>(t.length-s.offset)/or.Constants.CENHDR)throw or.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(s.diskEntries);for(var m=s.offset,y=0;y<r.length;y++){var v=m,b=new P3(c,t);b.header=t.slice(v,v+=or.Constants.CENHDR),b.entryName=t.slice(v,v+=b.header.fileNameLength),b.header.extraLength&&(b.extra=t.slice(v,v+=b.header.extraLength)),b.header.commentLength&&(b.comment=t.slice(v,v+b.header.commentLength)),m+=b.header.centralHeaderSize,r[y]=b,n[b.entryName]=b}l.clear(),h()}function g(m){var y=t.length-or.Constants.ENDHDR,v=Math.max(0,y-65535),b=v,w=t.length,I=-1,O=0;for(typeof c.trailingSpace=="boolean"&&c.trailingSpace&&(v=0),y;y>=b;y--)if(t[y]===80){if(t.readUInt32LE(y)===or.Constants.ENDSIG){I=y,O=y,w=y+or.Constants.ENDHDR,b=y-or.Constants.END64HDR;continue}if(t.readUInt32LE(y)===or.Constants.END64SIG){b=v;continue}if(t.readUInt32LE(y)===or.Constants.ZIP64SIG){I=y,w=y+or.readBigUInt64LE(t,y+or.Constants.ZIP64SIZE)+or.Constants.ZIP64LEAD;break}}if(I==-1)throw or.Errors.INVALID_FORMAT();s.loadFromBinary(t.slice(I,w)),s.commentLength&&(i=t.slice(O+or.Constants.ENDHDR)),m&&f()}function p(){r.length>1&&!u&&r.sort((m,y)=>m.entryName.toLowerCase().localeCompare(y.entryName.toLowerCase()))}return{get entries(){return o||f(),r.filter(m=>!l.has(m))},get comment(){return d.decode(i)},set comment(m){i=or.toBuffer(m,d.encode),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(m){this.entries.forEach(m)},getEntry:function(m){return o||f(),n[m]||null},setEntry:function(m){o||f(),r.push(m),n[m.entryName]=m,s.totalEntries=r.length},deleteFile:function(m,y=!0){o||f();let v=n[m];this.getEntryChildren(v,y).map(w=>w.entryName).forEach(this.deleteEntry)},deleteEntry:function(m){o||f();let y=n[m],v=r.indexOf(y);v>=0&&(r.splice(v,1),delete n[m],s.totalEntries=r.length)},getEntryChildren:function(m,y=!0){if(o||f(),typeof m=="object")if(m.isDirectory&&y){let v=[],b=m.entryName;for(let w of r)w.entryName.startsWith(b)&&v.push(w);return v}else return[m];return[]},getChildCount:function(m){if(m&&m.isDirectory){let y=this.getEntryChildren(m);return y.includes(m)?y.length-1:y.length}return 0},compressToBuffer:function(){o||f(),p();let m=[],y=[],v=0,b=0;s.size=0,s.offset=0;let w=0;for(let A of this.entries){let k=A.getCompressedData();A.header.offset=b;let N=A.packLocalHeader(),L=N.length+k.length;b+=L,m.push(N),m.push(k);let M=A.packCentralHeader();y.push(M),s.size+=M.length,v+=L+M.length,w++}v+=s.mainHeaderSize,s.offset=b,s.totalEntries=w,b=0;let I=Buffer.alloc(v);for(let A of m)A.copy(I,b),b+=A.length;for(let A of y)A.copy(I,b),b+=A.length;let O=s.toBinary();return i&&i.copy(O,or.Constants.ENDHDR),O.copy(I,b),t=I,o=!1,I},toAsyncBuffer:function(m,y,v,b){try{o||f(),p();let w=[],I=[],O=0,A=0,k=0;s.size=0,s.offset=0;let N=function(L){if(L.length>0){let M=L.shift(),Y=M.entryName+M.extra.toString();v&&v(Y),M.getCompressedDataAsync(function(G){b&&b(Y),M.header.offset=A;let Q=M.packLocalHeader(),te=Q.length+G.length;A+=te,w.push(Q),w.push(G);let he=M.packCentralHeader();I.push(he),s.size+=he.length,O+=te+he.length,k++,N(L)})}else{O+=s.mainHeaderSize,s.offset=A,s.totalEntries=k,A=0;let M=Buffer.alloc(O);w.forEach(function(G){G.copy(M,A),A+=G.length}),I.forEach(function(G){G.copy(M,A),A+=G.length});let Y=s.toBinary();i&&i.copy(Y,or.Constants.ENDHDR),Y.copy(M,A),t=M,o=!1,m(M)}};N(Array.from(this.entries))}catch(w){y(w)}}}}});var q3=x((eTe,$3)=>{var yt=wl(),Et=require("path"),Zme=nx(),Qme=B3(),Co=(...t)=>yt.findLast(t,e=>typeof e=="boolean"),k3=(...t)=>yt.findLast(t,e=>typeof e=="string"),ebe=(...t)=>yt.findLast(t,e=>typeof e=="function"),tbe={noSort:!1,readEntries:!1,method:yt.Constants.NONE,fs:null};$3.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),tbe);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=yt.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new yt(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=yt.decoder),t&&typeof t=="string")if(i.fs.existsSync(t))n.method=yt.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw yt.Errors.INVALID_FILENAME();let s=new Qme(r,n),{canonical:o,sanitize:a,zipnamefix:l}=yt;function c(f){if(f&&s){var g;if(typeof f=="string"&&(g=s.getEntry(Et.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(g=s.getEntry(f.entryName)),g)return g}return null}function u(f){let{join:g,normalize:p,sep:m}=Et.posix;return g(".",p(m+f.split("\\").join(m)+m))}function d(f){return f instanceof RegExp?(function(g){return function(p){return g.test(p)}})(f):typeof f!="function"?()=>!0:f}let h=(f,g)=>{let p=g.slice(-1);return p=p===i.sep?i.sep:"",Et.relative(f,g)+p};return{readFile:function(f,g){var p=c(f);return p&&p.getData(g)||null},childCount:function(f){let g=c(f);if(g)return s.getChildCount(g)},readFileAsync:function(f,g){var p=c(f);p?p.getDataAsync(g):g(null,"getEntry failed for:"+f)},readAsText:function(f,g){var p=c(f);if(p){var m=p.getData();if(m&&m.length)return m.toString(g||"utf8")}return""},readAsTextAsync:function(f,g,p){var m=c(f);m?m.getDataAsync(function(y,v){if(v){g(y,v);return}y&&y.length?g(y.toString(p||"utf8")):g("")}):g("")},deleteFile:function(f,g=!0){var p=c(f);p&&s.deleteFile(p.entryName,g)},deleteEntry:function(f){var g=c(f);g&&s.deleteEntry(g.entryName)},addZipComment:function(f){s.comment=f},getZipComment:function(){return s.comment||""},addZipEntryComment:function(f,g){var p=c(f);p&&(p.comment=g)},getZipEntryComment:function(f){var g=c(f);return g&&g.comment||""},updateFile:function(f,g){var p=c(f);p&&p.setData(g)},addLocalFile:function(f,g,p,m){if(i.fs.existsSync(f)){g=g?u(g):"";let y=Et.win32.basename(Et.win32.normalize(f));g+=p||y;let v=i.fs.statSync(f),b=v.isFile()?i.fs.readFileSync(f):Buffer.alloc(0);v.isDirectory()&&(g+=i.sep),this.addFile(g,b,m,v)}else throw yt.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,g){f=typeof f=="object"?f:{localPath:f};let p=Et.resolve(f.localPath),{comment:m}=f,{zipPath:y,zipName:v}=f,b=this;i.fs.stat(p,function(w,I){if(w)return g(w,!1);y=y?u(y):"";let O=Et.win32.basename(Et.win32.normalize(p));if(y+=v||O,I.isFile())i.fs.readFile(p,function(A,k){return A?g(A,!1):(b.addFile(y,k,m,I),setImmediate(g,void 0,!0))});else if(I.isDirectory())return y+=i.sep,b.addFile(y,Buffer.alloc(0),m,I),setImmediate(g,void 0,!0)})},addLocalFolder:function(f,g,p){if(p=d(p),g=g?u(g):"",f=Et.normalize(f),i.fs.existsSync(f)){let m=i.findFiles(f),y=this;if(m.length)for(let v of m){let b=Et.join(g,h(f,v));p(b)&&y.addLocalFile(v,Et.dirname(b))}}else throw yt.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,g,p,m){m=d(m),p=p?u(p):"",f=Et.normalize(f);var y=this;i.fs.open(f,"r",function(v){if(v&&v.code==="ENOENT")g(void 0,yt.Errors.FILE_NOT_FOUND(f));else if(v)g(void 0,v);else{var b=i.findFiles(f),w=-1,I=function(){if(w+=1,w<b.length){var O=b[w],A=h(f,O).split("\\").join("/");A=A.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),m(A)?i.fs.stat(O,function(k,N){k&&g(void 0,k),N.isFile()?i.fs.readFile(O,function(L,M){L?g(void 0,L):(y.addFile(p+A,M,"",N),I())}):(y.addFile(p+A+"/",Buffer.alloc(0),"",N),I())}):process.nextTick(()=>{I()})}else g(!0,void 0)};I()}})},addLocalFolderAsync2:function(f,g){let p=this;f=typeof f=="object"?f:{localPath:f},localPath=Et.resolve(u(f.localPath));let{zipPath:m,filter:y,namefix:v}=f;y instanceof RegExp?y=(function(I){return function(O){return I.test(O)}})(y):typeof y!="function"&&(y=function(){return!0}),m=m?u(m):"",v=="latin1"&&(v=I=>I.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof v!="function"&&(v=I=>I);let b=I=>Et.join(m,v(h(localPath,I))),w=I=>Et.win32.basename(Et.win32.normalize(v(I)));i.fs.open(localPath,"r",function(I){I&&I.code==="ENOENT"?g(void 0,yt.Errors.FILE_NOT_FOUND(localPath)):I?g(void 0,I):i.findFilesAsync(localPath,function(O,A){if(O)return g(O);A=A.filter(k=>y(b(k))),A.length||g(void 0,!1),setImmediate(A.reverse().reduce(function(k,N){return function(L,M){if(L||M===!1)return setImmediate(k,L,!1);p.addLocalFileAsync({localPath:N,zipPath:Et.dirname(b(N)),zipName:w(N)},k)}},g))})})},addLocalFolderPromise:function(f,g){return new Promise((p,m)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},g),(y,v)=>{y&&m(y),v&&p(this)})})},addFile:function(f,g,p,m){f=l(f);let y=c(f),v=y!=null;v||(y=new Zme(n),y.entryName=f),y.comment=p||"";let b=typeof m=="object"&&m instanceof i.fs.Stats;b&&(y.header.time=m.mtime);var w=y.isDirectory?16:0;let I=y.isDirectory?16384:32768;return b?I|=4095&m.mode:typeof m=="number"?I|=4095&m:I|=y.isDirectory?493:420,w=(w|I<<16)>>>0,y.attr=w,y.setData(g),v||s.setEntry(y),y},getEntries:function(f){return s.password=f,s?s.entries:[]},getEntry:function(f){return c(f)},getEntryCount:function(){return s.getEntryCount()},forEach:function(f){return s.forEach(f)},extractEntryTo:function(f,g,p,m,y,v){m=Co(!1,m),y=Co(!1,y),p=Co(!0,p),v=k3(y,v);var b=c(f);if(!b)throw yt.Errors.NO_ENTRY();var w=o(b.entryName),I=a(g,v&&!b.isDirectory?v:p?w:Et.basename(w));if(b.isDirectory){var O=s.getEntryChildren(b);return O.forEach(function(N){if(N.isDirectory)return;var L=N.getData();if(!L)throw yt.Errors.CANT_EXTRACT_FILE();var M=o(N.entryName),Y=a(g,p?M:Et.basename(M));let G=y?N.header.fileAttr:void 0;i.writeFileTo(Y,L,m,G)}),!0}var A=b.getData(s.password);if(!A)throw yt.Errors.CANT_EXTRACT_FILE();if(i.fs.existsSync(I)&&!m)throw yt.Errors.CANT_OVERRIDE();let k=y?f.header.fileAttr:void 0;return i.writeFileTo(I,A,m,k),!0},test:function(f){if(!s)return!1;for(var g in s.entries)try{if(g.isDirectory)continue;var p=s.entries[g].getData(f);if(!p)return!1}catch{return!1}return!0},extractAllTo:function(f,g,p,m){if(p=Co(!1,p),m=k3(p,m),g=Co(!1,g),!s)throw yt.Errors.NO_ZIP();s.entries.forEach(function(y){var v=a(f,o(y.entryName));if(y.isDirectory){i.makeDir(v);return}var b=y.getData(m);if(!b)throw yt.Errors.CANT_EXTRACT_FILE();let w=p?y.header.fileAttr:void 0;i.writeFileTo(v,b,g,w);try{i.fs.utimesSync(v,y.header.time,y.header.time)}catch{throw yt.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,g,p,m){if(m=ebe(g,p,m),p=Co(!1,p),g=Co(!1,g),!m)return new Promise((I,O)=>{this.extractAllToAsync(f,g,p,function(A){A?O(A):I(this)})});if(!s){m(yt.Errors.NO_ZIP());return}f=Et.resolve(f);let y=I=>a(f,Et.normalize(o(I.entryName))),v=(I,O)=>new Error(I+': "'+O+'"'),b=[],w=[];s.entries.forEach(I=>{I.isDirectory?b.push(I):w.push(I)});for(let I of b){let O=y(I),A=p?I.header.fileAttr:void 0;try{i.makeDir(O),A&&i.fs.chmodSync(O,A),i.fs.utimesSync(O,I.header.time,I.header.time)}catch{m(v("Unable to create folder",O))}}w.reverse().reduce(function(I,O){return function(A){if(A)I(A);else{let k=Et.normalize(o(O.entryName)),N=a(f,k);O.getDataAsync(function(L,M){if(M)I(M);else if(!L)I(yt.Errors.CANT_EXTRACT_FILE());else{let Y=p?O.header.fileAttr:void 0;i.writeFileToAsync(N,L,g,Y,function(G){G||I(v("Unable to write file",N)),i.fs.utimes(N,O.header.time,O.header.time,function(Q){Q?I(v("Unable to set times",N)):I()})})}})}}},m)()},writeZip:function(f,g){if(arguments.length===1&&typeof f=="function"&&(g=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var p=s.compressToBuffer();if(p){var m=i.writeFileTo(f,p,!0);typeof g=="function"&&g(m?null:new Error("failed"),"")}}},writeZipPromise:function(f,g){let{overwrite:p,perm:m}=Object.assign({overwrite:!0},g);return new Promise((y,v)=>{!f&&n.filename&&(f=n.filename),f||v("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(b=>{let w=I=>I?y(I):v("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(f,b,p,m,w)},v)})},toBufferPromise:function(){return new Promise((f,g)=>{s.toAsyncBuffer(f,g)})},toBuffer:function(f,g,p,m){return typeof f=="function"?(s.toAsyncBuffer(f,g,p,m),null):s.compressToBuffer()}}}});var W3=x((rTe,U3)=>{"use strict";var{TextDecoder:tTe}=require("util"),ix=class{constructor(e){if(!Buffer.isBuffer(e))throw new Error("BiffReaderWriter expects a Buffer");this.buffer=e,this.pos=0,this.length=e.length,this._isSheet=!1,this._workbookId=0,this._recId=null,this._workbookName=null,this._inCellXf=!1,this._inCellStyleXf=!1,this._inNumberFormat=!1,this._parentCellStyleXf=0,this._numberFormatIndex=0,this._format=0,this._formatString=null,this._sharedStringValue=null,this._sharedStringUniqueCount=0,this._cellType=0,this._intValue=0,this._doubleVal=0,this._boolValue=!1,this._stringValue=null,this._columnNum=-1,this._xfIndex=0,this._readCell=!1,this._rowIndex=-1,this._tempBuf=Buffer.alloc(128),this._xfIndexToNumFmtId=[],this._customNumFmts=new Set}_tryReadVariableValue(){if(this.pos>=this.length)return null;let e=this.buffer[this.pos++],r=(e&127)>>>0;if((e&128)===0)return r;if(this.pos>=this.length)return null;let n=this.buffer[this.pos++];if(r=((n&127)<<7|r)>>>0,(n&128)===0)return r;if(this.pos>=this.length)return null;let i=this.buffer[this.pos++];return r=((i&127)<<14|r)>>>0,(i&128)===0?r:this.pos>=this.length?null:(r=((this.buffer[this.pos++]&127)<<21|r)>>>0,r)}_getDWord(e,r){return e.readUInt32LE(r)}_getInt32(e,r){return e.readInt32LE(r)}_getWord(e,r){return e.readUInt16LE(r)}_getString(e,r,n){let i=r,s=r+n*2;return s>e.length?"":e.toString("utf16le",i,s)}_getNullableString(e,r){let n=this._getDWord(e,r.val);if(r.val+=4,n===4294967295)return null;let i=this._getString(e,r.val,n);return r.val+=n*2,i}readWorkbook(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);if(this.pos+=r,this._isSheet=!1,e===156){this._workbookId=this._getDWord(i,4);let s={val:8};this._recId=this._getNullableString(i,s);let o=this._getDWord(i,s.val);this._workbookName=this._getString(i,s.val+4,o),this._isSheet=!0}return!0}readSharedStrings(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);if(this.pos+=r,this._sharedStringValue=null,e===19){let s=this._getDWord(i,1);this._sharedStringValue=this._getString(i,5,s)}else e===159&&(this._sharedStringUniqueCount=this._getDWord(i,4));return!0}readStyles(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);this.pos+=r;let s=617,o=618,a=626,l=627,c=615,u=616,d=47,h=44;switch(e){case s:this._inCellXf=!0;break;case o:this._inCellXf=!1;break;case a:this._inCellStyleXf=!0;break;case l:this._inCellStyleXf=!1;break;case c:this._inNumberFormat=!0;break;case u:this._inNumberFormat=!1;break;case d:this._inCellXf&&(this._parentCellStyleXf=this._getWord(i,0),this._numberFormatIndex=this._getWord(i,2),this._xfIndexToNumFmtId.push(this._numberFormatIndex));break;case h:if(this._inNumberFormat){this._format=this._getWord(i,0);let f=this._getDWord(i,2);this._formatString=this._getString(i,6,f);let g=this._formatString.toLowerCase();(g.includes("yy")||g.includes("mm")||g.includes("dd")||g.includes("h:mm"))&&this._customNumFmts.add(this._format)}break}return!0}_getRkNumber(e,r){let n=e[r],i=0;if((n&2)!==0)i=e.readInt32LE(r)>>2;else{let o=e.readInt32LE(r)&4294967292,a=Buffer.alloc(8);a.writeInt32LE(0,0),a.writeInt32LE(o,4),i=a.readDoubleLE(0)}return(n&1)!==0&&(i/=100),i}readWorksheet(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);this.pos+=r,this._readCell=!1,this._columnNum=-1;let s=0,o=1,a=2,l=3,c=4,u=5,d=6,h=7,f=8,g=9,p=10,m=11;switch(e){case s:this._rowIndex=this._getInt32(i,0);break;case o:case l:case m:this._readCell=!0,this._cellType=0;break;case a:this._doubleVal=this._getRkNumber(i,8),this._readCell=!0,this._cellType=3;break;case c:case p:this._boolValue=i[8]===1,this._readCell=!0,this._cellType=4;break;case g:case u:this._doubleVal=i.readDoubleLE(8),this._readCell=!0,this._cellType=3;break;case d:case f:{let y=this._getDWord(i,8);this._stringValue=this._getString(i,12,y),this._readCell=!0,this._cellType=5;break}case h:this._intValue=this._getDWord(i,8),this._readCell=!0,this._cellType=2;break}return this._readCell&&(this._columnNum=this._getDWord(i,0),this._xfIndex=this._getDWord(i,4)&16777215),!0}};U3.exports=ix});var z3=x((nTe,j3)=>{"use strict";var rbe=q3(),nbe=XS(),F0=W3(),sx=class extends nbe{constructor(){super(),this.zip=null,this.sharedStrings=[],this.styles=[],this.sheetNames=[],this.sheets=[],this._currentSheetIndex=-1,this._reader=null,this._currentRow=[],this._pendingRowIndex=-1,this._eof=!1}open(e,r=!0){this.zip=new rbe(e);let n=this.zip.getEntry("xl/workbook.bin");if(n){let o=n.getData(),a=new F0(o);for(;a.readWorkbook();)if(a._isSheet){let l=a._workbookName,c=a._recId;this.sheetNames.push(l),this.sheets.push({name:l,rId:c,path:null})}}let i=this.zip.getEntry("xl/_rels/workbook.bin.rels");if(i){let o=i.getData().toString("utf8"),a=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,l,c={};for(;(l=a.exec(o))!==null;)c[l[1]]=l[2];for(let u of this.sheets){let d=c[u.rId];d&&(d.startsWith("/")&&(d=d.substring(1)),d.startsWith("xl/")||(d="xl/"+d),u.path=d)}}if(r){let o="xl/sharedStrings.bin";this.zip.getEntry(o)&&this._readSharedStrings(o)}let s="xl/styles.bin";this.zip.getEntry(s)&&this._readStyles(s),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1}_readSharedStrings(e){let r=this.zip.getEntry(e);if(!r)return;let n=new F0(r.getData());for(;n.readSharedStrings();)n._sharedStringValue!==null&&this.sharedStrings.push(n._sharedStringValue)}_readStyles(e){let r=this.zip.getEntry(e);if(!r)return;let n=new F0(r.getData());for(;n.readStyles(););this.xfIdToNumFmtId=n._xfIndexToNumFmtId,this.customDateFormats=n._customNumFmts}getSheetNames(){return this.sheetNames}read(){if(this._currentSheetIndex===-1&&(this._currentSheetIndex=0,!this._initSheet(0))||this._eof)return!1;for(this._currentRow=[];;){if(!this._reader.readWorksheet())return this._eof=!0,!0;if(this._reader._rowIndex!==-1&&this._reader._rowIndex!==this._pendingRowIndex){let r=this._pendingRowIndex;return this._pendingRowIndex=this._reader._rowIndex,!0}if(this._reader._readCell){let r=this._reader._columnNum,n=null;switch(this._reader._cellType){case 2:n=this.sharedStrings[this._reader._intValue];break;case 3:n=this._reader._doubleVal;let i=this._reader._xfIndex,s=0;if(this.xfIdToNumFmtId&&i<this.xfIdToNumFmtId.length&&(s=this.xfIdToNumFmtId[i]),s>=14&&s<=22||s>=45&&s<=47||this.customDateFormats&&this.customDateFormats.has(s))try{n=this.getDateTimeFromOaDate(n)}catch{}break;case 4:n=this._reader._boolValue;break;case 5:n=this._reader._stringValue;break;default:n=null}this._currentRow[r]=n,r>=this.fieldCount&&(this.fieldCount=r+1)}}}_initSheet(e){if(e>=this.sheets.length)return!1;let r=this.sheets[e],n=this.zip.getEntry(r.path);if(!n)return!1;for(this._reader=new F0(n.getData()),this._eof=!1,this._pendingRowIndex=-1;this._reader.readWorksheet();)if(this._reader._rowIndex!==-1)return this._pendingRowIndex=this._reader._rowIndex,!0;return this._eof=!0,!1}getValue(e){return e<0||e>=this._currentRow.length?null:this._currentRow[e]}};j3.exports=sx});var V3=x((iTe,H3)=>{"use strict";var ibe=a3(),sbe=z3(),obe=require("path"),ox=class{static create(e){let r=obe.extname(e).toLowerCase();if(r===".xlsx")return new ibe;if(r===".xlsb")return new sbe;throw new Error(`Unsupported extension: ${r}`)}};H3.exports=ox});var G3={};mn(G3,{ColumnTypeChooser:()=>El,NetezzaDataType:()=>Zn,NetezzaImporter:()=>B0,importDataToNetezza:()=>lbe});function abe(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function lbe(t,e,r,n,i){let s=Date.now(),o=null;try{if(!t||!br.existsSync(t))return{success:!1,message:`Source file not found: ${t}`};if(!e)return{success:!1,message:"Target table name is required"};if(!r)return{success:!1,message:"Connection string is required"};let l=br.statSync(t).size,c=hs.extname(t).toLowerCase(),u=[".csv",".txt",".xlsx",".xlsb"];if(!u.includes(c))return{success:!1,message:`Unsupported file format: ${c}. Supported: ${u.join(", ")}`};i?.("Starting import process..."),i?.(`  Source file: ${t}`),i?.(`  Target table: ${e}`),i?.(`  File size: ${l.toLocaleString()} bytes`),i?.(`  File format: ${c}`);let d=new B0(t,e,r);await d.analyzeDataTypes(i),i?.("Using file-based import...");let h=await d.createDataFile(i),f=d.generateCreateTableSql();i?.("Generated SQL:"),i?.(f),i?.("Connecting to Netezza...");let g=abe(r);g.port||(g.port=5480);let p=bn();o=new p(g),await o.connect();try{i?.("Executing CREATE TABLE with EXTERNAL data..."),await o.createCommand(f).execute(),i?.("Import completed successfully")}finally{await o.close();try{br.existsSync(h)&&(br.unlinkSync(h),i?.("Temporary data file cleaned up"))}catch(y){i?.(`Warning: Could not clean up temp file: ${y.message}`)}}let m=(Date.now()-s)/1e3;return{success:!0,message:"Import completed successfully",details:{sourceFile:t,targetTable:e,fileSize:l,format:c,rowsProcessed:d.getRowsCount(),rowsInserted:d.getRowsCount(),processingTime:`${m.toFixed(1)}s`,columns:d.getSqlHeaders().length,detectedDelimiter:d.getCsvDelimiter()}}}catch(a){let l=(Date.now()-s)/1e3;return{success:!1,message:`Import failed: ${a.message}`,details:{processingTime:`${l.toFixed(1)}s`}}}finally{if(o&&o._connected)try{await o.close()}catch{}}}var br,hs,ax,Zn,El,B0,lx=tn(()=>{"use strict";br=Je(require("fs")),hs=Je(require("path"));try{ax=V3()}catch(t){console.error("ExcelHelpers/ReaderFactory module not available",t)}Zn=class{constructor(e,r,n,i){this.dbType=e;this.precision=r;this.scale=n;this.length=i}toString(){return["BIGINT","DATE","DATETIME"].includes(this.dbType)?this.dbType:this.dbType==="NUMERIC"?`${this.dbType}(${this.precision},${this.scale})`:this.dbType==="NVARCHAR"?`${this.dbType}(${this.length})`:`TODO !!! ${this.dbType}`}},El=class{constructor(e="."){this.decimalDelimInCsv=".";this.firstTime=!0;this.currentType=new Zn("BIGINT"),this.decimalDelimInCsv=e}getType(e){let r=this.currentType.dbType,n=e.length;if(r==="BIGINT"&&/^\d+$/.test(e)&&n<15)return this.firstTime=!1,new Zn("BIGINT");let i=this.decimalDelimInCsv==="."?"\\.":this.decimalDelimInCsv,s=(e.match(new RegExp(`${i}`,"g"))||[]).length;if(["BIGINT","NUMERIC"].includes(r)&&s<=1){let a=e.replace(this.decimalDelimInCsv,"");if(/^\d+$/.test(a)&&n<15&&(!a.startsWith("0")||s>0||a==="0"))return this.firstTime=!1,new Zn("NUMERIC",16,6)}if((r==="DATE"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=8&&n<=10){let a=e.split("-");if(a.length===3&&a.every(l=>/^\d+$/.test(l)))try{let l=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]));if(!isNaN(l.getTime()))return this.firstTime=!1,new Zn("DATE")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=12&&n<=20){let a=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})[\s|T](\d{2}):(\d{2})(:?(\d{2}))?$/);if(a)try{let l=a[7]?parseInt(a[7]):0,c=new Date(parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),l);if(!isNaN(c.getTime()))return this.firstTime=!1,new Zn("DATETIME")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/\./g)||[]).length>=2){let a=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(a)try{let l=parseInt(a[1]),c=parseInt(a[2])-1,u=parseInt(a[3]),d=a[4]?parseInt(a[4]):0,h=a[5]?parseInt(a[5]):0,f=a[6]?parseInt(a[6]):0;if(c>=0&&c<=11&&l>=1&&l<=31){let g=new Date(u,c,l,d,h,f);if(!isNaN(g.getTime())&&g.getFullYear()===u&&g.getMonth()===c&&g.getDate()===l)return this.firstTime=!1,new Zn("DATETIME")}}catch{}}let o=Math.max(n+5,20);return this.currentType.length!==void 0&&o<this.currentType.length&&(o=this.currentType.length),this.firstTime=!1,new Zn("NVARCHAR",void 0,void 0,o)}refreshCurrentType(e){return this.currentType=this.getType(e),this.currentType}},B0=class{constructor(e,r,n,i){this.delimiter="	";this.delimiterPlain="\\t";this.recordDelim=`
`;this.recordDelimPlain="\\n";this.escapechar="\\";this.csvDelimiter=",";this.excelData=[];this.isExcelFile=!1;this.sqlHeaders=[];this.dataTypes=[];this.rowsCount=0;this.valuesToEscape=[];this.filePath=e,this.targetTable=r,this.connectionString=n,this.logDir=i||hs.join(hs.dirname(e),"netezza_logs");let s=hs.extname(e).toLowerCase();this.isExcelFile=[".xlsx",".xlsb"].includes(s);let o=Math.floor(Math.random()*1e3);this.pipeName=`\\\\.\\pipe\\NETEZZA_IMPORT_${o}`,this.valuesToEscape=[this.escapechar,this.recordDelim,"\r",this.delimiter],br.existsSync(this.logDir)||br.mkdirSync(this.logDir,{recursive:!0})}detectCsvDelimiter(){let r=br.readFileSync(this.filePath,"utf-8").split(`
`)[0]||"";r.startsWith("\uFEFF")&&(r=r.slice(1));let n=[";","	","|",","],i={};for(let o of n)i[o]=(r.match(new RegExp(o==="|"?"\\|":o,"g"))||[]).length;let s=Math.max(...Object.values(i));s>0&&(this.csvDelimiter=Object.keys(i).find(o=>i[o]===s)||",")}cleanColumnName(e){let r=String(e).trim();return r=r.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!r||/^\d/.test(r))&&(r="COL_"+r),r}parseCsvLine(e){let r=[],n="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];o==='"'?i&&e[s+1]==='"'?(n+='"',s++):i=!i:o===this.csvDelimiter&&!i?(r.push(n),n=""):n+=o}return r.push(n),r}async readExcelFile(e){if(!ax)throw new Error("ReaderFactory module not available");e?.("Reading Excel file...");let r=ax.create(this.filePath);await r.open(this.filePath);let n=[],i=o=>{if(o==null)return"";if(o instanceof Date){let a=l=>l<10?"0"+l:l;return`${o.getFullYear()}-${a(o.getMonth()+1)}-${a(o.getDate())} ${a(o.getHours())}:${a(o.getMinutes())}:${a(o.getSeconds())}`}return String(o)},s=0;for(;await r.read();){let o=[],a=r._currentRow;if(a&&Array.isArray(a))for(let l=0;l<a.length;l++)o.push(i(a[l]));n.push(o),s++,s%1e4===0&&e?.(`Processed ${s.toLocaleString()} rows...`)}return typeof r.close=="function"&&await r.close(),e?.(`Excel file loaded: ${n.length} rows`),n}async analyzeDataTypes(e){e?.("Analyzing data types...");let r;if(this.isExcelFile)this.excelData=await this.readExcelFile(e),r=this.excelData;else{this.detectCsvDelimiter();let i=br.readFileSync(this.filePath,"utf-8");i.startsWith("\uFEFF")&&(i=i.slice(1));let s=i.split(/\r?\n/);r=[];for(let o of s)o.trim()&&r.push(this.parseCsvLine(o))}if(!r||r.length===0)throw new Error("No data found in file");let n=[];this.sqlHeaders=r[0].map(i=>this.cleanColumnName(i||"COLUMN"));for(let i=0;i<r[0].length;i++)n.push(new El);for(let i=1;i<r.length;i++){let s=r[i];for(let o=0;o<s.length;o++)o<n.length&&s[o]&&s[o].trim()&&n[o].refreshCurrentType(s[o].trim());i%1e4===0&&e?.(`Analyzed ${i.toLocaleString()} rows...`)}return this.rowsCount=r.length-1,e?.(`Analysis complete: ${this.rowsCount.toLocaleString()} rows`),this.dataTypes=n,n}escapeValue(e){let r=String(e).trim();for(let n of this.valuesToEscape)r=r.split(n).join(`${this.escapechar}${n}`);return r}formatValue(e,r){let n=this.escapeValue(e);return r<this.dataTypes.length&&this.dataTypes[r].currentType.dbType==="DATETIME"&&(n=n.replace("T"," ")),n}generateCreateTableSql(){let e=[];for(let n=0;n<this.sqlHeaders.length;n++){let i=this.sqlHeaders[n],s=this.dataTypes[n];e.push(`        ${i} ${s.currentType.toString()}`)}let r=this.logDir.replace(/\\/g,"/");return`CREATE TABLE ${this.targetTable} AS 
(
    SELECT * FROM EXTERNAL '${this.pipeName}'
    (
${e.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${this.delimiterPlain}'
        RecordDelim '${this.recordDelimPlain}'
        ESCAPECHAR '${this.escapechar}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${r}'
    )
) DISTRIBUTE ON RANDOM;`}async createDataFile(e){let r=hs.join(this.logDir,`netezza_import_data_${Math.floor(Math.random()*1e3)}.txt`);e?.(`Creating temporary data file: ${r}`);try{let n;if(this.isExcelFile){if(!this.excelData||this.excelData.length===0)throw new Error("Excel data not loaded. Call analyzeDataTypes first.");n=this.excelData.slice(1)}else{let s=br.readFileSync(this.filePath,"utf-8");s.startsWith("\uFEFF")&&(s=s.slice(1));let o=s.split(/\r?\n/);n=[];let a=!0;for(let l of o)if(l.trim()){if(a){a=!1;continue}n.push(this.parseCsvLine(l))}}let i=[];for(let s=0;s<n.length;s++){let a=n[s].map((l,c)=>this.formatValue(l||"",c));i.push(a.join(this.delimiter)),(s+1)%1e4===0&&e?.(`Processed ${(s+1).toLocaleString()} rows...`)}return br.writeFileSync(r,i.join(this.recordDelim),"utf-8"),this.pipeName=r.replace(/\\/g,"/"),e?.(`Data file created: ${this.pipeName}`),r}catch(n){throw new Error(`Error creating data file: ${n.message}`)}}getRowsCount(){return this.rowsCount}getSqlHeaders(){return this.sqlHeaders}getCsvDelimiter(){return this.csvDelimiter}}});var J3={};mn(J3,{ClipboardDataProcessor:()=>k0,importClipboardDataToNetezza:()=>hbe});function cbe(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}function ube(t){let e=String(t).trim();return e=e.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!e||/^\d/.test(e))&&(e="COL_"+e),e}function fbe(t,e,r){let n=String(t).trim();for(let i of r)n=n.split(i).join(`${e}${i}`);return n}function dbe(t,e,r,n,i){let s=fbe(t,n,i);return e<r.length&&r[e].currentType.dbType==="DATETIME"&&(s=s.replace("T"," ")),s}async function hbe(t,e,r,n,i){let s=Date.now(),o=null,a=null;try{if(!t)return{success:!1,message:"Target table name is required"};if(!e)return{success:!1,message:"Connection string is required"};i?.("Starting clipboard import process..."),i?.(`  Target table: ${t}`),i?.(`  Format preference: ${r||"auto-detect"}`);let l=new k0,[c,u]=await l.processClipboardData(r,i);if(!c||!c.length)return{success:!1,message:"No data found in clipboard"};if(c.length<2)return{success:!1,message:"Clipboard data must contain at least headers and one data row"};i?.(`  Detected format: ${u}`),i?.(`  Rows: ${c.length}`),i?.(`  Columns: ${c[0].length}`);let d=c[0].map(se=>ube(se)),h=c.slice(1);i?.("Detecting decimal separator...");let f=".",g=0,p=0,m=h.slice(0,100);for(let se of m)for(let We of se){if(!We||!We.trim())continue;let pe=We.trim();/^\d+\.\d+$/.test(pe)&&g++,/^\d+,\d+$/.test(pe)&&p++}p>g&&p>0&&(f=","),i?.(`Detected decimal separator: '${f}'`),i?.("Analyzing clipboard data types...");let y=d.map(()=>new El(f));for(let se=0;se<h.length;se++){let We=h[se];for(let pe=0;pe<We.length;pe++)pe<y.length&&We[pe]&&We[pe].trim()&&y[pe].refreshCurrentType(We[pe].trim());(se+1)%1e3===0&&i?.(`Analyzed ${(se+1).toLocaleString()} rows...`)}i?.(`Analysis complete: ${h.length.toLocaleString()} data rows`);let v=cx.join(require("os").tmpdir(),"netezza_clipboard_logs");Di.existsSync(v)||Di.mkdirSync(v,{recursive:!0});let b="	",w="\\t",I=`
`,O="\\n",A="\\",k=[A,I,"\r",b];o=cx.join(v,`netezza_clipboard_import_${Math.floor(Math.random()*1e3)}.txt`),i?.(`Creating temporary data file: ${o}`);let N=[];for(let se=0;se<h.length;se++){let pe=h[se].map((S,B)=>{let F=dbe(S,B,y,A,k);if(y[B].currentType.dbType==="NUMERIC"&&f===","&&(F=F.replace(",",".")),y[B].currentType.dbType==="DATETIME"){let j=F.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(j){let W=j[1],H=j[2],J=j[3],V=j[4]||"00",K=j[5]||"00",ee=j[6]||"00";F=`${J}-${H}-${W} ${V}:${K}:${ee}`}}return F});N.push(pe.join(b)),(se+1)%1e3===0&&i?.(`Processed ${(se+1).toLocaleString()} rows...`)}Di.writeFileSync(o,N.join(I),"utf-8");let L=o.replace(/\\/g,"/");i?.(`Data file created: ${L}`);let M=[];for(let se=0;se<d.length;se++)M.push(`        ${d[se]} ${y[se].currentType.toString()}`);let Y=v.replace(/\\/g,"/"),G=`CREATE TABLE ${t} AS 
(
    SELECT * FROM EXTERNAL '${L}'
    (
${M.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${w}'
        RecordDelim '${O}'
        ESCAPECHAR '${A}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${Y}'
    )
) DISTRIBUTE ON RANDOM;`;i?.("Generated SQL:"),i?.(G),i?.("Connecting to Netezza...");let Q=cbe(e);Q.port||(Q.port=5480);let te=bn();a=new te(Q),await a.connect();try{i?.("Executing CREATE TABLE with EXTERNAL clipboard data..."),await a.createCommand(G).execute(),i?.("Clipboard import completed successfully")}finally{await a.close()}let he=(Date.now()-s)/1e3;return{success:!0,message:"Clipboard import completed successfully",details:{targetTable:t,format:u,rowsProcessed:h.length,rowsInserted:h.length,processingTime:`${he.toFixed(1)}s`,columns:d.length,detectedDelimiter:b}}}catch(l){let c=(Date.now()-s)/1e3;return{success:!1,message:`Clipboard import failed: ${l.message}`,details:{processingTime:`${c.toFixed(1)}s`}}}finally{if(a&&a._connected)try{await a.close()}catch{}if(o&&Di.existsSync(o))try{Di.unlinkSync(o),i?.("Temporary clipboard data file cleaned up")}catch(l){i?.(`Warning: Could not clean up temp file: ${l.message}`)}}}var Di,cx,Y3,k0,K3=tn(()=>{"use strict";Di=Je(require("fs")),cx=Je(require("path")),Y3=Je(require("vscode"));lx();k0=class{constructor(){this.processedData=[]}processXmlSpreadsheet(e,r){r?.("Processing XML Spreadsheet data...");let n=[],i=0,s=[],o=0,a=e.match(/ExpandedColumnCount="(\d+)"/);a&&(i=parseInt(a[1]),r?.(`Table has ${i} columns`));let l=e.match(/ExpandedRowCount="(\d+)"/);l&&r?.(`Table has ${l[1]} rows`);let c=/<Row[^>]*>([\s\S]*?)<\/Row>/gi,u;for(;(u=c.exec(e))!==null;){let d=u[1];s=new Array(i).fill("");let h=/<Cell(?:\s+[^>]*ss:Index="(\d+)")?[^>]*>[\s\S]*?<Data[^>]*>([^<]*)<\/Data>[\s\S]*?<\/Cell>|<Cell(?:\s+[^>]*ss:Index="(\d+)")?[^>]*\/>/gi,f,g=0,p=/<Cell(?:[^>]*ss:Index="(\d+)")?[^>]*>(?:[\s\S]*?<Data[^>]*(?:\s+ss:Type="([^"]*)")?[^>]*>([^<]*)<\/Data>)?[\s\S]*?<\/Cell>/gi;for(;(f=p.exec(d))!==null;){f[1]&&(g=parseInt(f[1])-1);let m=f[2]||"",y=f[3]||"";m==="Boolean"&&(y=y==="0"?"False":"True"),g<i&&(s[g]=y),g++}s.some(m=>m.trim())&&n.push([...s]),o++,o%1e4===0&&r?.(`Analyzed ${o.toLocaleString()} rows...`)}return r?.(`XML processing complete: ${n.length} rows, ${i} columns`),this.processedData=n,n}processTextData(e,r){if(r?.("Processing text data..."),!e.trim())return[];let n=e.split(`
`);for(;n.length&&!n[n.length-1].trim();)n.pop();if(!n.length)return[];let i=["	",",",";","|"],s={};for(let c of i){let u=[];for(let d of n.slice(0,Math.min(5,n.length)))if(d.trim()){let h=d.split(c);u.push(h.length)}if(u.length){let d=u.reduce((f,g)=>f+g,0)/u.length,h=u.reduce((f,g)=>f+Math.pow(g-d,2),0)/u.length;s[c]=[d,-h]}}let o="	";Object.keys(s).length&&(o=Object.keys(s).reduce((c,u)=>{let[d,h]=s[c]||[0,0],[f,g]=s[u];return f>d||f===d&&g>h?u:c},"	")),r?.(`Auto-detected delimiter: '${o==="	"?"\\t":o}'`);let a=[],l=0;for(let c of n)if(c.trim()){let u=c.split(o).map(d=>d.trim());a.push(u),l=Math.max(l,u.length)}for(let c of a)for(;c.length<l;)c.push("");return r?.(`Text processing complete: ${a.length} rows, ${l} columns`),this.processedData=a,a}async getClipboardText(){return await Y3.env.clipboard.readText()}async processClipboardData(e,r){r?.("Getting clipboard data...");let n=await this.getClipboardText();if(!n)throw new Error("No data found in clipboard");r?.(`Data size: ${n.length} characters`);let i="TEXT";e==="XML Spreadsheet"||!e&&n.includes("<Workbook")&&n.includes("<Worksheet")?i="XML Spreadsheet":e==="TEXT"&&(i="TEXT"),r?.(`Detected format: ${i}`);let s;return i==="XML Spreadsheet"?s=this.processXmlSpreadsheet(n,r):s=this.processTextData(n,r),r?.(`Processed ${s.length} rows`),s.length&&r?.(`Columns per row: ${s[0].length}`),[s,i]}}});var mbe={};mn(mbe,{activate:()=>gbe,deactivate:()=>ybe});module.exports=zW(mbe);var T=Je(require("vscode"));$o();ag();var Dr=Je(require("vscode")),wf=class t{constructor(e,r,n){this.extensionUri=r;this.connectionManager=n;this._disposables=[];this._panel=e,this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.html=this._getHtmlForWebview(this._panel.webview),this._panel.webview.onDidReceiveMessage(async i=>{switch(i.command){case"save":try{await this.connectionManager.saveConnection(i.data),Dr.window.showInformationMessage(`Connection '${i.data.name}' saved and activated!`),this.sendConnectionsToWebview()}catch(s){Dr.window.showErrorMessage(`Error saving: ${s.message}`)}return;case"delete":try{await Dr.window.showWarningMessage(`Are you sure you want to delete '${i.name}'?`,{modal:!0},"Yes","No")==="Yes"&&(await this.connectionManager.deleteConnection(i.name),Dr.window.showInformationMessage(`Connection '${i.name}' deleted.`),this.sendConnectionsToWebview())}catch(s){Dr.window.showErrorMessage(`Error deleting: ${s.message}`)}return;case"loadConnections":this.sendConnectionsToWebview();return}},null,this._disposables)}async sendConnectionsToWebview(){let e=await this.connectionManager.getConnections(),r=this.connectionManager.getActiveConnectionName();await this._panel.webview.postMessage({command:"updateConnections",connections:e,activeName:r})}static createOrShow(e,r){let n=Dr.window.activeTextEditor?Dr.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n);return}let i=Dr.window.createWebviewPanel("netezzaLogin","Connect to Netezza",n||Dr.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getHtmlForWebview(e){let r=e.asWebviewUri(Dr.Uri.joinPath(this.extensionUri,"netezza_icon64.png"));return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Connect to Netezza</title>
            <style>
                :root {
                    --container-paddding: 20px;
                    --input-padding-vertical: 6px;
                    --input-padding-horizontal: 8px;
                    --input-margin-vertical: 4px;
                    --input-margin-horizontal: 0;
                }
                body {
                    font-family: var(--vscode-font-family);
                    padding: 0;
                    margin: 0;
                    color: var(--vscode-foreground);
                    background-color: var(--vscode-editor-background);
                    display: flex;
                    height: 100vh;
                    overflow: hidden;
                }
                
                /* Sidebar */
                .sidebar {
                    width: 260px;
                    background-color: var(--vscode-sideBar-background);
                    border-right: 1px solid var(--vscode-panel-border);
                    display: flex;
                    flex-direction: column;
                    flex-shrink: 0;
                    user-select: none;
                }
                .sidebar-header {
                    padding: 10px 15px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    background-color: var(--vscode-sideBarSectionHeader-background);
                }
                .sidebar-title {
                    font-weight: bold;
                    font-size: 11px;
                    text-transform: uppercase;
                    color: var(--vscode-sideBarTitle-foreground);
                }
                .connection-list {
                    flex: 1;
                    overflow-y: auto;
                    padding: 0;
                }
                .connection-item {
                    padding: 8px 15px;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    border-left: 3px solid transparent;
                    color: var(--vscode-sideBar-foreground);
                }
                .connection-item:hover {
                    background-color: var(--vscode-list-hoverBackground);
                }
                .connection-item.active {
                    background-color: var(--vscode-list-activeSelectionBackground);
                    color: var(--vscode-list-activeSelectionForeground);
                    border-left-color: var(--vscode-focusBorder);
                }
                .connection-item .name {
                    flex: 1;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                .connection-item .status {
                    font-size: 0.8em;
                    margin-left: 5px;
                    opacity: 0.7;
                }

                /* Main Content */
                .main {
                    flex: 1;
                    padding: 40px;
                    overflow-y: auto;
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                }
                .form-container {
                    width: 100%;
                    max-width: 500px;
                    background-color: var(--vscode-editorWidget-background);
                    border: 1px solid var(--vscode-widget-border);
                    padding: 30px;
                    border-radius: 4px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
                
                h2 {
                    margin-top: 0;
                    margin-bottom: 25px;
                    font-size: 1.4em;
                    font-weight: 500;
                    padding-bottom: 10px;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .form-group {
                    margin-bottom: 18px;
                }
                .form-row {
                    display: flex;
                    gap: 15px;
                }
                .form-col {
                    flex: 1;
                }

                label {
                    display: block;
                    margin-bottom: 6px;
                    font-weight: 600;
                    font-size: 12px;
                    color: var(--vscode-input-placeholderForeground);
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }

                input, select {
                    width: 100%;
                    padding: 8px 10px;
                    box-sizing: border-box;
                    background: var(--vscode-input-background);
                    color: var(--vscode-input-foreground);
                    border: 1px solid var(--vscode-input-border);
                    border-radius: 2px;
                    font-family: inherit;
                    font-size: 13px;
                }
                input:focus, select:focus {
                    border-color: var(--vscode-focusBorder);
                    outline: 1px solid var(--vscode-focusBorder);
                }
                
                /* Buttons */
                .actions {
                    margin-top: 30px;
                    display: flex;
                    gap: 12px;
                    padding-top: 20px;
                    border-top: 1px solid var(--vscode-panel-border);
                }
                button {
                    background: var(--vscode-button-background);
                    color: var(--vscode-button-foreground);
                    padding: 8px 16px;
                    border: none;
                    cursor: pointer;
                    border-radius: 2px;
                    font-size: 13px;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                button:hover {
                    background: var(--vscode-button-hoverBackground);
                }
                button.secondary {
                    background: var(--vscode-button-secondaryBackground);
                    color: var(--vscode-button-secondaryForeground);
                }
                button.secondary:hover {
                    background: var(--vscode-button-secondaryHoverBackground);
                }
                button.danger {
                    background: var(--vscode-errorForeground);
                    color: white;
                }
                button.icon-btn {
                    padding: 4px;
                    background: transparent;
                    color: var(--vscode-icon-foreground);
                }
                button.icon-btn:hover {
                    background: var(--vscode-toolbar-hoverBackground);
                }

                .icon-img {
                    width: 16px;
                    height: 16px;
                    object-fit: contain;
                }
                .logo-header {
                    width: 32px;
                    height: 32px;
                    margin-right: 10px;
                }

            </style>
        </head>
        <body>
            <div class="sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-title">Saved Connections</span>
                    <button class="icon-btn" id="btnNew" title="New Connection">
                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14 7v1H8v6H7V8H1V7h6V1h1v6h6z"/></svg>
                    </button>
                </div>
                <div id="connectionList" class="connection-list"></div>
            </div>
            
            <div class="main">
                <div class="form-container">
                    <h2 id="formTitle">
                        <img src="${r}" class="logo-header" />
                        New Connection
                    </h2>
                    
                    <div class="form-group">
                        <label for="name">Connection Name</label>
                        <input type="text" id="name" placeholder="Friendly name (e.g. Production)">
                    </div>

                    <div class="form-group">
                        <label for="dbType">
                            Database Type 
                            <img src="${r}" class="icon-img" />
                        </label>
                        <select id="dbType">
                            <option value="NetezzaSQL">NetezzaSQL</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="host">Host</label>
                                <input type="text" id="host" placeholder="Hostname or IP">
                            </div>
                        </div>
                        <div class="form-col" style="flex: 0 0 80px;">
                            <div class="form-group">
                                <label for="port">Port</label>
                                <input type="number" id="port" value="5480">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="database">
                            Database
                        </label>
                        <input type="text" id="database" placeholder="Database name" value="system">
                    </div>

                    <div class="form-row">
                         <div class="form-col">
                            <div class="form-group">
                                <label for="user">User</label>
                                <input type="text" id="user" placeholder="Username">
                            </div>
                         </div>
                         <div class="form-col">
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" id="password" placeholder="Password">
                            </div>
                         </div>
                    </div>
                    
                    <div class="actions">
                        <button id="btnSave" onclick="save()">Save & Connect</button>
                        <button id="btnDelete" class="danger" onclick="del()" style="display: none;">Delete</button>
                    </div>
                </div>
            </div>

            <script>
                const vscode = acquireVsCodeApi();
                let connections = [];
                let activeName = null;
                let currentEditName = null;
                const iconSrc = "${r}";

                // Load initial data
                window.addEventListener('message', event => {
                    const message = event.data;
                    switch (message.command) {
                        case 'updateConnections':
                            connections = message.connections;
                            activeName = message.activeName;
                            renderList();
                            break;
                    }
                });
                
                vscode.postMessage({ command: 'loadConnections' });

                document.getElementById('btnNew').addEventListener('click', () => {
                    clearForm();
                });

                function renderList() {
                    const list = document.getElementById('connectionList');
                    list.innerHTML = '';
                    
                    connections.forEach(conn => {
                        const div = document.createElement('div');
                        div.className = 'connection-item';
                        if (conn.name === currentEditName) {
                             div.classList.add('active');
                        }
                        
                        div.innerHTML = \`<span class="name"><img src="\${iconSrc}" class="icon-img"> \${conn.name}</span>\`;
                        if (conn.name === activeName) {
                            div.innerHTML += \`<span class="status">\u25CF</span>\`;
                            div.title = 'Active Connection';
                        }
                        
                        div.onclick = () => loadForm(conn);
                        list.appendChild(div);
                    });
                }

                function loadForm(conn) {
                    currentEditName = conn.name;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> Edit Connection\`;
                    document.getElementById('name').value = conn.name;
                    document.getElementById('dbType').value = conn.dbType || 'NetezzaSQL';
                    document.getElementById('host').value = conn.host;
                    document.getElementById('port').value = conn.port;
                    document.getElementById('database').value = conn.database;
                    document.getElementById('user').value = conn.user;
                    document.getElementById('password').value = conn.password || ''; 
                    
                    document.getElementById('btnDelete').style.display = 'block';
                    renderList();
                }

                function clearForm() {
                    currentEditName = null;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> New Connection\`;
                    document.getElementById('name').value = '';
                    document.getElementById('dbType').value = 'NetezzaSQL';
                    document.getElementById('host').value = '';
                    document.getElementById('port').value = '5480';
                    document.getElementById('database').value = 'system';
                    document.getElementById('user').value = '';
                    document.getElementById('password').value = '';
                    
                    document.getElementById('btnDelete').style.display = 'none';
                    renderList();
                }

                function save() {
                    const name = document.getElementById('name').value;
                    if (!name) {
                        return; // Add validation UI?
                    }
                    
                    const data = {
                        name: name,
                        dbType: document.getElementById('dbType').value,
                        host: document.getElementById('host').value,
                        port: parseInt(document.getElementById('port').value),
                        database: document.getElementById('database').value,
                        user: document.getElementById('user').value,
                        password: document.getElementById('password').value
                    };
                    
                    vscode.postMessage({
                        command: 'save',
                        data: data
                    });
                }

                function del() {
                    if (currentEditName) {
                        vscode.postMessage({
                            command: 'delete',
                            name: currentEditName
                        });
                    }
                }
            </script>
        </body>
        </html>`}};Ll();var St=Je(require("vscode"));var Ir=Je(require("vscode")),Ef=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(i=>{switch(i.command){case"alert":Ir.window.showErrorMessage(i.text);return;case"info":Ir.window.showInformationMessage(i.text);return}},null,this._disposables)}static{this.viewType="netezza.analysisPanel"}static createOrShow(e,r){let n=Ir.window.activeTextEditor?Ir.ViewColumn.Beside:void 0,i=Ir.window.createWebviewPanel(t.viewType,"Data Analysis",n||Ir.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Ir.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(i,e,r)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){let r=this._panel.webview;this._panel.title="Data Analysis",this._panel.webview.html=this._getHtmlForWebview(r,e)}_getHtmlForWebview(e,r){let n=Ir.Uri.joinPath(this._extensionUri,"media","analysisPanel.js"),i=e.asWebviewUri(n),s=Ir.Uri.joinPath(this._extensionUri,"media","analysisPanel.css"),o=e.asWebviewUri(s),a=e.asWebviewUri(Ir.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),l=e.asWebviewUri(Ir.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),c=Z4();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}'; font-src ${e.cspSource};">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${o}" rel="stylesheet">

            <title>Data Analysis</title>
        </head>
        <body>
            <div id="app">
                <div class="sidebar">
                    <div class="section">
                        <h3>Fields</h3>
                        <div id="fieldList" class="field-list"></div>
                    </div>
                </div>
                <div class="main-content">
                    <div class="filter-section" style="margin-bottom: 15px; display: flex; gap: 10px; align-items: center;">
                        <label for="dataFilter" style="font-weight: bold;">Filter:</label>
                        <input type="text" id="dataFilter" placeholder="Type to filter data..." style="flex: 1; padding: 6px 10px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); border-radius: 4px;">
                        <button id="applyFilter" style="padding: 6px 12px; cursor: pointer;">Apply</button>
                        <button id="clearFilter" style="padding: 6px 12px; cursor: pointer;">Clear</button>
                    </div>
                    <div class="config-zones">
                        <div class="zone-container">
                            <h4>Rows</h4>
                            <div id="rowsZone" class="drop-zone" data-zone="rows"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Columns</h4>
                            <div id="colsZone" class="drop-zone" data-zone="cols"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Values</h4>
                            <div id="valuesZone" class="drop-zone" data-zone="values"></div>
                        </div>
                    </div>
                    <div class="pivot-grid-container">
                        <div id="pivotGrid"></div>
                    </div>
                    <div class="chart-container" style="margin-top: 20px;">
                        <div class="chart-header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <h4 style="margin: 0;">Chart</h4>
                            <select id="chartType" style="padding: 4px;">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                            </select>
                        </div>
                        <canvas id="pivotChart" width="600" height="300" style="background: var(--vscode-editor-background); border: 1px solid var(--vscode-panel-border); border-radius: 4px;"></canvas>
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${a}"></script>
            <script nonce="${c}" src="${l}"></script>
            <script nonce="${c}">
                // Pass initial data to the script
                window.initialData = ${JSON.stringify(r)};
                window.TableCore = TableCore;
                window.VirtualCore = VirtualCore;
            </script>
            <script nonce="${c}" src="${i}"></script>
        </body>
        </html>`}};function Z4(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Ml=class{constructor(e){this._resultsMap=new Map;this._pinnedSources=new Set;this._pinnedResults=new Map;this._autoPinnedResults=new Set;this._resultIdCounter=0;this._extensionUri=e}static{this.viewType="netezza.results"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[St.Uri.joinPath(this._extensionUri,"media")]},e.webview.html=this._getHtmlForWebview(),e.webview.onDidReceiveMessage(i=>{switch(i.command){case"analyze":Ef.createOrShow(this._extensionUri,i.data);return;case"exportCsv":this.exportCsv(i.data);return;case"openInExcel":this.openInExcel(i.data,i.sql);return;case"copyAsExcel":this.copyAsExcel(i.data,i.sql);return;case"switchSource":this._activeSourceUri=i.sourceUri,this._updateWebview();return;case"togglePin":this._pinnedSources.has(i.sourceUri)?this._pinnedSources.delete(i.sourceUri):this._pinnedSources.add(i.sourceUri),this._updateWebview();return;case"toggleResultPin":this._toggleResultPin(i.sourceUri,i.resultSetIndex);return;case"switchToPinnedResult":this._switchToPinnedResult(i.resultId);return;case"unpinResult":this._pinnedResults.delete(i.resultId),this._updateWebview();return;case"closeSource":this.closeSource(i.sourceUri);return;case"copyToClipboard":St.env.clipboard.writeText(i.text),St.window.showInformationMessage("Copied to clipboard");return;case"info":St.window.showInformationMessage(i.text);return;case"error":St.window.showErrorMessage(i.text);return}})}setActiveSource(e){this._resultsMap.has(e)&&this._activeSourceUri!==e&&(this._activeSourceUri=e,this._updateWebview())}startExecution(e){let r=this._resultsMap.get(e)||[],n,i=r.findIndex(d=>d.isLog);if(i!==-1){n=r[i];let d=new Date().toLocaleTimeString();n.data.push(["",""]),n.data.push([d,"--- New Execution Started ---"]),n.message="Execution started...",n.executionTimestamp=Date.now()}else n={columns:[{name:"Time",type:"string"},{name:"Message",type:"string"}],data:[],message:"Execution started...",executionTimestamp:Date.now(),isLog:!0,name:"Logs"};let s=Array.from(this._pinnedResults.entries()).filter(([d,h])=>h.sourceUri===e&&r[h.resultSetIndex]!==n).sort((d,h)=>d[1].resultSetIndex-h[1].resultSetIndex),o=[];s.forEach(([d,h])=>{h.resultSetIndex<r.length&&o.push(r[h.resultSetIndex])});let a=[n,...o];this._resultsMap.set(e,a),Array.from(this._pinnedResults.entries()).filter(([d,h])=>h.sourceUri===e).map(([d,h])=>d).forEach(d=>this._pinnedResults.delete(d));let c=`result_${++this._resultIdCounter}`,u=e.split(/[\\/]/).pop()||e;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:0,timestamp:Date.now(),label:`${u} - Logs`}),s.forEach(([d,h],f)=>{let g=`result_${++this._resultIdCounter}`;this._pinnedResults.set(g,{sourceUri:e,resultSetIndex:f+1,timestamp:Date.now(),label:`${u} - Result ${f+2}`})}),this._pinnedSources.add(e),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}log(e,r){let n=this._resultsMap.get(e);if(!n||n.length===0)return;let i=n.find(s=>s.isLog);if(i){let s=new Date().toLocaleTimeString();i.data.push([s,r]),this._updateWebview()}}finalizeExecution(e){for(let r of this._autoPinnedResults){let n=this._pinnedResults.get(r);n&&n.sourceUri===e&&this._pinnedResults.delete(r)}this._autoPinnedResults.clear()}updateResults(e,r,n=!1){this._resultsMap.has(r)||this._pinnedSources.add(r);let i=[];Array.isArray(e)?i=e:i=[e];let s=Date.now();i.forEach(f=>{f.executionTimestamp=s});let o=this._resultsMap.get(r)||[],a=o.find(f=>f.isLog),l=Array.from(this._pinnedResults.entries()).filter(([f,g])=>g.sourceUri===r).sort((f,g)=>f[1].resultSetIndex-g[1].resultSetIndex),c=[],u=new Map;a&&c.push(a),l.forEach(([f,g])=>{let p=o[g.resultSetIndex];p&&(p===a||c.includes(p)||c.push(p),u.set(f,p))});let d=c.length;c.push(...i);let h=r.split(/[\\\\/]/).pop()||r;if(i.forEach((f,g)=>{let p=`result_${++this._resultIdCounter}`,m=d+g;this._pinnedResults.set(p,{sourceUri:r,resultSetIndex:m,timestamp:Date.now(),label:f.isLog?`${h} - Logs`:`${h} - Result ${m}`}),this._autoPinnedResults.add(p)}),this._resultsMap.set(r,c),u.forEach((f,g)=>{let p=c.indexOf(f);if(p!==-1){let m=this._pinnedResults.get(g);m&&(m.resultSetIndex=p)}}),a&&!Array.from(u.values()).includes(a)){let g=`result_${++this._resultIdCounter}`,p=r.split(/[\\/]/).pop()||r;this._pinnedResults.set(g,{sourceUri:r,resultSetIndex:0,timestamp:Date.now(),label:`${p} - Logs`})}n||Array.from(this._resultsMap.keys()).filter(g=>g!==r&&!this._pinnedSources.has(g)).forEach(g=>{this._resultsMap.delete(g),Array.from(this._pinnedResults.entries()).filter(([m,y])=>y.sourceUri===g).map(([m,y])=>m).forEach(m=>this._pinnedResults.delete(m))}),this._activeSourceUri=r,this._view?(this._updateWebview(),this._view.show?.(!0)):St.window.showInformationMessage('Query completed. Please open "Query Results" panel to view data.')}_updateWebview(){this._view&&(this._view.webview.html=this._getHtmlForWebview())}_toggleResultPin(e,r){let n=Array.from(this._pinnedResults.entries()).find(([i,s])=>s.sourceUri===e&&s.resultSetIndex===r);if(n)this._pinnedResults.delete(n[0]);else{let i=`result_${++this._resultIdCounter}`,s=Date.now(),a=`${e.split(/[\\/]/).pop()||e} - Result ${r+1}`;this._pinnedResults.set(i,{sourceUri:e,resultSetIndex:r,timestamp:s,label:a})}this._updateWebview()}_switchToPinnedResult(e){let r=this._pinnedResults.get(e);r&&(this._activeSourceUri=r.sourceUri,this._updateWebview(),this._view&&this._view.webview.postMessage({command:"switchToResultSet",resultSetIndex:r.resultSetIndex}))}async exportCsv(e){let r=await St.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export"});r&&(await St.workspace.fs.writeFile(r,Buffer.from(e)),St.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async openInExcel(e,r){St.commands.executeCommand("netezza.exportCurrentResultToXlsbAndOpen",e,r)}async copyAsExcel(e,r){St.commands.executeCommand("netezza.copyCurrentResultToXlsbClipboard",e,r)}closeSource(e){if(this._resultsMap.has(e)){if(this._resultsMap.delete(e),this._pinnedSources.delete(e),Array.from(this._pinnedResults.entries()).filter(([n,i])=>i.sourceUri===e).map(([n,i])=>n).forEach(n=>this._pinnedResults.delete(n)),this._activeSourceUri===e){let n=Array.from(this._resultsMap.keys());this._activeSourceUri=n.length>0?n[0]:void 0}this._updateWebview()}}_getHtmlForWebview(){if(!this._view)return"";let{scriptUri:e,virtualUri:r,mainScriptUri:n,styleUri:i,workerUri:s}=this._getScriptUris(),o=this._prepareViewData();return this._buildHtmlDocument(e,r,n,i,o,s)}_getScriptUris(){return{scriptUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),virtualUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),mainScriptUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","resultPanel.js")),workerUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","searchWorker.js")),styleUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","resultPanel.css"))}}_prepareViewData(){let e=Array.from(this._resultsMap.keys()),r=Array.from(this._pinnedSources),n=Array.from(this._pinnedResults.entries()).map(([a,l])=>({id:a,...l})),i=this._activeSourceUri&&this._resultsMap.has(this._activeSourceUri)?this._activeSourceUri:e.length>0?e[0]:null,s=i?this._resultsMap.get(i):[],o=(a,l)=>typeof l=="bigint"?l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l):l.toString():l;return{sourcesJson:JSON.stringify(e),pinnedSourcesJson:JSON.stringify(r),pinnedResultsJson:JSON.stringify(n),activeSourceJson:JSON.stringify(i),resultSetsJson:JSON.stringify(s,o)}}_buildHtmlDocument(e,r,n,i,s,o){let a=this._view.webview.cspSource,l={eye:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 3c-3 0-6 2.5-6 5s3 5 6 5 6-2.5 6-5-3-5-6-5zm0 9c-2.5 0-4.5-2-4.5-4S5.5 4 8 4s4.5 2 4.5 4-2 4.5-4.5 4.5z"/><circle cx="8" cy="8" r="2"/></svg>',excel:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/></svg>',copy:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4 4h7v2H4V4zm0 4h7v2H4V8zm0 4h7v2H4v-2zM2 1h12v14H2V1zm1 1v12h10V2H3z"/></svg>',csv:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13 2H6L2 6v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-1 11H4V7h3V4h5v9z"/></svg>',checkAll:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13.485 1.929l1.414 1.414-9.9 9.9-4.243-4.242 1.415-1.415 2.828 2.829z"/></svg>',clear:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 7.293l4.146-4.147.708.708L8.707 8l4.147 4.146-.708.708L8 8.707l-4.146 4.147-.708-.708L7.293 8 3.146 3.854l.708-.708L8 7.293z"/></svg>'};return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src ${a} 'unsafe-inline'; worker-src ${a} blob:; connect-src ${a}; style-src ${a} 'unsafe-inline';">
            <title>Query Results</title>
            <script src="${e}"></script>
            <script src="${r}"></script>
            <link rel="stylesheet" href="${i}">
        </head>
        <body>
            <div id="sourceTabs" class="source-tabs"></div>
            <div id="resultSetTabs" class="result-set-tabs" style="display: none;"></div>
            
            <div class="controls">
                <input type="text" id="globalFilter" placeholder="Filter..." onkeyup="onFilterChanged()" style="background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); padding: 4px;">
                <button onclick="toggleRowView()" title="Toggle Row View">${l.eye} Row View</button>
                <button onclick="openInExcel()" title="Open results in Excel">${l.excel} Excel</button>
                <button onclick="copyAsExcel()" title="Copy results as Excel to clipboard">${l.excel} Excel Copy</button>
                <button onclick="exportToCsv()" title="Export results to CSV">${l.csv} CSV</button>
                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 4px;"></div>
                <button onclick="selectAll()" title="Select all rows">${l.checkAll} Select All</button>
                <button onclick="copySelection(false)" title="Copy selected cells to clipboard">${l.copy} Copy</button>
                <button onclick="copySelection(true)" title="Copy selected cells with headers">${l.copy} Copy w/ Headers</button>
                <button onclick="clearAllFilters()" title="Clear all column filters">${l.clear} Clear Filters</button>
                <span id="rowCountInfo" style="margin-left: auto; font-size: 12px; opacity: 0.8;"></span>
            </div>

            <div id="groupingPanel" class="grouping-panel" ondragover="onDragOverGroup(event)" ondragleave="onDragLeaveGroup(event)" ondrop="onDropGroup(event)">
                <span style="opacity: 0.5;">Drag headers here to group</span>
            </div>

            <div id="mainSplitView" class="main-split-view">
                <div id="gridContainer"></div>
                <div id="rowViewPanel" class="row-view-panel">
                    <div class="row-view-header">
                        <span>Row Details & Comparison</span>
                        <span class="row-view-close" onclick="toggleRowView()">\xD7</span>
                    </div>
                    <div id="rowViewContent" class="row-view-content">
                        <div class="row-view-placeholder">Select 1 or 2 rows to view details or compare</div>
                    </div>
                </div>
            </div>
            
            <script>
                const vscode = acquireVsCodeApi();
                window.sources = ${s.sourcesJson};
                window.pinnedSources = new Set(${s.pinnedSourcesJson});
                window.pinnedResults = ${s.pinnedResultsJson};
                window.activeSource = ${s.activeSourceJson};
                window.resultSets = ${s.resultSetsJson};
                
                let grids = [];
                let activeGridIndex = window.resultSets && window.resultSets.length > 0 ? window.resultSets.length - 1 : 0;
                const workerUri = "${o}";
            </script>
            <script src="${n}"></script>
            <script>
                // Initialize on load
                init();
            </script>
        </body>
        </html>`}};var Pe=Je(require("vscode"));$o();var Sf=class{constructor(e,r,n){this.context=e;this.metadataCache=r;this.connectionManager=n}async provideCompletionItems(e,r,n,i){let s=e.getText(),o=this.stripComments(s),a=this.parseLocalDefinitions(o),l=e.lineAt(r).text.substr(0,r.character),c=l.toUpperCase(),u=r.line>0?e.lineAt(r.line-1).text:"",d=u.toUpperCase(),h=this.connectionManager.getConnectionForExecution(e.uri.toString());if(h||(h=this.connectionManager.getActiveConnectionName()||void 0),h&&!this.metadataCache.hasConnectionPrefetchTriggered(h)&&this.metadataCache.triggerConnectionPrefetch(h,b=>Ee(this.context,b,!0,h,this.connectionManager)),/(FROM|JOIN)\s+$/.test(c)){let b=await this.getDatabases(h);return[...a.map(I=>{let O=new Pe.CompletionItem(I.name,Pe.CompletionItemKind.Class);return O.detail=I.type,O}),...b]}if(/(?:FROM|JOIN)\s*$/i.test(u)&&/^\s*[a-zA-Z0-9_]*$/.test(l)){let b=await this.getDatabases(h);return[...a.map(I=>{let O=new Pe.CompletionItem(I.name,Pe.CompletionItemKind.Class);return O.detail=I.type,O}),...b]}let f=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\s*$/i);if(f){let b=f[1],w=await this.getSchemas(h,b);return new Pe.CompletionList(w,!1)}let g=l.match(/^\s*([a-zA-Z0-9_]+)\.\s*$/i);if(g&&/(?:FROM|JOIN)\s*$/i.test(u)){let b=g[1],w=await this.getSchemas(h,b);return new Pe.CompletionList(w,!1)}let p=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.$/i);if(p){let b=p[1],w=p[2];return this.getTables(h,b,w)}let m=l.match(/^\s*([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.\s*$/i);if(m&&/(?:FROM|JOIN)\s*$/i.test(u)){let b=m[1],w=m[2];return this.getTables(h,b,w)}let y=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\.$/i);if(y){let b=y[1];return this.getTables(h,b,void 0)}let v=l.match(/^\s*([a-zA-Z0-9_]+)\.\.\s*$/i);if(v&&/(?:FROM|JOIN)\s*$/i.test(u)){let b=v[1];return this.getTables(h,b,void 0)}if(l.trim().endsWith(".")){let b=l.trim().split(/[\s.]+/),w=l.match(/([a-zA-Z0-9_]+)\.$/);if(w){let I=w[1],O=this.findAlias(o,I);if(O){let k=a.find(N=>N.name.toUpperCase()===O.table.toUpperCase());return k?k.columns.map(N=>{let L=new Pe.CompletionItem(N,Pe.CompletionItemKind.Field);return L.detail="Local Column",L}):this.getColumns(h,O.db,O.schema,O.table)}let A=a.find(k=>k.name.toUpperCase()===I.toUpperCase());if(A)return A.columns.map(k=>{let N=new Pe.CompletionItem(k,Pe.CompletionItemKind.Field);return N.detail="Local Column",N})}}return this.getKeywords()}stripComments(e){let r=e.replace(/--.*$/gm,"");return r=r.replace(/\/\*[\s\S]*?\*\//g,""),r}parseLocalDefinitions(e){let r=[],n=/CREATE\s+TABLE\s+([a-zA-Z0-9_]+)\s+AS\s*\(/gi,i;for(;(i=n.exec(e))!==null;){let a=i[1],l=i.index+i[0].length,c=this.extractBalancedParenthesisContent(e,l);if(c){let u=this.extractColumnsFromQuery(c);r.push({name:a,type:"Temp Table",columns:u})}}let s=/\bWITH\s+/gi;for(;(i=s.exec(e))!==null;){let a=i.index+i[0].length;for(;;){let l=/^\s*([a-zA-Z0-9_]+)\s+AS\s*\(/i,c=e.substring(a),u=c.match(l);if(!u)break;let d=u[1],h=a+u[0].length,f=c.indexOf("(",u.index+u[1].length),g=a+f,p=this.extractBalancedParenthesisContent(e,g+1);if(p){let m=this.extractColumnsFromQuery(p);r.push({name:d,type:"CTE",columns:m}),a=g+1+p.length+1;let y=/^\s*,/,v=e.substring(a);if(y.test(v)){let b=v.match(y);a+=b[0].length}else break}else break}}let o=/\bJOIN\s+\(/gi;for(;(i=o.exec(e))!==null;){let a=i.index+i[0].length,l=this.extractBalancedParenthesisContent(e,a);if(l&&/^\s*SELECT\b/i.test(l)){let c=a+l.length+1,d=e.substring(c).match(/^\s+(?:AS\s+)?([a-zA-Z0-9_]+)/i);if(d){let h=d[1],f=this.extractColumnsFromQuery(l);r.push({name:h,type:"Subquery",columns:f})}}}return r}extractBalancedParenthesisContent(e,r){let n=1,i=r;for(;i<e.length;i++)if(e[i]==="("?n++:e[i]===")"&&n--,n===0)return e.substring(r,i);return null}extractColumnsFromQuery(e){let r=e.match(/^\s*SELECT\s+/i);if(!r)return[];let n="",i=0,s=-1,o=r[0].length;for(let c=o;c<e.length;c++)if(e[c]==="("?i++:e[c]===")"&&i--,i===0&&e.substr(c).match(/^\s+FROM\b/i)){s=c;break}s!==-1?n=e.substring(o,s):n=e.substring(o);let a=[],l="";i=0;for(let c=0;c<n.length;c++){let u=n[c];u==="("?i++:u===")"&&i--,u===","&&i===0?(a.push(l.trim()),l=""):l+=u}return l.trim()&&a.push(l.trim()),a.map(c=>{let u=c.match(/\s+AS\s+([a-zA-Z0-9_]+)$/i);if(u)return u[1];let d=c.match(/\s+([a-zA-Z0-9_]+)$/i);if(d)return d[1];let h=c.split(".");return h[h.length-1]})}getKeywords(){return["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","DROP","TABLE","VIEW","DATABASE","JOIN","INNER","LEFT","RIGHT","OUTER","ON","AND","OR","NOT","NULL","IS","IN","BETWEEN","LIKE","AS","DISTINCT","CASE","WHEN","THEN","ELSE","END","WITH","UNION","ALL"].map(r=>{let n=new Pe.CompletionItem(r,Pe.CompletionItemKind.Keyword);return n.detail="SQL Keyword",n})}async getDatabases(e){if(!e)return[];let r=this.metadataCache.getDatabases(e);if(r)return r.map(n=>{if(n instanceof Pe.CompletionItem)return n;let i=new Pe.CompletionItem(n.label,n.kind);return i.detail=n.detail,i});try{let i=await Ee(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e,this.connectionManager);if(!i)return[];let o=JSON.parse(i).map(a=>{let l=new Pe.CompletionItem(a.DATABASE,Pe.CompletionItemKind.Module);return l.detail="Database",l});return this.metadataCache.setDatabases(e,o),o}catch(n){return console.error(n),[]}}async getSchemas(e,r){if(!e)return[];let n=this.metadataCache.getSchemas(e,r);if(n)return n.map(s=>{if(s instanceof Pe.CompletionItem)return s;let o=new Pe.CompletionItem(s.label,s.kind);return o.detail=s.detail,o.insertText=s.insertText,o.sortText=s.sortText,o.filterText=s.filterText,o});let i=Pe.window.setStatusBarMessage(`Fetching schemas for ${r}...`);try{let s=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,o=await Ee(this.context,s,!0,e,this.connectionManager);if(!o)return[];let l=JSON.parse(o).filter(c=>c.SCHEMA!=null&&c.SCHEMA!=="").map(c=>{let u=c.SCHEMA,d=new Pe.CompletionItem(u,Pe.CompletionItemKind.Folder);return d.detail=`Schema in ${r}`,d.insertText=u,d.sortText=u,d.filterText=u,d});return this.metadataCache.setSchemas(e,r,l),l}catch(s){return console.error("[SqlCompletion] Error in getSchemas:",s),[]}finally{i.dispose()}}async getTables(e,r,n){if(!e)return[];let i=n?`${r}.${n}`:`${r}..`,s=n?this.metadataCache.getTables(e,i):this.metadataCache.getTables(e,i)||this.metadataCache.getTablesAllSchemas(e,r);if(s)return s.map(l=>{if(l instanceof Pe.CompletionItem)return l;let c=new Pe.CompletionItem(l.label,l.kind);return c.detail=l.detail,c.sortText=l.sortText,c});let o=n?`Fetching tables for ${r}.${n}...`:`Fetching tables for ${r}...`,a=Pe.window.setStatusBarMessage(o);try{let l="";n?l=`SELECT OBJNAME, OBJID FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND UPPER(SCHEMA) = UPPER('${n}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`:l=`SELECT OBJNAME, OBJID, SCHEMA FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`;let c=await Ee(this.context,l,!0,e,this.connectionManager);if(!c)return[];let u=JSON.parse(c),d=new Map,h=u.map(f=>{let g=new Pe.CompletionItem(f.OBJNAME,Pe.CompletionItemKind.Class);return g.detail=n?"Table":`Table (${f.SCHEMA})`,g.sortText=f.OBJNAME,n?d.set(`${r}.${n}.${f.OBJNAME}`,f.OBJID):f.SCHEMA&&d.set(`${r}.${f.SCHEMA}.${f.OBJNAME}`,f.OBJID),g});return this.metadataCache.setTables(e,i,h,d),h}catch(l){return console.error(l),[]}finally{a.dispose()}}async getColumns(e,r,n,i){if(!e)return[];let s,o=r?`${r}..`:"",a=n&&r?`${r}.${n}.${i}`:r?`${r}..${i}`:void 0;a&&(s=this.metadataCache.findTableId(e,a));let l=`${r||"CURRENT"}.${n||""}.${i}`,c=this.metadataCache.getColumns(e,l);if(c)return c.map(d=>{if(d instanceof Pe.CompletionItem)return d;let h=new Pe.CompletionItem(d.label,d.kind);return h.detail=d.detail,h});let u=Pe.window.setStatusBarMessage(`Fetching columns for ${i}...`);try{let d="";if(s)d=`SELECT ATTNAME, FORMAT_TYPE FROM ${o}_V_RELATION_COLUMN WHERE OBJID = ${s} ORDER BY ATTNUM`;else{let p=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",m=r?`AND UPPER(O.DBNAME) = UPPER('${r}')`:"";d=`
                    SELECT C.ATTNAME, C.FORMAT_TYPE 
                    FROM ${o}_V_RELATION_COLUMN C
                    JOIN ${o}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) = UPPER('${i}') ${p} ${m}
                    ORDER BY C.ATTNUM
                `}let h=await Ee(this.context,d,!0,e,this.connectionManager);if(!h)return[];let g=JSON.parse(h).map(p=>{let m=new Pe.CompletionItem(p.ATTNAME,Pe.CompletionItemKind.Field);return m.detail=p.FORMAT_TYPE,m});if(this.metadataCache.setColumns(e,l,g),r){let p=this.context,m=this.metadataCache;setTimeout(async()=>{try{await m.prefetchColumnsForSchema(e,r,n,y=>Ee(p,y,!0,e,this.connectionManager))}catch(y){console.error("[SqlCompletion] Background column prefetch error:",y)}},100)}return g}catch(d){return console.error(d),[]}finally{u.dispose()}}findAlias(e,r){let n=new RegExp(`([a-zA-Z0-9_\\.]+) (?:AS\\s+)?${r}\\b`,"gi"),i=new Set(["SELECT","WHERE","GROUP","ORDER","HAVING","LIMIT","ON","AND","OR","NOT","CASE","WHEN","THEN","ELSE","END","JOIN","LEFT","RIGHT","INNER","OUTER","CROSS","FULL","UNION","EXCEPT","INTERSECT","FROM","UPDATE","DELETE","INSERT","INTO","VALUES","SET"]),s;for(;(s=n.exec(e))!==null;){let o=s[1];if(i.has(o.toUpperCase()))continue;let a=o.split(".");return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{table:a[1],schema:a[0]}:{table:a[0]}}return null}};var Pl=Je(require("vscode"));$o();var Fl=class{constructor(e,r,n,i){this._extensionUri=e;this.context=r;this.metadataCache=n;this.connectionManager=i;this.currentSearchId=0}static{this.viewType="netezza.search"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"search":await this.search(i.value);break;case"navigate":Pl.commands.executeCommand("netezza.revealInSchema",i);break}})}async search(e){if(!e||e.length<2)return;let r,n=Pl.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=Pl.window.setStatusBarMessage(`$(loading~spin) Searching for "${e}"...`),o=new Set;if(this._view){let u=this.metadataCache.search(e,r);if(u.length>0){let d=[];u.forEach(h=>{let f=`${h.name.toUpperCase().trim()}|${h.type.toUpperCase().trim()}|${(h.parent||"").toUpperCase().trim()}`;o.has(f)||(o.add(f),d.push({NAME:h.name,SCHEMA:h.schema,DATABASE:h.database,TYPE:h.type,PARENT:h.parent||"",DESCRIPTION:"Result from Cache",MATCH_TYPE:"NAME",connectionName:r}))}),d.sort((h,f)=>{let g=p=>p==="COLUMN"?2:1;return g(f.TYPE)-g(h.TYPE)?g(h.TYPE)-g(f.TYPE):h.NAME.localeCompare(f.NAME)}),d.length>0&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:d,append:!1})}else i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});this.metadataCache.hasAllObjectsPrefetchTriggered(r)||this.metadataCache.prefetchAllObjects(r,async d=>Ee(this.context,d,!0,r,this.connectionManager))}let l=`%${e.replace(/'/g,"''").toUpperCase()}%`,c=`
            SELECT * FROM (
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(OBJNAME) LIKE '${l}'
                UNION ALL
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'DESC' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(DESCRIPTION) LIKE '${l}' AND UPPER(OBJNAME) NOT LIKE '${l}'
                UNION ALL
                SELECT 2 AS PRIORITY, C.ATTNAME AS NAME, O.SCHEMA, O.DBNAME AS DATABASE, 'COLUMN' AS TYPE, O.OBJNAME AS PARENT,
                       COALESCE(C.DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_RELATION_COLUMN C
                JOIN _V_OBJECT_DATA O ON C.OBJID = O.OBJID
                WHERE UPPER(C.ATTNAME) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, V.VIEWNAME AS NAME, V.SCHEMA, V.DATABASE, 'VIEW' AS TYPE, '' AS PARENT, 
                       'Found in view definition' AS DESCRIPTION, 'DEFINITION' AS MATCH_TYPE
                FROM _V_VIEW V
                WHERE UPPER(V.DEFINITION) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, P.PROCEDURE AS NAME, P.SCHEMA, P.DATABASE, 'PROCEDURE' AS TYPE, '' AS PARENT, 
                       'Found in procedure source' AS DESCRIPTION, 'SOURCE' AS MATCH_TYPE
                FROM _V_PROCEDURE P
                WHERE UPPER(P.PROCEDURESOURCE) LIKE '${l}'
                UNION ALL
                SELECT 3 AS PRIORITY, E1.TABLENAME AS NAME, E1.SCHEMA, E1.DATABASE, 'EXTERNAL TABLE' AS TYPE, '' AS PARENT,
                       COALESCE(E2.EXTOBJNAME, '') AS DESCRIPTION, 'DATAOBJECT' AS MATCH_TYPE
                FROM _V_EXTERNAL E1
                JOIN _V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE AND E1.SCHEMA = E2.SCHEMA AND E1.TABLENAME = E2.TABLENAME
                WHERE UPPER(E2.EXTOBJNAME) LIKE '${l}'
            ) AS R
            ORDER BY PRIORITY, NAME
            LIMIT 100
        `;try{let u=await Ee(this.context,c,!0,r,this.connectionManager);if(i!==this.currentSearchId){s.dispose();return}if(u){let d=[];u==="Query executed successfully (no results)."||u.startsWith("Query executed successfully")?d=[]:d=JSON.parse(u);let h=[];d.forEach(f=>{let g=`${f.NAME.toUpperCase().trim()}|${f.TYPE.toUpperCase().trim()}|${(f.PARENT||"").toUpperCase().trim()}`;o.has(g)||(h.push({NAME:f.NAME,SCHEMA:f.SCHEMA,DATABASE:f.DATABASE,TYPE:f.TYPE,PARENT:f.PARENT,DESCRIPTION:f.DESCRIPTION,MATCH_TYPE:f.MATCH_TYPE,connectionName:r}),o.add(g))}),h.length>0&&this._view&&this._view.webview.postMessage({type:"results",data:h,append:!0})}}catch(u){console.error("Search error:",u),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:u.message})}finally{s.dispose()}}_getHtmlForWebview(e){return`<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Schema Search</title>
        <style>
            body { 
                font-family: var(--vscode-font-family); 
                padding: 0; 
                margin: 0;
                color: var(--vscode-foreground); 
                display: flex;
                flex-direction: column;
                height: 100vh;
                overflow: hidden;
            }
            .search-box { 
                display: flex; 
                gap: 5px; 
                padding: 10px;
                flex-shrink: 0;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            input { flex-grow: 1; padding: 5px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); }
            button {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: 6px;
                background-color: var(--vscode-button-secondaryBackground);
                color: var(--vscode-button-secondaryForeground);
                border: 1px solid var(--vscode-contrastBorder, transparent);
                padding: 4px 10px;
                cursor: pointer;
                border-radius: 2px;
                font-family: var(--vscode-font-family);
                font-size: 12px;
                line-height: 18px;
            }
            button:hover { background-color: var(--vscode-button-secondaryHoverBackground); }
            button.primary { background-color: var(--vscode-button-background); color: var(--vscode-button-foreground); }
            button.primary:hover { background-color: var(--vscode-button-hoverBackground); }
            #status { padding: 5px 10px; flex-shrink: 0; }
            .results { 
                list-style: none; 
                padding: 0; 
                margin: 0; 
                flex-grow: 1; 
                overflow-y: auto; 
            }
            .result-item { padding: 8px 10px; border-bottom: 1px solid var(--vscode-panel-border); display: flex; flex-direction: column; cursor: pointer; position: relative; }
            .result-item:hover { background: var(--vscode-list-hoverBackground); }
            .item-header { display: flex; justify-content: space-between; font-weight: bold; }
            .item-details { font-size: 0.9em; opacity: 0.8; display: flex; gap: 10px; }
            .type-badge { font-size: 0.8em; background: var(--vscode-badge-background); color: var(--vscode-badge-foreground); padding: 2px 5px; border-radius: 3px; }
            .tooltip { position: absolute; background: var(--vscode-editorHoverWidget-background); color: var(--vscode-editorHoverWidget-foreground); border: 1px solid var(--vscode-editorHoverWidget-border); padding: 8px; border-radius: 4px; font-size: 0.9em; max-width: 300px; word-wrap: break-word; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.2s, visibility 0.2s; pointer-events: none; }
            .result-item:hover .tooltip { opacity: 1; visibility: visible; }
            .tooltip.top { bottom: 100%; left: 0; margin-bottom: 5px; }
            .tooltip.bottom { top: 100%; left: 0; margin-top: 5px; }
            .cache-badge { background-color: var(--vscode-charts-green); color: white; padding: 1px 4px; border-radius: 2px; font-size: 0.7em; margin-left: 5px; }
            .spinner {
                border: 2px solid transparent;
                border-top: 2px solid var(--vscode-progressBar-background);
                border-radius: 50%;
                width: 14px;
                height: 14px;
                animation: spin 1s linear infinite;
                display: inline-block;
                vertical-align: middle;
                margin-right: 8px;
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        </style>
    </head>
    <body>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search tables, columns, view definitions, procedure source..." />
            <button id="searchBtn" class="primary">Search</button>
        </div>
        <div id="status"></div>
        <ul class="results" id="resultsList"></ul>

        <script>
            try {
            const vscode = acquireVsCodeApi();
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const resultsList = document.getElementById('resultsList');
            const status = document.getElementById('status');

            searchBtn.addEventListener('click', () => {
                const term = searchInput.value;
                if (term) {
                    status.innerHTML = '<span class="spinner"></span> Searching...';
                    vscode.postMessage({ type: 'search', value: term });
                }
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchBtn.click();
                }
            });

            window.addEventListener('message', event => {
                const message = event.data;
                switch (message.type) {
                    case 'results':
                        status.textContent = '';
                        renderResults(message.data, message.append);
                        break;
                    case 'error':
                        status.textContent = 'Error: ' + message.message;
                        break;
                }
            });

            function renderResults(data, append) {
                if (!append) {
                    resultsList.innerHTML = '';
                }

                if (!data || data.length === 0) {
                    if (!append && resultsList.children.length === 0) {
                        status.textContent = 'No results found.';
                    }
                    return;
                }

                data.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'result-item';

                    const parentInfo = item.PARENT ? \`Parent: \${item.PARENT}\` : '';
                    const schemaInfo = item.SCHEMA ? \`Schema: \${item.SCHEMA}\` : '';
                    const databaseInfo = item.DATABASE ? \`Database: \${item.DATABASE}\` : '';
                    const description = item.DESCRIPTION && item.DESCRIPTION.trim() ? item.DESCRIPTION : '';
                    
                    // Add match type indicator
                    const matchTypeInfo = item.MATCH_TYPE === 'DEFINITION' ? 'Match in view definition' :
                                        item.MATCH_TYPE === 'SOURCE' ? 'Match in procedure source' :
                                        item.MATCH_TYPE === 'NAME' ? 'Match in name' : '';
                    
                    li.innerHTML = \`
                        <div class="item-header">
                            <span>\${item.NAME}</span>
                            <span class="type-badge">\${item.TYPE}</span>
                        </div>
                        <div class="item-details">
                            <span>\${databaseInfo}</span>
                            <span>\${schemaInfo}</span>
                            <span>\${parentInfo}</span>
                            \${matchTypeInfo ? \`<span style="font-style: italic; color: var(--vscode-descriptionForeground);">\${matchTypeInfo}</span>\` : ''}
                        </div>
                        \${description ? \`<div class="tooltip bottom">\${description}</div>\` : ''}
                    \`;
                    
                    // Add double-click handler to navigate to schema tree
                    li.addEventListener('dblclick', () => {
                        vscode.postMessage({ 
                            type: 'navigate', 
                            name: item.NAME,
                            schema: item.SCHEMA,
                            database: item.DATABASE,
                            objType: item.TYPE,
                            parent: item.PARENT,
                            connectionName: item.connectionName // Pass back connection name
                        });
                    });
                    
                    resultsList.appendChild(li);
                });
            }
            } catch (e) {
                document.body.innerHTML = '<pre style="color:red;">Error loading Schema Search: ' + e.message + '\\n' + e.stack + '</pre>';
            }
        </script>
    </body>
    </html>`}};xf();var qo=Je(require("vscode"));xf();var vf=class{provideDocumentLinks(e,r){let n=[],i=e.getText(),s=/[a-zA-Z0-9_"]+(\.[a-zA-Z0-9_"]*)+/g,o;for(;(o=s.exec(i))!==null;){let a=e.positionAt(o.index),l=e.positionAt(o.index+o[0].length),c=new qo.Range(a,l),u=wn.getObjectAtPosition(i,o.index+Math.floor(o[0].length/2));if(u){if(o[0].split(".").length===2&&!u.database&&this.isLikelyAliasReference(i,o.index))continue;let f={name:u.name,schema:u.schema,database:u.database},g=qo.Uri.parse(`command:netezza.revealInSchema?${encodeURIComponent(JSON.stringify(f))}`),p=new qo.DocumentLink(c,g);p.tooltip=`Reveal ${u.name} in Schema`,n.push(p)}}return n}isLikelyAliasReference(e,r){let i=e.substring(Math.max(0,r-200),r).replace(/--[^\n]*/g,"").replace(/\/\*[\s\S]*?\*\//g,"").toUpperCase();return/(?:FROM|JOIN)\s+[a-zA-Z0-9_"]*$/i.test(i)?!1:!!i.match(/\b(SELECT|WHERE|ON|HAVING|ORDER\s+BY|GROUP\s+BY|AND|OR|SET|VALUES)\b(?!.*\b(?:FROM|JOIN)\b)/)}};var Rf=Je(require("vscode")),Tf=class{provideFoldingRanges(e,r,n){let i=[],s=[],o=/^\s*--\s*REGION\b/i,a=/^\s*--\s*ENDREGION\b/i;for(let l=0;l<e.lineCount;l++){let u=e.lineAt(l).text;if(o.test(u))s.push(l);else if(a.test(u)&&s.length>0){let d=s.pop();i.push(new Rf.FoldingRange(d,l,Rf.FoldingRangeKind.Region))}}return i}};var zt=Je(require("vscode"));bf();var Bl=class{constructor(e,r){this._extensionUri=e;this._context=r}static{this.viewType="netezza.queryHistory"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),this.sendHistoryToWebview(),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"refresh":this.refresh();break;case"clearAll":await this.clearAllHistory();break;case"deleteEntry":await this.deleteEntry(i.id,i.query);break;case"copyQuery":await zt.env.clipboard.writeText(i.query),zt.window.showInformationMessage("Query copied to clipboard");break;case"executeQuery":await this.executeQuery(i.query);break;case"getHistory":await this.sendHistoryToWebview();break;case"toggleFavorite":await this.toggleFavorite(i.id);break;case"updateEntry":await this.updateEntry(i.id,i.tags,i.description);break;case"requestEdit":await this.requestEdit(i.id);break;case"requestTagFilter":await this.requestTagFilter(i.tags);break;case"showFavoritesOnly":await this.sendFavoritesToWebview();break;case"filterByTag":await this.sendFilteredByTagToWebview(i.tag);break}})}refresh(){this._view&&this.sendHistoryToWebview()}async sendHistoryToWebview(){if(!this._view)return;let e=new wr(this._context),r=await e.getHistory(),n=await e.getStats();console.log("QueryHistoryView: sending history to webview, entries=",r.length),this._view.webview.postMessage({type:"historyData",history:r,stats:n})}async clearAllHistory(){await zt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await new wr(this._context).clearHistory(),this.refresh(),zt.window.showInformationMessage("Query history cleared"))}async deleteEntry(e,r){let n=r?`: ${r.substring(0,50)}${r.length>50?"...":""}`:"";await zt.window.showWarningMessage(`Are you sure you want to delete this query${n}?`,{modal:!0},"Delete")==="Delete"&&(await new wr(this._context).deleteEntry(e),this.refresh())}async executeQuery(e){let r=await zt.workspace.openTextDocument({content:e,language:"sql"});await zt.window.showTextDocument(r)}async toggleFavorite(e){await new wr(this._context).toggleFavorite(e),this.refresh()}async updateEntry(e,r,n){await new wr(this._context).updateEntry(e,r,n),this.refresh(),zt.window.showInformationMessage("Entry updated successfully")}async requestEdit(e){let i=(await new wr(this._context).getHistory()).find(a=>a.id===e);if(!i){zt.window.showErrorMessage("Entry not found");return}let s=await zt.window.showInputBox({prompt:"Enter tags (comma separated)",value:i.tags||"",placeHolder:"tag1, tag2, tag3"});if(s===void 0)return;let o=await zt.window.showInputBox({prompt:"Enter description",value:i.description||"",placeHolder:"Description for this query"});o!==void 0&&await this.updateEntry(e,s,o)}async requestTagFilter(e){if(e.length===1)await this.sendFilteredByTagToWebview(e[0]);else if(e.length>1){let r=await zt.window.showQuickPick(e,{placeHolder:"Filter by which tag?"});r&&await this.sendFilteredByTagToWebview(r)}}async sendFavoritesToWebview(){if(!this._view)return;let e=new wr(this._context),r=await e.getFavorites(),n=await e.getStats();this._view.webview.postMessage({type:"historyData",history:r,stats:n,filter:"favorites"})}async sendFilteredByTagToWebview(e){if(!this._view)return;let r=new wr(this._context),n=await r.getByTag(e),i=await r.getStats();this._view.webview.postMessage({type:"historyData",history:n,stats:i,filter:`tag: ${e}`})}_getHtmlForWebview(e){let r=Q4(),n=e.asWebviewUri(zt.Uri.joinPath(this._extensionUri,"media","queryHistory.css")),i=e.asWebviewUri(zt.Uri.joinPath(this._extensionUri,"media","queryHistory.js"));return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src ${e.cspSource};">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Query History</title>
    <link href="${n}" rel="stylesheet">
</head>
<body>
    <div class="toolbar">
        <div class="toolbar-top">
            <input type="search" id="searchInput" placeholder="Search queries..." />
            <span class="stats" id="stats">Loading...</span>
        </div>
        <div class="toolbar-buttons">
            <button class="secondary" id="showAllBtn">\u{1F4DC} All</button>
            <button class="secondary" id="showFavoritesBtn">\u2B50 Favorites</button>
            <button class="secondary" id="refreshBtn">\u21BB Refresh</button>
            <button class="secondary" id="clearAllBtn">\u{1F5D1}\uFE0F Clear All</button>
        </div>
    </div>
    <div class="history-container" id="historyContainer">
        <div class="empty-state">
            <div class="empty-state-icon">\u{1F4DC}</div>
            <div>No query history yet</div>
        </div>
    </div>

    <script src="${i}"></script>
</body>
</html>`}};function Q4(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Ht=Je(require("vscode"));$o();var Af=class t{static{this.viewType="netezza.editData"}static async createOrShow(e,r,n,i){if(!r||!r.label||!r.dbName||!r.schema){Ht.window.showErrorMessage("Invalid table selection");return}let s=r.label,o=r.schema,l=`${r.dbName}.${o}.${s}`,c=Ht.window.createWebviewPanel(t.viewType,`Edit: ${s}`,Ht.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Ht.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});c.webview.html=this._getHtmlForWebview(c.webview,e,l),this._loadData(c,l,r.connectionName,n,i),c.webview.onDidReceiveMessage(async u=>{switch(u.command){case"save":await this._handleSave(c,u.changes,l,r.connectionName,n,i);break;case"refresh":this._loadData(c,l,r.connectionName,n,i);break;case"error":Ht.window.showErrorMessage(u.text);break;case"info":Ht.window.showInformationMessage(u.text);break}})}static async _loadData(e,r,n,i,s){try{let o=`SELECT ROWID, * FROM ${r} LIMIT 50000`;e.webview.postMessage({command:"setLoading",loading:!0});let a=await Ee(i,o,!0,n,s);if(!a){e.webview.postMessage({command:"setData",data:[],columns:[]});return}let l=[];if(typeof a=="string")try{l=JSON.parse(a)}catch{if(a.startsWith("Query executed"))l=[];else throw new Error("Failed to parse result data")}let c=[];l.length>0&&(c=Object.keys(l[0])),e.webview.postMessage({command:"setData",data:l,columns:c})}catch(o){Ht.window.showErrorMessage(`Failed to load data: ${o.message}`),e.webview.postMessage({command:"setError",text:o.message})}finally{e.webview.postMessage({command:"setLoading",loading:!1})}}static async _handleSave(e,r,n,i,s,o){let a=[];if(r.deletes&&r.deletes.length>0){let l=r.deletes.join(",");a.push(`DELETE FROM ${n} WHERE ROWID IN (${l});`)}if(r.updates&&r.updates.length>0)for(let l of r.updates){let c=[];for(let[u,d]of Object.entries(l.changes))u!=="ROWID"&&c.push(`${u} = ${this._formatValue(d)}`);c.length>0&&a.push(`UPDATE ${n} SET ${c.join(", ")} WHERE ROWID = ${l.rowId};`)}if(r.inserts&&r.inserts.length>0)for(let l of r.inserts){let c=Object.keys(l).filter(d=>d!=="ROWID");if(c.length===0)continue;let u=c.map(d=>this._formatValue(l[d]));a.push(`INSERT INTO ${n} (${c.join(", ")}) VALUES (${u.join(", ")});`)}if(a.length===0){Ht.window.showInformationMessage("No changes to save.");return}try{await Dl(s,["BEGIN;",...a,"COMMIT;"],o),Ht.window.showInformationMessage(`Successfully executed ${a.length} changes.`),this._loadData(e,n,i,s,o)}catch(l){Ht.window.showErrorMessage(`Failed to save changes: ${l.message}`)}}static _formatValue(e){return e==null||e===""?"NULL":typeof e=="number"?e.toString():typeof e=="boolean"?e?"TRUE":"FALSE":`'${String(e).replace(/'/g,"''")}'`}static _getHtmlForWebview(e,r,n){let i=e.asWebviewUri(Ht.Uri.joinPath(r,"media","tanstack-table-core.js")),s=e.asWebviewUri(Ht.Uri.joinPath(r,"media","tanstack-virtual-core.js")),o=e.asWebviewUri(Ht.Uri.joinPath(r,"media","editDataPanel.js")),a=e.asWebviewUri(Ht.Uri.joinPath(r,"media","editDataPanel.css")),l=e.asWebviewUri(Ht.Uri.joinPath(r,"media","codicon.css")),c=ej();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}';">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${a}" rel="stylesheet">
            <script nonce="${c}" src="${i}"></script>
            <script nonce="${c}" src="${s}"></script>
            <title>Edit Data: ${n}</title>
        </head>
        <body>
            <div class="toolbar">
                <span class="title">${n}</span>
                <span id="status" class="status"></span>
                <div class="actions">
                    <button id="refreshBtn">Refresh</button>
                    <button id="addRowBtn">Add Row</button>
                    <button id="saveBtn" class="primary">Save Changes</button>
                </div>
            </div>
            <div id="gridContainer" class="grid-container"></div>
            
            <script nonce="${c}" src="${o}"></script>
        </body>
        </html>`}};function ej(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var If=Je(require("vscode")),Cf=class{constructor(e){this.context=e;this.dbCache=new Map;this.schemaCache=new Map;this.tableCache=new Map;this.columnCache=new Map;this.tableIdMap=new Map;this.typeGroupCache=new Map;this.CACHE_TTL=14400*1e3;this.savePending=!1;this.columnPrefetchInProgress=new Set;this.allObjectsPrefetchTriggeredSet=new Set;this.connectionPrefetchTriggered=new Set;this.connectionPrefetchInProgress=new Set;if(this.context.storageUri){this.cacheFilePath=If.Uri.joinPath(this.context.storageUri,"schema-cache.json").fsPath;try{this.ensureStorageDir()}catch(r){console.error("[MetadataCache] Error creating storage directory:",r)}}}async ensureStorageDir(){if(this.context.storageUri)try{await If.workspace.fs.createDirectory(this.context.storageUri)}catch{}}async initialize(){try{let e=["sqlCompletion.dbCache","sqlCompletion.schemaCache","sqlCompletion.tableCache","sqlCompletion.columnCache","sqlCompletion.tableIdMap"];for(let r of e)this.context.workspaceState.get(r)!==void 0&&await this.context.workspaceState.update(r,void 0)}catch(e){console.error("[MetadataCache] Error cleaning up legacy workspace state:",e)}if(this.cacheFilePath)try{let e=require("fs");if(e.existsSync(this.cacheFilePath)){let r=await e.promises.readFile(this.cacheFilePath,"utf-8"),n=JSON.parse(r),i=Date.now();if(n.dbCache)for(let[s,o]of Object.entries(n.dbCache))i-o.timestamp<this.CACHE_TTL&&this.dbCache.set(s,o);if(n.schemaCache)for(let[s,o]of Object.entries(n.schemaCache))i-o.timestamp<this.CACHE_TTL&&this.schemaCache.set(s,o);if(n.tableCache)for(let[s,o]of Object.entries(n.tableCache))i-o.timestamp<this.CACHE_TTL&&this.tableCache.set(s,o);if(n.tableIdMap)for(let[s,o]of Object.entries(n.tableIdMap))(this.tableCache.has(s)||i-o.timestamp<this.CACHE_TTL)&&this.tableIdMap.set(s,{data:new Map(Object.entries(o.data)),timestamp:o.timestamp});if(n.columnCache)for(let[s,o]of Object.entries(n.columnCache))i-o.timestamp<this.CACHE_TTL&&this.columnCache.set(s,o)}}catch(e){console.error("[MetadataCache] Error loading cache from disk:",e)}}scheduleSave(e){this.savePending||(this.savePending=!0,this.saveTimeoutId=setTimeout(()=>this.flushSave(),2e3))}async flushSave(){if(this.savePending=!1,!!this.cacheFilePath)try{let e=require("fs"),r=s=>{let o={};return s.forEach((a,l)=>{o[l]=a}),o},n=s=>{let o={};return s.forEach((a,l)=>{let c={};a.data.forEach((u,d)=>{c[d]=u}),o[l]={data:c,timestamp:a.timestamp}}),o},i={dbCache:r(this.dbCache),schemaCache:r(this.schemaCache),tableCache:r(this.tableCache),columnCache:r(this.columnCache),tableIdMap:n(this.tableIdMap)};await e.promises.writeFile(this.cacheFilePath,JSON.stringify(i),"utf-8")}catch(e){console.error("[MetadataCache] Error saving cache to disk:",e)}}async clearCache(){if(this.saveTimeoutId&&(clearTimeout(this.saveTimeoutId),this.saveTimeoutId=void 0),this.savePending=!1,this.dbCache.clear(),this.schemaCache.clear(),this.tableCache.clear(),this.columnCache.clear(),this.tableIdMap.clear(),this.typeGroupCache.clear(),this.cacheFilePath)try{let e=require("fs");e.existsSync(this.cacheFilePath)&&await e.promises.unlink(this.cacheFilePath)}catch(e){console.error("[MetadataCache] Error clearing cache file:",e)}}getDatabases(e){return this.dbCache.get(e)?.data}setDatabases(e,r){this.dbCache.set(e,{data:r,timestamp:Date.now()}),this.scheduleSave("db")}getSchemas(e,r){let n=`${e}|${r}`;return this.schemaCache.get(n)?.data}setSchemas(e,r,n){let i=`${e}|${r}`;this.schemaCache.set(i,{data:n,timestamp:Date.now()}),this.scheduleSave("schema")}getTables(e,r){let n=`${e}|${r}`;return this.tableCache.get(n)?.data}getTablesAllSchemas(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n))for(let l of a.data){let c=typeof l.label=="string"?l.label:l.label?.label;c&&!s.has(c.toUpperCase())&&(s.add(c.toUpperCase()),i.push(l))}return i.length>0?i:void 0}setTables(e,r,n,i){let s=Date.now(),o=`${e}|${r}`;this.tableCache.set(o,{data:n,timestamp:s}),this.tableIdMap.set(o,{data:i,timestamp:s}),this.scheduleSave("table")}getObjectsWithSchema(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n)||o===`${e}|${r}..`){let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),d=(u.length>1?u[1]:"")||"",h=this.tableIdMap.get(o);for(let f of a.data){let g=typeof f.label=="string"?f.label:f.label?.label,p=`${d}.${g}`;if(g&&!s.has(p)){s.add(p);let m;if(h){let y=d?`${r}.${d}.${g}`:`${r}..${g}`;m=h.data.get(y)}i.push({item:f,schema:d,objId:m})}}}return i}getColumns(e,r){let n=`${e}|${r}`;return this.columnCache.get(n)?.data}setColumns(e,r,n){let i=`${e}|${r}`;this.columnCache.set(i,{data:n,timestamp:Date.now()}),this.scheduleSave("column")}findTableId(e,r){let n=`${e}|`;for(let[i,s]of this.tableIdMap)if(i.startsWith(n)){let o=s.data.get(r);if(o!==void 0)return o}}getTypeGroups(e,r){let n=`${e}|${r}`;return this.typeGroupCache.get(n)?.data}setTypeGroups(e,r,n){let i=`${e}|${r}`;this.typeGroupCache.set(i,{data:n,timestamp:Date.now()})}findObjectWithType(e,r,n,i){let s=`${e}|`,o=i.toUpperCase();for(let[a,l]of this.tableCache){if(!a.startsWith(s))continue;let c=a.split("|");if(c.length<2)continue;let d=c[1].split("."),h=d[0],f=d.length>1?d[1]:void 0;if(h.toUpperCase()===r.toUpperCase()&&!(n!==void 0&&n!==""&&f?.toUpperCase()!==n.toUpperCase()))for(let g of l.data){let p=typeof g.label=="string"?g.label:g.label?.label;if(p?.toUpperCase()===o){let m=g.objType||(g.kind===18?"VIEW":"TABLE"),y=f?`${h}.${f}.${p}`:`${h}..${p}`,v=a,w=this.tableIdMap.get(v)?.data.get(y);if(w!==void 0)return{objId:w,objType:m,schema:f||"",name:p||i}}}}}search(e,r){let n=[],i=e.toLowerCase(),s=o=>r?o.startsWith(`${r}|`):!0;for(let[o,a]of this.tableCache){if(!s(o))continue;let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),d=u[0],h=u.length>1?u[1]:void 0;for(let f of a.data){let g=typeof f.label=="string"?f.label:f.label.label;if(g&&g.toLowerCase().includes(i)){let p=f.objType||(f.kind===18?"VIEW":"TABLE");n.push({name:g,type:p,database:d,schema:h||(f.detail&&f.detail.includes("(")?f.detail.match(/\((.*?)\)/)?.[1]:void 0)})}}}for(let[o,a]of this.columnCache){if(!s(o))continue;let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),d=u[0],h=u[1],f=u[2];for(let g of a.data){let p=typeof g.label=="string"?g.label:g.label.label;p&&p.toLowerCase().includes(i)&&n.push({name:p,type:"COLUMN",database:d,schema:h,parent:f})}}return n}async prefetchColumnsForSchema(e,r,n,i){let s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;if(this.columnPrefetchInProgress.has(o))return;let a=this.getTables(e,s);if(!(!a||a.length===0)){this.columnPrefetchInProgress.add(o);try{let l=[];for(let u of a){let d=typeof u.label=="string"?u.label:u.label?.label;if(!d)continue;let h=`${r}.${n||""}.${d}`;this.getColumns(e,h)||l.push(d)}if(l.length===0)return;let c=10;for(let u=0;u<l.length;u+=c){let h=l.slice(u,u+c).map(m=>`'${m}'`).join(","),f=`${r}..`,g=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",p=`
                    SELECT O.OBJNAME AS TABLENAME, C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                    FROM ${f}_V_RELATION_COLUMN C
                    JOIN ${f}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) IN (${h.toUpperCase()}) 
                    ${g}
                    AND UPPER(O.DBNAME) = UPPER('${r}')
                    ORDER BY O.OBJNAME, C.ATTNUM
                `;try{let m=await i(p);if(m){let y=JSON.parse(m),v=new Map;for(let b of y){let w=b.TABLENAME;v.has(w)||v.set(w,[]),v.get(w).push({label:b.ATTNAME,kind:5,detail:b.FORMAT_TYPE})}for(let[b,w]of v){let I=`${r}.${n||""}.${b}`;this.setColumns(e,I,w)}}}catch(m){console.error("[MetadataCache] Error fetching batch columns:",m)}}}finally{this.columnPrefetchInProgress.delete(o)}}}async prefetchAllObjects(e,r){let n=`ALL_OBJECTS|${e}`;if(!this.allObjectsPrefetchTriggeredSet.has(n)){this.allObjectsPrefetchTriggeredSet.add(n),console.log(`[MetadataCache] Starting background prefetch of all objects for search (Connection: ${e})`);try{let s=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME 
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE = 'TABLE' 
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!s)return;let o=JSON.parse(s),a=new Map;for(let l of o){let c=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}`:`${l.DBNAME}..`;a.has(c)||a.set(c,{tables:[],idMap:new Map});let u=a.get(c);u.tables.push({label:l.OBJNAME,kind:7,detail:l.SCHEMA?"Table":`Table (${l.SCHEMA})`,sortText:l.OBJNAME});let d=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}.${l.OBJNAME}`:`${l.DBNAME}..${l.OBJNAME}`;u.idMap.set(d,l.OBJID)}for(let[l,c]of a)this.setTables(e,l,c.tables,c.idMap);console.log(`[MetadataCache] Prefetched tables for ${a.size} schema(s) on ${e}`)}catch(i){console.error("[MetadataCache] Error in prefetchAllObjects:",i)}}}invalidateSchema(e,r,n){let i=`${e}|`,s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;this.tableCache.has(o)&&(this.tableCache.delete(o),this.tableIdMap.delete(o),this.scheduleSave("table"),console.log(`[MetadataCache] Invalidated cache for ${o}`))}hasAllObjectsPrefetchTriggered(e){return this.allObjectsPrefetchTriggeredSet.has(`ALL_OBJECTS|${e}`)}hasConnectionPrefetchTriggered(e){return this.connectionPrefetchTriggered.has(e)}triggerConnectionPrefetch(e,r){this.connectionPrefetchTriggered.has(e)||this.connectionPrefetchInProgress.has(e)||(this.connectionPrefetchInProgress.add(e),console.log(`[MetadataCache] Starting eager prefetch for connection: ${e}`),this.executeConnectionPrefetch(e,r).catch(n=>console.error("[MetadataCache] Connection prefetch error:",n)).finally(()=>{this.connectionPrefetchInProgress.delete(e),this.connectionPrefetchTriggered.add(e),console.log(`[MetadataCache] Completed eager prefetch for connection: ${e}`)}))}async executeConnectionPrefetch(e,r){let n=await this.prefetchDatabases(e,r);if(!(!n||n.length===0)){for(let i of n)await this.prefetchSchemasForDb(e,i,r),await new Promise(s=>setTimeout(s,50));await this.prefetchAllTablesAndViews(e,r),await this.prefetchAllColumnsForConnection(e,r)}}async prefetchDatabases(e,r){if(this.getDatabases(e))return this.getDatabases(e)?.map(i=>typeof i.label=="string"?i.label:i.label?.label).filter(Boolean)||[];try{let i=await r("SELECT DATABASE FROM system.._v_database ORDER BY DATABASE");if(!i)return[];let s=JSON.parse(i),o=s.map(a=>({label:a.DATABASE,kind:9,detail:"Database"}));return this.setDatabases(e,o),s.map(a=>a.DATABASE)}catch(n){return console.error("[MetadataCache] prefetchDatabases error:",n),[]}}async prefetchSchemasForDb(e,r,n){if(!this.getSchemas(e,r))try{let i=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,s=await n(i);if(!s)return;let a=JSON.parse(s).filter(l=>l.SCHEMA!=null&&l.SCHEMA!=="").map(l=>({label:l.SCHEMA,kind:19,detail:`Schema in ${r}`,insertText:l.SCHEMA,sortText:l.SCHEMA,filterText:l.SCHEMA}));this.setSchemas(e,r,a)}catch(i){console.error(`[MetadataCache] prefetchSchemasForDb error for ${r}:`,i)}}async prefetchAllTablesAndViews(e,r){try{let i=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!i)return;let s=JSON.parse(i),o=new Map;for(let a of s){let l=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}`:`${a.DBNAME}..`;o.has(l)||o.set(l,{tables:[],idMap:new Map});let c=o.get(l),u=7;a.OBJTYPE==="VIEW"&&(u=18),a.OBJTYPE==="EXTERNAL TABLE"&&(u=6),c.tables.push({label:a.OBJNAME,kind:a.OBJTYPE==="VIEW"?18:7,detail:a.SCHEMA?a.OBJTYPE:`${a.OBJTYPE} (${a.SCHEMA})`,sortText:a.OBJNAME,objType:a.OBJTYPE});let d=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}.${a.OBJNAME}`:`${a.DBNAME}..${a.OBJNAME}`;c.idMap.set(d,a.OBJID)}for(let[a,l]of o)this.getTables(e,a)||this.setTables(e,a,l.tables,l.idMap);console.log(`[MetadataCache] Prefetched tables/views for ${o.size} schema(s)`)}catch(n){console.error("[MetadataCache] prefetchAllTablesAndViews error:",n)}}async prefetchAllColumnsForConnection(e,r){try{let n=`${e}|`,i=[];for(let[a,l]of this.tableCache){if(!a.startsWith(n))continue;let c=a.split("|");if(c.length<2)continue;let d=c[1].split("."),h=d[0],f=d.length>1?d[1]:"";for(let g of l.data){let p=typeof g.label=="string"?g.label:g.label.label;p&&i.push({schema:f,name:p,db:h})}}if(i.length===0)return;let s=50,o=0;for(let a=0;a<i.length;a+=s){let l=i.slice(a,a+s),c=new Map;for(let u of l)c.has(u.db)||c.set(u.db,[]),c.get(u.db).push(u);for(let[u,d]of c){let h=d.map(g=>`(UPPER(O.SCHEMA) = UPPER('${g.schema}') AND UPPER(O.OBJNAME) = UPPER('${g.name}'))`).join(" OR "),f=`
                        SELECT O.OBJNAME AS TABLENAME, O.SCHEMA, O.DBNAME, 
                               C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                        FROM ${u}.._V_RELATION_COLUMN C
                        JOIN ${u}.._V_OBJECT_DATA O ON C.OBJID = O.OBJID
                        WHERE O.DBNAME = '${u}' 
                        AND (${h})
                        ORDER BY O.SCHEMA, O.OBJNAME, C.ATTNUM
                    `;try{let g=await r(f);if(g){let p=JSON.parse(g),m=new Map;for(let y of p){let v=`${y.DBNAME}.${y.SCHEMA||""}.${y.TABLENAME}`;m.has(v)||m.set(v,[]),m.get(v).push({label:y.ATTNAME,kind:5,detail:y.FORMAT_TYPE})}for(let[y,v]of m)this.getColumns(e,y)||(this.setColumns(e,y,v),o++)}}catch(g){console.error(`[MetadataCache] Error fetching batch columns for DB ${u}:`,g)}}await new Promise(u=>setTimeout(u,10))}console.log(`[MetadataCache] Prefetched columns for ${o} tables/views (Batched)`)}catch(n){console.error("[MetadataCache] prefetchAllColumnsForConnection error:",n)}}};var Q3=Je(require("path"));function X3(t,e){let r=e.getKeepConnectionOpen();t.text=r?"\u{1F517} Keep Connection ON":"\u26D3\uFE0F\u200D\u{1F4A5} Keep Connection OFF",t.tooltip=r?"Keep Connection Open: ENABLED - Click to disable":"Keep Connection Open: DISABLED - Click to enable",t.backgroundColor=r?new T.ThemeColor("statusBarItem.prominentBackground"):void 0}var Z3=[{id:"mtxr.sqltools",name:"SQLTools"},{id:"ms-mssql.mssql",name:"Microsoft SQL Server"},{id:"oracle.oracledevtools",name:"Oracle Developer Tools"},{id:"cweijan.vscode-mysql-client2",name:"MySQL"},{id:"ckolkman.vscode-postgres",name:"PostgreSQL"}];async function pbe(t){let e=T.workspace.getConfiguration("netezza");if(!e.get("showConflictWarnings",!0))return;let n=[];for(let a of Z3)T.extensions.getExtension(a.id)&&n.push(a.name);let s=T.extensions.all.filter(a=>{let l=a.packageJSON;if(!l||a.id==="krzysztof-d.justybaselite-netezza"||Z3.some(h=>h.id===a.id))return!1;let c=l.activationEvents?.some(h=>h.includes("onLanguage:sql")||h.includes("onLanguage:mssql")),u=l.contributes?.languages?.some(h=>h.id==="sql"||h.extensions?.includes(".sql"));return(l.displayName||"")==="SQL Language Basics"?!1:c||u}).map(a=>a.packageJSON.displayName||a.id),o=[...n,...s];if(o.length>0){let a=o.length===1?`SQL extension detected "${o[0]}" which may cause conflicts (e.g. duplicate keybindings F5, Ctrl+Enter).`:`SQL extensions detected which may cause conflicts: ${o.join(", ")}. Some functions (e.g. F5, Ctrl+Enter) may be duplicated.`;await T.window.showWarningMessage(a,"OK","Do not show again")==="Do not show again"&&await e.update("showConflictWarnings",!1,T.ConfigurationTarget.Global)}}async function gbe(t){console.log("Netezza extension: Activating..."),pbe(t),t.subscriptions.push({dispose:()=>{e.closeAllPersistentConnections()}});let e=new Ss(t),r=new Cf(t);await r.initialize();let n=new Ol(t,e,r),i=new Ml(t.extensionUri),s=T.window.createStatusBarItem(T.StatusBarAlignment.Left,100);s.command="netezza.selectConnectionForTab",s.tooltip="Click to select connection for this SQL tab",t.subscriptions.push(s);let o=()=>{let S=T.window.activeTextEditor;if(S&&S.document.languageId==="sql"){let B=S.document.uri.toString(),F=e.getConnectionForExecution(B);F?(s.text=`$(database) ${F}`,s.show()):(s.text="$(database) Select Connection",s.show())}else s.hide()};o(),e.onDidChangeActiveConnection(S=>{o(),S&&!r.hasConnectionPrefetchTriggered(S)&&r.triggerConnectionPrefetch(S,B=>Ee(t,B,!0,S,e))}),e.onDidChangeConnections(o),e.onDidChangeDocumentConnection(S=>{o();let B=e.getDocumentConnection(S);B&&!r.hasConnectionPrefetchTriggered(B)&&r.triggerConnectionPrefetch(B,F=>Ee(t,F,!0,B,e))}),T.window.onDidChangeActiveTextEditor(o);let a=T.window.createStatusBarItem(T.StatusBarAlignment.Right,100);a.command="netezza.toggleKeepConnectionOpen",X3(a,e),a.show(),t.subscriptions.push(a),console.log("Netezza extension: Registering SchemaSearchProvider...");let l=new Fl(t.extensionUri,t,r,e);console.log("Netezza extension: Registering QueryHistoryView...");let c=new Bl(t.extensionUri,t),u=T.window.createTreeView("netezza.schema",{treeDataProvider:n,showCollapseAll:!0});t.subscriptions.push(T.window.registerWebviewViewProvider(Ml.viewType,i),T.window.registerWebviewViewProvider(Fl.viewType,l),T.window.registerWebviewViewProvider(Bl.viewType,c));let d=/(^|\s)(?:[A-Za-z]:\\|\\|\/)?[\w.\-\\\/]+\.py\b|(^|\s)python(?:\.exe)?\s+[^\n]*\.py\b/i;function h(S){return S&&(S.includes(" ")?`"${S.replace(/"/g,'\\"')}"`:S)}function f(S,B,F){let W=/[ \\/]/.test(S)?`& ${h(S)}`:S,H=h(B),J=F.map(V=>h(V)).join(" ");return`${W} ${H}${J?" "+J:""}`.trim()}class g{constructor(){this._onDidChange=new T.EventEmitter;this.onDidChangeCodeLenses=this._onDidChange.event}provideCodeLenses(B){let F=[];for(let j=0;j<B.lineCount;j++){let W=B.lineAt(j);if(d.test(W.text)){let H=W.range,J={title:"Run as script",command:"netezza.runScriptFromLens",arguments:[B.uri,H]};F.push(new T.CodeLens(H,J))}}return F}refresh(){this._onDidChange.fire()}}let p=new g;t.subscriptions.push(T.languages.registerCodeLensProvider({scheme:"file"},p));let m=T.window.createTextEditorDecorationType({backgroundColor:new T.ThemeColor("editor.rangeHighlightBackground"),borderRadius:"3px"});function y(S){let B=S||T.window.activeTextEditor;if(!B)return;let F=B.document,j=[];for(let W=0;W<F.lineCount;W++){let H=F.lineAt(W);d.test(H.text)&&j.push({range:H.range,hoverMessage:"Python script invocation"})}B.setDecorations(m,j)}t.subscriptions.push(T.window.onDidChangeActiveTextEditor(()=>y()),T.workspace.onDidChangeTextDocument(S=>{T.window.activeTextEditor&&S.document===T.window.activeTextEditor.document&&y(T.window.activeTextEditor)})),t.subscriptions.push(T.commands.registerCommand("netezza.runScriptFromLens",async(S,B)=>{try{let F=await T.workspace.openTextDocument(S),j=F.getText(B).trim()||F.lineAt(B.start.line).text.trim();if(!j){T.window.showWarningMessage("No script command found");return}let W=j.split(/\s+/),H=W[0]||"",J=/python(\\.exe)?$/i.test(H)&&W.length>=2&&W[1].toLowerCase().endsWith(".py"),V=H.toLowerCase().endsWith(".py"),ee=T.workspace.getConfiguration("netezza").get("pythonPath")||"python",X="";if(J){let ue=W[0],je=W[1],Ke=W.slice(2);X=f(ue,je,Ke)}else if(V){let ue=H,je=W.slice(1);X=f(ee,ue,je)}else X=f(ee,"",W);let fe=T.window.createTerminal({name:"Netezza: Script"});fe.show(!0),fe.sendText(X,!0),T.window.showInformationMessage(`Running script: ${X}`)}catch(F){T.window.showErrorMessage(`Error running script: ${F.message}`)}})),y(T.window.activeTextEditor);let v=T.window.createTextEditorDecorationType({backgroundColor:"rgba(5, 115, 201, 0.10)",isWholeLine:!1,rangeBehavior:T.DecorationRangeBehavior.ClosedClosed});function b(S){if(!T.workspace.getConfiguration("netezza").get("highlightActiveStatement",!0)||!S||S.document.languageId!=="sql"&&S.document.languageId!=="mssql"){S&&S.setDecorations(v,[]);return}try{let j=S.document,W=S.selection.active,H=j.offsetAt(W),J=j.getText(),V=wn.getStatementAtPosition(J,H);if(V){let K=j.positionAt(V.start),ee=j.positionAt(V.end),X=new T.Range(K,ee);S.setDecorations(v,[X])}else S.setDecorations(v,[])}catch(j){console.error("Error updating SQL highlight:",j)}}t.subscriptions.push(T.window.onDidChangeTextEditorSelection(S=>{b(S.textEditor)}),T.window.onDidChangeActiveTextEditor(S=>{b(S)}),T.workspace.onDidChangeConfiguration(S=>{S.affectsConfiguration("netezza.highlightActiveStatement")&&b(T.window.activeTextEditor)})),b(T.window.activeTextEditor),t.subscriptions.push(T.window.onDidChangeActiveTextEditor(S=>{if(S&&S.document){let B=S.document.uri.toString();i.setActiveSource(B)}})),t.subscriptions.push(T.commands.registerCommand("netezza.viewEditData",S=>{Af.createOrShow(t.extensionUri,S,t,e)})),t.subscriptions.push(T.commands.registerCommand("netezza.createProcedure",async S=>{if(!S||!S.dbName){T.window.showErrorMessage("Invalid selection. Select a Procedure folder.");return}let B=await T.window.showInputBox({prompt:"Enter new procedure name",placeHolder:"NEW_PROCEDURE",value:"NEW_PROCEDURE"});if(B===void 0)return;let F=B.trim()||"NEW_PROCEDURE",W=`CREATE OR REPLACE PROCEDURE ${S.dbName}.SCHEMA.${F}(INTEGER)
RETURNS INTEGER
EXECUTE AS CALLER
LANGUAGE NZPLSQL AS
BEGIN_PROC
DECLARE
    arg1 ALIAS FOR $1;
BEGIN
    -- YOUR CODE GOES HERE
    
    EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE EXCEPTION  'Procedure failed: %', sqlerrm;
        --RAISE NOTICE 'Caught error, continuing %', sqlerrm;

END;
END_PROC;`,H=await T.workspace.openTextDocument({content:W,language:"sql"});await T.window.showTextDocument(H)})),t.subscriptions.push(T.commands.registerCommand("netezza.toggleKeepConnectionOpen",()=>{let S=e.getKeepConnectionOpen();e.setKeepConnectionOpen(!S),X3(a,e);let B=!S;T.window.showInformationMessage(B?"Keep connection open: ENABLED - connection will remain open after queries":"Keep connection open: DISABLED - connection will be closed after each query")}),T.commands.registerCommand("netezza.cancelQuery",async()=>{await Rv()}),T.commands.registerCommand("netezza.selectActiveConnection",async()=>{let S=await e.getConnections();if(S.length===0){T.window.showWarningMessage("No connections configured. Please connect first.");return}let B=await T.window.showQuickPick(S.map(F=>F.name),{placeHolder:"Select Active Connection"});B&&(await e.setActiveConnection(B),T.window.showInformationMessage(`Active connection set to: ${B}`))}),T.commands.registerCommand("netezza.selectConnectionForTab",async()=>{let S=T.window.activeTextEditor;if(!S||S.document.languageId!=="sql"){T.window.showWarningMessage("This command is only available for SQL files");return}let B=await e.getConnections();if(B.length===0){T.window.showWarningMessage("No connections configured. Please connect first.");return}let F=S.document.uri.toString(),j=e.getDocumentConnection(F)||e.getActiveConnectionName(),W=B.map(J=>({label:J.name,description:j===J.name?"$(check) Currently selected":`${J.host}:${J.port}/${J.database}`,detail:(j===J.name,void 0),name:J.name})),H=await T.window.showQuickPick(W,{placeHolder:"Select connection for this SQL tab"});H&&(e.setDocumentConnection(F,H.name),T.window.showInformationMessage(`Connection for this tab set to: ${H.name}`))}),T.commands.registerCommand("netezza.openLogin",()=>{wf.createOrShow(t.extensionUri,e)}),T.commands.registerCommand("netezza.refreshSchema",async()=>{await r.clearCache(),n.refresh(),T.window.showInformationMessage("Schema refreshed (Cache cleared)")}),T.commands.registerCommand("netezza.copySelectAll",async S=>{if(S&&S.label&&S.dbName&&S.schema){let B=`SELECT * FROM ${S.dbName}.${S.schema}.${S.label} LIMIT 1000;`,F=await T.window.showQuickPick([{label:"Open in Editor",description:"Open SQL in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy SQL to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the SQL?"});if(F)if(F.value==="editor"){let j=await T.workspace.openTextDocument({content:B,language:"sql"});await T.window.showTextDocument(j)}else await T.env.clipboard.writeText(B),T.window.showInformationMessage("Copied to clipboard")}}),T.commands.registerCommand("netezza.copyDrop",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType){let B=`${S.dbName}.${S.schema}.${S.label}`,F=`DROP ${S.objType} ${B};`;if(await T.window.showWarningMessage(`Are you sure you want to delete ${S.objType.toLowerCase()} "${B}"?`,{modal:!0},"Yes, delete","Cancel")==="Yes, delete")try{if(!await e.getConnectionString()){T.window.showErrorMessage("No database connection");return}await T.window.withProgress({location:T.ProgressLocation.Notification,title:`Deleting ${S.objType.toLowerCase()} ${B}...`,cancellable:!1},async H=>{await Ee(t,F,!0,S.connectionName,e)}),T.window.showInformationMessage(`Deleted ${S.objType.toLowerCase()}: ${B}`),n.refresh()}catch(W){T.window.showErrorMessage(`Error during deletion: ${W.message}`)}}}),T.commands.registerCommand("netezza.copyName",S=>{if(S&&S.label&&S.dbName&&S.schema){let B=`${S.dbName}.${S.schema}.${S.label}`;T.env.clipboard.writeText(B),T.window.showInformationMessage("Copied to clipboard")}}),T.commands.registerCommand("netezza.grantPermissions",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType){let B=`${S.dbName}.${S.schema}.${S.label}`,F=await T.window.showQuickPick([{label:"SELECT",description:"Privileges to read data"},{label:"INSERT",description:"Privileges to insert data"},{label:"UPDATE",description:"Privileges to update data"},{label:"DELETE",description:"Privileges to delete data"},{label:"ALL",description:"All privileges (SELECT, INSERT, UPDATE, DELETE)"},{label:"LIST",description:"Privileges to list objects"}],{placeHolder:"Select privilege type"});if(!F)return;let j=await T.window.showInputBox({prompt:"Enter user or group name",placeHolder:"e.g. SOME_USER or GROUP_NAME",validateInput:J=>!J||J.trim().length===0?"User/group name cannot be empty":/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(J.trim())?null:"Invalid user/group name"});if(!j)return;let W=`GRANT ${F.label} ON ${B} TO ${j.trim().toUpperCase()};`;if(await T.window.showInformationMessage(`Execute: ${W}`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{if(!await e.getConnectionString()){T.window.showErrorMessage("No database connection");return}await T.window.withProgress({location:T.ProgressLocation.Notification,title:`Granting ${F.label} on ${B}...`,cancellable:!1},async V=>{await Ee(t,W,!0,S.connectionName,e)}),T.window.showInformationMessage(`Granted ${F.label} on ${B} to ${j.trim().toUpperCase()}`)}catch(J){T.window.showErrorMessage(`Error granting privileges: ${J.message}`)}}}),T.commands.registerCommand("netezza.groomTable",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType==="TABLE"){let B=`${S.dbName}.${S.schema}.${S.label}`,F=await T.window.showQuickPick([{label:"RECORDS ALL",description:"Groom all records (reclaim space from deleted rows)"},{label:"RECORDS READY",description:"Groom only ready records"},{label:"PAGES ALL",description:"Groom all pages (reorganize data pages)"},{label:"PAGES START",description:"Groom pages from start"},{label:"VERSIONS",description:"Groom versions (clean up old row versions)"}],{placeHolder:"Select GROOM mode"});if(!F)return;let j=await T.window.showQuickPick([{label:"DEFAULT",description:"Use default backupset",value:"DEFAULT"},{label:"NONE",description:"No backupset",value:"NONE"},{label:"Custom",description:"Specify custom backupset ID",value:"CUSTOM"}],{placeHolder:"Select RECLAIM BACKUPSET option"});if(!j)return;let W=j.value;if(j.value==="CUSTOM"){let V=await T.window.showInputBox({prompt:"Enter backupset ID",placeHolder:"e.g. 12345",validateInput:K=>!K||K.trim().length===0?"Backupset ID cannot be empty":/^\d+$/.test(K.trim())?null:"Backupset ID must be a number"});if(!V)return;W=V.trim()}let H=`GROOM TABLE ${B} ${F.label} RECLAIM BACKUPSET ${W};`;if(await T.window.showWarningMessage(`Execute GROOM on table "${B}"?

${H}

Warning: This operation may be time-consuming for large tables.`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{if(!await e.getConnectionString()){T.window.showErrorMessage("No database connection");return}let K=Date.now();await T.window.withProgress({location:T.ProgressLocation.Notification,title:`GROOM TABLE ${B} (${F.label})...`,cancellable:!1},async X=>{await Ee(t,H,!0,S.connectionName,e)});let ee=((Date.now()-K)/1e3).toFixed(1);T.window.showInformationMessage(`GROOM completed successfully (${ee}s): ${B}`)}catch(V){T.window.showErrorMessage(`Error during GROOM: ${V.message}`)}}}),T.commands.registerCommand("netezza.addTableComment",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType==="TABLE"){let B=`${S.dbName}.${S.schema}.${S.label}`,F=await T.window.showInputBox({prompt:"Enter comment for table",placeHolder:"e.g. Table contains customer data",value:S.objectDescription||""});if(F===void 0)return;let j=`COMMENT ON TABLE ${B} IS '${F.replace(/'/g,"''")}';`;try{if(!await e.getConnectionString()){T.window.showErrorMessage("No database connection");return}await Ee(t,j,!0,S.connectionName,e),T.window.showInformationMessage(`Comment added to table: ${B}`),n.refresh()}catch(W){T.window.showErrorMessage(`Error adding comment: ${W.message}`)}}}),T.commands.registerCommand("netezza.generateStatistics",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType==="TABLE"){let B=`${S.dbName}.${S.schema}.${S.label}`,F=`GENERATE EXPRESS STATISTICS ON ${B};`;if(await T.window.showInformationMessage(`Generate statistics for table "${B}"?

${F}`,{modal:!0},"Yes, generate","Cancel")==="Yes, generate")try{if(!await e.getConnectionString()){T.window.showErrorMessage("No database connection");return}let H=Date.now();await T.window.withProgress({location:T.ProgressLocation.Notification,title:`Generating statistics for ${B}...`,cancellable:!1},async V=>{await Ee(t,F,!0,S.connectionName,e)});let J=((Date.now()-H)/1e3).toFixed(1);T.window.showInformationMessage(`Statistics generated successfully (${J}s): ${B}`)}catch(W){T.window.showErrorMessage(`Error generating statistics: ${W.message}`)}}}),T.commands.registerCommand("netezza.truncateTable",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType==="TABLE"){let B=`${S.dbName}.${S.schema}.${S.label}`,F=`TRUNCATE TABLE ${B};`;if(await T.window.showWarningMessage(`\u26A0\uFE0F WARNING: Are you sure you want to delete ALL data from the table "${B}"?

${F}

This operation is IRREVERSIBLE!`,{modal:!0},"Yes, delete all data","Cancel")==="Yes, delete all data")try{if(!await e.getConnectionString()){T.window.showErrorMessage("No database connection");return}await T.window.withProgress({location:T.ProgressLocation.Notification,title:`Clearing table ${B}...`,cancellable:!1},async H=>{await Ee(t,F,!0,S.connectionName,e)}),T.window.showInformationMessage(`Table cleared: ${B}`)}catch(W){T.window.showErrorMessage(`Error clearing table: ${W.message}`)}}}),T.commands.registerCommand("netezza.addPrimaryKey",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType==="TABLE"){let B=`${S.dbName}.${S.schema}.${S.label}`,F=await T.window.showInputBox({prompt:"Enter primary key constraint name",placeHolder:`e.g. PK_${S.label}`,value:`PK_${S.label}`,validateInput:V=>!V||V.trim().length===0?"Constraint name cannot be empty":/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(V.trim())?null:"Invalid constraint name"});if(!F)return;let j=await T.window.showInputBox({prompt:"Enter primary key column names (comma separated)",placeHolder:"e.g. COL1, COL2 or ID",validateInput:V=>!V||V.trim().length===0?"You must provide at least one column":null});if(!j)return;let W=j.split(",").map(V=>V.trim().toUpperCase()).join(", "),H=`ALTER TABLE ${B} ADD CONSTRAINT ${F.trim().toUpperCase()} PRIMARY KEY (${W});`;if(await T.window.showInformationMessage(`Add primary key to table "${B}"?

${H}`,{modal:!0},"Yes, add","Cancel")==="Yes, add")try{if(!await e.getConnectionString()){T.window.showErrorMessage("No database connection");return}await T.window.withProgress({location:T.ProgressLocation.Notification,title:`Adding primary key to ${B}...`,cancellable:!1},async K=>{await Ee(t,H,!0,S.connectionName,e)}),T.window.showInformationMessage(`Primary key added: ${F.trim().toUpperCase()}`),n.refresh()}catch(V){T.window.showErrorMessage(`Error adding primary key: ${V.message}`)}}}),T.commands.registerCommand("netezza.createDDL",async S=>{try{if(!S||!S.label||!S.dbName||!S.schema||!S.objType){T.window.showErrorMessage("Invalid object selected for DDL generation");return}let B=await e.getConnectionString();if(!B){T.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}await T.window.withProgress({location:T.ProgressLocation.Notification,title:`Generating DDL for ${S.objType} ${S.label}...`,cancellable:!1},async()=>{let{generateDDL:F}=await Promise.resolve().then(()=>(ug(),Ov)),j=await F(B,S.dbName,S.schema,S.label,S.objType);if(j.success&&j.ddlCode){let W=await T.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the DDL code?"});if(W)if(W.value==="editor"){let H=await T.workspace.openTextDocument({content:j.ddlCode,language:"sql"});await T.window.showTextDocument(H),T.window.showInformationMessage(`DDL code generated for ${S.objType} ${S.label}`)}else W.value==="clipboard"&&(await T.env.clipboard.writeText(j.ddlCode),T.window.showInformationMessage("DDL code copied to clipboard"))}else throw new Error(j.error||"DDL generation failed")})}catch(B){T.window.showErrorMessage(`Error generating DDL: ${B.message}`)}}),T.commands.registerCommand("netezza.recreateTable",async S=>{try{if(!S||!S.label||!S.dbName||!S.schema||!S.objType||S.objType!=="TABLE"){T.window.showErrorMessage("Invalid object selected for Recreate Table");return}let B=await e.getConnectionString();if(!B){T.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let F=await T.window.showInputBox({prompt:"Enter temporary table name (Optional)",placeHolder:"Leave empty to auto-generate timestamped name",value:""});if(F===void 0)return;await T.window.withProgress({location:T.ProgressLocation.Notification,title:`Generating Recreate Script for ${S.label}...`,cancellable:!1},async()=>{let{generateRecreateTableScript:j}=await Promise.resolve().then(()=>(Mv(),Lv)),W=await j(B,S.dbName,S.schema,S.label,F||void 0);if(W.success&&W.sqlScript){let H=await T.workspace.openTextDocument({content:W.sqlScript,language:"sql"});await T.window.showTextDocument(H),T.window.showInformationMessage(`Recreate script generated for ${S.label}`)}else throw new Error(W.error||"Script generation failed")})}catch(B){T.window.showErrorMessage(`Error generating recreate script: ${B.message}`)}}),T.commands.registerCommand("netezza.checkSkew",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType==="TABLE"){let B=`${S.dbName}.${S.schema}.${S.label}`,F=`SELECT datasliceid, count(*) as row_count FROM ${B} GROUP BY 1 ORDER BY 1;`;if(await T.window.showInformationMessage(`Check skew for "${B}"?

This will run: ${F}

Note: This may be slow on very large tables.`,{modal:!0},"Yes, check skew","Cancel")==="Yes, check skew"){let W=await T.workspace.openTextDocument({content:`-- Check Skew for ${B}
${F}`,language:"sql"});await T.window.showTextDocument(W),T.commands.executeCommand("netezza.runQuery")}}}),T.commands.registerCommand("netezza.changeOwner",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType==="TABLE"){let B=`${S.dbName}.${S.schema}.${S.label}`,F=await T.window.showInputBox({prompt:"Enter new owner name",placeHolder:"e.g. USER_NAME or GROUP_NAME"});if(!F)return;let j=`ALTER TABLE ${B} OWNER TO ${F.trim()};`;try{if(!await e.getConnectionString()){T.window.showErrorMessage("No database connection");return}await Ee(t,j,!0,S.connectionName,e),T.window.showInformationMessage(`Owner changed to ${F} for ${B}`),r.invalidateSchema(S.connectionName,S.dbName,S.schema),n.refresh()}catch(W){T.window.showErrorMessage(`Error changing owner: ${W.message}`)}}}),T.commands.registerCommand("netezza.renameTable",async S=>{if(S&&S.label&&S.dbName&&S.schema&&S.objType==="TABLE"){let B=`${S.dbName}.${S.schema}.${S.label}`,F=await T.window.showInputBox({prompt:"Enter new table name",placeHolder:"NewTableName",value:S.label});if(!F||F===S.label)return;let j=`ALTER TABLE ${B} RENAME TO ${F.trim()};`;try{if(!await e.getConnectionString()){T.window.showErrorMessage("No database connection");return}await Ee(t,j,!0,S.connectionName,e),T.window.showInformationMessage(`Table renamed to ${F}`),r.invalidateSchema(S.connectionName,S.dbName,S.schema),n.refresh()}catch(W){T.window.showErrorMessage(`Error renaming table: ${W.message}`)}}}),T.commands.registerCommand("netezza.revealInSchema",async S=>{let B=T.window.setStatusBarMessage(`$(loading~spin) Revealing ${S.name} in schema...`);try{let F,j=T.window.activeTextEditor;if(j&&j.document.languageId==="sql"&&(F=e.getConnectionForExecution(j.document.uri.toString())),F||(F=S.connectionName),F||(F=e.getActiveConnectionName()||void 0),!F){B.dispose(),T.window.showWarningMessage("No active connection. Please select a connection first.");return}let W=S.name,H=S.objType,J=H?[H]:["TABLE","VIEW","EXTERNAL TABLE","PROCEDURE","FUNCTION","SEQUENCE","SYNONYM"];if(H==="COLUMN"){if(!S.parent){B.dispose(),T.window.showWarningMessage("Cannot find column without parent table");return}W=S.parent}if(S.database){let ee=r.findObjectWithType(F,S.database,S.schema,W);if(ee){let{SchemaItem:X}=await Promise.resolve().then(()=>(Ll(),_f)),fe=new X(ee.name,T.TreeItemCollapsibleState.Collapsed,`netezza:${ee.objType}`,S.database,ee.objType,ee.schema||S.schema,ee.objId,void 0,F);await u.reveal(fe,{select:!0,focus:!0,expand:!0}),B.dispose(),T.window.setStatusBarMessage(`$(check) Found ${W} in ${S.database}.${ee.schema||S.schema} (cached)`,3e3);return}else r.hasConnectionPrefetchTriggered(F)||r.triggerConnectionPrefetch(F,async X=>Ee(t,X,!0,F,e))}if(!await e.getConnectionString(F)){B.dispose(),T.window.showWarningMessage("Not connected to database and object not found in cache.");return}let K=S.database||await e.getCurrentDatabase(F);if(K){let ee=H&&H!=="COLUMN"?`AND UPPER(OBJTYPE) = UPPER('${H}')`:"",X=S.schema?`AND UPPER(SCHEMA) = UPPER('${S.schema.replace(/'/g,"''")}')`:"",fe=`
                        SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                        FROM ${K}.._V_OBJECT_DATA 
                        WHERE UPPER(OBJNAME) = UPPER('${W.replace(/'/g,"''")}') 
                        AND DBNAME = '${K}'
                        ${ee}
                        ${X}
                        LIMIT 1
                    `;try{let ue=await Ee(t,fe,!0,F,e);if(ue){let je=[];if(ue==="Query executed successfully (no results)."||ue.startsWith("Query executed successfully")?je=[]:je=JSON.parse(ue),je.length>0){let Ke=je[0];if(Ke.OBJTYPE==="PROCEDURE")try{let It=`SELECT PROCEDURESIGNATURE FROM ${K}.._V_PROCEDURE WHERE OBJID = ${Ke.OBJID}`,ps=await Ee(t,It,!0,F,e);if(ps){let gs=JSON.parse(ps);gs.length>0&&gs[0].PROCEDURESIGNATURE&&(Ke.OBJNAME=gs[0].PROCEDURESIGNATURE)}}catch(It){console.warn("Failed to resolve procedure signature:",It)}let{SchemaItem:Ct}=await Promise.resolve().then(()=>(Ll(),_f)),ar=new Ct(Ke.OBJNAME,T.TreeItemCollapsibleState.Collapsed,`netezza:${Ke.OBJTYPE}`,K,Ke.OBJTYPE,Ke.SCHEMA,Ke.OBJID,void 0,F);await u.reveal(ar,{select:!0,focus:!0,expand:!0}),B.dispose(),T.window.setStatusBarMessage(`$(check) Found ${W} in ${K}.${Ke.SCHEMA}`,3e3);return}}}catch(ue){console.log(`Error searching in ${K}:`,ue)}}if(!K){let ee=await Ee(t,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,F,e);if(ee){let X=JSON.parse(ee);for(let fe of X){let ue=fe.DATABASE;try{let je=S.schema?`AND UPPER(SCHEMA) = UPPER('${S.schema.replace(/'/g,"''")}')`:"",Ke=`
                                    SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                                    FROM ${ue}.._V_OBJECT_DATA 
                                    WHERE UPPER(OBJNAME) = UPPER('${W.replace(/'/g,"''")}') 
                                    AND DBNAME = '${ue}'
                                    ${je}
                                    LIMIT 1
                                `,Ct=await Ee(t,Ke,!0,F,e);if(Ct){let ar=[];if(Ct==="Query executed successfully (no results)."||Ct.startsWith("Query executed successfully")?ar=[]:ar=JSON.parse(Ct),ar.length>0){let It=ar[0];if(It.OBJTYPE==="PROCEDURE")try{let Io=`SELECT PROCEDURESIGNATURE FROM ${ue}.._V_PROCEDURE WHERE OBJID = ${It.OBJID}`,No=await Ee(t,Io,!0,F,e);if(No){let Do=JSON.parse(No);Do.length>0&&Do[0].PROCEDURESIGNATURE&&(It.OBJNAME=Do[0].PROCEDURESIGNATURE)}}catch(Io){console.warn("Failed to resolve procedure signature:",Io)}let{SchemaItem:ps}=await Promise.resolve().then(()=>(Ll(),_f)),gs=new ps(It.OBJNAME,T.TreeItemCollapsibleState.Collapsed,`netezza:${It.OBJTYPE}`,ue,It.OBJTYPE,It.SCHEMA,It.OBJID,void 0,F);await u.reveal(gs,{select:!0,focus:!0,expand:!0}),B.dispose(),T.window.setStatusBarMessage(`$(check) Found ${W} in ${ue}.${It.SCHEMA}`,3e3);return}}}catch(je){console.log(`Error searching in ${ue}:`,je)}}}}B.dispose(),T.window.showWarningMessage(`Could not find ${H||"object"} ${W}`)}catch(F){B.dispose(),T.window.showErrorMessage(`Error revealing item: ${F.message}`)}}),T.commands.registerCommand("netezza.showQueryHistory",()=>{T.commands.executeCommand("netezza.queryHistory.focus")}),T.commands.registerCommand("netezza.clearQueryHistory",async()=>{let{QueryHistoryManager:S}=await Promise.resolve().then(()=>(bf(),Tv)),B=new S(t);await T.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await B.clearHistory(),c.refresh(),T.window.showInformationMessage("Query history cleared"))})),t.subscriptions.push(T.languages.registerDocumentLinkProvider({language:"sql"},new vf)),t.subscriptions.push(T.languages.registerFoldingRangeProvider({language:"sql"},new Tf)),t.subscriptions.push(T.commands.registerCommand("netezza.jumpToSchema",async()=>{let S=T.window.activeTextEditor;if(!S)return;let B=S.document,F=S.selection,j=B.offsetAt(F.active),W=wn.getObjectAtPosition(B.getText(),j);W?T.commands.executeCommand("netezza.revealInSchema",W):T.window.showWarningMessage("No object found at cursor")}));let w=T.commands.registerCommand("netezza.runQuery",async()=>{let S=T.window.activeTextEditor;if(!S){T.window.showErrorMessage("No active editor found");return}let B=S.document,F=S.selection,j=B.getText(),W=B.uri.toString(),H=[];if(F.isEmpty){let V=B.offsetAt(F.active),K=wn.getStatementAtPosition(j,V);if(K){H=[K.sql];let ee=B.positionAt(K.start),X=B.positionAt(K.end);S.selection=new T.Selection(ee,X)}else{T.window.showWarningMessage("No SQL statement found at cursor");return}}else{let V=B.getText(F);if(!V.trim()){T.window.showWarningMessage("No SQL query selected");return}/^\s*CREATE\s+(OR\s+REPLACE\s+)?PROCEDURE\b/i.test(V)?H=[V]:H=wn.splitStatements(V)}if(H.length===0)return;let J=H.length===1?H[0].trim():null;if(J){let V=J.split(/\s+/),K=V[0]||"",ee=/python(\.exe)?$/i.test(K)&&V.length>=2&&V[1].toLowerCase().endsWith(".py"),X=K.toLowerCase().endsWith(".py");if(ee||X){let ue=T.workspace.getConfiguration("netezza").get("pythonPath")||"python",je="";if(ee){let Ct=V[0],ar=V[1],It=V.slice(2);je=f(Ct,ar,It)}else{let Ct=K,ar=V.slice(1);je=f(ue,Ct,ar)}let Ke=T.window.createTerminal({name:"Netezza: Script"});Ke.show(!0),Ke.sendText(je,!0),T.window.showInformationMessage(`Running script: ${je}`);return}}try{i.startExecution(W);let V=await Dl(t,H,e,W,K=>i.log(W,K),K=>i.updateResults(K,W,!0));i.finalizeExecution(W),T.commands.executeCommand("netezza.results.focus")}catch(V){i.finalizeExecution(W),i.log(W,`Error: ${V.message}`),T.window.showErrorMessage(`Error executing query: ${V.message}`)}}),I=T.commands.registerCommand("netezza.runQueryBatch",async()=>{let S=T.window.activeTextEditor;if(!S){T.window.showErrorMessage("No active editor found");return}let B=S.document,F=S.selection,j=B.uri.toString(),W;if(F.isEmpty?W=B.getText():W=B.getText(F),!W.trim()){T.window.showWarningMessage("No SQL query to execute");return}let J=W.trim().split(/\s+/),V=J[0]||"",K=/python(\.exe)?$/i.test(V)&&J.length>=2&&J[1].toLowerCase().endsWith(".py"),ee=V.toLowerCase().endsWith(".py");if(K||ee){let fe=T.workspace.getConfiguration("netezza").get("pythonPath")||"python",ue="";if(K){let Ke=J[0],Ct=J[1],ar=J.slice(2);ue=f(Ke,Ct,ar)}else{let Ke=V,Ct=J.slice(1);ue=f(fe,Ke,Ct)}let je=T.window.createTerminal({name:"Netezza: Script"});je.show(!0),je.sendText(ue,!0),T.window.showInformationMessage(`Running script: ${ue}`);return}try{i.startExecution(j);let X=await Dl(t,[W],e,j,fe=>i.log(j,fe),fe=>i.updateResults(fe,j,!0));i.finalizeExecution(j),T.commands.executeCommand("netezza.results.focus")}catch(X){i.finalizeExecution(j),i.log(j,`Error: ${X.message}`),T.window.showErrorMessage(`Error executing query: ${X.message}`)}});t.subscriptions.push(I);let O=T.window.createOutputChannel("Netezza"),A=(S,B)=>{let F=Date.now()-B;O.appendLine(`[${new Date().toLocaleTimeString()}] ${S} completed in ${F}ms`),O.show(!0)},k=T.commands.registerCommand("netezza.exportToXlsb",async()=>{let S=T.window.activeTextEditor;if(!S){T.window.showErrorMessage("No active editor found");return}let B=S.selection,F=B.isEmpty?S.document.getText():S.document.getText(B);if(!F.trim()){T.window.showWarningMessage("No SQL query to export");return}let j=await T.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB"});if(!j)return;let W=Date.now();try{let H=S.document.uri.toString(),J=e.getConnectionForExecution(H),V=await e.getConnectionString(J);if(!V)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await T.window.withProgress({location:T.ProgressLocation.Notification,title:"Exporting to XLSB...",cancellable:!1},async K=>{let{exportQueryToXlsb:ee}=await Promise.resolve().then(()=>(Ao(),Ro)),X=await ee(V,F,j.fsPath,!1,fe=>{K.report({message:fe}),O.appendLine(`[XLSB Export] ${fe}`)});if(!X.success)throw new Error(X.message)}),A("Export to XLSB",W),T.window.showInformationMessage(`Results exported to ${j.fsPath}`)}catch(H){T.window.showErrorMessage(`Error exporting to XLSB: ${H.message}`)}}),N=T.commands.registerCommand("netezza.exportToCsv",async()=>{let S=T.window.activeTextEditor;if(!S){T.window.showErrorMessage("No active editor found");return}let B=S.selection,F=B.isEmpty?S.document.getText():S.document.getText(B);if(!F.trim()){T.window.showWarningMessage("No SQL query to export");return}let j=await T.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export to CSV"});if(!j)return;let W=Date.now();try{let H=S.document.uri.toString(),J=e.getConnectionForExecution(H),V=await e.getConnectionString(J);if(!V)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await T.window.withProgress({location:T.ProgressLocation.Notification,title:"Exporting to CSV...",cancellable:!1},async K=>{let{exportToCsv:ee}=await Promise.resolve().then(()=>($6(),k6));await ee(t,V,F,j.fsPath,K)}),A("Export to CSV",W),T.window.showInformationMessage(`Results exported to ${j.fsPath}`)}catch(H){T.window.showErrorMessage(`Error exporting to CSV: ${H.message}`)}}),L=T.commands.registerCommand("netezza.copyXlsbToClipboard",async()=>{let S=T.window.activeTextEditor;if(!S){T.window.showErrorMessage("No active editor found");return}let B=S.selection,F=B.isEmpty?S.document.getText():S.document.getText(B);if(!F.trim()){T.window.showWarningMessage("No SQL query to export");return}try{let j=S.document.uri.toString(),W=e.getConnectionForExecution(j),H=await e.getConnectionString(W);if(!H)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let J=Date.now();if(await T.window.withProgress({location:T.ProgressLocation.Notification,title:"Exporting to XLSB and copying to clipboard...",cancellable:!1},async K=>{let{exportQueryToXlsb:ee,getTempFilePath:X}=await Promise.resolve().then(()=>(Ao(),Ro)),fe=X(),ue=await ee(H,F,fe,!0,je=>{K.report({message:je}),O.appendLine(`[XLSB Clipboard] ${je}`)});if(!ue.success)throw new Error(ue.message);if(!ue.details?.clipboard_success)throw new Error("Failed to copy file to clipboard")}),A("Copy XLSB to Clipboard",J),await T.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let K=require("os").tmpdir();await T.env.openExternal(T.Uri.file(K))}}catch(j){T.window.showErrorMessage(`Error copying XLSB to clipboard: ${j.message}`)}}),M=T.commands.registerCommand("netezza.exportToXlsbAndOpen",async()=>{let S=T.window.activeTextEditor;if(!S){T.window.showErrorMessage("No active editor found");return}let B=S.selection,F=B.isEmpty?S.document.getText():S.document.getText(B);if(!F.trim()){T.window.showWarningMessage("No SQL query to export");return}let j=await T.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB and Open"});if(!j)return;let W=Date.now();try{let H=S.document.uri.toString(),J=e.getConnectionForExecution(H),V=await e.getConnectionString(J);if(!V)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await T.window.withProgress({location:T.ProgressLocation.Notification,title:"Exporting to XLSB and opening...",cancellable:!1},async K=>{let{exportQueryToXlsb:ee}=await Promise.resolve().then(()=>(Ao(),Ro)),X=await ee(V,F,j.fsPath,!1,fe=>{K.report({message:fe}),O.appendLine(`[XLSB Export] ${fe}`)});if(!X.success)throw new Error(X.message)}),A("Export to XLSB and Open",W),await T.env.openExternal(j),T.window.showInformationMessage(`Results exported and opened: ${j.fsPath}`)}catch(H){T.window.showErrorMessage(`Error exporting to XLSB: ${H.message}`)}}),Y=T.commands.registerCommand("netezza.importClipboard",async()=>{try{let B=T.window.activeTextEditor?.document?.uri?.toString(),F=e.getConnectionForExecution(B),j=await e.getConnectionString(F);if(!j)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let W=await T.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:K=>!K||K.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(K.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(W===void 0)return;let H;if(!W||W.trim().length===0)try{let ee=await Ee(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,F,e);if(ee){let X=JSON.parse(ee);if(X&&X.length>0){let fe=X[0].CURRENT_CATALOG||"SYSTEM",ue=X[0].CURRENT_SCHEMA||"ADMIN",Ke=new Date().toISOString().slice(0,10).replace(/-/g,""),Ct=Math.floor(Math.random()*1e4).toString().padStart(4,"0");H=`${fe}.${ue}.IMPORT_${Ke}_${Ct}`,T.window.showInformationMessage(`Auto-generated table name: ${H}`)}else throw new Error("Could not determine current database/schema")}else throw new Error("Could not determine current database/schema")}catch(K){T.window.showErrorMessage(`Error getting current database/schema: ${K.message}`);return}else H=W.trim();let J=await T.window.showQuickPick([{label:"Auto-detect",description:"Automatically detect clipboard format (text or Excel XML)",value:null},{label:"Excel XML Spreadsheet",description:"Force Excel XML format processing",value:"XML Spreadsheet"},{label:"Plain Text",description:"Force plain text processing with delimiter detection",value:"TEXT"}],{placeHolder:"Select clipboard data format"});if(!J)return;let V=Date.now();await T.window.withProgress({location:T.ProgressLocation.Notification,title:"Importing clipboard data...",cancellable:!1},async K=>{let{importClipboardDataToNetezza:ee}=await Promise.resolve().then(()=>(K3(),J3)),X=await ee(H,j,J.value,{},fe=>{K.report({message:fe}),O.appendLine(`[Clipboard Import] ${fe}`)});if(!X.success)throw new Error(X.message);X.details&&(O.appendLine(`[Clipboard Import] Rows processed: ${X.details.rowsProcessed}`),O.appendLine(`[Clipboard Import] Columns: ${X.details.columns}`),O.appendLine(`[Clipboard Import] Format: ${X.details.format}`))}),A("Import Clipboard Data",V),T.window.showInformationMessage(`Clipboard data imported successfully to table: ${H}`)}catch(S){T.window.showErrorMessage(`Error importing clipboard data: ${S.message}`)}}),G=T.commands.registerCommand("netezza.importData",async()=>{try{let B=T.window.activeTextEditor?.document?.uri?.toString(),F=e.getConnectionForExecution(B),j=await e.getConnectionString(F);if(!j)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let W=await T.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Data Files":["csv","txt","xlsx","xlsb","json"],"CSV Files":["csv"],"Excel Files":["xlsx","xlsb"],"Text Files":["txt"],"JSON Files":["json"],"All Files":["*"]},openLabel:"Select file to import"});if(!W||W.length===0)return;let H=W[0].fsPath,J=await T.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:X=>!X||X.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(X.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(J===void 0)return;let V;if(!J||J.trim().length===0)try{let fe=await Ee(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,F,e);if(fe){let ue=JSON.parse(fe);if(ue&&ue.length>0){let je=ue[0].CURRENT_CATALOG||"SYSTEM",Ke=ue[0].CURRENT_SCHEMA||"ADMIN",ar=new Date().toISOString().slice(0,10).replace(/-/g,""),It=Math.floor(Math.random()*1e4).toString().padStart(4,"0");V=`${je}.${Ke}.IMPORT_${ar}_${It}`,T.window.showInformationMessage(`Auto-generated table name: ${V}`)}else throw new Error("Could not determine current database/schema")}else throw new Error("Could not determine current database/schema")}catch(X){T.window.showErrorMessage(`Error getting current database/schema: ${X.message}`);return}else V=J.trim();let K=await T.window.showQuickPick([{label:"Default Import",description:"Use default settings",value:{}},{label:"Custom Options",description:"Configure import settings (coming soon)",value:null}],{placeHolder:"Select import options"});if(!K)return;if(K.value===null){T.window.showInformationMessage("Custom options will be available in future version");return}let ee=Date.now();await T.window.withProgress({location:T.ProgressLocation.Notification,title:"Importing data...",cancellable:!1},async X=>{let{importDataToNetezza:fe}=await Promise.resolve().then(()=>(lx(),G3)),ue=await fe(H,V,j,K.value||{},je=>{X.report({message:je}),O.appendLine(`[Import] ${je}`)});if(!ue.success)throw new Error(ue.message);ue.details&&(O.appendLine(`[Import] Rows processed: ${ue.details.rowsProcessed}`),O.appendLine(`[Import] Columns: ${ue.details.columns}`),O.appendLine(`[Import] Delimiter: ${ue.details.detectedDelimiter}`))}),A("Import Data",ee),T.window.showInformationMessage(`Data imported successfully to table: ${V}`)}catch(S){T.window.showErrorMessage(`Error importing data: ${S.message}`)}}),Q=T.commands.registerCommand("netezza.exportCurrentResultToXlsbAndOpen",async(S,B)=>{try{if(!S||Array.isArray(S)&&S.length===0){T.window.showErrorMessage("No data to export");return}let F=S;if(Array.isArray(S)&&S.length>1){let ee=await T.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!ee)return;if(ee==="Export Active Result Only"){let X=S.find(fe=>fe.isActive);X?F=[X]:F=[S[0]]}}let j=require("os"),W=require("path"),H=new Date().toISOString().replace(/[:.]/g,"-"),J=W.join(j.tmpdir(),`netezza_results_${H}.xlsb`),V=Date.now();await T.window.withProgress({location:T.ProgressLocation.Notification,title:"Creating Excel file...",cancellable:!1},async ee=>{let{exportCsvToXlsb:X}=await Promise.resolve().then(()=>(Ao(),Ro)),fe=await X(F,J,!1,{source:"Query Results Panel",sql:B},ue=>{ee.report({message:ue}),O.appendLine(`[CSV to XLSB] ${ue}`)});if(!fe.success)throw new Error(fe.message)});let K=Date.now()-V;O.appendLine(`[${new Date().toLocaleTimeString()}] Export Current Result to Excel completed in ${K}ms`),await T.env.openExternal(T.Uri.file(J)),T.window.showInformationMessage(`Results exported and opened: ${J}`)}catch(F){T.window.showErrorMessage(`Error exporting to Excel: ${F.message}`)}}),te=T.commands.registerCommand("netezza.copyCurrentResultToXlsbClipboard",async(S,B)=>{try{if(!S||Array.isArray(S)&&S.length===0){T.window.showErrorMessage("No data to copy");return}let F=S;if(Array.isArray(S)&&S.length>1){let V=await T.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!V)return;if(V==="Export Active Result Only"){let K=S.find(ee=>ee.isActive);K?F=[K]:F=[S[0]]}}let{getTempFilePath:j}=await Promise.resolve().then(()=>(Ao(),Ro)),W=j(),H=Date.now();if(await T.window.withProgress({location:T.ProgressLocation.Notification,title:"Copying to clipboard as Excel...",cancellable:!1},async V=>{let{exportCsvToXlsb:K}=await Promise.resolve().then(()=>(Ao(),Ro)),ee=await K(F,W,!0,{source:"Query Results Panel",sql:B},X=>{V.report({message:X}),O.appendLine(`[Clipboard XLSB] ${X}`)});if(!ee.success)throw new Error(ee.message)}),A("Copy Result as Excel",H),await T.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let V=require("os").tmpdir();await T.env.openExternal(T.Uri.file(V))}}catch(F){T.window.showErrorMessage(`Error copying to Excel: ${F.message}`)}});t.subscriptions.push(w),t.subscriptions.push(k),t.subscriptions.push(N),t.subscriptions.push(L),t.subscriptions.push(M),t.subscriptions.push(Q),t.subscriptions.push(te),t.subscriptions.push(Y),t.subscriptions.push(G);let he=T.workspace.onWillSaveTextDocument(async S=>{}),se=T.commands.registerCommand("netezza.smartPaste",async()=>{try{let S=T.window.activeTextEditor;if(!S)return;let F=T.workspace.getConfiguration("netezza").get("pythonPath")||"python",j=Q3.join(t.extensionPath,"python","check_clipboard_format.py"),W=require("child_process");if(await new Promise(J=>{let V=W.spawn(F,[j]);V.on("close",K=>{J(K===1)}),V.on("error",()=>{J(!1)})})){let J=await T.window.showQuickPick([{label:"\u{1F4CA} import to Netezza table",description:'Detected "XML Spreadsheet" format - import data to database',value:"import"},{label:"\u{1F4DD} Paste as text",description:"Paste clipboard content as plain text",value:"paste"}],{placeHolder:'Detected "XML Spreadsheet" format in clipboard - choose an action'});if(J?.value==="import")T.commands.executeCommand("netezza.importClipboard");else if(J?.value==="paste"){let V=await T.env.clipboard.readText(),K=S.selection;await S.edit(ee=>{ee.replace(K,V)})}}else{let J=await T.env.clipboard.readText(),V=S.selection;await S.edit(K=>{K.replace(V,J)})}}catch(S){T.window.showErrorMessage(`Error during paste: ${S.message}`)}}),We=T.workspace.onDidChangeTextDocument(async S=>{if(S.document.languageId!=="sql"&&S.document.languageId!=="mssql"||S.contentChanges.length!==1)return;let B=S.contentChanges[0];if(B.text!==" ")return;let F=T.window.activeTextEditor;if(!F||F.document!==S.document)return;let W=S.document.lineAt(B.range.start.line).text,H=new Map([["SX","SELECT"],["WX","WHERE"],["GX","GROUP BY"],["HX","HAVING"],["OX","ORDER BY"],["FX","FROM"],["JX","JOIN"],["LX","LIMIT"],["IX","INSERT INTO"],["UX","UPDATE"],["DX","DELETE FROM"],["CX","CREATE TABLE"]]);for(let[J,V]of H)if(new RegExp(`\\b${J}\\s$`,"i").test(W)){let ee=W.toUpperCase().lastIndexOf(J.toUpperCase());if(ee>=0){let X=new T.Position(B.range.start.line,ee),fe=new T.Position(B.range.start.line,ee+J.length+1);await F.edit(ue=>{ue.replace(new T.Range(X,fe),V+" ")}),["SELECT","FROM","JOIN"].includes(V)&&setTimeout(()=>{T.commands.executeCommand("editor.action.triggerSuggest")},100);break}}});t.subscriptions.push(se),t.subscriptions.push(We);let pe=new Sf(t,r,e);t.subscriptions.push(T.languages.registerCompletionItemProvider(["sql","mssql"],pe,"."," ")),t.subscriptions.push(T.commands.registerCommand("netezza.clearAutocompleteCache",async()=>{await T.window.showWarningMessage("Are you sure you want to clear the autocomplete cache? This will remove all cached databases, schemas, tables, and columns.",{modal:!0},"Clear Cache")==="Clear Cache"&&(await r.clearCache(),T.window.showInformationMessage("Autocomplete cache cleared successfully. Cache will be rebuilt on next use."))}))}function ybe(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

archiver/lib/error.js:
archiver/lib/core.js:
  (**
   * Archiver Core
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

zip-stream/index.js:
  (**
   * ZipStream
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
   * @copyright (c) 2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/zip.js:
  (**
   * ZIP Format Plugin
   *
   * @module plugins/zip
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/tar.js:
  (**
   * TAR Format Plugin
   *
   * @module plugins/tar
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/json.js:
  (**
   * JSON Format Plugin
   *
   * @module plugins/json
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/index.js:
  (**
   * Archiver Vending
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)
*/
