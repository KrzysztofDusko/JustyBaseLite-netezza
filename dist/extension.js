"use strict";var J6=Object.create;var QE=Object.defineProperty;var Q6=Object.getOwnPropertyDescriptor;var Z6=Object.getOwnPropertyNames;var e3=Object.getPrototypeOf,t3=Object.prototype.hasOwnProperty;var lr=(t,e)=>()=>(t&&(e=t(t=0)),e);var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),cr=(t,e)=>{for(var r in e)QE(t,r,{get:e[r],enumerable:!0})},Lg=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Z6(e))!t3.call(t,i)&&i!==r&&QE(t,i,{get:()=>e[i],enumerable:!(n=Q6(e,i))||n.enumerable});return t};var ze=(t,e,r)=>(r=t!=null?J6(e3(t)):{},Lg(e||!t||!t.__esModule?QE(r,"default",{value:t,enumerable:!0}):r,t)),r3=t=>Lg(QE({},"__esModule",{value:!0}),t);var HS=y((pge,bg)=>{"use strict";var GS=class{static readInt32(e,r=0){return e.readInt32BE(r)}static readInt16(e,r=0){return e.readInt16BE(r)}static writeInt32(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt32BE(r,n);else{let i=Buffer.allocUnsafe(4);i.writeInt32BE(r,0),e.write(i)}}static writeInt16(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt16BE(r,n);else{let i=Buffer.allocUnsafe(2);i.writeInt16BE(r,0),e.write(i)}}};bg.exports=GS});var WS=y((ur,wg)=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.ExtabSock=ur.HandshakeCode=ur.ProtocolVersion=ur.NzType=ur.BackendMessageCode=void 0;ur.BackendMessageCode={AuthenticationRequest:82,ErrorResponse:69,NoticeResponse:78,BackendKeyData:75,ReadyForQuery:90,RowDescription:84,RowDescriptionStandard:88,DataRow:68,CommandComplete:67,EmptyQueryResponse:73,RowStandard:89,CopyInResponse:71,CopyOutResponse:72,CopyDone:99,CopyData:100};ur.NzType={NzTypeRecAddr:1,NzTypeDouble:2,NzTypeInt:3,NzTypeFloat:4,NzTypeMoney:5,NzTypeDate:6,NzTypeNumeric:7,NzTypeTime:8,NzTypeTimestamp:9,NzTypeInterval:10,NzTypeTimeTz:11,NzTypeBool:12,NzTypeInt1:13,NzTypeBinary:14,NzTypeChar:15,NzTypeVarChar:16,NzDEPR_Text:17,NzTypeUnknown:18,NzTypeInt2:19,NzTypeInt8:20,NzTypeVarFixedChar:21,NzTypeGeometry:22,NzTypeVarBinary:23,NzDEPR_Blob:24,NzTypeNChar:25,NzTypeNVarChar:26,NzDEPR_NText:27,NzTypeJson:30,NzTypeJsonb:31,NzTypeJsonpath:32,NzTypeLastEntry:33,NzTypeIntvsAbsTimeFIX:39};ur.ProtocolVersion={CP_VERSION_2:2,CP_VERSION_3:3,CP_VERSION_4:4,CP_VERSION_5:5,CP_VERSION_6:6};ur.HandshakeCode={HSV2_CLIENT_BEGIN:1,HSV2_DB:2,HSV2_USER:3,HSV2_OPTIONS:4,HSV2_REMOTE_PID:6,HSV2_CLIENT_TYPE:8,HSV2_PROTOCOL:9,HSV2_SSL_NEGOTIATE:11,HSV2_SSL_CONNECT:12,HSV2_APPNAME:13,HSV2_CLIENT_OS:14,HSV2_CLIENT_HOST_NAME:15,HSV2_CLIENT_OS_USER:16,HSV2_64BIT_VARLENA_ENABLED:17,HSV2_CLIENT_DONE:1e3};ur.ExtabSock={DATA:1,ERROR:2,DONE:3};wg.exports={BackendMessageCode:ur.BackendMessageCode,NzType:ur.NzType,ProtocolVersion:ur.ProtocolVersion,HandshakeCode:ur.HandshakeCode,ExtabSock:ur.ExtabSock}});var Pg=y((_ge,Dg)=>{var Ea=1e3,fa=Ea*60,da=fa*60,Ws=da*24,n3=Ws*7,i3=Ws*365.25;Dg.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return s3(t);if(r==="number"&&isFinite(t))return e.long?a3(t):o3(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function s3(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*i3;case"weeks":case"week":case"w":return r*n3;case"days":case"day":case"d":return r*Ws;case"hours":case"hour":case"hrs":case"hr":case"h":return r*da;case"minutes":case"minute":case"mins":case"min":case"m":return r*fa;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ea;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function o3(t){var e=Math.abs(t);return e>=Ws?Math.round(t/Ws)+"d":e>=da?Math.round(t/da)+"h":e>=fa?Math.round(t/fa)+"m":e>=Ea?Math.round(t/Ea)+"s":t+"ms"}function a3(t){var e=Math.abs(t);return e>=Ws?ZE(t,e,Ws,"day"):e>=da?ZE(t,e,da,"hour"):e>=fa?ZE(t,e,fa,"minute"):e>=Ea?ZE(t,e,Ea,"second"):t+" ms"}function ZE(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var YS=y((Ige,Mg)=>{function l3(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=Pg(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let E=0;for(let d=0;d<u.length;d++)E=(E<<5)-E+u.charCodeAt(d),E|=0;return r.colors[Math.abs(E)%r.colors.length]}r.selectColor=e;function r(u){let E,d=null,f,T;function h(...R){if(!h.enabled)return;let S=h,C=Number(new Date),A=C-(E||C);S.diff=A,S.prev=E,S.curr=C,E=C,R[0]=r.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let p=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(D,O)=>{if(D==="%%")return"%";p++;let M=r.formatters[O];if(typeof M=="function"){let w=R[p];D=M.call(S,w),R.splice(p,1),p--}return D}),r.formatArgs.call(S,R),(S.log||r.log).apply(S,R)}return h.namespace=u,h.useColors=r.useColors(),h.color=r.selectColor(u),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(f!==r.namespaces&&(f=r.namespaces,T=r.enabled(u)),T),set:R=>{d=R}}),typeof r.init=="function"&&r.init(h),h}function n(u,E){let d=r(this.namespace+(typeof E>"u"?":":E)+u);return d.log=this.log,d}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let E=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let d of E)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function s(u,E){let d=0,f=0,T=-1,h=0;for(;d<u.length;)if(f<E.length&&(E[f]===u[d]||E[f]==="*"))E[f]==="*"?(T=f,h=d,f++):(d++,f++);else if(T!==-1)f=T+1,h++,d=h;else return!1;for(;f<E.length&&E[f]==="*";)f++;return f===E.length}function o(){let u=[...r.names,...r.skips.map(E=>"-"+E)].join(",");return r.enable(""),u}function a(u){for(let E of r.skips)if(s(u,E))return!1;for(let E of r.names)if(s(u,E))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Mg.exports=l3});var xg=y((Yr,ef)=>{Yr.formatArgs=u3;Yr.save=E3;Yr.load=f3;Yr.useColors=c3;Yr.storage=d3();Yr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Yr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c3(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function u3(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ef.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Yr.log=console.debug||console.log||(()=>{});function E3(t){try{t?Yr.storage.setItem("debug",t):Yr.storage.removeItem("debug")}catch{}}function f3(){let t;try{t=Yr.storage.getItem("debug")||Yr.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function d3(){try{return localStorage}catch{}}ef.exports=YS()(Yr);var{formatters:h3}=ef.exports;h3.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Ug=y((Nge,vg)=>{"use strict";vg.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Gg=y((Oge,Fg)=>{"use strict";var T3=require("os"),Bg=require("tty"),on=Ug(),{env:Jt}=process,Qi;on("no-color")||on("no-colors")||on("color=false")||on("color=never")?Qi=0:(on("color")||on("colors")||on("color=true")||on("color=always"))&&(Qi=1);"FORCE_COLOR"in Jt&&(Jt.FORCE_COLOR==="true"?Qi=1:Jt.FORCE_COLOR==="false"?Qi=0:Qi=Jt.FORCE_COLOR.length===0?1:Math.min(parseInt(Jt.FORCE_COLOR,10),3));function $S(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function VS(t,e){if(Qi===0)return 0;if(on("color=16m")||on("color=full")||on("color=truecolor"))return 3;if(on("color=256"))return 2;if(t&&!e&&Qi===void 0)return 0;let r=Qi||0;if(Jt.TERM==="dumb")return r;if(process.platform==="win32"){let n=T3.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Jt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Jt)||Jt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Jt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Jt.TEAMCITY_VERSION)?1:0;if(Jt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Jt){let n=parseInt((Jt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Jt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Jt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Jt.TERM)||"COLORTERM"in Jt?1:r}function S3(t){let e=VS(t,t&&t.isTTY);return $S(e)}Fg.exports={supportsColor:S3,stdout:$S(VS(!0,Bg.isatty(1))),stderr:$S(VS(!0,Bg.isatty(2)))}});var Wg=y((Qt,rf)=>{var R3=require("tty"),tf=require("util");Qt.init=C3;Qt.log=I3;Qt.formatArgs=p3;Qt.save=N3;Qt.load=O3;Qt.useColors=A3;Qt.destroy=tf.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Qt.colors=[6,2,3,4,5,1];try{let t=Gg();t&&(t.stderr||t).level>=2&&(Qt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Qt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function A3(){return"colors"in Qt.inspectOpts?!!Qt.inspectOpts.colors:R3.isatty(process.stderr.fd)}function p3(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+rf.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=_3()+e+" "+t[0]}function _3(){return Qt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function I3(...t){return process.stderr.write(tf.formatWithOptions(Qt.inspectOpts,...t)+`
`)}function N3(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function O3(){return process.env.DEBUG}function C3(t){t.inspectOpts={};let e=Object.keys(Qt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Qt.inspectOpts[e[r]]}rf.exports=YS()(Qt);var{formatters:Hg}=rf.exports;Hg.o=function(t){return this.inspectOpts.colors=this.useColors,tf.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Hg.O=function(t){return this.inspectOpts.colors=this.useColors,tf.inspect(t,this.inspectOpts)}});var qS=y((Cge,kS)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?kS.exports=xg():kS.exports=Wg()});var $g=y((Ys,Yg)=>{"use strict";var m3=Ys&&Ys.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),g3=Ys&&Ys.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),nf=Ys&&Ys.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&m3(r,e,n[i]);return g3(r,e),r}})(),y3=nf(require("crypto")),L3=nf(require("os")),b3=nf(require("tls")),w3=nf(require("fs")),he=HS(),de=WS(),Ft=qS()("nz:handshake"),XS=class{constructor(e,r,n,i={}){this._hsVersion=-1,this._protocol1=-1,this._protocol2=-1,this.NPSCLIENT_TYPE_DOTNET=11,this.backendProcessId=0,this.backendSecretKey=0,this._socket=e,this._stream=r,this._host=n,this._options=i,this._guardiumClientOS=process.platform,this._guardiumClientOSUser=process.env.USERNAME||process.env.USER||"unknown",this._guardiumAppName="scJs-Driver",this._guardiumClientHostName=L3.hostname()}async startup(e,r,n){if(!await this.connHandshakeNegotiate())throw new Error("Handshake negotiation unsuccessful");if(Ft("Sending handshake info"),!await this.connSendHandshakeInfo(e,r))throw new Error("Error in ConnSendHandshakeInfo");if(!await this.connAuthenticate(n))throw new Error("Error in ConnAuthenticate");if(!await this.connConnectionComplete())throw new Error("Error in ConnConnectionComplete");return this._stream}async _readExactly(e){return new Promise((r,n)=>{let i=this._stream.read(e);i?r(i):this._stream.once("readable",()=>{let s=this._stream.read(e);s&&r(s)})})}async readBytes(e){for(;;){let r=this._stream.read(e);if(r!==null)return r;await new Promise(n=>this._stream.once("readable",n))}}async readByte(){return(await this.readBytes(1))[0]}async connHandshakeNegotiate(){let e=de.ProtocolVersion.CP_VERSION_6;for(;;){Ft(`Sending version: ${e}`),he.writeInt32(this._stream,8),he.writeInt16(this._stream,de.HandshakeCode.HSV2_CLIENT_BEGIN),he.writeInt16(this._stream,e);let r=await this.readByte();if(Ft(`Got response: ${String.fromCharCode(r)}`),r===78)return this._hsVersion=e,this._protocol2=0,!0;if(r===77){let n=await this.readByte(),i=String.fromCharCode(n);i==="2"?e=de.ProtocolVersion.CP_VERSION_2:i==="3"?e=de.ProtocolVersion.CP_VERSION_3:i==="4"?e=de.ProtocolVersion.CP_VERSION_4:i==="5"&&(e=de.ProtocolVersion.CP_VERSION_5)}else return!1}}async connSendHandshakeInfo(e,r){return await this.connSendDatabase(e)?(await this.connSecureSession(),this.connSetNextDataProtocol(this._protocol1,this._protocol2),this._hsVersion===de.ProtocolVersion.CP_VERSION_6||this._hsVersion===de.ProtocolVersion.CP_VERSION_4?this.connSendHandshakeVersion4(this._hsVersion,r):this.connSendHandshakeVersion2(this._hsVersion,r)):!1}async connSendDatabase(e){let r=Buffer.from(e,"utf8"),n=6+r.length+1;return he.writeInt32(this._stream,n),he.writeInt16(this._stream,de.HandshakeCode.HSV2_DB),this._stream.write(r),this._stream.write(Buffer.from([0])),await this.readByte()===78}async connSecureSession(){let r=0,n=this._options.securityLevel;n==="OnlyUnsecuredSession"?r=1:n==="PreferredSecuredSession"?r=2:n==="OnlySecuredSession"&&(r=3),he.writeInt32(this._stream,10),he.writeInt16(this._stream,de.HandshakeCode.HSV2_SSL_NEGOTIATE),he.writeInt32(this._stream,r);let i=await this.readByte();if(i===78){if(this._options.securityLevel==="OnlySecuredSession")throw new Error("Server refused secure session, but OnlySecuredSession was requested.");return!0}if(i===83){Ft("Upgrading to SSL...");let s=Buffer.alloc(6);s.writeInt32BE(6,0),s.writeInt16BE(de.HandshakeCode.HSV2_SSL_CONNECT,4),await new Promise(a=>{this._stream.write(s)?a():this._stream.once("drain",a)}),this._socket.removeAllListeners("data"),this._socket.removeAllListeners("readable");let o={socket:this._socket,rejectUnauthorized:!1};if(this._options.sslCerFilePath){this._options.rejectUnauthorized===!1?o.rejectUnauthorized=!1:o.rejectUnauthorized=!0;try{o.ca=w3.readFileSync(this._options.sslCerFilePath)}catch(a){throw Ft("Failed to load cert file",a),a}}return new Promise((a,l)=>{let c=b3.connect(o,()=>{Ft("SSL Connected"),this._stream=c,this._stream.on("error",u=>{Ft("Secure Stream Error",u)}),this.readByte().then(u=>{u===78?a(!0):l(new Error(`SSL Handshake failed: Unexpected response ${String.fromCharCode(u)}`))}).catch(u=>{Ft("Failed to read SSL confirmation",u),l(u)})});c.on("error",u=>{Ft("SSL Connection Error",u),l(u)})})}return!1}connSetNextDataProtocol(e,r){return this._protocol2===0&&(this._protocol2=5),this._protocol1=3,!0}async connSendHandshakeVersion4(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;he.writeInt32(this._stream,i),he.writeInt16(this._stream,de.HandshakeCode.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=de.HandshakeCode.HSV2_APPNAME;for(;s!==0;){if(await this.readByte()!==78)return!1;switch(s){case de.HandshakeCode.HSV2_APPNAME:await this.sendStringOption(s,this._guardiumAppName),s=de.HandshakeCode.HSV2_CLIENT_OS;break;case de.HandshakeCode.HSV2_CLIENT_OS:await this.sendStringOption(s,this._guardiumClientOS),s=de.HandshakeCode.HSV2_CLIENT_HOST_NAME;break;case de.HandshakeCode.HSV2_CLIENT_HOST_NAME:await this.sendStringOption(s,this._guardiumClientHostName),s=de.HandshakeCode.HSV2_CLIENT_OS_USER;break;case de.HandshakeCode.HSV2_CLIENT_OS_USER:await this.sendStringOption(s,this._guardiumClientOSUser),s=de.HandshakeCode.HSV2_PROTOCOL;break;case de.HandshakeCode.HSV2_PROTOCOL:i=10,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),he.writeInt16(this._stream,this._protocol1),he.writeInt16(this._stream,this._protocol2),s=de.HandshakeCode.HSV2_REMOTE_PID;break;case de.HandshakeCode.HSV2_REMOTE_PID:i=10,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),he.writeInt32(this._stream,process.pid),s=de.HandshakeCode.HSV2_CLIENT_TYPE;break;case de.HandshakeCode.HSV2_CLIENT_TYPE:i=8,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),he.writeInt16(this._stream,11),e>=5?s=de.HandshakeCode.HSV2_64BIT_VARLENA_ENABLED:s=de.HandshakeCode.HSV2_CLIENT_DONE;break;case de.HandshakeCode.HSV2_64BIT_VARLENA_ENABLED:i=8,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),he.writeInt16(this._stream,1),s=de.HandshakeCode.HSV2_CLIENT_DONE;break;case de.HandshakeCode.HSV2_CLIENT_DONE:return i=6,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),s=0,!0}}return!1}async connSendHandshakeVersion2(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;he.writeInt32(this._stream,i),he.writeInt16(this._stream,de.HandshakeCode.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=de.HandshakeCode.HSV2_PROTOCOL;for(;s!==0;){Ft(`Waiting for response in v2 loop. Info: ${s}`);let o=await this.readByte();if(Ft(`Got response: ${String.fromCharCode(o)}`),o===78)switch(s){case de.HandshakeCode.HSV2_PROTOCOL:i=10,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),he.writeInt16(this._stream,this._protocol1),he.writeInt16(this._stream,this._protocol2),s=de.HandshakeCode.HSV2_REMOTE_PID;break;case de.HandshakeCode.HSV2_REMOTE_PID:i=10,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),he.writeInt32(this._stream,process.pid),s=de.HandshakeCode.HSV2_CLIENT_TYPE;break;case de.HandshakeCode.HSV2_OPTIONS:s=de.HandshakeCode.HSV2_CLIENT_TYPE;break;case de.HandshakeCode.HSV2_CLIENT_TYPE:i=8,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),he.writeInt16(this._stream,11),e===de.ProtocolVersion.CP_VERSION_5||e===de.ProtocolVersion.CP_VERSION_6?s=de.HandshakeCode.HSV2_64BIT_VARLENA_ENABLED:s=de.HandshakeCode.HSV2_CLIENT_DONE;break;case de.HandshakeCode.HSV2_64BIT_VARLENA_ENABLED:i=8,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),he.writeInt16(this._stream,1),s=de.HandshakeCode.HSV2_CLIENT_DONE;break;case de.HandshakeCode.HSV2_CLIENT_DONE:return i=6,he.writeInt32(this._stream,i),he.writeInt16(this._stream,s),s=0,!0}else throw o===de.BackendMessageCode.ErrorResponse?new Error("Handshake V2 Failed: ErrorResponse from backend"):new Error(`Handshake V2 Failed: Unexpected response ${String.fromCharCode(o)}`)}return!1}async sendStringOption(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;he.writeInt32(this._stream,i),he.writeInt16(this._stream,e),this._stream.write(n),this._stream.write(Buffer.from([0]))}async connAuthenticate(e){if(await this.readByte()!==de.BackendMessageCode.AuthenticationRequest)return!1;let n=he.readInt32(await this.readBytes(4));if(Ft(`Auth request: ${n}`),n===0)return!0;if(n===3){let i=Buffer.from(e,"utf8"),s=4+i.length+1;return he.writeInt32(this._stream,s),this._stream.write(i),this._stream.write(Buffer.from([0])),!0}if(n===5){let i=await this.readBytes(2),s=Buffer.from(e,"utf8"),a=y3.createHash("md5").update(Buffer.concat([i,s])).digest("base64").replace(/=+$/,""),l=Buffer.from(a,"utf8"),c=4+l.length+1;return he.writeInt32(this._stream,c),this._stream.write(l),this._stream.write(Buffer.from([0])),!0}return!1}async readString(){let e=[];for(;;){let r=await this.readByte();if(r===0)break;e.push(r)}return Buffer.from(e).toString("utf8")}async connConnectionComplete(){for(;;){let e=await this.readByte();if(Ft(`Resp: ${String.fromCharCode(e)} (0x${e.toString(16)})`),e===de.BackendMessageCode.AuthenticationRequest){let n=he.readInt32(await this.readBytes(4));Ft(`Auth req in complete: ${n}`);continue}if(e===de.BackendMessageCode.ErrorResponse){let n=await this.readBytes(4),i=he.readInt32(n);if(i<0||i>1e8){let o=n.toString("utf8");throw o+=await this.readString(),new Error(`Backend Error: ${o}`)}let s=await this.readBytes(i-4);throw new Error(`Backend Error: ${s.toString()}`)}let r=await this.readBytes(4);if(Ft(`Skipped 4 bytes: ${r.toString("hex")}`),e===de.BackendMessageCode.BackendKeyData){let n=await this.readBytes(4);Ft(`KeyData Padding: ${n.toString("hex")}`);let i=he.readInt32(await this.readBytes(4)),s=he.readInt32(await this.readBytes(4));Ft(`KeyData: PID=${i} Key=${s}`),this.backendProcessId=i,this.backendSecretKey=s;continue}if(e===de.BackendMessageCode.ReadyForQuery)return Ft("ReadyForQuery"),!0;if(e===de.BackendMessageCode.NoticeResponse){let n=he.readInt32(await this.readBytes(4)),i=await this.readBytes(n);Ft(`Notice: ${i.toString()}`);continue}}}};Yg.exports=XS});var kg=y((mge,Vg)=>{"use strict";var KS=class{constructor(e){this.connection=e,this.commandText="",this.parameters=[],this._recordsAffected=-1,this.commandTimeout=e.commandTimeout!==void 0?e.commandTimeout:30}async execute(){return this.connection.execute(this,!1)}async executeNonQuery(){return await this.connection.execute(this,!1),this._recordsAffected}async executeReader(){return this.connection.executeReader(this)}async cancel(){return this.connection.cancel()}};Vg.exports=KS});var Xg=y((gge,qg)=>{"use strict";var Ce={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700,Float4:700,Float8:701},fc=16,jS=class{constructor(e,r,n,i,s){this.currentRow=null,this.closed=!1,this._nameIndex={},this._pendingColumns=null,this._isFinished=!1,this.command=e,this.generator=r,this.columnDescriptions=n||[],this.releaseCallback=i,this._initNameIndex(),this._nextItem=s,this._hasRows=!!(this._nextItem&&this._nextItem.type==="DataRow")}get hasRows(){return this._hasRows}_initNameIndex(){if(this._nameIndex={},this.columnDescriptions)for(let e=0;e<this.columnDescriptions.length;e++)this._nameIndex[this.columnDescriptions[e].name.toLowerCase()]=e}_markFinished(){this._isFinished=!0,this._nextItem=null,this._hasRows=!1,this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}async nextResult(){if(this._pendingColumns){for(this.columnDescriptions=this._pendingColumns,this._pendingColumns=null,this._initNameIndex(),this.currentRow=null;;){let e=await this.generator.next();if(e.done){this._nextItem=null,this._hasRows=!1;break}let r=e.value;if(r.type!=="RowDescriptionStandard")if(r.type==="DataRow"){this._nextItem=r,this._hasRows=!0;break}else if(r.type==="CommandComplete"){this._nextItem=r,this._hasRows=!1;break}else{this._nextItem=r,this._hasRows=!1;break}}return!0}if(this.closed||this._isFinished)return!1;for(;;){let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),!1;let r=e.value;if(r.type==="RowDescription"){this.columnDescriptions=r.columns,this._initNameIndex(),this.currentRow=null;continue}if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;this.columnDescriptions.length===0&&n&&n.description&&(this.columnDescriptions=n.description,this._initNameIndex()),this.currentRow=null;continue}if(r.type==="DataRow")return this._nextItem=r,this._hasRows=!0,!0;if(r.type!=="CommandComplete"){if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");if(r.type==="ReadyForQuery")return this._markFinished(),!1}}}getSchemaTable(){if(!this.columnDescriptions)return[];let e=[];for(let r=0;r<this.columnDescriptions.length;r++){let n=this.columnDescriptions[r],i={ColumnName:n.name,ColumnOrdinal:r+1,ColumnSize:-1,NumericPrecision:0,NumericScale:0,DataType:String,ProviderType:n.typeOid,AllowDBNull:!0,IsReadOnly:!0,IsLong:!1},s=n.typeMod,o=n.typeOid;switch(o){case Ce.Bool:i.DataType=Boolean,i.ColumnSize=1;break;case Ce.Int2:i.DataType=Number,i.ColumnSize=2;break;case Ce.Int4:i.DataType=Number,i.ColumnSize=4;break;case Ce.Int8:i.DataType=Number,i.ColumnSize=8;break;case Ce.Float4:case Ce.Float8:i.DataType=Number,i.ColumnSize=o===Ce.Float8?8:4,i.NumericPrecision=o===Ce.Float8?53:24;break;case Ce.Numeric:if(i.DataType=Number,s>fc){let a=s-fc>>16,l=s-fc&65535;i.NumericPrecision=a,i.NumericScale=l,i.ColumnSize=Math.floor(a/2)+1,i.ColumnSize<n.typeLen&&n.typeLen>0&&(i.ColumnSize=n.typeLen)}else i.ColumnSize=n.typeLen;break;case Ce.Date:case Ce.Timestamp:case Ce.TimestampTz:case Ce.Time:case Ce.TimeTz:i.DataType=Date,(o===Ce.Time||o===Ce.TimeTz)&&(i.DataType=Object),i.ColumnSize=n.typeLen;break;case Ce.Char:case Ce.BpChar:case Ce.VarChar:case Ce.Text:case Ce.Name:case Ce.ShowDate:i.DataType=String,s>fc?i.ColumnSize=s-fc:(i.ColumnSize=-1,n.typeLen>0&&(i.ColumnSize=n.typeLen)),i.ColumnSize>8e3&&(i.IsLong=!0);break;default:i.DataType=String,i.ColumnSize=n.typeLen;break}e.push(i)}return{Rows:e,Columns:{Count:e.length}}}getTypeName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);let n=this.columnDescriptions[e].typeOid;switch(n){case Ce.Bool:return"BOOL";case Ce.Bytea:return"BYTEA";case Ce.Char:return"CHAR";case Ce.Name:return"NAME";case Ce.Int8:return"INT8";case Ce.Int2:return"INT2";case Ce.Int4:return"INT4";case Ce.Text:return"TEXT";case Ce.BpChar:return"CHAR";case Ce.VarChar:return"VARCHAR";case Ce.Date:return"DATE";case Ce.Time:return"TIME";case Ce.Timestamp:return"TIMESTAMP";case Ce.TimestampTz:return"TIMESTAMPTZ";case Ce.Interval:return"INTERVAL";case Ce.TimeTz:return"TIMETZ";case Ce.Numeric:return"NUMERIC";case Ce.Float4:return"FLOAT4";case Ce.Float8:return"FLOAT8";case 2530:return"DATE";case 15:return"CHAR";case 16:return"BOOL";default:return`UNKNOWN(${n})`}}async read(){if(this.closed||this._isFinished||this._pendingColumns)return!1;let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),this.currentRow=null,!1;let r=e.value;if(r.type==="DataRow")return this.currentRow=r.row,!0;if(r.type==="RowDescription")return this._pendingColumns=r.columns,this.currentRow=null,!1;if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;return this._pendingColumns=n&&n.description?n.description:this.columnDescriptions,this.currentRow=null,!1}if(r.type==="CommandComplete")return this.currentRow=null,this.read();if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");return r.type==="ReadyForQuery"?(this._markFinished(),this.currentRow=null,!1):this.read()}getValue(e){return this._validateOrdinal(e),this.currentRow[e]}getValueByName(e){let r=this.getOrdinal(e);return this.getValue(r)}getName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);return this.columnDescriptions[e].name}getOrdinal(e){let r=this._nameIndex[e.toLowerCase()];if(r===void 0)throw new Error(`Column '${e}' not found`);return r}get fieldCount(){return this.columnDescriptions?.length||0}get FieldCount(){return this.fieldCount}isDBNull(e){return this._validateOrdinal(e),this.currentRow[e]===null}getBoolean(e){let r=this.getValue(e);return r===null?!1:typeof r=="boolean"?r:typeof r=="string"?r.toLowerCase()==="t"||r==="1"||r.toLowerCase()==="true":!!r}getByte(e){let r=this.getValue(e);return r===null?0:Number(r)&255}getInt16(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt32(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt64(e){let r=this.getValue(e);return r===null?0:typeof r=="bigint"?r:Number(r)}getFloat(e){let r=this.getValue(e);return r===null?0:Number(r)}getDouble(e){let r=this.getValue(e);return r===null?0:Number(r)}getDecimal(e){let r=this.getValue(e);return r===null?0:typeof r=="string"?r:Number(r)}getString(e){let r=this.getValue(e);return r===null?null:typeof r=="string"?r:r.toString?r.toString():String(r)}getDateTime(e){let r=this.getValue(e);return r===null?null:r instanceof Date?r:new Date(r)}getTimeSpan(e){let r=this.getValue(e);if(r===null)return null;if(typeof r=="object"&&"hours"in r)return r;if(typeof r=="string"){let n=r.split(":");if(n.length>=2){let i=(n[2]||"0").split(".");return{hours:parseInt(n[0],10),minutes:parseInt(n[1],10),seconds:parseInt(i[0],10),microseconds:i.length>1?parseInt(i[1].padEnd(6,"0"),10):0,toString(){return r}}}}return r}getRowObject(){if(!this.currentRow)return null;let e={};for(let r=0;r<this.columnDescriptions.length;r++)e[this.columnDescriptions[r].name]=this.currentRow[r];return e}getValues(){return this.currentRow?[...this.currentRow]:[]}async close(){if(!this.closed){if(this.closed=!0,!this._isFinished&&this.generator)try{for await(let e of this.generator)if(e.type==="ReadyForQuery")break}catch{}this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}}get isClosed(){return this.closed}_validateOrdinal(e){if(!this.currentRow)throw new Error("No current row. Did you call read()?");if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`)}async*[Symbol.asyncIterator](){for(;await this.read();)yield this.getRowObject()}};qg.exports=jS});var jg=y((yge,Kg)=>{"use strict";var zS=class{constructor(){this.version=null,this.nullsAllowed=null,this.sizeWord=null,this.sizeWordSize=null,this.numFixedFields=null,this.numVaryingFields=null,this.fixedFieldsSize=0,this.maxRecordSize=null,this.numFields=0,this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[],this.dateStyle=null,this.euroDates=null}clear(){this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[]}parse(e,r){this.clear();let n=0;this.version=e.readInt32BE(n),n+=4,this.nullsAllowed=e.readInt32BE(n),n+=4,this.sizeWord=e.readInt32BE(n),n+=4,this.sizeWordSize=e.readInt32BE(n),n+=4,this.numFixedFields=e.readInt32BE(n),n+=4,this.numVaryingFields=e.readInt32BE(n),n+=4,this.fixedFieldsSize=e.readInt32BE(n),n+=4,this.maxRecordSize=e.readInt32BE(n),n+=4,this.numFields=e.readInt32BE(n),n+=4;let i=3,s=39;for(let o=0;o<this.numFields;o++){let a=e.readInt32BE(n);a===i&&r?.description?.[o]?.typeOid===702&&(a=s),this.fieldType.push(a),this.fieldSize.push(e.readInt32BE(n+4)),this.fieldTrueSize.push(e.readInt32BE(n+8)),this.fieldOffset.push(e.readInt32BE(n+12)),this.fieldPhysField.push(e.readInt32BE(n+16)),this.fieldLogField.push(e.readInt32BE(n+20)),this.fieldNullAllowed.push(e.readInt32BE(n+24)!==0),this.fieldFixedSize.push(e.readInt32BE(n+28)),this.fieldSpringField.push(e.readInt32BE(n+32)),n+=36}this.dateStyle=e.readInt32BE(n),n+=4,this.euroDates=e.readInt32BE(n)}getFieldPrecision(e){return this.fieldSize[e]>>8&127}getFieldScale(e){return this.fieldSize[e]&255}getNumericDigitCount(e){return Math.floor(this.fieldTrueSize[e]/4)}};Kg.exports=zS});var Jg=y($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.POSTGRES_EPOCH_MS=void 0;$r.toDateTimeFrom8Bytes=D3;$r.toDateTimeFrom4Bytes=P3;$r.timeRecvFloat=JS;$r.parseTimeString=M3;$r.intervalRecvFloat=x3;$r.timetzOutput=v3;$r.timestampRecvInt=U3;$r.getCsNumeric=B3;$r.POSTGRES_EPOCH_MS=Date.UTC(2e3,0,1);function D3(t){let e=t.readBigInt64LE(0),r=Number(e/1000n);return new Date($r.POSTGRES_EPOCH_MS+r)}function P3(t){let r=t.readInt32LE(0)*24*60*60*1e3;return new Date($r.POSTGRES_EPOCH_MS+r)}function JS(t){let e=t.readBigInt64LE(0),r=Number(e/1000000n),n=Number(e%1000000n),i=Math.floor(r/3600),s=Math.floor(r%3600/60),o=r%60;return{hours:i,minutes:s,seconds:o,microseconds:n,toString(){let a=String(i).padStart(2,"0"),l=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");if(n>0){let u=String(n).padStart(6,"0");return`${a}:${l}:${c}.${u}`}return`${a}:${l}:${c}`}}}function M3(t){if(!t)return null;let e=t.split(":"),r=parseInt(e[0],10)||0,n=parseInt(e[1],10)||0,i=(e[2]||"0").split("."),s=parseInt(i[0],10)||0,o=0;return i.length>1&&(o=parseInt(i[1].substring(0,6).padEnd(6,"0"),10)),{hours:r,minutes:n,seconds:s,microseconds:o,toString(){return t}}}function x3(t){let e=t.readBigInt64LE(0),r=t.readInt32LE(8),n=JS(t);if(r===0)return n.toString();let i=Math.floor(r/12),s=r%12;return i>0?`${i} years ${s} mons ${n.toString()}`:`${s} mons ${n.toString()}`}function v3(t,e){let r=JS(t),n=t.readInt32LE(e-4),i=n<0?"+":"-",s=Math.abs(n),o=Math.floor(s/3600),a=Math.floor(s%3600/60),l=s%60,c=String(o).padStart(2,"0");return l!==0?c+=":"+String(a).padStart(2,"0")+":"+String(l).padStart(2,"0"):a!==0&&(c+=":"+String(a).padStart(2,"0")),`${r.toString()}${i}${c}`}function U3(t){let e=t.readInt32LE(0);return new Date(e*1e3)}var ha=4,dc=38,zg=2147483648;function B3(t,e,r,n){let i=e<=9?1:e<=18?2:4,s=[];for(let f=0;f<i;f++)s.push(t.readUInt32LE(f*4));let o=(s[0]&zg)!==0?4294967295:0,a=new Array(ha).fill(o);for(let f=ha-n,T=0;f<ha;f++,T++)a[f]=s[T];let l=(a[0]&zg)!==0;l&&G3(a);let c=new Array(dc).fill(0);for(let f=0;f<dc;f++)c[dc-f-1]=F3(a);let u="",E=!0;for(let f=0;f<dc;f++)f<dc-r-1&&E&&c[f]===0||(E=!1,u+=String(c[f]));if(u===""&&(u="0"),r!==0){let f=u.slice(0,-r)||"0",T=u.slice(-r).padStart(r,"0");u=f+"."+T}l&&(u="-"+u);let d=parseFloat(u);return e<=15&&u===String(d)?d:u}function F3(t){let e=0;for(let r=0;r<ha;r++){let n=t[r]+e*4294967296;n!==0?(t[r]=Math.floor(n/10),e=n%10):(t[r]=0,e=0)}return e}function G3(t){for(let r=0;r<ha;r++)t[r]=~t[r]>>>0;let e=1;for(let r=ha-1;r>=0&&e;r--){let n=t[r]+e;t[r]=n>>>0,e=n>4294967295?1:0}}});var Vr=y((Vs,Zg)=>{"use strict";var H3=Vs&&Vs.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),W3=Vs&&Vs.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),eR=Vs&&Vs.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&H3(r,e,n[i]);return W3(r,e),r}})(),Qg=eR(require("net")),QS=eR(require("fs")),Y3=require("events"),$3=$g(),mt=HS(),V3=kg(),k3=Xg(),q3=jg(),qe=WS(),$s=eR(Jg()),Ie=qS()("nz:connection"),ZS=class extends Y3.EventEmitter{constructor(e){super(),this._socket=null,this._stream=null,this._backendProcessId=0,this._backendSecretKey=0,this._commandNumber=-1,this._connected=!1,this._rowDescription=null,this._rows=[],this._tupdesc=new q3,this._tmpBuffer=Buffer.alloc(65536),this._intBuf=Buffer.allocUnsafe(65536),this._intBufStart=0,this._intBufEnd=0,this.commandTimeout=30,this._executing=!1,this._exportStream=null,this.config=e}async connect(){return new Promise((e,r)=>{if(!this.config.host)return r(new Error("Host is required"));this._socket=new Qg.Socket,this._socket.connect(this.config.port||5480,this.config.host,async()=>{Ie("Socket connected"),this._socket.setNoDelay(!0),this._stream=this._socket;let n=new $3(this._socket,this._stream,this.config.host,this.config);try{this._stream=await n.startup(this.config.database,this.config.user,this.config.password),this._connected=!0,this._backendProcessId=n.backendProcessId,this._backendSecretKey=n.backendSecretKey,e()}catch(i){this._socket.destroy(),r(i)}}),this._socket.on("error",n=>{Ie("Socket error",n),this._connected?this.emit("error",n):r(n)}),this._socket.on("close",()=>{Ie("Socket closed"),this._connected=!1,this.emit("close")})})}async cancel(){if(!(!this._backendProcessId||!this._backendSecretKey))return new Promise((e,r)=>{let n=new Qg.Socket;n.on("error",i=>{Ie("Cancel socket error",i),r(i)}),n.connect(this.config.port||5480,this.config.host,()=>{let i=Buffer.alloc(16);mt.writeInt32(i,16,0),mt.writeInt32(i,80877102,4),mt.writeInt32(i,this._backendProcessId,8),mt.writeInt32(i,this._backendSecretKey,12),n.write(i,()=>{}),n.on("close",()=>e()),n.on("end",()=>e()),n.on("error",()=>e())})})}close(){this._socket&&(this._socket.end(),this._socket.destroy())}createCommand(e){let r=new V3(this);return e&&(r.commandText=e),r}async beginTransaction(){let e=this.createCommand("BEGIN");await this.execute(e)}async commit(){let e=this.createCommand("COMMIT");await this.execute(e)}async rollback(){let e=this.createCommand("ROLLBACK");await this.execute(e)}async _readBytes(e){if(this._intBufEnd-this._intBufStart>=e){let r=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+e));return this._intBufStart+=e,r}return this._readBytesSlow(e)}async _readBytesSlow(e){if(e>this._intBuf.length){let n=[],i=this._intBufEnd-this._intBufStart;i>0&&(n.push(Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufEnd))),this._intBufStart=0,this._intBufEnd=0);let s=e-i;for(;s>0;){let o=this._stream.read();o!==null?o.length<=s?(n.push(o),s-=o.length):(n.push(o.slice(0,s)),this._feedBuffer(o.slice(s)),s=0):await this._waitForReadable()}return Buffer.concat(n,e)}if(this._intBuf.length-this._intBufStart<e){let n=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=n}for(;this._intBufEnd-this._intBufStart<e;){let n=this._stream.read();if(n!==null){let i=this._intBuf.length-this._intBufEnd;n.length<=i?(n.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=n.length):(n.copy(this._intBuf,this._intBufEnd,0,i),this._intBufEnd+=i,this._stream.unshift(n.slice(i)))}else await this._waitForReadable()}let r=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+e));return this._intBufStart+=e,r}async _waitForReadable(){if(!this._socket||this._socket.destroyed)throw new Error("Socket closed or destroyed during read");return new Promise((e,r)=>{let n=()=>{this._stream.removeListener("readable",i),this._stream.removeListener("close",s),this._stream.removeListener("error",o),this._stream.removeListener("end",s)},i=()=>{n(),e()},s=()=>{n(),r(new Error("Socket closed/ended during read"))},o=a=>{n(),r(a)};this._stream.once("readable",i),this._stream.once("close",s),this._stream.once("end",s),this._stream.once("error",o)})}_feedBuffer(e){this._stream.unshift(e)}async _readInt32(){await this._ensureBufferData(4);let e=this._intBuf.readInt32BE(this._intBufStart);return this._intBufStart+=4,e}async _readInt16(){await this._ensureBufferData(2);let e=this._intBuf.readInt16BE(this._intBufStart);return this._intBufStart+=2,e}async _readByte(){await this._ensureBufferData(1);let e=this._intBuf[this._intBufStart];return this._intBufStart+=1,e}async _ensureBufferData(e){if(!(this._intBufEnd-this._intBufStart>=e)){if(this._intBuf.length-this._intBufStart<e){let r=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=r}for(;this._intBufEnd-this._intBufStart<e;){let r=this._stream.read();if(r!==null){let n=this._intBuf.length-this._intBufEnd;r.length<=n?(r.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=r.length):(r.copy(this._intBuf,this._intBufEnd,0,n),this._intBufEnd+=n,this._stream.unshift(r.slice(n)))}else await this._waitForReadable()}}}async execute(e,r=!1){let n=e.commandTimeout;if(!n||n<=0)return this._doExecute(e);let i,s=this._doExecute(e),o=new Promise((a,l)=>{i=setTimeout(async()=>{Ie("Command timeout triggered");try{await this.cancel(),l(new Error("Command execution timeout"))}catch(c){l(new Error("Command execution timeout (Cancel failed: "+c.message+")"))}},n*1e3)});try{return await Promise.race([s,o])}catch(a){throw a.message&&a.message.includes("Command execution timeout")&&s.catch(()=>{}),a}finally{clearTimeout(i)}}async _doExecute(e){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{Ie("Executing:",e.commandText),this._preExecution(e.commandText);let r=null;for await(let n of this._responseGenerator(e))n.type==="ErrorResponse"&&(r=new Error("Netezza Error: "+n.message));if(r)throw r;return!0}finally{this._executing=!1}}async executeReader(e){let r=e.commandTimeout||this.commandTimeout;if(!r||r<=0)return this._doExecuteReader(e);let n,i=this._doExecuteReader(e),s=new Promise((o,a)=>{n=setTimeout(async()=>{Ie("Command timeout triggered");try{await this.cancel(),a(new Error("Command execution timeout"))}catch(l){a(new Error("Command execution timeout (Cancel failed: "+l.message+")"))}},r*1e3)});try{return await Promise.race([i,s])}catch(o){throw o.message&&o.message.includes("Command execution timeout")&&i.catch(()=>{}),o}finally{clearTimeout(n)}}async _doExecuteReader(e){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{Ie("Executing Reader:",e.commandText),this._preExecution(e.commandText);let r=this._responseGenerator(e),n=[],i=await r.next(),s=null,o=null;for(;!i.done;){let a=i.value;if(a.type==="RowDescription")n=a.columns;else if(a.type==="RowDescriptionStandard"){let l=a.desc;if(l&&l.numFields>0&&n.length===0){let c=e._preparedStatement;c&&c.description&&(n=c.description)}}else if(a.type==="DataRow"||a.type==="CommandComplete"||a.type==="ReadyForQuery"){if(!s&&n.length>0){o=a;break}}else a.type==="ErrorResponse"&&(s=new Error("Netezza Error: "+a.message));i=await r.next()}if(s)throw this._executing=!1,s;return new k3(e,r,n,()=>{this._executing=!1},o)}catch(r){throw this._executing=!1,r}}_preExecution(e){let r=Buffer.from(e,"utf8"),n=Buffer.allocUnsafe(5+r.length+1);n[0]=80,this._commandNumber!==-1?(this._commandNumber++,n.writeInt32BE(this._commandNumber,1)):(n[1]=255,n[2]=255,n[3]=255,n[4]=255),this._commandNumber>1e5&&(this._commandNumber=1),r.copy(n,5),n[5+r.length]=0,this._stream.write(n)}async*_responseGenerator(e){this._rows=[],this._rowDescription=null;let r=!1;for(;!r;){let n=await this._readByte();for(;n===0;)n=await this._readByte();if(n===117){await this._handleExternalTableExportStart();continue}if(n===85){await this._handleExternalTableExportData();continue}if(n===108){await this._handleExternalTableImport();continue}if(n===120){await this._readBytes(4),Ie("Error operation cancel (Ext Tbl)");continue}if(n===101){await this._readBytes(4);let s=mt.readInt32(await this._readBytes(4)),o=(await this._readBytes(s-1)).toString("utf8");await this._readBytes(1);let a=[],l=(await this._readBytes(1))[0];for(a.push(l);l=(await this._readBytes(1))[0],l!==0;)a.push(l);let c=mt.readInt32(await this._readBytes(4));await this._consumeExternalTableLogData();continue}let i=await this._readBytes(4);if(n===qe.BackendMessageCode.CommandComplete){let s=await this._readInt32(),o=await this._readBytes(s);Ie("CommandComplete:",o.toString("utf8")),yield{type:"CommandComplete",text:o.toString("utf8")};continue}if(n===qe.BackendMessageCode.ReadyForQuery){r=!0,yield{type:"ReadyForQuery"};continue}if(n===76){r=!0;continue}if(!(n===48||n===65)){if(n===80){let s=await this._readInt32();await this._readBytes(s);continue}if(n===qe.BackendMessageCode.ErrorResponse){let s=await this._readInt32();yield{type:"ErrorResponse",message:(await this._readBytes(s)).toString("utf8")};continue}if(n===qe.BackendMessageCode.RowDescription){let s=await this._readInt32(),o=await this._readBytes(s);this._parseRowDescription(o,e),yield{type:"RowDescription",columns:this._rowDescription};continue}if(n===qe.BackendMessageCode.DataRow){let s=await this._readInt32(),o=await this._readBytes(s);yield{type:"DataRow",row:this._parseDataRow(o)};continue}if(n===qe.BackendMessageCode.RowDescriptionStandard){let s=await this._readInt32(),o=await this._readBytes(s);this._tupdesc.parse(o,e._preparedStatement),yield{type:"RowDescriptionStandard",desc:this._tupdesc};continue}if(n===qe.BackendMessageCode.RowStandard){yield{type:"DataRow",row:await this._resReadDbosTuple(e)};continue}if(n===qe.BackendMessageCode.NoticeResponse){let s=await this._readInt32(),a=(await this._readBytes(s)).toString("utf8").replace(/\0/g,"").trim();this.emit("notice",{message:a});continue}Ie("Unknown message:","0x"+n.toString(16));try{let s=await this._readInt32();s>0&&s<1e7&&await this._readBytes(s)}catch{}}}}async _consumeExternalTableLogData(){for(;;){let e=await this._readBytes(4),r=mt.readInt32(e);if(r===0)return;let n=await this._readBytes(r);Ie("ExtLog Content:",n.toString("utf8"))}}async _handleExternalTableExportStart(){await this._readBytes(4),await this._readBytes(10),await this._readBytes(16);let e=mt.readInt32(await this._readBytes(4)),n=(await this._readBytes(e)).toString("utf8");Ie("ExternalTable Export Start. File:",n);try{this._exportStream=QS.createWriteStream(n),this._exportStream.on("error",s=>{Ie("Export Stream Error:",s)});let i=Buffer.alloc(4);await new Promise(s=>this._stream.write(i,()=>s()))}catch(i){Ie("Error opening export file:",i);let s=Buffer.alloc(4);mt.writeInt32(s,1,0),this._stream.write(s)}}async _handleExternalTableExportData(){Ie("Handle Export Data: Skipping 8 bytes...");let e=await this._readBytes(4);Ie("Skipped 4:",e.toString("hex"));let r=await this._readBytes(4);Ie("Skipped 4 (2):",r.toString("hex")),await this._consumeExternalTableData(this._exportStream),this._exportStream=null}async _consumeExternalTableData(e){for(Ie("Entering Consume Loop");;){Ie("Reading status...");let r=await this._readBytes(4),n=mt.readInt32(r);if(Ie("ExtTab Status:",n),n===qe.ExtabSock.DATA){let i=mt.readInt32(await this._readBytes(4));Ie("Block Length:",i);let s=await this._readBytes(i);e&&e.write(s)}else if(n===qe.ExtabSock.DONE){Ie("ExternalTable Data Done"),e&&await new Promise(i=>{if(Ie("Waiting for writeStream finish..."),e.writableFinished)return Ie("Stream already finished"),i();let s=setTimeout(()=>{Ie("Stream finish timeout! Destroying..."),e.destroy(),i()},5e3),o=()=>{Ie("Stream finished event"),clearTimeout(s),l(),i()},a=c=>{Ie("Stream error on end:",c),clearTimeout(s),l(),i()},l=()=>{e.removeListener("finish",o),e.removeListener("error",a)};e.on("finish",o),e.on("error",a),e.end()});return}else if(n===qe.ExtabSock.ERROR){let i=mt.readInt16(await this._readBytes(2)),s=(await this._readBytes(i)).toString("utf8");Ie("ExternalTable Data Error:",s),e&&e.end();return}else{Ie("Unknown ExtTab Status:",n),e&&e.end();return}}}async _handleExternalTableImport(){await this._readBytes(8);let e=[],r=(await this._readBytes(1))[0];for(e.push(r);r!==0;)r=(await this._readBytes(1))[0],r!==0&&e.push(r);let n=Buffer.from(e).toString("utf8");Ie("ExternalTable Import Start. File:",n);let i=mt.readInt32(await this._readBytes(4));Ie("Host Version:",i);let s=Buffer.alloc(4);mt.writeInt32(s,1,0),await new Promise(c=>this._stream.write(s,()=>c())),Ie("Sent Client Version");let o=mt.readInt32(await this._readBytes(4)),a=mt.readInt32(await this._readBytes(4));if(Ie("ExtTab Import Config:",{hostVersion:i,format:o,bufSize:a}),!QS.existsSync(n)){Ie("Import file not found:",n);let c=Buffer.alloc(4);mt.writeInt32(c,qe.ExtabSock.ERROR,0),this._stream.write(c);return}let l=QS.createReadStream(n,{highWaterMark:a||65536});await new Promise((c,u)=>{l.on("data",E=>{let d=Buffer.isBuffer(E)?E:Buffer.from(E),f=Buffer.alloc(8);mt.writeInt32(f,qe.ExtabSock.DATA,0),mt.writeInt32(f,d.length,4),this._stream.write(f),this._stream.write(d)}),l.on("end",()=>{Ie("Import Stream End");let E=Buffer.alloc(4);mt.writeInt32(E,qe.ExtabSock.DONE,0),this._stream.write(E),c()}),l.on("error",E=>{Ie("Import Stream Error:",E);let d=Buffer.alloc(4);mt.writeInt32(d,qe.ExtabSock.ERROR,0),this._stream.write(d);let f=E.message||"Error",T=Buffer.alloc(2);T.writeInt16BE(f.length),this._stream.write(T),this._stream.write(Buffer.from(f,"utf8")),u(E)})})}_parseRowDescription(e,r){Ie("parseRowDescription data length:",e.length,"hex:",e.toString("hex").substring(0,100));let n=0;if(e.length<2){Ie("Data too short for row description");return}let i=e.readInt16BE(n);n+=2,Ie("Column count:",i),this._rowDescription=[];for(let s=0;s<i&&n<e.length;s++){let o=n;for(;n<e.length&&e[n]!==0;)n++;let a=e.toString("utf8",o,n);if(n++,n+11>e.length){Ie("Not enough data for column",s,"at offset",n,"need 11 more, have",e.length-n);break}let l=e.readInt32BE(n);n+=4;let c=e.readInt16BE(n);n+=2;let u=e.readInt32BE(n);n+=4;let E=e[n];n+=1,this._rowDescription.push({name:a,typeOid:l,typeLen:c,typeMod:u,format:E}),Ie("Column",s,":",a,"typeOid:",l,"typeLen:",c)}r&&(r._preparedStatement={description:this._rowDescription})}_parseDataRow(e){let r=this._rowDescription.length,i=Math.ceil(r/8),s=[];for(let o=0;o<r;o++){let a=e[Math.floor(o/8)],l=7-o%8;if(!((a&1<<l)!==0)){s.push(null);continue}let u=e.readInt32BE(i);i+=4;let E=u-4;if(E<=0){s.push(null);continue}let f=this._rowDescription[o]?.typeOid,T=e.toString("utf8",i,i+E);f===1083?s.push($s.parseTimeString(T)):s.push(T),i+=E}return s}async _resReadDbosTuple(e){let r=this._tupdesc.numFields;await this._readBytes(4);let n=mt.readInt32(await this._readBytes(4)),i=await this._readBytes(n),s=new Array(r);for(let o=0;o<r;o++){if(this._columnIsNull(i,o)){s[o]=null;continue}let a=this._cTableFieldAt(i,o),l=this._tupdesc.fieldType[o],c=this._tupdesc.fieldSize[o];s[o]=this._parseFieldByType(a,l,c,o)}return s}_parseFieldByType(e,r,n,i){switch(r){case qe.NzType.NzTypeChar:return e.toString("latin1",0,n).trimEnd();case qe.NzType.NzTypeNChar:case qe.NzType.NzTypeNVarChar:{let s=e.readInt16LE(0)-2;return e.toString("utf8",2,2+s)}case qe.NzType.NzTypeVarChar:case qe.NzType.NzTypeVarFixedChar:{let s=e.readInt16LE(0)-2;return e.toString("latin1",2,2+s)}case qe.NzType.NzTypeInt8:return e.readBigInt64LE(0);case qe.NzType.NzTypeInt:return e.readInt32LE(0);case qe.NzType.NzTypeInt2:return e.readInt16LE(0);case qe.NzType.NzTypeInt1:return e.readInt8(0);case qe.NzType.NzTypeDouble:return e.readDoubleLE(0);case qe.NzType.NzTypeFloat:return e.readFloatLE(0);case qe.NzType.NzTypeDate:return $s.toDateTimeFrom4Bytes(e);case qe.NzType.NzTypeTime:return $s.timeRecvFloat(e);case qe.NzType.NzTypeInterval:return $s.intervalRecvFloat(e);case qe.NzType.NzTypeTimeTz:return $s.timetzOutput(e,n);case qe.NzType.NzTypeTimestamp:return $s.toDateTimeFrom8Bytes(e);case qe.NzType.NzTypeBool:return e[0]===1;case qe.NzType.NzTypeNumeric:{let s=this._tupdesc.getFieldPrecision(i),o=this._tupdesc.getFieldScale(i),a=this._tupdesc.getNumericDigitCount(i);return $s.getCsNumeric(e,s,o,a)}default:return e.toString("utf8",0,n)}}_columnIsNull(e,r){if(!this._tupdesc.nullsAllowed)return!1;let n=this._tupdesc.fieldPhysField[r];return(e[2+Math.floor(n/8)]&1<<n%8)!==0}_cTableFieldAt(e,r){if(this._tupdesc.fieldFixedSize[r]!==0)return e.slice(this._tupdesc.fieldOffset[r]);let n=e.slice(this._tupdesc.fixedFieldsSize);for(let i=0;i<this._tupdesc.fieldOffset[r];i++){let s=n.readInt16LE(0);n=n.slice(s%2===0?s:s+1)}return n}};Zg.exports=ZS});var sf,Zi,tR=lr(()=>{"use strict";sf=ze(require("vscode")),Zi=class t{constructor(e){this.context=e;this._connections={};this._activeConnectionName=null;this._documentConnections=new Map;this._persistentConnections=new Map;this._keepConnectionOpen=!1;this._onDidChangeConnections=new sf.EventEmitter;this.onDidChangeConnections=this._onDidChangeConnections.event;this._onDidChangeActiveConnection=new sf.EventEmitter;this.onDidChangeActiveConnection=this._onDidChangeActiveConnection.event;this._onDidChangeDocumentConnection=new sf.EventEmitter;this.onDidChangeDocumentConnection=this._onDidChangeDocumentConnection.event;this._loadingPromise=this.loadConnections()}static{this.SERVICE_NAME="netezza-vscode-connections"}static{this.ACTIVE_CONN_KEY="netezza-active-connection"}async loadConnections(){this._activeConnectionName=this.context.globalState.get(t.ACTIVE_CONN_KEY)||null;let e=await this.context.secrets.get(t.SERVICE_NAME);if(e)try{this._connections=JSON.parse(e)}catch(r){console.error("Failed to parse connections:",r),this._connections={}}else{let r=await this.context.secrets.get("netezza-vscode");if(r)try{let n=JSON.parse(r);if(n&&n.host){let i=`Default (${n.host})`;this._connections={[i]:{...n,name:i}},this._activeConnectionName=i,await this.saveConnectionsToStorage()}}catch{}}this._onDidChangeConnections.fire()}async ensureLoaded(){await this._loadingPromise}async saveConnectionsToStorage(){await this.context.secrets.store(t.SERVICE_NAME,JSON.stringify(this._connections)),this._activeConnectionName?await this.context.globalState.update(t.ACTIVE_CONN_KEY,this._activeConnectionName):await this.context.globalState.update(t.ACTIVE_CONN_KEY,void 0)}async saveConnection(e){if(await this.ensureLoaded(),!e.name)throw new Error("Connection name is required");this._connections[e.name]=e,this._activeConnectionName||await this.setActiveConnection(e.name),await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}async deleteConnection(e){if(await this.ensureLoaded(),this._connections[e]){if(await this.closePersistentConnection(e),delete this._connections[e],this._activeConnectionName===e){let r=Object.keys(this._connections);await this.setActiveConnection(r.length>0?r[0]:null)}await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}}async getConnections(){return await this.ensureLoaded(),Object.values(this._connections)}async getConnection(e){return await this.ensureLoaded(),this._connections[e]}async setActiveConnection(e){await this.ensureLoaded(),this._activeConnectionName=e,await this.context.globalState.update(t.ACTIVE_CONN_KEY,e),this._onDidChangeActiveConnection.fire(e)}getActiveConnectionName(){return this._activeConnectionName}async getConnectionString(e){await this.ensureLoaded();let r=e||this._activeConnectionName;if(!r)return null;let n=this._connections[r];if(!n)return console.error(`[ConnectionManager] Connection '${r}' not found in registry. Available keys: ${Object.keys(this._connections).join(", ")}`),null;let i=n.dbType||"NetezzaSQL";return i==="NetezzaSQL"?`DRIVER={NetezzaSQL};SERVER=${n.host};PORT=${n.port};DATABASE=${n.database};UID=${n.user};PWD=${n.password};`:`DRIVER={${i}};SERVER=${n.host};PORT=${n.port};DATABASE=${n.database};UID=${n.user};PWD=${n.password};`}async getCurrentDatabase(e){await this.ensureLoaded();let r=e||this._activeConnectionName;return r&&this._connections[r]?.database||null}setKeepConnectionOpen(e){this._keepConnectionOpen=e,e||this.closeAllPersistentConnections()}getKeepConnectionOpen(){return this._keepConnectionOpen}async getPersistentConnection(e){let r=e||this._activeConnectionName;if(!r)throw new Error("No connection selected");if(!await this.getConnectionString(r))throw new Error(`Connection '${r}' not found or invalid`);let i=this._persistentConnections.get(r);if(!i){let s=Vr(),o=this._connections[r],a={host:o.host,port:o.port||5480,database:o.database,user:o.user,password:o.password},l=new s(a);await l.connect(),i=l,this._persistentConnections.set(r,i)}return i}async closePersistentConnection(e){let r=this._persistentConnections.get(e);if(r){try{await r.close()}catch(n){console.error(`Error closing connection ${e}:`,n)}this._persistentConnections.delete(e)}}async closeAllPersistentConnections(){for(let e of this._persistentConnections.keys())await this.closePersistentConnection(e)}dispose(){this.closeAllPersistentConnections()}getDocumentConnection(e){return this._documentConnections.get(e)}setDocumentConnection(e,r){this._documentConnections.set(e,r),this._onDidChangeDocumentConnection.fire(e)}clearDocumentConnection(e){this._documentConnections.delete(e),this._onDidChangeDocumentConnection.fire(e)}getConnectionForExecution(e){if(e){let r=this._documentConnections.get(e);if(r)return r}return this._activeConnectionName||void 0}}});var t0={};cr(t0,{QueryHistoryManager:()=>Mr});var e0,an,rR,Mr,of=lr(()=>{"use strict";e0=ze(require("vscode")),an=ze(require("fs")),rR=ze(require("path")),Mr=class t{constructor(e){this.context=e;this.cache=[];this.initialized=!1;if(this.context.globalStorageUri){this.historyFilePath=e0.Uri.joinPath(this.context.globalStorageUri,"query-history.json").fsPath;try{an.existsSync(this.context.globalStorageUri.fsPath)||an.mkdirSync(this.context.globalStorageUri.fsPath,{recursive:!0})}catch(r){console.error("[QueryHistoryManager] Error creating storage directory:",r)}}this.initialize()}static{this.STORAGE_KEY="queryHistory"}static{this.MAX_ENTRIES=5e4}static{this.CLEANUP_KEEP=4e4}static{this.STORAGE_VERSION=1}async initialize(){try{let e=!1;if(this.historyFilePath&&an.existsSync(this.historyFilePath))try{let r=await an.promises.readFile(this.historyFilePath,"utf-8");if(!r||!r.trim())console.log("[QueryHistoryManager] File is empty, starting fresh"),this.cache=[],e=!0;else{let n=JSON.parse(r);n&&n.entries&&(this.cache=n.entries,e=!0)}}catch(r){console.warn("[QueryHistoryManager] Corrupted history file, resetting:",r),this.cache=[],e=!0;try{await this.saveToStorage(),console.log("[QueryHistoryManager] Reset corrupted file to empty state")}catch(n){console.error("[QueryHistoryManager] Failed to reset file:",n)}}if(!e){let r=this.context.globalState.get(t.STORAGE_KEY);r&&r.entries&&(this.cache=r.entries,console.log(`\u2705 Migrated ${this.cache.length} entries from globalState`),await this.saveToStorage(),await this.context.globalState.update(t.STORAGE_KEY,void 0))}!e&&this.cache.length===0&&await this.migrateFromLegacyStorage(),this.initialized=!0}catch(e){console.error("\u274C Error initializing query history:",e),this.cache=[],this.initialized=!0}}async migrateFromLegacyStorage(){try{let e=this.context.globalStorageUri.fsPath,r=rR.join(e,"query-history.db");an.existsSync(r)&&console.log("\u26A0\uFE0F SQLite database found but migration not implemented");let n=rR.join(e,"query-history-archive.json");if(an.existsSync(n))try{let i=an.readFileSync(n,"utf8");if(i.trim()){let s=JSON.parse(i);this.cache.push(...s),await this.saveToStorage(),console.log(`\u2705 Migrated archive with ${s.length} entries`)}}catch{}}catch(e){console.error("Error during migration:",e)}}async saveToStorage(){if(this.historyFilePath)try{let e={entries:this.cache,version:t.STORAGE_VERSION};await an.promises.writeFile(this.historyFilePath,JSON.stringify(e),"utf-8")}catch(e){console.error("Error saving to storage:",e)}}async addEntry(e,r,n,i,s,o,a){try{this.initialized||await this.initialize();let l=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,c=Date.now(),u={id:l,host:e,database:r,schema:n,query:i.trim(),timestamp:c,connectionName:s,is_favorite:!1,tags:o||"",description:a||""};this.cache.unshift(u),this.cache.length>t.MAX_ENTRIES&&(this.cache=this.cache.slice(0,t.CLEANUP_KEEP),console.log(`Cleaned up old entries, keeping ${t.CLEANUP_KEEP} newest`)),await this.saveToStorage()}catch(l){console.error("Error adding query to history:",l)}}async getHistory(){return this.initialized||await this.initialize(),[...this.cache]}async deleteEntry(e){try{this.cache=this.cache.filter(r=>r.id!==e),await this.saveToStorage()}catch(r){console.error("Error deleting entry:",r)}}async clearHistory(){try{this.cache=[],await this.saveToStorage(),console.log("All query history cleared")}catch(e){console.error("Error clearing history:",e)}}async getStats(){try{let e=this.cache.length,r=JSON.stringify(this.cache).length,n=parseFloat((r/(1024*1024)).toFixed(2));return{activeEntries:e,archivedEntries:0,totalEntries:e,activeFileSizeMB:n,archiveFileSizeMB:0,totalFileSizeMB:n}}catch(e){return console.error("Error getting stats:",e),{activeEntries:0,archivedEntries:0,totalEntries:0,activeFileSizeMB:0,archiveFileSizeMB:0,totalFileSizeMB:0}}}async toggleFavorite(e){try{let r=this.cache.find(n=>n.id===e);r&&(r.is_favorite=!r.is_favorite,await this.saveToStorage())}catch(r){console.error("Error toggling favorite:",r)}}async updateEntry(e,r,n){try{let i=this.cache.find(s=>s.id===e);i&&(r!==void 0&&(i.tags=r),n!==void 0&&(i.description=n),await this.saveToStorage())}catch(i){console.error("Error updating entry:",i)}}async getFavorites(){return this.initialized||await this.initialize(),this.cache.filter(e=>e.is_favorite)}async getByTag(e){return this.initialized||await this.initialize(),this.cache.filter(r=>r.tags?.toLowerCase().includes(e.toLowerCase()))}async getAllTags(){this.initialized||await this.initialize();let e=new Set;return this.cache.forEach(r=>{r.tags&&r.tags.split(",").forEach(i=>{let s=i.trim();s&&e.add(s)})}),Array.from(e).sort()}async searchAll(e){this.initialized||await this.initialize();let r=e.toLowerCase();return this.cache.filter(n=>n.query.toLowerCase().includes(r)||n.host.toLowerCase().includes(r)||n.database.toLowerCase().includes(r)||n.schema.toLowerCase().includes(r)||n.tags?.toLowerCase().includes(r)||n.description?.toLowerCase().includes(r))}async getFilteredHistory(e,r,n,i){this.initialized||await this.initialize();let s=this.cache.filter(o=>!(e&&o.host!==e||r&&o.database!==r||n&&o.schema!==n));return i&&(s=s.slice(0,i)),s}async getArchivedHistory(){return[]}async clearArchive(){}close(){console.log("Query history manager closed")}}});async function r0(){let t=Xr.window.activeTextEditor;if(!t){Xr.window.showWarningMessage("No active editor to cancel query for.");return}let e=t.document.uri.toString(),r=ks.get(e);if(r)try{await r.cancel(),Xr.window.showInformationMessage("Cancellation request sent.")}catch(n){Xr.window.showErrorMessage(`Failed to cancel query: ${n.message}`)}else Xr.window.showInformationMessage("No active query found for this tab.")}function n0(t){let e=new Set;if(!t)return e;for(let r of t.matchAll(/\$\{([A-Za-z0-9_]+)\}/g))r[1]&&e.add(r[1]);return e}function i0(t){if(!t)return{sql:"",setValues:{}};let e=t.split(/\r?\n/),r=[],n={};for(let i of e){let s=i.match(/^\s*@SET\s+([A-Za-z0-9_]+)\s*=\s*(.+)$/i);if(s){let o=s[2].trim();o.endsWith(";")&&(o=o.slice(0,-1).trim());let a=o.match(/^'(.*)'$/s)||o.match(/^"(.*)"$/s);a&&(o=a[1]),n[s[1]]=o}else r.push(i)}return{sql:r.join(`
`),setValues:n}}async function s0(t,e,r){let n={};if(t.size===0)return n;if(e){let s=Array.from(t).filter(o=>!(r&&r[o]!==void 0));if(s.length>0)throw new Error("Query contains variables but silent mode is enabled; cannot prompt for values. Missing: "+s.join(", "));for(let o of t)n[o]=r[o];return n}let i=[];for(let s of t)r&&r[s]!==void 0?n[s]=r[s]:i.push(s);for(let s of i){let o=await Xr.window.showInputBox({prompt:`Enter value for ${s}`,placeHolder:"",value:r&&r[s]?r[s]:void 0,ignoreFocusOut:!0});if(o===void 0)throw new Error("Variable input cancelled by user");n[s]=o}return n}function o0(t,e){return t.replace(/\$\{([A-Za-z0-9_]+)\}/g,(r,n)=>e[n]??"")}async function X3(t,e,r=!1,n,i,s,o){let a=n||new Zi(t),l=a.getKeepConnectionOpen(),c;if(!r&&!o&&(c=Xr.window.createOutputChannel("Netezza SQL"),c.show(!0),c.appendLine("Executing query...")),o&&o("Executing query..."),i){let u=`Target Connection: ${i}`;c&&c.appendLine(u),o&&o(u)}try{let u=i0(e),E=u.sql,d=u.setValues,f=n0(E);if(f.size>0){let C=await s0(f,r,d);E=o0(E,C)}let T,h=!0,R="",S=i;if(!S&&s&&(S=a.getConnectionForExecution(s)),S||(S=a.getActiveConnectionName()||void 0),!S)throw new Error("No connection selected");if(l)T=await a.getPersistentConnection(S),h=!1;else{let C=Vr(),A=await a.getConnection(S);if(!A)throw new Error(`Connection '${S}' not found`);let p={host:A.host,port:A.port||5480,database:A.database,user:A.user,password:A.password};T=new C(p),await T.connect()}c&&T.on("notice",C=>{c.appendLine(`NOTICE: ${C.message}`)});try{let A=Xr.workspace.getConfiguration("netezza").get("queryTimeout",1800),p=T.createCommand(E);p.commandTimeout=A,s&&ks.set(s,p);try{let g=await p.executeReader(),D=[],O=[],M,w=2e5,x=0,F=!1;for(;await g.read();){if(D.length===0)for(let se=0;se<g.fieldCount;se++)D.push({name:g.getName(se),type:g.getTypeName(se)});let ne=[];for(let se=0;se<g.fieldCount;se++)ne.push(g.getValue(se));if(O.push(ne),x++,x>=w){F=!0;break}}let ee="unknown",Z=await a.getConnection(S);return Z&&new Mr(t).addEntry(Z.host,Z.database,ee,e,S).catch(se=>console.error("History log error:",se)),D.length>0?(c&&c.appendLine("Query completed."),{columns:D,data:O,rowsAffected:M,limitReached:F,sql:E}):(c&&c.appendLine("Query executed successfully (no results)."),{columns:[],data:[],rowsAffected:M,message:"Query executed successfully (no results).",sql:E})}finally{s&&ks.delete(s)}}finally{h&&await T.close()}}catch(u){let E=`Error: ${u.message||u}`;throw c&&c.appendLine(E),o&&o(E),new Error(E)}}async function ue(t,e,r=!1,n,i,s){try{let o=await X3(t,e,r,i,n,s);if(o.data&&o.data.length>0){let a=o.data.map(c=>{let u={};return o.columns.forEach((E,d)=>{u[E.name]=c[d]}),u});return JSON.stringify(a,(c,u)=>typeof u=="bigint"?u>=Number.MIN_SAFE_INTEGER&&u<=Number.MAX_SAFE_INTEGER?Number(u):u.toString():u,2)}else if(o.message)return o.message;return}catch(o){throw o}}async function a0(t,e,r,n,i){let s=n||new Zi(t),o=s.getKeepConnectionOpen(),a=[],l=r;if(!l&&i&&(l=s.getConnectionForExecution(i)),l||(l=s.getActiveConnectionName()||void 0),!l)throw new Error("No connection selected");let c,u=!0;try{if(o)c=await s.getPersistentConnection(l),u=!1;else{let d=Vr(),f=await s.getConnection(l);if(!f)throw new Error(`Connection '${l}' not found`);let T={host:f.host,port:f.port||5480,database:f.database,user:f.user,password:f.password};c=new d(T),await c.connect()}let E=d=>{a.push(d.message)};c.on("notice",E);try{let f=Xr.workspace.getConfiguration("netezza").get("queryTimeout",1800),T=c.createCommand(e);T.commandTimeout=f,i&&ks.set(i,T);try{let h=await T.executeReader();for(;await h.read(););}finally{i&&ks.delete(i)}}finally{c.removeListener("notice",E)}}finally{u&&c&&await c.close()}return a.join(`
`)}async function hc(t,e,r,n,i,s){let o=r||new Zi(t),a=o.getKeepConnectionOpen(),l;i||(l=Xr.window.createOutputChannel("Netezza SQL"),l.show(!0),l.appendLine(`Executing ${e.length} queries sequentially...`));let c=[],u=r?r.getConnectionForExecution(n):void 0;if(u||(u=o.getActiveConnectionName()||void 0),!u)throw l&&l.appendLine("Error: No connection selected"),i&&i("Error: No connection selected"),new Error("No connection selected");try{let E,d=!0,f=await o.getConnection(u);if(!f)throw new Error(`Connection '${u}' not found`);if(a)E=await o.getPersistentConnection(u),d=!1;else{let T=Vr(),h={host:f.host,port:f.port||5480,database:f.database,user:f.user,password:f.password};E=new T(h),await E.connect()}E.on("notice",T=>{l&&l.appendLine(`NOTICE: ${T.message}`),i&&i(`NOTICE: ${T.message}`)});try{let T="unknown";try{let C=await E.createCommand("SELECT CURRENT_SID").executeReader();if(await C.read()){let A=C.getValue(0);A!==void 0&&i&&i(`Connected. Session ID: ${A}`)}await C.close()}catch(S){console.debug("Could not retrieve session ID:",S),i&&i("Connected.")}let h=new Mr(t),R=u;for(let S=0;S<e.length;S++){let C=e[S],A=`Executing query ${S+1}/${e.length}...`;l&&l.appendLine(A),i&&i(A);try{let p=i0(C),g=p.sql,D=p.setValues,O=n0(g);if(O.size>0){let ne=await s0(O,!1,D);g=o0(g,ne)}let w=Xr.workspace.getConfiguration("netezza").get("queryTimeout",1800),x=Date.now(),{results:F,error:ee}=await K3(E,g,2e5,w,n),Z=Date.now()-x;if(i&&i(`Executed query ${S+1}/${e.length} in ${Z}ms`),h.addEntry(f.host,f.database,T,C,R).catch(ne=>{console.error("Failed to log query to history:",ne)}),F&&F.length>0)for(let ne of F)if(ne&&ne.columns){let se=ne.columns;c.push({columns:se,data:ne,rowsAffected:ne.count,limitReached:ne.limitReached,sql:g})}else c.push({columns:[],data:[],rowsAffected:ne?.count,message:"Query executed successfully",sql:g});if(s&&F&&F.length>0){let ne=[];for(let se of F)se&&se.columns?ne.push({columns:se.columns,data:se,rowsAffected:se.count,limitReached:se.limitReached,sql:g}):ne.push({columns:[],data:[],rowsAffected:se?.count,message:"Query executed successfully",sql:g});s(ne)}if(ee)throw ee}catch(p){let g=`Error: ${p.message}`;throw l&&l.appendLine(`Error in query ${S+1}: ${g}`),new Error(g)}}l&&l.appendLine("All queries completed.")}finally{d&&await E.close()}}catch(E){let d=`Error: ${E.message}`;throw l&&l.appendLine(d),i&&i(d),new Error(d)}return c}async function K3(t,e,r,n,i){let s=t.createCommand(e);n&&n>0&&(s.commandTimeout=n),i&&ks.set(i,s);try{let o=await s.executeReader(),a=[],l=!0,c;try{do{let u=[],E=[],d=0,f=!1;for(;await o.read();){if(u.length===0)for(let T=0;T<o.fieldCount;T++)u.push({name:o.getName(T),type:o.getTypeName(T)});if(d<r){let T=[];for(let h=0;h<o.fieldCount;h++)T.push(o.getValue(h));E.push(T),d++}if(d>=r){f=!0;break}}u.length>0&&(E.columns=u),f&&(E.limitReached=!0),a.push(E),l=await o.nextResult()}while(l)}catch(u){c=u}return{results:a,error:c}}finally{i&&ks.delete(i)}}var Xr,ks,es=lr(()=>{"use strict";Xr=ze(require("vscode"));tR();of();ks=new Map});var lf={};cr(lf,{SchemaItem:()=>xr,SchemaProvider:()=>Tc});var Ne,Tc,xr,Sc=lr(()=>{"use strict";Ne=ze(require("vscode"));es();Tc=class{constructor(e,r,n){this.context=e;this.connectionManager=r;this.metadataCache=n;this._onDidChangeTreeData=new Ne.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.connectionManager.onDidChangeConnections(()=>this.refresh())}refresh(){this._onDidChangeTreeData.fire()}triggerDatabasePrefetch(e,r){this.metadataCache.hasConnectionPrefetchTriggered(e)||(console.log(`[SchemaProvider] Triggering connection prefetch for: ${e}`),this.metadataCache.triggerConnectionPrefetch(e,async n=>{try{return await ue(this.context,n,!0,e,this.connectionManager)}catch(i){console.error("[SchemaProvider] Prefetch query error:",i);return}}))}getTreeItem(e){return e}getParent(e){if(e.contextValue!=="serverInstance"){if(e.contextValue==="database")return new xr(e.connectionName,Ne.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,e.connectionName,void 0);if(e.contextValue.startsWith("typeGroup"))return new xr(e.dbName,Ne.TreeItemCollapsibleState.Collapsed,"database",e.dbName,void 0,void 0,void 0,void 0,e.connectionName);if(e.contextValue.startsWith("netezza:"))return new xr(e.objType,Ne.TreeItemCollapsibleState.Collapsed,`typeGroup:${e.objType}`,e.dbName,e.objType,void 0,void 0,void 0,e.connectionName)}}async getChildren(e){if(e){if(e.contextValue==="serverInstance"){if(!e.connectionName)return[];let r=this.metadataCache.getDatabases(e.connectionName);if(r)return r.map(n=>new xr(n.label||n.DATABASE,Ne.TreeItemCollapsibleState.Collapsed,"database",n.label||n.DATABASE,void 0,void 0,void 0,void 0,e.connectionName));try{let n=await ue(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e.connectionName,this.connectionManager);if(!n)return[];let i=JSON.parse(n),s=i.map(o=>({label:o.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e.connectionName,s),i.map(o=>new xr(o.DATABASE,Ne.TreeItemCollapsibleState.Collapsed,"database",o.DATABASE,void 0,void 0,void 0,void 0,e.connectionName))}catch(n){return Ne.window.showErrorMessage(`Failed to load databases for ${e.connectionName}: ${n}`),[]}}else if(e.contextValue==="database"){if(e.connectionName&&e.dbName&&this.triggerDatabasePrefetch(e.connectionName,e.dbName),e.connectionName&&e.dbName){let r=this.metadataCache.getTypeGroups(e.connectionName,e.dbName);if(r&&r.length>0)return r.map(n=>new xr(n,Ne.TreeItemCollapsibleState.Collapsed,`typeGroup:${n}`,e.dbName,n,void 0,void 0,void 0,e.connectionName))}try{let r=`SELECT DISTINCT OBJTYPE FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' ORDER BY OBJTYPE`,n=await ue(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName){let s=i.map(o=>o.OBJTYPE);this.metadataCache.setTypeGroups(e.connectionName,e.dbName,s)}return i.map(s=>new xr(s.OBJTYPE,Ne.TreeItemCollapsibleState.Collapsed,`typeGroup:${s.OBJTYPE}`,e.dbName,s.OBJTYPE,void 0,void 0,void 0,e.connectionName))}catch(r){return Ne.window.showErrorMessage("Failed to load object types: "+r),[]}}else if(e.contextValue.startsWith("typeGroup")){if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW"||e.objType==="EXTERNAL TABLE")){let r=this.metadataCache.getObjectsWithSchema(e.connectionName,e.dbName);if(r&&r.length>0){let n=e.objType,i=r.filter(s=>{let o=s.item;return o.objType?o.objType===n:n==="VIEW"?o.kind===18:n==="TABLE"?o.kind!==18&&o.detail!=="EXTERNAL TABLE":n==="EXTERNAL TABLE"?o.detail==="EXTERNAL TABLE"||o.detail?.startsWith("EXTERNAL TABLE"):!1});if(i.length>0)return i.map(s=>new xr(typeof s.item.label=="string"?s.item.label:s.item.label?.label||"unknown",Ne.TreeItemCollapsibleState.Collapsed,`netezza:${e.objType}`,e.dbName,e.objType,s.schema,s.objId,void 0,e.connectionName))}}try{let r;e.objType==="PROCEDURE"?r=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA, OBJID::INT AS OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_PROCEDURE WHERE DATABASE = '${e.dbName}' ORDER BY PROCEDURESIGNATURE`:r=`SELECT OBJNAME, SCHEMA, OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' AND OBJTYPE = '${e.objType}' ORDER BY OBJNAME`;let n=await ue(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW")){let s=new Map;for(let o of i){let a=o.SCHEMA?`${e.dbName}.${o.SCHEMA}`:`${e.dbName}..`;s.has(a)||s.set(a,{tables:[],idMap:new Map});let l=s.get(a);l.tables.push({label:o.OBJNAME,kind:e.objType==="VIEW"?18:7,detail:o.SCHEMA?e.objType:`${e.objType} (${o.SCHEMA})`,sortText:o.OBJNAME});let c=o.SCHEMA?`${e.dbName}.${o.SCHEMA}.${o.OBJNAME}`:`${e.dbName}..${o.OBJNAME}`;l.idMap.set(c,o.OBJID)}for(let[o,a]of s);}return i.map(s=>{let a=["TABLE","VIEW","EXTERNAL TABLE","SYSTEM VIEW","SYSTEM TABLE"].includes(e.objType||"");return new xr(s.OBJNAME,a?Ne.TreeItemCollapsibleState.Collapsed:Ne.TreeItemCollapsibleState.None,`netezza:${e.objType}`,e.dbName,e.objType,s.SCHEMA,s.OBJID,s.DESCRIPTION,e.connectionName)})}catch(r){return Ne.window.showErrorMessage("Failed to load objects: "+r),[]}}else if(e.contextValue.startsWith("netezza:")){let r=e.label,n=e.schema,i=e.dbName;if(e.connectionName&&i){let s=`${i}.${n||""}.${r}`,o=this.metadataCache.getColumns(e.connectionName,s);if(o&&o.length>0&&o[0].isPk!==void 0)return o.map(a=>new xr(a.detail?`${a.label} (${a.detail})`:a.label,Ne.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,a.documentation||"",e.connectionName,r,void 0,a.isPk,a.isFk))}if(!e.connectionName||!i)return[];try{let s=n?`AND UPPER(K.SCHEMA) = UPPER('${n}')`:"",o=`SELECT 
                        X.ATTNAME
                        , X.FORMAT_TYPE
                        , X.ATTNOTNULL::BOOL AS ATTNOTNULL
                        , X.COLDEFAULT
                        , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
                        , MAX(CASE WHEN K.CONTYPE = 'p' THEN 1 ELSE 0 END) AS IS_PK
                        , MAX(CASE WHEN K.CONTYPE = 'f' THEN 1 ELSE 0 END) AS IS_FK
                    FROM
                        ${i}.._V_RELATION_COLUMN X
                    INNER JOIN
                        ${i}.._V_OBJECT_DATA O ON X.OBJID = O.OBJID
                    LEFT JOIN
                        ${i}.._V_RELATION_KEYDATA K 
                        ON UPPER(K.RELATION) = UPPER(O.OBJNAME) 
                        AND UPPER(K.SCHEMA) = UPPER(O.SCHEMA)
                        AND UPPER(K.ATTNAME) = UPPER(X.ATTNAME)
                        AND K.CONTYPE IN ('p', 'f')
                    WHERE
                        UPPER(O.OBJNAME) = UPPER('${r}')
                        AND UPPER(O.DBNAME) = UPPER('${i}')
                        ${n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:""}
                    GROUP BY 
                        X.ATTNAME, X.FORMAT_TYPE, X.ATTNOTNULL, X.COLDEFAULT, X.DESCRIPTION, X.ATTNUM
                    ORDER BY 
                        X.ATTNUM`,a=await ue(this.context,o,!0,e.connectionName,this.connectionManager),l=JSON.parse(a||"[]"),c=`${i}.${n||""}.${r}`,u=l.map(E=>({label:E.ATTNAME,kind:5,detail:E.FORMAT_TYPE,documentation:E.DESCRIPTION,isPk:Number(E.IS_PK)===1,isFk:Number(E.IS_FK)===1}));return this.metadataCache.setColumns(e.connectionName,c,u),l.map(E=>new xr(`${E.ATTNAME} (${E.FORMAT_TYPE})`,Ne.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,E.DESCRIPTION,e.connectionName,r,void 0,Number(E.IS_PK)===1,Number(E.IS_FK)===1))}catch(s){return Ne.window.showErrorMessage("Failed to load columns: "+s),[]}}}else{let r=await this.connectionManager.getConnections(),n=Ne.Uri.file(this.context.asAbsolutePath("netezza_icon64.png"));return r.map(i=>new xr(i.name,Ne.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,i.name,void 0,n))}return[]}},xr=class extends Ne.TreeItem{constructor(r,n,i,s,o,a,l,c,u,E,d,f,T){super(r,n);this.label=r;this.collapsibleState=n;this.contextValue=i;this.dbName=s;this.objType=o;this.schema=a;this.objId=l;this.objectDescription=c;this.connectionName=u;this.parentName=E;this.isPk=f;this.isFk=T;let h=this.label;u&&(h+=`
[Server: ${u}]`),c&&c.trim()&&(h+=`

${c.trim()}`),a&&i.startsWith("netezza:")&&(h+=`

Schema: ${a}`),this.isPk&&(h+=`
\u{1F511} Primary Key`),this.isFk&&(h+=`
\u{1F517} Foreign Key`),this.tooltip=h,this.description=a?`(${a})`:"";let R=[u||"global",i,s||"",a||"",o||"",E||"",r,l?l.toString():""];this.id=R.join("|"),d?this.iconPath=d:i==="serverInstance"?this.iconPath=new Ne.ThemeIcon("server"):i==="database"?this.iconPath=new Ne.ThemeIcon("database"):i.startsWith("typeGroup")?this.iconPath=new Ne.ThemeIcon("folder"):i.startsWith("netezza:")?this.iconPath=this.getIconForType(o):i==="column"&&(this.isPk?this.iconPath=new Ne.ThemeIcon("key",new Ne.ThemeColor("charts.yellow")):this.isFk?this.iconPath=new Ne.ThemeIcon("link",new Ne.ThemeColor("charts.blue")):this.iconPath=new Ne.ThemeIcon("symbol-field"))}getIconForType(r){switch(r){case"TABLE":return new Ne.ThemeIcon("table");case"VIEW":return new Ne.ThemeIcon("eye");case"PROCEDURE":return new Ne.ThemeIcon("gear");case"FUNCTION":return new Ne.ThemeIcon("symbol-function");case"AGGREGATE":return new Ne.ThemeIcon("symbol-operator");case"EXTERNAL TABLE":return new Ne.ThemeIcon("server");default:return new Ne.ThemeIcon("file")}}}});var l0={};cr(l0,{SqlParser:()=>In});var In,Ef=lr(()=>{"use strict";In=class{static splitStatements(e){let r=[],n="",i=!1,s=!1,o=!1,a=!1,l=0;for(;l<e.length;){let c=e[l],u=l+1<e.length?e[l+1]:"";if(o)c===`
`&&(o=!1);else if(a){if(c==="*"&&u==="/"){a=!1,n+=c+u,l++,l++;continue}}else if(i)c==="'"&&e[l-1]!=="\\"&&(i=!1);else if(s)c==='"'&&e[l-1]!=="\\"&&(s=!1);else if(c==="-"&&u==="-")o=!0;else if(c==="/"&&u==="*")a=!0;else if(c==="'")i=!0;else if(c==='"')s=!0;else if(c===";"){n.trim()&&r.push(n.trim()),n="",l++;continue}n+=c,l++}return n.trim()&&r.push(n.trim()),r}static getStatementAtPosition(e,r){let n=0,i=e.length,s=!1,o=!1,a=!1,l=!1,c=-1;for(let E=0;E<r;E++){let d=e[E],f=E+1<e.length?e[E+1]:"";a?d===`
`&&(a=!1):l?d==="*"&&f==="/"&&(l=!1,E++):s?d==="'"&&e[E-1]!=="\\"&&(s=!1):o?d==='"'&&e[E-1]!=="\\"&&(o=!1):d==="-"&&f==="-"?a=!0:d==="/"&&f==="*"?l=!0:d==="'"?s=!0:d==='"'?o=!0:d===";"&&(c=E)}n=c+1,s=!1,o=!1,a=!1,l=!1;for(let E=n;E<e.length;E++){let d=e[E],f=E+1<e.length?e[E+1]:"";if(a)d===`
`&&(a=!1);else if(l)d==="*"&&f==="/"&&(l=!1,E++);else if(s)d==="'"&&e[E-1]!=="\\"&&(s=!1);else if(o)d==='"'&&e[E-1]!=="\\"&&(o=!1);else if(d==="-"&&f==="-")a=!0;else if(d==="/"&&f==="*")l=!0;else if(d==="'")s=!0;else if(d==='"')o=!0;else if(d===";"){i=E;break}}let u=e.substring(n,i).trim();return u?{sql:u,start:n,end:i}:null}static getObjectAtPosition(e,r){let n=c=>/[a-zA-Z0-9_."]/i.test(c),i=r;for(;i>0&&n(e[i-1]);)i--;let s=r;for(;s<e.length&&n(e[s]);)s++;let o=e.substring(i,s);if(!o)return null;let a=c=>c?c.replace(/"/g,""):void 0;if(o.includes("..")){let c=o.split("..");if(c.length===2)return{database:a(c[0]),name:a(c[1])}}let l=o.split(".");return l.length===1?{name:a(l[0])}:l.length===2?{schema:a(l[0]),name:a(l[1])}:l.length===3?{database:a(l[0]),schema:a(l[1]),name:a(l[2])}:null}}});var uL=y((cL,Cf)=>{(function(t,e){typeof Cf=="object"&&Cf.exports?Cf.exports=e():t.nearley=e()})(cL,function(){function t(l,c,u){return this.id=++t.highestId,this.name=l,this.symbols=c,this.postprocess=u,this}t.highestId=0,t.prototype.toString=function(l){var c=typeof l>"u"?this.symbols.map(a).join(" "):this.symbols.slice(0,l).map(a).join(" ")+" \u25CF "+this.symbols.slice(l).map(a).join(" ");return this.name+" \u2192 "+c};function e(l,c,u,E){this.rule=l,this.dot=c,this.reference=u,this.data=[],this.wantedBy=E,this.isComplete=this.dot===l.symbols.length}e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(l){var c=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=l,c.isComplete&&(c.data=c.build(),c.right=void 0),c},e.prototype.build=function(){var l=[],c=this;do l.push(c.right.data),c=c.left;while(c.left);return l.reverse(),l},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function r(l,c){this.grammar=l,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(l){for(var c=this.states,u=this.wants,E=this.completed,d=0;d<c.length;d++){var f=c[d];if(f.isComplete){if(f.finish(),f.data!==s.fail){for(var T=f.wantedBy,h=T.length;h--;){var R=T[h];this.complete(R,f)}if(f.reference===this.index){var S=f.rule.name;(this.completed[S]=this.completed[S]||[]).push(f)}}}else{var S=f.rule.symbols[f.dot];if(typeof S!="string"){this.scannable.push(f);continue}if(u[S]){if(u[S].push(f),E.hasOwnProperty(S))for(var C=E[S],h=0;h<C.length;h++){var A=C[h];this.complete(f,A)}}else u[S]=[f],this.predict(S)}}},r.prototype.predict=function(l){for(var c=this.grammar.byName[l]||[],u=0;u<c.length;u++){var E=c[u],d=this.wants[l],f=new e(E,0,this.index,d);this.states.push(f)}},r.prototype.complete=function(l,c){var u=l.nextState(c);this.states.push(u)};function n(l,c){this.rules=l,this.start=c||this.rules[0].name;var u=this.byName={};this.rules.forEach(function(E){u.hasOwnProperty(E.name)||(u[E.name]=[]),u[E.name].push(E)})}n.fromCompiled=function(E,c){var u=E.Lexer;E.ParserStart&&(c=E.ParserStart,E=E.ParserRules);var E=E.map(function(f){return new t(f.name,f.symbols,f.postprocess)}),d=new n(E,c);return d.lexer=u,d};function i(){this.reset("")}i.prototype.reset=function(l,c){this.buffer=l,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var l=this.buffer[this.index++];return l===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:l}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(l,c){var u=this.buffer;if(typeof u=="string"){var E=u.split(`
`).slice(Math.max(0,this.line-5),this.line),d=u.indexOf(`
`,this.index);d===-1&&(d=u.length);var f=this.index-this.lastLineBreak,T=String(this.line).length;return c+=" at line "+this.line+" col "+f+`:

`,c+=E.map(function(R,S){return h(this.line-E.length+S+1,T)+" "+R},this).join(`
`),c+=`
`+h("",T+f)+`^
`,c}else return c+" at index "+(this.index-1);function h(R,S){var C=String(R);return Array(S-C.length+1).join(" ")+C}};function s(l,c,u){if(l instanceof n)var E=l,u=c;else var E=n.fromCompiled(l,c);this.grammar=E,this.options={keepHistory:!1,lexer:E.lexer||new i};for(var d in u||{})this.options[d]=u[d];this.lexer=this.options.lexer,this.lexerState=void 0;var f=new r(E,0),T=this.table=[f];f.wants[E.start]=[],f.predict(E.start),f.process(),this.current=0}s.fail={},s.prototype.feed=function(l){var c=this.lexer;c.reset(l,this.lexerState);for(var u;;){try{if(u=c.next(),!u)break}catch(D){var T=new r(this.grammar,this.current+1);this.table.push(T);var E=new Error(this.reportLexerError(D));throw E.offset=this.current,E.token=D.token,E}var d=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var f=this.current+1,T=new r(this.grammar,f);this.table.push(T);for(var h=u.text!==void 0?u.text:u.value,R=c.constructor===i?u.value:u,S=d.scannable,C=S.length;C--;){var A=S[C],p=A.rule.symbols[A.dot];if(p.test?p.test(R):p.type?p.type===u.type:p.literal===h){var g=A.nextState({data:R,token:u,isToken:!0,reference:f-1});T.states.push(g)}}if(T.process(),T.states.length===0){var E=new Error(this.reportError(u));throw E.offset=this.current,E.token=u,E}this.options.keepHistory&&(d.lexerState=c.save()),this.current++}return d&&(this.lexerState=c.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(l){var c,u,E=l.token;return E?(c="input "+JSON.stringify(E.text[0])+" (lexer error)",u=this.lexer.formatError(E,"Syntax error")):(c="input (lexer error)",u=l.message),this.reportErrorCommon(u,c)},s.prototype.reportError=function(l){var c=(l.type?l.type+" token: ":"")+JSON.stringify(l.value!==void 0?l.value:l),u=this.lexer.formatError(l,"Syntax error");return this.reportErrorCommon(u,c)},s.prototype.reportErrorCommon=function(l,c){var u=[];u.push(l);var E=this.table.length-2,d=this.table[E],f=d.states.filter(function(h){var R=h.rule.symbols[h.dot];return R&&typeof R!="string"});if(f.length===0)u.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(d.states,u);else{u.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var T=f.map(function(h){return this.buildFirstStateStack(h,[])||[h]},this);T.forEach(function(h){var R=h[0],S=R.rule.symbols[R.dot],C=this.getSymbolDisplay(S);u.push("A "+C+" based on:"),this.displayStateStack(h,u)},this)}return u.push(""),u.join(`
`)},s.prototype.displayStateStack=function(l,c){for(var u,E=0,d=0;d<l.length;d++){var f=l[d],T=f.rule.toString(f.dot);T===u?E++:(E>0&&c.push("    ^ "+E+" more lines identical to this"),E=0,c.push("    "+T)),u=T}},s.prototype.getSymbolDisplay=function(l){return o(l)},s.prototype.buildFirstStateStack=function(l,c){if(c.indexOf(l)!==-1)return null;if(l.wantedBy.length===0)return[l];var u=l.wantedBy[0],E=[l].concat(c),d=this.buildFirstStateStack(u,E);return d===null?null:[l].concat(d)},s.prototype.save=function(){var l=this.table[this.current];return l.lexerState=this.lexerState,l},s.prototype.restore=function(l){var c=l.index;this.current=c,this.table[c]=l,this.table.splice(c+1),this.lexerState=l.lexerState,this.results=this.finish()},s.prototype.rewind=function(l){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[l])},s.prototype.finish=function(){var l=[],c=this.grammar.start,u=this.table[this.table.length-1];return u.states.forEach(function(E){E.rule.name===c&&E.dot===E.rule.symbols.length&&E.reference===0&&E.data!==s.fail&&l.push(E)}),l.map(function(E){return E.data})};function o(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return"character matching "+l;if(l.type)return l.type+" token";if(l.test)return"token matching "+String(l.test);throw new Error("Unknown symbol type: "+l)}}function a(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return l.toString();if(l.type)return"%"+l.type;if(l.test)return"<"+String(l.test)+">";throw new Error("Unknown symbol type: "+l)}}return{Parser:s,Grammar:n,Rule:t}})});var FR={};cr(FR,{generateBatchDDL:()=>Kj,generateDDL:()=>Xj,getColumns:()=>Zs,getDistributionInfo:()=>_a,getKeysInfo:()=>Na,getOrganizeInfo:()=>Ia,getTableComment:()=>gf,getTableOwner:()=>BR,quoteNameIfNeeded:()=>pe});async function rr(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function pe(t){return!t||/^[A-Z_][A-Z0-9_]*$/i.test(t)&&t===t.toUpperCase()?t:`"${t.replace(/"/g,'""')}"`}async function Zs(t,e,r,n){let i=`
        SELECT 
            X.OBJID::INT AS OBJID
            , X.ATTNAME
            , X.DESCRIPTION
            , X.FORMAT_TYPE AS FULL_TYPE
            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
            , X.COLDEFAULT
        FROM
            ${e.toUpperCase()}.._V_RELATION_COLUMN X
        INNER JOIN
            ${e.toUpperCase()}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
        WHERE
            X.TYPE IN ('TABLE','VIEW','EXTERNAL TABLE', 'SEQUENCE','SYSTEM VIEW','SYSTEM TABLE')
            AND X.OBJID NOT IN (4,5)
            AND D.SCHEMA = '${r.toUpperCase()}'
            AND D.OBJNAME = '${n.toUpperCase()}'
        ORDER BY 
            X.OBJID, X.ATTNUM
    `,s=await rr(t,i),o=[];for(let a of s){let l=!1,c=a.ATTNOTNULL;if(typeof c=="boolean")l=c;else if(typeof c=="number")l=c!==0;else if(typeof c=="string"){let u=c.trim().toLowerCase();l=u==="t"||u==="true"||u==="1"||u==="yes"}o.push({name:a.ATTNAME,description:a.DESCRIPTION||null,fullTypeName:a.FULL_TYPE,notNull:l,defaultValue:a.COLDEFAULT||null})}return o}async function _a(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_DIST_MAP
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY DISTSEQNO
        `;return(await rr(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function Ia(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_ORGANIZE_COLUMN
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY ORGSEQNO
        `;return(await rr(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function Na(t,e,r,n){let i=`
        SELECT 
            X.SCHEMA
            , X.RELATION
            , X.CONSTRAINTNAME
            , X.CONTYPE
            , X.ATTNAME
            , X.PKDATABASE
            , X.PKSCHEMA
            , X.PKRELATION
            , X.PKATTNAME
            , X.UPDT_TYPE
            , X.DEL_TYPE
        FROM 
            ${e.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.OBJID NOT IN (4,5)
            AND X.SCHEMA = '${r.toUpperCase()}'
            AND X.RELATION = '${n.toUpperCase()}'
        ORDER BY
            X.SCHEMA, X.RELATION, X.CONSEQ
    `,s=new Map;try{let o=await rr(t,i);for(let a of o){let l=a.CONSTRAINTNAME;if(!s.has(l)){let u={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};s.set(l,{type:u[a.CONTYPE]||"UNKNOWN",typeChar:a.CONTYPE,columns:[],pkDatabase:a.PKDATABASE||null,pkSchema:a.PKSCHEMA||null,pkRelation:a.PKRELATION||null,pkColumns:[],updateType:a.UPDT_TYPE||"NO ACTION",deleteType:a.DEL_TYPE||"NO ACTION"})}let c=s.get(l);c.columns.push(a.ATTNAME),a.PKATTNAME&&c.pkColumns.push(a.PKATTNAME)}}catch(o){console.warn("Cannot retrieve keys info:",o)}return s}async function gf(t,e,r,n){try{let i=`
            SELECT DESCRIPTION
            FROM ${e.toUpperCase()}.._V_OBJECT_DATA
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND OBJNAME = '${n.toUpperCase()}'
                AND OBJTYPE = 'TABLE'
        `,s=await rr(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{try{let i=`
                SELECT DESCRIPTION
                FROM ${e.toUpperCase()}.._V_OBJECT_DATA
                WHERE SCHEMA = '${r.toUpperCase()}'
                    AND OBJNAME = '${n.toUpperCase()}'
            `,s=await rr(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{}}return null}async function BR(t,e,r,n){try{let i=`
            SELECT OWNER
            FROM ${e.toUpperCase()}.._V_TABLE
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
        `,s=await rr(t,i);if(s.length>0&&s[0].OWNER)return s[0].OWNER}catch{}return null}async function kj(t,e,r,n){let i=await Zs(t,e,r,n);if(i.length===0)throw new Error(`Table ${e}.${r}.${n} not found or has no columns`);let s=await _a(t,e,r,n),o=await Ia(t,e,r,n),a=await Na(t,e,r,n),l=await gf(t,e,r,n),c=pe(e),u=pe(r),E=pe(n),d=[];d.push(`CREATE TABLE ${c}.${u}.${E}`),d.push("(");let f=[];for(let T of i){let R=`    ${pe(T.name)} ${T.fullTypeName}`;T.notNull&&(R+=" NOT NULL"),T.defaultValue!==null&&(R+=` DEFAULT ${T.defaultValue}`),f.push(R)}if(d.push(f.join(`,
`)),s.length>0){let T=s.map(h=>pe(h));d.push(`)
DISTRIBUTE ON (${T.join(", ")})`)}else d.push(`)
DISTRIBUTE ON RANDOM`);if(o.length>0){let T=o.map(h=>pe(h));d.push(`ORGANIZE ON (${T.join(", ")})`)}d.push(";"),d.push("");for(let[T,h]of a){let R=pe(T),S=h.columns.map(C=>pe(C));if(h.typeChar==="f"){let C=h.pkColumns.filter(A=>A).map(A=>pe(A));C.length>0&&d.push(`ALTER TABLE ${c}.${u}.${E} ADD CONSTRAINT ${R} ${h.type} (${S.join(", ")}) REFERENCES ${h.pkDatabase}.${h.pkSchema}.${h.pkRelation} (${C.join(", ")}) ON DELETE ${h.deleteType} ON UPDATE ${h.updateType};`)}else(h.typeChar==="p"||h.typeChar==="u")&&d.push(`ALTER TABLE ${c}.${u}.${E} ADD CONSTRAINT ${R} ${h.type} (${S.join(", ")});`)}if(l){let T=l.replace(/'/g,"''");d.push(""),d.push(`COMMENT ON TABLE ${c}.${u}.${E} IS '${T}';`)}for(let T of i)if(T.description){let h=pe(T.name),R=T.description.replace(/'/g,"''");d.push(`COMMENT ON COLUMN ${c}.${u}.${E}.${h} IS '${R}';`)}return d.join(`
`)}async function NL(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            VIEWNAME,
            DEFINITION,
            OBJID::INT
        FROM ${e.toUpperCase()}.._V_VIEW
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND VIEWNAME = '${n.toUpperCase()}'
    `,o=await rr(t,i);if(o.length===0)throw new Error(`View ${e}.${r}.${n} not found`);let a=o[0],l=pe(e),c=pe(r),u=pe(n),E=[];return E.push(`CREATE OR REPLACE VIEW ${l}.${c}.${u} AS`),E.push(a.DEFINITION||""),E.join(`
`)}function qj(t){if(!t)return t;let e=t.trim().toUpperCase();return e==="CHARACTER VARYING"?"CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER VARYING"?"NATIONAL CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER"?"NATIONAL CHARACTER(ANY)":e==="CHARACTER"?"CHARACTER(ANY)":t}async function OL(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            OBJID::INT,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS,
            NULL AS LANGUAGE
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
        ORDER BY 1, 2, 3
    `,o=await rr(t,i);if(o.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,procedureSource:a.PROCEDURESOURCE,objId:a.OBJID,returns:qj(a.RETURNS),executeAsOwner:!!a.EXECUTEDASOWNER,description:a.DESCRIPTION||null,procedureSignature:a.PROCEDURESIGNATURE,procedureName:a.PROCEDURE,arguments:a.ARGUMENTS||null},c=pe(e),u=pe(r),E=pe(l.procedureName),d=[],f=`CREATE OR REPLACE PROCEDURE ${c}.${u}.${E}`;if(l.arguments){let T=l.arguments.trim();T.startsWith("(")&&T.endsWith(")")?f+=T:f+=`(${T})`}else f+="()";if(d.push(f),d.push(`RETURNS ${l.returns}`),l.executeAsOwner?d.push("EXECUTE AS OWNER"):d.push("EXECUTE AS CALLER"),d.push("LANGUAGE NZPLSQL AS"),d.push("BEGIN_PROC"),d.push(l.procedureSource),d.push("END_PROC;"),l.description){let T=l.description.replace(/'/g,"''");d.push(`COMMENT ON PROCEDURE ${E} IS '${T}';`)}return d.join(`
`)}async function CL(t,e,r,n){let i=`
        SELECT 
            E1.SCHEMA,
            E1.TABLENAME,
            E2.EXTOBJNAME,
            E2.OBJID::INT,
            E1.DELIM,
            E1.ENCODING,
            E1.TIMESTYLE,
            E1.REMOTESOURCE,
            E1.SKIPROWS,
            E1.MAXERRORS,
            E1.ESCAPE,
            E1.LOGDIR,
            E1.DECIMALDELIM,
            E1.QUOTEDVALUE,
            E1.NULLVALUE,
            E1.CRINSTRING,
            E1.TRUNCSTRING,
            E1.CTRLCHARS,
            E1.IGNOREZERO,
            E1.TIMEEXTRAZEROS,
            E1.Y2BASE,
            E1.FILLRECORD,
            E1.COMPRESS,
            E1.INCLUDEHEADER,
            E1.LFINSTRING,
            E1.DATESTYLE,
            E1.DATEDELIM,
            E1.TIMEDELIM,
            E1.BOOLSTYLE,
            E1.FORMAT,
            E1.SOCKETBUFSIZE,
            E1.RECORDDELIM,
            E1.MAXROWS,
            E1.REQUIREQUOTES,
            E1.RECORDLENGTH,
            E1.DATETIMEDELIM,
            E1.REJECTFILE
        FROM 
            ${e.toUpperCase()}.._V_EXTERNAL E1
            JOIN ${e.toUpperCase()}.._V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE
                AND E1.SCHEMA = E2.SCHEMA
                AND E1.TABLENAME = E2.TABLENAME
        WHERE 
            E1.DATABASE = '${e.toUpperCase()}'
            AND E1.SCHEMA = '${r.toUpperCase()}'
            AND E1.TABLENAME = '${n.toUpperCase()}'
    `,o=await rr(t,i);if(o.length===0)throw new Error(`External table ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,tableName:a.TABLENAME,dataObject:a.EXTOBJNAME||null,delimiter:a.DELIM||null,encoding:a.ENCODING||null,timeStyle:a.TIMESTYLE||null,remoteSource:a.REMOTESOURCE||null,skipRows:a.SKIPROWS||null,maxErrors:a.MAXERRORS||null,escapeChar:a.ESCAPE||null,logDir:a.LOGDIR||null,decimalDelim:a.DECIMALDELIM||null,quotedValue:a.QUOTEDVALUE||null,nullValue:a.NULLVALUE||null,crInString:a.CRINSTRING??null,truncString:a.TRUNCSTRING??null,ctrlChars:a.CTRLCHARS??null,ignoreZero:a.IGNOREZERO??null,timeExtraZeros:a.TIMEEXTRAZEROS??null,y2Base:a.Y2BASE||null,fillRecord:a.FILLRECORD??null,compress:a.COMPRESS||null,includeHeader:a.INCLUDEHEADER??null,lfInString:a.LFINSTRING??null,dateStyle:a.DATESTYLE||null,dateDelim:a.DATEDELIM||null,timeDelim:a.TIMEDELIM||null,boolStyle:a.BOOLSTYLE||null,format:a.FORMAT||null,socketBufSize:a.SOCKETBUFSIZE||null,recordDelim:a.RECORDDELIM?String(a.RECORDDELIM).replace(/\r/g,"\\r").replace(/\n/g,"\\n"):null,maxRows:a.MAXROWS||null,requireQuotes:a.REQUIREQUOTES??null,recordLength:a.RECORDLENGTH||null,dateTimeDelim:a.DATETIMEDELIM||null,rejectFile:a.REJECTFILE||null},c=await Zs(t,e,r,n),u=pe(e),E=pe(r),d=pe(n),f=[];f.push(`CREATE EXTERNAL TABLE ${u}.${E}.${d}`),f.push("(");let T=c.map(h=>{let R=`    ${pe(h.name)} ${h.fullTypeName}`;return h.notNull&&(R+=" NOT NULL"),R});return f.push(T.join(`,
`)),f.push(")"),f.push("USING"),f.push("("),l.dataObject!==null&&f.push(`    DATAOBJECT('${l.dataObject}')`),l.delimiter!==null&&f.push(`    DELIMITER '${l.delimiter}'`),l.encoding!==null&&f.push(`    ENCODING '${l.encoding}'`),l.timeStyle!==null&&f.push(`    TIMESTYLE '${l.timeStyle}'`),l.remoteSource!==null&&f.push(`    REMOTESOURCE '${l.remoteSource}'`),l.maxErrors!==null&&f.push(`    MAXERRORS ${l.maxErrors}`),l.escapeChar!==null&&f.push(`    ESCAPECHAR '${l.escapeChar}'`),l.decimalDelim!==null&&f.push(`    DECIMALDELIM '${l.decimalDelim}'`),l.logDir!==null&&f.push(`    LOGDIR '${l.logDir}'`),l.quotedValue!==null&&f.push(`    QUOTEDVALUE '${l.quotedValue}'`),l.nullValue!==null&&f.push(`    NULLVALUE '${l.nullValue}'`),l.crInString!==null&&f.push(`    CRINSTRING ${l.crInString}`),l.truncString!==null&&f.push(`    TRUNCSTRING ${l.truncString}`),l.ctrlChars!==null&&f.push(`    CTRLCHARS ${l.ctrlChars}`),l.ignoreZero!==null&&f.push(`    IGNOREZERO ${l.ignoreZero}`),l.timeExtraZeros!==null&&f.push(`    TIMEEXTRAZEROS ${l.timeExtraZeros}`),l.y2Base!==null&&f.push(`    Y2BASE ${l.y2Base}`),l.fillRecord!==null&&f.push(`    FILLRECORD ${l.fillRecord}`),l.compress!==null&&f.push(`    COMPRESS ${l.compress}`),l.includeHeader!==null&&f.push(`    INCLUDEHEADER ${l.includeHeader}`),l.lfInString!==null&&f.push(`    LFINSTRING ${l.lfInString}`),l.dateStyle!==null&&f.push(`    DATESTYLE '${l.dateStyle}'`),l.dateDelim!==null&&f.push(`    DATEDELIM '${l.dateDelim}'`),l.timeDelim!==null&&f.push(`    TIMEDELIM '${l.timeDelim}'`),l.boolStyle!==null&&f.push(`    BOOLSTYLE '${l.boolStyle}'`),l.format!==null&&f.push(`    FORMAT '${l.format}'`),l.socketBufSize!==null&&f.push(`    SOCKETBUFSIZE ${l.socketBufSize}`),l.recordDelim!==null&&f.push(`    RECORDDELIM '${l.recordDelim}'`),l.maxRows!==null&&f.push(`    MAXROWS ${l.maxRows}`),l.requireQuotes!==null&&f.push(`    REQUIREQUOTES ${l.requireQuotes}`),l.recordLength!==null&&f.push(`    RECORDLENGTH ${l.recordLength}`),l.dateTimeDelim!==null&&f.push(`    DATETIMEDELIM '${l.dateTimeDelim}'`),l.rejectFile!==null&&f.push(`    REJECTFILE '${l.rejectFile}'`),f.push(");"),f.join(`
`)}async function mL(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            OWNER,
            SYNONYM_NAME,
            REFOBJNAME,
            DESCRIPTION
        FROM ${e.toUpperCase()}.._V_SYNONYM
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND SYNONYM_NAME = '${n.toUpperCase()}'
    `,o=await rr(t,i);if(o.length===0)throw new Error(`Synonym ${e}.${r}.${n} not found`);let a=o[0],l=pe(e),c=pe(a.OWNER||r),u=pe(n),E=a.REFOBJNAME,d=[];if(d.push(`CREATE SYNONYM ${l}.${c}.${u} FOR ${E};`),a.DESCRIPTION){let f=a.DESCRIPTION.replace(/'/g,"''");d.push(`COMMENT ON SYNONYM ${u} IS '${f}';`)}return d.join(`
`)}function gL(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function Xj(t,e,r,n,i){let s=null;try{let o=gL(t);o.port||(o.port=5480);let a=Vr();s=new a(o),await s.connect();let l=i.toUpperCase();return l==="TABLE"?{success:!0,ddlCode:await kj(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="VIEW"?{success:!0,ddlCode:await NL(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="PROCEDURE"?{success:!0,ddlCode:await OL(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="EXTERNAL TABLE"?{success:!0,ddlCode:await CL(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="SYNONYM"?{success:!0,ddlCode:await mL(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:{success:!0,ddlCode:`-- DDL generation for ${i} not yet implemented
-- Object: ${e}.${r}.${n}
-- Type: ${i}
--
-- This feature can be extended to support:
-- - FUNCTION: Query _V_FUNCTION system table
-- - AGGREGATE: Query _V_AGGREGATE system table
`,objectInfo:{database:e,schema:r,objectName:n,objectType:i},note:`${i} DDL generation not yet implemented`}}catch(o){return{success:!1,error:`DDL generation error: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}async function Kj(t){let e=null,r=[],n=[],i=0,s=0,o=["TABLE","VIEW","PROCEDURE","EXTERNAL TABLE","SYNONYM"];try{let a=gL(t.connectionString);a.port||(a.port=5480);let l=Vr();e=new l(a),await e.connect();let c=t.database.toUpperCase(),u=t.schema?t.schema.toUpperCase():null,E=t.objectTypes?t.objectTypes.map(p=>p.toUpperCase()).filter(p=>o.includes(p)):o;E.length===0&&(E=o),n.push("-- ============================================"),n.push("-- Batch DDL Export"),n.push(`-- Database: ${c}`),u&&n.push(`-- Schema: ${u}`),n.push(`-- Object Types: ${E.join(", ")}`),n.push(`-- Generated: ${new Date().toISOString()}`),n.push("-- ============================================"),n.push("");let d=new Map,f=new Map,T=new Map,h=new Map,R=new Map,S=E.includes("TABLE"),C=E.includes("VIEW"),A=E.includes("EXTERNAL TABLE");if(S||C||A){let p=u?`AND D.SCHEMA = '${u}'`:"",g=`
                SELECT 
                    D.SCHEMA,
                    D.OBJNAME,
                    D.OBJTYPE,
                    X.ATTNAME,
                    X.DESCRIPTION,
                    X.FORMAT_TYPE AS FULL_TYPE,
                    X.ATTNOTNULL::BOOL AS ATTNOTNULL,
                    X.COLDEFAULT
                FROM ${c}.._V_RELATION_COLUMN X
                INNER JOIN ${c}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
                WHERE D.DBNAME = '${c}'
                    AND D.OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                    ${p}
                ORDER BY D.SCHEMA, D.OBJNAME, X.ATTNUM
            `;try{let D=await rr(e,g);for(let O of D){let M=`${O.SCHEMA}.${O.OBJNAME}`;d.has(M)||d.set(M,[]);let w=!1,x=O.ATTNOTNULL;if(typeof x=="boolean")w=x;else if(typeof x=="number")w=x!==0;else if(typeof x=="string"){let F=x.trim().toLowerCase();w=F==="t"||F==="true"||F==="1"}d.get(M).push({name:O.ATTNAME,description:O.DESCRIPTION||null,fullTypeName:O.FULL_TYPE,notNull:w,defaultValue:O.COLDEFAULT||null})}}catch(D){r.push(`Error bulk fetching columns: ${D.message}`)}}if(S){let p=u?`AND SCHEMA = '${u}'`:"",g=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_DIST_MAP
                WHERE 1=1 ${p}
                ORDER BY SCHEMA, TABLENAME, DISTSEQNO
            `;try{let D=await rr(e,g);for(let O of D){let M=`${O.SCHEMA}.${O.TABLENAME}`;f.has(M)||f.set(M,[]),f.get(M).push(O.ATTNAME)}}catch{}}if(S){let p=u?`AND SCHEMA = '${u}'`:"",g=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_ORGANIZE_COLUMN
                WHERE 1=1 ${p}
                ORDER BY SCHEMA, TABLENAME, ORGSEQNO
            `;try{let D=await rr(e,g);for(let O of D){let M=`${O.SCHEMA}.${O.TABLENAME}`;T.has(M)||T.set(M,[]),T.get(M).push(O.ATTNAME)}}catch{}}if(S){let p=u?`AND X.SCHEMA = '${u}'`:"",g=`
                SELECT 
                    X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONTYPE,
                    X.ATTNAME, X.PKDATABASE, X.PKSCHEMA, X.PKRELATION, X.PKATTNAME,
                    X.UPDT_TYPE, X.DEL_TYPE
                FROM ${c}.._V_RELATION_KEYDATA X
                WHERE X.OBJID NOT IN (4,5) ${p}
                ORDER BY X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONSEQ
            `;try{let D=await rr(e,g);for(let O of D){let M=`${O.SCHEMA}.${O.RELATION}`;h.has(M)||h.set(M,new Map);let w=h.get(M),x=O.CONSTRAINTNAME;if(!w.has(x)){let ee={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};w.set(x,{type:ee[O.CONTYPE]||"UNKNOWN",typeChar:O.CONTYPE,columns:[],pkDatabase:O.PKDATABASE||null,pkSchema:O.PKSCHEMA||null,pkRelation:O.PKRELATION||null,pkColumns:[],updateType:O.UPDT_TYPE||"NO ACTION",deleteType:O.DEL_TYPE||"NO ACTION"})}let F=w.get(x);F.columns.push(O.ATTNAME),O.PKATTNAME&&F.pkColumns.push(O.PKATTNAME)}}catch{}}if(S){let p=u?`AND SCHEMA = '${u}'`:"",g=`
                SELECT SCHEMA, OBJNAME, DESCRIPTION
                FROM ${c}.._V_OBJECT_DATA
                WHERE DBNAME = '${c}' AND OBJTYPE = 'TABLE' AND DESCRIPTION IS NOT NULL ${p}
            `;try{let D=await rr(e,g);for(let O of D)O.DESCRIPTION&&R.set(`${O.SCHEMA}.${O.OBJNAME}`,O.DESCRIPTION)}catch{}}for(let p of E){let g=[];try{if(p==="PROCEDURE"){let D=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA FROM ${c}.._V_PROCEDURE WHERE DATABASE = '${c}'`;u&&(D+=` AND SCHEMA = '${u}'`),D+=" ORDER BY SCHEMA, PROCEDURESIGNATURE",g=(await rr(e,D)).map(M=>({name:M.OBJNAME,schema:M.SCHEMA}))}else{let D=`SELECT OBJNAME, SCHEMA FROM ${c}.._V_OBJECT_DATA WHERE DBNAME = '${c}' AND OBJTYPE = '${p}'`;u&&(D+=` AND SCHEMA = '${u}'`),D+=" ORDER BY SCHEMA, OBJNAME",g=(await rr(e,D)).map(M=>({name:M.OBJNAME,schema:M.SCHEMA}))}}catch(D){r.push(`Error querying ${p}s: ${D.message}`);continue}if(g.length!==0){n.push("-- ----------------------------------------"),n.push(`-- ${p}S (${g.length})`),n.push("-- ----------------------------------------"),n.push("");for(let D of g)try{let O,M=`${D.schema}.${D.name}`;switch(p){case"TABLE":O=jj(c,D.schema,D.name,d.get(M)||[],f.get(M)||[],T.get(M)||[],h.get(M)||new Map,R.get(M)||null);break;case"VIEW":O=await NL(e,c,D.schema,D.name);break;case"PROCEDURE":O=await OL(e,c,D.schema,D.name);break;case"EXTERNAL TABLE":O=await CL(e,c,D.schema,D.name);break;case"SYNONYM":O=await mL(e,c,D.schema,D.name);break;default:s++;continue}n.push(`-- ${p}: ${c}.${D.schema}.${D.name}`),n.push(O),n.push(""),i++}catch(O){r.push(`Error generating DDL for ${p} ${c}.${D.schema}.${D.name}: ${O.message}`),s++}}}return n.push("-- ============================================"),n.push("-- End of Batch DDL Export"),n.push(`-- Total objects: ${i}`),s>0&&n.push(`-- Skipped: ${s}`),r.length>0&&n.push(`-- Errors: ${r.length}`),n.push("-- ============================================"),{success:!0,ddlCode:n.join(`
`),objectCount:i,errors:r,skipped:s}}catch(a){return{success:!1,objectCount:0,errors:[`Batch DDL generation error: ${a.message||a}`],skipped:0}}finally{if(e)try{await e.close()}catch{}}}function jj(t,e,r,n,i,s,o,a){if(n.length===0)return`-- Table ${t}.${e}.${r} has no columns or was not found`;let l=pe(t),c=pe(e),u=pe(r),E=[];E.push(`CREATE TABLE ${l}.${c}.${u}`),E.push("(");let d=[];for(let f of n){let h=`    ${pe(f.name)} ${f.fullTypeName}`;f.notNull&&(h+=" NOT NULL"),f.defaultValue!==null&&(h+=` DEFAULT ${f.defaultValue}`),d.push(h)}if(E.push(d.join(`,
`)),i.length>0){let f=i.map(T=>pe(T));E.push(`)
DISTRIBUTE ON (${f.join(", ")})`)}else E.push(`)
DISTRIBUTE ON RANDOM`);if(s.length>0){let f=s.map(T=>pe(T));E.push(`ORGANIZE ON (${f.join(", ")})`)}E.push(";"),E.push("");for(let[f,T]of o){let h=pe(f),R=T.columns.map(S=>pe(S));if(T.typeChar==="f"){let S=T.pkColumns.filter(C=>C).map(C=>pe(C));S.length>0&&E.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${R.join(", ")}) REFERENCES ${T.pkDatabase}.${T.pkSchema}.${T.pkRelation} (${S.join(", ")}) ON DELETE ${T.deleteType} ON UPDATE ${T.updateType};`)}else(T.typeChar==="p"||T.typeChar==="u")&&E.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${R.join(", ")});`)}if(a){let f=a.replace(/'/g,"''");E.push(""),E.push(`COMMENT ON TABLE ${l}.${c}.${u} IS '${f}';`)}for(let f of n)if(f.description){let T=pe(f.name),h=f.description.replace(/'/g,"''");E.push(`COMMENT ON COLUMN ${l}.${c}.${u}.${T} IS '${h}';`)}return E.join(`
`)}var gc=lr(()=>{"use strict"});var GR={};cr(GR,{compareProcedures:()=>tz,compareTableStructures:()=>Zj});async function zj(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function bL(t){let e={},r=t.split(";");for(let n of r){let[i,s]=n.split("=");if(i&&s){let o=i.trim().toLowerCase();o==="server"||o==="host"?e.host=s.trim():o==="database"||o==="db"?e.database=s.trim():o==="user"||o==="uid"?e.user=s.trim():o==="password"||o==="pwd"?e.password=s.trim():o==="port"&&(e.port=parseInt(s.trim(),10))}}return e}async function yL(t,e,r,n){let i=await Zs(t,e,r,n),s=await Na(t,e,r,n),o=await _a(t,e,r,n),a=await Ia(t,e,r,n);return{database:e,schema:r,tableName:n,columns:i,keys:s,distribution:o,organization:a}}function Jj(t,e){let r=[];return t.fullTypeName!==e.fullTypeName&&r.push(`Type: ${t.fullTypeName} \u2192 ${e.fullTypeName}`),t.notNull!==e.notNull&&r.push(`NOT NULL: ${t.notNull} \u2192 ${e.notNull}`),t.defaultValue!==e.defaultValue&&r.push(`Default: ${t.defaultValue||"NULL"} \u2192 ${e.defaultValue||"NULL"}`),r}function Qj(t,e){let r=[];return t.type!==e.type&&r.push(`Type: ${t.type} \u2192 ${e.type}`),t.columns.join(",")!==e.columns.join(",")&&r.push(`Columns: (${t.columns.join(", ")}) \u2192 (${e.columns.join(", ")})`),t.typeChar==="f"&&e.typeChar==="f"&&t.pkRelation!==e.pkRelation&&r.push(`References: ${t.pkRelation} \u2192 ${e.pkRelation}`),r}async function Zj(t,e,r,n,i,s,o){let a=null;try{let l=bL(t);l.port||(l.port=5480);let c=Vr();a=new c(l),await a.connect();let u=await yL(a,e,r,n),E=await yL(a,i,s,o),d=[],f=new Map(u.columns.map(g=>[g.name.toUpperCase(),g])),T=new Map(E.columns.map(g=>[g.name.toUpperCase(),g]));for(let[g,D]of f){let O=T.get(g);if(!O)d.push({name:D.name,status:"removed",sourceColumn:D});else{let M=Jj(D,O);d.push({name:D.name,status:M.length>0?"modified":"unchanged",sourceColumn:D,targetColumn:O,changes:M})}}for(let[g,D]of T)f.has(g)||d.push({name:D.name,status:"added",targetColumn:D});let h=[],R=u.keys,S=E.keys;for(let[g,D]of R){let O=S.get(g);if(!O)h.push({name:g,status:"removed",sourceKey:D});else{let M=Qj(D,O);h.push({name:g,status:M.length>0?"modified":"unchanged",sourceKey:D,targetKey:O,changes:M})}}for(let[g,D]of S)R.has(g)||h.push({name:g,status:"added",targetKey:D});let C=JSON.stringify(u.distribution)===JSON.stringify(E.distribution),A=JSON.stringify(u.organization)===JSON.stringify(E.organization),p={columnsAdded:d.filter(g=>g.status==="added").length,columnsRemoved:d.filter(g=>g.status==="removed").length,columnsModified:d.filter(g=>g.status==="modified").length,columnsUnchanged:d.filter(g=>g.status==="unchanged").length,keysAdded:h.filter(g=>g.status==="added").length,keysRemoved:h.filter(g=>g.status==="removed").length,keysModified:h.filter(g=>g.status==="modified").length};return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},columnDiffs:d,keyDiffs:h,distributionMatch:C,sourceDistribution:u.distribution,targetDistribution:E.distribution,organizationMatch:A,sourceOrganization:u.organization,targetOrganization:E.organization,summary:p}}finally{if(a)try{await a.close()}catch{}}}async function LL(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
    `,s=await zj(t,i);if(s.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let o=s[0];return{database:e,schema:r,procedureName:o.PROCEDURE,procedureSignature:o.PROCEDURESIGNATURE,arguments:o.ARGUMENTS||null,returns:o.RETURNS,executeAsOwner:!!o.EXECUTEDASOWNER,source:o.PROCEDURESOURCE,description:o.DESCRIPTION||null}}function ez(t,e){let r=t.split(`
`).map(o=>o.trimEnd()),n=e.split(`
`).map(o=>o.trimEnd()),i=[],s=Math.max(r.length,n.length);for(let o=0;o<s;o++){let a=r[o]||"",l=n[o]||"";a===l?i.push(`  ${a}`):r[o]?n[o]?(i.push(`- ${a}`),i.push(`+ ${l}`)):i.push(`- ${a}`):i.push(`+ ${l}`)}return i}async function tz(t,e,r,n,i,s,o){let a=null;try{let l=bL(t);l.port||(l.port=5480);let c=Vr();a=new c(l),await a.connect();let u=await LL(a,e,r,n),E=await LL(a,i,s,o),d=u.arguments===E.arguments,f=u.returns===E.returns,T=u.executeAsOwner===E.executeAsOwner,h=u.source.trim()===E.source.trim(),R=h?[]:ez(u.source,E.source);return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},argumentsMatch:d,sourceArguments:u.arguments,targetArguments:E.arguments,returnsMatch:f,sourceReturns:u.returns,targetReturns:E.returns,executeAsOwnerMatch:T,sourceExecuteAsOwner:u.executeAsOwner,targetExecuteAsOwner:E.executeAsOwner,sourceMatch:h,sourceCode:u.source,targetCode:E.source,sourceDiff:R}}finally{if(a)try{await a.close()}catch{}}}var HR=lr(()=>{"use strict";gc()});var YR={};cr(YR,{SchemaCompareView:()=>WR});var ns,WR,$R=lr(()=>{"use strict";ns=ze(require("vscode")),WR=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.schemaCompare"}static createOrShow(e,r,n){let i=ns.window.activeTextEditor?ns.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._update(r,n);return}let s=ns.window.createWebviewPanel(t.viewType,"Schema Comparison",i||ns.ViewColumn.One,{enableScripts:!0,localResourceRoots:[ns.Uri.joinPath(e,"media")]});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){let n=this._panel.webview;r==="table"?(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getTableComparisonHtml(e)):(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getProcedureComparisonHtml(e))}_getStatusIcon(e){switch(e){case"added":return"\u{1F7E2}";case"removed":return"\u{1F534}";case"modified":return"\u{1F7E1}";case"unchanged":return"\u26AA"}}_getStatusClass(e){return`status-${e}`}_getTableComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.columnDiffs.map(l=>{let c=l.sourceColumn,u=l.targetColumn,E=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.fullTypeName||"-"}</td>
                    <td>${u?.fullTypeName||"-"}</td>
                    <td class="changes">${E}</td>
                </tr>
            `}).join(""),s=e.keyDiffs.map(l=>{let c=l.sourceKey,u=l.targetKey,E=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.type||"-"} (${c?.columns.join(", ")||"-"})</td>
                    <td>${u?.type||"-"} (${u?.columns.join(", ")||"-"})</td>
                    <td class="changes">${E}</td>
                </tr>
            `}).join(""),o=e.distributionMatch?"\u2705 Match":"\u274C Different",a=e.organizationMatch?"\u2705 Match":"\u274C Different";return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Schema Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Table Structure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="summary">
                        <h2>Summary</h2>
                        <div class="summary-grid">
                            <div class="summary-item added">\u{1F7E2} Added: ${e.summary.columnsAdded} columns, ${e.summary.keysAdded} keys</div>
                            <div class="summary-item removed">\u{1F534} Removed: ${e.summary.columnsRemoved} columns, ${e.summary.keysRemoved} keys</div>
                            <div class="summary-item modified">\u{1F7E1} Modified: ${e.summary.columnsModified} columns, ${e.summary.keysModified} keys</div>
                            <div class="summary-item unchanged">\u26AA Unchanged: ${e.summary.columnsUnchanged} columns</div>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Columns</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Column Name</th>
                                    <th>Source Type</th>
                                    <th>Target Type</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${i}
                            </tbody>
                        </table>
                    </div>

                    ${e.keyDiffs.length>0?`
                    <div class="section">
                        <h2>Keys & Constraints</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Key Name</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${s}
                            </tbody>
                        </table>
                    </div>
                    `:""}

                    <div class="section">
                        <h2>Distribution & Organization</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>DISTRIBUTE ON</strong></td>
                                    <td>${e.sourceDistribution.length>0?e.sourceDistribution.join(", "):"RANDOM"}</td>
                                    <td>${e.targetDistribution.length>0?e.targetDistribution.join(", "):"RANDOM"}</td>
                                    <td>${o}</td>
                                </tr>
                                <tr>
                                    <td><strong>ORGANIZE ON</strong></td>
                                    <td>${e.sourceOrganization.length>0?e.sourceOrganization.join(", "):"(none)"}</td>
                                    <td>${e.targetOrganization.length>0?e.targetOrganization.join(", "):"(none)"}</td>
                                    <td>${a}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </body>
            </html>
        `}_getProcedureComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.sourceDiff.map(s=>{let o="";return s.startsWith("+")?o="diff-added":s.startsWith("-")?o="diff-removed":o="diff-unchanged",`<div class="${o}">${this._escapeHtml(s)}</div>`}).join("");return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Procedure Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Procedure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Signature Comparison</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Match</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="${e.argumentsMatch?"":"status-modified"}">
                                    <td><strong>Arguments</strong></td>
                                    <td><code>${e.sourceArguments||"(none)"}</code></td>
                                    <td><code>${e.targetArguments||"(none)"}</code></td>
                                    <td>${e.argumentsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.returnsMatch?"":"status-modified"}">
                                    <td><strong>Returns</strong></td>
                                    <td><code>${e.sourceReturns}</code></td>
                                    <td><code>${e.targetReturns}</code></td>
                                    <td>${e.returnsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.executeAsOwnerMatch?"":"status-modified"}">
                                    <td><strong>Execute As</strong></td>
                                    <td>${e.sourceExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.targetExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.executeAsOwnerMatch?"\u2705":"\u274C"}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section">
                        <h2>Source Code ${e.sourceMatch?"\u2705 Identical":"\u274C Different"}</h2>
                        ${e.sourceMatch?`
                            <div class="code-block">
                                <pre>${this._escapeHtml(e.sourceCode)}</pre>
                            </div>
                        `:`
                            <div class="code-diff">
                                <pre>${i}</pre>
                            </div>
                        `}
                    </div>
                </div>
            </body>
            </html>
        `}_escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --added-bg: rgba(40, 167, 69, 0.2);
                --removed-bg: rgba(220, 53, 69, 0.2);
                --modified-bg: rgba(255, 193, 7, 0.2);
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .container {
                max-width: 1400px;
                margin: 0 auto;
            }

            h1 {
                border-bottom: 1px solid var(--border-color);
                padding-bottom: 10px;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.1em;
                margin-top: 25px;
                margin-bottom: 10px;
                color: var(--vscode-textLink-foreground);
            }

            .header-info {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 20px;
                padding: 15px;
                background-color: var(--header-bg);
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .header-info .label {
                font-weight: bold;
                margin-right: 8px;
            }

            .header-info .value {
                font-family: monospace;
                background-color: var(--vscode-textCodeBlock-background);
                padding: 4px 8px;
                border-radius: 4px;
            }

            .arrow {
                font-size: 1.5em;
                color: var(--vscode-charts-blue);
            }

            .summary {
                background-color: var(--header-bg);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .summary h2 {
                margin-top: 0;
            }

            .summary-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 10px;
            }

            .summary-item {
                padding: 8px;
                border-radius: 4px;
            }

            .summary-item.added { background-color: var(--added-bg); }
            .summary-item.removed { background-color: var(--removed-bg); }
            .summary-item.modified { background-color: var(--modified-bg); }

            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            tr.status-added {
                background-color: var(--added-bg);
            }

            tr.status-removed {
                background-color: var(--removed-bg);
            }

            tr.status-modified {
                background-color: var(--modified-bg);
            }

            .changes {
                font-size: 0.9em;
                color: var(--vscode-descriptionForeground);
            }

            .code-block, .code-diff {
                background-color: var(--vscode-textCodeBlock-background);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                padding: 15px;
                overflow-x: auto;
            }

            .code-block pre, .code-diff pre {
                margin: 0;
                font-family: var(--vscode-editor-font-family);
                font-size: var(--vscode-editor-font-size);
                white-space: pre;
            }

            .diff-added {
                background-color: var(--added-bg);
                color: #28a745;
            }

            .diff-removed {
                background-color: var(--removed-bg);
                color: #dc3545;
            }

            .diff-unchanged {
                color: var(--fg-color);
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var PL={};cr(PL,{buildERDData:()=>rz,getForeignKeysForSchema:()=>wL,getTablesInSchema:()=>DL});async function wL(t,e,r,n,i){let s=`
        SELECT 
            X.SCHEMA,
            X.RELATION AS FROM_TABLE,
            X.CONSTRAINTNAME,
            X.ATTNAME AS FROM_COLUMN,
            X.PKDATABASE,
            X.PKSCHEMA,
            X.PKRELATION AS TO_TABLE,
            X.PKATTNAME AS TO_COLUMN,
            X.UPDT_TYPE,
            X.DEL_TYPE,
            X.CONSEQ
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'f'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY
            X.CONSTRAINTNAME, X.CONSEQ
    `,o=new Map;try{let a=await ue(t,s,!0,r,e);if(!a)return[];let l=JSON.parse(a);for(let c of l){let u=c.CONSTRAINTNAME,E=`${c.SCHEMA}.${c.FROM_TABLE}`,d=`${c.PKSCHEMA}.${c.TO_TABLE}`;o.has(u)||o.set(u,{constraintName:u,fromTable:E,toTable:d,fromColumns:[],toColumns:[],onDelete:c.DEL_TYPE||"NO ACTION",onUpdate:c.UPDT_TYPE||"NO ACTION"});let f=o.get(u);f.fromColumns.push(c.FROM_COLUMN),f.toColumns.push(c.TO_COLUMN)}}catch(a){console.warn("Cannot retrieve FK relationships:",a)}return Array.from(o.values())}async function DL(t,e,r,n,i){let s=`
        SELECT 
            T.TABLENAME,
            T.OWNER
        FROM 
            ${n.toUpperCase()}.._V_TABLE T
        WHERE 
            T.SCHEMA = '${i.toUpperCase()}'
        ORDER BY T.TABLENAME
    `,o=`
        SELECT 
            A.NAME AS TABLENAME,
            A.ATTNAME,
            A.FORMAT_TYPE
        FROM 
            ${n.toUpperCase()}.._V_RELATION_COLUMN A
        WHERE 
            A.SCHEMA = '${i.toUpperCase()}'
            AND A.TYPE = 'TABLE'
        ORDER BY A.NAME, A.ATTNUM
    `,a=`
        SELECT 
            X.RELATION,
            X.ATTNAME
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'p'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY X.RELATION, X.CONSEQ
    `,l=new Map;try{let c=await ue(t,s,!0,r,e);if(c){let d=JSON.parse(c);for(let f of d){let T=f.TABLENAME;l.set(T,{database:n,schema:i,tableName:T,fullName:`${i}.${T}`,columns:[],primaryKeyColumns:[]})}}let u=await ue(t,o,!0,r,e);if(u){let d=JSON.parse(u);for(let f of d){let T=l.get(f.TABLENAME);T&&T.columns.push({name:f.ATTNAME,dataType:f.FORMAT_TYPE,isPrimaryKey:!1,isForeignKey:!1})}}let E=await ue(t,a,!0,r,e);if(E){let d=JSON.parse(E);for(let f of d){let T=l.get(f.RELATION);if(T){T.primaryKeyColumns.push(f.ATTNAME);let h=T.columns.find(R=>R.name===f.ATTNAME);h&&(h.isPrimaryKey=!0)}}}}catch(c){console.warn("Cannot retrieve table information:",c)}return Array.from(l.values())}async function rz(t,e,r,n,i){let[s,o]=await Promise.all([DL(t,e,r,n,i),wL(t,e,r,n,i)]);for(let c of o){let u=c.fromTable.split(".")[1],E=s.find(d=>d.tableName===u);if(E)for(let d of c.fromColumns){let f=E.columns.find(T=>T.name===d);f&&(f.isForeignKey=!0)}}let a=new Set;for(let c of o)a.add(c.fromTable.split(".")[1]),a.add(c.toTable.split(".")[1]);let l=s.filter(c=>a.has(c.tableName)||s.length<=20);return{database:n,schema:i,tables:l,relationships:o}}var ML=lr(()=>{"use strict";es()});var xL={};cr(xL,{ERDView:()=>VR});var is,VR,vL=lr(()=>{"use strict";is=ze(require("vscode")),VR=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.erdView"}static createOrShow(e,r){let n=is.window.activeTextEditor?is.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n),t.currentPanel._update(r);return}let i=is.window.createWebviewPanel(t.viewType,`ERD: ${r.database}.${r.schema}`,n||is.ViewColumn.One,{enableScripts:!0,localResourceRoots:[is.Uri.joinPath(e,"media")]});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){this._panel.title=`ERD: ${e.database}.${e.schema}`,this._panel.webview.html=this._getHtml(e)}_getHtml(e){let r=this._generateTableBoxes(e.tables,e.relationships),n=e.relationships.length,i=e.tables.length;return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Entity Relationship Diagram</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>Entity Relationship Diagram</h1>
                    <div class="header-info">
                        <span class="badge">${e.database}.${e.schema}</span>
                        <span class="stat">${i} tables</span>
                        <span class="stat">${n} relationships</span>
                    </div>
                </div>

                <div class="legend">
                    <span class="legend-item"><span class="pk-indicator">\u{1F511}</span> Primary Key</span>
                    <span class="legend-item"><span class="fk-indicator">\u{1F517}</span> Foreign Key</span>
                </div>

                ${n===0?`
                    <div class="no-relationships">
                        <p>\u26A0\uFE0F No foreign key relationships found in this schema.</p>
                        <p>Tables are displayed but no relationship lines can be drawn.</p>
                    </div>
                `:""}

                <div class="erd-container" id="erdContainer">
                    <div class="erd-canvas" id="erdCanvas">
                        ${r}
                        <svg class="relationships-svg" id="relationshipsSvg"></svg>
                    </div>
                </div>

                <div class="relationships-table">
                    <h2>Foreign Key Relationships</h2>
                    ${n>0?`
                        <table>
                            <thead>
                                <tr>
                                    <th>Constraint Name</th>
                                    <th>From Table</th>
                                    <th>Column(s)</th>
                                    <th>\u2192</th>
                                    <th>To Table</th>
                                    <th>Column(s)</th>
                                    <th>On Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${e.relationships.map(s=>`
                                    <tr>
                                        <td><code>${s.constraintName}</code></td>
                                        <td><strong>${s.fromTable}</strong></td>
                                        <td>${s.fromColumns.join(", ")}</td>
                                        <td>\u2192</td>
                                        <td><strong>${s.toTable}</strong></td>
                                        <td>${s.toColumns.join(", ")}</td>
                                        <td>${s.onDelete}</td>
                                    </tr>
                                `).join("")}
                            </tbody>
                        </table>
                    `:"<p>No foreign key relationships defined.</p>"}
                </div>

                <script>
                    ${this._getScript(e)}
                </script>
            </body>
            </html>
        `}_generateTableBoxes(e,r){return e.map((i,s)=>{let o=Math.floor(s/4),l=20+s%4*280,c=20+o*250,u=i.columns.slice(0,10).map(d=>{let f=[];d.isPrimaryKey&&f.push("\u{1F511}"),d.isForeignKey&&f.push("\u{1F517}");let T=f.length>0?`<span class="col-icons">${f.join("")}</span>`:"";return`
                    <div class="table-column ${d.isPrimaryKey?"pk":""} ${d.isForeignKey?"fk":""}" data-col="${d.name}">
                        ${T}
                        <span class="col-name">${d.name}</span>
                        <span class="col-type">${d.dataType}</span>
                    </div>
                `}).join(""),E=i.columns.length>10?`<div class="more-columns">... and ${i.columns.length-10} more</div>`:"";return`
                <div class="table-box" id="table-${i.tableName}" 
                     data-table="${i.fullName}"
                     style="left: ${l}px; top: ${c}px;">
                    <div class="table-header">${i.tableName}</div>
                    <div class="table-columns">
                        ${u}
                        ${E}
                    </div>
                </div>
            `}).join("")}_getScript(e){return`
            (function() {
                const relationships = ${JSON.stringify(e.relationships)};
                const canvas = document.getElementById('erdCanvas');
                const svg = document.getElementById('relationshipsSvg');
                
                function getTableBox(el) {
                    const left = parseInt(el.style.left) || 0;
                    const top = parseInt(el.style.top) || 0;
                    const width = el.offsetWidth;
                    const height = el.offsetHeight;
                    return {
                        left: left,
                        top: top,
                        right: left + width,
                        bottom: top + height,
                        centerX: left + width / 2,
                        centerY: top + height / 2
                    };
                }

                function getColumnPosition(tableEl, columnName) {
                    // Try to find exact column
                    let colEl = tableEl.querySelector('.table-column[data-col="' + columnName + '"]');
                    
                    // If not found (hidden by "more columns"), try to estimate or return center
                    if (!colEl) return null;

                    // Calculate position relative to the table box
                    const tableRect = tableEl.getBoundingClientRect();
                    const colRect = colEl.getBoundingClientRect();
                    const canvasRect = canvas.getBoundingClientRect();

                    // Relative Y from canvas top
                    // We can't just subtract rects if the canvas is scrolled, but here we want SVG coords (absolute in canvas)
                    // The table.style.top is relative to canvas.
                    // The column offset within table is colRect.top - tableRect.top
                    // So Y = table.style.top + (colRect.top - tableRect.top) + colHeight/2
                    
                    const relativeTop = colRect.top - tableRect.top;
                    const centerY = relativeTop + colRect.height / 2;
                    
                    // We need to account for table scroll position if any?
                    // getBoundingClientRect takes visual position, so it accounts for scroll.
                    
                    const tableStyleTop = parseInt(tableEl.style.top) || 0;
                    
                    return tableStyleTop + centerY;
                }
                
                function drawRelationships() {
                    svg.innerHTML = '';
                    
                    // Update SVG size
                    let maxX = 1200, maxY = 600;
                    document.querySelectorAll('.table-box').forEach(el => {
                        const box = getTableBox(el);
                        maxX = Math.max(maxX, box.right + 50);
                        maxY = Math.max(maxY, box.bottom + 50);
                    });
                    
                    svg.setAttribute('width', maxX);
                    svg.setAttribute('height', maxY);
                    svg.style.width = maxX + 'px';
                    svg.style.height = maxY + 'px';
                    
                    // Defs
                    const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                    const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
                    marker.setAttribute('id', 'arrowhead');
                    marker.setAttribute('markerWidth', '10');
                    marker.setAttribute('markerHeight', '7');
                    marker.setAttribute('refX', '10');
                    marker.setAttribute('refY', '3.5');
                    marker.setAttribute('orient', 'auto');
                    const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                    polygon.setAttribute('points', '0 0, 10 3.5, 0 7');
                    polygon.setAttribute('fill', '#3794ff');
                    marker.appendChild(polygon);
                    defs.appendChild(marker);
                    svg.appendChild(defs);
                    
                    relationships.forEach((rel, index) => {
                        const childTableName = rel.fromTable.split('.')[1];
                        const parentTableName = rel.toTable.split('.')[1];
                        
                        const childEl = document.getElementById('table-' + childTableName);
                        const parentEl = document.getElementById('table-' + parentTableName);
                        
                        if (!childEl || !parentEl) return;
                        
                        const childBox = getTableBox(childEl);
                        const parentBox = getTableBox(parentEl);
                        
                        // Determine L/R relationship
                        // If Parent is to the right of Child: Child Right -> Parent Left
                        const parentIsRight = parentBox.centerX > childBox.centerX;
                        
                        let fromX, fromY, toX, toY;
                        let fromControlX, toControlX;
                        
                        // Default Y to center if col not found
                        fromY = childBox.centerY;
                        toY = parentBox.centerY;
                        
                        // Try get specific column Y
                        const colY1 = getColumnPosition(childEl, rel.fromColumns[0]);
                        const colY2 = getColumnPosition(parentEl, rel.toColumns[0]);
                        
                        if (colY1 !== null) fromY = colY1;
                        if (colY2 !== null) toY = colY2;
                        
                        if (parentIsRight) {
                            fromX = childBox.right;
                            toX = parentBox.left;
                            fromControlX = fromX + 50;
                            toControlX = toX - 50;
                        } else {
                            fromX = childBox.left;
                            toX = parentBox.right;
                            fromControlX = fromX - 50;
                            toControlX = toX + 50;
                        }
                        
                        // Calculate Bezier curve
                        // M start C c1 c2 end
                        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                        
                        // Adjust constraints for multiple lines?
                        // Simple cubic bezier is best for side-to-side
                        const d = \`M \${fromX} \${fromY} C \${fromControlX} \${fromY}, \${toControlX} \${toY}, \${toX} \${toY}\`;
                        
                        path.setAttribute('d', d);
                        path.setAttribute('stroke', '#3794ff');
                        path.setAttribute('stroke-width', '2');
                        path.setAttribute('fill', 'none');
                        path.setAttribute('marker-end', 'url(#arrowhead)');
                        path.setAttribute('class', 'relationship-line');
                        
                        const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
                        title.textContent = rel.constraintName + ': ' + 
                            childTableName + '.' + rel.fromColumns.join(',') + ' -> ' + 
                            parentTableName + '.' + rel.toColumns.join(',');
                        path.appendChild(title);
                        
                        svg.appendChild(path);
                    });
                }
                
                // Dragging Logic
                let dragging = null;
                let dragStartX = 0, dragStartY = 0;
                let elemStartLeft = 0, elemStartTop = 0;
                
                document.querySelectorAll('.table-box').forEach(table => {
                    const header = table.querySelector('.table-header');
                    if (header) {
                        header.addEventListener('mousedown', function(e) {
                            e.preventDefault();
                            dragging = table;
                            dragStartX = e.pageX;
                            dragStartY = e.pageY;
                            elemStartLeft = parseInt(table.style.left) || 0;
                            elemStartTop = parseInt(table.style.top) || 0;
                            table.style.zIndex = '1000';
                            document.body.style.cursor = 'grabbing';
                        });
                    }
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (!dragging) return;
                    const dx = e.pageX - dragStartX;
                    const dy = e.pageY - dragStartY;
                    dragging.style.left = Math.max(0, elemStartLeft + dx) + 'px';
                    dragging.style.top = Math.max(0, elemStartTop + dy) + 'px';
                    drawRelationships();
                });
                
                document.addEventListener('mouseup', function() {
                    if (dragging) {
                        dragging.style.zIndex = '';
                        document.body.style.cursor = '';
                        dragging = null;
                    }
                });
                
                requestAnimationFrame(() => setTimeout(drawRelationships, 50));
                window.addEventListener('resize', drawRelationships);
            })();
        `}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --table-bg: var(--vscode-editorWidget-background);
                --pk-color: #f1c40f;
                --fk-color: #3498db;
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                padding-bottom: 10px;
                border-bottom: 1px solid var(--border-color);
            }

            .header h1 {
                margin: 0;
                font-size: 1.4em;
            }

            .header-info {
                display: flex;
                gap: 15px;
                align-items: center;
            }

            .badge {
                background-color: var(--vscode-badge-background);
                color: var(--vscode-badge-foreground);
                padding: 4px 10px;
                border-radius: 12px;
                font-size: 0.9em;
            }

            .stat {
                color: var(--vscode-descriptionForeground);
                font-size: 0.9em;
            }

            .legend {
                display: flex;
                gap: 20px;
                margin-bottom: 15px;
                font-size: 0.9em;
            }

            .legend-item {
                display: flex;
                align-items: center;
                gap: 5px;
            }

            .no-relationships {
                background-color: rgba(255, 193, 7, 0.2);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 15px;
            }

            .no-relationships p {
                margin: 5px 0;
            }

            .erd-container {
                background-color: var(--header-bg);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                overflow: auto;
                margin-bottom: 20px;
                min-height: 400px;
            }

            .erd-canvas {
                position: relative;
                min-width: 1200px;
                min-height: 600px;
            }

            .relationships-svg {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
            }

            .relationship-line {
                pointer-events: stroke;
            }

            .relationship-line:hover {
                stroke-width: 3;
            }

            .table-box {
                position: absolute;
                width: 250px;
                background-color: var(--table-bg);
                border: 2px solid var(--border-color);
                border-radius: 6px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            }

            .table-header {
                background-color: var(--vscode-textLink-foreground);
                color: white;
                padding: 8px 12px;
                font-weight: bold;
                cursor: move;
                font-size: 0.95em;
            }

            .table-columns {
                max-height: 200px;
                overflow-y: auto;
            }

            .table-column {
                display: flex;
                align-items: center;
                padding: 4px 10px;
                border-bottom: 1px solid var(--border-color);
                font-size: 0.85em;
                gap: 6px;
            }

            .table-column:last-child {
                border-bottom: none;
            }

            .table-column.pk {
                background-color: rgba(241, 196, 15, 0.1);
            }

            .table-column.fk {
                background-color: rgba(52, 152, 219, 0.1);
            }

            .col-icons {
                font-size: 0.8em;
            }

            .col-name {
                flex: 1;
                font-weight: 500;
            }

            .col-type {
                color: var(--vscode-descriptionForeground);
                font-size: 0.85em;
            }

            .more-columns {
                padding: 6px 10px;
                color: var(--vscode-descriptionForeground);
                font-style: italic;
                font-size: 0.85em;
            }

            .relationships-table {
                margin-top: 20px;
            }

            .relationships-table h2 {
                font-size: 1.1em;
                margin-bottom: 10px;
            }

            table {
                width: 100%;
                border-collapse: collapse;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var UL={};cr(UL,{SessionMonitorView:()=>kR});function nz(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var zr,kR,BL=lr(()=>{"use strict";zr=ze(require("vscode"));es();kR=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._context=n,this._connectionManager=i,this._update(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(async s=>{switch(s.command){case"refresh":await this._fetchAndSendData();return;case"killSession":await this._killSession(s.sessionId);return;case"toggleAutoRefresh":this._toggleAutoRefresh(s.enabled);return}},null,this._disposables),this._fetchAndSendData()}static{this.viewType="netezza.sessionMonitor"}static createOrShow(e,r,n){let i=zr.window.activeTextEditor?zr.ViewColumn.Beside:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._fetchAndSendData();return}let s=zr.window.createWebviewPanel(t.viewType,"Session Monitor",i||zr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[zr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._refreshInterval&&clearInterval(this._refreshInterval),this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_toggleAutoRefresh(e){e?this._refreshInterval=setInterval(()=>{this._fetchAndSendData()},3e4):this._refreshInterval&&(clearInterval(this._refreshInterval),this._refreshInterval=void 0)}async _killSession(e){try{if(await zr.window.showWarningMessage(`Are you sure you want to terminate session ${e}?`,{modal:!0},"Yes, Kill Session")!=="Yes, Kill Session")return;let n=`DROP SESSION ${e}`;await ue(this._context,n,!0,void 0,this._connectionManager),zr.window.showInformationMessage(`Session ${e} terminated successfully.`),await this._fetchAndSendData()}catch(r){zr.window.showErrorMessage(`Failed to kill session: ${r.message}`)}}async _fetchAndSendData(){this._panel.webview.postMessage({command:"setLoading",loading:!0});try{let[e,r,n,i]=await Promise.all([this._fetchSessions(),this._fetchQueries(),this._fetchStorage(),this._fetchResources()]);this._panel.webview.postMessage({command:"updateData",data:{sessions:e,queries:r,storage:n,resources:i}})}catch(e){this._panel.webview.postMessage({command:"error",text:`Failed to fetch data: ${e.message}`})}finally{this._panel.webview.postMessage({command:"setLoading",loading:!1})}}async _fetchSessions(){let e=`
            SELECT ID, PID, USERNAME, DBNAME, TYPE, CONNTIME, STATUS, 
                   SUBSTR(COMMAND, 1, 200) AS COMMAND, PRIORITY, CID, IPADDR, CLIENT_OS_USERNAME
            FROM _V_SESSION
            ORDER BY CONNTIME DESC
        `;try{let r=await ue(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching sessions:",r),[]}}async _fetchQueries(){let e=`
            SELECT QS_SESSIONID, QS_PLANID, QS_CLIENTID, QS_CLIIPADDR,
                   SUBSTR(QS_SQL, 1, 300) AS QS_SQL, 
                   QS_STATE, QS_TSUBMIT, QS_TSTART, 
                   QS_PRIORITY, QS_PRITXT, QS_ESTCOST, 
                   QS_ESTDISK, QS_ESTMEM, QS_SNIPPETS, QS_CURSNIPT,
                   QS_RESROWS, QS_RESBYTES
            FROM _V_QRYSTAT
            ORDER BY QS_TSTART DESC
            LIMIT 100
        `;try{let r=await ue(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching queries:",r),[]}}async _fetchStorage(){let e=`
            SELECT O.DBNAME AS DATABASE, TS.SCHEMA, 
                   ROUND(SUM(TS.ALLOCATED_BYTES) / 1024.0 / 1024.0, 2) AS ALLOC_MB,
                   ROUND(SUM(TS.USED_BYTES) / 1024.0 / 1024.0, 2) AS USED_MB,
                   ROUND(SUM(TS.SKEW * TS.USED_BYTES) / NULLIF(SUM(TS.USED_BYTES), 0), 2) AS AVG_SKEW,
                   COUNT(*) AS TABLE_COUNT
            FROM _V_TABLE_STORAGE_STAT TS
            JOIN _V_OBJECT_DATA O ON TS.OBJID = O.OBJID
            GROUP BY O.DBNAME, TS.SCHEMA
            ORDER BY USED_MB DESC
        `;try{let r=await ue(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching storage:",r),[]}}async _fetchResources(){let e=[],r=[],n=null;try{let i=await ue(this._context,"SELECT * FROM _V_SCHED_GRA_EXT LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(e=JSON.parse(i))}catch(i){console.warn("_V_SCHED_GRA_EXT not available:",i)}try{let i=await ue(this._context,"SELECT * FROM _V_SYSTEM_UTIL ORDER BY 1 DESC LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(r=JSON.parse(i))}catch(i){console.warn("_V_SYSTEM_UTIL not available:",i)}try{let i=await ue(this._context,`SELECT 
                    ROUND(AVG(HOST_CPU) * 100, 1) AS AVG_HOST_CPU_PCT,
                    ROUND(AVG(SPU_CPU) * 100, 1) AS AVG_SPU_CPU_PCT,
                    ROUND(AVG(HOST_DISK) * 100, 1) AS AVG_DISK_PCT,
                    ROUND(AVG(HOST_MEMORY) * 100, 1) AS AVG_MEMORY_PCT,
                    ROUND(AVG(HOST_FABRIC) * 100, 1) AS AVG_FABRIC_PCT,
                    COUNT(*) AS SAMPLE_COUNT
                FROM _V_SYSTEM_UTIL`,!0,void 0,this._connectionManager);if(i&&!i.startsWith("Query executed")){let s=JSON.parse(i);n=s.length>0?s[0]:null}}catch(i){console.warn("_V_SYSTEM_UTIL summary not available:",i)}return{gra:e,systemUtil:r,sysUtilSummary:n}}_update(){let e=this._panel.webview;this._panel.title="Session Monitor",this._panel.webview.html=this._getHtmlForWebview(e)}_getHtmlForWebview(e){let r=e.asWebviewUri(zr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.js")),n=e.asWebviewUri(zr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.css")),i=nz();return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Session Monitor</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>\u{1F5A5}\uFE0F Session Monitor Dashboard</h2>
            <div class="header-actions">
                <label class="auto-refresh">
                    <input type="checkbox" id="autoRefresh"> Auto-refresh (30s)
                </label>
                <button id="refreshBtn" class="btn btn-primary">\u{1F504} Refresh</button>
            </div>
        </div>

        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <span>Loading data...</span>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="sessions">\u{1F4CB} Sessions</button>
            <button class="tab-btn" data-tab="queries">\u23F1\uFE0F Running Queries</button>
            <button class="tab-btn" data-tab="storage">\u{1F4BE} Storage</button>
            <button class="tab-btn" data-tab="resources">\u{1F4CA} Resources</button>
        </div>

        <div class="tab-content" id="sessions">
            <div class="section-header">
                <h3>Active Sessions</h3>
                <span class="count" id="sessionCount">0 sessions</span>
            </div>
            <div class="table-container">
                <table id="sessionsTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>PID</th>
                            <th>User</th>
                            <th>Database</th>
                            <th>Type</th>
                            <th>Connected</th>
                            <th>Status</th>
                            <th>IP</th>
                            <th>Command</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="queries">
            <div class="section-header">
                <h3>Running Queries</h3>
                <span class="count" id="queryCount">0 queries</span>
            </div>
            <div class="table-container">
                <table id="queriesTable">
                    <thead>
                        <tr>
                            <th>Session</th>
                            <th>Plan ID</th>
                            <th>State</th>
                            <th>Priority</th>
                            <th>Submitted</th>
                            <th>Started</th>
                            <th>Est. Cost</th>
                            <th>Rows</th>
                            <th>SQL</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="storage">
            <div class="section-header">
                <h3>Storage by Schema</h3>
                <span class="count" id="storageCount">0 schemas</span>
            </div>
            <div class="table-container">
                <table id="storageTable">
                    <thead>
                        <tr>
                            <th>Database</th>
                            <th>Schema</th>
                            <th>Allocated (MB)</th>
                            <th>Used (MB)</th>
                            <th>Usage %</th>
                            <th>Avg Skew</th>
                            <th>Tables</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="resources">
            <div class="section-header">
                <h3>Resource Utilization</h3>
            </div>
            <div class="resources-grid">
                <div class="resource-section">
                    <h4>GRA Scheduler</h4>
                    <div id="graTable" class="table-container small"></div>
                </div>
                <div class="resource-section">
                    <h4>System Utilization</h4>
                    <div id="sysUtilSummary"></div>
                    <div id="sysUtilTable" class="table-container small"></div>
                </div>
            </div>
        </div>
    </div>

    <script nonce="${i}" src="${r}"></script>
</body>
</html>`}}});var FL={};cr(FL,{generateRecreateTableScript:()=>sz});function iz(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function sz(t,e,r,n,i){let s=null;try{let o=iz(t);o.port||(o.port=5480);let a=Vr();s=new a(o),await s.connect();let l=await Zs(s,e,r,n);if(l.length===0)return{success:!1,error:`Table ${e}.${r}.${n} not found or has no columns`};let c=await _a(s,e,r,n),u=await Ia(s,e,r,n),E=await Na(s,e,r,n),d=await gf(s,e,r,n),f=await BR(s,e,r,n),T=pe(e),h=pe(r),R=pe(n),S=new Date().toISOString().replace(/[-:T.]/g,"").substring(0,14),C=Math.random().toString(36).substring(2,7).toUpperCase(),A=i||`${n}_${S}_NEW`,p=pe(A),g=`${n}_${S}_BACKUP_${C}`,D=pe(g),O=[];O.push(`-- Recreate Table Script for ${T}.${h}.${R}`),O.push(`-- Generated at ${new Date().toISOString()}`),O.push(""),O.push("-- 1. Create new table with desired structure"),O.push(`CREATE TABLE ${T}.${h}.${p}`),O.push("(");let M=[];for(let x of l){let ee=`    ${pe(x.name)} ${x.fullTypeName}`;x.notNull&&(ee+=" NOT NULL"),x.defaultValue!==null&&(ee+=` DEFAULT ${x.defaultValue}`),M.push(ee)}if(O.push(M.join(`,
`)),c.length>0){let x=c.map(F=>pe(F));O.push(`)
DISTRIBUTE ON (${x.join(", ")})`)}else O.push(`)
DISTRIBUTE ON RANDOM`);if(u.length>0){let x=u.map(F=>pe(F));O.push(`ORGANIZE ON (${x.join(", ")})`)}if(O.push(";"),O.push(""),O.push("-- 2. Copy data from original table"),O.push(`INSERT INTO ${T}.${h}.${p} SELECT * FROM ${T}.${h}.${R};`),O.push(""),O.push("-- 3. Copy privileges from original table"),O.push(`ALTER TABLE ${T}.${h}.${p} SET PRIVILEGES TO ${T}.${h}.${R};`),O.push(""),O.push("-- 4. Swap tables: Rename Original to Backup, New to Original"),O.push(`ALTER TABLE ${T}.${h}.${R} RENAME TO ${D};`),O.push(`ALTER TABLE ${T}.${h}.${p} RENAME TO ${R};`),O.push(""),f&&(O.push("-- 5. Restore Owner"),O.push(`ALTER TABLE ${T}.${h}.${R} OWNER TO ${f};`),O.push("")),O.push("-- 6. Drop Backup Table (Optional - Comment out if you want to keep it)"),O.push(`DROP TABLE ${T}.${h}.${D};`),O.push(""),E.size>0){O.push("-- 7. Restore Constraints");for(let[x,F]of E){let ee=pe(x),Z=F.columns.map(se=>pe(se)),ne="";if(F.typeChar==="f"){let se=F.pkColumns.filter(_e=>_e).map(_e=>pe(_e));se.length>0&&(ne=`ALTER TABLE ${T}.${h}.${R} ADD CONSTRAINT ${ee} ${F.type} (${Z.join(", ")}) REFERENCES ${F.pkDatabase}.${F.pkSchema}.${F.pkRelation} (${se.join(", ")}) ON DELETE ${F.deleteType} ON UPDATE ${F.updateType};`)}else(F.typeChar==="p"||F.typeChar==="u")&&(ne=`ALTER TABLE ${T}.${h}.${R} ADD CONSTRAINT ${ee} ${F.type} (${Z.join(", ")});`);ne&&O.push(ne)}O.push("")}if(d){let x=d.replace(/'/g,"''");O.push("-- 8. Restore Comments"),O.push(`COMMENT ON TABLE ${T}.${h}.${R} IS '${x}';`)}let w=[];for(let x of l)if(x.description){let F=pe(x.name),ee=x.description.replace(/'/g,"''");w.push(`COMMENT ON COLUMN ${T}.${h}.${R}.${F} IS '${ee}';`)}return w.length>0&&(d||O.push("-- 8. Restore Comments"),O.push(w.join(`
`)),O.push("")),O.push("-- 9. Generate Statistics"),O.push(`GENERATE EXPRESS STATISTICS ON ${T}.${h}.${R};`),{success:!0,sqlScript:O.join(`
`)}}catch(o){return{success:!1,error:`Error generating recreate script: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}var GL=lr(()=>{"use strict";gc()});var VL={};cr(VL,{ExplainPlanView:()=>qR,parseExplainOutput:()=>oz});function oz(t){let e=t.split(`
`).filter(E=>E.trim()),r=t.includes("QUERY VERBOSE PLAN:")||t.includes("Node 1."),n=e.map(E=>E.replace(/^NOTICE:\s*/i,"").trim()).filter(E=>E&&!E.startsWith("QUERY PLAN")&&!E.startsWith("QUERY VERBOSE")),i=[],s=[],o=0,a=0,l=n.findIndex(E=>E.includes("PLANTEXT:")),c=l>=0?n.slice(l+1).filter(E=>!E.startsWith("(")&&!E.includes("locus=")):n,u=[];for(let E of c){if(!E.trim()||E.startsWith("(xpath_")||E.includes("locus="))continue;let d=E.match(/^(\s*)/)?.[1]?.length||0,f=Math.floor(d/3),T=E.match(/^[\s]*(?:[lr]:\s*)?([\w\s-]+?)(?:\s+table\s+"(\w+)")?(?:\s+{[^}]*})?\s*\(cost=([\d.]+)\.\.([\d.]+)\s+rows=(\d+)\s+width=(\d+)\s+conf=([\d.]+)\)/i);if(T){let[,h,R,S,C,A,p,g]=T,D=h.trim(),O={id:++o,type:D,table:R,cost:{start:parseFloat(S),end:parseFloat(C)},rows:parseInt(A),width:parseInt(p),confidence:parseFloat(g),indent:f,children:[],raw:E.trim(),warnings:[]};for(az(O),s.push(...O.warnings),O.cost.end>a&&(a=O.cost.end);u.length>0&&u[u.length-1].indent>=f;)u.pop();u.length>0?u[u.length-1].children.push(O):i.push(O),u.push(O)}}return{nodes:i,rawText:t,isVerbose:r,totalCost:a,warnings:s}}function az(t){t.type.includes("Sequential Scan")&&t.rows>5e5&&t.warnings.push({type:"warning",message:`Sequential Scan on ${t.table||"table"} (${t.rows.toLocaleString()} rows) - consider adding an index`,icon:"\u26A0\uFE0F"}),t.type.includes("Nested Loop")&&t.rows>1e5&&t.warnings.push({type:"critical",message:`Nested Loop producing ${t.rows.toLocaleString()} rows - potential performance issue`,icon:"\u{1F534}"}),t.cost.end>1e10?t.warnings.push({type:"critical",message:`Very high estimated cost: ${t.cost.end.toExponential(2)}`,icon:"\u{1F534}"}):t.cost.end>1e7&&t.warnings.push({type:"warning",message:`High estimated cost: ${t.cost.end.toLocaleString()}`,icon:"\u26A0\uFE0F"}),t.confidence===0&&t.warnings.push({type:"info",message:"Low confidence estimate (conf=0) - statistics may be outdated",icon:"\u2139\uFE0F"})}function lz(t){return t.includes("Sequential Scan")?"#e74c3c":t.includes("Index Scan")?"#27ae60":t.includes("Nested Loop")?"#e67e22":t.includes("Hash Join")?"#3498db":t.includes("Merge Join")?"#9b59b6":t.includes("Aggregate")?"#1abc9c":t.includes("Group")?"#16a085":t.includes("Sort")?"#f39c12":t.includes("Limit")?"#95a5a6":t.includes("Sub-query")?"#34495e":"#7f8c8d"}function YL(t,e=0){return t.map(r=>{let n=r.children.length>0,i=lz(r.type),s=r.warnings.map(o=>`<span class="warning-badge warning-${o.type}" title="${o.message}">${o.icon}</span>`).join("");return`
        <div class="plan-node" style="--node-color: ${i}">
            <div class="node-header">
                ${n?'<span class="toggle-btn">\u25BC</span>':'<span class="toggle-spacer"></span>'}
                <span class="node-type" style="background-color: ${i}">${r.type}</span>
                ${r.table?`<span class="node-table">${r.table}${r.alias?` (${r.alias})`:""}</span>`:""}
                ${s}
            </div>
            <div class="node-metrics">
                <span class="metric"><b>Cost:</b> ${HL(r.cost.start)}..${HL(r.cost.end)}</span>
                <span class="metric"><b>Rows:</b> ${r.rows.toLocaleString()}</span>
                <span class="metric"><b>Width:</b> ${r.width}</span>
                <span class="metric ${r.confidence===0?"low-conf":""}"><b>Conf:</b> ${r.confidence}%</span>
            </div>
            ${n?`<div class="node-children">${YL(r.children,e+1)}</div>`:""}
        </div>`}).join("")}function HL(t){return t>1e6?t.toExponential(1):t.toLocaleString(void 0,{maximumFractionDigits:1})}function $L(t){return t.reduce((e,r)=>e+1+$L(r.children),0)}function WL(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function cz(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var ln,qR,kL=lr(()=>{"use strict";ln=ze(require("vscode"));qR=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(s=>{switch(s.command){case"copyPlan":ln.env.clipboard.writeText(n.rawText),ln.window.showInformationMessage("Plan copied to clipboard");return}},null,this._disposables)}static{this.viewType="netezza.explainPlan"}static createOrShow(e,r,n){let i=ln.window.activeTextEditor?ln.ViewColumn.Beside:void 0,s=ln.window.createWebviewPanel(t.viewType,"Query Execution Plan",i||ln.ViewColumn.One,{enableScripts:!0,localResourceRoots:[ln.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(s,e,r,n)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){this._panel.title="Query Execution Plan",this._panel.webview.html=this._getHtmlForWebview(e,r)}_getHtmlForWebview(e,r){let n=this._panel.webview.asWebviewUri(ln.Uri.joinPath(this._extensionUri,"media","explainPlan.css")),i=cz(),s=JSON.stringify(e),o=WL(r);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${this._panel.webview.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Query Execution Plan</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>Query Execution Plan</h2>
            <div class="header-actions">
                <button id="copyBtn" class="btn">\u{1F4CB} Copy Plan</button>
                <button id="expandAllBtn" class="btn">\u2795 Expand All</button>
                <button id="collapseAllBtn" class="btn">\u2796 Collapse All</button>
            </div>
        </div>

        ${e.warnings.length>0?`
        <div class="warnings-summary">
            <h3>\u26A0\uFE0F Performance Issues Detected (${e.warnings.length})</h3>
            <ul>
                ${e.warnings.map(a=>`<li class="warning-${a.type}">${a.icon} ${a.message}</li>`).join("")}
            </ul>
        </div>
        `:`
        <div class="no-warnings">
            <span>\u2705 No obvious performance issues detected</span>
        </div>
        `}

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-label">Total Cost:</span>
                <span class="stat-value">${e.totalCost>1e6?e.totalCost.toExponential(2):e.totalCost.toLocaleString()}</span>
            </div>
            <div class="stat">
                <span class="stat-label">Nodes:</span>
                <span class="stat-value">${$L(e.nodes)}</span>
            </div>
        </div>

        <div class="query-section">
            <h3>Query</h3>
            <pre class="query-text">${o}</pre>
        </div>

        <div class="plan-section">
            <h3>Execution Plan</h3>
            <div id="planTree" class="plan-tree">
                ${YL(e.nodes)}
            </div>
        </div>

        <div class="raw-section">
            <details>
                <summary>Raw Plan Output</summary>
                <pre class="raw-plan">${WL(e.rawText)}</pre>
            </details>
        </div>
    </div>

    <script nonce="${i}">
        const vscode = acquireVsCodeApi();
        
        document.getElementById('copyBtn').addEventListener('click', () => {
            vscode.postMessage({ command: 'copyPlan' });
        });

        document.getElementById('expandAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'block');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25BC');
        });

        document.getElementById('collapseAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25B6');
        });

        document.querySelectorAll('.toggle-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const node = e.target.closest('.plan-node');
                const children = node.querySelector('.node-children');
                if (children) {
                    const isHidden = children.style.display === 'none';
                    children.style.display = isHidden ? 'block' : 'none';
                    e.target.textContent = isHidden ? '\u25BC' : '\u25B6';
                }
            });
        });
    </script>
</body>
</html>`}}});var XL=y((Jbe,qL)=>{var uz=typeof process=="object"&&process&&process.platform==="win32";qL.exports=uz?{sep:"\\"}:{sep:"/"}});var XR=y((Qbe,JL)=>{"use strict";JL.exports=jL;function jL(t,e,r){t instanceof RegExp&&(t=KL(t,r)),e instanceof RegExp&&(e=KL(e,r));var n=zL(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function KL(t,e){var r=e.match(t);return r?r[0]:null}jL.range=zL;function zL(t,e,r){var n,i,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(t,u+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}});var sb=y((Zbe,ib)=>{var QL=XR();ib.exports=dz;var ZL="\0SLASH"+Math.random()+"\0",eb="\0OPEN"+Math.random()+"\0",jR="\0CLOSE"+Math.random()+"\0",tb="\0COMMA"+Math.random()+"\0",rb="\0PERIOD"+Math.random()+"\0";function KR(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Ez(t){return t.split("\\\\").join(ZL).split("\\{").join(eb).split("\\}").join(jR).split("\\,").join(tb).split("\\.").join(rb)}function fz(t){return t.split(ZL).join("\\").split(eb).join("{").split(jR).join("}").split(tb).join(",").split(rb).join(".")}function nb(t){if(!t)return[""];var e=[],r=QL("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=nb(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function dz(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),yc(Ez(t),!0).map(fz)):[]}function hz(t){return"{"+t+"}"}function Tz(t){return/^-?0\d/.test(t)}function Sz(t,e){return t<=e}function Rz(t,e){return t>=e}function yc(t,e){var r=[],n=QL("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?yc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,E=n.body.indexOf(",")>=0;if(!u&&!E)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+jR+n.post,yc(t)):[t];var d;if(u)d=n.body.split(/\.\./);else if(d=nb(n.body),d.length===1&&(d=yc(d[0],!1).map(hz),d.length===1))return s.map(function(x){return n.pre+d[0]+x});var f;if(u){var T=KR(d[0]),h=KR(d[1]),R=Math.max(d[0].length,d[1].length),S=d.length==3?Math.abs(KR(d[2])):1,C=Sz,A=h<T;A&&(S*=-1,C=Rz);var p=d.some(Tz);f=[];for(var g=T;C(g,h);g+=S){var D;if(c)D=String.fromCharCode(g),D==="\\"&&(D="");else if(D=String(g),p){var O=R-D.length;if(O>0){var M=new Array(O+1).join("0");g<0?D="-"+M+D.slice(1):D=M+D}}f.push(D)}}else{f=[];for(var w=0;w<d.length;w++)f.push.apply(f,yc(d[w],!1))}for(var w=0;w<f.length;w++)for(var o=0;o<s.length;o++){var a=i+f[w]+s[o];(!e||u||a)&&r.push(a)}}return r}});var Eb=y((twe,eA)=>{var Jr=eA.exports=(t,e,r={})=>(yf(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Oa(e,r).match(t));eA.exports=Jr;var QR=XL();Jr.sep=QR.sep;var On=Symbol("globstar **");Jr.GLOBSTAR=On;var Az=sb(),ob={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ZR="[^/]",zR=ZR+"*?",pz="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",_z="(?:(?!(?:\\/|^)\\.).)*?",cb=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),ab=cb("().*{}+?[]^$\\!"),Iz=cb("[.("),lb=/\/+/;Jr.filter=(t,e={})=>(r,n,i)=>Jr(r,t,e);var ss=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};Jr.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Jr;let e=Jr,r=(n,i,s)=>e(n,i,ss(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,ss(t,s))}},r.Minimatch.defaults=n=>e.defaults(ss(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,ss(t,i)),r.defaults=n=>e.defaults(ss(t,n)),r.makeRe=(n,i)=>e.makeRe(n,ss(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,ss(t,i)),r.match=(n,i,s)=>e.match(n,i,ss(t,s)),r};Jr.braceExpand=(t,e)=>ub(t,e);var ub=(t,e={})=>(yf(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Az(t)),Nz=1024*64,yf=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Nz)throw new TypeError("pattern is too long")},JR=Symbol("subparse");Jr.makeRe=(t,e)=>new Oa(t,e||{}).makeRe();Jr.match=(t,e,r={})=>{let n=new Oa(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var Oz=t=>t.replace(/\\(.)/g,"$1"),Cz=t=>t.replace(/\\([^-\]])/g,"$1"),mz=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),gz=t=>t.replace(/[[\]\\]/g,"\\$&"),Oa=class{constructor(e,r){yf(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(lb)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,l=r.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=r[o],u=e[s];if(this.debug(r,c,u),c===!1)return!1;if(c===On){this.debug("GLOBSTAR",[r,c,u]);var E=s,d=o+1;if(d===l){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;E<a;){var f=e[E];if(this.debug(`
globstar while`,e,E,r,d,f),this.matchOne(e.slice(E),r.slice(d),n))return this.debug("globstar found match!",E,a,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,E,r,d);break}this.debug("globstar swallow a segment, and continue"),E++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,E,r,d),E===a))}var T;if(typeof c=="string"?(T=u===c,this.debug("string match",c,u,T)):(T=u.match(c),this.debug("pattern match",c,u,T)),!T)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return ub(this.pattern,this.options)}parse(e,r){yf(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return On;if(e==="")return"";let i="",s=!1,o=!1,a=[],l=[],c,u=!1,E=-1,d=-1,f,T,h,R=e.charAt(0)===".",S=n.dot||R,C=()=>R?"":S?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",A=O=>O.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=()=>{if(c){switch(c){case"*":i+=zR,s=!0;break;case"?":i+=ZR,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let O=0,M;O<e.length&&(M=e.charAt(O));O++){if(this.debug("%s	%s %s %j",e,O,i,M),o){if(M==="/")return!1;ab[M]&&(i+="\\"),i+=M,o=!1;continue}switch(M){case"/":return!1;case"\\":if(u&&e.charAt(O+1)==="-"){i+=M;continue}p(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,O,i,M),u){this.debug("  in class"),M==="!"&&O===d+1&&(M="^"),i+=M;continue}this.debug("call clearStateChar %j",c),p(),c=M,n.noext&&p();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}let w={type:c,start:O-1,reStart:i.length,open:ob[c].open,close:ob[c].close};this.debug(this.pattern,"	",w),a.push(w),i+=w.open,w.start===0&&w.type!=="!"&&(R=!0,i+=A(e.slice(O+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let w=a[a.length-1];if(u||!w){i+="\\)";continue}a.pop(),p(),s=!0,T=w,i+=T.close,T.type==="!"&&l.push(Object.assign(T,{reEnd:i.length}));continue}case"|":{let w=a[a.length-1];if(u||!w){i+="\\|";continue}p(),i+="|",w.start===0&&w.type!=="!"&&(R=!0,i+=A(e.slice(O+1)));continue}case"[":if(p(),u){i+="\\"+M;continue}u=!0,d=O,E=i.length,i+=M;continue;case"]":if(O===d+1||!u){i+="\\"+M;continue}f=e.substring(d+1,O);try{RegExp("["+gz(Cz(f))+"]"),i+=M}catch{i=i.substring(0,E)+"(?:$.)"}s=!0,u=!1;continue;default:p(),ab[M]&&!(M==="^"&&u)&&(i+="\\"),i+=M;break}}for(u&&(f=e.slice(d+1),h=this.parse(f,JR),i=i.substring(0,E)+"\\["+h[0],s=s||h[1]),T=a.pop();T;T=a.pop()){let O;O=i.slice(T.reStart+T.open.length),this.debug("setting tail",i,T),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,(w,x,F)=>(F||(F="\\"),x+x+F+"|")),this.debug(`tail=%j
   %s`,O,O,T,i);let M=T.type==="*"?zR:T.type==="?"?ZR:"\\"+T.type;s=!0,i=i.slice(0,T.reStart)+M+"\\("+O}p(),o&&(i+="\\\\");let g=Iz[i.charAt(0)];for(let O=l.length-1;O>-1;O--){let M=l[O],w=i.slice(0,M.reStart),x=i.slice(M.reStart,M.reEnd-8),F=i.slice(M.reEnd),ee=i.slice(M.reEnd-8,M.reEnd)+F,Z=w.split(")").length,ne=w.split("(").length-Z,se=F;for(let fe=0;fe<ne;fe++)se=se.replace(/\)[+*?]?/,"");F=se;let _e=F===""&&r!==JR?"(?:$|\\/)":"";i=w+x+F+_e+ee}if(i!==""&&s&&(i="(?=.)"+i),g&&(i=C()+i),r===JR)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return Oz(e);let D=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",D),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?zR:r.dot?pz:_z,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?mz(a):a===On?On:a._src).reduce((a,l)=>(a[a.length-1]===On&&l===On||a.push(l),a),[]),o.forEach((a,l)=>{a!==On||o[l-1]===On||(l===0?o.length>1?o[l+1]="(?:\\/|"+n+"\\/)?"+o[l+1]:o[l]=n:l===o.length-1?o[l-1]+="(?:\\/|"+n+")?":(o[l-1]+="(?:\\/|\\/"+n+"\\/)"+o[l+1],o[l+1]=On))}),o.filter(a=>a!==On).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;QR.sep!=="/"&&(e=e.split(QR.sep).join("/")),e=e.split(lb),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],l=e;if(n.matchBase&&a.length===1&&(l=[s]),this.matchOne(l,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Jr.defaults(e).Minimatch}};Jr.Minimatch=Oa});var Sb=y((rwe,Tb)=>{Tb.exports=hb;var rA=require("fs"),{EventEmitter:yz}=require("events"),{Minimatch:tA}=Eb(),{resolve:Lz}=require("path");function bz(t,e){return new Promise((r,n)=>{rA.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function fb(t,e){return new Promise((r,n)=>{(e?rA.stat:rA.lstat)(t,(s,o)=>{if(s)switch(s.code){case"ENOENT":r(e?fb(t,!1):null);break;default:r(null);break}else r(o)})})}async function*db(t,e,r,n,i,s){let o=await bz(e+t,s);for(let a of o){let l=a.name;l===void 0&&(l=a,n=!0);let c=t+"/"+l,u=c.slice(1),E=e+"/"+u,d=null;(n||r)&&(d=await fb(E,r)),!d&&a.name!==void 0&&(d=a),d===null&&(d={isDirectory:()=>!1}),d.isDirectory()?i(u)||(yield{relative:u,absolute:E,stats:d},yield*db(c,e,r,n,i,!1)):yield{relative:u,absolute:E,stats:d}}}async function*wz(t,e,r,n){yield*db("",t,e,r,n,!0)}function Dz(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var Lf=class extends yz{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=Dz(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new tA(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new tA(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new tA(s,{dot:!0}))}this.iterator=wz(Lz(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function hb(t,e,r){return new Lf(t,e,r)}hb.ReaddirGlob=Lf});var Ab=y((bf,Rb)=>{(function(t,e){typeof bf=="object"&&typeof Rb<"u"?e(bf):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(bf,(function(t){"use strict";function e(L,...m){return(...b)=>L(...m,...b)}function r(L){return function(...m){var b=m.pop();return L.call(this,m,b)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,s=typeof process=="object"&&typeof process.nextTick=="function";function o(L){setTimeout(L,0)}function a(L){return(m,...b)=>L(()=>m(...b))}var l;n?l=queueMicrotask:i?l=setImmediate:s?l=process.nextTick:l=o;var c=a(l);function u(L){return f(L)?function(...m){let b=m.pop(),P=L.apply(this,m);return E(P,b)}:r(function(m,b){var P;try{P=L.apply(this,m)}catch(G){return b(G)}if(P&&typeof P.then=="function")return E(P,b);b(null,P)})}function E(L,m){return L.then(b=>{d(m,null,b)},b=>{d(m,b&&(b instanceof Error||b.message)?b:new Error(b))})}function d(L,m,b){try{L(m,b)}catch(P){c(G=>{throw G},P)}}function f(L){return L[Symbol.toStringTag]==="AsyncFunction"}function T(L){return L[Symbol.toStringTag]==="AsyncGenerator"}function h(L){return typeof L[Symbol.asyncIterator]=="function"}function R(L){if(typeof L!="function")throw new Error("expected a function");return f(L)?u(L):L}function S(L,m){if(m||(m=L.length),!m)throw new Error("arity is undefined");function b(...P){return typeof P[m-1]=="function"?L.apply(this,P):new Promise((G,W)=>{P[m-1]=(Y,...$)=>{if(Y)return W(Y);G($.length>1?$:$[0])},L.apply(this,P)})}return b}function C(L){return function(b,...P){return S(function(W){var Y=this;return L(b,($,z)=>{R($).apply(Y,P.concat(z))},W)})}}function A(L,m,b,P){m=m||[];var G=[],W=0,Y=R(b);return L(m,($,z,ce)=>{var He=W++;Y($,(Ke,$e)=>{G[He]=$e,ce(Ke)})},$=>{P($,G)})}function p(L){return L&&typeof L.length=="number"&&L.length>=0&&L.length%1===0}let g={};function D(L){function m(...b){if(L!==null){var P=L;L=null,P.apply(this,b)}}return Object.assign(m,L),m}function O(L){return L[Symbol.iterator]&&L[Symbol.iterator]()}function M(L){var m=-1,b=L.length;return function(){return++m<b?{value:L[m],key:m}:null}}function w(L){var m=-1;return function(){var P=L.next();return P.done?null:(m++,{value:P.value,key:m})}}function x(L){var m=L?Object.keys(L):[],b=-1,P=m.length;return function G(){var W=m[++b];return W==="__proto__"?G():b<P?{value:L[W],key:W}:null}}function F(L){if(p(L))return M(L);var m=O(L);return m?w(m):x(L)}function ee(L){return function(...m){if(L===null)throw new Error("Callback was already called.");var b=L;L=null,b.apply(this,m)}}function Z(L,m,b,P){let G=!1,W=!1,Y=!1,$=0,z=0;function ce(){$>=m||Y||G||(Y=!0,L.next().then(({value:$e,done:nn})=>{if(!(W||G)){if(Y=!1,nn){G=!0,$<=0&&P(null);return}$++,b($e,z,He),z++,ce()}}).catch(Ke))}function He($e,nn){if($-=1,!W){if($e)return Ke($e);if($e===!1){G=!0,W=!0;return}if(nn===g||G&&$<=0)return G=!0,P(null);ce()}}function Ke($e){W||(Y=!1,G=!0,P($e))}ce()}var ne=L=>(m,b,P)=>{if(P=D(P),L<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!m)return P(null);if(T(m))return Z(m,L,b,P);if(h(m))return Z(m[Symbol.asyncIterator](),L,b,P);var G=F(m),W=!1,Y=!1,$=0,z=!1;function ce(Ke,$e){if(!Y)if($-=1,Ke)W=!0,P(Ke);else if(Ke===!1)W=!0,Y=!0;else{if($e===g||W&&$<=0)return W=!0,P(null);z||He()}}function He(){for(z=!0;$<L&&!W;){var Ke=G();if(Ke===null){W=!0,$<=0&&P(null);return}$+=1,b(Ke.value,Ke.key,ee(ce))}z=!1}He()};function se(L,m,b,P){return ne(m)(L,R(b),P)}var _e=S(se,4);function fe(L,m,b){b=D(b);var P=0,G=0,{length:W}=L,Y=!1;W===0&&b(null);function $(z,ce){z===!1&&(Y=!0),Y!==!0&&(z?b(z):(++G===W||ce===g)&&b(null))}for(;P<W;P++)m(L[P],P,ee($))}function Qe(L,m,b){return _e(L,1/0,m,b)}function Oe(L,m,b){var P=p(L)?fe:Qe;return P(L,R(m),b)}var jt=S(Oe,3);function I(L,m,b){return A(jt,L,m,b)}var v=S(I,3),U=C(v);function X(L,m,b){return _e(L,1,m,b)}var H=S(X,3);function K(L,m,b){return A(H,L,m,b)}var J=S(K,3),q=C(J);let j=Symbol("promiseCallback");function te(){let L,m;function b(P,...G){if(P)return m(P);L(G.length>1?G:G[0])}return b[j]=new Promise((P,G)=>{L=P,m=G}),b}function Q(L,m,b){typeof m!="number"&&(b=m,m=null),b=D(b||te());var P=Object.keys(L).length;if(!P)return b(null);m||(m=P);var G={},W=0,Y=!1,$=!1,z=Object.create(null),ce=[],He=[],Ke={};Object.keys(L).forEach(le=>{var Se=L[le];if(!Array.isArray(Se)){$e(le,[Se]),He.push(le);return}var Ve=Se.slice(0,Se.length-1),ft=Ve.length;if(ft===0){$e(le,Se),He.push(le);return}Ke[le]=ft,Ve.forEach(zt=>{if(!L[zt])throw new Error("async.auto task `"+le+"` has a non-existent dependency `"+zt+"` in "+Ve.join(", "));ca(zt,()=>{ft--,ft===0&&$e(le,Se)})})}),je(),nn();function $e(le,Se){ce.push(()=>uc(le,Se))}function nn(){if(!Y){if(ce.length===0&&W===0)return b(null,G);for(;ce.length&&W<m;){var le=ce.shift();le()}}}function ca(le,Se){var Ve=z[le];Ve||(Ve=z[le]=[]),Ve.push(Se)}function Gs(le){var Se=z[le]||[];Se.forEach(Ve=>Ve()),nn()}function uc(le,Se){if(!$){var Ve=ee((zt,...sn)=>{if(W--,zt===!1){Y=!0;return}if(sn.length<2&&([sn]=sn),zt){var ua={};if(Object.keys(G).forEach(Hs=>{ua[Hs]=G[Hs]}),ua[le]=sn,$=!0,z=Object.create(null),Y)return;b(zt,ua)}else G[le]=sn,Gs(le)});W++;var ft=R(Se[Se.length-1]);Se.length>1?ft(G,Ve):ft(Ve)}}function je(){for(var le,Se=0;He.length;)le=He.pop(),Se++,Te(le).forEach(Ve=>{--Ke[Ve]===0&&He.push(Ve)});if(Se!==P)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function Te(le){var Se=[];return Object.keys(L).forEach(Ve=>{let ft=L[Ve];Array.isArray(ft)&&ft.indexOf(le)>=0&&Se.push(Ve)}),Se}return b[j]}var ae=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,Ee=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,Ye=/,/,it=/(=.+)?(\s*)$/;function Bt(L){let m="",b=0,P=L.indexOf("*/");for(;b<L.length;)if(L[b]==="/"&&L[b+1]==="/"){let G=L.indexOf(`
`,b);b=G===-1?L.length:G}else if(P!==-1&&L[b]==="/"&&L[b+1]==="*"){let G=L.indexOf("*/",b);G!==-1?(b=G+2,P=L.indexOf("*/",b)):(m+=L[b],b++)}else m+=L[b],b++;return m}function Ir(L){let m=Bt(L.toString()),b=m.match(ae);if(b||(b=m.match(Ee)),!b)throw new Error(`could not parse args in autoInject
Source:
`+m);let[,P]=b;return P.replace(/\s/g,"").split(Ye).map(G=>G.replace(it,"").trim())}function vt(L,m){var b={};return Object.keys(L).forEach(P=>{var G=L[P],W,Y=f(G),$=!Y&&G.length===1||Y&&G.length===0;if(Array.isArray(G))W=[...G],G=W.pop(),b[P]=W.concat(W.length>0?z:G);else if($)b[P]=G;else{if(W=Ir(G),G.length===0&&!Y&&W.length===0)throw new Error("autoInject task functions require explicit parameters.");Y||W.pop(),b[P]=W.concat(z)}function z(ce,He){var Ke=W.map($e=>ce[$e]);Ke.push(He),R(G)(...Ke)}}),Q(b,m)}class oa{constructor(){this.head=this.tail=null,this.length=0}removeLink(m){return m.prev?m.prev.next=m.next:this.head=m.next,m.next?m.next.prev=m.prev:this.tail=m.prev,m.prev=m.next=null,this.length-=1,m}empty(){for(;this.head;)this.shift();return this}insertAfter(m,b){b.prev=m,b.next=m.next,m.next?m.next.prev=b:this.tail=b,m.next=b,this.length+=1}insertBefore(m,b){b.prev=m.prev,b.next=m,m.prev?m.prev.next=b:this.head=b,m.prev=b,this.length+=1}unshift(m){this.head?this.insertBefore(this.head,m):zi(this,m)}push(m){this.tail?this.insertAfter(this.tail,m):zi(this,m)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var m=this.head;m;)yield m.data,m=m.next}remove(m){for(var b=this.head;b;){var{next:P}=b;m(b)&&this.removeLink(b),b=P}return this}}function zi(L,m){L.length=1,L.head=L.tail=m}function Fs(L,m,b){if(m==null)m=1;else if(m===0)throw new RangeError("Concurrency must not be zero");var P=R(L),G=0,W=[];let Y={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function $(Te,le){Y[Te].push(le)}function z(Te,le){let Se=(...Ve)=>{ce(Te,Se),le(...Ve)};Y[Te].push(Se)}function ce(Te,le){if(!Te)return Object.keys(Y).forEach(Se=>Y[Se]=[]);if(!le)return Y[Te]=[];Y[Te]=Y[Te].filter(Se=>Se!==le)}function He(Te,...le){Y[Te].forEach(Se=>Se(...le))}var Ke=!1;function $e(Te,le,Se,Ve){if(Ve!=null&&typeof Ve!="function")throw new Error("task callback must be a function");je.started=!0;var ft,zt;function sn(Hs,...Ec){if(Hs)return Se?zt(Hs):ft();if(Ec.length<=1)return ft(Ec[0]);ft(Ec)}var ua=je._createTaskItem(Te,Se?sn:Ve||sn);if(le?je._tasks.unshift(ua):je._tasks.push(ua),Ke||(Ke=!0,c(()=>{Ke=!1,je.process()})),Se||!Ve)return new Promise((Hs,Ec)=>{ft=Hs,zt=Ec})}function nn(Te){return function(le,...Se){G-=1;for(var Ve=0,ft=Te.length;Ve<ft;Ve++){var zt=Te[Ve],sn=W.indexOf(zt);sn===0?W.shift():sn>0&&W.splice(sn,1),zt.callback(le,...Se),le!=null&&He("error",le,zt.data)}G<=je.concurrency-je.buffer&&He("unsaturated"),je.idle()&&He("drain"),je.process()}}function ca(Te){return Te.length===0&&je.idle()?(c(()=>He("drain")),!0):!1}let Gs=Te=>le=>{if(!le)return new Promise((Se,Ve)=>{z(Te,(ft,zt)=>{if(ft)return Ve(ft);Se(zt)})});ce(Te),$(Te,le)};var uc=!1,je={_tasks:new oa,_createTaskItem(Te,le){return{data:Te,callback:le}},*[Symbol.iterator](){yield*je._tasks[Symbol.iterator]()},concurrency:m,payload:b,buffer:m/4,started:!1,paused:!1,push(Te,le){return Array.isArray(Te)?ca(Te)?void 0:Te.map(Se=>$e(Se,!1,!1,le)):$e(Te,!1,!1,le)},pushAsync(Te,le){return Array.isArray(Te)?ca(Te)?void 0:Te.map(Se=>$e(Se,!1,!0,le)):$e(Te,!1,!0,le)},kill(){ce(),je._tasks.empty()},unshift(Te,le){return Array.isArray(Te)?ca(Te)?void 0:Te.map(Se=>$e(Se,!0,!1,le)):$e(Te,!0,!1,le)},unshiftAsync(Te,le){return Array.isArray(Te)?ca(Te)?void 0:Te.map(Se=>$e(Se,!0,!0,le)):$e(Te,!0,!0,le)},remove(Te){je._tasks.remove(Te)},process(){if(!uc){for(uc=!0;!je.paused&&G<je.concurrency&&je._tasks.length;){var Te=[],le=[],Se=je._tasks.length;je.payload&&(Se=Math.min(Se,je.payload));for(var Ve=0;Ve<Se;Ve++){var ft=je._tasks.shift();Te.push(ft),W.push(ft),le.push(ft.data)}G+=1,je._tasks.length===0&&He("empty"),G===je.concurrency&&He("saturated");var zt=ee(nn(Te));P(le,zt)}uc=!1}},length(){return je._tasks.length},running(){return G},workersList(){return W},idle(){return je._tasks.length+G===0},pause(){je.paused=!0},resume(){je.paused!==!1&&(je.paused=!1,c(je.process))}};return Object.defineProperties(je,{saturated:{writable:!1,value:Gs("saturated")},unsaturated:{writable:!1,value:Gs("unsaturated")},empty:{writable:!1,value:Gs("empty")},drain:{writable:!1,value:Gs("drain")},error:{writable:!1,value:Gs("error")}}),je}function ic(L,m){return Fs(L,1,m)}function aa(L,m,b){return Fs(L,m,b)}function f6(L,m,b,P){P=D(P);var G=R(b);return H(L,(W,Y,$)=>{G(m,W,(z,ce)=>{m=ce,$(z)})},W=>P(W,m))}var Ji=S(f6,4);function PS(...L){var m=L.map(R);return function(...b){var P=this,G=b[b.length-1];return typeof G=="function"?b.pop():G=te(),Ji(m,b,(W,Y,$)=>{Y.apply(P,W.concat((z,...ce)=>{$(z,ce)}))},(W,Y)=>G(W,...Y)),G[j]}}function qm(...L){return PS(...L.reverse())}function d6(L,m,b,P){return A(ne(m),L,b,P)}var sc=S(d6,4);function h6(L,m,b,P){var G=R(b);return sc(L,m,(W,Y)=>{G(W,($,...z)=>$?Y($):Y($,z))},(W,Y)=>{for(var $=[],z=0;z<Y.length;z++)Y[z]&&($=$.concat(...Y[z]));return P(W,$)})}var la=S(h6,4);function T6(L,m,b){return la(L,1/0,m,b)}var bE=S(T6,3);function S6(L,m,b){return la(L,1,m,b)}var wE=S(S6,3);function Xm(...L){return function(...m){var b=m.pop();return b(null,...L)}}function Ri(L,m){return(b,P,G,W)=>{var Y=!1,$;let z=R(G);b(P,(ce,He,Ke)=>{z(ce,($e,nn)=>{if($e||$e===!1)return Ke($e);if(L(nn)&&!$)return Y=!0,$=m(!0,ce),Ke(null,g);Ke()})},ce=>{if(ce)return W(ce);W(null,Y?$:m(!1))})}}function R6(L,m,b){return Ri(P=>P,(P,G)=>G)(jt,L,m,b)}var DE=S(R6,3);function A6(L,m,b,P){return Ri(G=>G,(G,W)=>W)(ne(m),L,b,P)}var PE=S(A6,4);function p6(L,m,b){return Ri(P=>P,(P,G)=>G)(ne(1),L,m,b)}var ME=S(p6,3);function Km(L){return(m,...b)=>R(m)(...b,(P,...G)=>{typeof console=="object"&&(P?console.error&&console.error(P):console[L]&&G.forEach(W=>console[L](W)))})}var jm=Km("dir");function _6(L,m,b){b=ee(b);var P=R(L),G=R(m),W;function Y(z,...ce){if(z)return b(z);z!==!1&&(W=ce,G(...ce,$))}function $(z,ce){if(z)return b(z);if(z!==!1){if(!ce)return b(null,...W);P(Y)}}return $(null,!0)}var oc=S(_6,3);function zm(L,m,b){let P=R(m);return oc(L,(...G)=>{let W=G.pop();P(...G,(Y,$)=>W(Y,!$))},b)}function Jm(L){return(m,b,P)=>L(m,P)}function I6(L,m,b){return jt(L,Jm(R(m)),b)}var xE=S(I6,3);function N6(L,m,b,P){return ne(m)(L,Jm(R(b)),P)}var ac=S(N6,4);function O6(L,m,b){return ac(L,1,m,b)}var lc=S(O6,3);function MS(L){return f(L)?L:function(...m){var b=m.pop(),P=!0;m.push((...G)=>{P?c(()=>b(...G)):b(...G)}),L.apply(this,m),P=!1}}function C6(L,m,b){return Ri(P=>!P,P=>!P)(jt,L,m,b)}var vE=S(C6,3);function m6(L,m,b,P){return Ri(G=>!G,G=>!G)(ne(m),L,b,P)}var UE=S(m6,4);function g6(L,m,b){return Ri(P=>!P,P=>!P)(H,L,m,b)}var BE=S(g6,3);function y6(L,m,b,P){var G=new Array(m.length);L(m,(W,Y,$)=>{b(W,(z,ce)=>{G[Y]=!!ce,$(z)})},W=>{if(W)return P(W);for(var Y=[],$=0;$<m.length;$++)G[$]&&Y.push(m[$]);P(null,Y)})}function L6(L,m,b,P){var G=[];L(m,(W,Y,$)=>{b(W,(z,ce)=>{if(z)return $(z);ce&&G.push({index:Y,value:W}),$(z)})},W=>{if(W)return P(W);P(null,G.sort((Y,$)=>Y.index-$.index).map(Y=>Y.value))})}function FE(L,m,b,P){var G=p(m)?y6:L6;return G(L,m,R(b),P)}function b6(L,m,b){return FE(jt,L,m,b)}var GE=S(b6,3);function w6(L,m,b,P){return FE(ne(m),L,b,P)}var HE=S(w6,4);function D6(L,m,b){return FE(H,L,m,b)}var WE=S(D6,3);function P6(L,m){var b=ee(m),P=R(MS(L));function G(W){if(W)return b(W);W!==!1&&P(G)}return G()}var Qm=S(P6,2);function M6(L,m,b,P){var G=R(b);return sc(L,m,(W,Y)=>{G(W,($,z)=>$?Y($):Y($,{key:z,val:W}))},(W,Y)=>{for(var $={},{hasOwnProperty:z}=Object.prototype,ce=0;ce<Y.length;ce++)if(Y[ce]){var{key:He}=Y[ce],{val:Ke}=Y[ce];z.call($,He)?$[He].push(Ke):$[He]=[Ke]}return P(W,$)})}var YE=S(M6,4);function Zm(L,m,b){return YE(L,1/0,m,b)}function eg(L,m,b){return YE(L,1,m,b)}var tg=Km("log");function x6(L,m,b,P){P=D(P);var G={},W=R(b);return ne(m)(L,(Y,$,z)=>{W(Y,$,(ce,He)=>{if(ce)return z(ce);G[$]=He,z(ce)})},Y=>P(Y,G))}var $E=S(x6,4);function rg(L,m,b){return $E(L,1/0,m,b)}function ng(L,m,b){return $E(L,1,m,b)}function ig(L,m=b=>b){var b=Object.create(null),P=Object.create(null),G=R(L),W=r((Y,$)=>{var z=m(...Y);z in b?c(()=>$(null,...b[z])):z in P?P[z].push($):(P[z]=[$],G(...Y,(ce,...He)=>{ce||(b[z]=He);var Ke=P[z];delete P[z];for(var $e=0,nn=Ke.length;$e<nn;$e++)Ke[$e](ce,...He)}))});return W.memo=b,W.unmemoized=L,W}var VE;s?VE=process.nextTick:i?VE=setImmediate:VE=o;var sg=a(VE),xS=S((L,m,b)=>{var P=p(m)?[]:{};L(m,(G,W,Y)=>{R(G)(($,...z)=>{z.length<2&&([z]=z),P[W]=z,Y($)})},G=>b(G,P))},3);function og(L,m){return xS(jt,L,m)}function ag(L,m,b){return xS(ne(m),L,b)}function vS(L,m){var b=R(L);return Fs((P,G)=>{b(P[0],G)},m,1)}class v6{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(m){let b;for(;m>0&&US(this.heap[m],this.heap[b=lg(m)]);){let P=this.heap[m];this.heap[m]=this.heap[b],this.heap[b]=P,m=b}}percDown(m){let b;for(;(b=U6(m))<this.heap.length&&(b+1<this.heap.length&&US(this.heap[b+1],this.heap[b])&&(b=b+1),!US(this.heap[m],this.heap[b]));){let P=this.heap[m];this.heap[m]=this.heap[b],this.heap[b]=P,m=b}}push(m){m.pushCount=++this.pushCount,this.heap.push(m),this.percUp(this.heap.length-1)}unshift(m){return this.heap.push(m)}shift(){let[m]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),m}toArray(){return[...this]}*[Symbol.iterator](){for(let m=0;m<this.heap.length;m++)yield this.heap[m].data}remove(m){let b=0;for(let P=0;P<this.heap.length;P++)m(this.heap[P])||(this.heap[b]=this.heap[P],b++);this.heap.splice(b);for(let P=lg(this.heap.length-1);P>=0;P--)this.percDown(P);return this}}function U6(L){return(L<<1)+1}function lg(L){return(L+1>>1)-1}function US(L,m){return L.priority!==m.priority?L.priority<m.priority:L.pushCount<m.pushCount}function cg(L,m){var b=vS(L,m),{push:P,pushAsync:G}=b;b._tasks=new v6,b._createTaskItem=({data:Y,priority:$},z)=>({data:Y,priority:$,callback:z});function W(Y,$){return Array.isArray(Y)?Y.map(z=>({data:z,priority:$})):{data:Y,priority:$}}return b.push=function(Y,$=0,z){return P(W(Y,$),z)},b.pushAsync=function(Y,$=0,z){return G(W(Y,$),z)},delete b.unshift,delete b.unshiftAsync,b}function B6(L,m){if(m=D(m),!Array.isArray(L))return m(new TypeError("First argument to race must be an array of functions"));if(!L.length)return m();for(var b=0,P=L.length;b<P;b++)R(L[b])(m)}var ug=S(B6,2);function kE(L,m,b,P){var G=[...L].reverse();return Ji(G,m,b,P)}function qE(L){var m=R(L);return r(function(P,G){return P.push((W,...Y)=>{let $={};if(W&&($.error=W),Y.length>0){var z=Y;Y.length<=1&&([z]=Y),$.value=z}G(null,$)}),m.apply(this,P)})}function Eg(L){var m;return Array.isArray(L)?m=L.map(qE):(m={},Object.keys(L).forEach(b=>{m[b]=qE.call(this,L[b])})),m}function BS(L,m,b,P){let G=R(b);return FE(L,m,(W,Y)=>{G(W,($,z)=>{Y($,!z)})},P)}function F6(L,m,b){return BS(jt,L,m,b)}var fg=S(F6,3);function G6(L,m,b,P){return BS(ne(m),L,b,P)}var dg=S(G6,4);function H6(L,m,b){return BS(H,L,m,b)}var hg=S(H6,3);function Tg(L){return function(){return L}}let FS=5,Sg=0;function XE(L,m,b){var P={times:FS,intervalFunc:Tg(Sg)};if(arguments.length<3&&typeof L=="function"?(b=m||te(),m=L):(W6(P,L),b=b||te()),typeof m!="function")throw new Error("Invalid arguments for async.retry");var G=R(m),W=1;function Y(){G(($,...z)=>{$!==!1&&($&&W++<P.times&&(typeof P.errorFilter!="function"||P.errorFilter($))?setTimeout(Y,P.intervalFunc(W-1)):b($,...z))})}return Y(),b[j]}function W6(L,m){if(typeof m=="object")L.times=+m.times||FS,L.intervalFunc=typeof m.interval=="function"?m.interval:Tg(+m.interval||Sg),L.errorFilter=m.errorFilter;else if(typeof m=="number"||typeof m=="string")L.times=+m||FS;else throw new Error("Invalid arguments for async.retry")}function Rg(L,m){m||(m=L,L=null);let b=L&&L.arity||m.length;f(m)&&(b+=1);var P=R(m);return r((G,W)=>{(G.length<b-1||W==null)&&(G.push(W),W=te());function Y($){P(...G,$)}return L?XE(L,Y,W):XE(Y,W),W[j]})}function Ag(L,m){return xS(H,L,m)}function Y6(L,m,b){return Ri(Boolean,P=>P)(jt,L,m,b)}var KE=S(Y6,3);function $6(L,m,b,P){return Ri(Boolean,G=>G)(ne(m),L,b,P)}var jE=S($6,4);function V6(L,m,b){return Ri(Boolean,P=>P)(H,L,m,b)}var zE=S(V6,3);function k6(L,m,b){var P=R(m);return v(L,(W,Y)=>{P(W,($,z)=>{if($)return Y($);Y($,{value:W,criteria:z})})},(W,Y)=>{if(W)return b(W);b(null,Y.sort(G).map($=>$.value))});function G(W,Y){var $=W.criteria,z=Y.criteria;return $<z?-1:$>z?1:0}}var pg=S(k6,3);function _g(L,m,b){var P=R(L);return r((G,W)=>{var Y=!1,$;function z(){var ce=L.name||"anonymous",He=new Error('Callback function "'+ce+'" timed out.');He.code="ETIMEDOUT",b&&(He.info=b),Y=!0,W(He)}G.push((...ce)=>{Y||(W(...ce),clearTimeout($))}),$=setTimeout(z,m),P(...G)})}function q6(L){for(var m=Array(L);L--;)m[L]=L;return m}function JE(L,m,b,P){var G=R(b);return sc(q6(L),m,G,P)}function Ig(L,m,b){return JE(L,1/0,m,b)}function Ng(L,m,b){return JE(L,1,m,b)}function Og(L,m,b,P){arguments.length<=3&&typeof m=="function"&&(P=b,b=m,m=Array.isArray(L)?[]:{}),P=D(P||te());var G=R(b);return jt(L,(W,Y,$)=>{G(m,W,Y,$)},W=>P(W,m)),P[j]}function X6(L,m){var b=null,P;return lc(L,(G,W)=>{R(G)((Y,...$)=>{if(Y===!1)return W(Y);$.length<2?[P]=$:P=$,b=Y,W(Y?null:{})})},()=>m(b,P))}var Cg=S(X6);function mg(L){return(...m)=>(L.unmemoized||L)(...m)}function K6(L,m,b){b=ee(b);var P=R(m),G=R(L),W=[];function Y(z,...ce){if(z)return b(z);W=ce,z!==!1&&G($)}function $(z,ce){if(z)return b(z);if(z!==!1){if(!ce)return b(null,...W);P(Y)}}return G($)}var cc=S(K6,3);function gg(L,m,b){let P=R(L);return cc(G=>P((W,Y)=>G(W,!Y)),m,b)}function j6(L,m){if(m=D(m),!Array.isArray(L))return m(new Error("First argument to waterfall must be an array of functions"));if(!L.length)return m();var b=0;function P(W){var Y=R(L[b++]);Y(...W,ee(G))}function G(W,...Y){if(W!==!1){if(W||b===L.length)return m(W,...Y);P(Y)}}P([])}var yg=S(j6),z6={apply:e,applyEach:U,applyEachSeries:q,asyncify:u,auto:Q,autoInject:vt,cargo:ic,cargoQueue:aa,compose:qm,concat:bE,concatLimit:la,concatSeries:wE,constant:Xm,detect:DE,detectLimit:PE,detectSeries:ME,dir:jm,doUntil:zm,doWhilst:oc,each:xE,eachLimit:ac,eachOf:jt,eachOfLimit:_e,eachOfSeries:H,eachSeries:lc,ensureAsync:MS,every:vE,everyLimit:UE,everySeries:BE,filter:GE,filterLimit:HE,filterSeries:WE,forever:Qm,groupBy:Zm,groupByLimit:YE,groupBySeries:eg,log:tg,map:v,mapLimit:sc,mapSeries:J,mapValues:rg,mapValuesLimit:$E,mapValuesSeries:ng,memoize:ig,nextTick:sg,parallel:og,parallelLimit:ag,priorityQueue:cg,queue:vS,race:ug,reduce:Ji,reduceRight:kE,reflect:qE,reflectAll:Eg,reject:fg,rejectLimit:dg,rejectSeries:hg,retry:XE,retryable:Rg,seq:PS,series:Ag,setImmediate:c,some:KE,someLimit:jE,someSeries:zE,sortBy:pg,timeout:_g,times:Ig,timesLimit:JE,timesSeries:Ng,transform:Og,tryEach:Cg,unmemoize:mg,until:gg,waterfall:yg,whilst:cc,all:vE,allLimit:UE,allSeries:BE,any:KE,anyLimit:jE,anySeries:zE,find:DE,findLimit:PE,findSeries:ME,flatMap:bE,flatMapLimit:la,flatMapSeries:wE,forEach:xE,forEachSeries:lc,forEachLimit:ac,forEachOf:jt,forEachOfSeries:H,forEachOfLimit:_e,inject:Ji,foldl:Ji,foldr:kE,select:GE,selectLimit:HE,selectSeries:WE,wrapSync:u,during:cc,doDuring:oc};t.all=vE,t.allLimit=UE,t.allSeries=BE,t.any=KE,t.anyLimit=jE,t.anySeries=zE,t.apply=e,t.applyEach=U,t.applyEachSeries=q,t.asyncify=u,t.auto=Q,t.autoInject=vt,t.cargo=ic,t.cargoQueue=aa,t.compose=qm,t.concat=bE,t.concatLimit=la,t.concatSeries=wE,t.constant=Xm,t.default=z6,t.detect=DE,t.detectLimit=PE,t.detectSeries=ME,t.dir=jm,t.doDuring=oc,t.doUntil=zm,t.doWhilst=oc,t.during=cc,t.each=xE,t.eachLimit=ac,t.eachOf=jt,t.eachOfLimit=_e,t.eachOfSeries=H,t.eachSeries=lc,t.ensureAsync=MS,t.every=vE,t.everyLimit=UE,t.everySeries=BE,t.filter=GE,t.filterLimit=HE,t.filterSeries=WE,t.find=DE,t.findLimit=PE,t.findSeries=ME,t.flatMap=bE,t.flatMapLimit=la,t.flatMapSeries=wE,t.foldl=Ji,t.foldr=kE,t.forEach=xE,t.forEachLimit=ac,t.forEachOf=jt,t.forEachOfLimit=_e,t.forEachOfSeries=H,t.forEachSeries=lc,t.forever=Qm,t.groupBy=Zm,t.groupByLimit=YE,t.groupBySeries=eg,t.inject=Ji,t.log=tg,t.map=v,t.mapLimit=sc,t.mapSeries=J,t.mapValues=rg,t.mapValuesLimit=$E,t.mapValuesSeries=ng,t.memoize=ig,t.nextTick=sg,t.parallel=og,t.parallelLimit=ag,t.priorityQueue=cg,t.queue=vS,t.race=ug,t.reduce=Ji,t.reduceRight=kE,t.reflect=qE,t.reflectAll=Eg,t.reject=fg,t.rejectLimit=dg,t.rejectSeries=hg,t.retry=XE,t.retryable=Rg,t.select=GE,t.selectLimit=HE,t.selectSeries=WE,t.seq=PS,t.series=Ag,t.setImmediate=c,t.some=KE,t.someLimit=jE,t.someSeries=zE,t.sortBy=pg,t.timeout=_g,t.times=Ig,t.timesLimit=JE,t.timesSeries=Ng,t.transform=Og,t.tryEach=Cg,t.unmemoize=mg,t.until=gg,t.waterfall=yg,t.whilst=cc,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})}))});var _b=y((nwe,pb)=>{var os=require("constants"),Pz=process.cwd,wf=null,Mz=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return wf||(wf=Pz.call(process)),wf};try{process.cwd()}catch{}typeof process.chdir=="function"&&(nA=process.chdir,process.chdir=function(t){wf=null,nA.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,nA));var nA;pb.exports=xz;function xz(t){os.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,E,d){d&&process.nextTick(d)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,E,d,f){f&&process.nextTick(f)},t.lchownSync=function(){}),Mz==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:(function(u){function E(d,f,T){var h=Date.now(),R=0;u(d,f,function S(C){if(C&&(C.code==="EACCES"||C.code==="EPERM"||C.code==="EBUSY")&&Date.now()-h<6e4){setTimeout(function(){t.stat(f,function(A,p){A&&A.code==="ENOENT"?u(d,f,S):T(C)})},R),R<100&&(R+=10);return}T&&T(C)})}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E})(t.rename)),t.read=typeof t.read!="function"?t.read:(function(u){function E(d,f,T,h,R,S){var C;if(S&&typeof S=="function"){var A=0;C=function(p,g,D){if(p&&p.code==="EAGAIN"&&A<10)return A++,u.call(t,d,f,T,h,R,C);S.apply(this,arguments)}}return u.call(t,d,f,T,h,R,C)}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E})(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:(function(u){return function(E,d,f,T,h){for(var R=0;;)try{return u.call(t,E,d,f,T,h)}catch(S){if(S.code==="EAGAIN"&&R<10){R++;continue}throw S}}})(t.readSync);function e(u){u.lchmod=function(E,d,f){u.open(E,os.O_WRONLY|os.O_SYMLINK,d,function(T,h){if(T){f&&f(T);return}u.fchmod(h,d,function(R){u.close(h,function(S){f&&f(R||S)})})})},u.lchmodSync=function(E,d){var f=u.openSync(E,os.O_WRONLY|os.O_SYMLINK,d),T=!0,h;try{h=u.fchmodSync(f,d),T=!1}finally{if(T)try{u.closeSync(f)}catch{}else u.closeSync(f)}return h}}function r(u){os.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(E,d,f,T){u.open(E,os.O_SYMLINK,function(h,R){if(h){T&&T(h);return}u.futimes(R,d,f,function(S){u.close(R,function(C){T&&T(S||C)})})})},u.lutimesSync=function(E,d,f){var T=u.openSync(E,os.O_SYMLINK),h,R=!0;try{h=u.futimesSync(T,d,f),R=!1}finally{if(R)try{u.closeSync(T)}catch{}else u.closeSync(T)}return h}):u.futimes&&(u.lutimes=function(E,d,f,T){T&&process.nextTick(T)},u.lutimesSync=function(){})}function n(u){return u&&function(E,d,f){return u.call(t,E,d,function(T){c(T)&&(T=null),f&&f.apply(this,arguments)})}}function i(u){return u&&function(E,d){try{return u.call(t,E,d)}catch(f){if(!c(f))throw f}}}function s(u){return u&&function(E,d,f,T){return u.call(t,E,d,f,function(h){c(h)&&(h=null),T&&T.apply(this,arguments)})}}function o(u){return u&&function(E,d,f){try{return u.call(t,E,d,f)}catch(T){if(!c(T))throw T}}}function a(u){return u&&function(E,d,f){typeof d=="function"&&(f=d,d=null);function T(h,R){R&&(R.uid<0&&(R.uid+=4294967296),R.gid<0&&(R.gid+=4294967296)),f&&f.apply(this,arguments)}return d?u.call(t,E,d,T):u.call(t,E,T)}}function l(u){return u&&function(E,d){var f=d?u.call(t,E,d):u.call(t,E);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function c(u){if(!u||u.code==="ENOSYS")return!0;var E=!process.getuid||process.getuid()!==0;return!!(E&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var Ob=y((iwe,Nb)=>{var Ib=require("stream").Stream;Nb.exports=vz;function vz(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);Ib.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,E){if(u){s.emit("error",u),s.readable=!1;return}s.fd=E,s.emit("open",E),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Ib.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var mb=y((swe,Cb)=>{"use strict";Cb.exports=Bz;var Uz=Object.getPrototypeOf||function(t){return t.__proto__};function Bz(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:Uz(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var aA=y((owe,oA)=>{var Rt=require("fs"),Fz=_b(),Gz=Ob(),Hz=mb(),Df=require("util"),Er,Mf;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Er=Symbol.for("graceful-fs.queue"),Mf=Symbol.for("graceful-fs.previous")):(Er="___graceful-fs.queue",Mf="___graceful-fs.previous");function Wz(){}function Lb(t,e){Object.defineProperty(t,Er,{get:function(){return e}})}var eo=Wz;Df.debuglog?eo=Df.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(eo=function(){var t=Df.format.apply(Df,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});Rt[Er]||(gb=global[Er]||[],Lb(Rt,gb),Rt.close=(function(t){function e(r,n){return t.call(Rt,r,function(i){i||yb(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,Mf,{value:t}),e})(Rt.close),Rt.closeSync=(function(t){function e(r){t.apply(Rt,arguments),yb()}return Object.defineProperty(e,Mf,{value:t}),e})(Rt.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){eo(Rt[Er]),require("assert").equal(Rt[Er].length,0)}));var gb;global[Er]||Lb(global,Rt[Er]);oA.exports=iA(Hz(Rt));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Rt.__patched&&(oA.exports=iA(Rt),Rt.__patched=!0);function iA(t){Fz(t),t.gracefulify=iA,t.createReadStream=g,t.createWriteStream=D;var e=t.readFile;t.readFile=r;function r(w,x,F){return typeof x=="function"&&(F=x,x=null),ee(w,x,F);function ee(Z,ne,se,_e){return e(Z,ne,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Ca([ee,[Z,ne,se],fe,_e||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(w,x,F,ee){return typeof F=="function"&&(ee=F,F=null),Z(w,x,F,ee);function Z(ne,se,_e,fe,Qe){return n(ne,se,_e,function(Oe){Oe&&(Oe.code==="EMFILE"||Oe.code==="ENFILE")?Ca([Z,[ne,se,_e,fe],Oe,Qe||Date.now(),Date.now()]):typeof fe=="function"&&fe.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(w,x,F,ee){return typeof F=="function"&&(ee=F,F=null),Z(w,x,F,ee);function Z(ne,se,_e,fe,Qe){return s(ne,se,_e,function(Oe){Oe&&(Oe.code==="EMFILE"||Oe.code==="ENFILE")?Ca([Z,[ne,se,_e,fe],Oe,Qe||Date.now(),Date.now()]):typeof fe=="function"&&fe.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(w,x,F,ee){return typeof F=="function"&&(ee=F,F=0),Z(w,x,F,ee);function Z(ne,se,_e,fe,Qe){return a(ne,se,_e,function(Oe){Oe&&(Oe.code==="EMFILE"||Oe.code==="ENFILE")?Ca([Z,[ne,se,_e,fe],Oe,Qe||Date.now(),Date.now()]):typeof fe=="function"&&fe.apply(this,arguments)})}}var c=t.readdir;t.readdir=E;var u=/^v[0-5]\./;function E(w,x,F){typeof x=="function"&&(F=x,x=null);var ee=u.test(process.version)?function(se,_e,fe,Qe){return c(se,Z(se,_e,fe,Qe))}:function(se,_e,fe,Qe){return c(se,_e,Z(se,_e,fe,Qe))};return ee(w,x,F);function Z(ne,se,_e,fe){return function(Qe,Oe){Qe&&(Qe.code==="EMFILE"||Qe.code==="ENFILE")?Ca([ee,[ne,se,_e],Qe,fe||Date.now(),Date.now()]):(Oe&&Oe.sort&&Oe.sort(),typeof _e=="function"&&_e.call(this,Qe,Oe))}}}if(process.version.substr(0,4)==="v0.8"){var d=Gz(t);S=d.ReadStream,A=d.WriteStream}var f=t.ReadStream;f&&(S.prototype=Object.create(f.prototype),S.prototype.open=C);var T=t.WriteStream;T&&(A.prototype=Object.create(T.prototype),A.prototype.open=p),Object.defineProperty(t,"ReadStream",{get:function(){return S},set:function(w){S=w},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return A},set:function(w){A=w},enumerable:!0,configurable:!0});var h=S;Object.defineProperty(t,"FileReadStream",{get:function(){return h},set:function(w){h=w},enumerable:!0,configurable:!0});var R=A;Object.defineProperty(t,"FileWriteStream",{get:function(){return R},set:function(w){R=w},enumerable:!0,configurable:!0});function S(w,x){return this instanceof S?(f.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function C(){var w=this;M(w.path,w.flags,w.mode,function(x,F){x?(w.autoClose&&w.destroy(),w.emit("error",x)):(w.fd=F,w.emit("open",F),w.read())})}function A(w,x){return this instanceof A?(T.apply(this,arguments),this):A.apply(Object.create(A.prototype),arguments)}function p(){var w=this;M(w.path,w.flags,w.mode,function(x,F){x?(w.destroy(),w.emit("error",x)):(w.fd=F,w.emit("open",F))})}function g(w,x){return new t.ReadStream(w,x)}function D(w,x){return new t.WriteStream(w,x)}var O=t.open;t.open=M;function M(w,x,F,ee){return typeof F=="function"&&(ee=F,F=null),Z(w,x,F,ee);function Z(ne,se,_e,fe,Qe){return O(ne,se,_e,function(Oe,jt){Oe&&(Oe.code==="EMFILE"||Oe.code==="ENFILE")?Ca([Z,[ne,se,_e,fe],Oe,Qe||Date.now(),Date.now()]):typeof fe=="function"&&fe.apply(this,arguments)})}}return t}function Ca(t){eo("ENQUEUE",t[0].name,t[1]),Rt[Er].push(t),sA()}var Pf;function yb(){for(var t=Date.now(),e=0;e<Rt[Er].length;++e)Rt[Er][e].length>2&&(Rt[Er][e][3]=t,Rt[Er][e][4]=t);sA()}function sA(){if(clearTimeout(Pf),Pf=void 0,Rt[Er].length!==0){var t=Rt[Er].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)eo("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){eo("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(eo("RETRY",e.name,r),e.apply(null,r.concat([i]))):Rt[Er].push(t)}Pf===void 0&&(Pf=setTimeout(sA,0))}}});var xf=y((awe,bb)=>{"use strict";var Fn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Fn.writable=t=>Fn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Fn.readable=t=>Fn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Fn.duplex=t=>Fn.writable(t)&&Fn.readable(t);Fn.transform=t=>Fn.duplex(t)&&typeof t._transform=="function";bb.exports=Fn});var Lc=y((lwe,lA)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?lA.exports={nextTick:Yz}:lA.exports=process;function Yz(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var Db=y((cwe,wb)=>{var $z={}.toString;wb.exports=Array.isArray||function(t){return $z.call(t)=="[object Array]"}});var cA=y((uwe,Pb)=>{Pb.exports=require("stream")});var bc=y((uA,xb)=>{var vf=require("buffer"),pi=vf.Buffer;function Mb(t,e){for(var r in t)e[r]=t[r]}pi.from&&pi.alloc&&pi.allocUnsafe&&pi.allocUnsafeSlow?xb.exports=vf:(Mb(vf,uA),uA.Buffer=ma);function ma(t,e,r){return pi(t,e,r)}Mb(pi,ma);ma.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return pi(t,e,r)};ma.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=pi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};ma.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return pi(t)};ma.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return vf.SlowBuffer(t)}});var ga=y(Nr=>{function Vz(t){return Array.isArray?Array.isArray(t):Uf(t)==="[object Array]"}Nr.isArray=Vz;function kz(t){return typeof t=="boolean"}Nr.isBoolean=kz;function qz(t){return t===null}Nr.isNull=qz;function Xz(t){return t==null}Nr.isNullOrUndefined=Xz;function Kz(t){return typeof t=="number"}Nr.isNumber=Kz;function jz(t){return typeof t=="string"}Nr.isString=jz;function zz(t){return typeof t=="symbol"}Nr.isSymbol=zz;function Jz(t){return t===void 0}Nr.isUndefined=Jz;function Qz(t){return Uf(t)==="[object RegExp]"}Nr.isRegExp=Qz;function Zz(t){return typeof t=="object"&&t!==null}Nr.isObject=Zz;function e8(t){return Uf(t)==="[object Date]"}Nr.isDate=e8;function t8(t){return Uf(t)==="[object Error]"||t instanceof Error}Nr.isError=t8;function r8(t){return typeof t=="function"}Nr.isFunction=r8;function n8(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Nr.isPrimitive=n8;Nr.isBuffer=require("buffer").Buffer.isBuffer;function Uf(t){return Object.prototype.toString.call(t)}});var vb=y((fwe,EA)=>{typeof Object.create=="function"?EA.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:EA.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var ya=y((dwe,dA)=>{try{if(fA=require("util"),typeof fA.inherits!="function")throw"";dA.exports=fA.inherits}catch{dA.exports=vb()}var fA});var Bb=y((hwe,hA)=>{"use strict";function i8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ub=bc().Buffer,wc=require("util");function s8(t,e,r){t.copy(e,r)}hA.exports=(function(){function t(){i8(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return Ub.alloc(0);for(var n=Ub.allocUnsafe(r>>>0),i=this.head,s=0;i;)s8(i.data,n,s),s+=i.data.length,i=i.next;return n},t})();wc&&wc.inspect&&wc.inspect.custom&&(hA.exports.prototype[wc.inspect.custom]=function(){var t=wc.inspect({length:this.length});return this.constructor.name+" "+t})});var TA=y((Twe,Fb)=>{"use strict";var Bf=Lc();function o8(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Bf.nextTick(Ff,this,t)):Bf.nextTick(Ff,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Bf.nextTick(Ff,r,s)):Bf.nextTick(Ff,r,s):e&&e(s)}),this)}function a8(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ff(t,e){t.emit("error",e)}Fb.exports={destroy:o8,undestroy:a8}});var Hb=y((Swe,Gb)=>{Gb.exports=require("util").deprecate});var RA=y((Rwe,Kb)=>{"use strict";var to=Lc();Kb.exports=Ut;function Yb(t){var e=this;this.next=null,this.entry=null,this.finish=function(){m8(e,t)}}var l8=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:to.nextTick,La;Ut.WritableState=Pc;var $b=Object.create(ga());$b.inherits=ya();var c8={deprecate:Hb()},Vb=cA(),Hf=bc().Buffer,u8=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function E8(t){return Hf.from(t)}function f8(t){return Hf.isBuffer(t)||t instanceof u8}var kb=TA();$b.inherits(Ut,Vb);function d8(){}function Pc(t,e){La=La||ro(),t=t||{};var r=e instanceof La;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){_8(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Yb(this)}Pc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Pc.prototype,"buffer",{get:c8.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Gf;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Gf=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ut,Symbol.hasInstance,{value:function(t){return Gf.call(this,t)?!0:this!==Ut?!1:t&&t._writableState instanceof Pc}})):Gf=function(t){return t instanceof this};function Ut(t){if(La=La||ro(),!Gf.call(Ut,this)&&!(this instanceof La))return new Ut(t);this._writableState=new Pc(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Vb.call(this)}Ut.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function h8(t,e){var r=new Error("write after end");t.emit("error",r),to.nextTick(e,r)}function T8(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),to.nextTick(n,s),i=!1),i}Ut.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&f8(t);return s&&!Hf.isBuffer(t)&&(t=E8(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=d8),n.ended?h8(this,r):(s||T8(this,n,t,r))&&(n.pendingcb++,i=R8(this,n,s,t,e,r)),i};Ut.prototype.cork=function(){var t=this._writableState;t.corked++};Ut.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&qb(this,t))};Ut.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function S8(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Hf.from(e,r)),e}Object.defineProperty(Ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R8(t,e,r,n,i,s){if(!r){var o=S8(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else SA(t,e,!1,a,n,i,s);return l}function SA(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function A8(t,e,r,n,i){--e.pendingcb,r?(to.nextTick(i,n),to.nextTick(Dc,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Dc(t,e))}function p8(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function _8(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(p8(r),e)A8(t,r,n,e,i);else{var s=Xb(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&qb(t,r),n?l8(Wb,t,r,s,i):Wb(t,r,s,i)}}function Wb(t,e,r,n){r||I8(t,e),e.pendingcb--,n(),Dc(t,e)}function I8(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function qb(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,SA(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Yb(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,E=e.objectMode?1:l.length;if(SA(t,e,!1,E,l,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ut.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Ut.prototype._writev=null;Ut.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||C8(this,n,r)};function Xb(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function N8(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Dc(t,e)})}function O8(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,to.nextTick(N8,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Dc(t,e){var r=Xb(e);return r&&(O8(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function C8(t,e,r){e.ending=!0,Dc(t,e),r&&(e.finished?to.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function m8(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ut.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Ut.prototype.destroy=kb.destroy;Ut.prototype._undestroy=kb.undestroy;Ut.prototype._destroy=function(t,e){this.end(),e(t)}});var ro=y((Awe,Qb)=>{"use strict";var jb=Lc(),g8=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Qb.exports=_i;var zb=Object.create(ga());zb.inherits=ya();var Jb=_A(),pA=RA();zb.inherits(_i,Jb);for(AA=g8(pA.prototype),Wf=0;Wf<AA.length;Wf++)Yf=AA[Wf],_i.prototype[Yf]||(_i.prototype[Yf]=pA.prototype[Yf]);var AA,Yf,Wf;function _i(t){if(!(this instanceof _i))return new _i(t);Jb.call(this,t),pA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y8)}Object.defineProperty(_i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function y8(){this.allowHalfOpen||this._writableState.ended||jb.nextTick(L8,this)}function L8(t){t.end()}Object.defineProperty(_i.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});_i.prototype._destroy=function(t,e){this.push(null),this.end(),jb.nextTick(e,t)}});var OA=y(ew=>{"use strict";var NA=bc().Buffer,Zb=NA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function b8(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function w8(t){var e=b8(t);if(typeof e!="string"&&(NA.isEncoding===Zb||!Zb(t)))throw new Error("Unknown encoding: "+t);return e||t}ew.StringDecoder=Mc;function Mc(t){this.encoding=w8(t);var e;switch(this.encoding){case"utf16le":this.text=U8,this.end=B8,e=4;break;case"utf8":this.fillLast=M8,e=4;break;case"base64":this.text=F8,this.end=G8,e=3;break;default:this.write=H8,this.end=W8;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=NA.allocUnsafe(e)}Mc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Mc.prototype.end=v8;Mc.prototype.text=x8;Mc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function IA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function D8(t,e,r){var n=e.length-1;if(n<r)return 0;var i=IA(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=IA(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=IA(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function P8(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function M8(t){var e=this.lastTotal-this.lastNeed,r=P8(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function x8(t,e){var r=D8(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function v8(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function U8(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function B8(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function F8(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function G8(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function H8(t){return t.toString(this.encoding)}function W8(t){return t&&t.length?this.write(t):""}});var _A=y((Iwe,fw)=>{"use strict";var wa=Lc();fw.exports=st;var Y8=Db(),xc;st.ReadableState=aw;var _we=require("events").EventEmitter,iw=function(t,e){return t.listeners(e).length},LA=cA(),vc=bc().Buffer,$8=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function V8(t){return vc.from(t)}function k8(t){return vc.isBuffer(t)||t instanceof $8}var sw=Object.create(ga());sw.inherits=ya();var CA=require("util"),Ze=void 0;CA&&CA.debuglog?Ze=CA.debuglog("stream"):Ze=function(){};var q8=Bb(),ow=TA(),ba;sw.inherits(st,LA);var mA=["error","close","destroy","pause","resume"];function X8(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Y8(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function aw(t,e){xc=xc||ro(),t=t||{};var r=e instanceof xc;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new q8,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(ba||(ba=OA().StringDecoder),this.decoder=new ba(t.encoding),this.encoding=t.encoding)}function st(t){if(xc=xc||ro(),!(this instanceof st))return new st(t);this._readableState=new aw(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),LA.call(this)}Object.defineProperty(st.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});st.prototype.destroy=ow.destroy;st.prototype._undestroy=ow.undestroy;st.prototype._destroy=function(t,e){this.push(null),e(t)};st.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=vc.from(t,e),e=""),n=!0),lw(this,t,e,!1,n)};st.prototype.unshift=function(t){return lw(this,t,null,!0,!1)};function lw(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,J8(t,s);else{var o;i||(o=K8(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==vc.prototype&&(e=V8(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):gA(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?gA(t,s,e,!1):cw(t,s)):gA(t,s,e,!1))):n||(s.reading=!1)}return j8(s)}function gA(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&$f(t)),cw(t,e)}function K8(t,e){var r;return!k8(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function j8(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}st.prototype.isPaused=function(){return this._readableState.flowing===!1};st.prototype.setEncoding=function(t){return ba||(ba=OA().StringDecoder),this._readableState.decoder=new ba(t),this._readableState.encoding=t,this};var tw=8388608;function z8(t){return t>=tw?t=tw:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function rw(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=z8(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}st.prototype.read=function(t){Ze("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ze("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?yA(this):$f(this),null;if(t=rw(t,e),t===0&&e.ended)return e.length===0&&yA(this),null;var n=e.needReadable;Ze("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ze("length less than watermark",n)),e.ended||e.reading?(n=!1,Ze("reading or ended",n)):n&&(Ze("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=rw(r,e)));var i;return t>0?i=uw(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&yA(this)),i!==null&&this.emit("data",i),i};function J8(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,$f(t)}}function $f(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ze("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?wa.nextTick(nw,t):nw(t))}function nw(t){Ze("emit readable"),t.emit("readable"),bA(t)}function cw(t,e){e.readingMore||(e.readingMore=!0,wa.nextTick(Q8,t,e))}function Q8(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ze("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}st.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};st.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ze("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:R;n.endEmitted?wa.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,C){Ze("onunpipe"),S===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,u())}function a(){Ze("onend"),t.end()}var l=Z8(r);t.on("drain",l);var c=!1;function u(){Ze("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",R),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var E=!1;r.on("data",d);function d(S){Ze("ondata"),E=!1;var C=t.write(S);C===!1&&!E&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Ew(n.pipes,t)!==-1)&&!c&&(Ze("false write response, pause",n.awaitDrain),n.awaitDrain++,E=!0),r.pause())}function f(S){Ze("onerror",S),R(),t.removeListener("error",f),iw(t,"error")===0&&t.emit("error",S)}X8(t,"error",f);function T(){t.removeListener("finish",h),R()}t.once("close",T);function h(){Ze("onfinish"),t.removeListener("close",T),R()}t.once("finish",h);function R(){Ze("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ze("pipe resume"),r.resume()),t};function Z8(t){return function(){var e=t._readableState;Ze("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&iw(t,"data")&&(e.flowing=!0,bA(t))}}st.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Ew(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};st.prototype.on=function(t,e){var r=LA.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&$f(this):wa.nextTick(eJ,this))}return r};st.prototype.addListener=st.prototype.on;function eJ(t){Ze("readable nexttick read 0"),t.read(0)}st.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ze("resume"),t.flowing=!0,tJ(this,t)),this};function tJ(t,e){e.resumeScheduled||(e.resumeScheduled=!0,wa.nextTick(rJ,t,e))}function rJ(t,e){e.reading||(Ze("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),bA(t),e.flowing&&!e.reading&&t.read(0)}st.prototype.pause=function(){return Ze("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ze("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function bA(t){var e=t._readableState;for(Ze("flow",e.flowing);e.flowing&&t.read()!==null;);}st.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ze("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ze("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(o){return function(){return t[o].apply(t,arguments)}})(i));for(var s=0;s<mA.length;s++)t.on(mA[s],this.emit.bind(this,mA[s]));return this._read=function(o){Ze("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(st.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});st._fromList=uw;function uw(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=nJ(t,e.buffer,e.decoder),r}function nJ(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?iJ(t,e):sJ(t,e),n}function iJ(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function sJ(t,e){var r=vc.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function yA(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,wa.nextTick(oJ,e,t))}function oJ(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Ew(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var wA=y((Nwe,Tw)=>{"use strict";Tw.exports=Ii;var Vf=ro(),hw=Object.create(ga());hw.inherits=ya();hw.inherits(Ii,Vf);function aJ(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ii(t){if(!(this instanceof Ii))return new Ii(t);Vf.call(this,t),this._transformState={afterTransform:aJ.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",lJ)}function lJ(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){dw(t,e,r)}):dw(this,null,null)}Ii.prototype.push=function(t,e){return this._transformState.needTransform=!1,Vf.prototype.push.call(this,t,e)};Ii.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Ii.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ii.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ii.prototype._destroy=function(t,e){var r=this;Vf.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function dw(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var pw=y((Owe,Aw)=>{"use strict";Aw.exports=Uc;var Sw=wA(),Rw=Object.create(ga());Rw.inherits=ya();Rw.inherits(Uc,Sw);function Uc(t){if(!(this instanceof Uc))return new Uc(t);Sw.call(this,t)}Uc.prototype._transform=function(t,e,r){r(null,t)}});var _w=y((fr,kf)=>{var Gn=require("stream");process.env.READABLE_STREAM==="disable"&&Gn?(kf.exports=Gn,fr=kf.exports=Gn.Readable,fr.Readable=Gn.Readable,fr.Writable=Gn.Writable,fr.Duplex=Gn.Duplex,fr.Transform=Gn.Transform,fr.PassThrough=Gn.PassThrough,fr.Stream=Gn):(fr=kf.exports=_A(),fr.Stream=Gn||fr,fr.Readable=fr,fr.Writable=RA(),fr.Duplex=ro(),fr.Transform=wA(),fr.PassThrough=pw())});var Nw=y((Cwe,Iw)=>{Iw.exports=_w().PassThrough});var gw=y((mwe,mw)=>{var Ow=require("util"),Kf=Nw();mw.exports={Readable:qf,Writable:Xf};Ow.inherits(qf,Kf);Ow.inherits(Xf,Kf);function Cw(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function qf(t,e){if(!(this instanceof qf))return new qf(t,e);Kf.call(this,e),Cw(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function Xf(t,e){if(!(this instanceof Xf))return new Xf(t,e);Kf.call(this,e),Cw(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var DA=y((gwe,yw)=>{yw.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")}});var PA=y((ywe,Lw)=>{function cJ(t){return t}Lw.exports=cJ});var ww=y((Lwe,bw)=>{function uJ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}bw.exports=uJ});var Mw=y((bwe,Pw)=>{var EJ=ww(),Dw=Math.max;function fJ(t,e,r){return e=Dw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=Dw(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),EJ(t,this,a)}}Pw.exports=fJ});var vw=y((wwe,xw)=>{function dJ(t){return function(){return t}}xw.exports=dJ});var MA=y((Dwe,Uw)=>{var hJ=typeof global=="object"&&global&&global.Object===Object&&global;Uw.exports=hJ});var Da=y((Pwe,Bw)=>{var TJ=MA(),SJ=typeof self=="object"&&self&&self.Object===Object&&self,RJ=TJ||SJ||Function("return this")();Bw.exports=RJ});var jf=y((Mwe,Fw)=>{var AJ=Da(),pJ=AJ.Symbol;Fw.exports=pJ});var Yw=y((xwe,Ww)=>{var Gw=jf(),Hw=Object.prototype,_J=Hw.hasOwnProperty,IJ=Hw.toString,Bc=Gw?Gw.toStringTag:void 0;function NJ(t){var e=_J.call(t,Bc),r=t[Bc];try{t[Bc]=void 0;var n=!0}catch{}var i=IJ.call(t);return n&&(e?t[Bc]=r:delete t[Bc]),i}Ww.exports=NJ});var Vw=y((vwe,$w)=>{var OJ=Object.prototype,CJ=OJ.toString;function mJ(t){return CJ.call(t)}$w.exports=mJ});var Fc=y((Uwe,Xw)=>{var kw=jf(),gJ=Yw(),yJ=Vw(),LJ="[object Null]",bJ="[object Undefined]",qw=kw?kw.toStringTag:void 0;function wJ(t){return t==null?t===void 0?bJ:LJ:qw&&qw in Object(t)?gJ(t):yJ(t)}Xw.exports=wJ});var Gc=y((Bwe,Kw)=>{function DJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}Kw.exports=DJ});var xA=y((Fwe,jw)=>{var PJ=Fc(),MJ=Gc(),xJ="[object AsyncFunction]",vJ="[object Function]",UJ="[object GeneratorFunction]",BJ="[object Proxy]";function FJ(t){if(!MJ(t))return!1;var e=PJ(t);return e==vJ||e==UJ||e==xJ||e==BJ}jw.exports=FJ});var Jw=y((Gwe,zw)=>{var GJ=Da(),HJ=GJ["__core-js_shared__"];zw.exports=HJ});var eD=y((Hwe,Zw)=>{var vA=Jw(),Qw=(function(){var t=/[^.]+$/.exec(vA&&vA.keys&&vA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function WJ(t){return!!Qw&&Qw in t}Zw.exports=WJ});var rD=y((Wwe,tD)=>{var YJ=Function.prototype,$J=YJ.toString;function VJ(t){if(t!=null){try{return $J.call(t)}catch{}try{return t+""}catch{}}return""}tD.exports=VJ});var iD=y((Ywe,nD)=>{var kJ=xA(),qJ=eD(),XJ=Gc(),KJ=rD(),jJ=/[\\^$.*+?()[\]{}|]/g,zJ=/^\[object .+?Constructor\]$/,JJ=Function.prototype,QJ=Object.prototype,ZJ=JJ.toString,e5=QJ.hasOwnProperty,t5=RegExp("^"+ZJ.call(e5).replace(jJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function r5(t){if(!XJ(t)||qJ(t))return!1;var e=kJ(t)?t5:zJ;return e.test(KJ(t))}nD.exports=r5});var oD=y(($we,sD)=>{function n5(t,e){return t?.[e]}sD.exports=n5});var Hc=y((Vwe,aD)=>{var i5=iD(),s5=oD();function o5(t,e){var r=s5(t,e);return i5(r)?r:void 0}aD.exports=o5});var cD=y((kwe,lD)=>{var a5=Hc(),l5=(function(){try{var t=a5(Object,"defineProperty");return t({},"",{}),t}catch{}})();lD.exports=l5});var fD=y((qwe,ED)=>{var c5=vw(),uD=cD(),u5=PA(),E5=uD?function(t,e){return uD(t,"toString",{configurable:!0,enumerable:!1,value:c5(e),writable:!0})}:u5;ED.exports=E5});var hD=y((Xwe,dD)=>{var f5=800,d5=16,h5=Date.now;function T5(t){var e=0,r=0;return function(){var n=h5(),i=d5-(n-r);if(r=n,i>0){if(++e>=f5)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}dD.exports=T5});var SD=y((Kwe,TD)=>{var S5=fD(),R5=hD(),A5=R5(S5);TD.exports=A5});var zf=y((jwe,RD)=>{var p5=PA(),_5=Mw(),I5=SD();function N5(t,e){return I5(_5(t,e,p5),t+"")}RD.exports=N5});var Jf=y((zwe,AD)=>{function O5(t,e){return t===e||t!==t&&e!==e}AD.exports=O5});var UA=y((Jwe,pD)=>{var C5=9007199254740991;function m5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=C5}pD.exports=m5});var Qf=y((Qwe,_D)=>{var g5=xA(),y5=UA();function L5(t){return t!=null&&y5(t.length)&&!g5(t)}_D.exports=L5});var BA=y((Zwe,ID)=>{var b5=9007199254740991,w5=/^(?:0|[1-9]\d*)$/;function D5(t,e){var r=typeof t;return e=e??b5,!!e&&(r=="number"||r!="symbol"&&w5.test(t))&&t>-1&&t%1==0&&t<e}ID.exports=D5});var OD=y((eDe,ND)=>{var P5=Jf(),M5=Qf(),x5=BA(),v5=Gc();function U5(t,e,r){if(!v5(r))return!1;var n=typeof e;return(n=="number"?M5(r)&&x5(e,r.length):n=="string"&&e in r)?P5(r[e],t):!1}ND.exports=U5});var mD=y((tDe,CD)=>{function B5(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}CD.exports=B5});var Pa=y((rDe,gD)=>{function F5(t){return t!=null&&typeof t=="object"}gD.exports=F5});var LD=y((nDe,yD)=>{var G5=Fc(),H5=Pa(),W5="[object Arguments]";function Y5(t){return H5(t)&&G5(t)==W5}yD.exports=Y5});var FA=y((iDe,DD)=>{var bD=LD(),$5=Pa(),wD=Object.prototype,V5=wD.hasOwnProperty,k5=wD.propertyIsEnumerable,q5=bD((function(){return arguments})())?bD:function(t){return $5(t)&&V5.call(t,"callee")&&!k5.call(t,"callee")};DD.exports=q5});var GA=y((sDe,PD)=>{var X5=Array.isArray;PD.exports=X5});var xD=y((oDe,MD)=>{function K5(){return!1}MD.exports=K5});var FD=y((Wc,Ma)=>{var j5=Da(),z5=xD(),BD=typeof Wc=="object"&&Wc&&!Wc.nodeType&&Wc,vD=BD&&typeof Ma=="object"&&Ma&&!Ma.nodeType&&Ma,J5=vD&&vD.exports===BD,UD=J5?j5.Buffer:void 0,Q5=UD?UD.isBuffer:void 0,Z5=Q5||z5;Ma.exports=Z5});var HD=y((aDe,GD)=>{var eQ=Fc(),tQ=UA(),rQ=Pa(),nQ="[object Arguments]",iQ="[object Array]",sQ="[object Boolean]",oQ="[object Date]",aQ="[object Error]",lQ="[object Function]",cQ="[object Map]",uQ="[object Number]",EQ="[object Object]",fQ="[object RegExp]",dQ="[object Set]",hQ="[object String]",TQ="[object WeakMap]",SQ="[object ArrayBuffer]",RQ="[object DataView]",AQ="[object Float32Array]",pQ="[object Float64Array]",_Q="[object Int8Array]",IQ="[object Int16Array]",NQ="[object Int32Array]",OQ="[object Uint8Array]",CQ="[object Uint8ClampedArray]",mQ="[object Uint16Array]",gQ="[object Uint32Array]",ot={};ot[AQ]=ot[pQ]=ot[_Q]=ot[IQ]=ot[NQ]=ot[OQ]=ot[CQ]=ot[mQ]=ot[gQ]=!0;ot[nQ]=ot[iQ]=ot[SQ]=ot[sQ]=ot[RQ]=ot[oQ]=ot[aQ]=ot[lQ]=ot[cQ]=ot[uQ]=ot[EQ]=ot[fQ]=ot[dQ]=ot[hQ]=ot[TQ]=!1;function yQ(t){return rQ(t)&&tQ(t.length)&&!!ot[eQ(t)]}GD.exports=yQ});var HA=y((lDe,WD)=>{function LQ(t){return function(e){return t(e)}}WD.exports=LQ});var $D=y((Yc,xa)=>{var bQ=MA(),YD=typeof Yc=="object"&&Yc&&!Yc.nodeType&&Yc,$c=YD&&typeof xa=="object"&&xa&&!xa.nodeType&&xa,wQ=$c&&$c.exports===YD,WA=wQ&&bQ.process,DQ=(function(){try{var t=$c&&$c.require&&$c.require("util").types;return t||WA&&WA.binding&&WA.binding("util")}catch{}})();xa.exports=DQ});var XD=y((cDe,qD)=>{var PQ=HD(),MQ=HA(),VD=$D(),kD=VD&&VD.isTypedArray,xQ=kD?MQ(kD):PQ;qD.exports=xQ});var jD=y((uDe,KD)=>{var vQ=mD(),UQ=FA(),BQ=GA(),FQ=FD(),GQ=BA(),HQ=XD(),WQ=Object.prototype,YQ=WQ.hasOwnProperty;function $Q(t,e){var r=BQ(t),n=!r&&UQ(t),i=!r&&!n&&FQ(t),s=!r&&!n&&!i&&HQ(t),o=r||n||i||s,a=o?vQ(t.length,String):[],l=a.length;for(var c in t)(e||YQ.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||GQ(c,l)))&&a.push(c);return a}KD.exports=$Q});var JD=y((EDe,zD)=>{var VQ=Object.prototype;function kQ(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||VQ;return t===r}zD.exports=kQ});var ZD=y((fDe,QD)=>{function qQ(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}QD.exports=qQ});var tP=y((dDe,eP)=>{var XQ=Gc(),KQ=JD(),jQ=ZD(),zQ=Object.prototype,JQ=zQ.hasOwnProperty;function QQ(t){if(!XQ(t))return jQ(t);var e=KQ(t),r=[];for(var n in t)n=="constructor"&&(e||!JQ.call(t,n))||r.push(n);return r}eP.exports=QQ});var nP=y((hDe,rP)=>{var ZQ=jD(),e7=tP(),t7=Qf();function r7(t){return t7(t)?ZQ(t,!0):e7(t)}rP.exports=r7});var oP=y((TDe,sP)=>{var n7=zf(),i7=Jf(),s7=OD(),o7=nP(),iP=Object.prototype,a7=iP.hasOwnProperty,l7=n7(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&s7(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=o7(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||i7(u,iP[c])&&!a7.call(t,c))&&(t[c]=s[c])}return t});sP.exports=l7});var dt=y((SDe,aP)=>{"use strict";var YA=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};aP.exports={AggregateError:YA,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var $A=y((RDe,lP)=>{"use strict";lP.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Or=y((ADe,EP)=>{"use strict";var{format:c7,inspect:Zf}=$A(),{AggregateError:u7}=dt(),E7=globalThis.AggregateError||u7,f7=Symbol("kIsNodeError"),d7=["string","function","number","object","Function","Object","boolean","bigint","symbol"],h7=/^([A-Z][a-z0-9]*)+$/,T7="__node_internal_",ed={};function no(t,e){if(!t)throw new ed.ERR_INTERNAL_ASSERTION(e)}function cP(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function S7(t,e,r){if(typeof e=="function")return no(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return no(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:c7(e,...r)}function dr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(S7(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[f7]=!0,ed[t]=n}function uP(t){let e=T7+t.name;return Object.defineProperty(t,"name",{value:e}),t}function R7(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new E7([e,t],e.message);return r.code=e.code,r}return t||e}var VA=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new ed.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};dr("ERR_ASSERTION","%s",Error);dr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{no(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)no(typeof l=="string","All expected entries have to be of type string"),d7.includes(l)?i.push(l.toLowerCase()):h7.test(l)?s.push(l):(no(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Zf(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Zf(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);dr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Zf(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);dr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);dr("ERR_MISSING_ARGS",(...t)=>{no(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);dr("ERR_OUT_OF_RANGE",(t,e,r)=>{no(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=cP(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=cP(n)),n+="n"}else n=Zf(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);dr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);dr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);dr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);dr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);dr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);dr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);dr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);dr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);dr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);dr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);dr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);EP.exports={AbortError:VA,aggregateTwoErrors:uP(R7),hideStackFrames:uP,codes:ed}});var IP=y((qc,kc)=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});var RP=new WeakMap,kA=new WeakMap;function at(t){let e=RP.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function fP(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function va(t,e){RP.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,AP(i))}}va.prototype={get type(){return at(this).event.type},get target(){return at(this).eventTarget},get currentTarget(){return at(this).currentTarget},composedPath(){let t=at(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return at(this).eventPhase},stopPropagation(){let t=at(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=at(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!at(this).event.bubbles},get cancelable(){return!!at(this).event.cancelable},preventDefault(){fP(at(this))},get defaultPrevented(){return at(this).canceled},get composed(){return!!at(this).event.composed},get timeStamp(){return at(this).timeStamp},get srcElement(){return at(this).eventTarget},get cancelBubble(){return at(this).stopped},set cancelBubble(t){if(!t)return;let e=at(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!at(this).canceled},set returnValue(t){t||fP(at(this))},initEvent(){}};Object.defineProperty(va.prototype,"constructor",{value:va,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(va.prototype,window.Event.prototype),kA.set(window.Event.prototype,va));function AP(t){return{get(){return at(this).event[t]},set(e){at(this).event[t]=e},configurable:!0,enumerable:!0}}function A7(t){return{value(){let e=at(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function p7(t,e){let r=Object.keys(e);if(r.length===0)return t;function n(i,s){t.call(this,i,s)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in t.prototype)){let a=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(n.prototype,s,a?A7(s):AP(s))}}return n}function pP(t){if(t==null||t===Object.prototype)return va;let e=kA.get(t);return e==null&&(e=p7(pP(Object.getPrototypeOf(t)),t),kA.set(t,e)),e}function _7(t,e){let r=pP(Object.getPrototypeOf(e));return new r(t,e)}function I7(t){return at(t).immediateStopped}function N7(t,e){at(t).eventPhase=e}function O7(t,e){at(t).currentTarget=e}function dP(t,e){at(t).passiveListener=e}var _P=new WeakMap,hP=1,TP=2,td=3;function rd(t){return t!==null&&typeof t=="object"}function Vc(t){let e=_P.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function C7(t){return{get(){let r=Vc(this).get(t);for(;r!=null;){if(r.listenerType===td)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!rd(e)&&(e=null);let r=Vc(this),n=null,i=r.get(t);for(;i!=null;)i.listenerType===td?n!==null?n.next=i.next:i.next!==null?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(e!==null){let s={listener:e,listenerType:td,passive:!1,once:!1,next:null};n===null?r.set(t,s):n.next=s}},configurable:!0,enumerable:!0}}function qA(t,e){Object.defineProperty(t,`on${e}`,C7(e))}function SP(t){function e(){Cn.call(this)}e.prototype=Object.create(Cn.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)qA(e.prototype,t[r]);return e}function Cn(){if(this instanceof Cn){_P.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return SP(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return SP(t)}throw new TypeError("Cannot call a class as a function")}Cn.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!rd(e))throw new TypeError("'listener' should be a function or an object.");let n=Vc(this),i=rd(r),o=(i?!!r.capture:!!r)?hP:TP,a={listener:e,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},l=n.get(t);if(l===void 0){n.set(t,a);return}let c=null;for(;l!=null;){if(l.listener===e&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(t,e,r){if(e==null)return;let n=Vc(this),s=(rd(r)?!!r.capture:!!r)?hP:TP,o=null,a=n.get(t);for(;a!=null;){if(a.listener===e&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?n.set(t,a.next):n.delete(t);return}o=a,a=a.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=Vc(this),r=t.type,n=e.get(r);if(n==null)return!0;let i=_7(this,t),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?e.set(r,n.next):e.delete(r):s=n,dP(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else n.listenerType!==td&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(I7(i))break;n=n.next}return dP(i,null),N7(i,0),O7(i,null),!i.defaultPrevented}};Object.defineProperty(Cn.prototype,"constructor",{value:Cn,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(Cn.prototype,window.EventTarget.prototype);qc.defineEventAttribute=qA;qc.EventTarget=Cn;qc.default=Cn;kc.exports=Cn;kc.exports.EventTarget=kc.exports.default=Cn;kc.exports.defineEventAttribute=qA});var Dt=y((Kc,Xc)=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});var XA=IP(),as=class extends XA.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=nd.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};XA.defineEventAttribute(as.prototype,"abort");function m7(){let t=Object.create(as.prototype);return XA.EventTarget.call(t),nd.set(t,!1),t}function g7(t){nd.get(t)===!1&&(nd.set(t,!0),t.dispatchEvent({type:"abort"}))}var nd=new WeakMap;Object.defineProperties(as.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(as.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var ls=class{constructor(){OP.set(this,m7())}get signal(){return NP(this)}abort(){g7(NP(this))}},OP=new WeakMap;function NP(t){let e=OP.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(ls.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ls.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});Kc.AbortController=ls;Kc.AbortSignal=as;Kc.default=ls;Xc.exports=ls;Xc.exports.AbortController=Xc.exports.default=ls;Xc.exports.AbortSignal=as});var vr=y((pDe,jA)=>{"use strict";var y7=require("buffer"),{format:L7,inspect:b7}=$A(),{codes:{ERR_INVALID_ARG_TYPE:KA}}=Or(),{kResistStopPropagation:w7,AggregateError:D7,SymbolDispose:P7}=dt(),M7=globalThis.AbortSignal||Dt().AbortSignal,x7=globalThis.AbortController||Dt().AbortController,v7=Object.getPrototypeOf(async function(){}).constructor,CP=globalThis.Blob||y7.Blob,U7=typeof CP<"u"?function(e){return e instanceof CP}:function(e){return!1},mP=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new KA(e,"AbortSignal",t)},B7=(t,e)=>{if(typeof t!="function")throw new KA(e,"Function",t)};jA.exports={AggregateError:D7,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:L7,inspect:b7,types:{isAsyncFunction(t){return t instanceof v7},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:U7,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new KA("signal","AbortSignal",e);mP(e,"signal"),B7(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[w7]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[P7](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:M7.any||function(e){if(e.length===1)return e[0];let r=new x7,n=()=>r.abort();return e.forEach(i=>{mP(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};jA.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Ba=y((_De,vP)=>{"use strict";var{ArrayIsArray:JA,ArrayPrototypeIncludes:bP,ArrayPrototypeJoin:wP,ArrayPrototypeMap:F7,NumberIsInteger:QA,NumberIsNaN:G7,NumberMAX_SAFE_INTEGER:H7,NumberMIN_SAFE_INTEGER:W7,NumberParseInt:Y7,ObjectPrototypeHasOwnProperty:$7,RegExpPrototypeExec:DP,String:V7,StringPrototypeToUpperCase:k7,StringPrototypeTrim:q7}=dt(),{hideStackFrames:cn,codes:{ERR_SOCKET_BAD_PORT:X7,ERR_INVALID_ARG_TYPE:Cr,ERR_INVALID_ARG_VALUE:Ua,ERR_OUT_OF_RANGE:io,ERR_UNKNOWN_SIGNAL:gP}}=Or(),{normalizeEncoding:K7}=vr(),{isAsyncFunction:j7,isArrayBufferView:z7}=vr().types,yP={};function J7(t){return t===(t|0)}function Q7(t){return t===t>>>0}var Z7=/^[0-7]+$/,e9="must be a 32-bit unsigned integer or an octal string";function t9(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(DP(Z7,t)===null)throw new Ua(e,t,e9);t=Y7(t,8)}return PP(t,e),t}var r9=cn((t,e,r=W7,n=H7)=>{if(typeof t!="number")throw new Cr(e,"number",t);if(!QA(t))throw new io(e,"an integer",t);if(t<r||t>n)throw new io(e,`>= ${r} && <= ${n}`,t)}),n9=cn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Cr(e,"number",t);if(!QA(t))throw new io(e,"an integer",t);if(t<r||t>n)throw new io(e,`>= ${r} && <= ${n}`,t)}),PP=cn((t,e,r=!1)=>{if(typeof t!="number")throw new Cr(e,"number",t);if(!QA(t))throw new io(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new io(e,`>= ${n} && <= ${i}`,t)});function ZA(t,e){if(typeof t!="string")throw new Cr(e,"string",t)}function i9(t,e,r=void 0,n){if(typeof t!="number")throw new Cr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&G7(t))throw new io(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var s9=cn((t,e,r)=>{if(!bP(r,t)){let i="must be one of: "+wP(F7(r,s=>typeof s=="string"?`'${s}'`:V7(s)),", ");throw new Ua(e,t,i)}});function MP(t,e){if(typeof t!="boolean")throw new Cr(e,"boolean",t)}function zA(t,e,r){return t==null||!$7(t,e)?r:t[e]}var o9=cn((t,e,r=null)=>{let n=zA(r,"allowArray",!1),i=zA(r,"allowFunction",!1);if(!zA(r,"nullable",!1)&&t===null||!n&&JA(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Cr(e,"Object",t)}),a9=cn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Cr(e,"a dictionary",t)}),id=cn((t,e,r=0)=>{if(!JA(t))throw new Cr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Ua(e,t,n)}});function l9(t,e){id(t,e);for(let r=0;r<t.length;r++)ZA(t[r],`${e}[${r}]`)}function c9(t,e){id(t,e);for(let r=0;r<t.length;r++)MP(t[r],`${e}[${r}]`)}function u9(t,e){id(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Cr(i,"AbortSignal",n);xP(n,i)}}function E9(t,e="signal"){if(ZA(t,e),yP[t]===void 0)throw yP[k7(t)]!==void 0?new gP(t+" (signals must use all capital letters)"):new gP(t)}var f9=cn((t,e="buffer")=>{if(!z7(t))throw new Cr(e,["Buffer","TypedArray","DataView"],t)});function d9(t,e){let r=K7(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Ua("encoding",e,`is invalid for data of length ${n}`)}function h9(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&q7(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new X7(e,t,r);return t|0}var xP=cn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Cr(e,"AbortSignal",t)}),T9=cn((t,e)=>{if(typeof t!="function")throw new Cr(e,"Function",t)}),S9=cn((t,e)=>{if(typeof t!="function"||j7(t))throw new Cr(e,"Function",t)}),R9=cn((t,e)=>{if(t!==void 0)throw new Cr(e,"undefined",t)});function A9(t,e,r){if(!bP(r,t))throw new Cr(e,`('${wP(r,"|")}')`,t)}var p9=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function LP(t,e){if(typeof t>"u"||!DP(p9,t))throw new Ua(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function _9(t){if(typeof t=="string")return LP(t,"hints"),t;if(JA(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];LP(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Ua("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}vP.exports={isInt32:J7,isUint32:Q7,parseFileMode:t9,validateArray:id,validateStringArray:l9,validateBooleanArray:c9,validateAbortSignalArray:u9,validateBoolean:MP,validateBuffer:f9,validateDictionary:a9,validateEncoding:d9,validateFunction:T9,validateInt32:n9,validateInteger:r9,validateNumber:i9,validateObject:o9,validateOneOf:s9,validatePlainFunction:S9,validatePort:h9,validateSignalName:E9,validateString:ZA,validateUint32:PP,validateUndefined:R9,validateUnion:A9,validateAbortSignal:xP,validateLinkHeaderValue:_9}});var tt=y((IDe,UP)=>{UP.exports=global.process});var Wn=y((NDe,JP)=>{"use strict";var{SymbolAsyncIterator:BP,SymbolIterator:FP,SymbolFor:so}=dt(),GP=so("nodejs.stream.destroyed"),HP=so("nodejs.stream.errored"),ep=so("nodejs.stream.readable"),tp=so("nodejs.stream.writable"),WP=so("nodejs.stream.disturbed"),I9=so("nodejs.webstream.isClosedPromise"),N9=so("nodejs.webstream.controllerErrorFunction");function sd(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function od(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function O9(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Hn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function YP(t){return!!(t&&!Hn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function $P(t){return!!(t&&!Hn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function VP(t){return!!(t&&!Hn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function C9(t){return YP(t)||$P(t)||VP(t)}function m9(t,e){return t==null?!1:e===!0?typeof t[BP]=="function":e===!1?typeof t[FP]=="function":typeof t[BP]=="function"||typeof t[FP]=="function"}function ad(t){if(!Hn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[GP]||n!=null&&n.destroyed)}function kP(t){if(!od(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function g9(t,e){if(!od(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function y9(t){if(!sd(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function qP(t,e){if(!sd(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function XP(t){return t&&t[ep]!=null?t[ep]:typeof t?.readable!="boolean"?null:ad(t)?!1:sd(t)&&t.readable&&!qP(t)}function KP(t){return t&&t[tp]!=null?t[tp]:typeof t?.writable!="boolean"?null:ad(t)?!1:od(t)&&t.writable&&!kP(t)}function L9(t,e){return Hn(t)?ad(t)?!0:!(e?.readable!==!1&&XP(t)||e?.writable!==!1&&KP(t)):null}function b9(t){var e,r;return Hn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function w9(t){var e,r;return Hn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function D9(t){if(!Hn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&jP(t)?t._closed:null}function jP(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function zP(t){return typeof t._sent100=="boolean"&&jP(t)}function P9(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function M9(t){if(!Hn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&zP(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function x9(t){var e;return!!(t&&((e=t[WP])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function v9(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[HP])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}JP.exports={isDestroyed:ad,kIsDestroyed:GP,isDisturbed:x9,kIsDisturbed:WP,isErrored:v9,kIsErrored:HP,isReadable:XP,kIsReadable:ep,kIsClosedPromise:I9,kControllerErrorFunction:N9,kIsWritable:tp,isClosed:D9,isDuplexNodeStream:O9,isFinished:L9,isIterable:m9,isReadableNodeStream:sd,isReadableStream:YP,isReadableEnded:y9,isReadableFinished:qP,isReadableErrored:w9,isNodeStream:Hn,isWebStream:C9,isWritable:KP,isWritableNodeStream:od,isWritableStream:$P,isWritableEnded:kP,isWritableFinished:g9,isWritableErrored:b9,isServerRequest:P9,isServerResponse:zP,willEmitClose:M9,isTransformStream:VP}});var Ni=y((ODe,op)=>{"use strict";var cs=tt(),{AbortError:oM,codes:U9}=Or(),{ERR_INVALID_ARG_TYPE:B9,ERR_STREAM_PREMATURE_CLOSE:QP}=U9,{kEmptyObject:np,once:ip}=vr(),{validateAbortSignal:F9,validateFunction:G9,validateObject:H9,validateBoolean:W9}=Ba(),{Promise:Y9,PromisePrototypeThen:$9,SymbolDispose:aM}=dt(),{isClosed:V9,isReadable:ZP,isReadableNodeStream:rp,isReadableStream:k9,isReadableFinished:eM,isReadableErrored:tM,isWritable:rM,isWritableNodeStream:nM,isWritableStream:q9,isWritableFinished:iM,isWritableErrored:sM,isNodeStream:X9,willEmitClose:K9,kIsClosedPromise:j9}=Wn(),Fa;function z9(t){return t.setHeader&&typeof t.abort=="function"}var sp=()=>{};function lM(t,e,r){var n,i;if(arguments.length===2?(r=e,e=np):e==null?e=np:H9(e,"options"),G9(r,"callback"),F9(e.signal,"options.signal"),r=ip(r),k9(t)||q9(t))return J9(t,e,r);if(!X9(t))throw new B9("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:rp(t),o=(i=e.writable)!==null&&i!==void 0?i:nM(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=K9(t)&&rp(t)===s&&nM(t)===o,E=iM(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=eM(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=g=>{r.call(t,g)},R=V9(t),S=()=>{R=!0;let g=sM(t)||tM(t);if(g&&typeof g!="boolean")return r.call(t,g);if(s&&!f&&rp(t,!0)&&!eM(t,!1))return r.call(t,new QP);if(o&&!E&&!iM(t,!1))return r.call(t,new QP);r.call(t)},C=()=>{R=!0;let g=sM(t)||tM(t);if(g&&typeof g!="boolean")return r.call(t,g);r.call(t)},A=()=>{t.req.on("finish",d)};z9(t)?(t.on("complete",d),u||t.on("abort",S),t.req?A():t.on("request",A)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",S),R?cs.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||cs.nextTick(C):(!s&&(!u||ZP(t))&&(E||rM(t)===!1)||!o&&(!u||rM(t))&&(f||ZP(t)===!1)||l&&t.req&&t.aborted)&&cs.nextTick(C);let p=()=>{r=sp,t.removeListener("aborted",S),t.removeListener("complete",d),t.removeListener("abort",S),t.removeListener("request",A),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!R){let g=()=>{let D=r;p(),D.call(t,new oM(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)cs.nextTick(g);else{Fa=Fa||vr().addAbortListener;let D=Fa(e.signal,g),O=r;r=ip((...M)=>{D[aM](),O.apply(t,M)})}}return p}function J9(t,e,r){let n=!1,i=sp;if(e.signal)if(i=()=>{n=!0,r.call(t,new oM(void 0,{cause:e.signal.reason}))},e.signal.aborted)cs.nextTick(i);else{Fa=Fa||vr().addAbortListener;let o=Fa(e.signal,i),a=r;r=ip((...l)=>{o[aM](),a.apply(t,l)})}let s=(...o)=>{n||cs.nextTick(()=>r.apply(t,o))};return $9(t[j9].promise,s,s),sp}function Q9(t,e){var r;let n=!1;return e===null&&(e=np),(r=e)!==null&&r!==void 0&&r.cleanup&&(W9(e.cleanup,"cleanup"),n=e.cleanup),new Y9((i,s)=>{let o=lM(t,e,a=>{n&&o(),a?s(a):i()})})}op.exports=lM;op.exports.finished=Q9});var oo=y((CDe,SM)=>{"use strict";var Yn=tt(),{aggregateTwoErrors:Z9,codes:{ERR_MULTIPLE_CALLBACK:eZ},AbortError:tZ}=Or(),{Symbol:EM}=dt(),{kIsDestroyed:rZ,isDestroyed:nZ,isFinished:iZ,isServerRequest:sZ}=Wn(),fM=EM("kDestroy"),ap=EM("kConstruct");function dM(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function oZ(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(dM(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?cM(this,t,e):this.once(fM,function(s){cM(this,Z9(s,t),e)}),this)}function cM(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;dM(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Yn.nextTick(aZ,t,s):Yn.nextTick(hM,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function aZ(t,e){lp(t,e),hM(t)}function hM(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function lp(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function lZ(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function cp(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Yn.nextTick(lp,t,e):lp(t,e))}function cZ(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(ap,e),!(t.listenerCount(ap)>1)&&Yn.nextTick(uZ,t)}function uZ(t){let e=!1;function r(n){if(e){cp(t,n??new eZ);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(fM,n):n?cp(t,n,!0):Yn.nextTick(EZ,t)}try{t._construct(n=>{Yn.nextTick(r,n)})}catch(n){Yn.nextTick(r,n)}}function EZ(t){t.emit(ap)}function uM(t){return t?.setHeader&&typeof t.abort=="function"}function TM(t){t.emit("close")}function fZ(t,e){t.emit("error",e),Yn.nextTick(TM,t)}function dZ(t,e){!t||nZ(t)||(!e&&!iZ(t)&&(e=new tZ),sZ(t)?(t.socket=null,t.destroy(e)):uM(t)?t.abort():uM(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Yn.nextTick(fZ,t,e):Yn.nextTick(TM,t),t.destroyed||(t[rZ]=!0))}SM.exports={construct:cZ,destroyer:dZ,destroy:oZ,undestroy:lZ,errorOrDestroy:cp}});var ud=y((mDe,AM)=>{"use strict";var{ArrayIsArray:hZ,ObjectSetPrototypeOf:RM}=dt(),{EventEmitter:ld}=require("events");function cd(t){ld.call(this,t)}RM(cd.prototype,ld.prototype);RM(cd,ld);cd.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),ld.listenerCount(this,"error")===0&&this.emit("error",u)}up(r,"error",l),up(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function up(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):hZ(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}AM.exports={Stream:cd,prependListener:up}});var jc=y((gDe,Ed)=>{"use strict";var{SymbolDispose:TZ}=dt(),{AbortError:pM,codes:SZ}=Or(),{isNodeStream:_M,isWebStream:RZ,kControllerErrorFunction:AZ}=Wn(),pZ=Ni(),{ERR_INVALID_ARG_TYPE:IM}=SZ,Ep,_Z=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new IM(e,"AbortSignal",t)};Ed.exports.addAbortSignal=function(e,r){if(_Z(e,"signal"),!_M(r)&&!RZ(r))throw new IM("stream",["ReadableStream","WritableStream","Stream"],r);return Ed.exports.addAbortSignalNoValidate(e,r)};Ed.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=_M(e)?()=>{e.destroy(new pM(void 0,{cause:t.reason}))}:()=>{e[AZ](new pM(void 0,{cause:t.reason}))};if(t.aborted)r();else{Ep=Ep||vr().addAbortListener;let n=Ep(t,r);pZ(e,n[TZ])}return e}});var CM=y((LDe,OM)=>{"use strict";var{StringPrototypeSlice:NM,SymbolIterator:IZ,TypedArrayPrototypeSet:fd,Uint8Array:NZ}=dt(),{Buffer:fp}=require("buffer"),{inspect:OZ}=vr();OM.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return fp.alloc(0);let r=fp.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)fd(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[IZ](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=NM(s,0,e),this.head=n,n.data=NM(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=fp.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)fd(r,o,n-e),e-=o.length;else{e===o.length?(fd(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(fd(r,new NZ(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return OZ(this,{...r,depth:0,customInspect:!1})}}});var zc=y((bDe,LM)=>{"use strict";var{MathFloor:CZ,NumberIsInteger:mZ}=dt(),{validateInteger:gZ}=Ba(),{ERR_INVALID_ARG_VALUE:yZ}=Or().codes,mM=16*1024,gM=16;function LZ(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function yM(t){return t?gM:mM}function bZ(t,e){gZ(e,"value",0),t?gM=e:mM=e}function wZ(t,e,r,n){let i=LZ(e,n,r);if(i!=null){if(!mZ(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new yZ(s,i)}return CZ(i)}return yM(t.objectMode)}LM.exports={getHighWaterMark:wZ,getDefaultHighWaterMark:yM,setDefaultHighWaterMark:bZ}});var DM=y((dp,wM)=>{var dd=require("buffer"),$n=dd.Buffer;function bM(t,e){for(var r in t)e[r]=t[r]}$n.from&&$n.alloc&&$n.allocUnsafe&&$n.allocUnsafeSlow?wM.exports=dd:(bM(dd,dp),dp.Buffer=ao);function ao(t,e,r){return $n(t,e,r)}ao.prototype=Object.create($n.prototype);bM($n,ao);ao.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return $n(t,e,r)};ao.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=$n(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};ao.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return $n(t)};ao.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return dd.SlowBuffer(t)}});var Qc=y(MM=>{"use strict";var Tp=DM().Buffer,PM=Tp.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function DZ(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function PZ(t){var e=DZ(t);if(typeof e!="string"&&(Tp.isEncoding===PM||!PM(t)))throw new Error("Unknown encoding: "+t);return e||t}MM.StringDecoder=Jc;function Jc(t){this.encoding=PZ(t);var e;switch(this.encoding){case"utf16le":this.text=FZ,this.end=GZ,e=4;break;case"utf8":this.fillLast=vZ,e=4;break;case"base64":this.text=HZ,this.end=WZ,e=3;break;default:this.write=YZ,this.end=$Z;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Tp.allocUnsafe(e)}Jc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Jc.prototype.end=BZ;Jc.prototype.text=UZ;Jc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function hp(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function MZ(t,e,r){var n=e.length-1;if(n<r)return 0;var i=hp(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=hp(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=hp(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function xZ(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function vZ(t){var e=this.lastTotal-this.lastNeed,r=xZ(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function UZ(t,e){var r=MZ(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function BZ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function FZ(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function GZ(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function HZ(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function WZ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function YZ(t){return t.toString(this.encoding)}function $Z(t){return t&&t.length?this.write(t):""}});var Sp=y((DDe,BM)=>{"use strict";var xM=tt(),{PromisePrototypeThen:VZ,SymbolAsyncIterator:vM,SymbolIterator:UM}=dt(),{Buffer:kZ}=require("buffer"),{ERR_INVALID_ARG_TYPE:qZ,ERR_STREAM_NULL_VALUES:XZ}=Or().codes;function KZ(t,e,r){let n;if(typeof e=="string"||e instanceof kZ)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[vM])i=!0,n=e[vM]();else if(e&&e[UM])i=!1,n=e[UM]();else throw new qZ("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){VZ(a(c),()=>xM.nextTick(u,c),E=>xM.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new XZ;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}BM.exports=KZ});var eu=y((PDe,tx)=>{"use strict";var mn=tt(),{ArrayPrototypeIndexOf:jZ,NumberIsInteger:zZ,NumberIsNaN:JZ,NumberParseInt:QZ,ObjectDefineProperties:Cp,ObjectKeys:ZZ,ObjectSetPrototypeOf:HM,Promise:WM,SafeSet:eee,SymbolAsyncDispose:tee,SymbolAsyncIterator:ree,Symbol:nee}=dt();tx.exports=ge;ge.ReadableState=Rd;var{EventEmitter:iee}=require("events"),{Stream:us,prependListener:see}=ud(),{Buffer:Rp}=require("buffer"),{addAbortSignal:oee}=jc(),YM=Ni(),ve=vr().debuglog("stream",t=>{ve=t}),aee=CM(),Wa=oo(),{getHighWaterMark:lee,getDefaultHighWaterMark:cee}=zc(),{aggregateTwoErrors:FM,codes:{ERR_INVALID_ARG_TYPE:uee,ERR_METHOD_NOT_IMPLEMENTED:Eee,ERR_OUT_OF_RANGE:fee,ERR_STREAM_PUSH_AFTER_EOF:dee,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:hee},AbortError:Tee}=Or(),{validateObject:See}=Ba(),lo=nee("kPaused"),{StringDecoder:$M}=Qc(),Ree=Sp();HM(ge.prototype,us.prototype);HM(ge,us);var Ap=()=>{},{errorOrDestroy:Ga}=Wa,Ha=1,Aee=2,VM=4,Zc=8,kM=16,hd=32,Td=64,qM=128,pee=256,_ee=512,Iee=1024,Np=2048,Op=4096,Nee=8192,Oee=16384,Cee=32768,XM=65536,mee=1<<17,gee=1<<18;function Ht(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}Cp(Rd.prototype,{objectMode:Ht(Ha),ended:Ht(Aee),endEmitted:Ht(VM),reading:Ht(Zc),constructed:Ht(kM),sync:Ht(hd),needReadable:Ht(Td),emittedReadable:Ht(qM),readableListening:Ht(pee),resumeScheduled:Ht(_ee),errorEmitted:Ht(Iee),emitClose:Ht(Np),autoDestroy:Ht(Op),destroyed:Ht(Nee),closed:Ht(Oee),closeEmitted:Ht(Cee),multiAwaitDrain:Ht(XM),readingMore:Ht(mee),dataEmitted:Ht(gee)});function Rd(t,e,r){typeof r!="boolean"&&(r=e instanceof Vn()),this.state=Np|Op|kM|hd,t&&t.objectMode&&(this.state|=Ha),r&&t&&t.readableObjectMode&&(this.state|=Ha),this.highWaterMark=t?lee(this,t,"readableHighWaterMark",r):cee(!1),this.buffer=new aee,this.length=0,this.pipes=[],this.flowing=null,this[lo]=null,t&&t.emitClose===!1&&(this.state&=~Np),t&&t.autoDestroy===!1&&(this.state&=~Op),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new $M(t.encoding),this.encoding=t.encoding)}function ge(t){if(!(this instanceof ge))return new ge(t);let e=this instanceof Vn();this._readableState=new Rd(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&oee(t.signal,this)),us.call(this,t),Wa.construct(this,()=>{this._readableState.needReadable&&Sd(this,this._readableState)})}ge.prototype.destroy=Wa.destroy;ge.prototype._undestroy=Wa.undestroy;ge.prototype._destroy=function(t,e){e(t)};ge.prototype[iee.captureRejectionSymbol]=function(t){this.destroy(t)};ge.prototype[tee]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Tee,this.destroy(t)),new WM((e,r)=>YM(this,n=>n&&n!==t?r(n):e(null)))};ge.prototype.push=function(t,e){return KM(this,t,e,!1)};ge.prototype.unshift=function(t,e){return KM(this,t,e,!0)};function KM(t,e,r,n){ve("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ha)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=Rp.from(e,r).toString(i.encoding):(e=Rp.from(e,r),r=""))):e instanceof Rp?r="":us._isUint8Array(e)?(e=us._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new uee("chunk",["string","Buffer","Uint8Array"],e))),s)Ga(t,s);else if(e===null)i.state&=~Zc,bee(t,i);else if((i.state&Ha)!==0||e&&e.length>0)if(n)if((i.state&VM)!==0)Ga(t,new hee);else{if(i.destroyed||i.errored)return!1;pp(t,i,e,!0)}else if(i.ended)Ga(t,new dee);else{if(i.destroyed||i.errored)return!1;i.state&=~Zc,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?pp(t,i,e,!1):Sd(t,i)):pp(t,i,e,!1)}else n||(i.state&=~Zc,Sd(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function pp(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&XM)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&Td)!==0&&Ad(t)),Sd(t,e)}ge.prototype.isPaused=function(){let t=this._readableState;return t[lo]===!0||t.flowing===!1};ge.prototype.setEncoding=function(t){let e=new $M(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var yee=1073741824;function Lee(t){if(t>yee)throw new fee("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function GM(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ha)!==0?1:JZ(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}ge.prototype.read=function(t){ve("read",t),t===void 0?t=NaN:zZ(t)||(t=QZ(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Lee(t)),t!==0&&(e.state&=~qM),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ve("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?_p(this):Ad(this),null;if(t=GM(t,e),t===0&&e.ended)return e.length===0&&_p(this),null;let n=(e.state&Td)!==0;if(ve("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ve("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,ve("reading, ended or constructing",n);else if(n){ve("do read"),e.state|=Zc|hd,e.length===0&&(e.state|=Td);try{this._read(e.highWaterMark)}catch(s){Ga(this,s)}e.state&=~hd,e.reading||(t=GM(r,e))}let i;return t>0?i=ZM(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&_p(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function bee(t,e){if(ve("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Ad(t):(e.needReadable=!1,e.emittedReadable=!0,jM(t))}}function Ad(t){let e=t._readableState;ve("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ve("emitReadable",e.flowing),e.emittedReadable=!0,mn.nextTick(jM,t))}function jM(t){let e=t._readableState;ve("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,JM(t)}function Sd(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,mn.nextTick(wee,t,e))}function wee(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(ve("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ge.prototype._read=function(t){throw new Eee("_read()")};ge.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new eee(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),ve("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==mn.stdout&&t!==mn.stderr?a:R;n.endEmitted?mn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,C){ve("onunpipe"),S===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,u())}function a(){ve("onend"),t.end()}let l,c=!1;function u(){ve("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",R),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(ve("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(ve("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Dee(r,t),t.on("drain",l))}r.on("data",d);function d(S){ve("ondata");let C=t.write(S);ve("dest.write",C),C===!1&&E()}function f(S){if(ve("onerror",S),R(),t.removeListener("error",f),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?Ga(t,S):t.emit("error",S)}}see(t,"error",f);function T(){t.removeListener("finish",h),R()}t.once("close",T);function h(){ve("onfinish"),t.removeListener("close",T),R()}t.once("finish",h);function R(){ve("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(ve("pipe resume"),r.resume()),t};function Dee(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(ve("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(ve("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}ge.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=jZ(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};ge.prototype.on=function(t,e){let r=us.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ve("on readable",n.length,n.reading),n.length?Ad(this):n.reading||mn.nextTick(Pee,this)),r};ge.prototype.addListener=ge.prototype.on;ge.prototype.removeListener=function(t,e){let r=us.prototype.removeListener.call(this,t,e);return t==="readable"&&mn.nextTick(zM,this),r};ge.prototype.off=ge.prototype.removeListener;ge.prototype.removeAllListeners=function(t){let e=us.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&mn.nextTick(zM,this),e};function zM(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[lo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Pee(t){ve("readable nexttick read 0"),t.read(0)}ge.prototype.resume=function(){let t=this._readableState;return t.flowing||(ve("resume"),t.flowing=!t.readableListening,Mee(this,t)),t[lo]=!1,this};function Mee(t,e){e.resumeScheduled||(e.resumeScheduled=!0,mn.nextTick(xee,t,e))}function xee(t,e){ve("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),JM(t),e.flowing&&!e.reading&&t.read(0)}ge.prototype.pause=function(){return ve("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ve("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[lo]=!0,this};function JM(t){let e=t._readableState;for(ve("flow",e.flowing);e.flowing&&t.read()!==null;);}ge.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Ga(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=ZZ(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};ge.prototype[ree]=function(){return QM(this)};ge.prototype.iterator=function(t){return t!==void 0&&See(t,"options"),QM(this,t)};function QM(t,e){typeof t.read!="function"&&(t=ge.wrap(t,{objectMode:!0}));let r=vee(t,e);return r.stream=t,r}async function*vee(t,e){let r=Ap;function n(o){this===t?(r(),r=Ap):r=o}t.on("readable",n);let i,s=YM(t,{writable:!1},o=>{i=o?FM(i,o):null,r(),r=Ap});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new WM(n)}}}catch(o){throw i=FM(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Wa.destroyer(t,null):(t.off("readable",n),s())}}Cp(ge.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Cp(Rd.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[lo]!==!1},set(t){this[lo]=!!t}}});ge._fromList=ZM;function ZM(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function _p(t){let e=t._readableState;ve("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,mn.nextTick(Uee,e,t))}function Uee(t,e){if(ve("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)mn.nextTick(Bee,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Bee(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}ge.from=function(t,e){return Ree(ge,t,e)};var Ip;function ex(){return Ip===void 0&&(Ip={}),Ip}ge.fromWeb=function(t,e){return ex().newStreamReadableFromReadableStream(t,e)};ge.toWeb=function(t,e){return ex().newReadableStreamFromStreamReadable(t,e)};ge.wrap=function(t,e){var r,n;return new ge({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Wa.destroyer(t,i),s(i)}}).wrap(t)}});var Od=y((MDe,dx)=>{"use strict";var co=tt(),{ArrayPrototypeSlice:ix,Error:Fee,FunctionPrototypeSymbolHasInstance:sx,ObjectDefineProperty:ox,ObjectDefineProperties:Gee,ObjectSetPrototypeOf:ax,StringPrototypeToLowerCase:Hee,Symbol:Wee,SymbolHasInstance:Yee}=dt();dx.exports=At;At.WritableState=nu;var{EventEmitter:$ee}=require("events"),tu=ud().Stream,{Buffer:pd}=require("buffer"),Nd=oo(),{addAbortSignal:Vee}=jc(),{getHighWaterMark:kee,getDefaultHighWaterMark:qee}=zc(),{ERR_INVALID_ARG_TYPE:Xee,ERR_METHOD_NOT_IMPLEMENTED:Kee,ERR_MULTIPLE_CALLBACK:lx,ERR_STREAM_CANNOT_PIPE:jee,ERR_STREAM_DESTROYED:ru,ERR_STREAM_ALREADY_FINISHED:zee,ERR_STREAM_NULL_VALUES:Jee,ERR_STREAM_WRITE_AFTER_END:Qee,ERR_UNKNOWN_ENCODING:cx}=Or().codes,{errorOrDestroy:Ya}=Nd;ax(At.prototype,tu.prototype);ax(At,tu);function yp(){}var $a=Wee("kOnFinished");function nu(t,e,r){typeof r!="boolean"&&(r=e instanceof Vn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?kee(this,t,"writableHighWaterMark",r):qee(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ete.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Id(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[$a]=[]}function Id(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}nu.prototype.getBuffer=function(){return ix(this.buffered,this.bufferedIndex)};ox(nu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function At(t){let e=this instanceof Vn();if(!e&&!sx(At,this))return new At(t);this._writableState=new nu(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Vee(t.signal,this)),tu.call(this,t),Nd.construct(this,()=>{let r=this._writableState;r.writing||bp(this,r),wp(this,r)})}ox(At,Yee,{__proto__:null,value:function(t){return sx(this,t)?!0:this!==At?!1:t&&t._writableState instanceof nu}});At.prototype.pipe=function(){Ya(this,new jee)};function ux(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!pd.isEncoding(r))throw new cx(r);typeof n!="function"&&(n=yp)}if(e===null)throw new Jee;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=pd.from(e,r),r="buffer");else if(e instanceof pd)r="buffer";else if(tu._isUint8Array(e))e=tu._uint8ArrayToBuffer(e),r="buffer";else throw new Xee("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Qee:i.destroyed&&(s=new ru("write")),s?(co.nextTick(n,s),Ya(t,s,!0),s):(i.pendingcb++,Zee(t,i,e,r,n))}At.prototype.write=function(t,e,r){return ux(this,t,e,r)===!0};At.prototype.cork=function(){this._writableState.corked++};At.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||bp(this,t))};At.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Hee(e)),!pd.isEncoding(e))throw new cx(e);return this._writableState.defaultEncoding=e,this};function Zee(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==yp&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function rx(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ru("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function nx(t,e,r,n){--e.pendingcb,n(r),Lp(e),Ya(t,r)}function ete(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Ya(t,new lx);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?co.nextTick(nx,t,r,e,i):nx(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&bp(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},co.nextTick(tte,r.afterWriteTickInfo)):Ex(t,r,1,i))}function tte({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,Ex(t,e,r,n)}function Ex(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Lp(e),wp(t,e)}function Lp(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new ru("write"))}let r=t[$a].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new ru("end"))}Id(t)}function bp(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?yp:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:ix(r,o);l.allBuffers=e.allBuffers,rx(t,e,!0,e.length,l,"",a),Id(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;rx(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Id(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}At.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Kee("_write()")};At.prototype._writev=null;At.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=ux(this,t,e);s instanceof Fee&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,wp(this,n,!0),n.ended=!0):n.finished?i=new zee("end"):n.destroyed&&(i=new ru("end"))),typeof r=="function"&&(i||n.finished?co.nextTick(r,i):n[$a].push(r)),this};function _d(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function rte(t,e){let r=!1;function n(i){if(r){Ya(t,i??lx());return}if(r=!0,e.pendingcb--,i){let s=e[$a].splice(0);for(let o=0;o<s.length;o++)s[o](i);Ya(t,i,e.sync)}else _d(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,co.nextTick(gp,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function nte(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,rte(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function wp(t,e,r){_d(e)&&(nte(t,e),e.pendingcb===0&&(r?(e.pendingcb++,co.nextTick((n,i)=>{_d(i)?gp(n,i):i.pendingcb--},t,e)):_d(e)&&(e.pendingcb++,gp(t,e))))}function gp(t,e){e.pendingcb--,e.finished=!0;let r=e[$a].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Gee(At.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ite=Nd.destroy;At.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[$a].length)&&co.nextTick(Lp,r),ite.call(this,t,e),this};At.prototype._undestroy=Nd.undestroy;At.prototype._destroy=function(t,e){e(t)};At.prototype[$ee.captureRejectionSymbol]=function(t){this.destroy(t)};var mp;function fx(){return mp===void 0&&(mp={}),mp}At.fromWeb=function(t,e){return fx().newStreamWritableFromWritableStream(t,e)};At.toWeb=function(t){return fx().newWritableStreamFromStreamWritable(t)}});var Lx=y((xDe,yx)=>{var Dp=tt(),ste=require("buffer"),{isReadable:ote,isWritable:ate,isIterable:hx,isNodeStream:lte,isReadableNodeStream:Tx,isWritableNodeStream:Sx,isDuplexNodeStream:cte,isReadableStream:Rx,isWritableStream:Ax}=Wn(),px=Ni(),{AbortError:mx,codes:{ERR_INVALID_ARG_TYPE:ute,ERR_INVALID_RETURN_VALUE:_x}}=Or(),{destroyer:ka}=oo(),Ete=Vn(),gx=eu(),fte=Od(),{createDeferredPromise:Ix}=vr(),Nx=Sp(),Ox=globalThis.Blob||ste.Blob,dte=typeof Ox<"u"?function(e){return e instanceof Ox}:function(e){return!1},hte=globalThis.AbortController||Dt().AbortController,{FunctionPrototypeCall:Cx}=dt(),Es=class extends Ete{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};yx.exports=function t(e,r){if(cte(e))return e;if(Tx(e))return Va({readable:e});if(Sx(e))return Va({writable:e});if(lte(e))return Va({writable:!1,readable:!1});if(Rx(e))return Va({readable:gx.fromWeb(e)});if(Ax(e))return Va({writable:fte.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Tte(e);if(hx(i))return Nx(Es,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=Cx(l,i,E=>{if(E!=null)throw new _x("nully","body",E)},E=>{ka(c,E)});return c=new Es({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,Dp.nextTick(E,null)}catch(d){Dp.nextTick(E,d)}})},destroy:a})}throw new _x("Iterable, AsyncIterable or AsyncFunction",r,i)}if(dte(e))return t(e.arrayBuffer());if(hx(e))return Nx(Es,e,{objectMode:!0,writable:!1});if(Rx(e?.readable)&&Ax(e?.writable))return Es.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?Tx(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?Sx(e?.writable)?e?.writable:t(e.writable):void 0;return Va({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return Cx(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{ka(i,s)}),i=new Es({objectMode:!0,writable:!1,read(){}})}throw new ute(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Tte(t){let{promise:e,resolve:r}=Ix(),n=new hte,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(Dp.nextTick(c),l)return;if(i.aborted)throw new mx(void 0,{cause:i.reason});({promise:e,resolve:r}=Ix()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Va(t){let e=t.readable&&typeof t.readable.read!="function"?gx.wrap(t.readable):t.readable,r=t.writable,n=!!ote(e),i=!!ate(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new Es({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(px(r,E=>{i=!1,E&&ka(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(px(e,E=>{n=!1,E&&ka(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new mx),a=null,s=null,o=null,l===null?d(E):(l=d,ka(r,E),ka(e,E))},c}});var Vn=y((vDe,Dx)=>{"use strict";var{ObjectDefineProperties:Ste,ObjectGetOwnPropertyDescriptor:Oi,ObjectKeys:Rte,ObjectSetPrototypeOf:bx}=dt();Dx.exports=gn;var xp=eu(),un=Od();bx(gn.prototype,xp.prototype);bx(gn,xp);{let t=Rte(un.prototype);for(let e=0;e<t.length;e++){let r=t[e];gn.prototype[r]||(gn.prototype[r]=un.prototype[r])}}function gn(t){if(!(this instanceof gn))return new gn(t);xp.call(this,t),un.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Ste(gn.prototype,{writable:{__proto__:null,...Oi(un.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Oi(un.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Oi(un.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Oi(un.prototype,"writableBuffer")},writableLength:{__proto__:null,...Oi(un.prototype,"writableLength")},writableFinished:{__proto__:null,...Oi(un.prototype,"writableFinished")},writableCorked:{__proto__:null,...Oi(un.prototype,"writableCorked")},writableEnded:{__proto__:null,...Oi(un.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Oi(un.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Pp;function wx(){return Pp===void 0&&(Pp={}),Pp}gn.fromWeb=function(t,e){return wx().newStreamDuplexFromReadableWritablePair(t,e)};gn.toWeb=function(t){return wx().newReadableWritablePairFromDuplex(t)};var Mp;gn.from=function(t){return Mp||(Mp=Lx()),Mp(t,"body")}});var Bp=y((UDe,Mx)=>{"use strict";var{ObjectSetPrototypeOf:Px,Symbol:Ate}=dt();Mx.exports=Ci;var{ERR_METHOD_NOT_IMPLEMENTED:pte}=Or().codes,Up=Vn(),{getHighWaterMark:_te}=zc();Px(Ci.prototype,Up.prototype);Px(Ci,Up);var iu=Ate("kCallback");function Ci(t){if(!(this instanceof Ci))return new Ci(t);let e=t?_te(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Up.call(this,t),this._readableState.sync=!1,this[iu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ite)}function vp(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Ite(){this._final!==vp&&vp.call(this)}Ci.prototype._final=vp;Ci.prototype._transform=function(t,e,r){throw new pte("_transform()")};Ci.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[iu]=r})};Ci.prototype._read=function(){if(this[iu]){let t=this[iu];this[iu]=null,t()}}});var Gp=y((BDe,vx)=>{"use strict";var{ObjectSetPrototypeOf:xx}=dt();vx.exports=qa;var Fp=Bp();xx(qa.prototype,Fp.prototype);xx(qa,Fp);function qa(t){if(!(this instanceof qa))return new qa(t);Fp.call(this,t)}qa.prototype._transform=function(t,e,r){r(null,t)}});var yd=y((FDe,Hx)=>{var su=tt(),{ArrayIsArray:Nte,Promise:Ote,SymbolAsyncIterator:Cte,SymbolDispose:mte}=dt(),gd=Ni(),{once:gte}=vr(),yte=oo(),Ux=Vn(),{aggregateTwoErrors:Lte,codes:{ERR_INVALID_ARG_TYPE:Kp,ERR_INVALID_RETURN_VALUE:Hp,ERR_MISSING_ARGS:bte,ERR_STREAM_DESTROYED:wte,ERR_STREAM_PREMATURE_CLOSE:Dte},AbortError:Pte}=Or(),{validateFunction:Mte,validateAbortSignal:xte}=Ba(),{isIterable:uo,isReadable:Wp,isReadableNodeStream:md,isNodeStream:Bx,isTransformStream:Xa,isWebStream:vte,isReadableStream:Yp,isReadableFinished:Ute}=Wn(),Bte=globalThis.AbortController||Dt().AbortController,$p,Vp,kp;function Fx(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=gd(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,yte.destroyer(t,s||new wte("pipe")))},cleanup:i}}function Fte(t){return Mte(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function qp(t){if(uo(t))return t;if(md(t))return Gte(t);throw new Kp("val",["Readable","Iterable","AsyncIterable"],t)}async function*Gte(t){Vp||(Vp=eu()),yield*Vp.prototype[Cte].call(t)}async function Cd(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new Ote((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=gd(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?Lte(i,c):c)}finally{l(),e.off("drain",o)}}async function Xp(t,e,r,{end:n}){Xa(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Hte(...t){return Gx(t,gte(Fte(t)))}function Gx(t,e,r){if(t.length===1&&Nte(t[0])&&(t=t[0]),t.length<2)throw new bte("streams");let n=new Bte,i=n.signal,s=r?.signal,o=[];xte(s,"options.signal");function a(){T(new Pte)}kp=kp||vr().addAbortListener;let l;s&&(l=kp(s,a));let c,u,E=[],d=0;function f(A){T(A,--d===0)}function T(A,p){var g;if(A&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=A),!(!c&&!p)){for(;E.length;)E.shift()(c);(g=l)===null||g===void 0||g[mte](),n.abort(),p&&(c||o.forEach(D=>D()),su.nextTick(e,c,u))}}let h;for(let A=0;A<t.length;A++){let p=t[A],g=A<t.length-1,D=A>0,O=g||r?.end!==!1,M=A===t.length-1;if(Bx(p)){let w=function(x){x&&x.name!=="AbortError"&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(x)};var C=w;if(O){let{destroy:x,cleanup:F}=Fx(p,g,D);E.push(x),Wp(p)&&M&&o.push(F)}p.on("error",w),Wp(p)&&M&&o.push(()=>{p.removeListener("error",w)})}if(A===0)if(typeof p=="function"){if(h=p({signal:i}),!uo(h))throw new Hp("Iterable, AsyncIterable or Stream","source",h)}else uo(p)||md(p)||Xa(p)?h=p:h=Ux.from(p);else if(typeof p=="function"){if(Xa(h)){var R;h=qp((R=h)===null||R===void 0?void 0:R.readable)}else h=qp(h);if(h=p(h,{signal:i}),g){if(!uo(h,!0))throw new Hp("AsyncIterable",`transform[${A-1}]`,h)}else{var S;$p||($p=Gp());let w=new $p({objectMode:!0}),x=(S=h)===null||S===void 0?void 0:S.then;if(typeof x=="function")d++,x.call(h,Z=>{u=Z,Z!=null&&w.write(Z),O&&w.end(),su.nextTick(f)},Z=>{w.destroy(Z),su.nextTick(f,Z)});else if(uo(h,!0))d++,Cd(h,w,f,{end:O});else if(Yp(h)||Xa(h)){let Z=h.readable||h;d++,Cd(Z,w,f,{end:O})}else throw new Hp("AsyncIterable or Promise","destination",h);h=w;let{destroy:F,cleanup:ee}=Fx(h,!1,!0);E.push(F),M&&o.push(ee)}}else if(Bx(p)){if(md(h)){d+=2;let w=Wte(h,p,f,{end:O});Wp(p)&&M&&o.push(w)}else if(Xa(h)||Yp(h)){let w=h.readable||h;d++,Cd(w,p,f,{end:O})}else if(uo(h))d++,Cd(h,p,f,{end:O});else throw new Kp("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=p}else if(vte(p)){if(md(h))d++,Xp(qp(h),p,f,{end:O});else if(Yp(h)||uo(h))d++,Xp(h,p,f,{end:O});else if(Xa(h))d++,Xp(h.readable,p,f,{end:O});else throw new Kp("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=p}else h=Ux.from(p)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&su.nextTick(a),h}function Wte(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Dte)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;Ute(t)?su.nextTick(o):t.once("end",o)}else r();return gd(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),gd(e,{readable:!1,writable:!0},r)}Hx.exports={pipelineImpl:Gx,pipeline:Hte}});var zp=y((GDe,qx)=>{"use strict";var{pipeline:Yte}=yd(),Ld=Vn(),{destroyer:$te}=oo(),{isNodeStream:bd,isReadable:Wx,isWritable:Yx,isWebStream:jp,isTransformStream:Eo,isWritableStream:$x,isReadableStream:Vx}=Wn(),{AbortError:Vte,codes:{ERR_INVALID_ARG_VALUE:kx,ERR_MISSING_ARGS:kte}}=Or(),qte=Ni();qx.exports=function(...e){if(e.length===0)throw new kte("streams");if(e.length===1)return Ld.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Ld.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Ld.from(e[f])}for(let f=0;f<e.length;++f)if(!(!bd(e[f])&&!jp(e[f]))){if(f<e.length-1&&!(Wx(e[f])||Vx(e[f])||Eo(e[f])))throw new kx(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(Yx(e[f])||$x(e[f])||Eo(e[f])))throw new kx(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=Yte(e,l),E=!!(Yx(c)||$x(c)||Eo(c)),d=!!(Wx(u)||Vx(u)||Eo(u));if(a=new Ld({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(bd(c))a._write=function(T,h,R){c.write(T,h)?R():n=R},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(jp(c)){let h=(Eo(c)?c.writable:c).getWriter();a._write=async function(R,S,C){try{await h.ready,h.write(R).catch(()=>{}),C()}catch(A){C(A)}},a._final=async function(R){try{await h.ready,h.close().catch(()=>{}),i=R}catch(S){R(S)}}}let f=Eo(u)?u.readable:u;qte(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(bd(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(jp(u)){let T=(Eo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:R}=await T.read();if(!a.push(h))return;if(R){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new Vte),s=null,n=null,i=null,o===null?T(f):(o=T,bd(u)&&$te(u,f))},a}});var rv=y((HDe,Zp)=>{"use strict";var Xte=globalThis.AbortController||Dt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Kte,ERR_INVALID_ARG_TYPE:ou,ERR_MISSING_ARGS:jte,ERR_OUT_OF_RANGE:zte},AbortError:kn}=Or(),{validateAbortSignal:fo,validateInteger:Xx,validateObject:ho}=Ba(),Jte=dt().Symbol("kWeak"),Qte=dt().Symbol("kResistStopPropagation"),{finished:Zte}=Ni(),ere=zp(),{addAbortSignalNoValidate:tre}=jc(),{isWritable:rre,isNodeStream:nre}=Wn(),{deprecate:ire}=vr(),{ArrayPrototypePush:sre,Boolean:ore,MathFloor:Kx,Number:are,NumberIsNaN:lre,Promise:jx,PromiseReject:zx,PromiseResolve:cre,PromisePrototypeThen:Jx,Symbol:Zx}=dt(),wd=Zx("kEmpty"),Qx=Zx("kEof");function ure(t,e){if(e!=null&&ho(e,"options"),e?.signal!=null&&fo(e.signal,"options.signal"),nre(t)&&!rre(t))throw new Kte("stream",t,"must be writable");let r=ere(this,t);return e!=null&&e.signal&&tre(e.signal,r),r}function Dd(t,e){if(typeof t!="function")throw new ou("fn",["Function","AsyncFunction"],t);e!=null&&ho(e,"options"),e?.signal!=null&&fo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Kx(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=Kx(e.highWaterMark)),Xx(r,"options.concurrency",1),Xx(n,"options.highWaterMark",0),n+=r,async function*(){let s=vr().AbortSignalAny([e?.signal].filter(ore)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function R(){try{for await(let S of o){if(E)return;if(s.aborted)throw new kn;try{if(S=t(S,l),S===wd)continue;S=cre(S)}catch(C){S=zx(C)}d+=1,Jx(S,T,f),a.push(S),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new jx(C=>{u=C})}a.push(Qx)}catch(S){let C=zx(S);Jx(C,T,f),a.push(C)}finally{E=!0,c&&(c(),c=null)}}R();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===Qx)return;if(s.aborted)throw new kn;S!==wd&&(yield S),a.shift(),h()}await new jx(S=>{c=S})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function Ere(t=void 0){return t!=null&&ho(t,"options"),t?.signal!=null&&fo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new kn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function ev(t,e=void 0){for await(let r of Qp.call(this,t,e))return!0;return!1}async function fre(t,e=void 0){if(typeof t!="function")throw new ou("fn",["Function","AsyncFunction"],t);return!await ev.call(this,async(...r)=>!await t(...r),e)}async function dre(t,e){for await(let r of Qp.call(this,t,e))return r}async function hre(t,e){if(typeof t!="function")throw new ou("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),wd}for await(let n of Dd.call(this,r,e));}function Qp(t,e){if(typeof t!="function")throw new ou("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:wd}return Dd.call(this,r,e)}var Jp=class extends jte{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Tre(t,e,r){var n;if(typeof t!="function")throw new ou("reducer",["Function","AsyncFunction"],t);r!=null&&ho(r,"options"),r?.signal!=null&&fo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new kn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Zte(this.destroy(c)),c}let s=new Xte,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Jte]:this,[Qte]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new kn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new Jp}finally{s.abort()}return e}async function Sre(t){t!=null&&ho(t,"options"),t?.signal!=null&&fo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new kn(void 0,{cause:t.signal.reason});sre(e,n)}return e}function Rre(t,e){let r=Dd.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function tv(t){if(t=are(t),lre(t))return 0;if(t<0)throw new zte("number",">= 0",t);return t}function Are(t,e=void 0){return e!=null&&ho(e,"options"),e?.signal!=null&&fo(e.signal,"options.signal"),t=tv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new kn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new kn;t--<=0&&(yield s)}}.call(this)}function pre(t,e=void 0){return e!=null&&ho(e,"options"),e?.signal!=null&&fo(e.signal,"options.signal"),t=tv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new kn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new kn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}Zp.exports.streamReturningOperators={asIndexedPairs:ire(Ere,"readable.asIndexedPairs will be removed in a future version."),drop:Are,filter:Qp,flatMap:Rre,map:Dd,take:pre,compose:ure};Zp.exports.promiseReturningOperators={every:fre,forEach:hre,reduce:Tre,toArray:Sre,some:ev,find:dre}});var e_=y((WDe,nv)=>{"use strict";var{ArrayPrototypePop:_re,Promise:Ire}=dt(),{isIterable:Nre,isNodeStream:Ore,isWebStream:Cre}=Wn(),{pipelineImpl:mre}=yd(),{finished:gre}=Ni();t_();function yre(...t){return new Ire((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!Ore(s)&&!Nre(s)&&!Cre(s)){let o=_re(t);n=o.signal,i=o.end}mre(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}nv.exports={finished:gre,pipeline:yre}});var t_=y((YDe,fv)=>{"use strict";var{Buffer:Lre}=require("buffer"),{ObjectDefineProperty:mi,ObjectKeys:ov,ReflectApply:av}=dt(),{promisify:{custom:lv}}=vr(),{streamReturningOperators:iv,promiseReturningOperators:sv}=rv(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:cv}}=Or(),bre=zp(),{setDefaultHighWaterMark:wre,getDefaultHighWaterMark:Dre}=zc(),{pipeline:uv}=yd(),{destroyer:Pre}=oo(),Ev=Ni(),r_=e_(),au=Wn(),lt=fv.exports=ud().Stream;lt.isDestroyed=au.isDestroyed;lt.isDisturbed=au.isDisturbed;lt.isErrored=au.isErrored;lt.isReadable=au.isReadable;lt.isWritable=au.isWritable;lt.Readable=eu();for(let t of ov(iv)){let r=function(...n){if(new.target)throw cv();return lt.Readable.from(av(e,this,n))},e=iv[t];mi(r,"name",{__proto__:null,value:e.name}),mi(r,"length",{__proto__:null,value:e.length}),mi(lt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of ov(sv)){let r=function(...n){if(new.target)throw cv();return av(e,this,n)},e=sv[t];mi(r,"name",{__proto__:null,value:e.name}),mi(r,"length",{__proto__:null,value:e.length}),mi(lt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}lt.Writable=Od();lt.Duplex=Vn();lt.Transform=Bp();lt.PassThrough=Gp();lt.pipeline=uv;var{addAbortSignal:Mre}=jc();lt.addAbortSignal=Mre;lt.finished=Ev;lt.destroy=Pre;lt.compose=bre;lt.setDefaultHighWaterMark=wre;lt.getDefaultHighWaterMark=Dre;mi(lt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return r_}});mi(uv,lv,{__proto__:null,enumerable:!0,get(){return r_.pipeline}});mi(Ev,lv,{__proto__:null,enumerable:!0,get(){return r_.finished}});lt.Stream=lt;lt._isUint8Array=function(e){return e instanceof Uint8Array};lt._uint8ArrayToBuffer=function(e){return Lre.from(e.buffer,e.byteOffset,e.byteLength)}});var dv=y(($De,De)=>{"use strict";var Wt=require("stream");if(Wt&&process.env.READABLE_STREAM==="disable"){let t=Wt.promises;De.exports._uint8ArrayToBuffer=Wt._uint8ArrayToBuffer,De.exports._isUint8Array=Wt._isUint8Array,De.exports.isDisturbed=Wt.isDisturbed,De.exports.isErrored=Wt.isErrored,De.exports.isReadable=Wt.isReadable,De.exports.Readable=Wt.Readable,De.exports.Writable=Wt.Writable,De.exports.Duplex=Wt.Duplex,De.exports.Transform=Wt.Transform,De.exports.PassThrough=Wt.PassThrough,De.exports.addAbortSignal=Wt.addAbortSignal,De.exports.finished=Wt.finished,De.exports.destroy=Wt.destroy,De.exports.pipeline=Wt.pipeline,De.exports.compose=Wt.compose,Object.defineProperty(Wt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),De.exports.Stream=Wt.Stream}else{let t=t_(),e=e_(),r=t.Readable.destroy;De.exports=t.Readable,De.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,De.exports._isUint8Array=t._isUint8Array,De.exports.isDisturbed=t.isDisturbed,De.exports.isErrored=t.isErrored,De.exports.isReadable=t.isReadable,De.exports.Readable=t.Readable,De.exports.Writable=t.Writable,De.exports.Duplex=t.Duplex,De.exports.Transform=t.Transform,De.exports.PassThrough=t.PassThrough,De.exports.addAbortSignal=t.addAbortSignal,De.exports.finished=t.finished,De.exports.destroy=t.destroy,De.exports.destroy=r,De.exports.pipeline=t.pipeline,De.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),De.exports.Stream=t.Stream}De.exports.default=De.exports});var Tv=y((VDe,hv)=>{function xre(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}hv.exports=xre});var pv=y((kDe,Av)=>{var Sv=jf(),vre=FA(),Ure=GA(),Rv=Sv?Sv.isConcatSpreadable:void 0;function Bre(t){return Ure(t)||vre(t)||!!(Rv&&t&&t[Rv])}Av.exports=Bre});var Pd=y((qDe,Iv)=>{var Fre=Tv(),Gre=pv();function _v(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=Gre),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?_v(a,e-1,r,n,i):Fre(i,a):n||(i[i.length]=a)}return i}Iv.exports=_v});var Ov=y((XDe,Nv)=>{var Hre=Pd();function Wre(t){var e=t==null?0:t.length;return e?Hre(t,1):[]}Nv.exports=Wre});var lu=y((KDe,Cv)=>{var Yre=Hc(),$re=Yre(Object,"create");Cv.exports=$re});var yv=y((jDe,gv)=>{var mv=lu();function Vre(){this.__data__=mv?mv(null):{},this.size=0}gv.exports=Vre});var bv=y((zDe,Lv)=>{function kre(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}Lv.exports=kre});var Dv=y((JDe,wv)=>{var qre=lu(),Xre="__lodash_hash_undefined__",Kre=Object.prototype,jre=Kre.hasOwnProperty;function zre(t){var e=this.__data__;if(qre){var r=e[t];return r===Xre?void 0:r}return jre.call(e,t)?e[t]:void 0}wv.exports=zre});var Mv=y((QDe,Pv)=>{var Jre=lu(),Qre=Object.prototype,Zre=Qre.hasOwnProperty;function ene(t){var e=this.__data__;return Jre?e[t]!==void 0:Zre.call(e,t)}Pv.exports=ene});var vv=y((ZDe,xv)=>{var tne=lu(),rne="__lodash_hash_undefined__";function nne(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=tne&&e===void 0?rne:e,this}xv.exports=nne});var Bv=y((ePe,Uv)=>{var ine=yv(),sne=bv(),one=Dv(),ane=Mv(),lne=vv();function Ka(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ka.prototype.clear=ine;Ka.prototype.delete=sne;Ka.prototype.get=one;Ka.prototype.has=ane;Ka.prototype.set=lne;Uv.exports=Ka});var Gv=y((tPe,Fv)=>{function cne(){this.__data__=[],this.size=0}Fv.exports=cne});var cu=y((rPe,Hv)=>{var une=Jf();function Ene(t,e){for(var r=t.length;r--;)if(une(t[r][0],e))return r;return-1}Hv.exports=Ene});var Yv=y((nPe,Wv)=>{var fne=cu(),dne=Array.prototype,hne=dne.splice;function Tne(t){var e=this.__data__,r=fne(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():hne.call(e,r,1),--this.size,!0}Wv.exports=Tne});var Vv=y((iPe,$v)=>{var Sne=cu();function Rne(t){var e=this.__data__,r=Sne(e,t);return r<0?void 0:e[r][1]}$v.exports=Rne});var qv=y((sPe,kv)=>{var Ane=cu();function pne(t){return Ane(this.__data__,t)>-1}kv.exports=pne});var Kv=y((oPe,Xv)=>{var _ne=cu();function Ine(t,e){var r=this.__data__,n=_ne(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Xv.exports=Ine});var zv=y((aPe,jv)=>{var Nne=Gv(),One=Yv(),Cne=Vv(),mne=qv(),gne=Kv();function ja(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ja.prototype.clear=Nne;ja.prototype.delete=One;ja.prototype.get=Cne;ja.prototype.has=mne;ja.prototype.set=gne;jv.exports=ja});var Qv=y((lPe,Jv)=>{var yne=Hc(),Lne=Da(),bne=yne(Lne,"Map");Jv.exports=bne});var tU=y((cPe,eU)=>{var Zv=Bv(),wne=zv(),Dne=Qv();function Pne(){this.size=0,this.__data__={hash:new Zv,map:new(Dne||wne),string:new Zv}}eU.exports=Pne});var nU=y((uPe,rU)=>{function Mne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}rU.exports=Mne});var uu=y((EPe,iU)=>{var xne=nU();function vne(t,e){var r=t.__data__;return xne(e)?r[typeof e=="string"?"string":"hash"]:r.map}iU.exports=vne});var oU=y((fPe,sU)=>{var Une=uu();function Bne(t){var e=Une(this,t).delete(t);return this.size-=e?1:0,e}sU.exports=Bne});var lU=y((dPe,aU)=>{var Fne=uu();function Gne(t){return Fne(this,t).get(t)}aU.exports=Gne});var uU=y((hPe,cU)=>{var Hne=uu();function Wne(t){return Hne(this,t).has(t)}cU.exports=Wne});var fU=y((TPe,EU)=>{var Yne=uu();function $ne(t,e){var r=Yne(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}EU.exports=$ne});var hU=y((SPe,dU)=>{var Vne=tU(),kne=oU(),qne=lU(),Xne=uU(),Kne=fU();function za(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}za.prototype.clear=Vne;za.prototype.delete=kne;za.prototype.get=qne;za.prototype.has=Xne;za.prototype.set=Kne;dU.exports=za});var SU=y((RPe,TU)=>{var jne="__lodash_hash_undefined__";function zne(t){return this.__data__.set(t,jne),this}TU.exports=zne});var AU=y((APe,RU)=>{function Jne(t){return this.__data__.has(t)}RU.exports=Jne});var n_=y((pPe,pU)=>{var Qne=hU(),Zne=SU(),eie=AU();function Md(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Qne;++e<r;)this.add(t[e])}Md.prototype.add=Md.prototype.push=Zne;Md.prototype.has=eie;pU.exports=Md});var IU=y((_Pe,_U)=>{function tie(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}_U.exports=tie});var OU=y((IPe,NU)=>{function rie(t){return t!==t}NU.exports=rie});var mU=y((NPe,CU)=>{function nie(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}CU.exports=nie});var yU=y((OPe,gU)=>{var iie=IU(),sie=OU(),oie=mU();function aie(t,e,r){return e===e?oie(t,e,r):iie(t,sie,r)}gU.exports=aie});var i_=y((CPe,LU)=>{var lie=yU();function cie(t,e){var r=t==null?0:t.length;return!!r&&lie(t,e,0)>-1}LU.exports=cie});var s_=y((mPe,bU)=>{function uie(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}bU.exports=uie});var DU=y((gPe,wU)=>{function Eie(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}wU.exports=Eie});var o_=y((yPe,PU)=>{function fie(t,e){return t.has(e)}PU.exports=fie});var xU=y((LPe,MU)=>{var die=n_(),hie=i_(),Tie=s_(),Sie=DU(),Rie=HA(),Aie=o_(),pie=200;function _ie(t,e,r,n){var i=-1,s=hie,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;r&&(e=Sie(e,Rie(r))),n?(s=Tie,o=!1):e.length>=pie&&(s=Aie,o=!1,e=new die(e));e:for(;++i<a;){var u=t[i],E=r==null?u:r(u);if(u=n||u!==0?u:0,o&&E===E){for(var d=c;d--;)if(e[d]===E)continue e;l.push(u)}else s(e,E,n)||l.push(u)}return l}MU.exports=_ie});var a_=y((bPe,vU)=>{var Iie=Qf(),Nie=Pa();function Oie(t){return Nie(t)&&Iie(t)}vU.exports=Oie});var FU=y((wPe,BU)=>{var Cie=xU(),mie=Pd(),gie=zf(),UU=a_(),yie=gie(function(t,e){return UU(t)?Cie(t,mie(e,1,UU,!0)):[]});BU.exports=yie});var HU=y((DPe,GU)=>{var Lie=Hc(),bie=Da(),wie=Lie(bie,"Set");GU.exports=wie});var YU=y((PPe,WU)=>{function Die(){}WU.exports=Die});var l_=y((MPe,$U)=>{function Pie(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}$U.exports=Pie});var kU=y((xPe,VU)=>{var c_=HU(),Mie=YU(),xie=l_(),vie=1/0,Uie=c_&&1/xie(new c_([,-0]))[1]==vie?function(t){return new c_(t)}:Mie;VU.exports=Uie});var XU=y((vPe,qU)=>{var Bie=n_(),Fie=i_(),Gie=s_(),Hie=o_(),Wie=kU(),Yie=l_(),$ie=200;function Vie(t,e,r){var n=-1,i=Fie,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=Gie;else if(s>=$ie){var c=e?null:Wie(t);if(c)return Yie(c);o=!1,i=Hie,l=new Bie}else l=e?[]:a;e:for(;++n<s;){var u=t[n],E=e?e(u):u;if(u=r||u!==0?u:0,o&&E===E){for(var d=l.length;d--;)if(l[d]===E)continue e;e&&l.push(E),a.push(u)}else i(l,E,r)||(l!==a&&l.push(E),a.push(u))}return a}qU.exports=Vie});var jU=y((UPe,KU)=>{var kie=Pd(),qie=zf(),Xie=XU(),Kie=a_(),jie=qie(function(t){return Xie(kie(t,1,Kie,!0))});KU.exports=jie});var JU=y((BPe,zU)=>{function zie(t,e){return function(r){return t(e(r))}}zU.exports=zie});var ZU=y((FPe,QU)=>{var Jie=JU(),Qie=Jie(Object.getPrototypeOf,Object);QU.exports=Qie});var rB=y((GPe,tB)=>{var Zie=Fc(),ese=ZU(),tse=Pa(),rse="[object Object]",nse=Function.prototype,ise=Object.prototype,eB=nse.toString,sse=ise.hasOwnProperty,ose=eB.call(Object);function ase(t){if(!tse(t)||Zie(t)!=rse)return!1;var e=ese(t);if(e===null)return!0;var r=sse.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&eB.call(r)==ose}tB.exports=ase});var uB=y((HPe,cB)=>{var nB=XR();cB.exports=use;var iB="\0SLASH"+Math.random()+"\0",sB="\0OPEN"+Math.random()+"\0",E_="\0CLOSE"+Math.random()+"\0",oB="\0COMMA"+Math.random()+"\0",aB="\0PERIOD"+Math.random()+"\0";function u_(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function lse(t){return t.split("\\\\").join(iB).split("\\{").join(sB).split("\\}").join(E_).split("\\,").join(oB).split("\\.").join(aB)}function cse(t){return t.split(iB).join("\\").split(sB).join("{").split(E_).join("}").split(oB).join(",").split(aB).join(".")}function lB(t){if(!t)return[""];var e=[],r=nB("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=lB(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function use(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Eu(lse(t),!0).map(cse)):[]}function Ese(t){return"{"+t+"}"}function fse(t){return/^-?0\d/.test(t)}function dse(t,e){return t<=e}function hse(t,e){return t>=e}function Eu(t,e){var r=[],n=nB("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Eu(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,E=n.body.indexOf(",")>=0;if(!u&&!E)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+E_+n.post,Eu(t)):[t];var d;if(u)d=n.body.split(/\.\./);else if(d=lB(n.body),d.length===1&&(d=Eu(d[0],!1).map(Ese),d.length===1))return s.map(function(x){return n.pre+d[0]+x});var f;if(u){var T=u_(d[0]),h=u_(d[1]),R=Math.max(d[0].length,d[1].length),S=d.length==3?Math.abs(u_(d[2])):1,C=dse,A=h<T;A&&(S*=-1,C=hse);var p=d.some(fse);f=[];for(var g=T;C(g,h);g+=S){var D;if(c)D=String.fromCharCode(g),D==="\\"&&(D="");else if(D=String(g),p){var O=R-D.length;if(O>0){var M=new Array(O+1).join("0");g<0?D="-"+M+D.slice(1):D=M+D}}f.push(D)}}else{f=[];for(var w=0;w<d.length;w++)f.push.apply(f,Eu(d[w],!1))}for(var w=0;w<f.length;w++)for(var o=0;o<s.length;o++){var a=i+f[w]+s[o];(!e||u||a)&&r.push(a)}}return r}});var EB=y(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.assertValidPattern=void 0;var Tse=1024*64,Sse=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Tse)throw new TypeError("pattern is too long")};xd.assertValidPattern=Sse});var dB=y(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.parseClass=void 0;var Rse={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},fu=t=>t.replace(/[[\]\\-]/g,"\\$&"),Ase=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),fB=t=>t.join(""),pse=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,E="";e:for(;s<t.length;){let h=t.charAt(s);if((h==="!"||h==="^")&&s===r+1){c=!0,s++;continue}if(h==="]"&&o&&!l){u=s+1;break}if(o=!0,h==="\\"&&!l){l=!0,s++;continue}if(h==="["&&!l){for(let[R,[S,C,A]]of Object.entries(Rse))if(t.startsWith(R,s)){if(E)return["$.",!1,t.length-r,!0];s+=R.length,A?i.push(S):n.push(S),a=a||C;continue e}}if(l=!1,E){h>E?n.push(fu(E)+"-"+fu(h)):h===E&&n.push(fu(h)),E="",s++;continue}if(t.startsWith("-]",s+1)){n.push(fu(h+"-")),s+=2;continue}if(t.startsWith("-",s+1)){E=h,s+=2;continue}n.push(fu(h)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let h=n[0].length===2?n[0].slice(-1):n[0];return[Ase(h),!1,u-r,!1]}let d="["+(c?"^":"")+fB(n)+"]",f="["+(c?"":"^")+fB(i)+"]";return[n.length&&i.length?"("+d+"|"+f+")":n.length?d:f,a,u-r,!0]};vd.parseClass=pse});var Bd=y(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.unescape=void 0;var _se=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Ud.unescape=_se});var h_=y(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.AST=void 0;var Ise=dB(),Fd=Bd(),Nse=new Set(["!","?","+","*","@"]),hB=t=>Nse.has(t),Ose="(?!(?:^|/)\\.\\.?(?:$|/))",Gd="(?!\\.)",Cse=new Set(["[","."]),mse=new Set(["..","."]),gse=new Set("().*{}+?[]^$\\!"),yse=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),d_="[^/]",TB=d_+"*?",SB=d_+"+?",f_=class t{type;#e;#t;#s=!1;#n=[];#o;#_;#c;#E=!1;#a;#l;#i=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#o=r,this.#e=this.#o?this.#o.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#c=this.#e===this?[]:this.#e.#c,e==="!"&&!this.#e.#E&&this.#c.push(this),this.#_=this.#o?this.#o.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#S(){if(this!==this.#e)throw new Error("should only call on root");if(this.#E)return this;this.toString(),this.#E=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let r=e,n=r.#o;for(;n;){for(let i=r.#_+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#o}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#o===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#E&&this.#o?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#o?.isStart())return!1;if(this.#_===0)return!0;let e=this.#o;for(let r=0;r<this.#_;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let e=this.#o?this.#o.#n.length:0;return this.#_===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#R(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let f=n,T="";for(;f<e.length;){let h=e.charAt(f++);if(s||h==="\\"){s=!s,T+=h;continue}if(o){f===a+1?(h==="^"||h==="!")&&(l=!0):h==="]"&&!(f===a+2&&l)&&(o=!1),T+=h;continue}else if(h==="["){o=!0,a=f,l=!1,T+=h;continue}if(!i.noext&&hB(h)&&e.charAt(f)==="("){r.push(T),T="";let R=new t(h,r);f=t.#R(e,R,f,i),r.push(R);continue}T+=h}return r.push(T),f}let c=n+1,u=new t(null,r),E=[],d="";for(;c<e.length;){let f=e.charAt(c++);if(s||f==="\\"){s=!s,d+=f;continue}if(o){c===a+1?(f==="^"||f==="!")&&(l=!0):f==="]"&&!(c===a+2&&l)&&(o=!1),d+=f;continue}else if(f==="["){o=!0,a=c,l=!1,d+=f;continue}if(hB(f)&&e.charAt(c)==="("){u.push(d),d="";let T=new t(f,u);u.push(T),c=t.#R(e,T,c,i);continue}if(f==="|"){u.push(d),d="",E.push(u),u=new t(null,r);continue}if(f===")")return d===""&&r.#n.length===0&&(r.#i=!0),u.push(d),d="",r.push(...E,u),c;d+=f}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],c}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#R(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#a}toRegExpSource(e){let r=e??!!this.#a.dot;if(this.#e===this&&this.#S(),!this.type){let l=this.isStart()&&this.isEnd(),c=this.#n.map(f=>{let[T,h,R,S]=typeof f=="string"?t.#f(f,this.#t,l):f.toRegExpSource(e);return this.#t=this.#t||R,this.#s=this.#s||S,T}).join(""),u="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&mse.has(this.#n[0]))){let T=Cse,h=r&&T.has(c.charAt(0))||c.startsWith("\\.")&&T.has(c.charAt(2))||c.startsWith("\\.\\.")&&T.has(c.charAt(4)),R=!r&&!e&&T.has(c.charAt(0));u=h?Ose:R?Gd:""}let E="";return this.isEnd()&&this.#e.#E&&this.#o?.type==="!"&&(E="(?:$|\\/)"),[u+c+E,(0,Fd.unescape)(c),this.#t=!!this.#t,this.#s]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,(0,Fd.unescape)(this.toString()),!1,!1]}let o=!n||e||r||!Gd?"":this.#d(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#i)a=(this.isStart()&&!r?Gd:"")+SB;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?Gd:"")+TB+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+l}return[a,(0,Fd.unescape)(s),this.#t=!!this.#t,this.#s]}#d(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#f(e,r,n=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(i){i=!1,s+=(gse.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[c,u,E,d]=(0,Ise.parseClass)(e,a);if(E){s+=c,o=o||u,a+=E-1,r=r||d;continue}}if(l==="*"){n&&e==="*"?s+=SB:s+=TB,r=!0;continue}if(l==="?"){s+=d_,r=!0;continue}s+=yse(l)}return[s,(0,Fd.unescape)(e),!!r,o]}};Hd.AST=f_});var T_=y(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.escape=void 0;var Lse=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");Wd.escape=Lse});var fs=y(oe=>{"use strict";var bse=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oe,"__esModule",{value:!0});oe.unescape=oe.escape=oe.AST=oe.Minimatch=oe.match=oe.makeRe=oe.braceExpand=oe.defaults=oe.filter=oe.GLOBSTAR=oe.sep=oe.minimatch=void 0;var wse=bse(uB()),Yd=EB(),pB=h_(),Dse=T_(),Pse=Bd(),Mse=(t,e,r={})=>((0,Yd.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new To(e,r).match(t));oe.minimatch=Mse;var xse=/^\*+([^+@!?\*\[\(]*)$/,vse=t=>e=>!e.startsWith(".")&&e.endsWith(t),Use=t=>e=>e.endsWith(t),Bse=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),Fse=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),Gse=/^\*+\.\*+$/,Hse=t=>!t.startsWith(".")&&t.includes("."),Wse=t=>t!=="."&&t!==".."&&t.includes("."),Yse=/^\.\*+$/,$se=t=>t!=="."&&t!==".."&&t.startsWith("."),Vse=/^\*+$/,kse=t=>t.length!==0&&!t.startsWith("."),qse=t=>t.length!==0&&t!=="."&&t!=="..",Xse=/^\?+([^+@!?\*\[\(]*)?$/,Kse=([t,e=""])=>{let r=_B([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},jse=([t,e=""])=>{let r=IB([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},zse=([t,e=""])=>{let r=IB([t]);return e?n=>r(n)&&n.endsWith(e):r},Jse=([t,e=""])=>{let r=_B([t]);return e?n=>r(n)&&n.endsWith(e):r},_B=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},IB=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},NB=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",RB={win32:{sep:"\\"},posix:{sep:"/"}};oe.sep=NB==="win32"?RB.win32.sep:RB.posix.sep;oe.minimatch.sep=oe.sep;oe.GLOBSTAR=Symbol("globstar **");oe.minimatch.GLOBSTAR=oe.GLOBSTAR;var Qse="[^/]",Zse=Qse+"*?",eoe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",toe="(?:(?!(?:\\/|^)\\.).)*?",roe=(t,e={})=>r=>(0,oe.minimatch)(r,t,e);oe.filter=roe;oe.minimatch.filter=oe.filter;var En=(t,e={})=>Object.assign({},t,e),noe=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return oe.minimatch;let e=oe.minimatch;return Object.assign((n,i,s={})=>e(n,i,En(t,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,En(t,s))}static defaults(i){return e.defaults(En(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,En(t,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,En(t,s))}},unescape:(n,i={})=>e.unescape(n,En(t,i)),escape:(n,i={})=>e.escape(n,En(t,i)),filter:(n,i={})=>e.filter(n,En(t,i)),defaults:n=>e.defaults(En(t,n)),makeRe:(n,i={})=>e.makeRe(n,En(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,En(t,i)),match:(n,i,s={})=>e.match(n,i,En(t,s)),sep:e.sep,GLOBSTAR:oe.GLOBSTAR})};oe.defaults=noe;oe.minimatch.defaults=oe.defaults;var ioe=(t,e={})=>((0,Yd.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,wse.default)(t));oe.braceExpand=ioe;oe.minimatch.braceExpand=oe.braceExpand;var soe=(t,e={})=>new To(t,e).makeRe();oe.makeRe=soe;oe.minimatch.makeRe=oe.makeRe;var ooe=(t,e,r={})=>{let n=new To(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};oe.match=ooe;oe.minimatch.match=oe.match;var AB=/[?*]|[+@!]\(.*?\)|\[|\]/,aoe=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),To=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,Yd.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||NB,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!AB.test(s[2]))&&!AB.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let o=i;for(;n[o+1]==="**";)o++;o>i&&n.splice(i+1,o-i);let a=n[i+1],l=n[i+2],c=n[i+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",e.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let a=n[o];o===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let o=n[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])o.push(a==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])o.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])o.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),i++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let h=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),R=!h&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),S=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),C=!S&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),A=R?3:h?0:void 0,p=C?3:S?0:void 0;if(typeof A=="number"&&typeof p=="number"){let[g,D]=[e[A],r[p]];g.toLowerCase()===D.toLowerCase()&&(r[p]=g,p>A?r=r.slice(p):A>p&&(e=e.slice(A)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],E=e[o];if(this.debug(r,u,E),u===!1)return!1;if(u===oe.GLOBSTAR){this.debug("GLOBSTAR",[r,u,E]);var d=o,f=a+1;if(f===c){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;d<l;){var T=e[d];if(this.debug(`
globstar while`,e,d,r,f,T),this.matchOne(e.slice(d),r.slice(f),n))return this.debug("globstar found match!",d,l,T),!0;if(T==="."||T===".."||!i.dot&&T.charAt(0)==="."){this.debug("dot detected!",e,d,r,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,f),d===l))}let h;if(typeof u=="string"?(h=E===u,this.debug("string match",u,E,h)):(h=u.test(E),this.debug("pattern match",u,E,h)),!h)return!1}if(o===l&&a===c)return!0;if(o===l)return n;if(a===c)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,oe.braceExpand)(this.pattern,this.options)}parse(e){(0,Yd.assertValidPattern)(e);let r=this.options;if(e==="**")return oe.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(Vse))?i=r.dot?qse:kse:(n=e.match(xse))?i=(r.nocase?r.dot?Fse:Bse:r.dot?Use:vse)(n[1]):(n=e.match(Xse))?i=(r.nocase?r.dot?jse:Kse:r.dot?zse:Jse)(n):(n=e.match(Gse))?i=r.dot?Wse:Hse:(n=e.match(Yse))&&(i=$se);let s=pB.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Zse:r.dot?eoe:toe,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let E of u.flags.split(""))i.add(E);return typeof u=="string"?aoe(u):u===oe.GLOBSTAR?oe.GLOBSTAR:u._src});return c.forEach((u,E)=>{let d=c[E+1],f=c[E-1];u!==oe.GLOBSTAR||f===oe.GLOBSTAR||(f===void 0?d!==void 0&&d!==oe.GLOBSTAR?c[E+1]="(?:\\/|"+n+"\\/)?"+d:c[E]=n:d===void 0?c[E-1]=f+"(?:\\/|"+n+")?":d!==oe.GLOBSTAR&&(c[E-1]=f+"(?:\\/|\\/"+n+"\\/)"+d,c[E+1]=oe.GLOBSTAR))}),c.filter(u=>u!==oe.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let l=s[a],c=i;if(n.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return oe.minimatch.defaults(e).Minimatch}};oe.Minimatch=To;var loe=h_();Object.defineProperty(oe,"AST",{enumerable:!0,get:function(){return loe.AST}});var coe=T_();Object.defineProperty(oe,"escape",{enumerable:!0,get:function(){return coe.escape}});var uoe=Bd();Object.defineProperty(oe,"unescape",{enumerable:!0,get:function(){return uoe.unescape}});oe.minimatch.AST=pB.AST;oe.minimatch.Minimatch=To;oe.minimatch.escape=Dse.escape;oe.minimatch.unescape=Pse.unescape});var yB=y(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.LRUCache=void 0;var Ja=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,CB=new Set,S_=typeof process=="object"&&process?process:{},mB=(t,e,r,n)=>{typeof S_.emitWarning=="function"?S_.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},$d=globalThis.AbortController,OB=globalThis.AbortSignal;if(typeof $d>"u"){OB=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},$d=class{constructor(){e()}signal=new OB;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=S_.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,mB("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var Eoe=t=>!CB.has(t),ds=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),gB=t=>ds(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Qa:null:null,Qa=class extends Array{constructor(e){super(e),this.fill(0)}},R_=class t{heap;length;static#e=!1;static create(e){let r=gB(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},A_=class t{#e;#t;#s;#n;#o;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#E;#a;#l;#i;#S;#R;#d;#f;#O;#T;#C;#m;#p;#I;#N;#h;static unsafeExposeInternals(e){return{starts:e.#m,ttls:e.#p,sizes:e.#C,keyMap:e.#a,keyList:e.#l,valList:e.#i,next:e.#S,prev:e.#R,get head(){return e.#d},get tail(){return e.#f},free:e.#O,isBackgroundFetch:r=>e.#u(r),backgroundFetch:(r,n,i,s)=>e.#F(r,n,i,s),moveToTail:r=>e.#H(r),indexes:r=>e.#y(r),rindexes:r=>e.#L(r),isStale:r=>e.#A(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#E}get size(){return this.#c}get fetchMethod(){return this.#o}get memoMethod(){return this.#_}get dispose(){return this.#s}get disposeAfter(){return this.#n}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:E,noUpdateTTL:d,maxSize:f=0,maxEntrySize:T=0,sizeCalculation:h,fetchMethod:R,memoMethod:S,noDeleteOnFetchRejection:C,noDeleteOnStaleGet:A,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:g,ignoreFetchAbort:D}=e;if(r!==0&&!ds(r))throw new TypeError("max option must be a nonnegative integer");let O=r?gB(r):Array;if(!O)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=f,this.maxEntrySize=T||this.#t,this.sizeCalculation=h,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#_=S,R!==void 0&&typeof R!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=R,this.#N=!!R,this.#a=new Map,this.#l=new Array(r).fill(void 0),this.#i=new Array(r).fill(void 0),this.#S=new O(r),this.#R=new O(r),this.#d=0,this.#f=0,this.#O=R_.create(r),this.#c=0,this.#E=0,typeof c=="function"&&(this.#s=c),typeof u=="function"?(this.#n=u,this.#T=[]):(this.#n=void 0,this.#T=void 0),this.#I=!!this.#s,this.#h=!!this.#n,this.noDisposeOnSet=!!E,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!C,this.allowStaleOnFetchRejection=!!p,this.allowStaleOnFetchAbort=!!g,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#t!==0&&!ds(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!ds(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#w()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=ds(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!ds(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#b()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let M="LRU_CACHE_UNBOUNDED";Eoe(M)&&(CB.add(M),mB("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",M,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#b(){let e=new Qa(this.#e),r=new Qa(this.#e);this.#p=e,this.#m=r,this.#P=(s,o,a=Ja.now())=>{if(r[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#A(s)&&this.#D(this.#l[s],"expire")},o+1);l.unref&&l.unref()}},this.#g=s=>{r[s]=e[s]!==0?Ja.now():0},this.#r=(s,o)=>{if(e[o]){let a=e[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=n||i();let c=s.now-l;s.remainingTTL=a-c}};let n=0,i=()=>{let s=Ja.now();if(this.ttlResolution>0){n=s;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#a.get(s);if(o===void 0)return 0;let a=e[o],l=r[o];if(!a||!l)return 1/0;let c=(n||i())-l;return a-c},this.#A=s=>{let o=r[s],a=e[s];return!!a&&!!o&&(n||i())-o>a}}#g=()=>{};#r=()=>{};#P=()=>{};#A=()=>!1;#w(){let e=new Qa(this.#e);this.#E=0,this.#C=e,this.#M=r=>{this.#E-=e[r],e[r]=0},this.#v=(r,n,i,s)=>{if(this.#u(n))return 0;if(!ds(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!ds(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#x=(r,n,i)=>{if(e[r]=n,this.#t){let s=this.#t-e[r];for(;this.#E>s;)this.#B(!0)}this.#E+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#E)}}#M=e=>{};#x=(e,r,n)=>{};#v=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#y({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#f;!(!this.#U(r)||((e||!this.#A(r))&&(yield r),r===this.#d));)r=this.#R[r]}*#L({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#d;!(!this.#U(r)||((e||!this.#A(r))&&(yield r),r===this.#f));)r=this.#S[r]}#U(e){return e!==void 0&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#y())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*rentries(){for(let e of this.#L())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*keys(){for(let e of this.#y()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*rkeys(){for(let e of this.#L()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*values(){for(let e of this.#y())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}*rvalues(){for(let e of this.#L())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#y()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.#l[n],this))return this.get(this.#l[n],r)}}forEach(e,r=this){for(let n of this.#y()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}rforEach(e,r=this){for(let n of this.#L()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}purgeStale(){let e=!1;for(let r of this.#L({allowStale:!0}))this.#A(r)&&(this.#D(this.#l[r],"expire"),e=!0);return e}info(e){let r=this.#a.get(e);if(r===void 0)return;let n=this.#i[r],i=this.#u(n)?n.__staleWhileFetching:n;if(i===void 0)return;let s={value:i};if(this.#p&&this.#m){let o=this.#p[r],a=this.#m[r];if(o&&a){let l=o-(Ja.now()-a);s.ttl=l,s.start=Date.now()}}return this.#C&&(s.size=this.#C[r]),s}dump(){let e=[];for(let r of this.#y({allowStale:!0})){let n=this.#l[r],i=this.#i[r],s=this.#u(i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;let o={value:s};if(this.#p&&this.#m){o.ttl=this.#p[r];let a=Ja.now()-this.#m[r];o.start=Math.floor(Date.now()-a)}this.#C&&(o.size=this.#C[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=Ja.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n,{noUpdateTTL:c=this.noUpdateTTL}=n,u=this.#v(e,r,n.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let E=this.#c===0?void 0:this.#a.get(e);if(E===void 0)E=this.#c===0?this.#f:this.#O.length!==0?this.#O.pop():this.#c===this.#e?this.#B(!1):this.#c,this.#l[E]=e,this.#i[E]=r,this.#a.set(e,E),this.#S[this.#f]=E,this.#R[E]=this.#f,this.#f=E,this.#c++,this.#x(E,u,l),l&&(l.set="add"),c=!1;else{this.#H(E);let d=this.#i[E];if(r!==d){if(this.#N&&this.#u(d)){d.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:f}=d;f!==void 0&&!o&&(this.#I&&this.#s?.(f,e,"set"),this.#h&&this.#T?.push([f,e,"set"]))}else o||(this.#I&&this.#s?.(d,e,"set"),this.#h&&this.#T?.push([d,e,"set"]));if(this.#M(E),this.#x(E,u,l),this.#i[E]=r,l){l.set="replace";let f=d&&this.#u(d)?d.__staleWhileFetching:d;f!==void 0&&(l.oldValue=f)}}else l&&(l.set="update")}if(i!==0&&!this.#p&&this.#b(),this.#p&&(c||this.#P(E,i,s),l&&this.#r(l,E)),!o&&this.#h&&this.#T){let d=this.#T,f;for(;f=d?.shift();)this.#n?.(...f)}return this}pop(){try{for(;this.#c;){let e=this.#i[this.#d];if(this.#B(!0),this.#u(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#h&&this.#T){let e=this.#T,r;for(;r=e?.shift();)this.#n?.(...r)}}}#B(e){let r=this.#d,n=this.#l[r],i=this.#i[r];return this.#N&&this.#u(i)?i.__abortController.abort(new Error("evicted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(i,n,"evict"),this.#h&&this.#T?.push([i,n,"evict"])),this.#M(r),e&&(this.#l[r]=void 0,this.#i[r]=void 0,this.#O.push(r)),this.#c===1?(this.#d=this.#f=0,this.#O.length=0):this.#d=this.#S[r],this.#a.delete(n),this.#c--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=this.#a.get(e);if(s!==void 0){let o=this.#i[s];if(this.#u(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#A(s))i&&(i.has="stale",this.#r(i,s));else return n&&this.#g(s),i&&(i.has="hit",this.#r(i,s)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i===void 0||!n&&this.#A(i))return;let s=this.#i[i];return this.#u(s)?s.__staleWhileFetching:s}#F(e,r,n,i){let s=r===void 0?void 0:this.#i[r];if(this.#u(s))return s;let o=new $d,{signal:a}=n;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:n,context:i},c=(h,R=!1)=>{let{aborted:S}=o.signal,C=n.ignoreFetchAbort&&h!==void 0;if(n.status&&(S&&!R?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,C&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),S&&!C&&!R)return E(o.signal.reason);let A=f;return this.#i[r]===f&&(h===void 0?A.__staleWhileFetching?this.#i[r]=A.__staleWhileFetching:this.#D(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,h,l.options))),h},u=h=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=h),E(h)),E=h=>{let{aborted:R}=o.signal,S=R&&n.allowStaleOnFetchAbort,C=S||n.allowStaleOnFetchRejection,A=C||n.noDeleteOnFetchRejection,p=f;if(this.#i[r]===f&&(!A||p.__staleWhileFetching===void 0?this.#D(e,"fetch"):S||(this.#i[r]=p.__staleWhileFetching)),C)return n.status&&p.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),p.__staleWhileFetching;if(p.__returned===p)throw h},d=(h,R)=>{let S=this.#o?.(e,s,l);S&&S instanceof Promise&&S.then(C=>h(C===void 0?void 0:C),R),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(h(void 0),n.allowStaleOnFetchAbort&&(h=C=>c(C,!0)))})};n.status&&(n.status.fetchDispatched=!0);let f=new Promise(d).then(c,u),T=Object.assign(f,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,T,{...l.options,status:void 0}),r=this.#a.get(e)):this.#i[r]=T,T}#u(e){if(!this.#N)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof $d}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:E=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:T=this.allowStaleOnFetchAbort,context:h,forceRefresh:R=!1,status:S,signal:C}=r;if(!this.#N)return S&&(S.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:S});let A={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:E,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:T,ignoreFetchAbort:f,status:S,signal:C},p=this.#a.get(e);if(p===void 0){S&&(S.fetch="miss");let g=this.#F(e,p,A,h);return g.__returned=g}else{let g=this.#i[p];if(this.#u(g)){let x=n&&g.__staleWhileFetching!==void 0;return S&&(S.fetch="inflight",x&&(S.returnedStale=!0)),x?g.__staleWhileFetching:g.__returned=g}let D=this.#A(p);if(!R&&!D)return S&&(S.fetch="hit"),this.#H(p),i&&this.#g(p),S&&this.#r(S,p),g;let O=this.#F(e,p,A,h),w=O.__staleWhileFetching!==void 0&&n;return S&&(S.fetch=D?"stale":"refresh",w&&D&&(S.returnedStale=!0)),w?O.__staleWhileFetching:O.__returned=O}}async forceFetch(e,r={}){let n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){let n=this.#_;if(!n)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:s,...o}=r,a=this.get(e,o);if(!s&&a!==void 0)return a;let l=n(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#a.get(e);if(a!==void 0){let l=this.#i[a],c=this.#u(l);return o&&this.#r(o,a),this.#A(a)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(this.#H(a),i&&this.#g(a),l))}else o&&(o.get="miss")}#G(e,r){this.#R[r]=e,this.#S[e]=r}#H(e){e!==this.#f&&(e===this.#d?this.#d=this.#S[e]:this.#G(this.#R[e],this.#S[e]),this.#G(this.#f,e),this.#f=e)}delete(e){return this.#D(e,"delete")}#D(e,r){let n=!1;if(this.#c!==0){let i=this.#a.get(e);if(i!==void 0)if(n=!0,this.#c===1)this.#W(r);else{this.#M(i);let s=this.#i[i];if(this.#u(s)?s.__abortController.abort(new Error("deleted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(s,e,r),this.#h&&this.#T?.push([s,e,r])),this.#a.delete(e),this.#l[i]=void 0,this.#i[i]=void 0,i===this.#f)this.#f=this.#R[i];else if(i===this.#d)this.#d=this.#S[i];else{let o=this.#R[i];this.#S[o]=this.#S[i];let a=this.#S[i];this.#R[a]=this.#R[i]}this.#c--,this.#O.push(i)}}if(this.#h&&this.#T?.length){let i=this.#T,s;for(;s=i?.shift();)this.#n?.(...s)}return n}clear(){return this.#W("delete")}#W(e){for(let r of this.#L({allowStale:!0})){let n=this.#i[r];if(this.#u(n))n.__abortController.abort(new Error("deleted"));else{let i=this.#l[r];this.#I&&this.#s?.(n,i,e),this.#h&&this.#T?.push([n,i,e])}}if(this.#a.clear(),this.#i.fill(void 0),this.#l.fill(void 0),this.#p&&this.#m&&(this.#p.fill(0),this.#m.fill(0)),this.#C&&this.#C.fill(0),this.#d=0,this.#f=0,this.#O.length=0,this.#E=0,this.#c=0,this.#h&&this.#T){let r=this.#T,n;for(;n=r?.shift();)this.#n?.(...n)}}};Vd.LRUCache=A_});var FB=y(BB=>{"use strict";var LB=typeof process=="object"&&process?process:{stdout:null,stderr:null},foe=require("events"),bB=require("stream"),doe=require("string_decoder"),wB=doe.StringDecoder,gi=Symbol("EOF"),yi=Symbol("maybeEmitEnd"),hs=Symbol("emittedEnd"),kd=Symbol("emittingEnd"),du=Symbol("emittedError"),qd=Symbol("closed"),DB=Symbol("read"),Xd=Symbol("flush"),PB=Symbol("flushChunk"),qr=Symbol("encoding"),Li=Symbol("decoder"),Kd=Symbol("flowing"),hu=Symbol("paused"),Za=Symbol("resume"),Pt=Symbol("buffer"),qn=Symbol("pipes"),nr=Symbol("bufferLength"),p_=Symbol("bufferPush"),__=Symbol("bufferShift"),hr=Symbol("objectMode"),Mt=Symbol("destroyed"),I_=Symbol("error"),N_=Symbol("emitData"),MB=Symbol("emitEnd"),O_=Symbol("emitEnd2"),bi=Symbol("async"),C_=Symbol("abort"),jd=Symbol("aborted"),So=Symbol("signal"),Tu=t=>Promise.resolve().then(t),UB=global._MP_NO_ITERATOR_SYMBOLS_!=="1",xB=UB&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),vB=UB&&Symbol.iterator||Symbol("iterator not implemented"),hoe=t=>t==="end"||t==="finish"||t==="prefinish",Toe=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,Soe=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),zd=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Za](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},m_=class extends zd{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},g_=class t extends bB{constructor(e){super(),this[Kd]=!1,this[hu]=!1,this[qn]=[],this[Pt]=[],this[hr]=e&&e.objectMode||!1,this[hr]?this[qr]=null:this[qr]=e&&e.encoding||null,this[qr]==="buffer"&&(this[qr]=null),this[bi]=e&&!!e.async||!1,this[Li]=this[qr]?new wB(this[qr]):null,this[gi]=!1,this[hs]=!1,this[kd]=!1,this[qd]=!1,this[du]=null,this.writable=!0,this.readable=!0,this[nr]=0,this[Mt]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Pt]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[qn]}),this[So]=e&&e.signal,this[jd]=!1,this[So]&&(this[So].addEventListener("abort",()=>this[C_]()),this[So].aborted&&this[C_]())}get bufferLength(){return this[nr]}get encoding(){return this[qr]}set encoding(e){if(this[hr])throw new Error("cannot set encoding in objectMode");if(this[qr]&&e!==this[qr]&&(this[Li]&&this[Li].lastNeed||this[nr]))throw new Error("cannot change encoding");this[qr]!==e&&(this[Li]=e?new wB(e):null,this[Pt].length&&(this[Pt]=this[Pt].map(r=>this[Li].write(r)))),this[qr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[hr]}set objectMode(e){this[hr]=this[hr]||!!e}get async(){return this[bi]}set async(e){this[bi]=this[bi]||!!e}[C_](){this[jd]=!0,this.emit("abort",this[So].reason),this.destroy(this[So].reason)}get aborted(){return this[jd]}set aborted(e){}write(e,r,n){if(this[jd])return!1;if(this[gi])throw new Error("write after end");if(this[Mt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[bi]?Tu:s=>s();return!this[hr]&&!Buffer.isBuffer(e)&&(Soe(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Toe(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[hr]?(this.flowing&&this[nr]!==0&&this[Xd](!0),this.flowing?this.emit("data",e):this[p_](e),this[nr]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[qr]&&!this[Li].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[qr]&&(e=this[Li].write(e)),this.flowing&&this[nr]!==0&&this[Xd](!0),this.flowing?this.emit("data",e):this[p_](e),this[nr]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[nr]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Mt])return null;if(this[nr]===0||e===0||e>this[nr])return this[yi](),null;this[hr]&&(e=null),this[Pt].length>1&&!this[hr]&&(this.encoding?this[Pt]=[this[Pt].join("")]:this[Pt]=[Buffer.concat(this[Pt],this[nr])]);let r=this[DB](e||null,this[Pt][0]);return this[yi](),r}[DB](e,r){return e===r.length||e===null?this[__]():(this[Pt][0]=r.slice(e),r=r.slice(0,e),this[nr]-=e),this.emit("data",r),!this[Pt].length&&!this[gi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[gi]=!0,this.writable=!1,(this.flowing||!this[hu])&&this[yi](),this}[Za](){this[Mt]||(this[hu]=!1,this[Kd]=!0,this.emit("resume"),this[Pt].length?this[Xd]():this[gi]?this[yi]():this.emit("drain"))}resume(){return this[Za]()}pause(){this[Kd]=!1,this[hu]=!0}get destroyed(){return this[Mt]}get flowing(){return this[Kd]}get paused(){return this[hu]}[p_](e){this[hr]?this[nr]+=1:this[nr]+=e.length,this[Pt].push(e)}[__](){return this[hr]?this[nr]-=1:this[nr]-=this[Pt][0].length,this[Pt].shift()}[Xd](e){do;while(this[PB](this[__]())&&this[Pt].length);!e&&!this[Pt].length&&!this[gi]&&this.emit("drain")}[PB](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[Mt])return;let n=this[hs];return r=r||{},e===LB.stdout||e===LB.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[qn].push(r.proxyErrors?new m_(this,e,r):new zd(this,e,r)),this[bi]?Tu(()=>this[Za]()):this[Za]()),e}unpipe(e){let r=this[qn].find(n=>n.dest===e);r&&(this[qn].splice(this[qn].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[qn].length&&!this.flowing?this[Za]():e==="readable"&&this[nr]!==0?super.emit("readable"):hoe(e)&&this[hs]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[du]&&(this[bi]?Tu(()=>r.call(this,this[du])):r.call(this,this[du])),n}get emittedEnd(){return this[hs]}[yi](){!this[kd]&&!this[hs]&&!this[Mt]&&this[Pt].length===0&&this[gi]&&(this[kd]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[qd]&&this.emit("close"),this[kd]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Mt&&this[Mt])return;if(e==="data")return!this[hr]&&!r?!1:this[bi]?Tu(()=>this[N_](r)):this[N_](r);if(e==="end")return this[MB]();if(e==="close"){if(this[qd]=!0,!this[hs]&&!this[Mt])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[du]=r,super.emit(I_,r);let s=!this[So]||this.listeners("error").length?super.emit("error",r):!1;return this[yi](),s}else if(e==="resume"){let s=super.emit("resume");return this[yi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[yi](),i}[N_](e){for(let n of this[qn])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[yi](),r}[MB](){this[hs]||(this[hs]=!0,this.readable=!1,this[bi]?Tu(()=>this[O_]()):this[O_]())}[O_](){if(this[Li]){let r=this[Li].end();if(r){for(let n of this[qn])n.dest.write(r);super.emit("data",r)}}for(let r of this[qn])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[hr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[hr]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[hr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[hr]?Promise.reject(new Error("cannot concat in objectMode")):this[qr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Mt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[xB](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[gi])return r();let s=null,o=null,a=E=>{this.removeListener("data",l),this.removeListener("end",c),this.removeListener(Mt,u),r(),o(E)},l=E=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(Mt,u),this.pause(),s({value:E,done:!!this[gi]})},c=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(Mt,u),r(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((E,d)=>{o=d,s=E,this.once(Mt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[xB](){return this}}}[vB](){let e=!1,r=()=>(this.pause(),this.removeListener(I_,r),this.removeListener(Mt,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(I_,r),this.once(Mt,r),{next:n,throw:r,return:r,[vB](){return this}}}destroy(e){return this[Mt]?(e?this.emit("error",e):this.emit(Mt),this):(this[Mt]=!0,this[Pt].length=0,this[nr]=0,typeof this.close=="function"&&!this[qd]&&this.close(),e?this.emit("error",e):this.emit(Mt),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof bB||e instanceof foe&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};BB.Minipass=g_});var ZB=y(et=>{"use strict";var Roe=et&&et.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Aoe=et&&et.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),poe=et&&et.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Roe(e,t,r);return Aoe(e,t),e};Object.defineProperty(et,"__esModule",{value:!0});et.PathScurry=et.Path=et.PathScurryDarwin=et.PathScurryPosix=et.PathScurryWin32=et.PathScurryBase=et.PathPosix=et.PathWin32=et.PathBase=et.ChildrenCache=et.ResolveCache=void 0;var VB=yB(),th=require("node:path"),_oe=require("node:url"),Ru=require("fs"),Ioe=poe(require("node:fs")),Noe=Ru.realpathSync.native,Jd=require("node:fs/promises"),GB=FB(),Au={lstatSync:Ru.lstatSync,readdir:Ru.readdir,readdirSync:Ru.readdirSync,readlinkSync:Ru.readlinkSync,realpathSync:Noe,promises:{lstat:Jd.lstat,readdir:Jd.readdir,readlink:Jd.readlink,realpath:Jd.realpath}},kB=t=>!t||t===Au||t===Ioe?Au:{...Au,...t,promises:{...Au.promises,...t.promises||{}}},qB=/^\\\\\?\\([a-z]:)\\?$/i,Ooe=t=>t.replace(/\//g,"\\").replace(qB,"$1\\"),Coe=/[\\\/]/,dn=0,XB=1,KB=2,Xn=4,jB=6,zB=8,Ro=10,JB=12,fn=15,Su=~fn,y_=16,HB=32,pu=64,yn=128,Qd=256,eh=512,WB=pu|yn|eh,moe=1023,L_=t=>t.isFile()?zB:t.isDirectory()?Xn:t.isSymbolicLink()?Ro:t.isCharacterDevice()?KB:t.isBlockDevice()?jB:t.isSocket()?JB:t.isFIFO()?XB:dn,YB=new Map,_u=t=>{let e=YB.get(t);if(e)return e;let r=t.normalize("NFKD");return YB.set(t,r),r},$B=new Map,Zd=t=>{let e=$B.get(t);if(e)return e;let r=_u(t.toLowerCase());return $B.set(t,r),r},Iu=class extends VB.LRUCache{constructor(){super({max:256})}};et.ResolveCache=Iu;var rh=class extends VB.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}};et.ChildrenCache=rh;var QB=Symbol("PathScurry setAsCwd"),Tr=class{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#s;get mode(){return this.#s}#n;get nlink(){return this.#n}#o;get uid(){return this.#o}#_;get gid(){return this.#_}#c;get rdev(){return this.#c}#E;get blksize(){return this.#E}#a;get ino(){return this.#a}#l;get size(){return this.#l}#i;get blocks(){return this.#i}#S;get atimeMs(){return this.#S}#R;get mtimeMs(){return this.#R}#d;get ctimeMs(){return this.#d}#f;get birthtimeMs(){return this.#f}#O;get atime(){return this.#O}#T;get mtime(){return this.#T}#C;get ctime(){return this.#C}#m;get birthtime(){return this.#m}#p;#I;#N;#h;#b;#g;#r;#P;#A;#w;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=dn,n,i,s,o,a){this.name=e,this.#p=s?Zd(e):_u(e),this.#r=r&moe,this.nocase=s,this.roots=i,this.root=n||this,this.#P=o,this.#N=a.fullpath,this.#b=a.relative,this.#g=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=kB(a.fs)}depth(){return this.#I!==void 0?this.#I:this.parent?this.#I=this.parent.depth()+1:this.#I=0}childrenCache(){return this.#P}resolve(e){if(!e)return this;let r=this.getRootString(e),i=e.substring(r.length).split(this.splitSep);return r?this.getRoot(r).#M(i):this.#M(i)}#M(e){let r=this;for(let n of e)r=r.child(n);return r}children(){let e=this.#P.get(this);if(e)return e;let r=Object.assign([],{provisional:0});return this.#P.set(this,r),this.#r&=~y_,r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let n=this.children(),i=this.nocase?Zd(e):_u(e);for(let l of n)if(l.#p===i)return l;let s=this.parent?this.sep:"",o=this.#N?this.#N+s+e:void 0,a=this.newChild(e,dn,{...r,parent:this,fullpath:o});return this.canReaddir()||(a.#r|=yn),n.push(a),a}relative(){if(this.isCWD)return"";if(this.#b!==void 0)return this.#b;let e=this.name,r=this.parent;if(!r)return this.#b=this.name;let n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#g!==void 0)return this.#g;let e=this.name,r=this.parent;if(!r)return this.#g=this.fullpathPosix();let n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#N!==void 0)return this.#N;let e=this.name,r=this.parent;if(!r)return this.#N=this.name;let i=r.fullpath()+(r.parent?this.sep:"")+e;return this.#N=i}fullpathPosix(){if(this.#h!==void 0)return this.#h;if(this.sep==="/")return this.#h=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#h=`//?/${i}`:this.#h=i}let e=this.parent,r=e.fullpathPosix(),n=r+(!r||!e.parent?"":"/")+this.name;return this.#h=n}isUnknown(){return(this.#r&fn)===dn}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&fn)===zB}isDirectory(){return(this.#r&fn)===Xn}isCharacterDevice(){return(this.#r&fn)===KB}isBlockDevice(){return(this.#r&fn)===jB}isFIFO(){return(this.#r&fn)===XB}isSocket(){return(this.#r&fn)===JB}isSymbolicLink(){return(this.#r&Ro)===Ro}lstatCached(){return this.#r&HB?this:void 0}readlinkCached(){return this.#A}realpathCached(){return this.#w}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#A)return!0;if(!this.parent)return!1;let e=this.#r&fn;return!(e!==dn&&e!==Ro||this.#r&Qd||this.#r&yn)}calledReaddir(){return!!(this.#r&y_)}isENOENT(){return!!(this.#r&yn)}isNamed(e){return this.nocase?this.#p===Zd(e):this.#p===_u(e)}async readlink(){let e=this.#A;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=await this.#e.promises.readlink(this.fullpath()),n=(await this.parent.realpath())?.resolve(r);if(n)return this.#A=n}catch(r){this.#u(r.code);return}}readlinkSync(){let e=this.#A;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=this.#e.readlinkSync(this.fullpath()),n=this.parent.realpathSync()?.resolve(r);if(n)return this.#A=n}catch(r){this.#u(r.code);return}}#x(e){this.#r|=y_;for(let r=e.provisional;r<e.length;r++){let n=e[r];n&&n.#v()}}#v(){this.#r&yn||(this.#r=(this.#r|yn)&Su,this.#y())}#y(){let e=this.children();e.provisional=0;for(let r of e)r.#v()}#L(){this.#r|=eh,this.#U()}#U(){if(this.#r&pu)return;let e=this.#r;(e&fn)===Xn&&(e&=Su),this.#r=e|pu,this.#y()}#B(e=""){e==="ENOTDIR"||e==="EPERM"?this.#U():e==="ENOENT"?this.#v():this.children().provisional=0}#F(e=""){e==="ENOTDIR"?this.parent.#U():e==="ENOENT"&&this.#v()}#u(e=""){let r=this.#r;r|=Qd,e==="ENOENT"&&(r|=yn),(e==="EINVAL"||e==="UNKNOWN")&&(r&=Su),this.#r=r,e==="ENOTDIR"&&this.parent&&this.parent.#U()}#G(e,r){return this.#D(e,r)||this.#H(e,r)}#H(e,r){let n=L_(e),i=this.newChild(e.name,n,{parent:this}),s=i.#r&fn;return s!==Xn&&s!==Ro&&s!==dn&&(i.#r|=pu),r.unshift(i),r.provisional++,i}#D(e,r){for(let n=r.provisional;n<r.length;n++){let i=r[n];if((this.nocase?Zd(e.name):_u(e.name))===i.#p)return this.#W(e,i,n,r)}}#W(e,r,n,i){let s=r.name;return r.#r=r.#r&Su|L_(e),s!==e.name&&(r.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(r)),i.provisional++,r}async lstat(){if((this.#r&yn)===0)try{return this.#k(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#F(e.code)}}lstatSync(){if((this.#r&yn)===0)try{return this.#k(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#F(e.code)}}#k(e){let{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:E,ino:d,mode:f,mtime:T,mtimeMs:h,nlink:R,rdev:S,size:C,uid:A}=e;this.#O=r,this.#S=n,this.#m=i,this.#f=s,this.#E=o,this.#i=a,this.#C=l,this.#d=c,this.#t=u,this.#_=E,this.#a=d,this.#s=f,this.#T=T,this.#R=h,this.#n=R,this.#c=S,this.#l=C,this.#o=A;let p=L_(e);this.#r=this.#r&Su|p|HB,p!==dn&&p!==Xn&&p!==Ro&&(this.#r|=pu)}#$=[];#V=!1;#q(e){this.#V=!1;let r=this.#$.slice();this.#$.length=0,r.forEach(n=>n(null,e))}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}let n=this.children();if(this.calledReaddir()){let s=n.slice(0,n.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(this.#$.push(e),this.#V)return;this.#V=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(s,o)=>{if(s)this.#B(s.code),n.provisional=0;else{for(let a of o)this.#G(a,n);this.#x(n)}this.#q(n.slice(0,n.provisional))})}#Y;async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();if(this.#Y)await this.#Y;else{let n=()=>{};this.#Y=new Promise(i=>n=i);try{for(let i of await this.#e.promises.readdir(r,{withFileTypes:!0}))this.#G(i,e);this.#x(e)}catch(i){this.#B(i.code),e.provisional=0}this.#Y=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();try{for(let n of this.#e.readdirSync(r,{withFileTypes:!0}))this.#G(n,e);this.#x(e)}catch(n){this.#B(n.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#r&WB)return!1;let e=fn&this.#r;return e===dn||e===Xn||e===Ro}shouldWalk(e,r){return(this.#r&Xn)===Xn&&!(this.#r&WB)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#w)return this.#w;if(!((eh|Qd|yn)&this.#r))try{let e=await this.#e.promises.realpath(this.fullpath());return this.#w=this.resolve(e)}catch{this.#L()}}realpathSync(){if(this.#w)return this.#w;if(!((eh|Qd|yn)&this.#r))try{let e=this.#e.realpathSync(this.fullpath());return this.#w=this.resolve(e)}catch{this.#L()}}[QB](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;let r=new Set([]),n=[],i=this;for(;i&&i.parent;)r.add(i),i.#b=n.join(this.sep),i.#g=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!r.has(i);)i.#b=void 0,i.#g=void 0,i=i.parent}};et.PathBase=Tr;var Nu=class t extends Tr{sep="\\";splitSep=Coe;constructor(e,r=dn,n,i,s,o,a){super(e,r,n,i,s,o,a)}newChild(e,r=dn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return th.win32.parse(e).root}getRoot(e){if(e=Ooe(e.toUpperCase()),e===this.root.name)return this.root;for(let[r,n]of Object.entries(this.roots))if(this.sameRoot(e,r))return this.roots[e]=n;return this.roots[e]=new mu(e,this).root}sameRoot(e,r=this.root.name){return e=e.toUpperCase().replace(/\//g,"\\").replace(qB,"$1\\"),e===r}};et.PathWin32=Nu;var Ou=class t extends Tr{splitSep="/";sep="/";constructor(e,r=dn,n,i,s,o,a){super(e,r,n,i,s,o,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=dn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};et.PathPosix=Ou;var Cu=class{root;rootPath;roots;cwd;#e;#t;#s;nocase;#n;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=Au}={}){this.#n=kB(o),(e instanceof URL||e.startsWith("file://"))&&(e=(0,_oe.fileURLToPath)(e));let a=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new Iu,this.#t=new Iu,this.#s=new rh(s);let l=a.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#n),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,E=r.sep,d=this.rootPath,f=!1;for(let T of l){let h=u--;c=c.child(T,{relative:new Array(h).fill("..").join(E),relativePosix:new Array(h).fill("..").join("/"),fullpath:d+=(f?"":E)+T}),f=!0}this.cwd=c}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#s}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#e.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpath();return this.#e.set(r,i),i}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#t.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpathPosix();return this.#t.set(r,i),i}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e,e=this.cwd);let{withFileTypes:n}=r;if(e.canReaddir()){let i=await e.readdir();return n?i:i.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e,e=this.cwd);let{withFileTypes:n=!0}=r;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map(i=>i.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e.withFileTypes,e=this.cwd);let n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e.withFileTypes,e=this.cwd);let n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e.withFileTypes,e=this.cwd);let n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e.withFileTypes,e=this.cwd);let n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set,c=(E,d)=>{l.add(E),E.readdirCB((f,T)=>{if(f)return d(f);let h=T.length;if(!h)return d();let R=()=>{--h===0&&d()};for(let S of T)(!s||s(S))&&a.push(n?S:S.fullpath()),i&&S.isSymbolicLink()?S.realpath().then(C=>C?.isUnknown()?C.lstat():C).then(C=>C?.shouldWalk(l,o)?c(C,R):R()):S.shouldWalk(l,o)?c(S,R):R()},!0)},u=e;return new Promise((E,d)=>{c(u,f=>{if(f)return d(f);E(a)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set([e]);for(let c of l){let u=c.readdirSync();for(let E of u){(!s||s(E))&&a.push(n?E:E.fullpath());let d=E;if(E.isSymbolicLink()){if(!(i&&(d=E.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(l,o)&&l.add(d)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r;(!s||s(e))&&(yield n?e:e.fullpath());let a=new Set([e]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield n?u:u.fullpath());let E=u;if(u.isSymbolicLink()){if(!(i&&(E=u.realpathSync())))continue;E.isUnknown()&&E.lstatSync()}E.shouldWalk(a,o)&&a.add(E)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new GB.Minipass({objectMode:!0});(!s||s(e))&&a.write(n?e:e.fullpath());let l=new Set,c=[e],u=0,E=()=>{let d=!1;for(;!d;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let T=(R,S,C=!1)=>{if(R)return a.emit("error",R);if(i&&!C){let A=[];for(let p of S)p.isSymbolicLink()&&A.push(p.realpath().then(g=>g?.isUnknown()?g.lstat():g));if(A.length){Promise.all(A).then(()=>T(null,S,!0));return}}for(let A of S)A&&(!s||s(A))&&(a.write(n?A:A.fullpath())||(d=!0));u--;for(let A of S){let p=A.realpathCached()||A;p.shouldWalk(l,o)&&c.push(p)}d&&!a.flowing?a.once("drain",E):h||E()},h=!0;f.readdirCB(T,!0),h=!1}};return E(),a}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new GB.Minipass({objectMode:!0}),l=new Set;(!s||s(e))&&a.write(n?e:e.fullpath());let c=[e],u=0,E=()=>{let d=!1;for(;!d;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let T=f.readdirSync();for(let h of T)(!s||s(h))&&(a.write(n?h:h.fullpath())||(d=!0));u--;for(let h of T){let R=h;if(h.isSymbolicLink()){if(!(i&&(R=h.realpathSync())))continue;R.isUnknown()&&R.lstatSync()}R.shouldWalk(l,o)&&c.push(R)}}d&&!a.flowing&&a.once("drain",E)};return E(),a}chdir(e=this.cwd){let r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[QB](r)}};et.PathScurryBase=Cu;var mu=class extends Cu{sep="\\";constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,th.win32,"\\",{...r,nocase:n}),this.nocase=n;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(e){return th.win32.parse(e).root.toUpperCase()}newRoot(e){return new Nu(this.rootPath,Xn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}};et.PathScurryWin32=mu;var gu=class extends Cu{sep="/";constructor(e=process.cwd(),r={}){let{nocase:n=!1}=r;super(e,th.posix,"/",{...r,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new Ou(this.rootPath,Xn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}};et.PathScurryPosix=gu;var nh=class extends gu{constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,{...r,nocase:n})}};et.PathScurryDarwin=nh;et.Path=process.platform==="win32"?Nu:Ou;et.PathScurry=process.platform==="win32"?mu:process.platform==="darwin"?nh:gu});var w_=y(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.Pattern=void 0;var goe=fs(),yoe=t=>t.length>=1,Loe=t=>t.length>=1,b_=class t{#e;#t;#s;length;#n;#o;#_;#c;#E;#a;#l=!0;constructor(e,r,n,i){if(!yoe(e))throw new TypeError("empty pattern list");if(!Loe(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=r,this.#s=n,this.#n=i,this.#s===0){if(this.isUNC()){let[s,o,a,l,...c]=this.#e,[u,E,d,f,...T]=this.#t;c[0]===""&&(c.shift(),T.shift());let h=[s,o,a,l,""].join("/"),R=[u,E,d,f,""].join("/");this.#e=[h,...c],this.#t=[R,...T],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...l]=this.#t;o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";this.#e=[c,...o],this.#t=[u,...l],this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]=="string"}isGlobstar(){return this.#e[this.#s]===goe.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#_=this.#_||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new t(this.#e,this.#t,this.#s+1,this.#n),this.#o.#a=this.#a,this.#o.#E=this.#E,this.#o.#c=this.#c,this.#o):this.#o=null}isUNC(){let e=this.#e;return this.#E!==void 0?this.#E:this.#E=this.#n==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3]}isDrive(){let e=this.#e;return this.#c!==void 0?this.#c:this.#c=this.#n==="win32"&&this.#s===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){let e=this.#e;return this.#a!==void 0?this.#a:this.#a=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){let e=this.#e[0];return typeof e=="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#l?!1:(this.#l=!1,!0)}};ih.Pattern=b_});var sF=y(Br=>{"use strict";var boe=Br&&Br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});Br.Minipass=Br.isWritable=Br.isReadable=Br.isStream=void 0;var eF=typeof process=="object"&&process?process:{stdout:null,stderr:null},B_=require("node:events"),iF=boe(require("node:stream")),woe=require("node:string_decoder"),Doe=t=>!!t&&typeof t=="object"&&(t instanceof Eh||t instanceof iF.default||(0,Br.isReadable)(t)||(0,Br.isWritable)(t));Br.isStream=Doe;var Poe=t=>!!t&&typeof t=="object"&&t instanceof B_.EventEmitter&&typeof t.pipe=="function"&&t.pipe!==iF.default.Writable.prototype.pipe;Br.isReadable=Poe;var Moe=t=>!!t&&typeof t=="object"&&t instanceof B_.EventEmitter&&typeof t.write=="function"&&typeof t.end=="function";Br.isWritable=Moe;var wi=Symbol("EOF"),Di=Symbol("maybeEmitEnd"),Ts=Symbol("emittedEnd"),sh=Symbol("emittingEnd"),yu=Symbol("emittedError"),oh=Symbol("closed"),tF=Symbol("read"),ah=Symbol("flush"),rF=Symbol("flushChunk"),Ln=Symbol("encoding"),el=Symbol("decoder"),ir=Symbol("flowing"),Lu=Symbol("paused"),tl=Symbol("resume"),sr=Symbol("buffer"),Ur=Symbol("pipes"),or=Symbol("bufferLength"),D_=Symbol("bufferPush"),lh=Symbol("bufferShift"),mr=Symbol("objectMode"),xt=Symbol("destroyed"),P_=Symbol("error"),M_=Symbol("emitData"),nF=Symbol("emitEnd"),x_=Symbol("emitEnd2"),Kn=Symbol("async"),v_=Symbol("abort"),ch=Symbol("aborted"),bu=Symbol("signal"),Ao=Symbol("dataListeners"),Qr=Symbol("discarded"),wu=t=>Promise.resolve().then(t),xoe=t=>t(),voe=t=>t==="end"||t==="finish"||t==="prefinish",Uoe=t=>t instanceof ArrayBuffer||!!t&&typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,Boe=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),uh=class{src;dest;opts;ondrain;constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[tl](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},U_=class extends uh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},Foe=t=>!!t.objectMode,Goe=t=>!t.objectMode&&!!t.encoding&&t.encoding!=="buffer",Eh=class extends B_.EventEmitter{[ir]=!1;[Lu]=!1;[Ur]=[];[sr]=[];[mr];[Ln];[Kn];[el];[wi]=!1;[Ts]=!1;[sh]=!1;[oh]=!1;[yu]=null;[or]=0;[xt]=!1;[bu];[ch]=!1;[Ao]=0;[Qr]=!1;writable=!0;readable=!0;constructor(...e){let r=e[0]||{};if(super(),r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Foe(r)?(this[mr]=!0,this[Ln]=null):Goe(r)?(this[Ln]=r.encoding,this[mr]=!1):(this[mr]=!1,this[Ln]=null),this[Kn]=!!r.async,this[el]=this[Ln]?new woe.StringDecoder(this[Ln]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[sr]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Ur]});let{signal:n}=r;n&&(this[bu]=n,n.aborted?this[v_]():n.addEventListener("abort",()=>this[v_]()))}get bufferLength(){return this[or]}get encoding(){return this[Ln]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[mr]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Kn]}set async(e){this[Kn]=this[Kn]||!!e}[v_](){this[ch]=!0,this.emit("abort",this[bu]?.reason),this.destroy(this[bu]?.reason)}get aborted(){return this[ch]}set aborted(e){}write(e,r,n){if(this[ch])return!1;if(this[wi])throw new Error("write after end");if(this[xt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Kn]?wu:xoe;if(!this[mr]&&!Buffer.isBuffer(e)){if(Boe(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(Uoe(e))e=Buffer.from(e);else if(typeof e!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[mr]?(this[ir]&&this[or]!==0&&this[ah](!0),this[ir]?this.emit("data",e):this[D_](e),this[or]!==0&&this.emit("readable"),n&&i(n),this[ir]):e.length?(typeof e=="string"&&!(r===this[Ln]&&!this[el]?.lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Ln]&&(e=this[el].write(e)),this[ir]&&this[or]!==0&&this[ah](!0),this[ir]?this.emit("data",e):this[D_](e),this[or]!==0&&this.emit("readable"),n&&i(n),this[ir]):(this[or]!==0&&this.emit("readable"),n&&i(n),this[ir])}read(e){if(this[xt])return null;if(this[Qr]=!1,this[or]===0||e===0||e&&e>this[or])return this[Di](),null;this[mr]&&(e=null),this[sr].length>1&&!this[mr]&&(this[sr]=[this[Ln]?this[sr].join(""):Buffer.concat(this[sr],this[or])]);let r=this[tF](e||null,this[sr][0]);return this[Di](),r}[tF](e,r){if(this[mr])this[lh]();else{let n=r;e===n.length||e===null?this[lh]():typeof n=="string"?(this[sr][0]=n.slice(e),r=n.slice(0,e),this[or]-=e):(this[sr][0]=n.subarray(e),r=n.subarray(0,e),this[or]-=e)}return this.emit("data",r),!this[sr].length&&!this[wi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r="utf8"),e!==void 0&&this.write(e,r),n&&this.once("end",n),this[wi]=!0,this.writable=!1,(this[ir]||!this[Lu])&&this[Di](),this}[tl](){this[xt]||(!this[Ao]&&!this[Ur].length&&(this[Qr]=!0),this[Lu]=!1,this[ir]=!0,this.emit("resume"),this[sr].length?this[ah]():this[wi]?this[Di]():this.emit("drain"))}resume(){return this[tl]()}pause(){this[ir]=!1,this[Lu]=!0,this[Qr]=!1}get destroyed(){return this[xt]}get flowing(){return this[ir]}get paused(){return this[Lu]}[D_](e){this[mr]?this[or]+=1:this[or]+=e.length,this[sr].push(e)}[lh](){return this[mr]?this[or]-=1:this[or]-=this[sr][0].length,this[sr].shift()}[ah](e=!1){do;while(this[rF](this[lh]())&&this[sr].length);!e&&!this[sr].length&&!this[wi]&&this.emit("drain")}[rF](e){return this.emit("data",e),this[ir]}pipe(e,r){if(this[xt])return e;this[Qr]=!1;let n=this[Ts];return r=r||{},e===eF.stdout||e===eF.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Ur].push(r.proxyErrors?new U_(this,e,r):new uh(this,e,r)),this[Kn]?wu(()=>this[tl]()):this[tl]()),e}unpipe(e){let r=this[Ur].find(n=>n.dest===e);r&&(this[Ur].length===1?(this[ir]&&this[Ao]===0&&(this[ir]=!1),this[Ur]=[]):this[Ur].splice(this[Ur].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);if(e==="data")this[Qr]=!1,this[Ao]++,!this[Ur].length&&!this[ir]&&this[tl]();else if(e==="readable"&&this[or]!==0)super.emit("readable");else if(voe(e)&&this[Ts])super.emit(e),this.removeAllListeners(e);else if(e==="error"&&this[yu]){let i=r;this[Kn]?wu(()=>i.call(this,this[yu])):i.call(this,this[yu])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){let n=super.off(e,r);return e==="data"&&(this[Ao]=this.listeners("data").length,this[Ao]===0&&!this[Qr]&&!this[Ur].length&&(this[ir]=!1)),n}removeAllListeners(e){let r=super.removeAllListeners(e);return(e==="data"||e===void 0)&&(this[Ao]=0,!this[Qr]&&!this[Ur].length&&(this[ir]=!1)),r}get emittedEnd(){return this[Ts]}[Di](){!this[sh]&&!this[Ts]&&!this[xt]&&this[sr].length===0&&this[wi]&&(this[sh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[oh]&&this.emit("close"),this[sh]=!1)}emit(e,...r){let n=r[0];if(e!=="error"&&e!=="close"&&e!==xt&&this[xt])return!1;if(e==="data")return!this[mr]&&!n?!1:this[Kn]?(wu(()=>this[M_](n)),!0):this[M_](n);if(e==="end")return this[nF]();if(e==="close"){if(this[oh]=!0,!this[Ts]&&!this[xt])return!1;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[yu]=n,super.emit(P_,n);let s=!this[bu]||this.listeners("error").length?super.emit("error",n):!1;return this[Di](),s}else if(e==="resume"){let s=super.emit("resume");return this[Di](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,...r);return this[Di](),i}[M_](e){for(let n of this[Ur])n.dest.write(e)===!1&&this.pause();let r=this[Qr]?!1:super.emit("data",e);return this[Di](),r}[nF](){return this[Ts]?!1:(this[Ts]=!0,this.readable=!1,this[Kn]?(wu(()=>this[x_]()),!0):this[x_]())}[x_](){if(this[el]){let r=this[el].end();if(r){for(let n of this[Ur])n.dest.write(r);this[Qr]||super.emit("data",r)}}for(let r of this[Ur])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){let e=Object.assign([],{dataLength:0});this[mr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[mr]||(e.dataLength+=n.length)}),await r,e}async concat(){if(this[mr])throw new Error("cannot concat in objectMode");let e=await this.collect();return this[Ln]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise((e,r)=>{this.on(xt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[Symbol.asyncIterator](){this[Qr]=!1;let e=!1,r=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[wi])return r();let s,o,a=E=>{this.off("data",l),this.off("end",c),this.off(xt,u),r(),o(E)},l=E=>{this.off("error",a),this.off("end",c),this.off(xt,u),this.pause(),s({value:E,done:!!this[wi]})},c=()=>{this.off("error",a),this.off("data",l),this.off(xt,u),r(),s({done:!0,value:void 0})},u=()=>a(new Error("stream destroyed"));return new Promise((E,d)=>{o=d,s=E,this.once(xt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Qr]=!1;let e=!1,r=()=>(this.pause(),this.off(P_,r),this.off(xt,r),this.off("end",r),e=!0,{done:!0,value:void 0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{done:!1,value:i}};return this.once("end",r),this.once(P_,r),this.once(xt,r),{next:n,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(e){if(this[xt])return e?this.emit("error",e):this.emit(xt),this;this[xt]=!0,this[Qr]=!0,this[sr].length=0,this[or]=0;let r=this;return typeof r.close=="function"&&!this[oh]&&r.close(),e?this.emit("error",e):this.emit(xt),this}static get isStream(){return Br.isStream}};Br.Minipass=Eh});var G_=y(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.Ignore=void 0;var oF=fs(),Hoe=w_(),Woe=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",F_=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:o=Woe}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of e)this.add(a)}add(e){let r=new oF.Minimatch(e,this.mmopts);for(let n=0;n<r.set.length;n++){let i=r.set[n],s=r.globParts[n];if(!i||!s)throw new Error("invalid pattern object");for(;i[0]==="."&&s[0]===".";)i.shift(),s.shift();let o=new Hoe.Pattern(i,s,0,this.platform),a=new oF.Minimatch(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){let r=e.fullpath(),n=`${r}/`,i=e.relative()||".",s=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(n))return!0;return!1}childrenIgnored(e){let r=e.fullpath()+"/",n=(e.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(n))return!0;for(let i of this.absoluteChildren)if(i.match(r))return!0;return!1}};fh.Ignore=F_});var lF=y(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.Processor=jn.SubWalks=jn.MatchRecord=jn.HasWalkedCache=void 0;var aF=fs(),dh=class t{store;constructor(e=new Map){this.store=e}copy(){return new t(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){let n=e.fullpath(),i=this.store.get(n);i?i.add(r.globString()):this.store.set(n,new Set([r.globString()]))}};jn.HasWalkedCache=dh;var hh=class{store=new Map;add(e,r,n){let i=(r?2:0)|(n?1:0),s=this.store.get(e);this.store.set(e,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}};jn.MatchRecord=hh;var Th=class{store=new Map;add(e,r){if(!e.canReaddir())return;let n=this.store.get(e);n?n.find(i=>i.globString()===r.globString())||n.push(r):this.store.set(e,[r])}get(e){let r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}};jn.SubWalks=Th;var H_=class t{hasWalkedCache;matches=new hh;subwalks=new Th;patterns;follow;dot;opts;constructor(e,r){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new dh}processPatterns(e,r){this.patterns=r;let n=r.map(i=>[e,i]);for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let E=s.rest();if(E)s=E;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)i=i.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof l=="string"){let E=l===".."||l===""||l===".";this.matches.add(i.resolve(l),a,E);continue}else if(l===aF.GLOBSTAR){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let E=c?.pattern(),d=c?.rest();if(!c||(E===""||E===".")&&!d)this.matches.add(i,a,E===""||E===".");else if(E===".."){let f=i.parent||i;d?this.hasWalkedCache.hasWalked(f,d)||this.subwalks.add(f,d):this.matches.add(f,a,!0)}}else l instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(e,r){let n=this.subwalks.get(e),i=this.child();for(let s of r)for(let o of n){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===aF.GLOBSTAR?i.testGlobstar(s,o,c,a):l instanceof RegExp?i.testRegExp(s,l,c,a):i.testString(s,l,c,a)}return i}testGlobstar(e,r,n,i){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(n&&r.checkFollowGlobstar()?this.subwalks.add(e,n):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),n){let s=n.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,n.rest(),i);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,n)}else s instanceof RegExp&&this.testRegExp(e,s,n.rest(),i)}}testRegExp(e,r,n,i){r.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,r,n,i){e.isNamed(r)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}};jn.Processor=H_});var EF=y(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.GlobStream=Ss.GlobWalker=Ss.GlobUtil=void 0;var Yoe=sF(),cF=G_(),uF=lF(),$oe=(t,e)=>typeof t=="string"?new cF.Ignore([t],e):Array.isArray(t)?new cF.Ignore(t,e):t,Du=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#s;signal;maxDepth;includeChildMatches;constructor(e,r,n){if(this.patterns=e,this.path=r,this.opts=n,this.#s=!n.posix&&n.platform==="win32"?"\\":"/",this.includeChildMatches=n.includeChildMatches!==!1,(n.ignore||!this.includeChildMatches)&&(this.#t=$oe(n.ignore??[],n),!this.includeChildMatches&&typeof this.#t.add!="function")){let i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#n(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#o(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#n(e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#n(e))return;if(!this.includeChildMatches&&this.#t?.add){let s=`${e.relativePosix()}/**`;this.#t.add(s)}let n=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);let i=this.opts.mark&&e.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){let s=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(s+i)}else{let s=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(s?o+s+i:"."+i)}}async match(e,r,n){let i=await this.matchCheck(e,n);i&&this.matchFinish(i,r)}matchSync(e,r,n){let i=this.matchCheckSync(e,n);i&&this.matchFinish(i,r)}walkCB(e,r,n){this.signal?.aborted&&n(),this.walkCB2(e,r,new uF.Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,n,o):a.readdirCB((c,u)=>this.walkCB3(a,u,n,o),!0)}o()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of n.subwalks.entries())s++,this.walkCB2(a,l,n.child(),o);o()}walkCBSync(e,r,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,r,new uF.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,n,o)}o()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let[a,l]of n.subwalks.entries())s++,this.walkCB2Sync(a,l,n.child(),o);o()}};Ss.GlobUtil=Du;var W_=class extends Du{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,r)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?r(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};Ss.GlobWalker=W_;var Y_=class extends Du{results;constructor(e,r,n){super(e,r,n),this.results=new Yoe.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let e=this.path;return e.isUnknown()?e.lstat().then(()=>{this.walkCB(e,this.patterns,()=>this.results.end())}):this.walkCB(e,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};Ss.GlobStream=Y_});var V_=y(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.Glob=void 0;var Voe=fs(),koe=require("node:url"),Sh=ZB(),qoe=w_(),Rh=EF(),Xoe=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",$_=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,koe.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=e,this.platform=r.platform||Xoe,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?Sh.PathScurryWin32:r.platform==="darwin"?Sh.PathScurryDarwin:r.platform?Sh.PathScurryPosix:Sh.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let n=this.platform==="darwin"||this.platform==="win32",i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new Voe.Minimatch(l,i)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new qoe.Pattern(l,u,0,this.platform)})}async walk(){return[...await new Rh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new Rh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new Rh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new Rh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};Ah.Glob=$_});var k_=y(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.hasMagic=void 0;var Koe=fs(),joe=(t,e={})=>{Array.isArray(t)||(t=[t]);for(let r of t)if(new Koe.Minimatch(r,e).hasMagic())return!0;return!1};ph.hasMagic=joe});var TF=y(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.glob=Ue.sync=Ue.iterate=Ue.iterateSync=Ue.stream=Ue.streamSync=Ue.Ignore=Ue.hasMagic=Ue.Glob=Ue.unescape=Ue.escape=void 0;Ue.globStreamSync=Pu;Ue.globStream=q_;Ue.globSync=X_;Ue.globIterateSync=Mu;Ue.globIterate=K_;var fF=fs(),po=V_(),zoe=k_(),hF=fs();Object.defineProperty(Ue,"escape",{enumerable:!0,get:function(){return hF.escape}});Object.defineProperty(Ue,"unescape",{enumerable:!0,get:function(){return hF.unescape}});var Joe=V_();Object.defineProperty(Ue,"Glob",{enumerable:!0,get:function(){return Joe.Glob}});var Qoe=k_();Object.defineProperty(Ue,"hasMagic",{enumerable:!0,get:function(){return Qoe.hasMagic}});var Zoe=G_();Object.defineProperty(Ue,"Ignore",{enumerable:!0,get:function(){return Zoe.Ignore}});function Pu(t,e={}){return new po.Glob(t,e).streamSync()}function q_(t,e={}){return new po.Glob(t,e).stream()}function X_(t,e={}){return new po.Glob(t,e).walkSync()}async function dF(t,e={}){return new po.Glob(t,e).walk()}function Mu(t,e={}){return new po.Glob(t,e).iterateSync()}function K_(t,e={}){return new po.Glob(t,e).iterate()}Ue.streamSync=Pu;Ue.stream=Object.assign(q_,{sync:Pu});Ue.iterateSync=Mu;Ue.iterate=Object.assign(K_,{sync:Mu});Ue.sync=Object.assign(X_,{stream:Pu,iterate:Mu});Ue.glob=Object.assign(dF,{glob:dF,globSync:X_,sync:Ue.sync,globStream:q_,stream:Ue.stream,globStreamSync:Pu,streamSync:Ue.streamSync,globIterate:K_,iterate:Ue.iterate,globIterateSync:Mu,iterateSync:Ue.iterateSync,Glob:po.Glob,hasMagic:zoe.hasMagic,escape:fF.escape,unescape:fF.unescape});Ue.glob.glob=Ue.glob});var pF=y((lMe,AF)=>{var RF=aA(),rl=require("path"),j_=Ov(),eae=FU(),tae=jU(),rae=rB(),nae=TF(),_o=AF.exports={},SF=/[\/\\]/g,iae=function(t,e){var r=[];return j_(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=eae(r,s):r=tae(r,s)}),r};_o.exists=function(){var t=rl.join.apply(rl,arguments);return RF.existsSync(t)};_o.expand=function(...t){var e=rae(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=iae(r,function(i){return nae.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=rl.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):RF.statSync(i)[e.filter]()}catch{return!1}})),n};_o.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return rl.join(s||"",o)}},r);var n=[],i={};return _o.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=rl.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=rl.join(r.cwd,s)),a=a.replace(SF,"/"),s=s.replace(SF,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};_o.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=j_(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return _o.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?j_(o):[o],s.result=_o.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var nl=y((uMe,NF)=>{var z_=aA(),_F=require("path"),sae=xf(),oae=gw(),IF=DA(),aae=oP(),cMe=require("stream").Stream,lae=dv().PassThrough,Zr=NF.exports={};Zr.file=pF();Zr.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};Zr.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};Zr.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},aae(...n)};Zr.isStream=function(t){return sae(t)};Zr.lazyReadStream=function(t){return new oae.Readable(function(){return z_.createReadStream(t)})};Zr.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):Zr.isStream(t)?t.pipe(new lae):t};Zr.sanitizePath=function(t){return IF(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};Zr.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};Zr.unixifyPath=function(t){return IF(t,!1).replace(/^\w+:/,"")};Zr.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),z_.readdir(t,function(i,s){var o=0,a,l;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);l=_F.join(t,a),z_.stat(l,function(u,E){n.push({path:l,relative:_F.relative(e,l).replace(/\\/g,"/"),stats:E}),E&&E.isDirectory()?Zr.walkdir(l,e,function(d,f){if(d)return r(d);f.forEach(function(T){n.push(T)}),c()}):c()})})()})}});var gF=y((CF,mF)=>{var cae=require("util"),uae={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function OF(t,e){Error.captureStackTrace(this,this.constructor),this.message=uae[t]||t,this.code=t,this.data=e}cae.inherits(OF,Error);CF=mF.exports=OF});var ht=y((EMe,yF)=>{"use strict";var J_=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};yF.exports={AggregateError:J_,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var Q_=y((fMe,LF)=>{"use strict";LF.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var gr=y((dMe,DF)=>{"use strict";var{format:Eae,inspect:_h}=Q_(),{AggregateError:fae}=ht(),dae=globalThis.AggregateError||fae,hae=Symbol("kIsNodeError"),Tae=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Sae=/^([A-Z][a-z0-9]*)+$/,Rae="__node_internal_",Ih={};function Io(t,e){if(!t)throw new Ih.ERR_INTERNAL_ASSERTION(e)}function bF(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Aae(t,e,r){if(typeof e=="function")return Io(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Io(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Eae(e,...r)}function Sr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Aae(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[hae]=!0,Ih[t]=n}function wF(t){let e=Rae+t.name;return Object.defineProperty(t,"name",{value:e}),t}function pae(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new dae([e,t],e.message);return r.code=e.code,r}return t||e}var Z_=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Ih.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Sr("ERR_ASSERTION","%s",Error);Sr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Io(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Io(typeof l=="string","All expected entries have to be of type string"),Tae.includes(l)?i.push(l.toLowerCase()):Sae.test(l)?s.push(l):(Io(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=_h(r,{depth:-1});n+=`. Received ${l}`}}else{let l=_h(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Sr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=_h(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Sr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Sr("ERR_MISSING_ARGS",(...t)=>{Io(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Sr("ERR_OUT_OF_RANGE",(t,e,r)=>{Io(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=bF(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=bF(n)),n+="n"}else n=_h(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Sr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Sr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Sr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Sr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Sr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Sr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Sr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Sr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Sr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Sr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Sr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);DF.exports={AbortError:Z_,aggregateTwoErrors:wF(pae),hideStackFrames:wF,codes:Ih}});var Fr=y((hMe,tI)=>{"use strict";var _ae=require("buffer"),{format:Iae,inspect:Nae}=Q_(),{codes:{ERR_INVALID_ARG_TYPE:eI}}=gr(),{kResistStopPropagation:Oae,AggregateError:Cae,SymbolDispose:mae}=ht(),gae=globalThis.AbortSignal||Dt().AbortSignal,yae=globalThis.AbortController||Dt().AbortController,Lae=Object.getPrototypeOf(async function(){}).constructor,PF=globalThis.Blob||_ae.Blob,bae=typeof PF<"u"?function(e){return e instanceof PF}:function(e){return!1},MF=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new eI(e,"AbortSignal",t)},wae=(t,e)=>{if(typeof t!="function")throw new eI(e,"Function",t)};tI.exports={AggregateError:Cae,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:Iae,inspect:Nae,types:{isAsyncFunction(t){return t instanceof Lae},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:bae,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new eI("signal","AbortSignal",e);MF(e,"signal"),wae(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Oae]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[mae](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:gae.any||function(e){if(e.length===1)return e[0];let r=new yae,n=()=>r.abort();return e.forEach(i=>{MF(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};tI.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var sl=y((TMe,$F)=>{"use strict";var{ArrayIsArray:nI,ArrayPrototypeIncludes:BF,ArrayPrototypeJoin:FF,ArrayPrototypeMap:Dae,NumberIsInteger:iI,NumberIsNaN:Pae,NumberMAX_SAFE_INTEGER:Mae,NumberMIN_SAFE_INTEGER:xae,NumberParseInt:vae,ObjectPrototypeHasOwnProperty:Uae,RegExpPrototypeExec:GF,String:Bae,StringPrototypeToUpperCase:Fae,StringPrototypeTrim:Gae}=ht(),{hideStackFrames:hn,codes:{ERR_SOCKET_BAD_PORT:Hae,ERR_INVALID_ARG_TYPE:yr,ERR_INVALID_ARG_VALUE:il,ERR_OUT_OF_RANGE:No,ERR_UNKNOWN_SIGNAL:xF}}=gr(),{normalizeEncoding:Wae}=Fr(),{isAsyncFunction:Yae,isArrayBufferView:$ae}=Fr().types,vF={};function Vae(t){return t===(t|0)}function kae(t){return t===t>>>0}var qae=/^[0-7]+$/,Xae="must be a 32-bit unsigned integer or an octal string";function Kae(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(GF(qae,t)===null)throw new il(e,t,Xae);t=vae(t,8)}return HF(t,e),t}var jae=hn((t,e,r=xae,n=Mae)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!iI(t))throw new No(e,"an integer",t);if(t<r||t>n)throw new No(e,`>= ${r} && <= ${n}`,t)}),zae=hn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!iI(t))throw new No(e,"an integer",t);if(t<r||t>n)throw new No(e,`>= ${r} && <= ${n}`,t)}),HF=hn((t,e,r=!1)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!iI(t))throw new No(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new No(e,`>= ${n} && <= ${i}`,t)});function sI(t,e){if(typeof t!="string")throw new yr(e,"string",t)}function Jae(t,e,r=void 0,n){if(typeof t!="number")throw new yr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Pae(t))throw new No(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Qae=hn((t,e,r)=>{if(!BF(r,t)){let i="must be one of: "+FF(Dae(r,s=>typeof s=="string"?`'${s}'`:Bae(s)),", ");throw new il(e,t,i)}});function WF(t,e){if(typeof t!="boolean")throw new yr(e,"boolean",t)}function rI(t,e,r){return t==null||!Uae(t,e)?r:t[e]}var Zae=hn((t,e,r=null)=>{let n=rI(r,"allowArray",!1),i=rI(r,"allowFunction",!1);if(!rI(r,"nullable",!1)&&t===null||!n&&nI(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new yr(e,"Object",t)}),ele=hn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new yr(e,"a dictionary",t)}),Nh=hn((t,e,r=0)=>{if(!nI(t))throw new yr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new il(e,t,n)}});function tle(t,e){Nh(t,e);for(let r=0;r<t.length;r++)sI(t[r],`${e}[${r}]`)}function rle(t,e){Nh(t,e);for(let r=0;r<t.length;r++)WF(t[r],`${e}[${r}]`)}function nle(t,e){Nh(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new yr(i,"AbortSignal",n);YF(n,i)}}function ile(t,e="signal"){if(sI(t,e),vF[t]===void 0)throw vF[Fae(t)]!==void 0?new xF(t+" (signals must use all capital letters)"):new xF(t)}var sle=hn((t,e="buffer")=>{if(!$ae(t))throw new yr(e,["Buffer","TypedArray","DataView"],t)});function ole(t,e){let r=Wae(e),n=t.length;if(r==="hex"&&n%2!==0)throw new il("encoding",e,`is invalid for data of length ${n}`)}function ale(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Gae(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Hae(e,t,r);return t|0}var YF=hn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new yr(e,"AbortSignal",t)}),lle=hn((t,e)=>{if(typeof t!="function")throw new yr(e,"Function",t)}),cle=hn((t,e)=>{if(typeof t!="function"||Yae(t))throw new yr(e,"Function",t)}),ule=hn((t,e)=>{if(t!==void 0)throw new yr(e,"undefined",t)});function Ele(t,e,r){if(!BF(r,t))throw new yr(e,`('${FF(r,"|")}')`,t)}var fle=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function UF(t,e){if(typeof t>"u"||!GF(fle,t))throw new il(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function dle(t){if(typeof t=="string")return UF(t,"hints"),t;if(nI(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];UF(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new il("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}$F.exports={isInt32:Vae,isUint32:kae,parseFileMode:Kae,validateArray:Nh,validateStringArray:tle,validateBooleanArray:rle,validateAbortSignalArray:nle,validateBoolean:WF,validateBuffer:sle,validateDictionary:ele,validateEncoding:ole,validateFunction:lle,validateInt32:zae,validateInteger:jae,validateNumber:Jae,validateObject:Zae,validateOneOf:Qae,validatePlainFunction:cle,validatePort:ale,validateSignalName:ile,validateString:sI,validateUint32:HF,validateUndefined:ule,validateUnion:Ele,validateAbortSignal:YF,validateLinkHeaderValue:dle}});var Jn=y((SMe,iG)=>{"use strict";var{SymbolAsyncIterator:VF,SymbolIterator:kF,SymbolFor:Oo}=ht(),qF=Oo("nodejs.stream.destroyed"),XF=Oo("nodejs.stream.errored"),oI=Oo("nodejs.stream.readable"),aI=Oo("nodejs.stream.writable"),KF=Oo("nodejs.stream.disturbed"),hle=Oo("nodejs.webstream.isClosedPromise"),Tle=Oo("nodejs.webstream.controllerErrorFunction");function Oh(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Ch(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Sle(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function zn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function jF(t){return!!(t&&!zn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function zF(t){return!!(t&&!zn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function JF(t){return!!(t&&!zn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Rle(t){return jF(t)||zF(t)||JF(t)}function Ale(t,e){return t==null?!1:e===!0?typeof t[VF]=="function":e===!1?typeof t[kF]=="function":typeof t[VF]=="function"||typeof t[kF]=="function"}function mh(t){if(!zn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[qF]||n!=null&&n.destroyed)}function QF(t){if(!Ch(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function ple(t,e){if(!Ch(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function _le(t){if(!Oh(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function ZF(t,e){if(!Oh(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function eG(t){return t&&t[oI]!=null?t[oI]:typeof t?.readable!="boolean"?null:mh(t)?!1:Oh(t)&&t.readable&&!ZF(t)}function tG(t){return t&&t[aI]!=null?t[aI]:typeof t?.writable!="boolean"?null:mh(t)?!1:Ch(t)&&t.writable&&!QF(t)}function Ile(t,e){return zn(t)?mh(t)?!0:!(e?.readable!==!1&&eG(t)||e?.writable!==!1&&tG(t)):null}function Nle(t){var e,r;return zn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Ole(t){var e,r;return zn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Cle(t){if(!zn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&rG(t)?t._closed:null}function rG(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function nG(t){return typeof t._sent100=="boolean"&&rG(t)}function mle(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function gle(t){if(!zn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&nG(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function yle(t){var e;return!!(t&&((e=t[KF])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Lle(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[XF])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}iG.exports={isDestroyed:mh,kIsDestroyed:qF,isDisturbed:yle,kIsDisturbed:KF,isErrored:Lle,kIsErrored:XF,isReadable:eG,kIsReadable:oI,kIsClosedPromise:hle,kControllerErrorFunction:Tle,kIsWritable:aI,isClosed:Cle,isDuplexNodeStream:Sle,isFinished:Ile,isIterable:Ale,isReadableNodeStream:Oh,isReadableStream:jF,isReadableEnded:_le,isReadableFinished:ZF,isReadableErrored:Ole,isNodeStream:zn,isWebStream:Rle,isWritable:tG,isWritableNodeStream:Ch,isWritableStream:zF,isWritableEnded:QF,isWritableFinished:ple,isWritableErrored:Nle,isServerRequest:mle,isServerResponse:nG,willEmitClose:gle,isTransformStream:JF}});var Pi=y((RMe,fI)=>{"use strict";var Rs=tt(),{AbortError:dG,codes:ble}=gr(),{ERR_INVALID_ARG_TYPE:wle,ERR_STREAM_PREMATURE_CLOSE:sG}=ble,{kEmptyObject:cI,once:uI}=Fr(),{validateAbortSignal:Dle,validateFunction:Ple,validateObject:Mle,validateBoolean:xle}=sl(),{Promise:vle,PromisePrototypeThen:Ule,SymbolDispose:hG}=ht(),{isClosed:Ble,isReadable:oG,isReadableNodeStream:lI,isReadableStream:Fle,isReadableFinished:aG,isReadableErrored:lG,isWritable:cG,isWritableNodeStream:uG,isWritableStream:Gle,isWritableFinished:EG,isWritableErrored:fG,isNodeStream:Hle,willEmitClose:Wle,kIsClosedPromise:Yle}=Jn(),ol;function $le(t){return t.setHeader&&typeof t.abort=="function"}var EI=()=>{};function TG(t,e,r){var n,i;if(arguments.length===2?(r=e,e=cI):e==null?e=cI:Mle(e,"options"),Ple(r,"callback"),Dle(e.signal,"options.signal"),r=uI(r),Fle(t)||Gle(t))return Vle(t,e,r);if(!Hle(t))throw new wle("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:lI(t),o=(i=e.writable)!==null&&i!==void 0?i:uG(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=Wle(t)&&lI(t)===s&&uG(t)===o,E=EG(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=aG(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=g=>{r.call(t,g)},R=Ble(t),S=()=>{R=!0;let g=fG(t)||lG(t);if(g&&typeof g!="boolean")return r.call(t,g);if(s&&!f&&lI(t,!0)&&!aG(t,!1))return r.call(t,new sG);if(o&&!E&&!EG(t,!1))return r.call(t,new sG);r.call(t)},C=()=>{R=!0;let g=fG(t)||lG(t);if(g&&typeof g!="boolean")return r.call(t,g);r.call(t)},A=()=>{t.req.on("finish",d)};$le(t)?(t.on("complete",d),u||t.on("abort",S),t.req?A():t.on("request",A)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",S),R?Rs.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Rs.nextTick(C):(!s&&(!u||oG(t))&&(E||cG(t)===!1)||!o&&(!u||cG(t))&&(f||oG(t)===!1)||l&&t.req&&t.aborted)&&Rs.nextTick(C);let p=()=>{r=EI,t.removeListener("aborted",S),t.removeListener("complete",d),t.removeListener("abort",S),t.removeListener("request",A),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!R){let g=()=>{let D=r;p(),D.call(t,new dG(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Rs.nextTick(g);else{ol=ol||Fr().addAbortListener;let D=ol(e.signal,g),O=r;r=uI((...M)=>{D[hG](),O.apply(t,M)})}}return p}function Vle(t,e,r){let n=!1,i=EI;if(e.signal)if(i=()=>{n=!0,r.call(t,new dG(void 0,{cause:e.signal.reason}))},e.signal.aborted)Rs.nextTick(i);else{ol=ol||Fr().addAbortListener;let o=ol(e.signal,i),a=r;r=uI((...l)=>{o[hG](),a.apply(t,l)})}let s=(...o)=>{n||Rs.nextTick(()=>r.apply(t,o))};return Ule(t[Yle].promise,s,s),EI}function kle(t,e){var r;let n=!1;return e===null&&(e=cI),(r=e)!==null&&r!==void 0&&r.cleanup&&(xle(e.cleanup,"cleanup"),n=e.cleanup),new vle((i,s)=>{let o=TG(t,e,a=>{n&&o(),a?s(a):i()})})}fI.exports=TG;fI.exports.finished=kle});var Co=y((AMe,OG)=>{"use strict";var Qn=tt(),{aggregateTwoErrors:qle,codes:{ERR_MULTIPLE_CALLBACK:Xle},AbortError:Kle}=gr(),{Symbol:AG}=ht(),{kIsDestroyed:jle,isDestroyed:zle,isFinished:Jle,isServerRequest:Qle}=Jn(),pG=AG("kDestroy"),dI=AG("kConstruct");function _G(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Zle(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(_G(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?SG(this,t,e):this.once(pG,function(s){SG(this,qle(s,t),e)}),this)}function SG(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;_G(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Qn.nextTick(ece,t,s):Qn.nextTick(IG,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function ece(t,e){hI(t,e),IG(t)}function IG(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function hI(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function tce(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function TI(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Qn.nextTick(hI,t,e):hI(t,e))}function rce(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(dI,e),!(t.listenerCount(dI)>1)&&Qn.nextTick(nce,t)}function nce(t){let e=!1;function r(n){if(e){TI(t,n??new Xle);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(pG,n):n?TI(t,n,!0):Qn.nextTick(ice,t)}try{t._construct(n=>{Qn.nextTick(r,n)})}catch(n){Qn.nextTick(r,n)}}function ice(t){t.emit(dI)}function RG(t){return t?.setHeader&&typeof t.abort=="function"}function NG(t){t.emit("close")}function sce(t,e){t.emit("error",e),Qn.nextTick(NG,t)}function oce(t,e){!t||zle(t)||(!e&&!Jle(t)&&(e=new Kle),Qle(t)?(t.socket=null,t.destroy(e)):RG(t)?t.abort():RG(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Qn.nextTick(sce,t,e):Qn.nextTick(NG,t),t.destroyed||(t[jle]=!0))}OG.exports={construct:rce,destroyer:oce,destroy:Zle,undestroy:tce,errorOrDestroy:TI}});var Lh=y((pMe,mG)=>{"use strict";var{ArrayIsArray:ace,ObjectSetPrototypeOf:CG}=ht(),{EventEmitter:gh}=require("events");function yh(t){gh.call(this,t)}CG(yh.prototype,gh.prototype);CG(yh,gh);yh.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),gh.listenerCount(this,"error")===0&&this.emit("error",u)}SI(r,"error",l),SI(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function SI(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):ace(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}mG.exports={Stream:yh,prependListener:SI}});var xu=y((_Me,bh)=>{"use strict";var{SymbolDispose:lce}=ht(),{AbortError:gG,codes:cce}=gr(),{isNodeStream:yG,isWebStream:uce,kControllerErrorFunction:Ece}=Jn(),fce=Pi(),{ERR_INVALID_ARG_TYPE:LG}=cce,RI,dce=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new LG(e,"AbortSignal",t)};bh.exports.addAbortSignal=function(e,r){if(dce(e,"signal"),!yG(r)&&!uce(r))throw new LG("stream",["ReadableStream","WritableStream","Stream"],r);return bh.exports.addAbortSignalNoValidate(e,r)};bh.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=yG(e)?()=>{e.destroy(new gG(void 0,{cause:t.reason}))}:()=>{e[Ece](new gG(void 0,{cause:t.reason}))};if(t.aborted)r();else{RI=RI||Fr().addAbortListener;let n=RI(t,r);fce(e,n[lce])}return e}});var DG=y((NMe,wG)=>{"use strict";var{StringPrototypeSlice:bG,SymbolIterator:hce,TypedArrayPrototypeSet:wh,Uint8Array:Tce}=ht(),{Buffer:AI}=require("buffer"),{inspect:Sce}=Fr();wG.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return AI.alloc(0);let r=AI.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)wh(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[hce](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=bG(s,0,e),this.head=n,n.data=bG(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=AI.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)wh(r,o,n-e),e-=o.length;else{e===o.length?(wh(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(wh(r,new Tce(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Sce(this,{...r,depth:0,customInspect:!1})}}});var vu=y((OMe,vG)=>{"use strict";var{MathFloor:Rce,NumberIsInteger:Ace}=ht(),{validateInteger:pce}=sl(),{ERR_INVALID_ARG_VALUE:_ce}=gr().codes,PG=16*1024,MG=16;function Ice(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function xG(t){return t?MG:PG}function Nce(t,e){pce(e,"value",0),t?MG=e:PG=e}function Oce(t,e,r,n){let i=Ice(e,n,r);if(i!=null){if(!Ace(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new _ce(s,i)}return Rce(i)}return xG(t.objectMode)}vG.exports={getHighWaterMark:Oce,getDefaultHighWaterMark:xG,setDefaultHighWaterMark:Nce}});var pI=y((CMe,GG)=>{"use strict";var UG=tt(),{PromisePrototypeThen:Cce,SymbolAsyncIterator:BG,SymbolIterator:FG}=ht(),{Buffer:mce}=require("buffer"),{ERR_INVALID_ARG_TYPE:gce,ERR_STREAM_NULL_VALUES:yce}=gr().codes;function Lce(t,e,r){let n;if(typeof e=="string"||e instanceof mce)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[BG])i=!0,n=e[BG]();else if(e&&e[FG])i=!1,n=e[FG]();else throw new gce("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Cce(a(c),()=>UG.nextTick(u,c),E=>UG.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new yce;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}GG.exports=Lce});var Bu=y((mMe,n1)=>{"use strict";var bn=tt(),{ArrayPrototypeIndexOf:bce,NumberIsInteger:wce,NumberIsNaN:Dce,NumberParseInt:Pce,ObjectDefineProperties:yI,ObjectKeys:Mce,ObjectSetPrototypeOf:YG,Promise:$G,SafeSet:xce,SymbolAsyncDispose:vce,SymbolAsyncIterator:Uce,Symbol:Bce}=ht();n1.exports=ye;ye.ReadableState=xh;var{EventEmitter:Fce}=require("events"),{Stream:As,prependListener:Gce}=Lh(),{Buffer:_I}=require("buffer"),{addAbortSignal:Hce}=xu(),VG=Pi(),Be=Fr().debuglog("stream",t=>{Be=t}),Wce=DG(),cl=Co(),{getHighWaterMark:Yce,getDefaultHighWaterMark:$ce}=vu(),{aggregateTwoErrors:HG,codes:{ERR_INVALID_ARG_TYPE:Vce,ERR_METHOD_NOT_IMPLEMENTED:kce,ERR_OUT_OF_RANGE:qce,ERR_STREAM_PUSH_AFTER_EOF:Xce,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Kce},AbortError:jce}=gr(),{validateObject:zce}=sl(),mo=Bce("kPaused"),{StringDecoder:kG}=Qc(),Jce=pI();YG(ye.prototype,As.prototype);YG(ye,As);var II=()=>{},{errorOrDestroy:al}=cl,ll=1,Qce=2,qG=4,Uu=8,XG=16,Dh=32,Ph=64,KG=128,Zce=256,eue=512,tue=1024,mI=2048,gI=4096,rue=8192,nue=16384,iue=32768,jG=65536,sue=1<<17,oue=1<<18;function Yt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}yI(xh.prototype,{objectMode:Yt(ll),ended:Yt(Qce),endEmitted:Yt(qG),reading:Yt(Uu),constructed:Yt(XG),sync:Yt(Dh),needReadable:Yt(Ph),emittedReadable:Yt(KG),readableListening:Yt(Zce),resumeScheduled:Yt(eue),errorEmitted:Yt(tue),emitClose:Yt(mI),autoDestroy:Yt(gI),destroyed:Yt(rue),closed:Yt(nue),closeEmitted:Yt(iue),multiAwaitDrain:Yt(jG),readingMore:Yt(sue),dataEmitted:Yt(oue)});function xh(t,e,r){typeof r!="boolean"&&(r=e instanceof Zn()),this.state=mI|gI|XG|Dh,t&&t.objectMode&&(this.state|=ll),r&&t&&t.readableObjectMode&&(this.state|=ll),this.highWaterMark=t?Yce(this,t,"readableHighWaterMark",r):$ce(!1),this.buffer=new Wce,this.length=0,this.pipes=[],this.flowing=null,this[mo]=null,t&&t.emitClose===!1&&(this.state&=~mI),t&&t.autoDestroy===!1&&(this.state&=~gI),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new kG(t.encoding),this.encoding=t.encoding)}function ye(t){if(!(this instanceof ye))return new ye(t);let e=this instanceof Zn();this._readableState=new xh(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Hce(t.signal,this)),As.call(this,t),cl.construct(this,()=>{this._readableState.needReadable&&Mh(this,this._readableState)})}ye.prototype.destroy=cl.destroy;ye.prototype._undestroy=cl.undestroy;ye.prototype._destroy=function(t,e){e(t)};ye.prototype[Fce.captureRejectionSymbol]=function(t){this.destroy(t)};ye.prototype[vce]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new jce,this.destroy(t)),new $G((e,r)=>VG(this,n=>n&&n!==t?r(n):e(null)))};ye.prototype.push=function(t,e){return zG(this,t,e,!1)};ye.prototype.unshift=function(t,e){return zG(this,t,e,!0)};function zG(t,e,r,n){Be("readableAddChunk",e);let i=t._readableState,s;if((i.state&ll)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=_I.from(e,r).toString(i.encoding):(e=_I.from(e,r),r=""))):e instanceof _I?r="":As._isUint8Array(e)?(e=As._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Vce("chunk",["string","Buffer","Uint8Array"],e))),s)al(t,s);else if(e===null)i.state&=~Uu,cue(t,i);else if((i.state&ll)!==0||e&&e.length>0)if(n)if((i.state&qG)!==0)al(t,new Kce);else{if(i.destroyed||i.errored)return!1;NI(t,i,e,!0)}else if(i.ended)al(t,new Xce);else{if(i.destroyed||i.errored)return!1;i.state&=~Uu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?NI(t,i,e,!1):Mh(t,i)):NI(t,i,e,!1)}else n||(i.state&=~Uu,Mh(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function NI(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&jG)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&Ph)!==0&&vh(t)),Mh(t,e)}ye.prototype.isPaused=function(){let t=this._readableState;return t[mo]===!0||t.flowing===!1};ye.prototype.setEncoding=function(t){let e=new kG(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var aue=1073741824;function lue(t){if(t>aue)throw new qce("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function WG(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&ll)!==0?1:Dce(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}ye.prototype.read=function(t){Be("read",t),t===void 0?t=NaN:wce(t)||(t=Pce(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=lue(t)),t!==0&&(e.state&=~KG),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Be("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?OI(this):vh(this),null;if(t=WG(t,e),t===0&&e.ended)return e.length===0&&OI(this),null;let n=(e.state&Ph)!==0;if(Be("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Be("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Be("reading, ended or constructing",n);else if(n){Be("do read"),e.state|=Uu|Dh,e.length===0&&(e.state|=Ph);try{this._read(e.highWaterMark)}catch(s){al(this,s)}e.state&=~Dh,e.reading||(t=WG(r,e))}let i;return t>0?i=t1(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&OI(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function cue(t,e){if(Be("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?vh(t):(e.needReadable=!1,e.emittedReadable=!0,JG(t))}}function vh(t){let e=t._readableState;Be("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Be("emitReadable",e.flowing),e.emittedReadable=!0,bn.nextTick(JG,t))}function JG(t){let e=t._readableState;Be("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,ZG(t)}function Mh(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,bn.nextTick(uue,t,e))}function uue(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Be("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ye.prototype._read=function(t){throw new kce("_read()")};ye.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new xce(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Be("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==bn.stdout&&t!==bn.stderr?a:R;n.endEmitted?bn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,C){Be("onunpipe"),S===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,u())}function a(){Be("onend"),t.end()}let l,c=!1;function u(){Be("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",R),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(Be("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Be("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Eue(r,t),t.on("drain",l))}r.on("data",d);function d(S){Be("ondata");let C=t.write(S);Be("dest.write",C),C===!1&&E()}function f(S){if(Be("onerror",S),R(),t.removeListener("error",f),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?al(t,S):t.emit("error",S)}}Gce(t,"error",f);function T(){t.removeListener("finish",h),R()}t.once("close",T);function h(){Be("onfinish"),t.removeListener("close",T),R()}t.once("finish",h);function R(){Be("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(Be("pipe resume"),r.resume()),t};function Eue(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Be("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Be("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}ye.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=bce(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};ye.prototype.on=function(t,e){let r=As.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Be("on readable",n.length,n.reading),n.length?vh(this):n.reading||bn.nextTick(fue,this)),r};ye.prototype.addListener=ye.prototype.on;ye.prototype.removeListener=function(t,e){let r=As.prototype.removeListener.call(this,t,e);return t==="readable"&&bn.nextTick(QG,this),r};ye.prototype.off=ye.prototype.removeListener;ye.prototype.removeAllListeners=function(t){let e=As.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&bn.nextTick(QG,this),e};function QG(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[mo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function fue(t){Be("readable nexttick read 0"),t.read(0)}ye.prototype.resume=function(){let t=this._readableState;return t.flowing||(Be("resume"),t.flowing=!t.readableListening,due(this,t)),t[mo]=!1,this};function due(t,e){e.resumeScheduled||(e.resumeScheduled=!0,bn.nextTick(hue,t,e))}function hue(t,e){Be("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),ZG(t),e.flowing&&!e.reading&&t.read(0)}ye.prototype.pause=function(){return Be("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Be("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[mo]=!0,this};function ZG(t){let e=t._readableState;for(Be("flow",e.flowing);e.flowing&&t.read()!==null;);}ye.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{al(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Mce(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};ye.prototype[Uce]=function(){return e1(this)};ye.prototype.iterator=function(t){return t!==void 0&&zce(t,"options"),e1(this,t)};function e1(t,e){typeof t.read!="function"&&(t=ye.wrap(t,{objectMode:!0}));let r=Tue(t,e);return r.stream=t,r}async function*Tue(t,e){let r=II;function n(o){this===t?(r(),r=II):r=o}t.on("readable",n);let i,s=VG(t,{writable:!1},o=>{i=o?HG(i,o):null,r(),r=II});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new $G(n)}}}catch(o){throw i=HG(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?cl.destroyer(t,null):(t.off("readable",n),s())}}yI(ye.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});yI(xh.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[mo]!==!1},set(t){this[mo]=!!t}}});ye._fromList=t1;function t1(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function OI(t){let e=t._readableState;Be("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,bn.nextTick(Sue,e,t))}function Sue(t,e){if(Be("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)bn.nextTick(Rue,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Rue(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}ye.from=function(t,e){return Jce(ye,t,e)};var CI;function r1(){return CI===void 0&&(CI={}),CI}ye.fromWeb=function(t,e){return r1().newStreamReadableFromReadableStream(t,e)};ye.toWeb=function(t,e){return r1().newReadableStreamFromStreamReadable(t,e)};ye.wrap=function(t,e){var r,n;return new ye({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){cl.destroyer(t,i),s(i)}}).wrap(t)}});var Hh=y((gMe,T1)=>{"use strict";var go=tt(),{ArrayPrototypeSlice:o1,Error:Aue,FunctionPrototypeSymbolHasInstance:a1,ObjectDefineProperty:l1,ObjectDefineProperties:pue,ObjectSetPrototypeOf:c1,StringPrototypeToLowerCase:_ue,Symbol:Iue,SymbolHasInstance:Nue}=ht();T1.exports=pt;pt.WritableState=Hu;var{EventEmitter:Oue}=require("events"),Fu=Lh().Stream,{Buffer:Uh}=require("buffer"),Gh=Co(),{addAbortSignal:Cue}=xu(),{getHighWaterMark:mue,getDefaultHighWaterMark:gue}=vu(),{ERR_INVALID_ARG_TYPE:yue,ERR_METHOD_NOT_IMPLEMENTED:Lue,ERR_MULTIPLE_CALLBACK:u1,ERR_STREAM_CANNOT_PIPE:bue,ERR_STREAM_DESTROYED:Gu,ERR_STREAM_ALREADY_FINISHED:wue,ERR_STREAM_NULL_VALUES:Due,ERR_STREAM_WRITE_AFTER_END:Pue,ERR_UNKNOWN_ENCODING:E1}=gr().codes,{errorOrDestroy:ul}=Gh;c1(pt.prototype,Fu.prototype);c1(pt,Fu);function wI(){}var El=Iue("kOnFinished");function Hu(t,e,r){typeof r!="boolean"&&(r=e instanceof Zn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?mue(this,t,"writableHighWaterMark",r):gue(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=xue.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Fh(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[El]=[]}function Fh(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Hu.prototype.getBuffer=function(){return o1(this.buffered,this.bufferedIndex)};l1(Hu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pt(t){let e=this instanceof Zn();if(!e&&!a1(pt,this))return new pt(t);this._writableState=new Hu(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Cue(t.signal,this)),Fu.call(this,t),Gh.construct(this,()=>{let r=this._writableState;r.writing||PI(this,r),MI(this,r)})}l1(pt,Nue,{__proto__:null,value:function(t){return a1(this,t)?!0:this!==pt?!1:t&&t._writableState instanceof Hu}});pt.prototype.pipe=function(){ul(this,new bue)};function f1(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Uh.isEncoding(r))throw new E1(r);typeof n!="function"&&(n=wI)}if(e===null)throw new Due;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Uh.from(e,r),r="buffer");else if(e instanceof Uh)r="buffer";else if(Fu._isUint8Array(e))e=Fu._uint8ArrayToBuffer(e),r="buffer";else throw new yue("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Pue:i.destroyed&&(s=new Gu("write")),s?(go.nextTick(n,s),ul(t,s,!0),s):(i.pendingcb++,Mue(t,i,e,r,n))}pt.prototype.write=function(t,e,r){return f1(this,t,e,r)===!0};pt.prototype.cork=function(){this._writableState.corked++};pt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||PI(this,t))};pt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=_ue(e)),!Uh.isEncoding(e))throw new E1(e);return this._writableState.defaultEncoding=e,this};function Mue(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==wI&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function i1(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Gu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function s1(t,e,r,n){--e.pendingcb,n(r),DI(e),ul(t,r)}function xue(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){ul(t,new u1);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?go.nextTick(s1,t,r,e,i):s1(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&PI(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},go.nextTick(vue,r.afterWriteTickInfo)):d1(t,r,1,i))}function vue({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,d1(t,e,r,n)}function d1(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&DI(e),MI(t,e)}function DI(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Gu("write"))}let r=t[El].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Gu("end"))}Fh(t)}function PI(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?wI:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:o1(r,o);l.allBuffers=e.allBuffers,i1(t,e,!0,e.length,l,"",a),Fh(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;i1(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Fh(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}pt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Lue("_write()")};pt.prototype._writev=null;pt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=f1(this,t,e);s instanceof Aue&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,MI(this,n,!0),n.ended=!0):n.finished?i=new wue("end"):n.destroyed&&(i=new Gu("end"))),typeof r=="function"&&(i||n.finished?go.nextTick(r,i):n[El].push(r)),this};function Bh(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Uue(t,e){let r=!1;function n(i){if(r){ul(t,i??u1());return}if(r=!0,e.pendingcb--,i){let s=e[El].splice(0);for(let o=0;o<s.length;o++)s[o](i);ul(t,i,e.sync)}else Bh(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,go.nextTick(bI,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Bue(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Uue(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function MI(t,e,r){Bh(e)&&(Bue(t,e),e.pendingcb===0&&(r?(e.pendingcb++,go.nextTick((n,i)=>{Bh(i)?bI(n,i):i.pendingcb--},t,e)):Bh(e)&&(e.pendingcb++,bI(t,e))))}function bI(t,e){e.pendingcb--,e.finished=!0;let r=e[El].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}pue(pt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Fue=Gh.destroy;pt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[El].length)&&go.nextTick(DI,r),Fue.call(this,t,e),this};pt.prototype._undestroy=Gh.undestroy;pt.prototype._destroy=function(t,e){e(t)};pt.prototype[Oue.captureRejectionSymbol]=function(t){this.destroy(t)};var LI;function h1(){return LI===void 0&&(LI={}),LI}pt.fromWeb=function(t,e){return h1().newStreamWritableFromWritableStream(t,e)};pt.toWeb=function(t){return h1().newWritableStreamFromStreamWritable(t)}});var w1=y((yMe,b1)=>{var xI=tt(),Gue=require("buffer"),{isReadable:Hue,isWritable:Wue,isIterable:S1,isNodeStream:Yue,isReadableNodeStream:R1,isWritableNodeStream:A1,isDuplexNodeStream:$ue,isReadableStream:p1,isWritableStream:_1}=Jn(),I1=Pi(),{AbortError:y1,codes:{ERR_INVALID_ARG_TYPE:Vue,ERR_INVALID_RETURN_VALUE:N1}}=gr(),{destroyer:dl}=Co(),kue=Zn(),L1=Bu(),que=Hh(),{createDeferredPromise:O1}=Fr(),C1=pI(),m1=globalThis.Blob||Gue.Blob,Xue=typeof m1<"u"?function(e){return e instanceof m1}:function(e){return!1},Kue=globalThis.AbortController||Dt().AbortController,{FunctionPrototypeCall:g1}=ht(),ps=class extends kue{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};b1.exports=function t(e,r){if($ue(e))return e;if(R1(e))return fl({readable:e});if(A1(e))return fl({writable:e});if(Yue(e))return fl({writable:!1,readable:!1});if(p1(e))return fl({readable:L1.fromWeb(e)});if(_1(e))return fl({writable:que.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=jue(e);if(S1(i))return C1(ps,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=g1(l,i,E=>{if(E!=null)throw new N1("nully","body",E)},E=>{dl(c,E)});return c=new ps({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,xI.nextTick(E,null)}catch(d){xI.nextTick(E,d)}})},destroy:a})}throw new N1("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Xue(e))return t(e.arrayBuffer());if(S1(e))return C1(ps,e,{objectMode:!0,writable:!1});if(p1(e?.readable)&&_1(e?.writable))return ps.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?R1(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?A1(e?.writable)?e?.writable:t(e.writable):void 0;return fl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return g1(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{dl(i,s)}),i=new ps({objectMode:!0,writable:!1,read(){}})}throw new Vue(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function jue(t){let{promise:e,resolve:r}=O1(),n=new Kue,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(xI.nextTick(c),l)return;if(i.aborted)throw new y1(void 0,{cause:i.reason});({promise:e,resolve:r}=O1()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function fl(t){let e=t.readable&&typeof t.readable.read!="function"?L1.wrap(t.readable):t.readable,r=t.writable,n=!!Hue(e),i=!!Wue(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new ps({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(I1(r,E=>{i=!1,E&&dl(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(I1(e,E=>{n=!1,E&&dl(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new y1),a=null,s=null,o=null,l===null?d(E):(l=d,dl(r,E),dl(e,E))},c}});var Zn=y((LMe,M1)=>{"use strict";var{ObjectDefineProperties:zue,ObjectGetOwnPropertyDescriptor:Mi,ObjectKeys:Jue,ObjectSetPrototypeOf:D1}=ht();M1.exports=wn;var BI=Bu(),Tn=Hh();D1(wn.prototype,BI.prototype);D1(wn,BI);{let t=Jue(Tn.prototype);for(let e=0;e<t.length;e++){let r=t[e];wn.prototype[r]||(wn.prototype[r]=Tn.prototype[r])}}function wn(t){if(!(this instanceof wn))return new wn(t);BI.call(this,t),Tn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}zue(wn.prototype,{writable:{__proto__:null,...Mi(Tn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Mi(Tn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Mi(Tn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Mi(Tn.prototype,"writableBuffer")},writableLength:{__proto__:null,...Mi(Tn.prototype,"writableLength")},writableFinished:{__proto__:null,...Mi(Tn.prototype,"writableFinished")},writableCorked:{__proto__:null,...Mi(Tn.prototype,"writableCorked")},writableEnded:{__proto__:null,...Mi(Tn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Mi(Tn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var vI;function P1(){return vI===void 0&&(vI={}),vI}wn.fromWeb=function(t,e){return P1().newStreamDuplexFromReadableWritablePair(t,e)};wn.toWeb=function(t){return P1().newReadableWritablePairFromDuplex(t)};var UI;wn.from=function(t){return UI||(UI=w1()),UI(t,"body")}});var HI=y((bMe,v1)=>{"use strict";var{ObjectSetPrototypeOf:x1,Symbol:Que}=ht();v1.exports=xi;var{ERR_METHOD_NOT_IMPLEMENTED:Zue}=gr().codes,GI=Zn(),{getHighWaterMark:eEe}=vu();x1(xi.prototype,GI.prototype);x1(xi,GI);var Wu=Que("kCallback");function xi(t){if(!(this instanceof xi))return new xi(t);let e=t?eEe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),GI.call(this,t),this._readableState.sync=!1,this[Wu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",tEe)}function FI(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function tEe(){this._final!==FI&&FI.call(this)}xi.prototype._final=FI;xi.prototype._transform=function(t,e,r){throw new Zue("_transform()")};xi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Wu]=r})};xi.prototype._read=function(){if(this[Wu]){let t=this[Wu];this[Wu]=null,t()}}});var YI=y((wMe,B1)=>{"use strict";var{ObjectSetPrototypeOf:U1}=ht();B1.exports=hl;var WI=HI();U1(hl.prototype,WI.prototype);U1(hl,WI);function hl(t){if(!(this instanceof hl))return new hl(t);WI.call(this,t)}hl.prototype._transform=function(t,e,r){r(null,t)}});var Vh=y((DMe,Y1)=>{var Yu=tt(),{ArrayIsArray:rEe,Promise:nEe,SymbolAsyncIterator:iEe,SymbolDispose:sEe}=ht(),$h=Pi(),{once:oEe}=Fr(),aEe=Co(),F1=Zn(),{aggregateTwoErrors:lEe,codes:{ERR_INVALID_ARG_TYPE:JI,ERR_INVALID_RETURN_VALUE:$I,ERR_MISSING_ARGS:cEe,ERR_STREAM_DESTROYED:uEe,ERR_STREAM_PREMATURE_CLOSE:EEe},AbortError:fEe}=gr(),{validateFunction:dEe,validateAbortSignal:hEe}=sl(),{isIterable:yo,isReadable:VI,isReadableNodeStream:Yh,isNodeStream:G1,isTransformStream:Tl,isWebStream:TEe,isReadableStream:kI,isReadableFinished:SEe}=Jn(),REe=globalThis.AbortController||Dt().AbortController,qI,XI,KI;function H1(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=$h(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,aEe.destroyer(t,s||new uEe("pipe")))},cleanup:i}}function AEe(t){return dEe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function jI(t){if(yo(t))return t;if(Yh(t))return pEe(t);throw new JI("val",["Readable","Iterable","AsyncIterable"],t)}async function*pEe(t){XI||(XI=Bu()),yield*XI.prototype[iEe].call(t)}async function Wh(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new nEe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=$h(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?lEe(i,c):c)}finally{l(),e.off("drain",o)}}async function zI(t,e,r,{end:n}){Tl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function _Ee(...t){return W1(t,oEe(AEe(t)))}function W1(t,e,r){if(t.length===1&&rEe(t[0])&&(t=t[0]),t.length<2)throw new cEe("streams");let n=new REe,i=n.signal,s=r?.signal,o=[];hEe(s,"options.signal");function a(){T(new fEe)}KI=KI||Fr().addAbortListener;let l;s&&(l=KI(s,a));let c,u,E=[],d=0;function f(A){T(A,--d===0)}function T(A,p){var g;if(A&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=A),!(!c&&!p)){for(;E.length;)E.shift()(c);(g=l)===null||g===void 0||g[sEe](),n.abort(),p&&(c||o.forEach(D=>D()),Yu.nextTick(e,c,u))}}let h;for(let A=0;A<t.length;A++){let p=t[A],g=A<t.length-1,D=A>0,O=g||r?.end!==!1,M=A===t.length-1;if(G1(p)){let w=function(x){x&&x.name!=="AbortError"&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(x)};var C=w;if(O){let{destroy:x,cleanup:F}=H1(p,g,D);E.push(x),VI(p)&&M&&o.push(F)}p.on("error",w),VI(p)&&M&&o.push(()=>{p.removeListener("error",w)})}if(A===0)if(typeof p=="function"){if(h=p({signal:i}),!yo(h))throw new $I("Iterable, AsyncIterable or Stream","source",h)}else yo(p)||Yh(p)||Tl(p)?h=p:h=F1.from(p);else if(typeof p=="function"){if(Tl(h)){var R;h=jI((R=h)===null||R===void 0?void 0:R.readable)}else h=jI(h);if(h=p(h,{signal:i}),g){if(!yo(h,!0))throw new $I("AsyncIterable",`transform[${A-1}]`,h)}else{var S;qI||(qI=YI());let w=new qI({objectMode:!0}),x=(S=h)===null||S===void 0?void 0:S.then;if(typeof x=="function")d++,x.call(h,Z=>{u=Z,Z!=null&&w.write(Z),O&&w.end(),Yu.nextTick(f)},Z=>{w.destroy(Z),Yu.nextTick(f,Z)});else if(yo(h,!0))d++,Wh(h,w,f,{end:O});else if(kI(h)||Tl(h)){let Z=h.readable||h;d++,Wh(Z,w,f,{end:O})}else throw new $I("AsyncIterable or Promise","destination",h);h=w;let{destroy:F,cleanup:ee}=H1(h,!1,!0);E.push(F),M&&o.push(ee)}}else if(G1(p)){if(Yh(h)){d+=2;let w=IEe(h,p,f,{end:O});VI(p)&&M&&o.push(w)}else if(Tl(h)||kI(h)){let w=h.readable||h;d++,Wh(w,p,f,{end:O})}else if(yo(h))d++,Wh(h,p,f,{end:O});else throw new JI("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=p}else if(TEe(p)){if(Yh(h))d++,zI(jI(h),p,f,{end:O});else if(kI(h)||yo(h))d++,zI(h,p,f,{end:O});else if(Tl(h))d++,zI(h.readable,p,f,{end:O});else throw new JI("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=p}else h=F1.from(p)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Yu.nextTick(a),h}function IEe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new EEe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;SEe(t)?Yu.nextTick(o):t.once("end",o)}else r();return $h(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),$h(e,{readable:!1,writable:!0},r)}Y1.exports={pipelineImpl:W1,pipeline:_Ee}});var ZI=y((PMe,K1)=>{"use strict";var{pipeline:NEe}=Vh(),kh=Zn(),{destroyer:OEe}=Co(),{isNodeStream:qh,isReadable:$1,isWritable:V1,isWebStream:QI,isTransformStream:Lo,isWritableStream:k1,isReadableStream:q1}=Jn(),{AbortError:CEe,codes:{ERR_INVALID_ARG_VALUE:X1,ERR_MISSING_ARGS:mEe}}=gr(),gEe=Pi();K1.exports=function(...e){if(e.length===0)throw new mEe("streams");if(e.length===1)return kh.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=kh.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=kh.from(e[f])}for(let f=0;f<e.length;++f)if(!(!qh(e[f])&&!QI(e[f]))){if(f<e.length-1&&!($1(e[f])||q1(e[f])||Lo(e[f])))throw new X1(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(V1(e[f])||k1(e[f])||Lo(e[f])))throw new X1(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=NEe(e,l),E=!!(V1(c)||k1(c)||Lo(c)),d=!!($1(u)||q1(u)||Lo(u));if(a=new kh({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(qh(c))a._write=function(T,h,R){c.write(T,h)?R():n=R},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(QI(c)){let h=(Lo(c)?c.writable:c).getWriter();a._write=async function(R,S,C){try{await h.ready,h.write(R).catch(()=>{}),C()}catch(A){C(A)}},a._final=async function(R){try{await h.ready,h.close().catch(()=>{}),i=R}catch(S){R(S)}}}let f=Lo(u)?u.readable:u;gEe(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(qh(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(QI(u)){let T=(Lo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:R}=await T.read();if(!a.push(h))return;if(R){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new CEe),s=null,n=null,i=null,o===null?T(f):(o=T,qh(u)&&OEe(u,f))},a}});var iH=y((MMe,rN)=>{"use strict";var yEe=globalThis.AbortController||Dt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:LEe,ERR_INVALID_ARG_TYPE:$u,ERR_MISSING_ARGS:bEe,ERR_OUT_OF_RANGE:wEe},AbortError:ei}=gr(),{validateAbortSignal:bo,validateInteger:j1,validateObject:wo}=sl(),DEe=ht().Symbol("kWeak"),PEe=ht().Symbol("kResistStopPropagation"),{finished:MEe}=Pi(),xEe=ZI(),{addAbortSignalNoValidate:vEe}=xu(),{isWritable:UEe,isNodeStream:BEe}=Jn(),{deprecate:FEe}=Fr(),{ArrayPrototypePush:GEe,Boolean:HEe,MathFloor:z1,Number:WEe,NumberIsNaN:YEe,Promise:J1,PromiseReject:Q1,PromiseResolve:$Ee,PromisePrototypeThen:Z1,Symbol:tH}=ht(),Xh=tH("kEmpty"),eH=tH("kEof");function VEe(t,e){if(e!=null&&wo(e,"options"),e?.signal!=null&&bo(e.signal,"options.signal"),BEe(t)&&!UEe(t))throw new LEe("stream",t,"must be writable");let r=xEe(this,t);return e!=null&&e.signal&&vEe(e.signal,r),r}function Kh(t,e){if(typeof t!="function")throw new $u("fn",["Function","AsyncFunction"],t);e!=null&&wo(e,"options"),e?.signal!=null&&bo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=z1(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=z1(e.highWaterMark)),j1(r,"options.concurrency",1),j1(n,"options.highWaterMark",0),n+=r,async function*(){let s=Fr().AbortSignalAny([e?.signal].filter(HEe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function R(){try{for await(let S of o){if(E)return;if(s.aborted)throw new ei;try{if(S=t(S,l),S===Xh)continue;S=$Ee(S)}catch(C){S=Q1(C)}d+=1,Z1(S,T,f),a.push(S),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new J1(C=>{u=C})}a.push(eH)}catch(S){let C=Q1(S);Z1(C,T,f),a.push(C)}finally{E=!0,c&&(c(),c=null)}}R();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===eH)return;if(s.aborted)throw new ei;S!==Xh&&(yield S),a.shift(),h()}await new J1(S=>{c=S})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function kEe(t=void 0){return t!=null&&wo(t,"options"),t?.signal!=null&&bo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ei({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function rH(t,e=void 0){for await(let r of tN.call(this,t,e))return!0;return!1}async function qEe(t,e=void 0){if(typeof t!="function")throw new $u("fn",["Function","AsyncFunction"],t);return!await rH.call(this,async(...r)=>!await t(...r),e)}async function XEe(t,e){for await(let r of tN.call(this,t,e))return r}async function KEe(t,e){if(typeof t!="function")throw new $u("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Xh}for await(let n of Kh.call(this,r,e));}function tN(t,e){if(typeof t!="function")throw new $u("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Xh}return Kh.call(this,r,e)}var eN=class extends bEe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function jEe(t,e,r){var n;if(typeof t!="function")throw new $u("reducer",["Function","AsyncFunction"],t);r!=null&&wo(r,"options"),r?.signal!=null&&bo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new ei(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await MEe(this.destroy(c)),c}let s=new yEe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[DEe]:this,[PEe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new ei;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new eN}finally{s.abort()}return e}async function zEe(t){t!=null&&wo(t,"options"),t?.signal!=null&&bo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new ei(void 0,{cause:t.signal.reason});GEe(e,n)}return e}function JEe(t,e){let r=Kh.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function nH(t){if(t=WEe(t),YEe(t))return 0;if(t<0)throw new wEe("number",">= 0",t);return t}function QEe(t,e=void 0){return e!=null&&wo(e,"options"),e?.signal!=null&&bo(e.signal,"options.signal"),t=nH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ei;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ei;t--<=0&&(yield s)}}.call(this)}function ZEe(t,e=void 0){return e!=null&&wo(e,"options"),e?.signal!=null&&bo(e.signal,"options.signal"),t=nH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ei;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ei;if(t-- >0&&(yield s),t<=0)return}}.call(this)}rN.exports.streamReturningOperators={asIndexedPairs:FEe(kEe,"readable.asIndexedPairs will be removed in a future version."),drop:QEe,filter:tN,flatMap:JEe,map:Kh,take:ZEe,compose:VEe};rN.exports.promiseReturningOperators={every:qEe,forEach:KEe,reduce:jEe,toArray:zEe,some:rH,find:XEe}});var nN=y((xMe,sH)=>{"use strict";var{ArrayPrototypePop:efe,Promise:tfe}=ht(),{isIterable:rfe,isNodeStream:nfe,isWebStream:ife}=Jn(),{pipelineImpl:sfe}=Vh(),{finished:ofe}=Pi();iN();function afe(...t){return new tfe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!nfe(s)&&!rfe(s)&&!ife(s)){let o=efe(t);n=o.signal,i=o.end}sfe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}sH.exports={finished:ofe,pipeline:afe}});var iN=y((vMe,hH)=>{"use strict";var{Buffer:lfe}=require("buffer"),{ObjectDefineProperty:vi,ObjectKeys:lH,ReflectApply:cH}=ht(),{promisify:{custom:uH}}=Fr(),{streamReturningOperators:oH,promiseReturningOperators:aH}=iH(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:EH}}=gr(),cfe=ZI(),{setDefaultHighWaterMark:ufe,getDefaultHighWaterMark:Efe}=vu(),{pipeline:fH}=Vh(),{destroyer:ffe}=Co(),dH=Pi(),sN=nN(),Vu=Jn(),ct=hH.exports=Lh().Stream;ct.isDestroyed=Vu.isDestroyed;ct.isDisturbed=Vu.isDisturbed;ct.isErrored=Vu.isErrored;ct.isReadable=Vu.isReadable;ct.isWritable=Vu.isWritable;ct.Readable=Bu();for(let t of lH(oH)){let r=function(...n){if(new.target)throw EH();return ct.Readable.from(cH(e,this,n))},e=oH[t];vi(r,"name",{__proto__:null,value:e.name}),vi(r,"length",{__proto__:null,value:e.length}),vi(ct.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of lH(aH)){let r=function(...n){if(new.target)throw EH();return cH(e,this,n)},e=aH[t];vi(r,"name",{__proto__:null,value:e.name}),vi(r,"length",{__proto__:null,value:e.length}),vi(ct.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}ct.Writable=Hh();ct.Duplex=Zn();ct.Transform=HI();ct.PassThrough=YI();ct.pipeline=fH;var{addAbortSignal:dfe}=xu();ct.addAbortSignal=dfe;ct.finished=dH;ct.destroy=ffe;ct.compose=cfe;ct.setDefaultHighWaterMark=ufe;ct.getDefaultHighWaterMark=Efe;vi(ct,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return sN}});vi(fH,uH,{__proto__:null,enumerable:!0,get(){return sN.pipeline}});vi(dH,uH,{__proto__:null,enumerable:!0,get(){return sN.finished}});ct.Stream=ct;ct._isUint8Array=function(e){return e instanceof Uint8Array};ct._uint8ArrayToBuffer=function(e){return lfe.from(e.buffer,e.byteOffset,e.byteLength)}});var oN=y((UMe,Pe)=>{"use strict";var $t=require("stream");if($t&&process.env.READABLE_STREAM==="disable"){let t=$t.promises;Pe.exports._uint8ArrayToBuffer=$t._uint8ArrayToBuffer,Pe.exports._isUint8Array=$t._isUint8Array,Pe.exports.isDisturbed=$t.isDisturbed,Pe.exports.isErrored=$t.isErrored,Pe.exports.isReadable=$t.isReadable,Pe.exports.Readable=$t.Readable,Pe.exports.Writable=$t.Writable,Pe.exports.Duplex=$t.Duplex,Pe.exports.Transform=$t.Transform,Pe.exports.PassThrough=$t.PassThrough,Pe.exports.addAbortSignal=$t.addAbortSignal,Pe.exports.finished=$t.finished,Pe.exports.destroy=$t.destroy,Pe.exports.pipeline=$t.pipeline,Pe.exports.compose=$t.compose,Object.defineProperty($t,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Pe.exports.Stream=$t.Stream}else{let t=iN(),e=nN(),r=t.Readable.destroy;Pe.exports=t.Readable,Pe.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Pe.exports._isUint8Array=t._isUint8Array,Pe.exports.isDisturbed=t.isDisturbed,Pe.exports.isErrored=t.isErrored,Pe.exports.isReadable=t.isReadable,Pe.exports.Readable=t.Readable,Pe.exports.Writable=t.Writable,Pe.exports.Duplex=t.Duplex,Pe.exports.Transform=t.Transform,Pe.exports.PassThrough=t.PassThrough,Pe.exports.addAbortSignal=t.addAbortSignal,Pe.exports.finished=t.finished,Pe.exports.destroy=t.destroy,Pe.exports.destroy=r,Pe.exports.pipeline=t.pipeline,Pe.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Pe.exports.Stream=t.Stream}Pe.exports.default=Pe.exports});var pH=y((BMe,AH)=>{var cN=require("fs"),SH=Sb(),TH=Ab(),aN=require("path"),ti=nl(),hfe=require("util").inherits,yt=gF(),RH=oN().Transform,lN=process.platform==="win32",Je=function(t,e){if(!(this instanceof Je))return new Je(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=ti.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),RH.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=TH.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=TH.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};hfe(Je,RH);Je.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};Je.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof cN.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};Je.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};Je.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};Je.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};Je.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new yt("NOENDMETHOD"))};Je.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};Je.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};Je.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};Je.prototype._normalizeEntryData=function(t,e){t=ti.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=ti.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?lN?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(lN?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,lN&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=ti.dateify(t.date),t};Je.prototype._onModuleError=function(t){this.emit("error",t)};Je.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};Je.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};Je.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}cN.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};Je.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};Je.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};Je.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=ti.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=ti.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=ti.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=cN.readlinkSync(t.filepath),n=aN.dirname(t.filepath);t.data.type="symlink",t.data.linkname=aN.relative(n,aN.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new yt("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new yt("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new yt("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};Je.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};Je.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new yt("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new yt("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new yt("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=ti.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(ti.isStream(t))e.sourceType="stream";else return this.emit("error",new yt("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};Je.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new yt("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new yt("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function o(c){this.emit("error",c)}function a(c){l.pause();var u=!1,E=Object.assign({},r);E.name=c.relative,E.prefix=e,E.stats=c.stat,E.callback=l.resume.bind(l);try{if(n){if(E=n(E),E===!1)u=!0;else if(typeof E!="object")throw new yt("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(d){this.emit("error",d);return}if(u){l.resume();return}this._append(c.absolute,E)}var l=SH(t,i);return l.on("error",o.bind(this)),l.on("match",a.bind(this)),l.on("end",s.bind(this)),this};Je.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new yt("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new yt("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};Je.prototype.glob=function(t,e,r){this._pending++,e=ti.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(a){this.emit("error",a)}function s(a){o.pause();var l=Object.assign({},r);l.callback=o.resume.bind(o),l.stats=a.stat,l.name=a.relative,this._append(a.absolute,l)}var o=SH(e.cwd||".",e);return o.on("error",i.bind(this)),o.on("match",s.bind(this)),o.on("end",n.bind(this)),this};Je.prototype.finalize=function(){if(this._state.aborted){var t=new yt("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new yt("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(o){s=!0,i(o)})})};Je.prototype.setFormat=function(t){return this._format?(this.emit("error",new yt("FORMATSET")),this):(this._format=t,this)};Je.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new yt("ABORTED")),this):this._state.module?(this.emit("error",new yt("MODULESET")),this):(this._module=t,this._modulePipe(),this)};Je.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new yt("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new yt("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new yt("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new yt("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};Je.prototype.pointer=function(){return this._pointer};Je.prototype.use=function(t){return this._streams.push(t),this};AH.exports=Je});var zh=y((FMe,_H)=>{var jh=_H.exports=function(){};jh.prototype.getName=function(){};jh.prototype.getSize=function(){};jh.prototype.getLastModifiedDate=function(){};jh.prototype.isDirectory=function(){}});var Jh=y((GMe,IH)=>{var Sn=IH.exports={};Sn.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};Sn.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};Sn.fromDosTime=function(t){return Sn.dosToDate(t.readUInt32LE(0))};Sn.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};Sn.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};Sn.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};Sn.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};Sn.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};Sn.toDosTime=function(t){return Sn.getLongBytes(Sn.dateToDos(t))}});var uN=y((HMe,yH)=>{var NH=Jh(),OH=8,CH=1,Tfe=4,Sfe=2,mH=64,gH=2048,Rr=yH.exports=function(){return this instanceof Rr?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new Rr};Rr.prototype.encode=function(){return NH.getShortBytes((this.descriptor?OH:0)|(this.utf8?gH:0)|(this.encryption?CH:0)|(this.strongEncryption?mH:0))};Rr.prototype.parse=function(t,e){var r=NH.getShortBytesValue(t,e),n=new Rr;return n.useDataDescriptor((r&OH)!==0),n.useUTF8ForNames((r&gH)!==0),n.useStrongEncryption((r&mH)!==0),n.useEncryption((r&CH)!==0),n.setSlidingDictionarySize((r&Sfe)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&Tfe)!==0?3:2),n};Rr.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};Rr.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};Rr.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};Rr.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};Rr.prototype.useDataDescriptor=function(t){this.descriptor=t};Rr.prototype.usesDataDescriptor=function(){return this.descriptor};Rr.prototype.useEncryption=function(t){this.encryption=t};Rr.prototype.usesEncryption=function(){return this.encryption};Rr.prototype.useStrongEncryption=function(t){this.strongEncryption=t};Rr.prototype.usesStrongEncryption=function(){return this.strongEncryption};Rr.prototype.useUTF8ForNames=function(t){this.utf8=t};Rr.prototype.usesUTF8ForNames=function(){return this.utf8}});var bH=y((WMe,LH)=>{LH.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var EN=y((YMe,wH)=>{wH.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var fN=y(($Me,vH)=>{var Rfe=require("util").inherits,Afe=DA(),PH=zh(),MH=uN(),DH=bH(),Gr=EN(),xH=Jh(),we=vH.exports=function(t){if(!(this instanceof we))return new we(t);PH.call(this),this.platform=Gr.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new MH,this.crc=0,this.time=-1,this.minver=Gr.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};Rfe(we,PH);we.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};we.prototype.getComment=function(){return this.comment!==null?this.comment:""};we.prototype.getCompressedSize=function(){return this.csize};we.prototype.getCrc=function(){return this.crc};we.prototype.getExternalAttributes=function(){return this.exattr};we.prototype.getExtra=function(){return this.extra!==null?this.extra:Gr.EMPTY};we.prototype.getGeneralPurposeBit=function(){return this.gpb};we.prototype.getInternalAttributes=function(){return this.inattr};we.prototype.getLastModifiedDate=function(){return this.getTime()};we.prototype.getLocalFileDataExtra=function(){return this.getExtra()};we.prototype.getMethod=function(){return this.method};we.prototype.getName=function(){return this.name};we.prototype.getPlatform=function(){return this.platform};we.prototype.getSize=function(){return this.size};we.prototype.getTime=function(){return this.time!==-1?xH.dosToDate(this.time):-1};we.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};we.prototype.getUnixMode=function(){return this.platform!==Gr.PLATFORM_UNIX?0:this.getExternalAttributes()>>Gr.SHORT_SHIFT&Gr.SHORT_MASK};we.prototype.getVersionNeededToExtract=function(){return this.minver};we.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};we.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};we.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};we.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};we.prototype.setExtra=function(t){this.extra=t};we.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof MH))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};we.prototype.setInternalAttributes=function(t){this.inattr=t};we.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};we.prototype.setName=function(t,e=!1){t=Afe(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};we.prototype.setPlatform=function(t){this.platform=t};we.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};we.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=xH.dateToDos(t,e)};we.prototype.setUnixMode=function(t){t|=this.isDirectory()?Gr.S_IFDIR:Gr.S_IFREG;var e=0;e|=t<<Gr.SHORT_SHIFT|(this.isDirectory()?Gr.S_DOS_D:Gr.S_DOS_A),this.setExternalAttributes(e),this.mode=t&Gr.MODE_MASK,this.platform=Gr.PLATFORM_UNIX};we.prototype.setVersionNeededToExtract=function(t){this.minver=t};we.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};we.prototype.isUnixSymlink=function(){return(this.getUnixMode()&DH.FILE_TYPE_FLAG)===DH.LINK_FLAG};we.prototype.isZip64=function(){return this.csize>Gr.ZIP64_MAGIC||this.size>Gr.ZIP64_MAGIC}});var Tt=y((VMe,UH)=>{"use strict";var dN=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};UH.exports={AggregateError:dN,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var hN=y((kMe,BH)=>{"use strict";BH.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Lr=y((qMe,HH)=>{"use strict";var{format:pfe,inspect:Qh}=hN(),{AggregateError:_fe}=Tt(),Ife=globalThis.AggregateError||_fe,Nfe=Symbol("kIsNodeError"),Ofe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Cfe=/^([A-Z][a-z0-9]*)+$/,mfe="__node_internal_",Zh={};function Do(t,e){if(!t)throw new Zh.ERR_INTERNAL_ASSERTION(e)}function FH(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function gfe(t,e,r){if(typeof e=="function")return Do(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Do(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:pfe(e,...r)}function Ar(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(gfe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Nfe]=!0,Zh[t]=n}function GH(t){let e=mfe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function yfe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Ife([e,t],e.message);return r.code=e.code,r}return t||e}var TN=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Zh.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Ar("ERR_ASSERTION","%s",Error);Ar("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Do(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Do(typeof l=="string","All expected entries have to be of type string"),Ofe.includes(l)?i.push(l.toLowerCase()):Cfe.test(l)?s.push(l):(Do(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Qh(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Qh(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Ar("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Qh(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Ar("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Ar("ERR_MISSING_ARGS",(...t)=>{Do(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Ar("ERR_OUT_OF_RANGE",(t,e,r)=>{Do(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=FH(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=FH(n)),n+="n"}else n=Qh(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Ar("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Ar("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Ar("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Ar("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Ar("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Ar("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ar("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Ar("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Ar("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Ar("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Ar("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);HH.exports={AbortError:TN,aggregateTwoErrors:GH(yfe),hideStackFrames:GH,codes:Zh}});var Hr=y((XMe,RN)=>{"use strict";var Lfe=require("buffer"),{format:bfe,inspect:wfe}=hN(),{codes:{ERR_INVALID_ARG_TYPE:SN}}=Lr(),{kResistStopPropagation:Dfe,AggregateError:Pfe,SymbolDispose:Mfe}=Tt(),xfe=globalThis.AbortSignal||Dt().AbortSignal,vfe=globalThis.AbortController||Dt().AbortController,Ufe=Object.getPrototypeOf(async function(){}).constructor,WH=globalThis.Blob||Lfe.Blob,Bfe=typeof WH<"u"?function(e){return e instanceof WH}:function(e){return!1},YH=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new SN(e,"AbortSignal",t)},Ffe=(t,e)=>{if(typeof t!="function")throw new SN(e,"Function",t)};RN.exports={AggregateError:Pfe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:bfe,inspect:wfe,types:{isAsyncFunction(t){return t instanceof Ufe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Bfe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new SN("signal","AbortSignal",e);YH(e,"signal"),Ffe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Dfe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Mfe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:xfe.any||function(e){if(e.length===1)return e[0];let r=new vfe,n=()=>r.abort();return e.forEach(i=>{YH(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};RN.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Rl=y((KMe,QH)=>{"use strict";var{ArrayIsArray:pN,ArrayPrototypeIncludes:qH,ArrayPrototypeJoin:XH,ArrayPrototypeMap:Gfe,NumberIsInteger:_N,NumberIsNaN:Hfe,NumberMAX_SAFE_INTEGER:Wfe,NumberMIN_SAFE_INTEGER:Yfe,NumberParseInt:$fe,ObjectPrototypeHasOwnProperty:Vfe,RegExpPrototypeExec:KH,String:kfe,StringPrototypeToUpperCase:qfe,StringPrototypeTrim:Xfe}=Tt(),{hideStackFrames:Rn,codes:{ERR_SOCKET_BAD_PORT:Kfe,ERR_INVALID_ARG_TYPE:br,ERR_INVALID_ARG_VALUE:Sl,ERR_OUT_OF_RANGE:Po,ERR_UNKNOWN_SIGNAL:$H}}=Lr(),{normalizeEncoding:jfe}=Hr(),{isAsyncFunction:zfe,isArrayBufferView:Jfe}=Hr().types,VH={};function Qfe(t){return t===(t|0)}function Zfe(t){return t===t>>>0}var ede=/^[0-7]+$/,tde="must be a 32-bit unsigned integer or an octal string";function rde(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(KH(ede,t)===null)throw new Sl(e,t,tde);t=$fe(t,8)}return jH(t,e),t}var nde=Rn((t,e,r=Yfe,n=Wfe)=>{if(typeof t!="number")throw new br(e,"number",t);if(!_N(t))throw new Po(e,"an integer",t);if(t<r||t>n)throw new Po(e,`>= ${r} && <= ${n}`,t)}),ide=Rn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new br(e,"number",t);if(!_N(t))throw new Po(e,"an integer",t);if(t<r||t>n)throw new Po(e,`>= ${r} && <= ${n}`,t)}),jH=Rn((t,e,r=!1)=>{if(typeof t!="number")throw new br(e,"number",t);if(!_N(t))throw new Po(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Po(e,`>= ${n} && <= ${i}`,t)});function IN(t,e){if(typeof t!="string")throw new br(e,"string",t)}function sde(t,e,r=void 0,n){if(typeof t!="number")throw new br(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Hfe(t))throw new Po(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var ode=Rn((t,e,r)=>{if(!qH(r,t)){let i="must be one of: "+XH(Gfe(r,s=>typeof s=="string"?`'${s}'`:kfe(s)),", ");throw new Sl(e,t,i)}});function zH(t,e){if(typeof t!="boolean")throw new br(e,"boolean",t)}function AN(t,e,r){return t==null||!Vfe(t,e)?r:t[e]}var ade=Rn((t,e,r=null)=>{let n=AN(r,"allowArray",!1),i=AN(r,"allowFunction",!1);if(!AN(r,"nullable",!1)&&t===null||!n&&pN(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new br(e,"Object",t)}),lde=Rn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new br(e,"a dictionary",t)}),eT=Rn((t,e,r=0)=>{if(!pN(t))throw new br(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Sl(e,t,n)}});function cde(t,e){eT(t,e);for(let r=0;r<t.length;r++)IN(t[r],`${e}[${r}]`)}function ude(t,e){eT(t,e);for(let r=0;r<t.length;r++)zH(t[r],`${e}[${r}]`)}function Ede(t,e){eT(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new br(i,"AbortSignal",n);JH(n,i)}}function fde(t,e="signal"){if(IN(t,e),VH[t]===void 0)throw VH[qfe(t)]!==void 0?new $H(t+" (signals must use all capital letters)"):new $H(t)}var dde=Rn((t,e="buffer")=>{if(!Jfe(t))throw new br(e,["Buffer","TypedArray","DataView"],t)});function hde(t,e){let r=jfe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Sl("encoding",e,`is invalid for data of length ${n}`)}function Tde(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Xfe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Kfe(e,t,r);return t|0}var JH=Rn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new br(e,"AbortSignal",t)}),Sde=Rn((t,e)=>{if(typeof t!="function")throw new br(e,"Function",t)}),Rde=Rn((t,e)=>{if(typeof t!="function"||zfe(t))throw new br(e,"Function",t)}),Ade=Rn((t,e)=>{if(t!==void 0)throw new br(e,"undefined",t)});function pde(t,e,r){if(!qH(r,t))throw new br(e,`('${XH(r,"|")}')`,t)}var _de=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function kH(t,e){if(typeof t>"u"||!KH(_de,t))throw new Sl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ide(t){if(typeof t=="string")return kH(t,"hints"),t;if(pN(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];kH(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Sl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}QH.exports={isInt32:Qfe,isUint32:Zfe,parseFileMode:rde,validateArray:eT,validateStringArray:cde,validateBooleanArray:ude,validateAbortSignalArray:Ede,validateBoolean:zH,validateBuffer:dde,validateDictionary:lde,validateEncoding:hde,validateFunction:Sde,validateInt32:ide,validateInteger:nde,validateNumber:sde,validateObject:ade,validateOneOf:ode,validatePlainFunction:Rde,validatePort:Tde,validateSignalName:fde,validateString:IN,validateUint32:jH,validateUndefined:Ade,validateUnion:pde,validateAbortSignal:JH,validateLinkHeaderValue:Ide}});var ni=y((jMe,dW)=>{"use strict";var{SymbolAsyncIterator:ZH,SymbolIterator:eW,SymbolFor:Mo}=Tt(),tW=Mo("nodejs.stream.destroyed"),rW=Mo("nodejs.stream.errored"),NN=Mo("nodejs.stream.readable"),ON=Mo("nodejs.stream.writable"),nW=Mo("nodejs.stream.disturbed"),Nde=Mo("nodejs.webstream.isClosedPromise"),Ode=Mo("nodejs.webstream.controllerErrorFunction");function tT(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function rT(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Cde(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ri(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function iW(t){return!!(t&&!ri(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function sW(t){return!!(t&&!ri(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function oW(t){return!!(t&&!ri(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function mde(t){return iW(t)||sW(t)||oW(t)}function gde(t,e){return t==null?!1:e===!0?typeof t[ZH]=="function":e===!1?typeof t[eW]=="function":typeof t[ZH]=="function"||typeof t[eW]=="function"}function nT(t){if(!ri(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[tW]||n!=null&&n.destroyed)}function aW(t){if(!rT(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function yde(t,e){if(!rT(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Lde(t){if(!tT(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function lW(t,e){if(!tT(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function cW(t){return t&&t[NN]!=null?t[NN]:typeof t?.readable!="boolean"?null:nT(t)?!1:tT(t)&&t.readable&&!lW(t)}function uW(t){return t&&t[ON]!=null?t[ON]:typeof t?.writable!="boolean"?null:nT(t)?!1:rT(t)&&t.writable&&!aW(t)}function bde(t,e){return ri(t)?nT(t)?!0:!(e?.readable!==!1&&cW(t)||e?.writable!==!1&&uW(t)):null}function wde(t){var e,r;return ri(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Dde(t){var e,r;return ri(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Pde(t){if(!ri(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&EW(t)?t._closed:null}function EW(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function fW(t){return typeof t._sent100=="boolean"&&EW(t)}function Mde(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function xde(t){if(!ri(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&fW(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function vde(t){var e;return!!(t&&((e=t[nW])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Ude(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[rW])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}dW.exports={isDestroyed:nT,kIsDestroyed:tW,isDisturbed:vde,kIsDisturbed:nW,isErrored:Ude,kIsErrored:rW,isReadable:cW,kIsReadable:NN,kIsClosedPromise:Nde,kControllerErrorFunction:Ode,kIsWritable:ON,isClosed:Pde,isDuplexNodeStream:Cde,isFinished:bde,isIterable:gde,isReadableNodeStream:tT,isReadableStream:iW,isReadableEnded:Lde,isReadableFinished:lW,isReadableErrored:Dde,isNodeStream:ri,isWebStream:mde,isWritable:uW,isWritableNodeStream:rT,isWritableStream:sW,isWritableEnded:aW,isWritableFinished:yde,isWritableErrored:wde,isServerRequest:Mde,isServerResponse:fW,willEmitClose:xde,isTransformStream:oW}});var Ui=y((zMe,LN)=>{"use strict";var _s=tt(),{AbortError:NW,codes:Bde}=Lr(),{ERR_INVALID_ARG_TYPE:Fde,ERR_STREAM_PREMATURE_CLOSE:hW}=Bde,{kEmptyObject:mN,once:gN}=Hr(),{validateAbortSignal:Gde,validateFunction:Hde,validateObject:Wde,validateBoolean:Yde}=Rl(),{Promise:$de,PromisePrototypeThen:Vde,SymbolDispose:OW}=Tt(),{isClosed:kde,isReadable:TW,isReadableNodeStream:CN,isReadableStream:qde,isReadableFinished:SW,isReadableErrored:RW,isWritable:AW,isWritableNodeStream:pW,isWritableStream:Xde,isWritableFinished:_W,isWritableErrored:IW,isNodeStream:Kde,willEmitClose:jde,kIsClosedPromise:zde}=ni(),Al;function Jde(t){return t.setHeader&&typeof t.abort=="function"}var yN=()=>{};function CW(t,e,r){var n,i;if(arguments.length===2?(r=e,e=mN):e==null?e=mN:Wde(e,"options"),Hde(r,"callback"),Gde(e.signal,"options.signal"),r=gN(r),qde(t)||Xde(t))return Qde(t,e,r);if(!Kde(t))throw new Fde("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:CN(t),o=(i=e.writable)!==null&&i!==void 0?i:pW(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=jde(t)&&CN(t)===s&&pW(t)===o,E=_W(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=SW(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=g=>{r.call(t,g)},R=kde(t),S=()=>{R=!0;let g=IW(t)||RW(t);if(g&&typeof g!="boolean")return r.call(t,g);if(s&&!f&&CN(t,!0)&&!SW(t,!1))return r.call(t,new hW);if(o&&!E&&!_W(t,!1))return r.call(t,new hW);r.call(t)},C=()=>{R=!0;let g=IW(t)||RW(t);if(g&&typeof g!="boolean")return r.call(t,g);r.call(t)},A=()=>{t.req.on("finish",d)};Jde(t)?(t.on("complete",d),u||t.on("abort",S),t.req?A():t.on("request",A)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",S),R?_s.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||_s.nextTick(C):(!s&&(!u||TW(t))&&(E||AW(t)===!1)||!o&&(!u||AW(t))&&(f||TW(t)===!1)||l&&t.req&&t.aborted)&&_s.nextTick(C);let p=()=>{r=yN,t.removeListener("aborted",S),t.removeListener("complete",d),t.removeListener("abort",S),t.removeListener("request",A),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!R){let g=()=>{let D=r;p(),D.call(t,new NW(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)_s.nextTick(g);else{Al=Al||Hr().addAbortListener;let D=Al(e.signal,g),O=r;r=gN((...M)=>{D[OW](),O.apply(t,M)})}}return p}function Qde(t,e,r){let n=!1,i=yN;if(e.signal)if(i=()=>{n=!0,r.call(t,new NW(void 0,{cause:e.signal.reason}))},e.signal.aborted)_s.nextTick(i);else{Al=Al||Hr().addAbortListener;let o=Al(e.signal,i),a=r;r=gN((...l)=>{o[OW](),a.apply(t,l)})}let s=(...o)=>{n||_s.nextTick(()=>r.apply(t,o))};return Vde(t[zde].promise,s,s),yN}function Zde(t,e){var r;let n=!1;return e===null&&(e=mN),(r=e)!==null&&r!==void 0&&r.cleanup&&(Yde(e.cleanup,"cleanup"),n=e.cleanup),new $de((i,s)=>{let o=CW(t,e,a=>{n&&o(),a?s(a):i()})})}LN.exports=CW;LN.exports.finished=Zde});var xo=y((JMe,PW)=>{"use strict";var ii=tt(),{aggregateTwoErrors:ehe,codes:{ERR_MULTIPLE_CALLBACK:the},AbortError:rhe}=Lr(),{Symbol:yW}=Tt(),{kIsDestroyed:nhe,isDestroyed:ihe,isFinished:she,isServerRequest:ohe}=ni(),LW=yW("kDestroy"),bN=yW("kConstruct");function bW(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function ahe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(bW(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?mW(this,t,e):this.once(LW,function(s){mW(this,ehe(s,t),e)}),this)}function mW(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;bW(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?ii.nextTick(lhe,t,s):ii.nextTick(wW,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function lhe(t,e){wN(t,e),wW(t)}function wW(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function wN(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function che(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function DN(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?ii.nextTick(wN,t,e):wN(t,e))}function uhe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(bN,e),!(t.listenerCount(bN)>1)&&ii.nextTick(Ehe,t)}function Ehe(t){let e=!1;function r(n){if(e){DN(t,n??new the);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(LW,n):n?DN(t,n,!0):ii.nextTick(fhe,t)}try{t._construct(n=>{ii.nextTick(r,n)})}catch(n){ii.nextTick(r,n)}}function fhe(t){t.emit(bN)}function gW(t){return t?.setHeader&&typeof t.abort=="function"}function DW(t){t.emit("close")}function dhe(t,e){t.emit("error",e),ii.nextTick(DW,t)}function hhe(t,e){!t||ihe(t)||(!e&&!she(t)&&(e=new rhe),ohe(t)?(t.socket=null,t.destroy(e)):gW(t)?t.abort():gW(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ii.nextTick(dhe,t,e):ii.nextTick(DW,t),t.destroyed||(t[nhe]=!0))}PW.exports={construct:uhe,destroyer:hhe,destroy:ahe,undestroy:che,errorOrDestroy:DN}});var oT=y((QMe,xW)=>{"use strict";var{ArrayIsArray:The,ObjectSetPrototypeOf:MW}=Tt(),{EventEmitter:iT}=require("events");function sT(t){iT.call(this,t)}MW(sT.prototype,iT.prototype);MW(sT,iT);sT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),iT.listenerCount(this,"error")===0&&this.emit("error",u)}PN(r,"error",l),PN(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function PN(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):The(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}xW.exports={Stream:sT,prependListener:PN}});var ku=y((ZMe,aT)=>{"use strict";var{SymbolDispose:She}=Tt(),{AbortError:vW,codes:Rhe}=Lr(),{isNodeStream:UW,isWebStream:Ahe,kControllerErrorFunction:phe}=ni(),_he=Ui(),{ERR_INVALID_ARG_TYPE:BW}=Rhe,MN,Ihe=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new BW(e,"AbortSignal",t)};aT.exports.addAbortSignal=function(e,r){if(Ihe(e,"signal"),!UW(r)&&!Ahe(r))throw new BW("stream",["ReadableStream","WritableStream","Stream"],r);return aT.exports.addAbortSignalNoValidate(e,r)};aT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=UW(e)?()=>{e.destroy(new vW(void 0,{cause:t.reason}))}:()=>{e[phe](new vW(void 0,{cause:t.reason}))};if(t.aborted)r();else{MN=MN||Hr().addAbortListener;let n=MN(t,r);_he(e,n[She])}return e}});var HW=y((txe,GW)=>{"use strict";var{StringPrototypeSlice:FW,SymbolIterator:Nhe,TypedArrayPrototypeSet:lT,Uint8Array:Ohe}=Tt(),{Buffer:xN}=require("buffer"),{inspect:Che}=Hr();GW.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return xN.alloc(0);let r=xN.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)lT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Nhe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=FW(s,0,e),this.head=n,n.data=FW(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=xN.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)lT(r,o,n-e),e-=o.length;else{e===o.length?(lT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(lT(r,new Ohe(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Che(this,{...r,depth:0,customInspect:!1})}}});var qu=y((rxe,VW)=>{"use strict";var{MathFloor:mhe,NumberIsInteger:ghe}=Tt(),{validateInteger:yhe}=Rl(),{ERR_INVALID_ARG_VALUE:Lhe}=Lr().codes,WW=16*1024,YW=16;function bhe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function $W(t){return t?YW:WW}function whe(t,e){yhe(e,"value",0),t?YW=e:WW=e}function Dhe(t,e,r,n){let i=bhe(e,n,r);if(i!=null){if(!ghe(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Lhe(s,i)}return mhe(i)}return $W(t.objectMode)}VW.exports={getHighWaterMark:Dhe,getDefaultHighWaterMark:$W,setDefaultHighWaterMark:whe}});var vN=y((nxe,KW)=>{"use strict";var kW=tt(),{PromisePrototypeThen:Phe,SymbolAsyncIterator:qW,SymbolIterator:XW}=Tt(),{Buffer:Mhe}=require("buffer"),{ERR_INVALID_ARG_TYPE:xhe,ERR_STREAM_NULL_VALUES:vhe}=Lr().codes;function Uhe(t,e,r){let n;if(typeof e=="string"||e instanceof Mhe)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[qW])i=!0,n=e[qW]();else if(e&&e[XW])i=!1,n=e[XW]();else throw new xhe("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Phe(a(c),()=>kW.nextTick(u,c),E=>kW.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new vhe;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}KW.exports=Uhe});var Ku=y((ixe,fY)=>{"use strict";var Dn=tt(),{ArrayPrototypeIndexOf:Bhe,NumberIsInteger:Fhe,NumberIsNaN:Ghe,NumberParseInt:Hhe,ObjectDefineProperties:$N,ObjectKeys:Whe,ObjectSetPrototypeOf:JW,Promise:QW,SafeSet:Yhe,SymbolAsyncDispose:$he,SymbolAsyncIterator:Vhe,Symbol:khe}=Tt();fY.exports=Le;Le.ReadableState=fT;var{EventEmitter:qhe}=require("events"),{Stream:Is,prependListener:Xhe}=oT(),{Buffer:UN}=require("buffer"),{addAbortSignal:Khe}=ku(),ZW=Ui(),Fe=Hr().debuglog("stream",t=>{Fe=t}),jhe=HW(),Il=xo(),{getHighWaterMark:zhe,getDefaultHighWaterMark:Jhe}=qu(),{aggregateTwoErrors:jW,codes:{ERR_INVALID_ARG_TYPE:Qhe,ERR_METHOD_NOT_IMPLEMENTED:Zhe,ERR_OUT_OF_RANGE:eTe,ERR_STREAM_PUSH_AFTER_EOF:tTe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:rTe},AbortError:nTe}=Lr(),{validateObject:iTe}=Rl(),vo=khe("kPaused"),{StringDecoder:eY}=Qc(),sTe=vN();JW(Le.prototype,Is.prototype);JW(Le,Is);var BN=()=>{},{errorOrDestroy:pl}=Il,_l=1,oTe=2,tY=4,Xu=8,rY=16,cT=32,uT=64,nY=128,aTe=256,lTe=512,cTe=1024,WN=2048,YN=4096,uTe=8192,ETe=16384,fTe=32768,iY=65536,dTe=1<<17,hTe=1<<18;function Vt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}$N(fT.prototype,{objectMode:Vt(_l),ended:Vt(oTe),endEmitted:Vt(tY),reading:Vt(Xu),constructed:Vt(rY),sync:Vt(cT),needReadable:Vt(uT),emittedReadable:Vt(nY),readableListening:Vt(aTe),resumeScheduled:Vt(lTe),errorEmitted:Vt(cTe),emitClose:Vt(WN),autoDestroy:Vt(YN),destroyed:Vt(uTe),closed:Vt(ETe),closeEmitted:Vt(fTe),multiAwaitDrain:Vt(iY),readingMore:Vt(dTe),dataEmitted:Vt(hTe)});function fT(t,e,r){typeof r!="boolean"&&(r=e instanceof si()),this.state=WN|YN|rY|cT,t&&t.objectMode&&(this.state|=_l),r&&t&&t.readableObjectMode&&(this.state|=_l),this.highWaterMark=t?zhe(this,t,"readableHighWaterMark",r):Jhe(!1),this.buffer=new jhe,this.length=0,this.pipes=[],this.flowing=null,this[vo]=null,t&&t.emitClose===!1&&(this.state&=~WN),t&&t.autoDestroy===!1&&(this.state&=~YN),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new eY(t.encoding),this.encoding=t.encoding)}function Le(t){if(!(this instanceof Le))return new Le(t);let e=this instanceof si();this._readableState=new fT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Khe(t.signal,this)),Is.call(this,t),Il.construct(this,()=>{this._readableState.needReadable&&ET(this,this._readableState)})}Le.prototype.destroy=Il.destroy;Le.prototype._undestroy=Il.undestroy;Le.prototype._destroy=function(t,e){e(t)};Le.prototype[qhe.captureRejectionSymbol]=function(t){this.destroy(t)};Le.prototype[$he]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new nTe,this.destroy(t)),new QW((e,r)=>ZW(this,n=>n&&n!==t?r(n):e(null)))};Le.prototype.push=function(t,e){return sY(this,t,e,!1)};Le.prototype.unshift=function(t,e){return sY(this,t,e,!0)};function sY(t,e,r,n){Fe("readableAddChunk",e);let i=t._readableState,s;if((i.state&_l)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=UN.from(e,r).toString(i.encoding):(e=UN.from(e,r),r=""))):e instanceof UN?r="":Is._isUint8Array(e)?(e=Is._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Qhe("chunk",["string","Buffer","Uint8Array"],e))),s)pl(t,s);else if(e===null)i.state&=~Xu,RTe(t,i);else if((i.state&_l)!==0||e&&e.length>0)if(n)if((i.state&tY)!==0)pl(t,new rTe);else{if(i.destroyed||i.errored)return!1;FN(t,i,e,!0)}else if(i.ended)pl(t,new tTe);else{if(i.destroyed||i.errored)return!1;i.state&=~Xu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?FN(t,i,e,!1):ET(t,i)):FN(t,i,e,!1)}else n||(i.state&=~Xu,ET(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function FN(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&iY)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&uT)!==0&&dT(t)),ET(t,e)}Le.prototype.isPaused=function(){let t=this._readableState;return t[vo]===!0||t.flowing===!1};Le.prototype.setEncoding=function(t){let e=new eY(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var TTe=1073741824;function STe(t){if(t>TTe)throw new eTe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function zW(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&_l)!==0?1:Ghe(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Le.prototype.read=function(t){Fe("read",t),t===void 0?t=NaN:Fhe(t)||(t=Hhe(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=STe(t)),t!==0&&(e.state&=~nY),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Fe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?GN(this):dT(this),null;if(t=zW(t,e),t===0&&e.ended)return e.length===0&&GN(this),null;let n=(e.state&uT)!==0;if(Fe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Fe("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Fe("reading, ended or constructing",n);else if(n){Fe("do read"),e.state|=Xu|cT,e.length===0&&(e.state|=uT);try{this._read(e.highWaterMark)}catch(s){pl(this,s)}e.state&=~cT,e.reading||(t=zW(r,e))}let i;return t>0?i=uY(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&GN(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function RTe(t,e){if(Fe("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?dT(t):(e.needReadable=!1,e.emittedReadable=!0,oY(t))}}function dT(t){let e=t._readableState;Fe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Fe("emitReadable",e.flowing),e.emittedReadable=!0,Dn.nextTick(oY,t))}function oY(t){let e=t._readableState;Fe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,lY(t)}function ET(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Dn.nextTick(ATe,t,e))}function ATe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Fe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Le.prototype._read=function(t){throw new Zhe("_read()")};Le.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Yhe(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Fe("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Dn.stdout&&t!==Dn.stderr?a:R;n.endEmitted?Dn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,C){Fe("onunpipe"),S===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,u())}function a(){Fe("onend"),t.end()}let l,c=!1;function u(){Fe("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",R),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(Fe("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Fe("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=pTe(r,t),t.on("drain",l))}r.on("data",d);function d(S){Fe("ondata");let C=t.write(S);Fe("dest.write",C),C===!1&&E()}function f(S){if(Fe("onerror",S),R(),t.removeListener("error",f),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?pl(t,S):t.emit("error",S)}}Xhe(t,"error",f);function T(){t.removeListener("finish",h),R()}t.once("close",T);function h(){Fe("onfinish"),t.removeListener("close",T),R()}t.once("finish",h);function R(){Fe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(Fe("pipe resume"),r.resume()),t};function pTe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Fe("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Fe("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Le.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Bhe(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Le.prototype.on=function(t,e){let r=Is.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Fe("on readable",n.length,n.reading),n.length?dT(this):n.reading||Dn.nextTick(_Te,this)),r};Le.prototype.addListener=Le.prototype.on;Le.prototype.removeListener=function(t,e){let r=Is.prototype.removeListener.call(this,t,e);return t==="readable"&&Dn.nextTick(aY,this),r};Le.prototype.off=Le.prototype.removeListener;Le.prototype.removeAllListeners=function(t){let e=Is.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Dn.nextTick(aY,this),e};function aY(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[vo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function _Te(t){Fe("readable nexttick read 0"),t.read(0)}Le.prototype.resume=function(){let t=this._readableState;return t.flowing||(Fe("resume"),t.flowing=!t.readableListening,ITe(this,t)),t[vo]=!1,this};function ITe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Dn.nextTick(NTe,t,e))}function NTe(t,e){Fe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),lY(t),e.flowing&&!e.reading&&t.read(0)}Le.prototype.pause=function(){return Fe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[vo]=!0,this};function lY(t){let e=t._readableState;for(Fe("flow",e.flowing);e.flowing&&t.read()!==null;);}Le.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{pl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Whe(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Le.prototype[Vhe]=function(){return cY(this)};Le.prototype.iterator=function(t){return t!==void 0&&iTe(t,"options"),cY(this,t)};function cY(t,e){typeof t.read!="function"&&(t=Le.wrap(t,{objectMode:!0}));let r=OTe(t,e);return r.stream=t,r}async function*OTe(t,e){let r=BN;function n(o){this===t?(r(),r=BN):r=o}t.on("readable",n);let i,s=ZW(t,{writable:!1},o=>{i=o?jW(i,o):null,r(),r=BN});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new QW(n)}}}catch(o){throw i=jW(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Il.destroyer(t,null):(t.off("readable",n),s())}}$N(Le.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});$N(fT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[vo]!==!1},set(t){this[vo]=!!t}}});Le._fromList=uY;function uY(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function GN(t){let e=t._readableState;Fe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Dn.nextTick(CTe,e,t))}function CTe(t,e){if(Fe("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Dn.nextTick(mTe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function mTe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Le.from=function(t,e){return sTe(Le,t,e)};var HN;function EY(){return HN===void 0&&(HN={}),HN}Le.fromWeb=function(t,e){return EY().newStreamReadableFromReadableStream(t,e)};Le.toWeb=function(t,e){return EY().newReadableStreamFromStreamReadable(t,e)};Le.wrap=function(t,e){var r,n;return new Le({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Il.destroyer(t,i),s(i)}}).wrap(t)}});var AT=y((sxe,CY)=>{"use strict";var Uo=tt(),{ArrayPrototypeSlice:TY,Error:gTe,FunctionPrototypeSymbolHasInstance:SY,ObjectDefineProperty:RY,ObjectDefineProperties:yTe,ObjectSetPrototypeOf:AY,StringPrototypeToLowerCase:LTe,Symbol:bTe,SymbolHasInstance:wTe}=Tt();CY.exports=_t;_t.WritableState=Ju;var{EventEmitter:DTe}=require("events"),ju=oT().Stream,{Buffer:hT}=require("buffer"),RT=xo(),{addAbortSignal:PTe}=ku(),{getHighWaterMark:MTe,getDefaultHighWaterMark:xTe}=qu(),{ERR_INVALID_ARG_TYPE:vTe,ERR_METHOD_NOT_IMPLEMENTED:UTe,ERR_MULTIPLE_CALLBACK:pY,ERR_STREAM_CANNOT_PIPE:BTe,ERR_STREAM_DESTROYED:zu,ERR_STREAM_ALREADY_FINISHED:FTe,ERR_STREAM_NULL_VALUES:GTe,ERR_STREAM_WRITE_AFTER_END:HTe,ERR_UNKNOWN_ENCODING:_Y}=Lr().codes,{errorOrDestroy:Nl}=RT;AY(_t.prototype,ju.prototype);AY(_t,ju);function qN(){}var Ol=bTe("kOnFinished");function Ju(t,e,r){typeof r!="boolean"&&(r=e instanceof si()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?MTe(this,t,"writableHighWaterMark",r):xTe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=YTe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ST(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ol]=[]}function ST(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Ju.prototype.getBuffer=function(){return TY(this.buffered,this.bufferedIndex)};RY(Ju.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function _t(t){let e=this instanceof si();if(!e&&!SY(_t,this))return new _t(t);this._writableState=new Ju(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&PTe(t.signal,this)),ju.call(this,t),RT.construct(this,()=>{let r=this._writableState;r.writing||KN(this,r),jN(this,r)})}RY(_t,wTe,{__proto__:null,value:function(t){return SY(this,t)?!0:this!==_t?!1:t&&t._writableState instanceof Ju}});_t.prototype.pipe=function(){Nl(this,new BTe)};function IY(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!hT.isEncoding(r))throw new _Y(r);typeof n!="function"&&(n=qN)}if(e===null)throw new GTe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=hT.from(e,r),r="buffer");else if(e instanceof hT)r="buffer";else if(ju._isUint8Array(e))e=ju._uint8ArrayToBuffer(e),r="buffer";else throw new vTe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new HTe:i.destroyed&&(s=new zu("write")),s?(Uo.nextTick(n,s),Nl(t,s,!0),s):(i.pendingcb++,WTe(t,i,e,r,n))}_t.prototype.write=function(t,e,r){return IY(this,t,e,r)===!0};_t.prototype.cork=function(){this._writableState.corked++};_t.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||KN(this,t))};_t.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=LTe(e)),!hT.isEncoding(e))throw new _Y(e);return this._writableState.defaultEncoding=e,this};function WTe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==qN&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function dY(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new zu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function hY(t,e,r,n){--e.pendingcb,n(r),XN(e),Nl(t,r)}function YTe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Nl(t,new pY);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Uo.nextTick(hY,t,r,e,i):hY(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&KN(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Uo.nextTick($Te,r.afterWriteTickInfo)):NY(t,r,1,i))}function $Te({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,NY(t,e,r,n)}function NY(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&XN(e),jN(t,e)}function XN(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new zu("write"))}let r=t[Ol].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new zu("end"))}ST(t)}function KN(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?qN:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:TY(r,o);l.allBuffers=e.allBuffers,dY(t,e,!0,e.length,l,"",a),ST(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;dY(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?ST(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}_t.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new UTe("_write()")};_t.prototype._writev=null;_t.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=IY(this,t,e);s instanceof gTe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,jN(this,n,!0),n.ended=!0):n.finished?i=new FTe("end"):n.destroyed&&(i=new zu("end"))),typeof r=="function"&&(i||n.finished?Uo.nextTick(r,i):n[Ol].push(r)),this};function TT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function VTe(t,e){let r=!1;function n(i){if(r){Nl(t,i??pY());return}if(r=!0,e.pendingcb--,i){let s=e[Ol].splice(0);for(let o=0;o<s.length;o++)s[o](i);Nl(t,i,e.sync)}else TT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Uo.nextTick(kN,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function kTe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,VTe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function jN(t,e,r){TT(e)&&(kTe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Uo.nextTick((n,i)=>{TT(i)?kN(n,i):i.pendingcb--},t,e)):TT(e)&&(e.pendingcb++,kN(t,e))))}function kN(t,e){e.pendingcb--,e.finished=!0;let r=e[Ol].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}yTe(_t.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var qTe=RT.destroy;_t.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Ol].length)&&Uo.nextTick(XN,r),qTe.call(this,t,e),this};_t.prototype._undestroy=RT.undestroy;_t.prototype._destroy=function(t,e){e(t)};_t.prototype[DTe.captureRejectionSymbol]=function(t){this.destroy(t)};var VN;function OY(){return VN===void 0&&(VN={}),VN}_t.fromWeb=function(t,e){return OY().newStreamWritableFromWritableStream(t,e)};_t.toWeb=function(t){return OY().newWritableStreamFromStreamWritable(t)}});var GY=y((oxe,FY)=>{var zN=tt(),XTe=require("buffer"),{isReadable:KTe,isWritable:jTe,isIterable:mY,isNodeStream:zTe,isReadableNodeStream:gY,isWritableNodeStream:yY,isDuplexNodeStream:JTe,isReadableStream:LY,isWritableStream:bY}=ni(),wY=Ui(),{AbortError:UY,codes:{ERR_INVALID_ARG_TYPE:QTe,ERR_INVALID_RETURN_VALUE:DY}}=Lr(),{destroyer:ml}=xo(),ZTe=si(),BY=Ku(),eSe=AT(),{createDeferredPromise:PY}=Hr(),MY=vN(),xY=globalThis.Blob||XTe.Blob,tSe=typeof xY<"u"?function(e){return e instanceof xY}:function(e){return!1},rSe=globalThis.AbortController||Dt().AbortController,{FunctionPrototypeCall:vY}=Tt(),Ns=class extends ZTe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};FY.exports=function t(e,r){if(JTe(e))return e;if(gY(e))return Cl({readable:e});if(yY(e))return Cl({writable:e});if(zTe(e))return Cl({writable:!1,readable:!1});if(LY(e))return Cl({readable:BY.fromWeb(e)});if(bY(e))return Cl({writable:eSe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=nSe(e);if(mY(i))return MY(Ns,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=vY(l,i,E=>{if(E!=null)throw new DY("nully","body",E)},E=>{ml(c,E)});return c=new Ns({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,zN.nextTick(E,null)}catch(d){zN.nextTick(E,d)}})},destroy:a})}throw new DY("Iterable, AsyncIterable or AsyncFunction",r,i)}if(tSe(e))return t(e.arrayBuffer());if(mY(e))return MY(Ns,e,{objectMode:!0,writable:!1});if(LY(e?.readable)&&bY(e?.writable))return Ns.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?gY(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?yY(e?.writable)?e?.writable:t(e.writable):void 0;return Cl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return vY(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{ml(i,s)}),i=new Ns({objectMode:!0,writable:!1,read(){}})}throw new QTe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function nSe(t){let{promise:e,resolve:r}=PY(),n=new rSe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(zN.nextTick(c),l)return;if(i.aborted)throw new UY(void 0,{cause:i.reason});({promise:e,resolve:r}=PY()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Cl(t){let e=t.readable&&typeof t.readable.read!="function"?BY.wrap(t.readable):t.readable,r=t.writable,n=!!KTe(e),i=!!jTe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new Ns({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(wY(r,E=>{i=!1,E&&ml(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(wY(e,E=>{n=!1,E&&ml(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new UY),a=null,s=null,o=null,l===null?d(E):(l=d,ml(r,E),ml(e,E))},c}});var si=y((axe,YY)=>{"use strict";var{ObjectDefineProperties:iSe,ObjectGetOwnPropertyDescriptor:Bi,ObjectKeys:sSe,ObjectSetPrototypeOf:HY}=Tt();YY.exports=Pn;var ZN=Ku(),An=AT();HY(Pn.prototype,ZN.prototype);HY(Pn,ZN);{let t=sSe(An.prototype);for(let e=0;e<t.length;e++){let r=t[e];Pn.prototype[r]||(Pn.prototype[r]=An.prototype[r])}}function Pn(t){if(!(this instanceof Pn))return new Pn(t);ZN.call(this,t),An.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}iSe(Pn.prototype,{writable:{__proto__:null,...Bi(An.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Bi(An.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Bi(An.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Bi(An.prototype,"writableBuffer")},writableLength:{__proto__:null,...Bi(An.prototype,"writableLength")},writableFinished:{__proto__:null,...Bi(An.prototype,"writableFinished")},writableCorked:{__proto__:null,...Bi(An.prototype,"writableCorked")},writableEnded:{__proto__:null,...Bi(An.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Bi(An.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var JN;function WY(){return JN===void 0&&(JN={}),JN}Pn.fromWeb=function(t,e){return WY().newStreamDuplexFromReadableWritablePair(t,e)};Pn.toWeb=function(t){return WY().newReadableWritablePairFromDuplex(t)};var QN;Pn.from=function(t){return QN||(QN=GY()),QN(t,"body")}});var rO=y((lxe,VY)=>{"use strict";var{ObjectSetPrototypeOf:$Y,Symbol:oSe}=Tt();VY.exports=Fi;var{ERR_METHOD_NOT_IMPLEMENTED:aSe}=Lr().codes,tO=si(),{getHighWaterMark:lSe}=qu();$Y(Fi.prototype,tO.prototype);$Y(Fi,tO);var Qu=oSe("kCallback");function Fi(t){if(!(this instanceof Fi))return new Fi(t);let e=t?lSe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),tO.call(this,t),this._readableState.sync=!1,this[Qu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",cSe)}function eO(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function cSe(){this._final!==eO&&eO.call(this)}Fi.prototype._final=eO;Fi.prototype._transform=function(t,e,r){throw new aSe("_transform()")};Fi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Qu]=r})};Fi.prototype._read=function(){if(this[Qu]){let t=this[Qu];this[Qu]=null,t()}}});var iO=y((cxe,qY)=>{"use strict";var{ObjectSetPrototypeOf:kY}=Tt();qY.exports=gl;var nO=rO();kY(gl.prototype,nO.prototype);kY(gl,nO);function gl(t){if(!(this instanceof gl))return new gl(t);nO.call(this,t)}gl.prototype._transform=function(t,e,r){r(null,t)}});var NT=y((uxe,JY)=>{var Zu=tt(),{ArrayIsArray:uSe,Promise:ESe,SymbolAsyncIterator:fSe,SymbolDispose:dSe}=Tt(),IT=Ui(),{once:hSe}=Hr(),TSe=xo(),XY=si(),{aggregateTwoErrors:SSe,codes:{ERR_INVALID_ARG_TYPE:dO,ERR_INVALID_RETURN_VALUE:sO,ERR_MISSING_ARGS:RSe,ERR_STREAM_DESTROYED:ASe,ERR_STREAM_PREMATURE_CLOSE:pSe},AbortError:_Se}=Lr(),{validateFunction:ISe,validateAbortSignal:NSe}=Rl(),{isIterable:Bo,isReadable:oO,isReadableNodeStream:_T,isNodeStream:KY,isTransformStream:yl,isWebStream:OSe,isReadableStream:aO,isReadableFinished:CSe}=ni(),mSe=globalThis.AbortController||Dt().AbortController,lO,cO,uO;function jY(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=IT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,TSe.destroyer(t,s||new ASe("pipe")))},cleanup:i}}function gSe(t){return ISe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function EO(t){if(Bo(t))return t;if(_T(t))return ySe(t);throw new dO("val",["Readable","Iterable","AsyncIterable"],t)}async function*ySe(t){cO||(cO=Ku()),yield*cO.prototype[fSe].call(t)}async function pT(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new ESe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=IT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?SSe(i,c):c)}finally{l(),e.off("drain",o)}}async function fO(t,e,r,{end:n}){yl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function LSe(...t){return zY(t,hSe(gSe(t)))}function zY(t,e,r){if(t.length===1&&uSe(t[0])&&(t=t[0]),t.length<2)throw new RSe("streams");let n=new mSe,i=n.signal,s=r?.signal,o=[];NSe(s,"options.signal");function a(){T(new _Se)}uO=uO||Hr().addAbortListener;let l;s&&(l=uO(s,a));let c,u,E=[],d=0;function f(A){T(A,--d===0)}function T(A,p){var g;if(A&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=A),!(!c&&!p)){for(;E.length;)E.shift()(c);(g=l)===null||g===void 0||g[dSe](),n.abort(),p&&(c||o.forEach(D=>D()),Zu.nextTick(e,c,u))}}let h;for(let A=0;A<t.length;A++){let p=t[A],g=A<t.length-1,D=A>0,O=g||r?.end!==!1,M=A===t.length-1;if(KY(p)){let w=function(x){x&&x.name!=="AbortError"&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(x)};var C=w;if(O){let{destroy:x,cleanup:F}=jY(p,g,D);E.push(x),oO(p)&&M&&o.push(F)}p.on("error",w),oO(p)&&M&&o.push(()=>{p.removeListener("error",w)})}if(A===0)if(typeof p=="function"){if(h=p({signal:i}),!Bo(h))throw new sO("Iterable, AsyncIterable or Stream","source",h)}else Bo(p)||_T(p)||yl(p)?h=p:h=XY.from(p);else if(typeof p=="function"){if(yl(h)){var R;h=EO((R=h)===null||R===void 0?void 0:R.readable)}else h=EO(h);if(h=p(h,{signal:i}),g){if(!Bo(h,!0))throw new sO("AsyncIterable",`transform[${A-1}]`,h)}else{var S;lO||(lO=iO());let w=new lO({objectMode:!0}),x=(S=h)===null||S===void 0?void 0:S.then;if(typeof x=="function")d++,x.call(h,Z=>{u=Z,Z!=null&&w.write(Z),O&&w.end(),Zu.nextTick(f)},Z=>{w.destroy(Z),Zu.nextTick(f,Z)});else if(Bo(h,!0))d++,pT(h,w,f,{end:O});else if(aO(h)||yl(h)){let Z=h.readable||h;d++,pT(Z,w,f,{end:O})}else throw new sO("AsyncIterable or Promise","destination",h);h=w;let{destroy:F,cleanup:ee}=jY(h,!1,!0);E.push(F),M&&o.push(ee)}}else if(KY(p)){if(_T(h)){d+=2;let w=bSe(h,p,f,{end:O});oO(p)&&M&&o.push(w)}else if(yl(h)||aO(h)){let w=h.readable||h;d++,pT(w,p,f,{end:O})}else if(Bo(h))d++,pT(h,p,f,{end:O});else throw new dO("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=p}else if(OSe(p)){if(_T(h))d++,fO(EO(h),p,f,{end:O});else if(aO(h)||Bo(h))d++,fO(h,p,f,{end:O});else if(yl(h))d++,fO(h.readable,p,f,{end:O});else throw new dO("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=p}else h=XY.from(p)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Zu.nextTick(a),h}function bSe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new pSe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;CSe(t)?Zu.nextTick(o):t.once("end",o)}else r();return IT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),IT(e,{readable:!1,writable:!0},r)}JY.exports={pipelineImpl:zY,pipeline:LSe}});var TO=y((Exe,n$)=>{"use strict";var{pipeline:wSe}=NT(),OT=si(),{destroyer:DSe}=xo(),{isNodeStream:CT,isReadable:QY,isWritable:ZY,isWebStream:hO,isTransformStream:Fo,isWritableStream:e$,isReadableStream:t$}=ni(),{AbortError:PSe,codes:{ERR_INVALID_ARG_VALUE:r$,ERR_MISSING_ARGS:MSe}}=Lr(),xSe=Ui();n$.exports=function(...e){if(e.length===0)throw new MSe("streams");if(e.length===1)return OT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=OT.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=OT.from(e[f])}for(let f=0;f<e.length;++f)if(!(!CT(e[f])&&!hO(e[f]))){if(f<e.length-1&&!(QY(e[f])||t$(e[f])||Fo(e[f])))throw new r$(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(ZY(e[f])||e$(e[f])||Fo(e[f])))throw new r$(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=wSe(e,l),E=!!(ZY(c)||e$(c)||Fo(c)),d=!!(QY(u)||t$(u)||Fo(u));if(a=new OT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(CT(c))a._write=function(T,h,R){c.write(T,h)?R():n=R},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(hO(c)){let h=(Fo(c)?c.writable:c).getWriter();a._write=async function(R,S,C){try{await h.ready,h.write(R).catch(()=>{}),C()}catch(A){C(A)}},a._final=async function(R){try{await h.ready,h.close().catch(()=>{}),i=R}catch(S){R(S)}}}let f=Fo(u)?u.readable:u;xSe(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(CT(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(hO(u)){let T=(Fo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:R}=await T.read();if(!a.push(h))return;if(R){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new PSe),s=null,n=null,i=null,o===null?T(f):(o=T,CT(u)&&DSe(u,f))},a}});var d$=y((fxe,AO)=>{"use strict";var vSe=globalThis.AbortController||Dt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:USe,ERR_INVALID_ARG_TYPE:eE,ERR_MISSING_ARGS:BSe,ERR_OUT_OF_RANGE:FSe},AbortError:oi}=Lr(),{validateAbortSignal:Go,validateInteger:i$,validateObject:Ho}=Rl(),GSe=Tt().Symbol("kWeak"),HSe=Tt().Symbol("kResistStopPropagation"),{finished:WSe}=Ui(),YSe=TO(),{addAbortSignalNoValidate:$Se}=ku(),{isWritable:VSe,isNodeStream:kSe}=ni(),{deprecate:qSe}=Hr(),{ArrayPrototypePush:XSe,Boolean:KSe,MathFloor:s$,Number:jSe,NumberIsNaN:zSe,Promise:o$,PromiseReject:a$,PromiseResolve:JSe,PromisePrototypeThen:l$,Symbol:u$}=Tt(),mT=u$("kEmpty"),c$=u$("kEof");function QSe(t,e){if(e!=null&&Ho(e,"options"),e?.signal!=null&&Go(e.signal,"options.signal"),kSe(t)&&!VSe(t))throw new USe("stream",t,"must be writable");let r=YSe(this,t);return e!=null&&e.signal&&$Se(e.signal,r),r}function gT(t,e){if(typeof t!="function")throw new eE("fn",["Function","AsyncFunction"],t);e!=null&&Ho(e,"options"),e?.signal!=null&&Go(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=s$(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=s$(e.highWaterMark)),i$(r,"options.concurrency",1),i$(n,"options.highWaterMark",0),n+=r,async function*(){let s=Hr().AbortSignalAny([e?.signal].filter(KSe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function R(){try{for await(let S of o){if(E)return;if(s.aborted)throw new oi;try{if(S=t(S,l),S===mT)continue;S=JSe(S)}catch(C){S=a$(C)}d+=1,l$(S,T,f),a.push(S),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new o$(C=>{u=C})}a.push(c$)}catch(S){let C=a$(S);l$(C,T,f),a.push(C)}finally{E=!0,c&&(c(),c=null)}}R();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===c$)return;if(s.aborted)throw new oi;S!==mT&&(yield S),a.shift(),h()}await new o$(S=>{c=S})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function ZSe(t=void 0){return t!=null&&Ho(t,"options"),t?.signal!=null&&Go(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new oi({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function E$(t,e=void 0){for await(let r of RO.call(this,t,e))return!0;return!1}async function eRe(t,e=void 0){if(typeof t!="function")throw new eE("fn",["Function","AsyncFunction"],t);return!await E$.call(this,async(...r)=>!await t(...r),e)}async function tRe(t,e){for await(let r of RO.call(this,t,e))return r}async function rRe(t,e){if(typeof t!="function")throw new eE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),mT}for await(let n of gT.call(this,r,e));}function RO(t,e){if(typeof t!="function")throw new eE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:mT}return gT.call(this,r,e)}var SO=class extends BSe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function nRe(t,e,r){var n;if(typeof t!="function")throw new eE("reducer",["Function","AsyncFunction"],t);r!=null&&Ho(r,"options"),r?.signal!=null&&Go(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new oi(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await WSe(this.destroy(c)),c}let s=new vSe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[GSe]:this,[HSe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new oi;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new SO}finally{s.abort()}return e}async function iRe(t){t!=null&&Ho(t,"options"),t?.signal!=null&&Go(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new oi(void 0,{cause:t.signal.reason});XSe(e,n)}return e}function sRe(t,e){let r=gT.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function f$(t){if(t=jSe(t),zSe(t))return 0;if(t<0)throw new FSe("number",">= 0",t);return t}function oRe(t,e=void 0){return e!=null&&Ho(e,"options"),e?.signal!=null&&Go(e.signal,"options.signal"),t=f$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new oi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new oi;t--<=0&&(yield s)}}.call(this)}function aRe(t,e=void 0){return e!=null&&Ho(e,"options"),e?.signal!=null&&Go(e.signal,"options.signal"),t=f$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new oi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new oi;if(t-- >0&&(yield s),t<=0)return}}.call(this)}AO.exports.streamReturningOperators={asIndexedPairs:qSe(ZSe,"readable.asIndexedPairs will be removed in a future version."),drop:oRe,filter:RO,flatMap:sRe,map:gT,take:aRe,compose:QSe};AO.exports.promiseReturningOperators={every:eRe,forEach:rRe,reduce:nRe,toArray:iRe,some:E$,find:tRe}});var pO=y((dxe,h$)=>{"use strict";var{ArrayPrototypePop:lRe,Promise:cRe}=Tt(),{isIterable:uRe,isNodeStream:ERe,isWebStream:fRe}=ni(),{pipelineImpl:dRe}=NT(),{finished:hRe}=Ui();_O();function TRe(...t){return new cRe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!ERe(s)&&!uRe(s)&&!fRe(s)){let o=lRe(t);n=o.signal,i=o.end}dRe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}h$.exports={finished:hRe,pipeline:TRe}});var _O=y((hxe,O$)=>{"use strict";var{Buffer:SRe}=require("buffer"),{ObjectDefineProperty:Gi,ObjectKeys:R$,ReflectApply:A$}=Tt(),{promisify:{custom:p$}}=Hr(),{streamReturningOperators:T$,promiseReturningOperators:S$}=d$(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:_$}}=Lr(),RRe=TO(),{setDefaultHighWaterMark:ARe,getDefaultHighWaterMark:pRe}=qu(),{pipeline:I$}=NT(),{destroyer:_Re}=xo(),N$=Ui(),IO=pO(),tE=ni(),ut=O$.exports=oT().Stream;ut.isDestroyed=tE.isDestroyed;ut.isDisturbed=tE.isDisturbed;ut.isErrored=tE.isErrored;ut.isReadable=tE.isReadable;ut.isWritable=tE.isWritable;ut.Readable=Ku();for(let t of R$(T$)){let r=function(...n){if(new.target)throw _$();return ut.Readable.from(A$(e,this,n))},e=T$[t];Gi(r,"name",{__proto__:null,value:e.name}),Gi(r,"length",{__proto__:null,value:e.length}),Gi(ut.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of R$(S$)){let r=function(...n){if(new.target)throw _$();return A$(e,this,n)},e=S$[t];Gi(r,"name",{__proto__:null,value:e.name}),Gi(r,"length",{__proto__:null,value:e.length}),Gi(ut.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}ut.Writable=AT();ut.Duplex=si();ut.Transform=rO();ut.PassThrough=iO();ut.pipeline=I$;var{addAbortSignal:IRe}=ku();ut.addAbortSignal=IRe;ut.finished=N$;ut.destroy=_Re;ut.compose=RRe;ut.setDefaultHighWaterMark=ARe;ut.getDefaultHighWaterMark=pRe;Gi(ut,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return IO}});Gi(I$,p$,{__proto__:null,enumerable:!0,get(){return IO.pipeline}});Gi(N$,p$,{__proto__:null,enumerable:!0,get(){return IO.finished}});ut.Stream=ut;ut._isUint8Array=function(e){return e instanceof Uint8Array};ut._uint8ArrayToBuffer=function(e){return SRe.from(e.buffer,e.byteOffset,e.byteLength)}});var NO=y((Txe,Me)=>{"use strict";var kt=require("stream");if(kt&&process.env.READABLE_STREAM==="disable"){let t=kt.promises;Me.exports._uint8ArrayToBuffer=kt._uint8ArrayToBuffer,Me.exports._isUint8Array=kt._isUint8Array,Me.exports.isDisturbed=kt.isDisturbed,Me.exports.isErrored=kt.isErrored,Me.exports.isReadable=kt.isReadable,Me.exports.Readable=kt.Readable,Me.exports.Writable=kt.Writable,Me.exports.Duplex=kt.Duplex,Me.exports.Transform=kt.Transform,Me.exports.PassThrough=kt.PassThrough,Me.exports.addAbortSignal=kt.addAbortSignal,Me.exports.finished=kt.finished,Me.exports.destroy=kt.destroy,Me.exports.pipeline=kt.pipeline,Me.exports.compose=kt.compose,Object.defineProperty(kt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Me.exports.Stream=kt.Stream}else{let t=_O(),e=pO(),r=t.Readable.destroy;Me.exports=t.Readable,Me.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Me.exports._isUint8Array=t._isUint8Array,Me.exports.isDisturbed=t.isDisturbed,Me.exports.isErrored=t.isErrored,Me.exports.isReadable=t.isReadable,Me.exports.Readable=t.Readable,Me.exports.Writable=t.Writable,Me.exports.Duplex=t.Duplex,Me.exports.Transform=t.Transform,Me.exports.PassThrough=t.PassThrough,Me.exports.addAbortSignal=t.addAbortSignal,Me.exports.finished=t.finished,Me.exports.destroy=t.destroy,Me.exports.destroy=r,Me.exports.pipeline=t.pipeline,Me.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Me.exports.Stream=t.Stream}Me.exports.default=Me.exports});var OO=y((Rxe,C$)=>{var Sxe=require("stream").Stream,NRe=NO().PassThrough,ORe=xf(),CRe=C$.exports={};CRe.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(ORe(t)&&!t._readableState){var e=new NRe;return t.pipe(e),e}return t}});var mO=y((Axe,m$)=>{var mRe=require("util").inherits,gRe=xf(),CO=NO().Transform,yRe=zh(),LRe=OO(),en=m$.exports=function(t){if(!(this instanceof en))return new en(t);CO.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};mRe(en,CO);en.prototype._appendBuffer=function(t,e,r){};en.prototype._appendStream=function(t,e,r){};en.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};en.prototype._finish=function(t){};en.prototype._normalizeEntry=function(t){};en.prototype._transform=function(t,e,r){r(null,t)};en.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof yRe)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=LRe.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(gRe(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};en.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};en.prototype.getBytesWritten=function(){return this.offset};en.prototype.write=function(t,e){return t&&(this.offset+=t.length),CO.prototype.write.call(this,t,e)}});var yT=y(gO=>{var g$;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof gO=="object"?t(gO):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(g$={}):t(g$={})})(function(t){t.version="1.2.2";function e(){for(var O=0,M=new Array(256),w=0;w!=256;++w)O=w,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,M[w]=O;return typeof Int32Array<"u"?new Int32Array(M):M}var r=e();function n(O){var M=0,w=0,x=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(x=0;x!=256;++x)F[x]=O[x];for(x=0;x!=256;++x)for(w=O[x],M=256+x;M<4096;M+=256)w=F[M]=w>>>8^O[w&255];var ee=[];for(x=1;x!=16;++x)ee[x-1]=typeof Int32Array<"u"?F.subarray(x*256,x*256+256):F.slice(x*256,x*256+256);return ee}var i=n(r),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],E=i[6],d=i[7],f=i[8],T=i[9],h=i[10],R=i[11],S=i[12],C=i[13],A=i[14];function p(O,M){for(var w=M^-1,x=0,F=O.length;x<F;)w=w>>>8^r[(w^O.charCodeAt(x++))&255];return~w}function g(O,M){for(var w=M^-1,x=O.length-15,F=0;F<x;)w=A[O[F++]^w&255]^C[O[F++]^w>>8&255]^S[O[F++]^w>>16&255]^R[O[F++]^w>>>24]^h[O[F++]]^T[O[F++]]^f[O[F++]]^d[O[F++]]^E[O[F++]]^u[O[F++]]^c[O[F++]]^l[O[F++]]^a[O[F++]]^o[O[F++]]^s[O[F++]]^r[O[F++]];for(x+=15;F<x;)w=w>>>8^r[(w^O[F++])&255];return~w}function D(O,M){for(var w=M^-1,x=0,F=O.length,ee=0,Z=0;x<F;)ee=O.charCodeAt(x++),ee<128?w=w>>>8^r[(w^ee)&255]:ee<2048?(w=w>>>8^r[(w^(192|ee>>6&31))&255],w=w>>>8^r[(w^(128|ee&63))&255]):ee>=55296&&ee<57344?(ee=(ee&1023)+64,Z=O.charCodeAt(x++)&1023,w=w>>>8^r[(w^(240|ee>>8&7))&255],w=w>>>8^r[(w^(128|ee>>2&63))&255],w=w>>>8^r[(w^(128|Z>>6&15|(ee&3)<<4))&255],w=w>>>8^r[(w^(128|Z&63))&255]):(w=w>>>8^r[(w^(224|ee>>12&15))&255],w=w>>>8^r[(w^(128|ee>>6&63))&255],w=w>>>8^r[(w^(128|ee&63))&255]);return~w}t.table=r,t.bstr=p,t.buf=g,t.str=D})});var St=y((_xe,y$)=>{"use strict";var yO=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};y$.exports={AggregateError:yO,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var LO=y((Ixe,L$)=>{"use strict";L$.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var wr=y((Nxe,D$)=>{"use strict";var{format:bRe,inspect:LT}=LO(),{AggregateError:wRe}=St(),DRe=globalThis.AggregateError||wRe,PRe=Symbol("kIsNodeError"),MRe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],xRe=/^([A-Z][a-z0-9]*)+$/,vRe="__node_internal_",bT={};function Wo(t,e){if(!t)throw new bT.ERR_INTERNAL_ASSERTION(e)}function b$(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function URe(t,e,r){if(typeof e=="function")return Wo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Wo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:bRe(e,...r)}function pr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(URe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[PRe]=!0,bT[t]=n}function w$(t){let e=vRe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function BRe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new DRe([e,t],e.message);return r.code=e.code,r}return t||e}var bO=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new bT.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};pr("ERR_ASSERTION","%s",Error);pr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Wo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Wo(typeof l=="string","All expected entries have to be of type string"),MRe.includes(l)?i.push(l.toLowerCase()):xRe.test(l)?s.push(l):(Wo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=LT(r,{depth:-1});n+=`. Received ${l}`}}else{let l=LT(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);pr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=LT(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);pr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);pr("ERR_MISSING_ARGS",(...t)=>{Wo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);pr("ERR_OUT_OF_RANGE",(t,e,r)=>{Wo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=b$(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=b$(n)),n+="n"}else n=LT(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);pr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);pr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);pr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);pr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);pr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);pr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);pr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);pr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);pr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);pr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);pr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);D$.exports={AbortError:bO,aggregateTwoErrors:w$(BRe),hideStackFrames:w$,codes:bT}});var Wr=y((Oxe,DO)=>{"use strict";var FRe=require("buffer"),{format:GRe,inspect:HRe}=LO(),{codes:{ERR_INVALID_ARG_TYPE:wO}}=wr(),{kResistStopPropagation:WRe,AggregateError:YRe,SymbolDispose:$Re}=St(),VRe=globalThis.AbortSignal||Dt().AbortSignal,kRe=globalThis.AbortController||Dt().AbortController,qRe=Object.getPrototypeOf(async function(){}).constructor,P$=globalThis.Blob||FRe.Blob,XRe=typeof P$<"u"?function(e){return e instanceof P$}:function(e){return!1},M$=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new wO(e,"AbortSignal",t)},KRe=(t,e)=>{if(typeof t!="function")throw new wO(e,"Function",t)};DO.exports={AggregateError:YRe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:GRe,inspect:HRe,types:{isAsyncFunction(t){return t instanceof qRe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:XRe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new wO("signal","AbortSignal",e);M$(e,"signal"),KRe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[WRe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[$Re](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:VRe.any||function(e){if(e.length===1)return e[0];let r=new kRe,n=()=>r.abort();return e.forEach(i=>{M$(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};DO.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var bl=y((Cxe,$$)=>{"use strict";var{ArrayIsArray:MO,ArrayPrototypeIncludes:B$,ArrayPrototypeJoin:F$,ArrayPrototypeMap:jRe,NumberIsInteger:xO,NumberIsNaN:zRe,NumberMAX_SAFE_INTEGER:JRe,NumberMIN_SAFE_INTEGER:QRe,NumberParseInt:ZRe,ObjectPrototypeHasOwnProperty:eAe,RegExpPrototypeExec:G$,String:tAe,StringPrototypeToUpperCase:rAe,StringPrototypeTrim:nAe}=St(),{hideStackFrames:pn,codes:{ERR_SOCKET_BAD_PORT:iAe,ERR_INVALID_ARG_TYPE:Dr,ERR_INVALID_ARG_VALUE:Ll,ERR_OUT_OF_RANGE:Yo,ERR_UNKNOWN_SIGNAL:x$}}=wr(),{normalizeEncoding:sAe}=Wr(),{isAsyncFunction:oAe,isArrayBufferView:aAe}=Wr().types,v$={};function lAe(t){return t===(t|0)}function cAe(t){return t===t>>>0}var uAe=/^[0-7]+$/,EAe="must be a 32-bit unsigned integer or an octal string";function fAe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(G$(uAe,t)===null)throw new Ll(e,t,EAe);t=ZRe(t,8)}return H$(t,e),t}var dAe=pn((t,e,r=QRe,n=JRe)=>{if(typeof t!="number")throw new Dr(e,"number",t);if(!xO(t))throw new Yo(e,"an integer",t);if(t<r||t>n)throw new Yo(e,`>= ${r} && <= ${n}`,t)}),hAe=pn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Dr(e,"number",t);if(!xO(t))throw new Yo(e,"an integer",t);if(t<r||t>n)throw new Yo(e,`>= ${r} && <= ${n}`,t)}),H$=pn((t,e,r=!1)=>{if(typeof t!="number")throw new Dr(e,"number",t);if(!xO(t))throw new Yo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Yo(e,`>= ${n} && <= ${i}`,t)});function vO(t,e){if(typeof t!="string")throw new Dr(e,"string",t)}function TAe(t,e,r=void 0,n){if(typeof t!="number")throw new Dr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&zRe(t))throw new Yo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var SAe=pn((t,e,r)=>{if(!B$(r,t)){let i="must be one of: "+F$(jRe(r,s=>typeof s=="string"?`'${s}'`:tAe(s)),", ");throw new Ll(e,t,i)}});function W$(t,e){if(typeof t!="boolean")throw new Dr(e,"boolean",t)}function PO(t,e,r){return t==null||!eAe(t,e)?r:t[e]}var RAe=pn((t,e,r=null)=>{let n=PO(r,"allowArray",!1),i=PO(r,"allowFunction",!1);if(!PO(r,"nullable",!1)&&t===null||!n&&MO(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Dr(e,"Object",t)}),AAe=pn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Dr(e,"a dictionary",t)}),wT=pn((t,e,r=0)=>{if(!MO(t))throw new Dr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Ll(e,t,n)}});function pAe(t,e){wT(t,e);for(let r=0;r<t.length;r++)vO(t[r],`${e}[${r}]`)}function _Ae(t,e){wT(t,e);for(let r=0;r<t.length;r++)W$(t[r],`${e}[${r}]`)}function IAe(t,e){wT(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Dr(i,"AbortSignal",n);Y$(n,i)}}function NAe(t,e="signal"){if(vO(t,e),v$[t]===void 0)throw v$[rAe(t)]!==void 0?new x$(t+" (signals must use all capital letters)"):new x$(t)}var OAe=pn((t,e="buffer")=>{if(!aAe(t))throw new Dr(e,["Buffer","TypedArray","DataView"],t)});function CAe(t,e){let r=sAe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Ll("encoding",e,`is invalid for data of length ${n}`)}function mAe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&nAe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new iAe(e,t,r);return t|0}var Y$=pn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Dr(e,"AbortSignal",t)}),gAe=pn((t,e)=>{if(typeof t!="function")throw new Dr(e,"Function",t)}),yAe=pn((t,e)=>{if(typeof t!="function"||oAe(t))throw new Dr(e,"Function",t)}),LAe=pn((t,e)=>{if(t!==void 0)throw new Dr(e,"undefined",t)});function bAe(t,e,r){if(!B$(r,t))throw new Dr(e,`('${F$(r,"|")}')`,t)}var wAe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function U$(t,e){if(typeof t>"u"||!G$(wAe,t))throw new Ll(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function DAe(t){if(typeof t=="string")return U$(t,"hints"),t;if(MO(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];U$(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Ll("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}$$.exports={isInt32:lAe,isUint32:cAe,parseFileMode:fAe,validateArray:wT,validateStringArray:pAe,validateBooleanArray:_Ae,validateAbortSignalArray:IAe,validateBoolean:W$,validateBuffer:OAe,validateDictionary:AAe,validateEncoding:CAe,validateFunction:gAe,validateInt32:hAe,validateInteger:dAe,validateNumber:TAe,validateObject:RAe,validateOneOf:SAe,validatePlainFunction:yAe,validatePort:mAe,validateSignalName:NAe,validateString:vO,validateUint32:H$,validateUndefined:LAe,validateUnion:bAe,validateAbortSignal:Y$,validateLinkHeaderValue:DAe}});var li=y((mxe,iV)=>{"use strict";var{SymbolAsyncIterator:V$,SymbolIterator:k$,SymbolFor:$o}=St(),q$=$o("nodejs.stream.destroyed"),X$=$o("nodejs.stream.errored"),UO=$o("nodejs.stream.readable"),BO=$o("nodejs.stream.writable"),K$=$o("nodejs.stream.disturbed"),PAe=$o("nodejs.webstream.isClosedPromise"),MAe=$o("nodejs.webstream.controllerErrorFunction");function DT(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function PT(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function xAe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ai(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function j$(t){return!!(t&&!ai(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function z$(t){return!!(t&&!ai(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function J$(t){return!!(t&&!ai(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function vAe(t){return j$(t)||z$(t)||J$(t)}function UAe(t,e){return t==null?!1:e===!0?typeof t[V$]=="function":e===!1?typeof t[k$]=="function":typeof t[V$]=="function"||typeof t[k$]=="function"}function MT(t){if(!ai(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[q$]||n!=null&&n.destroyed)}function Q$(t){if(!PT(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function BAe(t,e){if(!PT(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function FAe(t){if(!DT(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Z$(t,e){if(!DT(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function eV(t){return t&&t[UO]!=null?t[UO]:typeof t?.readable!="boolean"?null:MT(t)?!1:DT(t)&&t.readable&&!Z$(t)}function tV(t){return t&&t[BO]!=null?t[BO]:typeof t?.writable!="boolean"?null:MT(t)?!1:PT(t)&&t.writable&&!Q$(t)}function GAe(t,e){return ai(t)?MT(t)?!0:!(e?.readable!==!1&&eV(t)||e?.writable!==!1&&tV(t)):null}function HAe(t){var e,r;return ai(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function WAe(t){var e,r;return ai(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function YAe(t){if(!ai(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&rV(t)?t._closed:null}function rV(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function nV(t){return typeof t._sent100=="boolean"&&rV(t)}function $Ae(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function VAe(t){if(!ai(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&nV(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function kAe(t){var e;return!!(t&&((e=t[K$])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function qAe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[X$])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}iV.exports={isDestroyed:MT,kIsDestroyed:q$,isDisturbed:kAe,kIsDisturbed:K$,isErrored:qAe,kIsErrored:X$,isReadable:eV,kIsReadable:UO,kIsClosedPromise:PAe,kControllerErrorFunction:MAe,kIsWritable:BO,isClosed:YAe,isDuplexNodeStream:xAe,isFinished:GAe,isIterable:UAe,isReadableNodeStream:DT,isReadableStream:j$,isReadableEnded:FAe,isReadableFinished:Z$,isReadableErrored:WAe,isNodeStream:ai,isWebStream:vAe,isWritable:tV,isWritableNodeStream:PT,isWritableStream:z$,isWritableEnded:Q$,isWritableFinished:BAe,isWritableErrored:HAe,isServerRequest:$Ae,isServerResponse:nV,willEmitClose:VAe,isTransformStream:J$}});var Hi=y((gxe,YO)=>{"use strict";var Os=tt(),{AbortError:dV,codes:XAe}=wr(),{ERR_INVALID_ARG_TYPE:KAe,ERR_STREAM_PREMATURE_CLOSE:sV}=XAe,{kEmptyObject:GO,once:HO}=Wr(),{validateAbortSignal:jAe,validateFunction:zAe,validateObject:JAe,validateBoolean:QAe}=bl(),{Promise:ZAe,PromisePrototypeThen:epe,SymbolDispose:hV}=St(),{isClosed:tpe,isReadable:oV,isReadableNodeStream:FO,isReadableStream:rpe,isReadableFinished:aV,isReadableErrored:lV,isWritable:cV,isWritableNodeStream:uV,isWritableStream:npe,isWritableFinished:EV,isWritableErrored:fV,isNodeStream:ipe,willEmitClose:spe,kIsClosedPromise:ope}=li(),wl;function ape(t){return t.setHeader&&typeof t.abort=="function"}var WO=()=>{};function TV(t,e,r){var n,i;if(arguments.length===2?(r=e,e=GO):e==null?e=GO:JAe(e,"options"),zAe(r,"callback"),jAe(e.signal,"options.signal"),r=HO(r),rpe(t)||npe(t))return lpe(t,e,r);if(!ipe(t))throw new KAe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:FO(t),o=(i=e.writable)!==null&&i!==void 0?i:uV(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=spe(t)&&FO(t)===s&&uV(t)===o,E=EV(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=aV(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=g=>{r.call(t,g)},R=tpe(t),S=()=>{R=!0;let g=fV(t)||lV(t);if(g&&typeof g!="boolean")return r.call(t,g);if(s&&!f&&FO(t,!0)&&!aV(t,!1))return r.call(t,new sV);if(o&&!E&&!EV(t,!1))return r.call(t,new sV);r.call(t)},C=()=>{R=!0;let g=fV(t)||lV(t);if(g&&typeof g!="boolean")return r.call(t,g);r.call(t)},A=()=>{t.req.on("finish",d)};ape(t)?(t.on("complete",d),u||t.on("abort",S),t.req?A():t.on("request",A)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",S),R?Os.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Os.nextTick(C):(!s&&(!u||oV(t))&&(E||cV(t)===!1)||!o&&(!u||cV(t))&&(f||oV(t)===!1)||l&&t.req&&t.aborted)&&Os.nextTick(C);let p=()=>{r=WO,t.removeListener("aborted",S),t.removeListener("complete",d),t.removeListener("abort",S),t.removeListener("request",A),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!R){let g=()=>{let D=r;p(),D.call(t,new dV(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Os.nextTick(g);else{wl=wl||Wr().addAbortListener;let D=wl(e.signal,g),O=r;r=HO((...M)=>{D[hV](),O.apply(t,M)})}}return p}function lpe(t,e,r){let n=!1,i=WO;if(e.signal)if(i=()=>{n=!0,r.call(t,new dV(void 0,{cause:e.signal.reason}))},e.signal.aborted)Os.nextTick(i);else{wl=wl||Wr().addAbortListener;let o=wl(e.signal,i),a=r;r=HO((...l)=>{o[hV](),a.apply(t,l)})}let s=(...o)=>{n||Os.nextTick(()=>r.apply(t,o))};return epe(t[ope].promise,s,s),WO}function cpe(t,e){var r;let n=!1;return e===null&&(e=GO),(r=e)!==null&&r!==void 0&&r.cleanup&&(QAe(e.cleanup,"cleanup"),n=e.cleanup),new ZAe((i,s)=>{let o=TV(t,e,a=>{n&&o(),a?s(a):i()})})}YO.exports=TV;YO.exports.finished=cpe});var Vo=y((yxe,OV)=>{"use strict";var ci=tt(),{aggregateTwoErrors:upe,codes:{ERR_MULTIPLE_CALLBACK:Epe},AbortError:fpe}=wr(),{Symbol:AV}=St(),{kIsDestroyed:dpe,isDestroyed:hpe,isFinished:Tpe,isServerRequest:Spe}=li(),pV=AV("kDestroy"),$O=AV("kConstruct");function _V(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Rpe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(_V(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?SV(this,t,e):this.once(pV,function(s){SV(this,upe(s,t),e)}),this)}function SV(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;_V(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?ci.nextTick(Ape,t,s):ci.nextTick(IV,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function Ape(t,e){VO(t,e),IV(t)}function IV(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function VO(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function ppe(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function kO(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?ci.nextTick(VO,t,e):VO(t,e))}function _pe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once($O,e),!(t.listenerCount($O)>1)&&ci.nextTick(Ipe,t)}function Ipe(t){let e=!1;function r(n){if(e){kO(t,n??new Epe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(pV,n):n?kO(t,n,!0):ci.nextTick(Npe,t)}try{t._construct(n=>{ci.nextTick(r,n)})}catch(n){ci.nextTick(r,n)}}function Npe(t){t.emit($O)}function RV(t){return t?.setHeader&&typeof t.abort=="function"}function NV(t){t.emit("close")}function Ope(t,e){t.emit("error",e),ci.nextTick(NV,t)}function Cpe(t,e){!t||hpe(t)||(!e&&!Tpe(t)&&(e=new fpe),Spe(t)?(t.socket=null,t.destroy(e)):RV(t)?t.abort():RV(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ci.nextTick(Ope,t,e):ci.nextTick(NV,t),t.destroyed||(t[dpe]=!0))}OV.exports={construct:_pe,destroyer:Cpe,destroy:Rpe,undestroy:ppe,errorOrDestroy:kO}});var UT=y((Lxe,mV)=>{"use strict";var{ArrayIsArray:mpe,ObjectSetPrototypeOf:CV}=St(),{EventEmitter:xT}=require("events");function vT(t){xT.call(this,t)}CV(vT.prototype,xT.prototype);CV(vT,xT);vT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),xT.listenerCount(this,"error")===0&&this.emit("error",u)}qO(r,"error",l),qO(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function qO(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):mpe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}mV.exports={Stream:vT,prependListener:qO}});var rE=y((bxe,BT)=>{"use strict";var{SymbolDispose:gpe}=St(),{AbortError:gV,codes:ype}=wr(),{isNodeStream:yV,isWebStream:Lpe,kControllerErrorFunction:bpe}=li(),wpe=Hi(),{ERR_INVALID_ARG_TYPE:LV}=ype,XO,Dpe=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new LV(e,"AbortSignal",t)};BT.exports.addAbortSignal=function(e,r){if(Dpe(e,"signal"),!yV(r)&&!Lpe(r))throw new LV("stream",["ReadableStream","WritableStream","Stream"],r);return BT.exports.addAbortSignalNoValidate(e,r)};BT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=yV(e)?()=>{e.destroy(new gV(void 0,{cause:t.reason}))}:()=>{e[bpe](new gV(void 0,{cause:t.reason}))};if(t.aborted)r();else{XO=XO||Wr().addAbortListener;let n=XO(t,r);wpe(e,n[gpe])}return e}});var DV=y((Dxe,wV)=>{"use strict";var{StringPrototypeSlice:bV,SymbolIterator:Ppe,TypedArrayPrototypeSet:FT,Uint8Array:Mpe}=St(),{Buffer:KO}=require("buffer"),{inspect:xpe}=Wr();wV.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return KO.alloc(0);let r=KO.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)FT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Ppe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=bV(s,0,e),this.head=n,n.data=bV(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=KO.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)FT(r,o,n-e),e-=o.length;else{e===o.length?(FT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(FT(r,new Mpe(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return xpe(this,{...r,depth:0,customInspect:!1})}}});var nE=y((Pxe,vV)=>{"use strict";var{MathFloor:vpe,NumberIsInteger:Upe}=St(),{validateInteger:Bpe}=bl(),{ERR_INVALID_ARG_VALUE:Fpe}=wr().codes,PV=16*1024,MV=16;function Gpe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function xV(t){return t?MV:PV}function Hpe(t,e){Bpe(e,"value",0),t?MV=e:PV=e}function Wpe(t,e,r,n){let i=Gpe(e,n,r);if(i!=null){if(!Upe(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Fpe(s,i)}return vpe(i)}return xV(t.objectMode)}vV.exports={getHighWaterMark:Wpe,getDefaultHighWaterMark:xV,setDefaultHighWaterMark:Hpe}});var jO=y((Mxe,GV)=>{"use strict";var UV=tt(),{PromisePrototypeThen:Ype,SymbolAsyncIterator:BV,SymbolIterator:FV}=St(),{Buffer:$pe}=require("buffer"),{ERR_INVALID_ARG_TYPE:Vpe,ERR_STREAM_NULL_VALUES:kpe}=wr().codes;function qpe(t,e,r){let n;if(typeof e=="string"||e instanceof $pe)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[BV])i=!0,n=e[BV]();else if(e&&e[FV])i=!1,n=e[FV]();else throw new Vpe("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Ype(a(c),()=>UV.nextTick(u,c),E=>UV.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new kpe;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}GV.exports=qpe});var sE=y((xxe,n2)=>{"use strict";var Mn=tt(),{ArrayPrototypeIndexOf:Xpe,NumberIsInteger:Kpe,NumberIsNaN:jpe,NumberParseInt:zpe,ObjectDefineProperties:nC,ObjectKeys:Jpe,ObjectSetPrototypeOf:YV,Promise:$V,SafeSet:Qpe,SymbolAsyncDispose:Zpe,SymbolAsyncIterator:e_e,Symbol:t_e}=St();n2.exports=be;be.ReadableState=YT;var{EventEmitter:r_e}=require("events"),{Stream:Cs,prependListener:n_e}=UT(),{Buffer:zO}=require("buffer"),{addAbortSignal:i_e}=rE(),VV=Hi(),Ge=Wr().debuglog("stream",t=>{Ge=t}),s_e=DV(),Ml=Vo(),{getHighWaterMark:o_e,getDefaultHighWaterMark:a_e}=nE(),{aggregateTwoErrors:HV,codes:{ERR_INVALID_ARG_TYPE:l_e,ERR_METHOD_NOT_IMPLEMENTED:c_e,ERR_OUT_OF_RANGE:u_e,ERR_STREAM_PUSH_AFTER_EOF:E_e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:f_e},AbortError:d_e}=wr(),{validateObject:h_e}=bl(),ko=t_e("kPaused"),{StringDecoder:kV}=Qc(),T_e=jO();YV(be.prototype,Cs.prototype);YV(be,Cs);var JO=()=>{},{errorOrDestroy:Dl}=Ml,Pl=1,S_e=2,qV=4,iE=8,XV=16,GT=32,HT=64,KV=128,R_e=256,A_e=512,p_e=1024,tC=2048,rC=4096,__e=8192,I_e=16384,N_e=32768,jV=65536,O_e=1<<17,C_e=1<<18;function qt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}nC(YT.prototype,{objectMode:qt(Pl),ended:qt(S_e),endEmitted:qt(qV),reading:qt(iE),constructed:qt(XV),sync:qt(GT),needReadable:qt(HT),emittedReadable:qt(KV),readableListening:qt(R_e),resumeScheduled:qt(A_e),errorEmitted:qt(p_e),emitClose:qt(tC),autoDestroy:qt(rC),destroyed:qt(__e),closed:qt(I_e),closeEmitted:qt(N_e),multiAwaitDrain:qt(jV),readingMore:qt(O_e),dataEmitted:qt(C_e)});function YT(t,e,r){typeof r!="boolean"&&(r=e instanceof ui()),this.state=tC|rC|XV|GT,t&&t.objectMode&&(this.state|=Pl),r&&t&&t.readableObjectMode&&(this.state|=Pl),this.highWaterMark=t?o_e(this,t,"readableHighWaterMark",r):a_e(!1),this.buffer=new s_e,this.length=0,this.pipes=[],this.flowing=null,this[ko]=null,t&&t.emitClose===!1&&(this.state&=~tC),t&&t.autoDestroy===!1&&(this.state&=~rC),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new kV(t.encoding),this.encoding=t.encoding)}function be(t){if(!(this instanceof be))return new be(t);let e=this instanceof ui();this._readableState=new YT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&i_e(t.signal,this)),Cs.call(this,t),Ml.construct(this,()=>{this._readableState.needReadable&&WT(this,this._readableState)})}be.prototype.destroy=Ml.destroy;be.prototype._undestroy=Ml.undestroy;be.prototype._destroy=function(t,e){e(t)};be.prototype[r_e.captureRejectionSymbol]=function(t){this.destroy(t)};be.prototype[Zpe]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new d_e,this.destroy(t)),new $V((e,r)=>VV(this,n=>n&&n!==t?r(n):e(null)))};be.prototype.push=function(t,e){return zV(this,t,e,!1)};be.prototype.unshift=function(t,e){return zV(this,t,e,!0)};function zV(t,e,r,n){Ge("readableAddChunk",e);let i=t._readableState,s;if((i.state&Pl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=zO.from(e,r).toString(i.encoding):(e=zO.from(e,r),r=""))):e instanceof zO?r="":Cs._isUint8Array(e)?(e=Cs._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new l_e("chunk",["string","Buffer","Uint8Array"],e))),s)Dl(t,s);else if(e===null)i.state&=~iE,y_e(t,i);else if((i.state&Pl)!==0||e&&e.length>0)if(n)if((i.state&qV)!==0)Dl(t,new f_e);else{if(i.destroyed||i.errored)return!1;QO(t,i,e,!0)}else if(i.ended)Dl(t,new E_e);else{if(i.destroyed||i.errored)return!1;i.state&=~iE,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?QO(t,i,e,!1):WT(t,i)):QO(t,i,e,!1)}else n||(i.state&=~iE,WT(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function QO(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&jV)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&HT)!==0&&$T(t)),WT(t,e)}be.prototype.isPaused=function(){let t=this._readableState;return t[ko]===!0||t.flowing===!1};be.prototype.setEncoding=function(t){let e=new kV(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var m_e=1073741824;function g_e(t){if(t>m_e)throw new u_e("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function WV(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Pl)!==0?1:jpe(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}be.prototype.read=function(t){Ge("read",t),t===void 0?t=NaN:Kpe(t)||(t=zpe(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=g_e(t)),t!==0&&(e.state&=~KV),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ge("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?ZO(this):$T(this),null;if(t=WV(t,e),t===0&&e.ended)return e.length===0&&ZO(this),null;let n=(e.state&HT)!==0;if(Ge("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ge("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Ge("reading, ended or constructing",n);else if(n){Ge("do read"),e.state|=iE|GT,e.length===0&&(e.state|=HT);try{this._read(e.highWaterMark)}catch(s){Dl(this,s)}e.state&=~GT,e.reading||(t=WV(r,e))}let i;return t>0?i=t2(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&ZO(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function y_e(t,e){if(Ge("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?$T(t):(e.needReadable=!1,e.emittedReadable=!0,JV(t))}}function $T(t){let e=t._readableState;Ge("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ge("emitReadable",e.flowing),e.emittedReadable=!0,Mn.nextTick(JV,t))}function JV(t){let e=t._readableState;Ge("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,ZV(t)}function WT(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Mn.nextTick(L_e,t,e))}function L_e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Ge("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}be.prototype._read=function(t){throw new c_e("_read()")};be.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Qpe(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Ge("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Mn.stdout&&t!==Mn.stderr?a:R;n.endEmitted?Mn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,C){Ge("onunpipe"),S===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,u())}function a(){Ge("onend"),t.end()}let l,c=!1;function u(){Ge("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",R),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(Ge("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Ge("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=b_e(r,t),t.on("drain",l))}r.on("data",d);function d(S){Ge("ondata");let C=t.write(S);Ge("dest.write",C),C===!1&&E()}function f(S){if(Ge("onerror",S),R(),t.removeListener("error",f),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?Dl(t,S):t.emit("error",S)}}n_e(t,"error",f);function T(){t.removeListener("finish",h),R()}t.once("close",T);function h(){Ge("onfinish"),t.removeListener("close",T),R()}t.once("finish",h);function R(){Ge("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(Ge("pipe resume"),r.resume()),t};function b_e(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Ge("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Ge("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}be.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Xpe(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};be.prototype.on=function(t,e){let r=Cs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ge("on readable",n.length,n.reading),n.length?$T(this):n.reading||Mn.nextTick(w_e,this)),r};be.prototype.addListener=be.prototype.on;be.prototype.removeListener=function(t,e){let r=Cs.prototype.removeListener.call(this,t,e);return t==="readable"&&Mn.nextTick(QV,this),r};be.prototype.off=be.prototype.removeListener;be.prototype.removeAllListeners=function(t){let e=Cs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Mn.nextTick(QV,this),e};function QV(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[ko]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function w_e(t){Ge("readable nexttick read 0"),t.read(0)}be.prototype.resume=function(){let t=this._readableState;return t.flowing||(Ge("resume"),t.flowing=!t.readableListening,D_e(this,t)),t[ko]=!1,this};function D_e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Mn.nextTick(P_e,t,e))}function P_e(t,e){Ge("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),ZV(t),e.flowing&&!e.reading&&t.read(0)}be.prototype.pause=function(){return Ge("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ge("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ko]=!0,this};function ZV(t){let e=t._readableState;for(Ge("flow",e.flowing);e.flowing&&t.read()!==null;);}be.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Dl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Jpe(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};be.prototype[e_e]=function(){return e2(this)};be.prototype.iterator=function(t){return t!==void 0&&h_e(t,"options"),e2(this,t)};function e2(t,e){typeof t.read!="function"&&(t=be.wrap(t,{objectMode:!0}));let r=M_e(t,e);return r.stream=t,r}async function*M_e(t,e){let r=JO;function n(o){this===t?(r(),r=JO):r=o}t.on("readable",n);let i,s=VV(t,{writable:!1},o=>{i=o?HV(i,o):null,r(),r=JO});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new $V(n)}}}catch(o){throw i=HV(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Ml.destroyer(t,null):(t.off("readable",n),s())}}nC(be.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});nC(YT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ko]!==!1},set(t){this[ko]=!!t}}});be._fromList=t2;function t2(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ZO(t){let e=t._readableState;Ge("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Mn.nextTick(x_e,e,t))}function x_e(t,e){if(Ge("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Mn.nextTick(v_e,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function v_e(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}be.from=function(t,e){return T_e(be,t,e)};var eC;function r2(){return eC===void 0&&(eC={}),eC}be.fromWeb=function(t,e){return r2().newStreamReadableFromReadableStream(t,e)};be.toWeb=function(t,e){return r2().newReadableStreamFromStreamReadable(t,e)};be.wrap=function(t,e){var r,n;return new be({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Ml.destroyer(t,i),s(i)}}).wrap(t)}});var KT=y((vxe,T2)=>{"use strict";var qo=tt(),{ArrayPrototypeSlice:o2,Error:U_e,FunctionPrototypeSymbolHasInstance:a2,ObjectDefineProperty:l2,ObjectDefineProperties:B_e,ObjectSetPrototypeOf:c2,StringPrototypeToLowerCase:F_e,Symbol:G_e,SymbolHasInstance:H_e}=St();T2.exports=It;It.WritableState=lE;var{EventEmitter:W_e}=require("events"),oE=UT().Stream,{Buffer:VT}=require("buffer"),XT=Vo(),{addAbortSignal:Y_e}=rE(),{getHighWaterMark:$_e,getDefaultHighWaterMark:V_e}=nE(),{ERR_INVALID_ARG_TYPE:k_e,ERR_METHOD_NOT_IMPLEMENTED:q_e,ERR_MULTIPLE_CALLBACK:u2,ERR_STREAM_CANNOT_PIPE:X_e,ERR_STREAM_DESTROYED:aE,ERR_STREAM_ALREADY_FINISHED:K_e,ERR_STREAM_NULL_VALUES:j_e,ERR_STREAM_WRITE_AFTER_END:z_e,ERR_UNKNOWN_ENCODING:E2}=wr().codes,{errorOrDestroy:xl}=XT;c2(It.prototype,oE.prototype);c2(It,oE);function oC(){}var vl=G_e("kOnFinished");function lE(t,e,r){typeof r!="boolean"&&(r=e instanceof ui()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?$_e(this,t,"writableHighWaterMark",r):V_e(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Q_e.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,qT(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[vl]=[]}function qT(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}lE.prototype.getBuffer=function(){return o2(this.buffered,this.bufferedIndex)};l2(lE.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function It(t){let e=this instanceof ui();if(!e&&!a2(It,this))return new It(t);this._writableState=new lE(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Y_e(t.signal,this)),oE.call(this,t),XT.construct(this,()=>{let r=this._writableState;r.writing||lC(this,r),cC(this,r)})}l2(It,H_e,{__proto__:null,value:function(t){return a2(this,t)?!0:this!==It?!1:t&&t._writableState instanceof lE}});It.prototype.pipe=function(){xl(this,new X_e)};function f2(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!VT.isEncoding(r))throw new E2(r);typeof n!="function"&&(n=oC)}if(e===null)throw new j_e;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=VT.from(e,r),r="buffer");else if(e instanceof VT)r="buffer";else if(oE._isUint8Array(e))e=oE._uint8ArrayToBuffer(e),r="buffer";else throw new k_e("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new z_e:i.destroyed&&(s=new aE("write")),s?(qo.nextTick(n,s),xl(t,s,!0),s):(i.pendingcb++,J_e(t,i,e,r,n))}It.prototype.write=function(t,e,r){return f2(this,t,e,r)===!0};It.prototype.cork=function(){this._writableState.corked++};It.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||lC(this,t))};It.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=F_e(e)),!VT.isEncoding(e))throw new E2(e);return this._writableState.defaultEncoding=e,this};function J_e(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==oC&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function i2(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new aE("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function s2(t,e,r,n){--e.pendingcb,n(r),aC(e),xl(t,r)}function Q_e(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){xl(t,new u2);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?qo.nextTick(s2,t,r,e,i):s2(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&lC(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},qo.nextTick(Z_e,r.afterWriteTickInfo)):d2(t,r,1,i))}function Z_e({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,d2(t,e,r,n)}function d2(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&aC(e),cC(t,e)}function aC(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new aE("write"))}let r=t[vl].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new aE("end"))}qT(t)}function lC(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?oC:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:o2(r,o);l.allBuffers=e.allBuffers,i2(t,e,!0,e.length,l,"",a),qT(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;i2(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?qT(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}It.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new q_e("_write()")};It.prototype._writev=null;It.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=f2(this,t,e);s instanceof U_e&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,cC(this,n,!0),n.ended=!0):n.finished?i=new K_e("end"):n.destroyed&&(i=new aE("end"))),typeof r=="function"&&(i||n.finished?qo.nextTick(r,i):n[vl].push(r)),this};function kT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function eIe(t,e){let r=!1;function n(i){if(r){xl(t,i??u2());return}if(r=!0,e.pendingcb--,i){let s=e[vl].splice(0);for(let o=0;o<s.length;o++)s[o](i);xl(t,i,e.sync)}else kT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,qo.nextTick(sC,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function tIe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,eIe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function cC(t,e,r){kT(e)&&(tIe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,qo.nextTick((n,i)=>{kT(i)?sC(n,i):i.pendingcb--},t,e)):kT(e)&&(e.pendingcb++,sC(t,e))))}function sC(t,e){e.pendingcb--,e.finished=!0;let r=e[vl].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}B_e(It.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var rIe=XT.destroy;It.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[vl].length)&&qo.nextTick(aC,r),rIe.call(this,t,e),this};It.prototype._undestroy=XT.undestroy;It.prototype._destroy=function(t,e){e(t)};It.prototype[W_e.captureRejectionSymbol]=function(t){this.destroy(t)};var iC;function h2(){return iC===void 0&&(iC={}),iC}It.fromWeb=function(t,e){return h2().newStreamWritableFromWritableStream(t,e)};It.toWeb=function(t){return h2().newWritableStreamFromStreamWritable(t)}});var w2=y((Uxe,b2)=>{var uC=tt(),nIe=require("buffer"),{isReadable:iIe,isWritable:sIe,isIterable:S2,isNodeStream:oIe,isReadableNodeStream:R2,isWritableNodeStream:A2,isDuplexNodeStream:aIe,isReadableStream:p2,isWritableStream:_2}=li(),I2=Hi(),{AbortError:y2,codes:{ERR_INVALID_ARG_TYPE:lIe,ERR_INVALID_RETURN_VALUE:N2}}=wr(),{destroyer:Bl}=Vo(),cIe=ui(),L2=sE(),uIe=KT(),{createDeferredPromise:O2}=Wr(),C2=jO(),m2=globalThis.Blob||nIe.Blob,EIe=typeof m2<"u"?function(e){return e instanceof m2}:function(e){return!1},fIe=globalThis.AbortController||Dt().AbortController,{FunctionPrototypeCall:g2}=St(),ms=class extends cIe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};b2.exports=function t(e,r){if(aIe(e))return e;if(R2(e))return Ul({readable:e});if(A2(e))return Ul({writable:e});if(oIe(e))return Ul({writable:!1,readable:!1});if(p2(e))return Ul({readable:L2.fromWeb(e)});if(_2(e))return Ul({writable:uIe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=dIe(e);if(S2(i))return C2(ms,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=g2(l,i,E=>{if(E!=null)throw new N2("nully","body",E)},E=>{Bl(c,E)});return c=new ms({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,uC.nextTick(E,null)}catch(d){uC.nextTick(E,d)}})},destroy:a})}throw new N2("Iterable, AsyncIterable or AsyncFunction",r,i)}if(EIe(e))return t(e.arrayBuffer());if(S2(e))return C2(ms,e,{objectMode:!0,writable:!1});if(p2(e?.readable)&&_2(e?.writable))return ms.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?R2(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?A2(e?.writable)?e?.writable:t(e.writable):void 0;return Ul({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return g2(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Bl(i,s)}),i=new ms({objectMode:!0,writable:!1,read(){}})}throw new lIe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function dIe(t){let{promise:e,resolve:r}=O2(),n=new fIe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(uC.nextTick(c),l)return;if(i.aborted)throw new y2(void 0,{cause:i.reason});({promise:e,resolve:r}=O2()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Ul(t){let e=t.readable&&typeof t.readable.read!="function"?L2.wrap(t.readable):t.readable,r=t.writable,n=!!iIe(e),i=!!sIe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new ms({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(I2(r,E=>{i=!1,E&&Bl(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(I2(e,E=>{n=!1,E&&Bl(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new y2),a=null,s=null,o=null,l===null?d(E):(l=d,Bl(r,E),Bl(e,E))},c}});var ui=y((Bxe,M2)=>{"use strict";var{ObjectDefineProperties:hIe,ObjectGetOwnPropertyDescriptor:Wi,ObjectKeys:TIe,ObjectSetPrototypeOf:D2}=St();M2.exports=xn;var dC=sE(),_n=KT();D2(xn.prototype,dC.prototype);D2(xn,dC);{let t=TIe(_n.prototype);for(let e=0;e<t.length;e++){let r=t[e];xn.prototype[r]||(xn.prototype[r]=_n.prototype[r])}}function xn(t){if(!(this instanceof xn))return new xn(t);dC.call(this,t),_n.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}hIe(xn.prototype,{writable:{__proto__:null,...Wi(_n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Wi(_n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Wi(_n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Wi(_n.prototype,"writableBuffer")},writableLength:{__proto__:null,...Wi(_n.prototype,"writableLength")},writableFinished:{__proto__:null,...Wi(_n.prototype,"writableFinished")},writableCorked:{__proto__:null,...Wi(_n.prototype,"writableCorked")},writableEnded:{__proto__:null,...Wi(_n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Wi(_n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var EC;function P2(){return EC===void 0&&(EC={}),EC}xn.fromWeb=function(t,e){return P2().newStreamDuplexFromReadableWritablePair(t,e)};xn.toWeb=function(t){return P2().newReadableWritablePairFromDuplex(t)};var fC;xn.from=function(t){return fC||(fC=w2()),fC(t,"body")}});var SC=y((Fxe,v2)=>{"use strict";var{ObjectSetPrototypeOf:x2,Symbol:SIe}=St();v2.exports=Yi;var{ERR_METHOD_NOT_IMPLEMENTED:RIe}=wr().codes,TC=ui(),{getHighWaterMark:AIe}=nE();x2(Yi.prototype,TC.prototype);x2(Yi,TC);var cE=SIe("kCallback");function Yi(t){if(!(this instanceof Yi))return new Yi(t);let e=t?AIe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),TC.call(this,t),this._readableState.sync=!1,this[cE]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",pIe)}function hC(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function pIe(){this._final!==hC&&hC.call(this)}Yi.prototype._final=hC;Yi.prototype._transform=function(t,e,r){throw new RIe("_transform()")};Yi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[cE]=r})};Yi.prototype._read=function(){if(this[cE]){let t=this[cE];this[cE]=null,t()}}});var AC=y((Gxe,B2)=>{"use strict";var{ObjectSetPrototypeOf:U2}=St();B2.exports=Fl;var RC=SC();U2(Fl.prototype,RC.prototype);U2(Fl,RC);function Fl(t){if(!(this instanceof Fl))return new Fl(t);RC.call(this,t)}Fl.prototype._transform=function(t,e,r){r(null,t)}});var QT=y((Hxe,Y2)=>{var uE=tt(),{ArrayIsArray:_Ie,Promise:IIe,SymbolAsyncIterator:NIe,SymbolDispose:OIe}=St(),JT=Hi(),{once:CIe}=Wr(),mIe=Vo(),F2=ui(),{aggregateTwoErrors:gIe,codes:{ERR_INVALID_ARG_TYPE:yC,ERR_INVALID_RETURN_VALUE:pC,ERR_MISSING_ARGS:yIe,ERR_STREAM_DESTROYED:LIe,ERR_STREAM_PREMATURE_CLOSE:bIe},AbortError:wIe}=wr(),{validateFunction:DIe,validateAbortSignal:PIe}=bl(),{isIterable:Xo,isReadable:_C,isReadableNodeStream:zT,isNodeStream:G2,isTransformStream:Gl,isWebStream:MIe,isReadableStream:IC,isReadableFinished:xIe}=li(),vIe=globalThis.AbortController||Dt().AbortController,NC,OC,CC;function H2(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=JT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,mIe.destroyer(t,s||new LIe("pipe")))},cleanup:i}}function UIe(t){return DIe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function mC(t){if(Xo(t))return t;if(zT(t))return BIe(t);throw new yC("val",["Readable","Iterable","AsyncIterable"],t)}async function*BIe(t){OC||(OC=sE()),yield*OC.prototype[NIe].call(t)}async function jT(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new IIe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=JT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?gIe(i,c):c)}finally{l(),e.off("drain",o)}}async function gC(t,e,r,{end:n}){Gl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function FIe(...t){return W2(t,CIe(UIe(t)))}function W2(t,e,r){if(t.length===1&&_Ie(t[0])&&(t=t[0]),t.length<2)throw new yIe("streams");let n=new vIe,i=n.signal,s=r?.signal,o=[];PIe(s,"options.signal");function a(){T(new wIe)}CC=CC||Wr().addAbortListener;let l;s&&(l=CC(s,a));let c,u,E=[],d=0;function f(A){T(A,--d===0)}function T(A,p){var g;if(A&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=A),!(!c&&!p)){for(;E.length;)E.shift()(c);(g=l)===null||g===void 0||g[OIe](),n.abort(),p&&(c||o.forEach(D=>D()),uE.nextTick(e,c,u))}}let h;for(let A=0;A<t.length;A++){let p=t[A],g=A<t.length-1,D=A>0,O=g||r?.end!==!1,M=A===t.length-1;if(G2(p)){let w=function(x){x&&x.name!=="AbortError"&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(x)};var C=w;if(O){let{destroy:x,cleanup:F}=H2(p,g,D);E.push(x),_C(p)&&M&&o.push(F)}p.on("error",w),_C(p)&&M&&o.push(()=>{p.removeListener("error",w)})}if(A===0)if(typeof p=="function"){if(h=p({signal:i}),!Xo(h))throw new pC("Iterable, AsyncIterable or Stream","source",h)}else Xo(p)||zT(p)||Gl(p)?h=p:h=F2.from(p);else if(typeof p=="function"){if(Gl(h)){var R;h=mC((R=h)===null||R===void 0?void 0:R.readable)}else h=mC(h);if(h=p(h,{signal:i}),g){if(!Xo(h,!0))throw new pC("AsyncIterable",`transform[${A-1}]`,h)}else{var S;NC||(NC=AC());let w=new NC({objectMode:!0}),x=(S=h)===null||S===void 0?void 0:S.then;if(typeof x=="function")d++,x.call(h,Z=>{u=Z,Z!=null&&w.write(Z),O&&w.end(),uE.nextTick(f)},Z=>{w.destroy(Z),uE.nextTick(f,Z)});else if(Xo(h,!0))d++,jT(h,w,f,{end:O});else if(IC(h)||Gl(h)){let Z=h.readable||h;d++,jT(Z,w,f,{end:O})}else throw new pC("AsyncIterable or Promise","destination",h);h=w;let{destroy:F,cleanup:ee}=H2(h,!1,!0);E.push(F),M&&o.push(ee)}}else if(G2(p)){if(zT(h)){d+=2;let w=GIe(h,p,f,{end:O});_C(p)&&M&&o.push(w)}else if(Gl(h)||IC(h)){let w=h.readable||h;d++,jT(w,p,f,{end:O})}else if(Xo(h))d++,jT(h,p,f,{end:O});else throw new yC("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=p}else if(MIe(p)){if(zT(h))d++,gC(mC(h),p,f,{end:O});else if(IC(h)||Xo(h))d++,gC(h,p,f,{end:O});else if(Gl(h))d++,gC(h.readable,p,f,{end:O});else throw new yC("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=p}else h=F2.from(p)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&uE.nextTick(a),h}function GIe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new bIe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;xIe(t)?uE.nextTick(o):t.once("end",o)}else r();return JT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),JT(e,{readable:!1,writable:!0},r)}Y2.exports={pipelineImpl:W2,pipeline:FIe}});var bC=y((Wxe,K2)=>{"use strict";var{pipeline:HIe}=QT(),ZT=ui(),{destroyer:WIe}=Vo(),{isNodeStream:eS,isReadable:$2,isWritable:V2,isWebStream:LC,isTransformStream:Ko,isWritableStream:k2,isReadableStream:q2}=li(),{AbortError:YIe,codes:{ERR_INVALID_ARG_VALUE:X2,ERR_MISSING_ARGS:$Ie}}=wr(),VIe=Hi();K2.exports=function(...e){if(e.length===0)throw new $Ie("streams");if(e.length===1)return ZT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=ZT.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=ZT.from(e[f])}for(let f=0;f<e.length;++f)if(!(!eS(e[f])&&!LC(e[f]))){if(f<e.length-1&&!($2(e[f])||q2(e[f])||Ko(e[f])))throw new X2(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(V2(e[f])||k2(e[f])||Ko(e[f])))throw new X2(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=HIe(e,l),E=!!(V2(c)||k2(c)||Ko(c)),d=!!($2(u)||q2(u)||Ko(u));if(a=new ZT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(eS(c))a._write=function(T,h,R){c.write(T,h)?R():n=R},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(LC(c)){let h=(Ko(c)?c.writable:c).getWriter();a._write=async function(R,S,C){try{await h.ready,h.write(R).catch(()=>{}),C()}catch(A){C(A)}},a._final=async function(R){try{await h.ready,h.close().catch(()=>{}),i=R}catch(S){R(S)}}}let f=Ko(u)?u.readable:u;VIe(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(eS(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(LC(u)){let T=(Ko(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:R}=await T.read();if(!a.push(h))return;if(R){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new YIe),s=null,n=null,i=null,o===null?T(f):(o=T,eS(u)&&WIe(u,f))},a}});var ik=y((Yxe,PC)=>{"use strict";var kIe=globalThis.AbortController||Dt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:qIe,ERR_INVALID_ARG_TYPE:EE,ERR_MISSING_ARGS:XIe,ERR_OUT_OF_RANGE:KIe},AbortError:Ei}=wr(),{validateAbortSignal:jo,validateInteger:j2,validateObject:zo}=bl(),jIe=St().Symbol("kWeak"),zIe=St().Symbol("kResistStopPropagation"),{finished:JIe}=Hi(),QIe=bC(),{addAbortSignalNoValidate:ZIe}=rE(),{isWritable:eNe,isNodeStream:tNe}=li(),{deprecate:rNe}=Wr(),{ArrayPrototypePush:nNe,Boolean:iNe,MathFloor:z2,Number:sNe,NumberIsNaN:oNe,Promise:J2,PromiseReject:Q2,PromiseResolve:aNe,PromisePrototypeThen:Z2,Symbol:tk}=St(),tS=tk("kEmpty"),ek=tk("kEof");function lNe(t,e){if(e!=null&&zo(e,"options"),e?.signal!=null&&jo(e.signal,"options.signal"),tNe(t)&&!eNe(t))throw new qIe("stream",t,"must be writable");let r=QIe(this,t);return e!=null&&e.signal&&ZIe(e.signal,r),r}function rS(t,e){if(typeof t!="function")throw new EE("fn",["Function","AsyncFunction"],t);e!=null&&zo(e,"options"),e?.signal!=null&&jo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=z2(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=z2(e.highWaterMark)),j2(r,"options.concurrency",1),j2(n,"options.highWaterMark",0),n+=r,async function*(){let s=Wr().AbortSignalAny([e?.signal].filter(iNe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function R(){try{for await(let S of o){if(E)return;if(s.aborted)throw new Ei;try{if(S=t(S,l),S===tS)continue;S=aNe(S)}catch(C){S=Q2(C)}d+=1,Z2(S,T,f),a.push(S),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new J2(C=>{u=C})}a.push(ek)}catch(S){let C=Q2(S);Z2(C,T,f),a.push(C)}finally{E=!0,c&&(c(),c=null)}}R();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===ek)return;if(s.aborted)throw new Ei;S!==tS&&(yield S),a.shift(),h()}await new J2(S=>{c=S})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function cNe(t=void 0){return t!=null&&zo(t,"options"),t?.signal!=null&&jo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ei({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function rk(t,e=void 0){for await(let r of DC.call(this,t,e))return!0;return!1}async function uNe(t,e=void 0){if(typeof t!="function")throw new EE("fn",["Function","AsyncFunction"],t);return!await rk.call(this,async(...r)=>!await t(...r),e)}async function ENe(t,e){for await(let r of DC.call(this,t,e))return r}async function fNe(t,e){if(typeof t!="function")throw new EE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),tS}for await(let n of rS.call(this,r,e));}function DC(t,e){if(typeof t!="function")throw new EE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:tS}return rS.call(this,r,e)}var wC=class extends XIe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function dNe(t,e,r){var n;if(typeof t!="function")throw new EE("reducer",["Function","AsyncFunction"],t);r!=null&&zo(r,"options"),r?.signal!=null&&jo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Ei(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await JIe(this.destroy(c)),c}let s=new kIe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[jIe]:this,[zIe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Ei;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new wC}finally{s.abort()}return e}async function hNe(t){t!=null&&zo(t,"options"),t?.signal!=null&&jo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Ei(void 0,{cause:t.signal.reason});nNe(e,n)}return e}function TNe(t,e){let r=rS.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function nk(t){if(t=sNe(t),oNe(t))return 0;if(t<0)throw new KIe("number",">= 0",t);return t}function SNe(t,e=void 0){return e!=null&&zo(e,"options"),e?.signal!=null&&jo(e.signal,"options.signal"),t=nk(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ei;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ei;t--<=0&&(yield s)}}.call(this)}function RNe(t,e=void 0){return e!=null&&zo(e,"options"),e?.signal!=null&&jo(e.signal,"options.signal"),t=nk(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ei;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ei;if(t-- >0&&(yield s),t<=0)return}}.call(this)}PC.exports.streamReturningOperators={asIndexedPairs:rNe(cNe,"readable.asIndexedPairs will be removed in a future version."),drop:SNe,filter:DC,flatMap:TNe,map:rS,take:RNe,compose:lNe};PC.exports.promiseReturningOperators={every:uNe,forEach:fNe,reduce:dNe,toArray:hNe,some:rk,find:ENe}});var MC=y(($xe,sk)=>{"use strict";var{ArrayPrototypePop:ANe,Promise:pNe}=St(),{isIterable:_Ne,isNodeStream:INe,isWebStream:NNe}=li(),{pipelineImpl:ONe}=QT(),{finished:CNe}=Hi();xC();function mNe(...t){return new pNe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!INe(s)&&!_Ne(s)&&!NNe(s)){let o=ANe(t);n=o.signal,i=o.end}ONe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}sk.exports={finished:CNe,pipeline:mNe}});var xC=y((Vxe,hk)=>{"use strict";var{Buffer:gNe}=require("buffer"),{ObjectDefineProperty:$i,ObjectKeys:lk,ReflectApply:ck}=St(),{promisify:{custom:uk}}=Wr(),{streamReturningOperators:ok,promiseReturningOperators:ak}=ik(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Ek}}=wr(),yNe=bC(),{setDefaultHighWaterMark:LNe,getDefaultHighWaterMark:bNe}=nE(),{pipeline:fk}=QT(),{destroyer:wNe}=Vo(),dk=Hi(),vC=MC(),fE=li(),Et=hk.exports=UT().Stream;Et.isDestroyed=fE.isDestroyed;Et.isDisturbed=fE.isDisturbed;Et.isErrored=fE.isErrored;Et.isReadable=fE.isReadable;Et.isWritable=fE.isWritable;Et.Readable=sE();for(let t of lk(ok)){let r=function(...n){if(new.target)throw Ek();return Et.Readable.from(ck(e,this,n))},e=ok[t];$i(r,"name",{__proto__:null,value:e.name}),$i(r,"length",{__proto__:null,value:e.length}),$i(Et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of lk(ak)){let r=function(...n){if(new.target)throw Ek();return ck(e,this,n)},e=ak[t];$i(r,"name",{__proto__:null,value:e.name}),$i(r,"length",{__proto__:null,value:e.length}),$i(Et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}Et.Writable=KT();Et.Duplex=ui();Et.Transform=SC();Et.PassThrough=AC();Et.pipeline=fk;var{addAbortSignal:DNe}=rE();Et.addAbortSignal=DNe;Et.finished=dk;Et.destroy=wNe;Et.compose=yNe;Et.setDefaultHighWaterMark=LNe;Et.getDefaultHighWaterMark=bNe;$i(Et,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return vC}});$i(fk,uk,{__proto__:null,enumerable:!0,get(){return vC.pipeline}});$i(dk,uk,{__proto__:null,enumerable:!0,get(){return vC.finished}});Et.Stream=Et;Et._isUint8Array=function(e){return e instanceof Uint8Array};Et._uint8ArrayToBuffer=function(e){return gNe.from(e.buffer,e.byteOffset,e.byteLength)}});var Tk=y((kxe,xe)=>{"use strict";var Xt=require("stream");if(Xt&&process.env.READABLE_STREAM==="disable"){let t=Xt.promises;xe.exports._uint8ArrayToBuffer=Xt._uint8ArrayToBuffer,xe.exports._isUint8Array=Xt._isUint8Array,xe.exports.isDisturbed=Xt.isDisturbed,xe.exports.isErrored=Xt.isErrored,xe.exports.isReadable=Xt.isReadable,xe.exports.Readable=Xt.Readable,xe.exports.Writable=Xt.Writable,xe.exports.Duplex=Xt.Duplex,xe.exports.Transform=Xt.Transform,xe.exports.PassThrough=Xt.PassThrough,xe.exports.addAbortSignal=Xt.addAbortSignal,xe.exports.finished=Xt.finished,xe.exports.destroy=Xt.destroy,xe.exports.pipeline=Xt.pipeline,xe.exports.compose=Xt.compose,Object.defineProperty(Xt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),xe.exports.Stream=Xt.Stream}else{let t=xC(),e=MC(),r=t.Readable.destroy;xe.exports=t.Readable,xe.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,xe.exports._isUint8Array=t._isUint8Array,xe.exports.isDisturbed=t.isDisturbed,xe.exports.isErrored=t.isErrored,xe.exports.isReadable=t.isReadable,xe.exports.Readable=t.Readable,xe.exports.Writable=t.Writable,xe.exports.Duplex=t.Duplex,xe.exports.Transform=t.Transform,xe.exports.PassThrough=t.PassThrough,xe.exports.addAbortSignal=t.addAbortSignal,xe.exports.finished=t.finished,xe.exports.destroy=t.destroy,xe.exports.destroy=r,xe.exports.pipeline=t.pipeline,xe.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),xe.exports.Stream=t.Stream}xe.exports.default=xe.exports});var Rk=y((qxe,Sk)=>{"use strict";var{Transform:PNe}=Tk(),MNe=yT(),UC=class extends PNe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=MNe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};Sk.exports=UC});var pk=y((Xxe,Ak)=>{"use strict";var{DeflateRaw:xNe}=require("zlib"),vNe=yT(),BC=class extends xNe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=vNe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};Ak.exports=BC});var FC=y((Kxe,_k)=>{"use strict";_k.exports={CRC32Stream:Rk(),DeflateCRC32Stream:pk()}});var Ok=y((Qxe,Nk)=>{var UNe=require("util").inherits,BNe=yT(),{CRC32Stream:FNe}=FC(),{DeflateCRC32Stream:GNe}=FC(),Ik=mO(),jxe=fN(),zxe=uN(),me=EN(),Jxe=OO(),Re=Jh(),ar=Nk.exports=function(t){if(!(this instanceof ar))return new ar(t);t=this.options=this._defaults(t),Ik.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};UNe(ar,Ik);ar.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};ar.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(me.METHOD_STORED);var n=t.getMethod();if(n===me.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(BNe.buf(e)>>>0)),this._writeLocalFileHeader(t),n===me.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===me.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};ar.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(me.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};ar.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=me.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};ar.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};ar.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(me.METHOD_DEFLATED),t.getMethod()===me.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(me.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};ar.prototype._smartStream=function(t,e){var r=t.getMethod()===me.METHOD_DEFLATED,n=r?new GNe(this.options.zlib):new FNe,i=null;function s(){var o=n.digest().readUInt32BE(0);t.setCrc(o),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(o){i=o}),n.pipe(this,{end:!1}),n};ar.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=me.ZIP64_MAGIC_SHORT,e=me.ZIP64_MAGIC,r=me.ZIP64_MAGIC),this.write(Re.getLongBytes(me.SIG_EOCD)),this.write(me.SHORT_ZERO),this.write(me.SHORT_ZERO),this.write(Re.getShortBytes(t)),this.write(Re.getShortBytes(t)),this.write(Re.getLongBytes(e)),this.write(Re.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(Re.getShortBytes(i)),this.write(n)};ar.prototype._writeCentralDirectoryZip64=function(){this.write(Re.getLongBytes(me.SIG_ZIP64_EOCD)),this.write(Re.getEightBytes(44)),this.write(Re.getShortBytes(me.MIN_VERSION_ZIP64)),this.write(Re.getShortBytes(me.MIN_VERSION_ZIP64)),this.write(me.LONG_ZERO),this.write(me.LONG_ZERO),this.write(Re.getEightBytes(this._entries.length)),this.write(Re.getEightBytes(this._entries.length)),this.write(Re.getEightBytes(this._archive.centralLength)),this.write(Re.getEightBytes(this._archive.centralOffset)),this.write(Re.getLongBytes(me.SIG_ZIP64_EOCD_LOC)),this.write(me.LONG_ZERO),this.write(Re.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(Re.getLongBytes(1))};ar.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>me.ZIP64_MAGIC){i=me.ZIP64_MAGIC,s=me.ZIP64_MAGIC,n=me.ZIP64_MAGIC,t.setVersionNeededToExtract(me.MIN_VERSION_ZIP64);var o=Buffer.concat([Re.getShortBytes(me.ZIP64_EXTRA_ID),Re.getShortBytes(24),Re.getEightBytes(t.getSize()),Re.getEightBytes(t.getCompressedSize()),Re.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(Re.getLongBytes(me.SIG_CFH)),this.write(Re.getShortBytes(t.getPlatform()<<8|me.VERSION_MADEBY)),this.write(Re.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(Re.getShortBytes(r)),this.write(Re.getLongBytes(t.getTimeDos())),this.write(Re.getLongBytes(t.getCrc())),this.write(Re.getLongBytes(s)),this.write(Re.getLongBytes(i));var a=t.getName(),l=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(Re.getShortBytes(a.length)),this.write(Re.getShortBytes(c.length)),this.write(Re.getShortBytes(l.length)),this.write(me.SHORT_ZERO),this.write(Re.getShortBytes(t.getInternalAttributes())),this.write(Re.getLongBytes(t.getExternalAttributes())),this.write(Re.getLongBytes(n)),this.write(a),this.write(c),this.write(l)};ar.prototype._writeDataDescriptor=function(t){this.write(Re.getLongBytes(me.SIG_DD)),this.write(Re.getLongBytes(t.getCrc())),t.isZip64()?(this.write(Re.getEightBytes(t.getCompressedSize())),this.write(Re.getEightBytes(t.getSize()))):(this.write(Re.getLongBytes(t.getCompressedSize())),this.write(Re.getLongBytes(t.getSize())))};ar.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(me.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(Re.getLongBytes(me.SIG_LFH)),this.write(Re.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(Re.getShortBytes(r)),this.write(Re.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(me.LONG_ZERO),this.write(me.LONG_ZERO),this.write(me.LONG_ZERO)):(this.write(Re.getLongBytes(t.getCrc())),this.write(Re.getLongBytes(t.getCompressedSize())),this.write(Re.getLongBytes(t.getSize()))),this.write(Re.getShortBytes(n.length)),this.write(Re.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};ar.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};ar.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>me.ZIP64_MAGIC_SHORT||this._archive.centralLength>me.ZIP64_MAGIC||this._archive.centralOffset>me.ZIP64_MAGIC};ar.prototype.setComment=function(t){this._archive.comment=t}});var GC=y((Zxe,Ck)=>{Ck.exports={ArchiveEntry:zh(),ZipArchiveEntry:fN(),ArchiveOutputStream:mO(),ZipArchiveOutputStream:Ok()}});var gk=y((eve,mk)=>{var HNe=require("util").inherits,WC=GC().ZipArchiveOutputStream,WNe=GC().ZipArchiveEntry,HC=nl(),Hl=mk.exports=function(t){if(!(this instanceof Hl))return new Hl(t);t=this.options=t||{},t.zlib=t.zlib||{},WC.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};HNe(Hl,WC);Hl.prototype._normalizeFileData=function(t){t=HC.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=HC.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=HC.dateify(t.date),t};Hl.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new WNe(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),WC.prototype.entry.call(this,n,t,r)};Hl.prototype.finalize=function(){this.finish()}});var Lk=y((tve,yk)=>{var YNe=gk(),$Ne=nl(),gs=function(t){if(!(this instanceof gs))return new gs(t);t=this.options=$Ne.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new YNe(t)};gs.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};gs.prototype.finalize=function(){this.engine.finalize()};gs.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};gs.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};gs.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};yk.exports=gs});var wk=y((rve,bk)=>{bk.exports=require("events")});var Pk=y((ive,Dk)=>{Dk.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var YC=y((ove,xk)=>{var Mk=Pk();xk.exports=class{constructor(e){this.hwm=e||16,this.head=new Mk(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new Mk(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var Wl=y((ave,vk)=>{function VNe(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function kNe(t){return Buffer.isEncoding(t)}function qNe(t,e,r){return Buffer.alloc(t,e,r)}function XNe(t){return Buffer.allocUnsafe(t)}function KNe(t){return Buffer.allocUnsafeSlow(t)}function jNe(t,e){return Buffer.byteLength(t,e)}function zNe(t,e){return Buffer.compare(t,e)}function JNe(t,e){return Buffer.concat(t,e)}function QNe(t,e,r,n,i){return nt(t).copy(e,r,n,i)}function ZNe(t,e){return nt(t).equals(e)}function eOe(t,e,r,n,i){return nt(t).fill(e,r,n,i)}function tOe(t,e,r){return Buffer.from(t,e,r)}function rOe(t,e,r,n){return nt(t).includes(e,r,n)}function nOe(t,e,r,n){return nt(t).indexOf(e,r,n)}function iOe(t,e,r,n){return nt(t).lastIndexOf(e,r,n)}function sOe(t){return nt(t).swap16()}function oOe(t){return nt(t).swap32()}function aOe(t){return nt(t).swap64()}function nt(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function lOe(t,e,r,n){return nt(t).toString(e,r,n)}function cOe(t,e,r,n,i){return nt(t).write(e,r,n,i)}function uOe(t,e){return nt(t).readDoubleBE(e)}function EOe(t,e){return nt(t).readDoubleLE(e)}function fOe(t,e){return nt(t).readFloatBE(e)}function dOe(t,e){return nt(t).readFloatLE(e)}function hOe(t,e){return nt(t).readInt32BE(e)}function TOe(t,e){return nt(t).readInt32LE(e)}function SOe(t,e){return nt(t).readUInt32BE(e)}function ROe(t,e){return nt(t).readUInt32LE(e)}function AOe(t,e,r){return nt(t).writeDoubleBE(e,r)}function pOe(t,e,r){return nt(t).writeDoubleLE(e,r)}function _Oe(t,e,r){return nt(t).writeFloatBE(e,r)}function IOe(t,e,r){return nt(t).writeFloatLE(e,r)}function NOe(t,e,r){return nt(t).writeInt32BE(e,r)}function OOe(t,e,r){return nt(t).writeInt32LE(e,r)}function COe(t,e,r){return nt(t).writeUInt32BE(e,r)}function mOe(t,e,r){return nt(t).writeUInt32LE(e,r)}vk.exports={isBuffer:VNe,isEncoding:kNe,alloc:qNe,allocUnsafe:XNe,allocUnsafeSlow:KNe,byteLength:jNe,compare:zNe,concat:JNe,copy:QNe,equals:ZNe,fill:eOe,from:tOe,includes:rOe,indexOf:nOe,lastIndexOf:iOe,swap16:sOe,swap32:oOe,swap64:aOe,toBuffer:nt,toString:lOe,write:cOe,readDoubleBE:uOe,readDoubleLE:EOe,readFloatBE:fOe,readFloatLE:dOe,readInt32BE:hOe,readInt32LE:TOe,readUInt32BE:SOe,readUInt32LE:ROe,writeDoubleBE:AOe,writeDoubleLE:pOe,writeFloatBE:_Oe,writeFloatLE:IOe,writeInt32BE:NOe,writeInt32LE:OOe,writeUInt32BE:COe,writeUInt32LE:mOe}});var Bk=y((cve,Uk)=>{var gOe=Wl();Uk.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return gOe.toString(e,this.encoding)}flush(){return""}}});var Gk=y((Eve,Fk)=>{var yOe=Wl();Fk.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return yOe.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){let s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="\uFFFD");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="\uFFFD";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){let e=this.bytesNeeded>0?"\uFFFD":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}});var Wk=y((dve,Hk)=>{var LOe=Bk(),bOe=Gk();Hk.exports=class{constructor(e="utf8"){switch(this.encoding=wOe(e),this.encoding){case"utf8":this.decoder=new bOe;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new LOe(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function wOe(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}});var im=y((hve,uq)=>{var{EventEmitter:DOe}=wk(),lS=new Error("Stream was destroyed"),$C=new Error("Premature close"),Xk=YC(),POe=Wk(),VC=typeof queueMicrotask>"u"?t=>global.process.nextTick(t):queueMicrotask,Nt=(1<<29)-1,fi=1,JC=2,Jo=4,dE=8,Kk=Nt^fi,MOe=Nt^JC,AE=16,Yl=32,kl=64,Ls=128,pE=256,QC=512,Qo=1024,kC=2048,ZC=4096,em=8192,vn=16384,ys=32768,cS=65536,Zo=131072,jk=pE|QC,xOe=AE|cS,vOe=kl|AE,UOe=ZC|Ls,tm=pE|Zo,BOe=Nt^AE,FOe=Nt^kl,GOe=Nt^(kl|cS),Yk=Nt^cS,HOe=Nt^pE,WOe=Nt^(Ls|em),YOe=Nt^Qo,$k=Nt^jk,zk=Nt^ys,$Oe=Nt^Yl,Jk=Nt^Zo,VOe=Nt^tm,Vi=1<<18,Vl=2<<18,_E=4<<18,ea=8<<18,IE=16<<18,bs=32<<18,qC=64<<18,$l=128<<18,rm=256<<18,ta=512<<18,uS=1024<<18,kOe=Nt^(Vi|rm),Qk=Nt^_E,qOe=Nt^(Vi|ta),XOe=Nt^IE,KOe=Nt^ea,Zk=Nt^$l,jOe=Nt^Vl,eq=Nt^uS,hE=AE|Vi,tq=Nt^hE,nm=vn|bs,di=Jo|dE|JC,tn=di|fi,rq=di|nm,zOe=Qk&FOe,ES=$l|ys,JOe=ES&tq,nq=tn|JOe,QOe=tn|Qo|vn,Vk=tn|vn|Ls,ZOe=tn|Qo|Ls,eCe=tn|ZC|Ls|em,tCe=tn|AE|Qo|vn|cS|Zo,rCe=di|Qo|vn,nCe=Yl|tn|ys|kl,iCe=ys|fi,sCe=tn|ta|bs,oCe=ea|IE,iq=ea|Vi,aCe=ea|IE|tn|Vi,kk=tn|Vi|ea|uS,lCe=_E|Vi,cCe=Vi|rm,uCe=tn|ta|iq|bs,ECe=IE|di|ta|bs,fCe=Vl|tn|$l|_E,dCe=ta|bs|di,nS=Symbol.asyncIterator||Symbol("asyncIterator"),iS=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new Xk,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||cq,this.map=i||n,this.afterWrite=SCe.bind(this),this.afterUpdateNextTick=pCe.bind(this)}get ended(){return(this.stream._duplexState&bs)!==0}push(e){return(this.stream._duplexState&dCe)!==0?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=ea,!0):(this.stream._duplexState|=oCe,!1))}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=KOe),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|ta)&Qk}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&kk)===iq;)n.push(i._writableState.shift());if((i._duplexState&tn)!==0)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=Vl;do{for(;(e._duplexState&kk)===ea;){let r=this.shift();e._duplexState|=cCe,e._write(r,this.afterWrite)}(e._duplexState&lCe)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=jOe}updateNonPrimary(){let e=this.stream;if((e._duplexState&uCe)===ta){e._duplexState=e._duplexState|Vi,e._final(TCe.bind(this));return}if((e._duplexState&di)===Jo){(e._duplexState&ES)===0&&(e._duplexState|=hE,e._destroy(sq.bind(this)));return}(e._duplexState&nq)===fi&&(e._duplexState=(e._duplexState|hE)&Kk,e._open(oq.bind(this)))}continueUpdate(){return(this.stream._duplexState&$l)===0?!1:(this.stream._duplexState&=Zk,!0)}updateCallback(){(this.stream._duplexState&fCe)===_E?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&$l)===0&&(this.stream._duplexState|=$l,(this.stream._duplexState&Vl)===0&&VC(this.afterUpdateNextTick))}},XC=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new Xk,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=o||s||cq,this.map=i||n,this.pipeTo=null,this.afterRead=RCe.bind(this),this.afterUpdateNextTick=ACe.bind(this)}get ended(){return(this.stream._duplexState&vn)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=QC,this.pipeTo=e,this.pipeline=new jC(this.stream,e,r),r&&this.stream.on("error",qk),RE(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",qk),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",hCe.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|Qo)&GOe,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=Yk,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|Ls)&Yk,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=WOe),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&Vk)===Ls){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=$k),(e._duplexState&kC)!==0&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=Zo,this.updateNextTick()),null}drain(){let e=this.stream;for(;(e._duplexState&Vk)===Ls&&(e._duplexState&jk)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=$k),(e._duplexState&kC)!==0&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=Yl;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&tCe)===Zo;)e._duplexState|=xOe,e._read(this.afterRead),this.drain();(e._duplexState&eCe)===UOe&&(e._duplexState|=em,e.emit("readable")),(e._duplexState&vOe)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=$Oe}updateNonPrimary(){let e=this.stream;if((e._duplexState&ZOe)===Qo&&(e._duplexState=(e._duplexState|vn)&YOe,e.emit("end"),(e._duplexState&rq)===nm&&(e._duplexState|=Jo),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&di)===Jo){(e._duplexState&ES)===0&&(e._duplexState|=hE,e._destroy(sq.bind(this)));return}(e._duplexState&nq)===fi&&(e._duplexState=(e._duplexState|hE)&Kk,e._open(oq.bind(this)))}continueUpdate(){return(this.stream._duplexState&ys)===0?!1:(this.stream._duplexState&=zk,!0)}updateCallback(){(this.stream._duplexState&nCe)===kl?this.update():this.updateNextTick()}updateNextTickIfOpen(){(this.stream._duplexState&iCe)===0&&(this.stream._duplexState|=ys,(this.stream._duplexState&Yl)===0&&VC(this.afterUpdateNextTick))}updateNextTick(){(this.stream._duplexState&ys)===0&&(this.stream._duplexState|=ys,(this.stream._duplexState&Yl)===0&&VC(this.afterUpdateNextTick))}},KC=class{constructor(e){this.data=null,this.afterTransform=ICe.bind(e),this.afterFinal=null}},jC=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&vn)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&vn)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function hCe(){this.stream._duplexState|=QC,this.updateCallback()}function TCe(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&di)===0&&(e._duplexState|=bs,e.emit("finish")),(e._duplexState&rq)===nm&&(e._duplexState|=Jo),e._duplexState&=qOe,(e._duplexState&Vl)===0?this.update():this.updateNextTick()}function sq(t){let e=this.stream;!t&&this.error!==lS&&(t=this.error),t&&e.emit("error",t),e._duplexState|=dE,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function SCe(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=kOe,this.drains!==null&&_Ce(this.drains),(e._duplexState&aCe)===IE&&(e._duplexState&=XOe,(e._duplexState&qC)===qC&&e.emit("drain")),this.updateCallback()}function RCe(t){t&&this.stream.destroy(t),this.stream._duplexState&=BOe,this.readAhead===!1&&(this.stream._duplexState&pE)===0&&(this.stream._duplexState&=Jk),this.updateCallback()}function ACe(){(this.stream._duplexState&Yl)===0&&(this.stream._duplexState&=zk,this.update())}function pCe(){(this.stream._duplexState&Vl)===0&&(this.stream._duplexState&=Zk,this.update())}function _Ce(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function oq(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&Jo)===0&&((e._duplexState&QOe)===0&&(e._duplexState|=kl),(e._duplexState&sCe)===0&&(e._duplexState|=_E),e.emit("open")),e._duplexState&=tq,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function ICe(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}function NCe(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=kC|tm,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=ZC,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=qC,this._writableState.updateNextTick())}var TE=class extends DOe{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",PCe.bind(this))),this.on("newListener",NCe)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&dE)!==0}get destroying(){return(this._duplexState&di)!==0}destroy(e){(this._duplexState&di)===0&&(e||(e=lS),this._duplexState=(this._duplexState|Jo)&zOe,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=JC,this._predestroy(),this._duplexState&=MOe,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},sS=class t extends TE{constructor(e){super(e),this._duplexState|=fi|bs|Zo,this._readableState=new XC(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=Jk),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){let r=new POe(e),n=this._readableState.map||mCe;return this._readableState.map=i,this;function i(s){let o=r.push(s);return o===""&&(s.byteLength!==0||r.remaining>0)?null:n(o)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=tm,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?VOe:HOe,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(bCe(e))return e;if(e[nS])return this._fromAsyncIterator(e[nS](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&rCe)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&pE)===0}[nS](){let e=this,r=null,n=null,i=null;return this.on("error",c=>{r=c}),this.on("readable",s),this.on("close",o),{[nS](){return this},next(){return new Promise(function(c,u){n=c,i=u;let E=e.read();E!==null?a(E):(e._duplexState&dE)!==0&&a(null)})},return(){return l(null)},throw(c){return l(c)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(c){i!==null&&(r?i(r):c===null&&(e._duplexState&vn)===0?i(lS):n({value:c,done:c===null}),i=n=null)}function l(c){return e.destroy(c),new Promise((u,E)=>{if(e._duplexState&dE)return u({value:void 0,done:!0});e.once("close",function(){c?E(c):u({value:void 0,done:!0})})})}}},oS=class extends TE{constructor(e){super(e),this._duplexState|=fi|vn,this._writableState=new iS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=uS}uncork(){this._duplexState&=eq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&ECe)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,i=(MCe(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&rm?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},SE=class extends sS{constructor(e){super(e),this._duplexState=fi|this._duplexState&Zo,this._writableState=new iS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=uS}uncork(){this._duplexState&=eq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},aS=class extends SE{constructor(e){super(e),this._transformState=new KC(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(OCe.bind(this))}},zC=class extends aS{};function OCe(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function CCe(...t){return new Promise((e,r)=>aq(...t,n=>{if(n)return r(n);e()}))}function aq(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let c=1;c<r.length;c++)s=r[c],RE(i)?i.pipe(s,l):(a(i,!0,c>1,l),i.pipe(s)),i=s;if(n){let c=!1,u=RE(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",E=>{o===null&&(o=E)}),s.on("finish",()=>{c=!0,u||n(o)}),u&&s.on("close",()=>n(o||(c?null:$C)))}return s;function a(c,u,E,d){c.on("error",d),c.on("close",f);function f(){if(u&&c._readableState&&!c._readableState.ended||E&&c._writableState&&!c._writableState.ended)return d($C)}}function l(c){if(!(!c||o)){o=c;for(let u of r)u.destroy(c)}}}function mCe(t){return t}function lq(t){return!!t._readableState||!!t._writableState}function RE(t){return typeof t._duplexState=="number"&&lq(t)}function gCe(t){return!!t._readableState&&t._readableState.ended}function yCe(t){return!!t._writableState&&t._writableState.ended}function LCe(t,e={}){let r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===lS?null:r}function bCe(t){return RE(t)&&t.readable}function wCe(t){return(t._duplexState&fi)!==fi||(t._duplexState&ES)!==0}function DCe(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function cq(t){return DCe(t)?t.byteLength:1024}function qk(){}function PCe(){this.destroy(new Error("Stream aborted."))}function MCe(t){return t._writev!==oS.prototype._writev&&t._writev!==SE.prototype._writev}uq.exports={pipeline:aq,pipelinePromise:CCe,isStream:lq,isStreamx:RE,isEnded:gCe,isFinished:yCe,isDisturbed:wCe,getStreamError:LCe,Stream:TE,Writable:oS,Readable:sS,Duplex:SE,Transform:aS,PassThrough:zC}});var am=y(Xl=>{var ke=Wl(),xCe="0000000000000000000",vCe="7777777777777777777",fS=48,Eq=ke.from([117,115,116,97,114,0]),UCe=ke.from([fS,fS]),BCe=ke.from([117,115,116,97,114,32]),FCe=ke.from([32,0]),GCe=4095,NE=257,om=263;Xl.decodeLongPath=function(e,r){return ql(e,0,e.length,r)};Xl.encodePax=function(e){let r="";e.name&&(r+=sm(" path="+e.name+`
`)),e.linkname&&(r+=sm(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=sm(" "+i+"="+n[i]+`
`);return ke.from(r)};Xl.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(ke.toString(e.subarray(0,n)),10);if(!i)return r;let s=ke.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};Xl.encode=function(e){let r=ke.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),ke.byteLength(n)!==n.length)return null;for(;ke.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return ke.byteLength(n)>100||ke.byteLength(i)>155||e.linkname&&ke.byteLength(e.linkname)>100?null:(ke.write(r,n),ke.write(r,Ds(e.mode&GCe,6),100),ke.write(r,Ds(e.uid,6),108),ke.write(r,Ds(e.gid,6),116),qCe(e.size,r,124),ke.write(r,Ds(e.mtime.getTime()/1e3|0,11),136),r[156]=fS+VCe(e.type),e.linkname&&ke.write(r,e.linkname,157),ke.copy(Eq,r,NE),ke.copy(UCe,r,om),e.uname&&ke.write(r,e.uname,265),e.gname&&ke.write(r,e.gname,297),ke.write(r,Ds(e.devmajor||0,6),329),ke.write(r,Ds(e.devminor||0,6),337),i&&ke.write(r,i,345),ke.write(r,Ds(dq(r),6),148),r)};Xl.decode=function(e,r,n){let i=e[156]===0?0:e[156]-fS,s=ql(e,0,100,r),o=ws(e,100,8),a=ws(e,108,8),l=ws(e,116,8),c=ws(e,124,12),u=ws(e,136,12),E=$Ce(i),d=e[157]===0?null:ql(e,157,100,r),f=ql(e,265,32),T=ql(e,297,32),h=ws(e,329,8),R=ws(e,337,8),S=dq(e);if(S===256)return null;if(S!==ws(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(HCe(e))e[345]&&(s=ql(e,345,155,r)+"/"+s);else if(!WCe(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:l,size:c,mtime:new Date(1e3*u),type:E,linkname:d,uname:f,gname:T,devmajor:h,devminor:R,pax:null}};function HCe(t){return ke.equals(Eq,t.subarray(NE,NE+6))}function WCe(t){return ke.equals(BCe,t.subarray(NE,NE+6))&&ke.equals(FCe,t.subarray(om,om+2))}function YCe(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function $Ce(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function VCe(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function fq(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function dq(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function Ds(t,e){return t=t.toString(8),t.length>e?vCe.slice(0,e)+" ":xCe.slice(0,e-t.length)+t+" "}function kCe(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function qCe(t,e,r){t.toString(8).length>11?kCe(t,e,r):ke.write(e,Ds(t,11),r)}function XCe(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function ws(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return XCe(t);{for(;e<t.length&&t[e]===32;)e++;let n=YCe(fq(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(ke.toString(t.subarray(e,n)),8)}}function ql(t,e,r,n){return ke.toString(t.subarray(e,fq(t,0,e,e+r)),n)}function sm(t){let e=ke.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var Aq=y((Sve,Rq)=>{var{Writable:KCe,Readable:jCe,getStreamError:hq}=im(),zCe=YC(),Tq=Wl(),Kl=am(),JCe=Tq.alloc(0),cm=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new zCe,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return JCe;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return Tq.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},um=class extends jCe{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(hq(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=Sq(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},Em=class extends KCe{constructor(e){super(e),e||(e={}),this._buffer=new cm,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=lm,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=Kl.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=Kl.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=Kl.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=Kl.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?Kl.decodePax(e):Object.assign({},this._paxGlobal,Kl.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=Sq(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new um(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=lm,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(hq(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",c),this.on("error",d=>{e=d}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(l)},return(){return E(null)},throw(d){return E(d)}};function a(d){if(!s)return;let f=s;s=null,f(d)}function l(d,f){if(e)return f(e);if(i){d({value:i,done:!1}),i=null;return}r=d,n=f,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function c(d,f,T){s=T,f.on("error",lm),r?(r({value:f,done:!1}),r=n=null):i=f}function u(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function E(d){return o.destroy(d),a(d),new Promise((f,T)=>{if(o.destroyed)return f({value:void 0,done:!0});o.once("close",function(){d?T(d):f({value:void 0,done:!0})})})}}};Rq.exports=function(e){return new Em(e)};function lm(){}function Sq(t){return t&=511,t&&512-t}});var _q=y((Rve,fm)=>{var pq={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{fm.exports=require("fs").constants||pq}catch{fm.exports=pq}});var mq=y((Ave,Cq)=>{var{Readable:QCe,Writable:ZCe,getStreamError:Iq}=im(),ra=Wl(),jl=_q(),dS=am(),eme=493,tme=420,Nq=ra.alloc(1024),hm=class extends ZCe{constructor(e,r,n){super({mapWritable:nme,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?ra.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?ra.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),Oq(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return Iq(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},Tm=class extends QCe{constructor(e){super(e),this._drain=dm,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=dm),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=rme(e.mode)),e.mode||(e.mode=e.type==="directory"?eme:tme),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=ra.from(r));let i=new hm(this,e,n);return ra.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(Nq),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=dS.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=dS.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(dS.encode(n)),this.push(r),Oq(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(dS.encode(n))}_doDrain(){let e=this._drain;this._drain=dm,e()}_predestroy(){let e=Iq(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};Cq.exports=function(e){return new Tm(e)};function rme(t){switch(t&jl.S_IFMT){case jl.S_IFBLK:return"block-device";case jl.S_IFCHR:return"character-device";case jl.S_IFDIR:return"directory";case jl.S_IFIFO:return"fifo";case jl.S_IFLNK:return"symlink"}return"file"}function dm(){}function Oq(t,e){e&=511,e&&t.push(Nq.subarray(0,512-e))}function nme(t){return ra.isBuffer(t)?t:ra.from(t)}});var gq=y(Sm=>{Sm.extract=Aq();Sm.pack=mq()});var bq=y((_ve,Lq)=>{var ime=require("zlib"),sme=gq(),yq=nl(),ki=function(t){if(!(this instanceof ki))return new ki(t);t=this.options=yq.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=sme.pack(t),this.compressor=!1,t.gzip&&(this.compressor=ime.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};ki.prototype._onCompressorError=function(t){this.engine.emit("error",t)};ki.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(o,a){if(o){r(o);return}n.engine.entry(e,a,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(o){r(o,e)});t.pipe(s)}else e.sourceType==="stream"&&yq.collectStream(t,i)};ki.prototype.finalize=function(){this.engine.finalize()};ki.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};ki.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};ki.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};Lq.exports=ki});var Pq=y((Ive,Dq)=>{"use strict";function ome(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ame=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function wq(t){if(Buffer.isBuffer(t))return t;if(typeof t=="number")return Buffer.alloc(t);if(typeof t=="string")return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function lme(t){let e=wq(4);return e.writeInt32BE(t,0),e}function Rm(t,e){t=wq(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~~e^-1;for(var n=0;n<t.length;n++)r=ame[(r^t[n])&255]^r>>>8;return r^-1}function Am(){return lme(Rm.apply(null,arguments))}Am.signed=function(){return Rm.apply(null,arguments)};Am.unsigned=function(){return Rm.apply(null,arguments)>>>0};var cme=Am,ume=ome(cme);Dq.exports=ume});var Uq=y((Nve,vq)=>{var Eme=require("util").inherits,Mq=oN().Transform,fme=Pq(),xq=nl(),Ps=function(t){if(!(this instanceof Ps))return new Ps(t);t=this.options=xq.defaults(t,{}),Mq.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};Eme(Ps,Mq);Ps.prototype._transform=function(t,e,r){r(null,t)};Ps.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};Ps.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,o){if(s){r(s);return}e.size=o.length||0,e.crc32=fme.unsigned(o),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&xq.collectStream(t,i)};Ps.prototype.finalize=function(){this._writeStringified(),this.end()};vq.exports=Ps});var Fq=y((Ove,Bq)=>{var dme=pH(),OE={},Ms=function(t,e){return Ms.create(t,e)};Ms.create=function(t,e){if(OE[t]){var r=new dme(t,e);return r.setFormat(t),r.setModule(new OE[t](e)),r}else throw new Error("create("+t+"): format not registered")};Ms.registerFormat=function(t,e){if(OE[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");OE[t]=e};Ms.isRegisteredFormat=function(t){return!!OE[t]};Ms.registerFormat("zip",Lk());Ms.registerFormat("tar",bq());Ms.registerFormat("json",Uq());Bq.exports=Ms});var Hq=y((Cve,Gq)=>{"use strict";var{Buffer:zl}=require("buffer"),pm=class{constructor(e=65536){this.chunkSize=e,this.chunks=[],this.currentBuffer=zl.alloc(e),this.cursor=0}_ensureCapacity(e){this.cursor+e>this.chunkSize&&this._flush()}_flush(){this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=zl.alloc(this.chunkSize),this.cursor=0)}write(e){let r=e.length,n=0;for(;r>0;){let i=this.chunkSize-this.cursor;i===0&&(this._flush(),i=this.chunkSize);let s=Math.min(r,i);e.copy(this.currentBuffer,this.cursor,n,n+s),this.cursor+=s,n+=s,r-=s}}writeByte(e){this._ensureCapacity(1),this.currentBuffer[this.cursor]=e,this.cursor++}writeInt32LE(e){this._ensureCapacity(4),this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeDoubleLE(e){this._ensureCapacity(8),this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeString(e){let r=zl.byteLength(e,"utf8");if(this.cursor+r<=this.chunkSize){this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8");return}this._flush(),r>this.chunkSize?this.chunks.push(zl.from(e,"utf8")):this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8")}writeUtf16LE(e){let r=e.length*2;if(this.cursor+r<=this.chunkSize){for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}return}if(this._flush(),r>this.chunkSize)this.chunks.push(zl.from(e,"utf16le"));else for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}}getChunks(){return this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=zl.alloc(this.chunkSize),this.cursor=0),this.chunks}reset(){this.chunks=[],this.cursor=0}};Gq.exports=pm});var Vq=y((mve,$q)=>{"use strict";var hme=require("fs"),Tme=Fq(),{Readable:Wq}=require("stream"),Yq=Hq(),Sme=/[\\\/*?\[\]:]/g,_m=class{constructor(e){this.filePath=e,this.output=hme.createWriteStream(e),this.archive=Tme("zip"),this.archive.pipe(this.output),this.sheetCount=0,this.sheetList=[],this.sstDic=new Map,this.sstCntUnique=0,this.sstCntAll=0,this.colWidths=[],this._autofilterIsOn=!1,this._oaEpoch=Date.UTC(1899,11,30),this._sheet1Bytes=Buffer.from([129,1,0,147,1,23,203,4,2,0,64,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,148,1,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,1,0,137,1,30,220,3,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,100,0,0,0,0,0,0,0,0,0,0,0,152,1,36,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,1,0,134,1,0,37,6,1,0,2,14,0,128,149,8,2,5,0,38,0,229,3,12,255,255,255,255,8,0,44,1,0,0,0,0,145,1,0,37,6,1,0,2,14,0,128,128,8,2,5,0,38,0,0,25,0,0,0,0,0,0,0,0,44,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,7,12,0,0,0,0,0,0,0,0,0,0,0,0,146,1,0,151,4,66,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,221,3,2,16,0,220,3,48,102,102,102,102,102,102,230,63,102,102,102,102,102,102,230,63,0,0,0,0,0,0,232,63,0,0,0,0,0,0,232,63,51,51,51,51,51,51,211,63,51,51,51,51,51,51,211,63,37,6,1,0,0,16,0,128,128,24,16,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,38,0,130,1,0]),this._workbookBinStart=Buffer.from([131,1,0,128,1,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,120,0,108,0,1,0,0,0,55,0,1,0,0,0,54,0,5,0,0,0,50,0,52,0,51,0,50,0,54,0,153,1,12,32,0,1,0,0,0,0,0,0,0,0,0,37,6,1,0,3,15,0,128,151,16,52,24,0,0,0,67,0,58,0,92,0,115,0,113,0,108,0,115,0,92,0,84,0,101,0,115,0,116,0,121,0,90,0,97,0,112,0,105,0,115,0,117,0,88,0,108,0,115,0,98,0,92,0,38,0,37,6,1,0,0,16,0,128,129,24,130,1,0,0,0,0,0,0,0,0,47,0,0,0,49,0,51,0,95,0,110,0,99,0,114,0,58,0,49,0,95,0,123,0,49,0,54,0,53,0,48,0,56,0,68,0,54,0,57,0,45,0,67,0,70,0,56,0,55,0,45,0,52,0,55,0,54,0,57,0,45,0,56,0,52,0,53,0,54,0,45,0,68,0,52,0,65,0,52,0,48,0,49,0,49,0,51,0,49,0,53,0,54,0,55,0,125,0,47,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,135,1,0,37,6,1,0,2,16,0,128,128,24,16,0,0,0,0,13,0,0,0,255,255,255,255,0,0,0,0,38,0,158,1,29,0,0,0,0,158,22,0,0,180,105,0,0,232,38,0,0,88,2,0,0,0,0,0,0,0,0,0,0,120,136,1,0,143,1,0]),this._workbookBinMiddle=Buffer.from([144,1,0]),this._workbookBinEnd=Buffer.from([157,1,26,53,234,2,0,1,0,0,0,100,0,0,0,252,169,241,210,77,98,80,63,1,0,0,0,106,0,155,1,1,0,35,4,3,15,0,0,171,16,1,1,36,0,132,1,0]),this._stylesBin=Buffer.from([150,2,0,231,4,4,2,0,0,0,44,44,164,0,19,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,92,0,32,0,104,0,104,0,58,0,109,0,109,0,44,30,166,0,12,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,232,4,0,227,4,4,1,0,0,0,43,39,220,0,0,0,144,1,0,0,0,2,0,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,43,39,220,0,1,0,188,2,0,0,0,2,238,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,37,6,1,0,2,14,0,128,129,8,0,38,0,228,4,0,219,4,4,2,0,0,0,45,68,0,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,68,17,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,4,0,229,4,4,1,0,0,0,46,51,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,230,4,0,242,4,4,1,0,0,0,47,16,255,255,0,0,0,0,0,0,0,0,0,0,16,16,0,0,243,4,0,233,4,4,4,0,0,0,47,16,0,0,0,0,0,0,0,0,0,0,0,0,16,16,0,0,47,16,0,0,164,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,166,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,0,1,1,0,0,0,0,0,0,0,16,16,0,0,234,4,0,235,4,4,1,0,0,0,37,6,1,0,2,17,0,128,128,24,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,48,28,0,0,0,0,1,0,0,0,8,0,0,0,78,0,111,0,114,0,109,0,97,0,108,0,110,0,121,0,236,4,0,249,3,4,0,0,0,0,250,3,0,252,3,80,0,0,0,0,17,0,0,0,84,0,97,0,98,0,108,0,101,0,83,0,116,0,121,0,108,0,101,0,77,0,101,0,100,0,105,0,117,0,109,0,50,0,17,0,0,0,80,0,105,0,118,0,111,0,116,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,54,0,253,3,0,35,4,2,14,0,0,235,8,0,246,8,42,0,0,0,0,17,0,0,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,247,8,0,236,8,0,36,0,35,4,3,15,0,0,176,16,0,178,16,50,0,0,0,0,21,0,0,0,84,0,105,0,109,0,101,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,179,16,0,177,16,0,36,0,151,2,0]),this._binaryIndexBin=Buffer.from([42,24,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,2,0]),this._rRkIntegerLowerLimit=-1<<29,this._rRkIntegerUpperLimit=(1<<29)-1,this._autoFilterStartBytes=Buffer.from([161,1,16]),this._autoFilterEndBytes=Buffer.from([162,1,0]),this._stickHeaderA1bytes=Buffer.from([151,1,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,1,0,0,0,0,0,0,0,2,0,0,0,3]),this._magicFilterExcel2016Fix0=Buffer.from([225,2,0,229,2,0,234,2]),this._magicFilterExcel2016Fix1=Buffer.from([39,70,33,0,0,0,0,255,0,0,0,15,0,0,0,95,0,70,0,105,0,108,0,116,0,101,0,114,0,68,0,97,0,116,0,97,0,98,0,97,0,115,0,101,0,15,0,0,0,59,255,0]),this._magicFilterExcel2016Fix2=Buffer.from([0,0,0,0,255,255,255,255])}_sanitizeSheetName(e){if(!e||typeof e!="string")return`Sheet${this.sheetCount+1}`;let r=e.replace(Sme,"_");return r.length>31&&(r=r.substring(0,31)),r.trim().length===0&&(r=`Sheet${this.sheetCount+1}`),r}addSheet(e,r=!1){let n=this._sanitizeSheetName(e);this.sheetCount++,this.sheetList.push({name:n,pathInArchive:`xl/worksheets/sheet${this.sheetCount}.bin`,hidden:r,nameInArchive:`sheet${this.sheetCount}.bin`,sheetId:this.sheetCount,filterHeaderRange:null})}writeSheet(e,r=null,n=!0){let i=new Yq,s=0;if(e.length>0?s=e[0].length:r&&(s=r.length),this.colWidths=new Array(s).fill(-1),r)for(let u=0;u<s;u++){let d=1.25*(r[u]?r[u].length:0)+2;d>80&&(d=80),this.colWidths[u]<d&&(this.colWidths[u]=d)}for(let u=0;u<Math.min(e.length,100);u++){let E=e[u];for(let d=0;d<E.length;d++){let f=E[d],h=1.25*(f?f.toString().length:0)+2;h>80&&(h=80),this.colWidths[d]<h&&(this.colWidths[d]=h)}}let o=Buffer.from(this._sheet1Bytes),a=0,l=s;o.writeInt32LE(a,40),o.writeInt32LE(l,44),this.sheetCount!==1&&(o[54]=156),i.write(o.subarray(0,84)),n&&r&&i.write(this._stickHeaderA1bytes),i.write(o.subarray(84,159)),i.writeByte(134),i.writeByte(3);for(let u=a;u<l;u++){i.writeByte(0),i.writeByte(60),i.writeByte(18),i.writeInt32LE(u),i.writeInt32LE(u);let E=this.colWidths[u]>0?Math.floor(this.colWidths[u]):10;i.writeByte(0),i.writeByte(Math.max(0,Math.min(255,E))),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(2)}i.writeByte(0),i.writeByte(135),i.writeByte(3),i.writeByte(0),i.write(o.subarray(159,175)),i.write(Buffer.from([38,0]));let c=0;if(r){this.createRowHeader(i,c,a,l);for(let u=0;u<r.length;u++)this.writeString(i,r[u],u,!0);c++}for(let u=0;u<e.length;u++){this.createRowHeader(i,c,a,l);let E=e[u];for(let d=0;d<E.length;d++){let f=E[d];f!=null&&(typeof f=="number"?Number.isInteger(f)?f>=this._rRkIntegerLowerLimit&&f<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(i,f,d):this.writeDouble(i,f,d):this.writeDouble(i,f,d):typeof f=="bigint"?this.writeString(i,f.toString(),d):typeof f=="boolean"?this.writeBool(i,f,d):f instanceof Date?this.writeDateTime(i,f,d):this.writeString(i,f.toString(),d))}c++}if(i.write(o.subarray(218,290)),n&&r){this._autofilterIsOn=!0;let u=0,E=e.length+1;i.write(this._autoFilterStartBytes);let d=Buffer.alloc(8);d.writeInt32LE(0,0),d.writeInt32LE(E-1,4),i.write(d);let f=Buffer.alloc(8);f.writeInt32LE(a,0),f.writeInt32LE(l-1,4),i.write(f),i.write(this._autoFilterEndBytes);let T=this.sheetList[this.sheetCount-1];T.filterData={startRow:0,endRow:e.length,startColumn:a,endColumn:l-1}}i.write(o.subarray(290)),this.archive.append(Wq.from(i.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive})}_getColumnLetter(e){if(e<26)return String.fromCharCode(65+e);if(e<702){let r=Math.floor(e/26)-1,n=e%26;return String.fromCharCode(65+r)+String.fromCharCode(65+n)}return"A"}createRowHeader(e,r,n,i){e.writeByte(0),e.writeByte(25),e.writeInt32LE(r),e.writeInt32LE(0),e.writeByte(44),e.writeByte(1),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(1),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeInt32LE(n),e.writeInt32LE(i)}writeRkNumberInteger(e,r,n,i=0){e.writeByte(2),e.writeByte(12),e.writeInt32LE(n),e.writeByte(i),e.writeByte(0),e.writeByte(0),e.writeByte(0);let s=r<<2|2;e.writeInt32LE(s)}writeDouble(e,r,n,i=0){e.writeByte(5),e.writeByte(16),e.writeInt32LE(n),e.writeByte(i),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeDoubleLE(r)}writeBool(e,r,n){e.writeByte(4),e.writeByte(9),e.writeInt32LE(n),e.writeInt32LE(0),e.writeByte(r?1:0)}writeDateTime(e,r,n){let i=r.getTimezoneOffset()*6e4,s=(r.getTime()-i-this._oaEpoch)/864e5;this.writeDouble(e,s,n,1)}writeString(e,r,n,i=!1){let s;this.sstDic.has(r)?s=this.sstDic.get(r):(s=this.sstCntUnique,this.sstDic.set(r,s),this.sstCntUnique++),this.sstCntAll++,e.writeByte(7),e.writeByte(12),e.writeInt32LE(n),e.writeByte(i?3:0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeInt32LE(s)}saveSst(){let e=new Yq;e.writeByte(159),e.writeByte(1),e.writeByte(8),e.writeInt32LE(this.sstCntUnique),e.writeInt32LE(this.sstCntAll);for(let[r,n]of this.sstDic){let i=r.length;e.writeByte(19);let s=5+2*i;if(s>=128){e.writeByte(128+s%128);let o=s>>7;o>=256?e.writeByte(128+o%128):e.writeByte(o),e.writeByte(s>>14),s>>14>0&&e.writeByte(0)}else e.writeByte(s&255),e.writeByte(s>>8&255);e.writeInt32LE(i),e.writeUtf16LE(r)}e.writeByte(160),e.writeByte(1),e.writeByte(0),this.archive.append(Wq.from(e.getChunks()),{name:"xl/sharedStrings.bin"})}_writeFilterDefinedName(e,r,n){let i=r.filterData,s=r.sheetId-1,o=Buffer.alloc(this._magicFilterExcel2016Fix1.length);this._magicFilterExcel2016Fix1.copy(o);let a=this._magicFilterExcel2016Fix1.length-2;o[7]=s,o[a]=n,e.push(o);let l=Buffer.alloc(8);l.writeInt32LE(i.startRow,0),l.writeInt32LE(i.endRow,4),e.push(l);let c=Buffer.alloc(4);c.writeInt16LE(i.startColumn,0),c.writeInt16LE(i.endColumn,2),e.push(c),e.push(this._magicFilterExcel2016Fix2)}finalize(){return new Promise((e,r)=>{try{this.saveSst(),this.archive.append(this._stylesBin,{name:"xl/styles.bin"});let n=[];n.push(this._workbookBinStart);for(let a of this.sheetList){let l=`rId${a.sheetId}`,c=16+a.name.length*2+l.length*2,u=Buffer.alloc(3+c);u[0]=156,u[1]=1,u[2]=c;let E=3;u.writeInt32LE(a.hidden?1:0,E),E+=4,u.writeInt32LE(a.sheetId,E),E+=4,u.writeInt32LE(l.length,E),E+=4;for(let d=0;d<l.length;d++){let f=l.charCodeAt(d);u[E++]=f&255,u[E++]=f>>8&255}u.writeInt32LE(a.name.length,E),E+=4;for(let d=0;d<a.name.length;d++){let f=a.name.charCodeAt(d);u[E++]=f&255,u[E++]=f>>8&255}n.push(u)}if(n.push(this._workbookBinMiddle),this._autofilterIsOn){let a=this.sheetList.filter(c=>c.filterData),l=a.length;if(l>0){n.push(this._magicFilterExcel2016Fix0);let c=16+(l-1)*12,u=Buffer.from([c,l,0,0,0]);n.push(u);for(let E=0;E<l;E++){let d=a[E].sheetId-1,f=Buffer.alloc(12);f.writeInt32LE(0,0),f[4]=d,f[8]=d,n.push(f)}n.push(Buffer.from([226,2,0]));for(let E=0;E<l;E++){let d=a[E];this._writeFilterDefinedName(n,d,E)}}}n.push(this._workbookBinEnd),this.archive.append(Buffer.concat(n),{name:"xl/workbook.bin"});for(let a of this.sheetList)this.archive.append(this._binaryIndexBin,{name:`xl/worksheets/binaryIndex${a.sheetId}.bin`});let i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default Extension="bin" ContentType="application/vnd.ms-excel.sheet.binary.macroEnabled.main"/>
<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>
<Default Extension="xml" ContentType="application/xml"/>`;for(let a of this.sheetList)i+=`<Override PartName="/${a.pathInArchive}" ContentType="application/vnd.ms-excel.worksheet"/>`,i+=`<Override PartName="/xl/worksheets/binaryIndex${a.sheetId}.bin" ContentType="application/vnd.ms-excel.binIndexWs"/>`;i+=`<Override PartName="/xl/styles.bin" ContentType="application/vnd.ms-excel.styles"/>
<Override PartName="/xl/sharedStrings.bin" ContentType="application/vnd.ms-excel.sharedStrings"/>
</Types>`,this.archive.append(i,{name:"[Content_Types].xml"});let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`;for(let a of this.sheetList){let l=`rId${a.sheetId}`;s+=`<Relationship Id="${l}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/${a.nameInArchive}"/>`}s+=`<Relationship Id="rId${this.sheetList.length+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.bin"/>
<Relationship Id="rId${this.sheetList.length+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.bin"/>
</Relationships>`,this.archive.append(s,{name:"xl/_rels/workbook.bin.rels"}),this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.bin"/>
</Relationships>`,{name:"_rels/.rels"});for(let a of this.sheetList){let l=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.microsoft.com/office/2006/relationships/xlBinaryIndex" Target="binaryIndex${a.sheetId}.bin"/>
</Relationships>`;this.archive.append(l,{name:`xl/worksheets/_rels/${a.nameInArchive}.rels`})}this.output.on("close",()=>e()),this.archive.on("error",a=>r(a)),this.archive.finalize()}catch(n){r(n)}})}};$q.exports=_m});var na={};cr(na,{copyFileToClipboard:()=>Nm,exportCsvToXlsb:()=>_me,exportQueryToXlsb:()=>pme,getTempFilePath:()=>Ime});function Rme(t){if(typeof t=="string"&&t.length>0&&/^-?\d+(\.\d+)?$/.test(t)){let e=parseFloat(t);if(Number.isFinite(e))return e}return t}function Xq(t){return t.map(Rme)}function Ame(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function pme(t,e,r,n=!1,i){let s=null;try{i&&i("Connecting to database...");let o=Ame(t);o.port||(o.port=5480);let a=Vr();s=new a(o),await s.connect();let l=new qq(r),{SqlParser:c}=await Promise.resolve().then(()=>(Ef(),l0)),u=c.splitStatements(e),E=0,d=0;for(let S=0;S<u.length;S++){let C=u[S];if(!C.trim())continue;let A=u.length>1?`Result ${S+1}`:"Query Results";i&&i(`Executing query ${S+1}/${u.length}...`);try{let g=await s.createCommand(C).executeReader(),D=[];for(let x=0;x<g.fieldCount;x++)D.push(g.getName(x));let O=D.length;d=Math.max(d,O);let M=[],w=0;for(;await g.read();){let x=[];for(let F=0;F<g.fieldCount;F++)x.push(g.getValue(F));M.push(Xq(x)),w++}E+=w,i&&i(`Writing ${w.toLocaleString()} rows to sheet "${A}"`),l.addSheet(A),l.writeSheet(M,D)}catch(p){l.addSheet(`Error ${S+1}`),l.writeSheet([[`Error executing query: ${p.message}`]],["Error"],!1)}}l.addSheet("SQL Code");let f=[["SQL Query:"],...e.split(`
`).map(S=>[S])];l.writeSheet(f,null,!1),i&&i("Finalizing file..."),await l.finalize();let h=Im.statSync(r).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Total Rows: ${E.toLocaleString()}`),i(`  - File size: ${h.toFixed(1)} MB`),i(`  - Location: ${r}`));let R={success:!0,message:`Successfully exported ${E} rows to ${r}`,details:{rows_exported:E,columns:d,file_size_mb:parseFloat(h.toFixed(1)),file_path:r}};if(n){i&&i("Copying to clipboard...");let S=await Nm(r);R.details&&(R.details.clipboard_success=S)}return R}catch(o){return{success:!1,message:`Export error: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}async function _me(t,e,r=!1,n={source:"Unknown"},i){try{i&&i("Initializing XLSB writer...");let s=new qq(e),o=0,a=0,l=[],c=(f,T)=>{let h=[],R=f.split(/\r?\n/),S=p=>{let g=[],D=0,O=!1;for(let w=0;w<p.length;w++)if(p[w]==='"')O=!O;else if(p[w]===","&&!O){let x=p.substring(D,w);x.startsWith('"')&&x.endsWith('"')&&(x=x.substring(1,x.length-1).replace(/""/g,'"')),g.push(x),D=w+1}let M=p.substring(D);return M.startsWith('"')&&M.endsWith('"')&&(M=M.substring(1,M.length-1).replace(/""/g,'"')),g.push(M),g},C=[],A=0;R.forEach((p,g)=>{if(!p.trim())return;let D=S(p);g===0?C=D:(h.push(Xq(D)),A++)}),C.length>0&&(a=Math.max(a,C.length),s.addSheet(T),s.writeSheet(h,C),o+=A)};if(Array.isArray(t))i&&i(`Processing ${t.length} result sets...`),t.forEach((f,T)=>{let h=f.name||`Result ${T+1}`;i&&i(`Processing sheet "${h}"...`),c(f.csv,h),f.sql&&l.push({name:h,sql:f.sql})});else if(i&&i("Reading CSV content..."),c(t,"Query Results"),n.sql)l.push({name:"Query Results",sql:n.sql});else if(n.source){s.addSheet("CSV Source");let f=[["CSV Source:"],[n.source]];s.writeSheet(f,null,!1)}if(l.length>0){s.addSheet("SQL Code");let f=[];l.forEach(T=>{f.push([`--- SQL for ${T.name} ---`]),T.sql.split(`
`).forEach(h=>{f.push([h])}),f.push([""])}),s.writeSheet(f,null,!1)}i&&i("Finalizing XLSB file..."),await s.finalize();let E=Im.statSync(e).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Rows: ${o.toLocaleString()}`),i(`  - File size: ${E.toFixed(1)} MB`));let d={success:!0,message:`Successfully exported ${o} rows to ${e}`,details:{rows_exported:o,columns:a,file_size_mb:parseFloat(E.toFixed(1)),file_path:e}};if(r){i&&i("Copying file to clipboard...");let f=await Nm(e);d.details&&(d.details.clipboard_success=f)}return d}catch(s){return{success:!1,message:`Export failed: ${s.message}`}}}async function Nm(t){return hS.platform()!=="win32"?(console.error("Clipboard file copy is only supported on Windows"),!1):new Promise(e=>{try{let r=Jl.normalize(Jl.resolve(t)),n=`Set-Clipboard -Path "${r.replace(/"/g,'`"')}"`,i=(0,kq.spawn)("powershell.exe",["-NoProfile","-NonInteractive","-Command",n]),s="";i.stderr.on("data",o=>{s+=o.toString()}),i.on("close",o=>{o!==0?(console.error(`PowerShell clipboard copy failed: ${s}`),e(!1)):(console.log(`File copied to clipboard: ${r}`),e(!0))}),i.on("error",o=>{console.error(`Error spawning PowerShell: ${o.message}`),e(!1)})}catch(r){console.error(`Error copying file to clipboard: ${r.message}`),e(!1)}})}function Ime(){let t=hS.tmpdir(),r=`netezza_export_${Date.now()}.xlsb`;return Jl.join(t,r)}var Im,Jl,hS,kq,qq,ia=lr(()=>{"use strict";Im=ze(require("fs")),Jl=ze(require("path")),hS=ze(require("os")),kq=require("child_process"),qq=Vq()});var zq={};cr(zq,{exportToCsv:()=>Ome});function Nme(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function Ome(t,e,r,n,i){let s=null;try{i&&i.report({message:"Connecting to database..."});let o=Nme(e);o.port||(o.port=5480);let a=Vr();s=new a(o),await s.connect(),i&&i.report({message:"Executing query..."});let c=await s.createCommand(r).executeReader();i&&i.report({message:"Writing to CSV..."});let u=jq.createWriteStream(n,{encoding:"utf8",highWaterMark:64*1024}),E=[];for(let h=0;h<c.fieldCount;h++)E.push(c.getName(h));E.length>0&&u.write(E.map(Kq).join(",")+`
`);let d=0,f=[],T=500;for(;await c.read();){d++;let h=[];for(let R=0;R<c.fieldCount;R++)h.push(Kq(c.getValue(R)));if(f.push(h.join(",")),f.length>=T){let R=u.write(f.join(`
`)+`
`);f=[],R||await new Promise(S=>u.once("drain",S)),i&&d%1e3===0&&i.report({message:`Processed ${d} rows...`})}}f.length>0&&u.write(f.join(`
`)+`
`),u.end(),await new Promise((h,R)=>{u.on("finish",h),u.on("error",R)}),i&&i.report({message:`Completed: ${d} rows exported`})}finally{if(s)try{await s.close()}catch(o){console.error("Error closing connection:",o)}}}function Kq(t){if(t==null)return"";let e="";return typeof t=="bigint"?t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?e=Number(t).toString():e=t.toString():t instanceof Date?e=t.toISOString():typeof t=="object"&&Buffer.isBuffer(t)?e=t.toString("hex"):typeof t=="object"?e=JSON.stringify(t):e=String(t),e.includes('"')||e.includes(",")||e.includes(`
`)||e.includes("\r")?`"${e.replace(/"/g,'""')}"`:e}var jq,Jq=lr(()=>{"use strict";jq=ze(require("fs"))});var tX=y((gve,eX)=>{eX.exports=TS;function TS(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}TS.prototype.go=function(t){this.pending<this.max?Zq(this,t):this.waiting.push(t)};TS.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};TS.prototype.hold=function(){return Qq(this)};function Qq(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)Zq(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function Zq(t,e){e(Qq(t))}});var nX=y(mE=>{var CE=require("fs"),SS=require("util"),Om=require("stream"),rX=Om.Readable,Cm=Om.Writable,Cme=Om.PassThrough,mme=tX(),RS=require("events").EventEmitter;mE.createFromBuffer=gme;mE.createFromFd=yme;mE.BufferSlicer=Xi;mE.FdSlicer=qi;SS.inherits(qi,RS);function qi(t,e){e=e||{},RS.call(this),this.fd=t,this.pend=new mme,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}qi.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(o){CE.read(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};qi.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(o){CE.write(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};qi.prototype.createReadStream=function(t){return new AS(this,t)};qi.prototype.createWriteStream=function(t){return new pS(this,t)};qi.prototype.ref=function(){this.refCount+=1};qi.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&CE.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};SS.inherits(AS,rX);function AS(t,e){e=e||{},rX.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}AS.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=Buffer.allocUnsafe(r);CE.read(e.context.fd,i,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(i.slice(0,o))),n()})})}};AS.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};SS.inherits(pS,Cm);function pS(t,e){e=e||{},Cm.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}pS.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();CE.write(n.context.fd,t,0,t.length,n.pos,function(o,a){o?(n.destroy(),s(),r(o)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),s(),r())})})}};pS.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};SS.inherits(Xi,RS);function Xi(t,e){RS.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}Xi.prototype.read=function(t,e,r,n,i){if(!(0<=e&&e<=t.length))throw new RangeError("offset outside buffer: 0 <= "+e+" <= "+t.length);if(n<0)throw new RangeError("position is negative: "+n);if(e+r>t.length&&(r=t.length-e),n+r>this.buffer.length&&(r=this.buffer.length-n),r<=0){setImmediate(function(){i(null,0)});return}this.buffer.copy(t,e,n,n+r),setImmediate(function(){i(null,r)})};Xi.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};Xi.prototype.createReadStream=function(t){t=t||{};var e=new Cme(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};Xi.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new Cm(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var o=r.pos+n.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};Xi.prototype.ref=function(){this.refCount+=1};Xi.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function gme(t,e){return new Xi(t,e)}function yme(t,e){return new qi(t,e)}});var oX=y((Lve,sX)=>{var xs=require("buffer").Buffer,mm=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(mm=new Int32Array(mm));function iX(t){if(xs.isBuffer(t))return t;var e=typeof xs.alloc=="function"&&typeof xs.from=="function";if(typeof t=="number")return e?xs.alloc(t):new xs(t);if(typeof t=="string")return e?xs.from(t):new xs(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Lme(t){var e=iX(4);return e.writeInt32BE(t,0),e}function gm(t,e){t=iX(t),xs.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=mm[(r^t[n])&255]^r>>>8;return r^-1}function ym(){return Lme(gm.apply(null,arguments))}ym.signed=function(){return gm.apply(null,arguments)};ym.unsigned=function(){return gm.apply(null,arguments)>>>0};sX.exports=ym});var SX=y(rn=>{var Lm=require("fs"),bme=require("zlib"),aX=nX(),wme=oX(),NS=require("util"),OS=require("events").EventEmitter,lX=require("stream").Transform,wm=require("stream").PassThrough,Dme=require("stream").Writable;rn.open=Pme;rn.fromFd=cX;rn.fromBuffer=Mme;rn.fromRandomAccessReader=Dm;rn.dosDateTimeToDate=fX;rn.getFileNameLowLevel=dX;rn.validateFileName=hX;rn.parseExtraFields=TX;rn.ZipFile=Ti;rn.Entry=gE;rn.LocalFileHeader=EX;rn.RandomAccessReader=vs;function Pme(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=IS),Lm.open(t,"r",function(n,i){if(n)return r(n);cX(i,e,function(s,o){s&&Lm.close(i,IS),r(s,o)})})}function cX(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=IS),Lm.fstat(t,function(n,i){if(n)return r(n);var s=aX.createFromFd(t,{autoClose:!0});Dm(s,i.size,e,r)})}function Mme(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=aX.createFromBuffer(t,{maxChunkSize:65536});Dm(n,t.length,e,r)}function Dm(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=IS),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=20,a=65535,l=Math.min(o+s+a,e),c=Ki(l),u=e-c.length;Zl(t,c,0,l,u,function(E){if(E)return n(E);for(var d=l-s;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.subarray(d),T=f.readUInt16LE(4),h=f.readUInt16LE(10),R=f.readUInt32LE(16),S=f.readUInt16LE(20),C=f.length-s;if(S!==C)return n(new Error("Invalid comment length. Expected: "+C+". Found: "+S+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK\u263A\u263B` in the comment?"));var A=i?_S(f.subarray(22),!1):f.subarray(22);if(d-o>=0&&c.readUInt32LE(d-o)===117853008){var p=c.subarray(d-o,d-o+o),g=Ql(p,8),D=Ki(56);return Zl(t,D,0,D.length,g,function(O){return O?n(O):D.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(T=D.readUInt32LE(16),T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):(h=Ql(D,32),R=Ql(D,48),n(null,new Ti(t,R,e,h,A,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))))})}return T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):n(null,new Ti(t,R,e,h,A,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))}n(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}NS.inherits(Ti,OS);function Ti(t,e,r,n,i,s,o,a,l,c){var u=this;OS.call(u),u.reader=t,u.reader.on("error",function(E){uX(u,E)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=n,u.comment=i,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!o,u.decodeStrings=!!a,u.validateEntrySizes=!!l,u.strictFileNames=!!c,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Ti.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function hi(t,e){t.autoClose&&t.close(),uX(t,e)}function uX(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Ti.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Ti.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=Ki(46);Zl(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return hi(t,r);if(!t.emittedError){var n=new gE,i=e.readUInt32LE(0);if(i!==33639248)return hi(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return hi(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=Ki(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),Zl(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return hi(t,s);if(!t.emittedError){n.fileNameRaw=e.subarray(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength;n.extraFieldRaw=e.subarray(n.fileNameLength,o),n.fileCommentRaw=e.subarray(o,o+n.fileCommentLength);try{n.extraFields=TX(n.extraFieldRaw)}catch(h){return hi(t,h)}if(t.decodeStrings){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileComment=_S(n.fileCommentRaw,a),n.fileName=dX(n.generalPurposeBitFlag,n.fileNameRaw,n.extraFields,t.strictFileNames);var l=hX(n.fileName);if(l!=null)return hi(t,new Error(l))}else n.fileComment=n.fileCommentRaw,n.fileName=n.fileNameRaw;n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1;for(var c=0;c<n.extraFields.length;c++){var u=n.extraFields[c];if(u.id===1){var E=u.data,d=0;if(n.uncompressedSize===4294967295){if(d+8>E.length)return hi(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=Ql(E,d),d+=8}if(n.compressedSize===4294967295){if(d+8>E.length)return hi(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=Ql(E,d),d+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(d+8>E.length)return hi(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=Ql(E,d),d+=8}break}}if(t.validateEntrySizes&&n.compressionMethod===0){var f=n.uncompressedSize;if(n.isEncrypted()&&(f+=12),n.compressedSize!==f){var T="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return hi(t,new Error(T))}}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};Ti.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null&&(r=e,e=null),e==null)e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));var o;if(t.compressionMethod===0)o=!1;else if(t.compressionMethod===8)o=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));n.readLocalFileHeader(t,{minimal:!0},function(a,l){if(a)return r(a);n.openReadStreamLowLevel(l.fileDataStart,t.compressedSize,i,s,o,t.uncompressedSize,r)})};Ti.prototype.openReadStreamLowLevel=function(t,e,r,n,i,s,o){var a=this,l=t+e,c=a.reader.createReadStream({start:t+r,end:t+n}),u=c;if(i){var E=!1,d=bme.createInflateRaw();c.on("error",function(f){setImmediate(function(){E||d.emit("error",f)})}),c.pipe(d),a.validateEntrySizes?(u=new yE(s),d.on("error",function(f){setImmediate(function(){E||u.emit("error",f)})}),d.pipe(u)):u=d,bm(u,function(){E=!0,d!==u&&d.unpipe(u),c.unpipe(d),c.destroy()})}o(null,u)};Ti.prototype.readLocalFileHeader=function(t,e,r){var n=this;r==null&&(r=e,e=null),e==null&&(e={}),n.reader.ref();var i=Ki(30);Zl(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader,function(s){try{if(s)return r(s);var o=i.readUInt32LE(0);if(o!==67324752)return r(new Error("invalid local file header signature: 0x"+o.toString(16)));var a=i.readUInt16LE(26),l=i.readUInt16LE(28),c=t.relativeOffsetOfLocalHeader+30+a+l;if(c+t.compressedSize>n.fileSize)return r(new Error("file data overflows file bounds: "+c+" + "+t.compressedSize+" > "+n.fileSize));if(e.minimal)return r(null,{fileDataStart:c});var u=new EX;u.fileDataStart=c,u.versionNeededToExtract=i.readUInt16LE(4),u.generalPurposeBitFlag=i.readUInt16LE(6),u.compressionMethod=i.readUInt16LE(8),u.lastModFileTime=i.readUInt16LE(10),u.lastModFileDate=i.readUInt16LE(12),u.crc32=i.readUInt32LE(14),u.compressedSize=i.readUInt32LE(18),u.uncompressedSize=i.readUInt32LE(22),u.fileNameLength=a,u.extraFieldLength=l,i=Ki(a+l),n.reader.ref(),Zl(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader+30,function(E){try{return E?r(E):(u.fileName=i.subarray(0,a),u.extraField=i.subarray(a),r(null,u))}finally{n.reader.unref()}})}finally{n.reader.unref()}})};function gE(){}gE.prototype.getLastModDate=function(t){if(t==null&&(t={}),!t.forceDosFormat)for(var e=0;e<this.extraFields.length;e++){var r=this.extraFields[e];if(r.id===21589){var n=r.data;if(n.length<5)continue;var i=n[0],s=1;if(!(i&s))continue;var o=n.readInt32LE(1);return new Date(o*1e3)}else if(r.id===10)for(var n=r.data,a=4;a<n.length+4;){var l=n.readUInt16LE(a);a+=2;var c=n.readUInt16LE(a);if(a+=2,l!==1){a+=c;continue}if(c<8||a+c>n.length)break;var u=4294967296*n.readInt32LE(a+4)+n.readUInt32LE(a),E=u/1e4-116444736e5;return new Date(E)}}return fX(this.lastModFileDate,this.lastModFileTime,t.timezone)};gE.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};gE.prototype.isCompressed=function(){return this.compressionMethod===8};function EX(){}function fX(t,e,r){var n=t&31,i=(t>>5&15)-1,s=(t>>9&127)+1980,o=0,a=(e&31)*2,l=e>>5&63,c=e>>11&31;if(r==null||r==="local")return new Date(s,i,n,c,l,a,o);if(r==="UTC")return new Date(Date.UTC(s,i,n,c,l,a,o));throw new Error("unrecognized options.timezone: "+options.timezone)}function dX(t,e,r,n){for(var i=null,s=0;s<r.length;s++){var o=r[s];if(o.id===28789){if(o.data.length<6||o.data.readUInt8(0)!==1)continue;var a=o.data.readUInt32LE(1);if(wme.unsigned(e)!==a)continue;i=_S(o.data.subarray(5),!0);break}}if(i==null){var l=(t&2048)!==0;i=_S(e,l)}return n||(i=i.replace(/\\/g,"/")),i}function hX(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function TX(t){for(var e=[],r=0;r<t.length-3;){var n=t.readUInt16LE(r+0),i=t.readUInt16LE(r+2),s=r+4,o=s+i;if(o>t.length)throw new Error("extra field length exceeds extra field buffer size");var a=t.subarray(s,o);e.push({id:n,data:a}),r=o}return e}function Zl(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,Ki(0))});t.read(e,r,n,i,function(o,a){if(o)return s(o);if(a<n)return s(new Error("unexpected EOF"));s()})}NS.inherits(yE,lX);function yE(t){lX.call(this),this.actualByteCount=0,this.expectedByteCount=t}yE.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};yE.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};NS.inherits(vs,OS);function vs(){OS.call(this),this.refCount=0}vs.prototype.ref=function(){this.refCount+=1};vs.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};vs.prototype.createReadStream=function(t){t==null&&(t={});var e=t.start,r=t.end;if(e===r){var n=new wm;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,o=new CS(this);i.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),bm(o,function(){i.unpipe(o),o.unref(),i.destroy()});var a=new yE(r-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),bm(a,function(){s=!0,o.unpipe(a),o.destroy()}),i.pipe(o).pipe(a)};vs.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};vs.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),o=new Dme,a=0;o._write=function(l,c,u){l.copy(t,e+a,0,l.length),a+=l.length,u()},o.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(o)};vs.prototype.close=function(t){setImmediate(t)};NS.inherits(CS,wm);function CS(t){wm.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}CS.prototype._flush=function(t){this.unref(),t()};CS.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var xme="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function _S(t,e){if(e)return t.toString("utf8");for(var r="",n=0;n<t.length;n++)r+=xme[t[n]];return r}function Ql(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var Ki;typeof Buffer.allocUnsafe=="function"?Ki=function(t){return Buffer.allocUnsafe(t)}:Ki=function(t){return new Buffer(t)};function bm(t,e){typeof t.destroy=="function"?t._destroy=function(r,n){e(),n?.(r)}:t.destroy=e}function IS(t){if(t)throw t}});var Mm=y((wve,RX)=>{"use strict";var Pm=class{constructor(){this.fieldCount=0,this.rowCount=0,this.actualSheetName="",this.resultsCount=0,this._oaEpoch=Date.UTC(1899,11,30)}async open(e,r=!0,n=!1){throw new Error("Method 'open' must be implemented.")}async close(){}read(){throw new Error("Method 'read' must be implemented.")}getSheetNames(){throw new Error("Method 'getSheetNames' must be implemented.")}getValue(e){throw new Error("Method 'getValue' must be implemented.")}dispose(){}getDateTimeFromOaDate(e){let r=e*864e5+this._oaEpoch;return new Date(r)}};RX.exports=Pm});var pX=y((Dve,AX)=>{"use strict";var vme=SX(),Ume=Mm(),xm=class extends Ume{constructor(){super(),this.zipfile=null,this.sharedStrings=[],this.styles=[],this.sheetNames=[],this.sheets=[],this._currentSheetIndex=-1,this._sheetXml=null,this._xmlPos=0,this._currentRow=[],this.fieldCount=0}async open(e,r=!0){return new Promise((n,i)=>{vme.open(e,{lazyEntries:!0,autoClose:!1},async(s,o)=>{if(s)return i(s);this.zipfile=o,this.entries=new Map,o.on("entry",a=>{this.entries.set(a.fileName,a),o.readEntry()}),o.on("end",async()=>{try{let a=await this._readZipEntryContent("xl/_rels/workbook.xml.rels"),l={};if(a){let E=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,d;for(;(d=E.exec(a))!==null;)l[d[1]]=d[2];for(let f in l){let T=l[f];T.startsWith("/")&&(T=T.substring(1)),!T.startsWith("xl/")&&!T.startsWith("worksheets/")&&!T.startsWith("theme/")&&!T.startsWith("styles")&&T.startsWith("sharedStrings")}}let c=await this._readZipEntryContent("xl/workbook.xml");if(c){let E=/<sheet[^>]*name="([^"]*)"[^>]*sheetId="([^"]*)"[^>]*r:id="([^"]*)"/g,d;for(;(d=E.exec(c))!==null;){let f=this._unescapeXml(d[1]),T=d[2],h=d[3],S=l[h];S.startsWith("xl/")||(S="xl/"+S),this.sheetNames.push(f),this.sheets.push({name:f,sheetId:T,rId:h,path:S})}}if(r){let E=await this._readZipEntryContent("xl/sharedStrings.xml");E&&this._parseSharedStrings(E)}let u=await this._readZipEntryContent("xl/styles.xml");u&&this._parseStyles(u),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1,n()}catch(a){i(a)}}),o.readEntry()})})}async close(){this.zipfile&&this.zipfile.close()}async _readZipEntryContent(e){let r=this.entries.get(e);return r?new Promise((n,i)=>{this.zipfile.openReadStream(r,(s,o)=>{if(s)return i(s);let a=[];o.on("data",l=>a.push(l)),o.on("end",()=>{n(Buffer.concat(a).toString("utf8"))}),o.on("error",i)})}):null}_unescapeXml(e){return e?e.indexOf("&")===-1?e:e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):""}_parseSharedStrings(e){let r=0;for(;;){let n=e.indexOf("<si>",r);if(n===-1)break;let i=e.indexOf("</si>",n);if(i===-1)break;let s=e.substring(n,i),o="",a=0;for(;;){let l=s.indexOf("<t",a);if(l===-1)break;let c=s.indexOf(">",l),u=s.indexOf("</t>",c);if(u===-1)break;o+=s.substring(c+1,u),a=u+4}this.sharedStrings.push(this._unescapeXml(o)),r=i+5}}_parseStyles(e){let r=/<numFmt\s+[^>]*numFmtId="(\d+)"[^>]*formatCode="([^"]*)"/g,n;for(this.customDateFormats=new Set;(n=r.exec(e))!==null;){let s=parseInt(n[1]),o=n[2];(o.toLowerCase().includes("yy")||o.toLowerCase().includes("mm")||o.toLowerCase().includes("dd")||o.toLowerCase().includes("h:mm"))&&this.customDateFormats.add(s)}this.xfIdToNumFmtId=[];let i=e.indexOf("<cellXfs");if(i!==-1){let s=e.indexOf("</cellXfs>",i);if(s!==-1){let o=e.substring(i,s),a=/<xf\s+[^>]*numFmtId="(\d+)"/g;for(;(n=a.exec(o))!==null;){let l=parseInt(n[1]);this.xfIdToNumFmtId.push(l)}}}}getSheetNames(){return this.sheetNames}async read(){return this._currentSheetIndex===-1&&(this._currentSheetIndex=0,await this._initSheet(this._currentSheetIndex)),!!this._readNextRow()}async _initSheet(e){if(e>=this.sheets.length)return;let r=this.sheets[e];this.actualSheetName=r.name,this._sheetXml=await this._readZipEntryContent(r.path),this._sheetXml||(this._sheetXml=""),this._xmlPos=0;let n=this._sheetXml.indexOf("<sheetData>");n!==-1&&(this._xmlPos=n+11)}_readNextRow(){if(!this._sheetXml)return!1;let e=this._sheetXml.indexOf("<row",this._xmlPos);if(e===-1)return!1;let r=this._sheetXml.indexOf("</row>",e);return r===-1?!1:(this._xmlPos=r+6,this._parseRowByIndex(e,r),!0)}_parseRowByIndex(e,r){this._currentRow=[];let n=this._sheetXml,i=n.indexOf(">",e)+1;for(;i<r;){let s=n.indexOf("<c",i);if(s===-1||s>=r)break;let o=n.indexOf(">",s),a=-1,l="n",c=0,u=s+2;for(;u<o;){for(;n.charCodeAt(u)<=32&&u<o;)u++;if(u>=o)break;let f=u;for(;n.charCodeAt(u)!==61&&u<o;)u++;let T=n.substring(f,u);if(u++,n.charCodeAt(u)===34){u++;let h=u;for(;n.charCodeAt(u)!==34&&u<o;)u++;let R=n.substring(h,u);if(u++,T==="r"){let S=0;for(;S<R.length&&R.charCodeAt(S)>=65;)S++;a=this._columnLetterToIndex(R.substring(0,S))}else T==="t"?l=R:T==="s"&&(c=parseInt(R,10))}}let E=null;if(n.charCodeAt(o-1)===47)i=o+1;else{let f=n.indexOf("</c>",o),T=f!==-1&&f<r?f:r,h=n.indexOf("<v>",o);if(h!==-1&&h<T){let R=h+3,S=n.indexOf("</v>",R);S!==-1&&S<T&&(E=n.substring(R,S))}else if(l==="inlineStr"){let R=n.indexOf("<t",o);if(R!==-1&&R<T){let S=n.indexOf(">",R)+1,C=n.indexOf("</t>",S);C!==-1&&C<T&&(E=n.substring(S,C))}}i=T+4}let d=null;if(E!==null){if(l==="s"){let f=parseInt(E,10);d=this.sharedStrings[f]}else if(l==="b")d=E==="1"||E==="true";else if(l==="inlineStr")d=this._unescapeXml(E);else if((l==="n"||l==="")&&(d=parseFloat(E),c>0&&this.xfIdToNumFmtId)){let f=0;if(c<this.xfIdToNumFmtId.length&&(f=this.xfIdToNumFmtId[c]),f>=14&&f<=22||f>=45&&f<=47||this.customDateFormats&&this.customDateFormats.has(f))try{d=this.getDateTimeFromOaDate(d)}catch{}}}a!==-1&&(this._currentRow[a]=d,a>=this.fieldCount&&(this.fieldCount=a+1))}}_columnLetterToIndex(e){let r=0,n=e.length;for(let i=0;i<n;i++)r+=(e.charCodeAt(i)-64)*Math.pow(26,n-i-1);return r-1}getValue(e){return e<0||e>=this._currentRow.length?null:this._currentRow[e]}};AX.exports=xm});var vm=y((Pve,_X)=>{_X.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var mS=y(NX=>{var IX={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function Bme(t){return function(...e){return e.length&&(t=t.replace(/\{(\d)\}/g,(r,n)=>e[n]||"")),new Error("ADM-ZIP: "+t)}}for(let t of Object.keys(IX))NX[t]=Bme(IX[t])});var yX=y((xve,gX)=>{var Fme=require("fs"),Kt=require("path"),OX=vm(),Gme=mS(),Hme=typeof process=="object"&&process.platform==="win32",CX=t=>typeof t=="object"&&t!==null,mX=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function Lt(t){this.sep=Kt.sep,this.fs=Fme,CX(t)&&CX(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}gX.exports=Lt;Lt.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw Gme.FILE_IN_THE_WAY(`"${i}"`)}})}r(t)};Lt.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=Kt.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};Lt.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,l){if(o&&l.isDirectory())return i(!1);var c=Kt.dirname(t);s.fs.exists(c,function(u){u||s.makeDir(c),s.fs.open(t,"w",438,function(E,d){E?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(f,T){s.fs.write(T,e,0,e.length,0,function(){s.fs.close(T,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):d?s.fs.write(d,e,0,e.length,0,function(){s.fs.close(d,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};Lt.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){let l=Kt.join(n,a),c=e.fs.statSync(l);(!i||i.test(l))&&o.push(Kt.normalize(l)+(c.isDirectory()?e.sep:"")),c.isDirectory()&&s&&(o=o.concat(r(l,i,s)))}),o}return r(t,void 0,!0)};Lt.prototype.findFilesAsync=function(t,e){let r=this,n=[];r.fs.readdir(t,function(i,s){if(i)return e(i);let o=s.length;if(!o)return e(null,n);s.forEach(function(a){a=Kt.join(t,a),r.fs.stat(a,function(l,c){if(l)return e(l);c&&(n.push(Kt.normalize(a)+(c.isDirectory()?r.sep:"")),c.isDirectory()?r.findFilesAsync(a,function(u,E){if(u)return e(u);n=n.concat(E),--o||e(null,n)}):--o||e(null,n))})})})};Lt.prototype.getAttributes=function(){};Lt.prototype.setAttributes=function(){};Lt.crc32update=function(t,e){return mX[(t^e)&255]^t>>>8};Lt.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8"));let e=t.length,r=-1;for(let n=0;n<e;)r=Lt.crc32update(r,t[n++]);return~r>>>0};Lt.methodToString=function(t){switch(t){case OX.STORED:return"STORED ("+t+")";case OX.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};Lt.canonical=function(t){if(!t)return"";let e=Kt.posix.normalize("/"+t.split("\\").join("/"));return Kt.join(".",e)};Lt.zipnamefix=function(t){if(!t)return"";let e=Kt.posix.normalize("/"+t.split("\\").join("/"));return Kt.posix.join(".",e)};Lt.findLast=function(t,e){if(!Array.isArray(t))throw new TypeError("arr is not array");let r=t.length>>>0;for(let n=r-1;n>=0;n--)if(e(t[n],n,t))return t[n]};Lt.sanitize=function(t,e){t=Kt.resolve(Kt.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=Kt.normalize(Kt.join(t,r.slice(n,i).join(Kt.sep)));if(s.indexOf(t)===0)return s}return Kt.normalize(Kt.join(t,Kt.basename(e)))};Lt.toBuffer=function(e,r){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?r(e):Buffer.alloc(0)};Lt.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};Lt.fromDOS2Date=function(t){return new Date((t>>25&127)+1980,Math.max((t>>21&15)-1,0),Math.max(t>>16&31,1),t>>11&31,t>>5&63,(t&31)<<1)};Lt.fromDate2DOS=function(t){let e=0,r=0;return t.getFullYear()>1979&&(e=(t.getFullYear()-1980&127)<<9|t.getMonth()+1<<5|t.getDate(),r=t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1),e<<16|r};Lt.isWin=Hme;Lt.crcTable=mX});var bX=y((vve,LX)=>{var Wme=require("path");LX.exports=function(t,{fs:e}){var r=t||"",n=s(),i=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&e.existsSync(r)?(i=e.statSync(r),n.directory=i.isDirectory(),n.mtime=i.mtime,n.atime=i.atime,n.executable=(73&i.mode)!==0,n.readonly=(128&i.mode)===0,n.hidden=Wme.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var DX=y((Uve,wX)=>{wX.exports={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}});var tc=y((Bve,ec)=>{ec.exports=yX();ec.exports.Constants=vm();ec.exports.Errors=mS();ec.exports.FileAttr=bX();ec.exports.decoder=DX()});var MX=y((Fve,PX)=>{var Us=tc(),re=Us.Constants;PX.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,l=0,c=0,u=0,E=0,d=0,f=0,T=0;t|=Us.isWin?2560:768,r|=re.FLG_EFS;let h={extraLen:0},R=A=>Math.max(0,A)>>>0,S=A=>Math.max(0,A)&65535,C=A=>Math.max(0,A)&255;return i=Us.fromDate2DOS(new Date),{get made(){return t},set made(A){t=A},get version(){return e},set version(A){e=A},get flags(){return r},set flags(A){r=A},get flags_efs(){return(r&re.FLG_EFS)>0},set flags_efs(A){A?r|=re.FLG_EFS:r&=~re.FLG_EFS},get flags_desc(){return(r&re.FLG_DESC)>0},set flags_desc(A){A?r|=re.FLG_DESC:r&=~re.FLG_DESC},get method(){return n},set method(A){switch(A){case re.STORED:this.version=10;case re.DEFLATED:default:this.version=20}n=A},get time(){return Us.fromDOS2Date(this.timeval)},set time(A){this.timeval=Us.fromDate2DOS(A)},get timeval(){return i},set timeval(A){i=R(A)},get timeHighByte(){return C(i>>>8)},get crc(){return s},set crc(A){s=R(A)},get compressedSize(){return o},set compressedSize(A){o=R(A)},get size(){return a},set size(A){a=R(A)},get fileNameLength(){return l},set fileNameLength(A){l=A},get extraLength(){return c},set extraLength(A){c=A},get extraLocalLength(){return h.extraLen},set extraLocalLength(A){h.extraLen=A},get commentLength(){return u},set commentLength(A){u=A},get diskNumStart(){return E},set diskNumStart(A){E=R(A)},get inAttr(){return d},set inAttr(A){d=R(A)},get attr(){return f},set attr(A){f=R(A)},get fileAttr(){return(f||0)>>16&4095},get offset(){return T},set offset(A){T=R(A)},get encrypted(){return(r&re.FLG_ENC)===re.FLG_ENC},get centralHeaderSize(){return re.CENHDR+l+c+u},get realDataOffset(){return T+re.LOCHDR+h.fnameLen+h.extraLen},get localHeader(){return h},loadLocalHeaderFromBinary:function(A){var p=A.slice(T,T+re.LOCHDR);if(p.readUInt32LE(0)!==re.LOCSIG)throw Us.Errors.INVALID_LOC();h.version=p.readUInt16LE(re.LOCVER),h.flags=p.readUInt16LE(re.LOCFLG),h.method=p.readUInt16LE(re.LOCHOW),h.time=p.readUInt32LE(re.LOCTIM),h.crc=p.readUInt32LE(re.LOCCRC),h.compressedSize=p.readUInt32LE(re.LOCSIZ),h.size=p.readUInt32LE(re.LOCLEN),h.fnameLen=p.readUInt16LE(re.LOCNAM),h.extraLen=p.readUInt16LE(re.LOCEXT);let g=T+re.LOCHDR+h.fnameLen,D=g+h.extraLen;return A.slice(g,D)},loadFromBinary:function(A){if(A.length!==re.CENHDR||A.readUInt32LE(0)!==re.CENSIG)throw Us.Errors.INVALID_CEN();t=A.readUInt16LE(re.CENVEM),e=A.readUInt16LE(re.CENVER),r=A.readUInt16LE(re.CENFLG),n=A.readUInt16LE(re.CENHOW),i=A.readUInt32LE(re.CENTIM),s=A.readUInt32LE(re.CENCRC),o=A.readUInt32LE(re.CENSIZ),a=A.readUInt32LE(re.CENLEN),l=A.readUInt16LE(re.CENNAM),c=A.readUInt16LE(re.CENEXT),u=A.readUInt16LE(re.CENCOM),E=A.readUInt16LE(re.CENDSK),d=A.readUInt16LE(re.CENATT),f=A.readUInt32LE(re.CENATX),T=A.readUInt32LE(re.CENOFF)},localHeaderToBinary:function(){var A=Buffer.alloc(re.LOCHDR);return A.writeUInt32LE(re.LOCSIG,0),A.writeUInt16LE(e,re.LOCVER),A.writeUInt16LE(r,re.LOCFLG),A.writeUInt16LE(n,re.LOCHOW),A.writeUInt32LE(i,re.LOCTIM),A.writeUInt32LE(s,re.LOCCRC),A.writeUInt32LE(o,re.LOCSIZ),A.writeUInt32LE(a,re.LOCLEN),A.writeUInt16LE(l,re.LOCNAM),A.writeUInt16LE(h.extraLen,re.LOCEXT),A},centralHeaderToBinary:function(){var A=Buffer.alloc(re.CENHDR+l+c+u);return A.writeUInt32LE(re.CENSIG,0),A.writeUInt16LE(t,re.CENVEM),A.writeUInt16LE(e,re.CENVER),A.writeUInt16LE(r,re.CENFLG),A.writeUInt16LE(n,re.CENHOW),A.writeUInt32LE(i,re.CENTIM),A.writeUInt32LE(s,re.CENCRC),A.writeUInt32LE(o,re.CENSIZ),A.writeUInt32LE(a,re.CENLEN),A.writeUInt16LE(l,re.CENNAM),A.writeUInt16LE(c,re.CENEXT),A.writeUInt16LE(u,re.CENCOM),A.writeUInt16LE(E,re.CENDSK),A.writeUInt16LE(d,re.CENATT),A.writeUInt32LE(f,re.CENATX),A.writeUInt32LE(T,re.CENOFF),A},toJSON:function(){let A=function(p){return p+" bytes"};return{made:t,version:e,flags:r,method:Us.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:A(o),size:A(a),fileNameLength:A(l),extraLength:A(c),commentLength:A(u),diskNumStart:E,inAttr:d,attr:f,offset:T,centralHeaderSize:A(re.CENHDR+l+c+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var vX=y((Gve,xX)=>{var rc=tc(),Ot=rc.Constants;xX.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return Ot.ENDHDR+i},loadFromBinary:function(s){if((s.length!==Ot.ENDHDR||s.readUInt32LE(0)!==Ot.ENDSIG)&&(s.length<Ot.ZIP64HDR||s.readUInt32LE(0)!==Ot.ZIP64SIG))throw rc.Errors.INVALID_END();s.readUInt32LE(0)===Ot.ENDSIG?(t=s.readUInt16LE(Ot.ENDSUB),e=s.readUInt16LE(Ot.ENDTOT),r=s.readUInt32LE(Ot.ENDSIZ),n=s.readUInt32LE(Ot.ENDOFF),i=s.readUInt16LE(Ot.ENDCOM)):(t=rc.readBigUInt64LE(s,Ot.ZIP64SUB),e=rc.readBigUInt64LE(s,Ot.ZIP64TOT),r=rc.readBigUInt64LE(s,Ot.ZIP64SIZE),n=rc.readBigUInt64LE(s,Ot.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(Ot.ENDHDR+i);return s.writeUInt32LE(Ot.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,Ot.ENDSUB),s.writeUInt16LE(e,Ot.ENDTOT),s.writeUInt32LE(r,Ot.ENDSIZ),s.writeUInt32LE(n,Ot.ENDOFF),s.writeUInt16LE(i,Ot.ENDCOM),s.fill(" ",Ot.ENDHDR),s},toJSON:function(){let s=function(o,a){let l=o.toString(16).toUpperCase();for(;l.length<a;)l="0"+l;return"0x"+l};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Bm=y(Um=>{Um.EntryHeader=MX();Um.MainHeader=vX()});var BX=y((Wve,UX)=>{UX.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),l=0;a.fill(0);for(var c=0;c<s.length;c++){var u=s[c];u.copy(a,l),l+=u.length}n&&n(a)}),i.end(t)}}}});var GX=y((Yve,FX)=>{var Yme=+(process.versions?process.versions.node:"").split(".")[0]||0;FX.exports=function(t,e){var r=require("zlib");let n=Yme>=15&&e>0?{maxOutputLength:e}:{};return{inflate:function(){return r.inflateRawSync(t,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],a=0;s.on("data",function(l){o.push(l),a+=l.length}),s.on("end",function(){var l=Buffer.alloc(a),c=0;l.fill(0);for(var u=0;u<o.length;u++){var E=o[u];E.copy(l,c),c+=E.length}i&&i(l)}),s.end(t)}}}});var VX=y(($ve,$X)=>{"use strict";var{randomFillSync:HX}=require("crypto"),$me=mS(),Vme=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=e>>>1^3988292384:e>>>=1;return e>>>0}),YX=(t,e)=>Math.imul(t,e)>>>0,WX=(t,e)=>Vme[(t^e)&255]^t>>>8,LE=()=>typeof HX=="function"?HX(Buffer.alloc(12)):LE.node();LE.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var gS={genSalt:LE};function yS(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}yS.prototype.updateKeys=function(t){let e=this.keys;return e[0]=WX(e[0],t),e[1]+=e[0]&255,e[1]=YX(e[1],134775813)+1,e[2]=WX(e[2],e[1]>>>24),t};yS.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return YX(t,t^1)>>8&255};function kme(t){let e=new yS(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function qme(t){let e=new yS(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function Xme(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=kme(r),i=n(t.slice(0,12)),s=(e.flags&8)===8?e.timeHighByte:e.crc>>>24;if(i[11]!==s)throw $me.WRONG_PASSWORD();return n(t.slice(12))}function Kme(t){Buffer.isBuffer(t)&&t.length>=12?gS.genSalt=function(){return t.slice(0,12)}:t==="node"?gS.genSalt=LE.node:gS.genSalt=LE}function jme(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=qme(r),s=gS.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}$X.exports={decrypt:Xme,encrypt:jme,_salter:Kme}});var kX=y(LS=>{LS.Deflater=BX();LS.Inflater=GX();LS.ZipCrypto=VX()});var Gm=y((kve,qX)=>{var rt=tc(),zme=Bm(),bt=rt.Constants,Fm=kX();qX.exports=function(t,e){var r=new zme.EntryHeader,n=Buffer.alloc(0),i=Buffer.alloc(0),s=!1,o=null,a=Buffer.alloc(0),l=Buffer.alloc(0),c=!0;let u=t,E=typeof u.decoder=="object"?u.decoder:rt.decoder;c=E.hasOwnProperty("efs")?E.efs:!1;function d(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(l=r.loadLocalHeaderFromBinary(e),e.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(A){if(r.flags_desc){let p={},g=r.realDataOffset+r.compressedSize;if(e.readUInt32LE(g)==bt.LOCSIG||e.readUInt32LE(g)==bt.CENSIG)throw rt.Errors.DESCRIPTOR_NOT_EXIST();if(e.readUInt32LE(g)==bt.EXTSIG)p.crc=e.readUInt32LE(g+bt.EXTCRC),p.compressedSize=e.readUInt32LE(g+bt.EXTSIZ),p.size=e.readUInt32LE(g+bt.EXTLEN);else if(e.readUInt16LE(g+12)===19280)p.crc=e.readUInt32LE(g+bt.EXTCRC-4),p.compressedSize=e.readUInt32LE(g+bt.EXTSIZ-4),p.size=e.readUInt32LE(g+bt.EXTLEN-4);else throw rt.Errors.DESCRIPTOR_UNKNOWN();if(p.compressedSize!==r.compressedSize||p.size!==r.size||p.crc!==r.crc)throw rt.Errors.DESCRIPTOR_FAULTY();if(rt.crc32(A)!==p.crc)return!1}else if(rt.crc32(A)!==r.localHeader.crc)return!1;return!0}function T(A,p,g){if(typeof p>"u"&&typeof A=="string"&&(g=A,A=void 0),s)return A&&p&&p(Buffer.alloc(0),rt.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var D=d();if(D.length===0)return A&&p&&p(D),D;if(r.encrypted){if(typeof g!="string"&&!Buffer.isBuffer(g))throw rt.Errors.INVALID_PASS_PARAM();D=Fm.ZipCrypto.decrypt(D,r,g)}var O=Buffer.alloc(r.size);switch(r.method){case rt.Constants.STORED:if(D.copy(O),f(O))return A&&p&&p(O),O;throw A&&p&&p(O,rt.Errors.BAD_CRC()),rt.Errors.BAD_CRC();case rt.Constants.DEFLATED:var M=new Fm.Inflater(D,r.size);if(A)M.inflateAsync(function(w){w.copy(w,0),p&&(f(w)?p(w):p(w,rt.Errors.BAD_CRC()))});else{if(M.inflate(O).copy(O,0),!f(O))throw rt.Errors.BAD_CRC(`"${E.decode(n)}"`);return O}break;default:throw A&&p&&p(Buffer.alloc(0),rt.Errors.UNKNOWN_METHOD()),rt.Errors.UNKNOWN_METHOD()}}function h(A,p){if((!o||!o.length)&&Buffer.isBuffer(e))return A&&p&&p(d()),d();if(o.length&&!s){var g;switch(r.method){case rt.Constants.STORED:return r.compressedSize=r.size,g=Buffer.alloc(o.length),o.copy(g),A&&p&&p(g),g;default:case rt.Constants.DEFLATED:var D=new Fm.Deflater(o);if(A)D.deflateAsync(function(M){g=Buffer.alloc(M.length),r.compressedSize=M.length,M.copy(g),p&&p(g)});else{var O=D.deflate();return r.compressedSize=O.length,O}D=null;break}}else if(A&&p)p(Buffer.alloc(0));else return Buffer.alloc(0)}function R(A,p){return(A.readUInt32LE(p+4)<<4)+A.readUInt32LE(p)}function S(A){try{for(var p=0,g,D,O;p+4<A.length;)g=A.readUInt16LE(p),p+=2,D=A.readUInt16LE(p),p+=2,O=A.slice(p,p+D),p+=D,bt.ID_ZIP64===g&&C(O)}catch{throw rt.Errors.EXTRA_FIELD_PARSE_ERROR()}}function C(A){var p,g,D,O;A.length>=bt.EF_ZIP64_SCOMP&&(p=R(A,bt.EF_ZIP64_SUNCOMP),r.size===bt.EF_ZIP64_OR_32&&(r.size=p)),A.length>=bt.EF_ZIP64_RHO&&(g=R(A,bt.EF_ZIP64_SCOMP),r.compressedSize===bt.EF_ZIP64_OR_32&&(r.compressedSize=g)),A.length>=bt.EF_ZIP64_DSN&&(D=R(A,bt.EF_ZIP64_RHO),r.offset===bt.EF_ZIP64_OR_32&&(r.offset=D)),A.length>=bt.EF_ZIP64_DSN+4&&(O=A.readUInt32LE(bt.EF_ZIP64_DSN),r.diskNumStart===bt.EF_ZIP64_OR_16&&(r.diskNumStart=O))}return{get entryName(){return E.decode(n)},get rawEntryName(){return n},set entryName(A){n=rt.toBuffer(A,E.encode);var p=n[n.length-1];s=p===47||p===92,r.fileNameLength=n.length},get efs(){return typeof c=="function"?c(this.entryName):c},get extra(){return a},set extra(A){a=A,r.extraLength=A.length,S(A)},get comment(){return E.decode(i)},set comment(A){if(i=rt.toBuffer(A,E.encode),r.commentLength=i.length,i.length>65535)throw rt.Errors.COMMENT_TOO_LONG()},get name(){var A=E.decode(n);return s?A.substr(A.length-1).split("/").pop():A.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return h(!1,null)},getCompressedDataAsync:function(A){h(!0,A)},setData:function(A){o=rt.toBuffer(A,rt.decoder.encode),!s&&o.length?(r.size=o.length,r.method=rt.Constants.DEFLATED,r.crc=rt.crc32(A),r.changed=!0):r.method=rt.Constants.STORED},getData:function(A){return r.changed?o:T(!1,null,A)},getDataAsync:function(A,p){r.changed?A(o):T(!0,A,p)},set attr(A){r.attr=A},get attr(){return r.attr},set header(A){r.loadFromBinary(A)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=a.length;var A=r.centralHeaderToBinary(),p=rt.Constants.CENHDR;return n.copy(A,p),p+=n.length,a.copy(A,p),p+=r.extraLength,i.copy(A,p),A},packLocalHeader:function(){let A=0;r.flags_efs=this.efs,r.extraLocalLength=l.length;let p=r.localHeaderToBinary(),g=Buffer.alloc(p.length+n.length+r.extraLocalLength);return p.copy(g,A),A+=p.length,n.copy(g,A),A+=n.length,l.copy(g,A),A+=l.length,g},toJSON:function(){let A=function(p){return"<"+(p&&p.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:A(e),data:A(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var jX=y((qve,KX)=>{var XX=Gm(),Jme=Bm(),_r=tc();KX.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new Jme.MainHeader,o=!1,a=null;let l=new Set,c=e,{noSort:u,decoder:E}=c;t?T(c.readEntries):o=!0;function d(){let R=new Set;for(let S of Object.keys(n)){let C=S.split("/");if(C.pop(),!!C.length)for(let A=0;A<C.length;A++){let p=C.slice(0,A+1).join("/")+"/";R.add(p)}}for(let S of R)if(!(S in n)){let C=new XX(c);C.entryName=S,C.attr=16,C.temporary=!0,r.push(C),n[C.entryName]=C,l.add(C)}}function f(){if(o=!0,n={},s.diskEntries>(t.length-s.offset)/_r.Constants.CENHDR)throw _r.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(s.diskEntries);for(var R=s.offset,S=0;S<r.length;S++){var C=R,A=new XX(c,t);A.header=t.slice(C,C+=_r.Constants.CENHDR),A.entryName=t.slice(C,C+=A.header.fileNameLength),A.header.extraLength&&(A.extra=t.slice(C,C+=A.header.extraLength)),A.header.commentLength&&(A.comment=t.slice(C,C+A.header.commentLength)),R+=A.header.centralHeaderSize,r[S]=A,n[A.entryName]=A}l.clear(),d()}function T(R){var S=t.length-_r.Constants.ENDHDR,C=Math.max(0,S-65535),A=C,p=t.length,g=-1,D=0;for(typeof c.trailingSpace=="boolean"&&c.trailingSpace&&(C=0),S;S>=A;S--)if(t[S]===80){if(t.readUInt32LE(S)===_r.Constants.ENDSIG){g=S,D=S,p=S+_r.Constants.ENDHDR,A=S-_r.Constants.END64HDR;continue}if(t.readUInt32LE(S)===_r.Constants.END64SIG){A=C;continue}if(t.readUInt32LE(S)===_r.Constants.ZIP64SIG){g=S,p=S+_r.readBigUInt64LE(t,S+_r.Constants.ZIP64SIZE)+_r.Constants.ZIP64LEAD;break}}if(g==-1)throw _r.Errors.INVALID_FORMAT();s.loadFromBinary(t.slice(g,p)),s.commentLength&&(i=t.slice(D+_r.Constants.ENDHDR)),R&&f()}function h(){r.length>1&&!u&&r.sort((R,S)=>R.entryName.toLowerCase().localeCompare(S.entryName.toLowerCase()))}return{get entries(){return o||f(),r.filter(R=>!l.has(R))},get comment(){return E.decode(i)},set comment(R){i=_r.toBuffer(R,E.encode),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(R){this.entries.forEach(R)},getEntry:function(R){return o||f(),n[R]||null},setEntry:function(R){o||f(),r.push(R),n[R.entryName]=R,s.totalEntries=r.length},deleteFile:function(R,S=!0){o||f();let C=n[R];this.getEntryChildren(C,S).map(p=>p.entryName).forEach(this.deleteEntry)},deleteEntry:function(R){o||f();let S=n[R],C=r.indexOf(S);C>=0&&(r.splice(C,1),delete n[R],s.totalEntries=r.length)},getEntryChildren:function(R,S=!0){if(o||f(),typeof R=="object")if(R.isDirectory&&S){let C=[],A=R.entryName;for(let p of r)p.entryName.startsWith(A)&&C.push(p);return C}else return[R];return[]},getChildCount:function(R){if(R&&R.isDirectory){let S=this.getEntryChildren(R);return S.includes(R)?S.length-1:S.length}return 0},compressToBuffer:function(){o||f(),h();let R=[],S=[],C=0,A=0;s.size=0,s.offset=0;let p=0;for(let O of this.entries){let M=O.getCompressedData();O.header.offset=A;let w=O.packLocalHeader(),x=w.length+M.length;A+=x,R.push(w),R.push(M);let F=O.packCentralHeader();S.push(F),s.size+=F.length,C+=x+F.length,p++}C+=s.mainHeaderSize,s.offset=A,s.totalEntries=p,A=0;let g=Buffer.alloc(C);for(let O of R)O.copy(g,A),A+=O.length;for(let O of S)O.copy(g,A),A+=O.length;let D=s.toBinary();return i&&i.copy(D,_r.Constants.ENDHDR),D.copy(g,A),t=g,o=!1,g},toAsyncBuffer:function(R,S,C,A){try{o||f(),h();let p=[],g=[],D=0,O=0,M=0;s.size=0,s.offset=0;let w=function(x){if(x.length>0){let F=x.shift(),ee=F.entryName+F.extra.toString();C&&C(ee),F.getCompressedDataAsync(function(Z){A&&A(ee),F.header.offset=O;let ne=F.packLocalHeader(),se=ne.length+Z.length;O+=se,p.push(ne),p.push(Z);let _e=F.packCentralHeader();g.push(_e),s.size+=_e.length,D+=se+_e.length,M++,w(x)})}else{D+=s.mainHeaderSize,s.offset=O,s.totalEntries=M,O=0;let F=Buffer.alloc(D);p.forEach(function(Z){Z.copy(F,O),O+=Z.length}),g.forEach(function(Z){Z.copy(F,O),O+=Z.length});let ee=s.toBinary();i&&i.copy(ee,_r.Constants.ENDHDR),ee.copy(F,O),t=F,o=!1,R(F)}};w(Array.from(this.entries))}catch(p){S(p)}}}}});var QX=y((Xve,JX)=>{var Ct=tc(),wt=require("path"),Qme=Gm(),Zme=jX(),sa=(...t)=>Ct.findLast(t,e=>typeof e=="boolean"),zX=(...t)=>Ct.findLast(t,e=>typeof e=="string"),ege=(...t)=>Ct.findLast(t,e=>typeof e=="function"),tge={noSort:!1,readEntries:!1,method:Ct.Constants.NONE,fs:null};JX.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),tge);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=Ct.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new Ct(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=Ct.decoder),t&&typeof t=="string")if(i.fs.existsSync(t))n.method=Ct.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw Ct.Errors.INVALID_FILENAME();let s=new Zme(r,n),{canonical:o,sanitize:a,zipnamefix:l}=Ct;function c(f){if(f&&s){var T;if(typeof f=="string"&&(T=s.getEntry(wt.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(T=s.getEntry(f.entryName)),T)return T}return null}function u(f){let{join:T,normalize:h,sep:R}=wt.posix;return T(".",h(R+f.split("\\").join(R)+R))}function E(f){return f instanceof RegExp?(function(T){return function(h){return T.test(h)}})(f):typeof f!="function"?()=>!0:f}let d=(f,T)=>{let h=T.slice(-1);return h=h===i.sep?i.sep:"",wt.relative(f,T)+h};return{readFile:function(f,T){var h=c(f);return h&&h.getData(T)||null},childCount:function(f){let T=c(f);if(T)return s.getChildCount(T)},readFileAsync:function(f,T){var h=c(f);h?h.getDataAsync(T):T(null,"getEntry failed for:"+f)},readAsText:function(f,T){var h=c(f);if(h){var R=h.getData();if(R&&R.length)return R.toString(T||"utf8")}return""},readAsTextAsync:function(f,T,h){var R=c(f);R?R.getDataAsync(function(S,C){if(C){T(S,C);return}S&&S.length?T(S.toString(h||"utf8")):T("")}):T("")},deleteFile:function(f,T=!0){var h=c(f);h&&s.deleteFile(h.entryName,T)},deleteEntry:function(f){var T=c(f);T&&s.deleteEntry(T.entryName)},addZipComment:function(f){s.comment=f},getZipComment:function(){return s.comment||""},addZipEntryComment:function(f,T){var h=c(f);h&&(h.comment=T)},getZipEntryComment:function(f){var T=c(f);return T&&T.comment||""},updateFile:function(f,T){var h=c(f);h&&h.setData(T)},addLocalFile:function(f,T,h,R){if(i.fs.existsSync(f)){T=T?u(T):"";let S=wt.win32.basename(wt.win32.normalize(f));T+=h||S;let C=i.fs.statSync(f),A=C.isFile()?i.fs.readFileSync(f):Buffer.alloc(0);C.isDirectory()&&(T+=i.sep),this.addFile(T,A,R,C)}else throw Ct.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,T){f=typeof f=="object"?f:{localPath:f};let h=wt.resolve(f.localPath),{comment:R}=f,{zipPath:S,zipName:C}=f,A=this;i.fs.stat(h,function(p,g){if(p)return T(p,!1);S=S?u(S):"";let D=wt.win32.basename(wt.win32.normalize(h));if(S+=C||D,g.isFile())i.fs.readFile(h,function(O,M){return O?T(O,!1):(A.addFile(S,M,R,g),setImmediate(T,void 0,!0))});else if(g.isDirectory())return S+=i.sep,A.addFile(S,Buffer.alloc(0),R,g),setImmediate(T,void 0,!0)})},addLocalFolder:function(f,T,h){if(h=E(h),T=T?u(T):"",f=wt.normalize(f),i.fs.existsSync(f)){let R=i.findFiles(f),S=this;if(R.length)for(let C of R){let A=wt.join(T,d(f,C));h(A)&&S.addLocalFile(C,wt.dirname(A))}}else throw Ct.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,T,h,R){R=E(R),h=h?u(h):"",f=wt.normalize(f);var S=this;i.fs.open(f,"r",function(C){if(C&&C.code==="ENOENT")T(void 0,Ct.Errors.FILE_NOT_FOUND(f));else if(C)T(void 0,C);else{var A=i.findFiles(f),p=-1,g=function(){if(p+=1,p<A.length){var D=A[p],O=d(f,D).split("\\").join("/");O=O.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),R(O)?i.fs.stat(D,function(M,w){M&&T(void 0,M),w.isFile()?i.fs.readFile(D,function(x,F){x?T(void 0,x):(S.addFile(h+O,F,"",w),g())}):(S.addFile(h+O+"/",Buffer.alloc(0),"",w),g())}):process.nextTick(()=>{g()})}else T(!0,void 0)};g()}})},addLocalFolderAsync2:function(f,T){let h=this;f=typeof f=="object"?f:{localPath:f},localPath=wt.resolve(u(f.localPath));let{zipPath:R,filter:S,namefix:C}=f;S instanceof RegExp?S=(function(g){return function(D){return g.test(D)}})(S):typeof S!="function"&&(S=function(){return!0}),R=R?u(R):"",C=="latin1"&&(C=g=>g.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof C!="function"&&(C=g=>g);let A=g=>wt.join(R,C(d(localPath,g))),p=g=>wt.win32.basename(wt.win32.normalize(C(g)));i.fs.open(localPath,"r",function(g){g&&g.code==="ENOENT"?T(void 0,Ct.Errors.FILE_NOT_FOUND(localPath)):g?T(void 0,g):i.findFilesAsync(localPath,function(D,O){if(D)return T(D);O=O.filter(M=>S(A(M))),O.length||T(void 0,!1),setImmediate(O.reverse().reduce(function(M,w){return function(x,F){if(x||F===!1)return setImmediate(M,x,!1);h.addLocalFileAsync({localPath:w,zipPath:wt.dirname(A(w)),zipName:p(w)},M)}},T))})})},addLocalFolderPromise:function(f,T){return new Promise((h,R)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},T),(S,C)=>{S&&R(S),C&&h(this)})})},addFile:function(f,T,h,R){f=l(f);let S=c(f),C=S!=null;C||(S=new Qme(n),S.entryName=f),S.comment=h||"";let A=typeof R=="object"&&R instanceof i.fs.Stats;A&&(S.header.time=R.mtime);var p=S.isDirectory?16:0;let g=S.isDirectory?16384:32768;return A?g|=4095&R.mode:typeof R=="number"?g|=4095&R:g|=S.isDirectory?493:420,p=(p|g<<16)>>>0,S.attr=p,S.setData(T),C||s.setEntry(S),S},getEntries:function(f){return s.password=f,s?s.entries:[]},getEntry:function(f){return c(f)},getEntryCount:function(){return s.getEntryCount()},forEach:function(f){return s.forEach(f)},extractEntryTo:function(f,T,h,R,S,C){R=sa(!1,R),S=sa(!1,S),h=sa(!0,h),C=zX(S,C);var A=c(f);if(!A)throw Ct.Errors.NO_ENTRY();var p=o(A.entryName),g=a(T,C&&!A.isDirectory?C:h?p:wt.basename(p));if(A.isDirectory){var D=s.getEntryChildren(A);return D.forEach(function(w){if(w.isDirectory)return;var x=w.getData();if(!x)throw Ct.Errors.CANT_EXTRACT_FILE();var F=o(w.entryName),ee=a(T,h?F:wt.basename(F));let Z=S?w.header.fileAttr:void 0;i.writeFileTo(ee,x,R,Z)}),!0}var O=A.getData(s.password);if(!O)throw Ct.Errors.CANT_EXTRACT_FILE();if(i.fs.existsSync(g)&&!R)throw Ct.Errors.CANT_OVERRIDE();let M=S?f.header.fileAttr:void 0;return i.writeFileTo(g,O,R,M),!0},test:function(f){if(!s)return!1;for(var T in s.entries)try{if(T.isDirectory)continue;var h=s.entries[T].getData(f);if(!h)return!1}catch{return!1}return!0},extractAllTo:function(f,T,h,R){if(h=sa(!1,h),R=zX(h,R),T=sa(!1,T),!s)throw Ct.Errors.NO_ZIP();s.entries.forEach(function(S){var C=a(f,o(S.entryName));if(S.isDirectory){i.makeDir(C);return}var A=S.getData(R);if(!A)throw Ct.Errors.CANT_EXTRACT_FILE();let p=h?S.header.fileAttr:void 0;i.writeFileTo(C,A,T,p);try{i.fs.utimesSync(C,S.header.time,S.header.time)}catch{throw Ct.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,T,h,R){if(R=ege(T,h,R),h=sa(!1,h),T=sa(!1,T),!R)return new Promise((g,D)=>{this.extractAllToAsync(f,T,h,function(O){O?D(O):g(this)})});if(!s){R(Ct.Errors.NO_ZIP());return}f=wt.resolve(f);let S=g=>a(f,wt.normalize(o(g.entryName))),C=(g,D)=>new Error(g+': "'+D+'"'),A=[],p=[];s.entries.forEach(g=>{g.isDirectory?A.push(g):p.push(g)});for(let g of A){let D=S(g),O=h?g.header.fileAttr:void 0;try{i.makeDir(D),O&&i.fs.chmodSync(D,O),i.fs.utimesSync(D,g.header.time,g.header.time)}catch{R(C("Unable to create folder",D))}}p.reverse().reduce(function(g,D){return function(O){if(O)g(O);else{let M=wt.normalize(o(D.entryName)),w=a(f,M);D.getDataAsync(function(x,F){if(F)g(F);else if(!x)g(Ct.Errors.CANT_EXTRACT_FILE());else{let ee=h?D.header.fileAttr:void 0;i.writeFileToAsync(w,x,T,ee,function(Z){Z||g(C("Unable to write file",w)),i.fs.utimes(w,D.header.time,D.header.time,function(ne){ne?g(C("Unable to set times",w)):g()})})}})}}},R)()},writeZip:function(f,T){if(arguments.length===1&&typeof f=="function"&&(T=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var h=s.compressToBuffer();if(h){var R=i.writeFileTo(f,h,!0);typeof T=="function"&&T(R?null:new Error("failed"),"")}}},writeZipPromise:function(f,T){let{overwrite:h,perm:R}=Object.assign({overwrite:!0},T);return new Promise((S,C)=>{!f&&n.filename&&(f=n.filename),f||C("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(A=>{let p=g=>g?S(g):C("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(f,A,h,R,p)},C)})},toBufferPromise:function(){return new Promise((f,T)=>{s.toAsyncBuffer(f,T)})},toBuffer:function(f,T,h,R){return typeof f=="function"?(s.toAsyncBuffer(f,T,h,R),null):s.compressToBuffer()}}}});var e6=y((jve,ZX)=>{"use strict";var{TextDecoder:Kve}=require("util"),Hm=class{constructor(e){if(!Buffer.isBuffer(e))throw new Error("BiffReaderWriter expects a Buffer");this.buffer=e,this.pos=0,this.length=e.length,this._isSheet=!1,this._workbookId=0,this._recId=null,this._workbookName=null,this._inCellXf=!1,this._inCellStyleXf=!1,this._inNumberFormat=!1,this._parentCellStyleXf=0,this._numberFormatIndex=0,this._format=0,this._formatString=null,this._sharedStringValue=null,this._sharedStringUniqueCount=0,this._cellType=0,this._intValue=0,this._doubleVal=0,this._boolValue=!1,this._stringValue=null,this._columnNum=-1,this._xfIndex=0,this._readCell=!1,this._rowIndex=-1,this._tempBuf=Buffer.alloc(128),this._xfIndexToNumFmtId=[],this._customNumFmts=new Set}_tryReadVariableValue(){if(this.pos>=this.length)return null;let e=this.buffer[this.pos++],r=(e&127)>>>0;if((e&128)===0)return r;if(this.pos>=this.length)return null;let n=this.buffer[this.pos++];if(r=((n&127)<<7|r)>>>0,(n&128)===0)return r;if(this.pos>=this.length)return null;let i=this.buffer[this.pos++];return r=((i&127)<<14|r)>>>0,(i&128)===0?r:this.pos>=this.length?null:(r=((this.buffer[this.pos++]&127)<<21|r)>>>0,r)}_getDWord(e,r){return e.readUInt32LE(r)}_getInt32(e,r){return e.readInt32LE(r)}_getWord(e,r){return e.readUInt16LE(r)}_getString(e,r,n){let i=r,s=r+n*2;return s>e.length?"":e.toString("utf16le",i,s)}_getNullableString(e,r){let n=this._getDWord(e,r.val);if(r.val+=4,n===4294967295)return null;let i=this._getString(e,r.val,n);return r.val+=n*2,i}readWorkbook(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);if(this.pos+=r,this._isSheet=!1,e===156){this._workbookId=this._getDWord(i,4);let s={val:8};this._recId=this._getNullableString(i,s);let o=this._getDWord(i,s.val);this._workbookName=this._getString(i,s.val+4,o),this._isSheet=!0}return!0}readSharedStrings(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);if(this.pos+=r,this._sharedStringValue=null,e===19){let s=this._getDWord(i,1);this._sharedStringValue=this._getString(i,5,s)}else e===159&&(this._sharedStringUniqueCount=this._getDWord(i,4));return!0}readStyles(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);this.pos+=r;let s=617,o=618,a=626,l=627,c=615,u=616,E=47,d=44;switch(e){case s:this._inCellXf=!0;break;case o:this._inCellXf=!1;break;case a:this._inCellStyleXf=!0;break;case l:this._inCellStyleXf=!1;break;case c:this._inNumberFormat=!0;break;case u:this._inNumberFormat=!1;break;case E:this._inCellXf&&(this._parentCellStyleXf=this._getWord(i,0),this._numberFormatIndex=this._getWord(i,2),this._xfIndexToNumFmtId.push(this._numberFormatIndex));break;case d:if(this._inNumberFormat){this._format=this._getWord(i,0);let f=this._getDWord(i,2);this._formatString=this._getString(i,6,f);let T=this._formatString.toLowerCase();(T.includes("yy")||T.includes("mm")||T.includes("dd")||T.includes("h:mm"))&&this._customNumFmts.add(this._format)}break}return!0}_getRkNumber(e,r){let n=e[r],i=0;if((n&2)!==0)i=e.readInt32LE(r)>>2;else{let o=e.readInt32LE(r)&4294967292,a=Buffer.alloc(8);a.writeInt32LE(0,0),a.writeInt32LE(o,4),i=a.readDoubleLE(0)}return(n&1)!==0&&(i/=100),i}readWorksheet(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);this.pos+=r,this._readCell=!1,this._columnNum=-1;let s=0,o=1,a=2,l=3,c=4,u=5,E=6,d=7,f=8,T=9,h=10,R=11;switch(e){case s:this._rowIndex=this._getInt32(i,0);break;case o:case l:case R:this._readCell=!0,this._cellType=0;break;case a:this._doubleVal=this._getRkNumber(i,8),this._readCell=!0,this._cellType=3;break;case c:case h:this._boolValue=i[8]===1,this._readCell=!0,this._cellType=4;break;case T:case u:this._doubleVal=i.readDoubleLE(8),this._readCell=!0,this._cellType=3;break;case E:case f:{let S=this._getDWord(i,8);this._stringValue=this._getString(i,12,S),this._readCell=!0,this._cellType=5;break}case d:this._intValue=this._getDWord(i,8),this._readCell=!0,this._cellType=2;break}return this._readCell&&(this._columnNum=this._getDWord(i,0),this._xfIndex=this._getDWord(i,4)&16777215),!0}};ZX.exports=Hm});var r6=y((zve,t6)=>{"use strict";var rge=QX(),nge=Mm(),bS=e6(),Wm=class extends nge{constructor(){super(),this.zip=null,this.sharedStrings=[],this.styles=[],this.sheetNames=[],this.sheets=[],this._currentSheetIndex=-1,this._reader=null,this._currentRow=[],this._pendingRowIndex=-1,this._eof=!1}open(e,r=!0){this.zip=new rge(e);let n=this.zip.getEntry("xl/workbook.bin");if(n){let o=n.getData(),a=new bS(o);for(;a.readWorkbook();)if(a._isSheet){let l=a._workbookName,c=a._recId;this.sheetNames.push(l),this.sheets.push({name:l,rId:c,path:null})}}let i=this.zip.getEntry("xl/_rels/workbook.bin.rels");if(i){let o=i.getData().toString("utf8"),a=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,l,c={};for(;(l=a.exec(o))!==null;)c[l[1]]=l[2];for(let u of this.sheets){let E=c[u.rId];E&&(E.startsWith("/")&&(E=E.substring(1)),E.startsWith("xl/")||(E="xl/"+E),u.path=E)}}if(r){let o="xl/sharedStrings.bin";this.zip.getEntry(o)&&this._readSharedStrings(o)}let s="xl/styles.bin";this.zip.getEntry(s)&&this._readStyles(s),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1}_readSharedStrings(e){let r=this.zip.getEntry(e);if(!r)return;let n=new bS(r.getData());for(;n.readSharedStrings();)n._sharedStringValue!==null&&this.sharedStrings.push(n._sharedStringValue)}_readStyles(e){let r=this.zip.getEntry(e);if(!r)return;let n=new bS(r.getData());for(;n.readStyles(););this.xfIdToNumFmtId=n._xfIndexToNumFmtId,this.customDateFormats=n._customNumFmts}getSheetNames(){return this.sheetNames}read(){if(this._currentSheetIndex===-1&&(this._currentSheetIndex=0,!this._initSheet(0))||this._eof)return!1;for(this._currentRow=[];;){if(!this._reader.readWorksheet())return this._eof=!0,!0;if(this._reader._rowIndex!==-1&&this._reader._rowIndex!==this._pendingRowIndex){let r=this._pendingRowIndex;return this._pendingRowIndex=this._reader._rowIndex,!0}if(this._reader._readCell){let r=this._reader._columnNum,n=null;switch(this._reader._cellType){case 2:n=this.sharedStrings[this._reader._intValue];break;case 3:n=this._reader._doubleVal;let i=this._reader._xfIndex,s=0;if(this.xfIdToNumFmtId&&i<this.xfIdToNumFmtId.length&&(s=this.xfIdToNumFmtId[i]),s>=14&&s<=22||s>=45&&s<=47||this.customDateFormats&&this.customDateFormats.has(s))try{n=this.getDateTimeFromOaDate(n)}catch{}break;case 4:n=this._reader._boolValue;break;case 5:n=this._reader._stringValue;break;default:n=null}this._currentRow[r]=n,r>=this.fieldCount&&(this.fieldCount=r+1)}}}_initSheet(e){if(e>=this.sheets.length)return!1;let r=this.sheets[e],n=this.zip.getEntry(r.path);if(!n)return!1;for(this._reader=new bS(n.getData()),this._eof=!1,this._pendingRowIndex=-1;this._reader.readWorksheet();)if(this._reader._rowIndex!==-1)return this._pendingRowIndex=this._reader._rowIndex,!0;return this._eof=!0,!1}getValue(e){return e<0||e>=this._currentRow.length?null:this._currentRow[e]}};t6.exports=Wm});var i6=y((Jve,n6)=>{"use strict";var ige=pX(),sge=r6(),oge=require("path"),Ym=class{static create(e){let r=oge.extname(e).toLowerCase();if(r===".xlsx")return new ige;if(r===".xlsb")return new sge;throw new Error(`Unsupported extension: ${r}`)}};n6.exports=Ym});var s6={};cr(s6,{ColumnTypeChooser:()=>nc,NetezzaDataType:()=>Si,NetezzaImporter:()=>wS,importDataToNetezza:()=>lge});function age(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function lge(t,e,r,n,i){let s=Date.now(),o=null;try{if(!t||!Pr.existsSync(t))return{success:!1,message:`Source file not found: ${t}`};if(!e)return{success:!1,message:"Target table name is required"};if(!r)return{success:!1,message:"Connection string is required"};let l=Pr.statSync(t).size,c=Bs.extname(t).toLowerCase(),u=[".csv",".txt",".xlsx",".xlsb"];if(!u.includes(c))return{success:!1,message:`Unsupported file format: ${c}. Supported: ${u.join(", ")}`};i?.("Starting import process..."),i?.(`  Source file: ${t}`),i?.(`  Target table: ${e}`),i?.(`  File size: ${l.toLocaleString()} bytes`),i?.(`  File format: ${c}`);let E=new wS(t,e,r);await E.analyzeDataTypes(i),i?.("Using file-based import...");let d=await E.createDataFile(i),f=E.generateCreateTableSql();i?.("Generated SQL:"),i?.(f),i?.("Connecting to Netezza...");let T=age(r);T.port||(T.port=5480);let h=Vr();o=new h(T),await o.connect();try{i?.("Executing CREATE TABLE with EXTERNAL data..."),await o.createCommand(f).execute(),i?.("Import completed successfully")}finally{await o.close();try{Pr.existsSync(d)&&(Pr.unlinkSync(d),i?.("Temporary data file cleaned up"))}catch(S){i?.(`Warning: Could not clean up temp file: ${S.message}`)}}let R=(Date.now()-s)/1e3;return{success:!0,message:"Import completed successfully",details:{sourceFile:t,targetTable:e,fileSize:l,format:c,rowsProcessed:E.getRowsCount(),rowsInserted:E.getRowsCount(),processingTime:`${R.toFixed(1)}s`,columns:E.getSqlHeaders().length,detectedDelimiter:E.getCsvDelimiter()}}}catch(a){let l=(Date.now()-s)/1e3;return{success:!1,message:`Import failed: ${a.message}`,details:{processingTime:`${l.toFixed(1)}s`}}}finally{if(o&&o._connected)try{await o.close()}catch{}}}var Pr,Bs,$m,Si,nc,wS,Vm=lr(()=>{"use strict";Pr=ze(require("fs")),Bs=ze(require("path"));try{$m=i6()}catch(t){console.error("ExcelHelpers/ReaderFactory module not available",t)}Si=class{constructor(e,r,n,i){this.dbType=e;this.precision=r;this.scale=n;this.length=i}toString(){return["BIGINT","DATE","DATETIME"].includes(this.dbType)?this.dbType:this.dbType==="NUMERIC"?`${this.dbType}(${this.precision},${this.scale})`:this.dbType==="NVARCHAR"?`${this.dbType}(${this.length})`:`TODO !!! ${this.dbType}`}},nc=class{constructor(e="."){this.decimalDelimInCsv=".";this.firstTime=!0;this.currentType=new Si("BIGINT"),this.decimalDelimInCsv=e}getType(e){let r=this.currentType.dbType,n=e.length;if(r==="BIGINT"&&/^\d+$/.test(e)&&n<15)return this.firstTime=!1,new Si("BIGINT");let i=this.decimalDelimInCsv==="."?"\\.":this.decimalDelimInCsv,s=(e.match(new RegExp(`${i}`,"g"))||[]).length;if(["BIGINT","NUMERIC"].includes(r)&&s<=1){let a=e.replace(this.decimalDelimInCsv,"");if(/^\d+$/.test(a)&&n<15&&(!a.startsWith("0")||s>0||a==="0"))return this.firstTime=!1,new Si("NUMERIC",16,6)}if((r==="DATE"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=8&&n<=10){let a=e.split("-");if(a.length===3&&a.every(l=>/^\d+$/.test(l)))try{let l=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]));if(!isNaN(l.getTime()))return this.firstTime=!1,new Si("DATE")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=12&&n<=20){let a=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})[\s|T](\d{2}):(\d{2})(:?(\d{2}))?$/);if(a)try{let l=a[7]?parseInt(a[7]):0,c=new Date(parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),l);if(!isNaN(c.getTime()))return this.firstTime=!1,new Si("DATETIME")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/\./g)||[]).length>=2){let a=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(a)try{let l=parseInt(a[1]),c=parseInt(a[2])-1,u=parseInt(a[3]),E=a[4]?parseInt(a[4]):0,d=a[5]?parseInt(a[5]):0,f=a[6]?parseInt(a[6]):0;if(c>=0&&c<=11&&l>=1&&l<=31){let T=new Date(u,c,l,E,d,f);if(!isNaN(T.getTime())&&T.getFullYear()===u&&T.getMonth()===c&&T.getDate()===l)return this.firstTime=!1,new Si("DATETIME")}}catch{}}let o=Math.max(n+5,20);return this.currentType.length!==void 0&&o<this.currentType.length&&(o=this.currentType.length),this.firstTime=!1,new Si("NVARCHAR",void 0,void 0,o)}refreshCurrentType(e){return this.currentType=this.getType(e),this.currentType}},wS=class{constructor(e,r,n,i){this.delimiter="	";this.delimiterPlain="\\t";this.recordDelim=`
`;this.recordDelimPlain="\\n";this.escapechar="\\";this.csvDelimiter=",";this.excelData=[];this.isExcelFile=!1;this.sqlHeaders=[];this.dataTypes=[];this.rowsCount=0;this.valuesToEscape=[];this.filePath=e,this.targetTable=r,this.connectionString=n,this.logDir=i||Bs.join(Bs.dirname(e),"netezza_logs");let s=Bs.extname(e).toLowerCase();this.isExcelFile=[".xlsx",".xlsb"].includes(s);let o=Math.floor(Math.random()*1e3);this.pipeName=`\\\\.\\pipe\\NETEZZA_IMPORT_${o}`,this.valuesToEscape=[this.escapechar,this.recordDelim,"\r",this.delimiter],Pr.existsSync(this.logDir)||Pr.mkdirSync(this.logDir,{recursive:!0})}detectCsvDelimiter(){let r=Pr.readFileSync(this.filePath,"utf-8").split(`
`)[0]||"";r.startsWith("\uFEFF")&&(r=r.slice(1));let n=[";","	","|",","],i={};for(let o of n)i[o]=(r.match(new RegExp(o==="|"?"\\|":o,"g"))||[]).length;let s=Math.max(...Object.values(i));s>0&&(this.csvDelimiter=Object.keys(i).find(o=>i[o]===s)||",")}cleanColumnName(e){let r=String(e).trim();return r=r.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!r||/^\d/.test(r))&&(r="COL_"+r),r}parseCsvLine(e){let r=[],n="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];o==='"'?i&&e[s+1]==='"'?(n+='"',s++):i=!i:o===this.csvDelimiter&&!i?(r.push(n),n=""):n+=o}return r.push(n),r}async readExcelFile(e){if(!$m)throw new Error("ReaderFactory module not available");e?.("Reading Excel file...");let r=$m.create(this.filePath);await r.open(this.filePath);let n=[],i=o=>{if(o==null)return"";if(o instanceof Date){let a=l=>l<10?"0"+l:l;return`${o.getFullYear()}-${a(o.getMonth()+1)}-${a(o.getDate())} ${a(o.getHours())}:${a(o.getMinutes())}:${a(o.getSeconds())}`}return String(o)},s=0;for(;await r.read();){let o=[],a=r._currentRow;if(a&&Array.isArray(a))for(let l=0;l<a.length;l++)o.push(i(a[l]));n.push(o),s++,s%1e4===0&&e?.(`Processed ${s.toLocaleString()} rows...`)}return typeof r.close=="function"&&await r.close(),e?.(`Excel file loaded: ${n.length} rows`),n}async analyzeDataTypes(e){e?.("Analyzing data types...");let r;if(this.isExcelFile)this.excelData=await this.readExcelFile(e),r=this.excelData;else{this.detectCsvDelimiter();let i=Pr.readFileSync(this.filePath,"utf-8");i.startsWith("\uFEFF")&&(i=i.slice(1));let s=i.split(/\r?\n/);r=[];for(let o of s)o.trim()&&r.push(this.parseCsvLine(o))}if(!r||r.length===0)throw new Error("No data found in file");let n=[];this.sqlHeaders=r[0].map(i=>this.cleanColumnName(i||"COLUMN"));for(let i=0;i<r[0].length;i++)n.push(new nc);for(let i=1;i<r.length;i++){let s=r[i];for(let o=0;o<s.length;o++)o<n.length&&s[o]&&s[o].trim()&&n[o].refreshCurrentType(s[o].trim());i%1e4===0&&e?.(`Analyzed ${i.toLocaleString()} rows...`)}return this.rowsCount=r.length-1,e?.(`Analysis complete: ${this.rowsCount.toLocaleString()} rows`),this.dataTypes=n,n}escapeValue(e){let r=String(e).trim();for(let n of this.valuesToEscape)r=r.split(n).join(`${this.escapechar}${n}`);return r}formatValue(e,r){let n=this.escapeValue(e);return r<this.dataTypes.length&&this.dataTypes[r].currentType.dbType==="DATETIME"&&(n=n.replace("T"," ")),n}generateCreateTableSql(){let e=[];for(let n=0;n<this.sqlHeaders.length;n++){let i=this.sqlHeaders[n],s=this.dataTypes[n];e.push(`        ${i} ${s.currentType.toString()}`)}let r=this.logDir.replace(/\\/g,"/");return`CREATE TABLE ${this.targetTable} AS 
(
    SELECT * FROM EXTERNAL '${this.pipeName}'
    (
${e.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${this.delimiterPlain}'
        RecordDelim '${this.recordDelimPlain}'
        ESCAPECHAR '${this.escapechar}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${r}'
    )
) DISTRIBUTE ON RANDOM;`}async createDataFile(e){let r=Bs.join(this.logDir,`netezza_import_data_${Math.floor(Math.random()*1e3)}.txt`);e?.(`Creating temporary data file: ${r}`);try{let n;if(this.isExcelFile){if(!this.excelData||this.excelData.length===0)throw new Error("Excel data not loaded. Call analyzeDataTypes first.");n=this.excelData.slice(1)}else{let s=Pr.readFileSync(this.filePath,"utf-8");s.startsWith("\uFEFF")&&(s=s.slice(1));let o=s.split(/\r?\n/);n=[];let a=!0;for(let l of o)if(l.trim()){if(a){a=!1;continue}n.push(this.parseCsvLine(l))}}let i=[];for(let s=0;s<n.length;s++){let a=n[s].map((l,c)=>this.formatValue(l||"",c));i.push(a.join(this.delimiter)),(s+1)%1e4===0&&e?.(`Processed ${(s+1).toLocaleString()} rows...`)}return Pr.writeFileSync(r,i.join(this.recordDelim),"utf-8"),this.pipeName=r.replace(/\\/g,"/"),e?.(`Data file created: ${this.pipeName}`),r}catch(n){throw new Error(`Error creating data file: ${n.message}`)}}getRowsCount(){return this.rowsCount}getSqlHeaders(){return this.sqlHeaders}getCsvDelimiter(){return this.csvDelimiter}}});var a6={};cr(a6,{ClipboardDataProcessor:()=>DS,importClipboardDataToNetezza:()=>dge});function cge(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}function uge(t){let e=String(t).trim();return e=e.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!e||/^\d/.test(e))&&(e="COL_"+e),e}function Ege(t,e,r){let n=String(t).trim();for(let i of r)n=n.split(i).join(`${e}${i}`);return n}function fge(t,e,r,n,i){let s=Ege(t,n,i);return e<r.length&&r[e].currentType.dbType==="DATETIME"&&(s=s.replace("T"," ")),s}async function dge(t,e,r,n,i){let s=Date.now(),o=null,a=null;try{if(!t)return{success:!1,message:"Target table name is required"};if(!e)return{success:!1,message:"Connection string is required"};i?.("Starting clipboard import process..."),i?.(`  Target table: ${t}`),i?.(`  Format preference: ${r||"auto-detect"}`);let l=new DS,[c,u]=await l.processClipboardData(r,i);if(!c||!c.length)return{success:!1,message:"No data found in clipboard"};if(c.length<2)return{success:!1,message:"Clipboard data must contain at least headers and one data row"};i?.(`  Detected format: ${u}`),i?.(`  Rows: ${c.length}`),i?.(`  Columns: ${c[0].length}`);let E=c[0].map(fe=>uge(fe)),d=c.slice(1);i?.("Detecting decimal separator...");let f=".",T=0,h=0,R=d.slice(0,100);for(let fe of R)for(let Qe of fe){if(!Qe||!Qe.trim())continue;let Oe=Qe.trim();/^\d+\.\d+$/.test(Oe)&&T++,/^\d+,\d+$/.test(Oe)&&h++}h>T&&h>0&&(f=","),i?.(`Detected decimal separator: '${f}'`),i?.("Analyzing clipboard data types...");let S=E.map(()=>new nc(f));for(let fe=0;fe<d.length;fe++){let Qe=d[fe];for(let Oe=0;Oe<Qe.length;Oe++)Oe<S.length&&Qe[Oe]&&Qe[Oe].trim()&&S[Oe].refreshCurrentType(Qe[Oe].trim());(fe+1)%1e3===0&&i?.(`Analyzed ${(fe+1).toLocaleString()} rows...`)}i?.(`Analysis complete: ${d.length.toLocaleString()} data rows`);let C=km.join(require("os").tmpdir(),"netezza_clipboard_logs");ji.existsSync(C)||ji.mkdirSync(C,{recursive:!0});let A="	",p="\\t",g=`
`,D="\\n",O="\\",M=[O,g,"\r",A];o=km.join(C,`netezza_clipboard_import_${Math.floor(Math.random()*1e3)}.txt`),i?.(`Creating temporary data file: ${o}`);let w=[];for(let fe=0;fe<d.length;fe++){let Oe=d[fe].map((jt,I)=>{let v=fge(jt,I,S,O,M);if(S[I].currentType.dbType==="NUMERIC"&&f===","&&(v=v.replace(",",".")),S[I].currentType.dbType==="DATETIME"){let U=v.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(U){let X=U[1],H=U[2],K=U[3],J=U[4]||"00",q=U[5]||"00",j=U[6]||"00";v=`${K}-${H}-${X} ${J}:${q}:${j}`}}return v});w.push(Oe.join(A)),(fe+1)%1e3===0&&i?.(`Processed ${(fe+1).toLocaleString()} rows...`)}ji.writeFileSync(o,w.join(g),"utf-8");let x=o.replace(/\\/g,"/");i?.(`Data file created: ${x}`);let F=[];for(let fe=0;fe<E.length;fe++)F.push(`        ${E[fe]} ${S[fe].currentType.toString()}`);let ee=C.replace(/\\/g,"/"),Z=`CREATE TABLE ${t} AS 
(
    SELECT * FROM EXTERNAL '${x}'
    (
${F.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${p}'
        RecordDelim '${D}'
        ESCAPECHAR '${O}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${ee}'
    )
) DISTRIBUTE ON RANDOM;`;i?.("Generated SQL:"),i?.(Z),i?.("Connecting to Netezza...");let ne=cge(e);ne.port||(ne.port=5480);let se=Vr();a=new se(ne),await a.connect();try{i?.("Executing CREATE TABLE with EXTERNAL clipboard data..."),await a.createCommand(Z).execute(),i?.("Clipboard import completed successfully")}finally{await a.close()}let _e=(Date.now()-s)/1e3;return{success:!0,message:"Clipboard import completed successfully",details:{targetTable:t,format:u,rowsProcessed:d.length,rowsInserted:d.length,processingTime:`${_e.toFixed(1)}s`,columns:E.length,detectedDelimiter:A}}}catch(l){let c=(Date.now()-s)/1e3;return{success:!1,message:`Clipboard import failed: ${l.message}`,details:{processingTime:`${c.toFixed(1)}s`}}}finally{if(a&&a._connected)try{await a.close()}catch{}if(o&&ji.existsSync(o))try{ji.unlinkSync(o),i?.("Temporary clipboard data file cleaned up")}catch(l){i?.(`Warning: Could not clean up temp file: ${l.message}`)}}}var ji,km,o6,DS,l6=lr(()=>{"use strict";ji=ze(require("fs")),km=ze(require("path")),o6=ze(require("vscode"));Vm();DS=class{constructor(){this.processedData=[]}processXmlSpreadsheet(e,r){r?.("Processing XML Spreadsheet data...");let n=[],i=0,s=[],o=0,a=e.match(/ExpandedColumnCount="(\d+)"/);a&&(i=parseInt(a[1]),r?.(`Table has ${i} columns`));let l=e.match(/ExpandedRowCount="(\d+)"/);l&&r?.(`Table has ${l[1]} rows`);let c=/<Row[^>]*>([\s\S]*?)<\/Row>/gi,u;for(;(u=c.exec(e))!==null;){let E=u[1];s=new Array(i).fill("");let d=/<Cell(?:\s+[^>]*ss:Index="(\d+)")?[^>]*>[\s\S]*?<Data[^>]*>([^<]*)<\/Data>[\s\S]*?<\/Cell>|<Cell(?:\s+[^>]*ss:Index="(\d+)")?[^>]*\/>/gi,f,T=0,h=/<Cell(?:[^>]*ss:Index="(\d+)")?[^>]*>(?:[\s\S]*?<Data[^>]*(?:\s+ss:Type="([^"]*)")?[^>]*>([^<]*)<\/Data>)?[\s\S]*?<\/Cell>/gi;for(;(f=h.exec(E))!==null;){f[1]&&(T=parseInt(f[1])-1);let R=f[2]||"",S=f[3]||"";R==="Boolean"&&(S=S==="0"?"False":"True"),T<i&&(s[T]=S),T++}s.some(R=>R.trim())&&n.push([...s]),o++,o%1e4===0&&r?.(`Analyzed ${o.toLocaleString()} rows...`)}return r?.(`XML processing complete: ${n.length} rows, ${i} columns`),this.processedData=n,n}processTextData(e,r){if(r?.("Processing text data..."),!e.trim())return[];let n=e.split(`
`);for(;n.length&&!n[n.length-1].trim();)n.pop();if(!n.length)return[];let i=["	",",",";","|"],s={};for(let c of i){let u=[];for(let E of n.slice(0,Math.min(5,n.length)))if(E.trim()){let d=E.split(c);u.push(d.length)}if(u.length){let E=u.reduce((f,T)=>f+T,0)/u.length,d=u.reduce((f,T)=>f+Math.pow(T-E,2),0)/u.length;s[c]=[E,-d]}}let o="	";Object.keys(s).length&&(o=Object.keys(s).reduce((c,u)=>{let[E,d]=s[c]||[0,0],[f,T]=s[u];return f>E||f===E&&T>d?u:c},"	")),r?.(`Auto-detected delimiter: '${o==="	"?"\\t":o}'`);let a=[],l=0;for(let c of n)if(c.trim()){let u=c.split(o).map(E=>E.trim());a.push(u),l=Math.max(l,u.length)}for(let c of a)for(;c.length<l;)c.push("");return r?.(`Text processing complete: ${a.length} rows, ${l} columns`),this.processedData=a,a}async getClipboardText(){return await o6.env.clipboard.readText()}async processClipboardData(e,r){r?.("Getting clipboard data...");let n=await this.getClipboardText();if(!n)throw new Error("No data found in clipboard");r?.(`Data size: ${n.length} characters`);let i="TEXT";e==="XML Spreadsheet"||!e&&n.includes("<Workbook")&&n.includes("<Worksheet")?i="XML Spreadsheet":e==="TEXT"&&(i="TEXT"),r?.(`Detected format: ${i}`);let s;return i==="XML Spreadsheet"?s=this.processXmlSpreadsheet(n,r):s=this.processTextData(n,r),r?.(`Processed ${s.length} rows`),s.length&&r?.(`Columns per row: ${s[0].length}`),[s,i]}}});var Rge={};cr(Rge,{activate:()=>Tge,deactivate:()=>Sge});module.exports=r3(Rge);var N=ze(require("vscode"));es();tR();var Kr=ze(require("vscode")),af=class t{constructor(e,r,n){this.extensionUri=r;this.connectionManager=n;this._disposables=[];this._panel=e,this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.html=this._getHtmlForWebview(this._panel.webview),this._panel.webview.onDidReceiveMessage(async i=>{switch(i.command){case"save":try{await this.connectionManager.saveConnection(i.data),Kr.window.showInformationMessage(`Connection '${i.data.name}' saved and activated!`),this.sendConnectionsToWebview()}catch(s){Kr.window.showErrorMessage(`Error saving: ${s.message}`)}return;case"delete":try{await Kr.window.showWarningMessage(`Are you sure you want to delete '${i.name}'?`,{modal:!0},"Yes","No")==="Yes"&&(await this.connectionManager.deleteConnection(i.name),Kr.window.showInformationMessage(`Connection '${i.name}' deleted.`),this.sendConnectionsToWebview())}catch(s){Kr.window.showErrorMessage(`Error deleting: ${s.message}`)}return;case"loadConnections":this.sendConnectionsToWebview();return}},null,this._disposables)}async sendConnectionsToWebview(){let e=await this.connectionManager.getConnections(),r=this.connectionManager.getActiveConnectionName();await this._panel.webview.postMessage({command:"updateConnections",connections:e,activeName:r})}static createOrShow(e,r){let n=Kr.window.activeTextEditor?Kr.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n);return}let i=Kr.window.createWebviewPanel("netezzaLogin","Connect to Netezza",n||Kr.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getHtmlForWebview(e){let r=e.asWebviewUri(Kr.Uri.joinPath(this.extensionUri,"netezza_icon64.png"));return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Connect to Netezza</title>
            <style>
                :root {
                    --container-paddding: 20px;
                    --input-padding-vertical: 6px;
                    --input-padding-horizontal: 8px;
                    --input-margin-vertical: 4px;
                    --input-margin-horizontal: 0;
                }
                body {
                    font-family: var(--vscode-font-family);
                    padding: 0;
                    margin: 0;
                    color: var(--vscode-foreground);
                    background-color: var(--vscode-editor-background);
                    display: flex;
                    height: 100vh;
                    overflow: hidden;
                }
                
                /* Sidebar */
                .sidebar {
                    width: 260px;
                    background-color: var(--vscode-sideBar-background);
                    border-right: 1px solid var(--vscode-panel-border);
                    display: flex;
                    flex-direction: column;
                    flex-shrink: 0;
                    user-select: none;
                }
                .sidebar-header {
                    padding: 10px 15px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    background-color: var(--vscode-sideBarSectionHeader-background);
                }
                .sidebar-title {
                    font-weight: bold;
                    font-size: 11px;
                    text-transform: uppercase;
                    color: var(--vscode-sideBarTitle-foreground);
                }
                .connection-list {
                    flex: 1;
                    overflow-y: auto;
                    padding: 0;
                }
                .connection-item {
                    padding: 8px 15px;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    border-left: 3px solid transparent;
                    color: var(--vscode-sideBar-foreground);
                }
                .connection-item:hover {
                    background-color: var(--vscode-list-hoverBackground);
                }
                .connection-item.active {
                    background-color: var(--vscode-list-activeSelectionBackground);
                    color: var(--vscode-list-activeSelectionForeground);
                    border-left-color: var(--vscode-focusBorder);
                }
                .connection-item .name {
                    flex: 1;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                .connection-item .status {
                    font-size: 0.8em;
                    margin-left: 5px;
                    opacity: 0.7;
                }

                /* Main Content */
                .main {
                    flex: 1;
                    padding: 40px;
                    overflow-y: auto;
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                }
                .form-container {
                    width: 100%;
                    max-width: 500px;
                    background-color: var(--vscode-editorWidget-background);
                    border: 1px solid var(--vscode-widget-border);
                    padding: 30px;
                    border-radius: 4px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
                
                h2 {
                    margin-top: 0;
                    margin-bottom: 25px;
                    font-size: 1.4em;
                    font-weight: 500;
                    padding-bottom: 10px;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .form-group {
                    margin-bottom: 18px;
                }
                .form-row {
                    display: flex;
                    gap: 15px;
                }
                .form-col {
                    flex: 1;
                }

                label {
                    display: block;
                    margin-bottom: 6px;
                    font-weight: 600;
                    font-size: 12px;
                    color: var(--vscode-input-placeholderForeground);
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }

                input, select {
                    width: 100%;
                    padding: 8px 10px;
                    box-sizing: border-box;
                    background: var(--vscode-input-background);
                    color: var(--vscode-input-foreground);
                    border: 1px solid var(--vscode-input-border);
                    border-radius: 2px;
                    font-family: inherit;
                    font-size: 13px;
                }
                input:focus, select:focus {
                    border-color: var(--vscode-focusBorder);
                    outline: 1px solid var(--vscode-focusBorder);
                }
                
                /* Buttons */
                .actions {
                    margin-top: 30px;
                    display: flex;
                    gap: 12px;
                    padding-top: 20px;
                    border-top: 1px solid var(--vscode-panel-border);
                }
                button {
                    background: var(--vscode-button-background);
                    color: var(--vscode-button-foreground);
                    padding: 8px 16px;
                    border: none;
                    cursor: pointer;
                    border-radius: 2px;
                    font-size: 13px;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                button:hover {
                    background: var(--vscode-button-hoverBackground);
                }
                button.secondary {
                    background: var(--vscode-button-secondaryBackground);
                    color: var(--vscode-button-secondaryForeground);
                }
                button.secondary:hover {
                    background: var(--vscode-button-secondaryHoverBackground);
                }
                button.danger {
                    background: var(--vscode-errorForeground);
                    color: white;
                }
                button.icon-btn {
                    padding: 4px;
                    background: transparent;
                    color: var(--vscode-icon-foreground);
                }
                button.icon-btn:hover {
                    background: var(--vscode-toolbar-hoverBackground);
                }

                .icon-img {
                    width: 16px;
                    height: 16px;
                    object-fit: contain;
                }
                .logo-header {
                    width: 32px;
                    height: 32px;
                    margin-right: 10px;
                }

            </style>
        </head>
        <body>
            <div class="sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-title">Saved Connections</span>
                    <button class="icon-btn" id="btnNew" title="New Connection">
                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14 7v1H8v6H7V8H1V7h6V1h1v6h6z"/></svg>
                    </button>
                </div>
                <div id="connectionList" class="connection-list"></div>
            </div>
            
            <div class="main">
                <div class="form-container">
                    <h2 id="formTitle">
                        <img src="${r}" class="logo-header" />
                        New Connection
                    </h2>
                    
                    <div class="form-group">
                        <label for="name">Connection Name</label>
                        <input type="text" id="name" placeholder="Friendly name (e.g. Production)">
                    </div>

                    <div class="form-group">
                        <label for="dbType">
                            Database Type 
                            <img src="${r}" class="icon-img" />
                        </label>
                        <select id="dbType">
                            <option value="NetezzaSQL">NetezzaSQL</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="host">Host</label>
                                <input type="text" id="host" placeholder="Hostname or IP">
                            </div>
                        </div>
                        <div class="form-col" style="flex: 0 0 80px;">
                            <div class="form-group">
                                <label for="port">Port</label>
                                <input type="number" id="port" value="5480">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="database">
                            Database
                        </label>
                        <input type="text" id="database" placeholder="Database name" value="system">
                    </div>

                    <div class="form-row">
                         <div class="form-col">
                            <div class="form-group">
                                <label for="user">User</label>
                                <input type="text" id="user" placeholder="Username">
                            </div>
                         </div>
                         <div class="form-col">
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" id="password" placeholder="Password">
                            </div>
                         </div>
                    </div>
                    
                    <div class="actions">
                        <button id="btnSave" onclick="save()">Save & Connect</button>
                        <button id="btnDelete" class="danger" onclick="del()" style="display: none;">Delete</button>
                    </div>
                </div>
            </div>

            <script>
                const vscode = acquireVsCodeApi();
                let connections = [];
                let activeName = null;
                let currentEditName = null;
                const iconSrc = "${r}";

                // Load initial data
                window.addEventListener('message', event => {
                    const message = event.data;
                    switch (message.command) {
                        case 'updateConnections':
                            connections = message.connections;
                            activeName = message.activeName;
                            renderList();
                            break;
                    }
                });
                
                vscode.postMessage({ command: 'loadConnections' });

                document.getElementById('btnNew').addEventListener('click', () => {
                    clearForm();
                });

                function renderList() {
                    const list = document.getElementById('connectionList');
                    list.innerHTML = '';
                    
                    connections.forEach(conn => {
                        const div = document.createElement('div');
                        div.className = 'connection-item';
                        if (conn.name === currentEditName) {
                             div.classList.add('active');
                        }
                        
                        div.innerHTML = \`<span class="name"><img src="\${iconSrc}" class="icon-img"> \${conn.name}</span>\`;
                        if (conn.name === activeName) {
                            div.innerHTML += \`<span class="status">\u25CF</span>\`;
                            div.title = 'Active Connection';
                        }
                        
                        div.onclick = () => loadForm(conn);
                        list.appendChild(div);
                    });
                }

                function loadForm(conn) {
                    currentEditName = conn.name;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> Edit Connection\`;
                    document.getElementById('name').value = conn.name;
                    document.getElementById('dbType').value = conn.dbType || 'NetezzaSQL';
                    document.getElementById('host').value = conn.host;
                    document.getElementById('port').value = conn.port;
                    document.getElementById('database').value = conn.database;
                    document.getElementById('user').value = conn.user;
                    document.getElementById('password').value = conn.password || ''; 
                    
                    document.getElementById('btnDelete').style.display = 'block';
                    renderList();
                }

                function clearForm() {
                    currentEditName = null;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> New Connection\`;
                    document.getElementById('name').value = '';
                    document.getElementById('dbType').value = 'NetezzaSQL';
                    document.getElementById('host').value = '';
                    document.getElementById('port').value = '5480';
                    document.getElementById('database').value = 'system';
                    document.getElementById('user').value = '';
                    document.getElementById('password').value = '';
                    
                    document.getElementById('btnDelete').style.display = 'none';
                    renderList();
                }

                function save() {
                    const name = document.getElementById('name').value;
                    if (!name) {
                        return; // Add validation UI?
                    }
                    
                    const data = {
                        name: name,
                        dbType: document.getElementById('dbType').value,
                        host: document.getElementById('host').value,
                        port: parseInt(document.getElementById('port').value),
                        database: document.getElementById('database').value,
                        user: document.getElementById('user').value,
                        password: document.getElementById('password').value
                    };
                    
                    vscode.postMessage({
                        command: 'save',
                        data: data
                    });
                }

                function del() {
                    if (currentEditName) {
                        vscode.postMessage({
                            command: 'delete',
                            name: currentEditName
                        });
                    }
                }
            </script>
        </body>
        </html>`}};Sc();var Xe=ze(require("vscode"));var kr=ze(require("vscode")),cf=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(i=>{switch(i.command){case"alert":kr.window.showErrorMessage(i.text);return;case"info":kr.window.showInformationMessage(i.text);return}},null,this._disposables)}static{this.viewType="netezza.analysisPanel"}static createOrShow(e,r){let n=kr.window.activeTextEditor?kr.ViewColumn.Beside:void 0,i=kr.window.createWebviewPanel(t.viewType,"Data Analysis",n||kr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[kr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(i,e,r)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){let r=this._panel.webview;this._panel.title="Data Analysis",this._panel.webview.html=this._getHtmlForWebview(r,e)}_getHtmlForWebview(e,r){let n=kr.Uri.joinPath(this._extensionUri,"media","analysisPanel.js"),i=e.asWebviewUri(n),s=kr.Uri.joinPath(this._extensionUri,"media","analysisPanel.css"),o=e.asWebviewUri(s),a=e.asWebviewUri(kr.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),l=e.asWebviewUri(kr.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),c=j3();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}'; font-src ${e.cspSource};">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${o}" rel="stylesheet">

            <title>Data Analysis</title>
        </head>
        <body>
            <div id="app">
                <div class="sidebar">
                    <div class="section">
                        <h3>Fields</h3>
                        <div id="fieldList" class="field-list"></div>
                    </div>
                </div>
                <div class="main-content">
                    <div class="filter-section" style="margin-bottom: 15px; display: flex; gap: 10px; align-items: center;">
                        <label for="dataFilter" style="font-weight: bold;">Filter:</label>
                        <input type="text" id="dataFilter" placeholder="Type to filter data..." style="flex: 1; padding: 6px 10px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); border-radius: 4px;">
                        <button id="applyFilter" style="padding: 6px 12px; cursor: pointer;">Apply</button>
                        <button id="clearFilter" style="padding: 6px 12px; cursor: pointer;">Clear</button>
                    </div>
                    <div class="config-zones">
                        <div class="zone-container">
                            <h4>Rows</h4>
                            <div id="rowsZone" class="drop-zone" data-zone="rows"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Columns</h4>
                            <div id="colsZone" class="drop-zone" data-zone="cols"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Values</h4>
                            <div id="valuesZone" class="drop-zone" data-zone="values"></div>
                        </div>
                    </div>
                    <div class="pivot-grid-container">
                        <div id="pivotGrid"></div>
                    </div>
                    <div class="chart-container" style="margin-top: 20px;">
                        <div class="chart-header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <h4 style="margin: 0;">Chart</h4>
                            <select id="chartType" style="padding: 4px;">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                            </select>
                        </div>
                        <canvas id="pivotChart" width="600" height="300" style="background: var(--vscode-editor-background); border: 1px solid var(--vscode-panel-border); border-radius: 4px;"></canvas>
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${a}"></script>
            <script nonce="${c}" src="${l}"></script>
            <script nonce="${c}">
                // Pass initial data to the script
                window.initialData = ${JSON.stringify(r)};
                window.TableCore = TableCore;
                window.VirtualCore = VirtualCore;
            </script>
            <script nonce="${c}" src="${i}"></script>
        </body>
        </html>`}};function j3(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Rc=class{constructor(e){this._resultsMap=new Map;this._pinnedSources=new Set;this._pinnedResults=new Map;this._autoPinnedResults=new Set;this._resultIdCounter=0;this._extensionUri=e}static{this.viewType="netezza.results"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[Xe.Uri.joinPath(this._extensionUri,"media")]},e.webview.html=this._getHtmlForWebview(),e.webview.onDidReceiveMessage(i=>{switch(i.command){case"analyze":cf.createOrShow(this._extensionUri,i.data);return;case"exportCsv":this.exportCsv(i.data);return;case"openInExcel":this.openInExcel(i.data,i.sql);return;case"copyAsExcel":this.copyAsExcel(i.data,i.sql);return;case"exportJson":this.exportJson(i.data);return;case"exportXml":this.exportXml(i.data);return;case"exportSqlInsert":this.exportSqlInsert(i.data);return;case"exportMarkdown":this.exportMarkdown(i.data);return;case"switchSource":this._activeSourceUri=i.sourceUri,this._updateWebview();return;case"togglePin":this._pinnedSources.has(i.sourceUri)?this._pinnedSources.delete(i.sourceUri):this._pinnedSources.add(i.sourceUri),this._updateWebview();return;case"toggleResultPin":this._toggleResultPin(i.sourceUri,i.resultSetIndex);return;case"switchToPinnedResult":this._switchToPinnedResult(i.resultId);return;case"unpinResult":this._pinnedResults.delete(i.resultId),this._updateWebview();return;case"closeSource":this.closeSource(i.sourceUri);return;case"copyToClipboard":Xe.env.clipboard.writeText(i.text),Xe.window.showInformationMessage("Copied to clipboard");return;case"info":Xe.window.showInformationMessage(i.text);return;case"error":Xe.window.showErrorMessage(i.text);return}})}setActiveSource(e){this._resultsMap.has(e)&&this._activeSourceUri!==e&&(this._activeSourceUri=e,this._updateWebview())}startExecution(e){let r=this._resultsMap.get(e)||[],n,i=r.findIndex(E=>E.isLog);if(i!==-1){n=r[i];let E=new Date().toLocaleTimeString();n.data.push(["",""]),n.data.push([E,"--- New Execution Started ---"]),n.message="Execution started...",n.executionTimestamp=Date.now()}else n={columns:[{name:"Time",type:"string"},{name:"Message",type:"string"}],data:[],message:"Execution started...",executionTimestamp:Date.now(),isLog:!0,name:"Logs"};let s=Array.from(this._pinnedResults.entries()).filter(([E,d])=>d.sourceUri===e&&r[d.resultSetIndex]!==n).sort((E,d)=>E[1].resultSetIndex-d[1].resultSetIndex),o=[];s.forEach(([E,d])=>{d.resultSetIndex<r.length&&o.push(r[d.resultSetIndex])});let a=[n,...o];this._resultsMap.set(e,a),Array.from(this._pinnedResults.entries()).filter(([E,d])=>d.sourceUri===e).map(([E,d])=>E).forEach(E=>this._pinnedResults.delete(E));let c=`result_${++this._resultIdCounter}`,u=e.split(/[\\/]/).pop()||e;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:0,timestamp:Date.now(),label:`${u} - Logs`}),s.forEach(([E,d],f)=>{let T=`result_${++this._resultIdCounter}`;this._pinnedResults.set(T,{sourceUri:e,resultSetIndex:f+1,timestamp:Date.now(),label:`${u} - Result ${f+2}`})}),this._pinnedSources.add(e),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}log(e,r){let n=this._resultsMap.get(e);if(!n||n.length===0)return;let i=n.find(s=>s.isLog);if(i){let s=new Date().toLocaleTimeString();i.data.push([s,r]),this._updateWebview()}}finalizeExecution(e){for(let r of this._autoPinnedResults){let n=this._pinnedResults.get(r);n&&n.sourceUri===e&&this._pinnedResults.delete(r)}this._autoPinnedResults.clear()}updateResults(e,r,n=!1){this._resultsMap.has(r)||this._pinnedSources.add(r);let i=[];Array.isArray(e)?i=e:i=[e];let s=Date.now();i.forEach(f=>{f.executionTimestamp=s});let o=this._resultsMap.get(r)||[],a=o.find(f=>f.isLog),l=Array.from(this._pinnedResults.entries()).filter(([f,T])=>T.sourceUri===r).sort((f,T)=>f[1].resultSetIndex-T[1].resultSetIndex),c=[],u=new Map;a&&c.push(a),l.forEach(([f,T])=>{let h=o[T.resultSetIndex];h&&(h===a||c.includes(h)||c.push(h),u.set(f,h))});let E=c.length;c.push(...i);let d=r.split(/[\\\\/]/).pop()||r;if(i.forEach((f,T)=>{let h=`result_${++this._resultIdCounter}`,R=E+T;this._pinnedResults.set(h,{sourceUri:r,resultSetIndex:R,timestamp:Date.now(),label:f.isLog?`${d} - Logs`:`${d} - Result ${R}`}),this._autoPinnedResults.add(h)}),this._resultsMap.set(r,c),u.forEach((f,T)=>{let h=c.indexOf(f);if(h!==-1){let R=this._pinnedResults.get(T);R&&(R.resultSetIndex=h)}}),a&&!Array.from(u.values()).includes(a)){let T=`result_${++this._resultIdCounter}`,h=r.split(/[\\/]/).pop()||r;this._pinnedResults.set(T,{sourceUri:r,resultSetIndex:0,timestamp:Date.now(),label:`${h} - Logs`})}n||Array.from(this._resultsMap.keys()).filter(T=>T!==r&&!this._pinnedSources.has(T)).forEach(T=>{this._resultsMap.delete(T),Array.from(this._pinnedResults.entries()).filter(([R,S])=>S.sourceUri===T).map(([R,S])=>R).forEach(R=>this._pinnedResults.delete(R))}),this._activeSourceUri=r,this._view?(this._updateWebview(),this._view.show?.(!0)):Xe.window.showInformationMessage('Query completed. Please open "Query Results" panel to view data.')}_updateWebview(){this._view&&(this._view.webview.html=this._getHtmlForWebview())}_toggleResultPin(e,r){let n=Array.from(this._pinnedResults.entries()).find(([i,s])=>s.sourceUri===e&&s.resultSetIndex===r);if(n)this._pinnedResults.delete(n[0]);else{let i=`result_${++this._resultIdCounter}`,s=Date.now(),a=`${e.split(/[\\/]/).pop()||e} - Result ${r+1}`;this._pinnedResults.set(i,{sourceUri:e,resultSetIndex:r,timestamp:s,label:a})}this._updateWebview()}_switchToPinnedResult(e){let r=this._pinnedResults.get(e);r&&(this._activeSourceUri=r.sourceUri,this._updateWebview(),this._view&&this._view.webview.postMessage({command:"switchToResultSet",resultSetIndex:r.resultSetIndex}))}async exportCsv(e){let r=await Xe.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export"});r&&(await Xe.workspace.fs.writeFile(r,Buffer.from(e)),Xe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async openInExcel(e,r){Xe.commands.executeCommand("netezza.exportCurrentResultToXlsbAndOpen",e,r)}async copyAsExcel(e,r){Xe.commands.executeCommand("netezza.copyCurrentResultToXlsbClipboard",e,r)}async exportJson(e){let r=await Xe.window.showSaveDialog({filters:{"JSON Files":["json"]},saveLabel:"Export JSON"});r&&(await Xe.workspace.fs.writeFile(r,Buffer.from(e)),Xe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportXml(e){let r=await Xe.window.showSaveDialog({filters:{"XML Files":["xml"]},saveLabel:"Export XML"});r&&(await Xe.workspace.fs.writeFile(r,Buffer.from(e)),Xe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportSqlInsert(e){let r=await Xe.window.showSaveDialog({filters:{"SQL Files":["sql"]},saveLabel:"Export SQL"});r&&(await Xe.workspace.fs.writeFile(r,Buffer.from(e)),Xe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportMarkdown(e){let r=await Xe.window.showSaveDialog({filters:{"Markdown Files":["md"]},saveLabel:"Export Markdown"});r&&(await Xe.workspace.fs.writeFile(r,Buffer.from(e)),Xe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}closeSource(e){if(this._resultsMap.has(e)){if(this._resultsMap.delete(e),this._pinnedSources.delete(e),Array.from(this._pinnedResults.entries()).filter(([n,i])=>i.sourceUri===e).map(([n,i])=>n).forEach(n=>this._pinnedResults.delete(n)),this._activeSourceUri===e){let n=Array.from(this._resultsMap.keys());this._activeSourceUri=n.length>0?n[0]:void 0}this._updateWebview()}}_getHtmlForWebview(){if(!this._view)return"";let{scriptUri:e,virtualUri:r,mainScriptUri:n,styleUri:i,workerUri:s}=this._getScriptUris(),o=this._prepareViewData();return this._buildHtmlDocument(e,r,n,i,o,s)}_getScriptUris(){return{scriptUri:this._view.webview.asWebviewUri(Xe.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),virtualUri:this._view.webview.asWebviewUri(Xe.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),mainScriptUri:this._view.webview.asWebviewUri(Xe.Uri.joinPath(this._extensionUri,"media","resultPanel.js")),workerUri:this._view.webview.asWebviewUri(Xe.Uri.joinPath(this._extensionUri,"media","searchWorker.js")),styleUri:this._view.webview.asWebviewUri(Xe.Uri.joinPath(this._extensionUri,"media","resultPanel.css"))}}_prepareViewData(){let e=Array.from(this._resultsMap.keys()),r=Array.from(this._pinnedSources),n=Array.from(this._pinnedResults.entries()).map(([a,l])=>({id:a,...l})),i=this._activeSourceUri&&this._resultsMap.has(this._activeSourceUri)?this._activeSourceUri:e.length>0?e[0]:null,s=i?this._resultsMap.get(i):[],o=(a,l)=>typeof l=="bigint"?l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l):l.toString():l;return{sourcesJson:JSON.stringify(e),pinnedSourcesJson:JSON.stringify(r),pinnedResultsJson:JSON.stringify(n),activeSourceJson:JSON.stringify(i),resultSetsJson:JSON.stringify(s,o)}}_buildHtmlDocument(e,r,n,i,s,o){let a=this._view.webview.cspSource,l={eye:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 3c-3 0-6 2.5-6 5s3 5 6 5 6-2.5 6-5-3-5-6-5zm0 9c-2.5 0-4.5-2-4.5-4S5.5 4 8 4s4.5 2 4.5 4-2 4.5-4.5 4.5z"/><circle cx="8" cy="8" r="2"/></svg>',excel:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/></svg>',copy:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4 4h7v2H4V4zm0 4h7v2H4V8zm0 4h7v2H4v-2zM2 1h12v14H2V1zm1 1v12h10V2H3z"/></svg>',csv:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13 2H6L2 6v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-1 11H4V7h3V4h5v9z"/></svg>',json:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M5 2c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2h-2V2H7v2H5V2zm0 12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-2h-2v2H7v-2H5v2zM2 7v2h2V7H2zm10 0v2h2V7h-2z"/></svg>',xml:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M11.5 1L7 15h2l4.5-14h-2zM4.5 1L0 15h2l4.5-14h-2z"/></svg>',sql:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 0C3.6 0 0 1.8 0 4v8c0 2.2 3.6 4 8 4s8-1.8 8-4V4c0-2.2-3.6-4-8-4zm0 2c3.3 0 6 1.3 6 3s-2.7 3-6 3-6-1.3-6-3 2.7-3 6-3zm0 12c-3.3 0-6-1.3-6-3V9c1.6 1.7 4.3 2 6 2s4.4-.3 6-2v2c0 1.7-2.7 3-6 3z"/></svg>',markdown:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14.5 2H1.5C.7 2 0 2.7 0 3.5v9C0 13.3.7 14 1.5 14h13c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5zM3 11V5l2 2 2-2v6H6V7l-1 1-1-1v4H3zm10 0h-2V9h-2v2H7V5h2v2h2V5h2v6z"/></svg>',export:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/><path d="M10 12L8 14L6 12" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>',checkAll:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13.485 1.929l1.414 1.414-9.9 9.9-4.243-4.242 1.415-1.415 2.828 2.829z"/></svg>',clear:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 7.293l4.146-4.147.708.708L8.707 8l4.147 4.146-.708.708L8 8.707l-4.146 4.147-.708-.708L7.293 8 3.146 3.854l.708-.708L8 7.293z"/></svg>'};return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src ${a} 'unsafe-inline'; worker-src ${a} blob:; connect-src ${a}; style-src ${a} 'unsafe-inline';">
            <title>Query Results</title>
            <script src="${e}"></script>
            <script src="${r}"></script>
            <link rel="stylesheet" href="${i}">
        </head>
        <body>
            <div id="sourceTabs" class="source-tabs"></div>
            <div id="resultSetTabs" class="result-set-tabs" style="display: none;"></div>
            
            <div class="controls">
                <input type="text" id="globalFilter" placeholder="Filter..." onkeyup="onFilterChanged()" style="background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); padding: 4px;">
                <button onclick="toggleRowView()" title="Toggle Row View">${l.eye} Row View</button>
                
                <!-- Split Button for Export -->
                <div class="split-btn-container">
                    <button id="exportMainBtn" class="split-btn-main" onclick="executeSplitExport()" title="Export results (Excel)">
                        ${l.excel} Excel
                    </button>
                    <button id="exportArrowBtn" class="split-btn-arrow" onclick="toggleExportMenu()" title="Select export format">
                        <svg width="10" height="10" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                            <path d="M8 11L3 6h10l-5 5z"/>
                        </svg>
                    </button>
                    <div id="exportMenu" class="split-btn-menu" style="display:none;">
                        <div class="split-btn-menu-item" onclick="selectExportFormat('excel')">
                            ${l.excel} Excel (XLSB)
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('csv')">
                            ${l.csv} CSV
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('json')">
                            ${l.json} JSON
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('xml')">
                            ${l.xml} XML
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('sql')">
                            ${l.sql} SQL INSERT
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('markdown')">
                            ${l.markdown} Markdown Table
                        </div>
                    </div>
                </div>

                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="copyAsExcel()" title="Copy results as Excel to clipboard">${l.excel} Excel Copy</button>
                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="selectAll()" title="Select all rows">${l.checkAll} Select All</button>
                <button onclick="copySelection(false)" title="Copy selected cells to clipboard">${l.copy} Copy</button>
                <button onclick="copySelection(true)" title="Copy selected cells with headers">${l.copy} Copy w/ Headers</button>
                <button onclick="clearAllFilters()" title="Clear all column filters">${l.clear} Clear Filters</button>
                <span id="rowCountInfo" style="margin-left: auto; font-size: 12px; opacity: 0.8;"></span>
            </div>

            <div id="groupingPanel" class="grouping-panel" ondragover="onDragOverGroup(event)" ondragleave="onDragLeaveGroup(event)" ondrop="onDropGroup(event)">
                <span style="opacity: 0.5;">Drag headers here to group</span>
            </div>

            <div id="mainSplitView" class="main-split-view">
                <div id="gridContainer"></div>
                <div id="rowViewPanel" class="row-view-panel">
                    <div class="row-view-header">
                        <span>Row Details & Comparison</span>
                        <span class="row-view-close" onclick="toggleRowView()">\xD7</span>
                    </div>
                    <div id="rowViewContent" class="row-view-content">
                        <div class="row-view-placeholder">Select 1 or 2 rows to view details or compare</div>
                    </div>
                </div>
            </div>
            
            <script>
                const vscode = acquireVsCodeApi();
                window.sources = ${s.sourcesJson};
                window.pinnedSources = new Set(${s.pinnedSourcesJson});
                window.pinnedResults = ${s.pinnedResultsJson};
                window.activeSource = ${s.activeSourceJson};
                window.resultSets = ${s.resultSetsJson};
                
                let grids = [];
                let activeGridIndex = window.resultSets && window.resultSets.length > 0 ? window.resultSets.length - 1 : 0;
                const workerUri = "${o}";
            </script>
            <script src="${n}"></script>
            <script>
                // Initialize on load
                init();
            </script>
        </body>
        </html>`}};var We=ze(require("vscode"));es();var uf=class{constructor(e,r,n){this.context=e;this.metadataCache=r;this.connectionManager=n}async provideCompletionItems(e,r,n,i){let s=e.getText(),o=this.stripComments(s),a=this.parseLocalDefinitions(o),l=e.lineAt(r).text.substr(0,r.character),c=l.toUpperCase(),u=r.line>0?e.lineAt(r.line-1).text:"",E=u.toUpperCase(),d=this.connectionManager.getConnectionForExecution(e.uri.toString());if(d||(d=this.connectionManager.getActiveConnectionName()||void 0),d&&!this.metadataCache.hasConnectionPrefetchTriggered(d)&&this.metadataCache.triggerConnectionPrefetch(d,A=>ue(this.context,A,!0,d,this.connectionManager)),/(FROM|JOIN)\s+$/.test(c)){let A=await this.getDatabases(d);return[...a.map(g=>{let D=new We.CompletionItem(g.name,We.CompletionItemKind.Class);return D.detail=g.type,D}),...A]}if(/(?:FROM|JOIN)\s*$/i.test(u)&&/^\s*[a-zA-Z0-9_]*$/.test(l)){let A=await this.getDatabases(d);return[...a.map(g=>{let D=new We.CompletionItem(g.name,We.CompletionItemKind.Class);return D.detail=g.type,D}),...A]}let f=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\s*$/i);if(f){let A=f[1],p=await this.getSchemas(d,A);return new We.CompletionList(p,!1)}let T=l.match(/^\s*([a-zA-Z0-9_]+)\.\s*$/i);if(T&&/(?:FROM|JOIN)\s*$/i.test(u)){let A=T[1],p=await this.getSchemas(d,A);return new We.CompletionList(p,!1)}let h=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.$/i);if(h){let A=h[1],p=h[2];return this.getTables(d,A,p)}let R=l.match(/^\s*([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.\s*$/i);if(R&&/(?:FROM|JOIN)\s*$/i.test(u)){let A=R[1],p=R[2];return this.getTables(d,A,p)}let S=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\.$/i);if(S){let A=S[1];return this.getTables(d,A,void 0)}let C=l.match(/^\s*([a-zA-Z0-9_]+)\.\.\s*$/i);if(C&&/(?:FROM|JOIN)\s*$/i.test(u)){let A=C[1];return this.getTables(d,A,void 0)}if(l.trim().endsWith(".")){let A=l.trim().split(/[\s.]+/),p=l.match(/([a-zA-Z0-9_]+)\.$/);if(p){let g=p[1],D=this.findAlias(o,g);if(D){let M=a.find(w=>w.name.toUpperCase()===D.table.toUpperCase());return M?M.columns.map(w=>{let x=new We.CompletionItem(w,We.CompletionItemKind.Field);return x.detail="Local Column",x}):this.getColumns(d,D.db,D.schema,D.table)}let O=a.find(M=>M.name.toUpperCase()===g.toUpperCase());if(O)return O.columns.map(M=>{let w=new We.CompletionItem(M,We.CompletionItemKind.Field);return w.detail="Local Column",w})}}return this.getKeywords()}stripComments(e){let r=e.replace(/--.*$/gm,"");return r=r.replace(/\/\*[\s\S]*?\*\//g,""),r}parseLocalDefinitions(e){let r=[],n=/CREATE\s+TABLE\s+([a-zA-Z0-9_]+)\s+AS\s*\(/gi,i;for(;(i=n.exec(e))!==null;){let a=i[1],l=i.index+i[0].length,c=this.extractBalancedParenthesisContent(e,l);if(c){let u=this.extractColumnsFromQuery(c);r.push({name:a,type:"Temp Table",columns:u})}}let s=/\bWITH\s+/gi;for(;(i=s.exec(e))!==null;){let a=i.index+i[0].length;for(;;){let l=/^\s*([a-zA-Z0-9_]+)\s+AS\s*\(/i,c=e.substring(a),u=c.match(l);if(!u)break;let E=u[1],d=a+u[0].length,f=c.indexOf("(",u.index+u[1].length),T=a+f,h=this.extractBalancedParenthesisContent(e,T+1);if(h){let R=this.extractColumnsFromQuery(h);r.push({name:E,type:"CTE",columns:R}),a=T+1+h.length+1;let S=/^\s*,/,C=e.substring(a);if(S.test(C)){let A=C.match(S);a+=A[0].length}else break}else break}}let o=/\bJOIN\s+\(/gi;for(;(i=o.exec(e))!==null;){let a=i.index+i[0].length,l=this.extractBalancedParenthesisContent(e,a);if(l&&/^\s*SELECT\b/i.test(l)){let c=a+l.length+1,E=e.substring(c).match(/^\s+(?:AS\s+)?([a-zA-Z0-9_]+)/i);if(E){let d=E[1],f=this.extractColumnsFromQuery(l);r.push({name:d,type:"Subquery",columns:f})}}}return r}extractBalancedParenthesisContent(e,r){let n=1,i=r;for(;i<e.length;i++)if(e[i]==="("?n++:e[i]===")"&&n--,n===0)return e.substring(r,i);return null}extractColumnsFromQuery(e){let r=e.match(/^\s*SELECT\s+/i);if(!r)return[];let n="",i=0,s=-1,o=r[0].length;for(let c=o;c<e.length;c++)if(e[c]==="("?i++:e[c]===")"&&i--,i===0&&e.substr(c).match(/^\s+FROM\b/i)){s=c;break}s!==-1?n=e.substring(o,s):n=e.substring(o);let a=[],l="";i=0;for(let c=0;c<n.length;c++){let u=n[c];u==="("?i++:u===")"&&i--,u===","&&i===0?(a.push(l.trim()),l=""):l+=u}return l.trim()&&a.push(l.trim()),a.map(c=>{let u=c.match(/\s+AS\s+([a-zA-Z0-9_]+)$/i);if(u)return u[1];let E=c.match(/\s+([a-zA-Z0-9_]+)$/i);if(E)return E[1];let d=c.split(".");return d[d.length-1]})}getKeywords(){return["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","DROP","TABLE","VIEW","DATABASE","JOIN","INNER","LEFT","RIGHT","OUTER","ON","AND","OR","NOT","NULL","IS","IN","BETWEEN","LIKE","AS","DISTINCT","CASE","WHEN","THEN","ELSE","END","WITH","UNION","ALL"].map(r=>{let n=new We.CompletionItem(r,We.CompletionItemKind.Keyword);return n.detail="SQL Keyword",n})}async getDatabases(e){if(!e)return[];let r=this.metadataCache.getDatabases(e);if(r)return r.map(n=>{if(n instanceof We.CompletionItem)return n;let i=new We.CompletionItem(n.label,n.kind);return i.detail=n.detail,i});try{let i=await ue(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e,this.connectionManager);if(!i)return[];let o=JSON.parse(i).map(a=>{let l=new We.CompletionItem(a.DATABASE,We.CompletionItemKind.Module);return l.detail="Database",l});return this.metadataCache.setDatabases(e,o),o}catch(n){return console.error(n),[]}}async getSchemas(e,r){if(!e)return[];let n=this.metadataCache.getSchemas(e,r);if(n)return n.map(s=>{if(s instanceof We.CompletionItem)return s;let o=new We.CompletionItem(s.label,s.kind);return o.detail=s.detail,o.insertText=s.insertText,o.sortText=s.sortText,o.filterText=s.filterText,o});let i=We.window.setStatusBarMessage(`Fetching schemas for ${r}...`);try{let s=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,o=await ue(this.context,s,!0,e,this.connectionManager);if(!o)return[];let l=JSON.parse(o).filter(c=>c.SCHEMA!=null&&c.SCHEMA!=="").map(c=>{let u=c.SCHEMA,E=new We.CompletionItem(u,We.CompletionItemKind.Folder);return E.detail=`Schema in ${r}`,E.insertText=u,E.sortText=u,E.filterText=u,E});return this.metadataCache.setSchemas(e,r,l),l}catch(s){return console.error("[SqlCompletion] Error in getSchemas:",s),[]}finally{i.dispose()}}async getTables(e,r,n){if(!e)return[];let i=n?`${r}.${n}`:`${r}..`,s=n?this.metadataCache.getTables(e,i):this.metadataCache.getTables(e,i)||this.metadataCache.getTablesAllSchemas(e,r);if(s)return s.map(l=>{if(l instanceof We.CompletionItem)return l;let c=new We.CompletionItem(l.label,l.kind);return c.detail=l.detail,c.sortText=l.sortText,c});let o=n?`Fetching tables for ${r}.${n}...`:`Fetching tables for ${r}...`,a=We.window.setStatusBarMessage(o);try{let l="";n?l=`SELECT OBJNAME, OBJID FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND UPPER(SCHEMA) = UPPER('${n}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`:l=`SELECT OBJNAME, OBJID, SCHEMA FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`;let c=await ue(this.context,l,!0,e,this.connectionManager);if(!c)return[];let u=JSON.parse(c),E=new Map,d=u.map(f=>{let T=new We.CompletionItem(f.OBJNAME,We.CompletionItemKind.Class);return T.detail=n?"Table":`Table (${f.SCHEMA})`,T.sortText=f.OBJNAME,n?E.set(`${r}.${n}.${f.OBJNAME}`,f.OBJID):f.SCHEMA&&E.set(`${r}.${f.SCHEMA}.${f.OBJNAME}`,f.OBJID),T});return this.metadataCache.setTables(e,i,d,E),d}catch(l){return console.error(l),[]}finally{a.dispose()}}async getColumns(e,r,n,i){if(!e)return[];let s,o=r?`${r}..`:"",a=n&&r?`${r}.${n}.${i}`:r?`${r}..${i}`:void 0;a&&(s=this.metadataCache.findTableId(e,a));let l=`${r||"CURRENT"}.${n||""}.${i}`,c=this.metadataCache.getColumns(e,l);if(c)return c.map(E=>{if(E instanceof We.CompletionItem)return E;let d=new We.CompletionItem(E.label,E.kind);return d.detail=E.detail,d});let u=We.window.setStatusBarMessage(`Fetching columns for ${i}...`);try{let E="";if(s)E=`SELECT ATTNAME, FORMAT_TYPE FROM ${o}_V_RELATION_COLUMN WHERE OBJID = ${s} ORDER BY ATTNUM`;else{let h=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",R=r?`AND UPPER(O.DBNAME) = UPPER('${r}')`:"";E=`
                    SELECT C.ATTNAME, C.FORMAT_TYPE 
                    FROM ${o}_V_RELATION_COLUMN C
                    JOIN ${o}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) = UPPER('${i}') ${h} ${R}
                    ORDER BY C.ATTNUM
                `}let d=await ue(this.context,E,!0,e,this.connectionManager);if(!d)return[];let T=JSON.parse(d).map(h=>{let R=new We.CompletionItem(h.ATTNAME,We.CompletionItemKind.Field);return R.detail=h.FORMAT_TYPE,R});if(this.metadataCache.setColumns(e,l,T),r){let h=this.context,R=this.metadataCache;setTimeout(async()=>{try{await R.prefetchColumnsForSchema(e,r,n,S=>ue(h,S,!0,e,this.connectionManager))}catch(S){console.error("[SqlCompletion] Background column prefetch error:",S)}},100)}return T}catch(E){return console.error(E),[]}finally{u.dispose()}}findAlias(e,r){let n=new RegExp(`([a-zA-Z0-9_\\.]+) (?:AS\\s+)?${r}\\b`,"gi"),i=new Set(["SELECT","WHERE","GROUP","ORDER","HAVING","LIMIT","ON","AND","OR","NOT","CASE","WHEN","THEN","ELSE","END","JOIN","LEFT","RIGHT","INNER","OUTER","CROSS","FULL","UNION","EXCEPT","INTERSECT","FROM","UPDATE","DELETE","INSERT","INTO","VALUES","SET"]),s;for(;(s=n.exec(e))!==null;){let o=s[1];if(i.has(o.toUpperCase()))continue;let a=o.split(".");return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{table:a[1],schema:a[0]}:{table:a[0]}}return null}};var qs=ze(require("vscode"));es();function z3(t){let e="",r=0;for(;r<t.length;){if(t[r]==="-"&&r+1<t.length&&t[r+1]==="-"){for(;r<t.length&&t[r]!==`
`;)r++;r<t.length&&(e+=" ",r++);continue}if(t[r]==="/"&&r+1<t.length&&t[r+1]==="*"){for(r+=2;r<t.length-1&&!(t[r]==="*"&&t[r+1]==="/");)r++;r<t.length-1&&(r+=2),e+=" ";continue}if(t[r]==="'"){for(r++;r<t.length;)if(t[r]==="'"&&r+1<t.length&&t[r+1]==="'")r+=2;else if(t[r]==="'"){r++;break}else r++;e+=" ";continue}e+=t[r],r++}return e}function nR(t,e){return z3(t).toUpperCase().includes(e.toUpperCase())}var Ac=class{constructor(e,r,n,i){this._extensionUri=e;this.context=r;this.metadataCache=n;this.connectionManager=i;this.currentSearchId=0}static{this.viewType="netezza.search"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"search":await this.search(i.value);break;case"searchSource":await this.searchSourceCode(i.value);break;case"navigate":qs.commands.executeCommand("netezza.revealInSchema",i);break}})}async search(e){if(!e||e.length<2)return;let r,n=qs.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=qs.window.setStatusBarMessage(`$(loading~spin) Searching for "${e}"...`),o=new Set;if(this._view){let u=this.metadataCache.search(e,r);if(u.length>0){let E=[];u.forEach(d=>{let f=`${d.name.toUpperCase().trim()}|${d.type.toUpperCase().trim()}|${(d.parent||"").toUpperCase().trim()}`;o.has(f)||(o.add(f),E.push({NAME:d.name,SCHEMA:d.schema,DATABASE:d.database,TYPE:d.type,PARENT:d.parent||"",DESCRIPTION:"Result from Cache",MATCH_TYPE:"NAME",connectionName:r}))}),E.sort((d,f)=>{let T=h=>h==="COLUMN"?2:1;return T(f.TYPE)-T(d.TYPE)?T(d.TYPE)-T(f.TYPE):d.NAME.localeCompare(f.NAME)}),E.length>0&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:E,append:!1})}else i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});this.metadataCache.hasAllObjectsPrefetchTriggered(r)||this.metadataCache.prefetchAllObjects(r,async E=>ue(this.context,E,!0,r,this.connectionManager))}let l=`%${e.replace(/'/g,"''").toUpperCase()}%`,c=`
            SELECT * FROM (
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(OBJNAME) LIKE '${l}'
                UNION ALL
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'DESC' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(DESCRIPTION) LIKE '${l}' AND UPPER(OBJNAME) NOT LIKE '${l}'
                UNION ALL
                SELECT 2 AS PRIORITY, C.ATTNAME AS NAME, O.SCHEMA, O.DBNAME AS DATABASE, 'COLUMN' AS TYPE, O.OBJNAME AS PARENT,
                       COALESCE(C.DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_RELATION_COLUMN C
                JOIN _V_OBJECT_DATA O ON C.OBJID = O.OBJID
                WHERE UPPER(C.ATTNAME) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, V.VIEWNAME AS NAME, V.SCHEMA, V.DATABASE, 'VIEW' AS TYPE, '' AS PARENT, 
                       'Found in view definition' AS DESCRIPTION, 'DEFINITION' AS MATCH_TYPE
                FROM _V_VIEW V
                WHERE UPPER(V.DEFINITION) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, P.PROCEDURE AS NAME, P.SCHEMA, P.DATABASE, 'PROCEDURE' AS TYPE, '' AS PARENT, 
                       'Found in procedure source' AS DESCRIPTION, 'SOURCE' AS MATCH_TYPE
                FROM _V_PROCEDURE P
                WHERE UPPER(P.PROCEDURESOURCE) LIKE '${l}'
                UNION ALL
                SELECT 3 AS PRIORITY, E1.TABLENAME AS NAME, E1.SCHEMA, E1.DATABASE, 'EXTERNAL TABLE' AS TYPE, '' AS PARENT,
                       COALESCE(E2.EXTOBJNAME, '') AS DESCRIPTION, 'DATAOBJECT' AS MATCH_TYPE
                FROM _V_EXTERNAL E1
                JOIN _V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE AND E1.SCHEMA = E2.SCHEMA AND E1.TABLENAME = E2.TABLENAME
                WHERE UPPER(E2.EXTOBJNAME) LIKE '${l}'
            ) AS R
            ORDER BY PRIORITY, NAME
            LIMIT 100
        `;try{let u=await ue(this.context,c,!0,r,this.connectionManager);if(i!==this.currentSearchId){s.dispose();return}if(u){let E=[];u==="Query executed successfully (no results)."||u.startsWith("Query executed successfully")?E=[]:E=JSON.parse(u);let d=[];E.forEach(f=>{let T=`${f.NAME.toUpperCase().trim()}|${f.TYPE.toUpperCase().trim()}|${(f.PARENT||"").toUpperCase().trim()}`;o.has(T)||(d.push({NAME:f.NAME,SCHEMA:f.SCHEMA,DATABASE:f.DATABASE,TYPE:f.TYPE,PARENT:f.PARENT,DESCRIPTION:f.DESCRIPTION,MATCH_TYPE:f.MATCH_TYPE,connectionName:r}),o.add(T))}),d.length>0&&this._view&&this._view.webview.postMessage({type:"results",data:d,append:!0})}}catch(u){console.error("Search error:",u),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:u.message})}finally{s.dispose()}}async searchSourceCode(e){if(!e||e.length<2)return;let r,n=qs.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=qs.window.setStatusBarMessage(`$(loading~spin) Searching in source code for "${e}"...`);try{this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});let o=e.toUpperCase(),a=[],l=`
                SELECT VIEWNAME AS NAME, SCHEMA, DATABASE, DEFINITION AS SOURCE
                FROM _V_VIEW
            `;try{let u=await ue(this.context,l,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let E=JSON.parse(u);for(let d of E)d.SOURCE&&nR(d.SOURCE,o)&&a.push({NAME:d.NAME,SCHEMA:d.SCHEMA,DATABASE:d.DATABASE,TYPE:"VIEW",PARENT:"",DESCRIPTION:"Found in view source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching views:",u)}let c=`
                SELECT PROCEDURE AS NAME, SCHEMA, DATABASE, PROCEDURESOURCE AS SOURCE
                FROM _V_PROCEDURE
            `;try{let u=await ue(this.context,c,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let E=JSON.parse(u);for(let d of E)d.SOURCE&&nR(d.SOURCE,o)&&a.push({NAME:d.NAME,SCHEMA:d.SCHEMA,DATABASE:d.DATABASE,TYPE:"PROCEDURE",PARENT:"",DESCRIPTION:"Found in procedure source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching procedures:",u)}this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:a,append:!1})}catch(o){console.error("Source code search error:",o),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:o.message})}finally{s.dispose()}}_getHtmlForWebview(e){return`<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Schema Search</title>
        <style>
            body { 
                font-family: var(--vscode-font-family); 
                padding: 0; 
                margin: 0;
                color: var(--vscode-foreground); 
                display: flex;
                flex-direction: column;
                height: 100vh;
                overflow: hidden;
            }
            .search-box { 
                display: flex; 
                gap: 5px; 
                padding: 10px;
                flex-shrink: 0;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            input { flex-grow: 1; padding: 5px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); }
            button {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: 6px;
                background-color: var(--vscode-button-secondaryBackground);
                color: var(--vscode-button-secondaryForeground);
                border: 1px solid var(--vscode-contrastBorder, transparent);
                padding: 4px 10px;
                cursor: pointer;
                border-radius: 2px;
                font-family: var(--vscode-font-family);
                font-size: 12px;
                line-height: 18px;
            }
            button:hover { background-color: var(--vscode-button-secondaryHoverBackground); }
            button.primary { background-color: var(--vscode-button-background); color: var(--vscode-button-foreground); }
            button.primary:hover { background-color: var(--vscode-button-hoverBackground); }
            #status { padding: 5px 10px; flex-shrink: 0; }
            .results { 
                list-style: none; 
                padding: 0; 
                margin: 0; 
                flex-grow: 1; 
                overflow-y: auto; 
            }
            .result-item { padding: 8px 10px; border-bottom: 1px solid var(--vscode-panel-border); display: flex; flex-direction: column; cursor: pointer; position: relative; }
            .result-item:hover { background: var(--vscode-list-hoverBackground); }
            .item-header { display: flex; justify-content: space-between; font-weight: bold; }
            .item-details { font-size: 0.9em; opacity: 0.8; display: flex; gap: 10px; }
            .type-badge { font-size: 0.8em; background: var(--vscode-badge-background); color: var(--vscode-badge-foreground); padding: 2px 5px; border-radius: 3px; }
            .tooltip { position: absolute; background: var(--vscode-editorHoverWidget-background); color: var(--vscode-editorHoverWidget-foreground); border: 1px solid var(--vscode-editorHoverWidget-border); padding: 8px; border-radius: 4px; font-size: 0.9em; max-width: 300px; word-wrap: break-word; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.2s, visibility 0.2s; pointer-events: none; }
            .result-item:hover .tooltip { opacity: 1; visibility: visible; }
            .tooltip.top { bottom: 100%; left: 0; margin-bottom: 5px; }
            .tooltip.bottom { top: 100%; left: 0; margin-top: 5px; }
            .cache-badge { background-color: var(--vscode-charts-green); color: white; padding: 1px 4px; border-radius: 2px; font-size: 0.7em; margin-left: 5px; }
            .spinner {
                border: 2px solid transparent;
                border-top: 2px solid var(--vscode-progressBar-background);
                border-radius: 50%;
                width: 14px;
                height: 14px;
                animation: spin 1s linear infinite;
                display: inline-block;
                vertical-align: middle;
                margin-right: 8px;
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            .options-row {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 5px 10px;
                font-size: 12px;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            .options-row label {
                display: flex;
                align-items: center;
                gap: 4px;
                cursor: pointer;
            }
            .options-row input[type="checkbox"] {
                margin: 0;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search tables, columns, view definitions, procedure source..." />
            <button id="searchBtn" class="primary">Search</button>
        </div>
        <div class="options-row">
            <label>
                <input type="checkbox" id="sourceOnlyCheck" />
                Source Code Only (exclude comments/strings)
            </label>
        </div>
        <div id="status"></div>
        <ul class="results" id="resultsList"></ul>

        <script>
            try {
            const vscode = acquireVsCodeApi();
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const sourceOnlyCheck = document.getElementById('sourceOnlyCheck');
            const resultsList = document.getElementById('resultsList');
            const status = document.getElementById('status');

            searchBtn.addEventListener('click', () => {
                const term = searchInput.value;
                if (term) {
                    status.innerHTML = '<span class="spinner"></span> Searching...';
                    const messageType = sourceOnlyCheck.checked ? 'searchSource' : 'search';
                    vscode.postMessage({ type: messageType, value: term });
                }
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchBtn.click();
                }
            });

            window.addEventListener('message', event => {
                const message = event.data;
                switch (message.type) {
                    case 'results':
                        status.textContent = '';
                        renderResults(message.data, message.append);
                        break;
                    case 'error':
                        status.textContent = 'Error: ' + message.message;
                        break;
                }
            });

            function renderResults(data, append) {
                if (!append) {
                    resultsList.innerHTML = '';
                }

                if (!data || data.length === 0) {
                    if (!append && resultsList.children.length === 0) {
                        status.textContent = 'No results found.';
                    }
                    return;
                }

                data.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'result-item';

                    const parentInfo = item.PARENT ? \`Parent: \${item.PARENT}\` : '';
                    const schemaInfo = item.SCHEMA ? \`Schema: \${item.SCHEMA}\` : '';
                    const databaseInfo = item.DATABASE ? \`Database: \${item.DATABASE}\` : '';
                    const description = item.DESCRIPTION && item.DESCRIPTION.trim() ? item.DESCRIPTION : '';
                    
                    // Add match type indicator
                    const matchTypeInfo = item.MATCH_TYPE === 'DEFINITION' ? 'Match in view definition' :
                                        item.MATCH_TYPE === 'SOURCE' ? 'Match in procedure source' :
                                        item.MATCH_TYPE === 'NAME' ? 'Match in name' : '';
                    
                    li.innerHTML = \`
                        <div class="item-header">
                            <span>\${item.NAME}</span>
                            <span class="type-badge">\${item.TYPE}</span>
                        </div>
                        <div class="item-details">
                            <span>\${databaseInfo}</span>
                            <span>\${schemaInfo}</span>
                            <span>\${parentInfo}</span>
                            \${matchTypeInfo ? \`<span style="font-style: italic; color: var(--vscode-descriptionForeground);">\${matchTypeInfo}</span>\` : ''}
                        </div>
                        \${description ? \`<div class="tooltip bottom">\${description}</div>\` : ''}
                    \`;
                    
                    // Add double-click handler to navigate to schema tree
                    li.addEventListener('dblclick', () => {
                        vscode.postMessage({ 
                            type: 'navigate', 
                            name: item.NAME,
                            schema: item.SCHEMA,
                            database: item.DATABASE,
                            objType: item.TYPE,
                            parent: item.PARENT,
                            connectionName: item.connectionName // Pass back connection name
                        });
                    });
                    
                    resultsList.appendChild(li);
                });
            }
            } catch (e) {
                document.body.innerHTML = '<pre style="color:red;">Error loading Schema Search: ' + e.message + '\\n' + e.stack + '</pre>';
            }
        </script>
    </body>
    </html>`}};Ef();var Ta=ze(require("vscode"));Ef();var ff=class{provideDocumentLinks(e,r){let n=[],i=e.getText(),s=/[a-zA-Z0-9_"]+(\.[a-zA-Z0-9_"]*)+/g,o;for(;(o=s.exec(i))!==null;){let a=e.positionAt(o.index),l=e.positionAt(o.index+o[0].length),c=new Ta.Range(a,l),u=In.getObjectAtPosition(i,o.index+Math.floor(o[0].length/2));if(u){if(o[0].split(".").length===2&&!u.database&&this.isLikelyAliasReference(i,o.index))continue;let f={name:u.name,schema:u.schema,database:u.database},T=Ta.Uri.parse(`command:netezza.revealInSchema?${encodeURIComponent(JSON.stringify(f))}`),h=new Ta.DocumentLink(c,T);h.tooltip=`Reveal ${u.name} in Schema`,n.push(h)}}return n}isLikelyAliasReference(e,r){let i=e.substring(Math.max(0,r-200),r).replace(/--[^\n]*/g,"").replace(/\/\*[\s\S]*?\*\//g,"").toUpperCase();return/(?:FROM|JOIN)\s+[a-zA-Z0-9_"]*$/i.test(i)?!1:!!i.match(/\b(SELECT|WHERE|ON|HAVING|ORDER\s+BY|GROUP\s+BY|AND|OR|SET|VALUES)\b(?!.*\b(?:FROM|JOIN)\b)/)}};var hf=ze(require("vscode")),df=class{provideFoldingRanges(e,r,n){let i=[],s=[],o=/^\s*--\s*REGION\b/i,a=/^\s*--\s*ENDREGION\b/i;for(let l=0;l<e.lineCount;l++){let u=e.lineAt(l).text;if(o.test(u))s.push(l);else if(a.test(u)&&s.length>0){let E=s.pop();i.push(new hf.FoldingRange(E,l,hf.FoldingRangeKind.Region))}}return i}};var Zt=ze(require("vscode"));of();var pc=class{constructor(e,r){this._extensionUri=e;this._context=r}static{this.viewType="netezza.queryHistory"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),this.sendHistoryToWebview(),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"refresh":this.refresh();break;case"clearAll":await this.clearAllHistory();break;case"deleteEntry":await this.deleteEntry(i.id,i.query);break;case"copyQuery":await Zt.env.clipboard.writeText(i.query),Zt.window.showInformationMessage("Query copied to clipboard");break;case"executeQuery":await this.executeQuery(i.query);break;case"getHistory":await this.sendHistoryToWebview();break;case"toggleFavorite":await this.toggleFavorite(i.id);break;case"updateEntry":await this.updateEntry(i.id,i.tags,i.description);break;case"requestEdit":await this.requestEdit(i.id);break;case"requestTagFilter":await this.requestTagFilter(i.tags);break;case"showFavoritesOnly":await this.sendFavoritesToWebview();break;case"filterByTag":await this.sendFilteredByTagToWebview(i.tag);break}})}refresh(){this._view&&this.sendHistoryToWebview()}async sendHistoryToWebview(){if(!this._view)return;let e=new Mr(this._context),r=await e.getHistory(),n=await e.getStats();console.log("QueryHistoryView: sending history to webview, entries=",r.length),this._view.webview.postMessage({type:"historyData",history:r,stats:n})}async clearAllHistory(){await Zt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await new Mr(this._context).clearHistory(),this.refresh(),Zt.window.showInformationMessage("Query history cleared"))}async deleteEntry(e,r){let n=r?`: ${r.substring(0,50)}${r.length>50?"...":""}`:"";await Zt.window.showWarningMessage(`Are you sure you want to delete this query${n}?`,{modal:!0},"Delete")==="Delete"&&(await new Mr(this._context).deleteEntry(e),this.refresh())}async executeQuery(e){let r=await Zt.workspace.openTextDocument({content:e,language:"sql"});await Zt.window.showTextDocument(r)}async toggleFavorite(e){await new Mr(this._context).toggleFavorite(e),this.refresh()}async updateEntry(e,r,n){await new Mr(this._context).updateEntry(e,r,n),this.refresh(),Zt.window.showInformationMessage("Entry updated successfully")}async requestEdit(e){let i=(await new Mr(this._context).getHistory()).find(a=>a.id===e);if(!i){Zt.window.showErrorMessage("Entry not found");return}let s=await Zt.window.showInputBox({prompt:"Enter tags (comma separated)",value:i.tags||"",placeHolder:"tag1, tag2, tag3"});if(s===void 0)return;let o=await Zt.window.showInputBox({prompt:"Enter description",value:i.description||"",placeHolder:"Description for this query"});o!==void 0&&await this.updateEntry(e,s,o)}async requestTagFilter(e){if(e.length===1)await this.sendFilteredByTagToWebview(e[0]);else if(e.length>1){let r=await Zt.window.showQuickPick(e,{placeHolder:"Filter by which tag?"});r&&await this.sendFilteredByTagToWebview(r)}}async sendFavoritesToWebview(){if(!this._view)return;let e=new Mr(this._context),r=await e.getFavorites(),n=await e.getStats();this._view.webview.postMessage({type:"historyData",history:r,stats:n,filter:"favorites"})}async sendFilteredByTagToWebview(e){if(!this._view)return;let r=new Mr(this._context),n=await r.getByTag(e),i=await r.getStats();this._view.webview.postMessage({type:"historyData",history:n,stats:i,filter:`tag: ${e}`})}_getHtmlForWebview(e){let r=J3(),n=e.asWebviewUri(Zt.Uri.joinPath(this._extensionUri,"media","queryHistory.css")),i=e.asWebviewUri(Zt.Uri.joinPath(this._extensionUri,"media","queryHistory.js"));return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src ${e.cspSource};">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Query History</title>
    <link href="${n}" rel="stylesheet">
</head>
<body>
    <div class="toolbar">
        <div class="toolbar-top">
            <input type="search" id="searchInput" placeholder="Search queries..." />
            <span class="stats" id="stats">Loading...</span>
        </div>
        <div class="toolbar-buttons">
            <button class="secondary" id="showAllBtn">\u{1F4DC} All</button>
            <button class="secondary" id="showFavoritesBtn">\u2B50 Favorites</button>
            <button class="secondary" id="refreshBtn">\u21BB Refresh</button>
            <button class="secondary" id="clearAllBtn">\u{1F5D1}\uFE0F Clear All</button>
        </div>
    </div>
    <div class="history-container" id="historyContainer">
        <div class="empty-state">
            <div class="empty-state-icon">\u{1F4DC}</div>
            <div>No query history yet</div>
        </div>
    </div>

    <script src="${i}"></script>
</body>
</html>`}};function J3(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var gt=ze(require("vscode"));es();var Tf=class t{static{this.viewType="netezza.editData"}static async createOrShow(e,r,n,i){if(!r||!r.label||!r.dbName||!r.schema){gt.window.showErrorMessage("Invalid table selection");return}let s=r.label,o=r.schema,a=r.dbName,l=`${a}.${o}.${s}`,c=gt.window.createWebviewPanel(t.viewType,`Edit: ${s}`,gt.ViewColumn.One,{enableScripts:!0,localResourceRoots:[gt.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});c.webview.html=this._getHtmlForWebview(c.webview,e,l),this._loadData(c,a,o,s,r.connectionName,n,i),c.webview.onDidReceiveMessage(async u=>{try{switch(u.command){case"save":await this._handleSave(c,u.changes,l,r.connectionName,n,i),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"refresh":this._loadData(c,a,o,s,r.connectionName,n,i);break;case"updateTableComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON TABLE ${l} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Table comment updated");break;case"updateColumnComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON COLUMN ${l}.${u.column} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Column comment updated");break;case"addColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} ADD COLUMN ${u.name} ${u.type}`,`Column ${u.name} added`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"dropColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} DROP COLUMN ${u.column}`,`Column ${u.column} dropped`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"error":gt.window.showErrorMessage(u.text);break;case"info":gt.window.showInformationMessage(u.text);break}}catch(E){gt.window.showErrorMessage(`Error: ${E.message}`)}})}static async _execSimpleCommand(e,r,n,i,s,o=!1){try{await ue(e,i,!0,n,r),gt.window.showInformationMessage(s)}catch(a){gt.window.showErrorMessage(`Operation failed: ${a.message}`)}}static async _loadData(e,r,n,i,s,o,a){let l=`${r}.${n}.${i}`;try{e.webview.postMessage({command:"setLoading",loading:!0,message:"Fetching data..."});let c=`
                SELECT description FROM ${r}.._v_object_data WHERE objtype='TABLE' AND objname='${i}' AND schema='${n}';
            `,u=`
                SELECT 
                    X.ATTNAME
                    , X.FORMAT_TYPE
                    , CASE WHEN X.ATTNOTNULL THEN 1 ELSE 0 END AS IS_NOT_NULL
                    , X.COLDEFAULT
                    , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
                    , MAX(CASE WHEN K.CONTYPE = 'p' THEN 1 ELSE 0 END) AS IS_PK
                    , MAX(CASE WHEN K.CONTYPE = 'f' THEN 1 ELSE 0 END) AS IS_FK
                FROM
                    ${r}.._V_RELATION_COLUMN X
                INNER JOIN
                    ${r}.._V_OBJECT_DATA O ON X.OBJID = O.OBJID
                LEFT JOIN
                    ${r}.._V_RELATION_KEYDATA K 
                    ON UPPER(K.RELATION) = UPPER(O.OBJNAME) 
                    AND UPPER(K.SCHEMA) = UPPER(O.SCHEMA)
                    AND UPPER(K.ATTNAME) = UPPER(X.ATTNAME)
                    AND K.CONTYPE IN ('p', 'f')
                WHERE
                    UPPER(O.OBJNAME) = UPPER('${i}')
                    AND UPPER(O.DBNAME) = UPPER('${r}')
                    AND UPPER(O.SCHEMA) = UPPER('${n}')
                GROUP BY 
                    X.ATTNAME, X.FORMAT_TYPE, X.ATTNOTNULL, X.COLDEFAULT, X.DESCRIPTION, X.ATTNUM
                ORDER BY 
                    X.ATTNUM
            `,[E,d,f]=await Promise.all([ue(o,`SELECT ROWID, * FROM ${l} LIMIT 50000`,!0,s,a),ue(o,c,!0,s,a),ue(o,u,!0,s,a)]),T="";try{let C=JSON.parse(d||"[]");C.length>0&&(T=C[0].DESCRIPTION)}catch{}let h=[];try{h=JSON.parse(f||"[]")}catch{}let R=[];try{let C=E||"[]";console.log("[EditDataProvider] dataResult type:",typeof C,"length:",typeof C=="string"?C.length:"N/A"),console.log("[EditDataProvider] dataResult preview:",typeof C=="string"?C.substring(0,200):"array"),typeof C=="string"?C.trim().startsWith("[")?R=JSON.parse(C):(console.log("[EditDataProvider] dataResult is NOT JSON array:",C.substring(0,100)),R=[]):Array.isArray(C)&&(R=C),console.log("[EditDataProvider] Parsed data rows:",R.length)}catch(C){console.error("[EditDataProvider] Data Parse Error",C)}let S=[];h.length>0?S=["ROWID",...h.map(C=>C.ATTNAME)]:R.length>0&&(S=Object.keys(R[0])),console.log("[EditDataProvider] Sending to webview:",{dataRows:R.length,columns:S.length}),e.webview.postMessage({command:"setData",data:R,columns:S,metadata:{tableComment:T,columns:h}})}catch(c){gt.window.showErrorMessage(`Failed to load data: ${c.message}`),e.webview.postMessage({command:"setError",text:c.message})}finally{e.webview.postMessage({command:"setLoading",loading:!1})}}static async _handleSave(e,r,n,i,s,o){let a=[];if(r.deletes&&r.deletes.length>0){let l=r.deletes.join(",");a.push(`DELETE FROM ${n} WHERE ROWID IN (${l})`)}if(r.updates&&r.updates.length>0)for(let l of r.updates){let c=[];for(let[u,E]of Object.entries(l.changes))u!=="ROWID"&&c.push(`${u} = ${this._formatValue(E)}`);c.length>0&&a.push(`UPDATE ${n} SET ${c.join(", ")} WHERE ROWID = ${l.rowId}`)}if(r.inserts&&r.inserts.length>0)for(let l of r.inserts){let c=Object.keys(l).filter(E=>E!=="ROWID");if(c.length===0)continue;let u=c.map(E=>this._formatValue(l[E]));a.push(`INSERT INTO ${n} (${c.join(", ")}) VALUES (${u.join(", ")})`)}if(a.length===0){gt.window.showInformationMessage("No changes to save.");return}try{let l=["BEGIN",...a,"COMMIT"];await hc(s,l,o),gt.window.showInformationMessage(`Successfully executed ${a.length} changes.`)}catch(l){gt.window.showErrorMessage(`Failed to save changes: ${l.message}`)}}static _formatValue(e){return e==null||e===""?"NULL":typeof e=="number"?e.toString():typeof e=="boolean"?e?"TRUE":"FALSE":`'${String(e).replace(/'/g,"''")}'`}static _getHtmlForWebview(e,r,n){let i=e.asWebviewUri(gt.Uri.joinPath(r,"media","tanstack-table-core.js")),s=e.asWebviewUri(gt.Uri.joinPath(r,"media","tanstack-virtual-core.js")),o=e.asWebviewUri(gt.Uri.joinPath(r,"media","editDataPanel.js")),a=e.asWebviewUri(gt.Uri.joinPath(r,"media","editDataPanel.css")),l=e.asWebviewUri(gt.Uri.joinPath(r,"media","codicon.css")),c=e.asWebviewUri(gt.Uri.joinPath(r,"media","codicon.ttf")),u=Q3();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; font-src ${e.cspSource}; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${u}';">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${a}" rel="stylesheet">
            <style>
                @font-face {
                    font-family: 'codicon';
                    src: url('${c}') format('truetype');
                }
                .codicon { font-family: 'codicon'; }
            </style>
            <script nonce="${u}" src="${i}"></script>
            <script nonce="${u}" src="${s}"></script>
            <title>Edit Data: ${n}</title>
        </head>
        <body>
            <div class="main-layout">
                <!-- Tabs Header -->
                <div class="tabs-header">
                    <div class="tab active" data-target="tab-data">
                        Data
                    </div>
                    <div class="tab" data-target="tab-metadata">
                        Table Description
                    </div>
                </div>

                <!-- Tab: Data -->
                <div id="tab-data" class="tab-content active">
                    <div class="toolbar">
                        <span id="status" class="status"></span>
                        <div class="actions">
                            <button id="refreshBtn">Refresh</button>
                            <button id="addRowBtn">Add Row</button>
                            <button id="saveBtn" class="primary">Save Changes</button>
                        </div>
                    </div>
                    <div id="gridContainer" class="grid-container"></div>
                </div>

                <!-- Tab: Metadata -->
                <div id="tab-metadata" class="tab-content">
                    <div id="metadataContent" class="metadata-content">
                        <!-- Populated by JS -->
                        Loading metadata...
                    </div>
                </div>
            </div>
            
            <script nonce="${u}" src="${o}"></script>
        </body>
        </html>`}};function Q3(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Rf=ze(require("vscode")),Sf=class{constructor(e){this.context=e;this.dbCache=new Map;this.schemaCache=new Map;this.tableCache=new Map;this.columnCache=new Map;this.tableIdMap=new Map;this.typeGroupCache=new Map;this.CACHE_TTL=14400*1e3;this.savePending=!1;this.columnPrefetchInProgress=new Set;this.allObjectsPrefetchTriggeredSet=new Set;this.connectionPrefetchTriggered=new Set;this.connectionPrefetchInProgress=new Set;if(this.context.storageUri){this.cacheFilePath=Rf.Uri.joinPath(this.context.storageUri,"schema-cache.json").fsPath;try{this.ensureStorageDir()}catch(r){console.error("[MetadataCache] Error creating storage directory:",r)}}}async ensureStorageDir(){if(this.context.storageUri)try{await Rf.workspace.fs.createDirectory(this.context.storageUri)}catch{}}async initialize(){try{let e=["sqlCompletion.dbCache","sqlCompletion.schemaCache","sqlCompletion.tableCache","sqlCompletion.columnCache","sqlCompletion.tableIdMap"];for(let r of e)this.context.workspaceState.get(r)!==void 0&&await this.context.workspaceState.update(r,void 0)}catch(e){console.error("[MetadataCache] Error cleaning up legacy workspace state:",e)}if(this.cacheFilePath)try{let e=require("fs");if(e.existsSync(this.cacheFilePath)){let r=await e.promises.readFile(this.cacheFilePath,"utf-8"),n=JSON.parse(r),i=Date.now();if(n.dbCache)for(let[s,o]of Object.entries(n.dbCache))i-o.timestamp<this.CACHE_TTL&&this.dbCache.set(s,o);if(n.schemaCache)for(let[s,o]of Object.entries(n.schemaCache))i-o.timestamp<this.CACHE_TTL&&this.schemaCache.set(s,o);if(n.tableCache)for(let[s,o]of Object.entries(n.tableCache))i-o.timestamp<this.CACHE_TTL&&this.tableCache.set(s,o);if(n.tableIdMap)for(let[s,o]of Object.entries(n.tableIdMap))(this.tableCache.has(s)||i-o.timestamp<this.CACHE_TTL)&&this.tableIdMap.set(s,{data:new Map(Object.entries(o.data)),timestamp:o.timestamp})}}catch(e){console.error("[MetadataCache] Error loading cache from disk:",e)}}scheduleSave(e){this.savePending||(this.savePending=!0,this.saveTimeoutId=setTimeout(()=>this.flushSave(),2e3))}async flushSave(){if(this.savePending=!1,!!this.cacheFilePath)try{let e=require("fs"),r=s=>{let o={};return s.forEach((a,l)=>{o[l]=a}),o},n=s=>{let o={};return s.forEach((a,l)=>{let c={};a.data.forEach((u,E)=>{c[E]=u}),o[l]={data:c,timestamp:a.timestamp}}),o},i={dbCache:r(this.dbCache),schemaCache:r(this.schemaCache),tableCache:r(this.tableCache),tableIdMap:n(this.tableIdMap)};await e.promises.writeFile(this.cacheFilePath,JSON.stringify(i),"utf-8")}catch(e){console.error("[MetadataCache] Error saving cache to disk:",e)}}async clearCache(){if(this.saveTimeoutId&&(clearTimeout(this.saveTimeoutId),this.saveTimeoutId=void 0),this.savePending=!1,this.dbCache.clear(),this.schemaCache.clear(),this.tableCache.clear(),this.columnCache.clear(),this.tableIdMap.clear(),this.typeGroupCache.clear(),this.cacheFilePath)try{let e=require("fs");e.existsSync(this.cacheFilePath)&&await e.promises.unlink(this.cacheFilePath)}catch(e){console.error("[MetadataCache] Error clearing cache file:",e)}}getDatabases(e){return this.dbCache.get(e)?.data}setDatabases(e,r){this.dbCache.set(e,{data:r,timestamp:Date.now()}),this.scheduleSave("db")}getSchemas(e,r){let n=`${e}|${r}`;return this.schemaCache.get(n)?.data}setSchemas(e,r,n){let i=`${e}|${r}`;this.schemaCache.set(i,{data:n,timestamp:Date.now()}),this.scheduleSave("schema")}getTables(e,r){let n=`${e}|${r}`;return this.tableCache.get(n)?.data}getTablesAllSchemas(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n))for(let l of a.data){let c=typeof l.label=="string"?l.label:l.label?.label;c&&!s.has(c.toUpperCase())&&(s.add(c.toUpperCase()),i.push(l))}return i.length>0?i:void 0}setTables(e,r,n,i){let s=Date.now(),o=`${e}|${r}`;this.tableCache.set(o,{data:n,timestamp:s}),this.tableIdMap.set(o,{data:i,timestamp:s}),this.scheduleSave("table")}getObjectsWithSchema(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n)||o===`${e}|${r}..`){let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),E=(u.length>1?u[1]:"")||"",d=this.tableIdMap.get(o);for(let f of a.data){let T=typeof f.label=="string"?f.label:f.label?.label,h=`${E}.${T}`;if(T&&!s.has(h)){s.add(h);let R;if(d){let S=E?`${r}.${E}.${T}`:`${r}..${T}`;R=d.data.get(S)}i.push({item:f,schema:E,objId:R})}}}return i}getColumns(e,r){let n=`${e}|${r}`;return this.columnCache.get(n)?.data}setColumns(e,r,n){let i=`${e}|${r}`;this.columnCache.set(i,{data:n,timestamp:Date.now()}),this.scheduleSave("column")}findTableId(e,r){let n=`${e}|`;for(let[i,s]of this.tableIdMap)if(i.startsWith(n)){let o=s.data.get(r);if(o!==void 0)return o}}getTypeGroups(e,r){let n=`${e}|${r}`;return this.typeGroupCache.get(n)?.data}setTypeGroups(e,r,n){let i=`${e}|${r}`;this.typeGroupCache.set(i,{data:n,timestamp:Date.now()})}findObjectWithType(e,r,n,i){let s=`${e}|`,o=i.toUpperCase();for(let[a,l]of this.tableCache){if(!a.startsWith(s))continue;let c=a.split("|");if(c.length<2)continue;let E=c[1].split("."),d=E[0],f=E.length>1?E[1]:void 0;if(d.toUpperCase()===r.toUpperCase()&&!(n!==void 0&&n!==""&&f?.toUpperCase()!==n.toUpperCase()))for(let T of l.data){let h=typeof T.label=="string"?T.label:T.label?.label;if(h?.toUpperCase()===o){let R=T.objType||(T.kind===18?"VIEW":"TABLE"),S=f?`${d}.${f}.${h}`:`${d}..${h}`,C=a,p=this.tableIdMap.get(C)?.data.get(S);if(p!==void 0)return{objId:p,objType:R,schema:f||"",name:h||i}}}}}search(e,r){let n=[],i=e.toLowerCase(),s=o=>r?o.startsWith(`${r}|`):!0;for(let[o,a]of this.tableCache){if(!s(o))continue;let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),E=u[0],d=u.length>1?u[1]:void 0;for(let f of a.data){let T=typeof f.label=="string"?f.label:f.label.label;if(T&&T.toLowerCase().includes(i)){let h=f.objType||(f.kind===18?"VIEW":"TABLE");n.push({name:T,type:h,database:E,schema:d||(f.detail&&f.detail.includes("(")?f.detail.match(/\((.*?)\)/)?.[1]:void 0)})}}}for(let[o,a]of this.columnCache){if(!s(o))continue;let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),E=u[0],d=u[1],f=u[2];for(let T of a.data){let h=typeof T.label=="string"?T.label:T.label.label;h&&h.toLowerCase().includes(i)&&n.push({name:h,type:"COLUMN",database:E,schema:d,parent:f})}}return n}async prefetchColumnsForSchema(e,r,n,i){let s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;if(this.columnPrefetchInProgress.has(o))return;let a=this.getTables(e,s);if(!(!a||a.length===0)){this.columnPrefetchInProgress.add(o);try{let l=[];for(let u of a){let E=typeof u.label=="string"?u.label:u.label?.label;if(!E)continue;let d=`${r}.${n||""}.${E}`;this.getColumns(e,d)||l.push(E)}if(l.length===0)return;let c=10;for(let u=0;u<l.length;u+=c){let d=l.slice(u,u+c).map(R=>`'${R}'`).join(","),f=`${r}..`,T=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",h=`
                    SELECT O.OBJNAME AS TABLENAME, C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                    FROM ${f}_V_RELATION_COLUMN C
                    JOIN ${f}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) IN (${d.toUpperCase()}) 
                    ${T}
                    AND UPPER(O.DBNAME) = UPPER('${r}')
                    ORDER BY O.OBJNAME, C.ATTNUM
                `;try{let R=await i(h);if(R){let S=JSON.parse(R),C=new Map;for(let A of S){let p=A.TABLENAME;C.has(p)||C.set(p,[]),C.get(p).push({label:A.ATTNAME,kind:5,detail:A.FORMAT_TYPE})}for(let[A,p]of C){let g=`${r}.${n||""}.${A}`;this.setColumns(e,g,p)}}}catch(R){console.error("[MetadataCache] Error fetching batch columns:",R)}}}finally{this.columnPrefetchInProgress.delete(o)}}}async prefetchAllObjects(e,r){let n=`ALL_OBJECTS|${e}`;if(!this.allObjectsPrefetchTriggeredSet.has(n)){this.allObjectsPrefetchTriggeredSet.add(n),console.log(`[MetadataCache] Starting background prefetch of all objects for search (Connection: ${e})`);try{let s=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME 
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE = 'TABLE' 
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!s)return;let o=JSON.parse(s),a=new Map;for(let l of o){let c=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}`:`${l.DBNAME}..`;a.has(c)||a.set(c,{tables:[],idMap:new Map});let u=a.get(c);u.tables.push({label:l.OBJNAME,kind:7,detail:l.SCHEMA?"Table":`Table (${l.SCHEMA})`,sortText:l.OBJNAME});let E=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}.${l.OBJNAME}`:`${l.DBNAME}..${l.OBJNAME}`;u.idMap.set(E,l.OBJID)}for(let[l,c]of a)this.setTables(e,l,c.tables,c.idMap);console.log(`[MetadataCache] Prefetched tables for ${a.size} schema(s) on ${e}`)}catch(i){console.error("[MetadataCache] Error in prefetchAllObjects:",i)}}}invalidateSchema(e,r,n){let i=`${e}|`,s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;this.tableCache.has(o)&&(this.tableCache.delete(o),this.tableIdMap.delete(o),this.scheduleSave("table"),console.log(`[MetadataCache] Invalidated cache for ${o}`))}hasAllObjectsPrefetchTriggered(e){return this.allObjectsPrefetchTriggeredSet.has(`ALL_OBJECTS|${e}`)}hasConnectionPrefetchTriggered(e){return this.connectionPrefetchTriggered.has(e)}triggerConnectionPrefetch(e,r){this.connectionPrefetchTriggered.has(e)||this.connectionPrefetchInProgress.has(e)||(this.connectionPrefetchInProgress.add(e),console.log(`[MetadataCache] Starting eager prefetch for connection: ${e}`),this.executeConnectionPrefetch(e,r).catch(n=>console.error("[MetadataCache] Connection prefetch error:",n)).finally(()=>{this.connectionPrefetchInProgress.delete(e),this.connectionPrefetchTriggered.add(e),console.log(`[MetadataCache] Completed eager prefetch for connection: ${e}`)}))}async executeConnectionPrefetch(e,r){let n=await this.prefetchDatabases(e,r);if(!(!n||n.length===0)){for(let i of n)await this.prefetchSchemasForDb(e,i,r),await new Promise(s=>setTimeout(s,50));await this.prefetchAllTablesAndViews(e,r),await this.prefetchAllColumnsForConnection(e,r)}}async prefetchDatabases(e,r){if(this.getDatabases(e))return this.getDatabases(e)?.map(i=>typeof i.label=="string"?i.label:i.label?.label).filter(Boolean)||[];try{let i=await r("SELECT DATABASE FROM system.._v_database ORDER BY DATABASE");if(!i)return[];let s=JSON.parse(i),o=s.map(a=>({label:a.DATABASE,kind:9,detail:"Database"}));return this.setDatabases(e,o),s.map(a=>a.DATABASE)}catch(n){return console.error("[MetadataCache] prefetchDatabases error:",n),[]}}async prefetchSchemasForDb(e,r,n){if(!this.getSchemas(e,r))try{let i=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,s=await n(i);if(!s)return;let a=JSON.parse(s).filter(l=>l.SCHEMA!=null&&l.SCHEMA!=="").map(l=>({label:l.SCHEMA,kind:19,detail:`Schema in ${r}`,insertText:l.SCHEMA,sortText:l.SCHEMA,filterText:l.SCHEMA}));this.setSchemas(e,r,a)}catch(i){console.error(`[MetadataCache] prefetchSchemasForDb error for ${r}:`,i)}}async prefetchAllTablesAndViews(e,r){try{let i=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!i)return;let s=JSON.parse(i),o=new Map;for(let a of s){let l=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}`:`${a.DBNAME}..`;o.has(l)||o.set(l,{tables:[],idMap:new Map});let c=o.get(l),u=7;a.OBJTYPE==="VIEW"&&(u=18),a.OBJTYPE==="EXTERNAL TABLE"&&(u=6),c.tables.push({label:a.OBJNAME,kind:a.OBJTYPE==="VIEW"?18:7,detail:a.SCHEMA?a.OBJTYPE:`${a.OBJTYPE} (${a.SCHEMA})`,sortText:a.OBJNAME,objType:a.OBJTYPE});let E=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}.${a.OBJNAME}`:`${a.DBNAME}..${a.OBJNAME}`;c.idMap.set(E,a.OBJID)}for(let[a,l]of o)this.getTables(e,a)||this.setTables(e,a,l.tables,l.idMap);console.log(`[MetadataCache] Prefetched tables/views for ${o.size} schema(s)`)}catch(n){console.error("[MetadataCache] prefetchAllTablesAndViews error:",n)}}async prefetchAllColumnsForConnection(e,r){try{let n=`${e}|`,i=[];for(let[a,l]of this.tableCache){if(!a.startsWith(n))continue;let c=a.split("|");if(c.length<2)continue;let E=c[1].split("."),d=E[0],f=E.length>1?E[1]:"";for(let T of l.data){let h=typeof T.label=="string"?T.label:T.label.label;h&&i.push({schema:f,name:h,db:d})}}if(i.length===0)return;let s=50,o=0;for(let a=0;a<i.length;a+=s){let l=i.slice(a,a+s),c=new Map;for(let u of l)c.has(u.db)||c.set(u.db,[]),c.get(u.db).push(u);for(let[u,E]of c){let d=E.map(T=>`(UPPER(O.SCHEMA) = UPPER('${T.schema}') AND UPPER(O.OBJNAME) = UPPER('${T.name}'))`).join(" OR "),f=`
                        SELECT O.OBJNAME AS TABLENAME, O.SCHEMA, O.DBNAME, 
                               C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                        FROM ${u}.._V_RELATION_COLUMN C
                        JOIN ${u}.._V_OBJECT_DATA O ON C.OBJID = O.OBJID
                        WHERE O.DBNAME = '${u}' 
                        AND (${d})
                        ORDER BY O.SCHEMA, O.OBJNAME, C.ATTNUM
                    `;try{let T=await r(f);if(T){let h=JSON.parse(T),R=new Map;for(let S of h){let C=`${S.DBNAME}.${S.SCHEMA||""}.${S.TABLENAME}`;R.has(C)||R.set(C,[]),R.get(C).push({label:S.ATTNAME,kind:5,detail:S.FORMAT_TYPE})}for(let[S,C]of R)this.getColumns(e,S)||(this.setColumns(e,S,C),o++)}}catch(T){console.error(`[MetadataCache] Error fetching batch columns for DB ${u}:`,T)}}await new Promise(u=>setTimeout(u,10))}console.log(`[MetadataCache] Prefetched columns for ${o} tables/views (Batched)`)}catch(n){console.error("[MetadataCache] prefetchAllColumnsForConnection error:",n)}}};var mR={};cr(mR,{bigquery:()=>T0,db2:()=>_0,db2i:()=>m0,duckdb:()=>w0,hive:()=>v0,mariadb:()=>H0,mysql:()=>k0,n1ql:()=>ty,plsql:()=>oy,postgresql:()=>Ey,redshift:()=>Sy,singlestoredb:()=>qy,snowflake:()=>Jy,spark:()=>Iy,sql:()=>Dy,sqlite:()=>gy,tidb:()=>z0,transactsql:()=>Wy,trino:()=>Uy});var B=t=>t.flatMap(Z3),Z3=t=>Af(tK(t)).map(eK),eK=t=>t.replace(/ +/g," ").trim(),tK=t=>({type:"mandatory_block",items:iR(t,0)[0]}),iR=(t,e,r)=>{let n=[];for(;t[e];){let[i,s]=rK(t,e);if(n.push(i),e=s,t[e]==="|")e++;else if(t[e]==="}"||t[e]==="]"){if(r!==t[e])throw new Error(`Unbalanced parenthesis in: ${t}`);return e++,[n,e]}else if(e===t.length){if(r)throw new Error(`Unbalanced parenthesis in: ${t}`);return[n,e]}else throw new Error(`Unexpected "${t[e]}"`)}return[n,e]},rK=(t,e)=>{let r=[];for(;;){let[n,i]=nK(t,e);if(n)r.push(n),e=i;else break}return r.length===1?[r[0],e]:[{type:"concatenation",items:r},e]},nK=(t,e)=>{if(t[e]==="{")return iK(t,e+1);if(t[e]==="[")return sK(t,e+1);{let r="";for(;t[e]&&/[A-Za-z0-9_ ]/.test(t[e]);)r+=t[e],e++;return[r,e]}},iK=(t,e)=>{let[r,n]=iR(t,e,"}");return[{type:"mandatory_block",items:r},n]},sK=(t,e)=>{let[r,n]=iR(t,e,"]");return[{type:"optional_block",items:r},n]},Af=t=>{if(typeof t=="string")return[t];if(t.type==="concatenation")return t.items.map(Af).reduce(oK,[""]);if(t.type==="mandatory_block")return t.items.flatMap(Af);if(t.type==="optional_block")return["",...t.items.flatMap(Af)];throw new Error(`Unknown node type: ${t}`)},oK=(t,e)=>{let r=[];for(let n of t)for(let i of e)r.push(n+i);return r};var k;(function(t){t.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",t.IDENTIFIER="IDENTIFIER",t.STRING="STRING",t.VARIABLE="VARIABLE",t.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",t.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",t.RESERVED_KEYWORD="RESERVED_KEYWORD",t.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",t.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",t.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",t.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",t.RESERVED_CLAUSE="RESERVED_CLAUSE",t.RESERVED_SELECT="RESERVED_SELECT",t.RESERVED_JOIN="RESERVED_JOIN",t.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",t.ARRAY_KEYWORD="ARRAY_KEYWORD",t.CASE="CASE",t.END="END",t.WHEN="WHEN",t.ELSE="ELSE",t.THEN="THEN",t.LIMIT="LIMIT",t.BETWEEN="BETWEEN",t.AND="AND",t.OR="OR",t.XOR="XOR",t.OPERATOR="OPERATOR",t.COMMA="COMMA",t.ASTERISK="ASTERISK",t.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",t.OPEN_PAREN="OPEN_PAREN",t.CLOSE_PAREN="CLOSE_PAREN",t.LINE_COMMENT="LINE_COMMENT",t.BLOCK_COMMENT="BLOCK_COMMENT",t.DISABLE_COMMENT="DISABLE_COMMENT",t.NUMBER="NUMBER",t.NAMED_PARAMETER="NAMED_PARAMETER",t.QUOTED_PARAMETER="QUOTED_PARAMETER",t.NUMBERED_PARAMETER="NUMBERED_PARAMETER",t.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",t.CUSTOM_PARAMETER="CUSTOM_PARAMETER",t.DELIMITER="DELIMITER",t.EOF="EOF"})(k=k||(k={}));var sR=t=>({type:k.EOF,raw:"\xABEOF\xBB",text:"\xABEOF\xBB",start:t}),Un=sR(1/0),Sa=t=>e=>e.type===t.type&&e.text===t.text,Nn={ARRAY:Sa({text:"ARRAY",type:k.RESERVED_DATA_TYPE}),BY:Sa({text:"BY",type:k.RESERVED_KEYWORD}),SET:Sa({text:"SET",type:k.RESERVED_CLAUSE}),STRUCT:Sa({text:"STRUCT",type:k.RESERVED_DATA_TYPE}),WINDOW:Sa({text:"WINDOW",type:k.RESERVED_CLAUSE}),VALUES:Sa({text:"VALUES",type:k.RESERVED_CLAUSE})},pf=t=>t===k.RESERVED_DATA_TYPE||t===k.RESERVED_KEYWORD||t===k.RESERVED_FUNCTION_NAME||t===k.RESERVED_KEYWORD_PHRASE||t===k.RESERVED_DATA_TYPE_PHRASE||t===k.RESERVED_CLAUSE||t===k.RESERVED_SELECT||t===k.RESERVED_SET_OPERATION||t===k.RESERVED_JOIN||t===k.ARRAY_KEYWORD||t===k.CASE||t===k.END||t===k.WHEN||t===k.ELSE||t===k.THEN||t===k.LIMIT||t===k.BETWEEN||t===k.AND||t===k.OR||t===k.XOR,c0=t=>t===k.AND||t===k.OR||t===k.XOR;var u0=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"];var E0=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],f0=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"];var aK=B(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),lK=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),d0=B(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),oR=B(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),cK=B(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),uK=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),EK=B(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),fK=B([]),T0={name:"bigquery",tokenizerOptions:{reservedSelect:aK,reservedClauses:[...lK,...oR,...d0],reservedSetOperations:cK,reservedJoins:uK,reservedKeywordPhrases:EK,reservedDataTypePhrases:fK,reservedKeywords:E0,reservedDataTypes:f0,reservedFunctionNames:u0,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:dK},formatOptions:{onelineClauses:[...d0,...oR],tabularOnelineClauses:oR}};function dK(t){return hK(TK(t))}function hK(t){let e=Un;return t.map(r=>r.text==="OFFSET"&&e.text==="["?(e=r,Object.assign(Object.assign({},r),{type:k.RESERVED_FUNCTION_NAME})):(e=r,r))}function TK(t){var e;let r=[];for(let n=0;n<t.length;n++){let i=t[n];if((Nn.ARRAY(i)||Nn.STRUCT(i))&&((e=t[n+1])===null||e===void 0?void 0:e.text)==="<"){let s=SK(t,n+1),o=t.slice(n,s+1);r.push({type:k.IDENTIFIER,raw:o.map(h0("raw")).join(""),text:o.map(h0("text")).join(""),start:i.start}),n=s}else r.push(i)}return r}var h0=t=>e=>e.type===k.IDENTIFIER||e.type===k.COMMA?e[t]+" ":e[t];function SK(t,e){let r=0;for(let n=e;n<t.length;n++){let i=t[n];if(i.text==="<"?r++:i.text===">"?r--:i.text===">>"&&(r-=2),r===0)return n}return t.length-1}var S0=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"];var R0=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],A0=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"];var RK=B(["SELECT [ALL | DISTINCT]"]),AK=B(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),p0=B(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),aR=B(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),pK=B(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),_K=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),IK=B(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),NK=B([]),_0={name:"db2",tokenizerOptions:{reservedSelect:RK,reservedClauses:[...AK,...p0,...aR],reservedSetOperations:pK,reservedJoins:_K,reservedKeywordPhrases:IK,reservedDataTypePhrases:NK,reservedKeywords:R0,reservedDataTypes:A0,reservedFunctionNames:S0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","\xAC=","\xAC>","\xAC<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...p0,...aR],tabularOnelineClauses:aR}};var I0=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"];var N0=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],O0=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"];var OK=B(["SELECT [ALL | DISTINCT]"]),CK=B(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),C0=B(["CREATE [OR REPLACE] TABLE"]),lR=B(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),mK=B(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),gK=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),yK=B(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),LK=B([]),m0={name:"db2i",tokenizerOptions:{reservedSelect:OK,reservedClauses:[...CK,...C0,...lR],reservedSetOperations:mK,reservedJoins:gK,reservedKeywordPhrases:yK,reservedDataTypePhrases:LK,reservedKeywords:N0,reservedDataTypes:O0,reservedFunctionNames:I0,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","\xAC=","\xAC>","\xAC<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...C0,...lR],tabularOnelineClauses:lR}};var g0=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"];var y0=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],L0=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"];var bK=B(["SELECT [ALL | DISTINCT]"]),wK=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),b0=B(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),cR=B(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),DK=B(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),PK=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),MK=B(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"]),xK=B(["TIMESTAMP WITH TIME ZONE"]),w0={name:"duckdb",tokenizerOptions:{reservedSelect:bK,reservedClauses:[...wK,...b0,...cR],reservedSetOperations:DK,reservedJoins:PK,reservedKeywordPhrases:MK,reservedDataTypePhrases:xK,supportsXor:!0,reservedKeywords:y0,reservedDataTypes:L0,reservedFunctionNames:g0,nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...b0,...cR],tabularOnelineClauses:cR}};var D0=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"];var P0=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],M0=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"];var vK=B(["SELECT [ALL | DISTINCT]"]),UK=B(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),x0=B(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),uR=B(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),BK=B(["UNION [ALL | DISTINCT]"]),FK=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),GK=B(["{ROWS | RANGE} BETWEEN"]),HK=B([]),v0={name:"hive",tokenizerOptions:{reservedSelect:vK,reservedClauses:[...UK,...x0,...uR],reservedSetOperations:BK,reservedJoins:FK,reservedKeywordPhrases:GK,reservedDataTypePhrases:HK,reservedKeywords:P0,reservedDataTypes:M0,reservedFunctionNames:D0,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...x0,...uR],tabularOnelineClauses:uR}};function ts(t){return t.map((e,r)=>{let n=t[r+1]||Un;if(Nn.SET(e)&&n.text==="(")return Object.assign(Object.assign({},e),{type:k.RESERVED_FUNCTION_NAME});let i=t[r-1]||Un;return Nn.VALUES(e)&&i.text==="="?Object.assign(Object.assign({},e),{type:k.RESERVED_FUNCTION_NAME}):e})}var U0=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],B0=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"];var F0=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"];var WK=B(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),YK=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),G0=B(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),ER=B(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),$K=B(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),VK=B(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),kK=B(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),qK=B([]),H0={name:"mariadb",tokenizerOptions:{reservedSelect:WK,reservedClauses:[...YK,...G0,...ER],reservedSetOperations:$K,reservedJoins:VK,reservedKeywordPhrases:kK,reservedDataTypePhrases:qK,supportsXor:!0,reservedKeywords:U0,reservedDataTypes:B0,reservedFunctionNames:F0,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:ts},formatOptions:{onelineClauses:[...G0,...ER],tabularOnelineClauses:ER}};var W0=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],Y0=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"];var $0=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"];var XK=B(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),KK=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),V0=B(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),fR=B(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),jK=B(["UNION [ALL | DISTINCT]"]),zK=B(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),JK=B(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),QK=B([]),k0={name:"mysql",tokenizerOptions:{reservedSelect:XK,reservedClauses:[...KK,...V0,...fR],reservedSetOperations:jK,reservedJoins:zK,reservedKeywordPhrases:JK,reservedDataTypePhrases:QK,supportsXor:!0,reservedKeywords:W0,reservedDataTypes:Y0,reservedFunctionNames:$0,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:ts},formatOptions:{onelineClauses:[...V0,...fR],tabularOnelineClauses:fR}};var q0=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],X0=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"];var K0=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"];var ZK=B(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),e4=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),j0=B(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),dR=B(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),t4=B(["UNION [ALL | DISTINCT]"]),r4=B(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),n4=B(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),i4=B([]),z0={name:"tidb",tokenizerOptions:{reservedSelect:ZK,reservedClauses:[...e4,...j0,...dR],reservedSetOperations:t4,reservedJoins:r4,reservedKeywordPhrases:n4,reservedDataTypePhrases:i4,supportsXor:!0,reservedKeywords:q0,reservedDataTypes:X0,reservedFunctionNames:K0,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:ts},formatOptions:{onelineClauses:[...j0,...dR],tabularOnelineClauses:dR}};var J0=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"];var Q0=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],Z0=[];var s4=B(["SELECT [ALL | DISTINCT]"]),o4=B(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),ey=B(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),a4=B(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),l4=B(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),c4=B(["{ROWS | RANGE | GROUPS} BETWEEN"]),u4=B([]),ty={name:"n1ql",tokenizerOptions:{reservedSelect:s4,reservedClauses:[...o4,...ey],reservedSetOperations:a4,reservedJoins:l4,reservedKeywordPhrases:c4,reservedDataTypePhrases:u4,supportsXor:!0,reservedKeywords:Q0,reservedDataTypes:Z0,reservedFunctionNames:J0,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:ey}};var ry=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],ny=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"];var iy=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"];var E4=B(["SELECT [ALL | DISTINCT | UNIQUE]"]),f4=B(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),sy=B(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),hR=B(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),d4=B(["UNION [ALL]","MINUS","INTERSECT"]),h4=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),T4=B(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),S4=B([]),oy={name:"plsql",tokenizerOptions:{reservedSelect:E4,reservedClauses:[...f4,...sy,...hR],reservedSetOperations:d4,reservedJoins:h4,reservedKeywordPhrases:T4,reservedDataTypePhrases:S4,supportsXor:!0,reservedKeywords:ry,reservedDataTypes:ny,reservedFunctionNames:iy,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:R4},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...sy,...hR],tabularOnelineClauses:hR}};function R4(t){let e=Un;return t.map(r=>Nn.SET(r)&&Nn.BY(e)?Object.assign(Object.assign({},r),{type:k.RESERVED_KEYWORD}):(pf(r.type)&&(e=r),r))}var ay=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","UUIDV4","UUIDV7","UUID_EXTRACT_TIMESTAMP","UUID_EXTRACT_VERSION","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"];var ly=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],cy=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"];var A4=B(["SELECT [ALL | DISTINCT]"]),p4=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),uy=B(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),TR=B(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMENT ON","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),_4=B(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),I4=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),N4=B(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),O4=B(["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"]),Ey={name:"postgresql",tokenizerOptions:{reservedSelect:A4,reservedClauses:[...p4,...uy,...TR],reservedSetOperations:_4,reservedJoins:I4,reservedKeywordPhrases:N4,reservedDataTypePhrases:O4,reservedKeywords:ly,reservedDataTypes:cy,reservedFunctionNames:ay,nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...uy,...TR],tabularOnelineClauses:TR}};var fy=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"];var dy=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],hy=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"];var C4=B(["SELECT [ALL | DISTINCT]"]),m4=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),Ty=B(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),SR=B(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),g4=B(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),y4=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),L4=B(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),b4=B([]),Sy={name:"redshift",tokenizerOptions:{reservedSelect:C4,reservedClauses:[...m4,...Ty,...SR],reservedSetOperations:g4,reservedJoins:y4,reservedKeywordPhrases:L4,reservedDataTypePhrases:b4,reservedKeywords:dy,reservedDataTypes:hy,reservedFunctionNames:fy,extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Ty,...SR],tabularOnelineClauses:SR}};var Ry=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],Ay=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"];var py=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"];var w4=B(["SELECT [ALL | DISTINCT]"]),D4=B(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),_y=B(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),RR=B(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),P4=B(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),M4=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),x4=B(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),v4=B([]),Iy={name:"spark",tokenizerOptions:{reservedSelect:w4,reservedClauses:[...D4,..._y,...RR],reservedSetOperations:P4,reservedJoins:M4,reservedKeywordPhrases:x4,reservedDataTypePhrases:v4,supportsXor:!0,reservedKeywords:Ry,reservedDataTypes:Ay,reservedFunctionNames:py,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:U4},formatOptions:{onelineClauses:[..._y,...RR],tabularOnelineClauses:RR}};function U4(t){return t.map((e,r)=>{let n=t[r-1]||Un,i=t[r+1]||Un;return Nn.WINDOW(e)&&i.type===k.OPEN_PAREN?Object.assign(Object.assign({},e),{type:k.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===k.RESERVED_KEYWORD&&!(n.text==="COLLECTION"&&i.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:k.IDENTIFIER,text:e.raw}):e})}var Ny=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"];var Oy=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],Cy=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"];var B4=B(["SELECT [ALL | DISTINCT]"]),F4=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"]),my=B(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),AR=B(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),G4=B(["UNION [ALL]","EXCEPT","INTERSECT"]),H4=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),W4=B(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),Y4=B([]),gy={name:"sqlite",tokenizerOptions:{reservedSelect:B4,reservedClauses:[...F4,...my,...AR],reservedSetOperations:G4,reservedJoins:H4,reservedKeywordPhrases:W4,reservedDataTypePhrases:Y4,reservedKeywords:Oy,reservedDataTypes:Cy,reservedFunctionNames:Ny,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...my,...AR],tabularOnelineClauses:AR}};var yy=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"];var Ly=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],by=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"];var $4=B(["SELECT [ALL | DISTINCT]"]),V4=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),wy=B(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),pR=B(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),k4=B(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),q4=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),X4=B(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),K4=B([]),Dy={name:"sql",tokenizerOptions:{reservedSelect:$4,reservedClauses:[...V4,...wy,...pR],reservedSetOperations:k4,reservedJoins:q4,reservedKeywordPhrases:X4,reservedDataTypePhrases:K4,reservedKeywords:Ly,reservedDataTypes:by,reservedFunctionNames:yy,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...wy,...pR],tabularOnelineClauses:pR}};var Py=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"];var My=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],xy=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"];var j4=B(["SELECT [ALL | DISTINCT]"]),z4=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),vy=B(["CREATE TABLE [IF NOT EXISTS]"]),_R=B(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),J4=B(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Q4=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Z4=B(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),ej=B([]),Uy={name:"trino",tokenizerOptions:{reservedSelect:j4,reservedClauses:[...z4,...vy,..._R],reservedSetOperations:J4,reservedJoins:Q4,reservedKeywordPhrases:Z4,reservedDataTypePhrases:ej,reservedKeywords:My,reservedDataTypes:xy,reservedFunctionNames:Py,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...vy,..._R],tabularOnelineClauses:_R}};var By=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"];var Fy=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],Gy=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"];var tj=B(["SELECT [ALL | DISTINCT]"]),rj=B(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"]),Hy=B(["CREATE TABLE"]),IR=B(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),nj=B(["UNION [ALL]","EXCEPT","INTERSECT"]),ij=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),sj=B(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),oj=B([]),Wy={name:"transactsql",tokenizerOptions:{reservedSelect:tj,reservedClauses:[...rj,...Hy,...IR],reservedSetOperations:nj,reservedJoins:ij,reservedKeywordPhrases:sj,reservedDataTypePhrases:oj,reservedKeywords:Fy,reservedDataTypes:Gy,reservedFunctionNames:By,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Hy,...IR],tabularOnelineClauses:IR}};var Yy=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],$y=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"];var Vy=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"];var aj=B(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),lj=B(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),ky=B(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),NR=B(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),cj=B(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),uj=B(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Ej=B(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),fj=B([]),qy={name:"singlestoredb",tokenizerOptions:{reservedSelect:aj,reservedClauses:[...lj,...ky,...NR],reservedSetOperations:cj,reservedJoins:uj,reservedKeywordPhrases:Ej,reservedDataTypePhrases:fj,reservedKeywords:Yy,reservedDataTypes:$y,reservedFunctionNames:Vy,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:ts},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...ky,...NR],tabularOnelineClauses:NR}};var Xy=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER \u2014 Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"];var Ky=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],jy=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"];var dj=B(["SELECT [ALL | DISTINCT]"]),hj=B(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),zy=B(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),CR=B(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),Tj=B(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),Sj=B(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),Rj=B(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),Aj=B([]),Jy={name:"snowflake",tokenizerOptions:{reservedSelect:dj,reservedClauses:[...hj,...zy,...CR],reservedSetOperations:Tj,reservedJoins:Sj,reservedKeywordPhrases:Rj,reservedDataTypePhrases:Aj,reservedKeywords:Ky,reservedDataTypes:jy,reservedFunctionNames:Xy,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...zy,...CR],tabularOnelineClauses:CR}};var rs=t=>t[t.length-1],gR=t=>t.sort((e,r)=>r.length-e.length||e.localeCompare(r));var Ra=t=>t.replace(/\s+/gu," "),_f=t=>/\n/.test(t);var jr=t=>t.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),yR=/\s+/uy,Ai=t=>new RegExp(`(?:${t})`,"uy"),pj=t=>t.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),Qy=t=>t+"(?:-"+t+")*",Zy=({prefixes:t,requirePrefix:e})=>`(?:${t.map(pj).join("|")}${e?"":"|"})`;var tL=t=>new RegExp(`(?:${t.map(jr).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),LR=(t,e=[])=>{let r=t==="open"?0:1,n=["()",...e].map(i=>i[r]);return Ai(n.map(jr).join("|"))},bR=t=>Ai(`${gR(t).map(jr).join("|")}`),_j=({rest:t,dashes:e})=>t||e?`(?![${t||""}${e?"-":""}])`:"",Bn=(t,e={})=>{if(t.length===0)return/^\b$/u;let r=_j(e),n=gR(t).map(jr).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${n})${r}\\b`,"iuy")},If=(t,e)=>{if(!t.length)return;let r=t.map(jr).join("|");return Ai(`(?:${r})(?:${e})`)},Ij=()=>{let t={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",r=Object.entries(t).map(([o,a])=>e.replace(/{left}/g,jr(o)).replace(/{right}/g,jr(a))),n=jr(Object.keys(t).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${n}])(?:(?!\k<tag>').)*?\k<tag>`}|${r.join("|")})'`},eL={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":Ij()},rL=t=>typeof t=="string"?eL[t]:"regex"in t?t.regex:Zy(t)+eL[t.quote],nL=t=>Ai(t.map(e=>"regex"in e?e.regex:rL(e)).join("|")),wR=t=>t.map(rL).join("|"),DR=t=>Ai(wR(t)),iL=(t={})=>Ai(PR(t)),PR=({first:t,rest:e,dashes:r,allowFirstCharNumber:n}={})=>{let i="\\p{Alphabetic}\\p{Mark}_",s="\\p{Decimal_Number}",o=jr(t??""),a=jr(e??""),l=n?`[${i}${s}${o}][${i}${s}${a}]*`:`[${i}${o}][${i}${s}${a}]*`;return r?Qy(l):l};function Nf(t,e){let r=t.slice(0,e).split(/\n/);return{line:r.length,col:r[r.length-1].length+1}}var _c=class{constructor(e,r){this.rules=e,this.dialectName=r,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;let r=[],n;for(;this.index<this.input.length;){let i=this.getWhitespace();if(this.index<this.input.length){if(n=this.getNextToken(),!n)throw this.createParseError();r.push(Object.assign(Object.assign({},n),{precedingWhitespace:i}))}}return r}createParseError(){let e=this.input.slice(this.index,this.index+10),{line:r,col:n}=Nf(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${r} column ${n}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){yR.lastIndex=this.index;let e=yR.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(let e of this.rules){let r=this.match(e);if(r)return r}}match(e){e.regex.lastIndex=this.index;let r=e.regex.exec(this.input);if(r){let n=r[0],i={type:e.type,raw:n,text:e.text?e.text(n):n,start:this.index};return e.key&&(i.key=e.key(n)),this.index+=n.length,i}}};var sL=/\/\*/uy,Oj=/[\s\S]/uy,Cj=/\*\//uy,Of=class{constructor(){this.lastIndex=0}exec(e){let r="",n,i=0;if(n=this.matchSection(sL,e))r+=n,i++;else return null;for(;i>0;)if(n=this.matchSection(sL,e))r+=n,i++;else if(n=this.matchSection(Cj,e))r+=n,i--;else if(n=this.matchSection(Oj,e))r+=n;else return null;return[r]}matchSection(e,r){e.lastIndex=this.lastIndex;let n=e.exec(r);return n&&(this.lastIndex+=n[0].length),n?n[0]:null}};var Ic=class{constructor(e,r){this.cfg=e,this.dialectName=r,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,r){let n=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,r),...this.rulesAfterParams],i=new _c(n,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(i):i}buildRulesBeforeParams(e){var r,n,i;return this.validRules([{type:k.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:k.BLOCK_COMMENT,regex:e.nestedBlockComments?new Of:/(\/\*[^]*?\*\/)/uy},{type:k.LINE_COMMENT,regex:tL((r=e.lineCommentTypes)!==null&&r!==void 0?r:["--"])},{type:k.QUOTED_IDENTIFIER,regex:DR(e.identTypes)},{type:k.NUMBER,regex:e.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:k.RESERVED_KEYWORD_PHRASE,regex:Bn((n=e.reservedKeywordPhrases)!==null&&n!==void 0?n:[],e.identChars),text:Gt},{type:k.RESERVED_DATA_TYPE_PHRASE,regex:Bn((i=e.reservedDataTypePhrases)!==null&&i!==void 0?i:[],e.identChars),text:Gt},{type:k.CASE,regex:/CASE\b/iuy,text:Gt},{type:k.END,regex:/END\b/iuy,text:Gt},{type:k.BETWEEN,regex:/BETWEEN\b/iuy,text:Gt},{type:k.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:Gt},{type:k.RESERVED_CLAUSE,regex:Bn(e.reservedClauses,e.identChars),text:Gt},{type:k.RESERVED_SELECT,regex:Bn(e.reservedSelect,e.identChars),text:Gt},{type:k.RESERVED_SET_OPERATION,regex:Bn(e.reservedSetOperations,e.identChars),text:Gt},{type:k.WHEN,regex:/WHEN\b/iuy,text:Gt},{type:k.ELSE,regex:/ELSE\b/iuy,text:Gt},{type:k.THEN,regex:/THEN\b/iuy,text:Gt},{type:k.RESERVED_JOIN,regex:Bn(e.reservedJoins,e.identChars),text:Gt},{type:k.AND,regex:/AND\b/iuy,text:Gt},{type:k.OR,regex:/OR\b/iuy,text:Gt},{type:k.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:Gt},...e.operatorKeyword?[{type:k.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:k.RESERVED_FUNCTION_NAME,regex:Bn(e.reservedFunctionNames,e.identChars),text:Gt},{type:k.RESERVED_DATA_TYPE,regex:Bn(e.reservedDataTypes,e.identChars),text:Gt},{type:k.RESERVED_KEYWORD,regex:Bn(e.reservedKeywords,e.identChars),text:Gt}])}buildRulesAfterParams(e){var r,n;return this.validRules([{type:k.VARIABLE,regex:e.variableTypes?nL(e.variableTypes):void 0},{type:k.STRING,regex:DR(e.stringTypes)},{type:k.IDENTIFIER,regex:iL(e.identChars)},{type:k.DELIMITER,regex:/[;]/uy},{type:k.COMMA,regex:/[,]/y},{type:k.OPEN_PAREN,regex:LR("open",e.extraParens)},{type:k.CLOSE_PAREN,regex:LR("close",e.extraParens)},{type:k.OPERATOR,regex:bR(["+","-","/",">","<","=","<>","<=",">=","!=",...(r=e.operators)!==null&&r!==void 0?r:[]])},{type:k.ASTERISK,regex:/[*]/uy},{type:k.PROPERTY_ACCESS_OPERATOR,regex:bR([".",...(n=e.propertyAccessOperators)!==null&&n!==void 0?n:[]])}])}buildParamRules(e,r){var n,i,s,o,a;let l={named:r?.named||((n=e.paramTypes)===null||n===void 0?void 0:n.named)||[],quoted:r?.quoted||((i=e.paramTypes)===null||i===void 0?void 0:i.quoted)||[],numbered:r?.numbered||((s=e.paramTypes)===null||s===void 0?void 0:s.numbered)||[],positional:typeof r?.positional=="boolean"?r.positional:(o=e.paramTypes)===null||o===void 0?void 0:o.positional,custom:r?.custom||((a=e.paramTypes)===null||a===void 0?void 0:a.custom)||[]};return this.validRules([{type:k.NAMED_PARAMETER,regex:If(l.named,PR(e.paramChars||e.identChars)),key:c=>c.slice(1)},{type:k.QUOTED_PARAMETER,regex:If(l.quoted,wR(e.identTypes)),key:c=>(({tokenKey:u,quoteChar:E})=>u.replace(new RegExp(jr("\\"+E),"gu"),E))({tokenKey:c.slice(2,-1),quoteChar:c.slice(-1)})},{type:k.NUMBERED_PARAMETER,regex:If(l.numbered,"[0-9]+"),key:c=>c.slice(1)},{type:k.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(c=>{var u;return{type:k.CUSTOM_PARAMETER,regex:Ai(c.regex),key:(u=c.key)!==null&&u!==void 0?u:(E=>E)}})])}validRules(e){return e.filter(r=>!!r.regex)}},Gt=t=>Ra(t.toUpperCase());var oL=new Map,aL=t=>{let e=oL.get(t);return e||(e=mj(t),oL.set(t,e)),e},mj=t=>({tokenizer:new Ic(t.tokenizerOptions,t.name),formatOptions:gj(t.formatOptions)}),gj=t=>{var e;return{alwaysDenseOperators:t.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(t.onelineClauses.map(r=>[r,!0])),tabularOnelineClauses:Object.fromEntries(((e=t.tabularOnelineClauses)!==null&&e!==void 0?e:t.onelineClauses).map(r=>[r,!0]))}};function lL(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"?" ".repeat(10):t.useTabs?"	":" ".repeat(t.tabWidth)}function Xs(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"}var Nc=class{constructor(e){this.params=e,this.index=0}get({key:e,text:r}){return this.params?e?this.params[e]:this.params[this.index++]:r}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}};var SL=ze(uL(),1);function EL(t){return t.map(yj).map(Lj).map(bj).map(wj).map(Dj)}var yj=(t,e,r)=>{if(pf(t.type)){let n=Pj(r,e);if(n&&n.type===k.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:k.IDENTIFIER,text:t.raw});let i=Aa(r,e);if(i&&i.type===k.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:k.IDENTIFIER,text:t.raw})}return t},Lj=(t,e,r)=>{if(t.type===k.RESERVED_FUNCTION_NAME){let n=Aa(r,e);if(!n||!fL(n))return Object.assign(Object.assign({},t),{type:k.IDENTIFIER,text:t.raw})}return t},bj=(t,e,r)=>{if(t.type===k.RESERVED_DATA_TYPE){let n=Aa(r,e);if(n&&fL(n))return Object.assign(Object.assign({},t),{type:k.RESERVED_PARAMETERIZED_DATA_TYPE})}return t},wj=(t,e,r)=>{if(t.type===k.IDENTIFIER){let n=Aa(r,e);if(n&&dL(n))return Object.assign(Object.assign({},t),{type:k.ARRAY_IDENTIFIER})}return t},Dj=(t,e,r)=>{if(t.type===k.RESERVED_DATA_TYPE){let n=Aa(r,e);if(n&&dL(n))return Object.assign(Object.assign({},t),{type:k.ARRAY_KEYWORD})}return t},Pj=(t,e)=>Aa(t,e,-1),Aa=(t,e,r=1)=>{let n=1;for(;t[e+n*r]&&Mj(t[e+n*r]);)n++;return t[e+n*r]},fL=t=>t.type===k.OPEN_PAREN&&t.text==="(",dL=t=>t.type===k.OPEN_PAREN&&t.text==="[",Mj=t=>t.type===k.BLOCK_COMMENT||t.type===k.LINE_COMMENT;var Ks=class{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,r){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){let{line:r,col:n}=Nf(this.input,e.start);return`Parse error at token: ${e.text} at line ${r} column ${n}`}has(e){return e in k}};var ie;(function(t){t.statement="statement",t.clause="clause",t.set_operation="set_operation",t.function_call="function_call",t.parameterized_data_type="parameterized_data_type",t.array_subscript="array_subscript",t.property_access="property_access",t.parenthesis="parenthesis",t.between_predicate="between_predicate",t.case_expression="case_expression",t.case_when="case_when",t.case_else="case_else",t.limit_clause="limit_clause",t.all_columns_asterisk="all_columns_asterisk",t.literal="literal",t.identifier="identifier",t.keyword="keyword",t.data_type="data_type",t.parameter="parameter",t.operator="operator",t.comma="comma",t.line_comment="line_comment",t.block_comment="block_comment",t.disable_comment="disable_comment"})(ie=ie||(ie={}));function MR(t){return t[0]}var Ae=new Ks(t=>[]),js=([[t]])=>t,er=t=>({type:ie.keyword,tokenType:t.type,text:t.text,raw:t.raw}),hL=t=>({type:ie.data_type,text:t.text,raw:t.raw}),tr=(t,{leading:e,trailing:r})=>(e?.length&&(t=Object.assign(Object.assign({},t),{leadingComments:e})),r?.length&&(t=Object.assign(Object.assign({},t),{trailingComments:r})),t),xj=(t,{leading:e,trailing:r})=>{if(e?.length){let[n,...i]=t;t=[tr(n,{leading:e}),...i]}if(r?.length){let n=t.slice(0,-1),i=t[t.length-1];t=[...n,tr(i,{trailing:r})]}return t},vj={Lexer:Ae,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:t=>t[0].concat([t[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([t])=>{let e=t[t.length-1];return e&&!e.hasSemicolon?e.children.length>0?t:t.slice(0,-1):t}},{name:"statement$subexpression$1",symbols:[Ae.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[Ae.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([t,[e]])=>({type:ie.statement,children:t,hasSemicolon:e.type===k.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([t,e])=>[...t,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:js},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[Ae.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:MR},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[Ae.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([t,e,r,n])=>{if(n){let[i,s]=n;return{type:ie.limit_clause,limitKw:tr(er(t),{trailing:e}),offset:r,count:s}}else return{type:ie.limit_clause,limitKw:tr(er(t),{trailing:e}),count:r}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[Ae.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([t,[e,r]])=>({type:ie.clause,nameKw:er(t),children:[e,...r]})},{name:"select_clause",symbols:[Ae.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([t])=>({type:ie.clause,nameKw:er(t),children:[]})},{name:"all_columns_asterisk",symbols:[Ae.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:ie.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"other_clause",symbols:[Ae.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([t,e])=>({type:ie.clause,nameKw:er(t),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"set_operation",symbols:[Ae.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([t,e])=>({type:ie.set_operation,nameKw:er(t),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:MR},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([t,e])=>tr(t,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([t,e])=>tr(e,{leading:t})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([t,e])=>tr(e,{leading:t})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:js},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:js},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:js},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:js},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:js},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:js},{name:"array_subscript",symbols:[Ae.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([t,e,r])=>({type:ie.array_subscript,array:tr({type:ie.identifier,quoted:!1,text:t.text},{trailing:e}),parenthesis:r})},{name:"array_subscript",symbols:[Ae.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([t,e,r])=>({type:ie.array_subscript,array:tr(er(t),{trailing:e}),parenthesis:r})},{name:"function_call",symbols:[Ae.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([t,e,r])=>({type:ie.function_call,nameKw:tr(er(t),{trailing:e}),parenthesis:r})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([t,e,r])=>({type:ie.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([t,e,r])=>({type:ie.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([t,e,r])=>({type:ie.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",Ae.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([t,e,r,n,[i]])=>({type:ie.property_access,object:tr(t,{trailing:e}),operator:r.text,property:tr(i,{leading:n})})},{name:"between_predicate",symbols:[Ae.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",Ae.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([t,e,r,n,i,s,o])=>({type:ie.between_predicate,betweenKw:er(t),expr1:xj(r,{leading:e,trailing:n}),andKw:er(i),expr2:[tr(o,{leading:s})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:MR},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:t=>t[0].concat([t[1]])},{name:"case_expression",symbols:[Ae.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",Ae.has("END")?{type:"END"}:END],postprocess:([t,e,r,n,i])=>({type:ie.case_expression,caseKw:tr(er(t),{trailing:e}),endKw:er(i),expr:r||[],clauses:n})},{name:"case_clause",symbols:[Ae.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",Ae.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([t,e,r,n,i,s])=>({type:ie.case_when,whenKw:tr(er(t),{trailing:e}),thenKw:tr(er(n),{trailing:i}),condition:r,result:s})},{name:"case_clause",symbols:[Ae.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([t,e,r])=>({type:ie.case_else,elseKw:tr(er(t),{trailing:e}),result:r})},{name:"comma$subexpression$1",symbols:[Ae.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[t]])=>({type:ie.comma})},{name:"asterisk$subexpression$1",symbols:[Ae.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[t]])=>({type:ie.operator,text:t.text})},{name:"operator$subexpression$1",symbols:[Ae.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[t]])=>({type:ie.operator,text:t.text})},{name:"identifier$subexpression$1",symbols:[Ae.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[Ae.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[Ae.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[t]])=>({type:ie.identifier,quoted:t.type!=="IDENTIFIER",text:t.text})},{name:"parameter$subexpression$1",symbols:[Ae.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Ae.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Ae.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Ae.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Ae.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[t]])=>({type:ie.parameter,key:t.key,text:t.text})},{name:"literal$subexpression$1",symbols:[Ae.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[Ae.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[t]])=>({type:ie.literal,text:t.text})},{name:"keyword$subexpression$1",symbols:[Ae.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[Ae.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[Ae.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[t]])=>er(t)},{name:"data_type$subexpression$1",symbols:[Ae.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[Ae.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[t]])=>hL(t)},{name:"data_type",symbols:[Ae.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([t,e,r])=>({type:ie.parameterized_data_type,dataType:tr(hL(t),{trailing:e}),parenthesis:r})},{name:"logic_operator$subexpression$1",symbols:[Ae.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[Ae.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[Ae.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[t]])=>er(t)},{name:"other_keyword$subexpression$1",symbols:[Ae.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[Ae.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[Ae.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[Ae.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[t]])=>er(t)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:t=>t[0].concat([t[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([t])=>t},{name:"comment",symbols:[Ae.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([t])=>({type:ie.line_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[Ae.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([t])=>({type:ie.block_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[Ae.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([t])=>({type:ie.disable_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})}],ParserStart:"main"},TL=vj;var{Parser:Uj,Grammar:Bj}=SL.default;function RL(t){let e={},r=new Ks(i=>[...EL(t.tokenize(i,e)),sR(i.length)]),n=new Uj(Bj.fromCompiled(TL),{lexer:r});return{parse:(i,s)=>{e=s;let{results:o}=n.feed(i);if(o.length===1)return o[0];throw o.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(o,void 0,2)}`)}}}var V;(function(t){t[t.SPACE=0]="SPACE",t[t.NO_SPACE=1]="NO_SPACE",t[t.NO_NEWLINE=2]="NO_NEWLINE",t[t.NEWLINE=3]="NEWLINE",t[t.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",t[t.INDENT=5]="INDENT",t[t.SINGLE_INDENT=6]="SINGLE_INDENT"})(V=V||(V={}));var zs=class{constructor(e){this.indentation=e,this.items=[]}add(...e){for(let r of e)switch(r){case V.SPACE:this.items.push(V.SPACE);break;case V.NO_SPACE:this.trimHorizontalWhitespace();break;case V.NO_NEWLINE:this.trimWhitespace();break;case V.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(V.NEWLINE);break;case V.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(V.MANDATORY_NEWLINE);break;case V.INDENT:this.addIndentation();break;case V.SINGLE_INDENT:this.items.push(V.SINGLE_INDENT);break;default:this.items.push(r)}}trimHorizontalWhitespace(){for(;Fj(rs(this.items));)this.items.pop()}trimWhitespace(){for(;Gj(rs(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(rs(this.items)){case V.NEWLINE:this.items.pop(),this.items.push(e);break;case V.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(V.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case V.SPACE:return" ";case V.NEWLINE:case V.MANDATORY_NEWLINE:return`
`;case V.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}},Fj=t=>t===V.SPACE||t===V.SINGLE_INDENT,Gj=t=>t===V.SPACE||t===V.SINGLE_INDENT||t===V.NEWLINE;function mf(t,e){if(e==="standard")return t;let r=[];return t.length>=10&&t.includes(" ")&&([t,...r]=t.split(" ")),e==="tabularLeft"?t=t.padEnd(9," "):t=t.padStart(9," "),t+["",...r].join(" ")}function xR(t){return c0(t)||t===k.RESERVED_CLAUSE||t===k.RESERVED_SELECT||t===k.RESERVED_SET_OPERATION||t===k.RESERVED_JOIN||t===k.LIMIT}var vR="top-level",Hj="block-level",Js=class{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(vR)}increaseBlockLevel(){this.indentTypes.push(Hj)}decreaseTopLevel(){this.indentTypes.length>0&&rs(this.indentTypes)===vR&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===vR;);}};var Oc=class extends zs{constructor(e){super(new Js("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(r=>this.addToLength(r)),this.length>this.expressionWidth)throw new pa;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===V.MANDATORY_NEWLINE||e===V.NEWLINE)throw new pa;e===V.INDENT||e===V.SINGLE_INDENT||e===V.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===V.NO_NEWLINE||e===V.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}},pa=class extends Error{};var Cc=class t{constructor({cfg:e,dialectCfg:r,params:n,layout:i,inline:s=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=r,this.inline=s,this.params=n,this.layout=i}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case ie.function_call:return this.formatFunctionCall(e);case ie.parameterized_data_type:return this.formatParameterizedDataType(e);case ie.array_subscript:return this.formatArraySubscript(e);case ie.property_access:return this.formatPropertyAccess(e);case ie.parenthesis:return this.formatParenthesis(e);case ie.between_predicate:return this.formatBetweenPredicate(e);case ie.case_expression:return this.formatCaseExpression(e);case ie.case_when:return this.formatCaseWhen(e);case ie.case_else:return this.formatCaseElse(e);case ie.clause:return this.formatClause(e);case ie.set_operation:return this.formatSetOperation(e);case ie.limit_clause:return this.formatLimitClause(e);case ie.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case ie.literal:return this.formatLiteral(e);case ie.identifier:return this.formatIdentifier(e);case ie.parameter:return this.formatParameter(e);case ie.operator:return this.formatOperator(e);case ie.comma:return this.formatComma(e);case ie.line_comment:return this.formatLineComment(e);case ie.block_comment:return this.formatBlockComment(e);case ie.disable_comment:return this.formatBlockComment(e);case ie.data_type:return this.formatDataType(e);case ie.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let r;switch(e.array.type){case ie.data_type:r=this.showDataType(e.array);break;case ie.keyword:r=this.showKw(e.array);break;default:r=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(r)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(V.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){let r=this.formatInlineExpression(e.children);r?(this.layout.add(e.openParen),this.layout.add(...r.getLayoutItems()),this.layout.add(V.NO_SPACE,e.closeParen,V.SPACE)):(this.layout.add(e.openParen,V.NEWLINE),Xs(this.cfg)?(this.layout.add(V.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(V.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(V.NEWLINE,V.INDENT,e.closeParen,V.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),V.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(V.NO_SPACE,V.SPACE,this.showNonTabularKw(e.andKw),V.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(V.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(V.NEWLINE,V.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(V.NEWLINE,V.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(V.NEWLINE,V.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):Xs(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return Xs(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(V.NEWLINE,V.INDENT,this.showKw(e.nameKw),V.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(V.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(V.NEWLINE,V.INDENT,this.showKw(e.nameKw),V.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(V.NEWLINE,V.INDENT,this.showKw(e.nameKw),V.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(V.NEWLINE,V.INDENT,this.showKw(e.nameKw),V.NEWLINE),this.layout.add(V.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(V.NEWLINE,V.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),Xs(this.cfg)?this.layout.add(V.SPACE):this.layout.add(V.NEWLINE,V.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(V.NO_SPACE,",",V.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",V.SPACE)}formatLiteral(e){this.layout.add(e.text,V.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),V.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),V.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(V.NO_SPACE,e):e===":"?this.layout.add(V.NO_SPACE,e,V.SPACE):this.layout.add(e,V.SPACE)}formatComma(e){this.inline?this.layout.add(V.NO_SPACE,",",V.SPACE):this.layout.add(V.NO_SPACE,",",V.NEWLINE,V.INDENT)}withComments(e,r){this.formatComments(e.leadingComments),r(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(r=>{r.type===ie.line_comment?this.formatLineComment(r):this.formatBlockComment(r)})}formatLineComment(e){_f(e.precedingWhitespace||"")?this.layout.add(V.NEWLINE,V.INDENT,e.text,V.MANDATORY_NEWLINE,V.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(V.NO_NEWLINE,V.SPACE,e.text,V.MANDATORY_NEWLINE,V.INDENT):this.layout.add(e.text,V.MANDATORY_NEWLINE,V.INDENT)}formatBlockComment(e){e.type===ie.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(r=>{this.layout.add(V.NEWLINE,V.INDENT,r)}),this.layout.add(V.NEWLINE,V.INDENT)):this.layout.add(e.text,V.SPACE)}isMultilineBlockComment(e){return _f(e.text)||_f(e.precedingWhitespace||"")}isDocComment(e){let r=e.split(/\n/);return/^\/\*\*?$/.test(r[0])&&r.slice(1,r.length-1).every(n=>/^\s*\*/.test(n))&&/^\s*\*\/$/.test(rs(r))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(r=>/^\s*\*/.test(r)?" "+r.replace(/^\s*/,""):r):e.split(/\n/).map(r=>r.replace(/^\s*/,""))}formatSubExpression(e){return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){let r=this.params.getPositionalParameterIndex();try{return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new Oc(this.cfg.expressionWidth),inline:!0}).format(e)}catch(n){if(n instanceof pa){this.params.setPositionalParameterIndex(r);return}else throw n}}formatKeywordNode(e){switch(e.tokenType){case k.RESERVED_JOIN:return this.formatJoin(e);case k.AND:case k.OR:case k.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){Xs(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(V.NEWLINE,V.INDENT,this.showKw(e),V.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(V.NEWLINE,V.INDENT,this.showKw(e),V.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),V.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?Xs(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(V.NEWLINE,V.INDENT,this.showKw(e),V.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(V.NEWLINE,V.INDENT,this.showKw(e),V.SPACE):this.layout.add(this.showKw(e),V.NEWLINE,V.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),V.SPACE)}showKw(e){return xR(e.tokenType)?mf(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return Ra(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return xR(e.tokenType)?mf(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return Ra(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return Ra(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}};var mc=class{constructor(e,r){this.dialect=e,this.cfg=r,this.params=new Nc(this.cfg.params)}format(e){let r=this.parse(e);return this.formatAst(r).trimEnd()}parse(e){return RL(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(r=>this.formatStatement(r)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){let r=new Cc({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new zs(new Js(lL(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?r.add(V.NEWLINE,";"):r.add(V.NO_NEWLINE,";")),r.toString()}};var Qs=class extends Error{};function AL(t){let e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(let r of e)if(r in t)throw new Qs(`${r} config is no more supported.`);if(t.expressionWidth<=0)throw new Qs(`expressionWidth config must be positive number. Received ${t.expressionWidth} instead.`);if(t.params&&!Wj(t.params)&&console.warn('WARNING: All "params" option values should be strings.'),t.paramTypes&&!Yj(t.paramTypes))throw new Qs("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return t}function Wj(t){return(t instanceof Array?t:Object.values(t)).every(r=>typeof r=="string")}function Yj(t){return t.custom&&Array.isArray(t.custom)?t.custom.every(e=>e.regex!==""):!0}var $j=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},pL={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},_L=Object.keys(pL),Vj={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},UR=(t,e={})=>{if(typeof e.language=="string"&&!_L.includes(e.language))throw new Qs(`Unsupported SQL dialect: ${e.language}`);let r=pL[e.language||"sql"];return IL(t,Object.assign(Object.assign({},e),{dialect:mR[r]}))},IL=(t,e)=>{var{dialect:r}=e,n=$j(e,["dialect"]);if(typeof t!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof t);let i=AL(Object.assign(Object.assign({},Vj),n));return new mc(aL(r),i).format(t)};var E6=ze(require("path"));function c6(t,e){let r=e.getKeepConnectionOpen();t.text=r?"\u{1F517} Keep Connection ON":"\u26D3\uFE0F\u200D\u{1F4A5} Keep Connection OFF",t.tooltip=r?"Keep Connection Open: ENABLED - Click to disable":"Keep Connection Open: DISABLED - Click to enable",t.backgroundColor=r?new N.ThemeColor("statusBarItem.prominentBackground"):void 0}var u6=[{id:"mtxr.sqltools",name:"SQLTools"},{id:"ms-mssql.mssql",name:"Microsoft SQL Server"},{id:"oracle.oracledevtools",name:"Oracle Developer Tools"},{id:"cweijan.vscode-mysql-client2",name:"MySQL"},{id:"ckolkman.vscode-postgres",name:"PostgreSQL"}];async function hge(t){let e=N.workspace.getConfiguration("netezza");if(!e.get("showConflictWarnings",!0))return;let n=[];for(let a of u6)N.extensions.getExtension(a.id)&&n.push(a.name);let s=N.extensions.all.filter(a=>{let l=a.packageJSON;if(!l||a.id==="krzysztof-d.justybaselite-netezza"||u6.some(d=>d.id===a.id))return!1;let c=l.activationEvents?.some(d=>d.includes("onLanguage:sql")||d.includes("onLanguage:mssql")),u=l.contributes?.languages?.some(d=>d.id==="sql"||d.extensions?.includes(".sql"));return(l.displayName||"")==="SQL Language Basics"?!1:c||u}).map(a=>a.packageJSON.displayName||a.id),o=[...n,...s];if(o.length>0){let a=o.length===1?`SQL extension detected "${o[0]}" which may cause conflicts (e.g. duplicate keybindings F5, Ctrl+Enter).`:`SQL extensions detected which may cause conflicts: ${o.join(", ")}. Some functions (e.g. F5, Ctrl+Enter) may be duplicated.`;await N.window.showWarningMessage(a,"OK","Do not show again")==="Do not show again"&&await e.update("showConflictWarnings",!1,N.ConfigurationTarget.Global)}}async function Tge(t){console.log("Netezza extension: Activating..."),hge(t),t.subscriptions.push({dispose:()=>{e.closeAllPersistentConnections()}});let e=new Zi(t),r=new Sf(t);await r.initialize();let n=new Tc(t,e,r),i=new Rc(t.extensionUri),s=N.window.createStatusBarItem(N.StatusBarAlignment.Left,100);s.command="netezza.selectConnectionForTab",s.tooltip="Click to select connection for this SQL tab",t.subscriptions.push(s);let o=()=>{let I=N.window.activeTextEditor;if(I&&I.document.languageId==="sql"){let v=I.document.uri.toString(),U=e.getConnectionForExecution(v);U?(s.text=`$(database) ${U}`,s.show()):(s.text="$(database) Select Connection",s.show())}else s.hide()};o(),e.onDidChangeActiveConnection(I=>{o(),I&&!r.hasConnectionPrefetchTriggered(I)&&r.triggerConnectionPrefetch(I,v=>ue(t,v,!0,I,e))}),e.onDidChangeConnections(o),e.onDidChangeDocumentConnection(I=>{o();let v=e.getDocumentConnection(I);v&&!r.hasConnectionPrefetchTriggered(v)&&r.triggerConnectionPrefetch(v,U=>ue(t,U,!0,v,e))}),N.window.onDidChangeActiveTextEditor(o);let a=N.window.createStatusBarItem(N.StatusBarAlignment.Right,100);a.command="netezza.toggleKeepConnectionOpen",c6(a,e),a.show(),t.subscriptions.push(a),console.log("Netezza extension: Registering SchemaSearchProvider...");let l=new Ac(t.extensionUri,t,r,e);console.log("Netezza extension: Registering QueryHistoryView...");let c=new pc(t.extensionUri,t),u=N.window.createTreeView("netezza.schema",{treeDataProvider:n,showCollapseAll:!0});t.subscriptions.push(N.window.registerWebviewViewProvider(Rc.viewType,i),N.window.registerWebviewViewProvider(Ac.viewType,l),N.window.registerWebviewViewProvider(pc.viewType,c));let E=/(^|\s)(?:[A-Za-z]:\\|\\|\/)?[\w.\-\\\/]+\.py\b|(^|\s)python(?:\.exe)?\s+[^\n]*\.py\b/i;function d(I){return I&&(I.includes(" ")?`"${I.replace(/"/g,'\\"')}"`:I)}function f(I,v,U){let H=/[ \\/]/.test(I)?`& ${d(I)}`:I,K=d(v),J=U.map(q=>d(q)).join(" ");return`${H} ${K}${J?" "+J:""}`.trim()}class T{constructor(){this._onDidChange=new N.EventEmitter;this.onDidChangeCodeLenses=this._onDidChange.event}provideCodeLenses(v){let U=[];for(let X=0;X<v.lineCount;X++){let H=v.lineAt(X);if(E.test(H.text)){let K=H.range,J={title:"Run as script",command:"netezza.runScriptFromLens",arguments:[v.uri,K]};U.push(new N.CodeLens(K,J))}}return U}refresh(){this._onDidChange.fire()}}let h=new T;t.subscriptions.push(N.languages.registerCodeLensProvider({scheme:"file"},h));let R=N.window.createTextEditorDecorationType({backgroundColor:new N.ThemeColor("editor.rangeHighlightBackground"),borderRadius:"3px"});function S(I){let v=I||N.window.activeTextEditor;if(!v)return;let U=v.document,X=[];for(let H=0;H<U.lineCount;H++){let K=U.lineAt(H);E.test(K.text)&&X.push({range:K.range,hoverMessage:"Python script invocation"})}v.setDecorations(R,X)}t.subscriptions.push(N.window.onDidChangeActiveTextEditor(()=>S()),N.workspace.onDidChangeTextDocument(I=>{N.window.activeTextEditor&&I.document===N.window.activeTextEditor.document&&S(N.window.activeTextEditor)})),t.subscriptions.push(N.commands.registerCommand("netezza.runScriptFromLens",async(I,v)=>{try{let U=await N.workspace.openTextDocument(I),X=U.getText(v).trim()||U.lineAt(v.start.line).text.trim();if(!X){N.window.showWarningMessage("No script command found");return}let H=X.split(/\s+/),K=H[0]||"",J=/python(\\.exe)?$/i.test(K)&&H.length>=2&&H[1].toLowerCase().endsWith(".py"),q=K.toLowerCase().endsWith(".py"),te=N.workspace.getConfiguration("netezza").get("pythonPath")||"python",Q="";if(J){let Ee=H[0],Ye=H[1],it=H.slice(2);Q=f(Ee,Ye,it)}else if(q){let Ee=K,Ye=H.slice(1);Q=f(te,Ee,Ye)}else Q=f(te,"",H);let ae=N.window.createTerminal({name:"Netezza: Script"});ae.show(!0),ae.sendText(Q,!0),N.window.showInformationMessage(`Running script: ${Q}`)}catch(U){N.window.showErrorMessage(`Error running script: ${U.message}`)}})),S(N.window.activeTextEditor);let C=N.window.createTextEditorDecorationType({backgroundColor:"rgba(5, 115, 201, 0.10)",isWholeLine:!1,rangeBehavior:N.DecorationRangeBehavior.ClosedClosed});function A(I){if(!N.workspace.getConfiguration("netezza").get("highlightActiveStatement",!0)||!I||I.document.languageId!=="sql"&&I.document.languageId!=="mssql"){I&&I.setDecorations(C,[]);return}try{let X=I.document,H=I.selection.active,K=X.offsetAt(H),J=X.getText(),q=In.getStatementAtPosition(J,K);if(q){let j=X.positionAt(q.start),te=X.positionAt(q.end),Q=new N.Range(j,te);I.setDecorations(C,[Q])}else I.setDecorations(C,[])}catch(X){console.error("Error updating SQL highlight:",X)}}t.subscriptions.push(N.window.onDidChangeTextEditorSelection(I=>{A(I.textEditor)}),N.window.onDidChangeActiveTextEditor(I=>{A(I)}),N.workspace.onDidChangeConfiguration(I=>{I.affectsConfiguration("netezza.highlightActiveStatement")&&A(N.window.activeTextEditor)})),A(N.window.activeTextEditor),t.subscriptions.push(N.window.onDidChangeActiveTextEditor(I=>{if(I&&I.document){let v=I.document.uri.toString();i.setActiveSource(v)}})),t.subscriptions.push(N.commands.registerCommand("netezza.viewEditData",I=>{Tf.createOrShow(t.extensionUri,I,t,e)})),t.subscriptions.push(N.commands.registerCommand("netezza.createProcedure",async I=>{if(!I||!I.dbName){N.window.showErrorMessage("Invalid selection. Select a Procedure folder.");return}let v=await N.window.showInputBox({prompt:"Enter new procedure name",placeHolder:"NEW_PROCEDURE",value:"NEW_PROCEDURE"});if(v===void 0)return;let U=v.trim()||"NEW_PROCEDURE",H=`CREATE OR REPLACE PROCEDURE ${I.dbName}.SCHEMA.${U}(INTEGER)
RETURNS INTEGER
EXECUTE AS CALLER
LANGUAGE NZPLSQL AS
BEGIN_PROC
DECLARE
    arg1 ALIAS FOR $1;
BEGIN
    -- YOUR CODE GOES HERE
    
    EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE EXCEPTION  'Procedure failed: %', sqlerrm;
        --RAISE NOTICE 'Caught error, continuing %', sqlerrm;

END;
END_PROC;`,K=await N.workspace.openTextDocument({content:H,language:"sql"});await N.window.showTextDocument(K)})),t.subscriptions.push(N.commands.registerCommand("netezza.toggleKeepConnectionOpen",()=>{let I=e.getKeepConnectionOpen();e.setKeepConnectionOpen(!I),c6(a,e);let v=!I;N.window.showInformationMessage(v?"Keep connection open: ENABLED - connection will remain open after queries":"Keep connection open: DISABLED - connection will be closed after each query")}),N.commands.registerCommand("netezza.cancelQuery",async()=>{await r0()}),N.commands.registerCommand("netezza.selectActiveConnection",async()=>{let I=await e.getConnections();if(I.length===0){N.window.showWarningMessage("No connections configured. Please connect first.");return}let v=await N.window.showQuickPick(I.map(U=>U.name),{placeHolder:"Select Active Connection"});v&&(await e.setActiveConnection(v),N.window.showInformationMessage(`Active connection set to: ${v}`))}),N.commands.registerCommand("netezza.selectConnectionForTab",async()=>{let I=N.window.activeTextEditor;if(!I||I.document.languageId!=="sql"){N.window.showWarningMessage("This command is only available for SQL files");return}let v=await e.getConnections();if(v.length===0){N.window.showWarningMessage("No connections configured. Please connect first.");return}let U=I.document.uri.toString(),X=e.getDocumentConnection(U)||e.getActiveConnectionName(),H=v.map(J=>({label:J.name,description:X===J.name?"$(check) Currently selected":`${J.host}:${J.port}/${J.database}`,detail:(X===J.name,void 0),name:J.name})),K=await N.window.showQuickPick(H,{placeHolder:"Select connection for this SQL tab"});K&&(e.setDocumentConnection(U,K.name),N.window.showInformationMessage(`Connection for this tab set to: ${K.name}`))}),N.commands.registerCommand("netezza.openLogin",()=>{af.createOrShow(t.extensionUri,e)}),N.commands.registerCommand("netezza.refreshSchema",async()=>{await r.clearCache(),n.refresh(),N.window.showInformationMessage("Schema refreshed (Cache cleared)")}),N.commands.registerCommand("netezza.copySelectAll",async I=>{if(I&&I.label&&I.dbName&&I.schema){let v=`SELECT * FROM ${I.dbName}.${I.schema}.${I.label} LIMIT 1000;`,U=await N.window.showQuickPick([{label:"Open in Editor",description:"Open SQL in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy SQL to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the SQL?"});if(U)if(U.value==="editor"){let X=await N.workspace.openTextDocument({content:v,language:"sql"});await N.window.showTextDocument(X)}else await N.env.clipboard.writeText(v),N.window.showInformationMessage("Copied to clipboard")}}),N.commands.registerCommand("netezza.copyDrop",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType){let v=`${I.dbName}.${I.schema}.${I.label}`,U=`DROP ${I.objType} ${v};`;if(await N.window.showWarningMessage(`Are you sure you want to delete ${I.objType.toLowerCase()} "${v}"?`,{modal:!0},"Yes, delete","Cancel")==="Yes, delete")try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Deleting ${I.objType.toLowerCase()} ${v}...`,cancellable:!1},async K=>{await ue(t,U,!0,I.connectionName,e)}),N.window.showInformationMessage(`Deleted ${I.objType.toLowerCase()}: ${v}`),n.refresh()}catch(H){N.window.showErrorMessage(`Error during deletion: ${H.message}`)}}}),N.commands.registerCommand("netezza.copyName",I=>{if(I&&I.label&&I.dbName&&I.schema){let v=`${I.dbName}.${I.schema}.${I.label}`;N.env.clipboard.writeText(v),N.window.showInformationMessage("Copied to clipboard")}}),N.commands.registerCommand("netezza.grantPermissions",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType){let v=`${I.dbName}.${I.schema}.${I.label}`,U=await N.window.showQuickPick([{label:"SELECT",description:"Privileges to read data"},{label:"INSERT",description:"Privileges to insert data"},{label:"UPDATE",description:"Privileges to update data"},{label:"DELETE",description:"Privileges to delete data"},{label:"ALL",description:"All privileges (SELECT, INSERT, UPDATE, DELETE)"},{label:"LIST",description:"Privileges to list objects"}],{placeHolder:"Select privilege type"});if(!U)return;let X=await N.window.showInputBox({prompt:"Enter user or group name",placeHolder:"e.g. SOME_USER or GROUP_NAME",validateInput:J=>!J||J.trim().length===0?"User/group name cannot be empty":/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(J.trim())?null:"Invalid user/group name"});if(!X)return;let H=`GRANT ${U.label} ON ${v} TO ${X.trim().toUpperCase()};`;if(await N.window.showInformationMessage(`Execute: ${H}`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Granting ${U.label} on ${v}...`,cancellable:!1},async q=>{await ue(t,H,!0,I.connectionName,e)}),N.window.showInformationMessage(`Granted ${U.label} on ${v} to ${X.trim().toUpperCase()}`)}catch(J){N.window.showErrorMessage(`Error granting privileges: ${J.message}`)}}}),N.commands.registerCommand("netezza.groomTable",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType==="TABLE"){let v=`${I.dbName}.${I.schema}.${I.label}`,U=await N.window.showQuickPick([{label:"RECORDS ALL",description:"Groom all records (reclaim space from deleted rows)"},{label:"RECORDS READY",description:"Groom only ready records"},{label:"PAGES ALL",description:"Groom all pages (reorganize data pages)"},{label:"PAGES START",description:"Groom pages from start"},{label:"VERSIONS",description:"Groom versions (clean up old row versions)"}],{placeHolder:"Select GROOM mode"});if(!U)return;let X=await N.window.showQuickPick([{label:"DEFAULT",description:"Use default backupset",value:"DEFAULT"},{label:"NONE",description:"No backupset",value:"NONE"},{label:"Custom",description:"Specify custom backupset ID",value:"CUSTOM"}],{placeHolder:"Select RECLAIM BACKUPSET option"});if(!X)return;let H=X.value;if(X.value==="CUSTOM"){let q=await N.window.showInputBox({prompt:"Enter backupset ID",placeHolder:"e.g. 12345",validateInput:j=>!j||j.trim().length===0?"Backupset ID cannot be empty":/^\d+$/.test(j.trim())?null:"Backupset ID must be a number"});if(!q)return;H=q.trim()}let K=`GROOM TABLE ${v} ${U.label} RECLAIM BACKUPSET ${H};`;if(await N.window.showWarningMessage(`Execute GROOM on table "${v}"?

${K}

Warning: This operation may be time-consuming for large tables.`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}let j=Date.now();await N.window.withProgress({location:N.ProgressLocation.Notification,title:`GROOM TABLE ${v} (${U.label})...`,cancellable:!1},async Q=>{await ue(t,K,!0,I.connectionName,e)});let te=((Date.now()-j)/1e3).toFixed(1);N.window.showInformationMessage(`GROOM completed successfully (${te}s): ${v}`)}catch(q){N.window.showErrorMessage(`Error during GROOM: ${q.message}`)}}}),N.commands.registerCommand("netezza.addTableComment",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType==="TABLE"){let v=`${I.dbName}.${I.schema}.${I.label}`,U=await N.window.showInputBox({prompt:"Enter comment for table",placeHolder:"e.g. Table contains customer data",value:I.objectDescription||""});if(U===void 0)return;let X=`COMMENT ON TABLE ${v} IS '${U.replace(/'/g,"''")}';`;try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}await ue(t,X,!0,I.connectionName,e),N.window.showInformationMessage(`Comment added to table: ${v}`),n.refresh()}catch(H){N.window.showErrorMessage(`Error adding comment: ${H.message}`)}}}),N.commands.registerCommand("netezza.addColumnComment",async I=>{if(I&&I.label&&I.dbName&&I.parentName){let v=I.label.split(" ")[0],U=I.parentName,X=I.schema||"ADMIN",H=`${I.dbName}.${X}.${U}.${v}`,K=await N.window.showInputBox({prompt:`Enter comment for column "${v}"`,placeHolder:"e.g. Customer ID from CRM",value:I.objectDescription||""});if(K===void 0)return;let J=`COMMENT ON COLUMN ${H} IS '${K.replace(/'/g,"''")}';`;try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}await ue(t,J,!0,I.connectionName,e),N.window.showInformationMessage(`Comment added to column: ${v}`),n.refresh()}catch(q){N.window.showErrorMessage(`Error adding comment: ${q.message}`)}}}),N.commands.registerCommand("netezza.generateStatistics",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType==="TABLE"){let v=`${I.dbName}.${I.schema}.${I.label}`,U=`GENERATE EXPRESS STATISTICS ON ${v};`;if(await N.window.showInformationMessage(`Generate statistics for table "${v}"?

${U}`,{modal:!0},"Yes, generate","Cancel")==="Yes, generate")try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}let K=Date.now();await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Generating statistics for ${v}...`,cancellable:!1},async q=>{await ue(t,U,!0,I.connectionName,e)});let J=((Date.now()-K)/1e3).toFixed(1);N.window.showInformationMessage(`Statistics generated successfully (${J}s): ${v}`)}catch(H){N.window.showErrorMessage(`Error generating statistics: ${H.message}`)}}}),N.commands.registerCommand("netezza.truncateTable",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType==="TABLE"){let v=`${I.dbName}.${I.schema}.${I.label}`,U=`TRUNCATE TABLE ${v};`;if(await N.window.showWarningMessage(`\u26A0\uFE0F WARNING: Are you sure you want to delete ALL data from the table "${v}"?

${U}

This operation is IRREVERSIBLE!`,{modal:!0},"Yes, delete all data","Cancel")==="Yes, delete all data")try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Clearing table ${v}...`,cancellable:!1},async K=>{await ue(t,U,!0,I.connectionName,e)}),N.window.showInformationMessage(`Table cleared: ${v}`)}catch(H){N.window.showErrorMessage(`Error clearing table: ${H.message}`)}}}),N.commands.registerCommand("netezza.addPrimaryKey",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType==="TABLE"){let v=`${I.dbName}.${I.schema}.${I.label}`,U=await N.window.showInputBox({prompt:"Enter primary key constraint name",placeHolder:`e.g. PK_${I.label}`,value:`PK_${I.label}`,validateInput:q=>!q||q.trim().length===0?"Constraint name cannot be empty":/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(q.trim())?null:"Invalid constraint name"});if(!U)return;let X=await N.window.showInputBox({prompt:"Enter primary key column names (comma separated)",placeHolder:"e.g. COL1, COL2 or ID",validateInput:q=>!q||q.trim().length===0?"You must provide at least one column":null});if(!X)return;let H=X.split(",").map(q=>q.trim().toUpperCase()).join(", "),K=`ALTER TABLE ${v} ADD CONSTRAINT ${U.trim().toUpperCase()} PRIMARY KEY (${H});`;if(await N.window.showInformationMessage(`Add primary key to table "${v}"?

${K}`,{modal:!0},"Yes, add","Cancel")==="Yes, add")try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Adding primary key to ${v}...`,cancellable:!1},async j=>{await ue(t,K,!0,I.connectionName,e)}),N.window.showInformationMessage(`Primary key added: ${U.trim().toUpperCase()}`),n.refresh()}catch(q){N.window.showErrorMessage(`Error adding primary key: ${q.message}`)}}}),N.commands.registerCommand("netezza.createDDL",async I=>{try{if(!I||!I.label||!I.dbName||!I.schema||!I.objType){N.window.showErrorMessage("Invalid object selected for DDL generation");return}let v=await e.getConnectionString();if(!v){N.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Generating DDL for ${I.objType} ${I.label}...`,cancellable:!1},async()=>{let{generateDDL:U}=await Promise.resolve().then(()=>(gc(),FR)),X=await U(v,I.dbName,I.schema,I.label,I.objType);if(X.success&&X.ddlCode){let H=await N.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the DDL code?"});if(H)if(H.value==="editor"){let K=await N.workspace.openTextDocument({content:X.ddlCode,language:"sql"});await N.window.showTextDocument(K),N.window.showInformationMessage(`DDL code generated for ${I.objType} ${I.label}`)}else H.value==="clipboard"&&(await N.env.clipboard.writeText(X.ddlCode),N.window.showInformationMessage("DDL code copied to clipboard"))}else throw new Error(X.error||"DDL generation failed")})}catch(v){N.window.showErrorMessage(`Error generating DDL: ${v.message}`)}}),N.commands.registerCommand("netezza.compareSchema",async I=>{try{if(!I||!I.label||!I.dbName||!I.schema||!I.objType){N.window.showErrorMessage("Invalid object selected for comparison");return}let v=await e.getConnectionString();if(!v){N.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let U=I.objType,X=`${I.dbName}.${I.schema}.${I.label}`,H=[];if(await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Loading ${U}s for comparison...`,cancellable:!1},async()=>{let J=U==="PROCEDURE"?"OBJTYPE = 'PROCEDURE'":U==="VIEW"?"OBJTYPE = 'VIEW'":"OBJTYPE = 'TABLE'",q=U==="PROCEDURE"?`SELECT DISTINCT SCHEMA, PROCEDURESIGNATURE AS OBJNAME FROM ${I.dbName}.._V_PROCEDURE WHERE DATABASE = '${I.dbName.toUpperCase()}' ORDER BY SCHEMA, PROCEDURESIGNATURE`:`SELECT SCHEMA, OBJNAME FROM ${I.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${I.dbName.toUpperCase()}' AND ${J} ORDER BY SCHEMA, OBJNAME`,j=await ue(t,q,!0,I.connectionName,e);if(j&&!j.startsWith("Query executed successfully")){let te=JSON.parse(j);for(let Q of te){let ae=Q.OBJNAME,Ee=Q.SCHEMA;`${I.dbName}.${Ee}.${ae}`.toUpperCase()!==X.toUpperCase()&&H.push({label:ae,description:`${I.dbName}.${Ee}`,db:I.dbName,schema:Ee,name:ae})}}}),H.length===0){N.window.showWarningMessage(`No other ${U}s found to compare with.`);return}let K=await N.window.showQuickPick(H,{placeHolder:`Select ${U} to compare with ${I.label}`,matchOnDescription:!0});if(!K)return;await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Comparing ${I.label} with ${K.label}...`,cancellable:!1},async()=>{if(U==="PROCEDURE"){let{compareProcedures:J}=await Promise.resolve().then(()=>(HR(),GR)),{SchemaCompareView:q}=await Promise.resolve().then(()=>($R(),YR)),j=await J(v,I.dbName,I.schema,I.label,K.db,K.schema,K.name);q.createOrShow(t.extensionUri,j,"procedure")}else{let{compareTableStructures:J}=await Promise.resolve().then(()=>(HR(),GR)),{SchemaCompareView:q}=await Promise.resolve().then(()=>($R(),YR)),j=await J(v,I.dbName,I.schema,I.label,K.db,K.schema,K.name);q.createOrShow(t.extensionUri,j,"table")}}),N.window.showInformationMessage(`Comparison complete: ${I.label} \u2194 ${K.label}`)}catch(v){N.window.showErrorMessage(`Error comparing objects: ${v.message}`)}}),N.commands.registerCommand("netezza.batchExportDDL",async I=>{try{if(!I||!I.contextValue){N.window.showErrorMessage("Invalid node selected for batch DDL export");return}let v=I.contextValue==="database",U=I.contextValue.startsWith("typeGroup:");if(!v&&!U){N.window.showErrorMessage("Batch DDL export is only available on database or object type nodes");return}let X=await e.getConnectionString(I.connectionName);if(!X){N.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let H=I.dbName||I.label,K=U?[I.objType||I.contextValue.replace("typeGroup:","")]:void 0;await N.window.withProgress({location:N.ProgressLocation.Notification,title:v?`Exporting all DDL for database ${H}...`:`Exporting ${K?.[0]} DDL for ${H}...`,cancellable:!1},async J=>{let{generateBatchDDL:q}=await Promise.resolve().then(()=>(gc(),FR)),j=await q({connectionString:X,database:H,objectTypes:K});if(j.success&&j.ddlCode){let te=await N.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Save to File",description:"Save DDL code to a .sql file",value:"file"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:`${j.objectCount} objects found. How would you like to access the DDL code?`});if(te)if(te.value==="editor"){let Q=await N.workspace.openTextDocument({content:j.ddlCode,language:"sql"});await N.window.showTextDocument(Q),N.window.showInformationMessage(`DDL exported: ${j.objectCount} objects`)}else if(te.value==="file"){let Q=v?`${H}_all_ddl.sql`:`${H}_${K?.[0]?.toLowerCase()||"objects"}_ddl.sql`,ae=await N.window.showSaveDialog({defaultUri:N.Uri.file(Q),filters:{"SQL Files":["sql"]}});ae&&(await N.workspace.fs.writeFile(ae,Buffer.from(j.ddlCode,"utf8")),N.window.showInformationMessage(`DDL saved to ${ae.fsPath}`))}else te.value==="clipboard"&&(await N.env.clipboard.writeText(j.ddlCode),N.window.showInformationMessage(`DDL copied: ${j.objectCount} objects`));j.errors.length>0&&N.window.showWarningMessage(`Batch DDL completed with ${j.errors.length} error(s). Check the generated file for details.`)}else throw new Error(j.errors.join(", ")||"Batch DDL generation failed")})}catch(v){N.window.showErrorMessage(`Error exporting DDL: ${v.message}`)}}),N.commands.registerCommand("netezza.showERD",async I=>{try{if(!I||!I.contextValue||!I.contextValue.startsWith("typeGroup:")){N.window.showErrorMessage("Please right-click on a TABLE type group to show ERD");return}let v=I.dbName||I.label,U=I.connectionName;if(!U){N.window.showErrorMessage("No connection selected");return}let X=`SELECT DISTINCT SCHEMA FROM ${v}.._V_TABLE ORDER BY SCHEMA`,H=await ue(t,X,!0,U,e);if(!H){N.window.showErrorMessage("Could not retrieve schemas");return}let K=JSON.parse(H);if(K.length===0){N.window.showWarningMessage("No tables found in this database");return}let J;if(K.length===1)J=K[0].SCHEMA;else{let te=K.map(ae=>({label:ae.SCHEMA,description:`${v}.${ae.SCHEMA}`})),Q=await N.window.showQuickPick(te,{placeHolder:"Select schema to show ERD for"});if(!Q)return;J=Q.label}let q=0,j=0;await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Building ERD for ${v}.${J}...`,cancellable:!1},async()=>{let{buildERDData:te}=await Promise.resolve().then(()=>(ML(),PL)),{ERDView:Q}=await Promise.resolve().then(()=>(vL(),xL)),ae=await te(t,e,U,v,J);q=ae.tables.length,j=ae.relationships.length,Q.createOrShow(t.extensionUri,ae)}),N.window.showInformationMessage(`ERD generated: ${q} tables, ${j} relationships`)}catch(v){N.window.showErrorMessage(`Error generating ERD: ${v.message}`)}}),N.commands.registerCommand("netezza.showSessionMonitor",async()=>{try{if(!await e.getConnectionString()){N.window.showErrorMessage("Please connect to a Netezza database first.");return}let{SessionMonitorView:v}=await Promise.resolve().then(()=>(BL(),UL));v.createOrShow(t.extensionUri,t,e)}catch(I){N.window.showErrorMessage(`Error opening Session Monitor: ${I.message}`)}}),N.commands.registerCommand("netezza.recreateTable",async I=>{try{if(!I||!I.label||!I.dbName||!I.schema||!I.objType||I.objType!=="TABLE"){N.window.showErrorMessage("Invalid object selected for Recreate Table");return}let v=await e.getConnectionString();if(!v){N.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let U=await N.window.showInputBox({prompt:"Enter temporary table name (Optional)",placeHolder:"Leave empty to auto-generate timestamped name",value:""});if(U===void 0)return;await N.window.withProgress({location:N.ProgressLocation.Notification,title:`Generating Recreate Script for ${I.label}...`,cancellable:!1},async()=>{let{generateRecreateTableScript:X}=await Promise.resolve().then(()=>(GL(),FL)),H=await X(v,I.dbName,I.schema,I.label,U||void 0);if(H.success&&H.sqlScript){let K=await N.workspace.openTextDocument({content:H.sqlScript,language:"sql"});await N.window.showTextDocument(K),N.window.showInformationMessage(`Recreate script generated for ${I.label}`)}else throw new Error(H.error||"Script generation failed")})}catch(v){N.window.showErrorMessage(`Error generating recreate script: ${v.message}`)}}),N.commands.registerCommand("netezza.checkSkew",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType==="TABLE"){let v=`${I.dbName}.${I.schema}.${I.label}`,U=`SELECT datasliceid, count(*) as row_count FROM ${v} GROUP BY 1 ORDER BY 1;`;if(await N.window.showInformationMessage(`Check skew for "${v}"?

This will run: ${U}

Note: This may be slow on very large tables.`,{modal:!0},"Yes, check skew","Cancel")==="Yes, check skew"){let H=await N.workspace.openTextDocument({content:`-- Check Skew for ${v}
${U}`,language:"sql"});await N.window.showTextDocument(H),N.commands.executeCommand("netezza.runQuery")}}}),N.commands.registerCommand("netezza.changeOwner",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType==="TABLE"){let v=`${I.dbName}.${I.schema}.${I.label}`,U=await N.window.showInputBox({prompt:"Enter new owner name",placeHolder:"e.g. USER_NAME or GROUP_NAME"});if(!U)return;let X=`ALTER TABLE ${v} OWNER TO ${U.trim()};`;try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}await ue(t,X,!0,I.connectionName,e),N.window.showInformationMessage(`Owner changed to ${U} for ${v}`),r.invalidateSchema(I.connectionName,I.dbName,I.schema),n.refresh()}catch(H){N.window.showErrorMessage(`Error changing owner: ${H.message}`)}}}),N.commands.registerCommand("netezza.renameTable",async I=>{if(I&&I.label&&I.dbName&&I.schema&&I.objType==="TABLE"){let v=`${I.dbName}.${I.schema}.${I.label}`,U=await N.window.showInputBox({prompt:"Enter new table name",placeHolder:"NewTableName",value:I.label});if(!U||U===I.label)return;let X=`ALTER TABLE ${v} RENAME TO ${U.trim()};`;try{if(!await e.getConnectionString()){N.window.showErrorMessage("No database connection");return}await ue(t,X,!0,I.connectionName,e),N.window.showInformationMessage(`Table renamed to ${U}`),r.invalidateSchema(I.connectionName,I.dbName,I.schema),n.refresh()}catch(H){N.window.showErrorMessage(`Error renaming table: ${H.message}`)}}}),N.commands.registerCommand("netezza.revealInSchema",async I=>{let v=N.window.setStatusBarMessage(`$(loading~spin) Revealing ${I.name} in schema...`);try{let U,X=N.window.activeTextEditor;if(X&&X.document.languageId==="sql"&&(U=e.getConnectionForExecution(X.document.uri.toString())),U||(U=I.connectionName),U||(U=e.getActiveConnectionName()||void 0),!U){v.dispose(),N.window.showWarningMessage("No active connection. Please select a connection first.");return}let H=I.name,K=I.objType,J=K?[K]:["TABLE","VIEW","EXTERNAL TABLE","PROCEDURE","FUNCTION","SEQUENCE","SYNONYM"];if(K==="COLUMN"){if(!I.parent){v.dispose(),N.window.showWarningMessage("Cannot find column without parent table");return}H=I.parent}if(I.database){let te=r.findObjectWithType(U,I.database,I.schema,H);if(te){let{SchemaItem:Q}=await Promise.resolve().then(()=>(Sc(),lf)),ae=new Q(te.name,N.TreeItemCollapsibleState.Collapsed,`netezza:${te.objType}`,I.database,te.objType,te.schema||I.schema,te.objId,void 0,U);await u.reveal(ae,{select:!0,focus:!0,expand:!0}),v.dispose(),N.window.setStatusBarMessage(`$(check) Found ${H} in ${I.database}.${te.schema||I.schema} (cached)`,3e3);return}else r.hasConnectionPrefetchTriggered(U)||r.triggerConnectionPrefetch(U,async Q=>ue(t,Q,!0,U,e))}if(!await e.getConnectionString(U)){v.dispose(),N.window.showWarningMessage("Not connected to database and object not found in cache.");return}let j=I.database||await e.getCurrentDatabase(U);if(j){let te=K&&K!=="COLUMN"?`AND UPPER(OBJTYPE) = UPPER('${K}')`:"",Q=I.schema?`AND UPPER(SCHEMA) = UPPER('${I.schema.replace(/'/g,"''")}')`:"",ae=`
                        SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                        FROM ${j}.._V_OBJECT_DATA 
                        WHERE UPPER(OBJNAME) = UPPER('${H.replace(/'/g,"''")}') 
                        AND DBNAME = '${j}'
                        ${te}
                        ${Q}
                        LIMIT 1
                    `;try{let Ee=await ue(t,ae,!0,U,e);if(Ee){let Ye=[];if(Ee==="Query executed successfully (no results)."||Ee.startsWith("Query executed successfully")?Ye=[]:Ye=JSON.parse(Ee),Ye.length>0){let it=Ye[0];if(it.OBJTYPE==="PROCEDURE")try{let vt=`SELECT PROCEDURESIGNATURE FROM ${j}.._V_PROCEDURE WHERE OBJID = ${it.OBJID}`,oa=await ue(t,vt,!0,U,e);if(oa){let zi=JSON.parse(oa);zi.length>0&&zi[0].PROCEDURESIGNATURE&&(it.OBJNAME=zi[0].PROCEDURESIGNATURE)}}catch(vt){console.warn("Failed to resolve procedure signature:",vt)}let{SchemaItem:Bt}=await Promise.resolve().then(()=>(Sc(),lf)),Ir=new Bt(it.OBJNAME,N.TreeItemCollapsibleState.Collapsed,`netezza:${it.OBJTYPE}`,j,it.OBJTYPE,it.SCHEMA,it.OBJID,void 0,U);await u.reveal(Ir,{select:!0,focus:!0,expand:!0}),v.dispose(),N.window.setStatusBarMessage(`$(check) Found ${H} in ${j}.${it.SCHEMA}`,3e3);return}}}catch(Ee){console.log(`Error searching in ${j}:`,Ee)}}if(!j){let te=await ue(t,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,U,e);if(te){let Q=JSON.parse(te);for(let ae of Q){let Ee=ae.DATABASE;try{let Ye=I.schema?`AND UPPER(SCHEMA) = UPPER('${I.schema.replace(/'/g,"''")}')`:"",it=`
                                    SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                                    FROM ${Ee}.._V_OBJECT_DATA 
                                    WHERE UPPER(OBJNAME) = UPPER('${H.replace(/'/g,"''")}') 
                                    AND DBNAME = '${Ee}'
                                    ${Ye}
                                    LIMIT 1
                                `,Bt=await ue(t,it,!0,U,e);if(Bt){let Ir=[];if(Bt==="Query executed successfully (no results)."||Bt.startsWith("Query executed successfully")?Ir=[]:Ir=JSON.parse(Bt),Ir.length>0){let vt=Ir[0];if(vt.OBJTYPE==="PROCEDURE")try{let Fs=`SELECT PROCEDURESIGNATURE FROM ${Ee}.._V_PROCEDURE WHERE OBJID = ${vt.OBJID}`,ic=await ue(t,Fs,!0,U,e);if(ic){let aa=JSON.parse(ic);aa.length>0&&aa[0].PROCEDURESIGNATURE&&(vt.OBJNAME=aa[0].PROCEDURESIGNATURE)}}catch(Fs){console.warn("Failed to resolve procedure signature:",Fs)}let{SchemaItem:oa}=await Promise.resolve().then(()=>(Sc(),lf)),zi=new oa(vt.OBJNAME,N.TreeItemCollapsibleState.Collapsed,`netezza:${vt.OBJTYPE}`,Ee,vt.OBJTYPE,vt.SCHEMA,vt.OBJID,void 0,U);await u.reveal(zi,{select:!0,focus:!0,expand:!0}),v.dispose(),N.window.setStatusBarMessage(`$(check) Found ${H} in ${Ee}.${vt.SCHEMA}`,3e3);return}}}catch(Ye){console.log(`Error searching in ${Ee}:`,Ye)}}}}v.dispose(),N.window.showWarningMessage(`Could not find ${K||"object"} ${H}`)}catch(U){v.dispose(),N.window.showErrorMessage(`Error revealing item: ${U.message}`)}}),N.commands.registerCommand("netezza.showQueryHistory",()=>{N.commands.executeCommand("netezza.queryHistory.focus")}),N.commands.registerCommand("netezza.clearQueryHistory",async()=>{let{QueryHistoryManager:I}=await Promise.resolve().then(()=>(of(),t0)),v=new I(t);await N.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await v.clearHistory(),c.refresh(),N.window.showInformationMessage("Query history cleared"))})),t.subscriptions.push(N.languages.registerDocumentLinkProvider({language:"sql"},new ff)),t.subscriptions.push(N.languages.registerFoldingRangeProvider({language:"sql"},new df)),t.subscriptions.push(N.commands.registerCommand("netezza.jumpToSchema",async()=>{let I=N.window.activeTextEditor;if(!I)return;let v=I.document,U=I.selection,X=v.offsetAt(U.active),H=In.getObjectAtPosition(v.getText(),X);H?N.commands.executeCommand("netezza.revealInSchema",H):N.window.showWarningMessage("No object found at cursor")}));let p=N.commands.registerCommand("netezza.runQuery",async()=>{let I=N.window.activeTextEditor;if(!I){N.window.showErrorMessage("No active editor found");return}let v=I.document,U=I.selection,X=v.getText(),H=v.uri.toString(),K=[];if(U.isEmpty){let q=v.offsetAt(U.active),j=In.getStatementAtPosition(X,q);if(j){K=[j.sql];let te=v.positionAt(j.start),Q=v.positionAt(j.end);I.selection=new N.Selection(te,Q)}else{N.window.showWarningMessage("No SQL statement found at cursor");return}}else{let q=v.getText(U);if(!q.trim()){N.window.showWarningMessage("No SQL query selected");return}/^\s*CREATE\s+(OR\s+REPLACE\s+)?PROCEDURE\b/i.test(q)?K=[q]:K=In.splitStatements(q)}if(K.length===0)return;let J=K.length===1?K[0].trim():null;if(J){let q=J.split(/\s+/),j=q[0]||"",te=/python(\.exe)?$/i.test(j)&&q.length>=2&&q[1].toLowerCase().endsWith(".py"),Q=j.toLowerCase().endsWith(".py");if(te||Q){let Ee=N.workspace.getConfiguration("netezza").get("pythonPath")||"python",Ye="";if(te){let Bt=q[0],Ir=q[1],vt=q.slice(2);Ye=f(Bt,Ir,vt)}else{let Bt=j,Ir=q.slice(1);Ye=f(Ee,Bt,Ir)}let it=N.window.createTerminal({name:"Netezza: Script"});it.show(!0),it.sendText(Ye,!0),N.window.showInformationMessage(`Running script: ${Ye}`);return}}try{i.startExecution(H);let q=await hc(t,K,e,H,j=>i.log(H,j),j=>i.updateResults(j,H,!0));i.finalizeExecution(H),N.commands.executeCommand("netezza.results.focus")}catch(q){i.finalizeExecution(H),i.log(H,`Error: ${q.message}`),N.window.showErrorMessage(`Error executing query: ${q.message}`)}}),g=N.commands.registerCommand("netezza.runQueryBatch",async()=>{let I=N.window.activeTextEditor;if(!I){N.window.showErrorMessage("No active editor found");return}let v=I.document,U=I.selection,X=v.uri.toString(),H;if(U.isEmpty?H=v.getText():H=v.getText(U),!H.trim()){N.window.showWarningMessage("No SQL query to execute");return}let J=H.trim().split(/\s+/),q=J[0]||"",j=/python(\.exe)?$/i.test(q)&&J.length>=2&&J[1].toLowerCase().endsWith(".py"),te=q.toLowerCase().endsWith(".py");if(j||te){let ae=N.workspace.getConfiguration("netezza").get("pythonPath")||"python",Ee="";if(j){let it=J[0],Bt=J[1],Ir=J.slice(2);Ee=f(it,Bt,Ir)}else{let it=q,Bt=J.slice(1);Ee=f(ae,it,Bt)}let Ye=N.window.createTerminal({name:"Netezza: Script"});Ye.show(!0),Ye.sendText(Ee,!0),N.window.showInformationMessage(`Running script: ${Ee}`);return}try{i.startExecution(X);let Q=await hc(t,[H],e,X,ae=>i.log(X,ae),ae=>i.updateResults(ae,X,!0));i.finalizeExecution(X),N.commands.executeCommand("netezza.results.focus")}catch(Q){i.finalizeExecution(X),i.log(X,`Error: ${Q.message}`),N.window.showErrorMessage(`Error executing query: ${Q.message}`)}});t.subscriptions.push(g),t.subscriptions.push(N.commands.registerCommand("netezza.explainQuery",async()=>{await D(!1)}),N.commands.registerCommand("netezza.explainQueryVerbose",async()=>{await D(!0)})),t.subscriptions.push(N.commands.registerCommand("netezza.formatSQL",async()=>{let I=N.window.activeTextEditor;if(!I){N.window.showErrorMessage("No active editor");return}if(I.document.languageId!=="sql"&&I.document.languageId!=="mssql"){N.window.showWarningMessage("Format SQL is only available for SQL files");return}let v=N.workspace.getConfiguration("netezza"),U=v.get("formatSQL.tabWidth",4),X=v.get("formatSQL.keywordCase","upper"),H=I.selection,K=H.isEmpty?I.document.getText():I.document.getText(H);try{let J="__NZ_DOUBLE_DOT__",q=K.replace(/\.\.(?=[a-zA-Z_])/g,`.${J}.`),te=UR(q,{language:"sql",tabWidth:U,keywordCase:X,linesBetweenQueries:2}).replace(new RegExp(`\\.\\s*${J}\\s*\\.`,"g"),"..");await I.edit(Q=>{if(H.isEmpty){let ae=new N.Range(I.document.positionAt(0),I.document.positionAt(I.document.getText().length));Q.replace(ae,te)}else Q.replace(H,te)}),N.window.showInformationMessage("SQL formatted successfully")}catch(J){let q=J.message||String(J);q.includes("Parse error")?N.window.showErrorMessage("SQL formatting failed: The SQL contains syntax not supported by the formatter. Try selecting a simpler portion of the SQL to format."):N.window.showErrorMessage(`Format SQL failed: ${q}`)}}));async function D(I){let v=N.window.activeTextEditor;if(!v){N.window.showErrorMessage("No active editor found");return}let U=v.document,X=v.selection,H;if(!X.isEmpty)H=U.getText(X);else{let q=v.selection.active,j=U.offsetAt(q),te=U.getText(),Q=In.getStatementAtPosition(te,j);Q?H=te.substring(Q.start,Q.end):H=U.getText()}if(!H.trim()){N.window.showWarningMessage("No SQL query to explain");return}let K=H.trim();K.toUpperCase().startsWith("EXPLAIN")&&(K=K.replace(/^EXPLAIN\s+(?:VERBOSE\s+)?/i,""));let J=I?`EXPLAIN VERBOSE ${K}`:`EXPLAIN ${K}`;try{let q=U.uri.toString(),j=e.getConnectionForExecution(q);if(!await e.getConnectionString(j)){N.window.showErrorMessage("No database connection. Please connect first.");return}await N.window.withProgress({location:N.ProgressLocation.Notification,title:"Generating query plan...",cancellable:!1},async()=>{let Q=await a0(t,J,j,e,q);if(Q&&Q.trim()){let{parseExplainOutput:ae,ExplainPlanView:Ee}=await Promise.resolve().then(()=>(kL(),VL)),Ye=ae(Q);Ee.createOrShow(t.extensionUri,Ye,K)}else N.window.showWarningMessage("No explain output received")})}catch(q){N.window.showErrorMessage(`Error generating query plan: ${q.message}`)}}let O=N.window.createOutputChannel("Netezza"),M=(I,v)=>{let U=Date.now()-v;O.appendLine(`[${new Date().toLocaleTimeString()}] ${I} completed in ${U}ms`),O.show(!0)},w=N.commands.registerCommand("netezza.exportToXlsb",async()=>{let I=N.window.activeTextEditor;if(!I){N.window.showErrorMessage("No active editor found");return}let v=I.selection,U=v.isEmpty?I.document.getText():I.document.getText(v);if(!U.trim()){N.window.showWarningMessage("No SQL query to export");return}let X=await N.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB"});if(!X)return;let H=Date.now();try{let K=I.document.uri.toString(),J=e.getConnectionForExecution(K),q=await e.getConnectionString(J);if(!q)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await N.window.withProgress({location:N.ProgressLocation.Notification,title:"Exporting to XLSB...",cancellable:!1},async j=>{let{exportQueryToXlsb:te}=await Promise.resolve().then(()=>(ia(),na)),Q=await te(q,U,X.fsPath,!1,ae=>{j.report({message:ae}),O.appendLine(`[XLSB Export] ${ae}`)});if(!Q.success)throw new Error(Q.message)}),M("Export to XLSB",H),N.window.showInformationMessage(`Results exported to ${X.fsPath}`)}catch(K){N.window.showErrorMessage(`Error exporting to XLSB: ${K.message}`)}}),x=N.commands.registerCommand("netezza.exportToCsv",async()=>{let I=N.window.activeTextEditor;if(!I){N.window.showErrorMessage("No active editor found");return}let v=I.selection,U=v.isEmpty?I.document.getText():I.document.getText(v);if(!U.trim()){N.window.showWarningMessage("No SQL query to export");return}let X=await N.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export to CSV"});if(!X)return;let H=Date.now();try{let K=I.document.uri.toString(),J=e.getConnectionForExecution(K),q=await e.getConnectionString(J);if(!q)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await N.window.withProgress({location:N.ProgressLocation.Notification,title:"Exporting to CSV...",cancellable:!1},async j=>{let{exportToCsv:te}=await Promise.resolve().then(()=>(Jq(),zq));await te(t,q,U,X.fsPath,j)}),M("Export to CSV",H),N.window.showInformationMessage(`Results exported to ${X.fsPath}`)}catch(K){N.window.showErrorMessage(`Error exporting to CSV: ${K.message}`)}}),F=N.commands.registerCommand("netezza.copyXlsbToClipboard",async()=>{let I=N.window.activeTextEditor;if(!I){N.window.showErrorMessage("No active editor found");return}let v=I.selection,U=v.isEmpty?I.document.getText():I.document.getText(v);if(!U.trim()){N.window.showWarningMessage("No SQL query to export");return}try{let X=I.document.uri.toString(),H=e.getConnectionForExecution(X),K=await e.getConnectionString(H);if(!K)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let J=Date.now();if(await N.window.withProgress({location:N.ProgressLocation.Notification,title:"Exporting to XLSB and copying to clipboard...",cancellable:!1},async j=>{let{exportQueryToXlsb:te,getTempFilePath:Q}=await Promise.resolve().then(()=>(ia(),na)),ae=Q(),Ee=await te(K,U,ae,!0,Ye=>{j.report({message:Ye}),O.appendLine(`[XLSB Clipboard] ${Ye}`)});if(!Ee.success)throw new Error(Ee.message);if(!Ee.details?.clipboard_success)throw new Error("Failed to copy file to clipboard")}),M("Copy XLSB to Clipboard",J),await N.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let j=require("os").tmpdir();await N.env.openExternal(N.Uri.file(j))}}catch(X){N.window.showErrorMessage(`Error copying XLSB to clipboard: ${X.message}`)}}),ee=N.commands.registerCommand("netezza.exportToXlsbAndOpen",async()=>{let I=N.window.activeTextEditor;if(!I){N.window.showErrorMessage("No active editor found");return}let v=I.selection,U=v.isEmpty?I.document.getText():I.document.getText(v);if(!U.trim()){N.window.showWarningMessage("No SQL query to export");return}let X=await N.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB and Open"});if(!X)return;let H=Date.now();try{let K=I.document.uri.toString(),J=e.getConnectionForExecution(K),q=await e.getConnectionString(J);if(!q)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await N.window.withProgress({location:N.ProgressLocation.Notification,title:"Exporting to XLSB and opening...",cancellable:!1},async j=>{let{exportQueryToXlsb:te}=await Promise.resolve().then(()=>(ia(),na)),Q=await te(q,U,X.fsPath,!1,ae=>{j.report({message:ae}),O.appendLine(`[XLSB Export] ${ae}`)});if(!Q.success)throw new Error(Q.message)}),M("Export to XLSB and Open",H),await N.env.openExternal(X),N.window.showInformationMessage(`Results exported and opened: ${X.fsPath}`)}catch(K){N.window.showErrorMessage(`Error exporting to XLSB: ${K.message}`)}}),Z=N.commands.registerCommand("netezza.importClipboard",async()=>{try{let v=N.window.activeTextEditor?.document?.uri?.toString(),U=e.getConnectionForExecution(v),X=await e.getConnectionString(U);if(!X)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let H=await N.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:j=>!j||j.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(j.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(H===void 0)return;let K;if(!H||H.trim().length===0)try{let te=await ue(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,U,e);if(te){let Q=JSON.parse(te);if(Q&&Q.length>0){let ae=Q[0].CURRENT_CATALOG||"SYSTEM",Ee=Q[0].CURRENT_SCHEMA||"ADMIN",it=new Date().toISOString().slice(0,10).replace(/-/g,""),Bt=Math.floor(Math.random()*1e4).toString().padStart(4,"0");K=`${ae}.${Ee}.IMPORT_${it}_${Bt}`,N.window.showInformationMessage(`Auto-generated table name: ${K}`)}else throw new Error("Could not determine current database/schema")}else throw new Error("Could not determine current database/schema")}catch(j){N.window.showErrorMessage(`Error getting current database/schema: ${j.message}`);return}else K=H.trim();let J=await N.window.showQuickPick([{label:"Auto-detect",description:"Automatically detect clipboard format (text or Excel XML)",value:null},{label:"Excel XML Spreadsheet",description:"Force Excel XML format processing",value:"XML Spreadsheet"},{label:"Plain Text",description:"Force plain text processing with delimiter detection",value:"TEXT"}],{placeHolder:"Select clipboard data format"});if(!J)return;let q=Date.now();await N.window.withProgress({location:N.ProgressLocation.Notification,title:"Importing clipboard data...",cancellable:!1},async j=>{let{importClipboardDataToNetezza:te}=await Promise.resolve().then(()=>(l6(),a6)),Q=await te(K,X,J.value,{},ae=>{j.report({message:ae}),O.appendLine(`[Clipboard Import] ${ae}`)});if(!Q.success)throw new Error(Q.message);Q.details&&(O.appendLine(`[Clipboard Import] Rows processed: ${Q.details.rowsProcessed}`),O.appendLine(`[Clipboard Import] Columns: ${Q.details.columns}`),O.appendLine(`[Clipboard Import] Format: ${Q.details.format}`))}),M("Import Clipboard Data",q),N.window.showInformationMessage(`Clipboard data imported successfully to table: ${K}`)}catch(I){N.window.showErrorMessage(`Error importing clipboard data: ${I.message}`)}}),ne=N.commands.registerCommand("netezza.importData",async()=>{try{let v=N.window.activeTextEditor?.document?.uri?.toString(),U=e.getConnectionForExecution(v),X=await e.getConnectionString(U);if(!X)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let H=await N.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Data Files":["csv","txt","xlsx","xlsb","json"],"CSV Files":["csv"],"Excel Files":["xlsx","xlsb"],"Text Files":["txt"],"JSON Files":["json"],"All Files":["*"]},openLabel:"Select file to import"});if(!H||H.length===0)return;let K=H[0].fsPath,J=await N.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:Q=>!Q||Q.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(Q.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(J===void 0)return;let q;if(!J||J.trim().length===0)try{let ae=await ue(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,U,e);if(ae){let Ee=JSON.parse(ae);if(Ee&&Ee.length>0){let Ye=Ee[0].CURRENT_CATALOG||"SYSTEM",it=Ee[0].CURRENT_SCHEMA||"ADMIN",Ir=new Date().toISOString().slice(0,10).replace(/-/g,""),vt=Math.floor(Math.random()*1e4).toString().padStart(4,"0");q=`${Ye}.${it}.IMPORT_${Ir}_${vt}`,N.window.showInformationMessage(`Auto-generated table name: ${q}`)}else throw new Error("Could not determine current database/schema")}else throw new Error("Could not determine current database/schema")}catch(Q){N.window.showErrorMessage(`Error getting current database/schema: ${Q.message}`);return}else q=J.trim();let j=await N.window.showQuickPick([{label:"Default Import",description:"Use default settings",value:{}},{label:"Custom Options",description:"Configure import settings (coming soon)",value:null}],{placeHolder:"Select import options"});if(!j)return;if(j.value===null){N.window.showInformationMessage("Custom options will be available in future version");return}let te=Date.now();await N.window.withProgress({location:N.ProgressLocation.Notification,title:"Importing data...",cancellable:!1},async Q=>{let{importDataToNetezza:ae}=await Promise.resolve().then(()=>(Vm(),s6)),Ee=await ae(K,q,X,j.value||{},Ye=>{Q.report({message:Ye}),O.appendLine(`[Import] ${Ye}`)});if(!Ee.success)throw new Error(Ee.message);Ee.details&&(O.appendLine(`[Import] Rows processed: ${Ee.details.rowsProcessed}`),O.appendLine(`[Import] Columns: ${Ee.details.columns}`),O.appendLine(`[Import] Delimiter: ${Ee.details.detectedDelimiter}`))}),M("Import Data",te),N.window.showInformationMessage(`Data imported successfully to table: ${q}`)}catch(I){N.window.showErrorMessage(`Error importing data: ${I.message}`)}}),se=N.commands.registerCommand("netezza.exportCurrentResultToXlsbAndOpen",async(I,v)=>{try{if(!I||Array.isArray(I)&&I.length===0){N.window.showErrorMessage("No data to export");return}let U=I;if(Array.isArray(I)&&I.length>1){let te=await N.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!te)return;if(te==="Export Active Result Only"){let Q=I.find(ae=>ae.isActive);Q?U=[Q]:U=[I[0]]}}let X=require("os"),H=require("path"),K=new Date().toISOString().replace(/[:.]/g,"-"),J=H.join(X.tmpdir(),`netezza_results_${K}.xlsb`),q=Date.now();await N.window.withProgress({location:N.ProgressLocation.Notification,title:"Creating Excel file...",cancellable:!1},async te=>{let{exportCsvToXlsb:Q}=await Promise.resolve().then(()=>(ia(),na)),ae=await Q(U,J,!1,{source:"Query Results Panel",sql:v},Ee=>{te.report({message:Ee}),O.appendLine(`[CSV to XLSB] ${Ee}`)});if(!ae.success)throw new Error(ae.message)});let j=Date.now()-q;O.appendLine(`[${new Date().toLocaleTimeString()}] Export Current Result to Excel completed in ${j}ms`),await N.env.openExternal(N.Uri.file(J)),N.window.showInformationMessage(`Results exported and opened: ${J}`)}catch(U){N.window.showErrorMessage(`Error exporting to Excel: ${U.message}`)}}),_e=N.commands.registerCommand("netezza.copyCurrentResultToXlsbClipboard",async(I,v)=>{try{if(!I||Array.isArray(I)&&I.length===0){N.window.showErrorMessage("No data to copy");return}let U=I;if(Array.isArray(I)&&I.length>1){let q=await N.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!q)return;if(q==="Export Active Result Only"){let j=I.find(te=>te.isActive);j?U=[j]:U=[I[0]]}}let{getTempFilePath:X}=await Promise.resolve().then(()=>(ia(),na)),H=X(),K=Date.now();if(await N.window.withProgress({location:N.ProgressLocation.Notification,title:"Copying to clipboard as Excel...",cancellable:!1},async q=>{let{exportCsvToXlsb:j}=await Promise.resolve().then(()=>(ia(),na)),te=await j(U,H,!0,{source:"Query Results Panel",sql:v},Q=>{q.report({message:Q}),O.appendLine(`[Clipboard XLSB] ${Q}`)});if(!te.success)throw new Error(te.message)}),M("Copy Result as Excel",K),await N.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let q=require("os").tmpdir();await N.env.openExternal(N.Uri.file(q))}}catch(U){N.window.showErrorMessage(`Error copying to Excel: ${U.message}`)}});t.subscriptions.push(p),t.subscriptions.push(w),t.subscriptions.push(x),t.subscriptions.push(F),t.subscriptions.push(ee),t.subscriptions.push(se),t.subscriptions.push(_e),t.subscriptions.push(Z),t.subscriptions.push(ne);let fe=N.workspace.onWillSaveTextDocument(async I=>{}),Qe=N.commands.registerCommand("netezza.smartPaste",async()=>{try{let I=N.window.activeTextEditor;if(!I)return;let U=N.workspace.getConfiguration("netezza").get("pythonPath")||"python",X=E6.join(t.extensionPath,"python","check_clipboard_format.py"),H=require("child_process");if(await new Promise(J=>{let q=H.spawn(U,[X]);q.on("close",j=>{J(j===1)}),q.on("error",()=>{J(!1)})})){let J=await N.window.showQuickPick([{label:"\u{1F4CA} import to Netezza table",description:'Detected "XML Spreadsheet" format - import data to database',value:"import"},{label:"\u{1F4DD} Paste as text",description:"Paste clipboard content as plain text",value:"paste"}],{placeHolder:'Detected "XML Spreadsheet" format in clipboard - choose an action'});if(J?.value==="import")N.commands.executeCommand("netezza.importClipboard");else if(J?.value==="paste"){let q=await N.env.clipboard.readText(),j=I.selection;await I.edit(te=>{te.replace(j,q)})}}else{let J=await N.env.clipboard.readText(),q=I.selection;await I.edit(j=>{j.replace(q,J)})}}catch(I){N.window.showErrorMessage(`Error during paste: ${I.message}`)}}),Oe=N.workspace.onDidChangeTextDocument(async I=>{if(I.document.languageId!=="sql"&&I.document.languageId!=="mssql"||I.contentChanges.length!==1)return;let v=I.contentChanges[0];if(v.text!==" ")return;let U=N.window.activeTextEditor;if(!U||U.document!==I.document)return;let H=I.document.lineAt(v.range.start.line).text,K=new Map([["SX","SELECT"],["WX","WHERE"],["GX","GROUP BY"],["HX","HAVING"],["OX","ORDER BY"],["FX","FROM"],["JX","JOIN"],["LX","LIMIT"],["IX","INSERT INTO"],["UX","UPDATE"],["DX","DELETE FROM"],["CX","CREATE TABLE"]]);for(let[J,q]of K)if(new RegExp(`\\b${J}\\s$`,"i").test(H)){let te=H.toUpperCase().lastIndexOf(J.toUpperCase());if(te>=0){let Q=new N.Position(v.range.start.line,te),ae=new N.Position(v.range.start.line,te+J.length+1);await U.edit(Ee=>{Ee.replace(new N.Range(Q,ae),q+" ")}),["SELECT","FROM","JOIN"].includes(q)&&setTimeout(()=>{N.commands.executeCommand("editor.action.triggerSuggest")},100);break}}});t.subscriptions.push(Qe),t.subscriptions.push(Oe);let jt=new uf(t,r,e);t.subscriptions.push(N.languages.registerCompletionItemProvider(["sql","mssql"],jt,"."," ")),t.subscriptions.push(N.commands.registerCommand("netezza.clearAutocompleteCache",async()=>{await N.window.showWarningMessage("Are you sure you want to clear the autocomplete cache? This will remove all cached databases, schemas, tables, and columns.",{modal:!0},"Clear Cache")==="Clear Cache"&&(await r.clearCache(),N.window.showInformationMessage("Autocomplete cache cleared successfully. Cache will be rebuilt on next use."))}))}function Sge(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

archiver/lib/error.js:
archiver/lib/core.js:
  (**
   * Archiver Core
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

zip-stream/index.js:
  (**
   * ZipStream
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
   * @copyright (c) 2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/zip.js:
  (**
   * ZIP Format Plugin
   *
   * @module plugins/zip
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/tar.js:
  (**
   * TAR Format Plugin
   *
   * @module plugins/tar
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/json.js:
  (**
   * JSON Format Plugin
   *
   * @module plugins/json
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/index.js:
  (**
   * Archiver Vending
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)
*/
