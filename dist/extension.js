"use strict";var $4=Object.create;var Uf=Object.defineProperty;var Y4=Object.getOwnPropertyDescriptor;var V4=Object.getOwnPropertyNames;var q4=Object.getPrototypeOf,X4=Object.prototype.hasOwnProperty;var H=(t,e)=>()=>(t&&(e=t(t=0)),e);var O=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_t=(t,e)=>{for(var r in e)Uf(t,r,{get:e[r],enumerable:!0})},N0=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of V4(e))!X4.call(t,i)&&i!==r&&Uf(t,i,{get:()=>e[i],enumerable:!(n=Y4(e,i))||n.enumerable});return t};var q=(t,e,r)=>(r=t!=null?$4(q4(t)):{},N0(e||!t||!t.__esModule?Uf(r,"default",{value:t,enumerable:!0}):r,t)),xa=t=>N0(Uf({},"__esModule",{value:!0}),t);var or,Ut,Vn,_e,As,PR=H(()=>{"use strict";or={AuthenticationRequest:82,ErrorResponse:69,NoticeResponse:78,BackendKeyData:75,ReadyForQuery:90,RowDescription:84,RowDescriptionStandard:88,DataRow:68,CommandComplete:67,EmptyQueryResponse:73,RowStandard:89,CopyInResponse:71,CopyOutResponse:72,CopyDone:99,CopyData:100},Ut={NzTypeRecAddr:1,NzTypeDouble:2,NzTypeInt:3,NzTypeFloat:4,NzTypeMoney:5,NzTypeDate:6,NzTypeNumeric:7,NzTypeTime:8,NzTypeTimestamp:9,NzTypeInterval:10,NzTypeTimeTz:11,NzTypeBool:12,NzTypeInt1:13,NzTypeBinary:14,NzTypeChar:15,NzTypeVarChar:16,NzDEPR_Text:17,NzTypeUnknown:18,NzTypeInt2:19,NzTypeInt8:20,NzTypeVarFixedChar:21,NzTypeGeometry:22,NzTypeVarBinary:23,NzDEPR_Blob:24,NzTypeNChar:25,NzTypeNVarChar:26,NzDEPR_NText:27,NzTypeJson:30,NzTypeJsonb:31,NzTypeJsonpath:32,NzTypeLastEntry:33,NzTypeIntvsAbsTimeFIX:39},Vn={CP_VERSION_2:2,CP_VERSION_3:3,CP_VERSION_4:4,CP_VERSION_5:5,CP_VERSION_6:6},_e={HSV2_CLIENT_BEGIN:1,HSV2_DB:2,HSV2_USER:3,HSV2_OPTIONS:4,HSV2_REMOTE_PID:6,HSV2_CLIENT_TYPE:8,HSV2_PROTOCOL:9,HSV2_SSL_NEGOTIATE:11,HSV2_SSL_CONNECT:12,HSV2_APPNAME:13,HSV2_CLIENT_OS:14,HSV2_CLIENT_HOST_NAME:15,HSV2_CLIENT_OS_USER:16,HSV2_64BIT_VARLENA_ENABLED:17,HSV2_CLIENT_DONE:1e3},As={DATA:1,ERROR:2,DONE:3}});function y0(t){let e=t.readBigInt64LE(0),r=Number(e/1000n);return new Date(C0+r)}function b0(t){let r=t.readInt32LE(0)*24*60*60*1e3;return new Date(C0+r)}function Bf(t){let e=t.readBigInt64LE(0),r=Number(e/1000000n),n=Number(e%1000000n),i=Math.floor(r/3600),s=Math.floor(r%3600/60),o=r%60;return{hours:i,minutes:s,seconds:o,microseconds:n,toString(){let a=String(i).padStart(2,"0"),l=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");if(n>0){let u=String(n).padStart(6,"0");return`${a}:${l}:${c}.${u}`}return`${a}:${l}:${c}`}}}function w0(t){if(!t)return null;let e=t.split(":"),r=parseInt(e[0],10)||0,n=parseInt(e[1],10)||0,i=(e[2]||"0").split("."),s=parseInt(i[0],10)||0,o=0;return i.length>1&&(o=parseInt(i[1].substring(0,6).padEnd(6,"0"),10)),{hours:r,minutes:n,seconds:s,microseconds:o,toString(){return t}}}function L0(t){let e=t.readBigInt64LE(0),r=t.readInt32LE(8),n=Bf(t);if(r===0)return n.toString();let i=Math.floor(r/12),s=r%12;return i>0?`${i} years ${s} mons ${n.toString()}`:`${s} mons ${n.toString()}`}function D0(t,e){let r=Bf(t),n=t.readInt32LE(e-4),i=n<0?"+":"-",s=Math.abs(n),o=Math.floor(s/3600),a=Math.floor(s%3600/60),l=s%60,c=String(o).padStart(2,"0");return l!==0?c+=":"+String(a).padStart(2,"0")+":"+String(l).padStart(2,"0"):a!==0&&(c+=":"+String(a).padStart(2,"0")),`${r.toString()}${i}${c}`}function P0(t,e,r,n){let i=e<=9?1:e<=18?2:4,s=[];for(let f=0;f<i;f++)s.push(t.readUInt32LE(f*4));let o=(s[0]&O0)!==0?4294967295:0,a=new Array(Ma).fill(o);for(let f=Ma-n,T=0;f<Ma;f++,T++)a[f]=s[T];let l=(a[0]&O0)!==0;l&&z4(a);let c=new Array(vc).fill(0);for(let f=0;f<vc;f++)c[vc-f-1]=j4(a);let u="",d=!0;for(let f=0;f<vc;f++)f<vc-r-1&&d&&c[f]===0||(d=!1,u+=String(c[f]));if(u===""&&(u="0"),r!==0){let f=u.slice(0,-r)||"0",T=u.slice(-r).padStart(r,"0");u=f+"."+T}l&&(u="-"+u);let E=parseFloat(u);return e<=15&&u===String(E)?E:u}function j4(t){let e=0;for(let r=0;r<Ma;r++){let n=t[r]+e*4294967296;n!==0?(t[r]=Math.floor(n/10),e=n%10):(t[r]=0,e=0)}return e}function z4(t){for(let r=0;r<Ma;r++)t[r]=~t[r]>>>0;let e=1;for(let r=Ma-1;r>=0&&e;r--){let n=t[r]+e;t[r]=n>>>0,e=n>4294967295?1:0}}var C0,Ma,vc,O0,x0=H(()=>{"use strict";C0=Date.UTC(2e3,0,1);Ma=4,vc=38,O0=2147483648});var MR=O((TLe,M0)=>{"use strict";var xR=class{static readInt32(e,r=0){return e.readInt32BE(r)}static readInt16(e,r=0){return e.readInt16BE(r)}static writeInt32(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt32BE(r,n);else{let i=Buffer.allocUnsafe(4);i.writeInt32BE(r,0),e.write(i)}}static writeInt16(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt16BE(r,n);else{let i=Buffer.allocUnsafe(2);i.writeInt16BE(r,0),e.write(i)}}};M0.exports=xR});var U0=O((pLe,v0)=>{var va=1e3,Ua=va*60,Ba=Ua*60,ao=Ba*24,J4=ao*7,Q4=ao*365.25;v0.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Z4(t);if(r==="number"&&isFinite(t))return e.long?t8(t):e8(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Z4(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Q4;case"weeks":case"week":case"w":return r*J4;case"days":case"day":case"d":return r*ao;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ba;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ua;case"seconds":case"second":case"secs":case"sec":case"s":return r*va;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function e8(t){var e=Math.abs(t);return e>=ao?Math.round(t/ao)+"d":e>=Ba?Math.round(t/Ba)+"h":e>=Ua?Math.round(t/Ua)+"m":e>=va?Math.round(t/va)+"s":t+"ms"}function t8(t){var e=Math.abs(t);return e>=ao?Ff(t,e,ao,"day"):e>=Ba?Ff(t,e,Ba,"hour"):e>=Ua?Ff(t,e,Ua,"minute"):e>=va?Ff(t,e,va,"second"):t+" ms"}function Ff(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var vR=O((SLe,B0)=>{function r8(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=U0(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let E=0;E<u.length;E++)d=(d<<5)-d+u.charCodeAt(E),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,E=null,f,T;function h(...p){if(!h.enabled)return;let S=h,m=Number(new Date),R=m-(d||m);S.diff=R,S.prev=d,S.curr=m,d=m,p[0]=r.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let A=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(w,I)=>{if(w==="%%")return"%";A++;let D=r.formatters[I];if(typeof D=="function"){let b=p[A];w=D.call(S,b),p.splice(A,1),A--}return w}),r.formatArgs.call(S,p),(S.log||r.log).apply(S,p)}return h.namespace=u,h.useColors=r.useColors(),h.color=r.selectColor(u),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(f!==r.namespaces&&(f=r.namespaces,T=r.enabled(u)),T),set:p=>{E=p}}),typeof r.init=="function"&&r.init(h),h}function n(u,d){let E=r(this.namespace+(typeof d>"u"?":":d)+u);return E.log=this.log,E}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let E of d)E[0]==="-"?r.skips.push(E.slice(1)):r.names.push(E)}function s(u,d){let E=0,f=0,T=-1,h=0;for(;E<u.length;)if(f<d.length&&(d[f]===u[E]||d[f]==="*"))d[f]==="*"?(T=f,h=E,f++):(E++,f++);else if(T!==-1)f=T+1,h++,E=h;else return!1;for(;f<d.length&&d[f]==="*";)f++;return f===d.length}function o(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function a(u){for(let d of r.skips)if(s(u,d))return!1;for(let d of r.names)if(s(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}B0.exports=r8});var F0=O((Yr,Gf)=>{Yr.formatArgs=i8;Yr.save=s8;Yr.load=o8;Yr.useColors=n8;Yr.storage=a8();Yr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Yr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n8(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i8(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Gf.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Yr.log=console.debug||console.log||(()=>{});function s8(t){try{t?Yr.storage.setItem("debug",t):Yr.storage.removeItem("debug")}catch{}}function o8(){let t;try{t=Yr.storage.getItem("debug")||Yr.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function a8(){try{return localStorage}catch{}}Gf.exports=vR()(Yr);var{formatters:l8}=Gf.exports;l8.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var H0=O((RLe,G0)=>{"use strict";G0.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var $0=O((ALe,k0)=>{"use strict";var c8=require("os"),W0=require("tty"),cn=H0(),{env:zt}=process,ms;cn("no-color")||cn("no-colors")||cn("color=false")||cn("color=never")?ms=0:(cn("color")||cn("colors")||cn("color=true")||cn("color=always"))&&(ms=1);"FORCE_COLOR"in zt&&(zt.FORCE_COLOR==="true"?ms=1:zt.FORCE_COLOR==="false"?ms=0:ms=zt.FORCE_COLOR.length===0?1:Math.min(parseInt(zt.FORCE_COLOR,10),3));function UR(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function BR(t,e){if(ms===0)return 0;if(cn("color=16m")||cn("color=full")||cn("color=truecolor"))return 3;if(cn("color=256"))return 2;if(t&&!e&&ms===void 0)return 0;let r=ms||0;if(zt.TERM==="dumb")return r;if(process.platform==="win32"){let n=c8.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in zt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in zt)||zt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in zt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(zt.TEAMCITY_VERSION)?1:0;if(zt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in zt){let n=parseInt((zt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(zt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(zt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(zt.TERM)||"COLORTERM"in zt?1:r}function u8(t){let e=BR(t,t&&t.isTTY);return UR(e)}k0.exports={supportsColor:u8,stdout:UR(BR(!0,W0.isatty(1))),stderr:UR(BR(!0,W0.isatty(2)))}});var V0=O((Kt,Wf)=>{var d8=require("tty"),Hf=require("util");Kt.init=R8;Kt.log=T8;Kt.formatArgs=E8;Kt.save=p8;Kt.load=S8;Kt.useColors=f8;Kt.destroy=Hf.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Kt.colors=[6,2,3,4,5,1];try{let t=$0();t&&(t.stderr||t).level>=2&&(Kt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Kt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function f8(){return"colors"in Kt.inspectOpts?!!Kt.inspectOpts.colors:d8.isatty(process.stderr.fd)}function E8(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+Wf.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=h8()+e+" "+t[0]}function h8(){return Kt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function T8(...t){return process.stderr.write(Hf.formatWithOptions(Kt.inspectOpts,...t)+`
`)}function p8(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function S8(){return process.env.DEBUG}function R8(t){t.inspectOpts={};let e=Object.keys(Kt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Kt.inspectOpts[e[r]]}Wf.exports=vR()(Kt);var{formatters:Y0}=Wf.exports;Y0.o=function(t){return this.inspectOpts.colors=this.useColors,Hf.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Y0.O=function(t){return this.inspectOpts.colors=this.useColors,Hf.inspect(t,this.inspectOpts)}});var GR=O((mLe,FR)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?FR.exports=F0():FR.exports=V0()});var J0=O((ILe,K0)=>{"use strict";var q0=q(require("crypto")),X0=q(require("os")),j0=q(require("tls")),z0=q(require("fs"));PR();var ne=MR(),Bt=GR()("nz:handshake"),HR=class{constructor(e,r,n,i={}){this._hsVersion=-1;this._protocol1=-1;this._protocol2=-1;this.NPSCLIENT_TYPE_DOTNET=11;this.backendProcessId=0;this.backendSecretKey=0;this._socket=e,this._stream=r,this._host=n,this._options=i,this._guardiumClientOS=process.platform,this._guardiumClientOSUser=process.env.USERNAME||process.env.USER||"unknown",this._guardiumAppName="scJs-Driver",this._guardiumClientHostName=X0.hostname()}async startup(e,r,n){if(!await this.connHandshakeNegotiate())throw new Error("Handshake negotiation unsuccessful");if(Bt("Sending handshake info"),!await this.connSendHandshakeInfo(e,r))throw new Error("Error in ConnSendHandshakeInfo");if(!await this.connAuthenticate(n))throw new Error("Error in ConnAuthenticate");if(!await this.connConnectionComplete())throw new Error("Error in ConnConnectionComplete");return this._stream}async _readExactly(e){return new Promise((r,n)=>{let i=this._stream.read(e);i?r(i):this._stream.once("readable",()=>{let s=this._stream.read(e);s&&r(s)})})}async readBytes(e){for(;;){let r=this._stream.read(e);if(r!==null)return r;await new Promise(n=>this._stream.once("readable",n))}}async readByte(){return(await this.readBytes(1))[0]}async connHandshakeNegotiate(){let e=Vn.CP_VERSION_6;for(;;){Bt(`Sending version: ${e}`),ne.writeInt32(this._stream,8),ne.writeInt16(this._stream,_e.HSV2_CLIENT_BEGIN),ne.writeInt16(this._stream,e);let r=await this.readByte();if(Bt(`Got response: ${String.fromCharCode(r)}`),r===78)return this._hsVersion=e,this._protocol2=0,!0;if(r===77){let n=await this.readByte(),i=String.fromCharCode(n);i==="2"?e=Vn.CP_VERSION_2:i==="3"?e=Vn.CP_VERSION_3:i==="4"?e=Vn.CP_VERSION_4:i==="5"&&(e=Vn.CP_VERSION_5)}else return!1}}async connSendHandshakeInfo(e,r){return await this.connSendDatabase(e)?(await this.connSecureSession(),this.connSetNextDataProtocol(this._protocol1,this._protocol2),this._hsVersion===Vn.CP_VERSION_6||this._hsVersion===Vn.CP_VERSION_4?this.connSendHandshakeVersion4(this._hsVersion,r):this.connSendHandshakeVersion2(this._hsVersion,r)):!1}async connSendDatabase(e){let r=Buffer.from(e,"utf8"),n=6+r.length+1;return ne.writeInt32(this._stream,n),ne.writeInt16(this._stream,_e.HSV2_DB),this._stream.write(r),this._stream.write(Buffer.from([0])),await this.readByte()===78}async connSecureSession(){let r=0,n=this._options.securityLevel;n==="OnlyUnsecuredSession"?r=1:n==="PreferredSecuredSession"?r=2:n==="OnlySecuredSession"&&(r=3),ne.writeInt32(this._stream,10),ne.writeInt16(this._stream,_e.HSV2_SSL_NEGOTIATE),ne.writeInt32(this._stream,r);let i=await this.readByte();if(i===78){if(this._options.securityLevel==="OnlySecuredSession")throw new Error("Server refused secure session, but OnlySecuredSession was requested.");return!0}if(i===83){Bt("Upgrading to SSL...");let s=Buffer.alloc(6);s.writeInt32BE(6,0),s.writeInt16BE(_e.HSV2_SSL_CONNECT,4),await new Promise(a=>{this._stream.write(s)?a():this._stream.once("drain",a)}),this._socket.removeAllListeners("data"),this._socket.removeAllListeners("readable");let o={socket:this._socket,rejectUnauthorized:!1};if(this._options.sslCerFilePath){this._options.rejectUnauthorized===!1?o.rejectUnauthorized=!1:o.rejectUnauthorized=!0;try{o.ca=z0.readFileSync(this._options.sslCerFilePath)}catch(a){throw Bt("Failed to load cert file",a),a}}return new Promise((a,l)=>{let c=j0.connect(o,()=>{Bt("SSL Connected"),this._stream=c,this._stream.on("error",u=>{Bt("Secure Stream Error",u)}),this.readByte().then(u=>{u===78?a(!0):l(new Error(`SSL Handshake failed: Unexpected response ${String.fromCharCode(u)}`))}).catch(u=>{Bt("Failed to read SSL confirmation",u),l(u)})});c.on("error",u=>{Bt("SSL Connection Error",u),l(u)})})}return!1}connSetNextDataProtocol(e,r){return this._protocol2===0&&(this._protocol2=5),this._protocol1=3,!0}async connSendHandshakeVersion4(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,_e.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=_e.HSV2_APPNAME;for(;s!==0;){if(await this.readByte()!==78)return!1;switch(s){case _e.HSV2_APPNAME:await this.sendStringOption(s,this._guardiumAppName),s=_e.HSV2_CLIENT_OS;break;case _e.HSV2_CLIENT_OS:await this.sendStringOption(s,this._guardiumClientOS),s=_e.HSV2_CLIENT_HOST_NAME;break;case _e.HSV2_CLIENT_HOST_NAME:await this.sendStringOption(s,this._guardiumClientHostName),s=_e.HSV2_CLIENT_OS_USER;break;case _e.HSV2_CLIENT_OS_USER:await this.sendStringOption(s,this._guardiumClientOSUser),s=_e.HSV2_PROTOCOL;break;case _e.HSV2_PROTOCOL:i=10,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),ne.writeInt16(this._stream,this._protocol1),ne.writeInt16(this._stream,this._protocol2),s=_e.HSV2_REMOTE_PID;break;case _e.HSV2_REMOTE_PID:i=10,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),ne.writeInt32(this._stream,process.pid),s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_CLIENT_TYPE:i=8,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),ne.writeInt16(this._stream,11),e>=5?s=_e.HSV2_64BIT_VARLENA_ENABLED:s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_64BIT_VARLENA_ENABLED:i=8,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),ne.writeInt16(this._stream,1),s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_CLIENT_DONE:return i=6,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),s=0,!0}}return!1}async connSendHandshakeVersion2(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,_e.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=_e.HSV2_PROTOCOL;for(;s!==0;){Bt(`Waiting for response in v2 loop. Info: ${s}`);let o=await this.readByte();if(Bt(`Got response: ${String.fromCharCode(o)}`),o===78)switch(s){case _e.HSV2_PROTOCOL:i=10,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),ne.writeInt16(this._stream,this._protocol1),ne.writeInt16(this._stream,this._protocol2),s=_e.HSV2_REMOTE_PID;break;case _e.HSV2_REMOTE_PID:i=10,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),ne.writeInt32(this._stream,process.pid),s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_OPTIONS:s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_CLIENT_TYPE:i=8,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),ne.writeInt16(this._stream,11),e===Vn.CP_VERSION_5||e===Vn.CP_VERSION_6?s=_e.HSV2_64BIT_VARLENA_ENABLED:s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_64BIT_VARLENA_ENABLED:i=8,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),ne.writeInt16(this._stream,1),s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_CLIENT_DONE:return i=6,ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,s),s=0,!0}else throw o===or.ErrorResponse?new Error("Handshake V2 Failed: ErrorResponse from backend"):new Error(`Handshake V2 Failed: Unexpected response ${String.fromCharCode(o)}`)}return!1}async sendStringOption(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ne.writeInt32(this._stream,i),ne.writeInt16(this._stream,e),this._stream.write(n),this._stream.write(Buffer.from([0]))}async connAuthenticate(e){if(await this.readByte()!==or.AuthenticationRequest)return!1;let n=ne.readInt32(await this.readBytes(4));if(Bt(`Auth request: ${n}`),n===0)return!0;if(n===3){let i=Buffer.from(e,"utf8"),s=4+i.length+1;return ne.writeInt32(this._stream,s),this._stream.write(i),this._stream.write(Buffer.from([0])),!0}if(n===5){let i=await this.readBytes(2),s=Buffer.from(e,"utf8"),a=q0.createHash("md5").update(Buffer.concat([i,s])).digest("base64").replace(/=+$/,""),l=Buffer.from(a,"utf8"),c=4+l.length+1;return ne.writeInt32(this._stream,c),this._stream.write(l),this._stream.write(Buffer.from([0])),!0}return!1}async readString(){let e=[];for(;;){let r=await this.readByte();if(r===0)break;e.push(r)}return Buffer.from(e).toString("utf8")}async connConnectionComplete(){for(;;){let e=await this.readByte();if(Bt(`Resp: ${String.fromCharCode(e)} (0x${e.toString(16)})`),e===or.AuthenticationRequest){let n=ne.readInt32(await this.readBytes(4));Bt(`Auth req in complete: ${n}`);continue}if(e===or.ErrorResponse){let n=await this.readBytes(4),i=ne.readInt32(n);if(i<0||i>1e8){let o=n.toString("utf8");throw o+=await this.readString(),new Error(`Backend Error: ${o}`)}let s=await this.readBytes(i-4);throw new Error(`Backend Error: ${s.toString()}`)}let r=await this.readBytes(4);if(Bt(`Skipped 4 bytes: ${r.toString("hex")}`),e===or.BackendKeyData){let n=await this.readBytes(4);Bt(`KeyData Padding: ${n.toString("hex")}`);let i=ne.readInt32(await this.readBytes(4)),s=ne.readInt32(await this.readBytes(4));Bt(`KeyData: PID=${i} Key=${s}`),this.backendProcessId=i,this.backendSecretKey=s;continue}if(e===or.ReadyForQuery)return Bt("ReadyForQuery"),!0;if(e===or.NoticeResponse){let n=ne.readInt32(await this.readBytes(4)),i=await this.readBytes(n);Bt(`Notice: ${i.toString()}`);continue}}}};K0.exports=HR});var Z0=O((gLe,Q0)=>{"use strict";var WR=class{constructor(e){this.connection=e,this.commandText="",this.parameters=[],this._recordsAffected=-1,this.commandTimeout=e.commandTimeout!==void 0?e.commandTimeout:30}async execute(){return this.connection.execute(this,!1)}async executeNonQuery(){return await this.connection.execute(this,!1),this._recordsAffected}async executeReader(){return this.connection.executeReader(this)}async cancel(){return this.connection.cancel()}};Q0.exports=WR});var tw=O((NLe,ew)=>{"use strict";var Te={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700,Float4:700,Float8:701},Uc=16,kR=class{constructor(e,r,n,i,s){this.currentRow=null;this.closed=!1;this._nameIndex={};this._pendingColumns=null;this._isFinished=!1;this.command=e,this.generator=r,this.columnDescriptions=n||[],this.releaseCallback=i,this._initNameIndex(),this._nextItem=s,this._hasRows=!!(this._nextItem&&this._nextItem.type==="DataRow")}get hasRows(){return this._hasRows}_initNameIndex(){if(this._nameIndex={},this.columnDescriptions)for(let e=0;e<this.columnDescriptions.length;e++)this._nameIndex[this.columnDescriptions[e].name.toLowerCase()]=e}_markFinished(){this._isFinished=!0,this._nextItem=null,this._hasRows=!1,this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}async nextResult(){if(this._pendingColumns){for(this.columnDescriptions=this._pendingColumns,this._pendingColumns=null,this._initNameIndex(),this.currentRow=null;;){let e=await this.generator.next();if(e.done){this._nextItem=null,this._hasRows=!1;break}let r=e.value;if(r.type!=="RowDescriptionStandard")if(r.type==="DataRow"){this._nextItem=r,this._hasRows=!0;break}else if(r.type==="CommandComplete"){this._nextItem=r,this._hasRows=!1;break}else{this._nextItem=r,this._hasRows=!1;break}}return!0}if(this.closed||this._isFinished)return!1;for(;;){let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),!1;let r=e.value;if(r.type==="RowDescription"){this.columnDescriptions=r.columns,this._initNameIndex(),this.currentRow=null;continue}if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;this.columnDescriptions.length===0&&n&&n.description&&(this.columnDescriptions=n.description,this._initNameIndex()),this.currentRow=null;continue}if(r.type==="DataRow")return this._nextItem=r,this._hasRows=!0,!0;if(r.type!=="CommandComplete"){if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");if(r.type==="ReadyForQuery")return this._markFinished(),!1}}}getSchemaTable(){if(!this.columnDescriptions)return[];let e=[];for(let r=0;r<this.columnDescriptions.length;r++){let n=this.columnDescriptions[r],i={ColumnName:n.name,ColumnOrdinal:r+1,ColumnSize:-1,NumericPrecision:0,NumericScale:0,DataType:String,ProviderType:n.typeOid,AllowDBNull:!0,IsReadOnly:!0,IsLong:!1},s=n.typeMod,o=n.typeOid;switch(o){case Te.Bool:i.DataType=Boolean,i.ColumnSize=1;break;case Te.Int2:i.DataType=Number,i.ColumnSize=2;break;case Te.Int4:i.DataType=Number,i.ColumnSize=4;break;case Te.Int8:i.DataType=Number,i.ColumnSize=8;break;case Te.Float4:case Te.Float8:i.DataType=Number,i.ColumnSize=o===Te.Float8?8:4,i.NumericPrecision=o===Te.Float8?53:24;break;case Te.Numeric:if(i.DataType=Number,s>Uc){let a=s-Uc>>16,l=s-Uc&65535;i.NumericPrecision=a,i.NumericScale=l,i.ColumnSize=Math.floor(a/2)+1,i.ColumnSize<n.typeLen&&n.typeLen>0&&(i.ColumnSize=n.typeLen)}else i.ColumnSize=n.typeLen;break;case Te.Date:case Te.Timestamp:case Te.TimestampTz:case Te.Time:case Te.TimeTz:i.DataType=Date,(o===Te.Time||o===Te.TimeTz)&&(i.DataType=Object),i.ColumnSize=n.typeLen;break;case Te.Char:case Te.BpChar:case Te.VarChar:case Te.Text:case Te.Name:case Te.ShowDate:i.DataType=String,s>Uc?i.ColumnSize=s-Uc:(i.ColumnSize=-1,n.typeLen>0&&(i.ColumnSize=n.typeLen)),i.ColumnSize>8e3&&(i.IsLong=!0);break;default:i.DataType=String,i.ColumnSize=n.typeLen;break}e.push(i)}return{Rows:e,Columns:{Count:e.length}}}getTypeName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);let n=this.columnDescriptions[e].typeOid;switch(n){case Te.Bool:return"BOOL";case Te.Bytea:return"BYTEA";case Te.Char:return"CHAR";case Te.Name:return"NAME";case Te.Int8:return"INT8";case Te.Int2:return"INT2";case Te.Int4:return"INT4";case Te.Text:return"TEXT";case Te.BpChar:return"CHAR";case Te.VarChar:return"VARCHAR";case Te.Date:return"DATE";case Te.Time:return"TIME";case Te.Timestamp:return"TIMESTAMP";case Te.TimestampTz:return"TIMESTAMPTZ";case Te.Interval:return"INTERVAL";case Te.TimeTz:return"TIMETZ";case Te.Numeric:return"NUMERIC";case Te.Float4:return"FLOAT4";case Te.Float8:return"FLOAT8";case 2530:return"DATE";case 15:return"CHAR";case 16:return"BOOL";default:return`UNKNOWN(${n})`}}async read(){if(this.closed||this._isFinished||this._pendingColumns)return!1;let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),this.currentRow=null,!1;let r=e.value;if(r.type==="DataRow")return this.currentRow=r.row,!0;if(r.type==="RowDescription")return this._pendingColumns=r.columns,this.currentRow=null,!1;if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;return this._pendingColumns=n&&n.description?n.description:this.columnDescriptions,this.currentRow=null,!1}if(r.type==="CommandComplete")return this.currentRow=null,this.read();if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");return r.type==="ReadyForQuery"?(this._markFinished(),this.currentRow=null,!1):this.read()}getValue(e){return this._validateOrdinal(e),this.currentRow[e]}getValueByName(e){let r=this.getOrdinal(e);return this.getValue(r)}getName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);return this.columnDescriptions[e].name}getOrdinal(e){let r=this._nameIndex[e.toLowerCase()];if(r===void 0)throw new Error(`Column '${e}' not found`);return r}get fieldCount(){return this.columnDescriptions?.length||0}get FieldCount(){return this.fieldCount}isDBNull(e){return this._validateOrdinal(e),this.currentRow[e]===null}getBoolean(e){let r=this.getValue(e);return r===null?!1:typeof r=="boolean"?r:typeof r=="string"?r.toLowerCase()==="t"||r==="1"||r.toLowerCase()==="true":!!r}getByte(e){let r=this.getValue(e);return r===null?0:Number(r)&255}getInt16(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt32(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt64(e){let r=this.getValue(e);return r===null?0:typeof r=="bigint"?r:Number(r)}getFloat(e){let r=this.getValue(e);return r===null?0:Number(r)}getDouble(e){let r=this.getValue(e);return r===null?0:Number(r)}getDecimal(e){let r=this.getValue(e);return r===null?0:typeof r=="string"?r:Number(r)}getString(e){let r=this.getValue(e);return r===null?null:typeof r=="string"?r:r.toString?r.toString():String(r)}getDateTime(e){let r=this.getValue(e);return r===null?null:r instanceof Date?r:new Date(r)}getTimeSpan(e){let r=this.getValue(e);if(r===null)return null;if(typeof r=="object"&&"hours"in r)return r;if(typeof r=="string"){let n=r.split(":");if(n.length>=2){let i=(n[2]||"0").split(".");return{hours:parseInt(n[0],10),minutes:parseInt(n[1],10),seconds:parseInt(i[0],10),microseconds:i.length>1?parseInt(i[1].padEnd(6,"0"),10):0,toString(){return r}}}}return r}getRowObject(){if(!this.currentRow)return null;let e={};for(let r=0;r<this.columnDescriptions.length;r++)e[this.columnDescriptions[r].name]=this.currentRow[r];return e}getValues(){return this.currentRow?[...this.currentRow]:[]}async close(){if(!this.closed){if(this.closed=!0,!this._isFinished&&this.generator)try{for await(let e of this.generator)if(e.type==="ReadyForQuery")break}catch{}this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}}get isClosed(){return this.closed}_validateOrdinal(e){if(!this.currentRow)throw new Error("No current row. Did you call read()?");if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`)}async*[Symbol.asyncIterator](){for(;await this.read();)yield this.getRowObject()}};ew.exports=kR});var nw=O((OLe,rw)=>{"use strict";var $R=class{constructor(){this.version=null;this.nullsAllowed=null;this.sizeWord=null;this.sizeWordSize=null;this.numFixedFields=null;this.numVaryingFields=null;this.fixedFieldsSize=0;this.maxRecordSize=null;this.numFields=0;this.fieldType=[];this.fieldSize=[];this.fieldTrueSize=[];this.fieldOffset=[];this.fieldPhysField=[];this.fieldLogField=[];this.fieldNullAllowed=[];this.fieldFixedSize=[];this.fieldSpringField=[];this.dateStyle=null;this.euroDates=null}clear(){this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[]}parse(e,r){this.clear();let n=0;this.version=e.readInt32BE(n),n+=4,this.nullsAllowed=e.readInt32BE(n),n+=4,this.sizeWord=e.readInt32BE(n),n+=4,this.sizeWordSize=e.readInt32BE(n),n+=4,this.numFixedFields=e.readInt32BE(n),n+=4,this.numVaryingFields=e.readInt32BE(n),n+=4,this.fixedFieldsSize=e.readInt32BE(n),n+=4,this.maxRecordSize=e.readInt32BE(n),n+=4,this.numFields=e.readInt32BE(n),n+=4;let i=3,s=39;for(let o=0;o<this.numFields;o++){let a=e.readInt32BE(n);a===i&&r?.description?.[o]?.typeOid===702&&(a=s),this.fieldType.push(a),this.fieldSize.push(e.readInt32BE(n+4)),this.fieldTrueSize.push(e.readInt32BE(n+8)),this.fieldOffset.push(e.readInt32BE(n+12)),this.fieldPhysField.push(e.readInt32BE(n+16)),this.fieldLogField.push(e.readInt32BE(n+20)),this.fieldNullAllowed.push(e.readInt32BE(n+24)!==0),this.fieldFixedSize.push(e.readInt32BE(n+28)),this.fieldSpringField.push(e.readInt32BE(n+32)),n+=36}this.dateStyle=e.readInt32BE(n),n+=4,this.euroDates=e.readInt32BE(n)}getFieldPrecision(e){return this.fieldSize[e]>>8&127}getFieldScale(e){return this.fieldSize[e]&255}getNumericDigitCount(e){return Math.floor(this.fieldTrueSize[e]/4)}};rw.exports=$R});var Ir=O((yLe,sw)=>{"use strict";var YR=q(require("net")),_s=q(require("fs")),iw=require("events");PR();x0();var A8=J0(),It=MR(),m8=Z0(),_8=tw(),I8=nw(),ue=GR()("nz:connection"),VR=class t extends iw.EventEmitter{constructor(r){super();this._socket=null;this._stream=null;this._backendProcessId=0;this._backendSecretKey=0;this._commandNumber=-1;this._connected=!1;this._rowDescription=null;this._rows=[];this._tupdesc=new I8;this._tmpBuffer=Buffer.alloc(65536);this._intBuf=Buffer.allocUnsafe(65536);this._intBufStart=0;this._intBufEnd=0;this.commandTimeout=30;this.connectionTimeout=30;this._executing=!1;this._exportStream=null;this.config=r,r.connectionTimeout!==void 0&&(this.connectionTimeout=r.connectionTimeout)}static{this._streamRegistry=new Map}static registerImportStream(r,n){this._streamRegistry.set(r,n)}static unregisterImportStream(r){this._streamRegistry.delete(r)}async connect(){return new Promise((r,n)=>{if(!this.config.host)return n(new Error("Host is required"));let i=!1,s;this.connectionTimeout>0&&(s=setTimeout(()=>{i=!0,ue("Connection timeout triggered after",this.connectionTimeout,"seconds"),this._socket&&this._socket.destroy(),n(new Error(`Connection timeout after ${this.connectionTimeout} seconds`))},this.connectionTimeout*1e3));let o=()=>{s&&(clearTimeout(s),s=void 0)};this._socket=new YR.Socket,this._socket.connect(this.config.port||5480,this.config.host,async()=>{if(i)return;ue("Socket connected"),this._socket.setNoDelay(!0),this._stream=this._socket;let a=new A8(this._socket,this._stream,this.config.host,this.config);try{if(this._stream=await a.startup(this.config.database,this.config.user,this.config.password),i)return;o(),this._connected=!0,this._backendProcessId=a.backendProcessId,this._backendSecretKey=a.backendSecretKey,r()}catch(l){o(),this._socket.destroy(),n(l)}}),this._socket.on("error",a=>{ue("Socket error",a),o(),this._connected?this.emit("error",a):n(a)}),this._socket.on("close",()=>{ue("Socket closed"),o(),this._connected=!1,this.emit("close")})})}async cancel(){if(!(!this._backendProcessId||!this._backendSecretKey))return new Promise((r,n)=>{let i=new YR.Socket;i.on("error",s=>{ue("Cancel socket error",s),n(s)}),i.connect(this.config.port||5480,this.config.host,()=>{let s=Buffer.alloc(16);It.writeInt32(s,16,0),It.writeInt32(s,80877102,4),It.writeInt32(s,this._backendProcessId,8),It.writeInt32(s,this._backendSecretKey,12),i.write(s,()=>{}),i.on("close",()=>r()),i.on("end",()=>r()),i.on("error",()=>r())})})}close(){this._socket&&(this._socket.end(),this._socket.destroy())}createCommand(r){let n=new m8(this);return r&&(n.commandText=r),n}async beginTransaction(){let r=this.createCommand("BEGIN");await this.execute(r)}async commit(){let r=this.createCommand("COMMIT");await this.execute(r)}async rollback(){let r=this.createCommand("ROLLBACK");await this.execute(r)}async _readBytes(r){if(this._intBufEnd-this._intBufStart>=r){let n=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+r));return this._intBufStart+=r,n}return this._readBytesSlow(r)}async _readBytesSlow(r){if(r>this._intBuf.length){let i=[],s=this._intBufEnd-this._intBufStart;s>0&&(i.push(Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufEnd))),this._intBufStart=0,this._intBufEnd=0);let o=r-s;for(;o>0;){let a=this._stream.read();a!==null?a.length<=o?(i.push(a),o-=a.length):(i.push(a.slice(0,o)),this._feedBuffer(a.slice(o)),o=0):await this._waitForReadable()}return Buffer.concat(i,r)}if(this._intBuf.length-this._intBufStart<r){let i=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=i}for(;this._intBufEnd-this._intBufStart<r;){let i=this._stream.read();if(i!==null){let s=this._intBuf.length-this._intBufEnd;i.length<=s?(i.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=i.length):(i.copy(this._intBuf,this._intBufEnd,0,s),this._intBufEnd+=s,this._stream.unshift(i.slice(s)))}else await this._waitForReadable()}let n=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+r));return this._intBufStart+=r,n}async _waitForReadable(){if(!this._socket||this._socket.destroyed)throw new Error("Socket closed or destroyed during read");return new Promise((r,n)=>{let i=()=>{this._stream.removeListener("readable",s),this._stream.removeListener("close",o),this._stream.removeListener("error",a),this._stream.removeListener("end",o)},s=()=>{i(),r()},o=()=>{i(),n(new Error("Socket closed/ended during read"))},a=l=>{i(),n(l)};this._stream.once("readable",s),this._stream.once("close",o),this._stream.once("end",o),this._stream.once("error",a)})}_feedBuffer(r){this._stream.unshift(r)}async _readInt32(){await this._ensureBufferData(4);let r=this._intBuf.readInt32BE(this._intBufStart);return this._intBufStart+=4,r}async _readInt16(){await this._ensureBufferData(2);let r=this._intBuf.readInt16BE(this._intBufStart);return this._intBufStart+=2,r}async _readByte(){await this._ensureBufferData(1);let r=this._intBuf[this._intBufStart];return this._intBufStart+=1,r}async _ensureBufferData(r){if(!(this._intBufEnd-this._intBufStart>=r)){if(this._intBuf.length-this._intBufStart<r){let n=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=n}for(;this._intBufEnd-this._intBufStart<r;){let n=this._stream.read();if(n!==null){let i=this._intBuf.length-this._intBufEnd;n.length<=i?(n.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=n.length):(n.copy(this._intBuf,this._intBufEnd,0,i),this._intBufEnd+=i,this._stream.unshift(n.slice(i)))}else await this._waitForReadable()}}}async execute(r,n=!1){let i=r.commandTimeout;if(!i||i<=0)return this._doExecute(r);let s,o=this._doExecute(r),a=new Promise((l,c)=>{s=setTimeout(async()=>{ue("Command timeout triggered");try{await this.cancel(),c(new Error("Command execution timeout"))}catch(u){c(new Error("Command execution timeout (Cancel failed: "+u.message+")"))}},i*1e3)});try{return await Promise.race([o,a])}catch(l){throw l.message&&l.message.includes("Command execution timeout")&&o.catch(()=>{}),l}finally{clearTimeout(s)}}async _doExecute(r){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{ue("Executing:",r.commandText),this._preExecution(r.commandText);let n=null;for await(let i of this._responseGenerator(r))i.type==="ErrorResponse"&&(n=new Error("Netezza Error: "+i.message));if(n)throw n;return!0}finally{this._executing=!1}}async executeReader(r){let n=r.commandTimeout||this.commandTimeout;if(!n||n<=0)return this._doExecuteReader(r);let i,s=this._doExecuteReader(r),o=new Promise((a,l)=>{i=setTimeout(async()=>{ue("Command timeout triggered");try{await this.cancel(),l(new Error("Command execution timeout"))}catch(c){l(new Error("Command execution timeout (Cancel failed: "+c.message+")"))}},n*1e3)});try{return await Promise.race([s,o])}catch(a){throw a.message&&a.message.includes("Command execution timeout")&&s.catch(()=>{}),a}finally{clearTimeout(i)}}async _doExecuteReader(r){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{ue("Executing Reader:",r.commandText),this._preExecution(r.commandText);let n=this._responseGenerator(r),i=[],s=await n.next(),o=null,a=null;for(;!s.done;){let l=s.value;if(l.type==="RowDescription")i=l.columns;else if(l.type==="RowDescriptionStandard"){let c=l.desc;if(c&&c.numFields>0&&i.length===0){let u=r._preparedStatement;u&&u.description&&(i=u.description)}}else if(l.type==="DataRow"||l.type==="CommandComplete"||l.type==="ReadyForQuery"){if(!o&&i.length>0){a=l;break}}else l.type==="ErrorResponse"&&(o=new Error("Netezza Error: "+l.message));s=await n.next()}if(o)throw this._executing=!1,o;return new _8(r,n,i,()=>{this._executing=!1},a)}catch(n){throw this._executing=!1,n}}_preExecution(r){let n=Buffer.from(r,"utf8"),i=Buffer.allocUnsafe(5+n.length+1);i[0]=80,this._commandNumber!==-1?(this._commandNumber++,i.writeInt32BE(this._commandNumber,1)):(i[1]=255,i[2]=255,i[3]=255,i[4]=255),this._commandNumber>1e5&&(this._commandNumber=1),n.copy(i,5),i[5+n.length]=0,this._stream.write(i)}async*_responseGenerator(r){this._rows=[],this._rowDescription=null;let n=!1;for(;!n;){let i=await this._readByte();for(;i===0;)i=await this._readByte();if(i===117){await this._handleExternalTableExportStart();continue}if(i===85){await this._handleExternalTableExportData();continue}if(i===108){await this._handleExternalTableImport();continue}if(i===120){await this._readBytes(4),ue("Error operation cancel (Ext Tbl)");continue}if(i===101){await this._readBytes(4);let o=It.readInt32(await this._readBytes(4)),a=(await this._readBytes(o-1)).toString("utf8");await this._readBytes(1);let l=[],c=(await this._readBytes(1))[0];for(l.push(c);c=(await this._readBytes(1))[0],c!==0;)l.push(c);let u=It.readInt32(await this._readBytes(4));await this._consumeExternalTableLogData();continue}let s=await this._readBytes(4);if(i===or.CommandComplete){let o=await this._readInt32(),a=await this._readBytes(o);ue("CommandComplete:",a.toString("utf8")),yield{type:"CommandComplete",text:a.toString("utf8")};continue}if(i===or.ReadyForQuery){n=!0,yield{type:"ReadyForQuery"};continue}if(i===76){n=!0;continue}if(!(i===48||i===65)){if(i===80){let o=await this._readInt32();await this._readBytes(o);continue}if(i===or.ErrorResponse){let o=await this._readInt32();yield{type:"ErrorResponse",message:(await this._readBytes(o)).toString("utf8")};continue}if(i===or.RowDescription){let o=await this._readInt32(),a=await this._readBytes(o);this._parseRowDescription(a,r),yield{type:"RowDescription",columns:this._rowDescription};continue}if(i===or.DataRow){let o=await this._readInt32(),a=await this._readBytes(o);yield{type:"DataRow",row:this._parseDataRow(a)};continue}if(i===or.RowDescriptionStandard){let o=await this._readInt32(),a=await this._readBytes(o);this._tupdesc.parse(a,r._preparedStatement),yield{type:"RowDescriptionStandard",desc:this._tupdesc};continue}if(i===or.RowStandard){yield{type:"DataRow",row:await this._resReadDbosTuple(r)};continue}if(i===or.NoticeResponse){let o=await this._readInt32(),l=(await this._readBytes(o)).toString("utf8").replace(/\0/g,"").trim();this.emit("notice",{message:l});continue}ue("Unknown message:","0x"+i.toString(16));try{let o=await this._readInt32();o>0&&o<1e7&&await this._readBytes(o)}catch{}}}}async _consumeExternalTableLogData(){for(;;){let r=await this._readBytes(4),n=It.readInt32(r);if(n===0)return;let i=await this._readBytes(n);ue("ExtLog Content:",i.toString("utf8"))}}async _handleExternalTableExportStart(){await this._readBytes(4),await this._readBytes(10),await this._readBytes(16);let r=It.readInt32(await this._readBytes(4)),i=(await this._readBytes(r)).toString("utf8");ue("ExternalTable Export Start. File:",i);try{this._exportStream=_s.createWriteStream(i),this._exportStream.on("error",o=>{ue("Export Stream Error:",o)});let s=Buffer.alloc(4);await new Promise(o=>this._stream.write(s,()=>o()))}catch(s){ue("Error opening export file:",s);let o=Buffer.alloc(4);It.writeInt32(o,1,0),this._stream.write(o)}}async _handleExternalTableExportData(){ue("Handle Export Data: Skipping 8 bytes...");let r=await this._readBytes(4);ue("Skipped 4:",r.toString("hex"));let n=await this._readBytes(4);ue("Skipped 4 (2):",n.toString("hex")),await this._consumeExternalTableData(this._exportStream),this._exportStream=null}async _consumeExternalTableData(r){for(ue("Entering Consume Loop");;){ue("Reading status...");let n=await this._readBytes(4),i=It.readInt32(n);if(ue("ExtTab Status:",i),i===As.DATA){let s=It.readInt32(await this._readBytes(4));ue("Block Length:",s);let o=await this._readBytes(s);r&&r.write(o)}else if(i===As.DONE){ue("ExternalTable Data Done"),r&&await new Promise(s=>{if(ue("Waiting for writeStream finish..."),r.writableFinished)return ue("Stream already finished"),s();let o=setTimeout(()=>{ue("Stream finish timeout! Destroying..."),r.destroy(),s()},5e3),a=()=>{ue("Stream finished event"),clearTimeout(o),c(),s()},l=u=>{ue("Stream error on end:",u),clearTimeout(o),c(),s()},c=()=>{r.removeListener("finish",a),r.removeListener("error",l)};r.on("finish",a),r.on("error",l),r.end()});return}else if(i===As.ERROR){let s=It.readInt16(await this._readBytes(2)),o=(await this._readBytes(s)).toString("utf8");ue("ExternalTable Data Error:",o),r&&r.end();return}else{ue("Unknown ExtTab Status:",i),r&&r.end();return}}}async _handleExternalTableImport(){await this._readBytes(8);let r=[],n=(await this._readBytes(1))[0];for(r.push(n);n!==0;)n=(await this._readBytes(1))[0],n!==0&&r.push(n);let i=Buffer.from(r).toString("utf8");ue("ExternalTable Import Start. File:",i);let s=It.readInt32(await this._readBytes(4));ue("Host Version:",s);let o=Buffer.alloc(4);It.writeInt32(o,1,0),await new Promise(E=>this._stream.write(o,()=>E())),ue("Sent Client Version");let a=It.readInt32(await this._readBytes(4)),l=It.readInt32(await this._readBytes(4));if(ue("ExtTab Import Config:",{hostVersion:s,format:a,bufSize:l}),t._streamRegistry.has(i))ue("Using virtual import stream for:",i);else if(!_s.existsSync(i)){ue("Import file not found:",i);let E=Buffer.alloc(4);It.writeInt32(E,As.ERROR,0),this._stream.write(E);return}let c=0,u;t._streamRegistry.has(i)?(u=t._streamRegistry.get(i),c=u.byteLength||0):(c=_s.statSync(i).size,u=_s.createReadStream(i,{highWaterMark:l||65536}));let d=0;await new Promise((E,f)=>{u.on("data",T=>{let h=Buffer.isBuffer(T)?T:Buffer.from(T),p=Buffer.alloc(8);It.writeInt32(p,As.DATA,0),It.writeInt32(p,h.length,4),this._stream.write(p),this._stream.write(h),d+=h.length,this.emit("importProgress",{bytesSent:d,totalSize:c,percentComplete:c>0?Math.round(d/c*100):0})}),u.on("end",()=>{ue("Import Stream End");let T=Buffer.alloc(4);It.writeInt32(T,As.DONE,0),this._stream.write(T),E()}),u.on("error",T=>{ue("Import Stream Error:",T);let h=Buffer.alloc(4);It.writeInt32(h,As.ERROR,0),this._stream.write(h);let p=T.message||"Error",S=Buffer.alloc(2);S.writeInt16BE(p.length),this._stream.write(S),this._stream.write(Buffer.from(p,"utf8")),f(T)})})}_parseRowDescription(r,n){ue("parseRowDescription data length:",r.length,"hex:",r.toString("hex").substring(0,100));let i=0;if(r.length<2){ue("Data too short for row description");return}let s=r.readInt16BE(i);i+=2,ue("Column count:",s),this._rowDescription=[];for(let o=0;o<s&&i<r.length;o++){let a=i;for(;i<r.length&&r[i]!==0;)i++;let l=r.toString("utf8",a,i);if(i++,i+11>r.length){ue("Not enough data for column",o,"at offset",i,"need 11 more, have",r.length-i);break}let c=r.readInt32BE(i);i+=4;let u=r.readInt16BE(i);i+=2;let d=r.readInt32BE(i);i+=4;let E=r[i];i+=1,this._rowDescription.push({name:l,typeOid:c,typeLen:u,typeMod:d,format:E}),ue("Column",o,":",l,"typeOid:",c,"typeLen:",u)}n&&(n._preparedStatement={description:this._rowDescription})}_parseDataRow(r){let n=this._rowDescription.length,s=Math.ceil(n/8),o=[];for(let a=0;a<n;a++){let l=r[Math.floor(a/8)],c=7-a%8;if(!((l&1<<c)!==0)){o.push(null);continue}let d=r.readInt32BE(s);s+=4;let E=d-4;if(E<=0){o.push(null);continue}let T=this._rowDescription[a]?.typeOid,h=r.toString("utf8",s,s+E);T===1083?o.push(w0(h)):o.push(h),s+=E}return o}async _resReadDbosTuple(r){let n=this._tupdesc.numFields;await this._readBytes(4);let i=It.readInt32(await this._readBytes(4)),s=await this._readBytes(i),o=new Array(n);for(let a=0;a<n;a++){if(this._columnIsNull(s,a)){o[a]=null;continue}let l=this._cTableFieldAt(s,a),c=this._tupdesc.fieldType[a],u=this._tupdesc.fieldSize[a];o[a]=this._parseFieldByType(l,c,u,a)}return o}_parseFieldByType(r,n,i,s){switch(n){case Ut.NzTypeChar:return r.toString("latin1",0,i).trimEnd();case Ut.NzTypeNChar:case Ut.NzTypeNVarChar:{let o=r.readInt16LE(0)-2;return r.toString("utf8",2,2+o)}case Ut.NzTypeVarChar:case Ut.NzTypeVarFixedChar:{let o=r.readInt16LE(0)-2;return r.toString("latin1",2,2+o)}case Ut.NzTypeInt8:return r.readBigInt64LE(0);case Ut.NzTypeInt:return r.readInt32LE(0);case Ut.NzTypeInt2:return r.readInt16LE(0);case Ut.NzTypeInt1:return r.readInt8(0);case Ut.NzTypeDouble:return r.readDoubleLE(0);case Ut.NzTypeFloat:return r.readFloatLE(0);case Ut.NzTypeDate:return b0(r);case Ut.NzTypeTime:return Bf(r);case Ut.NzTypeInterval:return L0(r);case Ut.NzTypeTimeTz:return D0(r,i);case Ut.NzTypeTimestamp:return y0(r);case Ut.NzTypeBool:return r[0]===1;case Ut.NzTypeNumeric:{let o=this._tupdesc.getFieldPrecision(s),a=this._tupdesc.getFieldScale(s),l=this._tupdesc.getNumericDigitCount(s);return P0(r,o,a,l)}default:return r.toString("utf8",0,i)}}_columnIsNull(r,n){if(!this._tupdesc.nullsAllowed)return!1;let i=this._tupdesc.fieldPhysField[n];return(r[2+Math.floor(i/8)]&1<<i%8)!==0}_cTableFieldAt(r,n){if(this._tupdesc.fieldFixedSize[n]!==0)return r.slice(this._tupdesc.fieldOffset[n]);let i=r.slice(this._tupdesc.fixedFieldsSize);for(let s=0;s<this._tupdesc.fieldOffset[n];s++){let o=i.readInt16LE(0);i=i.slice(o%2===0?o:o+1)}return i}};sw.exports=VR});var qR={};_t(qR,{createNzConnection:()=>g8});function g8(t){let e=Ir();return new e(t)}var XR=H(()=>{"use strict"});var kf,Di,jR=H(()=>{"use strict";kf=q(require("vscode")),Di=class t{constructor(e){this.context=e;this._connections={};this._activeConnectionName=null;this._documentConnections=new Map;this._persistentConnections=new Map;this._keepConnectionOpen=!1;this._onDidChangeConnections=new kf.EventEmitter;this.onDidChangeConnections=this._onDidChangeConnections.event;this._onDidChangeActiveConnection=new kf.EventEmitter;this.onDidChangeActiveConnection=this._onDidChangeActiveConnection.event;this._onDidChangeDocumentConnection=new kf.EventEmitter;this.onDidChangeDocumentConnection=this._onDidChangeDocumentConnection.event;this._loadingPromise=this.loadConnections()}static{this.SERVICE_NAME="netezza-vscode-connections"}static{this.ACTIVE_CONN_KEY="netezza-active-connection"}async loadConnections(){this._activeConnectionName=this.context.globalState.get(t.ACTIVE_CONN_KEY)||null;let e=await this.context.secrets.get(t.SERVICE_NAME);if(e)try{this._connections=JSON.parse(e)}catch(r){console.error("Failed to parse connections:",r),this._connections={}}else{let r=await this.context.secrets.get("netezza-vscode");if(r)try{let n=JSON.parse(r);if(n&&n.host){let i=`Default (${n.host})`;this._connections={[i]:{...n,name:i}},this._activeConnectionName=i,await this.saveConnectionsToStorage()}}catch{}}this._onDidChangeConnections.fire()}async ensureLoaded(){await this._loadingPromise}async saveConnectionsToStorage(){await this.context.secrets.store(t.SERVICE_NAME,JSON.stringify(this._connections)),this._activeConnectionName?await this.context.globalState.update(t.ACTIVE_CONN_KEY,this._activeConnectionName):await this.context.globalState.update(t.ACTIVE_CONN_KEY,void 0)}async saveConnection(e){if(await this.ensureLoaded(),!e.name)throw new Error("Connection name is required");this._connections[e.name]=e,this._activeConnectionName||await this.setActiveConnection(e.name),await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}async deleteConnection(e){if(await this.ensureLoaded(),this._connections[e]){if(await this.closePersistentConnection(e),delete this._connections[e],this._activeConnectionName===e){let r=Object.keys(this._connections);await this.setActiveConnection(r.length>0?r[0]:null)}await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}}async getConnections(){return await this.ensureLoaded(),Object.values(this._connections)}async getConnection(e){return await this.ensureLoaded(),this._connections[e]}async setActiveConnection(e){await this.ensureLoaded(),this._activeConnectionName=e,await this.context.globalState.update(t.ACTIVE_CONN_KEY,e),this._onDidChangeActiveConnection.fire(e)}getActiveConnectionName(){return this._activeConnectionName}async getCurrentDatabase(e){await this.ensureLoaded();let r=e||this._activeConnectionName;return r&&this._connections[r]?.database||null}setKeepConnectionOpen(e){this._keepConnectionOpen=e,e||this.closeAllPersistentConnections()}getKeepConnectionOpen(){return this._keepConnectionOpen}async getPersistentConnection(e){let r=e||this._activeConnectionName;if(!r)throw new Error("No connection selected");let n=await this.getConnection(r);if(!n)throw new Error(`Connection '${r}' not found or invalid`);let i=this._persistentConnections.get(r);if(!i){let{createNzConnection:s}=(XR(),xa(qR)),o=s({host:n.host,port:n.port||5480,database:n.database,user:n.user,password:n.password});await o.connect(),i=o,this._persistentConnections.set(r,i)}return i}async closePersistentConnection(e){let r=this._persistentConnections.get(e);if(r){try{await r.close()}catch(n){console.error(`Error closing connection ${e}:`,n)}this._persistentConnections.delete(e)}}async closeAllPersistentConnections(){for(let e of this._persistentConnections.keys())await this.closePersistentConnection(e)}dispose(){this.closeAllPersistentConnections(),this._onDidChangeConnections.dispose(),this._onDidChangeActiveConnection.dispose(),this._onDidChangeDocumentConnection.dispose()}getDocumentConnection(e){return this._documentConnections.get(e)}setDocumentConnection(e,r){this._documentConnections.set(e,r),this._onDidChangeDocumentConnection.fire(e)}clearDocumentConnection(e){this._documentConnections.delete(e),this._onDidChangeDocumentConnection.fire(e)}getConnectionForExecution(e){if(e){let r=this._documentConnections.get(e);if(r)return r}return this._activeConnectionName||void 0}}});var ow={};_t(ow,{QueryHistoryManager:()=>ar});var Mt,zR,ar,$f=H(()=>{"use strict";Mt=q(require("fs")),zR=q(require("path")),ar=class t{constructor(e){this.context=e;this.cache=[];this.initialized=!1;this.writeQueue=Promise.resolve();this.archiveQueue=Promise.resolve();if(this.context.globalStorageUri){let r=this.context.globalStorageUri.fsPath;this.historyFilePath=zR.join(r,"query-history.json"),this.archiveFilePath=zR.join(r,"query-history-archive.json");try{Mt.existsSync(r)||Mt.mkdirSync(r,{recursive:!0})}catch(n){console.error("[QueryHistoryManager] Error creating storage directory:",n)}}this.initialize()}static{this.STORAGE_KEY="queryHistory"}static{this.ACTIVE_LIMIT=1e3}static{this.BATCH_ARCHIVE_SIZE=100}static{this.STORAGE_VERSION=1}async initialize(){if(!this.initialized)try{let e=!1;if(this.historyFilePath&&Mt.existsSync(this.historyFilePath))try{let r=await Mt.promises.readFile(this.historyFilePath,"utf-8");if(!r||!r.trim())console.log("[QueryHistoryManager] File is empty, starting fresh"),this.cache=[],e=!0;else{let n=JSON.parse(r);n&&n.entries&&(this.cache=n.entries,e=!0)}}catch(r){console.warn("[QueryHistoryManager] Corrupted history file, resetting:",r),this.cache=[],e=!0;try{await this.saveToStorage(),console.log("[QueryHistoryManager] Reset corrupted file to empty state")}catch(n){console.error("[QueryHistoryManager] Failed to reset file:",n)}}if(!e){let r=this.context.globalState.get(t.STORAGE_KEY);r&&r.entries&&(this.cache=r.entries,console.log(`\u2705 Migrated ${this.cache.length} entries from globalState`),await this.saveToStorage(),await this.context.globalState.update(t.STORAGE_KEY,void 0))}this.cache.length>t.ACTIVE_LIMIT+t.BATCH_ARCHIVE_SIZE&&(console.log(`[QueryHistoryManager] Cache (${this.cache.length}) exceeds active limit. Migrating to archive...`),await this.flushToArchive()),this.initialized=!0}catch(e){console.error("\u274C Error initializing query history:",e),this.cache=[],this.initialized=!0}}async saveToStorage(){if(!this.historyFilePath)return;let e=async()=>{try{let r={entries:this.cache,version:t.STORAGE_VERSION};await Mt.promises.writeFile(this.historyFilePath,JSON.stringify(r),"utf-8")}catch(r){console.error("Error saving to storage:",r)}};return this.writeQueue=this.writeQueue.then(e,e),this.writeQueue}async flushToArchive(){if(!this.archiveFilePath)return;let e=async()=>{try{if(this.cache.length-t.ACTIVE_LIMIT<=0)return;let n=this.cache.slice(t.ACTIVE_LIMIT);this.cache=this.cache.slice(0,t.ACTIVE_LIMIT),await this.saveToStorage();let i=[];if(Mt.existsSync(this.archiveFilePath))try{let o=await Mt.promises.readFile(this.archiveFilePath,"utf-8");if(o.trim()){let a=JSON.parse(o);i=Array.isArray(a)?a:a.entries||[]}}catch(o){console.warn("Error reading archive file, starting fresh archive append:",o)}let s=[...n,...i];await Mt.promises.writeFile(this.archiveFilePath,JSON.stringify({entries:s}),"utf-8"),console.log(`[QueryHistoryManager] Archived ${n.length} items. Active: ${this.cache.length}, Archive: ${s.length}`)}catch(r){console.error("Error flushing to archive:",r)}};return this.archiveQueue=this.archiveQueue.then(e,e),this.archiveQueue}async addEntry(e,r,n,i,s,o,a){try{this.initialized||await this.initialize();let l=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,c=Date.now(),u={id:l,host:e,database:r,schema:n,query:i.trim(),timestamp:c,connectionName:s,is_favorite:!1,tags:o||"",description:a||""};this.cache.unshift(u),this.cache.length>=t.ACTIVE_LIMIT+t.BATCH_ARCHIVE_SIZE?await this.flushToArchive():await this.saveToStorage()}catch(l){console.error("Error adding query to history:",l)}}async getHistory(e,r=0){return this.initialized||await this.initialize(),e!==void 0?this.cache.slice(r,r+e):[...this.cache]}async deleteEntry(e){try{this.initialized||await this.initialize();let r=this.cache.length;this.cache=this.cache.filter(n=>n.id!==e),this.cache.length!==r&&await this.saveToStorage()}catch(r){console.error("Error deleting entry:",r)}}async clearHistory(){try{this.initialized||await this.initialize(),this.cache=[],await this.saveToStorage(),this.archiveFilePath&&Mt.existsSync(this.archiveFilePath)&&await Mt.promises.unlink(this.archiveFilePath),console.log("All query history cleared")}catch(e){console.error("Error clearing history:",e)}}async getStats(){try{this.initialized||await this.initialize();let e=this.cache.length,r=JSON.stringify(this.cache),n=parseFloat((r.length/(1024*1024)).toFixed(2)),i=0,s=0;if(this.archiveFilePath&&Mt.existsSync(this.archiveFilePath)){let o=await Mt.promises.stat(this.archiveFilePath);s=parseFloat((o.size/(1024*1024)).toFixed(2));try{if(o.size<50*1024*1024){let a=await Mt.promises.readFile(this.archiveFilePath,"utf-8"),l=JSON.parse(a);l&&l.entries?i=l.entries.length:Array.isArray(l)&&(i=l.length)}else i=-1}catch(a){console.debug("[QueryHistoryManager] Error reading archive for stats:",a)}}return{activeEntries:e,archivedEntries:i===-1?99999:i,totalEntries:e+(i===-1?0:i),activeFileSizeMB:n,archiveFileSizeMB:s,totalFileSizeMB:parseFloat((n+s).toFixed(2))}}catch(e){return console.error("Error getting stats:",e),{activeEntries:0,archivedEntries:0,totalEntries:0,activeFileSizeMB:0,archiveFileSizeMB:0,totalFileSizeMB:0}}}async toggleFavorite(e){try{this.initialized||await this.initialize();let r=this.cache.find(n=>n.id===e);r&&(r.is_favorite=!r.is_favorite,await this.saveToStorage())}catch(r){console.error("Error toggling favorite:",r)}}async updateEntry(e,r,n){try{this.initialized||await this.initialize();let i=this.cache.find(s=>s.id===e);i&&(r!==void 0&&(i.tags=r),n!==void 0&&(i.description=n),await this.saveToStorage())}catch(i){console.error("Error updating entry:",i)}}async getFavorites(){return this.initialized||await this.initialize(),this.cache.filter(e=>e.is_favorite)}async getByTag(e){return this.initialized||await this.initialize(),this.cache.filter(r=>r.tags?.toLowerCase().includes(e.toLowerCase()))}async getAllTags(){this.initialized||await this.initialize();let e=new Set;return this.cache.forEach(r=>{r.tags&&r.tags.split(",").forEach(i=>{let s=i.trim();s&&e.add(s)})}),Array.from(e).sort()}async searchAll(e){this.initialized||await this.initialize();let r=e.toLowerCase();return this.cache.filter(i=>i.query.toLowerCase().includes(r)||i.host.toLowerCase().includes(r)||i.database&&i.database.toLowerCase().includes(r)||i.schema&&i.schema.toLowerCase().includes(r)||i.tags?.toLowerCase().includes(r)||i.description?.toLowerCase().includes(r))}async searchArchive(e,r=50){if(!this.archiveFilePath||!Mt.existsSync(this.archiveFilePath))return[];try{let n=await Mt.promises.readFile(this.archiveFilePath,"utf-8");if(!n)return[];let i=JSON.parse(n),s=Array.isArray(i)?i:i.entries||[],o=e.toLowerCase(),a=[];for(let l of s){if(a.length>=r)break;(l.query.toLowerCase().includes(o)||l.host.toLowerCase().includes(o)||l.database&&l.database.toLowerCase().includes(o))&&a.push(l)}return a}catch(n){return console.error("Error searching archive:",n),[]}}async getFilteredHistory(e,r,n,i){this.initialized||await this.initialize();let s=this.cache.filter(o=>!(e&&o.host!==e||r&&o.database!==r||n&&o.schema!==n));return i&&(s=s.slice(0,i)),s}async getArchivedHistory(){return[]}async clearArchive(){this.archiveFilePath&&Mt.existsSync(this.archiveFilePath)&&await Mt.promises.unlink(this.archiveFilePath)}close(){console.log("Query history manager closed")}}});function Yf(t){let e=new Set;if(!t)return e;for(let r of t.matchAll(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g))r[1]&&e.add(r[1]);for(let r of t.matchAll(/\$([A-Za-z_][A-Za-z0-9_]*)(?!\s*\})/g)){let n=r[0],i=r.index;if(i>0&&t[i-1]==="{")continue;let s=i+n.length;s<t.length&&t[s]==="}"||r[1]&&e.add(r[1])}return e}function Vf(t){if(!t)return{sql:"",setValues:{}};let e=t.split(/\r?\n/),r=[],n={};for(let i of e){let s=i.match(/^\s*@SET\s+([A-Za-z0-9_]+)\s*=\s*(.+)$/i);if(s){let o=s[2].trim();o.endsWith(";")&&(o=o.slice(0,-1).trim());let a=o.match(/^'(.*)'$/s)||o.match(/^"(.*)"$/s);a&&(o=a[1]),n[s[1]]=o}else r.push(i)}return{sql:r.join(`
`),setValues:n}}function qf(t,e){let r=t.replace(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g,(i,s)=>e[s]??""),n=Object.keys(e).sort((i,s)=>s.length-i.length);for(let i of n)if(/^[A-Za-z_]/.test(i)){let s=new RegExp(`\\$${i}(?![A-Za-z0-9_])`,"g");r=r.replace(s,e[i]??"")}return r}var aw=H(()=>{"use strict"});async function lw(){let t=xr.window.activeTextEditor;if(!t){xr.window.showWarningMessage("No active editor to cancel query for.");return}let e=t.document.uri.toString(),r=Pi.get(e);if(r)try{await r.cancel(),xr.window.showInformationMessage("Cancellation request sent.")}catch(n){let i=n instanceof Error?n.message:String(n);xr.window.showErrorMessage(`Failed to cancel query: ${i}`)}else xr.window.showInformationMessage("No active query found for this tab.")}async function KR(t,e,r){let n={};if(t.size===0)return n;if(e){let s=Array.from(t).filter(o=>!(r&&r[o]!==void 0));if(s.length>0)throw new Error("Query contains variables but silent mode is enabled; cannot prompt for values. Missing: "+s.join(", "));for(let o of t)n[o]=r[o];return n}let i=[];for(let s of t)r&&r[s]!==void 0?n[s]=r[s]:i.push(s);for(let s of i){let o=await xr.window.showInputBox({prompt:`Enter value for ${s}`,placeHolder:"",value:r&&r[s]?r[s]:void 0,ignoreFocusOut:!0});if(o===void 0)throw new Error("Variable input cancelled by user");n[s]=o}return n}function N8(t,e){let r;return!t&&!e&&(r=xr.window.createOutputChannel("Netezza SQL"),r.show(!0)),{outputChannel:r,logCallback:e}}function Bc(t,e){t.outputChannel&&t.outputChannel.appendLine(e),t.logCallback&&t.logCallback(e)}async function O8(t,e){let r=Vf(t),n=r.sql,i=r.setValues,s=Yf(n);if(s.size>0){let o=await KR(s,e,i);n=qf(n,o)}return n}function cw(t,e,r){let n=e;if(!n&&r&&(n=t.getConnectionForExecution(r)),n||(n=t.getActiveConnectionName()||void 0),!n)throw new Error("No connection selected");return n}async function Xf(t,e,r){if(r)return{connection:await t.getPersistentConnection(e),shouldCloseConnection:!1};{let{createNzConnection:n}=(XR(),xa(qR)),i=await t.getConnection(e);if(!i)throw new Error(`Connection '${e}' not found`);let s=n({host:i.host,port:i.port||5480,database:i.database,user:i.user,password:i.password});return await s.connect(),{connection:s,shouldCloseConnection:!0}}}async function JR(t,e){let r=Date.now(),n=1e4;try{let i=!1;do{for(;await t.read();)if(Date.now()-r>n){i=!0;break}if(i)break;if(Date.now()-r>n){i=!0;break}}while(await t.nextResult());i&&console.warn(`consumeRestAndCancel timed out after ${n}ms, forcing cancel`),await e.cancel()}catch(i){console.warn("Failed to cancel command after limit reached:",i)}}async function C8(t,e,r,n){let i=t.createCommand(e);i.commandTimeout=r,n&&Pi.set(n,i);try{let s=await i.executeReader(),o=[],a=[],l=2e5,c=0,u=!1;for(;await s.read();){if(o.length===0)for(let E=0;E<s.fieldCount;E++)o.push({name:s.getName(E),type:s.getTypeName(E)});let d=[];for(let E=0;E<s.fieldCount;E++)d.push(s.getValue(E));if(a.push(d),c++,c>=l){u=!0,await JR(s,i);break}}return{columns:o,data:a,limitReached:u}}finally{n&&Pi.delete(n)}}async function y8(t,e,r,n){let i="unknown",s=await e.getConnection(r);s&&new ar(t).addEntry(s.host,s.database,i,n,r).catch(a=>console.error("History log error:",a))}async function oe(t,e,r=!1,n,i,s,o){let a=n||new Di(t),l=a.getKeepConnectionOpen(),c=N8(r,o);Bc(c,"Executing query..."),i&&Bc(c,`Target Connection: ${i}`);try{let u=await O8(e,r),d=cw(a,i,s),{connection:E,shouldCloseConnection:f}=await Xf(a,d,l);if(c.outputChannel){let T=h=>{let p=h;c.outputChannel.appendLine(`NOTICE: ${p.message}`)};E.on("notice",T)}try{let h=xr.workspace.getConfiguration("netezza").get("queryTimeout",1800),{columns:p,data:S,limitReached:m}=await C8(E,u,h,s);return await y8(t,a,d,e),p.length>0?(Bc(c,"Query completed."),{columns:p,data:S,rowsAffected:void 0,limitReached:m,sql:u}):(Bc(c,"Query executed successfully (no results)."),{columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully (no results).",sql:u})}finally{f&&E&&await E.close()}}catch(u){let E=`Error: ${u.message||String(u)}`;throw Bc(c,E),new Error(E)}}async function Mr(t,e,r=!1,n,i,s){let o=await oe(t,e,r,i,n,s);if(o.data&&o.data.length>0){let a=o.data.map(c=>{let u={};return o.columns.forEach((d,E)=>{u[d.name]=c[E]}),u});return JSON.stringify(a,(c,u)=>typeof u=="bigint"?u>=Number.MIN_SAFE_INTEGER&&u<=Number.MAX_SAFE_INTEGER?Number(u):u.toString():u,2)}else if(o.message)return o.message}function Ee(t){return!t.columns||!t.data||t.data.length===0?[]:t.data.map(e=>{let r={};return t.columns.forEach((n,i)=>{let s=e[i];typeof s=="bigint"&&(s>=Number.MIN_SAFE_INTEGER&&s<=Number.MAX_SAFE_INTEGER?s=Number(s):s=s.toString()),r[n.name]=s}),r})}async function uw(t,e,r,n,i){let s=n||new Di(t),o=s.getKeepConnectionOpen(),a=[],l=cw(s,r,i),{connection:c,shouldCloseConnection:u}=await Xf(s,l,o);try{let d=E=>{let f=E;a.push(f.message)};c.on("notice",d);try{let f=xr.workspace.getConfiguration("netezza").get("queryTimeout",1800),T=c.createCommand(e);T.commandTimeout=f,i&&Pi.set(i,T);try{let h=await T.executeReader();for(;await h.read(););}finally{i&&Pi.delete(i)}}finally{c.removeListener("notice",d)}}finally{u&&c&&await c.close()}return a.join(`
`)}async function Fc(t,e,r,n,i,s){let o=r||new Di(t),a=o.getKeepConnectionOpen(),l;i||(l=xr.window.createOutputChannel("Netezza SQL"),l.show(!0),l.appendLine(`Executing ${e.length} queries sequentially...`));let c=[],u=r?r.getConnectionForExecution(n):void 0;if(u||(u=o.getActiveConnectionName()||void 0),!u)throw l&&l.appendLine("Error: No connection selected"),i&&i("Error: No connection selected"),new Error("No connection selected");try{let d=await o.getConnection(u);if(!d)throw new Error(`Connection '${u}' not found`);let{connection:E,shouldCloseConnection:f}=await Xf(o,u,a);E.on("notice",T=>{let h=T;l&&l.appendLine(`NOTICE: ${h.message}`),i&&i(`NOTICE: ${h.message}`)});try{let T="unknown";try{let m=await E.createCommand("SELECT CURRENT_SID").executeReader();if(await m.read()){let R=m.getValue(0);R!==void 0&&i&&i(`Connected. Session ID: ${R}`)}await m.close()}catch(S){console.debug("Could not retrieve session ID:",S),i&&i("Connected.")}let h=new ar(t),p=u;for(let S=0;S<e.length;S++){let m=e[S],R=`Executing query ${S+1}/${e.length}...`;l&&l.appendLine(R),i&&i(R);try{let A=Vf(m),g=A.sql,w=A.setValues,I=Yf(g);if(I.size>0){let Y=await KR(I,!1,w);g=qf(g,Y)}let b=xr.workspace.getConfiguration("netezza").get("queryTimeout",1800),P=Date.now(),{results:M,error:B}=await b8(E,g,2e5,b,n),F=Date.now()-P;if(i&&i(`Executed query ${S+1}/${e.length} in ${F}ms`),h.addEntry(d.host,d.database,T,m,p).catch(Y=>{console.error("Failed to log query to history:",Y)}),M&&M.length>0)for(let Y of M)Y.columns.length>0?c.push({columns:Y.columns,data:Y.rows,rowsAffected:void 0,limitReached:Y.limitReached,sql:g}):c.push({columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully",sql:g});if(s&&M&&M.length>0){let Y=[];for(let J of M)J.columns.length>0?Y.push({columns:J.columns,data:J.rows,rowsAffected:void 0,limitReached:J.limitReached,sql:g}):Y.push({columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully",sql:g});s(Y)}if(B)throw B}catch(A){let g=A instanceof Error?A.message:String(A);throw l&&l.appendLine(`Error in query ${S+1}: ${g}`),new Error(g)}}l&&l.appendLine("All queries completed.")}finally{f&&await E.close()}}catch(d){let f=`Error: ${d.message||String(d)}`;throw l&&l.appendLine(f),i&&i(f),new Error(f)}return c}async function b8(t,e,r,n,i){let s=t.createCommand(e);n&&n>0&&(s.commandTimeout=n),i&&Pi.set(i,s);try{let o=await s.executeReader(),a=[],l=!0,c;try{do{let u=[],d=[],E=0,f=!1;for(;await o.read();){if(u.length===0)for(let T=0;T<o.fieldCount;T++)u.push({name:o.getName(T),type:o.getTypeName(T)});if(E<r){let T=[];for(let h=0;h<o.fieldCount;h++)T.push(o.getValue(h));d.push(T),E++}if(E>=r){f=!0,await JR(o,s);break}}a.push({columns:u,rows:d,limitReached:f}),l=await o.nextResult()}while(l)}catch(u){c=u instanceof Error?u:new Error(String(u))}return{results:a,error:c}}finally{i&&Pi.delete(i)}}async function w8(t,e,r,n,i,s,o){let a=t.createCommand(e);i&&i>0&&(a.commandTimeout=i),s&&Pi.set(s,a);try{let l=await a.executeReader(),c,u=0,d=!1;try{let E=[],f=[],T=!0;for(;await l.read();){if(E.length===0)for(let p=0;p<l.fieldCount;p++)E.push({name:l.getName(p),type:l.getTypeName(p)});let h=[];for(let p=0;p<l.fieldCount;p++)h.push(l.getValue(p));if(f.push(h),u++,f.length>=n&&(o({columns:T?E:[],rows:f,isFirstChunk:T,isLastChunk:!1,totalRowsSoFar:u,limitReached:!1}),f=[],T=!1),u>=r){d=!0,await JR(l,a);break}}o({columns:T?E:[],rows:f,isFirstChunk:T,isLastChunk:!0,totalRowsSoFar:u,limitReached:d})}catch(E){c=E instanceof Error?E:new Error(String(E))}return{totalRows:u,limitReached:d,error:c}}finally{s&&Pi.delete(s)}}async function dw(t,e,r,n,i,s,o=5e3){let a=r||new Di(t),l=a.getKeepConnectionOpen(),c;i||(c=xr.window.createOutputChannel("Netezza SQL"),c.show(!0),c.appendLine(`Executing ${e.length} queries with streaming...`));let u=r?r.getConnectionForExecution(n):void 0;if(u||(u=a.getActiveConnectionName()||void 0),!u){let d="Error: No connection selected";throw c&&c.appendLine(d),i&&i(d),new Error("No connection selected")}try{let d=await a.getConnection(u);if(!d)throw new Error(`Connection '${u}' not found`);let{connection:E,shouldCloseConnection:f}=await Xf(a,u,l);E.on("notice",T=>{let h=T;c&&c.appendLine(`NOTICE: ${h.message}`),i&&i(`NOTICE: ${h.message}`)});try{try{let S=await E.createCommand("SELECT CURRENT_SID").executeReader();if(await S.read()){let m=S.getValue(0);m!==void 0&&i&&i(`Connected. Session ID: ${m}`)}await S.close()}catch(p){console.debug("Could not retrieve session ID:",p),i&&i("Connected.")}let T=new ar(t),h="unknown";for(let p=0;p<e.length;p++){let S=e[p],m=`Executing query ${p+1}/${e.length}...`;c&&c.appendLine(m),i&&i(m);try{let R=Vf(S),A=R.sql,g=R.setValues,w=Yf(A);if(w.size>0){let Y=await KR(w,!1,g);A=qf(A,Y)}let D=xr.workspace.getConfiguration("netezza").get("queryTimeout",1800),b=Date.now(),{totalRows:P,limitReached:M,error:B}=await w8(E,A,2e5,o,D,n,Y=>{s&&s(p,Y,A)}),F=Date.now()-b;if(i&&i(`Query ${p+1}/${e.length}: ${P} rows in ${F}ms${M?" (limit reached)":""}`),T.addEntry(d.host,d.database,h,S,u).catch(Y=>console.error("Failed to log query to history:",Y)),B)throw B}catch(R){let A=R instanceof Error?R.message:String(R);throw c&&c.appendLine(`Error in query ${p+1}: ${A}`),new Error(A)}}c&&c.appendLine("All queries completed.")}finally{f&&await E.close()}}catch(d){let f=`Error: ${d.message||String(d)}`;throw c&&c.appendLine(f),i&&i(f),new Error(f)}}var xr,Pi,lr=H(()=>{"use strict";xr=q(require("vscode"));jR();$f();aw();Pi=new Map});var hw={};_t(hw,{SqlParser:()=>vr});var vr,lo=H(()=>{"use strict";vr=class{static splitStatements(e){let r=[],n="",i=!1,s=!1,o=!1,a=!1,l=0;for(;l<e.length;){let c=e[l],u=l+1<e.length?e[l+1]:"";if(o)c===`
`&&(o=!1);else if(a){if(c==="*"&&u==="/"){a=!1,n+=c+u,l++,l++;continue}}else if(i)c==="'"&&e[l-1]!=="\\"&&(i=!1);else if(s)c==='"'&&e[l-1]!=="\\"&&(s=!1);else if(c==="-"&&u==="-")o=!0;else if(c==="/"&&u==="*")a=!0;else if(c==="'")i=!0;else if(c==='"')s=!0;else if(c===";"){n.trim()&&r.push(n.trim()),n="",l++;continue}n+=c,l++}return n.trim()&&r.push(n.trim()),r}static getStatementAtPosition(e,r){let n=0,i=e.length,s=!1,o=!1,a=!1,l=!1,c=-1;for(let d=0;d<r;d++){let E=e[d],f=d+1<e.length?e[d+1]:"";a?E===`
`&&(a=!1):l?E==="*"&&f==="/"&&(l=!1,d++):s?E==="'"&&e[d-1]!=="\\"&&(s=!1):o?E==='"'&&e[d-1]!=="\\"&&(o=!1):E==="-"&&f==="-"?a=!0:E==="/"&&f==="*"?l=!0:E==="'"?s=!0:E==='"'?o=!0:E===";"&&(c=d)}n=c+1,s=!1,o=!1,a=!1,l=!1;for(let d=n;d<e.length;d++){let E=e[d],f=d+1<e.length?e[d+1]:"";if(a)E===`
`&&(a=!1);else if(l)E==="*"&&f==="/"&&(l=!1,d++);else if(s)E==="'"&&e[d-1]!=="\\"&&(s=!1);else if(o)E==='"'&&e[d-1]!=="\\"&&(o=!1);else if(E==="-"&&f==="-")a=!0;else if(E==="/"&&f==="*")l=!0;else if(E==="'")s=!0;else if(E==='"')o=!0;else if(E===";"){i=d;break}}let u=e.substring(n,i).trim();return u?{sql:u,start:n,end:i}:null}static getObjectAtPosition(e,r){let n=c=>/[a-zA-Z0-9_."]/i.test(c),i=r;for(;i>0&&n(e[i-1]);)i--;let s=r;for(;s<e.length&&n(e[s]);)s++;let o=e.substring(i,s);if(!o)return null;let a=c=>c?c.replace(/"/g,""):void 0;if(o.includes("..")){let c=o.split("..");if(c.length===2)return{database:a(c[0]),name:a(c[1])}}let l=o.split(".");return l.length===1?{name:a(l[0])}:l.length===2?{schema:a(l[0]),name:a(l[1])}:l.length===3?{database:a(l[0]),schema:a(l[1]),name:a(l[2])}:null}}});var bw={};_t(bw,{exportToCsv:()=>lA});async function lA(t,e,r,n,i,s){let o=null;try{i&&i.report({message:"Connecting to database..."});let a={host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password},l=Ir();o=new l(a),await o.connect(),i&&i.report({message:"Executing query..."});let c=o.createCommand(r);s&&(c.commandTimeout=s);let u=await c.executeReader();i&&i.report({message:"Writing to CSV..."});let d=yw.createWriteStream(n,{encoding:"utf8",highWaterMark:64*1024}),E=[];for(let p=0;p<u.fieldCount;p++)E.push(u.getName(p));E.length>0&&d.write(E.map(Cw).join(",")+`
`);let f=0,T=[],h=500;for(;await u.read();){f++;let p=[];for(let S=0;S<u.fieldCount;S++)p.push(Cw(u.getValue(S)));if(T.push(p.join(",")),T.length>=h){let S=d.write(T.join(`
`)+`
`);T=[],S||await new Promise(m=>d.once("drain",m)),i&&f%1e3===0&&i.report({message:`Processed ${f} rows...`})}}T.length>0&&d.write(T.join(`
`)+`
`),d.end(),await new Promise((p,S)=>{d.on("finish",p),d.on("error",S)}),i&&i.report({message:`Completed: ${f} rows exported`})}finally{if(o)try{await o.close()}catch(a){console.error("Error closing connection:",a)}}}function Cw(t){if(t==null)return"";let e="";return typeof t=="bigint"?t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?e=Number(t).toString():e=t.toString():t instanceof Date?e=t.toISOString():typeof t=="object"&&Buffer.isBuffer(t)?e=t.toString("hex"):typeof t=="object"?e=JSON.stringify(t):e=String(t),e.includes('"')||e.includes(",")||e.includes(`
`)||e.includes("\r")?`"${e.replace(/"/g,'""')}"`:e}var yw,cA=H(()=>{"use strict";yw=q(require("fs"))});var Lw=O((tPe,ww)=>{var J8=typeof process=="object"&&process&&process.platform==="win32";ww.exports=J8?{sep:"\\"}:{sep:"/"}});var uA=O((rPe,Mw)=>{"use strict";Mw.exports=Pw;function Pw(t,e,r){t instanceof RegExp&&(t=Dw(t,r)),e instanceof RegExp&&(e=Dw(e,r));var n=xw(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Dw(t,e){var r=e.match(t);return r?r[0]:null}Pw.range=xw;function xw(t,e,r){var n,i,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(t,u+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}});var kw=O((nPe,Ww)=>{var vw=uA();Ww.exports=eJ;var Uw="\0SLASH"+Math.random()+"\0",Bw="\0OPEN"+Math.random()+"\0",fA="\0CLOSE"+Math.random()+"\0",Fw="\0COMMA"+Math.random()+"\0",Gw="\0PERIOD"+Math.random()+"\0";function dA(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Q8(t){return t.split("\\\\").join(Uw).split("\\{").join(Bw).split("\\}").join(fA).split("\\,").join(Fw).split("\\.").join(Gw)}function Z8(t){return t.split(Uw).join("\\").split(Bw).join("{").split(fA).join("}").split(Fw).join(",").split(Gw).join(".")}function Hw(t){if(!t)return[""];var e=[],r=vw("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Hw(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function eJ(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Kc(Q8(t),!0).map(Z8)):[]}function tJ(t){return"{"+t+"}"}function rJ(t){return/^-?0\d/.test(t)}function nJ(t,e){return t<=e}function iJ(t,e){return t>=e}function Kc(t,e){var r=[],n=vw("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Kc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+fA+n.post,Kc(t)):[t];var E;if(u)E=n.body.split(/\.\./);else if(E=Hw(n.body),E.length===1&&(E=Kc(E[0],!1).map(tJ),E.length===1))return s.map(function(P){return n.pre+E[0]+P});var f;if(u){var T=dA(E[0]),h=dA(E[1]),p=Math.max(E[0].length,E[1].length),S=E.length==3?Math.abs(dA(E[2])):1,m=nJ,R=h<T;R&&(S*=-1,m=iJ);var A=E.some(rJ);f=[];for(var g=T;m(g,h);g+=S){var w;if(c)w=String.fromCharCode(g),w==="\\"&&(w="");else if(w=String(g),A){var I=p-w.length;if(I>0){var D=new Array(I+1).join("0");g<0?w="-"+D+w.slice(1):w=D+w}}f.push(w)}}else{f=[];for(var b=0;b<E.length;b++)f.push.apply(f,Kc(E[b],!1))}for(var b=0;b<f.length;b++)for(var o=0;o<s.length;o++){var a=i+f[b]+s[o];(!e||u||a)&&r.push(a)}}return r}});var jw=O((sPe,SA)=>{var Jr=SA.exports=(t,e,r={})=>(pE(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Ha(e,r).match(t));SA.exports=Jr;var TA=Lw();Jr.sep=TA.sep;var yn=Symbol("globstar **");Jr.GLOBSTAR=yn;var sJ=kw(),$w={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},pA="[^/]",EA=pA+"*?",oJ="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",aJ="(?:(?!(?:\\/|^)\\.).)*?",qw=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),Yw=qw("().*{}+?[]^$\\!"),lJ=qw("[.("),Vw=/\/+/;Jr.filter=(t,e={})=>(r,n,i)=>Jr(r,t,e);var gs=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};Jr.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Jr;let e=Jr,r=(n,i,s)=>e(n,i,gs(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,gs(t,s))}},r.Minimatch.defaults=n=>e.defaults(gs(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,gs(t,i)),r.defaults=n=>e.defaults(gs(t,n)),r.makeRe=(n,i)=>e.makeRe(n,gs(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,gs(t,i)),r.match=(n,i,s)=>e.match(n,i,gs(t,s)),r};Jr.braceExpand=(t,e)=>Xw(t,e);var Xw=(t,e={})=>(pE(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:sJ(t)),cJ=1024*64,pE=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>cJ)throw new TypeError("pattern is too long")},hA=Symbol("subparse");Jr.makeRe=(t,e)=>new Ha(t,e||{}).makeRe();Jr.match=(t,e,r={})=>{let n=new Ha(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var uJ=t=>t.replace(/\\(.)/g,"$1"),dJ=t=>t.replace(/\\([^-\]])/g,"$1"),fJ=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),EJ=t=>t.replace(/[[\]\\]/g,"\\$&"),Ha=class{constructor(e,r){pE(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(Vw)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,l=r.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=r[o],u=e[s];if(this.debug(r,c,u),c===!1)return!1;if(c===yn){this.debug("GLOBSTAR",[r,c,u]);var d=s,E=o+1;if(E===l){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;d<a;){var f=e[d];if(this.debug(`
globstar while`,e,d,r,E,f),this.matchOne(e.slice(d),r.slice(E),n))return this.debug("globstar found match!",d,a,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,d,r,E);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,E),d===a))}var T;if(typeof c=="string"?(T=u===c,this.debug("string match",c,u,T)):(T=u.match(c),this.debug("pattern match",c,u,T)),!T)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return Xw(this.pattern,this.options)}parse(e,r){pE(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return yn;if(e==="")return"";let i="",s=!1,o=!1,a=[],l=[],c,u=!1,d=-1,E=-1,f,T,h,p=e.charAt(0)===".",S=n.dot||p,m=()=>p?"":S?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",R=I=>I.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",A=()=>{if(c){switch(c){case"*":i+=EA,s=!0;break;case"?":i+=pA,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let I=0,D;I<e.length&&(D=e.charAt(I));I++){if(this.debug("%s	%s %s %j",e,I,i,D),o){if(D==="/")return!1;Yw[D]&&(i+="\\"),i+=D,o=!1;continue}switch(D){case"/":return!1;case"\\":if(u&&e.charAt(I+1)==="-"){i+=D;continue}A(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,I,i,D),u){this.debug("  in class"),D==="!"&&I===E+1&&(D="^"),i+=D;continue}this.debug("call clearStateChar %j",c),A(),c=D,n.noext&&A();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}let b={type:c,start:I-1,reStart:i.length,open:$w[c].open,close:$w[c].close};this.debug(this.pattern,"	",b),a.push(b),i+=b.open,b.start===0&&b.type!=="!"&&(p=!0,i+=R(e.slice(I+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let b=a[a.length-1];if(u||!b){i+="\\)";continue}a.pop(),A(),s=!0,T=b,i+=T.close,T.type==="!"&&l.push(Object.assign(T,{reEnd:i.length}));continue}case"|":{let b=a[a.length-1];if(u||!b){i+="\\|";continue}A(),i+="|",b.start===0&&b.type!=="!"&&(p=!0,i+=R(e.slice(I+1)));continue}case"[":if(A(),u){i+="\\"+D;continue}u=!0,E=I,d=i.length,i+=D;continue;case"]":if(I===E+1||!u){i+="\\"+D;continue}f=e.substring(E+1,I);try{RegExp("["+EJ(dJ(f))+"]"),i+=D}catch{i=i.substring(0,d)+"(?:$.)"}s=!0,u=!1;continue;default:A(),Yw[D]&&!(D==="^"&&u)&&(i+="\\"),i+=D;break}}for(u&&(f=e.slice(E+1),h=this.parse(f,hA),i=i.substring(0,d)+"\\["+h[0],s=s||h[1]),T=a.pop();T;T=a.pop()){let I;I=i.slice(T.reStart+T.open.length),this.debug("setting tail",i,T),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(b,P,M)=>(M||(M="\\"),P+P+M+"|")),this.debug(`tail=%j
   %s`,I,I,T,i);let D=T.type==="*"?EA:T.type==="?"?pA:"\\"+T.type;s=!0,i=i.slice(0,T.reStart)+D+"\\("+I}A(),o&&(i+="\\\\");let g=lJ[i.charAt(0)];for(let I=l.length-1;I>-1;I--){let D=l[I],b=i.slice(0,D.reStart),P=i.slice(D.reStart,D.reEnd-8),M=i.slice(D.reEnd),B=i.slice(D.reEnd-8,D.reEnd)+M,F=b.split(")").length,Y=b.split("(").length-F,J=M;for(let te=0;te<Y;te++)J=J.replace(/\)[+*?]?/,"");M=J;let re=M===""&&r!==hA?"(?:$|\\/)":"";i=b+P+M+re+B}if(i!==""&&s&&(i="(?=.)"+i),g&&(i=m()+i),r===hA)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return uJ(e);let w=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",w),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?EA:r.dot?oJ:aJ,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?fJ(a):a===yn?yn:a._src).reduce((a,l)=>(a[a.length-1]===yn&&l===yn||a.push(l),a),[]),o.forEach((a,l)=>{a!==yn||o[l-1]===yn||(l===0?o.length>1?o[l+1]="(?:\\/|"+n+"\\/)?"+o[l+1]:o[l]=n:l===o.length-1?o[l-1]+="(?:\\/|"+n+")?":(o[l-1]+="(?:\\/|\\/"+n+"\\/)"+o[l+1],o[l+1]=yn))}),o.filter(a=>a!==yn).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;TA.sep!=="/"&&(e=e.split(TA.sep).join("/")),e=e.split(Vw),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],l=e;if(n.matchBase&&a.length===1&&(l=[s]),this.matchOne(l,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Jr.defaults(e).Minimatch}};Jr.Minimatch=Ha});var Zw=O((oPe,Qw)=>{Qw.exports=Jw;var AA=require("fs"),{EventEmitter:hJ}=require("events"),{Minimatch:RA}=jw(),{resolve:TJ}=require("path");function pJ(t,e){return new Promise((r,n)=>{AA.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function zw(t,e){return new Promise((r,n)=>{(e?AA.stat:AA.lstat)(t,(s,o)=>{if(s)switch(s.code){case"ENOENT":r(e?zw(t,!1):null);break;default:r(null);break}else r(o)})})}async function*Kw(t,e,r,n,i,s){let o=await pJ(e+t,s);for(let a of o){let l=a.name;l===void 0&&(l=a,n=!0);let c=t+"/"+l,u=c.slice(1),d=e+"/"+u,E=null;(n||r)&&(E=await zw(d,r)),!E&&a.name!==void 0&&(E=a),E===null&&(E={isDirectory:()=>!1}),E.isDirectory()?i(u)||(yield{relative:u,absolute:d,stats:E},yield*Kw(c,e,r,n,i,!1)):yield{relative:u,absolute:d,stats:E}}}async function*SJ(t,e,r,n){yield*Kw("",t,e,r,n,!0)}function RJ(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var SE=class extends hJ{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=RJ(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new RA(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new RA(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new RA(s,{dot:!0}))}this.iterator=SJ(TJ(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function Jw(t,e,r){return new SE(t,e,r)}Jw.ReaddirGlob=SE});var tL=O((RE,eL)=>{(function(t,e){typeof RE=="object"&&typeof eL<"u"?e(RE):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(RE,(function(t){"use strict";function e(C,...N){return(...y)=>C(...N,...y)}function r(C){return function(...N){var y=N.pop();return C.call(this,N,y)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,s=typeof process=="object"&&typeof process.nextTick=="function";function o(C){setTimeout(C,0)}function a(C){return(N,...y)=>C(()=>N(...y))}var l;n?l=queueMicrotask:i?l=setImmediate:s?l=process.nextTick:l=o;var c=a(l);function u(C){return f(C)?function(...N){let y=N.pop(),L=C.apply(this,N);return d(L,y)}:r(function(N,y){var L;try{L=C.apply(this,N)}catch(v){return y(v)}if(L&&typeof L.then=="function")return d(L,y);y(null,L)})}function d(C,N){return C.then(y=>{E(N,null,y)},y=>{E(N,y&&(y instanceof Error||y.message)?y:new Error(y))})}function E(C,N,y){try{C(N,y)}catch(L){c(v=>{throw v},L)}}function f(C){return C[Symbol.toStringTag]==="AsyncFunction"}function T(C){return C[Symbol.toStringTag]==="AsyncGenerator"}function h(C){return typeof C[Symbol.asyncIterator]=="function"}function p(C){if(typeof C!="function")throw new Error("expected a function");return f(C)?u(C):C}function S(C,N){if(N||(N=C.length),!N)throw new Error("arity is undefined");function y(...L){return typeof L[N-1]=="function"?C.apply(this,L):new Promise((v,U)=>{L[N-1]=(G,...W)=>{if(G)return U(G);v(W.length>1?W:W[0])},C.apply(this,L)})}return y}function m(C){return function(y,...L){return S(function(U){var G=this;return C(y,(W,V)=>{p(W).apply(G,L.concat(V))},U)})}}function R(C,N,y,L){N=N||[];var v=[],U=0,G=p(y);return C(N,(W,V,ee)=>{var Ue=U++;G(W,($e,Fe)=>{v[Ue]=Fe,ee($e)})},W=>{L(W,v)})}function A(C){return C&&typeof C.length=="number"&&C.length>=0&&C.length%1===0}let g={};function w(C){function N(...y){if(C!==null){var L=C;C=null,L.apply(this,y)}}return Object.assign(N,C),N}function I(C){return C[Symbol.iterator]&&C[Symbol.iterator]()}function D(C){var N=-1,y=C.length;return function(){return++N<y?{value:C[N],key:N}:null}}function b(C){var N=-1;return function(){var L=C.next();return L.done?null:(N++,{value:L.value,key:N})}}function P(C){var N=C?Object.keys(C):[],y=-1,L=N.length;return function v(){var U=N[++y];return U==="__proto__"?v():y<L?{value:C[U],key:U}:null}}function M(C){if(A(C))return D(C);var N=I(C);return N?b(N):P(C)}function B(C){return function(...N){if(C===null)throw new Error("Callback was already called.");var y=C;C=null,y.apply(this,N)}}function F(C,N,y,L){let v=!1,U=!1,G=!1,W=0,V=0;function ee(){W>=N||G||v||(G=!0,C.next().then(({value:Fe,done:an})=>{if(!(U||v)){if(G=!1,an){v=!0,W<=0&&L(null);return}W++,y(Fe,V,Ue),V++,ee()}}).catch($e))}function Ue(Fe,an){if(W-=1,!U){if(Fe)return $e(Fe);if(Fe===!1){v=!0,U=!0;return}if(an===g||v&&W<=0)return v=!0,L(null);ee()}}function $e(Fe){U||(G=!1,v=!0,L(Fe))}ee()}var Y=C=>(N,y,L)=>{if(L=w(L),C<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!N)return L(null);if(T(N))return F(N,C,y,L);if(h(N))return F(N[Symbol.asyncIterator](),C,y,L);var v=M(N),U=!1,G=!1,W=0,V=!1;function ee($e,Fe){if(!G)if(W-=1,$e)U=!0,L($e);else if($e===!1)U=!0,G=!0;else{if(Fe===g||U&&W<=0)return U=!0,L(null);V||Ue()}}function Ue(){for(V=!0;W<C&&!U;){var $e=v();if($e===null){U=!0,W<=0&&L(null);return}W+=1,y($e.value,$e.key,B(ee))}V=!1}Ue()};function J(C,N,y,L){return Y(N)(C,p(y),L)}var re=S(J,4);function te(C,N,y){y=w(y);var L=0,v=0,{length:U}=C,G=!1;U===0&&y(null);function W(V,ee){V===!1&&(G=!0),G!==!0&&(V?y(V):(++v===U||ee===g)&&y(null))}for(;L<U;L++)N(C[L],L,B(W))}function Be(C,N,y){return re(C,1/0,N,y)}function fe(C,N,y){var L=A(C)?te:Be;return L(C,p(N),y)}var $r=S(fe,3);function jK(C,N,y){return R($r,C,N,y)}var ff=S(jK,3),Ub=m(ff);function zK(C,N,y){return re(C,1,N,y)}var On=S(zK,3);function KK(C,N,y){return R(On,C,N,y)}var _R=S(KK,3),Bb=m(_R);let ba=Symbol("promiseCallback");function wa(){let C,N;function y(L,...v){if(L)return N(L);C(v.length>1?v:v[0])}return y[ba]=new Promise((L,v)=>{C=L,N=v}),y}function IR(C,N,y){typeof N!="number"&&(y=N,N=null),y=w(y||wa());var L=Object.keys(C).length;if(!L)return y(null);N||(N=L);var v={},U=0,G=!1,W=!1,V=Object.create(null),ee=[],Ue=[],$e={};Object.keys(C).forEach(Z=>{var se=C[Z];if(!Array.isArray(se)){Fe(Z,[se]),Ue.push(Z);return}var Ge=se.slice(0,se.length-1),at=Ge.length;if(at===0){Fe(Z,se),Ue.push(Z);return}$e[Z]=at,Ge.forEach(jt=>{if(!C[jt])throw new Error("async.auto task `"+Z+"` has a non-existent dependency `"+jt+"` in "+Ge.join(", "));Da(jt,()=>{at--,at===0&&Fe(Z,se)})})}),Ye(),an();function Fe(Z,se){ee.push(()=>xc(Z,se))}function an(){if(!G){if(ee.length===0&&U===0)return y(null,v);for(;ee.length&&U<N;){var Z=ee.shift();Z()}}}function Da(Z,se){var Ge=V[Z];Ge||(Ge=V[Z]=[]),Ge.push(se)}function so(Z){var se=V[Z]||[];se.forEach(Ge=>Ge()),an()}function xc(Z,se){if(!W){var Ge=B((jt,...ln)=>{if(U--,jt===!1){G=!0;return}if(ln.length<2&&([ln]=ln),jt){var Pa={};if(Object.keys(v).forEach(oo=>{Pa[oo]=v[oo]}),Pa[Z]=ln,W=!0,V=Object.create(null),G)return;y(jt,Pa)}else v[Z]=ln,so(Z)});U++;var at=p(se[se.length-1]);se.length>1?at(v,Ge):at(Ge)}}function Ye(){for(var Z,se=0;Ue.length;)Z=Ue.pop(),se++,ie(Z).forEach(Ge=>{--$e[Ge]===0&&Ue.push(Ge)});if(se!==L)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function ie(Z){var se=[];return Object.keys(C).forEach(Ge=>{let at=C[Ge];Array.isArray(at)&&at.indexOf(Z)>=0&&se.push(Ge)}),se}return y[ba]}var JK=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,QK=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,ZK=/,/,e4=/(=.+)?(\s*)$/;function t4(C){let N="",y=0,L=C.indexOf("*/");for(;y<C.length;)if(C[y]==="/"&&C[y+1]==="/"){let v=C.indexOf(`
`,y);y=v===-1?C.length:v}else if(L!==-1&&C[y]==="/"&&C[y+1]==="*"){let v=C.indexOf("*/",y);v!==-1?(y=v+2,L=C.indexOf("*/",y)):(N+=C[y],y++)}else N+=C[y],y++;return N}function r4(C){let N=t4(C.toString()),y=N.match(JK);if(y||(y=N.match(QK)),!y)throw new Error(`could not parse args in autoInject
Source:
`+N);let[,L]=y;return L.replace(/\s/g,"").split(ZK).map(v=>v.replace(e4,"").trim())}function Fb(C,N){var y={};return Object.keys(C).forEach(L=>{var v=C[L],U,G=f(v),W=!G&&v.length===1||G&&v.length===0;if(Array.isArray(v))U=[...v],v=U.pop(),y[L]=U.concat(U.length>0?V:v);else if(W)y[L]=v;else{if(U=r4(v),v.length===0&&!G&&U.length===0)throw new Error("autoInject task functions require explicit parameters.");G||U.pop(),y[L]=U.concat(V)}function V(ee,Ue){var $e=U.map(Fe=>ee[Fe]);$e.push(Ue),p(v)(...$e)}}),IR(y,N)}class n4{constructor(){this.head=this.tail=null,this.length=0}removeLink(N){return N.prev?N.prev.next=N.next:this.head=N.next,N.next?N.next.prev=N.prev:this.tail=N.prev,N.prev=N.next=null,this.length-=1,N}empty(){for(;this.head;)this.shift();return this}insertAfter(N,y){y.prev=N,y.next=N.next,N.next?N.next.prev=y:this.tail=y,N.next=y,this.length+=1}insertBefore(N,y){y.prev=N.prev,y.next=N,N.prev?N.prev.next=y:this.head=y,N.prev=y,this.length+=1}unshift(N){this.head?this.insertBefore(this.head,N):Gb(this,N)}push(N){this.tail?this.insertAfter(this.tail,N):Gb(this,N)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var N=this.head;N;)yield N.data,N=N.next}remove(N){for(var y=this.head;y;){var{next:L}=y;N(y)&&this.removeLink(y),y=L}return this}}function Gb(C,N){C.length=1,C.head=C.tail=N}function gR(C,N,y){if(N==null)N=1;else if(N===0)throw new RangeError("Concurrency must not be zero");var L=p(C),v=0,U=[];let G={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function W(ie,Z){G[ie].push(Z)}function V(ie,Z){let se=(...Ge)=>{ee(ie,se),Z(...Ge)};G[ie].push(se)}function ee(ie,Z){if(!ie)return Object.keys(G).forEach(se=>G[se]=[]);if(!Z)return G[ie]=[];G[ie]=G[ie].filter(se=>se!==Z)}function Ue(ie,...Z){G[ie].forEach(se=>se(...Z))}var $e=!1;function Fe(ie,Z,se,Ge){if(Ge!=null&&typeof Ge!="function")throw new Error("task callback must be a function");Ye.started=!0;var at,jt;function ln(oo,...Mc){if(oo)return se?jt(oo):at();if(Mc.length<=1)return at(Mc[0]);at(Mc)}var Pa=Ye._createTaskItem(ie,se?ln:Ge||ln);if(Z?Ye._tasks.unshift(Pa):Ye._tasks.push(Pa),$e||($e=!0,c(()=>{$e=!1,Ye.process()})),se||!Ge)return new Promise((oo,Mc)=>{at=oo,jt=Mc})}function an(ie){return function(Z,...se){v-=1;for(var Ge=0,at=ie.length;Ge<at;Ge++){var jt=ie[Ge],ln=U.indexOf(jt);ln===0?U.shift():ln>0&&U.splice(ln,1),jt.callback(Z,...se),Z!=null&&Ue("error",Z,jt.data)}v<=Ye.concurrency-Ye.buffer&&Ue("unsaturated"),Ye.idle()&&Ue("drain"),Ye.process()}}function Da(ie){return ie.length===0&&Ye.idle()?(c(()=>Ue("drain")),!0):!1}let so=ie=>Z=>{if(!Z)return new Promise((se,Ge)=>{V(ie,(at,jt)=>{if(at)return Ge(at);se(jt)})});ee(ie),W(ie,Z)};var xc=!1,Ye={_tasks:new n4,_createTaskItem(ie,Z){return{data:ie,callback:Z}},*[Symbol.iterator](){yield*Ye._tasks[Symbol.iterator]()},concurrency:N,payload:y,buffer:N/4,started:!1,paused:!1,push(ie,Z){return Array.isArray(ie)?Da(ie)?void 0:ie.map(se=>Fe(se,!1,!1,Z)):Fe(ie,!1,!1,Z)},pushAsync(ie,Z){return Array.isArray(ie)?Da(ie)?void 0:ie.map(se=>Fe(se,!1,!0,Z)):Fe(ie,!1,!0,Z)},kill(){ee(),Ye._tasks.empty()},unshift(ie,Z){return Array.isArray(ie)?Da(ie)?void 0:ie.map(se=>Fe(se,!0,!1,Z)):Fe(ie,!0,!1,Z)},unshiftAsync(ie,Z){return Array.isArray(ie)?Da(ie)?void 0:ie.map(se=>Fe(se,!0,!0,Z)):Fe(ie,!0,!0,Z)},remove(ie){Ye._tasks.remove(ie)},process(){if(!xc){for(xc=!0;!Ye.paused&&v<Ye.concurrency&&Ye._tasks.length;){var ie=[],Z=[],se=Ye._tasks.length;Ye.payload&&(se=Math.min(se,Ye.payload));for(var Ge=0;Ge<se;Ge++){var at=Ye._tasks.shift();ie.push(at),U.push(at),Z.push(at.data)}v+=1,Ye._tasks.length===0&&Ue("empty"),v===Ye.concurrency&&Ue("saturated");var jt=B(an(ie));L(Z,jt)}xc=!1}},length(){return Ye._tasks.length},running(){return v},workersList(){return U},idle(){return Ye._tasks.length+v===0},pause(){Ye.paused=!0},resume(){Ye.paused!==!1&&(Ye.paused=!1,c(Ye.process))}};return Object.defineProperties(Ye,{saturated:{writable:!1,value:so("saturated")},unsaturated:{writable:!1,value:so("unsaturated")},empty:{writable:!1,value:so("empty")},drain:{writable:!1,value:so("drain")},error:{writable:!1,value:so("error")}}),Ye}function Hb(C,N){return gR(C,1,N)}function Wb(C,N,y){return gR(C,N,y)}function i4(C,N,y,L){L=w(L);var v=p(y);return On(C,(U,G,W)=>{v(N,U,(V,ee)=>{N=ee,W(V)})},U=>L(U,N))}var Rs=S(i4,4);function NR(...C){var N=C.map(p);return function(...y){var L=this,v=y[y.length-1];return typeof v=="function"?y.pop():v=wa(),Rs(N,y,(U,G,W)=>{G.apply(L,U.concat((V,...ee)=>{W(V,ee)}))},(U,G)=>v(U,...G)),v[ba]}}function kb(...C){return NR(...C.reverse())}function s4(C,N,y,L){return R(Y(N),C,y,L)}var bc=S(s4,4);function o4(C,N,y,L){var v=p(y);return bc(C,N,(U,G)=>{v(U,(W,...V)=>W?G(W):G(W,V))},(U,G)=>{for(var W=[],V=0;V<G.length;V++)G[V]&&(W=W.concat(...G[V]));return L(U,W)})}var La=S(o4,4);function a4(C,N,y){return La(C,1/0,N,y)}var Ef=S(a4,3);function l4(C,N,y){return La(C,1,N,y)}var hf=S(l4,3);function $b(...C){return function(...N){var y=N.pop();return y(null,...C)}}function Li(C,N){return(y,L,v,U)=>{var G=!1,W;let V=p(v);y(L,(ee,Ue,$e)=>{V(ee,(Fe,an)=>{if(Fe||Fe===!1)return $e(Fe);if(C(an)&&!W)return G=!0,W=N(!0,ee),$e(null,g);$e()})},ee=>{if(ee)return U(ee);U(null,G?W:N(!1))})}}function c4(C,N,y){return Li(L=>L,(L,v)=>v)($r,C,N,y)}var Tf=S(c4,3);function u4(C,N,y,L){return Li(v=>v,(v,U)=>U)(Y(N),C,y,L)}var pf=S(u4,4);function d4(C,N,y){return Li(L=>L,(L,v)=>v)(Y(1),C,N,y)}var Sf=S(d4,3);function Yb(C){return(N,...y)=>p(N)(...y,(L,...v)=>{typeof console=="object"&&(L?console.error&&console.error(L):console[C]&&v.forEach(U=>console[C](U)))})}var Vb=Yb("dir");function f4(C,N,y){y=B(y);var L=p(C),v=p(N),U;function G(V,...ee){if(V)return y(V);V!==!1&&(U=ee,v(...ee,W))}function W(V,ee){if(V)return y(V);if(V!==!1){if(!ee)return y(null,...U);L(G)}}return W(null,!0)}var wc=S(f4,3);function qb(C,N,y){let L=p(N);return wc(C,(...v)=>{let U=v.pop();L(...v,(G,W)=>U(G,!W))},y)}function Xb(C){return(N,y,L)=>C(N,L)}function E4(C,N,y){return $r(C,Xb(p(N)),y)}var Rf=S(E4,3);function h4(C,N,y,L){return Y(N)(C,Xb(p(y)),L)}var Lc=S(h4,4);function T4(C,N,y){return Lc(C,1,N,y)}var Dc=S(T4,3);function CR(C){return f(C)?C:function(...N){var y=N.pop(),L=!0;N.push((...v)=>{L?c(()=>y(...v)):y(...v)}),C.apply(this,N),L=!1}}function p4(C,N,y){return Li(L=>!L,L=>!L)($r,C,N,y)}var Af=S(p4,3);function S4(C,N,y,L){return Li(v=>!v,v=>!v)(Y(N),C,y,L)}var mf=S(S4,4);function R4(C,N,y){return Li(L=>!L,L=>!L)(On,C,N,y)}var _f=S(R4,3);function A4(C,N,y,L){var v=new Array(N.length);C(N,(U,G,W)=>{y(U,(V,ee)=>{v[G]=!!ee,W(V)})},U=>{if(U)return L(U);for(var G=[],W=0;W<N.length;W++)v[W]&&G.push(N[W]);L(null,G)})}function m4(C,N,y,L){var v=[];C(N,(U,G,W)=>{y(U,(V,ee)=>{if(V)return W(V);ee&&v.push({index:G,value:U}),W(V)})},U=>{if(U)return L(U);L(null,v.sort((G,W)=>G.index-W.index).map(G=>G.value))})}function If(C,N,y,L){var v=A(N)?A4:m4;return v(C,N,p(y),L)}function _4(C,N,y){return If($r,C,N,y)}var gf=S(_4,3);function I4(C,N,y,L){return If(Y(N),C,y,L)}var Nf=S(I4,4);function g4(C,N,y){return If(On,C,N,y)}var Of=S(g4,3);function N4(C,N){var y=B(N),L=p(CR(C));function v(U){if(U)return y(U);U!==!1&&L(v)}return v()}var jb=S(N4,2);function O4(C,N,y,L){var v=p(y);return bc(C,N,(U,G)=>{v(U,(W,V)=>W?G(W):G(W,{key:V,val:U}))},(U,G)=>{for(var W={},{hasOwnProperty:V}=Object.prototype,ee=0;ee<G.length;ee++)if(G[ee]){var{key:Ue}=G[ee],{val:$e}=G[ee];V.call(W,Ue)?W[Ue].push($e):W[Ue]=[$e]}return L(U,W)})}var Cf=S(O4,4);function zb(C,N,y){return Cf(C,1/0,N,y)}function Kb(C,N,y){return Cf(C,1,N,y)}var Jb=Yb("log");function C4(C,N,y,L){L=w(L);var v={},U=p(y);return Y(N)(C,(G,W,V)=>{U(G,W,(ee,Ue)=>{if(ee)return V(ee);v[W]=Ue,V(ee)})},G=>L(G,v))}var yf=S(C4,4);function Qb(C,N,y){return yf(C,1/0,N,y)}function Zb(C,N,y){return yf(C,1,N,y)}function e0(C,N=y=>y){var y=Object.create(null),L=Object.create(null),v=p(C),U=r((G,W)=>{var V=N(...G);V in y?c(()=>W(null,...y[V])):V in L?L[V].push(W):(L[V]=[W],v(...G,(ee,...Ue)=>{ee||(y[V]=Ue);var $e=L[V];delete L[V];for(var Fe=0,an=$e.length;Fe<an;Fe++)$e[Fe](ee,...Ue)}))});return U.memo=y,U.unmemoized=C,U}var bf;s?bf=process.nextTick:i?bf=setImmediate:bf=o;var t0=a(bf),yR=S((C,N,y)=>{var L=A(N)?[]:{};C(N,(v,U,G)=>{p(v)((W,...V)=>{V.length<2&&([V]=V),L[U]=V,G(W)})},v=>y(v,L))},3);function r0(C,N){return yR($r,C,N)}function n0(C,N,y){return yR(Y(N),C,y)}function bR(C,N){var y=p(C);return gR((L,v)=>{y(L[0],v)},N,1)}class y4{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(N){let y;for(;N>0&&wR(this.heap[N],this.heap[y=i0(N)]);){let L=this.heap[N];this.heap[N]=this.heap[y],this.heap[y]=L,N=y}}percDown(N){let y;for(;(y=b4(N))<this.heap.length&&(y+1<this.heap.length&&wR(this.heap[y+1],this.heap[y])&&(y=y+1),!wR(this.heap[N],this.heap[y]));){let L=this.heap[N];this.heap[N]=this.heap[y],this.heap[y]=L,N=y}}push(N){N.pushCount=++this.pushCount,this.heap.push(N),this.percUp(this.heap.length-1)}unshift(N){return this.heap.push(N)}shift(){let[N]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),N}toArray(){return[...this]}*[Symbol.iterator](){for(let N=0;N<this.heap.length;N++)yield this.heap[N].data}remove(N){let y=0;for(let L=0;L<this.heap.length;L++)N(this.heap[L])||(this.heap[y]=this.heap[L],y++);this.heap.splice(y);for(let L=i0(this.heap.length-1);L>=0;L--)this.percDown(L);return this}}function b4(C){return(C<<1)+1}function i0(C){return(C+1>>1)-1}function wR(C,N){return C.priority!==N.priority?C.priority<N.priority:C.pushCount<N.pushCount}function s0(C,N){var y=bR(C,N),{push:L,pushAsync:v}=y;y._tasks=new y4,y._createTaskItem=({data:G,priority:W},V)=>({data:G,priority:W,callback:V});function U(G,W){return Array.isArray(G)?G.map(V=>({data:V,priority:W})):{data:G,priority:W}}return y.push=function(G,W=0,V){return L(U(G,W),V)},y.pushAsync=function(G,W=0,V){return v(U(G,W),V)},delete y.unshift,delete y.unshiftAsync,y}function w4(C,N){if(N=w(N),!Array.isArray(C))return N(new TypeError("First argument to race must be an array of functions"));if(!C.length)return N();for(var y=0,L=C.length;y<L;y++)p(C[y])(N)}var o0=S(w4,2);function wf(C,N,y,L){var v=[...C].reverse();return Rs(v,N,y,L)}function Lf(C){var N=p(C);return r(function(L,v){return L.push((U,...G)=>{let W={};if(U&&(W.error=U),G.length>0){var V=G;G.length<=1&&([V]=G),W.value=V}v(null,W)}),N.apply(this,L)})}function a0(C){var N;return Array.isArray(C)?N=C.map(Lf):(N={},Object.keys(C).forEach(y=>{N[y]=Lf.call(this,C[y])})),N}function LR(C,N,y,L){let v=p(y);return If(C,N,(U,G)=>{v(U,(W,V)=>{G(W,!V)})},L)}function L4(C,N,y){return LR($r,C,N,y)}var l0=S(L4,3);function D4(C,N,y,L){return LR(Y(N),C,y,L)}var c0=S(D4,4);function P4(C,N,y){return LR(On,C,N,y)}var u0=S(P4,3);function d0(C){return function(){return C}}let DR=5,f0=0;function Df(C,N,y){var L={times:DR,intervalFunc:d0(f0)};if(arguments.length<3&&typeof C=="function"?(y=N||wa(),N=C):(x4(L,C),y=y||wa()),typeof N!="function")throw new Error("Invalid arguments for async.retry");var v=p(N),U=1;function G(){v((W,...V)=>{W!==!1&&(W&&U++<L.times&&(typeof L.errorFilter!="function"||L.errorFilter(W))?setTimeout(G,L.intervalFunc(U-1)):y(W,...V))})}return G(),y[ba]}function x4(C,N){if(typeof N=="object")C.times=+N.times||DR,C.intervalFunc=typeof N.interval=="function"?N.interval:d0(+N.interval||f0),C.errorFilter=N.errorFilter;else if(typeof N=="number"||typeof N=="string")C.times=+N||DR;else throw new Error("Invalid arguments for async.retry")}function E0(C,N){N||(N=C,C=null);let y=C&&C.arity||N.length;f(N)&&(y+=1);var L=p(N);return r((v,U)=>{(v.length<y-1||U==null)&&(v.push(U),U=wa());function G(W){L(...v,W)}return C?Df(C,G,U):Df(G,U),U[ba]})}function h0(C,N){return yR(On,C,N)}function M4(C,N,y){return Li(Boolean,L=>L)($r,C,N,y)}var Pf=S(M4,3);function v4(C,N,y,L){return Li(Boolean,v=>v)(Y(N),C,y,L)}var xf=S(v4,4);function U4(C,N,y){return Li(Boolean,L=>L)(On,C,N,y)}var Mf=S(U4,3);function B4(C,N,y){var L=p(N);return ff(C,(U,G)=>{L(U,(W,V)=>{if(W)return G(W);G(W,{value:U,criteria:V})})},(U,G)=>{if(U)return y(U);y(null,G.sort(v).map(W=>W.value))});function v(U,G){var W=U.criteria,V=G.criteria;return W<V?-1:W>V?1:0}}var T0=S(B4,3);function p0(C,N,y){var L=p(C);return r((v,U)=>{var G=!1,W;function V(){var ee=C.name||"anonymous",Ue=new Error('Callback function "'+ee+'" timed out.');Ue.code="ETIMEDOUT",y&&(Ue.info=y),G=!0,U(Ue)}v.push((...ee)=>{G||(U(...ee),clearTimeout(W))}),W=setTimeout(V,N),L(...v)})}function F4(C){for(var N=Array(C);C--;)N[C]=C;return N}function vf(C,N,y,L){var v=p(y);return bc(F4(C),N,v,L)}function S0(C,N,y){return vf(C,1/0,N,y)}function R0(C,N,y){return vf(C,1,N,y)}function A0(C,N,y,L){arguments.length<=3&&typeof N=="function"&&(L=y,y=N,N=Array.isArray(C)?[]:{}),L=w(L||wa());var v=p(y);return $r(C,(U,G,W)=>{v(N,U,G,W)},U=>L(U,N)),L[ba]}function G4(C,N){var y=null,L;return Dc(C,(v,U)=>{p(v)((G,...W)=>{if(G===!1)return U(G);W.length<2?[L]=W:L=W,y=G,U(G?null:{})})},()=>N(y,L))}var m0=S(G4);function _0(C){return(...N)=>(C.unmemoized||C)(...N)}function H4(C,N,y){y=B(y);var L=p(N),v=p(C),U=[];function G(V,...ee){if(V)return y(V);U=ee,V!==!1&&v(W)}function W(V,ee){if(V)return y(V);if(V!==!1){if(!ee)return y(null,...U);L(G)}}return v(W)}var Pc=S(H4,3);function I0(C,N,y){let L=p(C);return Pc(v=>L((U,G)=>v(U,!G)),N,y)}function W4(C,N){if(N=w(N),!Array.isArray(C))return N(new Error("First argument to waterfall must be an array of functions"));if(!C.length)return N();var y=0;function L(U){var G=p(C[y++]);G(...U,B(v))}function v(U,...G){if(U!==!1){if(U||y===C.length)return N(U,...G);L(G)}}L([])}var g0=S(W4),k4={apply:e,applyEach:Ub,applyEachSeries:Bb,asyncify:u,auto:IR,autoInject:Fb,cargo:Hb,cargoQueue:Wb,compose:kb,concat:Ef,concatLimit:La,concatSeries:hf,constant:$b,detect:Tf,detectLimit:pf,detectSeries:Sf,dir:Vb,doUntil:qb,doWhilst:wc,each:Rf,eachLimit:Lc,eachOf:$r,eachOfLimit:re,eachOfSeries:On,eachSeries:Dc,ensureAsync:CR,every:Af,everyLimit:mf,everySeries:_f,filter:gf,filterLimit:Nf,filterSeries:Of,forever:jb,groupBy:zb,groupByLimit:Cf,groupBySeries:Kb,log:Jb,map:ff,mapLimit:bc,mapSeries:_R,mapValues:Qb,mapValuesLimit:yf,mapValuesSeries:Zb,memoize:e0,nextTick:t0,parallel:r0,parallelLimit:n0,priorityQueue:s0,queue:bR,race:o0,reduce:Rs,reduceRight:wf,reflect:Lf,reflectAll:a0,reject:l0,rejectLimit:c0,rejectSeries:u0,retry:Df,retryable:E0,seq:NR,series:h0,setImmediate:c,some:Pf,someLimit:xf,someSeries:Mf,sortBy:T0,timeout:p0,times:S0,timesLimit:vf,timesSeries:R0,transform:A0,tryEach:m0,unmemoize:_0,until:I0,waterfall:g0,whilst:Pc,all:Af,allLimit:mf,allSeries:_f,any:Pf,anyLimit:xf,anySeries:Mf,find:Tf,findLimit:pf,findSeries:Sf,flatMap:Ef,flatMapLimit:La,flatMapSeries:hf,forEach:Rf,forEachSeries:Dc,forEachLimit:Lc,forEachOf:$r,forEachOfSeries:On,forEachOfLimit:re,inject:Rs,foldl:Rs,foldr:wf,select:gf,selectLimit:Nf,selectSeries:Of,wrapSync:u,during:Pc,doDuring:wc};t.all=Af,t.allLimit=mf,t.allSeries=_f,t.any=Pf,t.anyLimit=xf,t.anySeries=Mf,t.apply=e,t.applyEach=Ub,t.applyEachSeries=Bb,t.asyncify=u,t.auto=IR,t.autoInject=Fb,t.cargo=Hb,t.cargoQueue=Wb,t.compose=kb,t.concat=Ef,t.concatLimit=La,t.concatSeries=hf,t.constant=$b,t.default=k4,t.detect=Tf,t.detectLimit=pf,t.detectSeries=Sf,t.dir=Vb,t.doDuring=wc,t.doUntil=qb,t.doWhilst=wc,t.during=Pc,t.each=Rf,t.eachLimit=Lc,t.eachOf=$r,t.eachOfLimit=re,t.eachOfSeries=On,t.eachSeries=Dc,t.ensureAsync=CR,t.every=Af,t.everyLimit=mf,t.everySeries=_f,t.filter=gf,t.filterLimit=Nf,t.filterSeries=Of,t.find=Tf,t.findLimit=pf,t.findSeries=Sf,t.flatMap=Ef,t.flatMapLimit=La,t.flatMapSeries=hf,t.foldl=Rs,t.foldr=wf,t.forEach=Rf,t.forEachLimit=Lc,t.forEachOf=$r,t.forEachOfLimit=re,t.forEachOfSeries=On,t.forEachSeries=Dc,t.forever=jb,t.groupBy=zb,t.groupByLimit=Cf,t.groupBySeries=Kb,t.inject=Rs,t.log=Jb,t.map=ff,t.mapLimit=bc,t.mapSeries=_R,t.mapValues=Qb,t.mapValuesLimit=yf,t.mapValuesSeries=Zb,t.memoize=e0,t.nextTick=t0,t.parallel=r0,t.parallelLimit=n0,t.priorityQueue=s0,t.queue=bR,t.race=o0,t.reduce=Rs,t.reduceRight=wf,t.reflect=Lf,t.reflectAll=a0,t.reject=l0,t.rejectLimit=c0,t.rejectSeries=u0,t.retry=Df,t.retryable=E0,t.select=gf,t.selectLimit=Nf,t.selectSeries=Of,t.seq=NR,t.series=h0,t.setImmediate=c,t.some=Pf,t.someLimit=xf,t.someSeries=Mf,t.sortBy=T0,t.timeout=p0,t.times=S0,t.timesLimit=vf,t.timesSeries=R0,t.transform=A0,t.tryEach=m0,t.unmemoize=_0,t.until=I0,t.waterfall=g0,t.whilst=Pc,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})}))});var nL=O((aPe,rL)=>{var Ns=require("constants"),AJ=process.cwd,AE=null,mJ=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return AE||(AE=AJ.call(process)),AE};try{process.cwd()}catch{}typeof process.chdir=="function"&&(mA=process.chdir,process.chdir=function(t){AE=null,mA.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,mA));var mA;rL.exports=_J;function _J(t){Ns.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,d,E){E&&process.nextTick(E)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,d,E,f){f&&process.nextTick(f)},t.lchownSync=function(){}),mJ==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:(function(u){function d(E,f,T){var h=Date.now(),p=0;u(E,f,function S(m){if(m&&(m.code==="EACCES"||m.code==="EPERM"||m.code==="EBUSY")&&Date.now()-h<6e4){setTimeout(function(){t.stat(f,function(R,A){R&&R.code==="ENOENT"?u(E,f,S):T(m)})},p),p<100&&(p+=10);return}T&&T(m)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,u),d})(t.rename)),t.read=typeof t.read!="function"?t.read:(function(u){function d(E,f,T,h,p,S){var m;if(S&&typeof S=="function"){var R=0;m=function(A,g,w){if(A&&A.code==="EAGAIN"&&R<10)return R++,u.call(t,E,f,T,h,p,m);S.apply(this,arguments)}}return u.call(t,E,f,T,h,p,m)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,u),d})(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:(function(u){return function(d,E,f,T,h){for(var p=0;;)try{return u.call(t,d,E,f,T,h)}catch(S){if(S.code==="EAGAIN"&&p<10){p++;continue}throw S}}})(t.readSync);function e(u){u.lchmod=function(d,E,f){u.open(d,Ns.O_WRONLY|Ns.O_SYMLINK,E,function(T,h){if(T){f&&f(T);return}u.fchmod(h,E,function(p){u.close(h,function(S){f&&f(p||S)})})})},u.lchmodSync=function(d,E){var f=u.openSync(d,Ns.O_WRONLY|Ns.O_SYMLINK,E),T=!0,h;try{h=u.fchmodSync(f,E),T=!1}finally{if(T)try{u.closeSync(f)}catch{}else u.closeSync(f)}return h}}function r(u){Ns.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(d,E,f,T){u.open(d,Ns.O_SYMLINK,function(h,p){if(h){T&&T(h);return}u.futimes(p,E,f,function(S){u.close(p,function(m){T&&T(S||m)})})})},u.lutimesSync=function(d,E,f){var T=u.openSync(d,Ns.O_SYMLINK),h,p=!0;try{h=u.futimesSync(T,E,f),p=!1}finally{if(p)try{u.closeSync(T)}catch{}else u.closeSync(T)}return h}):u.futimes&&(u.lutimes=function(d,E,f,T){T&&process.nextTick(T)},u.lutimesSync=function(){})}function n(u){return u&&function(d,E,f){return u.call(t,d,E,function(T){c(T)&&(T=null),f&&f.apply(this,arguments)})}}function i(u){return u&&function(d,E){try{return u.call(t,d,E)}catch(f){if(!c(f))throw f}}}function s(u){return u&&function(d,E,f,T){return u.call(t,d,E,f,function(h){c(h)&&(h=null),T&&T.apply(this,arguments)})}}function o(u){return u&&function(d,E,f){try{return u.call(t,d,E,f)}catch(T){if(!c(T))throw T}}}function a(u){return u&&function(d,E,f){typeof E=="function"&&(f=E,E=null);function T(h,p){p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),f&&f.apply(this,arguments)}return E?u.call(t,d,E,T):u.call(t,d,T)}}function l(u){return u&&function(d,E){var f=E?u.call(t,d,E):u.call(t,d);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function c(u){if(!u||u.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var oL=O((lPe,sL)=>{var iL=require("stream").Stream;sL.exports=IJ;function IJ(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);iL.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,d){if(u){s.emit("error",u),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);iL.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var lL=O((cPe,aL)=>{"use strict";aL.exports=NJ;var gJ=Object.getPrototypeOf||function(t){return t.__proto__};function NJ(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:gJ(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var NA=O((uPe,gA)=>{var Et=require("fs"),OJ=nL(),CJ=oL(),yJ=lL(),mE=require("util"),ur,IE;typeof Symbol=="function"&&typeof Symbol.for=="function"?(ur=Symbol.for("graceful-fs.queue"),IE=Symbol.for("graceful-fs.previous")):(ur="___graceful-fs.queue",IE="___graceful-fs.previous");function bJ(){}function dL(t,e){Object.defineProperty(t,ur,{get:function(){return e}})}var fo=bJ;mE.debuglog?fo=mE.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(fo=function(){var t=mE.format.apply(mE,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});Et[ur]||(cL=global[ur]||[],dL(Et,cL),Et.close=(function(t){function e(r,n){return t.call(Et,r,function(i){i||uL(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,IE,{value:t}),e})(Et.close),Et.closeSync=(function(t){function e(r){t.apply(Et,arguments),uL()}return Object.defineProperty(e,IE,{value:t}),e})(Et.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){fo(Et[ur]),require("assert").equal(Et[ur].length,0)}));var cL;global[ur]||dL(global,Et[ur]);gA.exports=_A(yJ(Et));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Et.__patched&&(gA.exports=_A(Et),Et.__patched=!0);function _A(t){OJ(t),t.gracefulify=_A,t.createReadStream=g,t.createWriteStream=w;var e=t.readFile;t.readFile=r;function r(b,P,M){return typeof P=="function"&&(M=P,P=null),B(b,P,M);function B(F,Y,J,re){return e(F,Y,function(te){te&&(te.code==="EMFILE"||te.code==="ENFILE")?Wa([B,[F,Y,J],te,re||Date.now(),Date.now()]):typeof J=="function"&&J.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(b,P,M,B){return typeof M=="function"&&(B=M,M=null),F(b,P,M,B);function F(Y,J,re,te,Be){return n(Y,J,re,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Wa([F,[Y,J,re,te],fe,Be||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(b,P,M,B){return typeof M=="function"&&(B=M,M=null),F(b,P,M,B);function F(Y,J,re,te,Be){return s(Y,J,re,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Wa([F,[Y,J,re,te],fe,Be||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(b,P,M,B){return typeof M=="function"&&(B=M,M=0),F(b,P,M,B);function F(Y,J,re,te,Be){return a(Y,J,re,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Wa([F,[Y,J,re,te],fe,Be||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}var c=t.readdir;t.readdir=d;var u=/^v[0-5]\./;function d(b,P,M){typeof P=="function"&&(M=P,P=null);var B=u.test(process.version)?function(J,re,te,Be){return c(J,F(J,re,te,Be))}:function(J,re,te,Be){return c(J,re,F(J,re,te,Be))};return B(b,P,M);function F(Y,J,re,te){return function(Be,fe){Be&&(Be.code==="EMFILE"||Be.code==="ENFILE")?Wa([B,[Y,J,re],Be,te||Date.now(),Date.now()]):(fe&&fe.sort&&fe.sort(),typeof re=="function"&&re.call(this,Be,fe))}}}if(process.version.substr(0,4)==="v0.8"){var E=CJ(t);S=E.ReadStream,R=E.WriteStream}var f=t.ReadStream;f&&(S.prototype=Object.create(f.prototype),S.prototype.open=m);var T=t.WriteStream;T&&(R.prototype=Object.create(T.prototype),R.prototype.open=A),Object.defineProperty(t,"ReadStream",{get:function(){return S},set:function(b){S=b},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return R},set:function(b){R=b},enumerable:!0,configurable:!0});var h=S;Object.defineProperty(t,"FileReadStream",{get:function(){return h},set:function(b){h=b},enumerable:!0,configurable:!0});var p=R;Object.defineProperty(t,"FileWriteStream",{get:function(){return p},set:function(b){p=b},enumerable:!0,configurable:!0});function S(b,P){return this instanceof S?(f.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function m(){var b=this;D(b.path,b.flags,b.mode,function(P,M){P?(b.autoClose&&b.destroy(),b.emit("error",P)):(b.fd=M,b.emit("open",M),b.read())})}function R(b,P){return this instanceof R?(T.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function A(){var b=this;D(b.path,b.flags,b.mode,function(P,M){P?(b.destroy(),b.emit("error",P)):(b.fd=M,b.emit("open",M))})}function g(b,P){return new t.ReadStream(b,P)}function w(b,P){return new t.WriteStream(b,P)}var I=t.open;t.open=D;function D(b,P,M,B){return typeof M=="function"&&(B=M,M=null),F(b,P,M,B);function F(Y,J,re,te,Be){return I(Y,J,re,function(fe,$r){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Wa([F,[Y,J,re,te],fe,Be||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}return t}function Wa(t){fo("ENQUEUE",t[0].name,t[1]),Et[ur].push(t),IA()}var _E;function uL(){for(var t=Date.now(),e=0;e<Et[ur].length;++e)Et[ur][e].length>2&&(Et[ur][e][3]=t,Et[ur][e][4]=t);IA()}function IA(){if(clearTimeout(_E),_E=void 0,Et[ur].length!==0){var t=Et[ur].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)fo("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){fo("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(fo("RETRY",e.name,r),e.apply(null,r.concat([i]))):Et[ur].push(t)}_E===void 0&&(_E=setTimeout(IA,0))}}});var gE=O((dPe,fL)=>{"use strict";var qn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";qn.writable=t=>qn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";qn.readable=t=>qn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";qn.duplex=t=>qn.writable(t)&&qn.readable(t);qn.transform=t=>qn.duplex(t)&&typeof t._transform=="function";fL.exports=qn});var Jc=O((fPe,OA)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?OA.exports={nextTick:wJ}:OA.exports=process;function wJ(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var hL=O((EPe,EL)=>{var LJ={}.toString;EL.exports=Array.isArray||function(t){return LJ.call(t)=="[object Array]"}});var CA=O((hPe,TL)=>{TL.exports=require("stream")});var Qc=O((yA,SL)=>{var NE=require("buffer"),xi=NE.Buffer;function pL(t,e){for(var r in t)e[r]=t[r]}xi.from&&xi.alloc&&xi.allocUnsafe&&xi.allocUnsafeSlow?SL.exports=NE:(pL(NE,yA),yA.Buffer=ka);function ka(t,e,r){return xi(t,e,r)}pL(xi,ka);ka.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return xi(t,e,r)};ka.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=xi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};ka.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return xi(t)};ka.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return NE.SlowBuffer(t)}});var $a=O(gr=>{function DJ(t){return Array.isArray?Array.isArray(t):OE(t)==="[object Array]"}gr.isArray=DJ;function PJ(t){return typeof t=="boolean"}gr.isBoolean=PJ;function xJ(t){return t===null}gr.isNull=xJ;function MJ(t){return t==null}gr.isNullOrUndefined=MJ;function vJ(t){return typeof t=="number"}gr.isNumber=vJ;function UJ(t){return typeof t=="string"}gr.isString=UJ;function BJ(t){return typeof t=="symbol"}gr.isSymbol=BJ;function FJ(t){return t===void 0}gr.isUndefined=FJ;function GJ(t){return OE(t)==="[object RegExp]"}gr.isRegExp=GJ;function HJ(t){return typeof t=="object"&&t!==null}gr.isObject=HJ;function WJ(t){return OE(t)==="[object Date]"}gr.isDate=WJ;function kJ(t){return OE(t)==="[object Error]"||t instanceof Error}gr.isError=kJ;function $J(t){return typeof t=="function"}gr.isFunction=$J;function YJ(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}gr.isPrimitive=YJ;gr.isBuffer=require("buffer").Buffer.isBuffer;function OE(t){return Object.prototype.toString.call(t)}});var RL=O((pPe,bA)=>{typeof Object.create=="function"?bA.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:bA.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Ya=O((SPe,LA)=>{try{if(wA=require("util"),typeof wA.inherits!="function")throw"";LA.exports=wA.inherits}catch{LA.exports=RL()}var wA});var mL=O((RPe,DA)=>{"use strict";function VJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var AL=Qc().Buffer,Zc=require("util");function qJ(t,e,r){t.copy(e,r)}DA.exports=(function(){function t(){VJ(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return AL.alloc(0);for(var n=AL.allocUnsafe(r>>>0),i=this.head,s=0;i;)qJ(i.data,n,s),s+=i.data.length,i=i.next;return n},t})();Zc&&Zc.inspect&&Zc.inspect.custom&&(DA.exports.prototype[Zc.inspect.custom]=function(){var t=Zc.inspect({length:this.length});return this.constructor.name+" "+t})});var PA=O((APe,_L)=>{"use strict";var CE=Jc();function XJ(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,CE.nextTick(yE,this,t)):CE.nextTick(yE,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,CE.nextTick(yE,r,s)):CE.nextTick(yE,r,s):e&&e(s)}),this)}function jJ(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function yE(t,e){t.emit("error",e)}_L.exports={destroy:XJ,undestroy:jJ}});var gL=O((mPe,IL)=>{IL.exports=require("util").deprecate});var MA=O((_Pe,DL)=>{"use strict";var Eo=Jc();DL.exports=vt;function OL(t){var e=this;this.next=null,this.entry=null,this.finish=function(){f5(e,t)}}var zJ=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:Eo.nextTick,Va;vt.WritableState=tu;var CL=Object.create($a());CL.inherits=Ya();var KJ={deprecate:gL()},yL=CA(),wE=Qc().Buffer,JJ=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function QJ(t){return wE.from(t)}function ZJ(t){return wE.isBuffer(t)||t instanceof JJ}var bL=PA();CL.inherits(vt,yL);function e5(){}function tu(t,e){Va=Va||ho(),t=t||{};var r=e instanceof Va;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){a5(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new OL(this)}tu.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(tu.prototype,"buffer",{get:KJ.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var bE;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(bE=Function.prototype[Symbol.hasInstance],Object.defineProperty(vt,Symbol.hasInstance,{value:function(t){return bE.call(this,t)?!0:this!==vt?!1:t&&t._writableState instanceof tu}})):bE=function(t){return t instanceof this};function vt(t){if(Va=Va||ho(),!bE.call(vt,this)&&!(this instanceof Va))return new vt(t);this._writableState=new tu(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),yL.call(this)}vt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function t5(t,e){var r=new Error("write after end");t.emit("error",r),Eo.nextTick(e,r)}function r5(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),Eo.nextTick(n,s),i=!1),i}vt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&ZJ(t);return s&&!wE.isBuffer(t)&&(t=QJ(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=e5),n.ended?t5(this,r):(s||r5(this,n,t,r))&&(n.pendingcb++,i=i5(this,n,s,t,e,r)),i};vt.prototype.cork=function(){var t=this._writableState;t.corked++};vt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&wL(this,t))};vt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function n5(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=wE.from(e,r)),e}Object.defineProperty(vt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function i5(t,e,r,n,i,s){if(!r){var o=n5(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else xA(t,e,!1,a,n,i,s);return l}function xA(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function s5(t,e,r,n,i){--e.pendingcb,r?(Eo.nextTick(i,n),Eo.nextTick(eu,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),eu(t,e))}function o5(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function a5(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(o5(r),e)s5(t,r,n,e,i);else{var s=LL(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&wL(t,r),n?zJ(NL,t,r,s,i):NL(t,r,s,i)}}function NL(t,e,r,n){r||l5(t,e),e.pendingcb--,n(),eu(t,e)}function l5(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function wL(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,xA(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new OL(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,d=e.objectMode?1:l.length;if(xA(t,e,!1,d,l,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}vt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};vt.prototype._writev=null;vt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||d5(this,n,r)};function LL(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function c5(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),eu(t,e)})}function u5(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,Eo.nextTick(c5,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function eu(t,e){var r=LL(e);return r&&(u5(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function d5(t,e,r){e.ending=!0,eu(t,e),r&&(e.finished?Eo.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function f5(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(vt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});vt.prototype.destroy=bL.destroy;vt.prototype._undestroy=bL.undestroy;vt.prototype._destroy=function(t,e){this.end(),e(t)}});var ho=O((IPe,vL)=>{"use strict";var PL=Jc(),E5=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};vL.exports=Mi;var xL=Object.create($a());xL.inherits=Ya();var ML=BA(),UA=MA();xL.inherits(Mi,ML);for(vA=E5(UA.prototype),LE=0;LE<vA.length;LE++)DE=vA[LE],Mi.prototype[DE]||(Mi.prototype[DE]=UA.prototype[DE]);var vA,DE,LE;function Mi(t){if(!(this instanceof Mi))return new Mi(t);ML.call(this,t),UA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h5)}Object.defineProperty(Mi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function h5(){this.allowHalfOpen||this._writableState.ended||PL.nextTick(T5,this)}function T5(t){t.end()}Object.defineProperty(Mi.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Mi.prototype._destroy=function(t,e){this.push(null),this.end(),PL.nextTick(e,t)}});var HA=O(BL=>{"use strict";var GA=Qc().Buffer,UL=GA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p5(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function S5(t){var e=p5(t);if(typeof e!="string"&&(GA.isEncoding===UL||!UL(t)))throw new Error("Unknown encoding: "+t);return e||t}BL.StringDecoder=ru;function ru(t){this.encoding=S5(t);var e;switch(this.encoding){case"utf16le":this.text=g5,this.end=N5,e=4;break;case"utf8":this.fillLast=m5,e=4;break;case"base64":this.text=O5,this.end=C5,e=3;break;default:this.write=y5,this.end=b5;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=GA.allocUnsafe(e)}ru.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};ru.prototype.end=I5;ru.prototype.text=_5;ru.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function FA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function R5(t,e,r){var n=e.length-1;if(n<r)return 0;var i=FA(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=FA(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=FA(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function A5(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function m5(t){var e=this.lastTotal-this.lastNeed,r=A5(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function _5(t,e){var r=R5(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function I5(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function g5(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function N5(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function O5(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function C5(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function y5(t){return t.toString(this.encoding)}function b5(t){return t&&t.length?this.write(t):""}});var BA=O((OPe,zL)=>{"use strict";var Xa=Jc();zL.exports=et;var w5=hL(),nu;et.ReadableState=YL;var NPe=require("events").EventEmitter,WL=function(t,e){return t.listeners(e).length},VA=CA(),iu=Qc().Buffer,L5=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function D5(t){return iu.from(t)}function P5(t){return iu.isBuffer(t)||t instanceof L5}var kL=Object.create($a());kL.inherits=Ya();var WA=require("util"),qe=void 0;WA&&WA.debuglog?qe=WA.debuglog("stream"):qe=function(){};var x5=mL(),$L=PA(),qa;kL.inherits(et,VA);var kA=["error","close","destroy","pause","resume"];function M5(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):w5(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function YL(t,e){nu=nu||ho(),t=t||{};var r=e instanceof nu;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new x5,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(qa||(qa=HA().StringDecoder),this.decoder=new qa(t.encoding),this.encoding=t.encoding)}function et(t){if(nu=nu||ho(),!(this instanceof et))return new et(t);this._readableState=new YL(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),VA.call(this)}Object.defineProperty(et.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});et.prototype.destroy=$L.destroy;et.prototype._undestroy=$L.undestroy;et.prototype._destroy=function(t,e){this.push(null),e(t)};et.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=iu.from(t,e),e=""),n=!0),VL(this,t,e,!1,n)};et.prototype.unshift=function(t){return VL(this,t,null,!0,!1)};function VL(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,F5(t,s);else{var o;i||(o=v5(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==iu.prototype&&(e=D5(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):$A(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?$A(t,s,e,!1):qL(t,s)):$A(t,s,e,!1))):n||(s.reading=!1)}return U5(s)}function $A(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&PE(t)),qL(t,e)}function v5(t,e){var r;return!P5(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function U5(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}et.prototype.isPaused=function(){return this._readableState.flowing===!1};et.prototype.setEncoding=function(t){return qa||(qa=HA().StringDecoder),this._readableState.decoder=new qa(t),this._readableState.encoding=t,this};var FL=8388608;function B5(t){return t>=FL?t=FL:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function GL(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=B5(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}et.prototype.read=function(t){qe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return qe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?YA(this):PE(this),null;if(t=GL(t,e),t===0&&e.ended)return e.length===0&&YA(this),null;var n=e.needReadable;qe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,qe("length less than watermark",n)),e.ended||e.reading?(n=!1,qe("reading or ended",n)):n&&(qe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=GL(r,e)));var i;return t>0?i=XL(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&YA(this)),i!==null&&this.emit("data",i),i};function F5(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,PE(t)}}function PE(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(qe("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Xa.nextTick(HL,t):HL(t))}function HL(t){qe("emit readable"),t.emit("readable"),qA(t)}function qL(t,e){e.readingMore||(e.readingMore=!0,Xa.nextTick(G5,t,e))}function G5(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(qe("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}et.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};et.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,qe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:p;n.endEmitted?Xa.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,m){qe("onunpipe"),S===r&&m&&m.hasUnpiped===!1&&(m.hasUnpiped=!0,u())}function a(){qe("onend"),t.end()}var l=H5(r);t.on("drain",l);var c=!1;function u(){qe("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",E),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var d=!1;r.on("data",E);function E(S){qe("ondata"),d=!1;var m=t.write(S);m===!1&&!d&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&jL(n.pipes,t)!==-1)&&!c&&(qe("false write response, pause",n.awaitDrain),n.awaitDrain++,d=!0),r.pause())}function f(S){qe("onerror",S),p(),t.removeListener("error",f),WL(t,"error")===0&&t.emit("error",S)}M5(t,"error",f);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){qe("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){qe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(qe("pipe resume"),r.resume()),t};function H5(t){return function(){var e=t._readableState;qe("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&WL(t,"data")&&(e.flowing=!0,qA(t))}}et.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=jL(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};et.prototype.on=function(t,e){var r=VA.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&PE(this):Xa.nextTick(W5,this))}return r};et.prototype.addListener=et.prototype.on;function W5(t){qe("readable nexttick read 0"),t.read(0)}et.prototype.resume=function(){var t=this._readableState;return t.flowing||(qe("resume"),t.flowing=!0,k5(this,t)),this};function k5(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Xa.nextTick($5,t,e))}function $5(t,e){e.reading||(qe("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),qA(t),e.flowing&&!e.reading&&t.read(0)}et.prototype.pause=function(){return qe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(qe("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function qA(t){var e=t._readableState;for(qe("flow",e.flowing);e.flowing&&t.read()!==null;);}et.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(qe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(qe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(o){return function(){return t[o].apply(t,arguments)}})(i));for(var s=0;s<kA.length;s++)t.on(kA[s],this.emit.bind(this,kA[s]));return this._read=function(o){qe("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(et.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});et._fromList=XL;function XL(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=Y5(t,e.buffer,e.decoder),r}function Y5(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?V5(t,e):q5(t,e),n}function V5(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function q5(t,e){var r=iu.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function YA(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Xa.nextTick(X5,e,t))}function X5(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function jL(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var XA=O((CPe,QL)=>{"use strict";QL.exports=vi;var xE=ho(),JL=Object.create($a());JL.inherits=Ya();JL.inherits(vi,xE);function j5(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function vi(t){if(!(this instanceof vi))return new vi(t);xE.call(this,t),this._transformState={afterTransform:j5.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",z5)}function z5(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){KL(t,e,r)}):KL(this,null,null)}vi.prototype.push=function(t,e){return this._transformState.needTransform=!1,xE.prototype.push.call(this,t,e)};vi.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};vi.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};vi.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};vi.prototype._destroy=function(t,e){var r=this;xE.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function KL(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var rD=O((yPe,tD)=>{"use strict";tD.exports=su;var ZL=XA(),eD=Object.create($a());eD.inherits=Ya();eD.inherits(su,ZL);function su(t){if(!(this instanceof su))return new su(t);ZL.call(this,t)}su.prototype._transform=function(t,e,r){r(null,t)}});var nD=O((dr,ME)=>{var Xn=require("stream");process.env.READABLE_STREAM==="disable"&&Xn?(ME.exports=Xn,dr=ME.exports=Xn.Readable,dr.Readable=Xn.Readable,dr.Writable=Xn.Writable,dr.Duplex=Xn.Duplex,dr.Transform=Xn.Transform,dr.PassThrough=Xn.PassThrough,dr.Stream=Xn):(dr=ME.exports=BA(),dr.Stream=Xn||dr,dr.Readable=dr,dr.Writable=MA(),dr.Duplex=ho(),dr.Transform=XA(),dr.PassThrough=rD())});var sD=O((bPe,iD)=>{iD.exports=nD().PassThrough});var cD=O((wPe,lD)=>{var oD=require("util"),BE=sD();lD.exports={Readable:vE,Writable:UE};oD.inherits(vE,BE);oD.inherits(UE,BE);function aD(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function vE(t,e){if(!(this instanceof vE))return new vE(t,e);BE.call(this,e),aD(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function UE(t,e){if(!(this instanceof UE))return new UE(t,e);BE.call(this,e),aD(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var jA=O((LPe,uD)=>{uD.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")}});var zA=O((DPe,dD)=>{function K5(t){return t}dD.exports=K5});var ED=O((PPe,fD)=>{function J5(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}fD.exports=J5});var pD=O((xPe,TD)=>{var Q5=ED(),hD=Math.max;function Z5(t,e,r){return e=hD(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=hD(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),Q5(t,this,a)}}TD.exports=Z5});var RD=O((MPe,SD)=>{function eQ(t){return function(){return t}}SD.exports=eQ});var KA=O((vPe,AD)=>{var tQ=typeof global=="object"&&global&&global.Object===Object&&global;AD.exports=tQ});var ja=O((UPe,mD)=>{var rQ=KA(),nQ=typeof self=="object"&&self&&self.Object===Object&&self,iQ=rQ||nQ||Function("return this")();mD.exports=iQ});var FE=O((BPe,_D)=>{var sQ=ja(),oQ=sQ.Symbol;_D.exports=oQ});var OD=O((FPe,ND)=>{var ID=FE(),gD=Object.prototype,aQ=gD.hasOwnProperty,lQ=gD.toString,ou=ID?ID.toStringTag:void 0;function cQ(t){var e=aQ.call(t,ou),r=t[ou];try{t[ou]=void 0;var n=!0}catch{}var i=lQ.call(t);return n&&(e?t[ou]=r:delete t[ou]),i}ND.exports=cQ});var yD=O((GPe,CD)=>{var uQ=Object.prototype,dQ=uQ.toString;function fQ(t){return dQ.call(t)}CD.exports=fQ});var au=O((HPe,LD)=>{var bD=FE(),EQ=OD(),hQ=yD(),TQ="[object Null]",pQ="[object Undefined]",wD=bD?bD.toStringTag:void 0;function SQ(t){return t==null?t===void 0?pQ:TQ:wD&&wD in Object(t)?EQ(t):hQ(t)}LD.exports=SQ});var lu=O((WPe,DD)=>{function RQ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}DD.exports=RQ});var JA=O((kPe,PD)=>{var AQ=au(),mQ=lu(),_Q="[object AsyncFunction]",IQ="[object Function]",gQ="[object GeneratorFunction]",NQ="[object Proxy]";function OQ(t){if(!mQ(t))return!1;var e=AQ(t);return e==IQ||e==gQ||e==_Q||e==NQ}PD.exports=OQ});var MD=O(($Pe,xD)=>{var CQ=ja(),yQ=CQ["__core-js_shared__"];xD.exports=yQ});var BD=O((YPe,UD)=>{var QA=MD(),vD=(function(){var t=/[^.]+$/.exec(QA&&QA.keys&&QA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function bQ(t){return!!vD&&vD in t}UD.exports=bQ});var GD=O((VPe,FD)=>{var wQ=Function.prototype,LQ=wQ.toString;function DQ(t){if(t!=null){try{return LQ.call(t)}catch{}try{return t+""}catch{}}return""}FD.exports=DQ});var WD=O((qPe,HD)=>{var PQ=JA(),xQ=BD(),MQ=lu(),vQ=GD(),UQ=/[\\^$.*+?()[\]{}|]/g,BQ=/^\[object .+?Constructor\]$/,FQ=Function.prototype,GQ=Object.prototype,HQ=FQ.toString,WQ=GQ.hasOwnProperty,kQ=RegExp("^"+HQ.call(WQ).replace(UQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $Q(t){if(!MQ(t)||xQ(t))return!1;var e=PQ(t)?kQ:BQ;return e.test(vQ(t))}HD.exports=$Q});var $D=O((XPe,kD)=>{function YQ(t,e){return t?.[e]}kD.exports=YQ});var cu=O((jPe,YD)=>{var VQ=WD(),qQ=$D();function XQ(t,e){var r=qQ(t,e);return VQ(r)?r:void 0}YD.exports=XQ});var qD=O((zPe,VD)=>{var jQ=cu(),zQ=(function(){try{var t=jQ(Object,"defineProperty");return t({},"",{}),t}catch{}})();VD.exports=zQ});var zD=O((KPe,jD)=>{var KQ=RD(),XD=qD(),JQ=zA(),QQ=XD?function(t,e){return XD(t,"toString",{configurable:!0,enumerable:!1,value:KQ(e),writable:!0})}:JQ;jD.exports=QQ});var JD=O((JPe,KD)=>{var ZQ=800,e9=16,t9=Date.now;function r9(t){var e=0,r=0;return function(){var n=t9(),i=e9-(n-r);if(r=n,i>0){if(++e>=ZQ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}KD.exports=r9});var ZD=O((QPe,QD)=>{var n9=zD(),i9=JD(),s9=i9(n9);QD.exports=s9});var GE=O((ZPe,eP)=>{var o9=zA(),a9=pD(),l9=ZD();function c9(t,e){return l9(a9(t,e,o9),t+"")}eP.exports=c9});var HE=O((exe,tP)=>{function u9(t,e){return t===e||t!==t&&e!==e}tP.exports=u9});var ZA=O((txe,rP)=>{var d9=9007199254740991;function f9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=d9}rP.exports=f9});var WE=O((rxe,nP)=>{var E9=JA(),h9=ZA();function T9(t){return t!=null&&h9(t.length)&&!E9(t)}nP.exports=T9});var em=O((nxe,iP)=>{var p9=9007199254740991,S9=/^(?:0|[1-9]\d*)$/;function R9(t,e){var r=typeof t;return e=e??p9,!!e&&(r=="number"||r!="symbol"&&S9.test(t))&&t>-1&&t%1==0&&t<e}iP.exports=R9});var oP=O((ixe,sP)=>{var A9=HE(),m9=WE(),_9=em(),I9=lu();function g9(t,e,r){if(!I9(r))return!1;var n=typeof e;return(n=="number"?m9(r)&&_9(e,r.length):n=="string"&&e in r)?A9(r[e],t):!1}sP.exports=g9});var lP=O((sxe,aP)=>{function N9(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}aP.exports=N9});var za=O((oxe,cP)=>{function O9(t){return t!=null&&typeof t=="object"}cP.exports=O9});var dP=O((axe,uP)=>{var C9=au(),y9=za(),b9="[object Arguments]";function w9(t){return y9(t)&&C9(t)==b9}uP.exports=w9});var tm=O((lxe,hP)=>{var fP=dP(),L9=za(),EP=Object.prototype,D9=EP.hasOwnProperty,P9=EP.propertyIsEnumerable,x9=fP((function(){return arguments})())?fP:function(t){return L9(t)&&D9.call(t,"callee")&&!P9.call(t,"callee")};hP.exports=x9});var rm=O((cxe,TP)=>{var M9=Array.isArray;TP.exports=M9});var SP=O((uxe,pP)=>{function v9(){return!1}pP.exports=v9});var _P=O((uu,Ka)=>{var U9=ja(),B9=SP(),mP=typeof uu=="object"&&uu&&!uu.nodeType&&uu,RP=mP&&typeof Ka=="object"&&Ka&&!Ka.nodeType&&Ka,F9=RP&&RP.exports===mP,AP=F9?U9.Buffer:void 0,G9=AP?AP.isBuffer:void 0,H9=G9||B9;Ka.exports=H9});var gP=O((dxe,IP)=>{var W9=au(),k9=ZA(),$9=za(),Y9="[object Arguments]",V9="[object Array]",q9="[object Boolean]",X9="[object Date]",j9="[object Error]",z9="[object Function]",K9="[object Map]",J9="[object Number]",Q9="[object Object]",Z9="[object RegExp]",e7="[object Set]",t7="[object String]",r7="[object WeakMap]",n7="[object ArrayBuffer]",i7="[object DataView]",s7="[object Float32Array]",o7="[object Float64Array]",a7="[object Int8Array]",l7="[object Int16Array]",c7="[object Int32Array]",u7="[object Uint8Array]",d7="[object Uint8ClampedArray]",f7="[object Uint16Array]",E7="[object Uint32Array]",tt={};tt[s7]=tt[o7]=tt[a7]=tt[l7]=tt[c7]=tt[u7]=tt[d7]=tt[f7]=tt[E7]=!0;tt[Y9]=tt[V9]=tt[n7]=tt[q9]=tt[i7]=tt[X9]=tt[j9]=tt[z9]=tt[K9]=tt[J9]=tt[Q9]=tt[Z9]=tt[e7]=tt[t7]=tt[r7]=!1;function h7(t){return $9(t)&&k9(t.length)&&!!tt[W9(t)]}IP.exports=h7});var nm=O((fxe,NP)=>{function T7(t){return function(e){return t(e)}}NP.exports=T7});var CP=O((du,Ja)=>{var p7=KA(),OP=typeof du=="object"&&du&&!du.nodeType&&du,fu=OP&&typeof Ja=="object"&&Ja&&!Ja.nodeType&&Ja,S7=fu&&fu.exports===OP,im=S7&&p7.process,R7=(function(){try{var t=fu&&fu.require&&fu.require("util").types;return t||im&&im.binding&&im.binding("util")}catch{}})();Ja.exports=R7});var LP=O((Exe,wP)=>{var A7=gP(),m7=nm(),yP=CP(),bP=yP&&yP.isTypedArray,_7=bP?m7(bP):A7;wP.exports=_7});var PP=O((hxe,DP)=>{var I7=lP(),g7=tm(),N7=rm(),O7=_P(),C7=em(),y7=LP(),b7=Object.prototype,w7=b7.hasOwnProperty;function L7(t,e){var r=N7(t),n=!r&&g7(t),i=!r&&!n&&O7(t),s=!r&&!n&&!i&&y7(t),o=r||n||i||s,a=o?I7(t.length,String):[],l=a.length;for(var c in t)(e||w7.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||C7(c,l)))&&a.push(c);return a}DP.exports=L7});var MP=O((Txe,xP)=>{var D7=Object.prototype;function P7(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||D7;return t===r}xP.exports=P7});var UP=O((pxe,vP)=>{function x7(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}vP.exports=x7});var FP=O((Sxe,BP)=>{var M7=lu(),v7=MP(),U7=UP(),B7=Object.prototype,F7=B7.hasOwnProperty;function G7(t){if(!M7(t))return U7(t);var e=v7(t),r=[];for(var n in t)n=="constructor"&&(e||!F7.call(t,n))||r.push(n);return r}BP.exports=G7});var HP=O((Rxe,GP)=>{var H7=PP(),W7=FP(),k7=WE();function $7(t){return k7(t)?H7(t,!0):W7(t)}GP.exports=$7});var $P=O((Axe,kP)=>{var Y7=GE(),V7=HE(),q7=oP(),X7=HP(),WP=Object.prototype,j7=WP.hasOwnProperty,z7=Y7(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&q7(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=X7(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||V7(u,WP[c])&&!j7.call(t,c))&&(t[c]=s[c])}return t});kP.exports=z7});var lt=O((mxe,YP)=>{"use strict";var sm=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};YP.exports={AggregateError:sm,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var om=O((_xe,VP)=>{"use strict";VP.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Nr=O((Ixe,jP)=>{"use strict";var{format:K7,inspect:kE}=om(),{AggregateError:J7}=lt(),Q7=globalThis.AggregateError||J7,Z7=Symbol("kIsNodeError"),eZ=["string","function","number","object","Function","Object","boolean","bigint","symbol"],tZ=/^([A-Z][a-z0-9]*)+$/,rZ="__node_internal_",$E={};function To(t,e){if(!t)throw new $E.ERR_INTERNAL_ASSERTION(e)}function qP(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function nZ(t,e,r){if(typeof e=="function")return To(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return To(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:K7(e,...r)}function fr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(nZ(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Z7]=!0,$E[t]=n}function XP(t){let e=rZ+t.name;return Object.defineProperty(t,"name",{value:e}),t}function iZ(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Q7([e,t],e.message);return r.code=e.code,r}return t||e}var am=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new $E.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};fr("ERR_ASSERTION","%s",Error);fr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{To(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)To(typeof l=="string","All expected entries have to be of type string"),eZ.includes(l)?i.push(l.toLowerCase()):tZ.test(l)?s.push(l):(To(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=kE(r,{depth:-1});n+=`. Received ${l}`}}else{let l=kE(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);fr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=kE(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);fr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);fr("ERR_MISSING_ARGS",(...t)=>{To(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);fr("ERR_OUT_OF_RANGE",(t,e,r)=>{To(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=qP(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=qP(n)),n+="n"}else n=kE(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);fr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);fr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);fr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);fr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);fr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);fr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);fr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);fr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);fr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);fr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);fr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);jP.exports={AbortError:am,aggregateTwoErrors:XP(iZ),hideStackFrames:XP,codes:$E}});var ix=O((Tu,hu)=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});var ex=new WeakMap,lm=new WeakMap;function rt(t){let e=ex.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function zP(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function Qa(t,e){ex.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,tx(i))}}Qa.prototype={get type(){return rt(this).event.type},get target(){return rt(this).eventTarget},get currentTarget(){return rt(this).currentTarget},composedPath(){let t=rt(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return rt(this).eventPhase},stopPropagation(){let t=rt(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=rt(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!rt(this).event.bubbles},get cancelable(){return!!rt(this).event.cancelable},preventDefault(){zP(rt(this))},get defaultPrevented(){return rt(this).canceled},get composed(){return!!rt(this).event.composed},get timeStamp(){return rt(this).timeStamp},get srcElement(){return rt(this).eventTarget},get cancelBubble(){return rt(this).stopped},set cancelBubble(t){if(!t)return;let e=rt(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!rt(this).canceled},set returnValue(t){t||zP(rt(this))},initEvent(){}};Object.defineProperty(Qa.prototype,"constructor",{value:Qa,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Qa.prototype,window.Event.prototype),lm.set(window.Event.prototype,Qa));function tx(t){return{get(){return rt(this).event[t]},set(e){rt(this).event[t]=e},configurable:!0,enumerable:!0}}function sZ(t){return{value(){let e=rt(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function oZ(t,e){let r=Object.keys(e);if(r.length===0)return t;function n(i,s){t.call(this,i,s)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in t.prototype)){let a=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(n.prototype,s,a?sZ(s):tx(s))}}return n}function rx(t){if(t==null||t===Object.prototype)return Qa;let e=lm.get(t);return e==null&&(e=oZ(rx(Object.getPrototypeOf(t)),t),lm.set(t,e)),e}function aZ(t,e){let r=rx(Object.getPrototypeOf(e));return new r(t,e)}function lZ(t){return rt(t).immediateStopped}function cZ(t,e){rt(t).eventPhase=e}function uZ(t,e){rt(t).currentTarget=e}function KP(t,e){rt(t).passiveListener=e}var nx=new WeakMap,JP=1,QP=2,YE=3;function VE(t){return t!==null&&typeof t=="object"}function Eu(t){let e=nx.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function dZ(t){return{get(){let r=Eu(this).get(t);for(;r!=null;){if(r.listenerType===YE)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!VE(e)&&(e=null);let r=Eu(this),n=null,i=r.get(t);for(;i!=null;)i.listenerType===YE?n!==null?n.next=i.next:i.next!==null?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(e!==null){let s={listener:e,listenerType:YE,passive:!1,once:!1,next:null};n===null?r.set(t,s):n.next=s}},configurable:!0,enumerable:!0}}function cm(t,e){Object.defineProperty(t,`on${e}`,dZ(e))}function ZP(t){function e(){bn.call(this)}e.prototype=Object.create(bn.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)cm(e.prototype,t[r]);return e}function bn(){if(this instanceof bn){nx.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return ZP(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return ZP(t)}throw new TypeError("Cannot call a class as a function")}bn.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!VE(e))throw new TypeError("'listener' should be a function or an object.");let n=Eu(this),i=VE(r),o=(i?!!r.capture:!!r)?JP:QP,a={listener:e,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},l=n.get(t);if(l===void 0){n.set(t,a);return}let c=null;for(;l!=null;){if(l.listener===e&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(t,e,r){if(e==null)return;let n=Eu(this),s=(VE(r)?!!r.capture:!!r)?JP:QP,o=null,a=n.get(t);for(;a!=null;){if(a.listener===e&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?n.set(t,a.next):n.delete(t);return}o=a,a=a.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=Eu(this),r=t.type,n=e.get(r);if(n==null)return!0;let i=aZ(this,t),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?e.set(r,n.next):e.delete(r):s=n,KP(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else n.listenerType!==YE&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(lZ(i))break;n=n.next}return KP(i,null),cZ(i,0),uZ(i,null),!i.defaultPrevented}};Object.defineProperty(bn.prototype,"constructor",{value:bn,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(bn.prototype,window.EventTarget.prototype);Tu.defineEventAttribute=cm;Tu.EventTarget=bn;Tu.default=bn;hu.exports=bn;hu.exports.EventTarget=hu.exports.default=bn;hu.exports.defineEventAttribute=cm});var wt=O((Su,pu)=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});var um=ix(),Os=class extends um.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=qE.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};um.defineEventAttribute(Os.prototype,"abort");function fZ(){let t=Object.create(Os.prototype);return um.EventTarget.call(t),qE.set(t,!1),t}function EZ(t){qE.get(t)===!1&&(qE.set(t,!0),t.dispatchEvent({type:"abort"}))}var qE=new WeakMap;Object.defineProperties(Os.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Os.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var Cs=class{constructor(){ox.set(this,fZ())}get signal(){return sx(this)}abort(){EZ(sx(this))}},ox=new WeakMap;function sx(t){let e=ox.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(Cs.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Cs.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});Su.AbortController=Cs;Su.AbortSignal=Os;Su.default=Cs;pu.exports=Cs;pu.exports.AbortController=pu.exports.default=Cs;pu.exports.AbortSignal=Os});var Ur=O((gxe,fm)=>{"use strict";var hZ=require("buffer"),{format:TZ,inspect:pZ}=om(),{codes:{ERR_INVALID_ARG_TYPE:dm}}=Nr(),{kResistStopPropagation:SZ,AggregateError:RZ,SymbolDispose:AZ}=lt(),mZ=globalThis.AbortSignal||wt().AbortSignal,_Z=globalThis.AbortController||wt().AbortController,IZ=Object.getPrototypeOf(async function(){}).constructor,ax=globalThis.Blob||hZ.Blob,gZ=typeof ax<"u"?function(e){return e instanceof ax}:function(e){return!1},lx=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new dm(e,"AbortSignal",t)},NZ=(t,e)=>{if(typeof t!="function")throw new dm(e,"Function",t)};fm.exports={AggregateError:RZ,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:TZ,inspect:pZ,types:{isAsyncFunction(t){return t instanceof IZ},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:gZ,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new dm("signal","AbortSignal",e);lx(e,"signal"),NZ(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[SZ]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[AZ](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:mZ.any||function(e){if(e.length===1)return e[0];let r=new _Z,n=()=>r.abort();return e.forEach(i=>{lx(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};fm.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var el=O((Nxe,Rx)=>{"use strict";var{ArrayIsArray:hm,ArrayPrototypeIncludes:fx,ArrayPrototypeJoin:Ex,ArrayPrototypeMap:OZ,NumberIsInteger:Tm,NumberIsNaN:CZ,NumberMAX_SAFE_INTEGER:yZ,NumberMIN_SAFE_INTEGER:bZ,NumberParseInt:wZ,ObjectPrototypeHasOwnProperty:LZ,RegExpPrototypeExec:hx,String:DZ,StringPrototypeToUpperCase:PZ,StringPrototypeTrim:xZ}=lt(),{hideStackFrames:dn,codes:{ERR_SOCKET_BAD_PORT:MZ,ERR_INVALID_ARG_TYPE:Or,ERR_INVALID_ARG_VALUE:Za,ERR_OUT_OF_RANGE:po,ERR_UNKNOWN_SIGNAL:cx}}=Nr(),{normalizeEncoding:vZ}=Ur(),{isAsyncFunction:UZ,isArrayBufferView:BZ}=Ur().types,ux={};function FZ(t){return t===(t|0)}function GZ(t){return t===t>>>0}var HZ=/^[0-7]+$/,WZ="must be a 32-bit unsigned integer or an octal string";function kZ(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(hx(HZ,t)===null)throw new Za(e,t,WZ);t=wZ(t,8)}return Tx(t,e),t}var $Z=dn((t,e,r=bZ,n=yZ)=>{if(typeof t!="number")throw new Or(e,"number",t);if(!Tm(t))throw new po(e,"an integer",t);if(t<r||t>n)throw new po(e,`>= ${r} && <= ${n}`,t)}),YZ=dn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Or(e,"number",t);if(!Tm(t))throw new po(e,"an integer",t);if(t<r||t>n)throw new po(e,`>= ${r} && <= ${n}`,t)}),Tx=dn((t,e,r=!1)=>{if(typeof t!="number")throw new Or(e,"number",t);if(!Tm(t))throw new po(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new po(e,`>= ${n} && <= ${i}`,t)});function pm(t,e){if(typeof t!="string")throw new Or(e,"string",t)}function VZ(t,e,r=void 0,n){if(typeof t!="number")throw new Or(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&CZ(t))throw new po(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var qZ=dn((t,e,r)=>{if(!fx(r,t)){let i="must be one of: "+Ex(OZ(r,s=>typeof s=="string"?`'${s}'`:DZ(s)),", ");throw new Za(e,t,i)}});function px(t,e){if(typeof t!="boolean")throw new Or(e,"boolean",t)}function Em(t,e,r){return t==null||!LZ(t,e)?r:t[e]}var XZ=dn((t,e,r=null)=>{let n=Em(r,"allowArray",!1),i=Em(r,"allowFunction",!1);if(!Em(r,"nullable",!1)&&t===null||!n&&hm(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Or(e,"Object",t)}),jZ=dn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Or(e,"a dictionary",t)}),XE=dn((t,e,r=0)=>{if(!hm(t))throw new Or(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Za(e,t,n)}});function zZ(t,e){XE(t,e);for(let r=0;r<t.length;r++)pm(t[r],`${e}[${r}]`)}function KZ(t,e){XE(t,e);for(let r=0;r<t.length;r++)px(t[r],`${e}[${r}]`)}function JZ(t,e){XE(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Or(i,"AbortSignal",n);Sx(n,i)}}function QZ(t,e="signal"){if(pm(t,e),ux[t]===void 0)throw ux[PZ(t)]!==void 0?new cx(t+" (signals must use all capital letters)"):new cx(t)}var ZZ=dn((t,e="buffer")=>{if(!BZ(t))throw new Or(e,["Buffer","TypedArray","DataView"],t)});function eee(t,e){let r=vZ(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Za("encoding",e,`is invalid for data of length ${n}`)}function tee(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&xZ(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new MZ(e,t,r);return t|0}var Sx=dn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Or(e,"AbortSignal",t)}),ree=dn((t,e)=>{if(typeof t!="function")throw new Or(e,"Function",t)}),nee=dn((t,e)=>{if(typeof t!="function"||UZ(t))throw new Or(e,"Function",t)}),iee=dn((t,e)=>{if(t!==void 0)throw new Or(e,"undefined",t)});function see(t,e,r){if(!fx(r,t))throw new Or(e,`('${Ex(r,"|")}')`,t)}var oee=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function dx(t,e){if(typeof t>"u"||!hx(oee,t))throw new Za(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function aee(t){if(typeof t=="string")return dx(t,"hints"),t;if(hm(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];dx(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Za("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Rx.exports={isInt32:FZ,isUint32:GZ,parseFileMode:kZ,validateArray:XE,validateStringArray:zZ,validateBooleanArray:KZ,validateAbortSignalArray:JZ,validateBoolean:px,validateBuffer:ZZ,validateDictionary:jZ,validateEncoding:eee,validateFunction:ree,validateInt32:YZ,validateInteger:$Z,validateNumber:VZ,validateObject:XZ,validateOneOf:qZ,validatePlainFunction:nee,validatePort:tee,validateSignalName:QZ,validateString:pm,validateUint32:Tx,validateUndefined:iee,validateUnion:see,validateAbortSignal:Sx,validateLinkHeaderValue:aee}});var je=O((Oxe,Ax)=>{Ax.exports=global.process});var zn=O((Cxe,Mx)=>{"use strict";var{SymbolAsyncIterator:mx,SymbolIterator:_x,SymbolFor:So}=lt(),Ix=So("nodejs.stream.destroyed"),gx=So("nodejs.stream.errored"),Sm=So("nodejs.stream.readable"),Rm=So("nodejs.stream.writable"),Nx=So("nodejs.stream.disturbed"),lee=So("nodejs.webstream.isClosedPromise"),cee=So("nodejs.webstream.controllerErrorFunction");function jE(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function zE(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function uee(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function jn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function Ox(t){return!!(t&&!jn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Cx(t){return!!(t&&!jn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function yx(t){return!!(t&&!jn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function dee(t){return Ox(t)||Cx(t)||yx(t)}function fee(t,e){return t==null?!1:e===!0?typeof t[mx]=="function":e===!1?typeof t[_x]=="function":typeof t[mx]=="function"||typeof t[_x]=="function"}function KE(t){if(!jn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[Ix]||n!=null&&n.destroyed)}function bx(t){if(!zE(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Eee(t,e){if(!zE(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function hee(t){if(!jE(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function wx(t,e){if(!jE(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function Lx(t){return t&&t[Sm]!=null?t[Sm]:typeof t?.readable!="boolean"?null:KE(t)?!1:jE(t)&&t.readable&&!wx(t)}function Dx(t){return t&&t[Rm]!=null?t[Rm]:typeof t?.writable!="boolean"?null:KE(t)?!1:zE(t)&&t.writable&&!bx(t)}function Tee(t,e){return jn(t)?KE(t)?!0:!(e?.readable!==!1&&Lx(t)||e?.writable!==!1&&Dx(t)):null}function pee(t){var e,r;return jn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function See(t){var e,r;return jn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Ree(t){if(!jn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Px(t)?t._closed:null}function Px(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function xx(t){return typeof t._sent100=="boolean"&&Px(t)}function Aee(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function mee(t){if(!jn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&xx(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function _ee(t){var e;return!!(t&&((e=t[Nx])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Iee(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[gx])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}Mx.exports={isDestroyed:KE,kIsDestroyed:Ix,isDisturbed:_ee,kIsDisturbed:Nx,isErrored:Iee,kIsErrored:gx,isReadable:Lx,kIsReadable:Sm,kIsClosedPromise:lee,kControllerErrorFunction:cee,kIsWritable:Rm,isClosed:Ree,isDuplexNodeStream:uee,isFinished:Tee,isIterable:fee,isReadableNodeStream:jE,isReadableStream:Ox,isReadableEnded:hee,isReadableFinished:wx,isReadableErrored:See,isNodeStream:jn,isWebStream:dee,isWritable:Dx,isWritableNodeStream:zE,isWritableStream:Cx,isWritableEnded:bx,isWritableFinished:Eee,isWritableErrored:pee,isServerRequest:Aee,isServerResponse:xx,willEmitClose:mee,isTransformStream:yx}});var Ui=O((yxe,gm)=>{"use strict";var ys=je(),{AbortError:$x,codes:gee}=Nr(),{ERR_INVALID_ARG_TYPE:Nee,ERR_STREAM_PREMATURE_CLOSE:vx}=gee,{kEmptyObject:mm,once:_m}=Ur(),{validateAbortSignal:Oee,validateFunction:Cee,validateObject:yee,validateBoolean:bee}=el(),{Promise:wee,PromisePrototypeThen:Lee,SymbolDispose:Yx}=lt(),{isClosed:Dee,isReadable:Ux,isReadableNodeStream:Am,isReadableStream:Pee,isReadableFinished:Bx,isReadableErrored:Fx,isWritable:Gx,isWritableNodeStream:Hx,isWritableStream:xee,isWritableFinished:Wx,isWritableErrored:kx,isNodeStream:Mee,willEmitClose:vee,kIsClosedPromise:Uee}=zn(),tl;function Bee(t){return t.setHeader&&typeof t.abort=="function"}var Im=()=>{};function Vx(t,e,r){var n,i;if(arguments.length===2?(r=e,e=mm):e==null?e=mm:yee(e,"options"),Cee(r,"callback"),Oee(e.signal,"options.signal"),r=_m(r),Pee(t)||xee(t))return Fee(t,e,r);if(!Mee(t))throw new Nee("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:Am(t),o=(i=e.writable)!==null&&i!==void 0?i:Hx(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||E()},u=vee(t)&&Am(t)===s&&Hx(t)===o,d=Wx(t,!1),E=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=Bx(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},h=g=>{r.call(t,g)},p=Dee(t),S=()=>{p=!0;let g=kx(t)||Fx(t);if(g&&typeof g!="boolean")return r.call(t,g);if(s&&!f&&Am(t,!0)&&!Bx(t,!1))return r.call(t,new vx);if(o&&!d&&!Wx(t,!1))return r.call(t,new vx);r.call(t)},m=()=>{p=!0;let g=kx(t)||Fx(t);if(g&&typeof g!="boolean")return r.call(t,g);r.call(t)},R=()=>{t.req.on("finish",E)};Bee(t)?(t.on("complete",E),u||t.on("abort",S),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",E),e.error!==!1&&t.on("error",h),t.on("close",S),p?ys.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||ys.nextTick(m):(!s&&(!u||Ux(t))&&(d||Gx(t)===!1)||!o&&(!u||Gx(t))&&(f||Ux(t)===!1)||l&&t.req&&t.aborted)&&ys.nextTick(m);let A=()=>{r=Im,t.removeListener("aborted",S),t.removeListener("complete",E),t.removeListener("abort",S),t.removeListener("request",R),t.req&&t.req.removeListener("finish",E),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",E),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!p){let g=()=>{let w=r;A(),w.call(t,new $x(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)ys.nextTick(g);else{tl=tl||Ur().addAbortListener;let w=tl(e.signal,g),I=r;r=_m((...D)=>{w[Yx](),I.apply(t,D)})}}return A}function Fee(t,e,r){let n=!1,i=Im;if(e.signal)if(i=()=>{n=!0,r.call(t,new $x(void 0,{cause:e.signal.reason}))},e.signal.aborted)ys.nextTick(i);else{tl=tl||Ur().addAbortListener;let o=tl(e.signal,i),a=r;r=_m((...l)=>{o[Yx](),a.apply(t,l)})}let s=(...o)=>{n||ys.nextTick(()=>r.apply(t,o))};return Lee(t[Uee].promise,s,s),Im}function Gee(t,e){var r;let n=!1;return e===null&&(e=mm),(r=e)!==null&&r!==void 0&&r.cleanup&&(bee(e.cleanup,"cleanup"),n=e.cleanup),new wee((i,s)=>{let o=Vx(t,e,a=>{n&&o(),a?s(a):i()})})}gm.exports=Vx;gm.exports.finished=Gee});var Ro=O((bxe,Zx)=>{"use strict";var Kn=je(),{aggregateTwoErrors:Hee,codes:{ERR_MULTIPLE_CALLBACK:Wee},AbortError:kee}=Nr(),{Symbol:jx}=lt(),{kIsDestroyed:$ee,isDestroyed:Yee,isFinished:Vee,isServerRequest:qee}=zn(),zx=jx("kDestroy"),Nm=jx("kConstruct");function Kx(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Xee(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(Kx(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?qx(this,t,e):this.once(zx,function(s){qx(this,Hee(s,t),e)}),this)}function qx(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;Kx(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Kn.nextTick(jee,t,s):Kn.nextTick(Jx,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function jee(t,e){Om(t,e),Jx(t)}function Jx(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Om(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function zee(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Cm(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Kn.nextTick(Om,t,e):Om(t,e))}function Kee(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Nm,e),!(t.listenerCount(Nm)>1)&&Kn.nextTick(Jee,t)}function Jee(t){let e=!1;function r(n){if(e){Cm(t,n??new Wee);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(zx,n):n?Cm(t,n,!0):Kn.nextTick(Qee,t)}try{t._construct(n=>{Kn.nextTick(r,n)})}catch(n){Kn.nextTick(r,n)}}function Qee(t){t.emit(Nm)}function Xx(t){return t?.setHeader&&typeof t.abort=="function"}function Qx(t){t.emit("close")}function Zee(t,e){t.emit("error",e),Kn.nextTick(Qx,t)}function ete(t,e){!t||Yee(t)||(!e&&!Vee(t)&&(e=new kee),qee(t)?(t.socket=null,t.destroy(e)):Xx(t)?t.abort():Xx(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Kn.nextTick(Zee,t,e):Kn.nextTick(Qx,t),t.destroyed||(t[$ee]=!0))}Zx.exports={construct:Kee,destroyer:ete,destroy:Xee,undestroy:zee,errorOrDestroy:Cm}});var ZE=O((wxe,tM)=>{"use strict";var{ArrayIsArray:tte,ObjectSetPrototypeOf:eM}=lt(),{EventEmitter:JE}=require("events");function QE(t){JE.call(this,t)}eM(QE.prototype,JE.prototype);eM(QE,JE);QE.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),JE.listenerCount(this,"error")===0&&this.emit("error",u)}ym(r,"error",l),ym(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function ym(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):tte(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}tM.exports={Stream:QE,prependListener:ym}});var Ru=O((Lxe,eh)=>{"use strict";var{SymbolDispose:rte}=lt(),{AbortError:rM,codes:nte}=Nr(),{isNodeStream:nM,isWebStream:ite,kControllerErrorFunction:ste}=zn(),ote=Ui(),{ERR_INVALID_ARG_TYPE:iM}=nte,bm,ate=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new iM(e,"AbortSignal",t)};eh.exports.addAbortSignal=function(e,r){if(ate(e,"signal"),!nM(r)&&!ite(r))throw new iM("stream",["ReadableStream","WritableStream","Stream"],r);return eh.exports.addAbortSignalNoValidate(e,r)};eh.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=nM(e)?()=>{e.destroy(new rM(void 0,{cause:t.reason}))}:()=>{e[ste](new rM(void 0,{cause:t.reason}))};if(t.aborted)r();else{bm=bm||Ur().addAbortListener;let n=bm(t,r);ote(e,n[rte])}return e}});var aM=O((Pxe,oM)=>{"use strict";var{StringPrototypeSlice:sM,SymbolIterator:lte,TypedArrayPrototypeSet:th,Uint8Array:cte}=lt(),{Buffer:wm}=require("buffer"),{inspect:ute}=Ur();oM.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return wm.alloc(0);let r=wm.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)th(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[lte](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=sM(s,0,e),this.head=n,n.data=sM(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=wm.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)th(r,o,n-e),e-=o.length;else{e===o.length?(th(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(th(r,new cte(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return ute(this,{...r,depth:0,customInspect:!1})}}});var Au=O((xxe,dM)=>{"use strict";var{MathFloor:dte,NumberIsInteger:fte}=lt(),{validateInteger:Ete}=el(),{ERR_INVALID_ARG_VALUE:hte}=Nr().codes,lM=16*1024,cM=16;function Tte(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function uM(t){return t?cM:lM}function pte(t,e){Ete(e,"value",0),t?cM=e:lM=e}function Ste(t,e,r,n){let i=Tte(e,n,r);if(i!=null){if(!fte(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new hte(s,i)}return dte(i)}return uM(t.objectMode)}dM.exports={getHighWaterMark:Ste,getDefaultHighWaterMark:uM,setDefaultHighWaterMark:pte}});var hM=O((Lm,EM)=>{var rh=require("buffer"),Jn=rh.Buffer;function fM(t,e){for(var r in t)e[r]=t[r]}Jn.from&&Jn.alloc&&Jn.allocUnsafe&&Jn.allocUnsafeSlow?EM.exports=rh:(fM(rh,Lm),Lm.Buffer=Ao);function Ao(t,e,r){return Jn(t,e,r)}Ao.prototype=Object.create(Jn.prototype);fM(Jn,Ao);Ao.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Jn(t,e,r)};Ao.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Jn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ao.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Jn(t)};Ao.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return rh.SlowBuffer(t)}});var _u=O(pM=>{"use strict";var Pm=hM().Buffer,TM=Pm.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Rte(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Ate(t){var e=Rte(t);if(typeof e!="string"&&(Pm.isEncoding===TM||!TM(t)))throw new Error("Unknown encoding: "+t);return e||t}pM.StringDecoder=mu;function mu(t){this.encoding=Ate(t);var e;switch(this.encoding){case"utf16le":this.text=Ote,this.end=Cte,e=4;break;case"utf8":this.fillLast=Ite,e=4;break;case"base64":this.text=yte,this.end=bte,e=3;break;default:this.write=wte,this.end=Lte;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Pm.allocUnsafe(e)}mu.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};mu.prototype.end=Nte;mu.prototype.text=gte;mu.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Dm(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function mte(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Dm(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Dm(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Dm(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function _te(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Ite(t){var e=this.lastTotal-this.lastNeed,r=_te(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function gte(t,e){var r=mte(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Nte(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Ote(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Cte(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function yte(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function bte(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function wte(t){return t.toString(this.encoding)}function Lte(t){return t&&t.length?this.write(t):""}});var xm=O((vxe,mM)=>{"use strict";var SM=je(),{PromisePrototypeThen:Dte,SymbolAsyncIterator:RM,SymbolIterator:AM}=lt(),{Buffer:Pte}=require("buffer"),{ERR_INVALID_ARG_TYPE:xte,ERR_STREAM_NULL_VALUES:Mte}=Nr().codes;function vte(t,e,r){let n;if(typeof e=="string"||e instanceof Pte)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[RM])i=!0,n=e[RM]();else if(e&&e[AM])i=!1,n=e[AM]();else throw new xte("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Dte(a(c),()=>SM.nextTick(u,c),d=>SM.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:E,done:f}=await n.throw(c);if(await E,f)return}if(typeof n.return=="function"){let{value:E}=await n.return();await E}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Mte;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}mM.exports=vte});var gu=O((Uxe,FM)=>{"use strict";var wn=je(),{ArrayPrototypeIndexOf:Ute,NumberIsInteger:Bte,NumberIsNaN:Fte,NumberParseInt:Gte,ObjectDefineProperties:Wm,ObjectKeys:Hte,ObjectSetPrototypeOf:gM,Promise:NM,SafeSet:Wte,SymbolAsyncDispose:kte,SymbolAsyncIterator:$te,Symbol:Yte}=lt();FM.exports=Se;Se.ReadableState=oh;var{EventEmitter:Vte}=require("events"),{Stream:bs,prependListener:qte}=ZE(),{Buffer:Mm}=require("buffer"),{addAbortSignal:Xte}=Ru(),OM=Ui(),Le=Ur().debuglog("stream",t=>{Le=t}),jte=aM(),il=Ro(),{getHighWaterMark:zte,getDefaultHighWaterMark:Kte}=Au(),{aggregateTwoErrors:_M,codes:{ERR_INVALID_ARG_TYPE:Jte,ERR_METHOD_NOT_IMPLEMENTED:Qte,ERR_OUT_OF_RANGE:Zte,ERR_STREAM_PUSH_AFTER_EOF:ere,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:tre},AbortError:rre}=Nr(),{validateObject:nre}=el(),mo=Yte("kPaused"),{StringDecoder:CM}=_u(),ire=xm();gM(Se.prototype,bs.prototype);gM(Se,bs);var vm=()=>{},{errorOrDestroy:rl}=il,nl=1,sre=2,yM=4,Iu=8,bM=16,nh=32,ih=64,wM=128,ore=256,are=512,lre=1024,Gm=2048,Hm=4096,cre=8192,ure=16384,dre=32768,LM=65536,fre=1<<17,Ere=1<<18;function Ft(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}Wm(oh.prototype,{objectMode:Ft(nl),ended:Ft(sre),endEmitted:Ft(yM),reading:Ft(Iu),constructed:Ft(bM),sync:Ft(nh),needReadable:Ft(ih),emittedReadable:Ft(wM),readableListening:Ft(ore),resumeScheduled:Ft(are),errorEmitted:Ft(lre),emitClose:Ft(Gm),autoDestroy:Ft(Hm),destroyed:Ft(cre),closed:Ft(ure),closeEmitted:Ft(dre),multiAwaitDrain:Ft(LM),readingMore:Ft(fre),dataEmitted:Ft(Ere)});function oh(t,e,r){typeof r!="boolean"&&(r=e instanceof Qn()),this.state=Gm|Hm|bM|nh,t&&t.objectMode&&(this.state|=nl),r&&t&&t.readableObjectMode&&(this.state|=nl),this.highWaterMark=t?zte(this,t,"readableHighWaterMark",r):Kte(!1),this.buffer=new jte,this.length=0,this.pipes=[],this.flowing=null,this[mo]=null,t&&t.emitClose===!1&&(this.state&=~Gm),t&&t.autoDestroy===!1&&(this.state&=~Hm),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new CM(t.encoding),this.encoding=t.encoding)}function Se(t){if(!(this instanceof Se))return new Se(t);let e=this instanceof Qn();this._readableState=new oh(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Xte(t.signal,this)),bs.call(this,t),il.construct(this,()=>{this._readableState.needReadable&&sh(this,this._readableState)})}Se.prototype.destroy=il.destroy;Se.prototype._undestroy=il.undestroy;Se.prototype._destroy=function(t,e){e(t)};Se.prototype[Vte.captureRejectionSymbol]=function(t){this.destroy(t)};Se.prototype[kte]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new rre,this.destroy(t)),new NM((e,r)=>OM(this,n=>n&&n!==t?r(n):e(null)))};Se.prototype.push=function(t,e){return DM(this,t,e,!1)};Se.prototype.unshift=function(t,e){return DM(this,t,e,!0)};function DM(t,e,r,n){Le("readableAddChunk",e);let i=t._readableState,s;if((i.state&nl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=Mm.from(e,r).toString(i.encoding):(e=Mm.from(e,r),r=""))):e instanceof Mm?r="":bs._isUint8Array(e)?(e=bs._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Jte("chunk",["string","Buffer","Uint8Array"],e))),s)rl(t,s);else if(e===null)i.state&=~Iu,pre(t,i);else if((i.state&nl)!==0||e&&e.length>0)if(n)if((i.state&yM)!==0)rl(t,new tre);else{if(i.destroyed||i.errored)return!1;Um(t,i,e,!0)}else if(i.ended)rl(t,new ere);else{if(i.destroyed||i.errored)return!1;i.state&=~Iu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?Um(t,i,e,!1):sh(t,i)):Um(t,i,e,!1)}else n||(i.state&=~Iu,sh(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function Um(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&LM)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&ih)!==0&&ah(t)),sh(t,e)}Se.prototype.isPaused=function(){let t=this._readableState;return t[mo]===!0||t.flowing===!1};Se.prototype.setEncoding=function(t){let e=new CM(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var hre=1073741824;function Tre(t){if(t>hre)throw new Zte("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function IM(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&nl)!==0?1:Fte(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Se.prototype.read=function(t){Le("read",t),t===void 0?t=NaN:Bte(t)||(t=Gte(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Tre(t)),t!==0&&(e.state&=~wM),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Le("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Bm(this):ah(this),null;if(t=IM(t,e),t===0&&e.ended)return e.length===0&&Bm(this),null;let n=(e.state&ih)!==0;if(Le("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Le("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Le("reading, ended or constructing",n);else if(n){Le("do read"),e.state|=Iu|nh,e.length===0&&(e.state|=ih);try{this._read(e.highWaterMark)}catch(s){rl(this,s)}e.state&=~nh,e.reading||(t=IM(r,e))}let i;return t>0?i=UM(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Bm(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function pre(t,e){if(Le("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?ah(t):(e.needReadable=!1,e.emittedReadable=!0,PM(t))}}function ah(t){let e=t._readableState;Le("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Le("emitReadable",e.flowing),e.emittedReadable=!0,wn.nextTick(PM,t))}function PM(t){let e=t._readableState;Le("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,MM(t)}function sh(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,wn.nextTick(Sre,t,e))}function Sre(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Le("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Se.prototype._read=function(t){throw new Qte("_read()")};Se.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Wte(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Le("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==wn.stdout&&t!==wn.stderr?a:p;n.endEmitted?wn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,m){Le("onunpipe"),S===r&&m&&m.hasUnpiped===!1&&(m.hasUnpiped=!0,u())}function a(){Le("onend"),t.end()}let l,c=!1;function u(){Le("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",E),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Le("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Le("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Rre(r,t),t.on("drain",l))}r.on("data",E);function E(S){Le("ondata");let m=t.write(S);Le("dest.write",m),m===!1&&d()}function f(S){if(Le("onerror",S),p(),t.removeListener("error",f),t.listenerCount("error")===0){let m=t._writableState||t._readableState;m&&!m.errorEmitted?rl(t,S):t.emit("error",S)}}qte(t,"error",f);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){Le("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){Le("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Le("pipe resume"),r.resume()),t};function Rre(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Le("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Le("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Se.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Ute(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Se.prototype.on=function(t,e){let r=bs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Le("on readable",n.length,n.reading),n.length?ah(this):n.reading||wn.nextTick(Are,this)),r};Se.prototype.addListener=Se.prototype.on;Se.prototype.removeListener=function(t,e){let r=bs.prototype.removeListener.call(this,t,e);return t==="readable"&&wn.nextTick(xM,this),r};Se.prototype.off=Se.prototype.removeListener;Se.prototype.removeAllListeners=function(t){let e=bs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&wn.nextTick(xM,this),e};function xM(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[mo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Are(t){Le("readable nexttick read 0"),t.read(0)}Se.prototype.resume=function(){let t=this._readableState;return t.flowing||(Le("resume"),t.flowing=!t.readableListening,mre(this,t)),t[mo]=!1,this};function mre(t,e){e.resumeScheduled||(e.resumeScheduled=!0,wn.nextTick(_re,t,e))}function _re(t,e){Le("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),MM(t),e.flowing&&!e.reading&&t.read(0)}Se.prototype.pause=function(){return Le("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Le("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[mo]=!0,this};function MM(t){let e=t._readableState;for(Le("flow",e.flowing);e.flowing&&t.read()!==null;);}Se.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{rl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Hte(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Se.prototype[$te]=function(){return vM(this)};Se.prototype.iterator=function(t){return t!==void 0&&nre(t,"options"),vM(this,t)};function vM(t,e){typeof t.read!="function"&&(t=Se.wrap(t,{objectMode:!0}));let r=Ire(t,e);return r.stream=t,r}async function*Ire(t,e){let r=vm;function n(o){this===t?(r(),r=vm):r=o}t.on("readable",n);let i,s=OM(t,{writable:!1},o=>{i=o?_M(i,o):null,r(),r=vm});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new NM(n)}}}catch(o){throw i=_M(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?il.destroyer(t,null):(t.off("readable",n),s())}}Wm(Se.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Wm(oh.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[mo]!==!1},set(t){this[mo]=!!t}}});Se._fromList=UM;function UM(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Bm(t){let e=t._readableState;Le("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,wn.nextTick(gre,e,t))}function gre(t,e){if(Le("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)wn.nextTick(Nre,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Nre(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Se.from=function(t,e){return ire(Se,t,e)};var Fm;function BM(){return Fm===void 0&&(Fm={}),Fm}Se.fromWeb=function(t,e){return BM().newStreamReadableFromReadableStream(t,e)};Se.toWeb=function(t,e){return BM().newReadableStreamFromStreamReadable(t,e)};Se.wrap=function(t,e){var r,n;return new Se({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){il.destroyer(t,i),s(i)}}).wrap(t)}});var fh=O((Bxe,KM)=>{"use strict";var _o=je(),{ArrayPrototypeSlice:WM,Error:Ore,FunctionPrototypeSymbolHasInstance:kM,ObjectDefineProperty:$M,ObjectDefineProperties:Cre,ObjectSetPrototypeOf:YM,StringPrototypeToLowerCase:yre,Symbol:bre,SymbolHasInstance:wre}=lt();KM.exports=ht;ht.WritableState=Cu;var{EventEmitter:Lre}=require("events"),Nu=ZE().Stream,{Buffer:lh}=require("buffer"),dh=Ro(),{addAbortSignal:Dre}=Ru(),{getHighWaterMark:Pre,getDefaultHighWaterMark:xre}=Au(),{ERR_INVALID_ARG_TYPE:Mre,ERR_METHOD_NOT_IMPLEMENTED:vre,ERR_MULTIPLE_CALLBACK:VM,ERR_STREAM_CANNOT_PIPE:Ure,ERR_STREAM_DESTROYED:Ou,ERR_STREAM_ALREADY_FINISHED:Bre,ERR_STREAM_NULL_VALUES:Fre,ERR_STREAM_WRITE_AFTER_END:Gre,ERR_UNKNOWN_ENCODING:qM}=Nr().codes,{errorOrDestroy:sl}=dh;YM(ht.prototype,Nu.prototype);YM(ht,Nu);function Ym(){}var ol=bre("kOnFinished");function Cu(t,e,r){typeof r!="boolean"&&(r=e instanceof Qn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Pre(this,t,"writableHighWaterMark",r):xre(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Wre.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,uh(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ol]=[]}function uh(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Cu.prototype.getBuffer=function(){return WM(this.buffered,this.bufferedIndex)};$M(Cu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ht(t){let e=this instanceof Qn();if(!e&&!kM(ht,this))return new ht(t);this._writableState=new Cu(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Dre(t.signal,this)),Nu.call(this,t),dh.construct(this,()=>{let r=this._writableState;r.writing||qm(this,r),Xm(this,r)})}$M(ht,wre,{__proto__:null,value:function(t){return kM(this,t)?!0:this!==ht?!1:t&&t._writableState instanceof Cu}});ht.prototype.pipe=function(){sl(this,new Ure)};function XM(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!lh.isEncoding(r))throw new qM(r);typeof n!="function"&&(n=Ym)}if(e===null)throw new Fre;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=lh.from(e,r),r="buffer");else if(e instanceof lh)r="buffer";else if(Nu._isUint8Array(e))e=Nu._uint8ArrayToBuffer(e),r="buffer";else throw new Mre("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Gre:i.destroyed&&(s=new Ou("write")),s?(_o.nextTick(n,s),sl(t,s,!0),s):(i.pendingcb++,Hre(t,i,e,r,n))}ht.prototype.write=function(t,e,r){return XM(this,t,e,r)===!0};ht.prototype.cork=function(){this._writableState.corked++};ht.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||qm(this,t))};ht.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=yre(e)),!lh.isEncoding(e))throw new qM(e);return this._writableState.defaultEncoding=e,this};function Hre(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Ym&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function GM(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Ou("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function HM(t,e,r,n){--e.pendingcb,n(r),Vm(e),sl(t,r)}function Wre(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){sl(t,new VM);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?_o.nextTick(HM,t,r,e,i):HM(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&qm(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},_o.nextTick(kre,r.afterWriteTickInfo)):jM(t,r,1,i))}function kre({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,jM(t,e,r,n)}function jM(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Vm(e),Xm(t,e)}function Vm(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Ou("write"))}let r=t[ol].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Ou("end"))}uh(t)}function qm(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Ym:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:WM(r,o);l.allBuffers=e.allBuffers,GM(t,e,!0,e.length,l,"",a),uh(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;GM(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?uh(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ht.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new vre("_write()")};ht.prototype._writev=null;ht.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=XM(this,t,e);s instanceof Ore&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Xm(this,n,!0),n.ended=!0):n.finished?i=new Bre("end"):n.destroyed&&(i=new Ou("end"))),typeof r=="function"&&(i||n.finished?_o.nextTick(r,i):n[ol].push(r)),this};function ch(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function $re(t,e){let r=!1;function n(i){if(r){sl(t,i??VM());return}if(r=!0,e.pendingcb--,i){let s=e[ol].splice(0);for(let o=0;o<s.length;o++)s[o](i);sl(t,i,e.sync)}else ch(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,_o.nextTick($m,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Yre(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,$re(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Xm(t,e,r){ch(e)&&(Yre(t,e),e.pendingcb===0&&(r?(e.pendingcb++,_o.nextTick((n,i)=>{ch(i)?$m(n,i):i.pendingcb--},t,e)):ch(e)&&(e.pendingcb++,$m(t,e))))}function $m(t,e){e.pendingcb--,e.finished=!0;let r=e[ol].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Cre(ht.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Vre=dh.destroy;ht.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[ol].length)&&_o.nextTick(Vm,r),Vre.call(this,t,e),this};ht.prototype._undestroy=dh.undestroy;ht.prototype._destroy=function(t,e){e(t)};ht.prototype[Lre.captureRejectionSymbol]=function(t){this.destroy(t)};var km;function zM(){return km===void 0&&(km={}),km}ht.fromWeb=function(t,e){return zM().newStreamWritableFromWritableStream(t,e)};ht.toWeb=function(t){return zM().newWritableStreamFromStreamWritable(t)}});var dv=O((Fxe,uv)=>{var jm=je(),qre=require("buffer"),{isReadable:Xre,isWritable:jre,isIterable:JM,isNodeStream:zre,isReadableNodeStream:QM,isWritableNodeStream:ZM,isDuplexNodeStream:Kre,isReadableStream:ev,isWritableStream:tv}=zn(),rv=Ui(),{AbortError:lv,codes:{ERR_INVALID_ARG_TYPE:Jre,ERR_INVALID_RETURN_VALUE:nv}}=Nr(),{destroyer:ll}=Ro(),Qre=Qn(),cv=gu(),Zre=fh(),{createDeferredPromise:iv}=Ur(),sv=xm(),ov=globalThis.Blob||qre.Blob,ene=typeof ov<"u"?function(e){return e instanceof ov}:function(e){return!1},tne=globalThis.AbortController||wt().AbortController,{FunctionPrototypeCall:av}=lt(),ws=class extends Qre{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};uv.exports=function t(e,r){if(Kre(e))return e;if(QM(e))return al({readable:e});if(ZM(e))return al({writable:e});if(zre(e))return al({writable:!1,readable:!1});if(ev(e))return al({readable:cv.fromWeb(e)});if(tv(e))return al({writable:Zre.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=rne(e);if(JM(i))return sv(ws,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=av(l,i,d=>{if(d!=null)throw new nv("nully","body",d)},d=>{ll(c,d)});return c=new ws({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,jm.nextTick(d,null)}catch(E){jm.nextTick(d,E)}})},destroy:a})}throw new nv("Iterable, AsyncIterable or AsyncFunction",r,i)}if(ene(e))return t(e.arrayBuffer());if(JM(e))return sv(ws,e,{objectMode:!0,writable:!1});if(ev(e?.readable)&&tv(e?.writable))return ws.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?QM(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?ZM(e?.writable)?e?.writable:t(e.writable):void 0;return al({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return av(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{ll(i,s)}),i=new ws({objectMode:!0,writable:!1,read(){}})}throw new Jre(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function rne(t){let{promise:e,resolve:r}=iv(),n=new tne,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(jm.nextTick(c),l)return;if(i.aborted)throw new lv(void 0,{cause:i.reason});({promise:e,resolve:r}=iv()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function al(t){let e=t.readable&&typeof t.readable.read!="function"?cv.wrap(t.readable):t.readable,r=t.writable,n=!!Xre(e),i=!!jre(r),s,o,a,l,c;function u(d){let E=l;l=null,E?E(d):d&&c.destroy(d)}return c=new ws({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(rv(r,d=>{i=!1,d&&ll(e,d),u(d)}),c._write=function(d,E,f){r.write(d,E)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(rv(e,d=>{n=!1,d&&ll(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,E){!d&&l!==null&&(d=new lv),a=null,s=null,o=null,l===null?E(d):(l=E,ll(r,d),ll(e,d))},c}});var Qn=O((Gxe,hv)=>{"use strict";var{ObjectDefineProperties:nne,ObjectGetOwnPropertyDescriptor:Bi,ObjectKeys:ine,ObjectSetPrototypeOf:fv}=lt();hv.exports=Ln;var Jm=gu(),fn=fh();fv(Ln.prototype,Jm.prototype);fv(Ln,Jm);{let t=ine(fn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Ln.prototype[r]||(Ln.prototype[r]=fn.prototype[r])}}function Ln(t){if(!(this instanceof Ln))return new Ln(t);Jm.call(this,t),fn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}nne(Ln.prototype,{writable:{__proto__:null,...Bi(fn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Bi(fn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Bi(fn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Bi(fn.prototype,"writableBuffer")},writableLength:{__proto__:null,...Bi(fn.prototype,"writableLength")},writableFinished:{__proto__:null,...Bi(fn.prototype,"writableFinished")},writableCorked:{__proto__:null,...Bi(fn.prototype,"writableCorked")},writableEnded:{__proto__:null,...Bi(fn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Bi(fn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var zm;function Ev(){return zm===void 0&&(zm={}),zm}Ln.fromWeb=function(t,e){return Ev().newStreamDuplexFromReadableWritablePair(t,e)};Ln.toWeb=function(t){return Ev().newReadableWritablePairFromDuplex(t)};var Km;Ln.from=function(t){return Km||(Km=dv()),Km(t,"body")}});var e_=O((Hxe,pv)=>{"use strict";var{ObjectSetPrototypeOf:Tv,Symbol:sne}=lt();pv.exports=Fi;var{ERR_METHOD_NOT_IMPLEMENTED:one}=Nr().codes,Zm=Qn(),{getHighWaterMark:ane}=Au();Tv(Fi.prototype,Zm.prototype);Tv(Fi,Zm);var yu=sne("kCallback");function Fi(t){if(!(this instanceof Fi))return new Fi(t);let e=t?ane(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Zm.call(this,t),this._readableState.sync=!1,this[yu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",lne)}function Qm(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function lne(){this._final!==Qm&&Qm.call(this)}Fi.prototype._final=Qm;Fi.prototype._transform=function(t,e,r){throw new one("_transform()")};Fi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[yu]=r})};Fi.prototype._read=function(){if(this[yu]){let t=this[yu];this[yu]=null,t()}}});var r_=O((Wxe,Rv)=>{"use strict";var{ObjectSetPrototypeOf:Sv}=lt();Rv.exports=cl;var t_=e_();Sv(cl.prototype,t_.prototype);Sv(cl,t_);function cl(t){if(!(this instanceof cl))return new cl(t);t_.call(this,t)}cl.prototype._transform=function(t,e,r){r(null,t)}});var ph=O((kxe,gv)=>{var bu=je(),{ArrayIsArray:cne,Promise:une,SymbolAsyncIterator:dne,SymbolDispose:fne}=lt(),Th=Ui(),{once:Ene}=Ur(),hne=Ro(),Av=Qn(),{aggregateTwoErrors:Tne,codes:{ERR_INVALID_ARG_TYPE:d_,ERR_INVALID_RETURN_VALUE:n_,ERR_MISSING_ARGS:pne,ERR_STREAM_DESTROYED:Sne,ERR_STREAM_PREMATURE_CLOSE:Rne},AbortError:Ane}=Nr(),{validateFunction:mne,validateAbortSignal:_ne}=el(),{isIterable:Io,isReadable:i_,isReadableNodeStream:hh,isNodeStream:mv,isTransformStream:ul,isWebStream:Ine,isReadableStream:s_,isReadableFinished:gne}=zn(),Nne=globalThis.AbortController||wt().AbortController,o_,a_,l_;function _v(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Th(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,hne.destroyer(t,s||new Sne("pipe")))},cleanup:i}}function One(t){return mne(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function c_(t){if(Io(t))return t;if(hh(t))return Cne(t);throw new d_("val",["Readable","Iterable","AsyncIterable"],t)}async function*Cne(t){a_||(a_=gu()),yield*a_.prototype[dne].call(t)}async function Eh(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new une((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Th(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?Tne(i,c):c)}finally{l(),e.off("drain",o)}}async function u_(t,e,r,{end:n}){ul(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function yne(...t){return Iv(t,Ene(One(t)))}function Iv(t,e,r){if(t.length===1&&cne(t[0])&&(t=t[0]),t.length<2)throw new pne("streams");let n=new Nne,i=n.signal,s=r?.signal,o=[];_ne(s,"options.signal");function a(){T(new Ane)}l_=l_||Ur().addAbortListener;let l;s&&(l=l_(s,a));let c,u,d=[],E=0;function f(R){T(R,--E===0)}function T(R,A){var g;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;d.length;)d.shift()(c);(g=l)===null||g===void 0||g[fne](),n.abort(),A&&(c||o.forEach(w=>w()),bu.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],g=R<t.length-1,w=R>0,I=g||r?.end!==!1,D=R===t.length-1;if(mv(A)){let b=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var m=b;if(I){let{destroy:P,cleanup:M}=_v(A,g,w);d.push(P),i_(A)&&D&&o.push(M)}A.on("error",b),i_(A)&&D&&o.push(()=>{A.removeListener("error",b)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!Io(h))throw new n_("Iterable, AsyncIterable or Stream","source",h)}else Io(A)||hh(A)||ul(A)?h=A:h=Av.from(A);else if(typeof A=="function"){if(ul(h)){var p;h=c_((p=h)===null||p===void 0?void 0:p.readable)}else h=c_(h);if(h=A(h,{signal:i}),g){if(!Io(h,!0))throw new n_("AsyncIterable",`transform[${R-1}]`,h)}else{var S;o_||(o_=r_());let b=new o_({objectMode:!0}),P=(S=h)===null||S===void 0?void 0:S.then;if(typeof P=="function")E++,P.call(h,F=>{u=F,F!=null&&b.write(F),I&&b.end(),bu.nextTick(f)},F=>{b.destroy(F),bu.nextTick(f,F)});else if(Io(h,!0))E++,Eh(h,b,f,{end:I});else if(s_(h)||ul(h)){let F=h.readable||h;E++,Eh(F,b,f,{end:I})}else throw new n_("AsyncIterable or Promise","destination",h);h=b;let{destroy:M,cleanup:B}=_v(h,!1,!0);d.push(M),D&&o.push(B)}}else if(mv(A)){if(hh(h)){E+=2;let b=bne(h,A,f,{end:I});i_(A)&&D&&o.push(b)}else if(ul(h)||s_(h)){let b=h.readable||h;E++,Eh(b,A,f,{end:I})}else if(Io(h))E++,Eh(h,A,f,{end:I});else throw new d_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(Ine(A)){if(hh(h))E++,u_(c_(h),A,f,{end:I});else if(s_(h)||Io(h))E++,u_(h,A,f,{end:I});else if(ul(h))E++,u_(h.readable,A,f,{end:I});else throw new d_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=Av.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&bu.nextTick(a),h}function bne(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Rne)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;gne(t)?bu.nextTick(o):t.once("end",o)}else r();return Th(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Th(e,{readable:!1,writable:!0},r)}gv.exports={pipelineImpl:Iv,pipeline:yne}});var E_=O(($xe,wv)=>{"use strict";var{pipeline:wne}=ph(),Sh=Qn(),{destroyer:Lne}=Ro(),{isNodeStream:Rh,isReadable:Nv,isWritable:Ov,isWebStream:f_,isTransformStream:go,isWritableStream:Cv,isReadableStream:yv}=zn(),{AbortError:Dne,codes:{ERR_INVALID_ARG_VALUE:bv,ERR_MISSING_ARGS:Pne}}=Nr(),xne=Ui();wv.exports=function(...e){if(e.length===0)throw new Pne("streams");if(e.length===1)return Sh.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Sh.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Sh.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Rh(e[f])&&!f_(e[f]))){if(f<e.length-1&&!(Nv(e[f])||yv(e[f])||go(e[f])))throw new bv(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(Ov(e[f])||Cv(e[f])||go(e[f])))throw new bv(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!E&&!d&&a.destroy()}let c=e[0],u=wne(e,l),d=!!(Ov(c)||Cv(c)||go(c)),E=!!(Nv(u)||yv(u)||go(u));if(a=new Sh({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:E}),d){if(Rh(c))a._write=function(T,h,p){c.write(T,h)?p():n=p},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(f_(c)){let h=(go(c)?c.writable:c).getWriter();a._write=async function(p,S,m){try{await h.ready,h.write(p).catch(()=>{}),m()}catch(R){m(R)}},a._final=async function(p){try{await h.ready,h.close().catch(()=>{}),i=p}catch(S){p(S)}}}let f=go(u)?u.readable:u;xne(f,()=>{if(i){let T=i;i=null,T()}})}if(E){if(Rh(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(f_(u)){let T=(go(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:p}=await T.read();if(!a.push(h))return;if(p){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new Dne),s=null,n=null,i=null,o===null?T(f):(o=T,Rh(u)&&Lne(u,f))},a}});var Gv=O((Yxe,p_)=>{"use strict";var Mne=globalThis.AbortController||wt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:vne,ERR_INVALID_ARG_TYPE:wu,ERR_MISSING_ARGS:Une,ERR_OUT_OF_RANGE:Bne},AbortError:Zn}=Nr(),{validateAbortSignal:No,validateInteger:Lv,validateObject:Oo}=el(),Fne=lt().Symbol("kWeak"),Gne=lt().Symbol("kResistStopPropagation"),{finished:Hne}=Ui(),Wne=E_(),{addAbortSignalNoValidate:kne}=Ru(),{isWritable:$ne,isNodeStream:Yne}=zn(),{deprecate:Vne}=Ur(),{ArrayPrototypePush:qne,Boolean:Xne,MathFloor:Dv,Number:jne,NumberIsNaN:zne,Promise:Pv,PromiseReject:xv,PromiseResolve:Kne,PromisePrototypeThen:Mv,Symbol:Uv}=lt(),Ah=Uv("kEmpty"),vv=Uv("kEof");function Jne(t,e){if(e!=null&&Oo(e,"options"),e?.signal!=null&&No(e.signal,"options.signal"),Yne(t)&&!$ne(t))throw new vne("stream",t,"must be writable");let r=Wne(this,t);return e!=null&&e.signal&&kne(e.signal,r),r}function mh(t,e){if(typeof t!="function")throw new wu("fn",["Function","AsyncFunction"],t);e!=null&&Oo(e,"options"),e?.signal!=null&&No(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Dv(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=Dv(e.highWaterMark)),Lv(r,"options.concurrency",1),Lv(n,"options.highWaterMark",0),n+=r,async function*(){let s=Ur().AbortSignalAny([e?.signal].filter(Xne)),o=this,a=[],l={signal:s},c,u,d=!1,E=0;function f(){d=!0,T()}function T(){E-=1,h()}function h(){u&&!d&&E<r&&a.length<n&&(u(),u=null)}async function p(){try{for await(let S of o){if(d)return;if(s.aborted)throw new Zn;try{if(S=t(S,l),S===Ah)continue;S=Kne(S)}catch(m){S=xv(m)}E+=1,Mv(S,T,f),a.push(S),c&&(c(),c=null),!d&&(a.length>=n||E>=r)&&await new Pv(m=>{u=m})}a.push(vv)}catch(S){let m=xv(S);Mv(m,T,f),a.push(m)}finally{d=!0,c&&(c(),c=null)}}p();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===vv)return;if(s.aborted)throw new Zn;S!==Ah&&(yield S),a.shift(),h()}await new Pv(S=>{c=S})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function Qne(t=void 0){return t!=null&&Oo(t,"options"),t?.signal!=null&&No(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Zn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function Bv(t,e=void 0){for await(let r of T_.call(this,t,e))return!0;return!1}async function Zne(t,e=void 0){if(typeof t!="function")throw new wu("fn",["Function","AsyncFunction"],t);return!await Bv.call(this,async(...r)=>!await t(...r),e)}async function eie(t,e){for await(let r of T_.call(this,t,e))return r}async function tie(t,e){if(typeof t!="function")throw new wu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Ah}for await(let n of mh.call(this,r,e));}function T_(t,e){if(typeof t!="function")throw new wu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Ah}return mh.call(this,r,e)}var h_=class extends Une{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function rie(t,e,r){var n;if(typeof t!="function")throw new wu("reducer",["Function","AsyncFunction"],t);r!=null&&Oo(r,"options"),r?.signal!=null&&No(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Zn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Hne(this.destroy(c)),c}let s=new Mne,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Fne]:this,[Gne]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Zn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new h_}finally{s.abort()}return e}async function nie(t){t!=null&&Oo(t,"options"),t?.signal!=null&&No(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Zn(void 0,{cause:t.signal.reason});qne(e,n)}return e}function iie(t,e){let r=mh.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function Fv(t){if(t=jne(t),zne(t))return 0;if(t<0)throw new Bne("number",">= 0",t);return t}function sie(t,e=void 0){return e!=null&&Oo(e,"options"),e?.signal!=null&&No(e.signal,"options.signal"),t=Fv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Zn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Zn;t--<=0&&(yield s)}}.call(this)}function oie(t,e=void 0){return e!=null&&Oo(e,"options"),e?.signal!=null&&No(e.signal,"options.signal"),t=Fv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Zn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Zn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}p_.exports.streamReturningOperators={asIndexedPairs:Vne(Qne,"readable.asIndexedPairs will be removed in a future version."),drop:sie,filter:T_,flatMap:iie,map:mh,take:oie,compose:Jne};p_.exports.promiseReturningOperators={every:Zne,forEach:tie,reduce:rie,toArray:nie,some:Bv,find:eie}});var S_=O((Vxe,Hv)=>{"use strict";var{ArrayPrototypePop:aie,Promise:lie}=lt(),{isIterable:cie,isNodeStream:uie,isWebStream:die}=zn(),{pipelineImpl:fie}=ph(),{finished:Eie}=Ui();R_();function hie(...t){return new lie((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!uie(s)&&!cie(s)&&!die(s)){let o=aie(t);n=o.signal,i=o.end}fie(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}Hv.exports={finished:Eie,pipeline:hie}});var R_=O((qxe,zv)=>{"use strict";var{Buffer:Tie}=require("buffer"),{ObjectDefineProperty:Gi,ObjectKeys:$v,ReflectApply:Yv}=lt(),{promisify:{custom:Vv}}=Ur(),{streamReturningOperators:Wv,promiseReturningOperators:kv}=Gv(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:qv}}=Nr(),pie=E_(),{setDefaultHighWaterMark:Sie,getDefaultHighWaterMark:Rie}=Au(),{pipeline:Xv}=ph(),{destroyer:Aie}=Ro(),jv=Ui(),A_=S_(),Lu=zn(),nt=zv.exports=ZE().Stream;nt.isDestroyed=Lu.isDestroyed;nt.isDisturbed=Lu.isDisturbed;nt.isErrored=Lu.isErrored;nt.isReadable=Lu.isReadable;nt.isWritable=Lu.isWritable;nt.Readable=gu();for(let t of $v(Wv)){let r=function(...n){if(new.target)throw qv();return nt.Readable.from(Yv(e,this,n))},e=Wv[t];Gi(r,"name",{__proto__:null,value:e.name}),Gi(r,"length",{__proto__:null,value:e.length}),Gi(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of $v(kv)){let r=function(...n){if(new.target)throw qv();return Yv(e,this,n)},e=kv[t];Gi(r,"name",{__proto__:null,value:e.name}),Gi(r,"length",{__proto__:null,value:e.length}),Gi(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}nt.Writable=fh();nt.Duplex=Qn();nt.Transform=e_();nt.PassThrough=r_();nt.pipeline=Xv;var{addAbortSignal:mie}=Ru();nt.addAbortSignal=mie;nt.finished=jv;nt.destroy=Aie;nt.compose=pie;nt.setDefaultHighWaterMark=Sie;nt.getDefaultHighWaterMark=Rie;Gi(nt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return A_}});Gi(Xv,Vv,{__proto__:null,enumerable:!0,get(){return A_.pipeline}});Gi(jv,Vv,{__proto__:null,enumerable:!0,get(){return A_.finished}});nt.Stream=nt;nt._isUint8Array=function(e){return e instanceof Uint8Array};nt._uint8ArrayToBuffer=function(e){return Tie.from(e.buffer,e.byteOffset,e.byteLength)}});var Kv=O((Xxe,Oe)=>{"use strict";var Gt=require("stream");if(Gt&&process.env.READABLE_STREAM==="disable"){let t=Gt.promises;Oe.exports._uint8ArrayToBuffer=Gt._uint8ArrayToBuffer,Oe.exports._isUint8Array=Gt._isUint8Array,Oe.exports.isDisturbed=Gt.isDisturbed,Oe.exports.isErrored=Gt.isErrored,Oe.exports.isReadable=Gt.isReadable,Oe.exports.Readable=Gt.Readable,Oe.exports.Writable=Gt.Writable,Oe.exports.Duplex=Gt.Duplex,Oe.exports.Transform=Gt.Transform,Oe.exports.PassThrough=Gt.PassThrough,Oe.exports.addAbortSignal=Gt.addAbortSignal,Oe.exports.finished=Gt.finished,Oe.exports.destroy=Gt.destroy,Oe.exports.pipeline=Gt.pipeline,Oe.exports.compose=Gt.compose,Object.defineProperty(Gt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Oe.exports.Stream=Gt.Stream}else{let t=R_(),e=S_(),r=t.Readable.destroy;Oe.exports=t.Readable,Oe.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Oe.exports._isUint8Array=t._isUint8Array,Oe.exports.isDisturbed=t.isDisturbed,Oe.exports.isErrored=t.isErrored,Oe.exports.isReadable=t.isReadable,Oe.exports.Readable=t.Readable,Oe.exports.Writable=t.Writable,Oe.exports.Duplex=t.Duplex,Oe.exports.Transform=t.Transform,Oe.exports.PassThrough=t.PassThrough,Oe.exports.addAbortSignal=t.addAbortSignal,Oe.exports.finished=t.finished,Oe.exports.destroy=t.destroy,Oe.exports.destroy=r,Oe.exports.pipeline=t.pipeline,Oe.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Oe.exports.Stream=t.Stream}Oe.exports.default=Oe.exports});var Qv=O((jxe,Jv)=>{function _ie(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}Jv.exports=_ie});var rU=O((zxe,tU)=>{var Zv=FE(),Iie=tm(),gie=rm(),eU=Zv?Zv.isConcatSpreadable:void 0;function Nie(t){return gie(t)||Iie(t)||!!(eU&&t&&t[eU])}tU.exports=Nie});var _h=O((Kxe,iU)=>{var Oie=Qv(),Cie=rU();function nU(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=Cie),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?nU(a,e-1,r,n,i):Oie(i,a):n||(i[i.length]=a)}return i}iU.exports=nU});var oU=O((Jxe,sU)=>{var yie=_h();function bie(t){var e=t==null?0:t.length;return e?yie(t,1):[]}sU.exports=bie});var Du=O((Qxe,aU)=>{var wie=cu(),Lie=wie(Object,"create");aU.exports=Lie});var uU=O((Zxe,cU)=>{var lU=Du();function Die(){this.__data__=lU?lU(null):{},this.size=0}cU.exports=Die});var fU=O((eMe,dU)=>{function Pie(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}dU.exports=Pie});var hU=O((tMe,EU)=>{var xie=Du(),Mie="__lodash_hash_undefined__",vie=Object.prototype,Uie=vie.hasOwnProperty;function Bie(t){var e=this.__data__;if(xie){var r=e[t];return r===Mie?void 0:r}return Uie.call(e,t)?e[t]:void 0}EU.exports=Bie});var pU=O((rMe,TU)=>{var Fie=Du(),Gie=Object.prototype,Hie=Gie.hasOwnProperty;function Wie(t){var e=this.__data__;return Fie?e[t]!==void 0:Hie.call(e,t)}TU.exports=Wie});var RU=O((nMe,SU)=>{var kie=Du(),$ie="__lodash_hash_undefined__";function Yie(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kie&&e===void 0?$ie:e,this}SU.exports=Yie});var mU=O((iMe,AU)=>{var Vie=uU(),qie=fU(),Xie=hU(),jie=pU(),zie=RU();function dl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dl.prototype.clear=Vie;dl.prototype.delete=qie;dl.prototype.get=Xie;dl.prototype.has=jie;dl.prototype.set=zie;AU.exports=dl});var IU=O((sMe,_U)=>{function Kie(){this.__data__=[],this.size=0}_U.exports=Kie});var Pu=O((oMe,gU)=>{var Jie=HE();function Qie(t,e){for(var r=t.length;r--;)if(Jie(t[r][0],e))return r;return-1}gU.exports=Qie});var OU=O((aMe,NU)=>{var Zie=Pu(),ese=Array.prototype,tse=ese.splice;function rse(t){var e=this.__data__,r=Zie(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():tse.call(e,r,1),--this.size,!0}NU.exports=rse});var yU=O((lMe,CU)=>{var nse=Pu();function ise(t){var e=this.__data__,r=nse(e,t);return r<0?void 0:e[r][1]}CU.exports=ise});var wU=O((cMe,bU)=>{var sse=Pu();function ose(t){return sse(this.__data__,t)>-1}bU.exports=ose});var DU=O((uMe,LU)=>{var ase=Pu();function lse(t,e){var r=this.__data__,n=ase(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}LU.exports=lse});var xU=O((dMe,PU)=>{var cse=IU(),use=OU(),dse=yU(),fse=wU(),Ese=DU();function fl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fl.prototype.clear=cse;fl.prototype.delete=use;fl.prototype.get=dse;fl.prototype.has=fse;fl.prototype.set=Ese;PU.exports=fl});var vU=O((fMe,MU)=>{var hse=cu(),Tse=ja(),pse=hse(Tse,"Map");MU.exports=pse});var FU=O((EMe,BU)=>{var UU=mU(),Sse=xU(),Rse=vU();function Ase(){this.size=0,this.__data__={hash:new UU,map:new(Rse||Sse),string:new UU}}BU.exports=Ase});var HU=O((hMe,GU)=>{function mse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}GU.exports=mse});var xu=O((TMe,WU)=>{var _se=HU();function Ise(t,e){var r=t.__data__;return _se(e)?r[typeof e=="string"?"string":"hash"]:r.map}WU.exports=Ise});var $U=O((pMe,kU)=>{var gse=xu();function Nse(t){var e=gse(this,t).delete(t);return this.size-=e?1:0,e}kU.exports=Nse});var VU=O((SMe,YU)=>{var Ose=xu();function Cse(t){return Ose(this,t).get(t)}YU.exports=Cse});var XU=O((RMe,qU)=>{var yse=xu();function bse(t){return yse(this,t).has(t)}qU.exports=bse});var zU=O((AMe,jU)=>{var wse=xu();function Lse(t,e){var r=wse(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}jU.exports=Lse});var JU=O((mMe,KU)=>{var Dse=FU(),Pse=$U(),xse=VU(),Mse=XU(),vse=zU();function El(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}El.prototype.clear=Dse;El.prototype.delete=Pse;El.prototype.get=xse;El.prototype.has=Mse;El.prototype.set=vse;KU.exports=El});var ZU=O((_Me,QU)=>{var Use="__lodash_hash_undefined__";function Bse(t){return this.__data__.set(t,Use),this}QU.exports=Bse});var tB=O((IMe,eB)=>{function Fse(t){return this.__data__.has(t)}eB.exports=Fse});var m_=O((gMe,rB)=>{var Gse=JU(),Hse=ZU(),Wse=tB();function Ih(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Gse;++e<r;)this.add(t[e])}Ih.prototype.add=Ih.prototype.push=Hse;Ih.prototype.has=Wse;rB.exports=Ih});var iB=O((NMe,nB)=>{function kse(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}nB.exports=kse});var oB=O((OMe,sB)=>{function $se(t){return t!==t}sB.exports=$se});var lB=O((CMe,aB)=>{function Yse(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}aB.exports=Yse});var uB=O((yMe,cB)=>{var Vse=iB(),qse=oB(),Xse=lB();function jse(t,e,r){return e===e?Xse(t,e,r):Vse(t,qse,r)}cB.exports=jse});var __=O((bMe,dB)=>{var zse=uB();function Kse(t,e){var r=t==null?0:t.length;return!!r&&zse(t,e,0)>-1}dB.exports=Kse});var I_=O((wMe,fB)=>{function Jse(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}fB.exports=Jse});var hB=O((LMe,EB)=>{function Qse(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}EB.exports=Qse});var g_=O((DMe,TB)=>{function Zse(t,e){return t.has(e)}TB.exports=Zse});var SB=O((PMe,pB)=>{var eoe=m_(),toe=__(),roe=I_(),noe=hB(),ioe=nm(),soe=g_(),ooe=200;function aoe(t,e,r,n){var i=-1,s=toe,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;r&&(e=noe(e,ioe(r))),n?(s=roe,o=!1):e.length>=ooe&&(s=soe,o=!1,e=new eoe(e));e:for(;++i<a;){var u=t[i],d=r==null?u:r(u);if(u=n||u!==0?u:0,o&&d===d){for(var E=c;E--;)if(e[E]===d)continue e;l.push(u)}else s(e,d,n)||l.push(u)}return l}pB.exports=aoe});var N_=O((xMe,RB)=>{var loe=WE(),coe=za();function uoe(t){return coe(t)&&loe(t)}RB.exports=uoe});var _B=O((MMe,mB)=>{var doe=SB(),foe=_h(),Eoe=GE(),AB=N_(),hoe=Eoe(function(t,e){return AB(t)?doe(t,foe(e,1,AB,!0)):[]});mB.exports=hoe});var gB=O((vMe,IB)=>{var Toe=cu(),poe=ja(),Soe=Toe(poe,"Set");IB.exports=Soe});var OB=O((UMe,NB)=>{function Roe(){}NB.exports=Roe});var O_=O((BMe,CB)=>{function Aoe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}CB.exports=Aoe});var bB=O((FMe,yB)=>{var C_=gB(),moe=OB(),_oe=O_(),Ioe=1/0,goe=C_&&1/_oe(new C_([,-0]))[1]==Ioe?function(t){return new C_(t)}:moe;yB.exports=goe});var LB=O((GMe,wB)=>{var Noe=m_(),Ooe=__(),Coe=I_(),yoe=g_(),boe=bB(),woe=O_(),Loe=200;function Doe(t,e,r){var n=-1,i=Ooe,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=Coe;else if(s>=Loe){var c=e?null:boe(t);if(c)return woe(c);o=!1,i=yoe,l=new Noe}else l=e?[]:a;e:for(;++n<s;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var E=l.length;E--;)if(l[E]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,r)||(l!==a&&l.push(d),a.push(u))}return a}wB.exports=Doe});var PB=O((HMe,DB)=>{var Poe=_h(),xoe=GE(),Moe=LB(),voe=N_(),Uoe=xoe(function(t){return Moe(Poe(t,1,voe,!0))});DB.exports=Uoe});var MB=O((WMe,xB)=>{function Boe(t,e){return function(r){return t(e(r))}}xB.exports=Boe});var UB=O((kMe,vB)=>{var Foe=MB(),Goe=Foe(Object.getPrototypeOf,Object);vB.exports=Goe});var GB=O(($Me,FB)=>{var Hoe=au(),Woe=UB(),koe=za(),$oe="[object Object]",Yoe=Function.prototype,Voe=Object.prototype,BB=Yoe.toString,qoe=Voe.hasOwnProperty,Xoe=BB.call(Object);function joe(t){if(!koe(t)||Hoe(t)!=$oe)return!1;var e=Woe(t);if(e===null)return!0;var r=qoe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&BB.call(r)==Xoe}FB.exports=joe});var XB=O((YMe,qB)=>{var HB=uA();qB.exports=Joe;var WB="\0SLASH"+Math.random()+"\0",kB="\0OPEN"+Math.random()+"\0",b_="\0CLOSE"+Math.random()+"\0",$B="\0COMMA"+Math.random()+"\0",YB="\0PERIOD"+Math.random()+"\0";function y_(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function zoe(t){return t.split("\\\\").join(WB).split("\\{").join(kB).split("\\}").join(b_).split("\\,").join($B).split("\\.").join(YB)}function Koe(t){return t.split(WB).join("\\").split(kB).join("{").split(b_).join("}").split($B).join(",").split(YB).join(".")}function VB(t){if(!t)return[""];var e=[],r=HB("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=VB(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Joe(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Mu(zoe(t),!0).map(Koe)):[]}function Qoe(t){return"{"+t+"}"}function Zoe(t){return/^-?0\d/.test(t)}function eae(t,e){return t<=e}function tae(t,e){return t>=e}function Mu(t,e){var r=[],n=HB("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Mu(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+b_+n.post,Mu(t)):[t];var E;if(u)E=n.body.split(/\.\./);else if(E=VB(n.body),E.length===1&&(E=Mu(E[0],!1).map(Qoe),E.length===1))return s.map(function(P){return n.pre+E[0]+P});var f;if(u){var T=y_(E[0]),h=y_(E[1]),p=Math.max(E[0].length,E[1].length),S=E.length==3?Math.abs(y_(E[2])):1,m=eae,R=h<T;R&&(S*=-1,m=tae);var A=E.some(Zoe);f=[];for(var g=T;m(g,h);g+=S){var w;if(c)w=String.fromCharCode(g),w==="\\"&&(w="");else if(w=String(g),A){var I=p-w.length;if(I>0){var D=new Array(I+1).join("0");g<0?w="-"+D+w.slice(1):w=D+w}}f.push(w)}}else{f=[];for(var b=0;b<E.length;b++)f.push.apply(f,Mu(E[b],!1))}for(var b=0;b<f.length;b++)for(var o=0;o<s.length;o++){var a=i+f[b]+s[o];(!e||u||a)&&r.push(a)}}return r}});var jB=O(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.assertValidPattern=void 0;var rae=1024*64,nae=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>rae)throw new TypeError("pattern is too long")};gh.assertValidPattern=nae});var KB=O(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.parseClass=void 0;var iae={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},vu=t=>t.replace(/[[\]\\-]/g,"\\$&"),sae=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),zB=t=>t.join(""),oae=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,d="";e:for(;s<t.length;){let h=t.charAt(s);if((h==="!"||h==="^")&&s===r+1){c=!0,s++;continue}if(h==="]"&&o&&!l){u=s+1;break}if(o=!0,h==="\\"&&!l){l=!0,s++;continue}if(h==="["&&!l){for(let[p,[S,m,R]]of Object.entries(iae))if(t.startsWith(p,s)){if(d)return["$.",!1,t.length-r,!0];s+=p.length,R?i.push(S):n.push(S),a=a||m;continue e}}if(l=!1,d){h>d?n.push(vu(d)+"-"+vu(h)):h===d&&n.push(vu(h)),d="",s++;continue}if(t.startsWith("-]",s+1)){n.push(vu(h+"-")),s+=2;continue}if(t.startsWith("-",s+1)){d=h,s+=2;continue}n.push(vu(h)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let h=n[0].length===2?n[0].slice(-1):n[0];return[sae(h),!1,u-r,!1]}let E="["+(c?"^":"")+zB(n)+"]",f="["+(c?"":"^")+zB(i)+"]";return[n.length&&i.length?"("+E+"|"+f+")":n.length?E:f,a,u-r,!0]};Nh.parseClass=oae});var Ch=O(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});Oh.unescape=void 0;var aae=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Oh.unescape=aae});var D_=O(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.AST=void 0;var lae=KB(),yh=Ch(),cae=new Set(["!","?","+","*","@"]),JB=t=>cae.has(t),uae="(?!(?:^|/)\\.\\.?(?:$|/))",bh="(?!\\.)",dae=new Set(["[","."]),fae=new Set(["..","."]),Eae=new Set("().*{}+?[]^$\\!"),hae=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),L_="[^/]",QB=L_+"*?",ZB=L_+"+?",w_=class t{type;#e;#t;#s=!1;#n=[];#o;#m;#c;#d=!1;#a;#l;#i=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#o=r,this.#e=this.#o?this.#o.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#c=this.#e===this?[]:this.#e.#c,e==="!"&&!this.#e.#d&&this.#c.push(this),this.#m=this.#o?this.#o.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#p(){if(this!==this.#e)throw new Error("should only call on root");if(this.#d)return this;this.toString(),this.#d=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let r=e,n=r.#o;for(;n;){for(let i=r.#m+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#o}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#o===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#d&&this.#o?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#o?.isStart())return!1;if(this.#m===0)return!0;let e=this.#o;for(let r=0;r<this.#m;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let e=this.#o?this.#o.#n.length:0;return this.#m===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#S(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let f=n,T="";for(;f<e.length;){let h=e.charAt(f++);if(s||h==="\\"){s=!s,T+=h;continue}if(o){f===a+1?(h==="^"||h==="!")&&(l=!0):h==="]"&&!(f===a+2&&l)&&(o=!1),T+=h;continue}else if(h==="["){o=!0,a=f,l=!1,T+=h;continue}if(!i.noext&&JB(h)&&e.charAt(f)==="("){r.push(T),T="";let p=new t(h,r);f=t.#S(e,p,f,i),r.push(p);continue}T+=h}return r.push(T),f}let c=n+1,u=new t(null,r),d=[],E="";for(;c<e.length;){let f=e.charAt(c++);if(s||f==="\\"){s=!s,E+=f;continue}if(o){c===a+1?(f==="^"||f==="!")&&(l=!0):f==="]"&&!(c===a+2&&l)&&(o=!1),E+=f;continue}else if(f==="["){o=!0,a=c,l=!1,E+=f;continue}if(JB(f)&&e.charAt(c)==="("){u.push(E),E="";let T=new t(f,u);u.push(T),c=t.#S(e,T,c,i);continue}if(f==="|"){u.push(E),E="",d.push(u),u=new t(null,r);continue}if(f===")")return E===""&&r.#n.length===0&&(r.#i=!0),u.push(E),E="",r.push(...d,u),c;E+=f}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],c}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#S(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#a}toRegExpSource(e){let r=e??!!this.#a.dot;if(this.#e===this&&this.#p(),!this.type){let l=this.isStart()&&this.isEnd(),c=this.#n.map(f=>{let[T,h,p,S]=typeof f=="string"?t.#f(f,this.#t,l):f.toRegExpSource(e);return this.#t=this.#t||p,this.#s=this.#s||S,T}).join(""),u="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&fae.has(this.#n[0]))){let T=dae,h=r&&T.has(c.charAt(0))||c.startsWith("\\.")&&T.has(c.charAt(2))||c.startsWith("\\.\\.")&&T.has(c.charAt(4)),p=!r&&!e&&T.has(c.charAt(0));u=h?uae:p?bh:""}let d="";return this.isEnd()&&this.#e.#d&&this.#o?.type==="!"&&(d="(?:$|\\/)"),[u+c+d,(0,yh.unescape)(c),this.#t=!!this.#t,this.#s]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#E(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,(0,yh.unescape)(this.toString()),!1,!1]}let o=!n||e||r||!bh?"":this.#E(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#i)a=(this.isStart()&&!r?bh:"")+ZB;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?bh:"")+QB+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+l}return[a,(0,yh.unescape)(s),this.#t=!!this.#t,this.#s]}#E(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#f(e,r,n=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(i){i=!1,s+=(Eae.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[c,u,d,E]=(0,lae.parseClass)(e,a);if(d){s+=c,o=o||u,a+=d-1,r=r||E;continue}}if(l==="*"){n&&e==="*"?s+=ZB:s+=QB,r=!0;continue}if(l==="?"){s+=L_,r=!0;continue}s+=hae(l)}return[s,(0,yh.unescape)(e),!!r,o]}};wh.AST=w_});var P_=O(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.escape=void 0;var Tae=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");Lh.escape=Tae});var Ls=O(Q=>{"use strict";var pae=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Q,"__esModule",{value:!0});Q.unescape=Q.escape=Q.AST=Q.Minimatch=Q.match=Q.makeRe=Q.braceExpand=Q.defaults=Q.filter=Q.GLOBSTAR=Q.sep=Q.minimatch=void 0;var Sae=pae(XB()),Dh=jB(),rF=D_(),Rae=P_(),Aae=Ch(),mae=(t,e,r={})=>((0,Dh.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Co(e,r).match(t));Q.minimatch=mae;var _ae=/^\*+([^+@!?\*\[\(]*)$/,Iae=t=>e=>!e.startsWith(".")&&e.endsWith(t),gae=t=>e=>e.endsWith(t),Nae=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),Oae=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),Cae=/^\*+\.\*+$/,yae=t=>!t.startsWith(".")&&t.includes("."),bae=t=>t!=="."&&t!==".."&&t.includes("."),wae=/^\.\*+$/,Lae=t=>t!=="."&&t!==".."&&t.startsWith("."),Dae=/^\*+$/,Pae=t=>t.length!==0&&!t.startsWith("."),xae=t=>t.length!==0&&t!=="."&&t!=="..",Mae=/^\?+([^+@!?\*\[\(]*)?$/,vae=([t,e=""])=>{let r=nF([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Uae=([t,e=""])=>{let r=iF([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Bae=([t,e=""])=>{let r=iF([t]);return e?n=>r(n)&&n.endsWith(e):r},Fae=([t,e=""])=>{let r=nF([t]);return e?n=>r(n)&&n.endsWith(e):r},nF=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},iF=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},sF=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",eF={win32:{sep:"\\"},posix:{sep:"/"}};Q.sep=sF==="win32"?eF.win32.sep:eF.posix.sep;Q.minimatch.sep=Q.sep;Q.GLOBSTAR=Symbol("globstar **");Q.minimatch.GLOBSTAR=Q.GLOBSTAR;var Gae="[^/]",Hae=Gae+"*?",Wae="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",kae="(?:(?!(?:\\/|^)\\.).)*?",$ae=(t,e={})=>r=>(0,Q.minimatch)(r,t,e);Q.filter=$ae;Q.minimatch.filter=Q.filter;var En=(t,e={})=>Object.assign({},t,e),Yae=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Q.minimatch;let e=Q.minimatch;return Object.assign((n,i,s={})=>e(n,i,En(t,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,En(t,s))}static defaults(i){return e.defaults(En(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,En(t,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,En(t,s))}},unescape:(n,i={})=>e.unescape(n,En(t,i)),escape:(n,i={})=>e.escape(n,En(t,i)),filter:(n,i={})=>e.filter(n,En(t,i)),defaults:n=>e.defaults(En(t,n)),makeRe:(n,i={})=>e.makeRe(n,En(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,En(t,i)),match:(n,i,s={})=>e.match(n,i,En(t,s)),sep:e.sep,GLOBSTAR:Q.GLOBSTAR})};Q.defaults=Yae;Q.minimatch.defaults=Q.defaults;var Vae=(t,e={})=>((0,Dh.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,Sae.default)(t));Q.braceExpand=Vae;Q.minimatch.braceExpand=Q.braceExpand;var qae=(t,e={})=>new Co(t,e).makeRe();Q.makeRe=qae;Q.minimatch.makeRe=Q.makeRe;var Xae=(t,e,r={})=>{let n=new Co(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};Q.match=Xae;Q.minimatch.match=Q.match;var tF=/[?*]|[+@!]\(.*?\)|\[|\]/,jae=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Co=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,Dh.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||sF,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!tF.test(s[2]))&&!tF.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let o=i;for(;n[o+1]==="**";)o++;o>i&&n.splice(i+1,o-i);let a=n[i+1],l=n[i+2],c=n[i+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",e.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let a=n[o];o===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let o=n[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])o.push(a==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])o.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])o.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),i++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let h=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),p=!h&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),S=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),m=!S&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),R=p?3:h?0:void 0,A=m?3:S?0:void 0;if(typeof R=="number"&&typeof A=="number"){let[g,w]=[e[R],r[A]];g.toLowerCase()===w.toLowerCase()&&(r[A]=g,A>R?r=r.slice(A):R>A&&(e=e.slice(R)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],d=e[o];if(this.debug(r,u,d),u===!1)return!1;if(u===Q.GLOBSTAR){this.debug("GLOBSTAR",[r,u,d]);var E=o,f=a+1;if(f===c){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;E<l;){var T=e[E];if(this.debug(`
globstar while`,e,E,r,f,T),this.matchOne(e.slice(E),r.slice(f),n))return this.debug("globstar found match!",E,l,T),!0;if(T==="."||T===".."||!i.dot&&T.charAt(0)==="."){this.debug("dot detected!",e,E,r,f);break}this.debug("globstar swallow a segment, and continue"),E++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,E,r,f),E===l))}let h;if(typeof u=="string"?(h=d===u,this.debug("string match",u,d,h)):(h=u.test(d),this.debug("pattern match",u,d,h)),!h)return!1}if(o===l&&a===c)return!0;if(o===l)return n;if(a===c)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,Q.braceExpand)(this.pattern,this.options)}parse(e){(0,Dh.assertValidPattern)(e);let r=this.options;if(e==="**")return Q.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(Dae))?i=r.dot?xae:Pae:(n=e.match(_ae))?i=(r.nocase?r.dot?Oae:Nae:r.dot?gae:Iae)(n[1]):(n=e.match(Mae))?i=(r.nocase?r.dot?Uae:vae:r.dot?Bae:Fae)(n):(n=e.match(Cae))?i=r.dot?bae:yae:(n=e.match(wae))&&(i=Lae);let s=rF.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Hae:r.dot?Wae:kae,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let d of u.flags.split(""))i.add(d);return typeof u=="string"?jae(u):u===Q.GLOBSTAR?Q.GLOBSTAR:u._src});return c.forEach((u,d)=>{let E=c[d+1],f=c[d-1];u!==Q.GLOBSTAR||f===Q.GLOBSTAR||(f===void 0?E!==void 0&&E!==Q.GLOBSTAR?c[d+1]="(?:\\/|"+n+"\\/)?"+E:c[d]=n:E===void 0?c[d-1]=f+"(?:\\/|"+n+")?":E!==Q.GLOBSTAR&&(c[d-1]=f+"(?:\\/|\\/"+n+"\\/)"+E,c[d+1]=Q.GLOBSTAR))}),c.filter(u=>u!==Q.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let l=s[a],c=i;if(n.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Q.minimatch.defaults(e).Minimatch}};Q.Minimatch=Co;var zae=D_();Object.defineProperty(Q,"AST",{enumerable:!0,get:function(){return zae.AST}});var Kae=P_();Object.defineProperty(Q,"escape",{enumerable:!0,get:function(){return Kae.escape}});var Jae=Ch();Object.defineProperty(Q,"unescape",{enumerable:!0,get:function(){return Jae.unescape}});Q.minimatch.AST=rF.AST;Q.minimatch.Minimatch=Co;Q.minimatch.escape=Rae.escape;Q.minimatch.unescape=Aae.unescape});var uF=O(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.LRUCache=void 0;var hl=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,aF=new Set,x_=typeof process=="object"&&process?process:{},lF=(t,e,r,n)=>{typeof x_.emitWarning=="function"?x_.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},Ph=globalThis.AbortController,oF=globalThis.AbortSignal;if(typeof Ph>"u"){oF=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},Ph=class{constructor(){e()}signal=new oF;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=x_.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,lF("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var Qae=t=>!aF.has(t),Ds=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),cF=t=>Ds(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Tl:null:null,Tl=class extends Array{constructor(e){super(e),this.fill(0)}},M_=class t{heap;length;static#e=!1;static create(e){let r=cF(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},v_=class t{#e;#t;#s;#n;#o;#m;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#d;#a;#l;#i;#p;#S;#E;#f;#g;#T;#N;#O;#A;#_;#I;#h;static unsafeExposeInternals(e){return{starts:e.#O,ttls:e.#A,sizes:e.#N,keyMap:e.#a,keyList:e.#l,valList:e.#i,next:e.#p,prev:e.#S,get head(){return e.#E},get tail(){return e.#f},free:e.#g,isBackgroundFetch:r=>e.#u(r),backgroundFetch:(r,n,i,s)=>e.#F(r,n,i,s),moveToTail:r=>e.#H(r),indexes:r=>e.#y(r),rindexes:r=>e.#b(r),isStale:r=>e.#R(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#d}get size(){return this.#c}get fetchMethod(){return this.#o}get memoMethod(){return this.#m}get dispose(){return this.#s}get disposeAfter(){return this.#n}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:d,noUpdateTTL:E,maxSize:f=0,maxEntrySize:T=0,sizeCalculation:h,fetchMethod:p,memoMethod:S,noDeleteOnFetchRejection:m,noDeleteOnStaleGet:R,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:g,ignoreFetchAbort:w}=e;if(r!==0&&!Ds(r))throw new TypeError("max option must be a nonnegative integer");let I=r?cF(r):Array;if(!I)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=f,this.maxEntrySize=T||this.#t,this.sizeCalculation=h,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#m=S,p!==void 0&&typeof p!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=p,this.#I=!!p,this.#a=new Map,this.#l=new Array(r).fill(void 0),this.#i=new Array(r).fill(void 0),this.#p=new I(r),this.#S=new I(r),this.#E=0,this.#f=0,this.#g=M_.create(r),this.#c=0,this.#d=0,typeof c=="function"&&(this.#s=c),typeof u=="function"?(this.#n=u,this.#T=[]):(this.#n=void 0,this.#T=void 0),this.#_=!!this.#s,this.#h=!!this.#n,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!E,this.noDeleteOnFetchRejection=!!m,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!g,this.ignoreFetchAbort=!!w,this.maxEntrySize!==0){if(this.#t!==0&&!Ds(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Ds(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#L()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!R,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Ds(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Ds(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#w()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let D="LRU_CACHE_UNBOUNDED";Qae(D)&&(aF.add(D),lF("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#w(){let e=new Tl(this.#e),r=new Tl(this.#e);this.#A=e,this.#O=r,this.#P=(s,o,a=hl.now())=>{if(r[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#R(s)&&this.#D(this.#l[s],"expire")},o+1);l.unref&&l.unref()}},this.#C=s=>{r[s]=e[s]!==0?hl.now():0},this.#r=(s,o)=>{if(e[o]){let a=e[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=n||i();let c=s.now-l;s.remainingTTL=a-c}};let n=0,i=()=>{let s=hl.now();if(this.ttlResolution>0){n=s;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#a.get(s);if(o===void 0)return 0;let a=e[o],l=r[o];if(!a||!l)return 1/0;let c=(n||i())-l;return a-c},this.#R=s=>{let o=r[s],a=e[s];return!!a&&!!o&&(n||i())-o>a}}#C=()=>{};#r=()=>{};#P=()=>{};#R=()=>!1;#L(){let e=new Tl(this.#e);this.#d=0,this.#N=e,this.#x=r=>{this.#d-=e[r],e[r]=0},this.#v=(r,n,i,s)=>{if(this.#u(n))return 0;if(!Ds(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!Ds(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#M=(r,n,i)=>{if(e[r]=n,this.#t){let s=this.#t-e[r];for(;this.#d>s;)this.#B(!0)}this.#d+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#d)}}#x=e=>{};#M=(e,r,n)=>{};#v=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#y({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#f;!(!this.#U(r)||((e||!this.#R(r))&&(yield r),r===this.#E));)r=this.#S[r]}*#b({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#E;!(!this.#U(r)||((e||!this.#R(r))&&(yield r),r===this.#f));)r=this.#p[r]}#U(e){return e!==void 0&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#y())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*rentries(){for(let e of this.#b())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*keys(){for(let e of this.#y()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*rkeys(){for(let e of this.#b()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*values(){for(let e of this.#y())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}*rvalues(){for(let e of this.#b())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#y()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.#l[n],this))return this.get(this.#l[n],r)}}forEach(e,r=this){for(let n of this.#y()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}rforEach(e,r=this){for(let n of this.#b()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}purgeStale(){let e=!1;for(let r of this.#b({allowStale:!0}))this.#R(r)&&(this.#D(this.#l[r],"expire"),e=!0);return e}info(e){let r=this.#a.get(e);if(r===void 0)return;let n=this.#i[r],i=this.#u(n)?n.__staleWhileFetching:n;if(i===void 0)return;let s={value:i};if(this.#A&&this.#O){let o=this.#A[r],a=this.#O[r];if(o&&a){let l=o-(hl.now()-a);s.ttl=l,s.start=Date.now()}}return this.#N&&(s.size=this.#N[r]),s}dump(){let e=[];for(let r of this.#y({allowStale:!0})){let n=this.#l[r],i=this.#i[r],s=this.#u(i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;let o={value:s};if(this.#A&&this.#O){o.ttl=this.#A[r];let a=hl.now()-this.#O[r];o.start=Math.floor(Date.now()-a)}this.#N&&(o.size=this.#N[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=hl.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n,{noUpdateTTL:c=this.noUpdateTTL}=n,u=this.#v(e,r,n.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let d=this.#c===0?void 0:this.#a.get(e);if(d===void 0)d=this.#c===0?this.#f:this.#g.length!==0?this.#g.pop():this.#c===this.#e?this.#B(!1):this.#c,this.#l[d]=e,this.#i[d]=r,this.#a.set(e,d),this.#p[this.#f]=d,this.#S[d]=this.#f,this.#f=d,this.#c++,this.#M(d,u,l),l&&(l.set="add"),c=!1;else{this.#H(d);let E=this.#i[d];if(r!==E){if(this.#I&&this.#u(E)){E.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:f}=E;f!==void 0&&!o&&(this.#_&&this.#s?.(f,e,"set"),this.#h&&this.#T?.push([f,e,"set"]))}else o||(this.#_&&this.#s?.(E,e,"set"),this.#h&&this.#T?.push([E,e,"set"]));if(this.#x(d),this.#M(d,u,l),this.#i[d]=r,l){l.set="replace";let f=E&&this.#u(E)?E.__staleWhileFetching:E;f!==void 0&&(l.oldValue=f)}}else l&&(l.set="update")}if(i!==0&&!this.#A&&this.#w(),this.#A&&(c||this.#P(d,i,s),l&&this.#r(l,d)),!o&&this.#h&&this.#T){let E=this.#T,f;for(;f=E?.shift();)this.#n?.(...f)}return this}pop(){try{for(;this.#c;){let e=this.#i[this.#E];if(this.#B(!0),this.#u(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#h&&this.#T){let e=this.#T,r;for(;r=e?.shift();)this.#n?.(...r)}}}#B(e){let r=this.#E,n=this.#l[r],i=this.#i[r];return this.#I&&this.#u(i)?i.__abortController.abort(new Error("evicted")):(this.#_||this.#h)&&(this.#_&&this.#s?.(i,n,"evict"),this.#h&&this.#T?.push([i,n,"evict"])),this.#x(r),e&&(this.#l[r]=void 0,this.#i[r]=void 0,this.#g.push(r)),this.#c===1?(this.#E=this.#f=0,this.#g.length=0):this.#E=this.#p[r],this.#a.delete(n),this.#c--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=this.#a.get(e);if(s!==void 0){let o=this.#i[s];if(this.#u(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#R(s))i&&(i.has="stale",this.#r(i,s));else return n&&this.#C(s),i&&(i.has="hit",this.#r(i,s)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i===void 0||!n&&this.#R(i))return;let s=this.#i[i];return this.#u(s)?s.__staleWhileFetching:s}#F(e,r,n,i){let s=r===void 0?void 0:this.#i[r];if(this.#u(s))return s;let o=new Ph,{signal:a}=n;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:n,context:i},c=(h,p=!1)=>{let{aborted:S}=o.signal,m=n.ignoreFetchAbort&&h!==void 0;if(n.status&&(S&&!p?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,m&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),S&&!m&&!p)return d(o.signal.reason);let R=f;return this.#i[r]===f&&(h===void 0?R.__staleWhileFetching?this.#i[r]=R.__staleWhileFetching:this.#D(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,h,l.options))),h},u=h=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=h),d(h)),d=h=>{let{aborted:p}=o.signal,S=p&&n.allowStaleOnFetchAbort,m=S||n.allowStaleOnFetchRejection,R=m||n.noDeleteOnFetchRejection,A=f;if(this.#i[r]===f&&(!R||A.__staleWhileFetching===void 0?this.#D(e,"fetch"):S||(this.#i[r]=A.__staleWhileFetching)),m)return n.status&&A.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),A.__staleWhileFetching;if(A.__returned===A)throw h},E=(h,p)=>{let S=this.#o?.(e,s,l);S&&S instanceof Promise&&S.then(m=>h(m===void 0?void 0:m),p),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(h(void 0),n.allowStaleOnFetchAbort&&(h=m=>c(m,!0)))})};n.status&&(n.status.fetchDispatched=!0);let f=new Promise(E).then(c,u),T=Object.assign(f,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,T,{...l.options,status:void 0}),r=this.#a.get(e)):this.#i[r]=T,T}#u(e){if(!this.#I)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Ph}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:E=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:T=this.allowStaleOnFetchAbort,context:h,forceRefresh:p=!1,status:S,signal:m}=r;if(!this.#I)return S&&(S.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:S});let R={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:T,ignoreFetchAbort:f,status:S,signal:m},A=this.#a.get(e);if(A===void 0){S&&(S.fetch="miss");let g=this.#F(e,A,R,h);return g.__returned=g}else{let g=this.#i[A];if(this.#u(g)){let P=n&&g.__staleWhileFetching!==void 0;return S&&(S.fetch="inflight",P&&(S.returnedStale=!0)),P?g.__staleWhileFetching:g.__returned=g}let w=this.#R(A);if(!p&&!w)return S&&(S.fetch="hit"),this.#H(A),i&&this.#C(A),S&&this.#r(S,A),g;let I=this.#F(e,A,R,h),b=I.__staleWhileFetching!==void 0&&n;return S&&(S.fetch=w?"stale":"refresh",b&&w&&(S.returnedStale=!0)),b?I.__staleWhileFetching:I.__returned=I}}async forceFetch(e,r={}){let n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){let n=this.#m;if(!n)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:s,...o}=r,a=this.get(e,o);if(!s&&a!==void 0)return a;let l=n(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#a.get(e);if(a!==void 0){let l=this.#i[a],c=this.#u(l);return o&&this.#r(o,a),this.#R(a)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(this.#H(a),i&&this.#C(a),l))}else o&&(o.get="miss")}#G(e,r){this.#S[r]=e,this.#p[e]=r}#H(e){e!==this.#f&&(e===this.#E?this.#E=this.#p[e]:this.#G(this.#S[e],this.#p[e]),this.#G(this.#f,e),this.#f=e)}delete(e){return this.#D(e,"delete")}#D(e,r){let n=!1;if(this.#c!==0){let i=this.#a.get(e);if(i!==void 0)if(n=!0,this.#c===1)this.#W(r);else{this.#x(i);let s=this.#i[i];if(this.#u(s)?s.__abortController.abort(new Error("deleted")):(this.#_||this.#h)&&(this.#_&&this.#s?.(s,e,r),this.#h&&this.#T?.push([s,e,r])),this.#a.delete(e),this.#l[i]=void 0,this.#i[i]=void 0,i===this.#f)this.#f=this.#S[i];else if(i===this.#E)this.#E=this.#p[i];else{let o=this.#S[i];this.#p[o]=this.#p[i];let a=this.#p[i];this.#S[a]=this.#S[i]}this.#c--,this.#g.push(i)}}if(this.#h&&this.#T?.length){let i=this.#T,s;for(;s=i?.shift();)this.#n?.(...s)}return n}clear(){return this.#W("delete")}#W(e){for(let r of this.#b({allowStale:!0})){let n=this.#i[r];if(this.#u(n))n.__abortController.abort(new Error("deleted"));else{let i=this.#l[r];this.#_&&this.#s?.(n,i,e),this.#h&&this.#T?.push([n,i,e])}}if(this.#a.clear(),this.#i.fill(void 0),this.#l.fill(void 0),this.#A&&this.#O&&(this.#A.fill(0),this.#O.fill(0)),this.#N&&this.#N.fill(0),this.#E=0,this.#f=0,this.#g.length=0,this.#d=0,this.#c=0,this.#h&&this.#T){let r=this.#T,n;for(;n=r?.shift();)this.#n?.(...n)}}};xh.LRUCache=v_});var _F=O(mF=>{"use strict";var dF=typeof process=="object"&&process?process:{stdout:null,stderr:null},Zae=require("events"),fF=require("stream"),ele=require("string_decoder"),EF=ele.StringDecoder,Hi=Symbol("EOF"),Wi=Symbol("maybeEmitEnd"),Ps=Symbol("emittedEnd"),Mh=Symbol("emittingEnd"),Uu=Symbol("emittedError"),vh=Symbol("closed"),hF=Symbol("read"),Uh=Symbol("flush"),TF=Symbol("flushChunk"),Xr=Symbol("encoding"),ki=Symbol("decoder"),Bh=Symbol("flowing"),Bu=Symbol("paused"),pl=Symbol("resume"),Lt=Symbol("buffer"),ei=Symbol("pipes"),Zt=Symbol("bufferLength"),U_=Symbol("bufferPush"),B_=Symbol("bufferShift"),Er=Symbol("objectMode"),Dt=Symbol("destroyed"),F_=Symbol("error"),G_=Symbol("emitData"),pF=Symbol("emitEnd"),H_=Symbol("emitEnd2"),$i=Symbol("async"),W_=Symbol("abort"),Fh=Symbol("aborted"),yo=Symbol("signal"),Fu=t=>Promise.resolve().then(t),AF=global._MP_NO_ITERATOR_SYMBOLS_!=="1",SF=AF&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),RF=AF&&Symbol.iterator||Symbol("iterator not implemented"),tle=t=>t==="end"||t==="finish"||t==="prefinish",rle=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,nle=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Gh=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[pl](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},k_=class extends Gh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},$_=class t extends fF{constructor(e){super(),this[Bh]=!1,this[Bu]=!1,this[ei]=[],this[Lt]=[],this[Er]=e&&e.objectMode||!1,this[Er]?this[Xr]=null:this[Xr]=e&&e.encoding||null,this[Xr]==="buffer"&&(this[Xr]=null),this[$i]=e&&!!e.async||!1,this[ki]=this[Xr]?new EF(this[Xr]):null,this[Hi]=!1,this[Ps]=!1,this[Mh]=!1,this[vh]=!1,this[Uu]=null,this.writable=!0,this.readable=!0,this[Zt]=0,this[Dt]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Lt]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ei]}),this[yo]=e&&e.signal,this[Fh]=!1,this[yo]&&(this[yo].addEventListener("abort",()=>this[W_]()),this[yo].aborted&&this[W_]())}get bufferLength(){return this[Zt]}get encoding(){return this[Xr]}set encoding(e){if(this[Er])throw new Error("cannot set encoding in objectMode");if(this[Xr]&&e!==this[Xr]&&(this[ki]&&this[ki].lastNeed||this[Zt]))throw new Error("cannot change encoding");this[Xr]!==e&&(this[ki]=e?new EF(e):null,this[Lt].length&&(this[Lt]=this[Lt].map(r=>this[ki].write(r)))),this[Xr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[Er]}set objectMode(e){this[Er]=this[Er]||!!e}get async(){return this[$i]}set async(e){this[$i]=this[$i]||!!e}[W_](){this[Fh]=!0,this.emit("abort",this[yo].reason),this.destroy(this[yo].reason)}get aborted(){return this[Fh]}set aborted(e){}write(e,r,n){if(this[Fh])return!1;if(this[Hi])throw new Error("write after end");if(this[Dt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[$i]?Fu:s=>s();return!this[Er]&&!Buffer.isBuffer(e)&&(nle(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):rle(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[Er]?(this.flowing&&this[Zt]!==0&&this[Uh](!0),this.flowing?this.emit("data",e):this[U_](e),this[Zt]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Xr]&&!this[ki].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Xr]&&(e=this[ki].write(e)),this.flowing&&this[Zt]!==0&&this[Uh](!0),this.flowing?this.emit("data",e):this[U_](e),this[Zt]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[Zt]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Dt])return null;if(this[Zt]===0||e===0||e>this[Zt])return this[Wi](),null;this[Er]&&(e=null),this[Lt].length>1&&!this[Er]&&(this.encoding?this[Lt]=[this[Lt].join("")]:this[Lt]=[Buffer.concat(this[Lt],this[Zt])]);let r=this[hF](e||null,this[Lt][0]);return this[Wi](),r}[hF](e,r){return e===r.length||e===null?this[B_]():(this[Lt][0]=r.slice(e),r=r.slice(0,e),this[Zt]-=e),this.emit("data",r),!this[Lt].length&&!this[Hi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[Hi]=!0,this.writable=!1,(this.flowing||!this[Bu])&&this[Wi](),this}[pl](){this[Dt]||(this[Bu]=!1,this[Bh]=!0,this.emit("resume"),this[Lt].length?this[Uh]():this[Hi]?this[Wi]():this.emit("drain"))}resume(){return this[pl]()}pause(){this[Bh]=!1,this[Bu]=!0}get destroyed(){return this[Dt]}get flowing(){return this[Bh]}get paused(){return this[Bu]}[U_](e){this[Er]?this[Zt]+=1:this[Zt]+=e.length,this[Lt].push(e)}[B_](){return this[Er]?this[Zt]-=1:this[Zt]-=this[Lt][0].length,this[Lt].shift()}[Uh](e){do;while(this[TF](this[B_]())&&this[Lt].length);!e&&!this[Lt].length&&!this[Hi]&&this.emit("drain")}[TF](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[Dt])return;let n=this[Ps];return r=r||{},e===dF.stdout||e===dF.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[ei].push(r.proxyErrors?new k_(this,e,r):new Gh(this,e,r)),this[$i]?Fu(()=>this[pl]()):this[pl]()),e}unpipe(e){let r=this[ei].find(n=>n.dest===e);r&&(this[ei].splice(this[ei].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[ei].length&&!this.flowing?this[pl]():e==="readable"&&this[Zt]!==0?super.emit("readable"):tle(e)&&this[Ps]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Uu]&&(this[$i]?Fu(()=>r.call(this,this[Uu])):r.call(this,this[Uu])),n}get emittedEnd(){return this[Ps]}[Wi](){!this[Mh]&&!this[Ps]&&!this[Dt]&&this[Lt].length===0&&this[Hi]&&(this[Mh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[vh]&&this.emit("close"),this[Mh]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Dt&&this[Dt])return;if(e==="data")return!this[Er]&&!r?!1:this[$i]?Fu(()=>this[G_](r)):this[G_](r);if(e==="end")return this[pF]();if(e==="close"){if(this[vh]=!0,!this[Ps]&&!this[Dt])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Uu]=r,super.emit(F_,r);let s=!this[yo]||this.listeners("error").length?super.emit("error",r):!1;return this[Wi](),s}else if(e==="resume"){let s=super.emit("resume");return this[Wi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[Wi](),i}[G_](e){for(let n of this[ei])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[Wi](),r}[pF](){this[Ps]||(this[Ps]=!0,this.readable=!1,this[$i]?Fu(()=>this[H_]()):this[H_]())}[H_](){if(this[ki]){let r=this[ki].end();if(r){for(let n of this[ei])n.dest.write(r);super.emit("data",r)}}for(let r of this[ei])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[Er]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[Er]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[Er]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[Er]?Promise.reject(new Error("cannot concat in objectMode")):this[Xr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Dt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[SF](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Hi])return r();let s=null,o=null,a=d=>{this.removeListener("data",l),this.removeListener("end",c),this.removeListener(Dt,u),r(),o(d)},l=d=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(Dt,u),this.pause(),s({value:d,done:!!this[Hi]})},c=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(Dt,u),r(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,E)=>{o=E,s=d,this.once(Dt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[SF](){return this}}}[RF](){let e=!1,r=()=>(this.pause(),this.removeListener(F_,r),this.removeListener(Dt,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(F_,r),this.once(Dt,r),{next:n,throw:r,return:r,[RF](){return this}}}destroy(e){return this[Dt]?(e?this.emit("error",e):this.emit(Dt),this):(this[Dt]=!0,this[Lt].length=0,this[Zt]=0,typeof this.close=="function"&&!this[vh]&&this.close(),e?this.emit("error",e):this.emit(Dt),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof fF||e instanceof Zae&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};mF.Minipass=$_});var UF=O(Xe=>{"use strict";var ile=Xe&&Xe.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),sle=Xe&&Xe.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),ole=Xe&&Xe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ile(e,t,r);return sle(e,t),e};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PathScurry=Xe.Path=Xe.PathScurryDarwin=Xe.PathScurryPosix=Xe.PathScurryWin32=Xe.PathScurryBase=Xe.PathPosix=Xe.PathWin32=Xe.PathBase=Xe.ChildrenCache=Xe.ResolveCache=void 0;var yF=uF(),Yh=require("node:path"),ale=require("node:url"),Hu=require("fs"),lle=ole(require("node:fs")),cle=Hu.realpathSync.native,Hh=require("node:fs/promises"),IF=_F(),Wu={lstatSync:Hu.lstatSync,readdir:Hu.readdir,readdirSync:Hu.readdirSync,readlinkSync:Hu.readlinkSync,realpathSync:cle,promises:{lstat:Hh.lstat,readdir:Hh.readdir,readlink:Hh.readlink,realpath:Hh.realpath}},bF=t=>!t||t===Wu||t===lle?Wu:{...Wu,...t,promises:{...Wu.promises,...t.promises||{}}},wF=/^\\\\\?\\([a-z]:)\\?$/i,ule=t=>t.replace(/\//g,"\\").replace(wF,"$1\\"),dle=/[\\\/]/,Tn=0,LF=1,DF=2,ti=4,PF=6,xF=8,bo=10,MF=12,hn=15,Gu=~hn,Y_=16,gF=32,ku=64,Dn=128,Wh=256,$h=512,NF=ku|Dn|$h,fle=1023,V_=t=>t.isFile()?xF:t.isDirectory()?ti:t.isSymbolicLink()?bo:t.isCharacterDevice()?DF:t.isBlockDevice()?PF:t.isSocket()?MF:t.isFIFO()?LF:Tn,OF=new Map,$u=t=>{let e=OF.get(t);if(e)return e;let r=t.normalize("NFKD");return OF.set(t,r),r},CF=new Map,kh=t=>{let e=CF.get(t);if(e)return e;let r=$u(t.toLowerCase());return CF.set(t,r),r},Yu=class extends yF.LRUCache{constructor(){super({max:256})}};Xe.ResolveCache=Yu;var Vh=class extends yF.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}};Xe.ChildrenCache=Vh;var vF=Symbol("PathScurry setAsCwd"),hr=class{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#s;get mode(){return this.#s}#n;get nlink(){return this.#n}#o;get uid(){return this.#o}#m;get gid(){return this.#m}#c;get rdev(){return this.#c}#d;get blksize(){return this.#d}#a;get ino(){return this.#a}#l;get size(){return this.#l}#i;get blocks(){return this.#i}#p;get atimeMs(){return this.#p}#S;get mtimeMs(){return this.#S}#E;get ctimeMs(){return this.#E}#f;get birthtimeMs(){return this.#f}#g;get atime(){return this.#g}#T;get mtime(){return this.#T}#N;get ctime(){return this.#N}#O;get birthtime(){return this.#O}#A;#_;#I;#h;#w;#C;#r;#P;#R;#L;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=Tn,n,i,s,o,a){this.name=e,this.#A=s?kh(e):$u(e),this.#r=r&fle,this.nocase=s,this.roots=i,this.root=n||this,this.#P=o,this.#I=a.fullpath,this.#w=a.relative,this.#C=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=bF(a.fs)}depth(){return this.#_!==void 0?this.#_:this.parent?this.#_=this.parent.depth()+1:this.#_=0}childrenCache(){return this.#P}resolve(e){if(!e)return this;let r=this.getRootString(e),i=e.substring(r.length).split(this.splitSep);return r?this.getRoot(r).#x(i):this.#x(i)}#x(e){let r=this;for(let n of e)r=r.child(n);return r}children(){let e=this.#P.get(this);if(e)return e;let r=Object.assign([],{provisional:0});return this.#P.set(this,r),this.#r&=~Y_,r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let n=this.children(),i=this.nocase?kh(e):$u(e);for(let l of n)if(l.#A===i)return l;let s=this.parent?this.sep:"",o=this.#I?this.#I+s+e:void 0,a=this.newChild(e,Tn,{...r,parent:this,fullpath:o});return this.canReaddir()||(a.#r|=Dn),n.push(a),a}relative(){if(this.isCWD)return"";if(this.#w!==void 0)return this.#w;let e=this.name,r=this.parent;if(!r)return this.#w=this.name;let n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#C!==void 0)return this.#C;let e=this.name,r=this.parent;if(!r)return this.#C=this.fullpathPosix();let n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#I!==void 0)return this.#I;let e=this.name,r=this.parent;if(!r)return this.#I=this.name;let i=r.fullpath()+(r.parent?this.sep:"")+e;return this.#I=i}fullpathPosix(){if(this.#h!==void 0)return this.#h;if(this.sep==="/")return this.#h=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#h=`//?/${i}`:this.#h=i}let e=this.parent,r=e.fullpathPosix(),n=r+(!r||!e.parent?"":"/")+this.name;return this.#h=n}isUnknown(){return(this.#r&hn)===Tn}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&hn)===xF}isDirectory(){return(this.#r&hn)===ti}isCharacterDevice(){return(this.#r&hn)===DF}isBlockDevice(){return(this.#r&hn)===PF}isFIFO(){return(this.#r&hn)===LF}isSocket(){return(this.#r&hn)===MF}isSymbolicLink(){return(this.#r&bo)===bo}lstatCached(){return this.#r&gF?this:void 0}readlinkCached(){return this.#R}realpathCached(){return this.#L}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#R)return!0;if(!this.parent)return!1;let e=this.#r&hn;return!(e!==Tn&&e!==bo||this.#r&Wh||this.#r&Dn)}calledReaddir(){return!!(this.#r&Y_)}isENOENT(){return!!(this.#r&Dn)}isNamed(e){return this.nocase?this.#A===kh(e):this.#A===$u(e)}async readlink(){let e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=await this.#e.promises.readlink(this.fullpath()),n=(await this.parent.realpath())?.resolve(r);if(n)return this.#R=n}catch(r){this.#u(r.code);return}}readlinkSync(){let e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=this.#e.readlinkSync(this.fullpath()),n=this.parent.realpathSync()?.resolve(r);if(n)return this.#R=n}catch(r){this.#u(r.code);return}}#M(e){this.#r|=Y_;for(let r=e.provisional;r<e.length;r++){let n=e[r];n&&n.#v()}}#v(){this.#r&Dn||(this.#r=(this.#r|Dn)&Gu,this.#y())}#y(){let e=this.children();e.provisional=0;for(let r of e)r.#v()}#b(){this.#r|=$h,this.#U()}#U(){if(this.#r&ku)return;let e=this.#r;(e&hn)===ti&&(e&=Gu),this.#r=e|ku,this.#y()}#B(e=""){e==="ENOTDIR"||e==="EPERM"?this.#U():e==="ENOENT"?this.#v():this.children().provisional=0}#F(e=""){e==="ENOTDIR"?this.parent.#U():e==="ENOENT"&&this.#v()}#u(e=""){let r=this.#r;r|=Wh,e==="ENOENT"&&(r|=Dn),(e==="EINVAL"||e==="UNKNOWN")&&(r&=Gu),this.#r=r,e==="ENOTDIR"&&this.parent&&this.parent.#U()}#G(e,r){return this.#D(e,r)||this.#H(e,r)}#H(e,r){let n=V_(e),i=this.newChild(e.name,n,{parent:this}),s=i.#r&hn;return s!==ti&&s!==bo&&s!==Tn&&(i.#r|=ku),r.unshift(i),r.provisional++,i}#D(e,r){for(let n=r.provisional;n<r.length;n++){let i=r[n];if((this.nocase?kh(e.name):$u(e.name))===i.#A)return this.#W(e,i,n,r)}}#W(e,r,n,i){let s=r.name;return r.#r=r.#r&Gu|V_(e),s!==e.name&&(r.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(r)),i.provisional++,r}async lstat(){if((this.#r&Dn)===0)try{return this.#V(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#F(e.code)}}lstatSync(){if((this.#r&Dn)===0)try{return this.#V(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#F(e.code)}}#V(e){let{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:d,ino:E,mode:f,mtime:T,mtimeMs:h,nlink:p,rdev:S,size:m,uid:R}=e;this.#g=r,this.#p=n,this.#O=i,this.#f=s,this.#d=o,this.#i=a,this.#N=l,this.#E=c,this.#t=u,this.#m=d,this.#a=E,this.#s=f,this.#T=T,this.#S=h,this.#n=p,this.#c=S,this.#l=m,this.#o=R;let A=V_(e);this.#r=this.#r&Gu|A|gF,A!==Tn&&A!==ti&&A!==bo&&(this.#r|=ku)}#$=[];#Y=!1;#q(e){this.#Y=!1;let r=this.#$.slice();this.#$.length=0,r.forEach(n=>n(null,e))}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}let n=this.children();if(this.calledReaddir()){let s=n.slice(0,n.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(this.#$.push(e),this.#Y)return;this.#Y=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(s,o)=>{if(s)this.#B(s.code),n.provisional=0;else{for(let a of o)this.#G(a,n);this.#M(n)}this.#q(n.slice(0,n.provisional))})}#k;async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();if(this.#k)await this.#k;else{let n=()=>{};this.#k=new Promise(i=>n=i);try{for(let i of await this.#e.promises.readdir(r,{withFileTypes:!0}))this.#G(i,e);this.#M(e)}catch(i){this.#B(i.code),e.provisional=0}this.#k=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();try{for(let n of this.#e.readdirSync(r,{withFileTypes:!0}))this.#G(n,e);this.#M(e)}catch(n){this.#B(n.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#r&NF)return!1;let e=hn&this.#r;return e===Tn||e===ti||e===bo}shouldWalk(e,r){return(this.#r&ti)===ti&&!(this.#r&NF)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#L)return this.#L;if(!(($h|Wh|Dn)&this.#r))try{let e=await this.#e.promises.realpath(this.fullpath());return this.#L=this.resolve(e)}catch{this.#b()}}realpathSync(){if(this.#L)return this.#L;if(!(($h|Wh|Dn)&this.#r))try{let e=this.#e.realpathSync(this.fullpath());return this.#L=this.resolve(e)}catch{this.#b()}}[vF](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;let r=new Set([]),n=[],i=this;for(;i&&i.parent;)r.add(i),i.#w=n.join(this.sep),i.#C=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!r.has(i);)i.#w=void 0,i.#C=void 0,i=i.parent}};Xe.PathBase=hr;var Vu=class t extends hr{sep="\\";splitSep=dle;constructor(e,r=Tn,n,i,s,o,a){super(e,r,n,i,s,o,a)}newChild(e,r=Tn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return Yh.win32.parse(e).root}getRoot(e){if(e=ule(e.toUpperCase()),e===this.root.name)return this.root;for(let[r,n]of Object.entries(this.roots))if(this.sameRoot(e,r))return this.roots[e]=n;return this.roots[e]=new ju(e,this).root}sameRoot(e,r=this.root.name){return e=e.toUpperCase().replace(/\//g,"\\").replace(wF,"$1\\"),e===r}};Xe.PathWin32=Vu;var qu=class t extends hr{splitSep="/";sep="/";constructor(e,r=Tn,n,i,s,o,a){super(e,r,n,i,s,o,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=Tn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};Xe.PathPosix=qu;var Xu=class{root;rootPath;roots;cwd;#e;#t;#s;nocase;#n;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=Wu}={}){this.#n=bF(o),(e instanceof URL||e.startsWith("file://"))&&(e=(0,ale.fileURLToPath)(e));let a=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new Yu,this.#t=new Yu,this.#s=new Vh(s);let l=a.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#n),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,d=r.sep,E=this.rootPath,f=!1;for(let T of l){let h=u--;c=c.child(T,{relative:new Array(h).fill("..").join(d),relativePosix:new Array(h).fill("..").join("/"),fullpath:E+=(f?"":d)+T}),f=!0}this.cwd=c}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#s}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#e.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpath();return this.#e.set(r,i),i}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#t.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpathPosix();return this.#t.set(r,i),i}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e,e=this.cwd);let{withFileTypes:n}=r;if(e.canReaddir()){let i=await e.readdir();return n?i:i.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e,e=this.cwd);let{withFileTypes:n=!0}=r;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map(i=>i.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e.withFileTypes,e=this.cwd);let n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e.withFileTypes,e=this.cwd);let n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e.withFileTypes,e=this.cwd);let n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e.withFileTypes,e=this.cwd);let n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set,c=(d,E)=>{l.add(d),d.readdirCB((f,T)=>{if(f)return E(f);let h=T.length;if(!h)return E();let p=()=>{--h===0&&E()};for(let S of T)(!s||s(S))&&a.push(n?S:S.fullpath()),i&&S.isSymbolicLink()?S.realpath().then(m=>m?.isUnknown()?m.lstat():m).then(m=>m?.shouldWalk(l,o)?c(m,p):p()):S.shouldWalk(l,o)?c(S,p):p()},!0)},u=e;return new Promise((d,E)=>{c(u,f=>{if(f)return E(f);d(a)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set([e]);for(let c of l){let u=c.readdirSync();for(let d of u){(!s||s(d))&&a.push(n?d:d.fullpath());let E=d;if(d.isSymbolicLink()){if(!(i&&(E=d.realpathSync())))continue;E.isUnknown()&&E.lstatSync()}E.shouldWalk(l,o)&&l.add(E)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r;(!s||s(e))&&(yield n?e:e.fullpath());let a=new Set([e]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield n?u:u.fullpath());let d=u;if(u.isSymbolicLink()){if(!(i&&(d=u.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(a,o)&&a.add(d)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new IF.Minipass({objectMode:!0});(!s||s(e))&&a.write(n?e:e.fullpath());let l=new Set,c=[e],u=0,d=()=>{let E=!1;for(;!E;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let T=(p,S,m=!1)=>{if(p)return a.emit("error",p);if(i&&!m){let R=[];for(let A of S)A.isSymbolicLink()&&R.push(A.realpath().then(g=>g?.isUnknown()?g.lstat():g));if(R.length){Promise.all(R).then(()=>T(null,S,!0));return}}for(let R of S)R&&(!s||s(R))&&(a.write(n?R:R.fullpath())||(E=!0));u--;for(let R of S){let A=R.realpathCached()||R;A.shouldWalk(l,o)&&c.push(A)}E&&!a.flowing?a.once("drain",d):h||d()},h=!0;f.readdirCB(T,!0),h=!1}};return d(),a}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof hr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new IF.Minipass({objectMode:!0}),l=new Set;(!s||s(e))&&a.write(n?e:e.fullpath());let c=[e],u=0,d=()=>{let E=!1;for(;!E;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let T=f.readdirSync();for(let h of T)(!s||s(h))&&(a.write(n?h:h.fullpath())||(E=!0));u--;for(let h of T){let p=h;if(h.isSymbolicLink()){if(!(i&&(p=h.realpathSync())))continue;p.isUnknown()&&p.lstatSync()}p.shouldWalk(l,o)&&c.push(p)}}E&&!a.flowing&&a.once("drain",d)};return d(),a}chdir(e=this.cwd){let r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[vF](r)}};Xe.PathScurryBase=Xu;var ju=class extends Xu{sep="\\";constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,Yh.win32,"\\",{...r,nocase:n}),this.nocase=n;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(e){return Yh.win32.parse(e).root.toUpperCase()}newRoot(e){return new Vu(this.rootPath,ti,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}};Xe.PathScurryWin32=ju;var zu=class extends Xu{sep="/";constructor(e=process.cwd(),r={}){let{nocase:n=!1}=r;super(e,Yh.posix,"/",{...r,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new qu(this.rootPath,ti,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}};Xe.PathScurryPosix=zu;var qh=class extends zu{constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,{...r,nocase:n})}};Xe.PathScurryDarwin=qh;Xe.Path=process.platform==="win32"?Vu:qu;Xe.PathScurry=process.platform==="win32"?ju:process.platform==="darwin"?qh:zu});var X_=O(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.Pattern=void 0;var Ele=Ls(),hle=t=>t.length>=1,Tle=t=>t.length>=1,q_=class t{#e;#t;#s;length;#n;#o;#m;#c;#d;#a;#l=!0;constructor(e,r,n,i){if(!hle(e))throw new TypeError("empty pattern list");if(!Tle(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=r,this.#s=n,this.#n=i,this.#s===0){if(this.isUNC()){let[s,o,a,l,...c]=this.#e,[u,d,E,f,...T]=this.#t;c[0]===""&&(c.shift(),T.shift());let h=[s,o,a,l,""].join("/"),p=[u,d,E,f,""].join("/");this.#e=[h,...c],this.#t=[p,...T],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...l]=this.#t;o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";this.#e=[c,...o],this.#t=[u,...l],this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]=="string"}isGlobstar(){return this.#e[this.#s]===Ele.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#m=this.#m||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new t(this.#e,this.#t,this.#s+1,this.#n),this.#o.#a=this.#a,this.#o.#d=this.#d,this.#o.#c=this.#c,this.#o):this.#o=null}isUNC(){let e=this.#e;return this.#d!==void 0?this.#d:this.#d=this.#n==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3]}isDrive(){let e=this.#e;return this.#c!==void 0?this.#c:this.#c=this.#n==="win32"&&this.#s===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){let e=this.#e;return this.#a!==void 0?this.#a:this.#a=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){let e=this.#e[0];return typeof e=="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#l?!1:(this.#l=!1,!0)}};Xh.Pattern=q_});var kF=O(Fr=>{"use strict";var ple=Fr&&Fr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.Minipass=Fr.isWritable=Fr.isReadable=Fr.isStream=void 0;var BF=typeof process=="object"&&process?process:{stdout:null,stderr:null},eI=require("node:events"),WF=ple(require("node:stream")),Sle=require("node:string_decoder"),Rle=t=>!!t&&typeof t=="object"&&(t instanceof eT||t instanceof WF.default||(0,Fr.isReadable)(t)||(0,Fr.isWritable)(t));Fr.isStream=Rle;var Ale=t=>!!t&&typeof t=="object"&&t instanceof eI.EventEmitter&&typeof t.pipe=="function"&&t.pipe!==WF.default.Writable.prototype.pipe;Fr.isReadable=Ale;var mle=t=>!!t&&typeof t=="object"&&t instanceof eI.EventEmitter&&typeof t.write=="function"&&typeof t.end=="function";Fr.isWritable=mle;var Yi=Symbol("EOF"),Vi=Symbol("maybeEmitEnd"),xs=Symbol("emittedEnd"),jh=Symbol("emittingEnd"),Ku=Symbol("emittedError"),zh=Symbol("closed"),FF=Symbol("read"),Kh=Symbol("flush"),GF=Symbol("flushChunk"),Pn=Symbol("encoding"),Sl=Symbol("decoder"),er=Symbol("flowing"),Ju=Symbol("paused"),Rl=Symbol("resume"),tr=Symbol("buffer"),Br=Symbol("pipes"),rr=Symbol("bufferLength"),j_=Symbol("bufferPush"),Jh=Symbol("bufferShift"),Cr=Symbol("objectMode"),Pt=Symbol("destroyed"),z_=Symbol("error"),K_=Symbol("emitData"),HF=Symbol("emitEnd"),J_=Symbol("emitEnd2"),ri=Symbol("async"),Q_=Symbol("abort"),Qh=Symbol("aborted"),Qu=Symbol("signal"),wo=Symbol("dataListeners"),Qr=Symbol("discarded"),Zu=t=>Promise.resolve().then(t),_le=t=>t(),Ile=t=>t==="end"||t==="finish"||t==="prefinish",gle=t=>t instanceof ArrayBuffer||!!t&&typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,Nle=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Zh=class{src;dest;opts;ondrain;constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Rl](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Z_=class extends Zh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},Ole=t=>!!t.objectMode,Cle=t=>!t.objectMode&&!!t.encoding&&t.encoding!=="buffer",eT=class extends eI.EventEmitter{[er]=!1;[Ju]=!1;[Br]=[];[tr]=[];[Cr];[Pn];[ri];[Sl];[Yi]=!1;[xs]=!1;[jh]=!1;[zh]=!1;[Ku]=null;[rr]=0;[Pt]=!1;[Qu];[Qh]=!1;[wo]=0;[Qr]=!1;writable=!0;readable=!0;constructor(...e){let r=e[0]||{};if(super(),r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Ole(r)?(this[Cr]=!0,this[Pn]=null):Cle(r)?(this[Pn]=r.encoding,this[Cr]=!1):(this[Cr]=!1,this[Pn]=null),this[ri]=!!r.async,this[Sl]=this[Pn]?new Sle.StringDecoder(this[Pn]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[tr]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Br]});let{signal:n}=r;n&&(this[Qu]=n,n.aborted?this[Q_]():n.addEventListener("abort",()=>this[Q_]()))}get bufferLength(){return this[rr]}get encoding(){return this[Pn]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Cr]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[ri]}set async(e){this[ri]=this[ri]||!!e}[Q_](){this[Qh]=!0,this.emit("abort",this[Qu]?.reason),this.destroy(this[Qu]?.reason)}get aborted(){return this[Qh]}set aborted(e){}write(e,r,n){if(this[Qh])return!1;if(this[Yi])throw new Error("write after end");if(this[Pt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[ri]?Zu:_le;if(!this[Cr]&&!Buffer.isBuffer(e)){if(Nle(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(gle(e))e=Buffer.from(e);else if(typeof e!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Cr]?(this[er]&&this[rr]!==0&&this[Kh](!0),this[er]?this.emit("data",e):this[j_](e),this[rr]!==0&&this.emit("readable"),n&&i(n),this[er]):e.length?(typeof e=="string"&&!(r===this[Pn]&&!this[Sl]?.lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Pn]&&(e=this[Sl].write(e)),this[er]&&this[rr]!==0&&this[Kh](!0),this[er]?this.emit("data",e):this[j_](e),this[rr]!==0&&this.emit("readable"),n&&i(n),this[er]):(this[rr]!==0&&this.emit("readable"),n&&i(n),this[er])}read(e){if(this[Pt])return null;if(this[Qr]=!1,this[rr]===0||e===0||e&&e>this[rr])return this[Vi](),null;this[Cr]&&(e=null),this[tr].length>1&&!this[Cr]&&(this[tr]=[this[Pn]?this[tr].join(""):Buffer.concat(this[tr],this[rr])]);let r=this[FF](e||null,this[tr][0]);return this[Vi](),r}[FF](e,r){if(this[Cr])this[Jh]();else{let n=r;e===n.length||e===null?this[Jh]():typeof n=="string"?(this[tr][0]=n.slice(e),r=n.slice(0,e),this[rr]-=e):(this[tr][0]=n.subarray(e),r=n.subarray(0,e),this[rr]-=e)}return this.emit("data",r),!this[tr].length&&!this[Yi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r="utf8"),e!==void 0&&this.write(e,r),n&&this.once("end",n),this[Yi]=!0,this.writable=!1,(this[er]||!this[Ju])&&this[Vi](),this}[Rl](){this[Pt]||(!this[wo]&&!this[Br].length&&(this[Qr]=!0),this[Ju]=!1,this[er]=!0,this.emit("resume"),this[tr].length?this[Kh]():this[Yi]?this[Vi]():this.emit("drain"))}resume(){return this[Rl]()}pause(){this[er]=!1,this[Ju]=!0,this[Qr]=!1}get destroyed(){return this[Pt]}get flowing(){return this[er]}get paused(){return this[Ju]}[j_](e){this[Cr]?this[rr]+=1:this[rr]+=e.length,this[tr].push(e)}[Jh](){return this[Cr]?this[rr]-=1:this[rr]-=this[tr][0].length,this[tr].shift()}[Kh](e=!1){do;while(this[GF](this[Jh]())&&this[tr].length);!e&&!this[tr].length&&!this[Yi]&&this.emit("drain")}[GF](e){return this.emit("data",e),this[er]}pipe(e,r){if(this[Pt])return e;this[Qr]=!1;let n=this[xs];return r=r||{},e===BF.stdout||e===BF.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Br].push(r.proxyErrors?new Z_(this,e,r):new Zh(this,e,r)),this[ri]?Zu(()=>this[Rl]()):this[Rl]()),e}unpipe(e){let r=this[Br].find(n=>n.dest===e);r&&(this[Br].length===1?(this[er]&&this[wo]===0&&(this[er]=!1),this[Br]=[]):this[Br].splice(this[Br].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);if(e==="data")this[Qr]=!1,this[wo]++,!this[Br].length&&!this[er]&&this[Rl]();else if(e==="readable"&&this[rr]!==0)super.emit("readable");else if(Ile(e)&&this[xs])super.emit(e),this.removeAllListeners(e);else if(e==="error"&&this[Ku]){let i=r;this[ri]?Zu(()=>i.call(this,this[Ku])):i.call(this,this[Ku])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){let n=super.off(e,r);return e==="data"&&(this[wo]=this.listeners("data").length,this[wo]===0&&!this[Qr]&&!this[Br].length&&(this[er]=!1)),n}removeAllListeners(e){let r=super.removeAllListeners(e);return(e==="data"||e===void 0)&&(this[wo]=0,!this[Qr]&&!this[Br].length&&(this[er]=!1)),r}get emittedEnd(){return this[xs]}[Vi](){!this[jh]&&!this[xs]&&!this[Pt]&&this[tr].length===0&&this[Yi]&&(this[jh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[zh]&&this.emit("close"),this[jh]=!1)}emit(e,...r){let n=r[0];if(e!=="error"&&e!=="close"&&e!==Pt&&this[Pt])return!1;if(e==="data")return!this[Cr]&&!n?!1:this[ri]?(Zu(()=>this[K_](n)),!0):this[K_](n);if(e==="end")return this[HF]();if(e==="close"){if(this[zh]=!0,!this[xs]&&!this[Pt])return!1;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Ku]=n,super.emit(z_,n);let s=!this[Qu]||this.listeners("error").length?super.emit("error",n):!1;return this[Vi](),s}else if(e==="resume"){let s=super.emit("resume");return this[Vi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,...r);return this[Vi](),i}[K_](e){for(let n of this[Br])n.dest.write(e)===!1&&this.pause();let r=this[Qr]?!1:super.emit("data",e);return this[Vi](),r}[HF](){return this[xs]?!1:(this[xs]=!0,this.readable=!1,this[ri]?(Zu(()=>this[J_]()),!0):this[J_]())}[J_](){if(this[Sl]){let r=this[Sl].end();if(r){for(let n of this[Br])n.dest.write(r);this[Qr]||super.emit("data",r)}}for(let r of this[Br])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){let e=Object.assign([],{dataLength:0});this[Cr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[Cr]||(e.dataLength+=n.length)}),await r,e}async concat(){if(this[Cr])throw new Error("cannot concat in objectMode");let e=await this.collect();return this[Pn]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise((e,r)=>{this.on(Pt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[Symbol.asyncIterator](){this[Qr]=!1;let e=!1,r=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Yi])return r();let s,o,a=d=>{this.off("data",l),this.off("end",c),this.off(Pt,u),r(),o(d)},l=d=>{this.off("error",a),this.off("end",c),this.off(Pt,u),this.pause(),s({value:d,done:!!this[Yi]})},c=()=>{this.off("error",a),this.off("data",l),this.off(Pt,u),r(),s({done:!0,value:void 0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,E)=>{o=E,s=d,this.once(Pt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Qr]=!1;let e=!1,r=()=>(this.pause(),this.off(z_,r),this.off(Pt,r),this.off("end",r),e=!0,{done:!0,value:void 0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{done:!1,value:i}};return this.once("end",r),this.once(z_,r),this.once(Pt,r),{next:n,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(e){if(this[Pt])return e?this.emit("error",e):this.emit(Pt),this;this[Pt]=!0,this[Qr]=!0,this[tr].length=0,this[rr]=0;let r=this;return typeof r.close=="function"&&!this[zh]&&r.close(),e?this.emit("error",e):this.emit(Pt),this}static get isStream(){return Fr.isStream}};Fr.Minipass=eT});var rI=O(tT=>{"use strict";Object.defineProperty(tT,"__esModule",{value:!0});tT.Ignore=void 0;var $F=Ls(),yle=X_(),ble=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",tI=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:o=ble}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of e)this.add(a)}add(e){let r=new $F.Minimatch(e,this.mmopts);for(let n=0;n<r.set.length;n++){let i=r.set[n],s=r.globParts[n];if(!i||!s)throw new Error("invalid pattern object");for(;i[0]==="."&&s[0]===".";)i.shift(),s.shift();let o=new yle.Pattern(i,s,0,this.platform),a=new $F.Minimatch(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){let r=e.fullpath(),n=`${r}/`,i=e.relative()||".",s=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(n))return!0;return!1}childrenIgnored(e){let r=e.fullpath()+"/",n=(e.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(n))return!0;for(let i of this.absoluteChildren)if(i.match(r))return!0;return!1}};tT.Ignore=tI});var VF=O(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.Processor=ni.SubWalks=ni.MatchRecord=ni.HasWalkedCache=void 0;var YF=Ls(),rT=class t{store;constructor(e=new Map){this.store=e}copy(){return new t(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){let n=e.fullpath(),i=this.store.get(n);i?i.add(r.globString()):this.store.set(n,new Set([r.globString()]))}};ni.HasWalkedCache=rT;var nT=class{store=new Map;add(e,r,n){let i=(r?2:0)|(n?1:0),s=this.store.get(e);this.store.set(e,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}};ni.MatchRecord=nT;var iT=class{store=new Map;add(e,r){if(!e.canReaddir())return;let n=this.store.get(e);n?n.find(i=>i.globString()===r.globString())||n.push(r):this.store.set(e,[r])}get(e){let r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}};ni.SubWalks=iT;var nI=class t{hasWalkedCache;matches=new nT;subwalks=new iT;patterns;follow;dot;opts;constructor(e,r){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new rT}processPatterns(e,r){this.patterns=r;let n=r.map(i=>[e,i]);for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let d=s.rest();if(d)s=d;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)i=i.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof l=="string"){let d=l===".."||l===""||l===".";this.matches.add(i.resolve(l),a,d);continue}else if(l===YF.GLOBSTAR){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let d=c?.pattern(),E=c?.rest();if(!c||(d===""||d===".")&&!E)this.matches.add(i,a,d===""||d===".");else if(d===".."){let f=i.parent||i;E?this.hasWalkedCache.hasWalked(f,E)||this.subwalks.add(f,E):this.matches.add(f,a,!0)}}else l instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(e,r){let n=this.subwalks.get(e),i=this.child();for(let s of r)for(let o of n){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===YF.GLOBSTAR?i.testGlobstar(s,o,c,a):l instanceof RegExp?i.testRegExp(s,l,c,a):i.testString(s,l,c,a)}return i}testGlobstar(e,r,n,i){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(n&&r.checkFollowGlobstar()?this.subwalks.add(e,n):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),n){let s=n.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,n.rest(),i);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,n)}else s instanceof RegExp&&this.testRegExp(e,s,n.rest(),i)}}testRegExp(e,r,n,i){r.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,r,n,i){e.isNamed(r)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}};ni.Processor=nI});var jF=O(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.GlobStream=Ms.GlobWalker=Ms.GlobUtil=void 0;var wle=kF(),qF=rI(),XF=VF(),Lle=(t,e)=>typeof t=="string"?new qF.Ignore([t],e):Array.isArray(t)?new qF.Ignore(t,e):t,ed=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#s;signal;maxDepth;includeChildMatches;constructor(e,r,n){if(this.patterns=e,this.path=r,this.opts=n,this.#s=!n.posix&&n.platform==="win32"?"\\":"/",this.includeChildMatches=n.includeChildMatches!==!1,(n.ignore||!this.includeChildMatches)&&(this.#t=Lle(n.ignore??[],n),!this.includeChildMatches&&typeof this.#t.add!="function")){let i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#n(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#o(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#n(e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#n(e))return;if(!this.includeChildMatches&&this.#t?.add){let s=`${e.relativePosix()}/**`;this.#t.add(s)}let n=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);let i=this.opts.mark&&e.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){let s=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(s+i)}else{let s=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(s?o+s+i:"."+i)}}async match(e,r,n){let i=await this.matchCheck(e,n);i&&this.matchFinish(i,r)}matchSync(e,r,n){let i=this.matchCheckSync(e,n);i&&this.matchFinish(i,r)}walkCB(e,r,n){this.signal?.aborted&&n(),this.walkCB2(e,r,new XF.Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,n,o):a.readdirCB((c,u)=>this.walkCB3(a,u,n,o),!0)}o()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of n.subwalks.entries())s++,this.walkCB2(a,l,n.child(),o);o()}walkCBSync(e,r,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,r,new XF.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,n,o)}o()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let[a,l]of n.subwalks.entries())s++,this.walkCB2Sync(a,l,n.child(),o);o()}};Ms.GlobUtil=ed;var iI=class extends ed{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,r)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?r(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};Ms.GlobWalker=iI;var sI=class extends ed{results;constructor(e,r,n){super(e,r,n),this.results=new wle.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let e=this.path;return e.isUnknown()?e.lstat().then(()=>{this.walkCB(e,this.patterns,()=>this.results.end())}):this.walkCB(e,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};Ms.GlobStream=sI});var aI=O(aT=>{"use strict";Object.defineProperty(aT,"__esModule",{value:!0});aT.Glob=void 0;var Dle=Ls(),Ple=require("node:url"),sT=UF(),xle=X_(),oT=jF(),Mle=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",oI=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,Ple.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=e,this.platform=r.platform||Mle,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?sT.PathScurryWin32:r.platform==="darwin"?sT.PathScurryDarwin:r.platform?sT.PathScurryPosix:sT.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let n=this.platform==="darwin"||this.platform==="win32",i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new Dle.Minimatch(l,i)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new xle.Pattern(l,u,0,this.platform)})}async walk(){return[...await new oT.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new oT.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new oT.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new oT.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};aT.Glob=oI});var lI=O(lT=>{"use strict";Object.defineProperty(lT,"__esModule",{value:!0});lT.hasMagic=void 0;var vle=Ls(),Ule=(t,e={})=>{Array.isArray(t)||(t=[t]);for(let r of t)if(new vle.Minimatch(r,e).hasMagic())return!0;return!1};lT.hasMagic=Ule});var QF=O(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.glob=De.sync=De.iterate=De.iterateSync=De.stream=De.streamSync=De.Ignore=De.hasMagic=De.Glob=De.unescape=De.escape=void 0;De.globStreamSync=td;De.globStream=cI;De.globSync=uI;De.globIterateSync=rd;De.globIterate=dI;var zF=Ls(),Lo=aI(),Ble=lI(),JF=Ls();Object.defineProperty(De,"escape",{enumerable:!0,get:function(){return JF.escape}});Object.defineProperty(De,"unescape",{enumerable:!0,get:function(){return JF.unescape}});var Fle=aI();Object.defineProperty(De,"Glob",{enumerable:!0,get:function(){return Fle.Glob}});var Gle=lI();Object.defineProperty(De,"hasMagic",{enumerable:!0,get:function(){return Gle.hasMagic}});var Hle=rI();Object.defineProperty(De,"Ignore",{enumerable:!0,get:function(){return Hle.Ignore}});function td(t,e={}){return new Lo.Glob(t,e).streamSync()}function cI(t,e={}){return new Lo.Glob(t,e).stream()}function uI(t,e={}){return new Lo.Glob(t,e).walkSync()}async function KF(t,e={}){return new Lo.Glob(t,e).walk()}function rd(t,e={}){return new Lo.Glob(t,e).iterateSync()}function dI(t,e={}){return new Lo.Glob(t,e).iterate()}De.streamSync=td;De.stream=Object.assign(cI,{sync:td});De.iterateSync=rd;De.iterate=Object.assign(dI,{sync:rd});De.sync=Object.assign(uI,{stream:td,iterate:rd});De.glob=Object.assign(KF,{glob:KF,globSync:uI,sync:De.sync,globStream:cI,stream:De.stream,globStreamSync:td,streamSync:De.streamSync,globIterate:dI,iterate:De.iterate,globIterateSync:rd,iterateSync:De.iterateSync,Glob:Lo.Glob,hasMagic:Ble.hasMagic,escape:zF.escape,unescape:zF.unescape});De.glob.glob=De.glob});var r1=O((fve,t1)=>{var e1=NA(),Al=require("path"),fI=oU(),Wle=_B(),kle=PB(),$le=GB(),Yle=QF(),Do=t1.exports={},ZF=/[\/\\]/g,Vle=function(t,e){var r=[];return fI(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=Wle(r,s):r=kle(r,s)}),r};Do.exists=function(){var t=Al.join.apply(Al,arguments);return e1.existsSync(t)};Do.expand=function(...t){var e=$le(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=Vle(r,function(i){return Yle.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=Al.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):e1.statSync(i)[e.filter]()}catch{return!1}})),n};Do.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return Al.join(s||"",o)}},r);var n=[],i={};return Do.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=Al.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=Al.join(r.cwd,s)),a=a.replace(ZF,"/"),s=s.replace(ZF,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};Do.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=fI(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return Do.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?fI(o):[o],s.result=Do.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var ml=O((hve,s1)=>{var EI=NA(),n1=require("path"),qle=gE(),Xle=cD(),i1=jA(),jle=$P(),Eve=require("stream").Stream,zle=Kv().PassThrough,Zr=s1.exports={};Zr.file=r1();Zr.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};Zr.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};Zr.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},jle(...n)};Zr.isStream=function(t){return qle(t)};Zr.lazyReadStream=function(t){return new Xle.Readable(function(){return EI.createReadStream(t)})};Zr.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):Zr.isStream(t)?t.pipe(new zle):t};Zr.sanitizePath=function(t){return i1(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};Zr.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};Zr.unixifyPath=function(t){return i1(t,!1).replace(/^\w+:/,"")};Zr.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),EI.readdir(t,function(i,s){var o=0,a,l;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);l=n1.join(t,a),EI.stat(l,function(u,d){n.push({path:l,relative:n1.relative(e,l).replace(/\\/g,"/"),stats:d}),d&&d.isDirectory()?Zr.walkdir(l,e,function(E,f){if(E)return r(E);f.forEach(function(T){n.push(T)}),c()}):c()})})()})}});var c1=O((a1,l1)=>{var Kle=require("util"),Jle={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function o1(t,e){Error.captureStackTrace(this,this.constructor),this.message=Jle[t]||t,this.code=t,this.data=e}Kle.inherits(o1,Error);a1=l1.exports=o1});var ct=O((Tve,u1)=>{"use strict";var hI=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};u1.exports={AggregateError:hI,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var TI=O((pve,d1)=>{"use strict";d1.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var yr=O((Sve,h1)=>{"use strict";var{format:Qle,inspect:cT}=TI(),{AggregateError:Zle}=ct(),ece=globalThis.AggregateError||Zle,tce=Symbol("kIsNodeError"),rce=["string","function","number","object","Function","Object","boolean","bigint","symbol"],nce=/^([A-Z][a-z0-9]*)+$/,ice="__node_internal_",uT={};function Po(t,e){if(!t)throw new uT.ERR_INTERNAL_ASSERTION(e)}function f1(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function sce(t,e,r){if(typeof e=="function")return Po(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Po(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Qle(e,...r)}function Tr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(sce(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[tce]=!0,uT[t]=n}function E1(t){let e=ice+t.name;return Object.defineProperty(t,"name",{value:e}),t}function oce(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new ece([e,t],e.message);return r.code=e.code,r}return t||e}var pI=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new uT.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Tr("ERR_ASSERTION","%s",Error);Tr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Po(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Po(typeof l=="string","All expected entries have to be of type string"),rce.includes(l)?i.push(l.toLowerCase()):nce.test(l)?s.push(l):(Po(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=cT(r,{depth:-1});n+=`. Received ${l}`}}else{let l=cT(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Tr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=cT(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Tr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Tr("ERR_MISSING_ARGS",(...t)=>{Po(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Tr("ERR_OUT_OF_RANGE",(t,e,r)=>{Po(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=f1(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=f1(n)),n+="n"}else n=cT(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Tr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Tr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Tr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Tr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Tr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Tr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Tr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Tr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Tr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Tr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Tr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);h1.exports={AbortError:pI,aggregateTwoErrors:E1(oce),hideStackFrames:E1,codes:uT}});var Gr=O((Rve,RI)=>{"use strict";var ace=require("buffer"),{format:lce,inspect:cce}=TI(),{codes:{ERR_INVALID_ARG_TYPE:SI}}=yr(),{kResistStopPropagation:uce,AggregateError:dce,SymbolDispose:fce}=ct(),Ece=globalThis.AbortSignal||wt().AbortSignal,hce=globalThis.AbortController||wt().AbortController,Tce=Object.getPrototypeOf(async function(){}).constructor,T1=globalThis.Blob||ace.Blob,pce=typeof T1<"u"?function(e){return e instanceof T1}:function(e){return!1},p1=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new SI(e,"AbortSignal",t)},Sce=(t,e)=>{if(typeof t!="function")throw new SI(e,"Function",t)};RI.exports={AggregateError:dce,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:lce,inspect:cce,types:{isAsyncFunction(t){return t instanceof Tce},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:pce,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new SI("signal","AbortSignal",e);p1(e,"signal"),Sce(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[uce]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[fce](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Ece.any||function(e){if(e.length===1)return e[0];let r=new hce,n=()=>r.abort();return e.forEach(i=>{p1(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};RI.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Il=O((Ave,C1)=>{"use strict";var{ArrayIsArray:mI,ArrayPrototypeIncludes:m1,ArrayPrototypeJoin:_1,ArrayPrototypeMap:Rce,NumberIsInteger:_I,NumberIsNaN:Ace,NumberMAX_SAFE_INTEGER:mce,NumberMIN_SAFE_INTEGER:_ce,NumberParseInt:Ice,ObjectPrototypeHasOwnProperty:gce,RegExpPrototypeExec:I1,String:Nce,StringPrototypeToUpperCase:Oce,StringPrototypeTrim:Cce}=ct(),{hideStackFrames:pn,codes:{ERR_SOCKET_BAD_PORT:yce,ERR_INVALID_ARG_TYPE:br,ERR_INVALID_ARG_VALUE:_l,ERR_OUT_OF_RANGE:xo,ERR_UNKNOWN_SIGNAL:S1}}=yr(),{normalizeEncoding:bce}=Gr(),{isAsyncFunction:wce,isArrayBufferView:Lce}=Gr().types,R1={};function Dce(t){return t===(t|0)}function Pce(t){return t===t>>>0}var xce=/^[0-7]+$/,Mce="must be a 32-bit unsigned integer or an octal string";function vce(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(I1(xce,t)===null)throw new _l(e,t,Mce);t=Ice(t,8)}return g1(t,e),t}var Uce=pn((t,e,r=_ce,n=mce)=>{if(typeof t!="number")throw new br(e,"number",t);if(!_I(t))throw new xo(e,"an integer",t);if(t<r||t>n)throw new xo(e,`>= ${r} && <= ${n}`,t)}),Bce=pn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new br(e,"number",t);if(!_I(t))throw new xo(e,"an integer",t);if(t<r||t>n)throw new xo(e,`>= ${r} && <= ${n}`,t)}),g1=pn((t,e,r=!1)=>{if(typeof t!="number")throw new br(e,"number",t);if(!_I(t))throw new xo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new xo(e,`>= ${n} && <= ${i}`,t)});function II(t,e){if(typeof t!="string")throw new br(e,"string",t)}function Fce(t,e,r=void 0,n){if(typeof t!="number")throw new br(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Ace(t))throw new xo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Gce=pn((t,e,r)=>{if(!m1(r,t)){let i="must be one of: "+_1(Rce(r,s=>typeof s=="string"?`'${s}'`:Nce(s)),", ");throw new _l(e,t,i)}});function N1(t,e){if(typeof t!="boolean")throw new br(e,"boolean",t)}function AI(t,e,r){return t==null||!gce(t,e)?r:t[e]}var Hce=pn((t,e,r=null)=>{let n=AI(r,"allowArray",!1),i=AI(r,"allowFunction",!1);if(!AI(r,"nullable",!1)&&t===null||!n&&mI(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new br(e,"Object",t)}),Wce=pn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new br(e,"a dictionary",t)}),dT=pn((t,e,r=0)=>{if(!mI(t))throw new br(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new _l(e,t,n)}});function kce(t,e){dT(t,e);for(let r=0;r<t.length;r++)II(t[r],`${e}[${r}]`)}function $ce(t,e){dT(t,e);for(let r=0;r<t.length;r++)N1(t[r],`${e}[${r}]`)}function Yce(t,e){dT(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new br(i,"AbortSignal",n);O1(n,i)}}function Vce(t,e="signal"){if(II(t,e),R1[t]===void 0)throw R1[Oce(t)]!==void 0?new S1(t+" (signals must use all capital letters)"):new S1(t)}var qce=pn((t,e="buffer")=>{if(!Lce(t))throw new br(e,["Buffer","TypedArray","DataView"],t)});function Xce(t,e){let r=bce(e),n=t.length;if(r==="hex"&&n%2!==0)throw new _l("encoding",e,`is invalid for data of length ${n}`)}function jce(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Cce(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new yce(e,t,r);return t|0}var O1=pn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new br(e,"AbortSignal",t)}),zce=pn((t,e)=>{if(typeof t!="function")throw new br(e,"Function",t)}),Kce=pn((t,e)=>{if(typeof t!="function"||wce(t))throw new br(e,"Function",t)}),Jce=pn((t,e)=>{if(t!==void 0)throw new br(e,"undefined",t)});function Qce(t,e,r){if(!m1(r,t))throw new br(e,`('${_1(r,"|")}')`,t)}var Zce=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function A1(t,e){if(typeof t>"u"||!I1(Zce,t))throw new _l(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function eue(t){if(typeof t=="string")return A1(t,"hints"),t;if(mI(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];A1(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new _l("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}C1.exports={isInt32:Dce,isUint32:Pce,parseFileMode:vce,validateArray:dT,validateStringArray:kce,validateBooleanArray:$ce,validateAbortSignalArray:Yce,validateBoolean:N1,validateBuffer:qce,validateDictionary:Wce,validateEncoding:Xce,validateFunction:zce,validateInt32:Bce,validateInteger:Uce,validateNumber:Fce,validateObject:Hce,validateOneOf:Gce,validatePlainFunction:Kce,validatePort:jce,validateSignalName:Vce,validateString:II,validateUint32:g1,validateUndefined:Jce,validateUnion:Qce,validateAbortSignal:O1,validateLinkHeaderValue:eue}});var si=O((mve,W1)=>{"use strict";var{SymbolAsyncIterator:y1,SymbolIterator:b1,SymbolFor:Mo}=ct(),w1=Mo("nodejs.stream.destroyed"),L1=Mo("nodejs.stream.errored"),gI=Mo("nodejs.stream.readable"),NI=Mo("nodejs.stream.writable"),D1=Mo("nodejs.stream.disturbed"),tue=Mo("nodejs.webstream.isClosedPromise"),rue=Mo("nodejs.webstream.controllerErrorFunction");function fT(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function ET(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function nue(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ii(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function P1(t){return!!(t&&!ii(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function x1(t){return!!(t&&!ii(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function M1(t){return!!(t&&!ii(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function iue(t){return P1(t)||x1(t)||M1(t)}function sue(t,e){return t==null?!1:e===!0?typeof t[y1]=="function":e===!1?typeof t[b1]=="function":typeof t[y1]=="function"||typeof t[b1]=="function"}function hT(t){if(!ii(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[w1]||n!=null&&n.destroyed)}function v1(t){if(!ET(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function oue(t,e){if(!ET(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function aue(t){if(!fT(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function U1(t,e){if(!fT(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function B1(t){return t&&t[gI]!=null?t[gI]:typeof t?.readable!="boolean"?null:hT(t)?!1:fT(t)&&t.readable&&!U1(t)}function F1(t){return t&&t[NI]!=null?t[NI]:typeof t?.writable!="boolean"?null:hT(t)?!1:ET(t)&&t.writable&&!v1(t)}function lue(t,e){return ii(t)?hT(t)?!0:!(e?.readable!==!1&&B1(t)||e?.writable!==!1&&F1(t)):null}function cue(t){var e,r;return ii(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function uue(t){var e,r;return ii(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function due(t){if(!ii(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&G1(t)?t._closed:null}function G1(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function H1(t){return typeof t._sent100=="boolean"&&G1(t)}function fue(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Eue(t){if(!ii(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&H1(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function hue(t){var e;return!!(t&&((e=t[D1])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Tue(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[L1])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}W1.exports={isDestroyed:hT,kIsDestroyed:w1,isDisturbed:hue,kIsDisturbed:D1,isErrored:Tue,kIsErrored:L1,isReadable:B1,kIsReadable:gI,kIsClosedPromise:tue,kControllerErrorFunction:rue,kIsWritable:NI,isClosed:due,isDuplexNodeStream:nue,isFinished:lue,isIterable:sue,isReadableNodeStream:fT,isReadableStream:P1,isReadableEnded:aue,isReadableFinished:U1,isReadableErrored:uue,isNodeStream:ii,isWebStream:iue,isWritable:F1,isWritableNodeStream:ET,isWritableStream:x1,isWritableEnded:v1,isWritableFinished:oue,isWritableErrored:cue,isServerRequest:fue,isServerResponse:H1,willEmitClose:Eue,isTransformStream:M1}});var qi=O((_ve,wI)=>{"use strict";var vs=je(),{AbortError:K1,codes:pue}=yr(),{ERR_INVALID_ARG_TYPE:Sue,ERR_STREAM_PREMATURE_CLOSE:k1}=pue,{kEmptyObject:CI,once:yI}=Gr(),{validateAbortSignal:Rue,validateFunction:Aue,validateObject:mue,validateBoolean:_ue}=Il(),{Promise:Iue,PromisePrototypeThen:gue,SymbolDispose:J1}=ct(),{isClosed:Nue,isReadable:$1,isReadableNodeStream:OI,isReadableStream:Oue,isReadableFinished:Y1,isReadableErrored:V1,isWritable:q1,isWritableNodeStream:X1,isWritableStream:Cue,isWritableFinished:j1,isWritableErrored:z1,isNodeStream:yue,willEmitClose:bue,kIsClosedPromise:wue}=si(),gl;function Lue(t){return t.setHeader&&typeof t.abort=="function"}var bI=()=>{};function Q1(t,e,r){var n,i;if(arguments.length===2?(r=e,e=CI):e==null?e=CI:mue(e,"options"),Aue(r,"callback"),Rue(e.signal,"options.signal"),r=yI(r),Oue(t)||Cue(t))return Due(t,e,r);if(!yue(t))throw new Sue("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:OI(t),o=(i=e.writable)!==null&&i!==void 0?i:X1(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||E()},u=bue(t)&&OI(t)===s&&X1(t)===o,d=j1(t,!1),E=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=Y1(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},h=g=>{r.call(t,g)},p=Nue(t),S=()=>{p=!0;let g=z1(t)||V1(t);if(g&&typeof g!="boolean")return r.call(t,g);if(s&&!f&&OI(t,!0)&&!Y1(t,!1))return r.call(t,new k1);if(o&&!d&&!j1(t,!1))return r.call(t,new k1);r.call(t)},m=()=>{p=!0;let g=z1(t)||V1(t);if(g&&typeof g!="boolean")return r.call(t,g);r.call(t)},R=()=>{t.req.on("finish",E)};Lue(t)?(t.on("complete",E),u||t.on("abort",S),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",E),e.error!==!1&&t.on("error",h),t.on("close",S),p?vs.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||vs.nextTick(m):(!s&&(!u||$1(t))&&(d||q1(t)===!1)||!o&&(!u||q1(t))&&(f||$1(t)===!1)||l&&t.req&&t.aborted)&&vs.nextTick(m);let A=()=>{r=bI,t.removeListener("aborted",S),t.removeListener("complete",E),t.removeListener("abort",S),t.removeListener("request",R),t.req&&t.req.removeListener("finish",E),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",E),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!p){let g=()=>{let w=r;A(),w.call(t,new K1(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)vs.nextTick(g);else{gl=gl||Gr().addAbortListener;let w=gl(e.signal,g),I=r;r=yI((...D)=>{w[J1](),I.apply(t,D)})}}return A}function Due(t,e,r){let n=!1,i=bI;if(e.signal)if(i=()=>{n=!0,r.call(t,new K1(void 0,{cause:e.signal.reason}))},e.signal.aborted)vs.nextTick(i);else{gl=gl||Gr().addAbortListener;let o=gl(e.signal,i),a=r;r=yI((...l)=>{o[J1](),a.apply(t,l)})}let s=(...o)=>{n||vs.nextTick(()=>r.apply(t,o))};return gue(t[wue].promise,s,s),bI}function Pue(t,e){var r;let n=!1;return e===null&&(e=CI),(r=e)!==null&&r!==void 0&&r.cleanup&&(_ue(e.cleanup,"cleanup"),n=e.cleanup),new Iue((i,s)=>{let o=Q1(t,e,a=>{n&&o(),a?s(a):i()})})}wI.exports=Q1;wI.exports.finished=Pue});var vo=O((Ive,oG)=>{"use strict";var oi=je(),{aggregateTwoErrors:xue,codes:{ERR_MULTIPLE_CALLBACK:Mue},AbortError:vue}=yr(),{Symbol:tG}=ct(),{kIsDestroyed:Uue,isDestroyed:Bue,isFinished:Fue,isServerRequest:Gue}=si(),rG=tG("kDestroy"),LI=tG("kConstruct");function nG(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Hue(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(nG(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?Z1(this,t,e):this.once(rG,function(s){Z1(this,xue(s,t),e)}),this)}function Z1(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;nG(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?oi.nextTick(Wue,t,s):oi.nextTick(iG,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function Wue(t,e){DI(t,e),iG(t)}function iG(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function DI(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function kue(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function PI(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?oi.nextTick(DI,t,e):DI(t,e))}function $ue(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(LI,e),!(t.listenerCount(LI)>1)&&oi.nextTick(Yue,t)}function Yue(t){let e=!1;function r(n){if(e){PI(t,n??new Mue);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(rG,n):n?PI(t,n,!0):oi.nextTick(Vue,t)}try{t._construct(n=>{oi.nextTick(r,n)})}catch(n){oi.nextTick(r,n)}}function Vue(t){t.emit(LI)}function eG(t){return t?.setHeader&&typeof t.abort=="function"}function sG(t){t.emit("close")}function que(t,e){t.emit("error",e),oi.nextTick(sG,t)}function Xue(t,e){!t||Bue(t)||(!e&&!Fue(t)&&(e=new vue),Gue(t)?(t.socket=null,t.destroy(e)):eG(t)?t.abort():eG(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?oi.nextTick(que,t,e):oi.nextTick(sG,t),t.destroyed||(t[Uue]=!0))}oG.exports={construct:$ue,destroyer:Xue,destroy:Hue,undestroy:kue,errorOrDestroy:PI}});var ST=O((gve,lG)=>{"use strict";var{ArrayIsArray:jue,ObjectSetPrototypeOf:aG}=ct(),{EventEmitter:TT}=require("events");function pT(t){TT.call(this,t)}aG(pT.prototype,TT.prototype);aG(pT,TT);pT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),TT.listenerCount(this,"error")===0&&this.emit("error",u)}xI(r,"error",l),xI(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function xI(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):jue(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}lG.exports={Stream:pT,prependListener:xI}});var nd=O((Nve,RT)=>{"use strict";var{SymbolDispose:zue}=ct(),{AbortError:cG,codes:Kue}=yr(),{isNodeStream:uG,isWebStream:Jue,kControllerErrorFunction:Que}=si(),Zue=qi(),{ERR_INVALID_ARG_TYPE:dG}=Kue,MI,ede=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new dG(e,"AbortSignal",t)};RT.exports.addAbortSignal=function(e,r){if(ede(e,"signal"),!uG(r)&&!Jue(r))throw new dG("stream",["ReadableStream","WritableStream","Stream"],r);return RT.exports.addAbortSignalNoValidate(e,r)};RT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=uG(e)?()=>{e.destroy(new cG(void 0,{cause:t.reason}))}:()=>{e[Que](new cG(void 0,{cause:t.reason}))};if(t.aborted)r();else{MI=MI||Gr().addAbortListener;let n=MI(t,r);Zue(e,n[zue])}return e}});var hG=O((Cve,EG)=>{"use strict";var{StringPrototypeSlice:fG,SymbolIterator:tde,TypedArrayPrototypeSet:AT,Uint8Array:rde}=ct(),{Buffer:vI}=require("buffer"),{inspect:nde}=Gr();EG.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return vI.alloc(0);let r=vI.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)AT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[tde](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=fG(s,0,e),this.head=n,n.data=fG(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=vI.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)AT(r,o,n-e),e-=o.length;else{e===o.length?(AT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(AT(r,new rde(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return nde(this,{...r,depth:0,customInspect:!1})}}});var id=O((yve,RG)=>{"use strict";var{MathFloor:ide,NumberIsInteger:sde}=ct(),{validateInteger:ode}=Il(),{ERR_INVALID_ARG_VALUE:ade}=yr().codes,TG=16*1024,pG=16;function lde(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function SG(t){return t?pG:TG}function cde(t,e){ode(e,"value",0),t?pG=e:TG=e}function ude(t,e,r,n){let i=lde(e,n,r);if(i!=null){if(!sde(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new ade(s,i)}return ide(i)}return SG(t.objectMode)}RG.exports={getHighWaterMark:ude,getDefaultHighWaterMark:SG,setDefaultHighWaterMark:cde}});var UI=O((bve,IG)=>{"use strict";var AG=je(),{PromisePrototypeThen:dde,SymbolAsyncIterator:mG,SymbolIterator:_G}=ct(),{Buffer:fde}=require("buffer"),{ERR_INVALID_ARG_TYPE:Ede,ERR_STREAM_NULL_VALUES:hde}=yr().codes;function Tde(t,e,r){let n;if(typeof e=="string"||e instanceof fde)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[mG])i=!0,n=e[mG]();else if(e&&e[_G])i=!1,n=e[_G]();else throw new Ede("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){dde(a(c),()=>AG.nextTick(u,c),d=>AG.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:E,done:f}=await n.throw(c);if(await E,f)return}if(typeof n.return=="function"){let{value:E}=await n.return();await E}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new hde;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}IG.exports=Tde});var od=O((wve,HG)=>{"use strict";var xn=je(),{ArrayPrototypeIndexOf:pde,NumberIsInteger:Sde,NumberIsNaN:Rde,NumberParseInt:Ade,ObjectDefineProperties:YI,ObjectKeys:mde,ObjectSetPrototypeOf:OG,Promise:CG,SafeSet:_de,SymbolAsyncDispose:Ide,SymbolAsyncIterator:gde,Symbol:Nde}=ct();HG.exports=Re;Re.ReadableState=gT;var{EventEmitter:Ode}=require("events"),{Stream:Us,prependListener:Cde}=ST(),{Buffer:BI}=require("buffer"),{addAbortSignal:yde}=nd(),yG=qi(),Pe=Gr().debuglog("stream",t=>{Pe=t}),bde=hG(),Cl=vo(),{getHighWaterMark:wde,getDefaultHighWaterMark:Lde}=id(),{aggregateTwoErrors:gG,codes:{ERR_INVALID_ARG_TYPE:Dde,ERR_METHOD_NOT_IMPLEMENTED:Pde,ERR_OUT_OF_RANGE:xde,ERR_STREAM_PUSH_AFTER_EOF:Mde,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:vde},AbortError:Ude}=yr(),{validateObject:Bde}=Il(),Uo=Nde("kPaused"),{StringDecoder:bG}=_u(),Fde=UI();OG(Re.prototype,Us.prototype);OG(Re,Us);var FI=()=>{},{errorOrDestroy:Nl}=Cl,Ol=1,Gde=2,wG=4,sd=8,LG=16,mT=32,_T=64,DG=128,Hde=256,Wde=512,kde=1024,kI=2048,$I=4096,$de=8192,Yde=16384,Vde=32768,PG=65536,qde=1<<17,Xde=1<<18;function Ht(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}YI(gT.prototype,{objectMode:Ht(Ol),ended:Ht(Gde),endEmitted:Ht(wG),reading:Ht(sd),constructed:Ht(LG),sync:Ht(mT),needReadable:Ht(_T),emittedReadable:Ht(DG),readableListening:Ht(Hde),resumeScheduled:Ht(Wde),errorEmitted:Ht(kde),emitClose:Ht(kI),autoDestroy:Ht($I),destroyed:Ht($de),closed:Ht(Yde),closeEmitted:Ht(Vde),multiAwaitDrain:Ht(PG),readingMore:Ht(qde),dataEmitted:Ht(Xde)});function gT(t,e,r){typeof r!="boolean"&&(r=e instanceof ai()),this.state=kI|$I|LG|mT,t&&t.objectMode&&(this.state|=Ol),r&&t&&t.readableObjectMode&&(this.state|=Ol),this.highWaterMark=t?wde(this,t,"readableHighWaterMark",r):Lde(!1),this.buffer=new bde,this.length=0,this.pipes=[],this.flowing=null,this[Uo]=null,t&&t.emitClose===!1&&(this.state&=~kI),t&&t.autoDestroy===!1&&(this.state&=~$I),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new bG(t.encoding),this.encoding=t.encoding)}function Re(t){if(!(this instanceof Re))return new Re(t);let e=this instanceof ai();this._readableState=new gT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&yde(t.signal,this)),Us.call(this,t),Cl.construct(this,()=>{this._readableState.needReadable&&IT(this,this._readableState)})}Re.prototype.destroy=Cl.destroy;Re.prototype._undestroy=Cl.undestroy;Re.prototype._destroy=function(t,e){e(t)};Re.prototype[Ode.captureRejectionSymbol]=function(t){this.destroy(t)};Re.prototype[Ide]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Ude,this.destroy(t)),new CG((e,r)=>yG(this,n=>n&&n!==t?r(n):e(null)))};Re.prototype.push=function(t,e){return xG(this,t,e,!1)};Re.prototype.unshift=function(t,e){return xG(this,t,e,!0)};function xG(t,e,r,n){Pe("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ol)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=BI.from(e,r).toString(i.encoding):(e=BI.from(e,r),r=""))):e instanceof BI?r="":Us._isUint8Array(e)?(e=Us._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Dde("chunk",["string","Buffer","Uint8Array"],e))),s)Nl(t,s);else if(e===null)i.state&=~sd,Kde(t,i);else if((i.state&Ol)!==0||e&&e.length>0)if(n)if((i.state&wG)!==0)Nl(t,new vde);else{if(i.destroyed||i.errored)return!1;GI(t,i,e,!0)}else if(i.ended)Nl(t,new Mde);else{if(i.destroyed||i.errored)return!1;i.state&=~sd,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?GI(t,i,e,!1):IT(t,i)):GI(t,i,e,!1)}else n||(i.state&=~sd,IT(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function GI(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&PG)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&_T)!==0&&NT(t)),IT(t,e)}Re.prototype.isPaused=function(){let t=this._readableState;return t[Uo]===!0||t.flowing===!1};Re.prototype.setEncoding=function(t){let e=new bG(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var jde=1073741824;function zde(t){if(t>jde)throw new xde("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function NG(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ol)!==0?1:Rde(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Re.prototype.read=function(t){Pe("read",t),t===void 0?t=NaN:Sde(t)||(t=Ade(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=zde(t)),t!==0&&(e.state&=~DG),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Pe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?HI(this):NT(this),null;if(t=NG(t,e),t===0&&e.ended)return e.length===0&&HI(this),null;let n=(e.state&_T)!==0;if(Pe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Pe("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Pe("reading, ended or constructing",n);else if(n){Pe("do read"),e.state|=sd|mT,e.length===0&&(e.state|=_T);try{this._read(e.highWaterMark)}catch(s){Nl(this,s)}e.state&=~mT,e.reading||(t=NG(r,e))}let i;return t>0?i=FG(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&HI(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function Kde(t,e){if(Pe("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?NT(t):(e.needReadable=!1,e.emittedReadable=!0,MG(t))}}function NT(t){let e=t._readableState;Pe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Pe("emitReadable",e.flowing),e.emittedReadable=!0,xn.nextTick(MG,t))}function MG(t){let e=t._readableState;Pe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,UG(t)}function IT(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,xn.nextTick(Jde,t,e))}function Jde(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Pe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Re.prototype._read=function(t){throw new Pde("_read()")};Re.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new _de(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Pe("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==xn.stdout&&t!==xn.stderr?a:p;n.endEmitted?xn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,m){Pe("onunpipe"),S===r&&m&&m.hasUnpiped===!1&&(m.hasUnpiped=!0,u())}function a(){Pe("onend"),t.end()}let l,c=!1;function u(){Pe("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",E),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Pe("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Pe("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Qde(r,t),t.on("drain",l))}r.on("data",E);function E(S){Pe("ondata");let m=t.write(S);Pe("dest.write",m),m===!1&&d()}function f(S){if(Pe("onerror",S),p(),t.removeListener("error",f),t.listenerCount("error")===0){let m=t._writableState||t._readableState;m&&!m.errorEmitted?Nl(t,S):t.emit("error",S)}}Cde(t,"error",f);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){Pe("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){Pe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Pe("pipe resume"),r.resume()),t};function Qde(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Pe("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Pe("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Re.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=pde(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Re.prototype.on=function(t,e){let r=Us.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Pe("on readable",n.length,n.reading),n.length?NT(this):n.reading||xn.nextTick(Zde,this)),r};Re.prototype.addListener=Re.prototype.on;Re.prototype.removeListener=function(t,e){let r=Us.prototype.removeListener.call(this,t,e);return t==="readable"&&xn.nextTick(vG,this),r};Re.prototype.off=Re.prototype.removeListener;Re.prototype.removeAllListeners=function(t){let e=Us.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&xn.nextTick(vG,this),e};function vG(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Uo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Zde(t){Pe("readable nexttick read 0"),t.read(0)}Re.prototype.resume=function(){let t=this._readableState;return t.flowing||(Pe("resume"),t.flowing=!t.readableListening,efe(this,t)),t[Uo]=!1,this};function efe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,xn.nextTick(tfe,t,e))}function tfe(t,e){Pe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),UG(t),e.flowing&&!e.reading&&t.read(0)}Re.prototype.pause=function(){return Pe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Uo]=!0,this};function UG(t){let e=t._readableState;for(Pe("flow",e.flowing);e.flowing&&t.read()!==null;);}Re.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Nl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=mde(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Re.prototype[gde]=function(){return BG(this)};Re.prototype.iterator=function(t){return t!==void 0&&Bde(t,"options"),BG(this,t)};function BG(t,e){typeof t.read!="function"&&(t=Re.wrap(t,{objectMode:!0}));let r=rfe(t,e);return r.stream=t,r}async function*rfe(t,e){let r=FI;function n(o){this===t?(r(),r=FI):r=o}t.on("readable",n);let i,s=yG(t,{writable:!1},o=>{i=o?gG(i,o):null,r(),r=FI});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new CG(n)}}}catch(o){throw i=gG(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Cl.destroyer(t,null):(t.off("readable",n),s())}}YI(Re.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});YI(gT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Uo]!==!1},set(t){this[Uo]=!!t}}});Re._fromList=FG;function FG(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function HI(t){let e=t._readableState;Pe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,xn.nextTick(nfe,e,t))}function nfe(t,e){if(Pe("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)xn.nextTick(ife,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function ife(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Re.from=function(t,e){return Fde(Re,t,e)};var WI;function GG(){return WI===void 0&&(WI={}),WI}Re.fromWeb=function(t,e){return GG().newStreamReadableFromReadableStream(t,e)};Re.toWeb=function(t,e){return GG().newReadableStreamFromStreamReadable(t,e)};Re.wrap=function(t,e){var r,n;return new Re({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Cl.destroyer(t,i),s(i)}}).wrap(t)}});var wT=O((Lve,QG)=>{"use strict";var Bo=je(),{ArrayPrototypeSlice:$G,Error:sfe,FunctionPrototypeSymbolHasInstance:YG,ObjectDefineProperty:VG,ObjectDefineProperties:ofe,ObjectSetPrototypeOf:qG,StringPrototypeToLowerCase:afe,Symbol:lfe,SymbolHasInstance:cfe}=ct();QG.exports=Tt;Tt.WritableState=cd;var{EventEmitter:ufe}=require("events"),ad=ST().Stream,{Buffer:OT}=require("buffer"),bT=vo(),{addAbortSignal:dfe}=nd(),{getHighWaterMark:ffe,getDefaultHighWaterMark:Efe}=id(),{ERR_INVALID_ARG_TYPE:hfe,ERR_METHOD_NOT_IMPLEMENTED:Tfe,ERR_MULTIPLE_CALLBACK:XG,ERR_STREAM_CANNOT_PIPE:pfe,ERR_STREAM_DESTROYED:ld,ERR_STREAM_ALREADY_FINISHED:Sfe,ERR_STREAM_NULL_VALUES:Rfe,ERR_STREAM_WRITE_AFTER_END:Afe,ERR_UNKNOWN_ENCODING:jG}=yr().codes,{errorOrDestroy:yl}=bT;qG(Tt.prototype,ad.prototype);qG(Tt,ad);function XI(){}var bl=lfe("kOnFinished");function cd(t,e,r){typeof r!="boolean"&&(r=e instanceof ai()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?ffe(this,t,"writableHighWaterMark",r):Efe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=_fe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,yT(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[bl]=[]}function yT(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}cd.prototype.getBuffer=function(){return $G(this.buffered,this.bufferedIndex)};VG(cd.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Tt(t){let e=this instanceof ai();if(!e&&!YG(Tt,this))return new Tt(t);this._writableState=new cd(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&dfe(t.signal,this)),ad.call(this,t),bT.construct(this,()=>{let r=this._writableState;r.writing||zI(this,r),KI(this,r)})}VG(Tt,cfe,{__proto__:null,value:function(t){return YG(this,t)?!0:this!==Tt?!1:t&&t._writableState instanceof cd}});Tt.prototype.pipe=function(){yl(this,new pfe)};function zG(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!OT.isEncoding(r))throw new jG(r);typeof n!="function"&&(n=XI)}if(e===null)throw new Rfe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=OT.from(e,r),r="buffer");else if(e instanceof OT)r="buffer";else if(ad._isUint8Array(e))e=ad._uint8ArrayToBuffer(e),r="buffer";else throw new hfe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Afe:i.destroyed&&(s=new ld("write")),s?(Bo.nextTick(n,s),yl(t,s,!0),s):(i.pendingcb++,mfe(t,i,e,r,n))}Tt.prototype.write=function(t,e,r){return zG(this,t,e,r)===!0};Tt.prototype.cork=function(){this._writableState.corked++};Tt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||zI(this,t))};Tt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=afe(e)),!OT.isEncoding(e))throw new jG(e);return this._writableState.defaultEncoding=e,this};function mfe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==XI&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function WG(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ld("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function kG(t,e,r,n){--e.pendingcb,n(r),jI(e),yl(t,r)}function _fe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){yl(t,new XG);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Bo.nextTick(kG,t,r,e,i):kG(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&zI(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Bo.nextTick(Ife,r.afterWriteTickInfo)):KG(t,r,1,i))}function Ife({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,KG(t,e,r,n)}function KG(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&jI(e),KI(t,e)}function jI(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new ld("write"))}let r=t[bl].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new ld("end"))}yT(t)}function zI(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?XI:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:$G(r,o);l.allBuffers=e.allBuffers,WG(t,e,!0,e.length,l,"",a),yT(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;WG(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?yT(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}Tt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Tfe("_write()")};Tt.prototype._writev=null;Tt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=zG(this,t,e);s instanceof sfe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,KI(this,n,!0),n.ended=!0):n.finished?i=new Sfe("end"):n.destroyed&&(i=new ld("end"))),typeof r=="function"&&(i||n.finished?Bo.nextTick(r,i):n[bl].push(r)),this};function CT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function gfe(t,e){let r=!1;function n(i){if(r){yl(t,i??XG());return}if(r=!0,e.pendingcb--,i){let s=e[bl].splice(0);for(let o=0;o<s.length;o++)s[o](i);yl(t,i,e.sync)}else CT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Bo.nextTick(qI,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Nfe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,gfe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function KI(t,e,r){CT(e)&&(Nfe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Bo.nextTick((n,i)=>{CT(i)?qI(n,i):i.pendingcb--},t,e)):CT(e)&&(e.pendingcb++,qI(t,e))))}function qI(t,e){e.pendingcb--,e.finished=!0;let r=e[bl].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}ofe(Tt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Ofe=bT.destroy;Tt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[bl].length)&&Bo.nextTick(jI,r),Ofe.call(this,t,e),this};Tt.prototype._undestroy=bT.undestroy;Tt.prototype._destroy=function(t,e){e(t)};Tt.prototype[ufe.captureRejectionSymbol]=function(t){this.destroy(t)};var VI;function JG(){return VI===void 0&&(VI={}),VI}Tt.fromWeb=function(t,e){return JG().newStreamWritableFromWritableStream(t,e)};Tt.toWeb=function(t){return JG().newWritableStreamFromStreamWritable(t)}});var EH=O((Dve,fH)=>{var JI=je(),Cfe=require("buffer"),{isReadable:yfe,isWritable:bfe,isIterable:ZG,isNodeStream:wfe,isReadableNodeStream:eH,isWritableNodeStream:tH,isDuplexNodeStream:Lfe,isReadableStream:rH,isWritableStream:nH}=si(),iH=qi(),{AbortError:uH,codes:{ERR_INVALID_ARG_TYPE:Dfe,ERR_INVALID_RETURN_VALUE:sH}}=yr(),{destroyer:Ll}=vo(),Pfe=ai(),dH=od(),xfe=wT(),{createDeferredPromise:oH}=Gr(),aH=UI(),lH=globalThis.Blob||Cfe.Blob,Mfe=typeof lH<"u"?function(e){return e instanceof lH}:function(e){return!1},vfe=globalThis.AbortController||wt().AbortController,{FunctionPrototypeCall:cH}=ct(),Bs=class extends Pfe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};fH.exports=function t(e,r){if(Lfe(e))return e;if(eH(e))return wl({readable:e});if(tH(e))return wl({writable:e});if(wfe(e))return wl({writable:!1,readable:!1});if(rH(e))return wl({readable:dH.fromWeb(e)});if(nH(e))return wl({writable:xfe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Ufe(e);if(ZG(i))return aH(Bs,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=cH(l,i,d=>{if(d!=null)throw new sH("nully","body",d)},d=>{Ll(c,d)});return c=new Bs({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,JI.nextTick(d,null)}catch(E){JI.nextTick(d,E)}})},destroy:a})}throw new sH("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Mfe(e))return t(e.arrayBuffer());if(ZG(e))return aH(Bs,e,{objectMode:!0,writable:!1});if(rH(e?.readable)&&nH(e?.writable))return Bs.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?eH(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?tH(e?.writable)?e?.writable:t(e.writable):void 0;return wl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return cH(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Ll(i,s)}),i=new Bs({objectMode:!0,writable:!1,read(){}})}throw new Dfe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Ufe(t){let{promise:e,resolve:r}=oH(),n=new vfe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(JI.nextTick(c),l)return;if(i.aborted)throw new uH(void 0,{cause:i.reason});({promise:e,resolve:r}=oH()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function wl(t){let e=t.readable&&typeof t.readable.read!="function"?dH.wrap(t.readable):t.readable,r=t.writable,n=!!yfe(e),i=!!bfe(r),s,o,a,l,c;function u(d){let E=l;l=null,E?E(d):d&&c.destroy(d)}return c=new Bs({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(iH(r,d=>{i=!1,d&&Ll(e,d),u(d)}),c._write=function(d,E,f){r.write(d,E)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(iH(e,d=>{n=!1,d&&Ll(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,E){!d&&l!==null&&(d=new uH),a=null,s=null,o=null,l===null?E(d):(l=E,Ll(r,d),Ll(e,d))},c}});var ai=O((Pve,pH)=>{"use strict";var{ObjectDefineProperties:Bfe,ObjectGetOwnPropertyDescriptor:Xi,ObjectKeys:Ffe,ObjectSetPrototypeOf:hH}=ct();pH.exports=Mn;var eg=od(),Sn=wT();hH(Mn.prototype,eg.prototype);hH(Mn,eg);{let t=Ffe(Sn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Mn.prototype[r]||(Mn.prototype[r]=Sn.prototype[r])}}function Mn(t){if(!(this instanceof Mn))return new Mn(t);eg.call(this,t),Sn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Bfe(Mn.prototype,{writable:{__proto__:null,...Xi(Sn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Xi(Sn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Xi(Sn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Xi(Sn.prototype,"writableBuffer")},writableLength:{__proto__:null,...Xi(Sn.prototype,"writableLength")},writableFinished:{__proto__:null,...Xi(Sn.prototype,"writableFinished")},writableCorked:{__proto__:null,...Xi(Sn.prototype,"writableCorked")},writableEnded:{__proto__:null,...Xi(Sn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Xi(Sn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var QI;function TH(){return QI===void 0&&(QI={}),QI}Mn.fromWeb=function(t,e){return TH().newStreamDuplexFromReadableWritablePair(t,e)};Mn.toWeb=function(t){return TH().newReadableWritablePairFromDuplex(t)};var ZI;Mn.from=function(t){return ZI||(ZI=EH()),ZI(t,"body")}});var ng=O((xve,RH)=>{"use strict";var{ObjectSetPrototypeOf:SH,Symbol:Gfe}=ct();RH.exports=ji;var{ERR_METHOD_NOT_IMPLEMENTED:Hfe}=yr().codes,rg=ai(),{getHighWaterMark:Wfe}=id();SH(ji.prototype,rg.prototype);SH(ji,rg);var ud=Gfe("kCallback");function ji(t){if(!(this instanceof ji))return new ji(t);let e=t?Wfe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),rg.call(this,t),this._readableState.sync=!1,this[ud]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",kfe)}function tg(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function kfe(){this._final!==tg&&tg.call(this)}ji.prototype._final=tg;ji.prototype._transform=function(t,e,r){throw new Hfe("_transform()")};ji.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[ud]=r})};ji.prototype._read=function(){if(this[ud]){let t=this[ud];this[ud]=null,t()}}});var sg=O((Mve,mH)=>{"use strict";var{ObjectSetPrototypeOf:AH}=ct();mH.exports=Dl;var ig=ng();AH(Dl.prototype,ig.prototype);AH(Dl,ig);function Dl(t){if(!(this instanceof Dl))return new Dl(t);ig.call(this,t)}Dl.prototype._transform=function(t,e,r){r(null,t)}});var xT=O((vve,OH)=>{var dd=je(),{ArrayIsArray:$fe,Promise:Yfe,SymbolAsyncIterator:Vfe,SymbolDispose:qfe}=ct(),PT=qi(),{once:Xfe}=Gr(),jfe=vo(),_H=ai(),{aggregateTwoErrors:zfe,codes:{ERR_INVALID_ARG_TYPE:hg,ERR_INVALID_RETURN_VALUE:og,ERR_MISSING_ARGS:Kfe,ERR_STREAM_DESTROYED:Jfe,ERR_STREAM_PREMATURE_CLOSE:Qfe},AbortError:Zfe}=yr(),{validateFunction:eEe,validateAbortSignal:tEe}=Il(),{isIterable:Fo,isReadable:ag,isReadableNodeStream:DT,isNodeStream:IH,isTransformStream:Pl,isWebStream:rEe,isReadableStream:lg,isReadableFinished:nEe}=si(),iEe=globalThis.AbortController||wt().AbortController,cg,ug,dg;function gH(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=PT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,jfe.destroyer(t,s||new Jfe("pipe")))},cleanup:i}}function sEe(t){return eEe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function fg(t){if(Fo(t))return t;if(DT(t))return oEe(t);throw new hg("val",["Readable","Iterable","AsyncIterable"],t)}async function*oEe(t){ug||(ug=od()),yield*ug.prototype[Vfe].call(t)}async function LT(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new Yfe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=PT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?zfe(i,c):c)}finally{l(),e.off("drain",o)}}async function Eg(t,e,r,{end:n}){Pl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function aEe(...t){return NH(t,Xfe(sEe(t)))}function NH(t,e,r){if(t.length===1&&$fe(t[0])&&(t=t[0]),t.length<2)throw new Kfe("streams");let n=new iEe,i=n.signal,s=r?.signal,o=[];tEe(s,"options.signal");function a(){T(new Zfe)}dg=dg||Gr().addAbortListener;let l;s&&(l=dg(s,a));let c,u,d=[],E=0;function f(R){T(R,--E===0)}function T(R,A){var g;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;d.length;)d.shift()(c);(g=l)===null||g===void 0||g[qfe](),n.abort(),A&&(c||o.forEach(w=>w()),dd.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],g=R<t.length-1,w=R>0,I=g||r?.end!==!1,D=R===t.length-1;if(IH(A)){let b=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var m=b;if(I){let{destroy:P,cleanup:M}=gH(A,g,w);d.push(P),ag(A)&&D&&o.push(M)}A.on("error",b),ag(A)&&D&&o.push(()=>{A.removeListener("error",b)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!Fo(h))throw new og("Iterable, AsyncIterable or Stream","source",h)}else Fo(A)||DT(A)||Pl(A)?h=A:h=_H.from(A);else if(typeof A=="function"){if(Pl(h)){var p;h=fg((p=h)===null||p===void 0?void 0:p.readable)}else h=fg(h);if(h=A(h,{signal:i}),g){if(!Fo(h,!0))throw new og("AsyncIterable",`transform[${R-1}]`,h)}else{var S;cg||(cg=sg());let b=new cg({objectMode:!0}),P=(S=h)===null||S===void 0?void 0:S.then;if(typeof P=="function")E++,P.call(h,F=>{u=F,F!=null&&b.write(F),I&&b.end(),dd.nextTick(f)},F=>{b.destroy(F),dd.nextTick(f,F)});else if(Fo(h,!0))E++,LT(h,b,f,{end:I});else if(lg(h)||Pl(h)){let F=h.readable||h;E++,LT(F,b,f,{end:I})}else throw new og("AsyncIterable or Promise","destination",h);h=b;let{destroy:M,cleanup:B}=gH(h,!1,!0);d.push(M),D&&o.push(B)}}else if(IH(A)){if(DT(h)){E+=2;let b=lEe(h,A,f,{end:I});ag(A)&&D&&o.push(b)}else if(Pl(h)||lg(h)){let b=h.readable||h;E++,LT(b,A,f,{end:I})}else if(Fo(h))E++,LT(h,A,f,{end:I});else throw new hg("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(rEe(A)){if(DT(h))E++,Eg(fg(h),A,f,{end:I});else if(lg(h)||Fo(h))E++,Eg(h,A,f,{end:I});else if(Pl(h))E++,Eg(h.readable,A,f,{end:I});else throw new hg("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=_H.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&dd.nextTick(a),h}function lEe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Qfe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;nEe(t)?dd.nextTick(o):t.once("end",o)}else r();return PT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),PT(e,{readable:!1,writable:!0},r)}OH.exports={pipelineImpl:NH,pipeline:aEe}});var pg=O((Uve,DH)=>{"use strict";var{pipeline:cEe}=xT(),MT=ai(),{destroyer:uEe}=vo(),{isNodeStream:vT,isReadable:CH,isWritable:yH,isWebStream:Tg,isTransformStream:Go,isWritableStream:bH,isReadableStream:wH}=si(),{AbortError:dEe,codes:{ERR_INVALID_ARG_VALUE:LH,ERR_MISSING_ARGS:fEe}}=yr(),EEe=qi();DH.exports=function(...e){if(e.length===0)throw new fEe("streams");if(e.length===1)return MT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=MT.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=MT.from(e[f])}for(let f=0;f<e.length;++f)if(!(!vT(e[f])&&!Tg(e[f]))){if(f<e.length-1&&!(CH(e[f])||wH(e[f])||Go(e[f])))throw new LH(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(yH(e[f])||bH(e[f])||Go(e[f])))throw new LH(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!E&&!d&&a.destroy()}let c=e[0],u=cEe(e,l),d=!!(yH(c)||bH(c)||Go(c)),E=!!(CH(u)||wH(u)||Go(u));if(a=new MT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:E}),d){if(vT(c))a._write=function(T,h,p){c.write(T,h)?p():n=p},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(Tg(c)){let h=(Go(c)?c.writable:c).getWriter();a._write=async function(p,S,m){try{await h.ready,h.write(p).catch(()=>{}),m()}catch(R){m(R)}},a._final=async function(p){try{await h.ready,h.close().catch(()=>{}),i=p}catch(S){p(S)}}}let f=Go(u)?u.readable:u;EEe(f,()=>{if(i){let T=i;i=null,T()}})}if(E){if(vT(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(Tg(u)){let T=(Go(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:p}=await T.read();if(!a.push(h))return;if(p){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new dEe),s=null,n=null,i=null,o===null?T(f):(o=T,vT(u)&&uEe(u,f))},a}});var WH=O((Bve,Ag)=>{"use strict";var hEe=globalThis.AbortController||wt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:TEe,ERR_INVALID_ARG_TYPE:fd,ERR_MISSING_ARGS:pEe,ERR_OUT_OF_RANGE:SEe},AbortError:li}=yr(),{validateAbortSignal:Ho,validateInteger:PH,validateObject:Wo}=Il(),REe=ct().Symbol("kWeak"),AEe=ct().Symbol("kResistStopPropagation"),{finished:mEe}=qi(),_Ee=pg(),{addAbortSignalNoValidate:IEe}=nd(),{isWritable:gEe,isNodeStream:NEe}=si(),{deprecate:OEe}=Gr(),{ArrayPrototypePush:CEe,Boolean:yEe,MathFloor:xH,Number:bEe,NumberIsNaN:wEe,Promise:MH,PromiseReject:vH,PromiseResolve:LEe,PromisePrototypeThen:UH,Symbol:FH}=ct(),UT=FH("kEmpty"),BH=FH("kEof");function DEe(t,e){if(e!=null&&Wo(e,"options"),e?.signal!=null&&Ho(e.signal,"options.signal"),NEe(t)&&!gEe(t))throw new TEe("stream",t,"must be writable");let r=_Ee(this,t);return e!=null&&e.signal&&IEe(e.signal,r),r}function BT(t,e){if(typeof t!="function")throw new fd("fn",["Function","AsyncFunction"],t);e!=null&&Wo(e,"options"),e?.signal!=null&&Ho(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=xH(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=xH(e.highWaterMark)),PH(r,"options.concurrency",1),PH(n,"options.highWaterMark",0),n+=r,async function*(){let s=Gr().AbortSignalAny([e?.signal].filter(yEe)),o=this,a=[],l={signal:s},c,u,d=!1,E=0;function f(){d=!0,T()}function T(){E-=1,h()}function h(){u&&!d&&E<r&&a.length<n&&(u(),u=null)}async function p(){try{for await(let S of o){if(d)return;if(s.aborted)throw new li;try{if(S=t(S,l),S===UT)continue;S=LEe(S)}catch(m){S=vH(m)}E+=1,UH(S,T,f),a.push(S),c&&(c(),c=null),!d&&(a.length>=n||E>=r)&&await new MH(m=>{u=m})}a.push(BH)}catch(S){let m=vH(S);UH(m,T,f),a.push(m)}finally{d=!0,c&&(c(),c=null)}}p();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===BH)return;if(s.aborted)throw new li;S!==UT&&(yield S),a.shift(),h()}await new MH(S=>{c=S})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function PEe(t=void 0){return t!=null&&Wo(t,"options"),t?.signal!=null&&Ho(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new li({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function GH(t,e=void 0){for await(let r of Rg.call(this,t,e))return!0;return!1}async function xEe(t,e=void 0){if(typeof t!="function")throw new fd("fn",["Function","AsyncFunction"],t);return!await GH.call(this,async(...r)=>!await t(...r),e)}async function MEe(t,e){for await(let r of Rg.call(this,t,e))return r}async function vEe(t,e){if(typeof t!="function")throw new fd("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),UT}for await(let n of BT.call(this,r,e));}function Rg(t,e){if(typeof t!="function")throw new fd("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:UT}return BT.call(this,r,e)}var Sg=class extends pEe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function UEe(t,e,r){var n;if(typeof t!="function")throw new fd("reducer",["Function","AsyncFunction"],t);r!=null&&Wo(r,"options"),r?.signal!=null&&Ho(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new li(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await mEe(this.destroy(c)),c}let s=new hEe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[REe]:this,[AEe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new li;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new Sg}finally{s.abort()}return e}async function BEe(t){t!=null&&Wo(t,"options"),t?.signal!=null&&Ho(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new li(void 0,{cause:t.signal.reason});CEe(e,n)}return e}function FEe(t,e){let r=BT.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function HH(t){if(t=bEe(t),wEe(t))return 0;if(t<0)throw new SEe("number",">= 0",t);return t}function GEe(t,e=void 0){return e!=null&&Wo(e,"options"),e?.signal!=null&&Ho(e.signal,"options.signal"),t=HH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new li;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new li;t--<=0&&(yield s)}}.call(this)}function HEe(t,e=void 0){return e!=null&&Wo(e,"options"),e?.signal!=null&&Ho(e.signal,"options.signal"),t=HH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new li;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new li;if(t-- >0&&(yield s),t<=0)return}}.call(this)}Ag.exports.streamReturningOperators={asIndexedPairs:OEe(PEe,"readable.asIndexedPairs will be removed in a future version."),drop:GEe,filter:Rg,flatMap:FEe,map:BT,take:HEe,compose:DEe};Ag.exports.promiseReturningOperators={every:xEe,forEach:vEe,reduce:UEe,toArray:BEe,some:GH,find:MEe}});var mg=O((Fve,kH)=>{"use strict";var{ArrayPrototypePop:WEe,Promise:kEe}=ct(),{isIterable:$Ee,isNodeStream:YEe,isWebStream:VEe}=si(),{pipelineImpl:qEe}=xT(),{finished:XEe}=qi();_g();function jEe(...t){return new kEe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!YEe(s)&&!$Ee(s)&&!VEe(s)){let o=WEe(t);n=o.signal,i=o.end}qEe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}kH.exports={finished:XEe,pipeline:jEe}});var _g=O((Gve,JH)=>{"use strict";var{Buffer:zEe}=require("buffer"),{ObjectDefineProperty:zi,ObjectKeys:VH,ReflectApply:qH}=ct(),{promisify:{custom:XH}}=Gr(),{streamReturningOperators:$H,promiseReturningOperators:YH}=WH(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:jH}}=yr(),KEe=pg(),{setDefaultHighWaterMark:JEe,getDefaultHighWaterMark:QEe}=id(),{pipeline:zH}=xT(),{destroyer:ZEe}=vo(),KH=qi(),Ig=mg(),Ed=si(),it=JH.exports=ST().Stream;it.isDestroyed=Ed.isDestroyed;it.isDisturbed=Ed.isDisturbed;it.isErrored=Ed.isErrored;it.isReadable=Ed.isReadable;it.isWritable=Ed.isWritable;it.Readable=od();for(let t of VH($H)){let r=function(...n){if(new.target)throw jH();return it.Readable.from(qH(e,this,n))},e=$H[t];zi(r,"name",{__proto__:null,value:e.name}),zi(r,"length",{__proto__:null,value:e.length}),zi(it.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of VH(YH)){let r=function(...n){if(new.target)throw jH();return qH(e,this,n)},e=YH[t];zi(r,"name",{__proto__:null,value:e.name}),zi(r,"length",{__proto__:null,value:e.length}),zi(it.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}it.Writable=wT();it.Duplex=ai();it.Transform=ng();it.PassThrough=sg();it.pipeline=zH;var{addAbortSignal:ehe}=nd();it.addAbortSignal=ehe;it.finished=KH;it.destroy=ZEe;it.compose=KEe;it.setDefaultHighWaterMark=JEe;it.getDefaultHighWaterMark=QEe;zi(it,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Ig}});zi(zH,XH,{__proto__:null,enumerable:!0,get(){return Ig.pipeline}});zi(KH,XH,{__proto__:null,enumerable:!0,get(){return Ig.finished}});it.Stream=it;it._isUint8Array=function(e){return e instanceof Uint8Array};it._uint8ArrayToBuffer=function(e){return zEe.from(e.buffer,e.byteOffset,e.byteLength)}});var gg=O((Hve,Ce)=>{"use strict";var Wt=require("stream");if(Wt&&process.env.READABLE_STREAM==="disable"){let t=Wt.promises;Ce.exports._uint8ArrayToBuffer=Wt._uint8ArrayToBuffer,Ce.exports._isUint8Array=Wt._isUint8Array,Ce.exports.isDisturbed=Wt.isDisturbed,Ce.exports.isErrored=Wt.isErrored,Ce.exports.isReadable=Wt.isReadable,Ce.exports.Readable=Wt.Readable,Ce.exports.Writable=Wt.Writable,Ce.exports.Duplex=Wt.Duplex,Ce.exports.Transform=Wt.Transform,Ce.exports.PassThrough=Wt.PassThrough,Ce.exports.addAbortSignal=Wt.addAbortSignal,Ce.exports.finished=Wt.finished,Ce.exports.destroy=Wt.destroy,Ce.exports.pipeline=Wt.pipeline,Ce.exports.compose=Wt.compose,Object.defineProperty(Wt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Ce.exports.Stream=Wt.Stream}else{let t=_g(),e=mg(),r=t.Readable.destroy;Ce.exports=t.Readable,Ce.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Ce.exports._isUint8Array=t._isUint8Array,Ce.exports.isDisturbed=t.isDisturbed,Ce.exports.isErrored=t.isErrored,Ce.exports.isReadable=t.isReadable,Ce.exports.Readable=t.Readable,Ce.exports.Writable=t.Writable,Ce.exports.Duplex=t.Duplex,Ce.exports.Transform=t.Transform,Ce.exports.PassThrough=t.PassThrough,Ce.exports.addAbortSignal=t.addAbortSignal,Ce.exports.finished=t.finished,Ce.exports.destroy=t.destroy,Ce.exports.destroy=r,Ce.exports.pipeline=t.pipeline,Ce.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Ce.exports.Stream=t.Stream}Ce.exports.default=Ce.exports});var rW=O((Wve,tW)=>{var Cg=require("fs"),ZH=Zw(),QH=tL(),Ng=require("path"),ci=ml(),the=require("util").inherits,gt=c1(),eW=gg().Transform,Og=process.platform==="win32",Ve=function(t,e){if(!(this instanceof Ve))return new Ve(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=ci.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),eW.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=QH.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=QH.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};the(Ve,eW);Ve.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};Ve.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof Cg.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};Ve.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};Ve.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};Ve.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};Ve.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new gt("NOENDMETHOD"))};Ve.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};Ve.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};Ve.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};Ve.prototype._normalizeEntryData=function(t,e){t=ci.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=ci.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?Og?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(Og?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,Og&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=ci.dateify(t.date),t};Ve.prototype._onModuleError=function(t){this.emit("error",t)};Ve.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};Ve.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};Ve.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}Cg.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};Ve.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};Ve.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};Ve.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=ci.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=ci.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=ci.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=Cg.readlinkSync(t.filepath),n=Ng.dirname(t.filepath);t.data.type="symlink",t.data.linkname=Ng.relative(n,Ng.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new gt("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new gt("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new gt("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};Ve.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};Ve.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new gt("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new gt("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new gt("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=ci.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(ci.isStream(t))e.sourceType="stream";else return this.emit("error",new gt("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};Ve.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new gt("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new gt("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function o(c){this.emit("error",c)}function a(c){l.pause();var u=!1,d=Object.assign({},r);d.name=c.relative,d.prefix=e,d.stats=c.stat,d.callback=l.resume.bind(l);try{if(n){if(d=n(d),d===!1)u=!0;else if(typeof d!="object")throw new gt("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(E){this.emit("error",E);return}if(u){l.resume();return}this._append(c.absolute,d)}var l=ZH(t,i);return l.on("error",o.bind(this)),l.on("match",a.bind(this)),l.on("end",s.bind(this)),this};Ve.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new gt("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new gt("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};Ve.prototype.glob=function(t,e,r){this._pending++,e=ci.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(a){this.emit("error",a)}function s(a){o.pause();var l=Object.assign({},r);l.callback=o.resume.bind(o),l.stats=a.stat,l.name=a.relative,this._append(a.absolute,l)}var o=ZH(e.cwd||".",e);return o.on("error",i.bind(this)),o.on("match",s.bind(this)),o.on("end",n.bind(this)),this};Ve.prototype.finalize=function(){if(this._state.aborted){var t=new gt("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new gt("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(o){s=!0,i(o)})})};Ve.prototype.setFormat=function(t){return this._format?(this.emit("error",new gt("FORMATSET")),this):(this._format=t,this)};Ve.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new gt("ABORTED")),this):this._state.module?(this.emit("error",new gt("MODULESET")),this):(this._module=t,this._modulePipe(),this)};Ve.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new gt("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new gt("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new gt("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new gt("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};Ve.prototype.pointer=function(){return this._pointer};Ve.prototype.use=function(t){return this._streams.push(t),this};tW.exports=Ve});var GT=O((kve,nW)=>{var FT=nW.exports=function(){};FT.prototype.getName=function(){};FT.prototype.getSize=function(){};FT.prototype.getLastModifiedDate=function(){};FT.prototype.isDirectory=function(){}});var HT=O(($ve,iW)=>{var Rn=iW.exports={};Rn.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};Rn.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};Rn.fromDosTime=function(t){return Rn.dosToDate(t.readUInt32LE(0))};Rn.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};Rn.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};Rn.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};Rn.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};Rn.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};Rn.toDosTime=function(t){return Rn.getLongBytes(Rn.dateToDos(t))}});var yg=O((Yve,uW)=>{var sW=HT(),oW=8,aW=1,rhe=4,nhe=2,lW=64,cW=2048,pr=uW.exports=function(){return this instanceof pr?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new pr};pr.prototype.encode=function(){return sW.getShortBytes((this.descriptor?oW:0)|(this.utf8?cW:0)|(this.encryption?aW:0)|(this.strongEncryption?lW:0))};pr.prototype.parse=function(t,e){var r=sW.getShortBytesValue(t,e),n=new pr;return n.useDataDescriptor((r&oW)!==0),n.useUTF8ForNames((r&cW)!==0),n.useStrongEncryption((r&lW)!==0),n.useEncryption((r&aW)!==0),n.setSlidingDictionarySize((r&nhe)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&rhe)!==0?3:2),n};pr.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};pr.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};pr.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};pr.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};pr.prototype.useDataDescriptor=function(t){this.descriptor=t};pr.prototype.usesDataDescriptor=function(){return this.descriptor};pr.prototype.useEncryption=function(t){this.encryption=t};pr.prototype.usesEncryption=function(){return this.encryption};pr.prototype.useStrongEncryption=function(t){this.strongEncryption=t};pr.prototype.usesStrongEncryption=function(){return this.strongEncryption};pr.prototype.useUTF8ForNames=function(t){this.utf8=t};pr.prototype.usesUTF8ForNames=function(){return this.utf8}});var fW=O((Vve,dW)=>{dW.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var bg=O((qve,EW)=>{EW.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var wg=O((Xve,RW)=>{var ihe=require("util").inherits,she=jA(),TW=GT(),pW=yg(),hW=fW(),Hr=bg(),SW=HT(),Ie=RW.exports=function(t){if(!(this instanceof Ie))return new Ie(t);TW.call(this),this.platform=Hr.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new pW,this.crc=0,this.time=-1,this.minver=Hr.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};ihe(Ie,TW);Ie.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};Ie.prototype.getComment=function(){return this.comment!==null?this.comment:""};Ie.prototype.getCompressedSize=function(){return this.csize};Ie.prototype.getCrc=function(){return this.crc};Ie.prototype.getExternalAttributes=function(){return this.exattr};Ie.prototype.getExtra=function(){return this.extra!==null?this.extra:Hr.EMPTY};Ie.prototype.getGeneralPurposeBit=function(){return this.gpb};Ie.prototype.getInternalAttributes=function(){return this.inattr};Ie.prototype.getLastModifiedDate=function(){return this.getTime()};Ie.prototype.getLocalFileDataExtra=function(){return this.getExtra()};Ie.prototype.getMethod=function(){return this.method};Ie.prototype.getName=function(){return this.name};Ie.prototype.getPlatform=function(){return this.platform};Ie.prototype.getSize=function(){return this.size};Ie.prototype.getTime=function(){return this.time!==-1?SW.dosToDate(this.time):-1};Ie.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};Ie.prototype.getUnixMode=function(){return this.platform!==Hr.PLATFORM_UNIX?0:this.getExternalAttributes()>>Hr.SHORT_SHIFT&Hr.SHORT_MASK};Ie.prototype.getVersionNeededToExtract=function(){return this.minver};Ie.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};Ie.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};Ie.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};Ie.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};Ie.prototype.setExtra=function(t){this.extra=t};Ie.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof pW))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};Ie.prototype.setInternalAttributes=function(t){this.inattr=t};Ie.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};Ie.prototype.setName=function(t,e=!1){t=she(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};Ie.prototype.setPlatform=function(t){this.platform=t};Ie.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};Ie.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=SW.dateToDos(t,e)};Ie.prototype.setUnixMode=function(t){t|=this.isDirectory()?Hr.S_IFDIR:Hr.S_IFREG;var e=0;e|=t<<Hr.SHORT_SHIFT|(this.isDirectory()?Hr.S_DOS_D:Hr.S_DOS_A),this.setExternalAttributes(e),this.mode=t&Hr.MODE_MASK,this.platform=Hr.PLATFORM_UNIX};Ie.prototype.setVersionNeededToExtract=function(t){this.minver=t};Ie.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};Ie.prototype.isUnixSymlink=function(){return(this.getUnixMode()&hW.FILE_TYPE_FLAG)===hW.LINK_FLAG};Ie.prototype.isZip64=function(){return this.csize>Hr.ZIP64_MAGIC||this.size>Hr.ZIP64_MAGIC}});var ut=O((jve,AW)=>{"use strict";var Lg=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};AW.exports={AggregateError:Lg,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var Dg=O((zve,mW)=>{"use strict";mW.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var wr=O((Kve,gW)=>{"use strict";var{format:ohe,inspect:WT}=Dg(),{AggregateError:ahe}=ut(),lhe=globalThis.AggregateError||ahe,che=Symbol("kIsNodeError"),uhe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],dhe=/^([A-Z][a-z0-9]*)+$/,fhe="__node_internal_",kT={};function ko(t,e){if(!t)throw new kT.ERR_INTERNAL_ASSERTION(e)}function _W(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Ehe(t,e,r){if(typeof e=="function")return ko(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return ko(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:ohe(e,...r)}function Sr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Ehe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[che]=!0,kT[t]=n}function IW(t){let e=fhe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function hhe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new lhe([e,t],e.message);return r.code=e.code,r}return t||e}var Pg=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new kT.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Sr("ERR_ASSERTION","%s",Error);Sr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{ko(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)ko(typeof l=="string","All expected entries have to be of type string"),uhe.includes(l)?i.push(l.toLowerCase()):dhe.test(l)?s.push(l):(ko(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=WT(r,{depth:-1});n+=`. Received ${l}`}}else{let l=WT(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Sr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=WT(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Sr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Sr("ERR_MISSING_ARGS",(...t)=>{ko(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Sr("ERR_OUT_OF_RANGE",(t,e,r)=>{ko(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=_W(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=_W(n)),n+="n"}else n=WT(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Sr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Sr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Sr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Sr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Sr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Sr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Sr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Sr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Sr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Sr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Sr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);gW.exports={AbortError:Pg,aggregateTwoErrors:IW(hhe),hideStackFrames:IW,codes:kT}});var Wr=O((Jve,Mg)=>{"use strict";var The=require("buffer"),{format:phe,inspect:She}=Dg(),{codes:{ERR_INVALID_ARG_TYPE:xg}}=wr(),{kResistStopPropagation:Rhe,AggregateError:Ahe,SymbolDispose:mhe}=ut(),_he=globalThis.AbortSignal||wt().AbortSignal,Ihe=globalThis.AbortController||wt().AbortController,ghe=Object.getPrototypeOf(async function(){}).constructor,NW=globalThis.Blob||The.Blob,Nhe=typeof NW<"u"?function(e){return e instanceof NW}:function(e){return!1},OW=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new xg(e,"AbortSignal",t)},Ohe=(t,e)=>{if(typeof t!="function")throw new xg(e,"Function",t)};Mg.exports={AggregateError:Ahe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:phe,inspect:She,types:{isAsyncFunction(t){return t instanceof ghe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Nhe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new xg("signal","AbortSignal",e);OW(e,"signal"),Ohe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Rhe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[mhe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:_he.any||function(e){if(e.length===1)return e[0];let r=new Ihe,n=()=>r.abort();return e.forEach(i=>{OW(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};Mg.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Ml=O((Qve,vW)=>{"use strict";var{ArrayIsArray:Ug,ArrayPrototypeIncludes:wW,ArrayPrototypeJoin:LW,ArrayPrototypeMap:Che,NumberIsInteger:Bg,NumberIsNaN:yhe,NumberMAX_SAFE_INTEGER:bhe,NumberMIN_SAFE_INTEGER:whe,NumberParseInt:Lhe,ObjectPrototypeHasOwnProperty:Dhe,RegExpPrototypeExec:DW,String:Phe,StringPrototypeToUpperCase:xhe,StringPrototypeTrim:Mhe}=ut(),{hideStackFrames:An,codes:{ERR_SOCKET_BAD_PORT:vhe,ERR_INVALID_ARG_TYPE:Lr,ERR_INVALID_ARG_VALUE:xl,ERR_OUT_OF_RANGE:$o,ERR_UNKNOWN_SIGNAL:CW}}=wr(),{normalizeEncoding:Uhe}=Wr(),{isAsyncFunction:Bhe,isArrayBufferView:Fhe}=Wr().types,yW={};function Ghe(t){return t===(t|0)}function Hhe(t){return t===t>>>0}var Whe=/^[0-7]+$/,khe="must be a 32-bit unsigned integer or an octal string";function $he(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(DW(Whe,t)===null)throw new xl(e,t,khe);t=Lhe(t,8)}return PW(t,e),t}var Yhe=An((t,e,r=whe,n=bhe)=>{if(typeof t!="number")throw new Lr(e,"number",t);if(!Bg(t))throw new $o(e,"an integer",t);if(t<r||t>n)throw new $o(e,`>= ${r} && <= ${n}`,t)}),Vhe=An((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Lr(e,"number",t);if(!Bg(t))throw new $o(e,"an integer",t);if(t<r||t>n)throw new $o(e,`>= ${r} && <= ${n}`,t)}),PW=An((t,e,r=!1)=>{if(typeof t!="number")throw new Lr(e,"number",t);if(!Bg(t))throw new $o(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new $o(e,`>= ${n} && <= ${i}`,t)});function Fg(t,e){if(typeof t!="string")throw new Lr(e,"string",t)}function qhe(t,e,r=void 0,n){if(typeof t!="number")throw new Lr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&yhe(t))throw new $o(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Xhe=An((t,e,r)=>{if(!wW(r,t)){let i="must be one of: "+LW(Che(r,s=>typeof s=="string"?`'${s}'`:Phe(s)),", ");throw new xl(e,t,i)}});function xW(t,e){if(typeof t!="boolean")throw new Lr(e,"boolean",t)}function vg(t,e,r){return t==null||!Dhe(t,e)?r:t[e]}var jhe=An((t,e,r=null)=>{let n=vg(r,"allowArray",!1),i=vg(r,"allowFunction",!1);if(!vg(r,"nullable",!1)&&t===null||!n&&Ug(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Lr(e,"Object",t)}),zhe=An((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Lr(e,"a dictionary",t)}),$T=An((t,e,r=0)=>{if(!Ug(t))throw new Lr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new xl(e,t,n)}});function Khe(t,e){$T(t,e);for(let r=0;r<t.length;r++)Fg(t[r],`${e}[${r}]`)}function Jhe(t,e){$T(t,e);for(let r=0;r<t.length;r++)xW(t[r],`${e}[${r}]`)}function Qhe(t,e){$T(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Lr(i,"AbortSignal",n);MW(n,i)}}function Zhe(t,e="signal"){if(Fg(t,e),yW[t]===void 0)throw yW[xhe(t)]!==void 0?new CW(t+" (signals must use all capital letters)"):new CW(t)}var eTe=An((t,e="buffer")=>{if(!Fhe(t))throw new Lr(e,["Buffer","TypedArray","DataView"],t)});function tTe(t,e){let r=Uhe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new xl("encoding",e,`is invalid for data of length ${n}`)}function rTe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Mhe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new vhe(e,t,r);return t|0}var MW=An((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Lr(e,"AbortSignal",t)}),nTe=An((t,e)=>{if(typeof t!="function")throw new Lr(e,"Function",t)}),iTe=An((t,e)=>{if(typeof t!="function"||Bhe(t))throw new Lr(e,"Function",t)}),sTe=An((t,e)=>{if(t!==void 0)throw new Lr(e,"undefined",t)});function oTe(t,e,r){if(!wW(r,t))throw new Lr(e,`('${LW(r,"|")}')`,t)}var aTe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function bW(t,e){if(typeof t>"u"||!DW(aTe,t))throw new xl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function lTe(t){if(typeof t=="string")return bW(t,"hints"),t;if(Ug(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];bW(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new xl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}vW.exports={isInt32:Ghe,isUint32:Hhe,parseFileMode:$he,validateArray:$T,validateStringArray:Khe,validateBooleanArray:Jhe,validateAbortSignalArray:Qhe,validateBoolean:xW,validateBuffer:eTe,validateDictionary:zhe,validateEncoding:tTe,validateFunction:nTe,validateInt32:Vhe,validateInteger:Yhe,validateNumber:qhe,validateObject:jhe,validateOneOf:Xhe,validatePlainFunction:iTe,validatePort:rTe,validateSignalName:Zhe,validateString:Fg,validateUint32:PW,validateUndefined:sTe,validateUnion:oTe,validateAbortSignal:MW,validateLinkHeaderValue:lTe}});var di=O((Zve,KW)=>{"use strict";var{SymbolAsyncIterator:UW,SymbolIterator:BW,SymbolFor:Yo}=ut(),FW=Yo("nodejs.stream.destroyed"),GW=Yo("nodejs.stream.errored"),Gg=Yo("nodejs.stream.readable"),Hg=Yo("nodejs.stream.writable"),HW=Yo("nodejs.stream.disturbed"),cTe=Yo("nodejs.webstream.isClosedPromise"),uTe=Yo("nodejs.webstream.controllerErrorFunction");function YT(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function VT(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function dTe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ui(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function WW(t){return!!(t&&!ui(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function kW(t){return!!(t&&!ui(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function $W(t){return!!(t&&!ui(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function fTe(t){return WW(t)||kW(t)||$W(t)}function ETe(t,e){return t==null?!1:e===!0?typeof t[UW]=="function":e===!1?typeof t[BW]=="function":typeof t[UW]=="function"||typeof t[BW]=="function"}function qT(t){if(!ui(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[FW]||n!=null&&n.destroyed)}function YW(t){if(!VT(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function hTe(t,e){if(!VT(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function TTe(t){if(!YT(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function VW(t,e){if(!YT(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function qW(t){return t&&t[Gg]!=null?t[Gg]:typeof t?.readable!="boolean"?null:qT(t)?!1:YT(t)&&t.readable&&!VW(t)}function XW(t){return t&&t[Hg]!=null?t[Hg]:typeof t?.writable!="boolean"?null:qT(t)?!1:VT(t)&&t.writable&&!YW(t)}function pTe(t,e){return ui(t)?qT(t)?!0:!(e?.readable!==!1&&qW(t)||e?.writable!==!1&&XW(t)):null}function STe(t){var e,r;return ui(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function RTe(t){var e,r;return ui(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function ATe(t){if(!ui(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&jW(t)?t._closed:null}function jW(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function zW(t){return typeof t._sent100=="boolean"&&jW(t)}function mTe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function _Te(t){if(!ui(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&zW(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function ITe(t){var e;return!!(t&&((e=t[HW])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function gTe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[GW])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}KW.exports={isDestroyed:qT,kIsDestroyed:FW,isDisturbed:ITe,kIsDisturbed:HW,isErrored:gTe,kIsErrored:GW,isReadable:qW,kIsReadable:Gg,kIsClosedPromise:cTe,kControllerErrorFunction:uTe,kIsWritable:Hg,isClosed:ATe,isDuplexNodeStream:dTe,isFinished:pTe,isIterable:ETe,isReadableNodeStream:YT,isReadableStream:WW,isReadableEnded:TTe,isReadableFinished:VW,isReadableErrored:RTe,isNodeStream:ui,isWebStream:fTe,isWritable:XW,isWritableNodeStream:VT,isWritableStream:kW,isWritableEnded:YW,isWritableFinished:hTe,isWritableErrored:STe,isServerRequest:mTe,isServerResponse:zW,willEmitClose:_Te,isTransformStream:$W}});var Ki=O((eUe,Vg)=>{"use strict";var Fs=je(),{AbortError:sk,codes:NTe}=wr(),{ERR_INVALID_ARG_TYPE:OTe,ERR_STREAM_PREMATURE_CLOSE:JW}=NTe,{kEmptyObject:kg,once:$g}=Wr(),{validateAbortSignal:CTe,validateFunction:yTe,validateObject:bTe,validateBoolean:wTe}=Ml(),{Promise:LTe,PromisePrototypeThen:DTe,SymbolDispose:ok}=ut(),{isClosed:PTe,isReadable:QW,isReadableNodeStream:Wg,isReadableStream:xTe,isReadableFinished:ZW,isReadableErrored:ek,isWritable:tk,isWritableNodeStream:rk,isWritableStream:MTe,isWritableFinished:nk,isWritableErrored:ik,isNodeStream:vTe,willEmitClose:UTe,kIsClosedPromise:BTe}=di(),vl;function FTe(t){return t.setHeader&&typeof t.abort=="function"}var Yg=()=>{};function ak(t,e,r){var n,i;if(arguments.length===2?(r=e,e=kg):e==null?e=kg:bTe(e,"options"),yTe(r,"callback"),CTe(e.signal,"options.signal"),r=$g(r),xTe(t)||MTe(t))return GTe(t,e,r);if(!vTe(t))throw new OTe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:Wg(t),o=(i=e.writable)!==null&&i!==void 0?i:rk(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||E()},u=UTe(t)&&Wg(t)===s&&rk(t)===o,d=nk(t,!1),E=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=ZW(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},h=g=>{r.call(t,g)},p=PTe(t),S=()=>{p=!0;let g=ik(t)||ek(t);if(g&&typeof g!="boolean")return r.call(t,g);if(s&&!f&&Wg(t,!0)&&!ZW(t,!1))return r.call(t,new JW);if(o&&!d&&!nk(t,!1))return r.call(t,new JW);r.call(t)},m=()=>{p=!0;let g=ik(t)||ek(t);if(g&&typeof g!="boolean")return r.call(t,g);r.call(t)},R=()=>{t.req.on("finish",E)};FTe(t)?(t.on("complete",E),u||t.on("abort",S),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",E),e.error!==!1&&t.on("error",h),t.on("close",S),p?Fs.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Fs.nextTick(m):(!s&&(!u||QW(t))&&(d||tk(t)===!1)||!o&&(!u||tk(t))&&(f||QW(t)===!1)||l&&t.req&&t.aborted)&&Fs.nextTick(m);let A=()=>{r=Yg,t.removeListener("aborted",S),t.removeListener("complete",E),t.removeListener("abort",S),t.removeListener("request",R),t.req&&t.req.removeListener("finish",E),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",E),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!p){let g=()=>{let w=r;A(),w.call(t,new sk(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Fs.nextTick(g);else{vl=vl||Wr().addAbortListener;let w=vl(e.signal,g),I=r;r=$g((...D)=>{w[ok](),I.apply(t,D)})}}return A}function GTe(t,e,r){let n=!1,i=Yg;if(e.signal)if(i=()=>{n=!0,r.call(t,new sk(void 0,{cause:e.signal.reason}))},e.signal.aborted)Fs.nextTick(i);else{vl=vl||Wr().addAbortListener;let o=vl(e.signal,i),a=r;r=$g((...l)=>{o[ok](),a.apply(t,l)})}let s=(...o)=>{n||Fs.nextTick(()=>r.apply(t,o))};return DTe(t[BTe].promise,s,s),Yg}function HTe(t,e){var r;let n=!1;return e===null&&(e=kg),(r=e)!==null&&r!==void 0&&r.cleanup&&(wTe(e.cleanup,"cleanup"),n=e.cleanup),new LTe((i,s)=>{let o=ak(t,e,a=>{n&&o(),a?s(a):i()})})}Vg.exports=ak;Vg.exports.finished=HTe});var Vo=O((tUe,Tk)=>{"use strict";var fi=je(),{aggregateTwoErrors:WTe,codes:{ERR_MULTIPLE_CALLBACK:kTe},AbortError:$Te}=wr(),{Symbol:uk}=ut(),{kIsDestroyed:YTe,isDestroyed:VTe,isFinished:qTe,isServerRequest:XTe}=di(),dk=uk("kDestroy"),qg=uk("kConstruct");function fk(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function jTe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(fk(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?lk(this,t,e):this.once(dk,function(s){lk(this,WTe(s,t),e)}),this)}function lk(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;fk(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?fi.nextTick(zTe,t,s):fi.nextTick(Ek,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function zTe(t,e){Xg(t,e),Ek(t)}function Ek(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Xg(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function KTe(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function jg(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?fi.nextTick(Xg,t,e):Xg(t,e))}function JTe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(qg,e),!(t.listenerCount(qg)>1)&&fi.nextTick(QTe,t)}function QTe(t){let e=!1;function r(n){if(e){jg(t,n??new kTe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(dk,n):n?jg(t,n,!0):fi.nextTick(ZTe,t)}try{t._construct(n=>{fi.nextTick(r,n)})}catch(n){fi.nextTick(r,n)}}function ZTe(t){t.emit(qg)}function ck(t){return t?.setHeader&&typeof t.abort=="function"}function hk(t){t.emit("close")}function epe(t,e){t.emit("error",e),fi.nextTick(hk,t)}function tpe(t,e){!t||VTe(t)||(!e&&!qTe(t)&&(e=new $Te),XTe(t)?(t.socket=null,t.destroy(e)):ck(t)?t.abort():ck(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?fi.nextTick(epe,t,e):fi.nextTick(hk,t),t.destroyed||(t[YTe]=!0))}Tk.exports={construct:JTe,destroyer:tpe,destroy:jTe,undestroy:KTe,errorOrDestroy:jg}});var zT=O((rUe,Sk)=>{"use strict";var{ArrayIsArray:rpe,ObjectSetPrototypeOf:pk}=ut(),{EventEmitter:XT}=require("events");function jT(t){XT.call(this,t)}pk(jT.prototype,XT.prototype);pk(jT,XT);jT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),XT.listenerCount(this,"error")===0&&this.emit("error",u)}zg(r,"error",l),zg(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function zg(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):rpe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}Sk.exports={Stream:jT,prependListener:zg}});var hd=O((nUe,KT)=>{"use strict";var{SymbolDispose:npe}=ut(),{AbortError:Rk,codes:ipe}=wr(),{isNodeStream:Ak,isWebStream:spe,kControllerErrorFunction:ope}=di(),ape=Ki(),{ERR_INVALID_ARG_TYPE:mk}=ipe,Kg,lpe=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new mk(e,"AbortSignal",t)};KT.exports.addAbortSignal=function(e,r){if(lpe(e,"signal"),!Ak(r)&&!spe(r))throw new mk("stream",["ReadableStream","WritableStream","Stream"],r);return KT.exports.addAbortSignalNoValidate(e,r)};KT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=Ak(e)?()=>{e.destroy(new Rk(void 0,{cause:t.reason}))}:()=>{e[ope](new Rk(void 0,{cause:t.reason}))};if(t.aborted)r();else{Kg=Kg||Wr().addAbortListener;let n=Kg(t,r);ape(e,n[npe])}return e}});var gk=O((sUe,Ik)=>{"use strict";var{StringPrototypeSlice:_k,SymbolIterator:cpe,TypedArrayPrototypeSet:JT,Uint8Array:upe}=ut(),{Buffer:Jg}=require("buffer"),{inspect:dpe}=Wr();Ik.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Jg.alloc(0);let r=Jg.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)JT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[cpe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=_k(s,0,e),this.head=n,n.data=_k(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Jg.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)JT(r,o,n-e),e-=o.length;else{e===o.length?(JT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(JT(r,new upe(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return dpe(this,{...r,depth:0,customInspect:!1})}}});var Td=O((oUe,yk)=>{"use strict";var{MathFloor:fpe,NumberIsInteger:Epe}=ut(),{validateInteger:hpe}=Ml(),{ERR_INVALID_ARG_VALUE:Tpe}=wr().codes,Nk=16*1024,Ok=16;function ppe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Ck(t){return t?Ok:Nk}function Spe(t,e){hpe(e,"value",0),t?Ok=e:Nk=e}function Rpe(t,e,r,n){let i=ppe(e,n,r);if(i!=null){if(!Epe(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Tpe(s,i)}return fpe(i)}return Ck(t.objectMode)}yk.exports={getHighWaterMark:Rpe,getDefaultHighWaterMark:Ck,setDefaultHighWaterMark:Spe}});var Qg=O((aUe,Dk)=>{"use strict";var bk=je(),{PromisePrototypeThen:Ape,SymbolAsyncIterator:wk,SymbolIterator:Lk}=ut(),{Buffer:mpe}=require("buffer"),{ERR_INVALID_ARG_TYPE:_pe,ERR_STREAM_NULL_VALUES:Ipe}=wr().codes;function gpe(t,e,r){let n;if(typeof e=="string"||e instanceof mpe)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[wk])i=!0,n=e[wk]();else if(e&&e[Lk])i=!1,n=e[Lk]();else throw new _pe("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Ape(a(c),()=>bk.nextTick(u,c),d=>bk.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:E,done:f}=await n.throw(c);if(await E,f)return}if(typeof n.return=="function"){let{value:E}=await n.return();await E}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Ipe;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}Dk.exports=gpe});var Sd=O((lUe,zk)=>{"use strict";var vn=je(),{ArrayPrototypeIndexOf:Npe,NumberIsInteger:Ope,NumberIsNaN:Cpe,NumberParseInt:ype,ObjectDefineProperties:oN,ObjectKeys:bpe,ObjectSetPrototypeOf:Mk,Promise:vk,SafeSet:wpe,SymbolAsyncDispose:Lpe,SymbolAsyncIterator:Dpe,Symbol:Ppe}=ut();zk.exports=Ae;Ae.ReadableState=tp;var{EventEmitter:xpe}=require("events"),{Stream:Gs,prependListener:Mpe}=zT(),{Buffer:Zg}=require("buffer"),{addAbortSignal:vpe}=hd(),Uk=Ki(),xe=Wr().debuglog("stream",t=>{xe=t}),Upe=gk(),Fl=Vo(),{getHighWaterMark:Bpe,getDefaultHighWaterMark:Fpe}=Td(),{aggregateTwoErrors:Pk,codes:{ERR_INVALID_ARG_TYPE:Gpe,ERR_METHOD_NOT_IMPLEMENTED:Hpe,ERR_OUT_OF_RANGE:Wpe,ERR_STREAM_PUSH_AFTER_EOF:kpe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:$pe},AbortError:Ype}=wr(),{validateObject:Vpe}=Ml(),qo=Ppe("kPaused"),{StringDecoder:Bk}=_u(),qpe=Qg();Mk(Ae.prototype,Gs.prototype);Mk(Ae,Gs);var eN=()=>{},{errorOrDestroy:Ul}=Fl,Bl=1,Xpe=2,Fk=4,pd=8,Gk=16,QT=32,ZT=64,Hk=128,jpe=256,zpe=512,Kpe=1024,iN=2048,sN=4096,Jpe=8192,Qpe=16384,Zpe=32768,Wk=65536,eSe=1<<17,tSe=1<<18;function kt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}oN(tp.prototype,{objectMode:kt(Bl),ended:kt(Xpe),endEmitted:kt(Fk),reading:kt(pd),constructed:kt(Gk),sync:kt(QT),needReadable:kt(ZT),emittedReadable:kt(Hk),readableListening:kt(jpe),resumeScheduled:kt(zpe),errorEmitted:kt(Kpe),emitClose:kt(iN),autoDestroy:kt(sN),destroyed:kt(Jpe),closed:kt(Qpe),closeEmitted:kt(Zpe),multiAwaitDrain:kt(Wk),readingMore:kt(eSe),dataEmitted:kt(tSe)});function tp(t,e,r){typeof r!="boolean"&&(r=e instanceof Ei()),this.state=iN|sN|Gk|QT,t&&t.objectMode&&(this.state|=Bl),r&&t&&t.readableObjectMode&&(this.state|=Bl),this.highWaterMark=t?Bpe(this,t,"readableHighWaterMark",r):Fpe(!1),this.buffer=new Upe,this.length=0,this.pipes=[],this.flowing=null,this[qo]=null,t&&t.emitClose===!1&&(this.state&=~iN),t&&t.autoDestroy===!1&&(this.state&=~sN),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new Bk(t.encoding),this.encoding=t.encoding)}function Ae(t){if(!(this instanceof Ae))return new Ae(t);let e=this instanceof Ei();this._readableState=new tp(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&vpe(t.signal,this)),Gs.call(this,t),Fl.construct(this,()=>{this._readableState.needReadable&&ep(this,this._readableState)})}Ae.prototype.destroy=Fl.destroy;Ae.prototype._undestroy=Fl.undestroy;Ae.prototype._destroy=function(t,e){e(t)};Ae.prototype[xpe.captureRejectionSymbol]=function(t){this.destroy(t)};Ae.prototype[Lpe]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Ype,this.destroy(t)),new vk((e,r)=>Uk(this,n=>n&&n!==t?r(n):e(null)))};Ae.prototype.push=function(t,e){return kk(this,t,e,!1)};Ae.prototype.unshift=function(t,e){return kk(this,t,e,!0)};function kk(t,e,r,n){xe("readableAddChunk",e);let i=t._readableState,s;if((i.state&Bl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=Zg.from(e,r).toString(i.encoding):(e=Zg.from(e,r),r=""))):e instanceof Zg?r="":Gs._isUint8Array(e)?(e=Gs._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Gpe("chunk",["string","Buffer","Uint8Array"],e))),s)Ul(t,s);else if(e===null)i.state&=~pd,iSe(t,i);else if((i.state&Bl)!==0||e&&e.length>0)if(n)if((i.state&Fk)!==0)Ul(t,new $pe);else{if(i.destroyed||i.errored)return!1;tN(t,i,e,!0)}else if(i.ended)Ul(t,new kpe);else{if(i.destroyed||i.errored)return!1;i.state&=~pd,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?tN(t,i,e,!1):ep(t,i)):tN(t,i,e,!1)}else n||(i.state&=~pd,ep(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function tN(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&Wk)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&ZT)!==0&&rp(t)),ep(t,e)}Ae.prototype.isPaused=function(){let t=this._readableState;return t[qo]===!0||t.flowing===!1};Ae.prototype.setEncoding=function(t){let e=new Bk(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var rSe=1073741824;function nSe(t){if(t>rSe)throw new Wpe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function xk(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Bl)!==0?1:Cpe(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Ae.prototype.read=function(t){xe("read",t),t===void 0?t=NaN:Ope(t)||(t=ype(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=nSe(t)),t!==0&&(e.state&=~Hk),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return xe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?rN(this):rp(this),null;if(t=xk(t,e),t===0&&e.ended)return e.length===0&&rN(this),null;let n=(e.state&ZT)!==0;if(xe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,xe("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,xe("reading, ended or constructing",n);else if(n){xe("do read"),e.state|=pd|QT,e.length===0&&(e.state|=ZT);try{this._read(e.highWaterMark)}catch(s){Ul(this,s)}e.state&=~QT,e.reading||(t=xk(r,e))}let i;return t>0?i=Xk(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&rN(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function iSe(t,e){if(xe("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?rp(t):(e.needReadable=!1,e.emittedReadable=!0,$k(t))}}function rp(t){let e=t._readableState;xe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(xe("emitReadable",e.flowing),e.emittedReadable=!0,vn.nextTick($k,t))}function $k(t){let e=t._readableState;xe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Vk(t)}function ep(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,vn.nextTick(sSe,t,e))}function sSe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(xe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Ae.prototype._read=function(t){throw new Hpe("_read()")};Ae.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new wpe(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),xe("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==vn.stdout&&t!==vn.stderr?a:p;n.endEmitted?vn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,m){xe("onunpipe"),S===r&&m&&m.hasUnpiped===!1&&(m.hasUnpiped=!0,u())}function a(){xe("onend"),t.end()}let l,c=!1;function u(){xe("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",E),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(xe("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(xe("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=oSe(r,t),t.on("drain",l))}r.on("data",E);function E(S){xe("ondata");let m=t.write(S);xe("dest.write",m),m===!1&&d()}function f(S){if(xe("onerror",S),p(),t.removeListener("error",f),t.listenerCount("error")===0){let m=t._writableState||t._readableState;m&&!m.errorEmitted?Ul(t,S):t.emit("error",S)}}Mpe(t,"error",f);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){xe("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){xe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(xe("pipe resume"),r.resume()),t};function oSe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(xe("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(xe("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Ae.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Npe(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Ae.prototype.on=function(t,e){let r=Gs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,xe("on readable",n.length,n.reading),n.length?rp(this):n.reading||vn.nextTick(aSe,this)),r};Ae.prototype.addListener=Ae.prototype.on;Ae.prototype.removeListener=function(t,e){let r=Gs.prototype.removeListener.call(this,t,e);return t==="readable"&&vn.nextTick(Yk,this),r};Ae.prototype.off=Ae.prototype.removeListener;Ae.prototype.removeAllListeners=function(t){let e=Gs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&vn.nextTick(Yk,this),e};function Yk(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[qo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function aSe(t){xe("readable nexttick read 0"),t.read(0)}Ae.prototype.resume=function(){let t=this._readableState;return t.flowing||(xe("resume"),t.flowing=!t.readableListening,lSe(this,t)),t[qo]=!1,this};function lSe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,vn.nextTick(cSe,t,e))}function cSe(t,e){xe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Vk(t),e.flowing&&!e.reading&&t.read(0)}Ae.prototype.pause=function(){return xe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[qo]=!0,this};function Vk(t){let e=t._readableState;for(xe("flow",e.flowing);e.flowing&&t.read()!==null;);}Ae.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Ul(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=bpe(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Ae.prototype[Dpe]=function(){return qk(this)};Ae.prototype.iterator=function(t){return t!==void 0&&Vpe(t,"options"),qk(this,t)};function qk(t,e){typeof t.read!="function"&&(t=Ae.wrap(t,{objectMode:!0}));let r=uSe(t,e);return r.stream=t,r}async function*uSe(t,e){let r=eN;function n(o){this===t?(r(),r=eN):r=o}t.on("readable",n);let i,s=Uk(t,{writable:!1},o=>{i=o?Pk(i,o):null,r(),r=eN});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new vk(n)}}}catch(o){throw i=Pk(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Fl.destroyer(t,null):(t.off("readable",n),s())}}oN(Ae.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});oN(tp.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[qo]!==!1},set(t){this[qo]=!!t}}});Ae._fromList=Xk;function Xk(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function rN(t){let e=t._readableState;xe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,vn.nextTick(dSe,e,t))}function dSe(t,e){if(xe("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)vn.nextTick(fSe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function fSe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Ae.from=function(t,e){return qpe(Ae,t,e)};var nN;function jk(){return nN===void 0&&(nN={}),nN}Ae.fromWeb=function(t,e){return jk().newStreamReadableFromReadableStream(t,e)};Ae.toWeb=function(t,e){return jk().newReadableStreamFromStreamReadable(t,e)};Ae.wrap=function(t,e){var r,n;return new Ae({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Fl.destroyer(t,i),s(i)}}).wrap(t)}});var ap=O((cUe,a$)=>{"use strict";var Xo=je(),{ArrayPrototypeSlice:Qk,Error:ESe,FunctionPrototypeSymbolHasInstance:Zk,ObjectDefineProperty:e$,ObjectDefineProperties:hSe,ObjectSetPrototypeOf:t$,StringPrototypeToLowerCase:TSe,Symbol:pSe,SymbolHasInstance:SSe}=ut();a$.exports=pt;pt.WritableState=md;var{EventEmitter:RSe}=require("events"),Rd=zT().Stream,{Buffer:np}=require("buffer"),op=Vo(),{addAbortSignal:ASe}=hd(),{getHighWaterMark:mSe,getDefaultHighWaterMark:_Se}=Td(),{ERR_INVALID_ARG_TYPE:ISe,ERR_METHOD_NOT_IMPLEMENTED:gSe,ERR_MULTIPLE_CALLBACK:r$,ERR_STREAM_CANNOT_PIPE:NSe,ERR_STREAM_DESTROYED:Ad,ERR_STREAM_ALREADY_FINISHED:OSe,ERR_STREAM_NULL_VALUES:CSe,ERR_STREAM_WRITE_AFTER_END:ySe,ERR_UNKNOWN_ENCODING:n$}=wr().codes,{errorOrDestroy:Gl}=op;t$(pt.prototype,Rd.prototype);t$(pt,Rd);function cN(){}var Hl=pSe("kOnFinished");function md(t,e,r){typeof r!="boolean"&&(r=e instanceof Ei()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?mSe(this,t,"writableHighWaterMark",r):_Se(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=wSe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,sp(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Hl]=[]}function sp(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}md.prototype.getBuffer=function(){return Qk(this.buffered,this.bufferedIndex)};e$(md.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pt(t){let e=this instanceof Ei();if(!e&&!Zk(pt,this))return new pt(t);this._writableState=new md(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&ASe(t.signal,this)),Rd.call(this,t),op.construct(this,()=>{let r=this._writableState;r.writing||dN(this,r),fN(this,r)})}e$(pt,SSe,{__proto__:null,value:function(t){return Zk(this,t)?!0:this!==pt?!1:t&&t._writableState instanceof md}});pt.prototype.pipe=function(){Gl(this,new NSe)};function i$(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!np.isEncoding(r))throw new n$(r);typeof n!="function"&&(n=cN)}if(e===null)throw new CSe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=np.from(e,r),r="buffer");else if(e instanceof np)r="buffer";else if(Rd._isUint8Array(e))e=Rd._uint8ArrayToBuffer(e),r="buffer";else throw new ISe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new ySe:i.destroyed&&(s=new Ad("write")),s?(Xo.nextTick(n,s),Gl(t,s,!0),s):(i.pendingcb++,bSe(t,i,e,r,n))}pt.prototype.write=function(t,e,r){return i$(this,t,e,r)===!0};pt.prototype.cork=function(){this._writableState.corked++};pt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||dN(this,t))};pt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=TSe(e)),!np.isEncoding(e))throw new n$(e);return this._writableState.defaultEncoding=e,this};function bSe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==cN&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function Kk(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Ad("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Jk(t,e,r,n){--e.pendingcb,n(r),uN(e),Gl(t,r)}function wSe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Gl(t,new r$);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Xo.nextTick(Jk,t,r,e,i):Jk(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&dN(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Xo.nextTick(LSe,r.afterWriteTickInfo)):s$(t,r,1,i))}function LSe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,s$(t,e,r,n)}function s$(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&uN(e),fN(t,e)}function uN(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Ad("write"))}let r=t[Hl].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Ad("end"))}sp(t)}function dN(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?cN:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:Qk(r,o);l.allBuffers=e.allBuffers,Kk(t,e,!0,e.length,l,"",a),sp(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;Kk(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?sp(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}pt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new gSe("_write()")};pt.prototype._writev=null;pt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=i$(this,t,e);s instanceof ESe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,fN(this,n,!0),n.ended=!0):n.finished?i=new OSe("end"):n.destroyed&&(i=new Ad("end"))),typeof r=="function"&&(i||n.finished?Xo.nextTick(r,i):n[Hl].push(r)),this};function ip(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function DSe(t,e){let r=!1;function n(i){if(r){Gl(t,i??r$());return}if(r=!0,e.pendingcb--,i){let s=e[Hl].splice(0);for(let o=0;o<s.length;o++)s[o](i);Gl(t,i,e.sync)}else ip(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Xo.nextTick(lN,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function PSe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,DSe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function fN(t,e,r){ip(e)&&(PSe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Xo.nextTick((n,i)=>{ip(i)?lN(n,i):i.pendingcb--},t,e)):ip(e)&&(e.pendingcb++,lN(t,e))))}function lN(t,e){e.pendingcb--,e.finished=!0;let r=e[Hl].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}hSe(pt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var xSe=op.destroy;pt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Hl].length)&&Xo.nextTick(uN,r),xSe.call(this,t,e),this};pt.prototype._undestroy=op.undestroy;pt.prototype._destroy=function(t,e){e(t)};pt.prototype[RSe.captureRejectionSymbol]=function(t){this.destroy(t)};var aN;function o$(){return aN===void 0&&(aN={}),aN}pt.fromWeb=function(t,e){return o$().newStreamWritableFromWritableStream(t,e)};pt.toWeb=function(t){return o$().newWritableStreamFromStreamWritable(t)}});var I$=O((uUe,_$)=>{var EN=je(),MSe=require("buffer"),{isReadable:vSe,isWritable:USe,isIterable:l$,isNodeStream:BSe,isReadableNodeStream:c$,isWritableNodeStream:u$,isDuplexNodeStream:FSe,isReadableStream:d$,isWritableStream:f$}=di(),E$=Ki(),{AbortError:A$,codes:{ERR_INVALID_ARG_TYPE:GSe,ERR_INVALID_RETURN_VALUE:h$}}=wr(),{destroyer:kl}=Vo(),HSe=Ei(),m$=Sd(),WSe=ap(),{createDeferredPromise:T$}=Wr(),p$=Qg(),S$=globalThis.Blob||MSe.Blob,kSe=typeof S$<"u"?function(e){return e instanceof S$}:function(e){return!1},$Se=globalThis.AbortController||wt().AbortController,{FunctionPrototypeCall:R$}=ut(),Hs=class extends HSe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};_$.exports=function t(e,r){if(FSe(e))return e;if(c$(e))return Wl({readable:e});if(u$(e))return Wl({writable:e});if(BSe(e))return Wl({writable:!1,readable:!1});if(d$(e))return Wl({readable:m$.fromWeb(e)});if(f$(e))return Wl({writable:WSe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=YSe(e);if(l$(i))return p$(Hs,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=R$(l,i,d=>{if(d!=null)throw new h$("nully","body",d)},d=>{kl(c,d)});return c=new Hs({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,EN.nextTick(d,null)}catch(E){EN.nextTick(d,E)}})},destroy:a})}throw new h$("Iterable, AsyncIterable or AsyncFunction",r,i)}if(kSe(e))return t(e.arrayBuffer());if(l$(e))return p$(Hs,e,{objectMode:!0,writable:!1});if(d$(e?.readable)&&f$(e?.writable))return Hs.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?c$(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?u$(e?.writable)?e?.writable:t(e.writable):void 0;return Wl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return R$(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{kl(i,s)}),i=new Hs({objectMode:!0,writable:!1,read(){}})}throw new GSe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function YSe(t){let{promise:e,resolve:r}=T$(),n=new $Se,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(EN.nextTick(c),l)return;if(i.aborted)throw new A$(void 0,{cause:i.reason});({promise:e,resolve:r}=T$()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Wl(t){let e=t.readable&&typeof t.readable.read!="function"?m$.wrap(t.readable):t.readable,r=t.writable,n=!!vSe(e),i=!!USe(r),s,o,a,l,c;function u(d){let E=l;l=null,E?E(d):d&&c.destroy(d)}return c=new Hs({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(E$(r,d=>{i=!1,d&&kl(e,d),u(d)}),c._write=function(d,E,f){r.write(d,E)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(E$(e,d=>{n=!1,d&&kl(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,E){!d&&l!==null&&(d=new A$),a=null,s=null,o=null,l===null?E(d):(l=E,kl(r,d),kl(e,d))},c}});var Ei=O((dUe,O$)=>{"use strict";var{ObjectDefineProperties:VSe,ObjectGetOwnPropertyDescriptor:Ji,ObjectKeys:qSe,ObjectSetPrototypeOf:g$}=ut();O$.exports=Un;var pN=Sd(),mn=ap();g$(Un.prototype,pN.prototype);g$(Un,pN);{let t=qSe(mn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Un.prototype[r]||(Un.prototype[r]=mn.prototype[r])}}function Un(t){if(!(this instanceof Un))return new Un(t);pN.call(this,t),mn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}VSe(Un.prototype,{writable:{__proto__:null,...Ji(mn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Ji(mn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Ji(mn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Ji(mn.prototype,"writableBuffer")},writableLength:{__proto__:null,...Ji(mn.prototype,"writableLength")},writableFinished:{__proto__:null,...Ji(mn.prototype,"writableFinished")},writableCorked:{__proto__:null,...Ji(mn.prototype,"writableCorked")},writableEnded:{__proto__:null,...Ji(mn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Ji(mn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var hN;function N$(){return hN===void 0&&(hN={}),hN}Un.fromWeb=function(t,e){return N$().newStreamDuplexFromReadableWritablePair(t,e)};Un.toWeb=function(t){return N$().newReadableWritablePairFromDuplex(t)};var TN;Un.from=function(t){return TN||(TN=I$()),TN(t,"body")}});var AN=O((fUe,y$)=>{"use strict";var{ObjectSetPrototypeOf:C$,Symbol:XSe}=ut();y$.exports=Qi;var{ERR_METHOD_NOT_IMPLEMENTED:jSe}=wr().codes,RN=Ei(),{getHighWaterMark:zSe}=Td();C$(Qi.prototype,RN.prototype);C$(Qi,RN);var _d=XSe("kCallback");function Qi(t){if(!(this instanceof Qi))return new Qi(t);let e=t?zSe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),RN.call(this,t),this._readableState.sync=!1,this[_d]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",KSe)}function SN(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function KSe(){this._final!==SN&&SN.call(this)}Qi.prototype._final=SN;Qi.prototype._transform=function(t,e,r){throw new jSe("_transform()")};Qi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[_d]=r})};Qi.prototype._read=function(){if(this[_d]){let t=this[_d];this[_d]=null,t()}}});var _N=O((EUe,w$)=>{"use strict";var{ObjectSetPrototypeOf:b$}=ut();w$.exports=$l;var mN=AN();b$($l.prototype,mN.prototype);b$($l,mN);function $l(t){if(!(this instanceof $l))return new $l(t);mN.call(this,t)}$l.prototype._transform=function(t,e,r){r(null,t)}});var dp=O((hUe,M$)=>{var Id=je(),{ArrayIsArray:JSe,Promise:QSe,SymbolAsyncIterator:ZSe,SymbolDispose:eRe}=ut(),up=Ki(),{once:tRe}=Wr(),rRe=Vo(),L$=Ei(),{aggregateTwoErrors:nRe,codes:{ERR_INVALID_ARG_TYPE:LN,ERR_INVALID_RETURN_VALUE:IN,ERR_MISSING_ARGS:iRe,ERR_STREAM_DESTROYED:sRe,ERR_STREAM_PREMATURE_CLOSE:oRe},AbortError:aRe}=wr(),{validateFunction:lRe,validateAbortSignal:cRe}=Ml(),{isIterable:jo,isReadable:gN,isReadableNodeStream:cp,isNodeStream:D$,isTransformStream:Yl,isWebStream:uRe,isReadableStream:NN,isReadableFinished:dRe}=di(),fRe=globalThis.AbortController||wt().AbortController,ON,CN,yN;function P$(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=up(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,rRe.destroyer(t,s||new sRe("pipe")))},cleanup:i}}function ERe(t){return lRe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function bN(t){if(jo(t))return t;if(cp(t))return hRe(t);throw new LN("val",["Readable","Iterable","AsyncIterable"],t)}async function*hRe(t){CN||(CN=Sd()),yield*CN.prototype[ZSe].call(t)}async function lp(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new QSe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=up(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?nRe(i,c):c)}finally{l(),e.off("drain",o)}}async function wN(t,e,r,{end:n}){Yl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function TRe(...t){return x$(t,tRe(ERe(t)))}function x$(t,e,r){if(t.length===1&&JSe(t[0])&&(t=t[0]),t.length<2)throw new iRe("streams");let n=new fRe,i=n.signal,s=r?.signal,o=[];cRe(s,"options.signal");function a(){T(new aRe)}yN=yN||Wr().addAbortListener;let l;s&&(l=yN(s,a));let c,u,d=[],E=0;function f(R){T(R,--E===0)}function T(R,A){var g;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;d.length;)d.shift()(c);(g=l)===null||g===void 0||g[eRe](),n.abort(),A&&(c||o.forEach(w=>w()),Id.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],g=R<t.length-1,w=R>0,I=g||r?.end!==!1,D=R===t.length-1;if(D$(A)){let b=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var m=b;if(I){let{destroy:P,cleanup:M}=P$(A,g,w);d.push(P),gN(A)&&D&&o.push(M)}A.on("error",b),gN(A)&&D&&o.push(()=>{A.removeListener("error",b)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!jo(h))throw new IN("Iterable, AsyncIterable or Stream","source",h)}else jo(A)||cp(A)||Yl(A)?h=A:h=L$.from(A);else if(typeof A=="function"){if(Yl(h)){var p;h=bN((p=h)===null||p===void 0?void 0:p.readable)}else h=bN(h);if(h=A(h,{signal:i}),g){if(!jo(h,!0))throw new IN("AsyncIterable",`transform[${R-1}]`,h)}else{var S;ON||(ON=_N());let b=new ON({objectMode:!0}),P=(S=h)===null||S===void 0?void 0:S.then;if(typeof P=="function")E++,P.call(h,F=>{u=F,F!=null&&b.write(F),I&&b.end(),Id.nextTick(f)},F=>{b.destroy(F),Id.nextTick(f,F)});else if(jo(h,!0))E++,lp(h,b,f,{end:I});else if(NN(h)||Yl(h)){let F=h.readable||h;E++,lp(F,b,f,{end:I})}else throw new IN("AsyncIterable or Promise","destination",h);h=b;let{destroy:M,cleanup:B}=P$(h,!1,!0);d.push(M),D&&o.push(B)}}else if(D$(A)){if(cp(h)){E+=2;let b=pRe(h,A,f,{end:I});gN(A)&&D&&o.push(b)}else if(Yl(h)||NN(h)){let b=h.readable||h;E++,lp(b,A,f,{end:I})}else if(jo(h))E++,lp(h,A,f,{end:I});else throw new LN("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(uRe(A)){if(cp(h))E++,wN(bN(h),A,f,{end:I});else if(NN(h)||jo(h))E++,wN(h,A,f,{end:I});else if(Yl(h))E++,wN(h.readable,A,f,{end:I});else throw new LN("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=L$.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Id.nextTick(a),h}function pRe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new oRe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;dRe(t)?Id.nextTick(o):t.once("end",o)}else r();return up(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),up(e,{readable:!1,writable:!0},r)}M$.exports={pipelineImpl:x$,pipeline:TRe}});var PN=O((TUe,H$)=>{"use strict";var{pipeline:SRe}=dp(),fp=Ei(),{destroyer:RRe}=Vo(),{isNodeStream:Ep,isReadable:v$,isWritable:U$,isWebStream:DN,isTransformStream:zo,isWritableStream:B$,isReadableStream:F$}=di(),{AbortError:ARe,codes:{ERR_INVALID_ARG_VALUE:G$,ERR_MISSING_ARGS:mRe}}=wr(),_Re=Ki();H$.exports=function(...e){if(e.length===0)throw new mRe("streams");if(e.length===1)return fp.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=fp.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=fp.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Ep(e[f])&&!DN(e[f]))){if(f<e.length-1&&!(v$(e[f])||F$(e[f])||zo(e[f])))throw new G$(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(U$(e[f])||B$(e[f])||zo(e[f])))throw new G$(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!E&&!d&&a.destroy()}let c=e[0],u=SRe(e,l),d=!!(U$(c)||B$(c)||zo(c)),E=!!(v$(u)||F$(u)||zo(u));if(a=new fp({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:E}),d){if(Ep(c))a._write=function(T,h,p){c.write(T,h)?p():n=p},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(DN(c)){let h=(zo(c)?c.writable:c).getWriter();a._write=async function(p,S,m){try{await h.ready,h.write(p).catch(()=>{}),m()}catch(R){m(R)}},a._final=async function(p){try{await h.ready,h.close().catch(()=>{}),i=p}catch(S){p(S)}}}let f=zo(u)?u.readable:u;_Re(f,()=>{if(i){let T=i;i=null,T()}})}if(E){if(Ep(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(DN(u)){let T=(zo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:p}=await T.read();if(!a.push(h))return;if(p){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new ARe),s=null,n=null,i=null,o===null?T(f):(o=T,Ep(u)&&RRe(u,f))},a}});var K$=O((pUe,vN)=>{"use strict";var IRe=globalThis.AbortController||wt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:gRe,ERR_INVALID_ARG_TYPE:gd,ERR_MISSING_ARGS:NRe,ERR_OUT_OF_RANGE:ORe},AbortError:hi}=wr(),{validateAbortSignal:Ko,validateInteger:W$,validateObject:Jo}=Ml(),CRe=ut().Symbol("kWeak"),yRe=ut().Symbol("kResistStopPropagation"),{finished:bRe}=Ki(),wRe=PN(),{addAbortSignalNoValidate:LRe}=hd(),{isWritable:DRe,isNodeStream:PRe}=di(),{deprecate:xRe}=Wr(),{ArrayPrototypePush:MRe,Boolean:vRe,MathFloor:k$,Number:URe,NumberIsNaN:BRe,Promise:$$,PromiseReject:Y$,PromiseResolve:FRe,PromisePrototypeThen:V$,Symbol:X$}=ut(),hp=X$("kEmpty"),q$=X$("kEof");function GRe(t,e){if(e!=null&&Jo(e,"options"),e?.signal!=null&&Ko(e.signal,"options.signal"),PRe(t)&&!DRe(t))throw new gRe("stream",t,"must be writable");let r=wRe(this,t);return e!=null&&e.signal&&LRe(e.signal,r),r}function Tp(t,e){if(typeof t!="function")throw new gd("fn",["Function","AsyncFunction"],t);e!=null&&Jo(e,"options"),e?.signal!=null&&Ko(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=k$(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=k$(e.highWaterMark)),W$(r,"options.concurrency",1),W$(n,"options.highWaterMark",0),n+=r,async function*(){let s=Wr().AbortSignalAny([e?.signal].filter(vRe)),o=this,a=[],l={signal:s},c,u,d=!1,E=0;function f(){d=!0,T()}function T(){E-=1,h()}function h(){u&&!d&&E<r&&a.length<n&&(u(),u=null)}async function p(){try{for await(let S of o){if(d)return;if(s.aborted)throw new hi;try{if(S=t(S,l),S===hp)continue;S=FRe(S)}catch(m){S=Y$(m)}E+=1,V$(S,T,f),a.push(S),c&&(c(),c=null),!d&&(a.length>=n||E>=r)&&await new $$(m=>{u=m})}a.push(q$)}catch(S){let m=Y$(S);V$(m,T,f),a.push(m)}finally{d=!0,c&&(c(),c=null)}}p();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===q$)return;if(s.aborted)throw new hi;S!==hp&&(yield S),a.shift(),h()}await new $$(S=>{c=S})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function HRe(t=void 0){return t!=null&&Jo(t,"options"),t?.signal!=null&&Ko(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new hi({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function j$(t,e=void 0){for await(let r of MN.call(this,t,e))return!0;return!1}async function WRe(t,e=void 0){if(typeof t!="function")throw new gd("fn",["Function","AsyncFunction"],t);return!await j$.call(this,async(...r)=>!await t(...r),e)}async function kRe(t,e){for await(let r of MN.call(this,t,e))return r}async function $Re(t,e){if(typeof t!="function")throw new gd("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),hp}for await(let n of Tp.call(this,r,e));}function MN(t,e){if(typeof t!="function")throw new gd("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:hp}return Tp.call(this,r,e)}var xN=class extends NRe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function YRe(t,e,r){var n;if(typeof t!="function")throw new gd("reducer",["Function","AsyncFunction"],t);r!=null&&Jo(r,"options"),r?.signal!=null&&Ko(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new hi(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await bRe(this.destroy(c)),c}let s=new IRe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[CRe]:this,[yRe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new hi;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new xN}finally{s.abort()}return e}async function VRe(t){t!=null&&Jo(t,"options"),t?.signal!=null&&Ko(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new hi(void 0,{cause:t.signal.reason});MRe(e,n)}return e}function qRe(t,e){let r=Tp.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function z$(t){if(t=URe(t),BRe(t))return 0;if(t<0)throw new ORe("number",">= 0",t);return t}function XRe(t,e=void 0){return e!=null&&Jo(e,"options"),e?.signal!=null&&Ko(e.signal,"options.signal"),t=z$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new hi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new hi;t--<=0&&(yield s)}}.call(this)}function jRe(t,e=void 0){return e!=null&&Jo(e,"options"),e?.signal!=null&&Ko(e.signal,"options.signal"),t=z$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new hi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new hi;if(t-- >0&&(yield s),t<=0)return}}.call(this)}vN.exports.streamReturningOperators={asIndexedPairs:xRe(HRe,"readable.asIndexedPairs will be removed in a future version."),drop:XRe,filter:MN,flatMap:qRe,map:Tp,take:jRe,compose:GRe};vN.exports.promiseReturningOperators={every:WRe,forEach:$Re,reduce:YRe,toArray:VRe,some:j$,find:kRe}});var UN=O((SUe,J$)=>{"use strict";var{ArrayPrototypePop:zRe,Promise:KRe}=ut(),{isIterable:JRe,isNodeStream:QRe,isWebStream:ZRe}=di(),{pipelineImpl:eAe}=dp(),{finished:tAe}=Ki();BN();function rAe(...t){return new KRe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!QRe(s)&&!JRe(s)&&!ZRe(s)){let o=zRe(t);n=o.signal,i=o.end}eAe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}J$.exports={finished:tAe,pipeline:rAe}});var BN=O((RUe,oY)=>{"use strict";var{Buffer:nAe}=require("buffer"),{ObjectDefineProperty:Zi,ObjectKeys:eY,ReflectApply:tY}=ut(),{promisify:{custom:rY}}=Wr(),{streamReturningOperators:Q$,promiseReturningOperators:Z$}=K$(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:nY}}=wr(),iAe=PN(),{setDefaultHighWaterMark:sAe,getDefaultHighWaterMark:oAe}=Td(),{pipeline:iY}=dp(),{destroyer:aAe}=Vo(),sY=Ki(),FN=UN(),Nd=di(),st=oY.exports=zT().Stream;st.isDestroyed=Nd.isDestroyed;st.isDisturbed=Nd.isDisturbed;st.isErrored=Nd.isErrored;st.isReadable=Nd.isReadable;st.isWritable=Nd.isWritable;st.Readable=Sd();for(let t of eY(Q$)){let r=function(...n){if(new.target)throw nY();return st.Readable.from(tY(e,this,n))},e=Q$[t];Zi(r,"name",{__proto__:null,value:e.name}),Zi(r,"length",{__proto__:null,value:e.length}),Zi(st.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of eY(Z$)){let r=function(...n){if(new.target)throw nY();return tY(e,this,n)},e=Z$[t];Zi(r,"name",{__proto__:null,value:e.name}),Zi(r,"length",{__proto__:null,value:e.length}),Zi(st.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}st.Writable=ap();st.Duplex=Ei();st.Transform=AN();st.PassThrough=_N();st.pipeline=iY;var{addAbortSignal:lAe}=hd();st.addAbortSignal=lAe;st.finished=sY;st.destroy=aAe;st.compose=iAe;st.setDefaultHighWaterMark=sAe;st.getDefaultHighWaterMark=oAe;Zi(st,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return FN}});Zi(iY,rY,{__proto__:null,enumerable:!0,get(){return FN.pipeline}});Zi(sY,rY,{__proto__:null,enumerable:!0,get(){return FN.finished}});st.Stream=st;st._isUint8Array=function(e){return e instanceof Uint8Array};st._uint8ArrayToBuffer=function(e){return nAe.from(e.buffer,e.byteOffset,e.byteLength)}});var GN=O((AUe,ye)=>{"use strict";var $t=require("stream");if($t&&process.env.READABLE_STREAM==="disable"){let t=$t.promises;ye.exports._uint8ArrayToBuffer=$t._uint8ArrayToBuffer,ye.exports._isUint8Array=$t._isUint8Array,ye.exports.isDisturbed=$t.isDisturbed,ye.exports.isErrored=$t.isErrored,ye.exports.isReadable=$t.isReadable,ye.exports.Readable=$t.Readable,ye.exports.Writable=$t.Writable,ye.exports.Duplex=$t.Duplex,ye.exports.Transform=$t.Transform,ye.exports.PassThrough=$t.PassThrough,ye.exports.addAbortSignal=$t.addAbortSignal,ye.exports.finished=$t.finished,ye.exports.destroy=$t.destroy,ye.exports.pipeline=$t.pipeline,ye.exports.compose=$t.compose,Object.defineProperty($t,"promises",{configurable:!0,enumerable:!0,get(){return t}}),ye.exports.Stream=$t.Stream}else{let t=BN(),e=UN(),r=t.Readable.destroy;ye.exports=t.Readable,ye.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,ye.exports._isUint8Array=t._isUint8Array,ye.exports.isDisturbed=t.isDisturbed,ye.exports.isErrored=t.isErrored,ye.exports.isReadable=t.isReadable,ye.exports.Readable=t.Readable,ye.exports.Writable=t.Writable,ye.exports.Duplex=t.Duplex,ye.exports.Transform=t.Transform,ye.exports.PassThrough=t.PassThrough,ye.exports.addAbortSignal=t.addAbortSignal,ye.exports.finished=t.finished,ye.exports.destroy=t.destroy,ye.exports.destroy=r,ye.exports.pipeline=t.pipeline,ye.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),ye.exports.Stream=t.Stream}ye.exports.default=ye.exports});var HN=O((_Ue,aY)=>{var mUe=require("stream").Stream,cAe=GN().PassThrough,uAe=gE(),dAe=aY.exports={};dAe.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(uAe(t)&&!t._readableState){var e=new cAe;return t.pipe(e),e}return t}});var kN=O((IUe,lY)=>{var fAe=require("util").inherits,EAe=gE(),WN=GN().Transform,hAe=GT(),TAe=HN(),en=lY.exports=function(t){if(!(this instanceof en))return new en(t);WN.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};fAe(en,WN);en.prototype._appendBuffer=function(t,e,r){};en.prototype._appendStream=function(t,e,r){};en.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};en.prototype._finish=function(t){};en.prototype._normalizeEntry=function(t){};en.prototype._transform=function(t,e,r){r(null,t)};en.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof hAe)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=TAe.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(EAe(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};en.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};en.prototype.getBytesWritten=function(){return this.offset};en.prototype.write=function(t,e){return t&&(this.offset+=t.length),WN.prototype.write.call(this,t,e)}});var pp=O($N=>{var cY;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof $N=="object"?t($N):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(cY={}):t(cY={})})(function(t){t.version="1.2.2";function e(){for(var I=0,D=new Array(256),b=0;b!=256;++b)I=b,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,D[b]=I;return typeof Int32Array<"u"?new Int32Array(D):D}var r=e();function n(I){var D=0,b=0,P=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)M[P]=I[P];for(P=0;P!=256;++P)for(b=I[P],D=256+P;D<4096;D+=256)b=M[D]=b>>>8^I[b&255];var B=[];for(P=1;P!=16;++P)B[P-1]=typeof Int32Array<"u"?M.subarray(P*256,P*256+256):M.slice(P*256,P*256+256);return B}var i=n(r),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],E=i[7],f=i[8],T=i[9],h=i[10],p=i[11],S=i[12],m=i[13],R=i[14];function A(I,D){for(var b=D^-1,P=0,M=I.length;P<M;)b=b>>>8^r[(b^I.charCodeAt(P++))&255];return~b}function g(I,D){for(var b=D^-1,P=I.length-15,M=0;M<P;)b=R[I[M++]^b&255]^m[I[M++]^b>>8&255]^S[I[M++]^b>>16&255]^p[I[M++]^b>>>24]^h[I[M++]]^T[I[M++]]^f[I[M++]]^E[I[M++]]^d[I[M++]]^u[I[M++]]^c[I[M++]]^l[I[M++]]^a[I[M++]]^o[I[M++]]^s[I[M++]]^r[I[M++]];for(P+=15;M<P;)b=b>>>8^r[(b^I[M++])&255];return~b}function w(I,D){for(var b=D^-1,P=0,M=I.length,B=0,F=0;P<M;)B=I.charCodeAt(P++),B<128?b=b>>>8^r[(b^B)&255]:B<2048?(b=b>>>8^r[(b^(192|B>>6&31))&255],b=b>>>8^r[(b^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,F=I.charCodeAt(P++)&1023,b=b>>>8^r[(b^(240|B>>8&7))&255],b=b>>>8^r[(b^(128|B>>2&63))&255],b=b>>>8^r[(b^(128|F>>6&15|(B&3)<<4))&255],b=b>>>8^r[(b^(128|F&63))&255]):(b=b>>>8^r[(b^(224|B>>12&15))&255],b=b>>>8^r[(b^(128|B>>6&63))&255],b=b>>>8^r[(b^(128|B&63))&255]);return~b}t.table=r,t.bstr=A,t.buf=g,t.str=w})});var dt=O((NUe,uY)=>{"use strict";var YN=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};uY.exports={AggregateError:YN,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var VN=O((OUe,dY)=>{"use strict";dY.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Dr=O((CUe,hY)=>{"use strict";var{format:pAe,inspect:Sp}=VN(),{AggregateError:SAe}=dt(),RAe=globalThis.AggregateError||SAe,AAe=Symbol("kIsNodeError"),mAe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],_Ae=/^([A-Z][a-z0-9]*)+$/,IAe="__node_internal_",Rp={};function Qo(t,e){if(!t)throw new Rp.ERR_INTERNAL_ASSERTION(e)}function fY(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function gAe(t,e,r){if(typeof e=="function")return Qo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Qo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:pAe(e,...r)}function Rr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(gAe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[AAe]=!0,Rp[t]=n}function EY(t){let e=IAe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function NAe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new RAe([e,t],e.message);return r.code=e.code,r}return t||e}var qN=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Rp.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Rr("ERR_ASSERTION","%s",Error);Rr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Qo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Qo(typeof l=="string","All expected entries have to be of type string"),mAe.includes(l)?i.push(l.toLowerCase()):_Ae.test(l)?s.push(l):(Qo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Sp(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Sp(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Rr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Sp(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Rr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Rr("ERR_MISSING_ARGS",(...t)=>{Qo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Rr("ERR_OUT_OF_RANGE",(t,e,r)=>{Qo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=fY(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=fY(n)),n+="n"}else n=Sp(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Rr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Rr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Rr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Rr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Rr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Rr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Rr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Rr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Rr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Rr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Rr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);hY.exports={AbortError:qN,aggregateTwoErrors:EY(NAe),hideStackFrames:EY,codes:Rp}});var kr=O((yUe,jN)=>{"use strict";var OAe=require("buffer"),{format:CAe,inspect:yAe}=VN(),{codes:{ERR_INVALID_ARG_TYPE:XN}}=Dr(),{kResistStopPropagation:bAe,AggregateError:wAe,SymbolDispose:LAe}=dt(),DAe=globalThis.AbortSignal||wt().AbortSignal,PAe=globalThis.AbortController||wt().AbortController,xAe=Object.getPrototypeOf(async function(){}).constructor,TY=globalThis.Blob||OAe.Blob,MAe=typeof TY<"u"?function(e){return e instanceof TY}:function(e){return!1},pY=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new XN(e,"AbortSignal",t)},vAe=(t,e)=>{if(typeof t!="function")throw new XN(e,"Function",t)};jN.exports={AggregateError:wAe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:CAe,inspect:yAe,types:{isAsyncFunction(t){return t instanceof xAe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:MAe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new XN("signal","AbortSignal",e);pY(e,"signal"),vAe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[bAe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[LAe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:DAe.any||function(e){if(e.length===1)return e[0];let r=new PAe,n=()=>r.abort();return e.forEach(i=>{pY(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};jN.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ql=O((bUe,CY)=>{"use strict";var{ArrayIsArray:KN,ArrayPrototypeIncludes:mY,ArrayPrototypeJoin:_Y,ArrayPrototypeMap:UAe,NumberIsInteger:JN,NumberIsNaN:BAe,NumberMAX_SAFE_INTEGER:FAe,NumberMIN_SAFE_INTEGER:GAe,NumberParseInt:HAe,ObjectPrototypeHasOwnProperty:WAe,RegExpPrototypeExec:IY,String:kAe,StringPrototypeToUpperCase:$Ae,StringPrototypeTrim:YAe}=dt(),{hideStackFrames:_n,codes:{ERR_SOCKET_BAD_PORT:VAe,ERR_INVALID_ARG_TYPE:Pr,ERR_INVALID_ARG_VALUE:Vl,ERR_OUT_OF_RANGE:Zo,ERR_UNKNOWN_SIGNAL:SY}}=Dr(),{normalizeEncoding:qAe}=kr(),{isAsyncFunction:XAe,isArrayBufferView:jAe}=kr().types,RY={};function zAe(t){return t===(t|0)}function KAe(t){return t===t>>>0}var JAe=/^[0-7]+$/,QAe="must be a 32-bit unsigned integer or an octal string";function ZAe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(IY(JAe,t)===null)throw new Vl(e,t,QAe);t=HAe(t,8)}return gY(t,e),t}var eme=_n((t,e,r=GAe,n=FAe)=>{if(typeof t!="number")throw new Pr(e,"number",t);if(!JN(t))throw new Zo(e,"an integer",t);if(t<r||t>n)throw new Zo(e,`>= ${r} && <= ${n}`,t)}),tme=_n((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Pr(e,"number",t);if(!JN(t))throw new Zo(e,"an integer",t);if(t<r||t>n)throw new Zo(e,`>= ${r} && <= ${n}`,t)}),gY=_n((t,e,r=!1)=>{if(typeof t!="number")throw new Pr(e,"number",t);if(!JN(t))throw new Zo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Zo(e,`>= ${n} && <= ${i}`,t)});function QN(t,e){if(typeof t!="string")throw new Pr(e,"string",t)}function rme(t,e,r=void 0,n){if(typeof t!="number")throw new Pr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&BAe(t))throw new Zo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var nme=_n((t,e,r)=>{if(!mY(r,t)){let i="must be one of: "+_Y(UAe(r,s=>typeof s=="string"?`'${s}'`:kAe(s)),", ");throw new Vl(e,t,i)}});function NY(t,e){if(typeof t!="boolean")throw new Pr(e,"boolean",t)}function zN(t,e,r){return t==null||!WAe(t,e)?r:t[e]}var ime=_n((t,e,r=null)=>{let n=zN(r,"allowArray",!1),i=zN(r,"allowFunction",!1);if(!zN(r,"nullable",!1)&&t===null||!n&&KN(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Pr(e,"Object",t)}),sme=_n((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Pr(e,"a dictionary",t)}),Ap=_n((t,e,r=0)=>{if(!KN(t))throw new Pr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Vl(e,t,n)}});function ome(t,e){Ap(t,e);for(let r=0;r<t.length;r++)QN(t[r],`${e}[${r}]`)}function ame(t,e){Ap(t,e);for(let r=0;r<t.length;r++)NY(t[r],`${e}[${r}]`)}function lme(t,e){Ap(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Pr(i,"AbortSignal",n);OY(n,i)}}function cme(t,e="signal"){if(QN(t,e),RY[t]===void 0)throw RY[$Ae(t)]!==void 0?new SY(t+" (signals must use all capital letters)"):new SY(t)}var ume=_n((t,e="buffer")=>{if(!jAe(t))throw new Pr(e,["Buffer","TypedArray","DataView"],t)});function dme(t,e){let r=qAe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Vl("encoding",e,`is invalid for data of length ${n}`)}function fme(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&YAe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new VAe(e,t,r);return t|0}var OY=_n((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Pr(e,"AbortSignal",t)}),Eme=_n((t,e)=>{if(typeof t!="function")throw new Pr(e,"Function",t)}),hme=_n((t,e)=>{if(typeof t!="function"||XAe(t))throw new Pr(e,"Function",t)}),Tme=_n((t,e)=>{if(t!==void 0)throw new Pr(e,"undefined",t)});function pme(t,e,r){if(!mY(r,t))throw new Pr(e,`('${_Y(r,"|")}')`,t)}var Sme=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function AY(t,e){if(typeof t>"u"||!IY(Sme,t))throw new Vl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Rme(t){if(typeof t=="string")return AY(t,"hints"),t;if(KN(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];AY(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Vl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}CY.exports={isInt32:zAe,isUint32:KAe,parseFileMode:ZAe,validateArray:Ap,validateStringArray:ome,validateBooleanArray:ame,validateAbortSignalArray:lme,validateBoolean:NY,validateBuffer:ume,validateDictionary:sme,validateEncoding:dme,validateFunction:Eme,validateInt32:tme,validateInteger:eme,validateNumber:rme,validateObject:ime,validateOneOf:nme,validatePlainFunction:hme,validatePort:fme,validateSignalName:cme,validateString:QN,validateUint32:gY,validateUndefined:Tme,validateUnion:pme,validateAbortSignal:OY,validateLinkHeaderValue:Rme}});var pi=O((wUe,WY)=>{"use strict";var{SymbolAsyncIterator:yY,SymbolIterator:bY,SymbolFor:ea}=dt(),wY=ea("nodejs.stream.destroyed"),LY=ea("nodejs.stream.errored"),ZN=ea("nodejs.stream.readable"),eO=ea("nodejs.stream.writable"),DY=ea("nodejs.stream.disturbed"),Ame=ea("nodejs.webstream.isClosedPromise"),mme=ea("nodejs.webstream.controllerErrorFunction");function mp(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function _p(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function _me(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Ti(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function PY(t){return!!(t&&!Ti(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function xY(t){return!!(t&&!Ti(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function MY(t){return!!(t&&!Ti(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Ime(t){return PY(t)||xY(t)||MY(t)}function gme(t,e){return t==null?!1:e===!0?typeof t[yY]=="function":e===!1?typeof t[bY]=="function":typeof t[yY]=="function"||typeof t[bY]=="function"}function Ip(t){if(!Ti(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[wY]||n!=null&&n.destroyed)}function vY(t){if(!_p(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Nme(t,e){if(!_p(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Ome(t){if(!mp(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function UY(t,e){if(!mp(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function BY(t){return t&&t[ZN]!=null?t[ZN]:typeof t?.readable!="boolean"?null:Ip(t)?!1:mp(t)&&t.readable&&!UY(t)}function FY(t){return t&&t[eO]!=null?t[eO]:typeof t?.writable!="boolean"?null:Ip(t)?!1:_p(t)&&t.writable&&!vY(t)}function Cme(t,e){return Ti(t)?Ip(t)?!0:!(e?.readable!==!1&&BY(t)||e?.writable!==!1&&FY(t)):null}function yme(t){var e,r;return Ti(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function bme(t){var e,r;return Ti(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function wme(t){if(!Ti(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&GY(t)?t._closed:null}function GY(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function HY(t){return typeof t._sent100=="boolean"&&GY(t)}function Lme(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Dme(t){if(!Ti(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&HY(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Pme(t){var e;return!!(t&&((e=t[DY])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function xme(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[LY])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}WY.exports={isDestroyed:Ip,kIsDestroyed:wY,isDisturbed:Pme,kIsDisturbed:DY,isErrored:xme,kIsErrored:LY,isReadable:BY,kIsReadable:ZN,kIsClosedPromise:Ame,kControllerErrorFunction:mme,kIsWritable:eO,isClosed:wme,isDuplexNodeStream:_me,isFinished:Cme,isIterable:gme,isReadableNodeStream:mp,isReadableStream:PY,isReadableEnded:Ome,isReadableFinished:UY,isReadableErrored:bme,isNodeStream:Ti,isWebStream:Ime,isWritable:FY,isWritableNodeStream:_p,isWritableStream:xY,isWritableEnded:vY,isWritableFinished:Nme,isWritableErrored:yme,isServerRequest:Lme,isServerResponse:HY,willEmitClose:Dme,isTransformStream:MY}});var es=O((LUe,sO)=>{"use strict";var Ws=je(),{AbortError:KY,codes:Mme}=Dr(),{ERR_INVALID_ARG_TYPE:vme,ERR_STREAM_PREMATURE_CLOSE:kY}=Mme,{kEmptyObject:rO,once:nO}=kr(),{validateAbortSignal:Ume,validateFunction:Bme,validateObject:Fme,validateBoolean:Gme}=ql(),{Promise:Hme,PromisePrototypeThen:Wme,SymbolDispose:JY}=dt(),{isClosed:kme,isReadable:$Y,isReadableNodeStream:tO,isReadableStream:$me,isReadableFinished:YY,isReadableErrored:VY,isWritable:qY,isWritableNodeStream:XY,isWritableStream:Yme,isWritableFinished:jY,isWritableErrored:zY,isNodeStream:Vme,willEmitClose:qme,kIsClosedPromise:Xme}=pi(),Xl;function jme(t){return t.setHeader&&typeof t.abort=="function"}var iO=()=>{};function QY(t,e,r){var n,i;if(arguments.length===2?(r=e,e=rO):e==null?e=rO:Fme(e,"options"),Bme(r,"callback"),Ume(e.signal,"options.signal"),r=nO(r),$me(t)||Yme(t))return zme(t,e,r);if(!Vme(t))throw new vme("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:tO(t),o=(i=e.writable)!==null&&i!==void 0?i:XY(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||E()},u=qme(t)&&tO(t)===s&&XY(t)===o,d=jY(t,!1),E=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=YY(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},h=g=>{r.call(t,g)},p=kme(t),S=()=>{p=!0;let g=zY(t)||VY(t);if(g&&typeof g!="boolean")return r.call(t,g);if(s&&!f&&tO(t,!0)&&!YY(t,!1))return r.call(t,new kY);if(o&&!d&&!jY(t,!1))return r.call(t,new kY);r.call(t)},m=()=>{p=!0;let g=zY(t)||VY(t);if(g&&typeof g!="boolean")return r.call(t,g);r.call(t)},R=()=>{t.req.on("finish",E)};jme(t)?(t.on("complete",E),u||t.on("abort",S),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",E),e.error!==!1&&t.on("error",h),t.on("close",S),p?Ws.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Ws.nextTick(m):(!s&&(!u||$Y(t))&&(d||qY(t)===!1)||!o&&(!u||qY(t))&&(f||$Y(t)===!1)||l&&t.req&&t.aborted)&&Ws.nextTick(m);let A=()=>{r=iO,t.removeListener("aborted",S),t.removeListener("complete",E),t.removeListener("abort",S),t.removeListener("request",R),t.req&&t.req.removeListener("finish",E),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",E),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!p){let g=()=>{let w=r;A(),w.call(t,new KY(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ws.nextTick(g);else{Xl=Xl||kr().addAbortListener;let w=Xl(e.signal,g),I=r;r=nO((...D)=>{w[JY](),I.apply(t,D)})}}return A}function zme(t,e,r){let n=!1,i=iO;if(e.signal)if(i=()=>{n=!0,r.call(t,new KY(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ws.nextTick(i);else{Xl=Xl||kr().addAbortListener;let o=Xl(e.signal,i),a=r;r=nO((...l)=>{o[JY](),a.apply(t,l)})}let s=(...o)=>{n||Ws.nextTick(()=>r.apply(t,o))};return Wme(t[Xme].promise,s,s),iO}function Kme(t,e){var r;let n=!1;return e===null&&(e=rO),(r=e)!==null&&r!==void 0&&r.cleanup&&(Gme(e.cleanup,"cleanup"),n=e.cleanup),new Hme((i,s)=>{let o=QY(t,e,a=>{n&&o(),a?s(a):i()})})}sO.exports=QY;sO.exports.finished=Kme});var ta=O((DUe,oV)=>{"use strict";var Si=je(),{aggregateTwoErrors:Jme,codes:{ERR_MULTIPLE_CALLBACK:Qme},AbortError:Zme}=Dr(),{Symbol:tV}=dt(),{kIsDestroyed:e_e,isDestroyed:t_e,isFinished:r_e,isServerRequest:n_e}=pi(),rV=tV("kDestroy"),oO=tV("kConstruct");function nV(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function i_e(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(nV(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?ZY(this,t,e):this.once(rV,function(s){ZY(this,Jme(s,t),e)}),this)}function ZY(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;nV(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Si.nextTick(s_e,t,s):Si.nextTick(iV,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function s_e(t,e){aO(t,e),iV(t)}function iV(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function aO(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function o_e(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function lO(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Si.nextTick(aO,t,e):aO(t,e))}function a_e(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(oO,e),!(t.listenerCount(oO)>1)&&Si.nextTick(l_e,t)}function l_e(t){let e=!1;function r(n){if(e){lO(t,n??new Qme);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(rV,n):n?lO(t,n,!0):Si.nextTick(c_e,t)}try{t._construct(n=>{Si.nextTick(r,n)})}catch(n){Si.nextTick(r,n)}}function c_e(t){t.emit(oO)}function eV(t){return t?.setHeader&&typeof t.abort=="function"}function sV(t){t.emit("close")}function u_e(t,e){t.emit("error",e),Si.nextTick(sV,t)}function d_e(t,e){!t||t_e(t)||(!e&&!r_e(t)&&(e=new Zme),n_e(t)?(t.socket=null,t.destroy(e)):eV(t)?t.abort():eV(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Si.nextTick(u_e,t,e):Si.nextTick(sV,t),t.destroyed||(t[e_e]=!0))}oV.exports={construct:a_e,destroyer:d_e,destroy:i_e,undestroy:o_e,errorOrDestroy:lO}});var Op=O((PUe,lV)=>{"use strict";var{ArrayIsArray:f_e,ObjectSetPrototypeOf:aV}=dt(),{EventEmitter:gp}=require("events");function Np(t){gp.call(this,t)}aV(Np.prototype,gp.prototype);aV(Np,gp);Np.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),gp.listenerCount(this,"error")===0&&this.emit("error",u)}cO(r,"error",l),cO(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function cO(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):f_e(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}lV.exports={Stream:Np,prependListener:cO}});var Od=O((xUe,Cp)=>{"use strict";var{SymbolDispose:E_e}=dt(),{AbortError:cV,codes:h_e}=Dr(),{isNodeStream:uV,isWebStream:T_e,kControllerErrorFunction:p_e}=pi(),S_e=es(),{ERR_INVALID_ARG_TYPE:dV}=h_e,uO,R_e=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new dV(e,"AbortSignal",t)};Cp.exports.addAbortSignal=function(e,r){if(R_e(e,"signal"),!uV(r)&&!T_e(r))throw new dV("stream",["ReadableStream","WritableStream","Stream"],r);return Cp.exports.addAbortSignalNoValidate(e,r)};Cp.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=uV(e)?()=>{e.destroy(new cV(void 0,{cause:t.reason}))}:()=>{e[p_e](new cV(void 0,{cause:t.reason}))};if(t.aborted)r();else{uO=uO||kr().addAbortListener;let n=uO(t,r);S_e(e,n[E_e])}return e}});var hV=O((vUe,EV)=>{"use strict";var{StringPrototypeSlice:fV,SymbolIterator:A_e,TypedArrayPrototypeSet:yp,Uint8Array:m_e}=dt(),{Buffer:dO}=require("buffer"),{inspect:__e}=kr();EV.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return dO.alloc(0);let r=dO.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)yp(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[A_e](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=fV(s,0,e),this.head=n,n.data=fV(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=dO.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)yp(r,o,n-e),e-=o.length;else{e===o.length?(yp(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(yp(r,new m_e(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return __e(this,{...r,depth:0,customInspect:!1})}}});var Cd=O((UUe,RV)=>{"use strict";var{MathFloor:I_e,NumberIsInteger:g_e}=dt(),{validateInteger:N_e}=ql(),{ERR_INVALID_ARG_VALUE:O_e}=Dr().codes,TV=16*1024,pV=16;function C_e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function SV(t){return t?pV:TV}function y_e(t,e){N_e(e,"value",0),t?pV=e:TV=e}function b_e(t,e,r,n){let i=C_e(e,n,r);if(i!=null){if(!g_e(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new O_e(s,i)}return I_e(i)}return SV(t.objectMode)}RV.exports={getHighWaterMark:b_e,getDefaultHighWaterMark:SV,setDefaultHighWaterMark:y_e}});var fO=O((BUe,IV)=>{"use strict";var AV=je(),{PromisePrototypeThen:w_e,SymbolAsyncIterator:mV,SymbolIterator:_V}=dt(),{Buffer:L_e}=require("buffer"),{ERR_INVALID_ARG_TYPE:D_e,ERR_STREAM_NULL_VALUES:P_e}=Dr().codes;function x_e(t,e,r){let n;if(typeof e=="string"||e instanceof L_e)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[mV])i=!0,n=e[mV]();else if(e&&e[_V])i=!1,n=e[_V]();else throw new D_e("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){w_e(a(c),()=>AV.nextTick(u,c),d=>AV.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:E,done:f}=await n.throw(c);if(await E,f)return}if(typeof n.return=="function"){let{value:E}=await n.return();await E}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new P_e;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}IV.exports=x_e});var bd=O((FUe,HV)=>{"use strict";var Bn=je(),{ArrayPrototypeIndexOf:M_e,NumberIsInteger:v_e,NumberIsNaN:U_e,NumberParseInt:B_e,ObjectDefineProperties:mO,ObjectKeys:F_e,ObjectSetPrototypeOf:OV,Promise:CV,SafeSet:G_e,SymbolAsyncDispose:H_e,SymbolAsyncIterator:W_e,Symbol:k_e}=dt();HV.exports=me;me.ReadableState=Dp;var{EventEmitter:$_e}=require("events"),{Stream:ks,prependListener:Y_e}=Op(),{Buffer:EO}=require("buffer"),{addAbortSignal:V_e}=Od(),yV=es(),Me=kr().debuglog("stream",t=>{Me=t}),q_e=hV(),Kl=ta(),{getHighWaterMark:X_e,getDefaultHighWaterMark:j_e}=Cd(),{aggregateTwoErrors:gV,codes:{ERR_INVALID_ARG_TYPE:z_e,ERR_METHOD_NOT_IMPLEMENTED:K_e,ERR_OUT_OF_RANGE:J_e,ERR_STREAM_PUSH_AFTER_EOF:Q_e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Z_e},AbortError:eIe}=Dr(),{validateObject:tIe}=ql(),ra=k_e("kPaused"),{StringDecoder:bV}=_u(),rIe=fO();OV(me.prototype,ks.prototype);OV(me,ks);var hO=()=>{},{errorOrDestroy:jl}=Kl,zl=1,nIe=2,wV=4,yd=8,LV=16,bp=32,wp=64,DV=128,iIe=256,sIe=512,oIe=1024,RO=2048,AO=4096,aIe=8192,lIe=16384,cIe=32768,PV=65536,uIe=1<<17,dIe=1<<18;function Yt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}mO(Dp.prototype,{objectMode:Yt(zl),ended:Yt(nIe),endEmitted:Yt(wV),reading:Yt(yd),constructed:Yt(LV),sync:Yt(bp),needReadable:Yt(wp),emittedReadable:Yt(DV),readableListening:Yt(iIe),resumeScheduled:Yt(sIe),errorEmitted:Yt(oIe),emitClose:Yt(RO),autoDestroy:Yt(AO),destroyed:Yt(aIe),closed:Yt(lIe),closeEmitted:Yt(cIe),multiAwaitDrain:Yt(PV),readingMore:Yt(uIe),dataEmitted:Yt(dIe)});function Dp(t,e,r){typeof r!="boolean"&&(r=e instanceof Ri()),this.state=RO|AO|LV|bp,t&&t.objectMode&&(this.state|=zl),r&&t&&t.readableObjectMode&&(this.state|=zl),this.highWaterMark=t?X_e(this,t,"readableHighWaterMark",r):j_e(!1),this.buffer=new q_e,this.length=0,this.pipes=[],this.flowing=null,this[ra]=null,t&&t.emitClose===!1&&(this.state&=~RO),t&&t.autoDestroy===!1&&(this.state&=~AO),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new bV(t.encoding),this.encoding=t.encoding)}function me(t){if(!(this instanceof me))return new me(t);let e=this instanceof Ri();this._readableState=new Dp(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&V_e(t.signal,this)),ks.call(this,t),Kl.construct(this,()=>{this._readableState.needReadable&&Lp(this,this._readableState)})}me.prototype.destroy=Kl.destroy;me.prototype._undestroy=Kl.undestroy;me.prototype._destroy=function(t,e){e(t)};me.prototype[$_e.captureRejectionSymbol]=function(t){this.destroy(t)};me.prototype[H_e]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new eIe,this.destroy(t)),new CV((e,r)=>yV(this,n=>n&&n!==t?r(n):e(null)))};me.prototype.push=function(t,e){return xV(this,t,e,!1)};me.prototype.unshift=function(t,e){return xV(this,t,e,!0)};function xV(t,e,r,n){Me("readableAddChunk",e);let i=t._readableState,s;if((i.state&zl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=EO.from(e,r).toString(i.encoding):(e=EO.from(e,r),r=""))):e instanceof EO?r="":ks._isUint8Array(e)?(e=ks._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new z_e("chunk",["string","Buffer","Uint8Array"],e))),s)jl(t,s);else if(e===null)i.state&=~yd,hIe(t,i);else if((i.state&zl)!==0||e&&e.length>0)if(n)if((i.state&wV)!==0)jl(t,new Z_e);else{if(i.destroyed||i.errored)return!1;TO(t,i,e,!0)}else if(i.ended)jl(t,new Q_e);else{if(i.destroyed||i.errored)return!1;i.state&=~yd,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?TO(t,i,e,!1):Lp(t,i)):TO(t,i,e,!1)}else n||(i.state&=~yd,Lp(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function TO(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&PV)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&wp)!==0&&Pp(t)),Lp(t,e)}me.prototype.isPaused=function(){let t=this._readableState;return t[ra]===!0||t.flowing===!1};me.prototype.setEncoding=function(t){let e=new bV(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var fIe=1073741824;function EIe(t){if(t>fIe)throw new J_e("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function NV(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&zl)!==0?1:U_e(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}me.prototype.read=function(t){Me("read",t),t===void 0?t=NaN:v_e(t)||(t=B_e(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=EIe(t)),t!==0&&(e.state&=~DV),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Me("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?pO(this):Pp(this),null;if(t=NV(t,e),t===0&&e.ended)return e.length===0&&pO(this),null;let n=(e.state&wp)!==0;if(Me("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Me("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Me("reading, ended or constructing",n);else if(n){Me("do read"),e.state|=yd|bp,e.length===0&&(e.state|=wp);try{this._read(e.highWaterMark)}catch(s){jl(this,s)}e.state&=~bp,e.reading||(t=NV(r,e))}let i;return t>0?i=FV(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&pO(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function hIe(t,e){if(Me("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Pp(t):(e.needReadable=!1,e.emittedReadable=!0,MV(t))}}function Pp(t){let e=t._readableState;Me("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Me("emitReadable",e.flowing),e.emittedReadable=!0,Bn.nextTick(MV,t))}function MV(t){let e=t._readableState;Me("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,UV(t)}function Lp(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Bn.nextTick(TIe,t,e))}function TIe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Me("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}me.prototype._read=function(t){throw new K_e("_read()")};me.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new G_e(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Me("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Bn.stdout&&t!==Bn.stderr?a:p;n.endEmitted?Bn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,m){Me("onunpipe"),S===r&&m&&m.hasUnpiped===!1&&(m.hasUnpiped=!0,u())}function a(){Me("onend"),t.end()}let l,c=!1;function u(){Me("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",E),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Me("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Me("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=pIe(r,t),t.on("drain",l))}r.on("data",E);function E(S){Me("ondata");let m=t.write(S);Me("dest.write",m),m===!1&&d()}function f(S){if(Me("onerror",S),p(),t.removeListener("error",f),t.listenerCount("error")===0){let m=t._writableState||t._readableState;m&&!m.errorEmitted?jl(t,S):t.emit("error",S)}}Y_e(t,"error",f);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){Me("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){Me("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Me("pipe resume"),r.resume()),t};function pIe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Me("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Me("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}me.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=M_e(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};me.prototype.on=function(t,e){let r=ks.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Me("on readable",n.length,n.reading),n.length?Pp(this):n.reading||Bn.nextTick(SIe,this)),r};me.prototype.addListener=me.prototype.on;me.prototype.removeListener=function(t,e){let r=ks.prototype.removeListener.call(this,t,e);return t==="readable"&&Bn.nextTick(vV,this),r};me.prototype.off=me.prototype.removeListener;me.prototype.removeAllListeners=function(t){let e=ks.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Bn.nextTick(vV,this),e};function vV(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[ra]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function SIe(t){Me("readable nexttick read 0"),t.read(0)}me.prototype.resume=function(){let t=this._readableState;return t.flowing||(Me("resume"),t.flowing=!t.readableListening,RIe(this,t)),t[ra]=!1,this};function RIe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Bn.nextTick(AIe,t,e))}function AIe(t,e){Me("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),UV(t),e.flowing&&!e.reading&&t.read(0)}me.prototype.pause=function(){return Me("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Me("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ra]=!0,this};function UV(t){let e=t._readableState;for(Me("flow",e.flowing);e.flowing&&t.read()!==null;);}me.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{jl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=F_e(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};me.prototype[W_e]=function(){return BV(this)};me.prototype.iterator=function(t){return t!==void 0&&tIe(t,"options"),BV(this,t)};function BV(t,e){typeof t.read!="function"&&(t=me.wrap(t,{objectMode:!0}));let r=mIe(t,e);return r.stream=t,r}async function*mIe(t,e){let r=hO;function n(o){this===t?(r(),r=hO):r=o}t.on("readable",n);let i,s=yV(t,{writable:!1},o=>{i=o?gV(i,o):null,r(),r=hO});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new CV(n)}}}catch(o){throw i=gV(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Kl.destroyer(t,null):(t.off("readable",n),s())}}mO(me.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});mO(Dp.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ra]!==!1},set(t){this[ra]=!!t}}});me._fromList=FV;function FV(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function pO(t){let e=t._readableState;Me("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Bn.nextTick(_Ie,e,t))}function _Ie(t,e){if(Me("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Bn.nextTick(IIe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function IIe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}me.from=function(t,e){return rIe(me,t,e)};var SO;function GV(){return SO===void 0&&(SO={}),SO}me.fromWeb=function(t,e){return GV().newStreamReadableFromReadableStream(t,e)};me.toWeb=function(t,e){return GV().newReadableStreamFromStreamReadable(t,e)};me.wrap=function(t,e){var r,n;return new me({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Kl.destroyer(t,i),s(i)}}).wrap(t)}});var Bp=O((GUe,QV)=>{"use strict";var na=je(),{ArrayPrototypeSlice:$V,Error:gIe,FunctionPrototypeSymbolHasInstance:YV,ObjectDefineProperty:VV,ObjectDefineProperties:NIe,ObjectSetPrototypeOf:qV,StringPrototypeToLowerCase:OIe,Symbol:CIe,SymbolHasInstance:yIe}=dt();QV.exports=St;St.WritableState=Dd;var{EventEmitter:bIe}=require("events"),wd=Op().Stream,{Buffer:xp}=require("buffer"),Up=ta(),{addAbortSignal:wIe}=Od(),{getHighWaterMark:LIe,getDefaultHighWaterMark:DIe}=Cd(),{ERR_INVALID_ARG_TYPE:PIe,ERR_METHOD_NOT_IMPLEMENTED:xIe,ERR_MULTIPLE_CALLBACK:XV,ERR_STREAM_CANNOT_PIPE:MIe,ERR_STREAM_DESTROYED:Ld,ERR_STREAM_ALREADY_FINISHED:vIe,ERR_STREAM_NULL_VALUES:UIe,ERR_STREAM_WRITE_AFTER_END:BIe,ERR_UNKNOWN_ENCODING:jV}=Dr().codes,{errorOrDestroy:Jl}=Up;qV(St.prototype,wd.prototype);qV(St,wd);function gO(){}var Ql=CIe("kOnFinished");function Dd(t,e,r){typeof r!="boolean"&&(r=e instanceof Ri()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?LIe(this,t,"writableHighWaterMark",r):DIe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=GIe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,vp(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ql]=[]}function vp(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Dd.prototype.getBuffer=function(){return $V(this.buffered,this.bufferedIndex)};VV(Dd.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function St(t){let e=this instanceof Ri();if(!e&&!YV(St,this))return new St(t);this._writableState=new Dd(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&wIe(t.signal,this)),wd.call(this,t),Up.construct(this,()=>{let r=this._writableState;r.writing||OO(this,r),CO(this,r)})}VV(St,yIe,{__proto__:null,value:function(t){return YV(this,t)?!0:this!==St?!1:t&&t._writableState instanceof Dd}});St.prototype.pipe=function(){Jl(this,new MIe)};function zV(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!xp.isEncoding(r))throw new jV(r);typeof n!="function"&&(n=gO)}if(e===null)throw new UIe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=xp.from(e,r),r="buffer");else if(e instanceof xp)r="buffer";else if(wd._isUint8Array(e))e=wd._uint8ArrayToBuffer(e),r="buffer";else throw new PIe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new BIe:i.destroyed&&(s=new Ld("write")),s?(na.nextTick(n,s),Jl(t,s,!0),s):(i.pendingcb++,FIe(t,i,e,r,n))}St.prototype.write=function(t,e,r){return zV(this,t,e,r)===!0};St.prototype.cork=function(){this._writableState.corked++};St.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||OO(this,t))};St.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=OIe(e)),!xp.isEncoding(e))throw new jV(e);return this._writableState.defaultEncoding=e,this};function FIe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==gO&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function WV(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Ld("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function kV(t,e,r,n){--e.pendingcb,n(r),NO(e),Jl(t,r)}function GIe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Jl(t,new XV);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?na.nextTick(kV,t,r,e,i):kV(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&OO(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},na.nextTick(HIe,r.afterWriteTickInfo)):KV(t,r,1,i))}function HIe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,KV(t,e,r,n)}function KV(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&NO(e),CO(t,e)}function NO(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Ld("write"))}let r=t[Ql].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Ld("end"))}vp(t)}function OO(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?gO:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:$V(r,o);l.allBuffers=e.allBuffers,WV(t,e,!0,e.length,l,"",a),vp(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;WV(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?vp(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}St.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new xIe("_write()")};St.prototype._writev=null;St.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=zV(this,t,e);s instanceof gIe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,CO(this,n,!0),n.ended=!0):n.finished?i=new vIe("end"):n.destroyed&&(i=new Ld("end"))),typeof r=="function"&&(i||n.finished?na.nextTick(r,i):n[Ql].push(r)),this};function Mp(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function WIe(t,e){let r=!1;function n(i){if(r){Jl(t,i??XV());return}if(r=!0,e.pendingcb--,i){let s=e[Ql].splice(0);for(let o=0;o<s.length;o++)s[o](i);Jl(t,i,e.sync)}else Mp(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,na.nextTick(IO,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function kIe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,WIe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function CO(t,e,r){Mp(e)&&(kIe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,na.nextTick((n,i)=>{Mp(i)?IO(n,i):i.pendingcb--},t,e)):Mp(e)&&(e.pendingcb++,IO(t,e))))}function IO(t,e){e.pendingcb--,e.finished=!0;let r=e[Ql].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}NIe(St.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var $Ie=Up.destroy;St.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Ql].length)&&na.nextTick(NO,r),$Ie.call(this,t,e),this};St.prototype._undestroy=Up.undestroy;St.prototype._destroy=function(t,e){e(t)};St.prototype[bIe.captureRejectionSymbol]=function(t){this.destroy(t)};var _O;function JV(){return _O===void 0&&(_O={}),_O}St.fromWeb=function(t,e){return JV().newStreamWritableFromWritableStream(t,e)};St.toWeb=function(t){return JV().newWritableStreamFromStreamWritable(t)}});var E2=O((HUe,f2)=>{var yO=je(),YIe=require("buffer"),{isReadable:VIe,isWritable:qIe,isIterable:ZV,isNodeStream:XIe,isReadableNodeStream:e2,isWritableNodeStream:t2,isDuplexNodeStream:jIe,isReadableStream:r2,isWritableStream:n2}=pi(),i2=es(),{AbortError:u2,codes:{ERR_INVALID_ARG_TYPE:zIe,ERR_INVALID_RETURN_VALUE:s2}}=Dr(),{destroyer:ec}=ta(),KIe=Ri(),d2=bd(),JIe=Bp(),{createDeferredPromise:o2}=kr(),a2=fO(),l2=globalThis.Blob||YIe.Blob,QIe=typeof l2<"u"?function(e){return e instanceof l2}:function(e){return!1},ZIe=globalThis.AbortController||wt().AbortController,{FunctionPrototypeCall:c2}=dt(),$s=class extends KIe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};f2.exports=function t(e,r){if(jIe(e))return e;if(e2(e))return Zl({readable:e});if(t2(e))return Zl({writable:e});if(XIe(e))return Zl({writable:!1,readable:!1});if(r2(e))return Zl({readable:d2.fromWeb(e)});if(n2(e))return Zl({writable:JIe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=ege(e);if(ZV(i))return a2($s,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=c2(l,i,d=>{if(d!=null)throw new s2("nully","body",d)},d=>{ec(c,d)});return c=new $s({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,yO.nextTick(d,null)}catch(E){yO.nextTick(d,E)}})},destroy:a})}throw new s2("Iterable, AsyncIterable or AsyncFunction",r,i)}if(QIe(e))return t(e.arrayBuffer());if(ZV(e))return a2($s,e,{objectMode:!0,writable:!1});if(r2(e?.readable)&&n2(e?.writable))return $s.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?e2(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?t2(e?.writable)?e?.writable:t(e.writable):void 0;return Zl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return c2(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{ec(i,s)}),i=new $s({objectMode:!0,writable:!1,read(){}})}throw new zIe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function ege(t){let{promise:e,resolve:r}=o2(),n=new ZIe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(yO.nextTick(c),l)return;if(i.aborted)throw new u2(void 0,{cause:i.reason});({promise:e,resolve:r}=o2()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Zl(t){let e=t.readable&&typeof t.readable.read!="function"?d2.wrap(t.readable):t.readable,r=t.writable,n=!!VIe(e),i=!!qIe(r),s,o,a,l,c;function u(d){let E=l;l=null,E?E(d):d&&c.destroy(d)}return c=new $s({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(i2(r,d=>{i=!1,d&&ec(e,d),u(d)}),c._write=function(d,E,f){r.write(d,E)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(i2(e,d=>{n=!1,d&&ec(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,E){!d&&l!==null&&(d=new u2),a=null,s=null,o=null,l===null?E(d):(l=E,ec(r,d),ec(e,d))},c}});var Ri=O((WUe,p2)=>{"use strict";var{ObjectDefineProperties:tge,ObjectGetOwnPropertyDescriptor:ts,ObjectKeys:rge,ObjectSetPrototypeOf:h2}=dt();p2.exports=Fn;var LO=bd(),In=Bp();h2(Fn.prototype,LO.prototype);h2(Fn,LO);{let t=rge(In.prototype);for(let e=0;e<t.length;e++){let r=t[e];Fn.prototype[r]||(Fn.prototype[r]=In.prototype[r])}}function Fn(t){if(!(this instanceof Fn))return new Fn(t);LO.call(this,t),In.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}tge(Fn.prototype,{writable:{__proto__:null,...ts(In.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ts(In.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ts(In.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ts(In.prototype,"writableBuffer")},writableLength:{__proto__:null,...ts(In.prototype,"writableLength")},writableFinished:{__proto__:null,...ts(In.prototype,"writableFinished")},writableCorked:{__proto__:null,...ts(In.prototype,"writableCorked")},writableEnded:{__proto__:null,...ts(In.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ts(In.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var bO;function T2(){return bO===void 0&&(bO={}),bO}Fn.fromWeb=function(t,e){return T2().newStreamDuplexFromReadableWritablePair(t,e)};Fn.toWeb=function(t){return T2().newReadableWritablePairFromDuplex(t)};var wO;Fn.from=function(t){return wO||(wO=E2()),wO(t,"body")}});var xO=O((kUe,R2)=>{"use strict";var{ObjectSetPrototypeOf:S2,Symbol:nge}=dt();R2.exports=rs;var{ERR_METHOD_NOT_IMPLEMENTED:ige}=Dr().codes,PO=Ri(),{getHighWaterMark:sge}=Cd();S2(rs.prototype,PO.prototype);S2(rs,PO);var Pd=nge("kCallback");function rs(t){if(!(this instanceof rs))return new rs(t);let e=t?sge(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),PO.call(this,t),this._readableState.sync=!1,this[Pd]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",oge)}function DO(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function oge(){this._final!==DO&&DO.call(this)}rs.prototype._final=DO;rs.prototype._transform=function(t,e,r){throw new ige("_transform()")};rs.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Pd]=r})};rs.prototype._read=function(){if(this[Pd]){let t=this[Pd];this[Pd]=null,t()}}});var vO=O(($Ue,m2)=>{"use strict";var{ObjectSetPrototypeOf:A2}=dt();m2.exports=tc;var MO=xO();A2(tc.prototype,MO.prototype);A2(tc,MO);function tc(t){if(!(this instanceof tc))return new tc(t);MO.call(this,t)}tc.prototype._transform=function(t,e,r){r(null,t)}});var Wp=O((YUe,O2)=>{var xd=je(),{ArrayIsArray:age,Promise:lge,SymbolAsyncIterator:cge,SymbolDispose:uge}=dt(),Hp=es(),{once:dge}=kr(),fge=ta(),_2=Ri(),{aggregateTwoErrors:Ege,codes:{ERR_INVALID_ARG_TYPE:YO,ERR_INVALID_RETURN_VALUE:UO,ERR_MISSING_ARGS:hge,ERR_STREAM_DESTROYED:Tge,ERR_STREAM_PREMATURE_CLOSE:pge},AbortError:Sge}=Dr(),{validateFunction:Rge,validateAbortSignal:Age}=ql(),{isIterable:ia,isReadable:BO,isReadableNodeStream:Gp,isNodeStream:I2,isTransformStream:rc,isWebStream:mge,isReadableStream:FO,isReadableFinished:_ge}=pi(),Ige=globalThis.AbortController||wt().AbortController,GO,HO,WO;function g2(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Hp(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,fge.destroyer(t,s||new Tge("pipe")))},cleanup:i}}function gge(t){return Rge(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function kO(t){if(ia(t))return t;if(Gp(t))return Nge(t);throw new YO("val",["Readable","Iterable","AsyncIterable"],t)}async function*Nge(t){HO||(HO=bd()),yield*HO.prototype[cge].call(t)}async function Fp(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new lge((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Hp(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?Ege(i,c):c)}finally{l(),e.off("drain",o)}}async function $O(t,e,r,{end:n}){rc(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Oge(...t){return N2(t,dge(gge(t)))}function N2(t,e,r){if(t.length===1&&age(t[0])&&(t=t[0]),t.length<2)throw new hge("streams");let n=new Ige,i=n.signal,s=r?.signal,o=[];Age(s,"options.signal");function a(){T(new Sge)}WO=WO||kr().addAbortListener;let l;s&&(l=WO(s,a));let c,u,d=[],E=0;function f(R){T(R,--E===0)}function T(R,A){var g;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;d.length;)d.shift()(c);(g=l)===null||g===void 0||g[uge](),n.abort(),A&&(c||o.forEach(w=>w()),xd.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],g=R<t.length-1,w=R>0,I=g||r?.end!==!1,D=R===t.length-1;if(I2(A)){let b=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var m=b;if(I){let{destroy:P,cleanup:M}=g2(A,g,w);d.push(P),BO(A)&&D&&o.push(M)}A.on("error",b),BO(A)&&D&&o.push(()=>{A.removeListener("error",b)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!ia(h))throw new UO("Iterable, AsyncIterable or Stream","source",h)}else ia(A)||Gp(A)||rc(A)?h=A:h=_2.from(A);else if(typeof A=="function"){if(rc(h)){var p;h=kO((p=h)===null||p===void 0?void 0:p.readable)}else h=kO(h);if(h=A(h,{signal:i}),g){if(!ia(h,!0))throw new UO("AsyncIterable",`transform[${R-1}]`,h)}else{var S;GO||(GO=vO());let b=new GO({objectMode:!0}),P=(S=h)===null||S===void 0?void 0:S.then;if(typeof P=="function")E++,P.call(h,F=>{u=F,F!=null&&b.write(F),I&&b.end(),xd.nextTick(f)},F=>{b.destroy(F),xd.nextTick(f,F)});else if(ia(h,!0))E++,Fp(h,b,f,{end:I});else if(FO(h)||rc(h)){let F=h.readable||h;E++,Fp(F,b,f,{end:I})}else throw new UO("AsyncIterable or Promise","destination",h);h=b;let{destroy:M,cleanup:B}=g2(h,!1,!0);d.push(M),D&&o.push(B)}}else if(I2(A)){if(Gp(h)){E+=2;let b=Cge(h,A,f,{end:I});BO(A)&&D&&o.push(b)}else if(rc(h)||FO(h)){let b=h.readable||h;E++,Fp(b,A,f,{end:I})}else if(ia(h))E++,Fp(h,A,f,{end:I});else throw new YO("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(mge(A)){if(Gp(h))E++,$O(kO(h),A,f,{end:I});else if(FO(h)||ia(h))E++,$O(h,A,f,{end:I});else if(rc(h))E++,$O(h.readable,A,f,{end:I});else throw new YO("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=_2.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&xd.nextTick(a),h}function Cge(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new pge)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;_ge(t)?xd.nextTick(o):t.once("end",o)}else r();return Hp(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Hp(e,{readable:!1,writable:!0},r)}O2.exports={pipelineImpl:N2,pipeline:Oge}});var qO=O((VUe,D2)=>{"use strict";var{pipeline:yge}=Wp(),kp=Ri(),{destroyer:bge}=ta(),{isNodeStream:$p,isReadable:C2,isWritable:y2,isWebStream:VO,isTransformStream:sa,isWritableStream:b2,isReadableStream:w2}=pi(),{AbortError:wge,codes:{ERR_INVALID_ARG_VALUE:L2,ERR_MISSING_ARGS:Lge}}=Dr(),Dge=es();D2.exports=function(...e){if(e.length===0)throw new Lge("streams");if(e.length===1)return kp.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=kp.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=kp.from(e[f])}for(let f=0;f<e.length;++f)if(!(!$p(e[f])&&!VO(e[f]))){if(f<e.length-1&&!(C2(e[f])||w2(e[f])||sa(e[f])))throw new L2(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(y2(e[f])||b2(e[f])||sa(e[f])))throw new L2(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!E&&!d&&a.destroy()}let c=e[0],u=yge(e,l),d=!!(y2(c)||b2(c)||sa(c)),E=!!(C2(u)||w2(u)||sa(u));if(a=new kp({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:E}),d){if($p(c))a._write=function(T,h,p){c.write(T,h)?p():n=p},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(VO(c)){let h=(sa(c)?c.writable:c).getWriter();a._write=async function(p,S,m){try{await h.ready,h.write(p).catch(()=>{}),m()}catch(R){m(R)}},a._final=async function(p){try{await h.ready,h.close().catch(()=>{}),i=p}catch(S){p(S)}}}let f=sa(u)?u.readable:u;Dge(f,()=>{if(i){let T=i;i=null,T()}})}if(E){if($p(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(VO(u)){let T=(sa(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:p}=await T.read();if(!a.push(h))return;if(p){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new wge),s=null,n=null,i=null,o===null?T(f):(o=T,$p(u)&&bge(u,f))},a}});var W2=O((qUe,zO)=>{"use strict";var Pge=globalThis.AbortController||wt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:xge,ERR_INVALID_ARG_TYPE:Md,ERR_MISSING_ARGS:Mge,ERR_OUT_OF_RANGE:vge},AbortError:Ai}=Dr(),{validateAbortSignal:oa,validateInteger:P2,validateObject:aa}=ql(),Uge=dt().Symbol("kWeak"),Bge=dt().Symbol("kResistStopPropagation"),{finished:Fge}=es(),Gge=qO(),{addAbortSignalNoValidate:Hge}=Od(),{isWritable:Wge,isNodeStream:kge}=pi(),{deprecate:$ge}=kr(),{ArrayPrototypePush:Yge,Boolean:Vge,MathFloor:x2,Number:qge,NumberIsNaN:Xge,Promise:M2,PromiseReject:v2,PromiseResolve:jge,PromisePrototypeThen:U2,Symbol:F2}=dt(),Yp=F2("kEmpty"),B2=F2("kEof");function zge(t,e){if(e!=null&&aa(e,"options"),e?.signal!=null&&oa(e.signal,"options.signal"),kge(t)&&!Wge(t))throw new xge("stream",t,"must be writable");let r=Gge(this,t);return e!=null&&e.signal&&Hge(e.signal,r),r}function Vp(t,e){if(typeof t!="function")throw new Md("fn",["Function","AsyncFunction"],t);e!=null&&aa(e,"options"),e?.signal!=null&&oa(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=x2(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=x2(e.highWaterMark)),P2(r,"options.concurrency",1),P2(n,"options.highWaterMark",0),n+=r,async function*(){let s=kr().AbortSignalAny([e?.signal].filter(Vge)),o=this,a=[],l={signal:s},c,u,d=!1,E=0;function f(){d=!0,T()}function T(){E-=1,h()}function h(){u&&!d&&E<r&&a.length<n&&(u(),u=null)}async function p(){try{for await(let S of o){if(d)return;if(s.aborted)throw new Ai;try{if(S=t(S,l),S===Yp)continue;S=jge(S)}catch(m){S=v2(m)}E+=1,U2(S,T,f),a.push(S),c&&(c(),c=null),!d&&(a.length>=n||E>=r)&&await new M2(m=>{u=m})}a.push(B2)}catch(S){let m=v2(S);U2(m,T,f),a.push(m)}finally{d=!0,c&&(c(),c=null)}}p();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===B2)return;if(s.aborted)throw new Ai;S!==Yp&&(yield S),a.shift(),h()}await new M2(S=>{c=S})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function Kge(t=void 0){return t!=null&&aa(t,"options"),t?.signal!=null&&oa(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ai({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function G2(t,e=void 0){for await(let r of jO.call(this,t,e))return!0;return!1}async function Jge(t,e=void 0){if(typeof t!="function")throw new Md("fn",["Function","AsyncFunction"],t);return!await G2.call(this,async(...r)=>!await t(...r),e)}async function Qge(t,e){for await(let r of jO.call(this,t,e))return r}async function Zge(t,e){if(typeof t!="function")throw new Md("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Yp}for await(let n of Vp.call(this,r,e));}function jO(t,e){if(typeof t!="function")throw new Md("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Yp}return Vp.call(this,r,e)}var XO=class extends Mge{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function eNe(t,e,r){var n;if(typeof t!="function")throw new Md("reducer",["Function","AsyncFunction"],t);r!=null&&aa(r,"options"),r?.signal!=null&&oa(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Ai(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Fge(this.destroy(c)),c}let s=new Pge,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Uge]:this,[Bge]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Ai;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new XO}finally{s.abort()}return e}async function tNe(t){t!=null&&aa(t,"options"),t?.signal!=null&&oa(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Ai(void 0,{cause:t.signal.reason});Yge(e,n)}return e}function rNe(t,e){let r=Vp.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function H2(t){if(t=qge(t),Xge(t))return 0;if(t<0)throw new vge("number",">= 0",t);return t}function nNe(t,e=void 0){return e!=null&&aa(e,"options"),e?.signal!=null&&oa(e.signal,"options.signal"),t=H2(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ai;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ai;t--<=0&&(yield s)}}.call(this)}function iNe(t,e=void 0){return e!=null&&aa(e,"options"),e?.signal!=null&&oa(e.signal,"options.signal"),t=H2(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ai;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ai;if(t-- >0&&(yield s),t<=0)return}}.call(this)}zO.exports.streamReturningOperators={asIndexedPairs:$ge(Kge,"readable.asIndexedPairs will be removed in a future version."),drop:nNe,filter:jO,flatMap:rNe,map:Vp,take:iNe,compose:zge};zO.exports.promiseReturningOperators={every:Jge,forEach:Zge,reduce:eNe,toArray:tNe,some:G2,find:Qge}});var KO=O((XUe,k2)=>{"use strict";var{ArrayPrototypePop:sNe,Promise:oNe}=dt(),{isIterable:aNe,isNodeStream:lNe,isWebStream:cNe}=pi(),{pipelineImpl:uNe}=Wp(),{finished:dNe}=es();JO();function fNe(...t){return new oNe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!lNe(s)&&!aNe(s)&&!cNe(s)){let o=sNe(t);n=o.signal,i=o.end}uNe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}k2.exports={finished:dNe,pipeline:fNe}});var JO=O((jUe,J2)=>{"use strict";var{Buffer:ENe}=require("buffer"),{ObjectDefineProperty:ns,ObjectKeys:V2,ReflectApply:q2}=dt(),{promisify:{custom:X2}}=kr(),{streamReturningOperators:$2,promiseReturningOperators:Y2}=W2(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:j2}}=Dr(),hNe=qO(),{setDefaultHighWaterMark:TNe,getDefaultHighWaterMark:pNe}=Cd(),{pipeline:z2}=Wp(),{destroyer:SNe}=ta(),K2=es(),QO=KO(),vd=pi(),ot=J2.exports=Op().Stream;ot.isDestroyed=vd.isDestroyed;ot.isDisturbed=vd.isDisturbed;ot.isErrored=vd.isErrored;ot.isReadable=vd.isReadable;ot.isWritable=vd.isWritable;ot.Readable=bd();for(let t of V2($2)){let r=function(...n){if(new.target)throw j2();return ot.Readable.from(q2(e,this,n))},e=$2[t];ns(r,"name",{__proto__:null,value:e.name}),ns(r,"length",{__proto__:null,value:e.length}),ns(ot.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of V2(Y2)){let r=function(...n){if(new.target)throw j2();return q2(e,this,n)},e=Y2[t];ns(r,"name",{__proto__:null,value:e.name}),ns(r,"length",{__proto__:null,value:e.length}),ns(ot.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}ot.Writable=Bp();ot.Duplex=Ri();ot.Transform=xO();ot.PassThrough=vO();ot.pipeline=z2;var{addAbortSignal:RNe}=Od();ot.addAbortSignal=RNe;ot.finished=K2;ot.destroy=SNe;ot.compose=hNe;ot.setDefaultHighWaterMark=TNe;ot.getDefaultHighWaterMark=pNe;ns(ot,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return QO}});ns(z2,X2,{__proto__:null,enumerable:!0,get(){return QO.pipeline}});ns(K2,X2,{__proto__:null,enumerable:!0,get(){return QO.finished}});ot.Stream=ot;ot._isUint8Array=function(e){return e instanceof Uint8Array};ot._uint8ArrayToBuffer=function(e){return ENe.from(e.buffer,e.byteOffset,e.byteLength)}});var Q2=O((zUe,be)=>{"use strict";var Vt=require("stream");if(Vt&&process.env.READABLE_STREAM==="disable"){let t=Vt.promises;be.exports._uint8ArrayToBuffer=Vt._uint8ArrayToBuffer,be.exports._isUint8Array=Vt._isUint8Array,be.exports.isDisturbed=Vt.isDisturbed,be.exports.isErrored=Vt.isErrored,be.exports.isReadable=Vt.isReadable,be.exports.Readable=Vt.Readable,be.exports.Writable=Vt.Writable,be.exports.Duplex=Vt.Duplex,be.exports.Transform=Vt.Transform,be.exports.PassThrough=Vt.PassThrough,be.exports.addAbortSignal=Vt.addAbortSignal,be.exports.finished=Vt.finished,be.exports.destroy=Vt.destroy,be.exports.pipeline=Vt.pipeline,be.exports.compose=Vt.compose,Object.defineProperty(Vt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),be.exports.Stream=Vt.Stream}else{let t=JO(),e=KO(),r=t.Readable.destroy;be.exports=t.Readable,be.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,be.exports._isUint8Array=t._isUint8Array,be.exports.isDisturbed=t.isDisturbed,be.exports.isErrored=t.isErrored,be.exports.isReadable=t.isReadable,be.exports.Readable=t.Readable,be.exports.Writable=t.Writable,be.exports.Duplex=t.Duplex,be.exports.Transform=t.Transform,be.exports.PassThrough=t.PassThrough,be.exports.addAbortSignal=t.addAbortSignal,be.exports.finished=t.finished,be.exports.destroy=t.destroy,be.exports.destroy=r,be.exports.pipeline=t.pipeline,be.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),be.exports.Stream=t.Stream}be.exports.default=be.exports});var eq=O((KUe,Z2)=>{"use strict";var{Transform:ANe}=Q2(),mNe=pp(),ZO=class extends ANe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=mNe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};Z2.exports=ZO});var rq=O((JUe,tq)=>{"use strict";var{DeflateRaw:_Ne}=require("zlib"),INe=pp(),eC=class extends _Ne{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=INe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};tq.exports=eC});var tC=O((QUe,nq)=>{"use strict";nq.exports={CRC32Stream:eq(),DeflateCRC32Stream:rq()}});var oq=O((rBe,sq)=>{var gNe=require("util").inherits,NNe=pp(),{CRC32Stream:ONe}=tC(),{DeflateCRC32Stream:CNe}=tC(),iq=kN(),ZUe=wg(),eBe=yg(),pe=bg(),tBe=HN(),ae=HT(),nr=sq.exports=function(t){if(!(this instanceof nr))return new nr(t);t=this.options=this._defaults(t),iq.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};gNe(nr,iq);nr.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};nr.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(pe.METHOD_STORED);var n=t.getMethod();if(n===pe.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(NNe.buf(e)>>>0)),this._writeLocalFileHeader(t),n===pe.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===pe.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};nr.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(pe.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};nr.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=pe.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};nr.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};nr.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(pe.METHOD_DEFLATED),t.getMethod()===pe.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(pe.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};nr.prototype._smartStream=function(t,e){var r=t.getMethod()===pe.METHOD_DEFLATED,n=r?new CNe(this.options.zlib):new ONe,i=null;function s(){var o=n.digest().readUInt32BE(0);t.setCrc(o),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(o){i=o}),n.pipe(this,{end:!1}),n};nr.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=pe.ZIP64_MAGIC_SHORT,e=pe.ZIP64_MAGIC,r=pe.ZIP64_MAGIC),this.write(ae.getLongBytes(pe.SIG_EOCD)),this.write(pe.SHORT_ZERO),this.write(pe.SHORT_ZERO),this.write(ae.getShortBytes(t)),this.write(ae.getShortBytes(t)),this.write(ae.getLongBytes(e)),this.write(ae.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(ae.getShortBytes(i)),this.write(n)};nr.prototype._writeCentralDirectoryZip64=function(){this.write(ae.getLongBytes(pe.SIG_ZIP64_EOCD)),this.write(ae.getEightBytes(44)),this.write(ae.getShortBytes(pe.MIN_VERSION_ZIP64)),this.write(ae.getShortBytes(pe.MIN_VERSION_ZIP64)),this.write(pe.LONG_ZERO),this.write(pe.LONG_ZERO),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._archive.centralLength)),this.write(ae.getEightBytes(this._archive.centralOffset)),this.write(ae.getLongBytes(pe.SIG_ZIP64_EOCD_LOC)),this.write(pe.LONG_ZERO),this.write(ae.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(ae.getLongBytes(1))};nr.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>pe.ZIP64_MAGIC){i=pe.ZIP64_MAGIC,s=pe.ZIP64_MAGIC,n=pe.ZIP64_MAGIC,t.setVersionNeededToExtract(pe.MIN_VERSION_ZIP64);var o=Buffer.concat([ae.getShortBytes(pe.ZIP64_EXTRA_ID),ae.getShortBytes(24),ae.getEightBytes(t.getSize()),ae.getEightBytes(t.getCompressedSize()),ae.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(ae.getLongBytes(pe.SIG_CFH)),this.write(ae.getShortBytes(t.getPlatform()<<8|pe.VERSION_MADEBY)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(s)),this.write(ae.getLongBytes(i));var a=t.getName(),l=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(ae.getShortBytes(a.length)),this.write(ae.getShortBytes(c.length)),this.write(ae.getShortBytes(l.length)),this.write(pe.SHORT_ZERO),this.write(ae.getShortBytes(t.getInternalAttributes())),this.write(ae.getLongBytes(t.getExternalAttributes())),this.write(ae.getLongBytes(n)),this.write(a),this.write(c),this.write(l)};nr.prototype._writeDataDescriptor=function(t){this.write(ae.getLongBytes(pe.SIG_DD)),this.write(ae.getLongBytes(t.getCrc())),t.isZip64()?(this.write(ae.getEightBytes(t.getCompressedSize())),this.write(ae.getEightBytes(t.getSize()))):(this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize())))};nr.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(pe.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(ae.getLongBytes(pe.SIG_LFH)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(pe.LONG_ZERO),this.write(pe.LONG_ZERO),this.write(pe.LONG_ZERO)):(this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize()))),this.write(ae.getShortBytes(n.length)),this.write(ae.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};nr.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};nr.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>pe.ZIP64_MAGIC_SHORT||this._archive.centralLength>pe.ZIP64_MAGIC||this._archive.centralOffset>pe.ZIP64_MAGIC};nr.prototype.setComment=function(t){this._archive.comment=t}});var rC=O((nBe,aq)=>{aq.exports={ArchiveEntry:GT(),ZipArchiveEntry:wg(),ArchiveOutputStream:kN(),ZipArchiveOutputStream:oq()}});var cq=O((iBe,lq)=>{var yNe=require("util").inherits,iC=rC().ZipArchiveOutputStream,bNe=rC().ZipArchiveEntry,nC=ml(),nc=lq.exports=function(t){if(!(this instanceof nc))return new nc(t);t=this.options=t||{},t.zlib=t.zlib||{},iC.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};yNe(nc,iC);nc.prototype._normalizeFileData=function(t){t=nC.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=nC.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=nC.dateify(t.date),t};nc.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new bNe(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),iC.prototype.entry.call(this,n,t,r)};nc.prototype.finalize=function(){this.finish()}});var dq=O((sBe,uq)=>{var wNe=cq(),LNe=ml(),Ys=function(t){if(!(this instanceof Ys))return new Ys(t);t=this.options=LNe.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new wNe(t)};Ys.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};Ys.prototype.finalize=function(){this.engine.finalize()};Ys.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Ys.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};Ys.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};uq.exports=Ys});var Eq=O((oBe,fq)=>{fq.exports=require("events")});var Tq=O((lBe,hq)=>{hq.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var sC=O((uBe,Sq)=>{var pq=Tq();Sq.exports=class{constructor(e){this.hwm=e||16,this.head=new pq(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new pq(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var ic=O((dBe,Rq)=>{function DNe(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function PNe(t){return Buffer.isEncoding(t)}function xNe(t,e,r){return Buffer.alloc(t,e,r)}function MNe(t){return Buffer.allocUnsafe(t)}function vNe(t){return Buffer.allocUnsafeSlow(t)}function UNe(t,e){return Buffer.byteLength(t,e)}function BNe(t,e){return Buffer.compare(t,e)}function FNe(t,e){return Buffer.concat(t,e)}function GNe(t,e,r,n,i){return Ke(t).copy(e,r,n,i)}function HNe(t,e){return Ke(t).equals(e)}function WNe(t,e,r,n,i){return Ke(t).fill(e,r,n,i)}function kNe(t,e,r){return Buffer.from(t,e,r)}function $Ne(t,e,r,n){return Ke(t).includes(e,r,n)}function YNe(t,e,r,n){return Ke(t).indexOf(e,r,n)}function VNe(t,e,r,n){return Ke(t).lastIndexOf(e,r,n)}function qNe(t){return Ke(t).swap16()}function XNe(t){return Ke(t).swap32()}function jNe(t){return Ke(t).swap64()}function Ke(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function zNe(t,e,r,n){return Ke(t).toString(e,r,n)}function KNe(t,e,r,n,i){return Ke(t).write(e,r,n,i)}function JNe(t,e){return Ke(t).readDoubleBE(e)}function QNe(t,e){return Ke(t).readDoubleLE(e)}function ZNe(t,e){return Ke(t).readFloatBE(e)}function eOe(t,e){return Ke(t).readFloatLE(e)}function tOe(t,e){return Ke(t).readInt32BE(e)}function rOe(t,e){return Ke(t).readInt32LE(e)}function nOe(t,e){return Ke(t).readUInt32BE(e)}function iOe(t,e){return Ke(t).readUInt32LE(e)}function sOe(t,e,r){return Ke(t).writeDoubleBE(e,r)}function oOe(t,e,r){return Ke(t).writeDoubleLE(e,r)}function aOe(t,e,r){return Ke(t).writeFloatBE(e,r)}function lOe(t,e,r){return Ke(t).writeFloatLE(e,r)}function cOe(t,e,r){return Ke(t).writeInt32BE(e,r)}function uOe(t,e,r){return Ke(t).writeInt32LE(e,r)}function dOe(t,e,r){return Ke(t).writeUInt32BE(e,r)}function fOe(t,e,r){return Ke(t).writeUInt32LE(e,r)}Rq.exports={isBuffer:DNe,isEncoding:PNe,alloc:xNe,allocUnsafe:MNe,allocUnsafeSlow:vNe,byteLength:UNe,compare:BNe,concat:FNe,copy:GNe,equals:HNe,fill:WNe,from:kNe,includes:$Ne,indexOf:YNe,lastIndexOf:VNe,swap16:qNe,swap32:XNe,swap64:jNe,toBuffer:Ke,toString:zNe,write:KNe,readDoubleBE:JNe,readDoubleLE:QNe,readFloatBE:ZNe,readFloatLE:eOe,readInt32BE:tOe,readInt32LE:rOe,readUInt32BE:nOe,readUInt32LE:iOe,writeDoubleBE:sOe,writeDoubleLE:oOe,writeFloatBE:aOe,writeFloatLE:lOe,writeInt32BE:cOe,writeInt32LE:uOe,writeUInt32BE:dOe,writeUInt32LE:fOe}});var mq=O((EBe,Aq)=>{var EOe=ic();Aq.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return EOe.toString(e,this.encoding)}flush(){return""}}});var Iq=O((TBe,_q)=>{var hOe=ic();_q.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return hOe.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){let s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="\uFFFD");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="\uFFFD";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){let e=this.bytesNeeded>0?"\uFFFD":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}});var Nq=O((SBe,gq)=>{var TOe=mq(),pOe=Iq();gq.exports=class{constructor(e="utf8"){switch(this.encoding=SOe(e),this.encoding){case"utf8":this.decoder=new pOe;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new TOe(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function SOe(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}});var _C=O((RBe,Xq)=>{var{EventEmitter:ROe}=Eq(),Jp=new Error("Stream was destroyed"),oC=new Error("Premature close"),Lq=sC(),AOe=Nq(),aC=typeof queueMicrotask>"u"?t=>global.process.nextTick(t):queueMicrotask,Rt=(1<<29)-1,mi=1,hC=2,la=4,Ud=8,Dq=Rt^mi,mOe=Rt^hC,Wd=16,sc=32,lc=64,qs=128,kd=256,TC=512,ca=1024,lC=2048,pC=4096,SC=8192,Gn=16384,Vs=32768,Qp=65536,ua=131072,Pq=kd|TC,_Oe=Wd|Qp,IOe=lc|Wd,gOe=pC|qs,RC=kd|ua,NOe=Rt^Wd,OOe=Rt^lc,COe=Rt^(lc|Qp),Oq=Rt^Qp,yOe=Rt^kd,bOe=Rt^(qs|SC),wOe=Rt^ca,Cq=Rt^Pq,xq=Rt^Vs,LOe=Rt^sc,Mq=Rt^ua,DOe=Rt^RC,is=1<<18,ac=2<<18,$d=4<<18,da=8<<18,Yd=16<<18,Xs=32<<18,cC=64<<18,oc=128<<18,AC=256<<18,fa=512<<18,Zp=1024<<18,POe=Rt^(is|AC),vq=Rt^$d,xOe=Rt^(is|fa),MOe=Rt^Yd,vOe=Rt^da,Uq=Rt^oc,UOe=Rt^ac,Bq=Rt^Zp,Bd=Wd|is,Fq=Rt^Bd,mC=Gn|Xs,_i=la|Ud|hC,tn=_i|mi,Gq=_i|mC,BOe=vq&OOe,eS=oc|Vs,FOe=eS&Fq,Hq=tn|FOe,GOe=tn|ca|Gn,yq=tn|Gn|qs,HOe=tn|ca|qs,WOe=tn|pC|qs|SC,kOe=tn|Wd|ca|Gn|Qp|ua,$Oe=_i|ca|Gn,YOe=sc|tn|Vs|lc,VOe=Vs|mi,qOe=tn|fa|Xs,XOe=da|Yd,Wq=da|is,jOe=da|Yd|tn|is,bq=tn|is|da|Zp,zOe=$d|is,KOe=is|AC,JOe=tn|fa|Wq|Xs,QOe=Yd|_i|fa|Xs,ZOe=ac|tn|oc|$d,eCe=fa|Xs|_i,qp=Symbol.asyncIterator||Symbol("asyncIterator"),Xp=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new Lq,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||qq,this.map=i||n,this.afterWrite=nCe.bind(this),this.afterUpdateNextTick=oCe.bind(this)}get ended(){return(this.stream._duplexState&Xs)!==0}push(e){return(this.stream._duplexState&eCe)!==0?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=da,!0):(this.stream._duplexState|=XOe,!1))}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=vOe),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|fa)&vq}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&bq)===Wq;)n.push(i._writableState.shift());if((i._duplexState&tn)!==0)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=ac;do{for(;(e._duplexState&bq)===da;){let r=this.shift();e._duplexState|=KOe,e._write(r,this.afterWrite)}(e._duplexState&zOe)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=UOe}updateNonPrimary(){let e=this.stream;if((e._duplexState&JOe)===fa){e._duplexState=e._duplexState|is,e._final(rCe.bind(this));return}if((e._duplexState&_i)===la){(e._duplexState&eS)===0&&(e._duplexState|=Bd,e._destroy(kq.bind(this)));return}(e._duplexState&Hq)===mi&&(e._duplexState=(e._duplexState|Bd)&Dq,e._open($q.bind(this)))}continueUpdate(){return(this.stream._duplexState&oc)===0?!1:(this.stream._duplexState&=Uq,!0)}updateCallback(){(this.stream._duplexState&ZOe)===$d?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&oc)===0&&(this.stream._duplexState|=oc,(this.stream._duplexState&ac)===0&&aC(this.afterUpdateNextTick))}},uC=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new Lq,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=o||s||qq,this.map=i||n,this.pipeTo=null,this.afterRead=iCe.bind(this),this.afterUpdateNextTick=sCe.bind(this)}get ended(){return(this.stream._duplexState&Gn)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=TC,this.pipeTo=e,this.pipeline=new fC(this.stream,e,r),r&&this.stream.on("error",wq),Hd(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",wq),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",tCe.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|ca)&COe,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=Oq,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|qs)&Oq,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=bOe),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&yq)===qs){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=Cq),(e._duplexState&lC)!==0&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=ua,this.updateNextTick()),null}drain(){let e=this.stream;for(;(e._duplexState&yq)===qs&&(e._duplexState&Pq)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=Cq),(e._duplexState&lC)!==0&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=sc;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&kOe)===ua;)e._duplexState|=_Oe,e._read(this.afterRead),this.drain();(e._duplexState&WOe)===gOe&&(e._duplexState|=SC,e.emit("readable")),(e._duplexState&IOe)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=LOe}updateNonPrimary(){let e=this.stream;if((e._duplexState&HOe)===ca&&(e._duplexState=(e._duplexState|Gn)&wOe,e.emit("end"),(e._duplexState&Gq)===mC&&(e._duplexState|=la),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&_i)===la){(e._duplexState&eS)===0&&(e._duplexState|=Bd,e._destroy(kq.bind(this)));return}(e._duplexState&Hq)===mi&&(e._duplexState=(e._duplexState|Bd)&Dq,e._open($q.bind(this)))}continueUpdate(){return(this.stream._duplexState&Vs)===0?!1:(this.stream._duplexState&=xq,!0)}updateCallback(){(this.stream._duplexState&YOe)===lc?this.update():this.updateNextTick()}updateNextTickIfOpen(){(this.stream._duplexState&VOe)===0&&(this.stream._duplexState|=Vs,(this.stream._duplexState&sc)===0&&aC(this.afterUpdateNextTick))}updateNextTick(){(this.stream._duplexState&Vs)===0&&(this.stream._duplexState|=Vs,(this.stream._duplexState&sc)===0&&aC(this.afterUpdateNextTick))}},dC=class{constructor(e){this.data=null,this.afterTransform=lCe.bind(e),this.afterFinal=null}},fC=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&Gn)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&Gn)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function tCe(){this.stream._duplexState|=TC,this.updateCallback()}function rCe(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&_i)===0&&(e._duplexState|=Xs,e.emit("finish")),(e._duplexState&Gq)===mC&&(e._duplexState|=la),e._duplexState&=xOe,(e._duplexState&ac)===0?this.update():this.updateNextTick()}function kq(t){let e=this.stream;!t&&this.error!==Jp&&(t=this.error),t&&e.emit("error",t),e._duplexState|=Ud,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function nCe(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=POe,this.drains!==null&&aCe(this.drains),(e._duplexState&jOe)===Yd&&(e._duplexState&=MOe,(e._duplexState&cC)===cC&&e.emit("drain")),this.updateCallback()}function iCe(t){t&&this.stream.destroy(t),this.stream._duplexState&=NOe,this.readAhead===!1&&(this.stream._duplexState&kd)===0&&(this.stream._duplexState&=Mq),this.updateCallback()}function sCe(){(this.stream._duplexState&sc)===0&&(this.stream._duplexState&=xq,this.update())}function oCe(){(this.stream._duplexState&ac)===0&&(this.stream._duplexState&=Uq,this.update())}function aCe(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function $q(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&la)===0&&((e._duplexState&GOe)===0&&(e._duplexState|=lc),(e._duplexState&qOe)===0&&(e._duplexState|=$d),e.emit("open")),e._duplexState&=Fq,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function lCe(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}function cCe(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=lC|RC,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=pC,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=cC,this._writableState.updateNextTick())}var Fd=class extends ROe{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",ACe.bind(this))),this.on("newListener",cCe)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&Ud)!==0}get destroying(){return(this._duplexState&_i)!==0}destroy(e){(this._duplexState&_i)===0&&(e||(e=Jp),this._duplexState=(this._duplexState|la)&BOe,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=hC,this._predestroy(),this._duplexState&=mOe,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},jp=class t extends Fd{constructor(e){super(e),this._duplexState|=mi|Xs|ua,this._readableState=new uC(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=Mq),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){let r=new AOe(e),n=this._readableState.map||fCe;return this._readableState.map=i,this;function i(s){let o=r.push(s);return o===""&&(s.byteLength!==0||r.remaining>0)?null:n(o)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=RC,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?DOe:yOe,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(pCe(e))return e;if(e[qp])return this._fromAsyncIterator(e[qp](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&$Oe)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&kd)===0}[qp](){let e=this,r=null,n=null,i=null;return this.on("error",c=>{r=c}),this.on("readable",s),this.on("close",o),{[qp](){return this},next(){return new Promise(function(c,u){n=c,i=u;let d=e.read();d!==null?a(d):(e._duplexState&Ud)!==0&&a(null)})},return(){return l(null)},throw(c){return l(c)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(c){i!==null&&(r?i(r):c===null&&(e._duplexState&Gn)===0?i(Jp):n({value:c,done:c===null}),i=n=null)}function l(c){return e.destroy(c),new Promise((u,d)=>{if(e._duplexState&Ud)return u({value:void 0,done:!0});e.once("close",function(){c?d(c):u({value:void 0,done:!0})})})}}},zp=class extends Fd{constructor(e){super(e),this._duplexState|=mi|Gn,this._writableState=new Xp(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=Zp}uncork(){this._duplexState&=Bq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&QOe)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,i=(mCe(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&AC?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Gd=class extends jp{constructor(e){super(e),this._duplexState=mi|this._duplexState&ua,this._writableState=new Xp(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=Zp}uncork(){this._duplexState&=Bq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Kp=class extends Gd{constructor(e){super(e),this._transformState=new dC(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(uCe.bind(this))}},EC=class extends Kp{};function uCe(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function dCe(...t){return new Promise((e,r)=>Yq(...t,n=>{if(n)return r(n);e()}))}function Yq(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let c=1;c<r.length;c++)s=r[c],Hd(i)?i.pipe(s,l):(a(i,!0,c>1,l),i.pipe(s)),i=s;if(n){let c=!1,u=Hd(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",d=>{o===null&&(o=d)}),s.on("finish",()=>{c=!0,u||n(o)}),u&&s.on("close",()=>n(o||(c?null:oC)))}return s;function a(c,u,d,E){c.on("error",E),c.on("close",f);function f(){if(u&&c._readableState&&!c._readableState.ended||d&&c._writableState&&!c._writableState.ended)return E(oC)}}function l(c){if(!(!c||o)){o=c;for(let u of r)u.destroy(c)}}}function fCe(t){return t}function Vq(t){return!!t._readableState||!!t._writableState}function Hd(t){return typeof t._duplexState=="number"&&Vq(t)}function ECe(t){return!!t._readableState&&t._readableState.ended}function hCe(t){return!!t._writableState&&t._writableState.ended}function TCe(t,e={}){let r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===Jp?null:r}function pCe(t){return Hd(t)&&t.readable}function SCe(t){return(t._duplexState&mi)!==mi||(t._duplexState&eS)!==0}function RCe(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function qq(t){return RCe(t)?t.byteLength:1024}function wq(){}function ACe(){this.destroy(new Error("Stream aborted."))}function mCe(t){return t._writev!==zp.prototype._writev&&t._writev!==Gd.prototype._writev}Xq.exports={pipeline:Yq,pipelinePromise:dCe,isStream:Vq,isStreamx:Hd,isEnded:ECe,isFinished:hCe,isDisturbed:SCe,getStreamError:TCe,Stream:Fd,Writable:zp,Readable:jp,Duplex:Gd,Transform:Kp,PassThrough:EC}});var NC=O(uc=>{var We=ic(),_Ce="0000000000000000000",ICe="7777777777777777777",tS=48,jq=We.from([117,115,116,97,114,0]),gCe=We.from([tS,tS]),NCe=We.from([117,115,116,97,114,32]),OCe=We.from([32,0]),CCe=4095,Vd=257,gC=263;uc.decodeLongPath=function(e,r){return cc(e,0,e.length,r)};uc.encodePax=function(e){let r="";e.name&&(r+=IC(" path="+e.name+`
`)),e.linkname&&(r+=IC(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=IC(" "+i+"="+n[i]+`
`);return We.from(r)};uc.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(We.toString(e.subarray(0,n)),10);if(!i)return r;let s=We.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};uc.encode=function(e){let r=We.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),We.byteLength(n)!==n.length)return null;for(;We.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return We.byteLength(n)>100||We.byteLength(i)>155||e.linkname&&We.byteLength(e.linkname)>100?null:(We.write(r,n),We.write(r,zs(e.mode&CCe,6),100),We.write(r,zs(e.uid,6),108),We.write(r,zs(e.gid,6),116),xCe(e.size,r,124),We.write(r,zs(e.mtime.getTime()/1e3|0,11),136),r[156]=tS+DCe(e.type),e.linkname&&We.write(r,e.linkname,157),We.copy(jq,r,Vd),We.copy(gCe,r,gC),e.uname&&We.write(r,e.uname,265),e.gname&&We.write(r,e.gname,297),We.write(r,zs(e.devmajor||0,6),329),We.write(r,zs(e.devminor||0,6),337),i&&We.write(r,i,345),We.write(r,zs(Kq(r),6),148),r)};uc.decode=function(e,r,n){let i=e[156]===0?0:e[156]-tS,s=cc(e,0,100,r),o=js(e,100,8),a=js(e,108,8),l=js(e,116,8),c=js(e,124,12),u=js(e,136,12),d=LCe(i),E=e[157]===0?null:cc(e,157,100,r),f=cc(e,265,32),T=cc(e,297,32),h=js(e,329,8),p=js(e,337,8),S=Kq(e);if(S===256)return null;if(S!==js(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(yCe(e))e[345]&&(s=cc(e,345,155,r)+"/"+s);else if(!bCe(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:l,size:c,mtime:new Date(1e3*u),type:d,linkname:E,uname:f,gname:T,devmajor:h,devminor:p,pax:null}};function yCe(t){return We.equals(jq,t.subarray(Vd,Vd+6))}function bCe(t){return We.equals(NCe,t.subarray(Vd,Vd+6))&&We.equals(OCe,t.subarray(gC,gC+2))}function wCe(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function LCe(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function DCe(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function zq(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function Kq(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function zs(t,e){return t=t.toString(8),t.length>e?ICe.slice(0,e)+" ":_Ce.slice(0,e-t.length)+t+" "}function PCe(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function xCe(t,e,r){t.toString(8).length>11?PCe(t,e,r):We.write(e,zs(t,11),r)}function MCe(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function js(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return MCe(t);{for(;e<t.length&&t[e]===32;)e++;let n=wCe(zq(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(We.toString(t.subarray(e,n)),8)}}function cc(t,e,r,n){return We.toString(t.subarray(e,zq(t,0,e,e+r)),n)}function IC(t){let e=We.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var tX=O((mBe,eX)=>{var{Writable:vCe,Readable:UCe,getStreamError:Jq}=_C(),BCe=sC(),Qq=ic(),dc=NC(),FCe=Qq.alloc(0),CC=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new BCe,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return FCe;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return Qq.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},yC=class extends UCe{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(Jq(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=Zq(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},bC=class extends vCe{constructor(e){super(e),e||(e={}),this._buffer=new CC,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=OC,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=dc.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=dc.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=dc.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=dc.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?dc.decodePax(e):Object.assign({},this._paxGlobal,dc.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=Zq(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new yC(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=OC,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(Jq(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",c),this.on("error",E=>{e=E}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(l)},return(){return d(null)},throw(E){return d(E)}};function a(E){if(!s)return;let f=s;s=null,f(E)}function l(E,f){if(e)return f(e);if(i){E({value:i,done:!1}),i=null;return}r=E,n=f,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function c(E,f,T){s=T,f.on("error",OC),r?(r({value:f,done:!1}),r=n=null):i=f}function u(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function d(E){return o.destroy(E),a(E),new Promise((f,T)=>{if(o.destroyed)return f({value:void 0,done:!0});o.once("close",function(){E?T(E):f({value:void 0,done:!0})})})}}};eX.exports=function(e){return new bC(e)};function OC(){}function Zq(t){return t&=511,t&&512-t}});var nX=O((_Be,wC)=>{var rX={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{wC.exports=require("fs").constants||rX}catch{wC.exports=rX}});var lX=O((IBe,aX)=>{var{Readable:GCe,Writable:HCe,getStreamError:iX}=_C(),Ea=ic(),fc=nX(),rS=NC(),WCe=493,kCe=420,sX=Ea.alloc(1024),DC=class extends HCe{constructor(e,r,n){super({mapWritable:YCe,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?Ea.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?Ea.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),oX(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return iX(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},PC=class extends GCe{constructor(e){super(e),this._drain=LC,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=LC),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=$Ce(e.mode)),e.mode||(e.mode=e.type==="directory"?WCe:kCe),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=Ea.from(r));let i=new DC(this,e,n);return Ea.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(sX),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=rS.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=rS.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(rS.encode(n)),this.push(r),oX(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(rS.encode(n))}_doDrain(){let e=this._drain;this._drain=LC,e()}_predestroy(){let e=iX(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};aX.exports=function(e){return new PC(e)};function $Ce(t){switch(t&fc.S_IFMT){case fc.S_IFBLK:return"block-device";case fc.S_IFCHR:return"character-device";case fc.S_IFDIR:return"directory";case fc.S_IFIFO:return"fifo";case fc.S_IFLNK:return"symlink"}return"file"}function LC(){}function oX(t,e){e&=511,e&&t.push(sX.subarray(0,512-e))}function YCe(t){return Ea.isBuffer(t)?t:Ea.from(t)}});var cX=O(xC=>{xC.extract=tX();xC.pack=lX()});var fX=O((NBe,dX)=>{var VCe=require("zlib"),qCe=cX(),uX=ml(),ss=function(t){if(!(this instanceof ss))return new ss(t);t=this.options=uX.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=qCe.pack(t),this.compressor=!1,t.gzip&&(this.compressor=VCe.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};ss.prototype._onCompressorError=function(t){this.engine.emit("error",t)};ss.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(o,a){if(o){r(o);return}n.engine.entry(e,a,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(o){r(o,e)});t.pipe(s)}else e.sourceType==="stream"&&uX.collectStream(t,i)};ss.prototype.finalize=function(){this.engine.finalize()};ss.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};ss.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};ss.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};dX.exports=ss});var TX=O((OBe,hX)=>{"use strict";function XCe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jCe=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function EX(t){if(Buffer.isBuffer(t))return t;if(typeof t=="number")return Buffer.alloc(t);if(typeof t=="string")return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function zCe(t){let e=EX(4);return e.writeInt32BE(t,0),e}function MC(t,e){t=EX(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~~e^-1;for(var n=0;n<t.length;n++)r=jCe[(r^t[n])&255]^r>>>8;return r^-1}function vC(){return zCe(MC.apply(null,arguments))}vC.signed=function(){return MC.apply(null,arguments)};vC.unsigned=function(){return MC.apply(null,arguments)>>>0};var KCe=vC,JCe=XCe(KCe);hX.exports=JCe});var AX=O((CBe,RX)=>{var QCe=require("util").inherits,pX=gg().Transform,ZCe=TX(),SX=ml(),Ks=function(t){if(!(this instanceof Ks))return new Ks(t);t=this.options=SX.defaults(t,{}),pX.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};QCe(Ks,pX);Ks.prototype._transform=function(t,e,r){r(null,t)};Ks.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};Ks.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,o){if(s){r(s);return}e.size=o.length||0,e.crc32=ZCe.unsigned(o),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&SX.collectStream(t,i)};Ks.prototype.finalize=function(){this._writeStringified(),this.end()};RX.exports=Ks});var UC=O((yBe,mX)=>{var eye=rW(),qd={},Js=function(t,e){return Js.create(t,e)};Js.create=function(t,e){if(qd[t]){var r=new eye(t,e);return r.setFormat(t),r.setModule(new qd[t](e)),r}else throw new Error("create("+t+"): format not registered")};Js.registerFormat=function(t,e){if(qd[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");qd[t]=e};Js.isRegisteredFormat=function(t){return!!qd[t]};Js.registerFormat("zip",dq());Js.registerFormat("tar",fX());Js.registerFormat("json",AX());mX.exports=Js});var ha,os,BC=H(()=>{"use strict";ha=require("buffer"),os=class{constructor(e=65536){this.chunkSize=e,this.chunks=[],this.currentBuffer=ha.Buffer.alloc(e),this.cursor=0}ensureCapacity(e){this.cursor+e>this.chunkSize&&this._flush()}_ensureCapacity(e){this.ensureCapacity(e)}_flush(){this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=ha.Buffer.alloc(this.chunkSize),this.cursor=0)}write(e){let r=e.length,n=0;for(;r>0;){let i=this.chunkSize-this.cursor;i===0&&(this._flush(),i=this.chunkSize);let s=Math.min(r,i);e.copy(this.currentBuffer,this.cursor,n,n+s),this.cursor+=s,n+=s,r-=s}}writeByte(e){this._ensureCapacity(1),this.currentBuffer[this.cursor]=e,this.cursor++}writeUnsafeByte(e){this.currentBuffer[this.cursor++]=e}writeInt32LE(e){this._ensureCapacity(4),this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeUnsafeInt32LE(e){this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeDoubleLE(e){this._ensureCapacity(8),this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeUnsafeDoubleLE(e){this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeString(e){let r=ha.Buffer.byteLength(e,"utf8");if(this.cursor+r<=this.chunkSize){this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8");return}this._flush(),r>this.chunkSize?this.chunks.push(ha.Buffer.from(e,"utf8")):this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8")}writeUtf16LE(e){let r=e.length*2;if(this.cursor+r<=this.chunkSize){for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}return}if(this._flush(),r>this.chunkSize)this.chunks.push(ha.Buffer.from(e,"utf16le"));else for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}}getChunks(){return this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=ha.Buffer.alloc(this.chunkSize),this.cursor=0),this.chunks}reset(){this.chunks=[],this.cursor=0}}});var gX={};_t(gX,{XlsbWriter:()=>iS,default:()=>rye});var _X,IX,nS,tye,iS,rye,NX=H(()=>{"use strict";_X=q(require("fs")),IX=q(UC()),nS=require("stream");BC();tye=/[\\/*?[\]:]/g,iS=class{constructor(e){this.sheetCount=0;this.sheetList=[];this.sstDic=new Map;this.sstCntUnique=0;this.sstCntAll=0;this.colWidths=[];this._autofilterIsOn=!1;this.currentSheetBuffer=null;this.currentSheetRowNum=0;this.currentSheetStartCol=0;this.currentSheetEndCol=0;this.currentSheetDoAutofilter=!1;this.isStreaming=!1;this.filePath=e,this.output=_X.createWriteStream(e),this.archive=(0,IX.default)("zip"),this.archive.pipe(this.output),this._oaEpoch=Date.UTC(1899,11,30),this._sheet1Bytes=Buffer.from([129,1,0,147,1,23,203,4,2,0,64,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,148,1,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,1,0,137,1,30,220,3,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,100,0,0,0,0,0,0,0,0,0,0,0,152,1,36,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,1,0,134,1,0,37,6,1,0,2,14,0,128,149,8,2,5,0,38,0,229,3,12,255,255,255,255,8,0,44,1,0,0,0,0,145,1,0,37,6,1,0,2,14,0,128,128,8,2,5,0,38,0,0,25,0,0,0,0,0,0,0,0,44,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,7,12,0,0,0,0,0,0,0,0,0,0,0,0,146,1,0,151,4,66,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,221,3,2,16,0,220,3,48,102,102,102,102,102,102,230,63,102,102,102,102,102,102,230,63,0,0,0,0,0,0,232,63,0,0,0,0,0,0,232,63,51,51,51,51,51,51,211,63,51,51,51,51,51,51,211,63,37,6,1,0,0,16,0,128,128,24,16,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,38,0,130,1,0]),this._workbookBinStart=Buffer.from([131,1,0,128,1,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,120,0,108,0,1,0,0,0,55,0,1,0,0,0,54,0,5,0,0,0,50,0,52,0,51,0,50,0,54,0,153,1,12,32,0,1,0,0,0,0,0,0,0,0,0,37,6,1,0,3,15,0,128,151,16,52,24,0,0,0,67,0,58,0,92,0,115,0,113,0,108,0,115,0,92,0,84,0,101,0,115,0,116,0,121,0,90,0,97,0,112,0,105,0,115,0,117,0,88,0,108,0,115,0,98,0,92,0,38,0,37,6,1,0,0,16,0,128,129,24,130,1,0,0,0,0,0,0,0,0,47,0,0,0,49,0,51,0,95,0,110,0,99,0,114,0,58,0,49,0,95,0,123,0,49,0,54,0,53,0,48,0,56,0,68,0,54,0,57,0,45,0,67,0,70,0,56,0,55,0,45,0,52,0,55,0,54,0,57,0,45,0,56,0,52,0,53,0,54,0,45,0,68,0,52,0,65,0,52,0,48,0,49,0,49,0,51,0,49,0,53,0,54,0,55,0,125,0,47,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,135,1,0,37,6,1,0,2,16,0,128,128,24,16,0,0,0,0,13,0,0,0,255,255,255,255,0,0,0,0,38,0,158,1,29,0,0,0,0,158,22,0,0,180,105,0,0,232,38,0,0,88,2,0,0,0,0,0,0,0,0,0,0,120,136,1,0,143,1,0]),this._workbookBinMiddle=Buffer.from([144,1,0]),this._workbookBinEnd=Buffer.from([157,1,26,53,234,2,0,1,0,0,0,100,0,0,0,252,169,241,210,77,98,80,63,1,0,0,0,106,0,155,1,1,0,35,4,3,15,0,0,171,16,1,1,36,0,132,1,0]),this._stylesBin=Buffer.from([150,2,0,231,4,4,2,0,0,0,44,44,164,0,19,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,92,0,32,0,104,0,104,0,58,0,109,0,109,0,44,30,166,0,12,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,232,4,0,227,4,4,1,0,0,0,43,39,220,0,0,0,144,1,0,0,0,2,0,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,43,39,220,0,1,0,188,2,0,0,0,2,238,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,37,6,1,0,2,14,0,128,129,8,0,38,0,228,4,0,219,4,4,2,0,0,0,45,68,0,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,68,17,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,4,0,229,4,4,1,0,0,0,46,51,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,230,4,0,242,4,4,1,0,0,0,47,16,255,255,0,0,0,0,0,0,0,0,0,0,16,16,0,0,243,4,0,233,4,4,4,0,0,0,47,16,0,0,0,0,0,0,0,0,0,0,0,0,16,16,0,0,47,16,0,0,164,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,166,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,0,1,1,0,0,0,0,0,0,0,16,16,0,0,234,4,0,235,4,4,1,0,0,0,37,6,1,0,2,17,0,128,128,24,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,48,28,0,0,0,0,1,0,0,0,8,0,0,0,78,0,111,0,114,0,109,0,97,0,108,0,110,0,121,0,236,4,0,249,3,4,0,0,0,0,250,3,0,252,3,80,0,0,0,0,17,0,0,0,84,0,97,0,98,0,108,0,101,0,83,0,116,0,121,0,108,0,101,0,77,0,101,0,100,0,105,0,117,0,109,0,50,0,17,0,0,0,80,0,105,0,118,0,111,0,116,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,54,0,253,3,0,35,4,2,14,0,0,235,8,0,246,8,42,0,0,0,0,17,0,0,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,247,8,0,236,8,0,36,0,35,4,3,15,0,0,176,16,0,178,16,50,0,0,0,0,21,0,0,0,84,0,105,0,109,0,101,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,179,16,0,177,16,0,36,0,151,2,0]),this._binaryIndexBin=Buffer.from([42,24,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,2,0]),this._rRkIntegerLowerLimit=-1<<29,this._rRkIntegerUpperLimit=(1<<29)-1,this._autoFilterStartBytes=Buffer.from([161,1,16]),this._autoFilterEndBytes=Buffer.from([162,1,0]),this._stickHeaderA1bytes=Buffer.from([151,1,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,1,0,0,0,0,0,0,0,2,0,0,0,3]),this._magicFilterExcel2016Fix0=Buffer.from([225,2,0,229,2,0,234,2]),this._magicFilterExcel2016Fix1=Buffer.from([39,70,33,0,0,0,0,255,0,0,0,15,0,0,0,95,0,70,0,105,0,108,0,116,0,101,0,114,0,68,0,97,0,116,0,97,0,98,0,97,0,115,0,101,0,15,0,0,0,59,255,0]),this._magicFilterExcel2016Fix2=Buffer.from([0,0,0,0,255,255,255,255])}_sanitizeSheetName(e){if(!e||typeof e!="string")return`Sheet${this.sheetCount+1}`;let r=e.replace(tye,"_");return r.length>31&&(r=r.substring(0,31)),r.trim().length===0&&(r=`Sheet${this.sheetCount+1}`),r}addSheet(e,r=!1){let n=this._sanitizeSheetName(e);this.sheetCount++,this.sheetList.push({name:n,pathInArchive:`xl/worksheets/sheet${this.sheetCount}.bin`,hidden:r,nameInArchive:`sheet${this.sheetCount}.bin`,sheetId:this.sheetCount,filterHeaderRange:null})}startSheet(e,r,n,i={}){if(this.isStreaming)throw new Error("Already in streaming mode. Call endSheet() first.");let{hidden:s=!1,doAutofilter:o=!0}=i;this.addSheet(e,s),this.isStreaming=!0,this.currentSheetBuffer=new os,this.currentSheetRowNum=0,this.currentSheetStartCol=0,this.currentSheetEndCol=r,this.currentSheetDoAutofilter=o&&n!==void 0;let a=this.currentSheetBuffer;if(this.colWidths=new Array(r).fill(-1),n)for(let c=0;c<r;c++){let d=1.25*(n[c]?n[c].length:0)+2;d>80&&(d=80),this.colWidths[c]<d&&(this.colWidths[c]=d)}let l=Buffer.from(this._sheet1Bytes);l.writeInt32LE(this.currentSheetStartCol,40),l.writeInt32LE(this.currentSheetEndCol,44),this.sheetCount!==1&&(l[54]=156),a.write(l.subarray(0,84)),this.currentSheetDoAutofilter&&a.write(this._stickHeaderA1bytes),a.write(l.subarray(84,159)),a.writeByte(134),a.writeByte(3);for(let c=this.currentSheetStartCol;c<this.currentSheetEndCol;c++){a.writeByte(0),a.writeByte(60),a.writeByte(18),a.writeInt32LE(c),a.writeInt32LE(c);let u=this.colWidths[c]>0?Math.floor(this.colWidths[c]):10;a.writeByte(0),a.writeByte(Math.max(0,Math.min(255,u))),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(2)}if(a.writeByte(0),a.writeByte(135),a.writeByte(3),a.writeByte(0),a.write(l.subarray(159,175)),a.write(Buffer.from([38,0])),n){this.createRowHeader(a,this.currentSheetRowNum,this.currentSheetStartCol,this.currentSheetEndCol);for(let c=0;c<n.length;c++)this.writeString(a,n[c],c,!0);this.currentSheetRowNum++}}writeRow(e){if(!this.isStreaming||!this.currentSheetBuffer)throw new Error("Not in streaming mode. Call startSheet() first.");if(e.length!==this.currentSheetEndCol-this.currentSheetStartCol)throw new Error(`Row length mismatch. Expected ${this.currentSheetEndCol-this.currentSheetStartCol} columns, got ${e.length}`);let r=this.currentSheetBuffer;this.createRowHeader(r,this.currentSheetRowNum,this.currentSheetStartCol,this.currentSheetEndCol);for(let n=0;n<e.length;n++){let i=e[n];i!=null&&(typeof i=="number"?Number.isInteger(i)?i>=this._rRkIntegerLowerLimit&&i<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(r,i,n):this.writeDouble(r,i,n):this.writeDouble(r,i,n):typeof i=="bigint"?this.writeString(r,i.toString(),n):typeof i=="boolean"?this.writeBool(r,i,n):i instanceof Date?this.writeDateTime(r,i,n):this.writeString(r,i.toString(),n))}this.currentSheetRowNum++}endSheet(){if(!this.isStreaming||!this.currentSheetBuffer)throw new Error("Not in streaming mode. Call startSheet() first.");let e=this.currentSheetBuffer,r=Buffer.from(this._sheet1Bytes);if(e.write(r.subarray(218,290)),this.currentSheetDoAutofilter){this._autofilterIsOn=!0;let n=this.currentSheetRowNum;e.write(this._autoFilterStartBytes);let i=Buffer.alloc(8);i.writeInt32LE(0,0),i.writeInt32LE(n-1,4),e.write(i);let s=Buffer.alloc(8);s.writeInt32LE(this.currentSheetStartCol,0),s.writeInt32LE(this.currentSheetEndCol-1,4),e.write(s),e.write(this._autoFilterEndBytes);let o=this.sheetList[this.sheetCount-1];o.filterData={startRow:0,endRow:this.currentSheetRowNum-1,startColumn:this.currentSheetStartCol,endColumn:this.currentSheetEndCol-1}}e.write(r.subarray(290)),this.archive.append(nS.Readable.from(e.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive}),this.isStreaming=!1,this.currentSheetBuffer=null,this.currentSheetRowNum=0,this.currentSheetStartCol=0,this.currentSheetEndCol=0,this.currentSheetDoAutofilter=!1}writeSheet(e,r=null,n=!0){let i=new os,s=0;if(e.length>0?s=e[0].length:r&&(s=r.length),this.colWidths=new Array(s).fill(-1),r)for(let u=0;u<s;u++){let E=1.25*(r[u]?r[u].length:0)+2;E>80&&(E=80),this.colWidths[u]<E&&(this.colWidths[u]=E)}for(let u=0;u<Math.min(e.length,100);u++){let d=e[u];for(let E=0;E<d.length;E++){let f=d[E],h=1.25*(f?f.toString().length:0)+2;h>80&&(h=80),this.colWidths[E]<h&&(this.colWidths[E]=h)}}let o=Buffer.from(this._sheet1Bytes),a=0,l=s;o.writeInt32LE(a,40),o.writeInt32LE(l,44),this.sheetCount!==1&&(o[54]=156),i.write(o.subarray(0,84)),n&&r&&i.write(this._stickHeaderA1bytes),i.write(o.subarray(84,159)),i.writeByte(134),i.writeByte(3);for(let u=a;u<l;u++){i.writeByte(0),i.writeByte(60),i.writeByte(18),i.writeInt32LE(u),i.writeInt32LE(u);let d=this.colWidths[u]>0?Math.floor(this.colWidths[u]):10;i.writeByte(0),i.writeByte(Math.max(0,Math.min(255,d))),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(2)}i.writeByte(0),i.writeByte(135),i.writeByte(3),i.writeByte(0),i.write(o.subarray(159,175)),i.write(Buffer.from([38,0]));let c=0;if(r){this.createRowHeader(i,c,a,l);for(let u=0;u<r.length;u++)this.writeString(i,r[u],u,!0);c++}for(let u=0;u<e.length;u++){this.createRowHeader(i,c,a,l);let d=e[u];for(let E=0;E<d.length;E++){let f=d[E];f!=null&&(typeof f=="number"?Number.isInteger(f)?f>=this._rRkIntegerLowerLimit&&f<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(i,f,E):this.writeDouble(i,f,E):this.writeDouble(i,f,E):typeof f=="bigint"?this.writeString(i,f.toString(),E):typeof f=="boolean"?this.writeBool(i,f,E):f instanceof Date?this.writeDateTime(i,f,E):this.writeString(i,f.toString(),E))}c++}if(i.write(o.subarray(218,290)),n&&r){this._autofilterIsOn=!0;let u=e.length+1;i.write(this._autoFilterStartBytes);let d=Buffer.alloc(8);d.writeInt32LE(0,0),d.writeInt32LE(u-1,4),i.write(d);let E=Buffer.alloc(8);E.writeInt32LE(a,0),E.writeInt32LE(l-1,4),i.write(E),i.write(this._autoFilterEndBytes);let f=this.sheetList[this.sheetCount-1];f.filterData={startRow:0,endRow:e.length,startColumn:a,endColumn:l-1}}i.write(o.subarray(290)),this.archive.append(nS.Readable.from(i.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive})}_getColumnLetter(e){if(e<26)return String.fromCharCode(65+e);if(e<702){let r=Math.floor(e/26)-1,n=e%26;return String.fromCharCode(65+r)+String.fromCharCode(65+n)}return"A"}createRowHeader(e,r,n,i){e.ensureCapacity(27),e.writeUnsafeByte(0),e.writeUnsafeByte(25),e.writeUnsafeInt32LE(r),e.writeUnsafeInt32LE(0),e.writeUnsafeByte(44),e.writeUnsafeByte(1),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(1),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeInt32LE(n),e.writeUnsafeInt32LE(i)}writeRkNumberInteger(e,r,n,i=0){e.ensureCapacity(14),e.writeUnsafeByte(2),e.writeUnsafeByte(12),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0);let s=r<<2|2;e.writeUnsafeInt32LE(s)}writeDouble(e,r,n,i=0){e.ensureCapacity(18),e.writeUnsafeByte(5),e.writeUnsafeByte(16),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeDoubleLE(r)}writeBool(e,r,n){e.ensureCapacity(13),e.writeUnsafeByte(4),e.writeUnsafeByte(9),e.writeUnsafeInt32LE(n),e.writeUnsafeInt32LE(0),e.writeUnsafeByte(r?1:0)}writeDateTime(e,r,n){let i=r.getTimezoneOffset()*6e4,s=(r.getTime()-i-this._oaEpoch)/864e5;this.writeDouble(e,s,n,1)}writeString(e,r,n,i=!1){let s;this.sstDic.has(r)?s=this.sstDic.get(r):(s=this.sstCntUnique,this.sstDic.set(r,s),this.sstCntUnique++),this.sstCntAll++,e.ensureCapacity(17),e.writeUnsafeByte(7),e.writeUnsafeByte(12),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i?3:0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeInt32LE(s)}saveSst(){let e=new os;e.writeByte(159),e.writeByte(1),e.writeByte(8),e.writeInt32LE(this.sstCntUnique),e.writeInt32LE(this.sstCntAll);for(let[r]of this.sstDic){let n=r.length;e.writeByte(19);let i=5+2*n;if(i>=128){e.writeByte(128+i%128);let s=i>>7;s>=256?e.writeByte(128+s%128):e.writeByte(s),e.writeByte(i>>14),i>>14>0&&e.writeByte(0)}else e.writeByte(i&255),e.writeByte(i>>8&255);e.writeInt32LE(n),e.writeUtf16LE(r)}e.writeByte(160),e.writeByte(1),e.writeByte(0),this.archive.append(nS.Readable.from(e.getChunks()),{name:"xl/sharedStrings.bin"})}_writeFilterDefinedName(e,r,n){let i=r.filterData,s=r.sheetId-1,o=Buffer.alloc(this._magicFilterExcel2016Fix1.length);this._magicFilterExcel2016Fix1.copy(o);let a=this._magicFilterExcel2016Fix1.length-2;o[7]=s,o[a]=n,e.push(o);let l=Buffer.alloc(8);l.writeInt32LE(i.startRow,0),l.writeInt32LE(i.endRow,4),e.push(l);let c=Buffer.alloc(4);c.writeInt16LE(i.startColumn,0),c.writeInt16LE(i.endColumn,2),e.push(c),e.push(this._magicFilterExcel2016Fix2)}finalize(){return new Promise((e,r)=>{try{this.saveSst(),this.archive.append(this._stylesBin,{name:"xl/styles.bin"});let n=[];n.push(this._workbookBinStart);for(let a of this.sheetList){let l=`rId${a.sheetId}`,c=16+a.name.length*2+l.length*2,u=Buffer.alloc(3+c);u[0]=156,u[1]=1,u[2]=c;let d=3;u.writeInt32LE(a.hidden?1:0,d),d+=4,u.writeInt32LE(a.sheetId,d),d+=4,u.writeInt32LE(l.length,d),d+=4;for(let E=0;E<l.length;E++){let f=l.charCodeAt(E);u[d++]=f&255,u[d++]=f>>8&255}u.writeInt32LE(a.name.length,d),d+=4;for(let E=0;E<a.name.length;E++){let f=a.name.charCodeAt(E);u[d++]=f&255,u[d++]=f>>8&255}n.push(u)}if(n.push(this._workbookBinMiddle),this._autofilterIsOn){let a=this.sheetList.filter(c=>c.filterData),l=a.length;if(l>0){n.push(this._magicFilterExcel2016Fix0);let c=16+(l-1)*12,u=Buffer.from([c,l,0,0,0]);n.push(u);for(let d=0;d<l;d++){let E=a[d].sheetId-1,f=Buffer.alloc(12);f.writeInt32LE(0,0),f[4]=E,f[8]=E,n.push(f)}n.push(Buffer.from([226,2,0]));for(let d=0;d<l;d++){let E=a[d];this._writeFilterDefinedName(n,E,d)}}}n.push(this._workbookBinEnd),this.archive.append(Buffer.concat(n),{name:"xl/workbook.bin"});for(let a of this.sheetList)this.archive.append(this._binaryIndexBin,{name:`xl/worksheets/binaryIndex${a.sheetId}.bin`});let i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default Extension="bin" ContentType="application/vnd.ms-excel.sheet.binary.macroEnabled.main"/>
<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>
<Default Extension="xml" ContentType="application/xml"/>`;for(let a of this.sheetList)i+=`<Override PartName="/${a.pathInArchive}" ContentType="application/vnd.ms-excel.worksheet"/>`,i+=`<Override PartName="/xl/worksheets/binaryIndex${a.sheetId}.bin" ContentType="application/vnd.ms-excel.binIndexWs"/>`;i+=`<Override PartName="/xl/styles.bin" ContentType="application/vnd.ms-excel.styles"/>
<Override PartName="/xl/sharedStrings.bin" ContentType="application/vnd.ms-excel.sharedStrings"/>
</Types>`,this.archive.append(i,{name:"[Content_Types].xml"});let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`;for(let a of this.sheetList){let l=`rId${a.sheetId}`;s+=`<Relationship Id="${l}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/${a.nameInArchive}"/>`}s+=`<Relationship Id="rId${this.sheetList.length+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.bin"/>
<Relationship Id="rId${this.sheetList.length+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.bin"/>
</Relationships>`,this.archive.append(s,{name:"xl/_rels/workbook.bin.rels"}),this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.bin"/>
</Relationships>`,{name:"_rels/.rels"});for(let a of this.sheetList){let l=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.microsoft.com/office/2006/relationships/xlBinaryIndex" Target="binaryIndex${a.sheetId}.bin"/>
</Relationships>`;this.archive.append(l,{name:`xl/worksheets/_rels/${a.nameInArchive}.rels`})}this.output.on("close",()=>e()),this.archive.on("error",a=>r(a)),this.archive.finalize()}catch(n){r(n)}})}},rye=iS});var as={};_t(as,{copyFileToClipboard:()=>aS,exportCsvToXlsb:()=>oye,exportQueryToXlsb:()=>HC,exportStructuredToXlsb:()=>aye,getTempFilePath:()=>lye});function GC(t){if(typeof t=="string"&&t.length>0){if(t.length>15||/^-?0\d+/.test(t))return t;if(/^-?\d+(\.\d+)?$/.test(t)){let e=parseFloat(t);if(Number.isFinite(e))return e}}return t}function nye(t){return t.map(GC)}async function HC(t,e,r,n=!1,i,s){let o=null;try{i&&i("Connecting to database...");let a={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},l=Ir();o=new l(a),await o.connect();let c=new FC(r),{SqlParser:u}=await Promise.resolve().then(()=>(lo(),hw)),d=u.splitStatements(e),E=0,f=0;for(let m=0;m<d.length;m++){let R=d[m];if(!R.trim())continue;let A=d.length>1?`Result ${m+1}`:"Query Results";i&&i(`Executing query ${m+1}/${d.length}...`);try{let g=o.createCommand(R);s&&(g.commandTimeout=s);let w=await g.executeReader(),I=[],D=[],b=new Set(["INT8","INT2","INT4","NUMERIC","FLOAT4","FLOAT8"]);for(let B=0;B<w.fieldCount;B++){let F=w.getName(B);I.push(F);try{let Y=w.getTypeName(B);D.push(b.has(Y))}catch{D.push(!1)}}let P=I.length;f=Math.max(f,P),c.startSheet(A,P,I,{doAutofilter:!0});let M=0;for(;await w.read();){let B=[];for(let F=0;F<w.fieldCount;F++){let Y=w.getValue(F);D[F]&&(Y=GC(Y)),B.push(Y)}c.writeRow(B),M++,M%1e4===0&&i&&i(`Streaming ${M.toLocaleString()} rows to "${A}"...`)}c.endSheet(),E+=M,i&&i(`Written ${M.toLocaleString()} rows to sheet "${A}"`)}catch(g){let w=g instanceof Error?g.message:String(g);c.startSheet(`Error ${m+1}`,1,["Error"],{doAutofilter:!1}),c.writeRow([`Error executing query: ${w}`]),c.endSheet()}}let T=e.split(`
`);c.startSheet("SQL Code",1,void 0,{doAutofilter:!1}),c.writeRow(["SQL Query:"]);for(let m of T)c.writeRow([m]);c.endSheet(),i&&i("Finalizing file..."),await c.finalize();let p=sS.statSync(r).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Total Rows: ${E.toLocaleString()}`),i(`  - File size: ${p.toFixed(1)} MB`),i(`  - Location: ${r}`));let S={success:!0,message:`Successfully exported ${E} rows to ${r}`,details:{rows_exported:E,columns:f,file_size_mb:parseFloat(p.toFixed(1)),file_path:r}};if(n){i&&i("Copying to clipboard...");let m=await aS(r);S.details&&(S.details.clipboard_success=m)}return S}catch(a){return{success:!1,message:`Export error: ${a instanceof Error?a.message:String(a)}`}}finally{if(o)try{await o.close()}catch{}}}function sye(t){return t?iye.has(t.toUpperCase()):!1}async function oye(t,e,r=!1,n={source:"Unknown"},i){try{i&&i("Initializing XLSB writer...");let s=new FC(e),o=0,a=0,l=[],c=(f,T)=>{let h=f.split(/\r?\n/),p=A=>{let g=[],w=0,I=!1;for(let b=0;b<A.length;b++)if(A[b]==='"')I=!I;else if(A[b]===","&&!I){let P=A.substring(w,b);P.startsWith('"')&&P.endsWith('"')&&(P=P.substring(1,P.length-1).replace(/""/g,'"')),g.push(P),w=b+1}let D=A.substring(w);return D.startsWith('"')&&D.endsWith('"')&&(D=D.substring(1,D.length-1).replace(/""/g,'"')),g.push(D),g},S=0;for(;S<h.length&&!h[S].trim();)S++;if(S>=h.length)return;let m=p(h[S]);if(m.length===0)return;a=Math.max(a,m.length),s.startSheet(T,m.length,m,{doAutofilter:!0});let R=0;for(let A=S+1;A<h.length;A++){let g=h[A];if(!g.trim())continue;let w=p(g);s.writeRow(nye(w)),R++}s.endSheet(),o+=R};Array.isArray(t)?(i&&i(`Processing ${t.length} result sets...`),t.forEach((f,T)=>{let h=f.name||`Result ${T+1}`;i&&i(`Processing sheet "${h}"...`),c(f.csv,h),f.sql&&l.push({name:h,sql:f.sql})})):(i&&i("Reading CSV content..."),c(t,"Query Results"),n.sql?l.push({name:"Query Results",sql:n.sql}):n.source&&(s.startSheet("CSV Source",1,void 0,{doAutofilter:!1}),s.writeRow(["CSV Source:"]),s.writeRow([n.source]),s.endSheet())),l.length>0&&(s.startSheet("SQL Code",1,void 0,{doAutofilter:!1}),l.forEach(f=>{s.writeRow([`--- SQL for ${f.name} ---`]),f.sql.split(`
`).forEach(T=>{s.writeRow([T])}),s.writeRow([""])}),s.endSheet()),i&&i("Finalizing XLSB file..."),await s.finalize();let d=sS.statSync(e).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Rows: ${o.toLocaleString()}`),i(`  - File size: ${d.toFixed(1)} MB`));let E={success:!0,message:`Successfully exported ${o} rows to ${e}`,details:{rows_exported:o,columns:a,file_size_mb:parseFloat(d.toFixed(1)),file_path:e}};if(r){i&&i("Copying file to clipboard...");let f=await aS(e);E.details&&(E.details.clipboard_success=f)}return E}catch(s){return{success:!1,message:`Export failed: ${s instanceof Error?s.message:String(s)}`}}}async function aye(t,e,r=!1,n){try{n&&n("Initializing XLSB writer...");let i=new FC(e),s=0,o=0,a=[];for(let d of t){let E=d.name||"Sheet";n&&n(`Processing sheet "${E}"...`);let f=d.columns.map(h=>h.name),T=d.columns.map(h=>sye(h.type));o=Math.max(o,f.length),i.startSheet(E,f.length,f,{doAutofilter:!0});for(let h of d.rows){let p=h.map((S,m)=>T[m]?GC(S):S);i.writeRow(p),s++}i.endSheet(),d.sql&&a.push({name:E,sql:d.sql})}a.length>0&&(i.startSheet("SQL Code",1,void 0,{doAutofilter:!1}),a.forEach(d=>{i.writeRow([`--- SQL for ${d.name} ---`]),d.sql.split(`
`).forEach(E=>{i.writeRow([E])}),i.writeRow([""])}),i.endSheet()),n&&n("Finalizing XLSB file..."),await i.finalize();let c=sS.statSync(e).size/(1024*1024);n&&(n("XLSB file created successfully"),n(`  - Rows: ${s.toLocaleString()}`),n(`  - File size: ${c.toFixed(1)} MB`));let u={success:!0,message:`Successfully exported ${s} rows to ${e}`,details:{rows_exported:s,columns:o,file_size_mb:parseFloat(c.toFixed(1)),file_path:e}};if(r){n&&n("Copying file to clipboard...");let d=await aS(e);u.details&&(u.details.clipboard_success=d)}return u}catch(i){return{success:!1,message:`Export failed: ${i instanceof Error?i.message:String(i)}`}}}async function aS(t){return oS.platform()!=="win32"?(console.error("Clipboard file copy is only supported on Windows"),!1):new Promise(e=>{try{let r=Ec.normalize(Ec.resolve(t)),n=`Set-Clipboard -Path "${r.replace(/"/g,'`"')}"`,i=(0,OX.spawn)("powershell.exe",["-NoProfile","-NonInteractive","-Command",n]),s="";i.stderr.on("data",o=>{s+=o.toString()}),i.on("close",o=>{o!==0?(console.error(`PowerShell clipboard copy failed: ${s}`),e(!1)):(console.log(`File copied to clipboard: ${r}`),e(!0))}),i.on("error",o=>{console.error(`Error spawning PowerShell: ${o.message}`),e(!1)})}catch(r){let n=r instanceof Error?r.message:String(r);console.error(`Error copying file to clipboard: ${n}`),e(!1)}})}function lye(){let t=oS.tmpdir(),r=`netezza_export_${Date.now()}.xlsb`;return Ec.join(t,r)}var sS,Ec,oS,OX,FC,iye,Ii=H(()=>{"use strict";sS=q(require("fs")),Ec=q(require("path")),oS=q(require("os")),OX=require("child_process"),FC=(NX(),xa(gX)).default;iye=new Set(["INT8","INT2","INT4","NUMERIC","FLOAT4","FLOAT8","INTEGER","BIGINT","SMALLINT","DECIMAL","REAL","DOUBLE PRECISION"])});var wX=O((MBe,bX)=>{bX.exports=cS;function cS(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}cS.prototype.go=function(t){this.pending<this.max?yX(this,t):this.waiting.push(t)};cS.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};cS.prototype.hold=function(){return CX(this)};function CX(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)yX(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function yX(t,e){e(CX(t))}});var DX=O(jd=>{var Xd=require("fs"),uS=require("util"),$C=require("stream"),LX=$C.Readable,YC=$C.Writable,cye=$C.PassThrough,uye=wX(),dS=require("events").EventEmitter;jd.createFromBuffer=dye;jd.createFromFd=fye;jd.BufferSlicer=cs;jd.FdSlicer=ls;uS.inherits(ls,dS);function ls(t,e){e=e||{},dS.call(this),this.fd=t,this.pend=new uye,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}ls.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(o){Xd.read(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};ls.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(o){Xd.write(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};ls.prototype.createReadStream=function(t){return new fS(this,t)};ls.prototype.createWriteStream=function(t){return new ES(this,t)};ls.prototype.ref=function(){this.refCount+=1};ls.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&Xd.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};uS.inherits(fS,LX);function fS(t,e){e=e||{},LX.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}fS.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=Buffer.allocUnsafe(r);Xd.read(e.context.fd,i,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(i.slice(0,o))),n()})})}};fS.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};uS.inherits(ES,YC);function ES(t,e){e=e||{},YC.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}ES.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();Xd.write(n.context.fd,t,0,t.length,n.pos,function(o,a){o?(n.destroy(),s(),r(o)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),s(),r())})})}};ES.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};uS.inherits(cs,dS);function cs(t,e){dS.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}cs.prototype.read=function(t,e,r,n,i){if(!(0<=e&&e<=t.length))throw new RangeError("offset outside buffer: 0 <= "+e+" <= "+t.length);if(n<0)throw new RangeError("position is negative: "+n);if(e+r>t.length&&(r=t.length-e),n+r>this.buffer.length&&(r=this.buffer.length-n),r<=0){setImmediate(function(){i(null,0)});return}this.buffer.copy(t,e,n,n+r),setImmediate(function(){i(null,r)})};cs.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};cs.prototype.createReadStream=function(t){t=t||{};var e=new cye(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};cs.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new YC(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var o=r.pos+n.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};cs.prototype.ref=function(){this.refCount+=1};cs.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function dye(t,e){return new cs(t,e)}function fye(t,e){return new ls(t,e)}});var MX=O((UBe,xX)=>{var Qs=require("buffer").Buffer,VC=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(VC=new Int32Array(VC));function PX(t){if(Qs.isBuffer(t))return t;var e=typeof Qs.alloc=="function"&&typeof Qs.from=="function";if(typeof t=="number")return e?Qs.alloc(t):new Qs(t);if(typeof t=="string")return e?Qs.from(t):new Qs(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Eye(t){var e=PX(4);return e.writeInt32BE(t,0),e}function qC(t,e){t=PX(t),Qs.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=VC[(r^t[n])&255]^r>>>8;return r^-1}function XC(){return Eye(qC.apply(null,arguments))}XC.signed=function(){return qC.apply(null,arguments)};XC.unsigned=function(){return qC.apply(null,arguments)>>>0};xX.exports=XC});var YX=O(rn=>{var jC=require("fs"),hye=require("zlib"),vX=DX(),Tye=MX(),pS=require("util"),SS=require("events").EventEmitter,UX=require("stream").Transform,KC=require("stream").PassThrough,pye=require("stream").Writable;rn.open=Sye;rn.fromFd=BX;rn.fromBuffer=Rye;rn.fromRandomAccessReader=JC;rn.dosDateTimeToDate=HX;rn.getFileNameLowLevel=WX;rn.validateFileName=kX;rn.parseExtraFields=$X;rn.ZipFile=Ni;rn.Entry=zd;rn.LocalFileHeader=GX;rn.RandomAccessReader=Zs;function Sye(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=TS),jC.open(t,"r",function(n,i){if(n)return r(n);BX(i,e,function(s,o){s&&jC.close(i,TS),r(s,o)})})}function BX(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=TS),jC.fstat(t,function(n,i){if(n)return r(n);var s=vX.createFromFd(t,{autoClose:!0});JC(s,i.size,e,r)})}function Rye(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=vX.createFromBuffer(t,{maxChunkSize:65536});JC(n,t.length,e,r)}function JC(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=TS),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=20,a=65535,l=Math.min(o+s+a,e),c=us(l),u=e-c.length;Tc(t,c,0,l,u,function(d){if(d)return n(d);for(var E=l-s;E>=0;E-=1)if(c.readUInt32LE(E)===101010256){var f=c.subarray(E),T=f.readUInt16LE(4),h=f.readUInt16LE(10),p=f.readUInt32LE(16),S=f.readUInt16LE(20),m=f.length-s;if(S!==m)return n(new Error("Invalid comment length. Expected: "+m+". Found: "+S+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK\u263A\u263B` in the comment?"));var R=i?hS(f.subarray(22),!1):f.subarray(22);if(E-o>=0&&c.readUInt32LE(E-o)===117853008){var A=c.subarray(E-o,E-o+o),g=hc(A,8),w=us(56);return Tc(t,w,0,w.length,g,function(I){return I?n(I):w.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(T=w.readUInt32LE(16),T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):(h=hc(w,32),p=hc(w,48),n(null,new Ni(t,p,e,h,R,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))))})}return T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):n(null,new Ni(t,p,e,h,R,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))}n(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}pS.inherits(Ni,SS);function Ni(t,e,r,n,i,s,o,a,l,c){var u=this;SS.call(u),u.reader=t,u.reader.on("error",function(d){FX(u,d)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=n,u.comment=i,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!o,u.decodeStrings=!!a,u.validateEntrySizes=!!l,u.strictFileNames=!!c,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Ni.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function gi(t,e){t.autoClose&&t.close(),FX(t,e)}function FX(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Ni.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Ni.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=us(46);Tc(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return gi(t,r);if(!t.emittedError){var n=new zd,i=e.readUInt32LE(0);if(i!==33639248)return gi(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return gi(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=us(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),Tc(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return gi(t,s);if(!t.emittedError){n.fileNameRaw=e.subarray(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength;n.extraFieldRaw=e.subarray(n.fileNameLength,o),n.fileCommentRaw=e.subarray(o,o+n.fileCommentLength);try{n.extraFields=$X(n.extraFieldRaw)}catch(h){return gi(t,h)}if(t.decodeStrings){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileComment=hS(n.fileCommentRaw,a),n.fileName=WX(n.generalPurposeBitFlag,n.fileNameRaw,n.extraFields,t.strictFileNames);var l=kX(n.fileName);if(l!=null)return gi(t,new Error(l))}else n.fileComment=n.fileCommentRaw,n.fileName=n.fileNameRaw;n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1;for(var c=0;c<n.extraFields.length;c++){var u=n.extraFields[c];if(u.id===1){var d=u.data,E=0;if(n.uncompressedSize===4294967295){if(E+8>d.length)return gi(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=hc(d,E),E+=8}if(n.compressedSize===4294967295){if(E+8>d.length)return gi(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=hc(d,E),E+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(E+8>d.length)return gi(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=hc(d,E),E+=8}break}}if(t.validateEntrySizes&&n.compressionMethod===0){var f=n.uncompressedSize;if(n.isEncrypted()&&(f+=12),n.compressedSize!==f){var T="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return gi(t,new Error(T))}}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};Ni.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null&&(r=e,e=null),e==null)e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));var o;if(t.compressionMethod===0)o=!1;else if(t.compressionMethod===8)o=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));n.readLocalFileHeader(t,{minimal:!0},function(a,l){if(a)return r(a);n.openReadStreamLowLevel(l.fileDataStart,t.compressedSize,i,s,o,t.uncompressedSize,r)})};Ni.prototype.openReadStreamLowLevel=function(t,e,r,n,i,s,o){var a=this,l=t+e,c=a.reader.createReadStream({start:t+r,end:t+n}),u=c;if(i){var d=!1,E=hye.createInflateRaw();c.on("error",function(f){setImmediate(function(){d||E.emit("error",f)})}),c.pipe(E),a.validateEntrySizes?(u=new Kd(s),E.on("error",function(f){setImmediate(function(){d||u.emit("error",f)})}),E.pipe(u)):u=E,zC(u,function(){d=!0,E!==u&&E.unpipe(u),c.unpipe(E),c.destroy()})}o(null,u)};Ni.prototype.readLocalFileHeader=function(t,e,r){var n=this;r==null&&(r=e,e=null),e==null&&(e={}),n.reader.ref();var i=us(30);Tc(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader,function(s){try{if(s)return r(s);var o=i.readUInt32LE(0);if(o!==67324752)return r(new Error("invalid local file header signature: 0x"+o.toString(16)));var a=i.readUInt16LE(26),l=i.readUInt16LE(28),c=t.relativeOffsetOfLocalHeader+30+a+l;if(c+t.compressedSize>n.fileSize)return r(new Error("file data overflows file bounds: "+c+" + "+t.compressedSize+" > "+n.fileSize));if(e.minimal)return r(null,{fileDataStart:c});var u=new GX;u.fileDataStart=c,u.versionNeededToExtract=i.readUInt16LE(4),u.generalPurposeBitFlag=i.readUInt16LE(6),u.compressionMethod=i.readUInt16LE(8),u.lastModFileTime=i.readUInt16LE(10),u.lastModFileDate=i.readUInt16LE(12),u.crc32=i.readUInt32LE(14),u.compressedSize=i.readUInt32LE(18),u.uncompressedSize=i.readUInt32LE(22),u.fileNameLength=a,u.extraFieldLength=l,i=us(a+l),n.reader.ref(),Tc(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader+30,function(d){try{return d?r(d):(u.fileName=i.subarray(0,a),u.extraField=i.subarray(a),r(null,u))}finally{n.reader.unref()}})}finally{n.reader.unref()}})};function zd(){}zd.prototype.getLastModDate=function(t){if(t==null&&(t={}),!t.forceDosFormat)for(var e=0;e<this.extraFields.length;e++){var r=this.extraFields[e];if(r.id===21589){var n=r.data;if(n.length<5)continue;var i=n[0],s=1;if(!(i&s))continue;var o=n.readInt32LE(1);return new Date(o*1e3)}else if(r.id===10)for(var n=r.data,a=4;a<n.length+4;){var l=n.readUInt16LE(a);a+=2;var c=n.readUInt16LE(a);if(a+=2,l!==1){a+=c;continue}if(c<8||a+c>n.length)break;var u=4294967296*n.readInt32LE(a+4)+n.readUInt32LE(a),d=u/1e4-116444736e5;return new Date(d)}}return HX(this.lastModFileDate,this.lastModFileTime,t.timezone)};zd.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};zd.prototype.isCompressed=function(){return this.compressionMethod===8};function GX(){}function HX(t,e,r){var n=t&31,i=(t>>5&15)-1,s=(t>>9&127)+1980,o=0,a=(e&31)*2,l=e>>5&63,c=e>>11&31;if(r==null||r==="local")return new Date(s,i,n,c,l,a,o);if(r==="UTC")return new Date(Date.UTC(s,i,n,c,l,a,o));throw new Error("unrecognized options.timezone: "+options.timezone)}function WX(t,e,r,n){for(var i=null,s=0;s<r.length;s++){var o=r[s];if(o.id===28789){if(o.data.length<6||o.data.readUInt8(0)!==1)continue;var a=o.data.readUInt32LE(1);if(Tye.unsigned(e)!==a)continue;i=hS(o.data.subarray(5),!0);break}}if(i==null){var l=(t&2048)!==0;i=hS(e,l)}return n||(i=i.replace(/\\/g,"/")),i}function kX(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function $X(t){for(var e=[],r=0;r<t.length-3;){var n=t.readUInt16LE(r+0),i=t.readUInt16LE(r+2),s=r+4,o=s+i;if(o>t.length)throw new Error("extra field length exceeds extra field buffer size");var a=t.subarray(s,o);e.push({id:n,data:a}),r=o}return e}function Tc(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,us(0))});t.read(e,r,n,i,function(o,a){if(o)return s(o);if(a<n)return s(new Error("unexpected EOF"));s()})}pS.inherits(Kd,UX);function Kd(t){UX.call(this),this.actualByteCount=0,this.expectedByteCount=t}Kd.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};Kd.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};pS.inherits(Zs,SS);function Zs(){SS.call(this),this.refCount=0}Zs.prototype.ref=function(){this.refCount+=1};Zs.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};Zs.prototype.createReadStream=function(t){t==null&&(t={});var e=t.start,r=t.end;if(e===r){var n=new KC;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,o=new RS(this);i.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),zC(o,function(){i.unpipe(o),o.unref(),i.destroy()});var a=new Kd(r-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),zC(a,function(){s=!0,o.unpipe(a),o.destroy()}),i.pipe(o).pipe(a)};Zs.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};Zs.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),o=new pye,a=0;o._write=function(l,c,u){l.copy(t,e+a,0,l.length),a+=l.length,u()},o.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(o)};Zs.prototype.close=function(t){setImmediate(t)};pS.inherits(RS,KC);function RS(t){KC.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}RS.prototype._flush=function(t){this.unref(),t()};RS.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var Aye="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function hS(t,e){if(e)return t.toString("utf8");for(var r="",n=0;n<t.length;n++)r+=Aye[t[n]];return r}function hc(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var us;typeof Buffer.allocUnsafe=="function"?us=function(t){return Buffer.allocUnsafe(t)}:us=function(t){return new Buffer(t)};function zC(t,e){typeof t.destroy=="function"?t._destroy=function(r,n){e(),n?.(r)}:t.destroy=e}function TS(t){if(t)throw t}});var pc,QC=H(()=>{"use strict";pc=class{constructor(){this.fieldCount=0;this.rowCount=0;this.actualSheetName="";this.resultsCount=0;this._oaEpoch=Date.UTC(1899,11,30)}async close(){}dispose(){}getDateTimeFromOaDate(e){let r=e*864e5+this._oaEpoch;return new Date(r)}}});var VX,AS,qX=H(()=>{"use strict";VX=q(YX());QC();AS=class extends pc{constructor(){super();this.zipfile=null;this.sharedStrings=[];this.styles=[];this.sheetNames=[];this.sheets=[];this.entries=new Map;this._currentSheetIndex=-1;this._sheetXml=null;this._xmlPos=0;this._currentRow=[];this.xfIdToNumFmtId=[];this.customDateFormats=new Set}async open(r,n=!0){return new Promise((i,s)=>{VX.default.open(r,{lazyEntries:!0,autoClose:!1},async(o,a)=>{if(o)return s(o);this.zipfile=a,this.entries=new Map,a.on("entry",l=>{this.entries.set(l.fileName,l),a.readEntry()}),a.on("end",async()=>{try{let l=await this._readZipEntryContent("xl/_rels/workbook.xml.rels"),c={};if(l){let E=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,f;for(;(f=E.exec(l))!==null;)c[f[1]]=f[2]}let u=await this._readZipEntryContent("xl/workbook.xml");if(u){let E=/<sheet[^>]*name="([^"]*)"[^>]*sheetId="([^"]*)"[^>]*r:id="([^"]*)"/g,f;for(;(f=E.exec(u))!==null;){let T=this._unescapeXml(f[1]),h=f[2],p=f[3],m=c[p];m.startsWith("xl/")||(m="xl/"+m),this.sheetNames.push(T),this.sheets.push({name:T,sheetId:h,rId:p,path:m})}}if(n){let E=await this._readZipEntryContent("xl/sharedStrings.xml");E&&this._parseSharedStrings(E)}let d=await this._readZipEntryContent("xl/styles.xml");d&&this._parseStyles(d),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1,i()}catch(l){s(l)}}),a.readEntry()})})}async close(){this.zipfile&&this.zipfile.close()}async _readZipEntryContent(r){let n=this.entries.get(r);return n?new Promise((i,s)=>{this.zipfile.openReadStream(n,(o,a)=>{if(o)return s(o);let l=[];a.on("data",c=>l.push(c)),a.on("end",()=>{i(Buffer.concat(l).toString("utf8"))}),a.on("error",s)})}):null}_unescapeXml(r){return r?r.indexOf("&")===-1?r:r.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):""}_parseSharedStrings(r){let n=0;for(;;){let i=r.indexOf("<si>",n);if(i===-1)break;let s=r.indexOf("</si>",i);if(s===-1)break;let o=r.substring(i,s),a="",l=0;for(;;){let c=o.indexOf("<t",l);if(c===-1)break;let u=o.indexOf(">",c),d=o.indexOf("</t>",u);if(d===-1)break;a+=o.substring(u+1,d),l=d+4}this.sharedStrings.push(this._unescapeXml(a)),n=s+5}}_parseStyles(r){let n=/<numFmt\s+[^>]*numFmtId="(\d+)"[^>]*formatCode="([^"]*)"/g,i;for(this.customDateFormats=new Set;(i=n.exec(r))!==null;){let o=parseInt(i[1]),a=i[2];(a.toLowerCase().includes("yy")||a.toLowerCase().includes("mm")||a.toLowerCase().includes("dd")||a.toLowerCase().includes("h:mm"))&&this.customDateFormats.add(o)}this.xfIdToNumFmtId=[];let s=r.indexOf("<cellXfs");if(s!==-1){let o=r.indexOf("</cellXfs>",s);if(o!==-1){let a=r.substring(s,o),l=/<xf\s+[^>]*numFmtId="(\d+)"/g;for(;(i=l.exec(a))!==null;){let c=parseInt(i[1]);this.xfIdToNumFmtId.push(c)}}}}getSheetNames(){return this.sheetNames}async read(){return this._currentSheetIndex===-1&&(this._currentSheetIndex=0,await this._initSheet(this._currentSheetIndex)),!!this._readNextRow()}async _initSheet(r){if(r>=this.sheets.length)return;let n=this.sheets[r];this.actualSheetName=n.name,this._sheetXml=await this._readZipEntryContent(n.path),this._sheetXml||(this._sheetXml=""),this._xmlPos=0;let i=this._sheetXml.indexOf("<sheetData>");i!==-1&&(this._xmlPos=i+11)}_readNextRow(){if(!this._sheetXml)return!1;let r=this._sheetXml.indexOf("<row",this._xmlPos);if(r===-1)return!1;let n=this._sheetXml.indexOf("</row>",r);return n===-1?!1:(this._xmlPos=n+6,this._parseRowByIndex(r,n),!0)}_parseRowByIndex(r,n){this._currentRow=[];let i=this._sheetXml,s=i.indexOf(">",r)+1;for(;s<n;){let o=i.indexOf("<c",s);if(o===-1||o>=n)break;let a=i.indexOf(">",o),l=-1,c="n",u=0,d=o+2;for(;d<a;){for(;i.charCodeAt(d)<=32&&d<a;)d++;if(d>=a)break;let T=d;for(;i.charCodeAt(d)!==61&&d<a;)d++;let h=i.substring(T,d);if(d++,i.charCodeAt(d)===34){d++;let p=d;for(;i.charCodeAt(d)!==34&&d<a;)d++;let S=i.substring(p,d);if(d++,h==="r"){let m=0;for(;m<S.length&&S.charCodeAt(m)>=65;)m++;l=this._columnLetterToIndex(S.substring(0,m))}else h==="t"?c=S:h==="s"&&(u=parseInt(S,10))}}let E=null;if(i.charCodeAt(a-1)===47)s=a+1;else{let T=i.indexOf("</c>",a),h=T!==-1&&T<n?T:n,p=i.indexOf("<v>",a);if(p!==-1&&p<h){let S=p+3,m=i.indexOf("</v>",S);m!==-1&&m<h&&(E=i.substring(S,m))}else if(c==="inlineStr"){let S=i.indexOf("<t",a);if(S!==-1&&S<h){let m=i.indexOf(">",S)+1,R=i.indexOf("</t>",m);R!==-1&&R<h&&(E=i.substring(m,R))}}s=h+4}let f=null;if(E!==null){if(c==="s"){let T=parseInt(E,10);f=this.sharedStrings[T]}else if(c==="b")f=E==="1"||E==="true";else if(c==="inlineStr")f=this._unescapeXml(E);else if((c==="n"||c==="")&&(f=parseFloat(E),u>0&&this.xfIdToNumFmtId)){let T=0;if(u<this.xfIdToNumFmtId.length&&(T=this.xfIdToNumFmtId[u]),T>=14&&T<=22||T>=45&&T<=47||this.customDateFormats&&this.customDateFormats.has(T))try{f=this.getDateTimeFromOaDate(f)}catch{}}}l!==-1&&(this._currentRow[l]=f,l>=this.fieldCount&&(this.fieldCount=l+1))}}_columnLetterToIndex(r){let n=0,i=r.length;for(let s=0;s<i;s++)n+=(r.charCodeAt(s)-64)*Math.pow(26,i-s-1);return n-1}getValue(r){return r<0||r>=this._currentRow.length?null:this._currentRow[r]}}});var ZC=O((WBe,XX)=>{XX.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var mS=O(zX=>{var jX={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function mye(t){return function(...e){return e.length&&(t=t.replace(/\{(\d)\}/g,(r,n)=>e[n]||"")),new Error("ADM-ZIP: "+t)}}for(let t of Object.keys(jX))zX[t]=mye(jX[t])});var e6=O(($Be,ZX)=>{var _ye=require("fs"),qt=require("path"),KX=ZC(),Iye=mS(),gye=typeof process=="object"&&process.platform==="win32",JX=t=>typeof t=="object"&&t!==null,QX=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function Nt(t){this.sep=qt.sep,this.fs=_ye,JX(t)&&JX(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}ZX.exports=Nt;Nt.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw Iye.FILE_IN_THE_WAY(`"${i}"`)}})}r(t)};Nt.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=qt.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};Nt.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,l){if(o&&l.isDirectory())return i(!1);var c=qt.dirname(t);s.fs.exists(c,function(u){u||s.makeDir(c),s.fs.open(t,"w",438,function(d,E){d?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(f,T){s.fs.write(T,e,0,e.length,0,function(){s.fs.close(T,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):E?s.fs.write(E,e,0,e.length,0,function(){s.fs.close(E,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};Nt.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){let l=qt.join(n,a),c=e.fs.statSync(l);(!i||i.test(l))&&o.push(qt.normalize(l)+(c.isDirectory()?e.sep:"")),c.isDirectory()&&s&&(o=o.concat(r(l,i,s)))}),o}return r(t,void 0,!0)};Nt.prototype.findFilesAsync=function(t,e){let r=this,n=[];r.fs.readdir(t,function(i,s){if(i)return e(i);let o=s.length;if(!o)return e(null,n);s.forEach(function(a){a=qt.join(t,a),r.fs.stat(a,function(l,c){if(l)return e(l);c&&(n.push(qt.normalize(a)+(c.isDirectory()?r.sep:"")),c.isDirectory()?r.findFilesAsync(a,function(u,d){if(u)return e(u);n=n.concat(d),--o||e(null,n)}):--o||e(null,n))})})})};Nt.prototype.getAttributes=function(){};Nt.prototype.setAttributes=function(){};Nt.crc32update=function(t,e){return QX[(t^e)&255]^t>>>8};Nt.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8"));let e=t.length,r=-1;for(let n=0;n<e;)r=Nt.crc32update(r,t[n++]);return~r>>>0};Nt.methodToString=function(t){switch(t){case KX.STORED:return"STORED ("+t+")";case KX.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};Nt.canonical=function(t){if(!t)return"";let e=qt.posix.normalize("/"+t.split("\\").join("/"));return qt.join(".",e)};Nt.zipnamefix=function(t){if(!t)return"";let e=qt.posix.normalize("/"+t.split("\\").join("/"));return qt.posix.join(".",e)};Nt.findLast=function(t,e){if(!Array.isArray(t))throw new TypeError("arr is not array");let r=t.length>>>0;for(let n=r-1;n>=0;n--)if(e(t[n],n,t))return t[n]};Nt.sanitize=function(t,e){t=qt.resolve(qt.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=qt.normalize(qt.join(t,r.slice(n,i).join(qt.sep)));if(s.indexOf(t)===0)return s}return qt.normalize(qt.join(t,qt.basename(e)))};Nt.toBuffer=function(e,r){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?r(e):Buffer.alloc(0)};Nt.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};Nt.fromDOS2Date=function(t){return new Date((t>>25&127)+1980,Math.max((t>>21&15)-1,0),Math.max(t>>16&31,1),t>>11&31,t>>5&63,(t&31)<<1)};Nt.fromDate2DOS=function(t){let e=0,r=0;return t.getFullYear()>1979&&(e=(t.getFullYear()-1980&127)<<9|t.getMonth()+1<<5|t.getDate(),r=t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1),e<<16|r};Nt.isWin=gye;Nt.crcTable=QX});var r6=O((YBe,t6)=>{var Nye=require("path");t6.exports=function(t,{fs:e}){var r=t||"",n=s(),i=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&e.existsSync(r)?(i=e.statSync(r),n.directory=i.isDirectory(),n.mtime=i.mtime,n.atime=i.atime,n.executable=(73&i.mode)!==0,n.readonly=(128&i.mode)===0,n.hidden=Nye.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var i6=O((VBe,n6)=>{n6.exports={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}});var Rc=O((qBe,Sc)=>{Sc.exports=e6();Sc.exports.Constants=ZC();Sc.exports.Errors=mS();Sc.exports.FileAttr=r6();Sc.exports.decoder=i6()});var o6=O((XBe,s6)=>{var eo=Rc(),X=eo.Constants;s6.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,l=0,c=0,u=0,d=0,E=0,f=0,T=0;t|=eo.isWin?2560:768,r|=X.FLG_EFS;let h={extraLen:0},p=R=>Math.max(0,R)>>>0,S=R=>Math.max(0,R)&65535,m=R=>Math.max(0,R)&255;return i=eo.fromDate2DOS(new Date),{get made(){return t},set made(R){t=R},get version(){return e},set version(R){e=R},get flags(){return r},set flags(R){r=R},get flags_efs(){return(r&X.FLG_EFS)>0},set flags_efs(R){R?r|=X.FLG_EFS:r&=~X.FLG_EFS},get flags_desc(){return(r&X.FLG_DESC)>0},set flags_desc(R){R?r|=X.FLG_DESC:r&=~X.FLG_DESC},get method(){return n},set method(R){switch(R){case X.STORED:this.version=10;case X.DEFLATED:default:this.version=20}n=R},get time(){return eo.fromDOS2Date(this.timeval)},set time(R){this.timeval=eo.fromDate2DOS(R)},get timeval(){return i},set timeval(R){i=p(R)},get timeHighByte(){return m(i>>>8)},get crc(){return s},set crc(R){s=p(R)},get compressedSize(){return o},set compressedSize(R){o=p(R)},get size(){return a},set size(R){a=p(R)},get fileNameLength(){return l},set fileNameLength(R){l=R},get extraLength(){return c},set extraLength(R){c=R},get extraLocalLength(){return h.extraLen},set extraLocalLength(R){h.extraLen=R},get commentLength(){return u},set commentLength(R){u=R},get diskNumStart(){return d},set diskNumStart(R){d=p(R)},get inAttr(){return E},set inAttr(R){E=p(R)},get attr(){return f},set attr(R){f=p(R)},get fileAttr(){return(f||0)>>16&4095},get offset(){return T},set offset(R){T=p(R)},get encrypted(){return(r&X.FLG_ENC)===X.FLG_ENC},get centralHeaderSize(){return X.CENHDR+l+c+u},get realDataOffset(){return T+X.LOCHDR+h.fnameLen+h.extraLen},get localHeader(){return h},loadLocalHeaderFromBinary:function(R){var A=R.slice(T,T+X.LOCHDR);if(A.readUInt32LE(0)!==X.LOCSIG)throw eo.Errors.INVALID_LOC();h.version=A.readUInt16LE(X.LOCVER),h.flags=A.readUInt16LE(X.LOCFLG),h.method=A.readUInt16LE(X.LOCHOW),h.time=A.readUInt32LE(X.LOCTIM),h.crc=A.readUInt32LE(X.LOCCRC),h.compressedSize=A.readUInt32LE(X.LOCSIZ),h.size=A.readUInt32LE(X.LOCLEN),h.fnameLen=A.readUInt16LE(X.LOCNAM),h.extraLen=A.readUInt16LE(X.LOCEXT);let g=T+X.LOCHDR+h.fnameLen,w=g+h.extraLen;return R.slice(g,w)},loadFromBinary:function(R){if(R.length!==X.CENHDR||R.readUInt32LE(0)!==X.CENSIG)throw eo.Errors.INVALID_CEN();t=R.readUInt16LE(X.CENVEM),e=R.readUInt16LE(X.CENVER),r=R.readUInt16LE(X.CENFLG),n=R.readUInt16LE(X.CENHOW),i=R.readUInt32LE(X.CENTIM),s=R.readUInt32LE(X.CENCRC),o=R.readUInt32LE(X.CENSIZ),a=R.readUInt32LE(X.CENLEN),l=R.readUInt16LE(X.CENNAM),c=R.readUInt16LE(X.CENEXT),u=R.readUInt16LE(X.CENCOM),d=R.readUInt16LE(X.CENDSK),E=R.readUInt16LE(X.CENATT),f=R.readUInt32LE(X.CENATX),T=R.readUInt32LE(X.CENOFF)},localHeaderToBinary:function(){var R=Buffer.alloc(X.LOCHDR);return R.writeUInt32LE(X.LOCSIG,0),R.writeUInt16LE(e,X.LOCVER),R.writeUInt16LE(r,X.LOCFLG),R.writeUInt16LE(n,X.LOCHOW),R.writeUInt32LE(i,X.LOCTIM),R.writeUInt32LE(s,X.LOCCRC),R.writeUInt32LE(o,X.LOCSIZ),R.writeUInt32LE(a,X.LOCLEN),R.writeUInt16LE(l,X.LOCNAM),R.writeUInt16LE(h.extraLen,X.LOCEXT),R},centralHeaderToBinary:function(){var R=Buffer.alloc(X.CENHDR+l+c+u);return R.writeUInt32LE(X.CENSIG,0),R.writeUInt16LE(t,X.CENVEM),R.writeUInt16LE(e,X.CENVER),R.writeUInt16LE(r,X.CENFLG),R.writeUInt16LE(n,X.CENHOW),R.writeUInt32LE(i,X.CENTIM),R.writeUInt32LE(s,X.CENCRC),R.writeUInt32LE(o,X.CENSIZ),R.writeUInt32LE(a,X.CENLEN),R.writeUInt16LE(l,X.CENNAM),R.writeUInt16LE(c,X.CENEXT),R.writeUInt16LE(u,X.CENCOM),R.writeUInt16LE(d,X.CENDSK),R.writeUInt16LE(E,X.CENATT),R.writeUInt32LE(f,X.CENATX),R.writeUInt32LE(T,X.CENOFF),R},toJSON:function(){let R=function(A){return A+" bytes"};return{made:t,version:e,flags:r,method:eo.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:R(o),size:R(a),fileNameLength:R(l),extraLength:R(c),commentLength:R(u),diskNumStart:d,inAttr:E,attr:f,offset:T,centralHeaderSize:R(X.CENHDR+l+c+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var l6=O((jBe,a6)=>{var Ac=Rc(),At=Ac.Constants;a6.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return At.ENDHDR+i},loadFromBinary:function(s){if((s.length!==At.ENDHDR||s.readUInt32LE(0)!==At.ENDSIG)&&(s.length<At.ZIP64HDR||s.readUInt32LE(0)!==At.ZIP64SIG))throw Ac.Errors.INVALID_END();s.readUInt32LE(0)===At.ENDSIG?(t=s.readUInt16LE(At.ENDSUB),e=s.readUInt16LE(At.ENDTOT),r=s.readUInt32LE(At.ENDSIZ),n=s.readUInt32LE(At.ENDOFF),i=s.readUInt16LE(At.ENDCOM)):(t=Ac.readBigUInt64LE(s,At.ZIP64SUB),e=Ac.readBigUInt64LE(s,At.ZIP64TOT),r=Ac.readBigUInt64LE(s,At.ZIP64SIZE),n=Ac.readBigUInt64LE(s,At.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(At.ENDHDR+i);return s.writeUInt32LE(At.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,At.ENDSUB),s.writeUInt16LE(e,At.ENDTOT),s.writeUInt32LE(r,At.ENDSIZ),s.writeUInt32LE(n,At.ENDOFF),s.writeUInt16LE(i,At.ENDCOM),s.fill(" ",At.ENDHDR),s},toJSON:function(){let s=function(o,a){let l=o.toString(16).toUpperCase();for(;l.length<a;)l="0"+l;return"0x"+l};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var ty=O(ey=>{ey.EntryHeader=o6();ey.MainHeader=l6()});var u6=O((KBe,c6)=>{c6.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),l=0;a.fill(0);for(var c=0;c<s.length;c++){var u=s[c];u.copy(a,l),l+=u.length}n&&n(a)}),i.end(t)}}}});var f6=O((JBe,d6)=>{var Oye=+(process.versions?process.versions.node:"").split(".")[0]||0;d6.exports=function(t,e){var r=require("zlib");let n=Oye>=15&&e>0?{maxOutputLength:e}:{};return{inflate:function(){return r.inflateRawSync(t,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],a=0;s.on("data",function(l){o.push(l),a+=l.length}),s.on("end",function(){var l=Buffer.alloc(a),c=0;l.fill(0);for(var u=0;u<o.length;u++){var d=o[u];d.copy(l,c),c+=d.length}i&&i(l)}),s.end(t)}}}});var S6=O((QBe,p6)=>{"use strict";var{randomFillSync:E6}=require("crypto"),Cye=mS(),yye=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=e>>>1^3988292384:e>>>=1;return e>>>0}),T6=(t,e)=>Math.imul(t,e)>>>0,h6=(t,e)=>yye[(t^e)&255]^t>>>8,Jd=()=>typeof E6=="function"?E6(Buffer.alloc(12)):Jd.node();Jd.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var _S={genSalt:Jd};function IS(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}IS.prototype.updateKeys=function(t){let e=this.keys;return e[0]=h6(e[0],t),e[1]+=e[0]&255,e[1]=T6(e[1],134775813)+1,e[2]=h6(e[2],e[1]>>>24),t};IS.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return T6(t,t^1)>>8&255};function bye(t){let e=new IS(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function wye(t){let e=new IS(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function Lye(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=bye(r),i=n(t.slice(0,12)),s=(e.flags&8)===8?e.timeHighByte:e.crc>>>24;if(i[11]!==s)throw Cye.WRONG_PASSWORD();return n(t.slice(12))}function Dye(t){Buffer.isBuffer(t)&&t.length>=12?_S.genSalt=function(){return t.slice(0,12)}:t==="node"?_S.genSalt=Jd.node:_S.genSalt=Jd}function Pye(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=wye(r),s=_S.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}p6.exports={decrypt:Lye,encrypt:Pye,_salter:Dye}});var R6=O(gS=>{gS.Deflater=u6();gS.Inflater=f6();gS.ZipCrypto=S6()});var ny=O((eFe,A6)=>{var ze=Rc(),xye=ty(),Ot=ze.Constants,ry=R6();A6.exports=function(t,e){var r=new xye.EntryHeader,n=Buffer.alloc(0),i=Buffer.alloc(0),s=!1,o=null,a=Buffer.alloc(0),l=Buffer.alloc(0),c=!0;let u=t,d=typeof u.decoder=="object"?u.decoder:ze.decoder;c=d.hasOwnProperty("efs")?d.efs:!1;function E(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(l=r.loadLocalHeaderFromBinary(e),e.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(R){if(r.flags_desc){let A={},g=r.realDataOffset+r.compressedSize;if(e.readUInt32LE(g)==Ot.LOCSIG||e.readUInt32LE(g)==Ot.CENSIG)throw ze.Errors.DESCRIPTOR_NOT_EXIST();if(e.readUInt32LE(g)==Ot.EXTSIG)A.crc=e.readUInt32LE(g+Ot.EXTCRC),A.compressedSize=e.readUInt32LE(g+Ot.EXTSIZ),A.size=e.readUInt32LE(g+Ot.EXTLEN);else if(e.readUInt16LE(g+12)===19280)A.crc=e.readUInt32LE(g+Ot.EXTCRC-4),A.compressedSize=e.readUInt32LE(g+Ot.EXTSIZ-4),A.size=e.readUInt32LE(g+Ot.EXTLEN-4);else throw ze.Errors.DESCRIPTOR_UNKNOWN();if(A.compressedSize!==r.compressedSize||A.size!==r.size||A.crc!==r.crc)throw ze.Errors.DESCRIPTOR_FAULTY();if(ze.crc32(R)!==A.crc)return!1}else if(ze.crc32(R)!==r.localHeader.crc)return!1;return!0}function T(R,A,g){if(typeof A>"u"&&typeof R=="string"&&(g=R,R=void 0),s)return R&&A&&A(Buffer.alloc(0),ze.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var w=E();if(w.length===0)return R&&A&&A(w),w;if(r.encrypted){if(typeof g!="string"&&!Buffer.isBuffer(g))throw ze.Errors.INVALID_PASS_PARAM();w=ry.ZipCrypto.decrypt(w,r,g)}var I=Buffer.alloc(r.size);switch(r.method){case ze.Constants.STORED:if(w.copy(I),f(I))return R&&A&&A(I),I;throw R&&A&&A(I,ze.Errors.BAD_CRC()),ze.Errors.BAD_CRC();case ze.Constants.DEFLATED:var D=new ry.Inflater(w,r.size);if(R)D.inflateAsync(function(b){b.copy(b,0),A&&(f(b)?A(b):A(b,ze.Errors.BAD_CRC()))});else{if(D.inflate(I).copy(I,0),!f(I))throw ze.Errors.BAD_CRC(`"${d.decode(n)}"`);return I}break;default:throw R&&A&&A(Buffer.alloc(0),ze.Errors.UNKNOWN_METHOD()),ze.Errors.UNKNOWN_METHOD()}}function h(R,A){if((!o||!o.length)&&Buffer.isBuffer(e))return R&&A&&A(E()),E();if(o.length&&!s){var g;switch(r.method){case ze.Constants.STORED:return r.compressedSize=r.size,g=Buffer.alloc(o.length),o.copy(g),R&&A&&A(g),g;default:case ze.Constants.DEFLATED:var w=new ry.Deflater(o);if(R)w.deflateAsync(function(D){g=Buffer.alloc(D.length),r.compressedSize=D.length,D.copy(g),A&&A(g)});else{var I=w.deflate();return r.compressedSize=I.length,I}w=null;break}}else if(R&&A)A(Buffer.alloc(0));else return Buffer.alloc(0)}function p(R,A){return(R.readUInt32LE(A+4)<<4)+R.readUInt32LE(A)}function S(R){try{for(var A=0,g,w,I;A+4<R.length;)g=R.readUInt16LE(A),A+=2,w=R.readUInt16LE(A),A+=2,I=R.slice(A,A+w),A+=w,Ot.ID_ZIP64===g&&m(I)}catch{throw ze.Errors.EXTRA_FIELD_PARSE_ERROR()}}function m(R){var A,g,w,I;R.length>=Ot.EF_ZIP64_SCOMP&&(A=p(R,Ot.EF_ZIP64_SUNCOMP),r.size===Ot.EF_ZIP64_OR_32&&(r.size=A)),R.length>=Ot.EF_ZIP64_RHO&&(g=p(R,Ot.EF_ZIP64_SCOMP),r.compressedSize===Ot.EF_ZIP64_OR_32&&(r.compressedSize=g)),R.length>=Ot.EF_ZIP64_DSN&&(w=p(R,Ot.EF_ZIP64_RHO),r.offset===Ot.EF_ZIP64_OR_32&&(r.offset=w)),R.length>=Ot.EF_ZIP64_DSN+4&&(I=R.readUInt32LE(Ot.EF_ZIP64_DSN),r.diskNumStart===Ot.EF_ZIP64_OR_16&&(r.diskNumStart=I))}return{get entryName(){return d.decode(n)},get rawEntryName(){return n},set entryName(R){n=ze.toBuffer(R,d.encode);var A=n[n.length-1];s=A===47||A===92,r.fileNameLength=n.length},get efs(){return typeof c=="function"?c(this.entryName):c},get extra(){return a},set extra(R){a=R,r.extraLength=R.length,S(R)},get comment(){return d.decode(i)},set comment(R){if(i=ze.toBuffer(R,d.encode),r.commentLength=i.length,i.length>65535)throw ze.Errors.COMMENT_TOO_LONG()},get name(){var R=d.decode(n);return s?R.substr(R.length-1).split("/").pop():R.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return h(!1,null)},getCompressedDataAsync:function(R){h(!0,R)},setData:function(R){o=ze.toBuffer(R,ze.decoder.encode),!s&&o.length?(r.size=o.length,r.method=ze.Constants.DEFLATED,r.crc=ze.crc32(R),r.changed=!0):r.method=ze.Constants.STORED},getData:function(R){return r.changed?o:T(!1,null,R)},getDataAsync:function(R,A){r.changed?R(o):T(!0,R,A)},set attr(R){r.attr=R},get attr(){return r.attr},set header(R){r.loadFromBinary(R)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=a.length;var R=r.centralHeaderToBinary(),A=ze.Constants.CENHDR;return n.copy(R,A),A+=n.length,a.copy(R,A),A+=r.extraLength,i.copy(R,A),R},packLocalHeader:function(){let R=0;r.flags_efs=this.efs,r.extraLocalLength=l.length;let A=r.localHeaderToBinary(),g=Buffer.alloc(A.length+n.length+r.extraLocalLength);return A.copy(g,R),R+=A.length,n.copy(g,R),R+=n.length,l.copy(g,R),R+=l.length,g},toJSON:function(){let R=function(A){return"<"+(A&&A.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:R(e),data:R(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var I6=O((tFe,_6)=>{var m6=ny(),Mye=ty(),Ar=Rc();_6.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new Mye.MainHeader,o=!1,a=null;let l=new Set,c=e,{noSort:u,decoder:d}=c;t?T(c.readEntries):o=!0;function E(){let p=new Set;for(let S of Object.keys(n)){let m=S.split("/");if(m.pop(),!!m.length)for(let R=0;R<m.length;R++){let A=m.slice(0,R+1).join("/")+"/";p.add(A)}}for(let S of p)if(!(S in n)){let m=new m6(c);m.entryName=S,m.attr=16,m.temporary=!0,r.push(m),n[m.entryName]=m,l.add(m)}}function f(){if(o=!0,n={},s.diskEntries>(t.length-s.offset)/Ar.Constants.CENHDR)throw Ar.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(s.diskEntries);for(var p=s.offset,S=0;S<r.length;S++){var m=p,R=new m6(c,t);R.header=t.slice(m,m+=Ar.Constants.CENHDR),R.entryName=t.slice(m,m+=R.header.fileNameLength),R.header.extraLength&&(R.extra=t.slice(m,m+=R.header.extraLength)),R.header.commentLength&&(R.comment=t.slice(m,m+R.header.commentLength)),p+=R.header.centralHeaderSize,r[S]=R,n[R.entryName]=R}l.clear(),E()}function T(p){var S=t.length-Ar.Constants.ENDHDR,m=Math.max(0,S-65535),R=m,A=t.length,g=-1,w=0;for(typeof c.trailingSpace=="boolean"&&c.trailingSpace&&(m=0),S;S>=R;S--)if(t[S]===80){if(t.readUInt32LE(S)===Ar.Constants.ENDSIG){g=S,w=S,A=S+Ar.Constants.ENDHDR,R=S-Ar.Constants.END64HDR;continue}if(t.readUInt32LE(S)===Ar.Constants.END64SIG){R=m;continue}if(t.readUInt32LE(S)===Ar.Constants.ZIP64SIG){g=S,A=S+Ar.readBigUInt64LE(t,S+Ar.Constants.ZIP64SIZE)+Ar.Constants.ZIP64LEAD;break}}if(g==-1)throw Ar.Errors.INVALID_FORMAT();s.loadFromBinary(t.slice(g,A)),s.commentLength&&(i=t.slice(w+Ar.Constants.ENDHDR)),p&&f()}function h(){r.length>1&&!u&&r.sort((p,S)=>p.entryName.toLowerCase().localeCompare(S.entryName.toLowerCase()))}return{get entries(){return o||f(),r.filter(p=>!l.has(p))},get comment(){return d.decode(i)},set comment(p){i=Ar.toBuffer(p,d.encode),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(p){this.entries.forEach(p)},getEntry:function(p){return o||f(),n[p]||null},setEntry:function(p){o||f(),r.push(p),n[p.entryName]=p,s.totalEntries=r.length},deleteFile:function(p,S=!0){o||f();let m=n[p];this.getEntryChildren(m,S).map(A=>A.entryName).forEach(this.deleteEntry)},deleteEntry:function(p){o||f();let S=n[p],m=r.indexOf(S);m>=0&&(r.splice(m,1),delete n[p],s.totalEntries=r.length)},getEntryChildren:function(p,S=!0){if(o||f(),typeof p=="object")if(p.isDirectory&&S){let m=[],R=p.entryName;for(let A of r)A.entryName.startsWith(R)&&m.push(A);return m}else return[p];return[]},getChildCount:function(p){if(p&&p.isDirectory){let S=this.getEntryChildren(p);return S.includes(p)?S.length-1:S.length}return 0},compressToBuffer:function(){o||f(),h();let p=[],S=[],m=0,R=0;s.size=0,s.offset=0;let A=0;for(let I of this.entries){let D=I.getCompressedData();I.header.offset=R;let b=I.packLocalHeader(),P=b.length+D.length;R+=P,p.push(b),p.push(D);let M=I.packCentralHeader();S.push(M),s.size+=M.length,m+=P+M.length,A++}m+=s.mainHeaderSize,s.offset=R,s.totalEntries=A,R=0;let g=Buffer.alloc(m);for(let I of p)I.copy(g,R),R+=I.length;for(let I of S)I.copy(g,R),R+=I.length;let w=s.toBinary();return i&&i.copy(w,Ar.Constants.ENDHDR),w.copy(g,R),t=g,o=!1,g},toAsyncBuffer:function(p,S,m,R){try{o||f(),h();let A=[],g=[],w=0,I=0,D=0;s.size=0,s.offset=0;let b=function(P){if(P.length>0){let M=P.shift(),B=M.entryName+M.extra.toString();m&&m(B),M.getCompressedDataAsync(function(F){R&&R(B),M.header.offset=I;let Y=M.packLocalHeader(),J=Y.length+F.length;I+=J,A.push(Y),A.push(F);let re=M.packCentralHeader();g.push(re),s.size+=re.length,w+=J+re.length,D++,b(P)})}else{w+=s.mainHeaderSize,s.offset=I,s.totalEntries=D,I=0;let M=Buffer.alloc(w);A.forEach(function(F){F.copy(M,I),I+=F.length}),g.forEach(function(F){F.copy(M,I),I+=F.length});let B=s.toBinary();i&&i.copy(B,Ar.Constants.ENDHDR),B.copy(M,I),t=M,o=!1,p(M)}};b(Array.from(this.entries))}catch(A){S(A)}}}}});var O6=O((rFe,N6)=>{var mt=Rc(),Ct=require("path"),vye=ny(),Uye=I6(),Ta=(...t)=>mt.findLast(t,e=>typeof e=="boolean"),g6=(...t)=>mt.findLast(t,e=>typeof e=="string"),Bye=(...t)=>mt.findLast(t,e=>typeof e=="function"),Fye={noSort:!1,readEntries:!1,method:mt.Constants.NONE,fs:null};N6.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),Fye);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=mt.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new mt(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=mt.decoder),t&&typeof t=="string")if(i.fs.existsSync(t))n.method=mt.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw mt.Errors.INVALID_FILENAME();let s=new Uye(r,n),{canonical:o,sanitize:a,zipnamefix:l}=mt;function c(f){if(f&&s){var T;if(typeof f=="string"&&(T=s.getEntry(Ct.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(T=s.getEntry(f.entryName)),T)return T}return null}function u(f){let{join:T,normalize:h,sep:p}=Ct.posix;return T(".",h(p+f.split("\\").join(p)+p))}function d(f){return f instanceof RegExp?(function(T){return function(h){return T.test(h)}})(f):typeof f!="function"?()=>!0:f}let E=(f,T)=>{let h=T.slice(-1);return h=h===i.sep?i.sep:"",Ct.relative(f,T)+h};return{readFile:function(f,T){var h=c(f);return h&&h.getData(T)||null},childCount:function(f){let T=c(f);if(T)return s.getChildCount(T)},readFileAsync:function(f,T){var h=c(f);h?h.getDataAsync(T):T(null,"getEntry failed for:"+f)},readAsText:function(f,T){var h=c(f);if(h){var p=h.getData();if(p&&p.length)return p.toString(T||"utf8")}return""},readAsTextAsync:function(f,T,h){var p=c(f);p?p.getDataAsync(function(S,m){if(m){T(S,m);return}S&&S.length?T(S.toString(h||"utf8")):T("")}):T("")},deleteFile:function(f,T=!0){var h=c(f);h&&s.deleteFile(h.entryName,T)},deleteEntry:function(f){var T=c(f);T&&s.deleteEntry(T.entryName)},addZipComment:function(f){s.comment=f},getZipComment:function(){return s.comment||""},addZipEntryComment:function(f,T){var h=c(f);h&&(h.comment=T)},getZipEntryComment:function(f){var T=c(f);return T&&T.comment||""},updateFile:function(f,T){var h=c(f);h&&h.setData(T)},addLocalFile:function(f,T,h,p){if(i.fs.existsSync(f)){T=T?u(T):"";let S=Ct.win32.basename(Ct.win32.normalize(f));T+=h||S;let m=i.fs.statSync(f),R=m.isFile()?i.fs.readFileSync(f):Buffer.alloc(0);m.isDirectory()&&(T+=i.sep),this.addFile(T,R,p,m)}else throw mt.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,T){f=typeof f=="object"?f:{localPath:f};let h=Ct.resolve(f.localPath),{comment:p}=f,{zipPath:S,zipName:m}=f,R=this;i.fs.stat(h,function(A,g){if(A)return T(A,!1);S=S?u(S):"";let w=Ct.win32.basename(Ct.win32.normalize(h));if(S+=m||w,g.isFile())i.fs.readFile(h,function(I,D){return I?T(I,!1):(R.addFile(S,D,p,g),setImmediate(T,void 0,!0))});else if(g.isDirectory())return S+=i.sep,R.addFile(S,Buffer.alloc(0),p,g),setImmediate(T,void 0,!0)})},addLocalFolder:function(f,T,h){if(h=d(h),T=T?u(T):"",f=Ct.normalize(f),i.fs.existsSync(f)){let p=i.findFiles(f),S=this;if(p.length)for(let m of p){let R=Ct.join(T,E(f,m));h(R)&&S.addLocalFile(m,Ct.dirname(R))}}else throw mt.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,T,h,p){p=d(p),h=h?u(h):"",f=Ct.normalize(f);var S=this;i.fs.open(f,"r",function(m){if(m&&m.code==="ENOENT")T(void 0,mt.Errors.FILE_NOT_FOUND(f));else if(m)T(void 0,m);else{var R=i.findFiles(f),A=-1,g=function(){if(A+=1,A<R.length){var w=R[A],I=E(f,w).split("\\").join("/");I=I.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),p(I)?i.fs.stat(w,function(D,b){D&&T(void 0,D),b.isFile()?i.fs.readFile(w,function(P,M){P?T(void 0,P):(S.addFile(h+I,M,"",b),g())}):(S.addFile(h+I+"/",Buffer.alloc(0),"",b),g())}):process.nextTick(()=>{g()})}else T(!0,void 0)};g()}})},addLocalFolderAsync2:function(f,T){let h=this;f=typeof f=="object"?f:{localPath:f},localPath=Ct.resolve(u(f.localPath));let{zipPath:p,filter:S,namefix:m}=f;S instanceof RegExp?S=(function(g){return function(w){return g.test(w)}})(S):typeof S!="function"&&(S=function(){return!0}),p=p?u(p):"",m=="latin1"&&(m=g=>g.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof m!="function"&&(m=g=>g);let R=g=>Ct.join(p,m(E(localPath,g))),A=g=>Ct.win32.basename(Ct.win32.normalize(m(g)));i.fs.open(localPath,"r",function(g){g&&g.code==="ENOENT"?T(void 0,mt.Errors.FILE_NOT_FOUND(localPath)):g?T(void 0,g):i.findFilesAsync(localPath,function(w,I){if(w)return T(w);I=I.filter(D=>S(R(D))),I.length||T(void 0,!1),setImmediate(I.reverse().reduce(function(D,b){return function(P,M){if(P||M===!1)return setImmediate(D,P,!1);h.addLocalFileAsync({localPath:b,zipPath:Ct.dirname(R(b)),zipName:A(b)},D)}},T))})})},addLocalFolderPromise:function(f,T){return new Promise((h,p)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},T),(S,m)=>{S&&p(S),m&&h(this)})})},addFile:function(f,T,h,p){f=l(f);let S=c(f),m=S!=null;m||(S=new vye(n),S.entryName=f),S.comment=h||"";let R=typeof p=="object"&&p instanceof i.fs.Stats;R&&(S.header.time=p.mtime);var A=S.isDirectory?16:0;let g=S.isDirectory?16384:32768;return R?g|=4095&p.mode:typeof p=="number"?g|=4095&p:g|=S.isDirectory?493:420,A=(A|g<<16)>>>0,S.attr=A,S.setData(T),m||s.setEntry(S),S},getEntries:function(f){return s.password=f,s?s.entries:[]},getEntry:function(f){return c(f)},getEntryCount:function(){return s.getEntryCount()},forEach:function(f){return s.forEach(f)},extractEntryTo:function(f,T,h,p,S,m){p=Ta(!1,p),S=Ta(!1,S),h=Ta(!0,h),m=g6(S,m);var R=c(f);if(!R)throw mt.Errors.NO_ENTRY();var A=o(R.entryName),g=a(T,m&&!R.isDirectory?m:h?A:Ct.basename(A));if(R.isDirectory){var w=s.getEntryChildren(R);return w.forEach(function(b){if(b.isDirectory)return;var P=b.getData();if(!P)throw mt.Errors.CANT_EXTRACT_FILE();var M=o(b.entryName),B=a(T,h?M:Ct.basename(M));let F=S?b.header.fileAttr:void 0;i.writeFileTo(B,P,p,F)}),!0}var I=R.getData(s.password);if(!I)throw mt.Errors.CANT_EXTRACT_FILE();if(i.fs.existsSync(g)&&!p)throw mt.Errors.CANT_OVERRIDE();let D=S?f.header.fileAttr:void 0;return i.writeFileTo(g,I,p,D),!0},test:function(f){if(!s)return!1;for(var T in s.entries)try{if(T.isDirectory)continue;var h=s.entries[T].getData(f);if(!h)return!1}catch{return!1}return!0},extractAllTo:function(f,T,h,p){if(h=Ta(!1,h),p=g6(h,p),T=Ta(!1,T),!s)throw mt.Errors.NO_ZIP();s.entries.forEach(function(S){var m=a(f,o(S.entryName));if(S.isDirectory){i.makeDir(m);return}var R=S.getData(p);if(!R)throw mt.Errors.CANT_EXTRACT_FILE();let A=h?S.header.fileAttr:void 0;i.writeFileTo(m,R,T,A);try{i.fs.utimesSync(m,S.header.time,S.header.time)}catch{throw mt.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,T,h,p){if(p=Bye(T,h,p),h=Ta(!1,h),T=Ta(!1,T),!p)return new Promise((g,w)=>{this.extractAllToAsync(f,T,h,function(I){I?w(I):g(this)})});if(!s){p(mt.Errors.NO_ZIP());return}f=Ct.resolve(f);let S=g=>a(f,Ct.normalize(o(g.entryName))),m=(g,w)=>new Error(g+': "'+w+'"'),R=[],A=[];s.entries.forEach(g=>{g.isDirectory?R.push(g):A.push(g)});for(let g of R){let w=S(g),I=h?g.header.fileAttr:void 0;try{i.makeDir(w),I&&i.fs.chmodSync(w,I),i.fs.utimesSync(w,g.header.time,g.header.time)}catch{p(m("Unable to create folder",w))}}A.reverse().reduce(function(g,w){return function(I){if(I)g(I);else{let D=Ct.normalize(o(w.entryName)),b=a(f,D);w.getDataAsync(function(P,M){if(M)g(M);else if(!P)g(mt.Errors.CANT_EXTRACT_FILE());else{let B=h?w.header.fileAttr:void 0;i.writeFileToAsync(b,P,T,B,function(F){F||g(m("Unable to write file",b)),i.fs.utimes(b,w.header.time,w.header.time,function(Y){Y?g(m("Unable to set times",b)):g()})})}})}}},p)()},writeZip:function(f,T){if(arguments.length===1&&typeof f=="function"&&(T=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var h=s.compressToBuffer();if(h){var p=i.writeFileTo(f,h,!0);typeof T=="function"&&T(p?null:new Error("failed"),"")}}},writeZipPromise:function(f,T){let{overwrite:h,perm:p}=Object.assign({overwrite:!0},T);return new Promise((S,m)=>{!f&&n.filename&&(f=n.filename),f||m("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(R=>{let A=g=>g?S(g):m("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(f,R,h,p,A)},m)})},toBufferPromise:function(){return new Promise((f,T)=>{s.toAsyncBuffer(f,T)})},toBuffer:function(f,T,h,p){return typeof f=="function"?(s.toAsyncBuffer(f,T,h,p),null):s.compressToBuffer()}}}});var pa,C6=H(()=>{"use strict";pa=class{constructor(e){this._isSheet=!1;this._workbookId=0;this._recId=null;this._workbookName=null;this._inCellXf=!1;this._inCellStyleXf=!1;this._inNumberFormat=!1;this._parentCellStyleXf=0;this._numberFormatIndex=0;this._format=0;this._formatString=null;this._sharedStringValue=null;this._sharedStringUniqueCount=0;this._cellType=0;this._intValue=0;this._doubleVal=0;this._boolValue=!1;this._stringValue=null;this._columnNum=-1;this._xfIndex=0;this._readCell=!1;this._rowIndex=-1;this._recordStart=0;this._xfIndexToNumFmtId=[];this._customNumFmts=new Set;if(!Buffer.isBuffer(e))throw new Error("BiffReaderWriter expects a Buffer");this.buffer=e,this.pos=0,this.length=e.length}_tryReadVariableValue(){if(this.pos>=this.length)return null;let e=this.buffer[this.pos++],r=(e&127)>>>0;if((e&128)===0)return r;if(this.pos>=this.length)return null;let n=this.buffer[this.pos++];if(r=((n&127)<<7|r)>>>0,(n&128)===0)return r;if(this.pos>=this.length)return null;let i=this.buffer[this.pos++];return r=((i&127)<<14|r)>>>0,(i&128)===0?r:this.pos>=this.length?null:(r=((this.buffer[this.pos++]&127)<<21|r)>>>0,r)}_getDWord(e){return this.buffer.readUInt32LE(this._recordStart+e)}_getInt32(e){return this.buffer.readInt32LE(this._recordStart+e)}_getWord(e){return this.buffer.readUInt16LE(this._recordStart+e)}_getByte(e){return this.buffer[this._recordStart+e]}_getDouble(e){return this.buffer.readDoubleLE(this._recordStart+e)}_getString(e,r){let n=this._recordStart+e,i=n+r*2;return i>this.buffer.length?"":this.buffer.toString("utf16le",n,i)}_getNullableString(e){let r=this._getDWord(e.val);if(e.val+=4,r===4294967295)return null;let n=this._getString(e.val,r);return e.val+=r*2,n}readWorkbook(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;if(this._recordStart=n,this.pos+=r,this._isSheet=!1,e===156){this._workbookId=this._getDWord(4);let i={val:8};this._recId=this._getNullableString(i);let s=this._getDWord(i.val);this._workbookName=this._getString(i.val+4,s),this._isSheet=!0}return!0}readSharedStrings(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;if(this._recordStart=n,this.pos+=r,this._sharedStringValue=null,e===19){let i=this._getDWord(1);this._sharedStringValue=this._getString(5,i)}else e===159&&(this._sharedStringUniqueCount=this._getDWord(4));return!0}readStyles(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;this._recordStart=n,this.pos+=r;let i=617,s=618,o=626,a=627,l=615,c=616,u=47,d=44;switch(e){case i:this._inCellXf=!0;break;case s:this._inCellXf=!1;break;case o:this._inCellStyleXf=!0;break;case a:this._inCellStyleXf=!1;break;case l:this._inNumberFormat=!0;break;case c:this._inNumberFormat=!1;break;case u:this._inCellXf&&(this._parentCellStyleXf=this._getWord(0),this._numberFormatIndex=this._getWord(2),this._xfIndexToNumFmtId.push(this._numberFormatIndex));break;case d:if(this._inNumberFormat){this._format=this._getWord(0);let E=this._getDWord(2);this._formatString=this._getString(6,E);let f=this._formatString.toLowerCase();(f.includes("yy")||f.includes("mm")||f.includes("dd")||f.includes("h:mm"))&&this._customNumFmts.add(this._format)}break}return!0}_getRkNumber(e){let r=this._getByte(e),n=0;if((r&2)!==0)n=this._getInt32(e)>>2;else{let s=this._getInt32(e)&4294967292,o=Buffer.allocUnsafe(8);o.writeInt32LE(0,0),o.writeInt32LE(s,4),n=o.readDoubleLE(0)}return(r&1)!==0&&(n/=100),n}readWorksheet(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;this._recordStart=n,this.pos+=r,this._readCell=!1,this._columnNum=-1;let i=0,s=1,o=2,a=3,l=4,c=5,u=6,d=7,E=8,f=9,T=10,h=11;switch(e){case i:this._rowIndex=this._getInt32(0);break;case s:case a:case h:this._readCell=!0,this._cellType=0;break;case o:this._doubleVal=this._getRkNumber(8),this._readCell=!0,this._cellType=3;break;case l:case T:this._boolValue=this._getByte(8)===1,this._readCell=!0,this._cellType=4;break;case f:case c:this._doubleVal=this._getDouble(8),this._readCell=!0,this._cellType=3;break;case u:case E:{let p=this._getDWord(8);this._stringValue=this._getString(12,p),this._readCell=!0,this._cellType=5;break}case d:this._intValue=this._getDWord(8),this._readCell=!0,this._cellType=2;break}return this._readCell&&(this._columnNum=this._getDWord(0),this._xfIndex=this._getDWord(4)&16777215),!0}}});var y6,NS,b6=H(()=>{"use strict";y6=q(O6());QC();C6();NS=class extends pc{constructor(){super();this.zip=null;this.sharedStrings=[];this.styles=[];this.sheetNames=[];this.sheets=[];this._currentSheetIndex=-1;this._reader=null;this._currentRow=[];this._pendingRowIndex=-1;this._eof=!1;this.xfIdToNumFmtId=[];this.customDateFormats=null}async open(r,n=!0){this.zip=new y6.default(r);let i=this.zip.getEntry("xl/workbook.bin");if(i){let a=i.getData(),l=new pa(a);for(;l.readWorkbook();)if(l._isSheet){let c=l._workbookName,u=l._recId;this.sheetNames.push(c),this.sheets.push({name:c,rId:u,path:null})}}let s=this.zip.getEntry("xl/_rels/workbook.bin.rels");if(s){let a=s.getData().toString("utf8"),l=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,c,u={};for(;(c=l.exec(a))!==null;)u[c[1]]=c[2];for(let d of this.sheets){let E=u[d.rId];E&&(E.startsWith("/")&&(E=E.substring(1)),E.startsWith("xl/")||(E="xl/"+E),d.path=E)}}if(n){let a="xl/sharedStrings.bin";this.zip.getEntry(a)&&this._readSharedStrings(a)}let o="xl/styles.bin";this.zip.getEntry(o)&&this._readStyles(o),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1}_readSharedStrings(r){let n=this.zip.getEntry(r);if(!n)return;let i=new pa(n.getData());for(;i.readSharedStrings();)i._sharedStringValue!==null&&this.sharedStrings.push(i._sharedStringValue)}_readStyles(r){let n=this.zip.getEntry(r);if(!n)return;let i=new pa(n.getData());for(;i.readStyles(););this.xfIdToNumFmtId=i._xfIndexToNumFmtId,this.customDateFormats=i._customNumFmts}getSheetNames(){return this.sheetNames}read(){if(this._currentSheetIndex===-1&&(this._currentSheetIndex=0,!this._initSheet(0))||this._eof)return!1;for(this._currentRow=[];;){if(!this._reader.readWorksheet())return this._eof=!0,!0;if(this._reader._rowIndex!==-1&&this._reader._rowIndex!==this._pendingRowIndex)return this._pendingRowIndex=this._reader._rowIndex,!0;if(this._reader._readCell){let n=this._reader._columnNum,i=null;switch(this._reader._cellType){case 2:i=this.sharedStrings[this._reader._intValue];break;case 3:{i=this._reader._doubleVal;let s=this._reader._xfIndex,o=0;if(this.xfIdToNumFmtId&&s<this.xfIdToNumFmtId.length&&(o=this.xfIdToNumFmtId[s]),o>=14&&o<=22||o>=45&&o<=47||this.customDateFormats&&this.customDateFormats.has(o))try{i=this.getDateTimeFromOaDate(i)}catch{}break}case 4:i=this._reader._boolValue;break;case 5:i=this._reader._stringValue;break;default:i=null}this._currentRow[n]=i,n>=this.fieldCount&&(this.fieldCount=n+1)}}}_initSheet(r){if(r>=this.sheets.length)return!1;let n=this.sheets[r],i=this.zip.getEntry(n.path);if(!i)return!1;for(this._reader=new pa(i.getData()),this._eof=!1,this._pendingRowIndex=-1;this._reader.readWorksheet();)if(this._reader._rowIndex!==-1)return this._pendingRowIndex=this._reader._rowIndex,!0;return this._eof=!0,!1}getValue(r){return r<0||r>=this._currentRow.length?null:this._currentRow[r]}}});var L6={};_t(L6,{ReaderFactory:()=>OS,default:()=>Gye});var w6,OS,Gye,D6=H(()=>{"use strict";w6=q(require("path"));qX();b6();OS=class{static create(e){let r=w6.extname(e).toLowerCase();if(r===".xlsx")return new AS;if(r===".xlsb")return new NS;throw new Error(`Unsupported extension: ${r}`)}},Gye=OS});var M6={};_t(M6,{ColumnTypeChooser:()=>mc,NetezzaDataType:()=>Oi,NetezzaImporter:()=>CS,importDataToNetezza:()=>oy});async function oy(t,e,r,n,i){let s=Date.now(),o=null;try{if(!t||!Hn.existsSync(t))return{success:!1,message:`Source file not found: ${t}`};if(!e)return{success:!1,message:"Target table name is required"};if(!r||!r.host)return{success:!1,message:"Connection details are required"};let l=Hn.statSync(t).size,c=Sa.extname(t).toLowerCase(),u=[".csv",".txt",".xlsx",".xlsb"];if(!u.includes(c))return{success:!1,message:`Unsupported file format: ${c}. Supported: ${u.join(", ")}`};n?.("Starting import process..."),n?.(`  Source file: ${t}`),n?.(`  Target table: ${e}`),n?.(`  File size: ${l.toLocaleString()} bytes`),n?.(`  File format: ${c}`);let d=new CS(t,e);await d.analyzeDataTypes(n),n?.("Preparing in-memory data stream...");let E=await d.createDataStream(n),f=d.getVirtualFileName();n?.(`Registered virtual stream: ${f}`);let T=Ir();T&&T.registerImportStream?T.registerImportStream(f,E):n?.("Warning: NzConnection driver does not support stream registry. Import might fail.");let h=d.generateCreateTableSql();n?.("Generated SQL:"),n?.(h),n?.("Connecting to Netezza...");let p={host:r.host,port:r.port||5480,database:r.database,user:r.user,password:r.password},S=Ir();o=new S(p),await o.connect();try{n?.("Executing CREATE TABLE with EXTERNAL data...");let R=o.createCommand(h);R.commandTimeout=i||3600;let A=d.getRowsCount();o.on("importProgress",g=>{let w=g,I=A>0?Math.round(w.percentComplete/100*A):0;n?.(`Importing: ${w.percentComplete}% complete (${I.toLocaleString()} / ${A.toLocaleString()} rows)`)}),await R.execute(),n?.("Import completed successfully")}finally{await o.close(),T&&T.unregisterImportStream&&T.unregisterImportStream(f)}let m=(Date.now()-s)/1e3;return{success:!0,message:"Import completed successfully",details:{sourceFile:t,targetTable:e,fileSize:l,format:c,rowsProcessed:d.getRowsCount(),rowsInserted:d.getRowsCount(),processingTime:`${m.toFixed(1)}s`,columns:d.getSqlHeaders().length,detectedDelimiter:d.getCsvDelimiter()}}}catch(a){let l=(Date.now()-s)/1e3;return{success:!1,message:`Import failed: ${a instanceof Error?a.message:String(a)}`,details:{processingTime:`${l.toFixed(1)}s`}}}finally{if(o&&o._connected)try{await o.close()}catch{}}}var Hn,Sa,x6,P6,iy,Oi,mc,sy,CS,yS=H(()=>{"use strict";Hn=q(require("fs")),Sa=q(require("path")),x6=require("stream"),P6=()=>new Promise(t=>setTimeout(t,0));try{let t=(D6(),xa(L6));iy=t.default||t.ReaderFactory||t}catch(t){console.error("libs/ExcelHelpersTs/ReaderFactory module not available",t)}Oi=class{constructor(e,r,n,i){this.dbType=e;this.precision=r;this.scale=n;this.length=i}toString(){return["BIGINT","DATE","DATETIME"].includes(this.dbType)?this.dbType:this.dbType==="NUMERIC"?`${this.dbType}(${this.precision},${this.scale})`:this.dbType==="NVARCHAR"?`${this.dbType}(${this.length})`:`TODO !!! ${this.dbType}`}},mc=class{constructor(e="."){this.decimalDelimInCsv=".";this.firstTime=!0;this.currentType=new Oi("BIGINT"),this.decimalDelimInCsv=e}getType(e){let r=this.currentType.dbType,n=e.length;if(r==="BIGINT"&&/^\d+$/.test(e)&&n<15)return this.firstTime=!1,new Oi("BIGINT");let i=this.decimalDelimInCsv==="."?"\\.":this.decimalDelimInCsv,s=(e.match(new RegExp(`${i}`,"g"))||[]).length;if(["BIGINT","NUMERIC"].includes(r)&&s<=1){let a=e.replace(this.decimalDelimInCsv,"");if(/^\d+$/.test(a)&&n<15&&(!a.startsWith("0")||s>0||a==="0"))return this.firstTime=!1,new Oi("NUMERIC",16,6)}if((r==="DATE"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=8&&n<=10){let a=e.split("-");if(a.length===3&&a.every(l=>/^\d+$/.test(l)))try{let l=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]));if(!isNaN(l.getTime()))return this.firstTime=!1,new Oi("DATE")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=12&&n<=20){let a=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})[\s|T](\d{2}):(\d{2})(:?(\d{2}))?$/);if(a)try{let l=a[7]?parseInt(a[7]):0,c=new Date(parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),l);if(!isNaN(c.getTime()))return this.firstTime=!1,new Oi("DATETIME")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/\./g)||[]).length>=2){let a=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(a)try{let l=parseInt(a[1]),c=parseInt(a[2])-1,u=parseInt(a[3]),d=a[4]?parseInt(a[4]):0,E=a[5]?parseInt(a[5]):0,f=a[6]?parseInt(a[6]):0;if(c>=0&&c<=11&&l>=1&&l<=31){let T=new Date(u,c,l,d,E,f);if(!isNaN(T.getTime())&&T.getFullYear()===u&&T.getMonth()===c&&T.getDate()===l)return this.firstTime=!1,new Oi("DATETIME")}}catch{}}let o=Math.max(n+5,20);return this.currentType.length!==void 0&&o<this.currentType.length&&(o=this.currentType.length),this.firstTime=!1,new Oi("NVARCHAR",void 0,void 0,o)}refreshCurrentType(e){return this.currentType=this.getType(e),this.currentType}},sy=class extends x6.Readable{constructor(r,n,i){super();this.currentIndex=0;this.byteLength=0;this.lastReportedIndex=-1;this.lastReportTime=0;this.lastReportedMessage="";this.importer=r,this.rows=n,this.progressCallback=i,this.currentIndex=0,this.lastReportedIndex=-1,this.lastReportTime=0,this.lastReportedMessage="";try{this.byteLength=n.reduce((s,o)=>{let a=o.reduce((l,c)=>l+(c?c.length:0),0);return s+a+o.length},0)}catch{this.byteLength=1024*1024}}_read(r){try{let n=!0;for(;n&&this.currentIndex<this.rows.length;){let a=this.rows[this.currentIndex].map((l,c)=>this.importer.formatValue(l||"",c)).join(this.importer.getDelimiter())+this.importer.getRecordDelim();n=this.push(Buffer.from(a,"utf8")),this.currentIndex++}let i=this.rows.length;if(this.currentIndex>this.lastReportedIndex){let s=Date.now();if(this.currentIndex>=i||s-this.lastReportTime>=1e3){let c=`Importing: ${Math.floor(this.currentIndex/i*100)}% complete (${this.currentIndex.toLocaleString()} / ${i.toLocaleString()} rows)`,d=(this.currentIndex-(this.lastReportedIndex<0?0:this.lastReportedIndex))/i*100;c!==this.lastReportedMessage&&(this.progressCallback?.(c,d,!1),this.lastReportedIndex=this.currentIndex,this.lastReportTime=s,this.lastReportedMessage=c)}}this.currentIndex>=this.rows.length&&this.push(null)}catch(n){this.emit("error",n)}}},CS=class{constructor(e,r,n){this.delimiter="	";this.delimiterPlain="\\t";this.recordDelim=`
`;this.recordDelimPlain="\\n";this.escapechar="\\";this.csvDelimiter=",";this.excelData=[];this.isExcelFile=!1;this.sqlHeaders=[];this.dataTypes=[];this.rowsCount=0;this.valuesToEscape=[];this.filePath=e,this.targetTable=r,this.logDir=n||Sa.join(Sa.dirname(e),"netezza_logs");let i=Sa.extname(e).toLowerCase();this.isExcelFile=[".xlsx",".xlsb"].includes(i),this.virtualFileName=`virtual_import_${Date.now()}_${Math.floor(Math.random()*1e3)}.txt`,this.valuesToEscape=[this.escapechar,this.recordDelim,"\r",this.delimiter],Hn.existsSync(this.logDir)||Hn.mkdirSync(this.logDir,{recursive:!0})}getDelimiter(){return this.delimiter}getRecordDelim(){return this.recordDelim}detectCsvDelimiter(){let r=Hn.readFileSync(this.filePath,"utf-8").split(`
`)[0]||"";r.startsWith("\uFEFF")&&(r=r.slice(1));let n=[";","	","|",","],i={};for(let o of n)i[o]=(r.match(new RegExp(o==="|"?"\\|":o,"g"))||[]).length;let s=Math.max(...Object.values(i));s>0&&(this.csvDelimiter=Object.keys(i).find(o=>i[o]===s)||",")}cleanColumnName(e){let r=String(e).trim();return r=r.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!r||/^\d/.test(r)||r.startsWith("_"))&&(r="COL"+(r.startsWith("_")?"":"_")+r),r}parseCsvLine(e){let r=[],n="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];o==='"'?i&&e[s+1]==='"'?(n+='"',s++):i=!i:o===this.csvDelimiter&&!i?(r.push(n),n=""):n+=o}return r.push(n),r}async readExcelFile(e){if(!iy)throw new Error("ReaderFactory module not available");e?.("Reading Excel file...");let r=iy.create(this.filePath);await r.open(this.filePath);let n=[],i=o=>{if(o==null)return"";if(o instanceof Date){let a=l=>l<10?"0"+l:l;return`${o.getFullYear()}-${a(o.getMonth()+1)}-${a(o.getDate())} ${a(o.getHours())}:${a(o.getMinutes())}:${a(o.getSeconds())}`}return String(o)},s=0;for(;await r.read();){let o=[],a=r._currentRow;if(a&&Array.isArray(a))for(let l=0;l<a.length;l++)o.push(i(a[l]));n.push(o),s++,s%1e4===0&&(e?.(`Processed ${s.toLocaleString()} rows...`,void 0,!1),await P6())}return typeof r.close=="function"&&await r.close(),e?.(`Excel file loaded: ${n.length} rows`),n}async analyzeDataTypes(e){e?.("Analyzing data types...");let r;if(this.isExcelFile)this.excelData=await this.readExcelFile(e),r=this.excelData;else{this.detectCsvDelimiter();let i=Hn.readFileSync(this.filePath,"utf-8");i.startsWith("\uFEFF")&&(i=i.slice(1));let s=i.split(/\r?\n/);r=[];for(let o of s)o.trim()&&r.push(this.parseCsvLine(o))}if(!r||r.length===0)throw new Error("No data found in file");let n=[];this.sqlHeaders=r[0].map(i=>this.cleanColumnName(i||"COLUMN"));for(let i=0;i<r[0].length;i++)n.push(new mc);for(let i=1;i<r.length;i++){let s=r[i];for(let o=0;o<s.length;o++)o<n.length&&s[o]&&s[o].trim()&&n[o].refreshCurrentType(s[o].trim());i%1e4===0&&(e?.(`Analyzed ${i.toLocaleString()} rows...`,void 0,!1),await P6())}return this.rowsCount=r.length-1,e?.(`Analysis complete: ${this.rowsCount.toLocaleString()} rows`),this.dataTypes=n,n}escapeValue(e){let r=String(e).trim();for(let n of this.valuesToEscape)r=r.split(n).join(`${this.escapechar}${n}`);return r}formatValue(e,r){let n=this.escapeValue(e);return r<this.dataTypes.length&&this.dataTypes[r].currentType.dbType==="DATETIME"&&(n=n.replace("T"," ")),n}generateCreateTableSql(){let e=[];for(let n=0;n<this.sqlHeaders.length;n++){let i=this.sqlHeaders[n],s=this.dataTypes[n];e.push(`        ${i} ${s.currentType.toString()}`)}let r=this.logDir.replace(/\\/g,"/");return`CREATE TABLE ${this.targetTable} AS 
(
    SELECT * FROM EXTERNAL '${this.virtualFileName}'
    (
${e.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${this.delimiterPlain}'
        RecordDelim '${this.recordDelimPlain}'
        ESCAPECHAR '${this.escapechar}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${r}'
    )
) DISTRIBUTE ON RANDOM;`}async createDataStream(e){e?.("Preparing data stream...");try{let r;if(this.isExcelFile){if(!this.excelData||this.excelData.length===0)throw new Error("Excel data not loaded. Call analyzeDataTypes first.");r=this.excelData.slice(1)}else{let n=Hn.readFileSync(this.filePath,"utf-8");n.startsWith("\uFEFF")&&(n=n.slice(1));let i=n.split(/\r?\n/);r=[];let s=!0;for(let o of i)if(o.trim()){if(s){s=!1;continue}r.push(this.parseCsvLine(o))}}return this.rowsCount=r.length,new sy(this,r,e)}catch(r){let n=r instanceof Error?r.message:String(r);throw e?.(`Error preparing stream: ${n}`),r}}getVirtualFileName(){return this.virtualFileName}getRowsCount(){return this.rowsCount}getSqlHeaders(){return this.sqlHeaders}getCsvDelimiter(){return this.csvDelimiter}}});var J6=H(()=>{"use strict"});async function ft(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function de(t){return!t||/^[A-Z_][A-Z0-9_]*$/i.test(t)&&t===t.toUpperCase()?t:`"${t.replace(/"/g,'""')}"`}function Q6(t){if(!t)return t;let e=t.trim().toUpperCase();return e==="CHARACTER VARYING"?"CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER VARYING"?"NATIONAL CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER"?"NATIONAL CHARACTER(ANY)":e==="CHARACTER"?"CHARACTER(ANY)":t}async function Z6(t){let e={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},r=Ir(),n=new r(e);return await n.connect(),n}var yi=H(()=>{"use strict"});async function kn(t,e,r,n){let i=`
        SELECT 
            X.OBJID::INT AS OBJID
            , X.ATTNAME
            , X.DESCRIPTION
            , X.FORMAT_TYPE AS FULL_TYPE
            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
            , X.COLDEFAULT
        FROM
            ${e.toUpperCase()}.._V_RELATION_COLUMN X
        INNER JOIN
            ${e.toUpperCase()}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
        WHERE
            X.TYPE IN ('TABLE','VIEW','EXTERNAL TABLE', 'SEQUENCE','SYSTEM VIEW','SYSTEM TABLE')
            AND X.OBJID NOT IN (4,5)
            AND D.SCHEMA = '${r.toUpperCase()}'
            AND D.OBJNAME = '${n.toUpperCase()}'
        ORDER BY 
            X.OBJID, X.ATTNUM
    `,s=await ft(t,i),o=[];for(let a of s){let l=!1,c=a.ATTNOTNULL;if(typeof c=="boolean")l=c;else if(typeof c=="number")l=c!==0;else if(typeof c=="string"){let u=c.trim().toLowerCase();l=u==="t"||u==="true"||u==="1"||u==="yes"}o.push({name:a.ATTNAME,description:a.DESCRIPTION||null,fullTypeName:a.FULL_TYPE,notNull:l,defaultValue:a.COLDEFAULT||null})}return o}async function ds(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_DIST_MAP
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY DISTSEQNO
        `;return(await ft(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function fs(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_ORGANIZE_COLUMN
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY ORGSEQNO
        `;return(await ft(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function Es(t,e,r,n){let i=`
        SELECT 
            X.SCHEMA
            , X.RELATION
            , X.CONSTRAINTNAME
            , X.CONTYPE
            , X.ATTNAME
            , X.PKDATABASE
            , X.PKSCHEMA
            , X.PKRELATION
            , X.PKATTNAME
            , X.UPDT_TYPE
            , X.DEL_TYPE
        FROM 
            ${e.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.OBJID NOT IN (4,5)
            AND X.SCHEMA = '${r.toUpperCase()}'
            AND X.RELATION = '${n.toUpperCase()}'
        ORDER BY
            X.SCHEMA, X.RELATION, X.CONSEQ
    `,s=new Map;try{let o=await ft(t,i);for(let a of o){let l=a.CONSTRAINTNAME;if(!s.has(l)){let u={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};s.set(l,{type:u[a.CONTYPE]||"UNKNOWN",typeChar:a.CONTYPE,columns:[],pkDatabase:a.PKDATABASE||null,pkSchema:a.PKSCHEMA||null,pkRelation:a.PKRELATION||null,pkColumns:[],updateType:a.UPDT_TYPE||"NO ACTION",deleteType:a.DEL_TYPE||"NO ACTION"})}let c=s.get(l);c.columns.push(a.ATTNAME),a.PKATTNAME&&c.pkColumns.push(a.PKATTNAME)}}catch(o){console.warn("Cannot retrieve keys info:",o)}return s}async function Ra(t,e,r,n){try{let i=`
            SELECT DESCRIPTION
            FROM ${e.toUpperCase()}.._V_OBJECT_DATA
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND OBJNAME = '${n.toUpperCase()}'
                AND OBJTYPE = 'TABLE'
        `,s=await ft(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{try{let i=`
                SELECT DESCRIPTION
                FROM ${e.toUpperCase()}.._V_OBJECT_DATA
                WHERE SCHEMA = '${r.toUpperCase()}'
                    AND OBJNAME = '${n.toUpperCase()}'
            `,s=await ft(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{}}return null}async function Zd(t,e,r,n){try{let i=`
            SELECT OWNER
            FROM ${e.toUpperCase()}.._V_TABLE
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
        `,s=await ft(t,i);if(s.length>0&&s[0].OWNER)return s[0].OWNER}catch{}return null}var xS=H(()=>{"use strict";yi()});async function ef(t,e,r,n){let i=await kn(t,e,r,n);if(i.length===0)throw new Error(`Table ${e}.${r}.${n} not found or has no columns`);let s=await ds(t,e,r,n),o=await fs(t,e,r,n),a=await Es(t,e,r,n),l=await Ra(t,e,r,n);return _c(e,r,n,i,s,o,a,l)}function _c(t,e,r,n,i,s,o,a){if(n.length===0)return`-- Table ${t}.${e}.${r} has no columns or was not found`;let l=de(t),c=de(e),u=de(r),d=[];d.push(`CREATE TABLE ${l}.${c}.${u}`),d.push("(");let E=[];for(let f of n){let h=`    ${de(f.name)} ${f.fullTypeName}`;f.notNull&&(h+=" NOT NULL"),f.defaultValue!==null&&(h+=` DEFAULT ${f.defaultValue}`),E.push(h)}if(d.push(E.join(`,
`)),i.length>0){let f=i.map(T=>de(T));d.push(`)
DISTRIBUTE ON (${f.join(", ")})`)}else d.push(`)
DISTRIBUTE ON RANDOM`);if(s.length>0){let f=s.map(T=>de(T));d.push(`ORGANIZE ON (${f.join(", ")})`)}d.push(";"),d.push("");for(let[f,T]of o){let h=de(f),p=T.columns.map(S=>de(S));if(T.typeChar==="f"){let S=T.pkColumns.filter(m=>m).map(m=>de(m));S.length>0&&d.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${p.join(", ")}) REFERENCES ${T.pkDatabase}.${T.pkSchema}.${T.pkRelation} (${S.join(", ")}) ON DELETE ${T.deleteType} ON UPDATE ${T.updateType};`)}else(T.typeChar==="p"||T.typeChar==="u")&&d.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${p.join(", ")});`)}if(a){let f=a.replace(/'/g,"''");d.push(""),d.push(`COMMENT ON TABLE ${l}.${c}.${u} IS '${f}';`)}for(let f of n)if(f.description){let T=de(f.name),h=f.description.replace(/'/g,"''");d.push(`COMMENT ON COLUMN ${l}.${c}.${u}.${T} IS '${h}';`)}return d.join(`
`)}var MS=H(()=>{"use strict";yi();xS()});async function Aa(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            VIEWNAME,
            DEFINITION,
            OBJID::INT
        FROM ${e.toUpperCase()}.._V_VIEW
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND VIEWNAME = '${n.toUpperCase()}'
    `,o=await ft(t,i);if(o.length===0)throw new Error(`View ${e}.${r}.${n} not found`);let a=o[0],l=de(e),c=de(r),u=de(n),d=[];return d.push(`CREATE OR REPLACE VIEW ${l}.${c}.${u} AS`),d.push(a.DEFINITION||""),d.join(`
`)}var vS=H(()=>{"use strict";yi()});async function ma(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            OBJID::INT,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS,
            NULL AS LANGUAGE
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
        ORDER BY 1, 2, 3
    `,o=await ft(t,i);if(o.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,procedureSource:a.PROCEDURESOURCE,objId:a.OBJID,returns:Q6(a.RETURNS),executeAsOwner:!!a.EXECUTEDASOWNER,description:a.DESCRIPTION||null,procedureSignature:a.PROCEDURESIGNATURE,procedureName:a.PROCEDURE,arguments:a.ARGUMENTS||null},c=de(e),u=de(r),d=de(l.procedureName),E=[],f=`CREATE OR REPLACE PROCEDURE ${c}.${u}.${d}`;if(l.arguments){let T=l.arguments.trim();T.startsWith("(")&&T.endsWith(")")?f+=T:f+=`(${T})`}else f+="()";if(E.push(f),E.push(`RETURNS ${l.returns}`),l.executeAsOwner?E.push("EXECUTE AS OWNER"):E.push("EXECUTE AS CALLER"),E.push("LANGUAGE NZPLSQL AS"),E.push("BEGIN_PROC"),E.push(l.procedureSource),E.push("END_PROC;"),l.description){let T=l.description.replace(/'/g,"''");E.push(`COMMENT ON PROCEDURE ${d} IS '${T}';`)}return E.join(`
`)}var US=H(()=>{"use strict";yi()});async function _a(t,e,r,n){let i=`
        SELECT 
            E1.SCHEMA,
            E1.TABLENAME,
            E2.EXTOBJNAME,
            E2.OBJID::INT,
            E1.DELIM,
            E1.ENCODING,
            E1.TIMESTYLE,
            E1.REMOTESOURCE,
            E1.SKIPROWS,
            E1.MAXERRORS,
            E1.ESCAPE,
            E1.LOGDIR,
            E1.DECIMALDELIM,
            E1.QUOTEDVALUE,
            E1.NULLVALUE,
            E1.CRINSTRING,
            E1.TRUNCSTRING,
            E1.CTRLCHARS,
            E1.IGNOREZERO,
            E1.TIMEEXTRAZEROS,
            E1.Y2BASE,
            E1.FILLRECORD,
            E1.COMPRESS,
            E1.INCLUDEHEADER,
            E1.LFINSTRING,
            E1.DATESTYLE,
            E1.DATEDELIM,
            E1.TIMEDELIM,
            E1.BOOLSTYLE,
            E1.FORMAT,
            E1.SOCKETBUFSIZE,
            E1.RECORDDELIM,
            E1.MAXROWS,
            E1.REQUIREQUOTES,
            E1.RECORDLENGTH,
            E1.DATETIMEDELIM,
            E1.REJECTFILE
        FROM 
            ${e.toUpperCase()}.._V_EXTERNAL E1
            JOIN ${e.toUpperCase()}.._V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE
                AND E1.SCHEMA = E2.SCHEMA
                AND E1.TABLENAME = E2.TABLENAME
        WHERE 
            E1.DATABASE = '${e.toUpperCase()}'
            AND E1.SCHEMA = '${r.toUpperCase()}'
            AND E1.TABLENAME = '${n.toUpperCase()}'
    `,s=await ft(t,i);if(s.length===0)throw new Error(`External table ${e}.${r}.${n} not found`);let o=h=>{if(h==null)return null;if(typeof h=="boolean")return h;if(typeof h=="number")return h!==0;let p=String(h).toLowerCase();return p==="t"||p==="true"||p==="1"||p==="yes"||p==="on"},a=s[0],l={schema:a.SCHEMA,tableName:a.TABLENAME,dataObject:a.EXTOBJNAME||null,delimiter:a.DELIM||null,encoding:a.ENCODING||null,timeStyle:a.TIMESTYLE||null,remoteSource:a.REMOTESOURCE||null,skipRows:a.SKIPROWS||null,maxErrors:a.MAXERRORS||null,escapeChar:a.ESCAPE||null,logDir:a.LOGDIR||null,decimalDelim:a.DECIMALDELIM||null,quotedValue:a.QUOTEDVALUE||null,nullValue:a.NULLVALUE||null,crInString:o(a.CRINSTRING),truncString:o(a.TRUNCSTRING),ctrlChars:o(a.CTRLCHARS),ignoreZero:o(a.IGNOREZERO),timeExtraZeros:o(a.TIMEEXTRAZEROS),y2Base:a.Y2BASE||null,fillRecord:o(a.FILLRECORD),compress:o(a.COMPRESS),includeHeader:o(a.INCLUDEHEADER),lfInString:o(a.LFINSTRING),dateStyle:a.DATESTYLE||null,dateDelim:a.DATEDELIM||null,timeDelim:a.TIMEDELIM||null,boolStyle:a.BOOLSTYLE||null,format:a.FORMAT||null,socketBufSize:a.SOCKETBUFSIZE||null,recordDelim:a.RECORDDELIM?String(a.RECORDDELIM).replace(/\r/g,"\\r").replace(/\n/g,"\\n"):null,maxRows:a.MAXROWS||null,requireQuotes:o(a.REQUIREQUOTES),recordLength:a.RECORDLENGTH||null,dateTimeDelim:a.DATETIMEDELIM||null,rejectFile:a.REJECTFILE||null},c=await kn(t,e,r,n),u=de(e),d=de(r),E=de(n),f=[];f.push(`CREATE EXTERNAL TABLE ${u}.${d}.${E}`),f.push("(");let T=c.map(h=>{let p=`    ${de(h.name)} ${h.fullTypeName}`;return h.notNull&&(p+=" NOT NULL"),p});return f.push(T.join(`,
`)),f.push(")"),f.push("USING"),f.push("("),l.dataObject!==null&&f.push(`    DATAOBJECT('${l.dataObject}')`),l.delimiter!==null&&f.push(`    DELIMITER '${l.delimiter}'`),l.encoding!==null&&f.push(`    ENCODING '${l.encoding}'`),l.timeStyle!==null&&f.push(`    TIMESTYLE '${l.timeStyle}'`),l.remoteSource!==null&&f.push(`    REMOTESOURCE '${l.remoteSource}'`),l.maxErrors!==null&&f.push(`    MAXERRORS ${l.maxErrors}`),l.escapeChar!==null&&f.push(`    ESCAPECHAR '${l.escapeChar}'`),l.decimalDelim!==null&&f.push(`    DECIMALDELIM '${l.decimalDelim}'`),l.logDir!==null&&f.push(`    LOGDIR '${l.logDir}'`),l.quotedValue!==null&&f.push(`    QUOTEDVALUE '${l.quotedValue}'`),l.nullValue!==null&&f.push(`    NULLVALUE '${l.nullValue}'`),l.crInString!==null&&f.push(`    CRINSTRING ${l.crInString}`),l.truncString!==null&&f.push(`    TRUNCSTRING ${l.truncString}`),l.ctrlChars!==null&&f.push(`    CTRLCHARS ${l.ctrlChars}`),l.ignoreZero!==null&&f.push(`    IGNOREZERO ${l.ignoreZero}`),l.timeExtraZeros!==null&&f.push(`    TIMEEXTRAZEROS ${l.timeExtraZeros}`),l.y2Base!==null&&f.push(`    Y2BASE ${l.y2Base}`),l.fillRecord!==null&&f.push(`    FILLRECORD ${l.fillRecord}`),l.compress!==null&&f.push(`    COMPRESS ${l.compress}`),l.includeHeader!==null&&f.push(`    INCLUDEHEADER ${l.includeHeader}`),l.lfInString!==null&&f.push(`    LFINSTRING ${l.lfInString}`),l.dateStyle!==null&&f.push(`    DATESTYLE '${l.dateStyle}'`),l.dateDelim!==null&&f.push(`    DATEDELIM '${l.dateDelim}'`),l.timeDelim!==null&&f.push(`    TIMEDELIM '${l.timeDelim}'`),l.boolStyle!==null&&f.push(`    BOOLSTYLE '${l.boolStyle}'`),l.format!==null&&f.push(`    FORMAT '${l.format}'`),l.socketBufSize!==null&&f.push(`    SOCKETBUFSIZE ${l.socketBufSize}`),l.recordDelim!==null&&f.push(`    RECORDDELIM '${l.recordDelim}'`),l.maxRows!==null&&f.push(`    MAXROWS ${l.maxRows}`),l.requireQuotes!==null&&f.push(`    REQUIREQUOTES ${l.requireQuotes}`),l.recordLength!==null&&f.push(`    RECORDLENGTH ${l.recordLength}`),l.dateTimeDelim!==null&&f.push(`    DATETIMEDELIM '${l.dateTimeDelim}'`),l.rejectFile!==null&&f.push(`    REJECTFILE '${l.rejectFile}'`),f.push(");"),f.join(`
`)}var BS=H(()=>{"use strict";yi();xS()});async function Ia(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            OWNER,
            SYNONYM_NAME,
            REFOBJNAME,
            DESCRIPTION
        FROM ${e.toUpperCase()}.._V_SYNONYM
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND SYNONYM_NAME = '${n.toUpperCase()}'
    `,o=await ft(t,i);if(o.length===0)throw new Error(`Synonym ${e}.${r}.${n} not found`);let a=o[0],l=de(e),c=de(a.OWNER||r),u=de(n),d=a.REFOBJNAME,E=[];if(E.push(`CREATE SYNONYM ${l}.${c}.${u} FOR ${d};`),a.DESCRIPTION){let f=a.DESCRIPTION.replace(/'/g,"''");E.push(`COMMENT ON SYNONYM ${u} IS '${f}';`)}return E.join(`
`)}var FS=H(()=>{"use strict";yi()});async function dy(t){let e=null,r=[],n=[],i=0,s=0,o=["TABLE","VIEW","PROCEDURE","EXTERNAL TABLE","SYNONYM"];try{let a={host:t.connectionDetails.host,port:t.connectionDetails.port||5480,database:t.connectionDetails.database,user:t.connectionDetails.user,password:t.connectionDetails.password},l=Ir();e=new l(a),await e.connect();let c=t.database.toUpperCase(),u=t.schema?t.schema.toUpperCase():null,d=t.objectTypes?t.objectTypes.map(A=>A.toUpperCase()).filter(A=>o.includes(A)):o;d.length===0&&(d=o),n.push("-- ============================================"),n.push("-- Batch DDL Export"),n.push(`-- Database: ${c}`),u&&n.push(`-- Schema: ${u}`),n.push(`-- Object Types: ${d.join(", ")}`),n.push(`-- Generated: ${new Date().toISOString()}`),n.push("-- ============================================"),n.push("");let E=new Map,f=new Map,T=new Map,h=new Map,p=new Map,S=d.includes("TABLE"),m=d.includes("VIEW"),R=d.includes("EXTERNAL TABLE");if(S||m||R){let A=u?`AND D.SCHEMA = '${u}'`:"",g=`
                SELECT 
                    D.SCHEMA,
                    D.OBJNAME,
                    D.OBJTYPE,
                    X.ATTNAME,
                    X.DESCRIPTION,
                    X.FORMAT_TYPE AS FULL_TYPE,
                    X.ATTNOTNULL::BOOL AS ATTNOTNULL,
                    X.COLDEFAULT
                FROM ${c}.._V_RELATION_COLUMN X
                INNER JOIN ${c}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
                WHERE D.DBNAME = '${c}'
                    AND D.OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                    ${A}
                ORDER BY D.SCHEMA, D.OBJNAME, X.ATTNUM
            `;try{let w=await ft(e,g);for(let I of w){let D=`${I.SCHEMA}.${I.OBJNAME}`;E.has(D)||E.set(D,[]);let b=!1,P=I.ATTNOTNULL;if(typeof P=="boolean")b=P;else if(typeof P=="number")b=P!==0;else if(typeof P=="string"){let M=P.trim().toLowerCase();b=M==="t"||M==="true"||M==="1"}E.get(D).push({name:I.ATTNAME,description:I.DESCRIPTION||null,fullTypeName:I.FULL_TYPE,notNull:b,defaultValue:I.COLDEFAULT||null})}}catch(w){let I=w instanceof Error?w.message:String(w);r.push(`Error bulk fetching columns: ${I}`)}}if(S){let A=u?`AND SCHEMA = '${u}'`:"",g=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_DIST_MAP
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, DISTSEQNO
            `;try{let w=await ft(e,g);for(let I of w){let D=`${I.SCHEMA}.${I.TABLENAME}`;f.has(D)||f.set(D,[]),f.get(D).push(I.ATTNAME)}}catch{}}if(S){let A=u?`AND SCHEMA = '${u}'`:"",g=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_ORGANIZE_COLUMN
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, ORGSEQNO
            `;try{let w=await ft(e,g);for(let I of w){let D=`${I.SCHEMA}.${I.TABLENAME}`;T.has(D)||T.set(D,[]),T.get(D).push(I.ATTNAME)}}catch{}}if(S){let A=u?`AND X.SCHEMA = '${u}'`:"",g=`
                SELECT 
                    X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONTYPE,
                    X.ATTNAME, X.PKDATABASE, X.PKSCHEMA, X.PKRELATION, X.PKATTNAME,
                    X.UPDT_TYPE, X.DEL_TYPE
                FROM ${c}.._V_RELATION_KEYDATA X
                WHERE X.OBJID NOT IN (4,5) ${A}
                ORDER BY X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONSEQ
            `;try{let w=await ft(e,g);for(let I of w){let D=`${I.SCHEMA}.${I.RELATION}`;h.has(D)||h.set(D,new Map);let b=h.get(D),P=I.CONSTRAINTNAME;if(!b.has(P)){let B={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};b.set(P,{type:B[I.CONTYPE]||"UNKNOWN",typeChar:I.CONTYPE,columns:[],pkDatabase:I.PKDATABASE||null,pkSchema:I.PKSCHEMA||null,pkRelation:I.PKRELATION||null,pkColumns:[],updateType:I.UPDT_TYPE||"NO ACTION",deleteType:I.DEL_TYPE||"NO ACTION"})}let M=b.get(P);M.columns.push(I.ATTNAME),I.PKATTNAME&&M.pkColumns.push(I.PKATTNAME)}}catch{}}if(S){let A=u?`AND SCHEMA = '${u}'`:"",g=`
                SELECT SCHEMA, OBJNAME, DESCRIPTION
                FROM ${c}.._V_OBJECT_DATA
                WHERE DBNAME = '${c}' AND OBJTYPE = 'TABLE' AND DESCRIPTION IS NOT NULL ${A}
            `;try{let w=await ft(e,g);for(let I of w)I.DESCRIPTION&&p.set(`${I.SCHEMA}.${I.OBJNAME}`,I.DESCRIPTION)}catch{}}for(let A of d){let g=[];try{if(A==="PROCEDURE"){let w=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA FROM ${c}.._V_PROCEDURE WHERE DATABASE = '${c}'`;u&&(w+=` AND SCHEMA = '${u}'`),w+=" ORDER BY SCHEMA, PROCEDURESIGNATURE",g=(await ft(e,w)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}else{let w=`SELECT OBJNAME, SCHEMA FROM ${c}.._V_OBJECT_DATA WHERE DBNAME = '${c}' AND OBJTYPE = '${A}'`;u&&(w+=` AND SCHEMA = '${u}'`),w+=" ORDER BY SCHEMA, OBJNAME",g=(await ft(e,w)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}}catch(w){let I=w instanceof Error?w.message:String(w);r.push(`Error querying ${A}s: ${I}`);continue}if(g.length!==0){n.push("-- ----------------------------------------"),n.push(`-- ${A}S (${g.length})`),n.push("-- ----------------------------------------"),n.push("");for(let w of g)try{let I,D=`${w.schema}.${w.name}`;switch(A){case"TABLE":I=_c(c,w.schema,w.name,E.get(D)||[],f.get(D)||[],T.get(D)||[],h.get(D)||new Map,p.get(D)||null);break;case"VIEW":I=await Aa(e,c,w.schema,w.name);break;case"PROCEDURE":I=await ma(e,c,w.schema,w.name);break;case"EXTERNAL TABLE":I=await _a(e,c,w.schema,w.name);break;case"SYNONYM":I=await Ia(e,c,w.schema,w.name);break;default:s++;continue}n.push(`-- ${A}: ${c}.${w.schema}.${w.name}`),n.push(I),n.push(""),i++}catch(I){let D=I instanceof Error?I.message:String(I);r.push(`Error generating DDL for ${A} ${c}.${w.schema}.${w.name}: ${D}`),s++}}}return n.push("-- ============================================"),n.push("-- End of Batch DDL Export"),n.push(`-- Total objects: ${i}`),s>0&&n.push(`-- Skipped: ${s}`),r.length>0&&n.push(`-- Errors: ${r.length}`),n.push("-- ============================================"),{success:!0,ddlCode:n.join(`
`),objectCount:i,errors:r,skipped:s}}catch(a){return{success:!1,objectCount:0,errors:[`Batch DDL generation error: ${a instanceof Error?a.message:String(a)}`],skipped:0}}finally{if(e)try{await e.close()}catch{}}}var e3=H(()=>{"use strict";yi();MS();vS();US();BS();FS()});async function fy(t,e,r,n,i){let s=null;try{s=await Z6(t);let o=i.toUpperCase();return o==="TABLE"?{success:!0,ddlCode:await ef(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="VIEW"?{success:!0,ddlCode:await Aa(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="PROCEDURE"?{success:!0,ddlCode:await ma(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="EXTERNAL TABLE"?{success:!0,ddlCode:await _a(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="SYNONYM"?{success:!0,ddlCode:await Ia(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:{success:!0,ddlCode:`-- DDL generation for ${i} not yet implemented
-- Object: ${e}.${r}.${n}
-- Type: ${i}
--
-- This feature can be extended to support:
-- - FUNCTION: Query _V_FUNCTION system table
-- - AGGREGATE: Query _V_AGGREGATE system table
`,objectInfo:{database:e,schema:r,objectName:n,objectType:i},note:`${i} DDL generation not yet implemented`}}catch(o){return{success:!1,error:`DDL generation error: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}var t3=H(()=>{"use strict";yi();MS();vS();US();BS();FS()});var r3=H(()=>{"use strict";J6();yi();xS();MS();vS();US();BS();FS();e3();t3()});var Ey={};_t(Ey,{buildTableDDLFromCache:()=>_c,generateBatchDDL:()=>dy,generateDDL:()=>fy,generateExternalTableDDL:()=>_a,generateProcedureDDL:()=>ma,generateSynonymDDL:()=>Ia,generateTableDDL:()=>ef,generateViewDDL:()=>Aa,getColumns:()=>kn,getDistributionInfo:()=>ds,getKeysInfo:()=>Es,getOrganizeInfo:()=>fs,getTableComment:()=>Ra,getTableOwner:()=>Zd,quoteNameIfNeeded:()=>de});var tf=H(()=>{"use strict";r3()});var n3={};_t(n3,{generateRecreateTableScript:()=>Vye});async function Vye(t,e,r,n,i){let s=null;try{let o={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},a=Ir();s=new a(o),await s.connect();let l=await kn(s,e,r,n);if(l.length===0)return{success:!1,error:`Table ${e}.${r}.${n} not found or has no columns`};let c=await ds(s,e,r,n),u=await fs(s,e,r,n),d=await Es(s,e,r,n),E=await Ra(s,e,r,n),f=await Zd(s,e,r,n),T=de(e),h=de(r),p=de(n),S=new Date().toISOString().replace(/[-:T.]/g,"").substring(0,14),m=Math.random().toString(36).substring(2,7).toUpperCase(),R=i||`${n}_${S}_NEW`,A=de(R),g=`${n}_${S}_BACKUP_${m}`,w=de(g),I=[];I.push(`-- Recreate Table Script for ${T}.${h}.${p}`),I.push(`-- Generated at ${new Date().toISOString()}`),I.push(""),I.push("-- 1. Create new table with desired structure"),I.push(`CREATE TABLE ${T}.${h}.${A}`),I.push("(");let D=[];for(let P of l){let B=`    ${de(P.name)} ${P.fullTypeName}`;P.notNull&&(B+=" NOT NULL"),P.defaultValue!==null&&(B+=` DEFAULT ${P.defaultValue}`),D.push(B)}if(I.push(D.join(`,
`)),c.length>0){let P=c.map(M=>de(M));I.push(`)
DISTRIBUTE ON (${P.join(", ")})`)}else I.push(`)
DISTRIBUTE ON RANDOM`);if(u.length>0){let P=u.map(M=>de(M));I.push(`ORGANIZE ON (${P.join(", ")})`)}if(I.push(";"),I.push(""),I.push("-- 2. Copy data from original table"),I.push(`INSERT INTO ${T}.${h}.${A} SELECT * FROM ${T}.${h}.${p};`),I.push(""),I.push("-- 3. Copy privileges from original table"),I.push(`ALTER TABLE ${T}.${h}.${A} SET PRIVILEGES TO ${T}.${h}.${p};`),I.push(""),I.push("-- 4. Swap tables: Rename Original to Backup, New to Original"),I.push(`ALTER TABLE ${T}.${h}.${p} RENAME TO ${w};`),I.push(`ALTER TABLE ${T}.${h}.${A} RENAME TO ${p};`),I.push(""),f&&(I.push("-- 5. Restore Owner"),I.push(`ALTER TABLE ${T}.${h}.${p} OWNER TO ${f};`),I.push("")),I.push("-- 6. Drop Backup Table (Optional - Comment out if you want to keep it)"),I.push(`DROP TABLE ${T}.${h}.${w};`),I.push(""),d.size>0){I.push("-- 7. Restore Constraints");for(let[P,M]of d){let B=de(P),F=M.columns.map(J=>de(J)),Y="";if(M.typeChar==="f"){let J=M.pkColumns.filter(re=>re).map(re=>de(re));J.length>0&&(Y=`ALTER TABLE ${T}.${h}.${p} ADD CONSTRAINT ${B} ${M.type} (${F.join(", ")}) REFERENCES ${M.pkDatabase}.${M.pkSchema}.${M.pkRelation} (${J.join(", ")}) ON DELETE ${M.deleteType} ON UPDATE ${M.updateType};`)}else(M.typeChar==="p"||M.typeChar==="u")&&(Y=`ALTER TABLE ${T}.${h}.${p} ADD CONSTRAINT ${B} ${M.type} (${F.join(", ")});`);Y&&I.push(Y)}I.push("")}if(E){let P=E.replace(/'/g,"''");I.push("-- 8. Restore Comments"),I.push(`COMMENT ON TABLE ${T}.${h}.${p} IS '${P}';`)}let b=[];for(let P of l)if(P.description){let M=de(P.name),B=P.description.replace(/'/g,"''");b.push(`COMMENT ON COLUMN ${T}.${h}.${p}.${M} IS '${B}';`)}return b.length>0&&(E||I.push("-- 8. Restore Comments"),I.push(b.join(`
`)),I.push("")),I.push("-- 9. Generate Statistics"),I.push(`GENERATE EXPRESS STATISTICS ON ${T}.${h}.${p};`),{success:!0,sqlScript:I.join(`
`)}}catch(o){return{success:!1,error:`Error generating recreate script: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}var i3=H(()=>{"use strict";tf()});var hy={};_t(hy,{compareProcedures:()=>Jye,compareTableStructures:()=>zye});async function qye(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}async function o3(t,e,r,n){let i=await kn(t,e,r,n),s=await Es(t,e,r,n),o=await ds(t,e,r,n),a=await fs(t,e,r,n);return{database:e,schema:r,tableName:n,columns:i,keys:s,distribution:o,organization:a}}function Xye(t,e){let r=[];return t.fullTypeName!==e.fullTypeName&&r.push(`Type: ${t.fullTypeName} \u2192 ${e.fullTypeName}`),t.notNull!==e.notNull&&r.push(`NOT NULL: ${t.notNull} \u2192 ${e.notNull}`),t.defaultValue!==e.defaultValue&&r.push(`Default: ${t.defaultValue||"NULL"} \u2192 ${e.defaultValue||"NULL"}`),r}function jye(t,e){let r=[];return t.type!==e.type&&r.push(`Type: ${t.type} \u2192 ${e.type}`),t.columns.join(",")!==e.columns.join(",")&&r.push(`Columns: (${t.columns.join(", ")}) \u2192 (${e.columns.join(", ")})`),t.typeChar==="f"&&e.typeChar==="f"&&t.pkRelation!==e.pkRelation&&r.push(`References: ${t.pkRelation} \u2192 ${e.pkRelation}`),r}async function zye(t,e,r,n,i,s,o){let a=null;try{let l={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},c=Ir();a=new c(l),await a.connect();let u=await o3(a,e,r,n),d=await o3(a,i,s,o),E=[],f=new Map(u.columns.map(g=>[g.name.toUpperCase(),g])),T=new Map(d.columns.map(g=>[g.name.toUpperCase(),g]));for(let[g,w]of f){let I=T.get(g);if(!I)E.push({name:w.name,status:"removed",sourceColumn:w});else{let D=Xye(w,I);E.push({name:w.name,status:D.length>0?"modified":"unchanged",sourceColumn:w,targetColumn:I,changes:D})}}for(let[g,w]of T)f.has(g)||E.push({name:w.name,status:"added",targetColumn:w});let h=[],p=u.keys,S=d.keys;for(let[g,w]of p){let I=S.get(g);if(!I)h.push({name:g,status:"removed",sourceKey:w});else{let D=jye(w,I);h.push({name:g,status:D.length>0?"modified":"unchanged",sourceKey:w,targetKey:I,changes:D})}}for(let[g,w]of S)p.has(g)||h.push({name:g,status:"added",targetKey:w});let m=JSON.stringify(u.distribution)===JSON.stringify(d.distribution),R=JSON.stringify(u.organization)===JSON.stringify(d.organization),A={columnsAdded:E.filter(g=>g.status==="added").length,columnsRemoved:E.filter(g=>g.status==="removed").length,columnsModified:E.filter(g=>g.status==="modified").length,columnsUnchanged:E.filter(g=>g.status==="unchanged").length,keysAdded:h.filter(g=>g.status==="added").length,keysRemoved:h.filter(g=>g.status==="removed").length,keysModified:h.filter(g=>g.status==="modified").length};return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},columnDiffs:E,keyDiffs:h,distributionMatch:m,sourceDistribution:u.distribution,targetDistribution:d.distribution,organizationMatch:R,sourceOrganization:u.organization,targetOrganization:d.organization,summary:A}}finally{if(a)try{await a.close()}catch{}}}async function a3(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
    `,s=await qye(t,i);if(s.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let o=s[0];return{database:e,schema:r,procedureName:o.PROCEDURE,procedureSignature:o.PROCEDURESIGNATURE,arguments:o.ARGUMENTS||null,returns:o.RETURNS,executeAsOwner:!!o.EXECUTEDASOWNER,source:o.PROCEDURESOURCE,description:o.DESCRIPTION||null}}function Kye(t,e){let r=t.split(`
`).map(o=>o.trimEnd()),n=e.split(`
`).map(o=>o.trimEnd()),i=[],s=Math.max(r.length,n.length);for(let o=0;o<s;o++){let a=r[o]||"",l=n[o]||"";a===l?i.push(`  ${a}`):r[o]?n[o]?(i.push(`- ${a}`),i.push(`+ ${l}`)):i.push(`- ${a}`):i.push(`+ ${l}`)}return i}async function Jye(t,e,r,n,i,s,o){let a=null;try{let l={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},c=Ir();a=new c(l),await a.connect();let u=await a3(a,e,r,n),d=await a3(a,i,s,o),E=u.arguments===d.arguments,f=u.returns===d.returns,T=u.executeAsOwner===d.executeAsOwner,h=u.source.trim()===d.source.trim(),p=h?[]:Kye(u.source,d.source);return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},argumentsMatch:E,sourceArguments:u.arguments,targetArguments:d.arguments,returnsMatch:f,sourceReturns:u.returns,targetReturns:d.returns,executeAsOwnerMatch:T,sourceExecuteAsOwner:u.executeAsOwner,targetExecuteAsOwner:d.executeAsOwner,sourceMatch:h,sourceCode:u.source,targetCode:d.source,sourceDiff:p}}finally{if(a)try{await a.close()}catch{}}}var Ty=H(()=>{"use strict";tf()});var Sy={};_t(Sy,{SchemaCompareView:()=>py});var to,py,Ry=H(()=>{"use strict";to=q(require("vscode")),py=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.schemaCompare"}static createOrShow(e,r,n){let i=to.window.activeTextEditor?to.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._update(r,n);return}let s=to.window.createWebviewPanel(t.viewType,"Schema Comparison",i||to.ViewColumn.One,{enableScripts:!0,localResourceRoots:[to.Uri.joinPath(e,"media")]});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){r==="table"?(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getTableComparisonHtml(e)):(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getProcedureComparisonHtml(e))}_getStatusIcon(e){switch(e){case"added":return"\u{1F7E2}";case"removed":return"\u{1F534}";case"modified":return"\u{1F7E1}";case"unchanged":return"\u26AA"}}_getStatusClass(e){return`status-${e}`}_getTableComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.columnDiffs.map(l=>{let c=l.sourceColumn,u=l.targetColumn,d=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.fullTypeName||"-"}</td>
                    <td>${u?.fullTypeName||"-"}</td>
                    <td class="changes">${d}</td>
                </tr>
            `}).join(""),s=e.keyDiffs.map(l=>{let c=l.sourceKey,u=l.targetKey,d=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.type||"-"} (${c?.columns.join(", ")||"-"})</td>
                    <td>${u?.type||"-"} (${u?.columns.join(", ")||"-"})</td>
                    <td class="changes">${d}</td>
                </tr>
            `}).join(""),o=e.distributionMatch?"\u2705 Match":"\u274C Different",a=e.organizationMatch?"\u2705 Match":"\u274C Different";return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Schema Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Table Structure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="summary">
                        <h2>Summary</h2>
                        <div class="summary-grid">
                            <div class="summary-item added">\u{1F7E2} Added: ${e.summary.columnsAdded} columns, ${e.summary.keysAdded} keys</div>
                            <div class="summary-item removed">\u{1F534} Removed: ${e.summary.columnsRemoved} columns, ${e.summary.keysRemoved} keys</div>
                            <div class="summary-item modified">\u{1F7E1} Modified: ${e.summary.columnsModified} columns, ${e.summary.keysModified} keys</div>
                            <div class="summary-item unchanged">\u26AA Unchanged: ${e.summary.columnsUnchanged} columns</div>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Columns</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Column Name</th>
                                    <th>Source Type</th>
                                    <th>Target Type</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${i}
                            </tbody>
                        </table>
                    </div>

                    ${e.keyDiffs.length>0?`
                    <div class="section">
                        <h2>Keys & Constraints</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Key Name</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${s}
                            </tbody>
                        </table>
                    </div>
                    `:""}

                    <div class="section">
                        <h2>Distribution & Organization</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>DISTRIBUTE ON</strong></td>
                                    <td>${e.sourceDistribution.length>0?e.sourceDistribution.join(", "):"RANDOM"}</td>
                                    <td>${e.targetDistribution.length>0?e.targetDistribution.join(", "):"RANDOM"}</td>
                                    <td>${o}</td>
                                </tr>
                                <tr>
                                    <td><strong>ORGANIZE ON</strong></td>
                                    <td>${e.sourceOrganization.length>0?e.sourceOrganization.join(", "):"(none)"}</td>
                                    <td>${e.targetOrganization.length>0?e.targetOrganization.join(", "):"(none)"}</td>
                                    <td>${a}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </body>
            </html>
        `}_getProcedureComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.sourceDiff.map(s=>{let o="";return s.startsWith("+")?o="diff-added":s.startsWith("-")?o="diff-removed":o="diff-unchanged",`<div class="${o}">${this._escapeHtml(s)}</div>`}).join("");return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Procedure Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Procedure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Signature Comparison</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Match</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="${e.argumentsMatch?"":"status-modified"}">
                                    <td><strong>Arguments</strong></td>
                                    <td><code>${e.sourceArguments||"(none)"}</code></td>
                                    <td><code>${e.targetArguments||"(none)"}</code></td>
                                    <td>${e.argumentsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.returnsMatch?"":"status-modified"}">
                                    <td><strong>Returns</strong></td>
                                    <td><code>${e.sourceReturns}</code></td>
                                    <td><code>${e.targetReturns}</code></td>
                                    <td>${e.returnsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.executeAsOwnerMatch?"":"status-modified"}">
                                    <td><strong>Execute As</strong></td>
                                    <td>${e.sourceExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.targetExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.executeAsOwnerMatch?"\u2705":"\u274C"}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section">
                        <h2>Source Code ${e.sourceMatch?"\u2705 Identical":"\u274C Different"}</h2>
                        ${e.sourceMatch?`
                            <div class="code-block">
                                <pre>${this._escapeHtml(e.sourceCode)}</pre>
                            </div>
                        `:`
                            <div class="code-diff">
                                <pre>${i}</pre>
                            </div>
                        `}
                    </div>
                </div>
            </body>
            </html>
        `}_escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --added-bg: rgba(40, 167, 69, 0.2);
                --removed-bg: rgba(220, 53, 69, 0.2);
                --modified-bg: rgba(255, 193, 7, 0.2);
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .container {
                max-width: 1400px;
                margin: 0 auto;
            }

            h1 {
                border-bottom: 1px solid var(--border-color);
                padding-bottom: 10px;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.1em;
                margin-top: 25px;
                margin-bottom: 10px;
                color: var(--vscode-textLink-foreground);
            }

            .header-info {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 20px;
                padding: 15px;
                background-color: var(--header-bg);
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .header-info .label {
                font-weight: bold;
                margin-right: 8px;
            }

            .header-info .value {
                font-family: monospace;
                background-color: var(--vscode-textCodeBlock-background);
                padding: 4px 8px;
                border-radius: 4px;
            }

            .arrow {
                font-size: 1.5em;
                color: var(--vscode-charts-blue);
            }

            .summary {
                background-color: var(--header-bg);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .summary h2 {
                margin-top: 0;
            }

            .summary-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 10px;
            }

            .summary-item {
                padding: 8px;
                border-radius: 4px;
            }

            .summary-item.added { background-color: var(--added-bg); }
            .summary-item.removed { background-color: var(--removed-bg); }
            .summary-item.modified { background-color: var(--modified-bg); }

            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            tr.status-added {
                background-color: var(--added-bg);
            }

            tr.status-removed {
                background-color: var(--removed-bg);
            }

            tr.status-modified {
                background-color: var(--modified-bg);
            }

            .changes {
                font-size: 0.9em;
                color: var(--vscode-descriptionForeground);
            }

            .code-block, .code-diff {
                background-color: var(--vscode-textCodeBlock-background);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                padding: 15px;
                overflow-x: auto;
            }

            .code-block pre, .code-diff pre {
                margin: 0;
                font-family: var(--vscode-editor-font-family);
                font-size: var(--vscode-editor-font-size);
                white-space: pre;
            }

            .diff-added {
                background-color: var(--added-bg);
                color: #28a745;
            }

            .diff-removed {
                background-color: var(--removed-bg);
                color: #dc3545;
            }

            .diff-unchanged {
                color: var(--fg-color);
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var d3={};_t(d3,{buildERDData:()=>Qye,getForeignKeysForSchema:()=>c3,getTablesInSchema:()=>u3});async function c3(t,e,r,n,i){let s=`
        SELECT 
            X.SCHEMA,
            X.RELATION AS FROM_TABLE,
            X.CONSTRAINTNAME,
            X.ATTNAME AS FROM_COLUMN,
            X.PKDATABASE,
            X.PKSCHEMA,
            X.PKRELATION AS TO_TABLE,
            X.PKATTNAME AS TO_COLUMN,
            X.UPDT_TYPE,
            X.DEL_TYPE,
            X.CONSEQ
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'f'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY
            X.CONSTRAINTNAME, X.CONSEQ
    `,o=new Map;try{let a=await oe(t,s,!0,e,r);if(!a||!a.data)return[];let l=Ee(a);for(let c of l){let u=c.CONSTRAINTNAME,d=`${c.SCHEMA}.${c.FROM_TABLE}`,E=`${c.PKSCHEMA}.${c.TO_TABLE}`;o.has(u)||o.set(u,{constraintName:u,fromTable:d,toTable:E,fromColumns:[],toColumns:[],onDelete:c.DEL_TYPE||"NO ACTION",onUpdate:c.UPDT_TYPE||"NO ACTION"});let f=o.get(u);f.fromColumns.push(c.FROM_COLUMN),f.toColumns.push(c.TO_COLUMN)}}catch(a){console.warn("Cannot retrieve FK relationships:",a)}return Array.from(o.values())}async function u3(t,e,r,n,i,s){s?.report({message:"Fetching tables list..."});let o=`
        SELECT 
            T.TABLENAME,
            T.OWNER
        FROM 
            ${n.toUpperCase()}.._V_TABLE T
        WHERE 
            T.SCHEMA = '${i.toUpperCase()}'
        ORDER BY T.TABLENAME
    `,a=`
        SELECT 
            A.NAME AS TABLENAME,
            A.ATTNAME,
            A.FORMAT_TYPE
        FROM 
            ${n.toUpperCase()}.._V_RELATION_COLUMN A
        WHERE 
            A.SCHEMA = '${i.toUpperCase()}'
            AND A.TYPE = 'TABLE'
        ORDER BY A.NAME, A.ATTNUM
    `,l=`
        SELECT 
            X.RELATION,
            X.ATTNAME
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'p'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY X.RELATION, X.CONSEQ
    `,c=new Map;try{let u=await oe(t,o,!0,e,r);if(u&&u.data){let f=Ee(u);for(let T of f){let h=T.TABLENAME;c.set(h,{database:n,schema:i,tableName:h,fullName:`${i}.${h}`,columns:[],primaryKeyColumns:[]})}}s?.report({message:"Fetching columns..."});let d=await oe(t,a,!0,e,r);if(d&&d.data){let f=Ee(d);for(let T of f){let h=c.get(T.TABLENAME);h&&h.columns.push({name:T.ATTNAME,dataType:T.FORMAT_TYPE,isPrimaryKey:!1,isForeignKey:!1})}}s?.report({message:"Fetching primary keys..."});let E=await oe(t,l,!0,e,r);if(E&&E.data){let f=Ee(E);for(let T of f){let h=c.get(T.RELATION);if(h){h.primaryKeyColumns.push(T.ATTNAME);let p=h.columns.find(S=>S.name===T.ATTNAME);p&&(p.isPrimaryKey=!0)}}}}catch(u){console.warn("Cannot retrieve table information:",u)}return Array.from(c.values())}async function Qye(t,e,r,n,i,s){let[o,a]=await Promise.all([u3(t,e,r,n,i,s),c3(t,e,r,n,i)]);for(let u of a){let d=u.fromTable.split(".")[1],E=o.find(f=>f.tableName===d);if(E)for(let f of u.fromColumns){let T=E.columns.find(h=>h.name===f);T&&(T.isForeignKey=!0)}}let l=new Set;for(let u of a)l.add(u.fromTable.split(".")[1]),l.add(u.toTable.split(".")[1]);let c=o.filter(u=>l.has(u.tableName)||o.length<=20);return{database:n,schema:i,tables:c,relationships:a}}var f3=H(()=>{"use strict";lr()});var E3={};_t(E3,{ERDView:()=>Ay});var ro,Ay,h3=H(()=>{"use strict";ro=q(require("vscode")),Ay=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.erdView"}static createOrShow(e,r){let n=ro.window.activeTextEditor?ro.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n),t.currentPanel._update(r);return}let i=ro.window.createWebviewPanel(t.viewType,`ERD: ${r.database}.${r.schema}`,n||ro.ViewColumn.One,{enableScripts:!0,localResourceRoots:[ro.Uri.joinPath(e,"media")]});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){this._panel.title=`ERD: ${e.database}.${e.schema}`,this._panel.webview.html=this._getHtml(e)}_getHtml(e){let r=this._generateTableBoxes(e.tables,e.relationships),n=e.relationships.length,i=e.tables.length;return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Entity Relationship Diagram</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>Entity Relationship Diagram</h1>
                    <div class="header-info">
                        <span class="badge">${e.database}.${e.schema}</span>
                        <span class="stat">${i} tables</span>
                        <span class="stat">${n} relationships</span>
                    </div>
                </div>

                <div class="legend">
                    <span class="legend-item"><span class="pk-indicator">\u{1F511}</span> Primary Key</span>
                    <span class="legend-item"><span class="fk-indicator">\u{1F517}</span> Foreign Key</span>
                </div>

                ${n===0?`
                    <div class="no-relationships">
                        <p>\u26A0\uFE0F No foreign key relationships found in this schema.</p>
                        <p>Tables are displayed but no relationship lines can be drawn.</p>
                    </div>
                `:""}

                <div class="erd-container" id="erdContainer">
                    <div class="erd-canvas" id="erdCanvas">
                        ${r}
                        <svg class="relationships-svg" id="relationshipsSvg"></svg>
                    </div>
                </div>

                <div class="relationships-table">
                    <h2>Foreign Key Relationships</h2>
                    ${n>0?`
                        <table>
                            <thead>
                                <tr>
                                    <th>Constraint Name</th>
                                    <th>From Table</th>
                                    <th>Column(s)</th>
                                    <th>\u2192</th>
                                    <th>To Table</th>
                                    <th>Column(s)</th>
                                    <th>On Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${e.relationships.map(s=>`
                                    <tr>
                                        <td><code>${s.constraintName}</code></td>
                                        <td><strong>${s.fromTable}</strong></td>
                                        <td>${s.fromColumns.join(", ")}</td>
                                        <td>\u2192</td>
                                        <td><strong>${s.toTable}</strong></td>
                                        <td>${s.toColumns.join(", ")}</td>
                                        <td>${s.onDelete}</td>
                                    </tr>
                                `).join("")}
                            </tbody>
                        </table>
                    `:"<p>No foreign key relationships defined.</p>"}
                </div>

                <script>
                    ${this._getScript(e)}
                </script>
            </body>
            </html>
        `}_generateTableBoxes(e,r){let n=new Map,i=new Map,s=new Map;e.forEach(B=>{let F=B.tableName;n.set(F,new Set),i.set(F,0),s.set(F,0)}),r.forEach(B=>{let F=B.fromTable.includes(".")?B.fromTable.split(".").pop():B.fromTable,Y=B.toTable.includes(".")?B.toTable.split(".").pop():B.toTable;n.has(F)&&(n.get(F).add(Y),i.set(F,(i.get(F)||0)+1)),n.has(Y)&&(n.get(Y).add(F),s.set(Y,(s.get(Y)||0)+1))});let o=[],a=[],l=[];e.forEach(B=>{let F=i.get(B.tableName)||0;(n.get(B.tableName)?.size||0)===0?l.push(B):F>0?o.push(B):a.push(B)}),o.sort((B,F)=>{let Y=i.get(B.tableName)||0;return(i.get(F.tableName)||0)-Y});let c=new Map,u=new Set,d=260,E=240,f=50,T=40,h=d+f,p=E+T,S=(B,F)=>`${B},${F}`,m=(B,F)=>u.add(S(B,F)),R=(B,F)=>u.has(S(B,F)),A=(B,F=0)=>{let Y=F;for(;R(B,Y);)Y++;return Y},g=0,w=1,I=2,D=B=>20+B*h,b=B=>20+B*p;o.forEach(B=>{let F=A(w);m(w,F),c.set(B.tableName,{x:D(w),y:b(F)})});let P=new Map,M=[];return a.forEach(B=>{let F=n.get(B.tableName)||new Set,Y=null;for(let J of F)if(o.some(re=>re.tableName===J)){Y=J;break}Y?(P.has(Y)||P.set(Y,[]),P.get(Y).push(B)):M.push(B)}),P.forEach((B,F)=>{let Y=c.get(F);if(!Y)return;let J=Math.round((Y.y-20)/p);B.forEach((re,te)=>{let Be=te%2===0?g:I,fe=J+Math.floor(te/2);for(;R(Be,fe);)fe++;m(Be,fe),c.set(re.tableName,{x:D(Be),y:b(fe)})})}),M.forEach(B=>{let F=!1;for(let Y of[g,I]){let J=A(Y);F||(m(Y,J),c.set(B.tableName,{x:D(Y),y:b(J)}),F=!0)}}),l.length>0&&l.forEach((F,Y)=>{let J=Y;c.set(F.tableName,{x:D(3),y:b(J)})}),e.map(B=>{let F=c.get(B.tableName)||{x:20,y:20},Y=B.columns.slice(0,10).map(re=>{let te=[];re.isPrimaryKey&&te.push("\u{1F511}"),re.isForeignKey&&te.push("\u{1F517}");let Be=te.length>0?`<span class="col-icons">${te.join("")}</span>`:"";return`
                    <div class="table-column ${re.isPrimaryKey?"pk":""} ${re.isForeignKey?"fk":""}" data-col="${re.name}">
                        ${Be}
                        <span class="col-name">${re.name}</span>
                        <span class="col-type">${re.dataType}</span>
                    </div>
                `}).join(""),J=B.columns.length>10?`<div class="more-columns">... and ${B.columns.length-10} more</div>`:"";return`
                <div class="table-box" id="table-${B.tableName}" 
                     data-table="${B.fullName}"
                     style="left: ${F.x}px; top: ${F.y}px;">
                    <div class="table-header">${B.tableName}</div>
                    <div class="table-columns">
                        ${Y}
                        ${J}
                    </div>
                </div>
            `}).join("")}_getScript(e){return`
            (function() {
                const relationships = ${JSON.stringify(e.relationships)};
                const canvas = document.getElementById('erdCanvas');
                const svg = document.getElementById('relationshipsSvg');
                
                function getTableBox(el) {
                    const left = parseInt(el.style.left) || 0;
                    const top = parseInt(el.style.top) || 0;
                    const width = el.offsetWidth;
                    const height = el.offsetHeight;
                    return {
                        left: left,
                        top: top,
                        right: left + width,
                        bottom: top + height,
                        centerX: left + width / 2,
                        centerY: top + height / 2
                    };
                }

                function getColumnPosition(tableEl, columnName) {
                    // Try to find exact column
                    let colEl = tableEl.querySelector('.table-column[data-col="' + columnName + '"]');
                    
                    // If not found (hidden by "more columns"), try to estimate or return center
                    if (!colEl) return null;

                    // Calculate position relative to the table box
                    const tableRect = tableEl.getBoundingClientRect();
                    const colRect = colEl.getBoundingClientRect();
                    const canvasRect = canvas.getBoundingClientRect();

                    // Relative Y from canvas top
                    // We can't just subtract rects if the canvas is scrolled, but here we want SVG coords (absolute in canvas)
                    // The table.style.top is relative to canvas.
                    // The column offset within table is colRect.top - tableRect.top
                    // So Y = table.style.top + (colRect.top - tableRect.top) + colHeight/2
                    
                    const relativeTop = colRect.top - tableRect.top;
                    const centerY = relativeTop + colRect.height / 2;
                    
                    // We need to account for table scroll position if any?
                    // getBoundingClientRect takes visual position, so it accounts for scroll.
                    
                    const tableStyleTop = parseInt(tableEl.style.top) || 0;
                    
                    return tableStyleTop + centerY;
                }
                
                function drawRelationships() {
                    svg.innerHTML = '';
                    
                    // Update SVG size
                    let maxX = 1200, maxY = 600;
                    document.querySelectorAll('.table-box').forEach(el => {
                        const box = getTableBox(el);
                        maxX = Math.max(maxX, box.right + 50);
                        maxY = Math.max(maxY, box.bottom + 50);
                    });
                    
                    svg.setAttribute('width', maxX);
                    svg.setAttribute('height', maxY);
                    svg.style.width = maxX + 'px';
                    svg.style.height = maxY + 'px';
                    
                    // Defs
                    const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                    const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
                    marker.setAttribute('id', 'arrowhead');
                    marker.setAttribute('markerWidth', '10');
                    marker.setAttribute('markerHeight', '7');
                    marker.setAttribute('refX', '10');
                    marker.setAttribute('refY', '3.5');
                    marker.setAttribute('orient', 'auto');
                    const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                    polygon.setAttribute('points', '0 0, 10 3.5, 0 7');
                    polygon.setAttribute('fill', '#3794ff');
                    marker.appendChild(polygon);
                    defs.appendChild(marker);
                    svg.appendChild(defs);
                    
                    relationships.forEach((rel, index) => {
                        const childTableName = rel.fromTable.split('.')[1];
                        const parentTableName = rel.toTable.split('.')[1];
                        
                        const childEl = document.getElementById('table-' + childTableName);
                        const parentEl = document.getElementById('table-' + parentTableName);
                        
                        if (!childEl || !parentEl) return;
                        
                        const childBox = getTableBox(childEl);
                        const parentBox = getTableBox(parentEl);
                        
                        // Determine L/R relationship
                        // If Parent is to the right of Child: Child Right -> Parent Left
                        const parentIsRight = parentBox.centerX > childBox.centerX;
                        
                        let fromX, fromY, toX, toY;
                        let fromControlX, toControlX;
                        
                        // Default Y to center if col not found
                        fromY = childBox.centerY;
                        toY = parentBox.centerY;
                        
                        // Try get specific column Y
                        const colY1 = getColumnPosition(childEl, rel.fromColumns[0]);
                        const colY2 = getColumnPosition(parentEl, rel.toColumns[0]);
                        
                        if (colY1 !== null) fromY = colY1;
                        if (colY2 !== null) toY = colY2;
                        
                        if (parentIsRight) {
                            fromX = childBox.right;
                            toX = parentBox.left;
                            fromControlX = fromX + 50;
                            toControlX = toX - 50;
                        } else {
                            fromX = childBox.left;
                            toX = parentBox.right;
                            fromControlX = fromX - 50;
                            toControlX = toX + 50;
                        }
                        
                        // Calculate Bezier curve
                        // M start C c1 c2 end
                        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                        
                        // Adjust constraints for multiple lines?
                        // Simple cubic bezier is best for side-to-side
                        const d = \`M \${fromX} \${fromY} C \${fromControlX} \${fromY}, \${toControlX} \${toY}, \${toX} \${toY}\`;
                        
                        path.setAttribute('d', d);
                        path.setAttribute('stroke', '#3794ff');
                        path.setAttribute('stroke-width', '2');
                        path.setAttribute('fill', 'none');
                        path.setAttribute('marker-end', 'url(#arrowhead)');
                        path.setAttribute('class', 'relationship-line');
                        
                        const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
                        title.textContent = rel.constraintName + ': ' + 
                            childTableName + '.' + rel.fromColumns.join(',') + ' -> ' + 
                            parentTableName + '.' + rel.toColumns.join(',');
                        path.appendChild(title);
                        
                        svg.appendChild(path);
                    });
                }
                
                // Dragging Logic
                let dragging = null;
                let dragStartX = 0, dragStartY = 0;
                let elemStartLeft = 0, elemStartTop = 0;
                
                document.querySelectorAll('.table-box').forEach(table => {
                    const header = table.querySelector('.table-header');
                    if (header) {
                        header.addEventListener('mousedown', function(e) {
                            e.preventDefault();
                            dragging = table;
                            dragStartX = e.pageX;
                            dragStartY = e.pageY;
                            elemStartLeft = parseInt(table.style.left) || 0;
                            elemStartTop = parseInt(table.style.top) || 0;
                            table.style.zIndex = '1000';
                            document.body.style.cursor = 'grabbing';
                        });
                    }
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (!dragging) return;
                    const dx = e.pageX - dragStartX;
                    const dy = e.pageY - dragStartY;
                    dragging.style.left = Math.max(0, elemStartLeft + dx) + 'px';
                    dragging.style.top = Math.max(0, elemStartTop + dy) + 'px';
                    drawRelationships();
                });
                
                document.addEventListener('mouseup', function() {
                    if (dragging) {
                        dragging.style.zIndex = '';
                        document.body.style.cursor = '';
                        dragging = null;
                    }
                });
                
                requestAnimationFrame(() => setTimeout(drawRelationships, 50));
                window.addEventListener('resize', drawRelationships);
            })();
        `}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --table-bg: var(--vscode-editorWidget-background);
                --pk-color: #f1c40f;
                --fk-color: #3498db;
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                padding-bottom: 10px;
                border-bottom: 1px solid var(--border-color);
            }

            .header h1 {
                margin: 0;
                font-size: 1.4em;
            }

            .header-info {
                display: flex;
                gap: 15px;
                align-items: center;
            }

            .badge {
                background-color: var(--vscode-badge-background);
                color: var(--vscode-badge-foreground);
                padding: 4px 10px;
                border-radius: 12px;
                font-size: 0.9em;
            }

            .stat {
                color: var(--vscode-descriptionForeground);
                font-size: 0.9em;
            }

            .legend {
                display: flex;
                gap: 20px;
                margin-bottom: 15px;
                font-size: 0.9em;
            }

            .legend-item {
                display: flex;
                align-items: center;
                gap: 5px;
            }

            .no-relationships {
                background-color: rgba(255, 193, 7, 0.2);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 15px;
            }

            .no-relationships p {
                margin: 5px 0;
            }

            .erd-container {
                background-color: var(--header-bg);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                overflow: auto;
                margin-bottom: 20px;
                min-height: 400px;
            }

            .erd-canvas {
                position: relative;
                min-width: 1200px;
                min-height: 600px;
            }

            .relationships-svg {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
            }

            .relationship-line {
                pointer-events: stroke;
            }

            .relationship-line:hover {
                stroke-width: 3;
            }

            .table-box {
                position: absolute;
                width: 250px;
                background-color: var(--table-bg);
                border: 2px solid var(--border-color);
                border-radius: 6px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            }

            .table-header {
                background-color: var(--vscode-textLink-foreground);
                color: white;
                padding: 8px 12px;
                font-weight: bold;
                cursor: move;
                font-size: 0.95em;
            }

            .table-columns {
                max-height: 200px;
                overflow-y: auto;
            }

            .table-column {
                display: flex;
                align-items: center;
                padding: 4px 10px;
                border-bottom: 1px solid var(--border-color);
                font-size: 0.85em;
                gap: 6px;
            }

            .table-column:last-child {
                border-bottom: none;
            }

            .table-column.pk {
                background-color: rgba(241, 196, 15, 0.1);
            }

            .table-column.fk {
                background-color: rgba(52, 152, 219, 0.1);
            }

            .col-icons {
                font-size: 0.8em;
            }

            .col-name {
                flex: 1;
                font-weight: 500;
            }

            .col-type {
                color: var(--vscode-descriptionForeground);
                font-size: 0.85em;
            }

            .more-columns {
                padding: 6px 10px;
                color: var(--vscode-descriptionForeground);
                font-style: italic;
                font-size: 0.85em;
            }

            .relationships-table {
                margin-top: 20px;
            }

            .relationships-table h2 {
                font-size: 1.1em;
                margin-bottom: 10px;
            }

            table {
                width: 100%;
                border-collapse: collapse;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var T3={};_t(T3,{SessionMonitorView:()=>my});function Zye(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var nn,my,p3=H(()=>{"use strict";nn=q(require("vscode"));lr();my=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._context=n,this._connectionManager=i,this._update(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(async s=>{switch(s.command){case"refresh":await this._fetchAndSendData();return;case"killSession":await this._killSession(s.sessionId);return;case"toggleAutoRefresh":this._toggleAutoRefresh(s.enabled);return}},null,this._disposables),this._fetchAndSendData()}static{this.viewType="netezza.sessionMonitor"}static createOrShow(e,r,n){let i=nn.window.activeTextEditor?nn.ViewColumn.Beside:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._fetchAndSendData();return}let s=nn.window.createWebviewPanel(t.viewType,"Session Monitor",i||nn.ViewColumn.One,{enableScripts:!0,localResourceRoots:[nn.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._refreshInterval&&clearInterval(this._refreshInterval),this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_toggleAutoRefresh(e){e?this._refreshInterval=setInterval(()=>{this._fetchAndSendData()},12e4):this._refreshInterval&&(clearInterval(this._refreshInterval),this._refreshInterval=void 0)}async _killSession(e){try{if(await nn.window.showWarningMessage(`Are you sure you want to terminate session ${e}?`,{modal:!0},"Yes, Kill Session")!=="Yes, Kill Session")return;let n=`DROP SESSION ${e}`;await oe(this._context,n,!0,this._connectionManager,void 0),nn.window.showInformationMessage(`Session ${e} terminated successfully.`),await this._fetchAndSendData()}catch(r){nn.window.showErrorMessage(`Failed to kill session: ${r instanceof Error?r.message:String(r)}`)}}async _fetchAndSendData(){this._panel.webview.postMessage({command:"setLoading",loading:!0});try{let[e,r,n,i]=await Promise.all([this._fetchSessions(),this._fetchQueries(),this._fetchStorage(),this._fetchResources()]);this._panel.webview.postMessage({command:"updateData",data:{sessions:e,queries:r,storage:n,resources:i}})}catch(e){this._panel.webview.postMessage({command:"error",text:`Failed to fetch data: ${e instanceof Error?e.message:String(e)}`})}finally{this._panel.webview.postMessage({command:"setLoading",loading:!1})}}async _fetchSessions(){let e=`
            SELECT ID, PID, USERNAME, DBNAME, TYPE, CONNTIME, STATUS, 
                   SUBSTR(COMMAND, 1, 200) AS COMMAND, PRIORITY, CID, IPADDR, CLIENT_OS_USERNAME
            FROM _V_SESSION
            ORDER BY CONNTIME DESC
        `;try{let r=await oe(this._context,e,!0,this._connectionManager,void 0);return!r||!r.data?[]:Ee(r)}catch(r){return console.error("Error fetching sessions:",r),[]}}async _fetchQueries(){let e=`
            SELECT Q.QS_SESSIONID, Q.QS_PLANID, Q.QS_CLIENTID, Q.QS_CLIIPADDR,
                   SUBSTR(Q.QS_SQL, 1, 300) AS QS_SQL, 
                   Q.QS_STATE, Q.QS_TSUBMIT, Q.QS_TSTART, 
                   Q.QS_PRIORITY, Q.QS_PRITXT, Q.QS_ESTCOST, 
                   Q.QS_ESTDISK, Q.QS_ESTMEM, Q.QS_SNIPPETS, Q.QS_CURSNIPT,
                   Q.QS_RESROWS, Q.QS_RESBYTES,
                   S.USERNAME
            FROM _V_QRYSTAT Q
            LEFT JOIN _V_SESSION S ON Q.QS_SESSIONID = S.ID
            ORDER BY Q.QS_TSTART DESC
            LIMIT 100
        `;try{let r=await oe(this._context,e,!0,this._connectionManager,void 0);return!r||!r.data?[]:Ee(r)}catch(r){return console.error("Error fetching queries:",r),[]}}async _fetchStorage(){let e=`
            SELECT O.DBNAME AS DATABASE, TS.SCHEMA, 
                   ROUND(SUM(TS.ALLOCATED_BYTES) / 1024.0 / 1024.0, 2) AS ALLOC_MB,
                   ROUND(SUM(TS.USED_BYTES) / 1024.0 / 1024.0, 2) AS USED_MB,
                   ROUND(SUM(TS.SKEW * TS.USED_BYTES) / NULLIF(SUM(TS.USED_BYTES), 0), 2) AS AVG_SKEW,
                   COUNT(*) AS TABLE_COUNT
            FROM _V_TABLE_STORAGE_STAT TS
            JOIN _V_OBJECT_DATA O ON TS.OBJID = O.OBJID
            GROUP BY O.DBNAME, TS.SCHEMA
            ORDER BY USED_MB DESC
        `;try{let r=await oe(this._context,e,!0,this._connectionManager,void 0);return!r||!r.data?[]:Ee(r)}catch(r){return console.error("Error fetching storage:",r),[]}}async _fetchResources(){let e=[],r=[],n=null;try{let i=await oe(this._context,"SELECT * FROM _V_SCHED_GRA_EXT LIMIT 50",!0,this._connectionManager,void 0);i&&i.data&&(e=Ee(i))}catch(i){console.warn("_V_SCHED_GRA_EXT not available:",i)}try{let i=await oe(this._context,"SELECT * FROM _V_SYSTEM_UTIL ORDER BY 1 DESC LIMIT 50",!0,this._connectionManager,void 0);i&&i.data&&(r=Ee(i))}catch(i){console.warn("_V_SYSTEM_UTIL not available:",i)}try{let i=await oe(this._context,`SELECT 
                    ROUND(AVG(HOST_CPU) * 100, 1) AS AVG_HOST_CPU_PCT,
                    ROUND(AVG(SPU_CPU) * 100, 1) AS AVG_SPU_CPU_PCT,
                    ROUND(AVG(HOST_DISK) * 100, 1) AS AVG_DISK_PCT,
                    ROUND(AVG(HOST_MEMORY) * 100, 1) AS AVG_MEMORY_PCT,
                    ROUND(AVG(HOST_FABRIC) * 100, 1) AS AVG_FABRIC_PCT,
                    COUNT(*) AS SAMPLE_COUNT
                FROM _V_SYSTEM_UTIL`,!0,this._connectionManager,void 0);if(i&&i.data){let s=Ee(i);n=s.length>0?s[0]:null}}catch(i){console.warn("_V_SYSTEM_UTIL summary not available:",i)}return{gra:e,systemUtil:r,sysUtilSummary:n}}_update(){let e=this._panel.webview;this._panel.title="Session Monitor",this._panel.webview.html=this._getHtmlForWebview(e)}_getHtmlForWebview(e){let r=e.asWebviewUri(nn.Uri.joinPath(this._extensionUri,"media","sessionMonitor.js")),n=e.asWebviewUri(nn.Uri.joinPath(this._extensionUri,"media","sessionMonitor.css")),i=Zye();return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Session Monitor</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>\u{1F5A5}\uFE0F Session Monitor Dashboard</h2>
            <div class="header-actions">
                <label class="auto-refresh">
                    <input type="checkbox" id="autoRefresh"> Auto-refresh (2 min)
                </label>
                <button id="refreshBtn" class="btn btn-primary">\u{1F504} Refresh</button>
            </div>
        </div>

        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <span>Loading data...</span>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="sessions">\u{1F4CB} Sessions</button>
            <button class="tab-btn" data-tab="queries">\u23F1\uFE0F Running Queries</button>
            <button class="tab-btn" data-tab="storage">\u{1F4BE} Storage</button>
            <button class="tab-btn" data-tab="resources">\u{1F4CA} Resources</button>
        </div>

        <div class="tab-content" id="sessions">
            <div class="section-header">
                <h3>Active Sessions</h3>
                <div class="filter-controls">
                    <input type="text" id="sessionUserFilter" placeholder="Filter by User..." class="filter-input">
                </div>
                <span class="count" id="sessionCount">0 sessions</span>
            </div>
            <div class="table-container">
                <table id="sessionsTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>PID</th>
                            <th>User</th>
                            <th>Database</th>
                            <th>Type</th>
                            <th>Connected</th>
                            <th>Status</th>
                            <th>IP</th>
                            <th>Command</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="queries">
            <div class="section-header">
                <h3>Running Queries</h3>
                <div class="filter-controls">
                    <input type="text" id="queryUserFilter" placeholder="Filter by User..." class="filter-input">
                </div>
                <span class="count" id="queryCount">0 queries</span>
            </div>
            <div class="table-container">
                <table id="queriesTable">
                    <thead>
                        <tr>
                            <th>Session</th>
                            <th>User</th>
                            <th>Plan ID</th>
                            <th>State</th>
                            <th>Priority</th>
                            <th>Submitted</th>
                            <th>Started</th>
                            <th>Est. Cost</th>
                            <th>Rows</th>
                            <th>SQL</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="storage">
            <div class="section-header">
                <h3>Storage by Schema</h3>
                <span class="count" id="storageCount">0 schemas</span>
            </div>
            <div class="table-container">
                <table id="storageTable">
                    <thead>
                        <tr>
                            <th>Database</th>
                            <th>Schema</th>
                            <th>Allocated (MB)</th>
                            <th>Used (MB)</th>
                            <th>Usage %</th>
                            <th>Avg Skew</th>
                            <th>Tables</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="resources">
            <div class="section-header">
                <h3>Resource Utilization</h3>
            </div>
            <div class="resources-grid">
                <div class="resource-section">
                    <h4>GRA Scheduler</h4>
                    <div id="graTable" class="table-container small"></div>
                </div>
                <div class="resource-section">
                    <h4>System Utilization</h4>
                    <div id="sysUtilSummary"></div>
                    <div id="sysUtilTable" class="table-container small"></div>
                </div>
            </div>
        </div>
    </div>

    <script nonce="${i}" src="${r}"></script>
</body>
</html>`}}});var I3={};_t(I3,{XlsxWriter:()=>HS,default:()=>tbe});var m3,_3,_y,A3,ebe,HS,tbe,g3=H(()=>{"use strict";m3=q(require("fs")),_3=q(UC()),_y=require("stream");BC();A3=(()=>{let t=[];for(let r=65;r<91;r++)t.push(String.fromCharCode(r));let e=[];for(let r of t)for(let n=65;n<91;n++)e.push(r+String.fromCharCode(n));return t.push(...e),t})(),ebe=/[\\/*?[\]:]/g,HS=class{constructor(e){this.sheetCount=0;this.sheetList=[];this.sstArray=[];this.sstMap=new Map;this.sstCntAll=0;this.colWidths=[];this._autofilterIsOn=!1;this.filePath=e,this.output=m3.createWriteStream(e),this.archive=(0,_3.default)("zip"),this.archive.pipe(this.output),this._oaEpoch=Date.UTC(1899,11,30)}_getColumnLetter(e){return e<A3.length?A3[e]:"A"}_sanitizeSheetName(e){if(!e||typeof e!="string")return`Sheet${this.sheetCount+1}`;let r=e.replace(ebe,"_");return r.length>31&&(r=r.substring(0,31)),r.trim().length===0&&(r=`Sheet${this.sheetCount+1}`),r}_escapeSheetNameForXml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}_formatSheetNameForFormula(e){return/[\s\-+=()!@#$%^&]/.test(e)||/^[0-9]/.test(e)?`'${e.replace(/'/g,"''")}'`:e}addSheet(e,r=!1){let n=this._sanitizeSheetName(e);this.sheetCount++;let i=`rId${this.sheetCount}`,s=`sheet${this.sheetCount}.xml`;this.sheetList.push({name:n,pathInArchive:`xl/worksheets/${s}`,hidden:r,nameInArchive:s,sheetId:this.sheetCount,rId:i,filterHeaderRange:null})}_needsEscape(e){for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n===38||n===60||n===62||n===34||n===39||n>=0&&n<=8||n===11||n===12||n>=14&&n<=31)return!0}return!1}_escape(e){return typeof e!="string"||!this._needsEscape(e)?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/[\x00-\x08\x0b\x0c\x0e-\x1f]/g,"")}writeSheet(e,r=null,n=!0){let i=new os,s=0;e.length>0?s=e[0].length:r&&(s=r.length),this.colWidths=new Array(s).fill(-1);let o=new Array(s);for(let u=0;u<s;u++)o[u]=this._getColumnLetter(u);if(r)for(let u=0;u<s;u++){let E=1.25*(r[u]?r[u].length:0)+2;E>80&&(E=80),this.colWidths[u]<E&&(this.colWidths[u]=E)}for(let u=0;u<Math.min(e.length,100);u++){let d=e[u];for(let E=0;E<d.length;E++){let f=d[E];if(f==null)continue;let h=1.25*(f instanceof Date?10:f.toString().length)+2;h>80&&(h=80),this.colWidths[E]<h&&(this.colWidths[E]=h)}}i.writeString('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'),i.writeString('<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">');let a=e.length+(r?1:0);a>0&&s>0?i.writeString(`<dimension ref="A1:${o[s-1]}${a}"/>`):i.writeString('<dimension ref="A1"/>');let l=this.sheetCount===1;n&&r?l?i.writeString('<sheetViews><sheetView tabSelected="1" workbookViewId="0"><pane ySplit="1" topLeftCell="A2" activePane="bottomLeft" state="frozen" /><selection pane="bottomLeft" /></sheetView></sheetViews><sheetFormatPr defaultRowHeight="15"/>'):i.writeString('<sheetViews><sheetView workbookViewId="0"><pane ySplit="1" topLeftCell="A2" activePane="bottomLeft" state="frozen" /><selection pane="bottomLeft" /></sheetView></sheetViews><sheetFormatPr defaultRowHeight="15"/>'):l?i.writeString('<sheetViews><sheetView tabSelected="1" workbookViewId="0"/></sheetViews><sheetFormatPr defaultRowHeight="15"/>'):i.writeString('<sheetViews><sheetView workbookViewId="0"/></sheetViews><sheetFormatPr defaultRowHeight="15"/>'),i.writeString("<cols>");for(let u=0;u<s;u++){let d=this.colWidths[u]>0?this.colWidths[u]:10;i.writeString(`<col min="${u+1}" max="${u+1}" width="${d}" bestFit="1" customWidth="1" />`)}i.writeString("</cols><sheetData>");let c=0;if(r){c++,i.writeString(`<row r="${c}">`);for(let u=0;u<r.length;u++)this._writeStringCell(i,r[u],o[u],c);i.writeString("</row>")}for(let u=0;u<e.length;u++){c++,i.writeString(`<row r="${c}">`);let d=e[u];for(let E=0;E<d.length;E++){let f=d[E];if(f==null)continue;let T=o[E];if(typeof f=="number")Number.isFinite(f)?i.writeString(`<c r="${T}${c}"><v>${f}</v></c>`):this._writeStringCell(i,f.toString(),T,c);else if(typeof f=="bigint")this._writeStringCell(i,f.toString(),T,c);else if(typeof f=="boolean")i.writeString(`<c r="${T}${c}" t="b"><v>${f?1:0}</v></c>`);else if(f instanceof Date){let h=this._toOADate(f);Number.isFinite(h)?i.writeString(`<c r="${T}${c}" s="1"><v>${h}</v></c>`):this._writeStringCell(i,f.toString(),T,c)}else this._writeStringCell(i,f.toString(),T,c)}i.writeString("</row>")}if(i.writeString("</sheetData>"),n&&r&&s>0){this._autofilterIsOn=!0;let u=`A1:${o[s-1]}${a}`;i.writeString(`<autoFilter ref="${u}"/>`);let d=this.sheetList[this.sheetCount-1],E=this._formatSheetNameForFormula(d.name);d.filterHeaderRange=`${E}!$A$1:$${o[s-1]}$${a}`}i.writeString("</worksheet>"),this.archive.append(_y.Readable.from(i.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive})}_writeStringCell(e,r,n,i){let s=this.sstMap.get(r);s===void 0&&(s=this.sstArray.length,this.sstArray.push(r),this.sstMap.set(r,s)),this.sstCntAll++,e.writeString(`<c r="${n}${i}" t="s"><v>${s}</v></c>`)}_toOADate(e){let r=e.getTimezoneOffset()*6e4;return(e.getTime()-r-this._oaEpoch)/864e5}finalize(){return new Promise((e,r)=>{try{this._writeSharedStrings(),this._writeStyles(),this._writeWorkbook(),this._writeContentTypes(),this._writeRels(),this.output.on("close",()=>{e()}),this.archive.on("error",n=>{r(n)}),this.archive.finalize()}catch(n){r(n)}})}_writeSharedStrings(){let e=new os;e.writeString('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'),e.writeString(`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${this.sstCntAll}" uniqueCount="${this.sstArray.length}">`);for(let r=0;r<this.sstArray.length;r++){let n=this.sstArray[r],i=this._escape(n);i.length>0&&(i[0]===" "||i[i.length-1]===" "||/[\t\n\r]/.test(i))?e.writeString(`<si><t xml:space="preserve">${i}</t></si>`):e.writeString(`<si><t>${i}</t></si>`)}e.writeString("</sst>"),this.archive.append(_y.Readable.from(e.getChunks()),{name:"xl/sharedStrings.xml"})}_writeStyles(){this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">
<numFmts count="1">
    <numFmt numFmtId="164" formatCode="yyyy\\-mm\\-dd\\ hh:mm:ss"/>
</numFmts>
<fonts count="1">
<font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>
</fonts>
<fills count="2">
<fill><patternFill patternType="none"/></fill>
<fill><patternFill patternType="gray125"/></fill>
</fills>
<borders count="1">
<border><left/><right/><top/><bottom/><diagonal/></border>
</borders>
<cellStyleXfs count="1">
<xf numFmtId="0" fontId="0" fillId="0" borderId="0"/>
</cellStyleXfs>
<cellXfs count="3">
<xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>
<xf numFmtId="14" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/>
<xf numFmtId="164" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/>
</cellXfs>
<cellStyles count="1">
<cellStyle name="Normal" xfId="0" builtinId="0"/>
</cellStyles>
<dxfs count="0"/>
<tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/>
</styleSheet>`,{name:"xl/styles.xml"})}_writeWorkbook(){let e=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">
<sheets>`;for(let r of this.sheetList){let n=r.hidden?' state="hidden"':"",i=this._escapeSheetNameForXml(r.name);e+=`<sheet name="${i}" sheetId="${r.sheetId}"${n} r:id="${r.rId}"/>`}if(e+="</sheets>",this._autofilterIsOn){e+="<definedNames>";for(let r of this.sheetList)if(r.filterHeaderRange){let n=r.sheetId-1,i=this._escape(r.filterHeaderRange);e+=`<definedName name="_xlnm._FilterDatabase" localSheetId="${n}" hidden="1">${i}</definedName>`}e+="</definedNames>"}e+="</workbook>",this.archive.append(e,{name:"xl/workbook.xml"})}_writeContentTypes(){let e=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>
<Default Extension="xml" ContentType="application/xml"/>
<Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>
<Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>
<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>`;for(let r of this.sheetList)e+=`<Override PartName="/${r.pathInArchive}" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>`;e+="</Types>",this.archive.append(e,{name:"[Content_Types].xml"})}_writeRels(){this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>
</Relationships>`,{name:"_rels/.rels"});let r=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`;for(let i of this.sheetList)r+=`<Relationship Id="${i.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/${i.nameInArchive}"/>`;let n=this.sheetList.length+1;r+=`<Relationship Id="rId${n++}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/>`,r+=`<Relationship Id="rId${n++}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/>`,r+="</Relationships>",this.archive.append(r,{name:"xl/_rels/workbook.xml.rels"})}},tbe=HS});var Ny={};_t(Ny,{copyFileToClipboard:()=>gy,exportCsvToXlsx:()=>sbe,exportStructuredToXlsx:()=>obe,getTempFilePath:()=>abe});function nbe(t){return t?rbe.has(t.toUpperCase()):!1}function C3(t){if(typeof t=="string"&&t.length>0){if(t.length>15||/^-?0\d+/.test(t))return t;if(/^-?\d+(\.\d+)?$/.test(t)){let e=parseFloat(t);if(Number.isFinite(e))return e}}return t}function ibe(t){return t.map(C3)}async function sbe(t,e,r=!1,n={source:"Unknown"},i){try{i&&i("Initializing XLSX writer...");let s=new O3(e),o=0,a=0,l=[],c=(f,T)=>{let h=f.split(/\r?\n/),p=A=>{let g=[],w=0,I=!1;for(let b=0;b<A.length;b++)if(A[b]==='"')I=!I;else if(A[b]===","&&!I){let P=A.substring(w,b);P.startsWith('"')&&P.endsWith('"')&&(P=P.substring(1,P.length-1).replace(/""/g,'"')),g.push(P),w=b+1}let D=A.substring(w);return D.startsWith('"')&&D.endsWith('"')&&(D=D.substring(1,D.length-1).replace(/""/g,'"')),g.push(D),g},S=0;for(;S<h.length&&!h[S].trim();)S++;if(S>=h.length)return;let m=p(h[S]);if(m.length===0)return;a=Math.max(a,m.length);let R=[];for(let A=S+1;A<h.length;A++){let g=h[A];if(!g.trim())continue;let w=p(g);R.push(ibe(w))}s.addSheet(T),s.writeSheet(R,m,!0),o+=R.length};if(Array.isArray(t)?(i&&i(`Processing ${t.length} result sets...`),t.forEach((f,T)=>{let h=f.name||`Result ${T+1}`;i&&i(`Processing sheet "${h}"...`),c(f.csv,h),f.sql&&l.push({name:h,sql:f.sql})})):(i&&i("Reading CSV content..."),c(t,"Query Results"),n.sql&&l.push({name:"Query Results",sql:n.sql})),l.length>0){s.addSheet("SQL Code");let f=[];l.forEach(T=>{f.push([`--- SQL for ${T.name} ---`]),T.sql.split(`
`).forEach(h=>{f.push([h])}),f.push([""])}),s.writeSheet(f,null,!1)}i&&i("Finalizing XLSX file..."),await s.finalize();let d=Iy.statSync(e).size/(1024*1024);i&&(i("XLSX file created successfully"),i(`  - Rows: ${o.toLocaleString()}`),i(`  - File size: ${d.toFixed(1)} MB`));let E={success:!0,message:`Successfully exported ${o} rows to ${e}`,details:{rows_exported:o,columns:a,file_size_mb:parseFloat(d.toFixed(1)),file_path:e}};if(r){i&&i("Copying file to clipboard...");let f=await gy(e);E.details&&(E.details.clipboard_success=f)}return E}catch(s){return{success:!1,message:`Export failed: ${s instanceof Error?s.message:String(s)}`}}}async function obe(t,e,r=!1,n){try{n&&n("Initializing XLSX writer...");let i=new O3(e),s=0,o=0,a=[];for(let d of t){let E=d.name||"Sheet";n&&n(`Processing sheet "${E}"...`);let f=d.columns.map(p=>p.name),T=d.columns.map(p=>nbe(p.type));o=Math.max(o,f.length);let h=d.rows.map(p=>p.map((S,m)=>T[m]?C3(S):S));i.addSheet(E),i.writeSheet(h,f,!0),s+=h.length,d.sql&&a.push({name:E,sql:d.sql})}if(a.length>0){i.addSheet("SQL Code");let d=[];a.forEach(E=>{d.push([`--- SQL for ${E.name} ---`]),E.sql.split(`
`).forEach(f=>{d.push([f])}),d.push([""])}),i.writeSheet(d,null,!1)}n&&n("Finalizing XLSX file..."),await i.finalize();let c=Iy.statSync(e).size/(1024*1024);n&&(n("XLSX file created successfully"),n(`  - Rows: ${s.toLocaleString()}`),n(`  - File size: ${c.toFixed(1)} MB`));let u={success:!0,message:`Successfully exported ${s} rows to ${e}`,details:{rows_exported:s,columns:o,file_size_mb:parseFloat(c.toFixed(1)),file_path:e}};if(r){n&&n("Copying file to clipboard...");let d=await gy(e);u.details&&(u.details.clipboard_success=d)}return u}catch(i){return{success:!1,message:`Export failed: ${i instanceof Error?i.message:String(i)}`}}}async function gy(t){return WS.platform()!=="win32"?(console.error("Clipboard file copy is only supported on Windows"),!1):new Promise(e=>{try{let r=Ic.normalize(Ic.resolve(t)),n=`Set-Clipboard -Path "${r.replace(/"/g,'`"')}"`,i=(0,N3.spawn)("powershell.exe",["-NoProfile","-NonInteractive","-Command",n]),s="";i.stderr.on("data",o=>{s+=o.toString()}),i.on("close",o=>{o!==0?(console.error(`PowerShell clipboard copy failed: ${s}`),e(!1)):(console.log(`File copied to clipboard: ${r}`),e(!0))}),i.on("error",o=>{console.error(`Error spawning PowerShell: ${o.message}`),e(!1)})}catch(r){let n=r instanceof Error?r.message:String(r);console.error(`Error copying file to clipboard: ${n}`),e(!1)}})}function abe(){let t=WS.tmpdir(),r=`netezza_export_${Date.now()}.xlsx`;return Ic.join(t,r)}var Iy,Ic,WS,N3,O3,rbe,Oy=H(()=>{"use strict";Iy=q(require("fs")),Ic=q(require("path")),WS=q(require("os")),N3=require("child_process"),O3=(g3(),xa(I3)).default,rbe=new Set(["INT8","INT2","INT4","NUMERIC","FLOAT4","FLOAT8","INTEGER","BIGINT","SMALLINT","DECIMAL","REAL","DOUBLE PRECISION"])});var P3={};_t(P3,{ClipboardDataProcessor:()=>kS,importClipboardDataToNetezza:()=>dbe});function lbe(t){let e=String(t).trim();return e=e.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!e||/^\d/.test(e)||e.startsWith("_"))&&(e="COL"+(e.startsWith("_")?"":"_")+e),e}function cbe(t,e,r){let n=String(t).trim();for(let i of r)n=n.split(i).join(`${e}${i}`);return n}function ube(t,e,r,n,i){let s=cbe(t,n,i);return e<r.length&&r[e].currentType.dbType==="DATETIME"&&(s=s.replace("T"," ")),s}async function dbe(t,e,r,n,i){let s=Date.now(),o=null,a=null;try{if(!t)return{success:!1,message:"Target table name is required"};if(!e||!e.host)return{success:!1,message:"Connection details are required"};i?.("Starting clipboard import process..."),i?.(`  Target table: ${t}`),i?.(`  Format preference: ${r||"auto-detect"}`);let l=new kS,[c,u]=await l.processClipboardData(r,i);if(!c||!c.length)return{success:!1,message:"No data found in clipboard"};if(c.length<2)return{success:!1,message:"Clipboard data must contain at least headers and one data row"};i?.(`  Detected format: ${u}`),i?.(`  Rows: ${c.length}`),i?.(`  Columns: ${c[0].length}`);let d=c[0].map(te=>lbe(te)),E=c.slice(1);i?.("Detecting decimal separator...");let f=".",T=0,h=0,p=E.slice(0,100);for(let te of p)for(let Be of te){if(!Be||!Be.trim())continue;let fe=Be.trim();/^\d+\.\d+$/.test(fe)&&T++,/^\d+,\d+$/.test(fe)&&h++}h>T&&h>0&&(f=","),i?.(`Detected decimal separator: '${f}'`),i?.("Analyzing clipboard data types...");let S=d.map(()=>new mc(f));for(let te=0;te<E.length;te++){let Be=E[te];for(let fe=0;fe<Be.length;fe++)fe<S.length&&Be[fe]&&Be[fe].trim()&&S[fe].refreshCurrentType(Be[fe].trim());(te+1)%1e3===0&&(i?.(`Analyzed ${(te+1).toLocaleString()} rows...`,void 0,!1),await D3())}i?.(`Analysis complete: ${E.length.toLocaleString()} data rows`);let m=b3.join(require("os").tmpdir(),"netezza_clipboard_logs");$S.existsSync(m)||$S.mkdirSync(m,{recursive:!0});let R="	",A="\\t",g=`
`,w="\\n",I="\\",D=[I,g,"\r",R];i?.("Preparing in-memory data stream...");let b=new yy(E,S,R,g,I,D,f,i);o=`virtual_clipboard_import_${Date.now()}_${Math.floor(Math.random()*1e3)}.txt`,i?.(`Registered virtual stream: ${o}`);let P=Ir();P&&P.registerImportStream?P.registerImportStream(o,b):i?.("Warning: NzConnection driver does not support stream registry. Import might fail.");let M=[];for(let te=0;te<d.length;te++)M.push(`        ${d[te]} ${S[te].currentType.toString()}`);let B=m.replace(/\\/g,"/"),F=`CREATE TABLE ${t} AS 
(
    SELECT * FROM EXTERNAL '${o}'
    (
${M.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${A}'
        RecordDelim '${w}'
        ESCAPECHAR '${I}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${B}'
    )
) DISTRIBUTE ON RANDOM;`;i?.("Generated SQL:"),i?.(F),i?.("Connecting to Netezza...");let Y={host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password},J=Ir();a=new J(Y),await a.connect();try{i?.("Executing CREATE TABLE with EXTERNAL clipboard data...");let te=a.createCommand(F);te.commandTimeout=3600,await te.execute(),i?.("Clipboard import completed successfully")}finally{await a.close()}let re=(Date.now()-s)/1e3;return{success:!0,message:"Clipboard import completed successfully",details:{targetTable:t,format:u,rowsProcessed:E.length,rowsInserted:E.length,processingTime:`${re.toFixed(1)}s`,columns:d.length,detectedDelimiter:R}}}catch(l){let c=(Date.now()-s)/1e3;return{success:!1,message:`Clipboard import failed: ${l instanceof Error?l.message:String(l)}`,details:{processingTime:`${c.toFixed(1)}s`}}}finally{if(a&&a._connected)try{await a.close()}catch{}if(o){let l=Ir();l&&l.unregisterImportStream&&l.unregisterImportStream(o)}}}var $S,b3,w3,L3,D3,kS,yy,x3=H(()=>{"use strict";$S=q(require("fs")),b3=q(require("path")),w3=q(require("vscode")),L3=require("stream");yS();D3=()=>new Promise(t=>setTimeout(t,0)),kS=class{async processXmlSpreadsheet(e,r){r?.("Processing XML Spreadsheet data...");let n=[],i=0,s=[],o=0,a=e.match(/ExpandedColumnCount="(\d+)"/);a&&(i=parseInt(a[1]),r?.(`Table has ${i} columns`));let l=e.match(/ExpandedRowCount="(\d+)"/);l&&r?.(`Table has ${l[1]} rows`);let c=/<Row[^>]*>([\s\S]*?)<\/Row>/gi,u;for(;(u=c.exec(e))!==null;){let d=u[1];s=new Array(i).fill("");let E,f=0,T=/<Cell(?:[^>]*ss:Index="(\d+)")?[^>]*>(?:[\s\S]*?<Data[^>]*(?:\s+ss:Type="([^"]*)")?[^>]*>([^<]*)<\/Data>)?[\s\S]*?<\/Cell>/gi;for(;(E=T.exec(d))!==null;){E[1]&&(f=parseInt(E[1])-1);let h=E[2]||"",p=E[3]||"";h==="Boolean"&&(p=p==="0"?"False":"True"),f<i&&(s[f]=p),f++}s.some(h=>h.trim())&&n.push([...s]),o++,o%1e4===0&&(r?.(`Analyzed ${o.toLocaleString()} rows...`,void 0,!1),await D3())}return r?.(`XML processing complete: ${n.length} rows, ${i} columns`),n}async processTextData(e,r){if(r?.("Processing text data..."),!e.trim())return[];let n=e.split(`
`);for(;n.length&&!n[n.length-1].trim();)n.pop();if(!n.length)return[];let i=["	",",",";","|"],s={};for(let c of i){let u=[];for(let d of n.slice(0,Math.min(5,n.length)))if(d.trim()){let E=d.split(c);u.push(E.length)}if(u.length){let d=u.reduce((f,T)=>f+T,0)/u.length,E=u.reduce((f,T)=>f+Math.pow(T-d,2),0)/u.length;s[c]=[d,-E]}}let o="	";Object.keys(s).length&&(o=Object.keys(s).reduce((c,u)=>{let[d,E]=s[c]||[0,0],[f,T]=s[u];return f>d||f===d&&T>E?u:c},"	")),r?.(`Auto-detected delimiter: '${o==="	"?"\\t":o}'`);let a=[],l=0;for(let c of n)if(c.trim()){let u=c.split(o).map(d=>d.trim());a.push(u),l=Math.max(l,u.length)}for(let c of a)for(;c.length<l;)c.push("");return r?.(`Text processing complete: ${a.length} rows, ${l} columns`),a}async getClipboardText(){return await w3.env.clipboard.readText()}async processClipboardData(e,r){r?.("Getting clipboard data...");let n=await this.getClipboardText();if(!n)throw new Error("No data found in clipboard");r?.(`Data size: ${n.length} characters`);let i="TEXT";e==="XML Spreadsheet"||!e&&n.includes("<Workbook")&&n.includes("<Worksheet")?i="XML Spreadsheet":e==="TEXT"&&(i="TEXT"),r?.(`Detected format: ${i}`);let s;return i==="XML Spreadsheet"?s=await this.processXmlSpreadsheet(n,r):s=await this.processTextData(n,r),r?.(`Processed ${s.length} rows`),s.length&&r?.(`Columns per row: ${s[0].length}`),[s,i]}};yy=class extends L3.Readable{constructor(r,n,i,s,o,a,l,c){super();this.currentIndex=0;this.byteLength=0;this.lastReportedIndex=-1;this.lastReportTime=0;this.lastReportedMessage="";this.rows=r,this.dataTypes=n,this.delimiter=i,this.recordDelim=s,this.escapechar=o,this.valuesToEscape=a,this.decimalDelimiter=l,this.progressCallback=c,this.currentIndex=0,this.lastReportedIndex=-1,this.lastReportTime=0,this.lastReportedMessage="";try{this.byteLength=r.reduce((u,d)=>{let E=d.reduce((f,T)=>f+(T?T.length:0),0);return u+E+d.length},0)}catch{this.byteLength=1024*1024}}_read(r){try{let n=!0;for(;n&&this.currentIndex<this.rows.length;){let a=this.rows[this.currentIndex].map((l,c)=>{let u=ube(l,c,this.dataTypes,this.escapechar,this.valuesToEscape);if(this.dataTypes[c].currentType.dbType==="NUMERIC"&&this.decimalDelimiter===","&&(u=u.replace(",",".")),this.dataTypes[c].currentType.dbType==="DATETIME"){let d=u.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(d){let E=d[1],f=d[2],T=d[3],h=d[4]||"00",p=d[5]||"00",S=d[6]||"00";u=`${T}-${f}-${E} ${h}:${p}:${S}`}}return u}).join(this.delimiter)+this.recordDelim;n=this.push(Buffer.from(a,"utf8")),this.currentIndex++}let i=this.rows.length;if(this.currentIndex>this.lastReportedIndex){let s=Date.now();if(this.currentIndex>=i||s-this.lastReportTime>=1e3){let c=`Streaming data: ${Math.floor(this.currentIndex/i*100)}% (${this.currentIndex.toLocaleString()}/${i.toLocaleString()})`,d=(this.currentIndex-(this.lastReportedIndex<0?0:this.lastReportedIndex))/i*100;c!==this.lastReportedMessage&&(this.progressCallback?.(c,d,!1),this.lastReportedIndex=this.currentIndex,this.lastReportTime=s,this.lastReportedMessage=c)}}this.currentIndex>=this.rows.length&&this.push(null)}catch(n){this.emit("error",n)}}}});var x,fbe,Ebe,hbe,wy,Tbe,pbe,Sbe,Rbe,YS,Abe,xt=H(()=>{x=t=>t.flatMap(fbe),fbe=t=>YS(hbe(t)).map(Ebe),Ebe=t=>t.replace(/ +/g," ").trim(),hbe=t=>({type:"mandatory_block",items:wy(t,0)[0]}),wy=(t,e,r)=>{let n=[];for(;t[e];){let[i,s]=Tbe(t,e);if(n.push(i),e=s,t[e]==="|")e++;else if(t[e]==="}"||t[e]==="]"){if(r!==t[e])throw new Error(`Unbalanced parenthesis in: ${t}`);return e++,[n,e]}else if(e===t.length){if(r)throw new Error(`Unbalanced parenthesis in: ${t}`);return[n,e]}else throw new Error(`Unexpected "${t[e]}"`)}return[n,e]},Tbe=(t,e)=>{let r=[];for(;;){let[n,i]=pbe(t,e);if(n)r.push(n),e=i;else break}return r.length===1?[r[0],e]:[{type:"concatenation",items:r},e]},pbe=(t,e)=>{if(t[e]==="{")return Sbe(t,e+1);if(t[e]==="[")return Rbe(t,e+1);{let r="";for(;t[e]&&/[A-Za-z0-9_ ]/.test(t[e]);)r+=t[e],e++;return[r,e]}},Sbe=(t,e)=>{let[r,n]=wy(t,e,"}");return[{type:"mandatory_block",items:r},n]},Rbe=(t,e)=>{let[r,n]=wy(t,e,"]");return[{type:"optional_block",items:r},n]},YS=t=>{if(typeof t=="string")return[t];if(t.type==="concatenation")return t.items.map(YS).reduce(Abe,[""]);if(t.type==="mandatory_block")return t.items.flatMap(YS);if(t.type==="optional_block")return["",...t.items.flatMap(YS)];throw new Error(`Unknown node type: ${t}`)},Abe=(t,e)=>{let r=[];for(let n of t)for(let i of e)r.push(n+i);return r}});var $,Ly,bi,gc,$n,VS,F3,gn=H(()=>{(function(t){t.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",t.IDENTIFIER="IDENTIFIER",t.STRING="STRING",t.VARIABLE="VARIABLE",t.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",t.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",t.RESERVED_KEYWORD="RESERVED_KEYWORD",t.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",t.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",t.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",t.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",t.RESERVED_CLAUSE="RESERVED_CLAUSE",t.RESERVED_SELECT="RESERVED_SELECT",t.RESERVED_JOIN="RESERVED_JOIN",t.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",t.ARRAY_KEYWORD="ARRAY_KEYWORD",t.CASE="CASE",t.END="END",t.WHEN="WHEN",t.ELSE="ELSE",t.THEN="THEN",t.LIMIT="LIMIT",t.BETWEEN="BETWEEN",t.AND="AND",t.OR="OR",t.XOR="XOR",t.OPERATOR="OPERATOR",t.COMMA="COMMA",t.ASTERISK="ASTERISK",t.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",t.OPEN_PAREN="OPEN_PAREN",t.CLOSE_PAREN="CLOSE_PAREN",t.LINE_COMMENT="LINE_COMMENT",t.BLOCK_COMMENT="BLOCK_COMMENT",t.DISABLE_COMMENT="DISABLE_COMMENT",t.NUMBER="NUMBER",t.NAMED_PARAMETER="NAMED_PARAMETER",t.QUOTED_PARAMETER="QUOTED_PARAMETER",t.NUMBERED_PARAMETER="NUMBERED_PARAMETER",t.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",t.CUSTOM_PARAMETER="CUSTOM_PARAMETER",t.DELIMITER="DELIMITER",t.EOF="EOF"})($=$||($={}));Ly=t=>({type:$.EOF,raw:"\xABEOF\xBB",text:"\xABEOF\xBB",start:t}),bi=Ly(1/0),gc=t=>e=>e.type===t.type&&e.text===t.text,$n={ARRAY:gc({text:"ARRAY",type:$.RESERVED_DATA_TYPE}),BY:gc({text:"BY",type:$.RESERVED_KEYWORD}),SET:gc({text:"SET",type:$.RESERVED_CLAUSE}),STRUCT:gc({text:"STRUCT",type:$.RESERVED_DATA_TYPE}),WINDOW:gc({text:"WINDOW",type:$.RESERVED_CLAUSE}),VALUES:gc({text:"VALUES",type:$.RESERVED_CLAUSE})},VS=t=>t===$.RESERVED_DATA_TYPE||t===$.RESERVED_KEYWORD||t===$.RESERVED_FUNCTION_NAME||t===$.RESERVED_KEYWORD_PHRASE||t===$.RESERVED_DATA_TYPE_PHRASE||t===$.RESERVED_CLAUSE||t===$.RESERVED_SELECT||t===$.RESERVED_SET_OPERATION||t===$.RESERVED_JOIN||t===$.ARRAY_KEYWORD||t===$.CASE||t===$.END||t===$.WHEN||t===$.ELSE||t===$.THEN||t===$.LIMIT||t===$.BETWEEN||t===$.AND||t===$.OR||t===$.XOR,F3=t=>t===$.AND||t===$.OR||t===$.XOR});var G3,H3=H(()=>{G3=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"]});var W3,k3,$3=H(()=>{W3=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],k3=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"]});function Cbe(t){return ybe(bbe(t))}function ybe(t){let e=bi;return t.map(r=>r.text==="OFFSET"&&e.text==="["?(e=r,Object.assign(Object.assign({},r),{type:$.RESERVED_FUNCTION_NAME})):(e=r,r))}function bbe(t){var e;let r=[];for(let n=0;n<t.length;n++){let i=t[n];if(($n.ARRAY(i)||$n.STRUCT(i))&&((e=t[n+1])===null||e===void 0?void 0:e.text)==="<"){let s=wbe(t,n+1),o=t.slice(n,s+1);r.push({type:$.IDENTIFIER,raw:o.map(V3("raw")).join(""),text:o.map(V3("text")).join(""),start:i.start}),n=s}else r.push(i)}return r}function wbe(t,e){let r=0;for(let n=e;n<t.length;n++){let i=t[n];if(i.text==="<"?r++:i.text===">"?r--:i.text===">>"&&(r-=2),r===0)return n}return t.length-1}var mbe,_be,Y3,Dy,Ibe,gbe,Nbe,Obe,qS,V3,Py=H(()=>{xt();gn();H3();$3();mbe=x(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),_be=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),Y3=x(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),Dy=x(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),Ibe=x(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),gbe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),Nbe=x(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),Obe=x([]),qS={name:"bigquery",tokenizerOptions:{reservedSelect:mbe,reservedClauses:[..._be,...Dy,...Y3],reservedSetOperations:Ibe,reservedJoins:gbe,reservedKeywordPhrases:Nbe,reservedDataTypePhrases:Obe,reservedKeywords:W3,reservedDataTypes:k3,reservedFunctionNames:G3,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:Cbe},formatOptions:{onelineClauses:[...Y3,...Dy],tabularOnelineClauses:Dy}};V3=t=>e=>e.type===$.IDENTIFIER||e.type===$.COMMA?e[t]+" ":e[t]});var q3,X3=H(()=>{q3=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"]});var j3,z3,K3=H(()=>{j3=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],z3=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"]});var Lbe,Dbe,J3,xy,Pbe,xbe,Mbe,vbe,XS,My=H(()=>{xt();X3();K3();Lbe=x(["SELECT [ALL | DISTINCT]"]),Dbe=x(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),J3=x(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),xy=x(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),Pbe=x(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),xbe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),Mbe=x(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),vbe=x([]),XS={name:"db2",tokenizerOptions:{reservedSelect:Lbe,reservedClauses:[...Dbe,...J3,...xy],reservedSetOperations:Pbe,reservedJoins:xbe,reservedKeywordPhrases:Mbe,reservedDataTypePhrases:vbe,reservedKeywords:j3,reservedDataTypes:z3,reservedFunctionNames:q3,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","\xAC=","\xAC>","\xAC<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...J3,...xy],tabularOnelineClauses:xy}}});var Q3,Z3=H(()=>{Q3=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"]});var ej,tj,rj=H(()=>{ej=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],tj=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"]});var Ube,Bbe,nj,vy,Fbe,Gbe,Hbe,Wbe,jS,Uy=H(()=>{xt();Z3();rj();Ube=x(["SELECT [ALL | DISTINCT]"]),Bbe=x(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),nj=x(["CREATE [OR REPLACE] TABLE"]),vy=x(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),Fbe=x(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),Gbe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),Hbe=x(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),Wbe=x([]),jS={name:"db2i",tokenizerOptions:{reservedSelect:Ube,reservedClauses:[...Bbe,...nj,...vy],reservedSetOperations:Fbe,reservedJoins:Gbe,reservedKeywordPhrases:Hbe,reservedDataTypePhrases:Wbe,reservedKeywords:ej,reservedDataTypes:tj,reservedFunctionNames:Q3,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","\xAC=","\xAC>","\xAC<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...nj,...vy],tabularOnelineClauses:vy}}});var ij,sj=H(()=>{ij=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"]});var oj,aj,lj=H(()=>{oj=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],aj=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"]});var kbe,$be,cj,By,Ybe,Vbe,qbe,Xbe,zS,Fy=H(()=>{xt();sj();lj();kbe=x(["SELECT [ALL | DISTINCT]"]),$be=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),cj=x(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),By=x(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),Ybe=x(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),Vbe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),qbe=x(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"]),Xbe=x(["TIMESTAMP WITH TIME ZONE"]),zS={name:"duckdb",tokenizerOptions:{reservedSelect:kbe,reservedClauses:[...$be,...cj,...By],reservedSetOperations:Ybe,reservedJoins:Vbe,reservedKeywordPhrases:qbe,reservedDataTypePhrases:Xbe,supportsXor:!0,reservedKeywords:oj,reservedDataTypes:aj,reservedFunctionNames:ij,nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...cj,...By],tabularOnelineClauses:By}}});var uj,dj=H(()=>{uj=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"]});var fj,Ej,hj=H(()=>{fj=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],Ej=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"]});var jbe,zbe,Tj,Gy,Kbe,Jbe,Qbe,Zbe,KS,Hy=H(()=>{xt();dj();hj();jbe=x(["SELECT [ALL | DISTINCT]"]),zbe=x(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),Tj=x(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),Gy=x(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),Kbe=x(["UNION [ALL | DISTINCT]"]),Jbe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),Qbe=x(["{ROWS | RANGE} BETWEEN"]),Zbe=x([]),KS={name:"hive",tokenizerOptions:{reservedSelect:jbe,reservedClauses:[...zbe,...Tj,...Gy],reservedSetOperations:Kbe,reservedJoins:Jbe,reservedKeywordPhrases:Qbe,reservedDataTypePhrases:Zbe,reservedKeywords:fj,reservedDataTypes:Ej,reservedFunctionNames:uj,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...Tj,...Gy],tabularOnelineClauses:Gy}}});function no(t){return t.map((e,r)=>{let n=t[r+1]||bi;if($n.SET(e)&&n.text==="(")return Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME});let i=t[r-1]||bi;return $n.VALUES(e)&&i.text==="="?Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME}):e})}var sf=H(()=>{gn()});var pj,Sj,Rj=H(()=>{pj=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],Sj=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var Aj,mj=H(()=>{Aj=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"]});var e0e,t0e,_j,Wy,r0e,n0e,i0e,s0e,JS,ky=H(()=>{xt();sf();Rj();mj();e0e=x(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),t0e=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),_j=x(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),Wy=x(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),r0e=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),n0e=x(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),i0e=x(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),s0e=x([]),JS={name:"mariadb",tokenizerOptions:{reservedSelect:e0e,reservedClauses:[...t0e,..._j,...Wy],reservedSetOperations:r0e,reservedJoins:n0e,reservedKeywordPhrases:i0e,reservedDataTypePhrases:s0e,supportsXor:!0,reservedKeywords:pj,reservedDataTypes:Sj,reservedFunctionNames:Aj,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:no},formatOptions:{onelineClauses:[..._j,...Wy],tabularOnelineClauses:Wy}}});var Ij,gj,Nj=H(()=>{Ij=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],gj=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var Oj,Cj=H(()=>{Oj=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"]});var o0e,a0e,yj,$y,l0e,c0e,u0e,d0e,QS,Yy=H(()=>{xt();sf();Nj();Cj();o0e=x(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),a0e=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),yj=x(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),$y=x(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),l0e=x(["UNION [ALL | DISTINCT]"]),c0e=x(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),u0e=x(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),d0e=x([]),QS={name:"mysql",tokenizerOptions:{reservedSelect:o0e,reservedClauses:[...a0e,...yj,...$y],reservedSetOperations:l0e,reservedJoins:c0e,reservedKeywordPhrases:u0e,reservedDataTypePhrases:d0e,supportsXor:!0,reservedKeywords:Ij,reservedDataTypes:gj,reservedFunctionNames:Oj,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:no},formatOptions:{onelineClauses:[...yj,...$y],tabularOnelineClauses:$y}}});var bj,wj,Lj=H(()=>{bj=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],wj=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var Dj,Pj=H(()=>{Dj=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"]});var f0e,E0e,xj,Vy,h0e,T0e,p0e,S0e,ZS,qy=H(()=>{xt();sf();Lj();Pj();f0e=x(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),E0e=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),xj=x(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),Vy=x(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),h0e=x(["UNION [ALL | DISTINCT]"]),T0e=x(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),p0e=x(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),S0e=x([]),ZS={name:"tidb",tokenizerOptions:{reservedSelect:f0e,reservedClauses:[...E0e,...xj,...Vy],reservedSetOperations:h0e,reservedJoins:T0e,reservedKeywordPhrases:p0e,reservedDataTypePhrases:S0e,supportsXor:!0,reservedKeywords:bj,reservedDataTypes:wj,reservedFunctionNames:Dj,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:no},formatOptions:{onelineClauses:[...xj,...Vy],tabularOnelineClauses:Vy}}});var Mj,vj=H(()=>{Mj=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"]});var Uj,Bj,Fj=H(()=>{Uj=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],Bj=[]});var R0e,A0e,Gj,m0e,_0e,I0e,g0e,eR,Xy=H(()=>{xt();vj();Fj();R0e=x(["SELECT [ALL | DISTINCT]"]),A0e=x(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),Gj=x(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),m0e=x(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),_0e=x(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),I0e=x(["{ROWS | RANGE | GROUPS} BETWEEN"]),g0e=x([]),eR={name:"n1ql",tokenizerOptions:{reservedSelect:R0e,reservedClauses:[...A0e,...Gj],reservedSetOperations:m0e,reservedJoins:_0e,reservedKeywordPhrases:I0e,reservedDataTypePhrases:g0e,supportsXor:!0,reservedKeywords:Uj,reservedDataTypes:Bj,reservedFunctionNames:Mj,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:Gj}}});var Hj,Wj,kj=H(()=>{Hj=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],Wj=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"]});var $j,Yj=H(()=>{$j=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"]});function L0e(t){let e=bi;return t.map(r=>$n.SET(r)&&$n.BY(e)?Object.assign(Object.assign({},r),{type:$.RESERVED_KEYWORD}):(VS(r.type)&&(e=r),r))}var N0e,O0e,Vj,jy,C0e,y0e,b0e,w0e,tR,zy=H(()=>{xt();gn();kj();Yj();N0e=x(["SELECT [ALL | DISTINCT | UNIQUE]"]),O0e=x(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),Vj=x(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),jy=x(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),C0e=x(["UNION [ALL]","MINUS","INTERSECT"]),y0e=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),b0e=x(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),w0e=x([]),tR={name:"plsql",tokenizerOptions:{reservedSelect:N0e,reservedClauses:[...O0e,...Vj,...jy],reservedSetOperations:C0e,reservedJoins:y0e,reservedKeywordPhrases:b0e,reservedDataTypePhrases:w0e,supportsXor:!0,reservedKeywords:Hj,reservedDataTypes:Wj,reservedFunctionNames:$j,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:L0e},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...Vj,...jy],tabularOnelineClauses:jy}}});var qj,Xj=H(()=>{qj=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","UUIDV4","UUIDV7","UUID_EXTRACT_TIMESTAMP","UUID_EXTRACT_VERSION","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"]});var jj,zj,Kj=H(()=>{jj=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],zj=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"]});var D0e,P0e,Jj,Ky,x0e,M0e,v0e,U0e,rR,Jy=H(()=>{xt();Xj();Kj();D0e=x(["SELECT [ALL | DISTINCT]"]),P0e=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),Jj=x(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),Ky=x(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMENT ON","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),x0e=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),M0e=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),v0e=x(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),U0e=x(["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"]),rR={name:"postgresql",tokenizerOptions:{reservedSelect:D0e,reservedClauses:[...P0e,...Jj,...Ky],reservedSetOperations:x0e,reservedJoins:M0e,reservedKeywordPhrases:v0e,reservedDataTypePhrases:U0e,reservedKeywords:jj,reservedDataTypes:zj,reservedFunctionNames:qj,nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...Jj,...Ky],tabularOnelineClauses:Ky}}});var Qj,Zj=H(()=>{Qj=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"]});var ez,tz,rz=H(()=>{ez=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],tz=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"]});var B0e,F0e,nz,Qy,G0e,H0e,W0e,k0e,nR,Zy=H(()=>{xt();Zj();rz();B0e=x(["SELECT [ALL | DISTINCT]"]),F0e=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),nz=x(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),Qy=x(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),G0e=x(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),H0e=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),W0e=x(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),k0e=x([]),nR={name:"redshift",tokenizerOptions:{reservedSelect:B0e,reservedClauses:[...F0e,...nz,...Qy],reservedSetOperations:G0e,reservedJoins:H0e,reservedKeywordPhrases:W0e,reservedDataTypePhrases:k0e,reservedKeywords:ez,reservedDataTypes:tz,reservedFunctionNames:Qj,extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...nz,...Qy],tabularOnelineClauses:Qy}}});var iz,sz,oz=H(()=>{iz=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],sz=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"]});var az,lz=H(()=>{az=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"]});function z0e(t){return t.map((e,r)=>{let n=t[r-1]||bi,i=t[r+1]||bi;return $n.WINDOW(e)&&i.type===$.OPEN_PAREN?Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===$.RESERVED_KEYWORD&&!(n.text==="COLLECTION"&&i.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:$.IDENTIFIER,text:e.raw}):e})}var $0e,Y0e,cz,eb,V0e,q0e,X0e,j0e,iR,tb=H(()=>{xt();gn();oz();lz();$0e=x(["SELECT [ALL | DISTINCT]"]),Y0e=x(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),cz=x(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),eb=x(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),V0e=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),q0e=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),X0e=x(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),j0e=x([]),iR={name:"spark",tokenizerOptions:{reservedSelect:$0e,reservedClauses:[...Y0e,...cz,...eb],reservedSetOperations:V0e,reservedJoins:q0e,reservedKeywordPhrases:X0e,reservedDataTypePhrases:j0e,supportsXor:!0,reservedKeywords:iz,reservedDataTypes:sz,reservedFunctionNames:az,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:z0e},formatOptions:{onelineClauses:[...cz,...eb],tabularOnelineClauses:eb}}});var uz,dz=H(()=>{uz=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"]});var fz,Ez,hz=H(()=>{fz=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],Ez=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"]});var K0e,J0e,Tz,rb,Q0e,Z0e,ewe,twe,sR,nb=H(()=>{xt();dz();hz();K0e=x(["SELECT [ALL | DISTINCT]"]),J0e=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"]),Tz=x(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),rb=x(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),Q0e=x(["UNION [ALL]","EXCEPT","INTERSECT"]),Z0e=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),ewe=x(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),twe=x([]),sR={name:"sqlite",tokenizerOptions:{reservedSelect:K0e,reservedClauses:[...J0e,...Tz,...rb],reservedSetOperations:Q0e,reservedJoins:Z0e,reservedKeywordPhrases:ewe,reservedDataTypePhrases:twe,reservedKeywords:fz,reservedDataTypes:Ez,reservedFunctionNames:uz,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...Tz,...rb],tabularOnelineClauses:rb}}});var pz,Sz=H(()=>{pz=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"]});var Rz,Az,mz=H(()=>{Rz=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],Az=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"]});var rwe,nwe,_z,ib,iwe,swe,owe,awe,oR,sb=H(()=>{xt();Sz();mz();rwe=x(["SELECT [ALL | DISTINCT]"]),nwe=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),_z=x(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),ib=x(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),iwe=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),swe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),owe=x(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),awe=x([]),oR={name:"sql",tokenizerOptions:{reservedSelect:rwe,reservedClauses:[...nwe,..._z,...ib],reservedSetOperations:iwe,reservedJoins:swe,reservedKeywordPhrases:owe,reservedDataTypePhrases:awe,reservedKeywords:Rz,reservedDataTypes:Az,reservedFunctionNames:pz,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[..._z,...ib],tabularOnelineClauses:ib}}});var Iz,gz=H(()=>{Iz=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"]});var Nz,Oz,Cz=H(()=>{Nz=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],Oz=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"]});var lwe,cwe,yz,ob,uwe,dwe,fwe,Ewe,aR,ab=H(()=>{xt();gz();Cz();lwe=x(["SELECT [ALL | DISTINCT]"]),cwe=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),yz=x(["CREATE TABLE [IF NOT EXISTS]"]),ob=x(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),uwe=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),dwe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),fwe=x(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),Ewe=x([]),aR={name:"trino",tokenizerOptions:{reservedSelect:lwe,reservedClauses:[...cwe,...yz,...ob],reservedSetOperations:uwe,reservedJoins:dwe,reservedKeywordPhrases:fwe,reservedDataTypePhrases:Ewe,reservedKeywords:Nz,reservedDataTypes:Oz,reservedFunctionNames:Iz,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...yz,...ob],tabularOnelineClauses:ob}}});var bz,wz=H(()=>{bz=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"]});var Lz,Dz,Pz=H(()=>{Lz=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],Dz=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"]});var hwe,Twe,xz,lb,pwe,Swe,Rwe,Awe,lR,cb=H(()=>{xt();wz();Pz();hwe=x(["SELECT [ALL | DISTINCT]"]),Twe=x(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"]),xz=x(["CREATE TABLE"]),lb=x(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),pwe=x(["UNION [ALL]","EXCEPT","INTERSECT"]),Swe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),Rwe=x(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),Awe=x([]),lR={name:"transactsql",tokenizerOptions:{reservedSelect:hwe,reservedClauses:[...Twe,...xz,...lb],reservedSetOperations:pwe,reservedJoins:Swe,reservedKeywordPhrases:Rwe,reservedDataTypePhrases:Awe,reservedKeywords:Lz,reservedDataTypes:Dz,reservedFunctionNames:bz,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...xz,...lb],tabularOnelineClauses:lb}}});var Mz,vz,Uz=H(()=>{Mz=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],vz=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"]});var Bz,Fz=H(()=>{Bz=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"]});var mwe,_we,Gz,ub,Iwe,gwe,Nwe,Owe,cR,db=H(()=>{xt();sf();Uz();Fz();mwe=x(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),_we=x(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),Gz=x(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),ub=x(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),Iwe=x(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),gwe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Nwe=x(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),Owe=x([]),cR={name:"singlestoredb",tokenizerOptions:{reservedSelect:mwe,reservedClauses:[..._we,...Gz,...ub],reservedSetOperations:Iwe,reservedJoins:gwe,reservedKeywordPhrases:Nwe,reservedDataTypePhrases:Owe,reservedKeywords:Mz,reservedDataTypes:vz,reservedFunctionNames:Bz,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:no},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...Gz,...ub],tabularOnelineClauses:ub}}});var Hz,Wz=H(()=>{Hz=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER \u2014 Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"]});var kz,$z,Yz=H(()=>{kz=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],$z=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"]});var Cwe,ywe,Vz,fb,bwe,wwe,Lwe,Dwe,uR,Eb=H(()=>{xt();Wz();Yz();Cwe=x(["SELECT [ALL | DISTINCT]"]),ywe=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),Vz=x(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),fb=x(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),bwe=x(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),wwe=x(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),Lwe=x(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),Dwe=x([]),uR={name:"snowflake",tokenizerOptions:{reservedSelect:Cwe,reservedClauses:[...ywe,...Vz,...fb],reservedSetOperations:bwe,reservedJoins:wwe,reservedKeywordPhrases:Lwe,reservedDataTypePhrases:Dwe,reservedKeywords:kz,reservedDataTypes:$z,reservedFunctionNames:Hz,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Vz,...fb],tabularOnelineClauses:fb}}});var hb={};_t(hb,{bigquery:()=>qS,db2:()=>XS,db2i:()=>jS,duckdb:()=>zS,hive:()=>KS,mariadb:()=>JS,mysql:()=>QS,n1ql:()=>eR,plsql:()=>tR,postgresql:()=>rR,redshift:()=>nR,singlestoredb:()=>cR,snowflake:()=>uR,spark:()=>iR,sql:()=>oR,sqlite:()=>sR,tidb:()=>ZS,transactsql:()=>lR,trino:()=>aR});var qz=H(()=>{Py();My();Uy();Fy();Hy();ky();Yy();qy();Xy();zy();Jy();Zy();tb();nb();sb();ab();cb();db();Eb()});var io,Tb,Nc,dR,Oc=H(()=>{io=t=>t[t.length-1],Tb=t=>t.sort((e,r)=>r.length-e.length||e.localeCompare(r)),Nc=t=>t.replace(/\s+/gu," "),dR=t=>/\n/.test(t)});var on,pb,Ts,Pwe,Xz,jz,fR=H(()=>{on=t=>t.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),pb=/\s+/uy,Ts=t=>new RegExp(`(?:${t})`,"uy"),Pwe=t=>t.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),Xz=t=>t+"(?:-"+t+")*",jz=({prefixes:t,requirePrefix:e})=>`(?:${t.map(Pwe).join("|")}${e?"":"|"})`});var Kz,Sb,Rb,xwe,wi,ER,Mwe,zz,Jz,Qz,Ab,mb,Zz,_b,eK=H(()=>{Oc();fR();Kz=t=>new RegExp(`(?:${t.map(on).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),Sb=(t,e=[])=>{let r=t==="open"?0:1,n=["()",...e].map(i=>i[r]);return Ts(n.map(on).join("|"))},Rb=t=>Ts(`${Tb(t).map(on).join("|")}`),xwe=({rest:t,dashes:e})=>t||e?`(?![${t||""}${e?"-":""}])`:"",wi=(t,e={})=>{if(t.length===0)return/^\b$/u;let r=xwe(e),n=Tb(t).map(on).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${n})${r}\\b`,"iuy")},ER=(t,e)=>{if(!t.length)return;let r=t.map(on).join("|");return Ts(`(?:${r})(?:${e})`)},Mwe=()=>{let t={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",r=Object.entries(t).map(([o,a])=>e.replace(/{left}/g,on(o)).replace(/{right}/g,on(a))),n=on(Object.keys(t).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${n}])(?:(?!\k<tag>').)*?\k<tag>`}|${r.join("|")})'`},zz={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":Mwe()},Jz=t=>typeof t=="string"?zz[t]:"regex"in t?t.regex:jz(t)+zz[t.quote],Qz=t=>Ts(t.map(e=>"regex"in e?e.regex:Jz(e)).join("|")),Ab=t=>t.map(Jz).join("|"),mb=t=>Ts(Ab(t)),Zz=(t={})=>Ts(_b(t)),_b=({first:t,rest:e,dashes:r,allowFirstCharNumber:n}={})=>{let i="\\p{Alphabetic}\\p{Mark}_",s="\\p{Decimal_Number}",o=on(t??""),a=on(e??""),l=n?`[${i}${s}${o}][${i}${s}${a}]*`:`[${i}${o}][${i}${s}${a}]*`;return r?Xz(l):l}});function hR(t,e){let r=t.slice(0,e).split(/\n/);return{line:r.length,col:r[r.length-1].length+1}}var Ib=H(()=>{});var of,tK=H(()=>{Ib();fR();of=class{constructor(e,r){this.rules=e,this.dialectName=r,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;let r=[],n;for(;this.index<this.input.length;){let i=this.getWhitespace();if(this.index<this.input.length){if(n=this.getNextToken(),!n)throw this.createParseError();r.push(Object.assign(Object.assign({},n),{precedingWhitespace:i}))}}return r}createParseError(){let e=this.input.slice(this.index,this.index+10),{line:r,col:n}=hR(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${r} column ${n}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){pb.lastIndex=this.index;let e=pb.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(let e of this.rules){let r=this.match(e);if(r)return r}}match(e){e.regex.lastIndex=this.index;let r=e.regex.exec(this.input);if(r){let n=r[0],i={type:e.type,raw:n,text:e.text?e.text(n):n,start:this.index};return e.key&&(i.key=e.key(n)),this.index+=n.length,i}}}});var rK,Uwe,Bwe,TR,nK=H(()=>{rK=/\/\*/uy,Uwe=/[\s\S]/uy,Bwe=/\*\//uy,TR=class{constructor(){this.lastIndex=0}exec(e){let r="",n,i=0;if(n=this.matchSection(rK,e))r+=n,i++;else return null;for(;i>0;)if(n=this.matchSection(rK,e))r+=n,i++;else if(n=this.matchSection(Bwe,e))r+=n,i--;else if(n=this.matchSection(Uwe,e))r+=n;else return null;return[r]}matchSection(e,r){e.lastIndex=this.lastIndex;let n=e.exec(r);return n&&(this.lastIndex+=n[0].length),n?n[0]:null}}});var af,Xt,iK=H(()=>{gn();eK();tK();fR();Oc();nK();af=class{constructor(e,r){this.cfg=e,this.dialectName=r,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,r){let n=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,r),...this.rulesAfterParams],i=new of(n,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(i):i}buildRulesBeforeParams(e){var r,n,i;return this.validRules([{type:$.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:$.BLOCK_COMMENT,regex:e.nestedBlockComments?new TR:/(\/\*[^]*?\*\/)/uy},{type:$.LINE_COMMENT,regex:Kz((r=e.lineCommentTypes)!==null&&r!==void 0?r:["--"])},{type:$.QUOTED_IDENTIFIER,regex:mb(e.identTypes)},{type:$.NUMBER,regex:e.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:$.RESERVED_KEYWORD_PHRASE,regex:wi((n=e.reservedKeywordPhrases)!==null&&n!==void 0?n:[],e.identChars),text:Xt},{type:$.RESERVED_DATA_TYPE_PHRASE,regex:wi((i=e.reservedDataTypePhrases)!==null&&i!==void 0?i:[],e.identChars),text:Xt},{type:$.CASE,regex:/CASE\b/iuy,text:Xt},{type:$.END,regex:/END\b/iuy,text:Xt},{type:$.BETWEEN,regex:/BETWEEN\b/iuy,text:Xt},{type:$.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:Xt},{type:$.RESERVED_CLAUSE,regex:wi(e.reservedClauses,e.identChars),text:Xt},{type:$.RESERVED_SELECT,regex:wi(e.reservedSelect,e.identChars),text:Xt},{type:$.RESERVED_SET_OPERATION,regex:wi(e.reservedSetOperations,e.identChars),text:Xt},{type:$.WHEN,regex:/WHEN\b/iuy,text:Xt},{type:$.ELSE,regex:/ELSE\b/iuy,text:Xt},{type:$.THEN,regex:/THEN\b/iuy,text:Xt},{type:$.RESERVED_JOIN,regex:wi(e.reservedJoins,e.identChars),text:Xt},{type:$.AND,regex:/AND\b/iuy,text:Xt},{type:$.OR,regex:/OR\b/iuy,text:Xt},{type:$.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:Xt},...e.operatorKeyword?[{type:$.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:$.RESERVED_FUNCTION_NAME,regex:wi(e.reservedFunctionNames,e.identChars),text:Xt},{type:$.RESERVED_DATA_TYPE,regex:wi(e.reservedDataTypes,e.identChars),text:Xt},{type:$.RESERVED_KEYWORD,regex:wi(e.reservedKeywords,e.identChars),text:Xt}])}buildRulesAfterParams(e){var r,n;return this.validRules([{type:$.VARIABLE,regex:e.variableTypes?Qz(e.variableTypes):void 0},{type:$.STRING,regex:mb(e.stringTypes)},{type:$.IDENTIFIER,regex:Zz(e.identChars)},{type:$.DELIMITER,regex:/[;]/uy},{type:$.COMMA,regex:/[,]/y},{type:$.OPEN_PAREN,regex:Sb("open",e.extraParens)},{type:$.CLOSE_PAREN,regex:Sb("close",e.extraParens)},{type:$.OPERATOR,regex:Rb(["+","-","/",">","<","=","<>","<=",">=","!=",...(r=e.operators)!==null&&r!==void 0?r:[]])},{type:$.ASTERISK,regex:/[*]/uy},{type:$.PROPERTY_ACCESS_OPERATOR,regex:Rb([".",...(n=e.propertyAccessOperators)!==null&&n!==void 0?n:[]])}])}buildParamRules(e,r){var n,i,s,o,a;let l={named:r?.named||((n=e.paramTypes)===null||n===void 0?void 0:n.named)||[],quoted:r?.quoted||((i=e.paramTypes)===null||i===void 0?void 0:i.quoted)||[],numbered:r?.numbered||((s=e.paramTypes)===null||s===void 0?void 0:s.numbered)||[],positional:typeof r?.positional=="boolean"?r.positional:(o=e.paramTypes)===null||o===void 0?void 0:o.positional,custom:r?.custom||((a=e.paramTypes)===null||a===void 0?void 0:a.custom)||[]};return this.validRules([{type:$.NAMED_PARAMETER,regex:ER(l.named,_b(e.paramChars||e.identChars)),key:c=>c.slice(1)},{type:$.QUOTED_PARAMETER,regex:ER(l.quoted,Ab(e.identTypes)),key:c=>(({tokenKey:u,quoteChar:d})=>u.replace(new RegExp(on("\\"+d),"gu"),d))({tokenKey:c.slice(2,-1),quoteChar:c.slice(-1)})},{type:$.NUMBERED_PARAMETER,regex:ER(l.numbered,"[0-9]+"),key:c=>c.slice(1)},{type:$.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(c=>{var u;return{type:$.CUSTOM_PARAMETER,regex:Ts(c.regex),key:(u=c.key)!==null&&u!==void 0?u:(d=>d)}})])}validRules(e){return e.filter(r=>!!r.regex)}},Xt=t=>Nc(t.toUpperCase())});var sK,oK,Fwe,Gwe,aK=H(()=>{iK();sK=new Map,oK=t=>{let e=sK.get(t);return e||(e=Fwe(t),sK.set(t,e)),e},Fwe=t=>({tokenizer:new af(t.tokenizerOptions,t.name),formatOptions:Gwe(t.formatOptions)}),Gwe=t=>{var e;return{alwaysDenseOperators:t.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(t.onelineClauses.map(r=>[r,!0])),tabularOnelineClauses:Object.fromEntries(((e=t.tabularOnelineClauses)!==null&&e!==void 0?e:t.onelineClauses).map(r=>[r,!0]))}}});function lK(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"?" ".repeat(10):t.useTabs?"	":" ".repeat(t.tabWidth)}function ga(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"}var gb=H(()=>{});var lf,cK=H(()=>{lf=class{constructor(e){this.params=e,this.index=0}get({key:e,text:r}){return this.params?e?this.params[e]:this.params[this.index++]:r}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}}});var dK=O((uK,pR)=>{(function(t,e){typeof pR=="object"&&pR.exports?pR.exports=e():t.nearley=e()})(uK,function(){function t(l,c,u){return this.id=++t.highestId,this.name=l,this.symbols=c,this.postprocess=u,this}t.highestId=0,t.prototype.toString=function(l){var c=typeof l>"u"?this.symbols.map(a).join(" "):this.symbols.slice(0,l).map(a).join(" ")+" \u25CF "+this.symbols.slice(l).map(a).join(" ");return this.name+" \u2192 "+c};function e(l,c,u,d){this.rule=l,this.dot=c,this.reference=u,this.data=[],this.wantedBy=d,this.isComplete=this.dot===l.symbols.length}e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(l){var c=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=l,c.isComplete&&(c.data=c.build(),c.right=void 0),c},e.prototype.build=function(){var l=[],c=this;do l.push(c.right.data),c=c.left;while(c.left);return l.reverse(),l},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function r(l,c){this.grammar=l,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(l){for(var c=this.states,u=this.wants,d=this.completed,E=0;E<c.length;E++){var f=c[E];if(f.isComplete){if(f.finish(),f.data!==s.fail){for(var T=f.wantedBy,h=T.length;h--;){var p=T[h];this.complete(p,f)}if(f.reference===this.index){var S=f.rule.name;(this.completed[S]=this.completed[S]||[]).push(f)}}}else{var S=f.rule.symbols[f.dot];if(typeof S!="string"){this.scannable.push(f);continue}if(u[S]){if(u[S].push(f),d.hasOwnProperty(S))for(var m=d[S],h=0;h<m.length;h++){var R=m[h];this.complete(f,R)}}else u[S]=[f],this.predict(S)}}},r.prototype.predict=function(l){for(var c=this.grammar.byName[l]||[],u=0;u<c.length;u++){var d=c[u],E=this.wants[l],f=new e(d,0,this.index,E);this.states.push(f)}},r.prototype.complete=function(l,c){var u=l.nextState(c);this.states.push(u)};function n(l,c){this.rules=l,this.start=c||this.rules[0].name;var u=this.byName={};this.rules.forEach(function(d){u.hasOwnProperty(d.name)||(u[d.name]=[]),u[d.name].push(d)})}n.fromCompiled=function(d,c){var u=d.Lexer;d.ParserStart&&(c=d.ParserStart,d=d.ParserRules);var d=d.map(function(f){return new t(f.name,f.symbols,f.postprocess)}),E=new n(d,c);return E.lexer=u,E};function i(){this.reset("")}i.prototype.reset=function(l,c){this.buffer=l,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var l=this.buffer[this.index++];return l===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:l}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(l,c){var u=this.buffer;if(typeof u=="string"){var d=u.split(`
`).slice(Math.max(0,this.line-5),this.line),E=u.indexOf(`
`,this.index);E===-1&&(E=u.length);var f=this.index-this.lastLineBreak,T=String(this.line).length;return c+=" at line "+this.line+" col "+f+`:

`,c+=d.map(function(p,S){return h(this.line-d.length+S+1,T)+" "+p},this).join(`
`),c+=`
`+h("",T+f)+`^
`,c}else return c+" at index "+(this.index-1);function h(p,S){var m=String(p);return Array(S-m.length+1).join(" ")+m}};function s(l,c,u){if(l instanceof n)var d=l,u=c;else var d=n.fromCompiled(l,c);this.grammar=d,this.options={keepHistory:!1,lexer:d.lexer||new i};for(var E in u||{})this.options[E]=u[E];this.lexer=this.options.lexer,this.lexerState=void 0;var f=new r(d,0),T=this.table=[f];f.wants[d.start]=[],f.predict(d.start),f.process(),this.current=0}s.fail={},s.prototype.feed=function(l){var c=this.lexer;c.reset(l,this.lexerState);for(var u;;){try{if(u=c.next(),!u)break}catch(w){var T=new r(this.grammar,this.current+1);this.table.push(T);var d=new Error(this.reportLexerError(w));throw d.offset=this.current,d.token=w.token,d}var E=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var f=this.current+1,T=new r(this.grammar,f);this.table.push(T);for(var h=u.text!==void 0?u.text:u.value,p=c.constructor===i?u.value:u,S=E.scannable,m=S.length;m--;){var R=S[m],A=R.rule.symbols[R.dot];if(A.test?A.test(p):A.type?A.type===u.type:A.literal===h){var g=R.nextState({data:p,token:u,isToken:!0,reference:f-1});T.states.push(g)}}if(T.process(),T.states.length===0){var d=new Error(this.reportError(u));throw d.offset=this.current,d.token=u,d}this.options.keepHistory&&(E.lexerState=c.save()),this.current++}return E&&(this.lexerState=c.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(l){var c,u,d=l.token;return d?(c="input "+JSON.stringify(d.text[0])+" (lexer error)",u=this.lexer.formatError(d,"Syntax error")):(c="input (lexer error)",u=l.message),this.reportErrorCommon(u,c)},s.prototype.reportError=function(l){var c=(l.type?l.type+" token: ":"")+JSON.stringify(l.value!==void 0?l.value:l),u=this.lexer.formatError(l,"Syntax error");return this.reportErrorCommon(u,c)},s.prototype.reportErrorCommon=function(l,c){var u=[];u.push(l);var d=this.table.length-2,E=this.table[d],f=E.states.filter(function(h){var p=h.rule.symbols[h.dot];return p&&typeof p!="string"});if(f.length===0)u.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(E.states,u);else{u.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var T=f.map(function(h){return this.buildFirstStateStack(h,[])||[h]},this);T.forEach(function(h){var p=h[0],S=p.rule.symbols[p.dot],m=this.getSymbolDisplay(S);u.push("A "+m+" based on:"),this.displayStateStack(h,u)},this)}return u.push(""),u.join(`
`)},s.prototype.displayStateStack=function(l,c){for(var u,d=0,E=0;E<l.length;E++){var f=l[E],T=f.rule.toString(f.dot);T===u?d++:(d>0&&c.push("    ^ "+d+" more lines identical to this"),d=0,c.push("    "+T)),u=T}},s.prototype.getSymbolDisplay=function(l){return o(l)},s.prototype.buildFirstStateStack=function(l,c){if(c.indexOf(l)!==-1)return null;if(l.wantedBy.length===0)return[l];var u=l.wantedBy[0],d=[l].concat(c),E=this.buildFirstStateStack(u,d);return E===null?null:[l].concat(E)},s.prototype.save=function(){var l=this.table[this.current];return l.lexerState=this.lexerState,l},s.prototype.restore=function(l){var c=l.index;this.current=c,this.table[c]=l,this.table.splice(c+1),this.lexerState=l.lexerState,this.results=this.finish()},s.prototype.rewind=function(l){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[l])},s.prototype.finish=function(){var l=[],c=this.grammar.start,u=this.table[this.table.length-1];return u.states.forEach(function(d){d.rule.name===c&&d.dot===d.rule.symbols.length&&d.reference===0&&d.data!==s.fail&&l.push(d)}),l.map(function(d){return d.data})};function o(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return"character matching "+l;if(l.type)return l.type+" token";if(l.test)return"token matching "+String(l.test);throw new Error("Unknown symbol type: "+l)}}function a(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return l.toString();if(l.type)return"%"+l.type;if(l.test)return"<"+String(l.test)+">";throw new Error("Unknown symbol type: "+l)}}return{Parser:s,Grammar:n,Rule:t}})});function fK(t){return t.map(Hwe).map(Wwe).map(kwe).map($we).map(Ywe)}var Hwe,Wwe,kwe,$we,Ywe,Vwe,Cc,EK,hK,qwe,TK=H(()=>{gn();Hwe=(t,e,r)=>{if(VS(t.type)){let n=Vwe(r,e);if(n&&n.type===$.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw});let i=Cc(r,e);if(i&&i.type===$.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw})}return t},Wwe=(t,e,r)=>{if(t.type===$.RESERVED_FUNCTION_NAME){let n=Cc(r,e);if(!n||!EK(n))return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw})}return t},kwe=(t,e,r)=>{if(t.type===$.RESERVED_DATA_TYPE){let n=Cc(r,e);if(n&&EK(n))return Object.assign(Object.assign({},t),{type:$.RESERVED_PARAMETERIZED_DATA_TYPE})}return t},$we=(t,e,r)=>{if(t.type===$.IDENTIFIER){let n=Cc(r,e);if(n&&hK(n))return Object.assign(Object.assign({},t),{type:$.ARRAY_IDENTIFIER})}return t},Ywe=(t,e,r)=>{if(t.type===$.RESERVED_DATA_TYPE){let n=Cc(r,e);if(n&&hK(n))return Object.assign(Object.assign({},t),{type:$.ARRAY_KEYWORD})}return t},Vwe=(t,e)=>Cc(t,e,-1),Cc=(t,e,r=1)=>{let n=1;for(;t[e+n*r]&&qwe(t[e+n*r]);)n++;return t[e+n*r]},EK=t=>t.type===$.OPEN_PAREN&&t.text==="(",hK=t=>t.type===$.OPEN_PAREN&&t.text==="[",qwe=t=>t.type===$.BLOCK_COMMENT||t.type===$.LINE_COMMENT});var Na,Nb=H(()=>{Ib();gn();Na=class{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,r){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){let{line:r,col:n}=hR(this.input,e.start);return`Parse error at token: ${e.text} at line ${r} column ${n}`}has(e){return e in $}}});var K,Ob=H(()=>{(function(t){t.statement="statement",t.clause="clause",t.set_operation="set_operation",t.function_call="function_call",t.parameterized_data_type="parameterized_data_type",t.array_subscript="array_subscript",t.property_access="property_access",t.parenthesis="parenthesis",t.between_predicate="between_predicate",t.case_expression="case_expression",t.case_when="case_when",t.case_else="case_else",t.limit_clause="limit_clause",t.all_columns_asterisk="all_columns_asterisk",t.literal="literal",t.identifier="identifier",t.keyword="keyword",t.data_type="data_type",t.parameter="parameter",t.operator="operator",t.comma="comma",t.line_comment="line_comment",t.block_comment="block_comment",t.disable_comment="disable_comment"})(K=K||(K={}))});function Cb(t){return t[0]}var le,Oa,ir,pK,sr,Xwe,jwe,SK,RK=H(()=>{Nb();Ob();gn();le=new Na(t=>[]),Oa=([[t]])=>t,ir=t=>({type:K.keyword,tokenType:t.type,text:t.text,raw:t.raw}),pK=t=>({type:K.data_type,text:t.text,raw:t.raw}),sr=(t,{leading:e,trailing:r})=>(e?.length&&(t=Object.assign(Object.assign({},t),{leadingComments:e})),r?.length&&(t=Object.assign(Object.assign({},t),{trailingComments:r})),t),Xwe=(t,{leading:e,trailing:r})=>{if(e?.length){let[n,...i]=t;t=[sr(n,{leading:e}),...i]}if(r?.length){let n=t.slice(0,-1),i=t[t.length-1];t=[...n,sr(i,{trailing:r})]}return t},jwe={Lexer:le,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:t=>t[0].concat([t[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([t])=>{let e=t[t.length-1];return e&&!e.hasSemicolon?e.children.length>0?t:t.slice(0,-1):t}},{name:"statement$subexpression$1",symbols:[le.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[le.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([t,[e]])=>({type:K.statement,children:t,hasSemicolon:e.type===$.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([t,e])=>[...t,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:Oa},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[le.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:Cb},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[le.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([t,e,r,n])=>{if(n){let[i,s]=n;return{type:K.limit_clause,limitKw:sr(ir(t),{trailing:e}),offset:r,count:s}}else return{type:K.limit_clause,limitKw:sr(ir(t),{trailing:e}),count:r}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([t,[e,r]])=>({type:K.clause,nameKw:ir(t),children:[e,...r]})},{name:"select_clause",symbols:[le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([t])=>({type:K.clause,nameKw:ir(t),children:[]})},{name:"all_columns_asterisk",symbols:[le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:K.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"other_clause",symbols:[le.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([t,e])=>({type:K.clause,nameKw:ir(t),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"set_operation",symbols:[le.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([t,e])=>({type:K.set_operation,nameKw:ir(t),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:Cb},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([t,e])=>sr(t,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([t,e])=>sr(e,{leading:t})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([t,e])=>sr(e,{leading:t})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:Oa},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:Oa},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:Oa},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:Oa},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:Oa},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:Oa},{name:"array_subscript",symbols:[le.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([t,e,r])=>({type:K.array_subscript,array:sr({type:K.identifier,quoted:!1,text:t.text},{trailing:e}),parenthesis:r})},{name:"array_subscript",symbols:[le.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([t,e,r])=>({type:K.array_subscript,array:sr(ir(t),{trailing:e}),parenthesis:r})},{name:"function_call",symbols:[le.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([t,e,r])=>({type:K.function_call,nameKw:sr(ir(t),{trailing:e}),parenthesis:r})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([t,e,r])=>({type:K.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([t,e,r])=>({type:K.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([t,e,r])=>({type:K.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",le.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([t,e,r,n,[i]])=>({type:K.property_access,object:sr(t,{trailing:e}),operator:r.text,property:sr(i,{leading:n})})},{name:"between_predicate",symbols:[le.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",le.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([t,e,r,n,i,s,o])=>({type:K.between_predicate,betweenKw:ir(t),expr1:Xwe(r,{leading:e,trailing:n}),andKw:ir(i),expr2:[sr(o,{leading:s})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:Cb},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:t=>t[0].concat([t[1]])},{name:"case_expression",symbols:[le.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",le.has("END")?{type:"END"}:END],postprocess:([t,e,r,n,i])=>({type:K.case_expression,caseKw:sr(ir(t),{trailing:e}),endKw:ir(i),expr:r||[],clauses:n})},{name:"case_clause",symbols:[le.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",le.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([t,e,r,n,i,s])=>({type:K.case_when,whenKw:sr(ir(t),{trailing:e}),thenKw:sr(ir(n),{trailing:i}),condition:r,result:s})},{name:"case_clause",symbols:[le.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([t,e,r])=>({type:K.case_else,elseKw:sr(ir(t),{trailing:e}),result:r})},{name:"comma$subexpression$1",symbols:[le.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[t]])=>({type:K.comma})},{name:"asterisk$subexpression$1",symbols:[le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[t]])=>({type:K.operator,text:t.text})},{name:"operator$subexpression$1",symbols:[le.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[t]])=>({type:K.operator,text:t.text})},{name:"identifier$subexpression$1",symbols:[le.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[le.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[le.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[t]])=>({type:K.identifier,quoted:t.type!=="IDENTIFIER",text:t.text})},{name:"parameter$subexpression$1",symbols:[le.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[t]])=>({type:K.parameter,key:t.key,text:t.text})},{name:"literal$subexpression$1",symbols:[le.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[le.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[t]])=>({type:K.literal,text:t.text})},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[t]])=>ir(t)},{name:"data_type$subexpression$1",symbols:[le.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[le.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[t]])=>pK(t)},{name:"data_type",symbols:[le.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([t,e,r])=>({type:K.parameterized_data_type,dataType:sr(pK(t),{trailing:e}),parenthesis:r})},{name:"logic_operator$subexpression$1",symbols:[le.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[le.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[le.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[t]])=>ir(t)},{name:"other_keyword$subexpression$1",symbols:[le.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[le.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[le.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[le.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[t]])=>ir(t)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:t=>t[0].concat([t[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([t])=>t},{name:"comment",symbols:[le.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([t])=>({type:K.line_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[le.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([t])=>({type:K.block_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[le.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([t])=>({type:K.disable_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})}],ParserStart:"main"},SK=jwe});function mK(t){let e={},r=new Na(i=>[...fK(t.tokenize(i,e)),Ly(i.length)]),n=new zwe(Kwe.fromCompiled(SK),{lexer:r});return{parse:(i,s)=>{e=s;let{results:o}=n.feed(i);if(o.length===1)return o[0];throw o.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(o,void 0,2)}`)}}}var AK,zwe,Kwe,_K=H(()=>{AK=q(dK(),1);TK();RK();Nb();gn();({Parser:zwe,Grammar:Kwe}=AK.default)});var k,Ca,Jwe,Qwe,SR=H(()=>{Oc();(function(t){t[t.SPACE=0]="SPACE",t[t.NO_SPACE=1]="NO_SPACE",t[t.NO_NEWLINE=2]="NO_NEWLINE",t[t.NEWLINE=3]="NEWLINE",t[t.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",t[t.INDENT=5]="INDENT",t[t.SINGLE_INDENT=6]="SINGLE_INDENT"})(k=k||(k={}));Ca=class{constructor(e){this.indentation=e,this.items=[]}add(...e){for(let r of e)switch(r){case k.SPACE:this.items.push(k.SPACE);break;case k.NO_SPACE:this.trimHorizontalWhitespace();break;case k.NO_NEWLINE:this.trimWhitespace();break;case k.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(k.NEWLINE);break;case k.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(k.MANDATORY_NEWLINE);break;case k.INDENT:this.addIndentation();break;case k.SINGLE_INDENT:this.items.push(k.SINGLE_INDENT);break;default:this.items.push(r)}}trimHorizontalWhitespace(){for(;Jwe(io(this.items));)this.items.pop()}trimWhitespace(){for(;Qwe(io(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(io(this.items)){case k.NEWLINE:this.items.pop(),this.items.push(e);break;case k.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(k.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case k.SPACE:return" ";case k.NEWLINE:case k.MANDATORY_NEWLINE:return`
`;case k.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}},Jwe=t=>t===k.SPACE||t===k.SINGLE_INDENT,Qwe=t=>t===k.SPACE||t===k.SINGLE_INDENT||t===k.NEWLINE});function RR(t,e){if(e==="standard")return t;let r=[];return t.length>=10&&t.includes(" ")&&([t,...r]=t.split(" ")),e==="tabularLeft"?t=t.padEnd(9," "):t=t.padStart(9," "),t+["",...r].join(" ")}function yb(t){return F3(t)||t===$.RESERVED_CLAUSE||t===$.RESERVED_SELECT||t===$.RESERVED_SET_OPERATION||t===$.RESERVED_JOIN||t===$.LIMIT}var IK=H(()=>{gn()});var bb,Zwe,ya,wb=H(()=>{Oc();bb="top-level",Zwe="block-level",ya=class{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(bb)}increaseBlockLevel(){this.indentTypes.push(Zwe)}decreaseTopLevel(){this.indentTypes.length>0&&io(this.indentTypes)===bb&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===bb;);}}});var cf,yc,gK=H(()=>{wb();SR();cf=class extends Ca{constructor(e){super(new ya("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(r=>this.addToLength(r)),this.length>this.expressionWidth)throw new yc;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===k.MANDATORY_NEWLINE||e===k.NEWLINE)throw new yc;e===k.INDENT||e===k.SINGLE_INDENT||e===k.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===k.NO_NEWLINE||e===k.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}},yc=class extends Error{}});var uf,NK=H(()=>{Oc();gb();gn();Ob();SR();IK();gK();uf=class t{constructor({cfg:e,dialectCfg:r,params:n,layout:i,inline:s=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=r,this.inline=s,this.params=n,this.layout=i}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case K.function_call:return this.formatFunctionCall(e);case K.parameterized_data_type:return this.formatParameterizedDataType(e);case K.array_subscript:return this.formatArraySubscript(e);case K.property_access:return this.formatPropertyAccess(e);case K.parenthesis:return this.formatParenthesis(e);case K.between_predicate:return this.formatBetweenPredicate(e);case K.case_expression:return this.formatCaseExpression(e);case K.case_when:return this.formatCaseWhen(e);case K.case_else:return this.formatCaseElse(e);case K.clause:return this.formatClause(e);case K.set_operation:return this.formatSetOperation(e);case K.limit_clause:return this.formatLimitClause(e);case K.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case K.literal:return this.formatLiteral(e);case K.identifier:return this.formatIdentifier(e);case K.parameter:return this.formatParameter(e);case K.operator:return this.formatOperator(e);case K.comma:return this.formatComma(e);case K.line_comment:return this.formatLineComment(e);case K.block_comment:return this.formatBlockComment(e);case K.disable_comment:return this.formatBlockComment(e);case K.data_type:return this.formatDataType(e);case K.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let r;switch(e.array.type){case K.data_type:r=this.showDataType(e.array);break;case K.keyword:r=this.showKw(e.array);break;default:r=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(r)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(k.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){let r=this.formatInlineExpression(e.children);r?(this.layout.add(e.openParen),this.layout.add(...r.getLayoutItems()),this.layout.add(k.NO_SPACE,e.closeParen,k.SPACE)):(this.layout.add(e.openParen,k.NEWLINE),ga(this.cfg)?(this.layout.add(k.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(k.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(k.NEWLINE,k.INDENT,e.closeParen,k.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),k.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(k.NO_SPACE,k.SPACE,this.showNonTabularKw(e.andKw),k.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(k.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(k.NEWLINE,k.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(k.NEWLINE,k.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(k.NEWLINE,k.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):ga(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return ga(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(k.NEWLINE,k.INDENT,this.showKw(e.nameKw),k.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(k.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(k.NEWLINE,k.INDENT,this.showKw(e.nameKw),k.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(k.NEWLINE,k.INDENT,this.showKw(e.nameKw),k.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(k.NEWLINE,k.INDENT,this.showKw(e.nameKw),k.NEWLINE),this.layout.add(k.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(k.NEWLINE,k.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),ga(this.cfg)?this.layout.add(k.SPACE):this.layout.add(k.NEWLINE,k.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(k.NO_SPACE,",",k.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",k.SPACE)}formatLiteral(e){this.layout.add(e.text,k.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),k.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),k.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(k.NO_SPACE,e):e===":"?this.layout.add(k.NO_SPACE,e,k.SPACE):this.layout.add(e,k.SPACE)}formatComma(e){this.inline?this.layout.add(k.NO_SPACE,",",k.SPACE):this.layout.add(k.NO_SPACE,",",k.NEWLINE,k.INDENT)}withComments(e,r){this.formatComments(e.leadingComments),r(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(r=>{r.type===K.line_comment?this.formatLineComment(r):this.formatBlockComment(r)})}formatLineComment(e){dR(e.precedingWhitespace||"")?this.layout.add(k.NEWLINE,k.INDENT,e.text,k.MANDATORY_NEWLINE,k.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(k.NO_NEWLINE,k.SPACE,e.text,k.MANDATORY_NEWLINE,k.INDENT):this.layout.add(e.text,k.MANDATORY_NEWLINE,k.INDENT)}formatBlockComment(e){e.type===K.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(r=>{this.layout.add(k.NEWLINE,k.INDENT,r)}),this.layout.add(k.NEWLINE,k.INDENT)):this.layout.add(e.text,k.SPACE)}isMultilineBlockComment(e){return dR(e.text)||dR(e.precedingWhitespace||"")}isDocComment(e){let r=e.split(/\n/);return/^\/\*\*?$/.test(r[0])&&r.slice(1,r.length-1).every(n=>/^\s*\*/.test(n))&&/^\s*\*\/$/.test(io(r))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(r=>/^\s*\*/.test(r)?" "+r.replace(/^\s*/,""):r):e.split(/\n/).map(r=>r.replace(/^\s*/,""))}formatSubExpression(e){return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){let r=this.params.getPositionalParameterIndex();try{return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new cf(this.cfg.expressionWidth),inline:!0}).format(e)}catch(n){if(n instanceof yc){this.params.setPositionalParameterIndex(r);return}else throw n}}formatKeywordNode(e){switch(e.tokenType){case $.RESERVED_JOIN:return this.formatJoin(e);case $.AND:case $.OR:case $.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){ga(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(k.NEWLINE,k.INDENT,this.showKw(e),k.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(k.NEWLINE,k.INDENT,this.showKw(e),k.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),k.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?ga(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(k.NEWLINE,k.INDENT,this.showKw(e),k.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(k.NEWLINE,k.INDENT,this.showKw(e),k.SPACE):this.layout.add(this.showKw(e),k.NEWLINE,k.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),k.SPACE)}showKw(e){return yb(e.tokenType)?RR(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return Nc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return yb(e.tokenType)?RR(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return Nc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return Nc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}}});var df,OK=H(()=>{gb();cK();_K();NK();SR();wb();df=class{constructor(e,r){this.dialect=e,this.cfg=r,this.params=new lf(this.cfg.params)}format(e){let r=this.parse(e);return this.formatAst(r).trimEnd()}parse(e){return mK(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(r=>this.formatStatement(r)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){let r=new uf({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new Ca(new ya(lK(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?r.add(k.NEWLINE,";"):r.add(k.NO_NEWLINE,";")),r.toString()}}});function CK(t){let e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(let r of e)if(r in t)throw new ps(`${r} config is no more supported.`);if(t.expressionWidth<=0)throw new ps(`expressionWidth config must be positive number. Received ${t.expressionWidth} instead.`);if(t.params&&!eLe(t.params)&&console.warn('WARNING: All "params" option values should be strings.'),t.paramTypes&&!tLe(t.paramTypes))throw new ps("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return t}function eLe(t){return(t instanceof Array?t:Object.values(t)).every(r=>typeof r=="string")}function tLe(t){return t.custom&&Array.isArray(t.custom)?t.custom.every(e=>e.regex!==""):!0}var ps,Lb=H(()=>{ps=class extends Error{}});var rLe,yK,Db,nLe,bK,Pb,wK=H(()=>{qz();aK();OK();Lb();rLe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},yK={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},Db=Object.keys(yK),nLe={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},bK=(t,e={})=>{if(typeof e.language=="string"&&!Db.includes(e.language))throw new ps(`Unsupported SQL dialect: ${e.language}`);let r=yK[e.language||"sql"];return Pb(t,Object.assign(Object.assign({},e),{dialect:hb[r]}))},Pb=(t,e)=>{var{dialect:r}=e,n=rLe(e,["dialect"]);if(typeof t!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof t);let i=CK(Object.assign(Object.assign({},nLe),n));return new df(oK(r),i).format(t)}});var LK={};_t(LK,{ConfigError:()=>ps,bigquery:()=>qS,db2:()=>XS,db2i:()=>jS,duckdb:()=>zS,expandPhrases:()=>x,format:()=>bK,formatDialect:()=>Pb,hive:()=>KS,mariadb:()=>JS,mysql:()=>QS,n1ql:()=>eR,plsql:()=>tR,postgresql:()=>rR,redshift:()=>nR,singlestoredb:()=>cR,snowflake:()=>uR,spark:()=>iR,sql:()=>oR,sqlite:()=>sR,supportedDialects:()=>Db,tidb:()=>ZS,transactsql:()=>lR,trino:()=>aR});var DK=H(()=>{wK();xt();Lb();Py();My();Uy();Fy();Hy();ky();Yy();qy();Xy();zy();Jy();Zy();tb();nb();sb();ab();cb();db();Eb()});var UK={};_t(UK,{ExplainPlanView:()=>xb,parseExplainOutput:()=>iLe});function iLe(t){let e=t.split(`
`).filter(d=>d.trim()),r=t.includes("QUERY VERBOSE PLAN:")||t.includes("Node 1."),n=e.map(d=>d.replace(/^NOTICE:\s*/i,"").trim()).filter(d=>d&&!d.startsWith("QUERY PLAN")&&!d.startsWith("QUERY VERBOSE")),i=[],s=[],o=0,a=0,l=n.findIndex(d=>d.includes("PLANTEXT:")),c=l>=0?n.slice(l+1).filter(d=>!d.startsWith("(")&&!d.includes("locus=")):n,u=[];for(let d of c){if(!d.trim()||d.startsWith("(xpath_")||d.includes("locus="))continue;let E=d.match(/^(\s*)/)?.[1]?.length||0,f=Math.floor(E/3),T=d.match(/^[\s]*(?:[lr]:\s*)?([\w\s-]+?)(?:\s+table\s+"(\w+)")?(?:\s+{[^}]*})?\s*\(cost=([\d.]+)\.\.([\d.]+)\s+rows=(\d+)\s+width=(\d+)\s+conf=([\d.]+)\)/i);if(T){let[,h,p,S,m,R,A,g]=T,w=h.trim(),I={id:++o,type:w,table:p,cost:{start:parseFloat(S),end:parseFloat(m)},rows:parseInt(R),width:parseInt(A),confidence:parseFloat(g),indent:f,children:[],raw:d.trim(),warnings:[]};for(sLe(I),s.push(...I.warnings),I.cost.end>a&&(a=I.cost.end);u.length>0&&u[u.length-1].indent>=f;)u.pop();u.length>0?u[u.length-1].children.push(I):i.push(I),u.push(I)}}return{nodes:i,rawText:t,isVerbose:r,totalCost:a,warnings:s}}function sLe(t){t.type.includes("Sequential Scan")&&t.rows>5e5&&t.warnings.push({type:"warning",message:`Sequential Scan on ${t.table||"table"} (${t.rows.toLocaleString()} rows) - consider adding an index`,icon:"\u26A0\uFE0F"}),t.type.includes("Nested Loop")&&t.rows>1e5&&t.warnings.push({type:"critical",message:`Nested Loop producing ${t.rows.toLocaleString()} rows - potential performance issue`,icon:"\u{1F534}"}),t.cost.end>1e10?t.warnings.push({type:"critical",message:`Very high estimated cost: ${t.cost.end.toExponential(2)}`,icon:"\u{1F534}"}):t.cost.end>1e7&&t.warnings.push({type:"warning",message:`High estimated cost: ${t.cost.end.toLocaleString()}`,icon:"\u26A0\uFE0F"}),t.confidence===0&&t.warnings.push({type:"info",message:"Low confidence estimate (conf=0) - statistics may be outdated",icon:"\u2139\uFE0F"})}function oLe(t){return t.includes("Sequential Scan")?"#e74c3c":t.includes("Index Scan")?"#27ae60":t.includes("Nested Loop")?"#e67e22":t.includes("Hash Join")?"#3498db":t.includes("Merge Join")?"#9b59b6":t.includes("Aggregate")?"#1abc9c":t.includes("Group")?"#16a085":t.includes("Sort")?"#f39c12":t.includes("Limit")?"#95a5a6":t.includes("Sub-query")?"#34495e":"#7f8c8d"}function MK(t,e=0){return t.map(r=>{let n=r.children.length>0,i=oLe(r.type),s=r.warnings.map(o=>`<span class="warning-badge warning-${o.type}" title="${o.message}">${o.icon}</span>`).join("");return`
        <div class="plan-node" style="--node-color: ${i}">
            <div class="node-header">
                ${n?'<span class="toggle-btn">\u25BC</span>':'<span class="toggle-spacer"></span>'}
                <span class="node-type" style="background-color: ${i}">${r.type}</span>
                ${r.table?`<span class="node-table">${r.table}${r.alias?` (${r.alias})`:""}</span>`:""}
                ${s}
            </div>
            <div class="node-metrics">
                <span class="metric"><b>Cost:</b> ${PK(r.cost.start)}..${PK(r.cost.end)}</span>
                <span class="metric"><b>Rows:</b> ${r.rows.toLocaleString()}</span>
                <span class="metric"><b>Width:</b> ${r.width}</span>
                <span class="metric ${r.confidence===0?"low-conf":""}"><b>Conf:</b> ${r.confidence}%</span>
            </div>
            ${n?`<div class="node-children">${MK(r.children,e+1)}</div>`:""}
        </div>`}).join("")}function PK(t){return t>1e6?t.toExponential(1):t.toLocaleString(void 0,{maximumFractionDigits:1})}function vK(t){return t.reduce((e,r)=>e+1+vK(r.children),0)}function xK(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function aLe(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Nn,xb,BK=H(()=>{"use strict";Nn=q(require("vscode"));xb=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(s=>{switch(s.command){case"copyPlan":Nn.env.clipboard.writeText(n.rawText),Nn.window.showInformationMessage("Plan copied to clipboard");return}},null,this._disposables)}static{this.viewType="netezza.explainPlan"}static createOrShow(e,r,n){let i=Nn.window.activeTextEditor?Nn.ViewColumn.Beside:void 0,s=Nn.window.createWebviewPanel(t.viewType,"Query Execution Plan",i||Nn.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Nn.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(s,e,r,n)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){this._panel.title="Query Execution Plan",this._panel.webview.html=this._getHtmlForWebview(e,r)}_getHtmlForWebview(e,r){let n=this._panel.webview.asWebviewUri(Nn.Uri.joinPath(this._extensionUri,"media","explainPlan.css")),i=aLe(),s=xK(r);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${this._panel.webview.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Query Execution Plan</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>Query Execution Plan</h2>
            <div class="header-actions">
                <button id="copyBtn" class="btn">\u{1F4CB} Copy Plan</button>
                <button id="expandAllBtn" class="btn">\u2795 Expand All</button>
                <button id="collapseAllBtn" class="btn">\u2796 Collapse All</button>
            </div>
        </div>

        ${e.warnings.length>0?`
        <div class="warnings-summary">
            <h3>\u26A0\uFE0F Performance Issues Detected (${e.warnings.length})</h3>
            <ul>
                ${e.warnings.map(o=>`<li class="warning-${o.type}">${o.icon} ${o.message}</li>`).join("")}
            </ul>
        </div>
        `:`
        <div class="no-warnings">
            <span>\u2705 No obvious performance issues detected</span>
        </div>
        `}

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-label">Total Cost:</span>
                <span class="stat-value">${e.totalCost>1e6?e.totalCost.toExponential(2):e.totalCost.toLocaleString()}</span>
            </div>
            <div class="stat">
                <span class="stat-label">Nodes:</span>
                <span class="stat-value">${vK(e.nodes)}</span>
            </div>
        </div>

        <div class="query-section">
            <h3>Query</h3>
            <pre class="query-text">${s}</pre>
        </div>

        <div class="plan-section">
            <h3>Execution Plan</h3>
            <div id="planTree" class="plan-tree">
                ${MK(e.nodes)}
            </div>
        </div>

        <div class="raw-section">
            <details>
                <summary>Raw Plan Output</summary>
                <pre class="raw-plan">${xK(e.rawText)}</pre>
            </details>
        </div>
    </div>

    <script nonce="${i}">
        const vscode = acquireVsCodeApi();
        
        document.getElementById('copyBtn').addEventListener('click', () => {
            vscode.postMessage({ command: 'copyPlan' });
        });

        document.getElementById('expandAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'block');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25BC');
        });

        document.getElementById('collapseAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25B6');
        });

        document.querySelectorAll('.toggle-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const node = e.target.closest('.plan-node');
                const children = node.querySelector('.node-children');
                if (children) {
                    const isHidden = children.style.display === 'none';
                    children.style.display = isHidden ? 'block' : 'none';
                    e.target.textContent = isHidden ? '\u25BC' : '\u25B6';
                }
            });
        });
    </script>
</body>
</html>`}}});var fLe={};_t(fLe,{activate:()=>uLe,deactivate:()=>dLe});module.exports=xa(fLe);var z=q(require("vscode"));lr();jR();var zr=q(require("vscode")),jf=class t{constructor(e,r,n){this.extensionUri=r;this.connectionManager=n;this._disposables=[];this._panel=e,this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.html=this._getHtmlForWebview(this._panel.webview),this._panel.webview.onDidReceiveMessage(async i=>{switch(i.command){case"save":try{await this.connectionManager.saveConnection(i.data),zr.window.showInformationMessage(`Connection '${i.data.name}' saved and activated!`),this.sendConnectionsToWebview()}catch(s){let o=s instanceof Error?s.message:String(s);zr.window.showErrorMessage(`Error saving: ${o}`)}return;case"delete":try{await zr.window.showWarningMessage(`Are you sure you want to delete '${i.name}'?`,{modal:!0},"Yes","No")==="Yes"&&(await this.connectionManager.deleteConnection(i.name),zr.window.showInformationMessage(`Connection '${i.name}' deleted.`),this.sendConnectionsToWebview())}catch(s){let o=s instanceof Error?s.message:String(s);zr.window.showErrorMessage(`Error deleting: ${o}`)}return;case"loadConnections":this.sendConnectionsToWebview();return}},null,this._disposables)}async sendConnectionsToWebview(){let e=await this.connectionManager.getConnections(),r=this.connectionManager.getActiveConnectionName();await this._panel.webview.postMessage({command:"updateConnections",connections:e,activeName:r})}static createOrShow(e,r){let n=zr.window.activeTextEditor?zr.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n);return}let i=zr.window.createWebviewPanel("netezzaLogin","Connect to Netezza",n||zr.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getHtmlForWebview(e){let r=e.asWebviewUri(zr.Uri.joinPath(this.extensionUri,"netezza_icon64.png"));return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Connect to Netezza</title>
            <style>
                :root {
                    --container-paddding: 20px;
                    --input-padding-vertical: 6px;
                    --input-padding-horizontal: 8px;
                    --input-margin-vertical: 4px;
                    --input-margin-horizontal: 0;
                }
                body {
                    font-family: var(--vscode-font-family);
                    padding: 0;
                    margin: 0;
                    color: var(--vscode-foreground);
                    background-color: var(--vscode-editor-background);
                    display: flex;
                    height: 100vh;
                    overflow: hidden;
                }
                
                /* Sidebar */
                .sidebar {
                    width: 260px;
                    background-color: var(--vscode-sideBar-background);
                    border-right: 1px solid var(--vscode-panel-border);
                    display: flex;
                    flex-direction: column;
                    flex-shrink: 0;
                    user-select: none;
                }
                .sidebar-header {
                    padding: 10px 15px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    background-color: var(--vscode-sideBarSectionHeader-background);
                }
                .sidebar-title {
                    font-weight: bold;
                    font-size: 11px;
                    text-transform: uppercase;
                    color: var(--vscode-sideBarTitle-foreground);
                }
                .connection-list {
                    flex: 1;
                    overflow-y: auto;
                    padding: 0;
                }
                .connection-item {
                    padding: 8px 15px;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    border-left: 3px solid transparent;
                    color: var(--vscode-sideBar-foreground);
                }
                .connection-item:hover {
                    background-color: var(--vscode-list-hoverBackground);
                }
                .connection-item.active {
                    background-color: var(--vscode-list-activeSelectionBackground);
                    color: var(--vscode-list-activeSelectionForeground);
                    border-left-color: var(--vscode-focusBorder);
                }
                .connection-item .name {
                    flex: 1;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                .connection-item .status {
                    font-size: 0.8em;
                    margin-left: 5px;
                    opacity: 0.7;
                }

                /* Main Content */
                .main {
                    flex: 1;
                    padding: 40px;
                    overflow-y: auto;
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                }
                .form-container {
                    width: 100%;
                    max-width: 500px;
                    background-color: var(--vscode-editorWidget-background);
                    border: 1px solid var(--vscode-widget-border);
                    padding: 30px;
                    border-radius: 4px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
                
                h2 {
                    margin-top: 0;
                    margin-bottom: 25px;
                    font-size: 1.4em;
                    font-weight: 500;
                    padding-bottom: 10px;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .form-group {
                    margin-bottom: 18px;
                }
                .form-row {
                    display: flex;
                    gap: 15px;
                }
                .form-col {
                    flex: 1;
                }

                label {
                    display: block;
                    margin-bottom: 6px;
                    font-weight: 600;
                    font-size: 12px;
                    color: var(--vscode-input-placeholderForeground);
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }

                input, select {
                    width: 100%;
                    padding: 8px 10px;
                    box-sizing: border-box;
                    background: var(--vscode-input-background);
                    color: var(--vscode-input-foreground);
                    border: 1px solid var(--vscode-input-border);
                    border-radius: 2px;
                    font-family: inherit;
                    font-size: 13px;
                }
                input:focus, select:focus {
                    border-color: var(--vscode-focusBorder);
                    outline: 1px solid var(--vscode-focusBorder);
                }
                
                /* Buttons */
                .actions {
                    margin-top: 30px;
                    display: flex;
                    gap: 12px;
                    padding-top: 20px;
                    border-top: 1px solid var(--vscode-panel-border);
                }
                button {
                    background: var(--vscode-button-background);
                    color: var(--vscode-button-foreground);
                    padding: 8px 16px;
                    border: none;
                    cursor: pointer;
                    border-radius: 2px;
                    font-size: 13px;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                button:hover {
                    background: var(--vscode-button-hoverBackground);
                }
                button.secondary {
                    background: var(--vscode-button-secondaryBackground);
                    color: var(--vscode-button-secondaryForeground);
                }
                button.secondary:hover {
                    background: var(--vscode-button-secondaryHoverBackground);
                }
                button.danger {
                    background: var(--vscode-errorForeground);
                    color: white;
                }
                button.icon-btn {
                    padding: 4px;
                    background: transparent;
                    color: var(--vscode-icon-foreground);
                }
                button.icon-btn:hover {
                    background: var(--vscode-toolbar-hoverBackground);
                }

                .icon-img {
                    width: 16px;
                    height: 16px;
                    object-fit: contain;
                }
                .logo-header {
                    width: 32px;
                    height: 32px;
                    margin-right: 10px;
                }

            </style>
        </head>
        <body>
            <div class="sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-title">Saved Connections</span>
                    <button class="icon-btn" id="btnNew" title="New Connection">
                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14 7v1H8v6H7V8H1V7h6V1h1v6h6z"/></svg>
                    </button>
                </div>
                <div id="connectionList" class="connection-list"></div>
            </div>
            
            <div class="main">
                <div class="form-container">
                    <h2 id="formTitle">
                        <img src="${r}" class="logo-header" />
                        New Connection
                    </h2>
                    
                    <div class="form-group">
                        <label for="name">Connection Name</label>
                        <input type="text" id="name" placeholder="Friendly name (e.g. Production)">
                    </div>

                    <div class="form-group">
                        <label for="dbType">
                            Database Type 
                            <img src="${r}" class="icon-img" />
                        </label>
                        <select id="dbType">
                            <option value="NetezzaSQL">NetezzaSQL</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="host">Host</label>
                                <input type="text" id="host" placeholder="Hostname or IP">
                            </div>
                        </div>
                        <div class="form-col" style="flex: 0 0 80px;">
                            <div class="form-group">
                                <label for="port">Port</label>
                                <input type="number" id="port" value="5480">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="database">
                            Database
                        </label>
                        <input type="text" id="database" placeholder="Database name" value="system">
                    </div>

                    <div class="form-row">
                         <div class="form-col">
                            <div class="form-group">
                                <label for="user">User</label>
                                <input type="text" id="user" placeholder="Username">
                            </div>
                         </div>
                         <div class="form-col">
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" id="password" placeholder="Password">
                            </div>
                         </div>
                    </div>
                    
                    <div class="actions">
                        <button id="btnSave" onclick="save()">Save & Connect</button>
                        <button id="btnDelete" class="danger" onclick="del()" style="display: none;">Delete</button>
                    </div>
                </div>
            </div>

            <script>
                const vscode = acquireVsCodeApi();
                let connections = [];
                let activeName = null;
                let currentEditName = null;
                const iconSrc = "${r}";

                // Load initial data
                window.addEventListener('message', event => {
                    const message = event.data;
                    switch (message.command) {
                        case 'updateConnections':
                            connections = message.connections;
                            activeName = message.activeName;
                            renderList();
                            break;
                    }
                });
                
                vscode.postMessage({ command: 'loadConnections' });

                document.getElementById('btnNew').addEventListener('click', () => {
                    clearForm();
                });

                function renderList() {
                    const list = document.getElementById('connectionList');
                    list.innerHTML = '';
                    
                    connections.forEach(conn => {
                        const div = document.createElement('div');
                        div.className = 'connection-item';
                        if (conn.name === currentEditName) {
                             div.classList.add('active');
                        }
                        
                        div.innerHTML = \`<span class="name"><img src="\${iconSrc}" class="icon-img"> \${conn.name}</span>\`;
                        if (conn.name === activeName) {
                            div.innerHTML += \`<span class="status">\u25CF</span>\`;
                            div.title = 'Active Connection';
                        }
                        
                        div.onclick = () => loadForm(conn);
                        list.appendChild(div);
                    });
                }

                function loadForm(conn) {
                    currentEditName = conn.name;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> Edit Connection\`;
                    document.getElementById('name').value = conn.name;
                    document.getElementById('dbType').value = conn.dbType || 'NetezzaSQL';
                    document.getElementById('host').value = conn.host;
                    document.getElementById('port').value = conn.port;
                    document.getElementById('database').value = conn.database;
                    document.getElementById('user').value = conn.user;
                    document.getElementById('password').value = conn.password || ''; 
                    
                    document.getElementById('btnDelete').style.display = 'block';
                    renderList();
                }

                function clearForm() {
                    currentEditName = null;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> New Connection\`;
                    document.getElementById('name').value = '';
                    document.getElementById('dbType').value = 'NetezzaSQL';
                    document.getElementById('host').value = '';
                    document.getElementById('port').value = '5480';
                    document.getElementById('database').value = 'system';
                    document.getElementById('user').value = '';
                    document.getElementById('password').value = '';
                    
                    document.getElementById('btnDelete').style.display = 'none';
                    renderList();
                }

                function save() {
                    const name = document.getElementById('name').value;
                    if (!name) {
                        return; // Add validation UI?
                    }
                    
                    const data = {
                        name: name,
                        dbType: document.getElementById('dbType').value,
                        host: document.getElementById('host').value,
                        port: parseInt(document.getElementById('port').value),
                        database: document.getElementById('database').value,
                        user: document.getElementById('user').value,
                        password: document.getElementById('password').value
                    };
                    
                    vscode.postMessage({
                        command: 'save',
                        data: data
                    });
                }

                function del() {
                    if (currentEditName) {
                        vscode.postMessage({
                            command: 'delete',
                            name: currentEditName
                        });
                    }
                }
            </script>
        </body>
        </html>`}};var he=q(require("vscode"));lr();lr();function L8(t,e,r){return`SELECT description FROM ${t}.._v_object_data WHERE objtype='TABLE' AND objname='${r}' AND schema='${e}'`}function Gc(t,e,r){return`
        SELECT 
            X.ATTNAME
            , X.FORMAT_TYPE
            , CASE WHEN X.ATTNOTNULL THEN 1 ELSE 0 END AS IS_NOT_NULL
            , X.COLDEFAULT
            , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
            , MAX(CASE WHEN K.CONTYPE = 'p' THEN 1 ELSE 0 END) AS IS_PK
            , MAX(CASE WHEN K.CONTYPE = 'f' THEN 1 ELSE 0 END) AS IS_FK
        FROM
            ${t}.._V_RELATION_COLUMN X
        INNER JOIN
            ${t}.._V_OBJECT_DATA O ON X.OBJID = O.OBJID
        LEFT JOIN
            ${t}.._V_RELATION_KEYDATA K 
            ON UPPER(K.RELATION) = UPPER(O.OBJNAME) 
            AND UPPER(K.SCHEMA) = UPPER(O.SCHEMA)
            AND UPPER(K.ATTNAME) = UPPER(X.ATTNAME)
            AND K.CONTYPE IN ('p', 'f')
        WHERE
            UPPER(O.OBJNAME) = UPPER('${r}')
            AND UPPER(O.DBNAME) = UPPER('${t}')
            AND UPPER(O.SCHEMA) = UPPER('${e}')
        GROUP BY 
            X.ATTNAME, X.FORMAT_TYPE, X.ATTNOTNULL, X.COLDEFAULT, X.DESCRIPTION, X.ATTNUM
        ORDER BY 
            X.ATTNUM
    `}function D8(t){let e=!1,r=t.IS_NOT_NULL;return typeof r=="boolean"?e=r:typeof r=="number"?e=r===1:typeof r=="string"&&(e=r==="1"||r.toLowerCase()==="true"||r.toLowerCase()==="t"),{attname:t.ATTNAME,formatType:t.FORMAT_TYPE,isNotNull:e,colDefault:t.COLDEFAULT||null,description:t.DESCRIPTION||"",isPk:Number(t.IS_PK)===1,isFk:Number(t.IS_FK)===1}}function P8(t){if(!t)return null;let e=Ee(t);return e.length>0&&e[0].DESCRIPTION?e[0].DESCRIPTION:null}function Hc(t){if(!t)return[];try{return Ee(t).map(D8)}catch(e){return console.error("[TableMetadataProvider] Error parsing column metadata:",e),[]}}async function fw(t,e,r,n){let i=L8(e,r,n),s=Gc(e,r,n),[o,a]=await Promise.all([t(i),t(s)]);return{tableComment:P8(o),columns:Hc(a)}}function Ew(t){return t.map(e=>({ATTNAME:e.attname,FORMAT_TYPE:e.formatType,IS_NOT_NULL:e.isNotNull?1:0,COLDEFAULT:e.colDefault,DESCRIPTION:e.description,IS_PK:e.isPk?1:0,IS_FK:e.isFk?1:0}))}var zf=class{constructor(e,r,n){this.context=e;this.connectionManager=r;this.metadataCache=n;this._onDidChangeTreeData=new he.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.connectionManager.onDidChangeConnections(()=>this.refresh())}refresh(){this._onDidChangeTreeData.fire()}triggerDatabasePrefetch(e,r){this.metadataCache.hasConnectionPrefetchTriggered(e)||(console.log(`[SchemaProvider] Triggering connection prefetch for: ${e}`),this.metadataCache.triggerConnectionPrefetch(e,async n=>{try{return await oe(this.context,n,!0,this.connectionManager,e)}catch(i){console.error("[SchemaProvider] Prefetch query error:",i);return}}))}getTreeItem(e){return e}getParent(e){if(e.contextValue!=="serverInstance"){if(e.contextValue==="database")return new Jt(e.connectionName,he.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,e.connectionName,void 0);if(e.contextValue.startsWith("typeGroup"))return new Jt(e.dbName,he.TreeItemCollapsibleState.Collapsed,"database",e.dbName,void 0,void 0,void 0,void 0,e.connectionName);if(e.contextValue.startsWith("netezza:"))return new Jt(e.objType,he.TreeItemCollapsibleState.Collapsed,`typeGroup:${e.objType}`,e.dbName,e.objType,void 0,void 0,void 0,e.connectionName)}}async getChildren(e){if(e){if(e.contextValue==="serverInstance"){if(!e.connectionName)return[];let r=this.metadataCache.getDatabases(e.connectionName);if(r)return r.map(n=>new Jt(n.label||n.DATABASE,he.TreeItemCollapsibleState.Collapsed,"database",n.label||n.DATABASE,void 0,void 0,void 0,void 0,e.connectionName));try{let n=await oe(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,this.connectionManager,e.connectionName);if(!n)return[];let i=Ee(n),s=i.map(o=>({DATABASE:o.DATABASE,label:o.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e.connectionName,s),i.map(o=>new Jt(o.DATABASE,he.TreeItemCollapsibleState.Collapsed,"database",o.DATABASE,void 0,void 0,void 0,void 0,e.connectionName))}catch(n){let i=n instanceof Error?n.message:String(n);return he.window.showErrorMessage(`Failed to load databases for ${e.connectionName}: ${i}`),[]}}else if(e.contextValue==="database"){if(e.connectionName&&e.dbName&&this.triggerDatabasePrefetch(e.connectionName,e.dbName),e.connectionName&&e.dbName){let r=this.metadataCache.getTypeGroups(e.connectionName,e.dbName);if(r&&r.length>0)return r.map(n=>new Jt(n,he.TreeItemCollapsibleState.Collapsed,`typeGroup:${n}`,e.dbName,n,void 0,void 0,void 0,e.connectionName))}try{let r=`SELECT DISTINCT OBJTYPE FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' ORDER BY OBJTYPE`,n=await oe(this.context,r,!0,this.connectionManager,e.connectionName),i=n?Ee(n):[];if(e.connectionName&&e.dbName){let s=i.map(o=>o.OBJTYPE);this.metadataCache.setTypeGroups(e.connectionName,e.dbName,s)}return i.map(s=>new Jt(s.OBJTYPE,he.TreeItemCollapsibleState.Collapsed,`typeGroup:${s.OBJTYPE}`,e.dbName,s.OBJTYPE,void 0,void 0,void 0,e.connectionName))}catch(r){let n=r instanceof Error?r.message:String(r);return he.window.showErrorMessage("Failed to load object types: "+n),[]}}else if(e.contextValue.startsWith("typeGroup")){if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW"||e.objType==="EXTERNAL TABLE")){let r=this.metadataCache.getObjectsWithSchema(e.connectionName,e.dbName);if(r&&r.length>0){let n=e.objType,i=r.filter(s=>{let o=s.item;return o.objType?o.objType===n:n==="VIEW"?o.kind===18:n==="TABLE"?o.kind!==18&&o.detail!=="EXTERNAL TABLE":n==="EXTERNAL TABLE"?o.detail==="EXTERNAL TABLE"||o.detail?.startsWith("EXTERNAL TABLE"):!1});if(i.length>0)return i.map(s=>{let o=s.item;return new Jt(typeof o.label=="string"?o.label:o.label?.label||"unknown",he.TreeItemCollapsibleState.Collapsed,`netezza:${e.objType}`,e.dbName,e.objType,s.schema,s.objId,s.description,e.connectionName,void 0,void 0,void 0,void 0,s.owner)})}}try{let r;e.objType==="PROCEDURE"?r=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA, OBJID::INT AS OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION, OWNER FROM ${e.dbName}.._V_PROCEDURE WHERE DATABASE = '${e.dbName}' ORDER BY PROCEDURESIGNATURE`:r=`SELECT OBJNAME, SCHEMA, OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION, OWNER FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' AND OBJTYPE = '${e.objType}' ORDER BY OBJNAME`;let n=await oe(this.context,r,!0,this.connectionManager,e.connectionName),i=n?Ee(n):[];if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW")){let s=new Map;for(let o of i){let a=o.SCHEMA?`${e.dbName}.${o.SCHEMA}`:`${e.dbName}..`;s.has(a)||s.set(a,{tables:[],idMap:new Map});let l=s.get(a);l.tables.push({label:o.OBJNAME,kind:e.objType==="VIEW"?18:7,detail:o.SCHEMA?e.objType:`${e.objType} (${o.SCHEMA})`,sortText:o.OBJNAME});let c=o.SCHEMA?`${e.dbName}.${o.SCHEMA}.${o.OBJNAME}`:`${e.dbName}..${o.OBJNAME}`;o.OBJID!==void 0&&l.idMap.set(c,o.OBJID)}}return i.map(s=>{let a=["TABLE","VIEW","EXTERNAL TABLE","SYSTEM VIEW","SYSTEM TABLE"].includes(e.objType||"");return new Jt(s.OBJNAME,a?he.TreeItemCollapsibleState.Collapsed:he.TreeItemCollapsibleState.None,`netezza:${e.objType}`,e.dbName,e.objType,s.SCHEMA,s.OBJID,s.DESCRIPTION,e.connectionName,void 0,void 0,void 0,void 0,s.OWNER)})}catch(r){let n=r instanceof Error?r.message:String(r);return he.window.showErrorMessage("Failed to load objects: "+n),[]}}else if(e.contextValue.startsWith("netezza:")){let r=e.label,n=e.schema,i=e.dbName;if(e.connectionName&&i){let s=`${i}.${n||""}.${r}`,o=this.metadataCache.getColumns(e.connectionName,s);if(o&&o.length>0&&o[0].isPk!==void 0)return o.map(a=>new Jt(a.detail?`${a.label||a.ATTNAME} (${a.detail})`:a.label||a.ATTNAME,he.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,a.documentation||"",e.connectionName,r,void 0,a.isPk,a.isFk))}if(!e.connectionName||!i)return[];try{let s=Gc(i,n||"",r),o=await oe(this.context,s,!0,this.connectionManager,e.connectionName),a=Hc(o),l=`${i}.${n||""}.${r}`,c=a.map(u=>({ATTNAME:u.attname,FORMAT_TYPE:u.formatType,label:u.attname,kind:5,detail:u.formatType,documentation:u.description,isPk:u.isPk,isFk:u.isFk}));return this.metadataCache.setColumns(e.connectionName,l,c),a.map(u=>new Jt(`${u.attname} (${u.formatType})`,he.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,u.description,e.connectionName,r,void 0,u.isPk,u.isFk))}catch(s){let o=s instanceof Error?s.message:String(s);return he.window.showErrorMessage("Failed to load columns: "+o),[]}}}else{let r=await this.connectionManager.getConnections(),n=he.Uri.file(this.context.asAbsolutePath("netezza_icon64.png"));return r.map(i=>new Jt(i.name,he.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,i.name,void 0,n))}return[]}},Jt=class extends he.TreeItem{constructor(r,n,i,s,o,a,l,c,u,d,E,f,T,h){super(r,n);this.label=r;this.collapsibleState=n;this.contextValue=i;this.dbName=s;this.objType=o;this.schema=a;this.objId=l;this.objectDescription=c;this.connectionName=u;this.parentName=d;this.isPk=f;this.isFk=T;this.owner=h;let p=this.label;u&&(p+=`
[Server: ${u}]`),c&&c.trim()&&(p+=`

${c.trim()}`),a&&i.startsWith("netezza:")&&(p+=`

Schema: ${a}`),h&&i.startsWith("netezza:")&&(p+=`
Owner: ${h}`),this.isPk&&(p+=`
\u{1F511} Primary Key`),this.isFk&&(p+=`
\u{1F517} Foreign Key`),this.tooltip=p,this.description=a?`(${a})`:"";let S=[u||"global",i,s||"",a||"",o||"",d||"",r,l?l.toString():""];this.id=S.join("|"),E?this.iconPath=E:i==="serverInstance"?this.iconPath=new he.ThemeIcon("server"):i==="database"?this.iconPath=new he.ThemeIcon("database"):i.startsWith("typeGroup")?this.iconPath=new he.ThemeIcon("folder"):i.startsWith("netezza:")?this.iconPath=this.getIconForType(o):i==="column"&&(this.isPk?this.iconPath=new he.ThemeIcon("key",new he.ThemeColor("charts.yellow")):this.isFk?this.iconPath=new he.ThemeIcon("link",new he.ThemeColor("charts.blue")):this.iconPath=new he.ThemeIcon("symbol-field"))}getIconForType(r){switch(r){case"TABLE":return new he.ThemeIcon("table");case"VIEW":return new he.ThemeIcon("eye");case"PROCEDURE":return new he.ThemeIcon("gear");case"FUNCTION":return new he.ThemeIcon("symbol-function");case"AGGREGATE":return new he.ThemeIcon("symbol-operator");case"EXTERNAL TABLE":return new he.ThemeIcon("server");default:return new he.ThemeIcon("file")}}};var we=q(require("vscode"));var Vr=q(require("vscode")),Kf=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(i=>{switch(i.command){case"alert":Vr.window.showErrorMessage(i.text);return;case"info":Vr.window.showInformationMessage(i.text);return}},null,this._disposables)}static{this.viewType="netezza.analysisPanel"}static createOrShow(e,r){let n=Vr.window.activeTextEditor?Vr.ViewColumn.Beside:void 0,i=Vr.window.createWebviewPanel(t.viewType,"Data Analysis",n||Vr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Vr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(i,e,r)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){let r=this._panel.webview;this._panel.title="Data Analysis",this._panel.webview.html=this._getHtmlForWebview(r,e)}_getHtmlForWebview(e,r){let n=Vr.Uri.joinPath(this._extensionUri,"media","analysisPanel.js"),i=e.asWebviewUri(n),s=Vr.Uri.joinPath(this._extensionUri,"media","analysisPanel.css"),o=e.asWebviewUri(s),a=e.asWebviewUri(Vr.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),l=e.asWebviewUri(Vr.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),c=x8();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}'; font-src ${e.cspSource};">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${o}" rel="stylesheet">

            <title>Data Analysis</title>
        </head>
        <body>
            <div id="app">
                <div class="sidebar">
                    <div class="section">
                        <h3>Fields</h3>
                        <div id="fieldList" class="field-list"></div>
                    </div>
                </div>
                <div class="main-content">
                    <div class="filter-section" style="margin-bottom: 15px; display: flex; gap: 10px; align-items: center;">
                        <label for="dataFilter" style="font-weight: bold;">Filter:</label>
                        <input type="text" id="dataFilter" placeholder="Type to filter data..." style="flex: 1; padding: 6px 10px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); border-radius: 4px;">
                        <button id="applyFilter" style="padding: 6px 12px; cursor: pointer;">Apply</button>
                        <button id="clearFilter" style="padding: 6px 12px; cursor: pointer;">Clear</button>
                    </div>
                    <div class="config-zones">
                        <div class="zone-container">
                            <h4>Rows</h4>
                            <div id="rowsZone" class="drop-zone" data-zone="rows"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Columns</h4>
                            <div id="colsZone" class="drop-zone" data-zone="cols"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Values</h4>
                            <div id="valuesZone" class="drop-zone" data-zone="values"></div>
                        </div>
                    </div>
                    <div class="pivot-grid-container">
                        <div id="pivotGrid"></div>
                    </div>
                    <div class="chart-container" style="margin-top: 20px;">
                        <div class="chart-header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <h4 style="margin: 0;">Chart</h4>
                            <select id="chartType" style="padding: 4px;">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                            </select>
                        </div>
                        <canvas id="pivotChart" width="600" height="300" style="background: var(--vscode-editor-background); border: 1px solid var(--vscode-panel-border); border-radius: 4px;"></canvas>
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${a}"></script>
            <script nonce="${c}" src="${l}"></script>
            <script nonce="${c}">
                // Pass initial data to the script
                window.initialData = ${JSON.stringify(r)};
                window.TableCore = TableCore;
                window.VirtualCore = VirtualCore;
            </script>
            <script nonce="${c}" src="${i}"></script>
        </body>
        </html>`}};function x8(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Jf=class{constructor(e){this._cspSource=e}generateHtml(e,r){let n=this._getIcons();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src ${this._cspSource} 'unsafe-inline'; worker-src ${this._cspSource} blob:; connect-src ${this._cspSource}; style-src ${this._cspSource} 'unsafe-inline';">
            <title>Query Results</title>
            <script src="${e.scriptUri}"></script>
            <script src="${e.virtualUri}"></script>
            <link rel="stylesheet" href="${e.styleUri}">
        </head>
        <body>
            <div id="sourceTabs" class="source-tabs"></div>
            <div id="resultSetTabs" class="result-set-tabs" style="display: none;"></div>
            
            <div class="controls">
                <input type="text" id="globalFilter" placeholder="Filter..." onkeyup="onFilterChanged()" style="background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); padding: 4px;">
                <button onclick="toggleRowView()" title="Toggle Row View">${n.eye} Row View</button>
                
                <!-- Split Button for Export -->
                <div class="split-btn-container">
                    <button id="exportMainBtn" class="split-btn-main" onclick="executeSplitExport()" title="Export results (Excel)">
                        ${n.excel} Excel
                    </button>
                    <button id="exportArrowBtn" class="split-btn-arrow" onclick="toggleExportMenu()" title="Select export format">
                        <svg width="10" height="10" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                            <path d="M8 11L3 6h10l-5 5z"/>
                        </svg>
                    </button>
                    <div id="exportMenu" class="split-btn-menu" style="display:none;">
                        <div class="split-btn-menu-item" onclick="selectExportFormat('excel')">
                            ${n.excel} Excel (XLSB)
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('xlsx')">
                            ${n.excel} Excel (XLSX)
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('csv')">
                            ${n.csv} CSV
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('json')">
                            ${n.json} JSON
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('xml')">
                            ${n.xml} XML
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('sql')">
                            ${n.sql} SQL INSERT
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('markdown')">
                            ${n.markdown} Markdown Table
                        </div>
                    </div>
                </div>

                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="copyAsExcel()" title="Copy results as Excel to clipboard">${n.excel} Excel Copy</button>
                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="selectAll()" title="Select all rows">${n.checkAll} Select All</button>
                <button onclick="copySelection(false)" title="Copy selected cells to clipboard">${n.copy} Copy</button>
                <button onclick="copySelection(true)" title="Copy selected cells with headers">${n.copy} Copy w/ Headers</button>
                <button onclick="clearAllFilters()" title="Clear all column filters">${n.clear} Clear Filters</button>
                <span id="rowCountInfo" style="margin-left: auto; font-size: 12px; opacity: 0.8;"></span>
            </div>

            <div id="groupingPanel" class="grouping-panel" ondragover="onDragOverGroup(event)" ondragleave="onDragLeaveGroup(event)" ondrop="onDropGroup(event)">
                <span style="opacity: 0.5;">Drag headers here to group</span>
            </div>

            <div id="mainSplitView" class="main-split-view">
                <div id="gridContainer"></div>
                <div id="rowViewPanel" class="row-view-panel">
                    <div class="row-view-header">
                        <span>Row Details & Comparison</span>
                        <span class="row-view-close" onclick="toggleRowView()">\xD7</span>
                    </div>
                    <div id="rowViewContent" class="row-view-content">
                        <div class="row-view-placeholder">Select 1 or 2 rows to view details or compare</div>
                    </div>
                </div>
            </div>
            
            <script>
                const vscode = acquireVsCodeApi();
                window.sources = ${r.sourcesJson};
                window.pinnedSources = new Set(${r.pinnedSourcesJson});
                window.pinnedResults = ${r.pinnedResultsJson};
                window.activeSource = ${r.activeSourceJson};
                window.resultSets = ${r.resultSetsJson};
                
                let grids = [];
                let activeGridIndex = window.resultSets && window.resultSets.length > 0 ? window.resultSets.length - 1 : 0;
                const workerUri = "${e.workerUri}";
            </script>
            <script src="${e.mainScriptUri}"></script>
            <script>
                // Initialize on load
                init();
            </script>
        </body>
        </html>`}_getIcons(){return{eye:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 3c-3 0-6 2.5-6 5s3 5 6 5 6-2.5 6-5-3-5-6-5zm0 9c-2.5 0-4.5-2-4.5-4S5.5 4 8 4s4.5 2 4.5 4-2 4.5-4.5 4.5z"/><circle cx="8" cy="8" r="2"/></svg>',excel:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/></svg>',copy:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4 4h7v2H4V4zm0 4h7v2H4V8zm0 4h7v2H4v-2zM2 1h12v14H2V1zm1 1v12h10V2H3z"/></svg>',csv:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13 2H6L2 6v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-1 11H4V7h3V4h5v9z"/></svg>',json:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M5 2c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2h-2V2H7v2H5V2zm0 12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-2h-2v2H7v-2H5v2zM2 7v2h2V7H2zm10 0v2h2V7h-2z"/></svg>',xml:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M11.5 1L7 15h2l4.5-14h-2zM4.5 1L0 15h2l4.5-14h-2z"/></svg>',sql:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 0C3.6 0 0 1.8 0 4v8c0 2.2 3.6 4 8 4s8-1.8 8-4V4c0-2.2-3.6-4-8-4zm0 2c3.3 0 6 1.3 6 3s-2.7 3-6 3-6-1.3-6-3 2.7-3 6-3zm0 12c-3.3 0-6-1.3-6-3V9c1.6 1.7 4.3 2 6 2s4.4-.3 6-2v2c0 1.7-2.7 3-6 3z"/></svg>',markdown:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14.5 2H1.5C.7 2 0 2.7 0 3.5v9C0 13.3.7 14 1.5 14h13c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5zM3 11V5l2 2 2-2v6H6V7l-1 1-1-1v4H3zm10 0h-2V9h-2v2H7V5h2v2h2V5h2v6z"/></svg>',export:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/><path d="M10 12L8 14L6 12" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>',checkAll:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13.485 1.929l1.414 1.414-9.9 9.9-4.243-4.242 1.415-1.415 2.828 2.829z"/></svg>',clear:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 7.293l4.146-4.147.708.708L8.707 8l4.147 4.146-.708.708L8 8.707l-4.146 4.147-.708-.708L7.293 8 3.146 3.854l.708-.708L8 7.293z"/></svg>'}}};var Wc=class{constructor(e){this._resultsMap=new Map;this._pinnedSources=new Set;this._pinnedResults=new Map;this._autoPinnedResults=new Set;this._resultIdCounter=0;this._extensionUri=e}static{this.viewType="netezza.results"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[we.Uri.joinPath(this._extensionUri,"media")]},e.webview.html=this._getHtmlForWebview(),e.webview.onDidReceiveMessage(i=>{switch(i.command){case"analyze":Kf.createOrShow(this._extensionUri,i.data);return;case"exportCsv":this.exportCsv(i.data);return;case"openInExcel":this.openInExcel(i.data,i.sql);return;case"copyAsExcel":this.copyAsExcel(i.data,i.sql);return;case"openInExcelXlsx":this.openInExcelXlsx(i.data,i.sql);return;case"exportJson":this.exportJson(i.data);return;case"exportXml":this.exportXml(i.data);return;case"exportSqlInsert":this.exportSqlInsert(i.data);return;case"exportMarkdown":this.exportMarkdown(i.data);return;case"switchSource":this._activeSourceUri=i.sourceUri,this._updateWebview();return;case"togglePin":this._pinnedSources.has(i.sourceUri)?this._pinnedSources.delete(i.sourceUri):this._pinnedSources.add(i.sourceUri),this._updateWebview();return;case"toggleResultPin":this._toggleResultPin(i.sourceUri,i.resultSetIndex);return;case"switchToPinnedResult":this._switchToPinnedResult(i.resultId);return;case"unpinResult":this._pinnedResults.delete(i.resultId),this._updateWebview();return;case"closeSource":this.closeSource(i.sourceUri);return;case"copyToClipboard":we.env.clipboard.writeText(i.text),we.window.showInformationMessage("Copied to clipboard");return;case"info":we.window.showInformationMessage(i.text);return;case"error":we.window.showErrorMessage(i.text);return;case"setContext":we.commands.executeCommand("setContext",i.key,i.value);return}})}triggerCopySelection(){this._postMessageToWebview({command:"copySelection"})}setActiveSource(e){this._resultsMap.has(e)&&this._activeSourceUri!==e&&(this._activeSourceUri=e,this._updateWebview())}startExecution(e){let r=this._resultsMap.get(e)||[],n,i=r.findIndex(d=>d.isLog);if(i!==-1){n=r[i];let d=new Date().toLocaleTimeString();n.data.push(["",""]),n.data.push([d,"--- New Execution Started ---"]),n.message="Execution started...",n.executionTimestamp=Date.now()}else n={columns:[{name:"Time",type:"string"},{name:"Message",type:"string"}],data:[],message:"Execution started...",executionTimestamp:Date.now(),isLog:!0,name:"Logs"};let s=Array.from(this._pinnedResults.entries()).filter(([d,E])=>E.sourceUri===e&&r[E.resultSetIndex]!==n).sort((d,E)=>d[1].resultSetIndex-E[1].resultSetIndex),o=[];s.forEach(([d,E])=>{E.resultSetIndex<r.length&&o.push(r[E.resultSetIndex])});let a=[n,...o];this._resultsMap.set(e,a),Array.from(this._pinnedResults.entries()).filter(([d,E])=>E.sourceUri===e).map(([d,E])=>d).forEach(d=>this._pinnedResults.delete(d));let c=`result_${++this._resultIdCounter}`,u=e.split(/[\\/]/).pop()||e;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:0,timestamp:Date.now(),label:`${u} - Logs`}),s.forEach(([d,E],f)=>{let T=`result_${++this._resultIdCounter}`;this._pinnedResults.set(T,{sourceUri:e,resultSetIndex:f+1,timestamp:Date.now(),label:`${u} - Result ${f+2}`})}),this._pinnedSources.add(e),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}log(e,r){let n=this._resultsMap.get(e);if(!n||n.length===0)return;let i=n.find(s=>s.isLog);if(i){let s=new Date().toLocaleTimeString();i.data.push([s,r]),this._updateWebview()}}finalizeExecution(e){for(let r of this._autoPinnedResults){let n=this._pinnedResults.get(r);n&&n.sourceUri===e&&this._pinnedResults.delete(r)}this._autoPinnedResults.clear()}updateResults(e,r,n=!1){this._resultsMap.has(r)||this._pinnedSources.add(r);let i=[];Array.isArray(e)?i=e:i=[e];let s=Date.now();i.forEach(f=>{f.executionTimestamp=s});let o=this._resultsMap.get(r)||[],a=o.find(f=>f.isLog),l=Array.from(this._pinnedResults.entries()).filter(f=>f[1].sourceUri===r).sort((f,T)=>f[1].resultSetIndex-T[1].resultSetIndex),c=[],u=new Map;a&&c.push(a),l.forEach(([f,T])=>{let h=o[T.resultSetIndex];h&&(h===a||c.includes(h)||c.push(h),u.set(f,h))});let d=c.length;c.push(...i);let E=r.split(/[\\\\/]/).pop()||r;if(i.forEach((f,T)=>{let h=`result_${++this._resultIdCounter}`,p=d+T;this._pinnedResults.set(h,{sourceUri:r,resultSetIndex:p,timestamp:Date.now(),label:f.isLog?`${E} - Logs`:`${E} - Result ${p}`}),this._autoPinnedResults.add(h)}),this._resultsMap.set(r,c),u.forEach((f,T)=>{let h=c.indexOf(f);if(h!==-1){let p=this._pinnedResults.get(T);p&&(p.resultSetIndex=h)}}),a&&!Array.from(u.values()).includes(a)){let T=`result_${++this._resultIdCounter}`,h=r.split(/[\\/]/).pop()||r;this._pinnedResults.set(T,{sourceUri:r,resultSetIndex:0,timestamp:Date.now(),label:`${h} - Logs`})}n||Array.from(this._resultsMap.keys()).filter(T=>T!==r&&!this._pinnedSources.has(T)).forEach(T=>{this._resultsMap.delete(T),Array.from(this._pinnedResults.entries()).filter(p=>p[1].sourceUri===T).map(([p,S])=>p).forEach(p=>this._pinnedResults.delete(p))}),this._activeSourceUri=r,this._view?(this._updateWebview(),this._view.show?.(!0)):we.window.showInformationMessage('Query completed. Please open "Query Results" panel to view data.')}appendStreamingChunk(e,r,n,i){let s=this._resultsMap.get(e)||[];if(n.isFirstChunk&&n.columns.length>0){let o={columns:n.columns,data:n.rows,executionTimestamp:Date.now(),sql:i,limitReached:n.limitReached};s.findIndex(d=>d.isLog)>=0,s.push(o),this._resultsMap.set(e,s);let l=e.split(/[\\/]/).pop()||e,c=`result_${++this._resultIdCounter}`,u=s.length-1;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:u,timestamp:Date.now(),label:`${l} - Result ${u}`}),this._autoPinnedResults.add(c),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}else if(n.rows.length>0){let o=s[s.length-1];o&&!o.isLog&&(o.data.push(...n.rows),o.limitReached=n.limitReached,this._postMessageToWebview({command:"appendRows",resultSetIndex:s.length-1,rows:n.rows,totalRows:n.totalRowsSoFar,isLastChunk:n.isLastChunk,limitReached:n.limitReached}))}n.isLastChunk&&this._postMessageToWebview({command:"streamingComplete",resultSetIndex:s.length-1,totalRows:n.totalRowsSoFar,limitReached:n.limitReached})}_postMessageToWebview(e){this._view&&this._view.webview.postMessage(e)}_updateWebview(){this._view&&(this._view.webview.html=this._getHtmlForWebview())}_toggleResultPin(e,r){let n=Array.from(this._pinnedResults.entries()).find(i=>{let s=i[1];return s.sourceUri===e&&s.resultSetIndex===r});if(n)this._pinnedResults.delete(n[0]);else{let i=`result_${++this._resultIdCounter}`,s=Date.now(),a=`${e.split(/[\\/]/).pop()||e} - Result ${r+1}`;this._pinnedResults.set(i,{sourceUri:e,resultSetIndex:r,timestamp:s,label:a})}this._updateWebview()}_switchToPinnedResult(e){let r=this._pinnedResults.get(e);r&&(this._activeSourceUri=r.sourceUri,this._updateWebview(),this._view&&this._view.webview.postMessage({command:"switchToResultSet",resultSetIndex:r.resultSetIndex}))}async exportCsv(e){let r=await we.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export"});r&&(await we.workspace.fs.writeFile(r,Buffer.from(e)),we.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async openInExcel(e,r){we.commands.executeCommand("netezza.exportCurrentResultToXlsbAndOpen",e,r)}async copyAsExcel(e,r){we.commands.executeCommand("netezza.copyCurrentResultToXlsbClipboard",e,r)}async openInExcelXlsx(e,r){try{await we.commands.executeCommand("netezza.exportCurrentResultToXlsxAndOpen",e,r)}catch(n){let i=n instanceof Error?n.message:String(n);we.window.showErrorMessage(`Failed to export to XLSX: ${i}. Please try reloading the window.`)}}async exportJson(e){let r=await we.window.showSaveDialog({filters:{"JSON Files":["json"]},saveLabel:"Export JSON"});r&&(await we.workspace.fs.writeFile(r,Buffer.from(e)),we.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportXml(e){let r=await we.window.showSaveDialog({filters:{"XML Files":["xml"]},saveLabel:"Export XML"});r&&(await we.workspace.fs.writeFile(r,Buffer.from(e)),we.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportSqlInsert(e){let r=await we.window.showSaveDialog({filters:{"SQL Files":["sql"]},saveLabel:"Export SQL"});r&&(await we.workspace.fs.writeFile(r,Buffer.from(e)),we.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportMarkdown(e){let r=await we.window.showSaveDialog({filters:{"Markdown Files":["md"]},saveLabel:"Export Markdown"});r&&(await we.workspace.fs.writeFile(r,Buffer.from(e)),we.window.showInformationMessage(`Results exported to ${r.fsPath}`))}closeSource(e){if(this._resultsMap.has(e)){if(this._resultsMap.delete(e),this._pinnedSources.delete(e),Array.from(this._pinnedResults.entries()).filter(([n,i])=>i.sourceUri===e).map(([n,i])=>n).forEach(n=>this._pinnedResults.delete(n)),this._activeSourceUri===e){let n=Array.from(this._resultsMap.keys());this._activeSourceUri=n.length>0?n[0]:void 0}this._updateWebview()}}_getHtmlForWebview(){if(!this._view)return"";let e=this._getScriptUris(),r=this._prepareViewData();return new Jf(this._view.webview.cspSource).generateHtml(e,r)}_getScriptUris(){return{scriptUri:this._view.webview.asWebviewUri(we.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),virtualUri:this._view.webview.asWebviewUri(we.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),mainScriptUri:this._view.webview.asWebviewUri(we.Uri.joinPath(this._extensionUri,"media","resultPanel.js")),workerUri:this._view.webview.asWebviewUri(we.Uri.joinPath(this._extensionUri,"media","searchWorker.js")),styleUri:this._view.webview.asWebviewUri(we.Uri.joinPath(this._extensionUri,"media","resultPanel.css"))}}_prepareViewData(){let e=Array.from(this._resultsMap.keys()),r=Array.from(this._pinnedSources),n=Array.from(this._pinnedResults.entries()).map(([a,l])=>({id:a,...l})),i=this._activeSourceUri&&this._resultsMap.has(this._activeSourceUri)?this._activeSourceUri:e.length>0?e[0]:null,s=i?this._resultsMap.get(i):[],o=(a,l)=>typeof l=="bigint"?l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l):l.toString():l;return{sourcesJson:JSON.stringify(e),pinnedSourcesJson:JSON.stringify(r),pinnedResultsJson:JSON.stringify(n),activeSourceJson:JSON.stringify(i),resultSetsJson:JSON.stringify(s,o)}}};var He=q(require("vscode"));lr();var Qf=class{constructor(e,r,n){this.context=e;this.metadataCache=r;this.connectionManager=n}async provideCompletionItems(e,r,n,i){let s=e.getText(),o=this.stripComments(s),a=this.parseLocalDefinitions(o),l=e.lineAt(r).text.substr(0,r.character),c=l.toUpperCase(),u=r.line>0?e.lineAt(r.line-1).text:"",d=this.connectionManager.getConnectionForExecution(e.uri.toString());if(d||(d=this.connectionManager.getActiveConnectionName()||void 0),d&&!this.metadataCache.hasConnectionPrefetchTriggered(d)&&this.metadataCache.triggerConnectionPrefetch(d,m=>oe(this.context,m,!0,this.connectionManager,d)),/(FROM|JOIN)\s+$/.test(c)){let m=await this.getDatabases(d);return[...a.map(A=>{let g=new He.CompletionItem(A.name,He.CompletionItemKind.Class);return g.detail=A.type,g}),...m]}if(/(?:FROM|JOIN)\s*$/i.test(u)&&/^\s*[a-zA-Z0-9_]*$/.test(l)){let m=await this.getDatabases(d);return[...a.map(A=>{let g=new He.CompletionItem(A.name,He.CompletionItemKind.Class);return g.detail=A.type,g}),...m]}let E=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\s*$/i);if(E){let m=E[1],R=await this.getSchemas(d,m);return new He.CompletionList(R,!1)}let f=l.match(/^\s*([a-zA-Z0-9_]+)\.\s*$/i);if(f&&/(?:FROM|JOIN)\s*$/i.test(u)){let m=f[1],R=await this.getSchemas(d,m);return new He.CompletionList(R,!1)}let T=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.$/i);if(T){let m=T[1],R=T[2];return this.getTables(d,m,R)}let h=l.match(/^\s*([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.\s*$/i);if(h&&/(?:FROM|JOIN)\s*$/i.test(u)){let m=h[1],R=h[2];return this.getTables(d,m,R)}let p=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\.$/i);if(p){let m=p[1];return this.getTables(d,m,void 0)}let S=l.match(/^\s*([a-zA-Z0-9_]+)\.\.\s*$/i);if(S&&/(?:FROM|JOIN)\s*$/i.test(u)){let m=S[1];return this.getTables(d,m,void 0)}if(l.trim().endsWith(".")){let m=l.match(/([a-zA-Z0-9_]+)\.$/);if(m){let R=m[1],A=this.findAlias(o,R);if(A){let w=a.find(I=>I.name.toUpperCase()===A.table.toUpperCase());return w?w.columns.map(I=>{let D=new He.CompletionItem(I,He.CompletionItemKind.Field);return D.detail="Local Column",D}):this.getColumns(d,A.db,A.schema,A.table)}let g=a.find(w=>w.name.toUpperCase()===R.toUpperCase());if(g)return g.columns.map(w=>{let I=new He.CompletionItem(w,He.CompletionItemKind.Field);return I.detail="Local Column",I})}}return this.getKeywords()}stripComments(e){let r=e.replace(/--.*$/gm,"");return r=r.replace(/\/\*[\s\S]*?\*\//g,""),r}parseLocalDefinitions(e){let r=[],n=/CREATE\s+TABLE\s+([a-zA-Z0-9_]+)\s+AS\s*\(/gi,i;for(;(i=n.exec(e))!==null;){let a=i[1],l=i.index+i[0].length,c=this.extractBalancedParenthesisContent(e,l);if(c){let u=this.extractColumnsFromQuery(c);r.push({name:a,type:"Temp Table",columns:u})}}let s=/\bWITH\s+/gi;for(;(i=s.exec(e))!==null;){let a=i.index+i[0].length;for(;;){let l=/^\s*([a-zA-Z0-9_]+)\s+AS\s*\(/i,c=e.substring(a),u=c.match(l);if(!u)break;let d=u[1],E=c.indexOf("(",u.index+u[1].length),f=a+E,T=this.extractBalancedParenthesisContent(e,f+1);if(T){let h=this.extractColumnsFromQuery(T);r.push({name:d,type:"CTE",columns:h}),a=f+1+T.length+1;let p=/^\s*,/,S=e.substring(a);if(p.test(S)){let m=S.match(p);a+=m[0].length}else break}else break}}let o=/\bJOIN\s+\(/gi;for(;(i=o.exec(e))!==null;){let a=i.index+i[0].length,l=this.extractBalancedParenthesisContent(e,a);if(l&&/^\s*SELECT\b/i.test(l)){let c=a+l.length+1,d=e.substring(c).match(/^\s+(?:AS\s+)?([a-zA-Z0-9_]+)/i);if(d){let E=d[1],f=this.extractColumnsFromQuery(l);r.push({name:E,type:"Subquery",columns:f})}}}return r}extractBalancedParenthesisContent(e,r){let n=1,i=r;for(;i<e.length;i++)if(e[i]==="("?n++:e[i]===")"&&n--,n===0)return e.substring(r,i);return null}extractColumnsFromQuery(e){let r=e.match(/^\s*SELECT\s+/i);if(!r)return[];let n=r[0].length,i="",s=0,o=-1;for(let c=n;c<e.length;c++)if(e[c]==="("?s++:e[c]===")"&&s--,s===0&&e.substr(c).match(/^\s+FROM\b/i)){o=c;break}o!==-1?i=e.substring(n,o):i=e.substring(n);let a=[],l="";s=0;for(let c=0;c<i.length;c++){let u=i[c];u==="("?s++:u===")"&&s--,u===","&&s===0?(a.push(l.trim()),l=""):l+=u}return l.trim()&&a.push(l.trim()),a.map(c=>{let u=c.match(/\s+AS\s+([a-zA-Z0-9_]+)$/i);if(u)return u[1];let d=c.match(/\s+([a-zA-Z0-9_]+)$/i);if(d)return d[1];let E=c.split(".");return E[E.length-1]})}findAlias(e,r){let n=new RegExp("(?:FROM|JOIN)\\s+([a-zA-Z0-9_\\.]+)(?:\\s+(?:AS\\s+)?([a-zA-Z0-9_]+))?","gi"),i;for(;(i=n.exec(e))!==null;){let s=i[1],o=i[2];if(o&&o.toUpperCase()===r.toUpperCase()){let a=s.split(".");return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{schema:a[0],table:a[1]}:{table:a[0]}}else if(!o){let a=s.split(".");if(a[a.length-1].toUpperCase()===r.toUpperCase())return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{schema:a[0],table:a[1]}:{table:a[0]}}}return null}buildSimpleColumnQuery(e,r,n,i,s){if(r)return`SELECT ATTNAME, FORMAT_TYPE FROM ${e}_V_RELATION_COLUMN WHERE OBJID = ${r} ORDER BY ATTNUM`;let o=i?`AND UPPER(O.SCHEMA) = UPPER('${i}')`:"",a=s?`AND UPPER(O.DBNAME) = UPPER('${s}')`:"";return`
            SELECT C.ATTNAME, C.FORMAT_TYPE 
            FROM ${e}_V_RELATION_COLUMN C
            JOIN ${e}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
            WHERE UPPER(O.OBJNAME) = UPPER('${n}') ${o} ${a}
            ORDER BY C.ATTNUM
        `}createColumnCompletionItem(e){let r=e.label||e.ATTNAME,n=r;e.isPk?n=`\u{1F511} ${r}`:e.isFk&&(n=`\u{1F517} ${r}`);let i=new He.CompletionItem(n,e.kind||He.CompletionItemKind.Field);i.insertText=r;let s=e.detail||"";return e.isPk&&e.isFk?s+=" (PK, FK)":e.isPk?s+=" (PK)":e.isFk&&(s+=" (FK)"),i.detail=s,e.documentation&&(i.documentation=new He.MarkdownString(e.documentation)),e.isPk?i.sortText=`0_${r}`:e.isFk?i.sortText=`1_${r}`:i.sortText=`2_${r}`,i}getKeywords(){return["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","DROP","TABLE","VIEW","DATABASE","JOIN","INNER","LEFT","RIGHT","OUTER","ON","AND","OR","NOT","NULL","IS","IN","BETWEEN","LIKE","AS","DISTINCT","CASE","WHEN","THEN","ELSE","END","WITH","UNION","ALL"].map(r=>{let n=new He.CompletionItem(r,He.CompletionItemKind.Keyword);return n.detail="SQL Keyword",n})}async getDatabases(e){if(!e)return[];let r=this.metadataCache.getDatabases(e);if(r)return r.map(n=>{let i=new He.CompletionItem(n.label||n.DATABASE,n.kind||He.CompletionItemKind.Module);return i.detail=n.detail,i});try{let i=await oe(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,this.connectionManager,e);if(!i)return[];let o=Ee(i).map(a=>({DATABASE:a.DATABASE,label:a.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e,o),o.map(a=>{let l=new He.CompletionItem(a.label,a.kind);return l.detail=a.detail,l})}catch(n){return console.error(n),[]}}async getSchemas(e,r){if(!e)return[];let n=this.metadataCache.getSchemas(e,r);if(n)return n.map(s=>{let o=new He.CompletionItem(s.label||s.SCHEMA,s.kind||He.CompletionItemKind.Folder);return o.detail=s.detail,o.insertText=s.insertText,o.sortText=s.sortText,o.filterText=s.filterText,o});let i=He.window.setStatusBarMessage(`Fetching schemas for ${r}...`);try{let s=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,o=await oe(this.context,s,!0,this.connectionManager,e);if(!o)return[];let l=Ee(o).filter(c=>c.SCHEMA!=null&&c.SCHEMA!=="").map(c=>{let u=c.SCHEMA;return{SCHEMA:u,label:u,kind:19,detail:`Schema in ${r}`,insertText:u,sortText:u,filterText:u}});return this.metadataCache.setSchemas(e,r,l),l.map(c=>{let u=new He.CompletionItem(c.label,c.kind);return u.detail=c.detail,u.insertText=c.insertText,u.sortText=c.sortText,u.filterText=c.filterText,u})}catch(s){return console.error("[SqlCompletion] Error in getSchemas:",s),[]}finally{i.dispose()}}async getTables(e,r,n){if(!e)return[];let i=n?`${r}.${n}`:`${r}..`,s=n?this.metadataCache.getTables(e,i):this.metadataCache.getTables(e,i)||this.metadataCache.getTablesAllSchemas(e,r);if(s)return s.map(l=>{let c=typeof l.label=="string"?l.label:l.label?.label||l.OBJNAME||l.TABLENAME||"?",u=new He.CompletionItem(c,l.kind||He.CompletionItemKind.Class);return u.detail=l.detail,l.DESCRIPTION&&(u.documentation=new He.MarkdownString(l.DESCRIPTION)),u.sortText=l.sortText,u});let o=n?`Fetching tables for ${r}.${n}...`:`Fetching tables for ${r}...`,a=He.window.setStatusBarMessage(o);try{let l="";n?l=`SELECT OBJNAME, OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND UPPER(SCHEMA) = UPPER('${n}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`:l=`SELECT OBJNAME, OBJID, SCHEMA, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`;let c=await oe(this.context,l,!0,this.connectionManager,e);if(!c)return[];let u=Ee(c),d=new Map,E=u.map(f=>{let T=f.OBJNAME,h=f.SCHEMA||n,p=h?`${r}.${h}.${f.OBJNAME}`:`${r}..${f.OBJNAME}`;return d.set(p,f.OBJID),{OBJNAME:f.OBJNAME,TABLENAME:f.OBJNAME,OBJID:f.OBJID,SCHEMA:h,label:T,kind:6,detail:n?"Table":`Table (${h})`,sortText:f.OBJNAME,DESCRIPTION:f.DESCRIPTION}});return this.metadataCache.setTables(e,i,E,d),E.map(f=>{let T=typeof f.label=="string"?f.label:f.label?.label||"?",h=new He.CompletionItem(T,f.kind);return h.detail=f.detail,f.DESCRIPTION&&(h.documentation=new He.MarkdownString(f.DESCRIPTION)),h.sortText=f.sortText,h})}catch(l){return console.error(l),[]}finally{a.dispose()}}async getColumns(e,r,n,i){if(!e)return[];let s,o=r?`${r}..`:"",a=n&&r?`${r}.${n}.${i}`:r?`${r}..${i}`:void 0;a&&(s=this.metadataCache.findTableId(e,a));let l=`${r||"CURRENT"}.${n||""}.${i}`,c=this.metadataCache.getColumns(e,l);if(c)return c.map(d=>this.createColumnCompletionItem(d));if(!n&&r){let d=this.metadataCache.getColumnsAnySchema(e,r,i);if(d)return d.map(E=>this.createColumnCompletionItem(E))}let u=He.window.setStatusBarMessage(`Fetching columns for ${i}...`);try{let d=n||"",E=r||"",f=E&&d?Gc(E,d,i):this.buildSimpleColumnQuery(o,s,i,n,r),T=await oe(this.context,f,!0,this.connectionManager,e);if(!T)return[];let h;if(E&&d?h=Hc(T).map(S=>({ATTNAME:S.attname,FORMAT_TYPE:S.formatType,label:S.attname,kind:5,detail:S.formatType,isPk:S.isPk,isFk:S.isFk,documentation:S.description})):h=Ee(T).map(S=>({ATTNAME:S.ATTNAME,FORMAT_TYPE:S.FORMAT_TYPE,label:S.ATTNAME,kind:5,detail:S.FORMAT_TYPE})),this.metadataCache.setColumns(e,l,h),r){let p=this.context,S=this.metadataCache;setImmediate(async()=>{try{await S.prefetchColumnsForSchema(e,r,n,m=>oe(p,m,!0,this.connectionManager,e))}catch(m){console.error("[SqlCompletion] Background column prefetch error:",m)}})}return h.map(p=>this.createColumnCompletionItem(p))}catch(d){return console.error(d),[]}finally{u.dispose()}}};var kc=q(require("vscode"));lr();function M8(t){let e="",r=0;for(;r<t.length;){if(t[r]==="-"&&r+1<t.length&&t[r+1]==="-"){for(;r<t.length&&t[r]!==`
`;)r++;r<t.length&&(e+=" ",r++);continue}if(t[r]==="/"&&r+1<t.length&&t[r+1]==="*"){for(r+=2;r<t.length-1&&!(t[r]==="*"&&t[r+1]==="/");)r++;r<t.length-1&&(r+=2),e+=" ";continue}if(t[r]==="'"){for(r++;r<t.length;)if(t[r]==="'"&&r+1<t.length&&t[r+1]==="'")r+=2;else if(t[r]==="'"){r++;break}else r++;e+=" ";continue}e+=t[r],r++}return e}function v8(t){let e="",r=0;for(;r<t.length;){if(t[r]==="-"&&r+1<t.length&&t[r+1]==="-"){for(;r<t.length&&t[r]!==`
`;)r++;r<t.length&&(e+=" ",r++);continue}if(t[r]==="/"&&r+1<t.length&&t[r+1]==="*"){for(r+=2;r<t.length-1&&!(t[r]==="*"&&t[r+1]==="/");)r++;r<t.length-1&&(r+=2),e+=" ";continue}if(t[r]==="'"){for(e+=t[r],r++;r<t.length;)if(t[r]==="'"&&r+1<t.length&&t[r+1]==="'")e+="''",r+=2;else if(t[r]==="'"){e+=t[r],r++;break}else e+=t[r],r++;continue}e+=t[r],r++}return e}function QR(t,e,r){let n;switch(r){case"raw":n=t;break;case"noComments":n=v8(t);break;case"noCommentsNoLiterals":default:n=M8(t);break}return n.toUpperCase().includes(e.toUpperCase())}var $c=class{constructor(e,r,n,i){this._extensionUri=e;this.context=r;this.metadataCache=n;this.connectionManager=i;this.currentSearchId=0}static{this.viewType="netezza.search"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"search":await this.search(i.value);break;case"searchSource":await this.searchSourceCode(i.value,i.mode||"noCommentsNoLiterals");break;case"navigate":kc.commands.executeCommand("netezza.revealInSchema",i);break}})}async search(e){if(!e||e.length<2)return;let r,n=kc.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=new Set;if(this._view){let c=this.metadataCache.search(e,r);if(c.length>0){let u=[];c.forEach(d=>{let E=`${d.name.toUpperCase().trim()}|${d.type.toUpperCase().trim()}|${(d.parent||"").toUpperCase().trim()}`;s.has(E)||(s.add(E),u.push({NAME:d.name,SCHEMA:d.schema||"",DATABASE:d.database||"",TYPE:d.type,PARENT:d.parent||"",DESCRIPTION:"Result from Cache",MATCH_TYPE:"NAME",connectionName:r}))}),u.sort((d,E)=>{let f=T=>T==="COLUMN"?2:1;return f(E.TYPE)-f(d.TYPE)?f(d.TYPE)-f(E.TYPE):d.NAME.localeCompare(E.NAME)}),u.length>0&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:u,append:!1})}else i===this.currentSearchId&&this._view.webview.postMessage({type:"searching",message:"Searching in database..."});this.metadataCache.hasAllObjectsPrefetchTriggered(r)||this.metadataCache.prefetchAllObjects(r,async u=>oe(this.context,u,!0,this.connectionManager,r))}let a=`%${e.replace(/'/g,"''").toUpperCase()}%`,l=`
            SELECT * FROM (
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(OBJNAME) LIKE '${a}'
                UNION ALL
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'DESC' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(DESCRIPTION) LIKE '${a}' AND UPPER(OBJNAME) NOT LIKE '${a}'
                UNION ALL
                SELECT 2 AS PRIORITY, C.ATTNAME AS NAME, O.SCHEMA, O.DBNAME AS DATABASE, 'COLUMN' AS TYPE, O.OBJNAME AS PARENT,
                       COALESCE(C.DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_RELATION_COLUMN C
                JOIN _V_OBJECT_DATA O ON C.OBJID = O.OBJID
                WHERE UPPER(C.ATTNAME) LIKE '${a}'
                UNION ALL
                SELECT 3 AS PRIORITY, E1.TABLENAME AS NAME, E1.SCHEMA, E1.DATABASE, 'EXTERNAL TABLE' AS TYPE, '' AS PARENT,
                       COALESCE(E2.EXTOBJNAME, '') AS DESCRIPTION, 'DATAOBJECT' AS MATCH_TYPE
                FROM _V_EXTERNAL E1
                JOIN _V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE AND E1.SCHEMA = E2.SCHEMA AND E1.TABLENAME = E2.TABLENAME
                WHERE UPPER(E2.EXTOBJNAME) LIKE '${a}'
            ) AS R
            ORDER BY PRIORITY, NAME
            LIMIT 100
        `;try{let c=await oe(this.context,l,!0,this.connectionManager,r);if(i!==this.currentSearchId)return;if(c&&c.data&&c.data.length>0){let u=Ee(c),d=[];u.forEach(E=>{let f=E,T=`${f.NAME.toUpperCase().trim()}|${f.TYPE.toUpperCase().trim()}|${(f.PARENT||"").toUpperCase().trim()}`;s.has(T)||(d.push({NAME:f.NAME,SCHEMA:f.SCHEMA,DATABASE:f.DATABASE,TYPE:f.TYPE,PARENT:f.PARENT,DESCRIPTION:f.DESCRIPTION,MATCH_TYPE:f.MATCH_TYPE,connectionName:r}),s.add(T))}),d.length>0&&this._view?this._view.webview.postMessage({type:"results",data:d,append:!0}):s.size===0&&this._view&&this._view.webview.postMessage({type:"results",data:[],append:!1})}else s.size===0&&this._view&&this._view.webview.postMessage({type:"results",data:[],append:!1})}catch(c){console.error("Search error:",c),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:c instanceof Error?c.message:String(c)})}}async searchSourceCode(e,r){if(!e||e.length<2)return;let n,i=kc.window.activeTextEditor;if(i&&i.document.languageId==="sql"&&(n=this.connectionManager.getConnectionForExecution(i.document.uri.toString())),n||(n=this.connectionManager.getActiveConnectionName()||void 0),!n){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let s=++this.currentSearchId,o=r==="raw"?"raw source":r==="noComments"?"source (excl. comments)":"source (excl. comments/strings)";try{this._view&&s===this.currentSearchId&&this._view.webview.postMessage({type:"searching",message:`Searching in ${o}...`});let a=e.toUpperCase(),l=[],c=`
                SELECT VIEWNAME AS NAME, SCHEMA, DATABASE, DEFINITION AS SOURCE
                FROM _V_VIEW
            `;try{let d=await oe(this.context,c,!0,this.connectionManager,n);if(d&&d.data&&s===this.currentSearchId){let E=Ee(d);for(let f of E)f.SOURCE&&QR(f.SOURCE,a,r)&&l.push({NAME:f.NAME,SCHEMA:f.SCHEMA,DATABASE:f.DATABASE,TYPE:"VIEW",PARENT:"",DESCRIPTION:`Found in view ${o}`,MATCH_TYPE:"SOURCE_CODE",connectionName:n})}}catch(d){console.error("Error searching views:",d)}let u=`
                SELECT PROCEDURE AS NAME, SCHEMA, DATABASE, PROCEDURESOURCE AS SOURCE
                FROM _V_PROCEDURE
            `;try{let d=await oe(this.context,u,!0,this.connectionManager,n);if(d&&d.data&&s===this.currentSearchId){let E=Ee(d);for(let f of E)f.SOURCE&&QR(f.SOURCE,a,r)&&l.push({NAME:f.NAME,SCHEMA:f.SCHEMA,DATABASE:f.DATABASE,TYPE:"PROCEDURE",PARENT:"",DESCRIPTION:`Found in procedure ${o}`,MATCH_TYPE:"SOURCE_CODE",connectionName:n})}}catch(d){console.error("Error searching procedures:",d)}this._view&&s===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:l,append:!1})}catch(a){console.error("Source code search error:",a),this._view&&s===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:a instanceof Error?a.message:String(a)})}}_getHtmlForWebview(e){return`<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Schema Search</title>
        <style>
            body { 
                font-family: var(--vscode-font-family); 
                padding: 0; 
                margin: 0;
                color: var(--vscode-foreground); 
                display: flex;
                flex-direction: column;
                height: 100vh;
                overflow: hidden;
            }
            .search-box { 
                display: flex; 
                gap: 5px; 
                padding: 10px;
                flex-shrink: 0;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            input { flex-grow: 1; padding: 5px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); }
            button {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: 6px;
                background-color: var(--vscode-button-secondaryBackground);
                color: var(--vscode-button-secondaryForeground);
                border: 1px solid var(--vscode-contrastBorder, transparent);
                padding: 4px 10px;
                cursor: pointer;
                border-radius: 2px;
                font-family: var(--vscode-font-family);
                font-size: 12px;
                line-height: 18px;
            }
            button:hover { background-color: var(--vscode-button-secondaryHoverBackground); }
            button.primary { background-color: var(--vscode-button-background); color: var(--vscode-button-foreground); }
            button.primary:hover { background-color: var(--vscode-button-hoverBackground); }
            #status { padding: 5px 10px; flex-shrink: 0; }
            .results { 
                list-style: none; 
                padding: 0; 
                margin: 0; 
                flex-grow: 1; 
                overflow-y: auto; 
            }
            .result-item { padding: 8px 10px; border-bottom: 1px solid var(--vscode-panel-border); display: flex; flex-direction: column; cursor: pointer; position: relative; }
            .result-item:hover { background: var(--vscode-list-hoverBackground); }
            .item-header { display: flex; justify-content: space-between; font-weight: bold; }
            .item-details { font-size: 0.9em; opacity: 0.8; display: flex; gap: 10px; }
            .type-badge { font-size: 0.8em; background: var(--vscode-badge-background); color: var(--vscode-badge-foreground); padding: 2px 5px; border-radius: 3px; }
            .tooltip { position: absolute; background: var(--vscode-editorHoverWidget-background); color: var(--vscode-editorHoverWidget-foreground); border: 1px solid var(--vscode-editorHoverWidget-border); padding: 8px; border-radius: 4px; font-size: 0.9em; max-width: 300px; word-wrap: break-word; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.2s, visibility 0.2s; pointer-events: none; }
            .result-item:hover .tooltip { opacity: 1; visibility: visible; }
            .tooltip.top { bottom: 100%; left: 0; margin-bottom: 5px; }
            .tooltip.bottom { top: 100%; left: 0; margin-top: 5px; }
            .cache-badge { background-color: var(--vscode-charts-green); color: white; padding: 1px 4px; border-radius: 2px; font-size: 0.7em; margin-left: 5px; }
            .spinner {
                border: 2px solid transparent;
                border-top: 2px solid var(--vscode-progressBar-background);
                border-radius: 50%;
                width: 14px;
                height: 14px;
                animation: spin 1s linear infinite;
                display: inline-block;
                vertical-align: middle;
                margin-right: 8px;
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            .options-row {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 5px 10px;
                font-size: 12px;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            .options-row label {
                display: flex;
                align-items: center;
                gap: 4px;
                cursor: pointer;
            }
            .options-row select {
                background: var(--vscode-dropdown-background);
                color: var(--vscode-dropdown-foreground);
                border: 1px solid var(--vscode-dropdown-border);
                padding: 3px 6px;
                border-radius: 2px;
                cursor: pointer;
                font-size: 12px;
            }
            .searching-indicator {
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 20px;
                color: var(--vscode-descriptionForeground);
            }
        </style>
    </head>
    <body>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search tables, columns, view definitions, procedure source..." />
            <button id="searchBtn" class="primary">Search</button>
        </div>
        <div class="options-row">
            <label>
                Source search mode:
                <select id="sourceModeSelect">
                    <option value="">Objects Only</option>
                    <option value="raw">Source: Raw</option>
                    <option value="noComments">Source: No Comments</option>
                    <option value="noCommentsNoLiterals">Source: No Comments/Strings</option>
                </select>
            </label>
        </div>
        <div id="status"></div>
        <ul class="results" id="resultsList"></ul>

        <script>
            try {
            const vscode = acquireVsCodeApi();
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const sourceModeSelect = document.getElementById('sourceModeSelect');
            const resultsList = document.getElementById('resultsList');
            const status = document.getElementById('status');

            searchBtn.addEventListener('click', () => {
                const term = searchInput.value;
                if (term) {
                    // Show searching indicator in results panel
                    resultsList.innerHTML = '<li class="searching-indicator"><span class="spinner"></span> Searching...</li>';
                    status.textContent = '';
                    
                    const sourceMode = sourceModeSelect.value;
                    if (sourceMode) {
                        // Source code search with mode
                        vscode.postMessage({ type: 'searchSource', value: term, mode: sourceMode });
                    } else {
                        // Object search (cache + database)
                        vscode.postMessage({ type: 'search', value: term });
                    }
                }
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchBtn.click();
                }
            });

            window.addEventListener('message', event => {
                const message = event.data;
                switch (message.type) {
                    case 'searching':
                        // Show searching indicator in results panel
                        resultsList.innerHTML = '<li class="searching-indicator"><span class="spinner"></span> ' + (message.message || 'Searching...') + '</li>';
                        status.textContent = '';
                        break;
                    case 'results':
                        status.textContent = '';
                        renderResults(message.data, message.append);
                        break;
                    case 'error':
                        resultsList.innerHTML = '';
                        status.textContent = 'Error: ' + message.message;
                        break;
                }
            });

            function renderResults(data, append) {
                if (!append) {
                    resultsList.innerHTML = '';
                }

                if (!data || data.length === 0) {
                    if (!append && resultsList.children.length === 0) {
                        status.textContent = 'No results found.';
                    }
                    return;
                }

                data.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'result-item';

                    const parentInfo = item.PARENT ? \`Parent: \${item.PARENT}\` : '';
                    const schemaInfo = item.SCHEMA ? \`Schema: \${item.SCHEMA}\` : '';
                    const databaseInfo = item.DATABASE ? \`Database: \${item.DATABASE}\` : '';
                    const description = item.DESCRIPTION && item.DESCRIPTION.trim() ? item.DESCRIPTION : '';
                    
                    // Add match type indicator
                    const matchTypeInfo = item.MATCH_TYPE === 'DEFINITION' ? 'Match in view definition' :
                                        item.MATCH_TYPE === 'SOURCE' ? 'Match in procedure source' :
                                        item.MATCH_TYPE === 'NAME' ? 'Match in name' : '';
                    
                    li.innerHTML = \`
                        <div class="item-header">
                            <span>\${item.NAME}</span>
                            <span class="type-badge">\${item.TYPE}</span>
                        </div>
                        <div class="item-details">
                            <span>\${databaseInfo}</span>
                            <span>\${schemaInfo}</span>
                            <span>\${parentInfo}</span>
                            \${matchTypeInfo ? \`<span style="font-style: italic; color: var(--vscode-descriptionForeground);">\${matchTypeInfo}</span>\` : ''}
                        </div>
                        \${description ? \`<div class="tooltip bottom">\${description}</div>\` : ''}
                    \`;
                    
                    // Add double-click handler to navigate to schema tree
                    li.addEventListener('dblclick', () => {
                        vscode.postMessage({ 
                            type: 'navigate', 
                            name: item.NAME,
                            schema: item.SCHEMA,
                            database: item.DATABASE,
                            objType: item.TYPE,
                            parent: item.PARENT,
                            connectionName: item.connectionName // Pass back connection name
                        });
                    });
                    
                    resultsList.appendChild(li);
                });
            }
            } catch (e) {
                document.body.innerHTML = '<pre style="color:red;">Error loading Schema Search: ' + e.message + '\\n' + e.stack + '</pre>';
            }
        </script>
    </body>
    </html>`}};lo();var Fa=q(require("vscode"));lo();var Zf=class{provideDocumentLinks(e,r){let n=[],i=e.getText(),s=/[a-zA-Z0-9_"]+(\.[a-zA-Z0-9_"]*)+/g,o;for(;(o=s.exec(i))!==null;){let a=e.positionAt(o.index),l=e.positionAt(o.index+o[0].length),c=new Fa.Range(a,l),u=vr.getObjectAtPosition(i,o.index+Math.floor(o[0].length/2));if(u){if(o[0].split(".").length===2&&!u.database&&this.isLikelyAliasReference(i,o.index))continue;let f={name:u.name,schema:u.schema,database:u.database},T=Fa.Uri.parse(`command:netezza.revealInSchema?${encodeURIComponent(JSON.stringify(f))}`),h=new Fa.DocumentLink(c,T);h.tooltip=`Reveal ${u.name} in Schema`,n.push(h)}}return n}isLikelyAliasReference(e,r){let i=e.substring(Math.max(0,r-200),r).replace(/--[^\n]*/g,"").replace(/\/\*[\s\S]*?\*\//g,"").toUpperCase();return/(?:FROM|JOIN)\s+[a-zA-Z0-9_"]*$/i.test(i)?!1:!!i.match(/\b(SELECT|WHERE|ON|HAVING|ORDER\s+BY|GROUP\s+BY|AND|OR|SET|VALUES)\b(?!.*\b(?:FROM|JOIN)\b)/)}};var tE=q(require("vscode")),eE=class{provideFoldingRanges(e,r,n){let i=[],s=[],o=/^\s*--\s*REGION\b/i,a=/^\s*--\s*ENDREGION\b/i;for(let l=0;l<e.lineCount;l++){let u=e.lineAt(l).text;if(o.test(u))s.push(l);else if(a.test(u)&&s.length>0){let d=s.pop();i.push(new tE.FoldingRange(d,l,tE.FoldingRangeKind.Region))}}return i}};var Qt=q(require("vscode"));$f();var Yc=class t{constructor(e,r){this._extensionUri=e;this._context=r;this._currentOffset=0}static{this.viewType="netezza.queryHistory"}static{this.PAGE_SIZE=50}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),this.sendHistoryToWebview(!0),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"refresh":this.refresh();break;case"loadMore":await this.loadMore();break;case"searchArchive":await this.searchArchive(i.term);break;case"clearAll":await this.clearAllHistory();break;case"deleteEntry":await this.deleteEntry(i.id,i.query);break;case"copyQuery":await Qt.env.clipboard.writeText(i.query),Qt.window.showInformationMessage("Query copied to clipboard");break;case"executeQuery":await this.executeQuery(i.query);break;case"getHistory":await this.sendHistoryToWebview(!0);break;case"toggleFavorite":await this.toggleFavorite(i.id);break;case"updateEntry":await this.updateEntry(i.id,i.tags,i.description);break;case"requestEdit":await this.requestEdit(i.id);break;case"requestTagFilter":await this.requestTagFilter(i.tags);break;case"showFavoritesOnly":await this.sendFavoritesToWebview();break;case"filterByTag":await this.sendFilteredByTagToWebview(i.tag);break}})}refresh(){this._view&&this.sendHistoryToWebview(!0)}async loadMore(){this._view&&(this._currentOffset+=t.PAGE_SIZE,this.sendHistoryToWebview(!1))}async searchArchive(e){if(!this._view)return;let r=new ar(this._context),n=await r.searchArchive(e),i=await r.getStats();this._view.webview.postMessage({type:"archiveSearchResults",history:n,stats:i,term:e})}async sendHistoryToWebview(e=!1){if(!this._view)return;e&&(this._currentOffset=0);let r=new ar(this._context),n=await r.getHistory(t.PAGE_SIZE,this._currentOffset),i=await r.getStats();console.log(`QueryHistoryView: sending history to webview, entries=${n.length}, offset=${this._currentOffset}, reset=${e}`),this._view.webview.postMessage({type:"historyData",history:n,stats:i,reset:e})}async clearAllHistory(){await Qt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await new ar(this._context).clearHistory(),this.refresh(),Qt.window.showInformationMessage("Query history cleared"))}async deleteEntry(e,r){let n=r?`: ${r.substring(0,50)}${r.length>50?"...":""}`:"";if(await Qt.window.showWarningMessage(`Are you sure you want to delete this query${n}?`,{modal:!0},"Delete")==="Delete"){let s=new ar(this._context);await s.deleteEntry(e),this._view?.webview.postMessage({type:"entryDeleted",id:e});let o=await s.getStats();this._view?.webview.postMessage({type:"updateStats",stats:o})}}async executeQuery(e){let r=await Qt.workspace.openTextDocument({content:e,language:"sql"});await Qt.window.showTextDocument(r)}async toggleFavorite(e){await new ar(this._context).toggleFavorite(e),this.refresh()}async updateEntry(e,r,n){await new ar(this._context).updateEntry(e,r,n),this.refresh(),Qt.window.showInformationMessage("Entry updated successfully")}async requestEdit(e){let i=(await new ar(this._context).getHistory()).find(a=>a.id===e);if(!i){Qt.window.showErrorMessage("Entry not found (might be archived)");return}let s=await Qt.window.showInputBox({prompt:"Enter tags (comma separated)",value:i.tags||"",placeHolder:"tag1, tag2, tag3"});if(s===void 0)return;let o=await Qt.window.showInputBox({prompt:"Enter description",value:i.description||"",placeHolder:"Description for this query"});o!==void 0&&await this.updateEntry(e,s,o)}async requestTagFilter(e){if(e.length===1)await this.sendFilteredByTagToWebview(e[0]);else if(e.length>1){let r=await Qt.window.showQuickPick(e,{placeHolder:"Filter by which tag?"});r&&await this.sendFilteredByTagToWebview(r)}}async sendFavoritesToWebview(){if(!this._view)return;let e=new ar(this._context),r=await e.getFavorites(),n=await e.getStats();this._view.webview.postMessage({type:"historyData",history:r,stats:n,filter:"favorites",reset:!0})}async sendFilteredByTagToWebview(e){if(!this._view)return;let r=new ar(this._context),n=await r.getByTag(e),i=await r.getStats();this._view.webview.postMessage({type:"historyData",history:n,stats:i,filter:`tag: ${e}`,reset:!0})}_getHtmlForWebview(e){let r=e.asWebviewUri(Qt.Uri.joinPath(this._extensionUri,"media","queryHistory.css")),n=e.asWebviewUri(Qt.Uri.joinPath(this._extensionUri,"media","queryHistory.js"));return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src ${e.cspSource};">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Query History</title>
    <link href="${r}" rel="stylesheet">
</head>
<body>
    <div class="toolbar">
        <div class="toolbar-top">
            <input type="search" id="searchInput" placeholder="Search queries..." />
            <span class="stats" id="stats">Loading...</span>
        </div>
        <div class="toolbar-buttons">
            <button class="secondary" id="showAllBtn">\u{1F4DC} All</button>
            <button class="secondary" id="showFavoritesBtn">\u2B50 Favorites</button>
            <button class="secondary" id="refreshBtn">\u21BB Refresh</button>
            <button class="secondary" id="clearAllBtn">\u{1F5D1}\uFE0F Clear All</button>
        </div>
    </div>
    <div class="history-container" id="historyContainer">
        <div class="empty-state">
            <div class="empty-state-icon">\u{1F4DC}</div>
            <div>No query history yet</div>
        </div>
    </div>
    <div id="loadingIndicator" class="loading-indicator" style="display:none;">Loading more...</div>

    <script src="${n}"></script>
</body>
</html>`}};var bt=q(require("vscode"));lr();var rE=class t{static{this.viewType="netezza.editData"}static async createOrShow(e,r,n,i){if(!r||!r.label||!r.dbName||!r.schema){bt.window.showErrorMessage("Invalid table selection");return}let s=r.label,o=r.schema,a=r.dbName,l=`${a}.${o}.${s}`,c=bt.window.createWebviewPanel(t.viewType,`Edit: ${s}`,bt.ViewColumn.One,{enableScripts:!0,localResourceRoots:[bt.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});c.webview.html=this._getHtmlForWebview(c.webview,e,l),this._loadData(c,a,o,s,r.connectionName,n,i),c.webview.onDidReceiveMessage(async u=>{try{switch(u.command){case"save":await this._handleSave(c,u.changes,l,r.connectionName,n,i),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"refresh":this._loadData(c,a,o,s,r.connectionName,n,i);break;case"updateTableComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON TABLE ${l} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Table comment updated");break;case"updateColumnComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON COLUMN ${l}.${u.column} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Column comment updated");break;case"addColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} ADD COLUMN ${u.name} ${u.type}`,`Column ${u.name} added`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"dropColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} DROP COLUMN ${u.column}`,`Column ${u.column} dropped`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"error":bt.window.showErrorMessage(u.text);break;case"info":bt.window.showInformationMessage(u.text);break}}catch(d){bt.window.showErrorMessage(`Error: ${d instanceof Error?d.message:String(d)}`)}})}static async _execSimpleCommand(e,r,n,i,s,o=!1){try{await Mr(e,i,!0,n,r),bt.window.showInformationMessage(s)}catch(a){bt.window.showErrorMessage(`Operation failed: ${a instanceof Error?a.message:String(a)}`)}}static async _loadData(e,r,n,i,s,o,a){let l=`${r}.${n}.${i}`;try{e.webview.postMessage({command:"setLoading",loading:!0,message:"Fetching data..."});let c=p=>oe(o,p,!0,a,s),[u,d]=await Promise.all([oe(o,`SELECT ROWID, * FROM ${l} LIMIT 50000`,!0,a,s),fw(c,r,n,i)]),E=d.tableComment||"",f=Ew(d.columns),T=[];try{u&&u.data?(T=Ee(u),console.log("[EditDataProvider] Parsed data rows:",T.length)):console.log("[EditDataProvider] No data returned")}catch(p){console.error("[EditDataProvider] Data Parse Error",p)}let h=[];f.length>0?h=["ROWID",...f.map(p=>p.ATTNAME)]:T.length>0&&(h=Object.keys(T[0])),console.log("[EditDataProvider] Sending to webview:",{dataRows:T.length,columns:h.length}),e.webview.postMessage({command:"setData",data:T,columns:h,metadata:{tableComment:E,columns:f}})}catch(c){let u=c instanceof Error?c.message:String(c);bt.window.showErrorMessage(`Failed to load data: ${u}`),e.webview.postMessage({command:"setError",text:u})}finally{e.webview.postMessage({command:"setLoading",loading:!1})}}static async _handleSave(e,r,n,i,s,o){let a=[];if(r.deletes&&r.deletes.length>0){let l=r.deletes.join(",");a.push(`DELETE FROM ${n} WHERE ROWID IN (${l})`)}if(r.updates&&r.updates.length>0)for(let l of r.updates){let c=[];for(let[u,d]of Object.entries(l.changes))u!=="ROWID"&&c.push(`${u} = ${this._formatValue(d)}`);c.length>0&&a.push(`UPDATE ${n} SET ${c.join(", ")} WHERE ROWID = ${l.rowId}`)}if(r.inserts&&r.inserts.length>0)for(let l of r.inserts){let c=Object.keys(l).filter(d=>d!=="ROWID");if(c.length===0)continue;let u=c.map(d=>this._formatValue(l[d]));a.push(`INSERT INTO ${n} (${c.join(", ")}) VALUES (${u.join(", ")})`)}if(a.length===0){bt.window.showInformationMessage("No changes to save.");return}try{let l=["BEGIN",...a,"COMMIT"];await Fc(s,l,o),bt.window.showInformationMessage(`Successfully executed ${a.length} changes.`)}catch(l){bt.window.showErrorMessage(`Failed to save changes: ${l instanceof Error?l.message:String(l)}`)}}static _formatValue(e){return e==null||e===""?"NULL":typeof e=="number"?e.toString():typeof e=="boolean"?e?"TRUE":"FALSE":`'${String(e).replace(/'/g,"''")}'`}static _getHtmlForWebview(e,r,n){let i=e.asWebviewUri(bt.Uri.joinPath(r,"media","tanstack-table-core.js")),s=e.asWebviewUri(bt.Uri.joinPath(r,"media","tanstack-virtual-core.js")),o=e.asWebviewUri(bt.Uri.joinPath(r,"media","editDataPanel.js")),a=e.asWebviewUri(bt.Uri.joinPath(r,"media","editDataPanel.css")),l=e.asWebviewUri(bt.Uri.joinPath(r,"media","codicon.ttf")),c=U8();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; font-src ${e.cspSource}; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}';">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${a}" rel="stylesheet">
            <style>
                @font-face {
                    font-family: 'codicon';
                    src: url('${l}') format('truetype');
                }
                .codicon { font-family: 'codicon'; }
            </style>
            <script nonce="${c}" src="${i}"></script>
            <script nonce="${c}" src="${s}"></script>
            <title>Edit Data: ${n}</title>
        </head>
        <body>
            <div class="main-layout">
                <!-- Tabs Header -->
                <div class="tabs-header">
                    <div class="tab active" data-target="tab-data">
                        Data
                    </div>
                    <div class="tab" data-target="tab-metadata">
                        Table Description
                    </div>
                </div>

                <!-- Tab: Data -->
                <div id="tab-data" class="tab-content active">
                    <div class="toolbar">
                        <span id="status" class="status"></span>
                        <div class="actions">
                            <button id="refreshBtn">Refresh</button>
                            <button id="addRowBtn">Add Row</button>
                            <button id="saveBtn" class="primary">Save Changes</button>
                        </div>
                    </div>
                    <div id="gridContainer" class="grid-container"></div>
                </div>

                <!-- Tab: Metadata -->
                <div id="tab-metadata" class="tab-content">
                    <div id="metadataContent" class="metadata-content">
                        <!-- Populated by JS -->
                        Loading metadata...
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${o}"></script>
        </body>
        </html>`}};function U8(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var pw=q(require("vscode"));function ZR(t,e){return e?t.startsWith(`${e}|`):!0}function Cn(t){if(!t||typeof t!="object")return;let e=t;if(e.label)return typeof e.label=="string"?e.label:e.label.label}function nE(t){let e={};return t.forEach((r,n)=>{e[n]=r}),e}function Tw(t){let e={};return t.forEach((r,n)=>{let i={};r.data.forEach((s,o)=>{i[o]=s}),e[n]={data:i,timestamp:r.timestamp}}),e}function eA(t,e,r){return e?`${t}.${e}.${r}`:`${t}..${r}`}var B8=4,iE=class{constructor(){this.dbCache=new Map;this.schemaCache=new Map;this.tableCache=new Map;this.columnCache=new Map;this.tableIdMap=new Map;this.typeGroupCache=new Map;let r=pw.workspace.getConfiguration("netezza").get("cacheTTL",B8);this.CACHE_TTL=r*60*60*1e3}isEntryValid(e){return Date.now()-e<this.CACHE_TTL}setOnDataChange(e){this.onDataChange=e}clearAll(){this.dbCache.clear(),this.schemaCache.clear(),this.tableCache.clear(),this.columnCache.clear(),this.tableIdMap.clear(),this.typeGroupCache.clear()}getDatabases(e){let r=this.dbCache.get(e);if(r){if(!this.isEntryValid(r.timestamp)){this.dbCache.delete(e);return}return r.data}}setDatabases(e,r){this.dbCache.set(e,{data:r,timestamp:Date.now()}),this.onDataChange?.("db")}getSchemas(e,r){let n=`${e}|${r}`,i=this.schemaCache.get(n);if(i){if(!this.isEntryValid(i.timestamp)){this.schemaCache.delete(n);return}return i.data}}setSchemas(e,r,n){let i=`${e}|${r}`;this.schemaCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("schema")}getTables(e,r){let n=`${e}|${r}`,i=this.tableCache.get(n);if(i){if(!this.isEntryValid(i.timestamp)){this.tableCache.delete(n),this.tableIdMap.delete(n);return}return i.data}}getTablesAllSchemas(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n))for(let l of a.data){let c=Cn(l);c&&!s.has(c.toUpperCase())&&(s.add(c.toUpperCase()),i.push(l))}return i.length>0?i:void 0}setTables(e,r,n,i){let s=Date.now(),o=`${e}|${r}`;this.tableCache.set(o,{data:n,timestamp:s}),this.tableIdMap.set(o,{data:i,timestamp:s}),this.onDataChange?.("table")}getObjectsWithSchema(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n)||o===`${e}|${r}..`){let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),d=(u.length>1?u[1]:"")||"",E=this.tableIdMap.get(o);for(let f of a.data){let T=Cn(f),h=`${d}.${T}`;if(T&&!s.has(h)){s.add(h);let p;if(E){let S=eA(r,d||void 0,T);p=E.data.get(S)}i.push({item:f,schema:d,objId:p,owner:f.OWNER,description:f.DESCRIPTION})}}}return i}getColumns(e,r){let n=`${e}|${r}`,i=this.columnCache.get(n);if(i){if(!this.isEntryValid(i.timestamp)){this.columnCache.delete(n);return}return i.data}}setColumns(e,r,n){let i=`${e}|${r}`;this.columnCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("column")}getColumnsAnySchema(e,r,n){let i=`${e}|${r}.`,s=n.toUpperCase();for(let[o,a]of this.columnCache)if(o.startsWith(i)){let l=o.split(".");if(l.length>=3&&l[l.length-1].toUpperCase()===s&&this.isEntryValid(a.timestamp))return a.data}}findTableId(e,r){let n=`${e}|`;for(let[i,s]of this.tableIdMap)if(i.startsWith(n)){let o=s.data.get(r);if(o!==void 0)return o}}getTypeGroups(e,r){let n=`${e}|${r}`;return this.typeGroupCache.get(n)?.data}setTypeGroups(e,r,n){let i=`${e}|${r}`;this.typeGroupCache.set(i,{data:n,timestamp:Date.now()})}findObjectWithType(e,r,n,i){let s=`${e}|`,o=i.toUpperCase();for(let[a,l]of this.tableCache){if(!a.startsWith(s))continue;let c=a.split("|");if(c.length<2)continue;let d=c[1].split("."),E=d[0],f=d.length>1?d[1]:void 0;if(E.toUpperCase()===r.toUpperCase()&&!(n!=null&&n!==""&&f?.toUpperCase()!==n.toUpperCase()))for(let T of l.data){let h=Cn(T);if(h?.toUpperCase()===o){let p=T.objType||(T.kind===18?"VIEW":"TABLE"),S=eA(E,f,h),R=this.tableIdMap.get(a)?.data.get(S);if(R!==void 0)return{objId:R,objType:p,schema:f||"",name:h||i}}}}}invalidateSchema(e,r,n){let i=n?`${r}.${n}`:`${r}..`,s=`${e}|${i}`;this.tableCache.has(s)&&(this.tableCache.delete(s),this.tableIdMap.delete(s),this.onDataChange?.("table"),console.log(`[CacheStorage] Invalidated cache for ${s}`))}getDbCacheMap(){return this.dbCache}getSchemaCacheMap(){return this.schemaCache}getTableCacheMap(){return this.tableCache}getTableIdMapMap(){return this.tableIdMap}loadDbCache(e){this.dbCache=e}loadSchemaCache(e){this.schemaCache=e}loadTableCache(e){this.tableCache=e}loadTableIdMap(e){this.tableIdMap=e}};var Vc=q(require("vscode")),co=q(require("fs"));var F8=4,sE=class{constructor(e,r){this.context=e;this.storage=r;let i=Vc.workspace.getConfiguration("netezza").get("cacheTTL",F8);this.CACHE_TTL=i*60*60*1e3,this.context.storageUri&&(this.cacheFilePath=Vc.Uri.joinPath(this.context.storageUri,"schema-cache.json").fsPath,this.ensureStorageDir())}async ensureStorageDir(){if(this.context.storageUri)try{await Vc.workspace.fs.createDirectory(this.context.storageUri)}catch{}}async initialize(){try{let e=["sqlCompletion.dbCache","sqlCompletion.schemaCache","sqlCompletion.tableCache","sqlCompletion.columnCache","sqlCompletion.tableIdMap"];for(let r of e)this.context.workspaceState.get(r)!==void 0&&await this.context.workspaceState.update(r,void 0)}catch(e){console.error("[CachePersistence] Error cleaning up legacy workspace state:",e)}if(this.cacheFilePath)try{if(co.existsSync(this.cacheFilePath)){let e=await co.promises.readFile(this.cacheFilePath,"utf-8"),r=JSON.parse(e),n=Date.now();if(r.dbCache){let i=new Map;for(let[s,o]of Object.entries(r.dbCache))n-o.timestamp<this.CACHE_TTL&&i.set(s,o);this.storage.loadDbCache(i)}if(r.schemaCache){let i=new Map;for(let[s,o]of Object.entries(r.schemaCache))n-o.timestamp<this.CACHE_TTL&&i.set(s,o);this.storage.loadSchemaCache(i)}if(r.tableCache){let i=new Map;for(let[s,o]of Object.entries(r.tableCache))n-o.timestamp<this.CACHE_TTL&&i.set(s,o);this.storage.loadTableCache(i)}if(r.tableIdMap){let i=new Map;for(let[s,o]of Object.entries(r.tableIdMap))(this.storage.getTableCacheMap().has(s)||n-o.timestamp<this.CACHE_TTL)&&i.set(s,{data:new Map(Object.entries(o.data)),timestamp:o.timestamp});this.storage.loadTableIdMap(i)}}}catch(e){console.error("[CachePersistence] Error loading cache from disk:",e)}}scheduleSave(e){this.saveTimeoutId&&clearTimeout(this.saveTimeoutId),this.saveTimeoutId=setTimeout(()=>this.flushSave(),2e3)}async flushSave(){if(this.saveTimeoutId=void 0,!!this.cacheFilePath)try{let e={dbCache:nE(this.storage.getDbCacheMap()),schemaCache:nE(this.storage.getSchemaCacheMap()),tableCache:nE(this.storage.getTableCacheMap()),tableIdMap:Tw(this.storage.getTableIdMapMap())};await co.promises.writeFile(this.cacheFilePath,JSON.stringify(e),"utf-8")}catch(e){console.error("[CachePersistence] Error saving cache to disk:",e)}}async clearCache(){if(this.saveTimeoutId&&(clearTimeout(this.saveTimeoutId),this.saveTimeoutId=void 0),this.storage.clearAll(),this.cacheFilePath)try{co.existsSync(this.cacheFilePath)&&await co.promises.unlink(this.cacheFilePath)}catch(e){console.error("[CachePersistence] Error clearing cache file:",e)}}};function Ga(t){return!t.columns||!t.data||t.data.length===0?[]:t.data.map(e=>{let r={};return t.columns.forEach((n,i)=>{r[n.name]=e[i]}),r})}var oE=class{constructor(e){this.storage=e;this.columnPrefetchInProgress=new Set;this.allObjectsPrefetchTriggeredSet=new Set;this.connectionPrefetchTriggered=new Set;this.connectionPrefetchInProgress=new Set}async prefetchColumnsForSchema(e,r,n,i){let s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;if(this.columnPrefetchInProgress.has(o))return;let a=this.storage.getTables(e,s);if(!(!a||a.length===0)){this.columnPrefetchInProgress.add(o);try{let l=[];for(let E of a){let f=Cn(E);if(!f)continue;let T=`${r}.${n||""}.${f}`;this.storage.getColumns(e,T)||l.push(f)}if(l.length===0)return;let c=`${r}..`,u=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",d=`
                SELECT 
                    O.OBJNAME AS TABLENAME,
                    C.ATTNAME,
                    C.FORMAT_TYPE,
                    C.ATTNUM,
                    COALESCE(C.DESCRIPTION, '') AS DESCRIPTION,
                    MAX(CASE WHEN K.CONTYPE = 'p' THEN 1 ELSE 0 END) AS IS_PK,
                    MAX(CASE WHEN K.CONTYPE = 'f' THEN 1 ELSE 0 END) AS IS_FK
                FROM ${c}_V_RELATION_COLUMN C
                JOIN ${c}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                LEFT JOIN ${c}_V_RELATION_KEYDATA K 
                    ON UPPER(K.RELATION) = UPPER(O.OBJNAME) 
                    AND UPPER(K.SCHEMA) = UPPER(O.SCHEMA)
                    AND UPPER(K.ATTNAME) = UPPER(C.ATTNAME)
                    AND K.CONTYPE IN ('p', 'f')
                WHERE UPPER(O.DBNAME) = UPPER('${r}')
                ${u}
                AND O.OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                GROUP BY O.OBJNAME, C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM, C.DESCRIPTION
                ORDER BY O.OBJNAME, C.ATTNUM
            `;try{let E=await i(d);if(E){let f=Ga(E),T=new Map;for(let h of f){let p=h.TABLENAME;T.has(p)||T.set(p,[]),T.get(p).push({ATTNAME:h.ATTNAME,FORMAT_TYPE:h.FORMAT_TYPE,label:h.ATTNAME,kind:5,detail:h.FORMAT_TYPE,documentation:h.DESCRIPTION||"",isPk:Number(h.IS_PK)===1,isFk:Number(h.IS_FK)===1})}for(let[h,p]of T){let S=`${r}.${n||""}.${h}`;this.storage.setColumns(e,S,p)}}}catch(E){console.error("[CachePrefetcher] Error fetching columns:",E)}}finally{this.columnPrefetchInProgress.delete(o)}}}async prefetchAllObjects(e,r){let n=`ALL_OBJECTS|${e}`;if(!this.allObjectsPrefetchTriggeredSet.has(n)){this.allObjectsPrefetchTriggeredSet.add(n),console.log(`[CachePrefetcher] Starting background prefetch of all objects (Connection: ${e})`);try{let s=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE, OWNER, COALESCE(DESCRIPTION, '') AS DESCRIPTION
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW') 
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!s)return;let o=Ga(s),a=new Map;for(let l of o){let c=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}`:`${l.DBNAME}..`;a.has(c)||a.set(c,{tables:[],idMap:new Map});let u=a.get(c);u.tables.push({OBJNAME:l.OBJNAME,label:l.OBJNAME,kind:l.OBJTYPE==="VIEW"?18:6,detail:l.SCHEMA?l.OBJTYPE==="VIEW"?"View":"Table":`${l.OBJTYPE==="VIEW"?"View":"Table"} (${l.SCHEMA})`,objType:l.OBJTYPE,OBJID:l.OBJID,SCHEMA:l.SCHEMA,OWNER:l.OWNER,DESCRIPTION:l.DESCRIPTION});let d=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}.${l.OBJNAME}`:`${l.DBNAME}..${l.OBJNAME}`;u.idMap.set(d,l.OBJID)}for(let[l,c]of a)this.storage.setTables(e,l,c.tables,c.idMap);console.log(`[CachePrefetcher] Prefetched tables for ${a.size} schema(s) on ${e}`)}catch(i){console.error("[CachePrefetcher] Error in prefetchAllObjects:",i)}}}hasAllObjectsPrefetchTriggered(e){return this.allObjectsPrefetchTriggeredSet.has(`ALL_OBJECTS|${e}`)}hasConnectionPrefetchTriggered(e){return this.connectionPrefetchTriggered.has(e)}triggerConnectionPrefetch(e,r){this.connectionPrefetchTriggered.has(e)||this.connectionPrefetchInProgress.has(e)||(this.connectionPrefetchInProgress.add(e),console.log(`[CachePrefetcher] Starting eager prefetch for connection: ${e}`),this.executeConnectionPrefetch(e,r).catch(n=>console.error("[CachePrefetcher] Connection prefetch error:",n)).finally(()=>{this.connectionPrefetchInProgress.delete(e),this.connectionPrefetchTriggered.add(e),console.log(`[CachePrefetcher] Completed eager prefetch for connection: ${e}`)}))}async executeConnectionPrefetch(e,r){let n=await this.prefetchDatabases(e,r);!n||n.length===0||(await Promise.all(n.map(i=>this.prefetchSchemasForDb(e,i,r))),await this.prefetchAllTablesAndViews(e,r),await this.prefetchAllColumnsForConnection(e,r))}async prefetchDatabases(e,r){if(this.storage.getDatabases(e))return this.storage.getDatabases(e)?.map(i=>Cn(i)).filter(Boolean)||[];try{let i=await r("SELECT DATABASE FROM system.._v_database ORDER BY DATABASE");if(!i)return[];let s=Ga(i),o=s.map(a=>({DATABASE:a.DATABASE,label:a.DATABASE,kind:9,detail:"Database"}));return this.storage.setDatabases(e,o),s.map(a=>a.DATABASE)}catch(n){return console.error("[CachePrefetcher] prefetchDatabases error:",n),[]}}async prefetchSchemasForDb(e,r,n){if(!this.storage.getSchemas(e,r))try{let i=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,s=await n(i);if(!s)return;let a=Ga(s).filter(l=>l.SCHEMA!=null&&l.SCHEMA!=="").map(l=>({SCHEMA:l.SCHEMA,label:l.SCHEMA,kind:19,detail:`Schema in ${r}`,insertText:l.SCHEMA,sortText:l.SCHEMA,filterText:l.SCHEMA}));this.storage.setSchemas(e,r,a)}catch(i){console.error(`[CachePrefetcher] prefetchSchemasForDb error for ${r}:`,i)}}async prefetchAllTablesAndViews(e,r){try{let i=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE, OWNER, COALESCE(DESCRIPTION, '') AS DESCRIPTION
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!i)return;let s=Ga(i),o=new Map;for(let a of s){let l=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}`:`${a.DBNAME}..`;o.has(l)||o.set(l,{tables:[],idMap:new Map});let c=o.get(l);c.tables.push({OBJNAME:a.OBJNAME,label:a.OBJNAME,kind:a.OBJTYPE==="VIEW"?18:6,detail:a.SCHEMA?a.OBJTYPE:`${a.OBJTYPE} (${a.SCHEMA})`,objType:a.OBJTYPE,OWNER:a.OWNER,DESCRIPTION:a.DESCRIPTION});let u=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}.${a.OBJNAME}`:`${a.DBNAME}..${a.OBJNAME}`;c.idMap.set(u,a.OBJID)}for(let[a,l]of o)this.storage.getTables(e,a)||this.storage.setTables(e,a,l.tables,l.idMap);console.log(`[CachePrefetcher] Prefetched tables/views for ${o.size} schema(s)`)}catch(n){console.error("[CachePrefetcher] prefetchAllTablesAndViews error:",n)}}async prefetchAllColumnsForConnection(e,r){try{let n=`${e}|`,i=[];for(let[u,d]of this.storage.tableCache){if(!u.startsWith(n))continue;let E=u.split("|");if(E.length<2)continue;let T=E[1].split("."),h=T[0],p=T.length>1?T[1]:"";for(let S of d.data){let m=Cn(S);m&&i.push({schema:p,name:m,db:h})}}if(i.length===0)return;let s=0,o=Date.now(),a=new Map;for(let u of i)a.has(u.db)||a.set(u.db,[]),a.get(u.db).push(u);let l=Array.from(a.entries()).map(async([u,d])=>{let E=`
                    SELECT 
                        O.OBJNAME AS TABLENAME, 
                        O.SCHEMA, 
                        O.DBNAME, 
                        C.ATTNAME, 
                        C.FORMAT_TYPE, 
                        C.ATTNUM,
                        COALESCE(C.DESCRIPTION, '') AS DESCRIPTION,
                        MAX(CASE WHEN K.CONTYPE = 'p' THEN 1 ELSE 0 END) AS IS_PK,
                        MAX(CASE WHEN K.CONTYPE = 'f' THEN 1 ELSE 0 END) AS IS_FK
                    FROM ${u}.._V_RELATION_COLUMN C
                    JOIN ${u}.._V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    LEFT JOIN ${u}.._V_RELATION_KEYDATA K 
                        ON UPPER(K.RELATION) = UPPER(O.OBJNAME) 
                        AND UPPER(K.SCHEMA) = UPPER(O.SCHEMA)
                        AND UPPER(K.ATTNAME) = UPPER(C.ATTNAME)
                        AND K.CONTYPE IN ('p', 'f')
                    WHERE O.DBNAME = '${u}' 
                    AND O.OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                    GROUP BY O.OBJNAME, O.SCHEMA, O.DBNAME, C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM, C.DESCRIPTION
                    ORDER BY O.SCHEMA, O.OBJNAME, C.ATTNUM
                `;try{let f=Date.now(),T=await r(E),h=Date.now()-f;if(T){let p=Date.now(),S=Ga(T),m=Date.now()-p,R=new Map;for(let A of S){let g=`${A.DBNAME}.${A.SCHEMA||""}.${A.TABLENAME}`;R.has(g)||R.set(g,[]),R.get(g).push({ATTNAME:A.ATTNAME,FORMAT_TYPE:A.FORMAT_TYPE,label:A.ATTNAME,kind:5,detail:A.FORMAT_TYPE,documentation:A.DESCRIPTION||"",isPk:Number(A.IS_PK)===1,isFk:Number(A.IS_FK)===1})}for(let[A,g]of R)this.storage.getColumns(e,A)||(this.storage.setColumns(e,A,g),s++);console.log(`[CachePrefetcher] DB ${u}: ${d.length} tables (expected), ${S.length} columns (total fetched) | query=${h}ms, parse=${m}ms`)}}catch(f){console.error(`[CachePrefetcher] Error fetching columns for DB ${u}:`,f)}});await Promise.all(l);let c=Date.now()-o;console.log(`[CachePrefetcher] Prefetched columns for ${s} tables/views in ${c}ms`)}catch(n){console.error("[CachePrefetcher] prefetchAllColumnsForConnection error:",n)}}};function Sw(t,e,r){let n=[],i=e.toLowerCase();for(let[s,o]of t.tableCache){if(!ZR(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],d=c.length>1?c[1]:void 0;for(let E of o.data){let f=Cn(E);if(f&&f.toLowerCase().includes(i)){let T=E.objType||(E.kind===18?"VIEW":"TABLE");n.push({name:f,type:T,database:u,schema:d||(E.detail&&E.detail.includes("(")?E.detail.match(/\((.*?)\)/)?.[1]:void 0)})}}}for(let[s,o]of t.columnCache){if(!ZR(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],d=c[1],E=c[2];for(let f of o.data){let T=Cn(f);T&&T.toLowerCase().includes(i)&&n.push({name:T,type:"COLUMN",database:u,schema:d,parent:E})}}return n}var aE=class{constructor(e){this.storage=new iE,this.persistence=new sE(e,this.storage),this.prefetcher=new oE(this.storage),this.storage.setOnDataChange(r=>{this.persistence.scheduleSave(r)})}async initialize(){return this.persistence.initialize()}scheduleSave(e){this.persistence.scheduleSave(e)}async flushSave(){return this.persistence.flushSave()}async clearCache(){return this.persistence.clearCache()}getDatabases(e){return this.storage.getDatabases(e)}setDatabases(e,r){this.storage.setDatabases(e,r)}getSchemas(e,r){return this.storage.getSchemas(e,r)}setSchemas(e,r,n){this.storage.setSchemas(e,r,n)}getTables(e,r){return this.storage.getTables(e,r)}getTablesAllSchemas(e,r){return this.storage.getTablesAllSchemas(e,r)}setTables(e,r,n,i){this.storage.setTables(e,r,n,i)}getObjectsWithSchema(e,r){return this.storage.getObjectsWithSchema(e,r)}getColumns(e,r){return this.storage.getColumns(e,r)}getColumnsAnySchema(e,r,n){return this.storage.getColumnsAnySchema(e,r,n)}setColumns(e,r,n){this.storage.setColumns(e,r,n)}findTableId(e,r){return this.storage.findTableId(e,r)}getTypeGroups(e,r){return this.storage.getTypeGroups(e,r)}setTypeGroups(e,r,n){this.storage.setTypeGroups(e,r,n)}findObjectWithType(e,r,n,i){return this.storage.findObjectWithType(e,r,n,i)}invalidateSchema(e,r,n){this.storage.invalidateSchema(e,r,n)}search(e,r){return Sw(this.storage,e,r)}async prefetchColumnsForSchema(e,r,n,i){return this.prefetcher.prefetchColumnsForSchema(e,r,n,i)}async prefetchAllObjects(e,r){return this.prefetcher.prefetchAllObjects(e,r)}hasAllObjectsPrefetchTriggered(e){return this.prefetcher.hasAllObjectsPrefetchTriggered(e)}hasConnectionPrefetchTriggered(e){return this.prefetcher.hasConnectionPrefetchTriggered(e)}triggerConnectionPrefetch(e,r){this.prefetcher.triggerConnectionPrefetch(e,r)}get schemaCache(){return this.storage.schemaCache}get tableCache(){return this.storage.tableCache}get columnCache(){return this.storage.columnCache}get tableIdMap(){return this.storage.tableIdMap}get typeGroupCache(){return this.storage.typeGroupCache}};var Kr=q(require("vscode"));var cr=q(require("vscode"));function Rw(t){switch(t){case"error":return cr.DiagnosticSeverity.Error;case"warning":return cr.DiagnosticSeverity.Warning;case"information":return cr.DiagnosticSeverity.Information;case"hint":return cr.DiagnosticSeverity.Hint;case"off":return null;default:return cr.DiagnosticSeverity.Warning}}function tA(t,e){let r=!1,n=!1,i=!1,s=!1;for(let o=0;o<e&&o<t.length;o++){let a=t[o],l=o+1<t.length?t[o+1]:"";i?a===`
`&&(i=!1):s?a==="*"&&l==="/"&&(s=!1,o++):r?a==="'"&&t[o-1]!=="\\"&&(r=!1):n?a==='"'&&t[o-1]!=="\\"&&(n=!1):a==="-"&&l==="-"?i=!0:a==="/"&&l==="*"?s=!0:a==="'"?r=!0:a==='"'&&(n=!0)}return r||n||i||s}function un(t,e){let r=[],n,i=new RegExp(e.source,e.flags.includes("g")?e.flags:e.flags+"g");for(;(n=i.exec(t))!==null;)tA(t,n.index)||r.push(n);return r}var G8={id:"NZ001",name:"Select Star",description:"Avoid using SELECT * - specify explicit column names for better performance and maintainability",defaultSeverity:cr.DiagnosticSeverity.Warning,check(t){let e=[],n=un(t,/\bSELECT\s+\*/gi);for(let i of n){let s=i[0].indexOf("*");e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index+s,endOffset:i.index+s+1})}return e}},H8={id:"NZ002",name:"Delete Without Where",description:"DELETE statement without WHERE clause will delete all rows",defaultSeverity:cr.DiagnosticSeverity.Error,check(t){let e=[],n=un(t,/\bDELETE\s+FROM\s+[\w."]+/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},W8={id:"NZ003",name:"Update Without Where",description:"UPDATE statement without WHERE clause will update all rows",defaultSeverity:cr.DiagnosticSeverity.Error,check(t){let e=[],n=un(t,/\bUPDATE\s+[\w."]+\s+SET\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},k8={id:"NZ004",name:"Cross Join",description:"CROSS JOIN produces a Cartesian product - verify this is intentional",defaultSeverity:cr.DiagnosticSeverity.Warning,check(t){let e=[],n=un(t,/\bCROSS\s+JOIN\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},$8={id:"NZ005",name:"Leading Wildcard Like",description:"LIKE pattern with leading wildcard ('%...') prevents index usage",defaultSeverity:cr.DiagnosticSeverity.Hint,check(t){let e=[],n=un(t,/\bLIKE\s+'%/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},Y8={id:"NZ006",name:"Order By Without Limit",description:"ORDER BY without LIMIT/FETCH may cause performance issues on large datasets",defaultSeverity:cr.DiagnosticSeverity.Information,check(t){let e=[],n=un(t,/\bORDER\s+BY\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;if(!/\b(LIMIT|FETCH|TOP)\b/i.test(a)){let l=t.substring(0,i.index);/\bTOP\s+\d+\b/i.test(l)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}}return e}},V8={id:"NZ007",name:"Inconsistent Keyword Case",description:"SQL keywords have inconsistent casing - consider using consistent UPPER or lower case",defaultSeverity:cr.DiagnosticSeverity.Warning,check(t){let e=[],r=["SELECT","FROM","WHERE","JOIN","LEFT","RIGHT","INNER","OUTER","ON","AND","OR","INSERT","INTO","UPDATE","DELETE","CREATE","DROP","ALTER","TABLE","VIEW","INDEX","ORDER","BY","GROUP","HAVING","UNION","ALL","DISTINCT","AS","SET","VALUES","NULL","NOT","IN","BETWEEN","LIKE","IS","EXISTS","CASE","WHEN","THEN","ELSE","END","LIMIT","OFFSET"],n=0,i=0,s=[],o=new Set;for(let c of r){let u=new RegExp(`\\b${c}\\b`,"gi"),d=un(t,u);for(let E of d){if(o.has(E.index))continue;o.add(E.index);let f=E[0],T;f===f.toUpperCase()?(n++,T="UPPER"):f===f.toLowerCase()?(i++,T="lower"):T="Mixed",s.push({keyword:f,index:E.index,type:T})}}let a=n>=i,l=a?"UPPER":"lower";for(let c of s)c.type==="Mixed"?e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' has mixed casing (expected ${a?"UPPERCASE":"lowercase"})`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length}):c.type!==l&&e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' should be ${a?"UPPERCASE":"lowercase"}`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length});return e}},q8={id:"NZ008",name:"Truncate Table",description:"TRUNCATE removes all data and cannot be rolled back - use with caution",defaultSeverity:cr.DiagnosticSeverity.Warning,check(t){let e=[],n=un(t,/\bTRUNCATE\s+(TABLE\s+)?[\w."]+/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+8});return e}},X8={id:"NZ009",name:"Or In Where Clause",description:"Multiple OR conditions may prevent index usage - consider UNION for better performance",defaultSeverity:cr.DiagnosticSeverity.Hint,check(t){let e=[],n=un(t,/\bWHERE\b/gi);for(let i of n){let s=t.substring(i.index),o=s.search(/\b(GROUP\s+BY|ORDER\s+BY|HAVING|LIMIT|UNION|;)/i),a=o>=0?s.substring(0,o):s,l=un(a,/\bOR\b/gi);if(l.length>=2){let c=l[0];e.push({ruleId:this.id,message:`${this.id}: ${this.description} (${l.length} OR conditions found)`,severity:this.defaultSeverity,startOffset:i.index+c.index,endOffset:i.index+c.index+2})}}return e}},j8={id:"NZ010",name:"Missing Table Alias",description:"Consider using table aliases in JOINs for better readability",defaultSeverity:cr.DiagnosticSeverity.Information,check(t){let e=[],n=un(t,/\bJOIN\s+([\w."]+)\s+ON\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: Table '${i[1]}' in JOIN has no alias - ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},z8={id:"NZ011",name:"CTAS Missing Distribution",description:"CREATE TABLE AS SELECT should specify explicit data distribution",defaultSeverity:cr.DiagnosticSeverity.Warning,check(t){let e=[],n=un(t,/\bCREATE\s+TABLE\s+(?:(?:IF\s+NOT\s+EXISTS\s+)?[\w."]+\s+)?AS\s+(?:\(\s*)?SELECT\b/gi);for(let i of n){let s=t.length;for(let u=i.index;u<t.length;u++)if(t[u]===";"&&!tA(t,u)){s=u;break}let o=t.substring(i.index,s),l=/\bDISTRIBUTE\s+ON\b/i.exec(o),c=!1;l&&(tA(t,i.index+l.index)||(c=!0)),c||e.push({ruleId:this.id,message:`${this.id}: ${this.description} - Add 'DISTRIBUTE ON (...)' or 'DISTRIBUTE ON RANDOM'`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}return e}},Aw=[G8,H8,W8,k8,$8,Y8,V8,q8,X8,j8,z8];var nA=class{constructor(){this.disposables=[];this.diagnosticCollection=Kr.languages.createDiagnosticCollection("netezza-sql-linter")}activate(e){e.subscriptions.push(this.diagnosticCollection),this.disposables.push(Kr.workspace.onDidOpenTextDocument(r=>{this.shouldLint(r)&&this.lintDocument(r)})),this.disposables.push(Kr.workspace.onDidChangeTextDocument(r=>{this.shouldLint(r.document)&&this.lintDocument(r.document)})),this.disposables.push(Kr.workspace.onDidCloseTextDocument(r=>{this.diagnosticCollection.delete(r.uri)})),this.disposables.push(Kr.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("netezza.linter")&&this.lintAllOpenDocuments()})),e.subscriptions.push(...this.disposables),this.lintAllOpenDocuments()}shouldLint(e){return e.languageId==="sql"}getConfig(){let e=Kr.workspace.getConfiguration("netezza.linter");return{enabled:e.get("enabled",!0),rules:e.get("rules",{})}}lintAllOpenDocuments(){for(let e of Kr.workspace.textDocuments)this.shouldLint(e)&&this.lintDocument(e)}lintDocument(e){let r=this.getConfig();if(!r.enabled){this.diagnosticCollection.delete(e.uri);return}let n=e.getText(),i=this.lintSql(n,r.rules),s=this.issuesToDiagnostics(e,i);this.diagnosticCollection.set(e.uri,s)}lintSql(e,r={}){let n=[];for(let i of Aw){let s=r[i.id],o=s!==void 0?Rw(s):i.defaultSeverity;if(o===null)continue;let a=i.check(e);for(let l of a)n.push({...l,severity:o})}return n}issuesToDiagnostics(e,r){return r.map(n=>{let i=e.positionAt(n.startOffset),s=e.positionAt(n.endOffset),o=new Kr.Range(i,s),a=new Kr.Diagnostic(o,n.message,n.severity);return a.source="Netezza SQL Linter",a.code=n.ruleId,a})}dispose(){this.diagnosticCollection.dispose();for(let e of this.disposables)e.dispose()}},rA;function K8(){return rA||(rA=new nA),rA}function mw(t){let e=K8();return e.activate(t),e}var uo=q(require("vscode"));lo();var qc=class{static{this.providedCodeActionKinds=[uo.CodeActionKind.QuickFix]}provideCodeActions(e,r,n,i){let s=[];for(let o of n.diagnostics)if(o.code==="NZ011"){let a=this.createDistributeOnRandomFix(e,o);a&&s.push(a)}return s}createDistributeOnRandomFix(e,r){let n=new uo.CodeAction("Add DISTRIBUTE ON RANDOM",uo.CodeActionKind.QuickFix);n.diagnostics=[r],n.isPreferred=!0;let i=e.offsetAt(r.range.start),s=e.getText(),o=vr.getStatementAtPosition(s,i);if(o)return n.edit=new uo.WorkspaceEdit,n.edit.insert(e.uri,e.positionAt(o.end)," DISTRIBUTE ON RANDOM"),n}};var ve=q(require("vscode"));function _w(t){switch(t){case"sql":return{type:"sql",query:"",connection:"default"};case"python":return{type:"python",script:""};case"container":return{type:"container",nodes:[],connections:[]};case"export":return{type:"export",format:"csv",outputPath:""};case"import":return{type:"import",format:"csv",inputPath:"",targetTable:""};case"variable":return{type:"variable",variableName:"",source:"prompt",promptMessage:"Enter value"}}}function lE(){return"node-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}function cE(){return"conn-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}var iA=q(require("fs"));var Xc=class{validateProject(e){let r=[],n=[];e.name||r.push("Project name is required"),e.version||r.push("Project version is required"),Array.isArray(e.nodes)||r.push("Nodes must be an array"),Array.isArray(e.connections)||r.push("Connections must be an array");let i=this.validateNodes(e.nodes||[]);r.push(...i.errors),n.push(...i.warnings);let s=new Set((e.nodes||[]).map(l=>l.id)),o=this.validateConnections(e.connections||[],s);r.push(...o.errors),n.push(...o.warnings);let a=this.detectCycles(e);return r.push(...a),{isValid:r.length===0,errors:r,warnings:n}}validateNodes(e){let r=[],n=[],i=new Set;for(let s of e){if(!s.id){r.push("Node missing ID");continue}i.has(s.id)?r.push(`Duplicate node ID: ${s.id}`):i.add(s.id),s.type||r.push(`Node ${s.id} missing type`),s.name||n.push(`Node ${s.id} has no name`),(!s.position||typeof s.position.x!="number"||typeof s.position.y!="number")&&r.push(`Node ${s.id} has invalid position`),s.config||r.push(`Node ${s.id} has no configuration`)}return{errors:r,warnings:n}}validateConnections(e,r){let n=[],i=[],s=new Set;for(let o of e){if(!o.id){n.push("Connection missing ID");continue}(!o.from||!r.has(o.from))&&n.push(`Connection ${o.id} has invalid 'from' node: ${o.from}`),(!o.to||!r.has(o.to))&&n.push(`Connection ${o.id} has invalid 'to' node: ${o.to}`),o.from===o.to&&n.push(`Connection ${o.id} cannot connect node to itself`);let a=`${o.from}->${o.to}`;s.has(a)?i.push(`Duplicate connection from ${o.from} to ${o.to}`):s.add(a)}return{errors:n,warnings:i}}detectCycles(e){let r=[],n=new Set,i=new Set,s=new Map;for(let a of e.nodes||[])s.set(a.id,[]);for(let a of e.connections||[])s.get(a.from)?.push(a.to);let o=a=>{n.add(a),i.add(a);for(let l of s.get(a)||[])if(n.has(l)){if(i.has(l))return!0}else if(o(l))return!0;return i.delete(a),!1};for(let a of e.nodes||[])if(!n.has(a.id)&&o(a.id)){r.push("Project contains circular dependencies");break}return r}getTopologicalOrder(e){let r=new Map,n=new Map;for(let o of e.nodes)r.set(o.id,0),n.set(o.id,[]);for(let o of e.connections)n.get(o.from)?.push(o.to),r.set(o.to,(r.get(o.to)||0)+1);let i=[];for(let[o,a]of r)a===0&&i.push(o);let s=[];for(;i.length>0;){let o=i.shift();s.push(o);for(let a of n.get(o)||[]){let l=(r.get(a)||1)-1;r.set(a,l),l===0&&i.push(a)}}return s.length!==e.nodes.length?null:s}},xDe=new Xc;var Is=class t{constructor(e){this.currentProject=null;this.projectPath=null;this.isDirty=!1;this.validator=e||new Xc}static getInstance(){return t.instance||(t.instance=new t),t.instance}static resetInstance(){t.instance=void 0}createProject(e){return this.currentProject={name:e,version:"1.0.0",description:"",variables:{},nodes:[],connections:[]},this.projectPath=null,this.isDirty=!0,this.currentProject}async loadProject(e){let r=await iA.promises.readFile(e,"utf-8"),n=JSON.parse(r),i=this.validateProject(n);if(i.length>0)throw new Error(`Invalid project: ${i.join(", ")}`);return this.currentProject=n,this.projectPath=e,this.isDirty=!1,this.currentProject}async saveProject(e){let r=e||this.projectPath;if(!r)throw new Error("No file path specified");if(!this.currentProject)throw new Error("No project to save");let n=JSON.stringify(this.currentProject,null,2);await iA.promises.writeFile(r,n,"utf-8"),this.projectPath=r,this.isDirty=!1}validateProject(e){return this.validator.validateProject(e).errors}validateProjectDetailed(e){return this.validator.validateProject(e)}addNode(e){if(!this.currentProject)throw new Error("No project loaded");e.id||(e.id=lE()),this.currentProject.nodes.push(e),this.isDirty=!0}updateNode(e,r){if(!this.currentProject)throw new Error("No project loaded");let n=this.currentProject.nodes.findIndex(i=>i.id===e);if(n===-1)throw new Error(`Node not found: ${e}`);this.currentProject.nodes[n]={...this.currentProject.nodes[n],...r},this.isDirty=!0}removeNode(e){if(!this.currentProject)throw new Error("No project loaded");this.currentProject.nodes=this.currentProject.nodes.filter(r=>r.id!==e),this.currentProject.connections=this.currentProject.connections.filter(r=>r.from!==e&&r.to!==e),this.isDirty=!0}addConnection(e){if(!this.currentProject)throw new Error("No project loaded");if(e.id||(e.id=cE()),this.currentProject.connections.some(i=>i.from===e.from&&i.to===e.to))throw new Error("Connection already exists");if(this.currentProject.connections.push(e),this.validator.detectCycles(this.currentProject).length>0)throw this.currentProject.connections.pop(),new Error("Connection would create a cycle");this.isDirty=!0}removeConnection(e){if(!this.currentProject)throw new Error("No project loaded");this.currentProject.connections=this.currentProject.connections.filter(r=>r.id!==e),this.isDirty=!0}getCurrentProject(){return this.currentProject}getProjectPath(){return this.projectPath}hasUnsavedChanges(){return this.isDirty}getNode(e){return this.currentProject?.nodes.find(r=>r.id===e)}getOutgoingConnections(e){return this.currentProject?.connections.filter(r=>r.from===e)||[]}getIncomingConnections(e){return this.currentProject?.connections.filter(r=>r.to===e)||[]}setProject(e){this.currentProject=e,this.isDirty=!0}markDirty(){this.isDirty=!0}getTopologicalOrder(){return this.currentProject?this.validator.getTopologicalOrder(this.currentProject):null}};function Iw(t,e,r){return{nodeId:t,status:"success",startTime:e,endTime:new Date,output:r?.output,rowsAffected:r?.rowsAffected}}function gw(t,e,r){return{nodeId:t,status:"error",startTime:e,endTime:new Date,error:r instanceof Error?r.message:r}}function dE(t){let e=new Date;return{nodeId:t,status:"skipped",startTime:e,endTime:e}}var uE=class{constructor(e){this.startTime=new Date,this.result={nodeId:e,startTime:this.startTime}}success(){return this.result.status="success",this}error(e){return this.result.status="error",this.result.error=e instanceof Error?e.message:e,this}skipped(){return this.result.status="skipped",this}withOutput(e){return this.result.output=e,this}withRowsAffected(e){return this.result.rowsAffected=e,this}build(){return{nodeId:this.result.nodeId,status:this.result.status||"pending",startTime:this.startTime,endTime:new Date,error:this.result.error,output:this.result.output,rowsAffected:this.result.rowsAffected}}};var fE=class{constructor(){this.executors=new Map}registerExecutor(e,r){this.executors.set(e,r)}getExecutor(e){return this.executors.get(e)}onStatusChange(e){this.statusCallback=e}async execute(e,r){let n={projectName:e.name,startTime:new Date,status:"running",nodeResults:new Map};for(let i of e.nodes)this.statusCallback?.(i.id,"pending");try{r.onProgress?.(`Starting ETL project: ${e.name}`),r.onProgress?.(`Found ${e.nodes.length} tasks`),await this.executeDynamic(e,r,n);let i=Array.from(n.nodeResults.values()).some(o=>o.status==="error");n.status=i?"failed":"completed",n.endTime=new Date;let s=n.status==="completed"?"completed successfully":"completed with errors";r.onProgress?.(`ETL project ${s}`)}catch(i){n.status="failed",n.endTime=new Date,r.onProgress?.(`ETL project failed: ${String(i)}`)}return n}async executeDynamic(e,r,n){let i=new Set,s=[],o=new Set(e.connections.map(a=>a.to));for(let a of e.nodes)o.has(a.id)||s.push(a.id);for(;s.length>0;){if(r.cancellationToken?.isCancellationRequested){n.status="cancelled",n.endTime=new Date;for(let d of e.nodes)i.has(d.id)||(n.nodeResults.set(d.id,dE(d.id)),this.statusCallback?.(d.id,"skipped"));return}let a=s.shift();if(i.has(a))continue;let l=e.nodes.find(d=>d.id===a);if(!l)continue;let c=await this.executeNode(l,r);n.nodeResults.set(a,c),i.add(a),c.output!==void 0&&r.nodeOutputs.set(a,c.output);let u=e.connections.filter(d=>d.from===a);for(let d of u){let E=d.connectionType||"success";c.status==="success"&&E==="success"||c.status==="error"&&E==="failure"?!i.has(d.to)&&!s.includes(d.to)&&s.push(d.to):i.has(d.to)||!e.connections.some(h=>{if(h.to!==d.to||h.id===d.id)return!1;let p=n.nodeResults.get(h.from);if(!p)return!0;let S=h.connectionType||"success";return p.status==="success"&&S==="success"||p.status==="error"&&S==="failure"})&&!s.includes(d.to)&&(n.nodeResults.set(d.to,dE(d.to)),this.statusCallback?.(d.to,"skipped"),i.add(d.to))}}for(let a of e.nodes)i.has(a.id)||(n.nodeResults.set(a.id,dE(a.id)),this.statusCallback?.(a.id,"skipped"))}async executeNode(e,r){this.statusCallback?.(e.id,"running"),r.onProgress?.(`Running task: ${e.name}`);let n=this.executors.get(e.type);if(!n){let i={nodeId:e.id,status:"error",startTime:new Date,endTime:new Date,error:`No executor registered for node type: ${e.type}`};return this.statusCallback?.(e.id,"error",i.error),i}try{let i=await n.execute(e,r);return this.statusCallback?.(e.id,i.status,i.error),i.status==="success"&&(r.onProgress?.(`Task ${e.name} completed successfully`),i.rowsAffected!==void 0&&r.onProgress?.(`  Rows affected: ${i.rowsAffected}`)),i}catch(i){let s={nodeId:e.id,status:"error",startTime:new Date,endTime:new Date,error:String(i)};return this.statusCallback?.(e.id,"error",s.error),s}}getPreviousNodeOutput(e,r){return e.nodeOutputs.get(r)}};var jc=class{resolve(e,r){if(!e||!r||Object.keys(r).length===0)return e;let n=e;for(let[i,s]of Object.entries(r)){let o=new RegExp(`\\$\\{${this.escapeRegex(i)}\\}`,"g");n=n.replace(o,s)}return n}resolveAll(e,r){return e.map(n=>this.resolve(n,r))}escapeRegex(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},VDe=new jc;var qr=class{constructor(e){this.variableResolver=e||new jc}getConfig(e){return e.config}resolveVariables(e,r){return this.variableResolver.resolve(e,r.variables)}createSuccess(e,r,n){return Iw(e,r,n)}createError(e,r,n){return gw(e,r,n)}resultBuilder(e){return new uE(e)}reportProgress(e,r){e.onProgress?.(r)}isCancelled(e){return e.cancellationToken?.isCancellationRequested??!1}validateRequired(e,r,n,i){if(n==null||n==="")return this.createError(e,r,`${i} is required`)}async safeExecute(e,r,n){try{return await n()}catch(i){return this.createError(e,r,i instanceof Error?i:String(i))}}};var sA=class{async createConnection(e){let r=Ir(),n=new r({host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password});return await n.connect(),n}},EE=class extends qr{constructor(e,r){super(e),this.connectionFactory=r||new sA}async execute(e,r){let n=this.getConfig(e),i=new Date,s=this.validateRequired(e.id,i,n.query?.trim(),"SQL query");return s||this.safeExecute(e.id,i,async()=>{let o=this.resolveVariables(n.query,r);if(this.reportProgress(r,`Executing SQL: ${o.substring(0,100)}${o.length>100?"...":""}`),!r.connectionDetails)return this.createError(e.id,i,"No connection details available in context");let a=null;try{a=await this.connectionFactory.createConnection(r.connectionDetails);let l=await this.executeQuery(a,o,n.timeout);return this.createSuccess(e.id,i,{rowsAffected:l.rows.length,output:l})}finally{if(a)try{await a.close()}catch{}}})}async executeQuery(e,r,n){let i=e.createCommand(r);n&&(i.commandTimeout=n);let s=await i.executeReader(),o=[];for(let l=0;l<s.fieldCount;l++)o.push(s.getName(l));let a=[];for(;await s.read();){let l=[];for(let c=0;c<s.fieldCount;c++)l.push(s.getValue(c));a.push(l)}return s.close&&await s.close(),{columns:o,rows:a}}};var Nw=require("child_process"),zc=q(require("fs")),TE=q(require("path")),Ow=q(require("os"));var oA=class{async run(e,r,n,i){return new Promise(s=>{let o=(0,Nw.spawn)(e,r,{env:n,shell:!0}),a="",l="";o.stdout?.on("data",c=>{a+=c.toString()}),o.stderr?.on("data",c=>{l+=c.toString()}),o.on("close",c=>{s({exitCode:c??1,stdout:a.trim(),stderr:l.trim()})}),o.on("error",c=>{s({exitCode:1,stdout:"",stderr:`Failed to start Python: ${c.message}`})}),i&&i>0&&setTimeout(()=>{o.kill(),s({exitCode:1,stdout:a.trim(),stderr:`Execution timed out after ${i} seconds`})},i*1e3)})}},aA=class{find(){return process.platform==="win32"?"py":"python3"}},hE=class extends qr{constructor(e,r,n){super(e),this.runner=r||new oA,this.interpreterFinder=n||new aA}async execute(e,r){let n=this.getConfig(e),i=new Date;return!n.script&&!n.scriptPath?this.createError(e.id,i,"Python script or script path is required"):this.safeExecute(e.id,i,async()=>{let s=n.interpreter||this.interpreterFinder.find();this.reportProgress(r,`Using Python interpreter: ${s}`);let{scriptPath:o,tempScript:a}=await this.prepareScript(n,r);try{this.reportProgress(r,`Executing Python script: ${TE.basename(o)}`);let l=[o,...n.arguments||[]],c=this.buildEnvironment(r.variables),u=await this.runWithProgress(s,l,c,r,n.timeout);return u.exitCode===0?this.createSuccess(e.id,i,{output:u.stdout}):this.resultBuilder(e.id).error(u.stderr||`Python exited with code ${u.exitCode}`).withOutput(u.stdout).build()}finally{a&&await this.cleanupTempScript(o)}})}async prepareScript(e,r){if(e.scriptPath){let s=this.resolveVariables(e.scriptPath,r);if(!zc.existsSync(s))throw new Error(`Script file not found: ${s}`);return{scriptPath:s,tempScript:!1}}let n=this.resolveVariables(e.script,r),i=TE.join(Ow.tmpdir(),`etl_script_${Date.now()}.py`);return await zc.promises.writeFile(i,n,"utf-8"),{scriptPath:i,tempScript:!0}}buildEnvironment(e){return{...process.env,...Object.fromEntries(Object.entries(e).map(([r,n])=>[`ETL_VAR_${r.toUpperCase()}`,n]))}}async runWithProgress(e,r,n,i,s){let o=await this.runner.run(e,r,n,s);if(o.stdout)for(let a of o.stdout.split(`
`).slice(0,10))a.trim()&&this.reportProgress(i,`[Python] ${a.trim()}`);if(o.stderr)for(let a of o.stderr.split(`
`).slice(0,5))a.trim()&&this.reportProgress(i,`[Python ERROR] ${a.trim()}`);return o}async cleanupTempScript(e){try{await zc.promises.unlink(e)}catch{}}};cA();Ii();var WC=class{constructor(){this.format="csv"}async export(e,r,n,i,s,o){try{return await lA(e,r,n,i,void 0,o),{success:!0}}catch(a){return{success:!1,message:a instanceof Error?a.message:String(a)}}}},kC=class{constructor(){this.format="xlsb"}async export(e,r,n,i,s,o){let a=await HC(r,n,i,!1,s,o);return{success:a.success,message:a.message,rowsExported:a.details?.rows_exported}}},lS=class extends qr{constructor(e,r){super(e),this.strategies=r||new Map([["csv",new WC],["xlsb",new kC]])}registerStrategy(e){this.strategies.set(e.format,e)}async execute(e,r){let n=this.getConfig(e),i=new Date,s=this.validateRequired(e.id,i,n.outputPath,"Output path");return s||this.safeExecute(e.id,i,async()=>{let o=this.resolveVariables(n.outputPath,r),a=n.query?this.resolveVariables(n.query,r):"";if(!a&&n.sourceNodeId&&r.nodeOutputs.get(n.sourceNodeId)?.rows)return this.createError(e.id,i,"In-memory data export is not yet supported. Please specify a query.");if(!a)return this.createError(e.id,i,"No query or source node specified for export");let l=this.strategies.get(n.format);if(!l)return this.createError(e.id,i,`Unsupported export format: ${n.format}`);this.reportProgress(r,`Exporting to ${n.format.toUpperCase()}: ${o}`);let c=await l.export(r.extensionContext,r.connectionDetails,a,o,u=>this.reportProgress(r,`[Export] ${u}`),n.timeout);return c.success?this.createSuccess(e.id,i,{rowsAffected:c.rowsExported,output:{filePath:o,format:n.format,rowsExported:c.rowsExported}}):this.createError(e.id,i,c.message||"Export failed")})}};var v6=q(require("fs"));yS();var ay=class{async importData(e,r,n,i,s){return oy(e,r,n,i,s)}},bS=class extends qr{constructor(e,r){super(e),this.importer=r||new ay}async execute(e,r){let n=this.getConfig(e),i=new Date,s=this.validateRequired(e.id,i,n.inputPath,"Input path");if(s)return s;let o=this.validateRequired(e.id,i,n.targetTable,"Target table");return o||this.safeExecute(e.id,i,async()=>{let a=this.resolveVariables(n.inputPath,r),l=this.resolveVariables(n.targetTable,r),c=n.targetSchema?this.resolveVariables(n.targetSchema,r):"";if(!v6.existsSync(a))return this.createError(e.id,i,`Input file not found: ${a}`);this.reportProgress(r,`Importing from ${n.format.toUpperCase()}: ${a}`),this.reportProgress(r,`Target table: ${c?c+".":""}${l}`);let u=await this.importer.importData(a,l,r.connectionDetails,d=>{this.reportProgress(r,`[Import] ${d}`)},n.timeout);return u.success?this.createSuccess(e.id,i,{rowsAffected:u.details?.rowsInserted,output:{filePath:a,targetTable:`${c?c+".":""}${l}`,rowsProcessed:u.details?.rowsProcessed,rowsInserted:u.details?.rowsInserted}}):this.createError(e.id,i,u.message)})}};var wS=class extends qr{constructor(e,r){super(r),this.engine=e}async execute(e,r){let n=this.getConfig(e),i=new Date;return!n.nodes||n.nodes.length===0?this.createSuccess(e.id,i,{output:"Empty container - nothing to execute"}):this.safeExecute(e.id,i,async()=>{this.reportProgress(r,`Entering container: ${e.name} (${n.nodes.length} tasks)`);let s={name:`Container: ${e.name}`,version:"1.0.0",nodes:n.nodes,connections:n.connections||[]},o=await this.engine.execute(s,r);return this.reportProgress(r,`Exiting container: ${e.name}`),this.processExecutionResult(e.id,i,n,o)})}processExecutionResult(e,r,n,i){if(i.status==="completed"){let{successCount:o,totalRows:a}=this.countSuccesses(i),l={tasksExecuted:n.nodes.length,tasksSucceeded:o,nestedResults:Array.from(i.nodeResults.entries())};return this.createSuccess(e,r,{rowsAffected:a,output:l})}if(i.status==="cancelled")return this.resultBuilder(e).skipped().build();let s=this.findFirstError(i)||"Container execution failed";return this.createError(e,r,s)}countSuccesses(e){let r=0,n=0;for(let i of e.nodeResults.values())i.status==="success"&&(r++,i.rowsAffected&&(n+=i.rowsAffected));return{successCount:r,totalRows:n}}findFirstError(e){for(let r of e.nodeResults.values())if(r.status==="error"&&r.error)return r.error}};var ly=class{async createConnection(e){let r=Ir(),n=new r({host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password});return await n.connect(),n}},LS=class extends qr{constructor(r,n){super(r);this.variableManager=null;this.connectionFactory=n||new ly}setVariableManager(r){this.variableManager=r}async execute(r,n){let i=this.getConfig(r),s=new Date,o=this.validateRequired(r.id,s,i.variableName,"Variable name");if(o)return o;let a=n.variableManager||this.variableManager;return a?this.safeExecute(r.id,s,async()=>{let l;switch(i.source){case"prompt":l=await this.handlePrompt(i,a,n);break;case"static":l=this.handleStatic(i,n);break;case"sql":l=await this.handleSql(i,n);break;default:return this.createError(r.id,s,`Unknown variable source: ${i.source}`)}return l===void 0?this.createError(r.id,s,`Variable ${i.variableName} was not set (user cancelled or query returned no results)`):(a.set(i.variableName,l),n.variables[i.variableName]=l,this.reportProgress(n,`Variable ${i.variableName} = "${l}"`),this.createSuccess(r.id,s,{output:{variableName:i.variableName,value:l,source:i.source}}))}):this.createError(r.id,s,"Variable manager not available")}async handlePrompt(r,n,i){let s=r.promptMessage?this.resolveVariables(r.promptMessage,i):`Enter value for ${r.variableName}`,o=r.defaultValue?this.resolveVariables(r.defaultValue,i):void 0;return this.reportProgress(i,`Prompting for variable: ${r.variableName}`),n.promptForValue(r.variableName,s,o)}handleStatic(r,n){let i=r.value||"";return this.resolveVariables(i,n)}async handleSql(r,n){if(!r.query)throw new Error("SQL query is required for sql variable source");let i=this.resolveVariables(r.query,n);this.reportProgress(n,`Executing SQL for variable ${r.variableName}`);let s=null;try{s=await this.connectionFactory.createConnection(n.connectionDetails);let o=s.createCommand(i);r.timeout&&(o.commandTimeout=r.timeout);let a=await o.executeReader(),l;if(await a.read()){let c=a.getValue(0);l=c!=null?String(c):void 0}return a.close&&await a.close(),l}finally{if(s)try{await s.close()}catch{}}}};var U6=q(require("vscode")),DS=class{constructor(e){this.variables=new Map(Object.entries(e||{}))}get(e){return this.variables.get(e)}set(e,r){this.variables.set(e,r)}has(e){return this.variables.has(e)}getAll(){return Object.fromEntries(this.variables)}async promptForValue(e,r,n){let i=await U6.window.showInputBox({prompt:r||`Enter value for ${e}`,value:n||"",placeHolder:`Value for \${${e}}`,ignoreFocusOut:!0});return i!==void 0&&this.set(e,i),i}snapshot(){return{...this.getAll()}}merge(e){for(let[r,n]of Object.entries(e))this.set(r,n)}};function B6(){return`
        :root {
            --bg-primary: var(--vscode-editor-background);
            --bg-secondary: var(--vscode-sideBar-background);
            --bg-hover: var(--vscode-list-hoverBackground);
            --border-color: var(--vscode-panel-border);
            --text-color: var(--vscode-editor-foreground);
            --text-muted: var(--vscode-descriptionForeground);
            --accent-color: var(--vscode-button-background);
            --accent-hover: var(--vscode-button-hoverBackground);
            --success-color: #4CAF50;
            --error-color: #f44336;
            --warning-color: #ff9800;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            font-family: var(--vscode-font-family);
            font-size: var(--vscode-font-size);
            color: var(--text-color);
            background: var(--bg-primary);
        }

        .etl-designer {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* Toolbar */
        .toolbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 16px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
        }

        .toolbar button {
            padding: 6px 12px;
            margin-right: 4px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-color);
            cursor: pointer;
            border-radius: 4px;
        }

        .toolbar button:hover {
            background: var(--bg-hover);
        }

        .toolbar .btn-primary {
            background: var(--accent-color);
            border-color: var(--accent-color);
        }

        .toolbar .btn-primary:hover {
            background: var(--accent-hover);
        }

        .toolbar .btn-danger {
            background: var(--error-color);
            border-color: var(--error-color);
            color: white;
        }

        .toolbar .btn-danger:hover {
            opacity: 0.8;
        }

        .toolbar .separator {
            display: inline-block;
            width: 1px;
            height: 20px;
            background: var(--border-color);
            margin: 0 8px;
        }

        .project-name {
            font-weight: bold;
            font-size: 1.1em;
        }

        .status {
            color: var(--text-muted);
            font-size: 0.9em;
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* Toolbox */
        .toolbox {
            width: 200px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            padding: 12px;
            overflow-y: auto;
        }

        .toolbox h3 {
            margin: 0 0 12px 0;
            font-size: 0.9em;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .toolbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            margin-bottom: 6px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: grab;
            transition: all 0.15s ease;
        }

        .toolbox-item:hover {
            border-color: var(--accent-color);
            transform: translateX(3px);
        }

        .toolbox-item:active {
            cursor: grabbing;
        }

        .toolbox-item .icon {
            font-size: 1.2em;
        }

        .toolbox-item .label {
            font-size: 0.85em;
        }

        .help-text {
            font-size: 0.8em;
            color: var(--text-muted);
            line-height: 1.6;
        }

        .help-text p {
            margin: 4px 0;
        }

        /* Canvas */
        .canvas-container {
            flex: 1;
            position: relative;
            overflow: hidden;
            background: var(--bg-primary);
            cursor: grab;
        }
        
        .canvas-container:active {
            cursor: grabbing;
        }

        .zoom-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform-origin: 0 0;
            background: 
                linear-gradient(90deg, rgba(128,128,128,0.1) 1px, transparent 1px),
                linear-gradient(rgba(128,128,128,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .connections-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .connections-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
        }

        .connections-layer path.connection-line {
            stroke: var(--success-color);
            stroke-width: 2;
            fill: none;
            pointer-events: none;
        }
        
        .connections-layer path.connection-failure {
            stroke: var(--error-color);
        }
        
        .connections-layer path.connection-hit {
            stroke: transparent;
            stroke-width: 15px;
            fill: none;
            pointer-events: stroke;
            cursor: pointer;
        }

        .connections-layer path.connection-hit:hover + .connection-line {
            stroke-width: 3;
            filter: drop-shadow(0 0 2px currentColor);
        }

        .connections-layer marker polygon {
            fill: var(--accent-color);
        }

        .nodes-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none;
        }

        .etl-node {
            pointer-events: all;
        }

        /* Nodes */
        .etl-node {
            position: absolute;
            min-width: 160px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: move;
            user-select: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .etl-node:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.25);
        }

        .etl-node.selected {
            border-color: var(--accent-color);
        }

        .etl-node.running {
            border-color: var(--warning-color);
            animation: pulse 1s infinite;
        }

        .etl-node.success {
            border-color: var(--success-color);
        }

        .etl-node.error {
            border-color: var(--error-color);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .node-type-indicator {
            height: 4px;
            border-radius: 6px 6px 0 0;
        }

        .etl-node.sql .node-type-indicator { background: #4CAF50; }
        .etl-node.python .node-type-indicator { background: #3776AB; }
        .etl-node.container .node-type-indicator { background: #FF9800; }
        .etl-node.export .node-type-indicator { background: #2196F3; }
        .etl-node.import .node-type-indicator { background: #9C27B0; }

        .node-content {
            padding: 10px 12px;
        }

        .node-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .node-icon {
            font-size: 1.2em;
        }

        .node-name {
            font-weight: 500;
            font-size: 0.9em;
        }

        .node-type {
            font-size: 0.75em;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .node-connectors {
            position: relative;
        }

        .node-actions {
            position: absolute;
            top: -8px;
            right: -8px;
            display: none;
        }

        .etl-node:hover .node-actions,
        .etl-node.selected .node-actions {
            display: block;
        }

        .node-delete-btn {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--error-color);
            color: white;
            border: 2px solid var(--bg-secondary);
            font-size: 12px;
            line-height: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .node-delete-btn:hover {
            transform: scale(1.2);
        }

        .connector {
            width: 14px;
            height: 14px;
            background: var(--accent-color);
            border: 2px solid var(--bg-secondary);
            border-radius: 50%;
            position: absolute;
            cursor: crosshair;
            z-index: 10;
        }

        .connector.input {
            left: -9px;
            top: 50%;
            transform: translateY(-50%);
        }

        .connector.output {
            right: -9px;
            top: 50%;
            transform: translateY(-50%);
        }

        .connector:hover {
            transform: translateY(-50%) scale(1.3);
        }

        /* Properties Panel */
        .properties-panel {
            width: 250px;
            background: var(--bg-secondary);
            border-left: 1px solid var(--border-color);
            padding: 12px;
            overflow-y: auto;
        }

        .properties-panel h3 {
            margin: 0 0 12px 0;
            font-size: 0.9em;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .properties-panel .placeholder {
            color: var(--text-muted);
            font-style: italic;
        }

        .property-group {
            margin-bottom: 16px;
        }

        .property-label {
            display: block;
            font-size: 0.8em;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .property-value {
            font-size: 0.9em;
            word-break: break-word;
        }

        .property-code {
            font-family: monospace;
            font-size: 0.8em;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 6px 8px;
            margin: 4px 0 0 0;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 80px;
            overflow-y: auto;
        }

        .configure-btn {
            width: 100%;
            margin-top: 16px;
            padding: 8px 12px;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85em;
        }

        .configure-btn:hover {
            background: var(--accent-hover);
        }

        /* Connection line being drawn */
        .temp-connection {
            stroke: var(--accent-color);
            stroke-width: 2;
            stroke-dasharray: 5,5;
            fill: none;
            pointer-events: none;
        }

        /* Container Editor Modal */
        .container-editor-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container-editor-modal {
            width: 90%;
            height: 85%;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .container-editor-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            border-radius: 8px 8px 0 0;
        }

        .container-editor-title {
            font-weight: 600;
            font-size: 1.1em;
        }

        .container-editor-close {
            width: 28px;
            height: 28px;
            border: none;
            background: transparent;
            color: var(--text-color);
            font-size: 18px;
            cursor: pointer;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container-editor-close:hover {
            background: var(--error-color);
            color: white;
        }

        .container-editor-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .container-editor-toolbox {
            width: 180px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            padding: 12px;
            overflow-y: auto;
        }

        .container-editor-toolbox h4 {
            margin: 0 0 10px 0;
            font-size: 0.85em;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .container-editor-canvas {
            flex: 1;
            position: relative;
            overflow: hidden;
            background: var(--bg-primary);
        }

        .container-editor-canvas .zoom-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, rgba(128,128,128,0.08) 1px, transparent 1px),
                linear-gradient(rgba(128,128,128,0.08) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .container-editor-footer {
            padding: 10px 16px;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            border-radius: 0 0 8px 8px;
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }

        .container-editor-footer button {
            padding: 6px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .container-editor-footer .btn-save {
            background: var(--accent-color);
            color: white;
            border: none;
        }

        .container-editor-footer .btn-save:hover {
            background: var(--accent-hover);
        }

        .container-editor-footer .btn-cancel {
            background: transparent;
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .container-editor-footer .btn-cancel:hover {
            background: var(--bg-hover);
        }

        /* Container node badge showing child count */
        .node-child-count {
            font-size: 0.7em;
            background: var(--warning-color);
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 4px;
        }
    `}function F6(t){return`
        const vscode = acquireVsCodeApi();
        
        // State
        let project = ${JSON.stringify(t)};
        let selectedNodeId = null;
        let isDragging = false;
        let dragOffset = { x: 0, y: 0 };
        let isConnecting = false;
        let connectionStart = null;
        let tempLine = null;
        
        // Zoom & Pan state
        let scale = 1;
        let pan = { x: 0, y: 0 };
        let isPanning = false;
        let panStart = { x: 0, y: 0 };

        // Container Editor state
        let containerEditorOpen = false;
        let editingContainerId = null;
        let containerNodes = [];
        let containerConnections = [];
        let containerSelectedNodeId = null;
        let containerIsDragging = false;
        let containerDragOffset = { x: 0, y: 0 };
        let containerIsConnecting = false;
        let containerConnectionStart = null;
        let containerTempLine = null;

        // Node icons
        const nodeIcons = {
            sql: '\u{1F4DC}',
            python: '\u{1F40D}',
            container: '\u{1F4E6}',
            export: '\u{1F4E4}',
            import: '\u{1F4E5}',
            variable: '\u{1F524}'
        };
    `}function G6(){return`
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function updateNodeStatus(nodeId, status) {
            const nodeEl = document.getElementById('node-' + nodeId);
            if (nodeEl) {
                nodeEl.classList.remove('running', 'success', 'error', 'pending', 'skipped');
                nodeEl.classList.add(status);
            }
            
            document.getElementById('status').textContent = status === 'running' 
                ? 'Running...' 
                : (status === 'error' ? 'Error!' : '');
        }
    `}function H6(){return`
        function updateTransform() {
            const wrapper = document.getElementById('zoom-wrapper');
            if (wrapper) {
                wrapper.style.transform = \`translate(\${pan.x}px, \${pan.y}px) scale(\${scale})\`;
            }
        }

        function setupZoomPan() {
            const container = document.getElementById('canvas');
            
            // Wheel zoom
            container.addEventListener('wheel', (e) => {
                if (e.ctrlKey || true) { 
                    e.preventDefault();
                    const zoomSensitivity = 0.001;
                    const delta = -e.deltaY * zoomSensitivity;
                    const newScale = Math.min(Math.max(0.1, scale + delta), 5);
                    scale = newScale;
                    updateTransform();
                }
            });

            // Pan
            container.addEventListener('mousedown', (e) => {
                if (e.target === container || e.target.id === 'nodes-container' || e.target.id === 'zoom-wrapper' || e.target.id === 'connections-svg') {
                    isPanning = true;
                    panStart = { x: e.clientX - pan.x, y: e.clientY - pan.y };
                    container.style.cursor = 'grabbing';
                }
            });

            window.addEventListener('mousemove', (e) => {
                if (isPanning) {
                    pan.x = e.clientX - panStart.x;
                    pan.y = e.clientY - panStart.y;
                    updateTransform();
                }
            });

            window.addEventListener('mouseup', () => {
                if (isPanning) {
                    isPanning = false;
                    container.style.cursor = 'grab';
                }
            });
        }
    `}function W6(){return`
        function renderConnections() {
            const svg = document.getElementById('connections-svg');
            // Clear existing paths but keep defs
            svg.querySelectorAll('path').forEach(p => p.remove());

            for (const conn of project.connections) {
                const fromNode = project.nodes.find(n => n.id === conn.from);
                const toNode = project.nodes.find(n => n.id === conn.to);
                
                if (fromNode && toNode) {
                    const path = createConnectionPath(fromNode, toNode, conn);
                    svg.appendChild(path);
                }
            }
        }

        function createConnectionPath(from, to, conn) {
            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            
            // Determine marker based on connection type
            const markerType = conn.connectionType === 'failure' ? 'arrowhead-failure' : 'arrowhead';
            const lineClass = conn.connectionType === 'failure' ? 'connection-line connection-failure' : 'connection-line';
            
            // Node dimensions
            const nodeWidth = 160;
            const nodeHeight = 70;
            
            // Calculate center points
            const fromCenterX = from.position.x + nodeWidth / 2;
            const fromCenterY = from.position.y + nodeHeight / 2;
            const toCenterX = to.position.x + nodeWidth / 2;
            const toCenterY = to.position.y + nodeHeight / 2;
            
            // Calculate relative position
            const dx = toCenterX - fromCenterX;
            const dy = toCenterY - fromCenterY;
            
            // Determine connection points based on relative position
            let x1, y1, x2, y2;
            
            // Choose source point (from node)
            if (Math.abs(dy) > Math.abs(dx)) {
                // Vertical connection dominates
                if (dy > 0) {
                    // Target is below - start from bottom
                    x1 = fromCenterX;
                    y1 = from.position.y + nodeHeight;
                } else {
                    // Target is above - start from top
                    x1 = fromCenterX;
                    y1 = from.position.y;
                }
            } else {
                // Horizontal connection dominates
                if (dx > 0) {
                    // Target is to the right - start from right
                    x1 = from.position.x + nodeWidth;
                    y1 = fromCenterY;
                } else {
                    // Target is to the left - start from left
                    x1 = from.position.x;
                    y1 = fromCenterY;
                }
            }
            
            // Choose target point (to node)
            if (Math.abs(dy) > Math.abs(dx)) {
                // Vertical connection
                if (dy > 0) {
                    // Coming from above - end at top
                    x2 = toCenterX;
                    y2 = to.position.y;
                } else {
                    // Coming from below - end at bottom
                    x2 = toCenterX;
                    y2 = to.position.y + nodeHeight;
                }
            } else {
                // Horizontal connection
                if (dx > 0) {
                    // Coming from left - end at left
                    x2 = to.position.x;
                    y2 = toCenterY;
                } else {
                    // Coming from right - end at right
                    x2 = to.position.x + nodeWidth;
                    y2 = toCenterY;
                }
            }

            // Create bezier curve with appropriate control points
            let d;
            if (Math.abs(dy) > Math.abs(dx)) {
                // Vertical curve
                const midY = (y1 + y2) / 2;
                d = 'M ' + x1 + ' ' + y1 + ' C ' + x1 + ' ' + midY + ', ' + x2 + ' ' + midY + ', ' + x2 + ' ' + y2;
            } else {
                // Horizontal curve
                const midX = (x1 + x2) / 2;
                d = 'M ' + x1 + ' ' + y1 + ' C ' + midX + ' ' + y1 + ', ' + midX + ' ' + y2 + ', ' + x2 + ' ' + y2;
            }
            
            // 1. Hit path (invisible, wider)
            const hitPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            hitPath.setAttribute('d', d);
            hitPath.setAttribute('class', 'connection-hit');
            hitPath.dataset.connectionId = conn.id;
            
            // Right-click to toggle connection type
            hitPath.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const currentType = conn.connectionType || 'success';
                const newType = currentType === 'success' ? 'failure' : 'success';
                vscode.postMessage({ 
                    type: 'toggleConnectionType', 
                    payload: { connectionId: conn.id, newType: newType }
                });
            });
            
            // Click to delete
            hitPath.addEventListener('click', (e) => {
                e.stopPropagation();
                vscode.postMessage({ type: 'confirmRemoveConnection', payload: conn.id });
            });

            // 2. Visible path
            const visiblePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            visiblePath.setAttribute('d', d);
            visiblePath.setAttribute('marker-end', 'url(#' + markerType + ')');
            visiblePath.setAttribute('class', lineClass);

            group.appendChild(hitPath);
            group.appendChild(visiblePath);
            
            return group;
        }

        function createTempLine(e) {
            const svg = document.getElementById('connections-svg');
            tempLine = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            tempLine.classList.add('temp-connection');
            svg.appendChild(tempLine);
            updateTempLine(e);
        }

        function updateTempLine(e) {
            if (!tempLine || !connectionStart) return;
            
            const fromNode = project.nodes.find(n => n.id === connectionStart);
            if (!fromNode) return;
            
            const canvas = document.getElementById('canvas');
            const rect = canvas.getBoundingClientRect();
            
            const x1 = fromNode.position.x + 160;
            const y1 = fromNode.position.y + 35;
            const x2 = (e.clientX - rect.left - pan.x) / scale;
            const y2 = (e.clientY - rect.top - pan.y) / scale;
            
            const midX = (x1 + x2) / 2;
            tempLine.setAttribute('d', 'M ' + x1 + ' ' + y1 + ' C ' + midX + ' ' + y1 + ', ' + midX + ' ' + y2 + ', ' + x2 + ' ' + y2);
        }

        function endConnection() {
            isConnecting = false;
            connectionStart = null;
            if (tempLine) {
                tempLine.remove();
                tempLine = null;
            }
        }
    `}function k6(){return`
        // Keyboard events for Delete key
        function setupKeyboardEvents() {
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Delete' && selectedNodeId) {
                    vscode.postMessage({ type: 'confirmRemoveNode', payload: selectedNodeId });
                }
            });
        }

        // Handle messages from extension
        window.addEventListener('message', (event) => {
            const message = event.data;
            switch (message.type) {
                case 'projectUpdate':
                    project = message.payload;
                    renderNodes();
                    renderConnections();
                    break;
                case 'nodeStatusUpdate':
                    updateNodeStatus(message.payload.nodeId, message.payload.status);
                    break;
                case 'executionStarted':
                    document.getElementById('btn-run').style.display = 'none';
                    document.getElementById('btn-stop').style.display = 'inline-block';
                    document.getElementById('status').textContent = 'Running...';
                    break;
                case 'executionEnded':
                    document.getElementById('btn-run').style.display = 'inline-block';
                    document.getElementById('btn-stop').style.display = 'none';
                    document.getElementById('status').textContent = message.payload?.status || '';
                    break;
                case 'containerChildUpdated':
                    // Refresh container editor with updated child node
                    if (containerEditorOpen && editingContainerId === message.payload.containerId) {
                        const updatedChild = message.payload.childNode;
                        const idx = containerNodes.findIndex(n => n.id === updatedChild.id);
                        if (idx >= 0) {
                            containerNodes[idx] = updatedChild;
                            renderContainerNodes();
                        }
                    }
                    break;
            }
        });

        function setupToolbarButtons() {
            document.getElementById('btn-new').addEventListener('click', () => {
                vscode.postMessage({ type: 'newProject' });
            });
            
            document.getElementById('btn-open').addEventListener('click', () => {
                vscode.postMessage({ type: 'loadProject' });
            });
            
            document.getElementById('btn-save').addEventListener('click', () => {
                vscode.postMessage({ type: 'saveProject' });
            });
            
            document.getElementById('btn-run').addEventListener('click', () => {
                vscode.postMessage({ type: 'runProject' });
            });
            
            document.getElementById('btn-stop').addEventListener('click', () => {
                vscode.postMessage({ type: 'stopProject' });
            });
        }
    `}function $6(){return`
        function updatePropertiesPanel(node) {
            const content = document.getElementById('properties-content');
            
            if (!node) {
                content.innerHTML = '<p class="placeholder">Select a task to view properties</p>';
                return;
            }
            
            let configHtml = '';
            const config = node.config;
            
            switch (node.type) {
                case 'sql':
                    const queryPreview = config.query 
                        ? (config.query.length > 100 ? config.query.substring(0, 100) + '...' : config.query)
                        : '(not configured)';
                    configHtml = \`
                        <div class="property-group">
                            <span class="property-label">Connection</span>
                            <div class="property-value">\${escapeHtml(config.connection || 'Active connection')}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Query</span>
                            <pre class="property-code">\${escapeHtml(queryPreview)}</pre>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Timeout</span>
                            <div class="property-value">\${config.timeout ? config.timeout + 's' : '(default)'}</div>
                        </div>
                    \`;
                    break;
                case 'python':
                    let scriptInfo = '(not configured)';
                    if (config.scriptPath) {
                        const pathParts = config.scriptPath.split(/[/\\\\\\\\]/);
                        scriptInfo = '\u{1F4C1} ' + pathParts[pathParts.length - 1];
                    } else if (config.script) {
                        const preview = config.script.length > 50 ? config.script.substring(0, 50) + '...' : config.script;
                        scriptInfo = preview;
                    }
                    configHtml = \`
                        <div class="property-group">
                            <span class="property-label">Script Source</span>
                            <div class="property-value">\${config.scriptPath ? 'File' : (config.script ? 'Inline' : 'Not set')}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Script</span>
                            <pre class="property-code">\${escapeHtml(scriptInfo)}</pre>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Interpreter</span>
                            <div class="property-value">\${escapeHtml(config.pythonPath || 'Auto-detect')}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Timeout</span>
                            <div class="property-value">\${config.timeout ? config.timeout + 's' : '(default)'}</div>
                        </div>
                    \`;
                    break;
                case 'export':
                    const outPath = config.outputPath 
                        ? config.outputPath.split(/[/\\\\\\\\]/).pop() 
                        : '(not configured)';
                    const exportQueryPreview = config.query 
                        ? (config.query.length > 50 ? config.query.substring(0, 50) + '...' : config.query)
                        : '(uses previous output)';
                    configHtml = \`
                        <div class="property-group">
                            <span class="property-label">Format</span>
                            <div class="property-value">\${config.format?.toUpperCase() || '(not set)'}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Output File</span>
                            <div class="property-value">\u{1F4C4} \${escapeHtml(outPath)}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Query</span>
                            <pre class="property-code">\${escapeHtml(exportQueryPreview)}</pre>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Timeout</span>
                            <div class="property-value">\${config.timeout ? config.timeout + 's' : '(default)'}</div>
                        </div>
                    \`;
                    break;
                case 'import':
                    const inPath = config.inputPath 
                        ? config.inputPath.split(/[/\\\\\\\\]/).pop() 
                        : '(not configured)';
                    configHtml = \`
                        <div class="property-group">
                            <span class="property-label">Format</span>
                            <div class="property-value">\${config.format?.toUpperCase() || 'Auto-detect'}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Input File</span>
                            <div class="property-value">\u{1F4C4} \${escapeHtml(inPath)}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Target Table</span>
                            <div class="property-value">\${escapeHtml(config.targetTable || '(not set)')}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Create Table</span>
                            <div class="property-value">\${config.createTable !== false ? 'Yes (if needed)' : 'No'}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Timeout</span>
                            <div class="property-value">\${config.timeout ? config.timeout + 's' : '(default)'}</div>
                        </div>
                    \`;
                    break;
                case 'container':
                    const childCount = (config.nodes || []).length;
                    configHtml = \`
                        <div class="property-group">
                            <span class="property-label">Child Tasks</span>
                            <div class="property-value">\${childCount} task(s)</div>
                        </div>
                    \`;
                    break;
                case 'variable':
                    const sourceLabels = {
                        'prompt': '\u{1F4DD} Prompt User',
                        'static': '\u{1F512} Static Value',
                        'sql': '\u{1F5C4}\uFE0F SQL Query'
                    };
                    const sourceLabel = sourceLabels[config.source] || config.source;
                    let varDetails = '';
                    if (config.source === 'prompt') {
                        varDetails = \`
                            <div class="property-group">
                                <span class="property-label">Prompt Message</span>
                                <div class="property-value">\${escapeHtml(config.promptMessage || '(default)')}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Default Value</span>
                                <div class="property-value">\${escapeHtml(config.defaultValue || '(none)')}</div>
                            </div>
                        \`;
                    } else if (config.source === 'static') {
                        varDetails = \`
                            <div class="property-group">
                                <span class="property-label">Value</span>
                                <pre class="property-code">\${escapeHtml(config.value || '(empty)')}</pre>
                            </div>
                        \`;
                    } else if (config.source === 'sql') {
                        const sqlPreview = config.query 
                            ? (config.query.length > 50 ? config.query.substring(0, 50) + '...' : config.query)
                            : '(not configured)';
                        varDetails = \`
                            <div class="property-group">
                                <span class="property-label">Query</span>
                                <pre class="property-code">\${escapeHtml(sqlPreview)}</pre>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Timeout</span>
                                <div class="property-value">\${config.timeout ? config.timeout + 's' : '(default)'}</div>
                            </div>
                        \`;
                    }
                    const varNameDisplay = config.variableName ? ('$' + '{' + escapeHtml(config.variableName) + '}') : '(not set)';
                    configHtml = \`
                        <div class="property-group">
                            <span class="property-label">Variable Name</span>
                            <div class="property-value" style="font-family: monospace;">\${varNameDisplay}</div>
                        </div>
                        <div class="property-group">
                            <span class="property-label">Source</span>
                            <div class="property-value">\${sourceLabel}</div>
                        </div>
                        \${varDetails}
                    \`;
                    break;
            }
            
            content.innerHTML = \`
                <div class="property-group">
                    <span class="property-label">ID</span>
                    <div class="property-value" style="font-family: monospace; font-size: 0.75em;">\${node.id}</div>
                </div>
                <div class="property-group">
                    <span class="property-label">Name</span>
                    <div class="property-value">\${escapeHtml(node.name)}</div>
                </div>
                <div class="property-group">
                    <span class="property-label">Type</span>
                    <div class="property-value">\${node.type.toUpperCase()}</div>
                </div>
                <div class="property-group">
                    <span class="property-label">Position</span>
                    <div class="property-value">(\${node.position.x}, \${node.position.y})</div>
                </div>
                <hr style="border: none; border-top: 1px solid var(--border-color); margin: 12px 0;">
                <h4 style="margin: 8px 0; font-size: 0.85em; color: var(--text-muted);">\u2699\uFE0F Configuration</h4>
                \${configHtml}
                <button class="configure-btn" data-node-id="\${node.id}">
                    \u270F\uFE0F Edit Configuration
                </button>
            \`;
            
            // Attach event listener to configure button (CSP-safe)
            const configBtn = content.querySelector('.configure-btn');
            if (configBtn) {
                configBtn.addEventListener('click', () => {
                    vscode.postMessage({ type: 'configureNode', payload: node.id });
                });
            }
        }
    `}function Y6(){return`
        function renderNodes() {
            const container = document.getElementById('nodes-container');
            container.innerHTML = '';

            for (const node of project.nodes) {
                const el = createNodeElement(node);
                container.appendChild(el);
            }
        }

        function createNodeElement(node, isContainerChild = false) {
            const el = document.createElement('div');
            const isSelected = isContainerChild 
                ? containerSelectedNodeId === node.id 
                : selectedNodeId === node.id;
            el.className = 'etl-node ' + node.type + (isSelected ? ' selected' : '');
            el.id = (isContainerChild ? 'container-node-' : 'node-') + node.id;
            el.style.left = node.position.x + 'px';
            el.style.top = node.position.y + 'px';

            // Show child count badge for containers
            const childCountBadge = node.type === 'container' && node.config?.nodes?.length > 0
                ? \`<span class="node-child-count">\${node.config.nodes.length}</span>\`
                : '';

            el.innerHTML = \`
                <div class="node-actions">
                    <button class="node-delete-btn" data-node="\${node.id}" title="Delete task">\xD7</button>
                </div>
                <div class="node-type-indicator"></div>
                <div class="node-content">
                    <div class="node-header">
                        <span class="node-icon">\${nodeIcons[node.type] || '\u{1F4CB}'}</span>
                        <span class="node-name">\${escapeHtml(node.name)}\${childCountBadge}</span>
                    </div>
                    <div class="node-type">\${node.type}</div>
                </div>
                <div class="node-connectors">
                    <div class="connector input" data-node="\${node.id}" data-type="input"></div>
                    <div class="connector output" data-node="\${node.id}" data-type="output"></div>
                </div>
            \`;

            setupNodeEvents(el, node);
            return el;
        }

        function setupNodeEvents(el, node) {
            // Delete button click
            const deleteBtn = el.querySelector('.node-delete-btn');
            if (deleteBtn) {
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    vscode.postMessage({ type: 'confirmRemoveNode', payload: node.id });
                });
            }

            // Drag
            el.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('connector')) return;
                if (e.target.classList.contains('node-delete-btn')) return;
                
                selectedNodeId = node.id;
                isDragging = true;
                
                const rect = el.getBoundingClientRect();
                dragOffset.x = (e.clientX - rect.left) / scale;
                dragOffset.y = (e.clientY - rect.top) / scale;
                
                // Update selection
                document.querySelectorAll('.etl-node').forEach(n => n.classList.remove('selected'));
                el.classList.add('selected');
                
                updatePropertiesPanel(node);
            });

            // Double-click to configure (or open container editor)
            el.addEventListener('dblclick', () => {
                if (node.type === 'container') {
                    openContainerEditor(node.id);
                } else {
                    vscode.postMessage({ type: 'configureNode', payload: node.id });
                }
            });

            // Connector events
            el.querySelectorAll('.connector').forEach(conn => {
                conn.addEventListener('mousedown', (e) => {
                    e.stopPropagation();
                    if (conn.dataset.type === 'output') {
                        isConnecting = true;
                        connectionStart = node.id;
                        createTempLine(e);
                    }
                });

                conn.addEventListener('mouseup', (e) => {
                    if (isConnecting && conn.dataset.type === 'input' && connectionStart !== node.id) {
                        vscode.postMessage({
                            type: 'addConnection',
                            payload: { from: connectionStart, to: node.id }
                        });
                    }
                    endConnection();
                });
            });

            // Context menu for delete
            el.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                vscode.postMessage({ type: 'confirmRemoveNode', payload: node.id });
            });
        }

        function setupToolboxDrag() {
            document.querySelectorAll('.toolbox-item').forEach(item => {
                item.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('nodeType', item.dataset.type);
                });
            });
        }

        function setupCanvasDrop() {
            const canvas = document.getElementById('canvas');
            
            canvas.addEventListener('dragover', (e) => {
                e.preventDefault();
            });
            
            canvas.addEventListener('drop', (e) => {
                e.preventDefault();
                const nodeType = e.dataTransfer.getData('nodeType');
                if (nodeType) {
                    const rect = canvas.getBoundingClientRect();
                    const x = (e.clientX - rect.left - pan.x) / scale;
                    const y = (e.clientY - rect.top - pan.y) / scale;
                    
                    vscode.postMessage({
                        type: 'addNode',
                        payload: { type: nodeType, position: { x, y } }
                    });
                }
            });

            // Mouse move for dragging and connecting
            document.addEventListener('mousemove', (e) => {
                if (isDragging && selectedNodeId) {
                    const canvas = document.getElementById('canvas');
                    const rect = canvas.getBoundingClientRect();
                    const x = (e.clientX - rect.left - pan.x) / scale - dragOffset.x;
                    const y = (e.clientY - rect.top - pan.y) / scale - dragOffset.y;
                    
                    // Update node position in DOM
                    const nodeEl = document.getElementById('node-' + selectedNodeId);
                    if (nodeEl) {
                        nodeEl.style.left = Math.max(0, x) + 'px';
                        nodeEl.style.top = Math.max(0, y) + 'px';
                    }
                    
                    // Update connections
                    const node = project.nodes.find(n => n.id === selectedNodeId);
                    if (node) {
                        node.position = { x: Math.max(0, x), y: Math.max(0, y) };
                        renderConnections();
                    }
                }
                
                if (isConnecting && tempLine) {
                    updateTempLine(e);
                }
            });

            document.addEventListener('mouseup', (e) => {
                if (isDragging && selectedNodeId) {
                    // Save position
                    const node = project.nodes.find(n => n.id === selectedNodeId);
                    if (node) {
                        vscode.postMessage({
                            type: 'updateNodePosition',
                            payload: { nodeId: selectedNodeId, position: node.position }
                        });
                    }
                }
                
                isDragging = false;
                endConnection();
            });

            // Deselect on canvas click
            canvas.addEventListener('click', (e) => {
                if (e.target === canvas || e.target.classList.contains('nodes-layer')) {
                    selectedNodeId = null;
                    document.querySelectorAll('.etl-node').forEach(n => n.classList.remove('selected'));
                    updatePropertiesPanel(null);
                }
            });
        }
    `}function V6(){return`
        function setupContainerEditor() {
            // Close button
            document.getElementById('container-editor-close').addEventListener('click', closeContainerEditor);
            document.getElementById('container-editor-cancel').addEventListener('click', closeContainerEditor);
            document.getElementById('container-editor-save').addEventListener('click', saveContainerAndClose);

            // Toolbox drag for container editor
            document.querySelectorAll('.toolbox-item[data-container="true"]').forEach(item => {
                item.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('containerNodeType', item.dataset.type);
                });
            });

            // Canvas drop for container editor
            const containerCanvas = document.getElementById('container-canvas');
            containerCanvas.addEventListener('dragover', (e) => e.preventDefault());
            containerCanvas.addEventListener('drop', (e) => {
                e.preventDefault();
                const nodeType = e.dataTransfer.getData('containerNodeType');
                if (nodeType && containerEditorOpen) {
                    const rect = containerCanvas.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    addContainerChildNode(nodeType, { x, y });
                }
            });

            // Click to deselect in container canvas
            containerCanvas.addEventListener('click', (e) => {
                if (e.target === containerCanvas || e.target.id === 'container-nodes' || e.target.id === 'container-zoom-wrapper') {
                    containerSelectedNodeId = null;
                    document.querySelectorAll('#container-nodes .etl-node').forEach(n => n.classList.remove('selected'));
                }
            });

            // Mouse move for container dragging
            document.addEventListener('mousemove', (e) => {
                if (containerIsDragging && containerSelectedNodeId) {
                    const canvas = document.getElementById('container-canvas');
                    const rect = canvas.getBoundingClientRect();
                    const x = e.clientX - rect.left - containerDragOffset.x;
                    const y = e.clientY - rect.top - containerDragOffset.y;

                    const nodeEl = document.getElementById('container-node-' + containerSelectedNodeId);
                    if (nodeEl) {
                        nodeEl.style.left = Math.max(0, x) + 'px';
                        nodeEl.style.top = Math.max(0, y) + 'px';
                    }

                    const node = containerNodes.find(n => n.id === containerSelectedNodeId);
                    if (node) {
                        node.position = { x: Math.max(0, x), y: Math.max(0, y) };
                        renderContainerConnections();
                    }
                }

                if (containerIsConnecting && containerTempLine) {
                    updateContainerTempLine(e);
                }
            });

            document.addEventListener('mouseup', () => {
                containerIsDragging = false;
                endContainerConnection();
            });

            // Escape to close
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && containerEditorOpen) {
                    closeContainerEditor();
                }
                if (e.key === 'Delete' && containerEditorOpen && containerSelectedNodeId) {
                    removeContainerChildNode(containerSelectedNodeId);
                }
            });
        }

        function openContainerEditor(containerId) {
            const containerNode = project.nodes.find(n => n.id === containerId);
            if (!containerNode || containerNode.type !== 'container') return;

            editingContainerId = containerId;
            containerEditorOpen = true;
            containerNodes = JSON.parse(JSON.stringify(containerNode.config.nodes || []));
            containerConnections = JSON.parse(JSON.stringify(containerNode.config.connections || []));
            containerSelectedNodeId = null;

            document.getElementById('container-editor-title').textContent = '\u{1F4E6} Edit: ' + containerNode.name;
            document.getElementById('container-editor-overlay').style.display = 'flex';

            renderContainerNodes();
            renderContainerConnections();
        }

        function closeContainerEditor() {
            containerEditorOpen = false;
            editingContainerId = null;
            containerNodes = [];
            containerConnections = [];
            document.getElementById('container-editor-overlay').style.display = 'none';
        }

        function saveContainerAndClose() {
            if (!editingContainerId) return;

            vscode.postMessage({
                type: 'updateContainerNodes',
                payload: {
                    containerId: editingContainerId,
                    nodes: containerNodes,
                    connections: containerConnections
                }
            });

            closeContainerEditor();
        }

        function renderContainerNodes() {
            const container = document.getElementById('container-nodes');
            container.innerHTML = '';

            for (const node of containerNodes) {
                const el = createContainerNodeElement(node);
                container.appendChild(el);
            }
        }

        function createContainerNodeElement(node) {
            const el = document.createElement('div');
            el.className = 'etl-node ' + node.type + (containerSelectedNodeId === node.id ? ' selected' : '');
            el.id = 'container-node-' + node.id;
            el.style.left = node.position.x + 'px';
            el.style.top = node.position.y + 'px';

            el.innerHTML = \`
                <div class="node-actions">
                    <button class="node-delete-btn" data-node="\${node.id}" title="Delete">\xD7</button>
                </div>
                <div class="node-type-indicator"></div>
                <div class="node-content">
                    <div class="node-header">
                        <span class="node-icon">\${nodeIcons[node.type] || '\u{1F4CB}'}</span>
                        <span class="node-name">\${escapeHtml(node.name)}</span>
                    </div>
                    <div class="node-type">\${node.type}</div>
                </div>
                <div class="node-connectors">
                    <div class="connector input" data-node="\${node.id}" data-type="input"></div>
                    <div class="connector output" data-node="\${node.id}" data-type="output"></div>
                </div>
            \`;

            setupContainerNodeEvents(el, node);
            return el;
        }

        function setupContainerNodeEvents(el, node) {
            // Delete button
            const deleteBtn = el.querySelector('.node-delete-btn');
            if (deleteBtn) {
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    removeContainerChildNode(node.id);
                });
            }

            // Drag
            el.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('connector')) return;
                if (e.target.classList.contains('node-delete-btn')) return;

                containerSelectedNodeId = node.id;
                containerIsDragging = true;

                const rect = el.getBoundingClientRect();
                containerDragOffset.x = e.clientX - rect.left;
                containerDragOffset.y = e.clientY - rect.top;

                document.querySelectorAll('#container-nodes .etl-node').forEach(n => n.classList.remove('selected'));
                el.classList.add('selected');
            });

            // Double-click to configure (first save, then configure)
            el.addEventListener('dblclick', () => {
                // First save current state to backend
                vscode.postMessage({
                    type: 'updateContainerNodes',
                    payload: {
                        containerId: editingContainerId,
                        nodes: containerNodes,
                        connections: containerConnections
                    }
                });
                // Then request configuration
                vscode.postMessage({ 
                    type: 'configureContainerChildNode', 
                    payload: { containerId: editingContainerId, nodeId: node.id } 
                });
            });

            // Connector events
            el.querySelectorAll('.connector').forEach(conn => {
                conn.addEventListener('mousedown', (e) => {
                    e.stopPropagation();
                    if (conn.dataset.type === 'output') {
                        containerIsConnecting = true;
                        containerConnectionStart = node.id;
                        createContainerTempLine(e);
                    }
                });

                conn.addEventListener('mouseup', () => {
                    if (containerIsConnecting && conn.dataset.type === 'input' && containerConnectionStart !== node.id) {
                        addContainerConnection(containerConnectionStart, node.id);
                    }
                    endContainerConnection();
                });
            });

            // Context menu delete
            el.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                removeContainerChildNode(node.id);
            });
        }

        function addContainerChildNode(type, position) {
            const nodeNames = {
                sql: 'SQL Task',
                python: 'Python Script',
                export: 'Export Data',
                import: 'Import Data',
                variable: 'Variable'
            };

            const defaultConfigs = {
                sql: { type: 'sql', query: '', connection: 'default' },
                python: { type: 'python', script: '' },
                export: { type: 'export', format: 'csv', outputPath: '' },
                import: { type: 'import', format: 'csv', inputPath: '', targetTable: '' },
                variable: { type: 'variable', variableName: '', source: 'prompt', promptMessage: 'Enter value' }
            };

            const newNode = {
                id: 'child-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9),
                type: type,
                name: nodeNames[type] || 'New Task',
                position: position,
                config: defaultConfigs[type] || {}
            };

            containerNodes.push(newNode);
            renderContainerNodes();
            renderContainerConnections();
        }

        function removeContainerChildNode(nodeId) {
            containerNodes = containerNodes.filter(n => n.id !== nodeId);
            containerConnections = containerConnections.filter(c => c.from !== nodeId && c.to !== nodeId);
            if (containerSelectedNodeId === nodeId) containerSelectedNodeId = null;
            renderContainerNodes();
            renderContainerConnections();
        }

        function addContainerConnection(from, to) {
            // Check if connection already exists
            if (containerConnections.some(c => c.from === from && c.to === to)) return;

            containerConnections.push({
                id: 'conn-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9),
                from: from,
                to: to
            });
            renderContainerConnections();
        }

        function renderContainerConnections() {
            const svg = document.getElementById('container-connections-svg');
            svg.querySelectorAll('path').forEach(p => p.remove());

            for (const conn of containerConnections) {
                const fromNode = containerNodes.find(n => n.id === conn.from);
                const toNode = containerNodes.find(n => n.id === conn.to);

                if (fromNode && toNode) {
                    const path = createContainerConnectionPath(fromNode, toNode, conn);
                    svg.appendChild(path);
                }
            }
        }

        function createContainerConnectionPath(from, to, conn) {
            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');

            // Determine marker based on connection type
            const markerType = conn.connectionType === 'failure' ? 'container-arrowhead-failure' : 'container-arrowhead';
            const lineClass = conn.connectionType === 'failure' ? 'connection-line connection-failure' : 'connection-line';

            // Source: always right side (output connector)
            const x1 = from.position.x + 160;
            const y1 = from.position.y + 35;
            
            // Determine target connection point based on relative positions
            let x2, y2;
            const nodeWidth = 160;
            const nodeHeight = 70;
            
            const dx = to.position.x - from.position.x;
            const dy = to.position.y - from.position.y;
            
            if (dx > 50) {
                x2 = to.position.x;
                y2 = to.position.y + 35;
            } else if (dx < -50 && Math.abs(dy) < 80) {
                x2 = to.position.x + nodeWidth;
                y2 = to.position.y + 35;
            } else if (dy > 30) {
                x2 = to.position.x + nodeWidth / 2;
                y2 = to.position.y;
            } else if (dy < -30) {
                x2 = to.position.x + nodeWidth / 2;
                y2 = to.position.y + nodeHeight;
            } else {
                x2 = to.position.x;
                y2 = to.position.y + 35;
            }

            // Create bezier curve with appropriate control points
            let d;
            if (dx > 50) {
                const midX = (x1 + x2) / 2;
                d = 'M ' + x1 + ' ' + y1 + ' C ' + midX + ' ' + y1 + ', ' + midX + ' ' + y2 + ', ' + x2 + ' ' + y2;
            } else if (dx < -50 && Math.abs(dy) < 80) {
                d = 'M ' + x1 + ' ' + y1 + ' C ' + (x1 + 60) + ' ' + y1 + ', ' + (x2 + 60) + ' ' + y2 + ', ' + x2 + ' ' + y2;
            } else if (dy > 30) {
                d = 'M ' + x1 + ' ' + y1 + ' C ' + (x1 + 40) + ' ' + y1 + ', ' + x2 + ' ' + (y2 - 40) + ', ' + x2 + ' ' + y2;
            } else if (dy < -30) {
                d = 'M ' + x1 + ' ' + y1 + ' C ' + (x1 + 40) + ' ' + y1 + ', ' + x2 + ' ' + (y2 + 40) + ', ' + x2 + ' ' + y2;
            } else {
                const midX = (x1 + x2) / 2;
                d = 'M ' + x1 + ' ' + y1 + ' C ' + midX + ' ' + y1 + ', ' + midX + ' ' + y2 + ', ' + x2 + ' ' + y2;
            }

            const hitPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            hitPath.setAttribute('d', d);
            hitPath.setAttribute('class', 'connection-hit');
            
            // Right-click to toggle connection type
            hitPath.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const currentType = conn.connectionType || 'success';
                const newType = currentType === 'success' ? 'failure' : 'success';
                // Update locally
                conn.connectionType = newType;
                renderContainerConnections();
            });
            
            // Click to delete
            hitPath.addEventListener('click', (e) => {
                e.stopPropagation();
                containerConnections = containerConnections.filter(c => c.id !== conn.id);
                renderContainerConnections();
            });

            const visiblePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            visiblePath.setAttribute('d', d);
            visiblePath.setAttribute('marker-end', 'url(#' + markerType + ')');
            visiblePath.setAttribute('class', lineClass);

            group.appendChild(hitPath);
            group.appendChild(visiblePath);

            return group;
        }

        function createContainerTempLine(e) {
            const svg = document.getElementById('container-connections-svg');
            containerTempLine = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            containerTempLine.classList.add('temp-connection');
            svg.appendChild(containerTempLine);
            updateContainerTempLine(e);
        }

        function updateContainerTempLine(e) {
            if (!containerTempLine || !containerConnectionStart) return;

            const fromNode = containerNodes.find(n => n.id === containerConnectionStart);
            if (!fromNode) return;

            const canvas = document.getElementById('container-canvas');
            const rect = canvas.getBoundingClientRect();

            const x1 = fromNode.position.x + 160;
            const y1 = fromNode.position.y + 35;
            const x2 = e.clientX - rect.left;
            const y2 = e.clientY - rect.top;

            const midX = (x1 + x2) / 2;
            containerTempLine.setAttribute('d', 'M ' + x1 + ' ' + y1 + ' C ' + midX + ' ' + y1 + ', ' + midX + ' ' + y2 + ', ' + x2 + ' ' + y2);
        }

        function endContainerConnection() {
            containerIsConnecting = false;
            containerConnectionStart = null;
            if (containerTempLine) {
                containerTempLine.remove();
                containerTempLine = null;
            }
        }
    `}function q6(t){return`
        (function() {
            'use strict';
            
            ${F6(t)}
            
            ${G6()}
            
            ${H6()}
            
            ${W6()}
            
            ${Y6()}
            
            ${$6()}
            
            ${k6()}
            
            ${V6()}
            
            // Initialize function
            function init() {
                renderNodes();
                renderConnections();
                setupToolboxDrag();
                setupCanvasDrop();
                setupToolbarButtons();
                setupKeyboardEvents();
                setupZoomPan();
                setupContainerEditor();
                
                // Request current project state
                vscode.postMessage({ type: 'getProject' });
            }
            
            // Start
            init();
        })();
    `}function X6(t){return q6(t)}function Hye(t){return`
        <header class="toolbar">
            <div class="toolbar-left">
                <button id="btn-new" title="New Project">\u{1F4C4} New</button>
                <button id="btn-open" title="Open Project">\u{1F4C2} Open</button>
                <button id="btn-save" title="Save Project">\u{1F4BE} Save</button>
                <span class="separator"></span>
                <button id="btn-run" class="btn-primary" title="Run Project">\u25B6\uFE0F Run</button>
                <button id="btn-stop" class="btn-danger" title="Stop Execution" style="display:none;">\u23F9\uFE0F Stop</button>
            </div>
            <div class="toolbar-center">
                <span class="project-name">${t}</span>
            </div>
            <div class="toolbar-right">
                <span class="status" id="status"></span>
            </div>
        </header>`}function Wye(){return`
        <aside class="toolbox">
            <h3>\u{1F4E6} Tasks</h3>
            <div class="toolbox-items">
                <div class="toolbox-item" data-type="variable" draggable="true">
                    <span class="icon">\u{1F524}</span>
                    <span class="label">Variable</span>
                </div>
                <div class="toolbox-item" data-type="sql" draggable="true">
                    <span class="icon">\u{1F4DC}</span>
                    <span class="label">SQL Task</span>
                </div>
                <div class="toolbox-item" data-type="python" draggable="true">
                    <span class="icon">\u{1F40D}</span>
                    <span class="label">Python Script</span>
                </div>
                <div class="toolbox-item" data-type="container" draggable="true">
                    <span class="icon">\u{1F4E6}</span>
                    <span class="label">Container</span>
                </div>
                <div class="toolbox-item" data-type="export" draggable="true">
                    <span class="icon">\u{1F4E4}</span>
                    <span class="label">Export (CSV/XLSB)</span>
                </div>
                <div class="toolbox-item" data-type="import" draggable="true">
                    <span class="icon">\u{1F4E5}</span>
                    <span class="label">Import (CSV/XLSB)</span>
                </div>
            </div>
            
            <h3>\u2139\uFE0F Help</h3>
            <div class="help-text">
                <p>Drag tasks to canvas</p>
                <p>Connect outputs to inputs</p>
                <p>Double-click to configure</p>
                <p>Connected = Sequential</p>
                <p>Unconnected = Parallel</p>
                <p>Use \${name} in SQL</p>
            </div>
        </aside>`}function kye(){return`
        <main class="canvas-container" id="canvas">
            <div id="zoom-wrapper" class="zoom-wrapper">
                <svg class="connections-layer" id="connections-svg">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                            refX="10" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50" />
                        </marker>
                        <marker id="arrowhead-failure" markerWidth="10" markerHeight="7" 
                            refX="10" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#f44336" />
                        </marker>
                    </defs>
                </svg>
                <div class="nodes-layer" id="nodes-container"></div>
            </div>
        </main>`}function $ye(){return`
        <aside class="properties-panel" id="properties">
            <h3>\u2699\uFE0F Properties</h3>
            <div id="properties-content">
                <p class="placeholder">Select a task to view properties</p>
            </div>
        </aside>`}function Yye(){return`
        <div id="container-editor-overlay" class="container-editor-overlay" style="display:none;">
            <div class="container-editor-modal">
                <header class="container-editor-header">
                    <span id="container-editor-title" class="container-editor-title">\u{1F4E6} Edit Container</span>
                    <button id="container-editor-close" class="container-editor-close" title="Close">\u2715</button>
                </header>
                <div class="container-editor-content">
                    <aside class="container-editor-toolbox">
                        <h4>\u{1F4E6} Tasks</h4>
                        <div class="toolbox-item" data-type="variable" data-container="true" draggable="true">
                            <span class="icon">\u{1F524}</span>
                            <span class="label">Variable</span>
                        </div>
                        <div class="toolbox-item" data-type="sql" data-container="true" draggable="true">
                            <span class="icon">\u{1F4DC}</span>
                            <span class="label">SQL Task</span>
                        </div>
                        <div class="toolbox-item" data-type="python" data-container="true" draggable="true">
                            <span class="icon">\u{1F40D}</span>
                            <span class="label">Python</span>
                        </div>
                        <div class="toolbox-item" data-type="export" data-container="true" draggable="true">
                            <span class="icon">\u{1F4E4}</span>
                            <span class="label">Export</span>
                        </div>
                        <div class="toolbox-item" data-type="import" data-container="true" draggable="true">
                            <span class="icon">\u{1F4E5}</span>
                            <span class="label">Import</span>
                        </div>
                    </aside>
                    <div class="container-editor-canvas" id="container-canvas">
                        <div class="zoom-wrapper" id="container-zoom-wrapper">
                            <svg class="connections-layer" id="container-connections-svg">
                                <defs>
                                    <marker id="container-arrowhead" markerWidth="10" markerHeight="7" 
                                        refX="10" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50" />
                                    </marker>
                                    <marker id="container-arrowhead-failure" markerWidth="10" markerHeight="7" 
                                        refX="10" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="#f44336" />
                                    </marker>
                                </defs>
                            </svg>
                            <div class="nodes-layer" id="container-nodes"></div>
                        </div>
                    </div>
                </div>
                <footer class="container-editor-footer">
                    <button id="container-editor-cancel" class="btn-cancel">Cancel</button>
                    <button id="container-editor-save" class="btn-save">\u{1F4BE} Save</button>
                </footer>
            </div>
        </div>`}function j6(t){let{project:e,nonce:r}=t;return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'unsafe-inline'; script-src 'nonce-${r}';">
    <title>ETL Designer - ${e.name}</title>
    <style>${B6()}</style>
</head>
<body>
    <div class="etl-designer">
        ${Hye(e.name)}

        <div class="main-content">
            ${Wye()}
            ${kye()}
            ${$ye()}
        </div>
    </div>

    ${Yye()}

    <script nonce="${r}">
        ${X6(e)}
    </script>
</body>
</html>`}var Je=q(require("vscode")),PS=class{constructor(e,r){this.projectManager=e;this.onUpdate=r}async configureNode(e){let r=this.projectManager.getNode(e);if(r)switch(r.type){case"sql":await this.configureSqlNode(r,e);break;case"python":await this.configurePythonNode(r,e);break;case"export":await this.configureExportNode(r,e);break;case"import":await this.configureImportNode(r,e);break;case"variable":await this.configureVariableNode(r,e);break}}getDefaultNodeName(e){return{sql:"SQL Task",python:"Python Script",container:"Container",export:"Export Data",import:"Import Data",variable:"Variable"}[e]||"New Task"}async configureSqlNode(e,r){let n=e.config,i=await Je.window.showInputBox({prompt:"Enter task name",value:e.name,placeHolder:"e.g. Load Customer Data"});if(i===void 0)return;let s=await Je.window.showInputBox({prompt:"Enter SQL query",value:n.query,placeHolder:"SELECT * FROM table_name"});if(s!==void 0){let o=await Je.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 60"}),a=o&&!isNaN(parseInt(o))?parseInt(o):void 0;this.projectManager.updateNode(r,{name:i,config:{...n,query:s,timeout:a}}),this.onUpdate()}}async configurePythonNode(e,r){let n=e.config,i=await Je.window.showInputBox({prompt:"Enter task name",value:e.name,placeHolder:"e.g. Transform Data"});if(i===void 0)return;let s=await Je.window.showQuickPick(["Enter script inline","Select script file"],{placeHolder:"How to provide the Python script?"});if(s==="Enter script inline"){let o=await Je.window.showInputBox({prompt:"Enter Python script",value:n.script,placeHolder:'print("Hello ETL")'});if(o!==void 0){let a=await Je.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 60"}),l=a&&!isNaN(parseInt(a))?parseInt(a):void 0;this.projectManager.updateNode(r,{name:i,config:{...n,script:o,scriptPath:void 0,timeout:l}}),this.onUpdate()}}else if(s==="Select script file"){let o=await Je.window.showOpenDialog({filters:{Python:["py"]},canSelectMany:!1});if(o&&o[0]){let a=await Je.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 60"}),l=a&&!isNaN(parseInt(a))?parseInt(a):void 0;this.projectManager.updateNode(r,{name:i,config:{...n,scriptPath:o[0].fsPath,script:"",timeout:l}}),this.onUpdate()}}}async configureExportNode(e,r){let n=e.config,i=await Je.window.showInputBox({prompt:"Enter task name",value:e.name,placeHolder:"e.g. Export to CSV"});if(i===void 0)return;let s=await Je.window.showQuickPick(["csv","xlsb"],{placeHolder:"Select output format"});if(s){let o=await Je.window.showSaveDialog({filters:s==="csv"?{CSV:["csv"]}:{"Excel Binary":["xlsb"]}});if(o){let a=await Je.window.showInputBox({prompt:"Enter SQL query for export",value:n.query||"",placeHolder:"SELECT * FROM table_name"});if(a!==void 0){let l=await Je.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 300"}),c=l&&!isNaN(parseInt(l))?parseInt(l):void 0;this.projectManager.updateNode(r,{name:i,config:{...n,format:s,outputPath:o.fsPath,query:a,timeout:c}}),this.onUpdate()}}}}async configureImportNode(e,r){let n=e.config,i=await Je.window.showInputBox({prompt:"Enter task name",value:e.name,placeHolder:"e.g. Import Products"});if(i===void 0)return;let s=await Je.window.showOpenDialog({filters:{"Data Files":["csv","xlsb"],CSV:["csv"],"Excel Binary":["xlsb"]},canSelectMany:!1});if(s&&s[0]){let o=s[0].fsPath,a=o.endsWith(".xlsb")?"xlsb":"csv",l=await Je.window.showInputBox({prompt:"Enter target table name",value:n.targetTable,placeHolder:"SCHEMA.TABLE_NAME"});if(l){let c=await Je.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 300"}),u=c&&!isNaN(parseInt(c))?parseInt(c):void 0;this.projectManager.updateNode(r,{name:i,config:{...n,format:a,inputPath:o,targetTable:l,timeout:u}}),this.onUpdate()}}}async configureVariableNode(e,r){let n=e.config,i=await Je.window.showInputBox({prompt:"Enter task name",value:e.name,placeHolder:"e.g. Get Date Filter"});if(i===void 0)return;let s=await Je.window.showInputBox({prompt:"Enter variable name (without ${})",value:n.variableName,placeHolder:"e.g. date_filter"});if(!s)return;let o=await Je.window.showQuickPick([{label:"Prompt User",value:"prompt",description:"Ask user for value at runtime"},{label:"Static Value",value:"static",description:"Use fixed value"},{label:"SQL Query",value:"sql",description:"Get value from database query"}],{placeHolder:"How should the variable value be set?"});if(!o)return;let a={...n,variableName:s,source:o.value};switch(o.value){case"prompt":{let l=await Je.window.showInputBox({prompt:"Enter prompt message to show user",value:n.promptMessage||`Enter value for ${s}`,placeHolder:"e.g. Enter date filter (YYYY-MM-DD)"}),c=await Je.window.showInputBox({prompt:"Enter default value (optional)",value:n.defaultValue||"",placeHolder:"e.g. 2024-01-01"});a={...a,promptMessage:l,defaultValue:c};break}case"static":{let l=await Je.window.showInputBox({prompt:"Enter static value",value:n.value||"",placeHolder:"e.g. 2024-06-15"});if(l===void 0)return;a={...a,value:l};break}case"sql":{let l=await Je.window.showInputBox({prompt:"Enter SQL query (must return single value)",value:n.query||"",placeHolder:"SELECT MAX(date) FROM sales_data"});if(!l)return;let c=await Je.window.showInputBox({prompt:"Enter timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 30"}),u=c&&!isNaN(parseInt(c))?parseInt(c):void 0;a={...a,query:l,timeout:u};break}}this.projectManager.updateNode(r,{name:i,config:a}),this.onUpdate()}};var Wn=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._context=r,this._projectManager=Is.getInstance(),this._nodeConfigurator=new PS(this._projectManager,()=>this._sendProjectUpdate()),this._executionEngine=new fE,this._executionEngine.registerExecutor("sql",new EE),this._executionEngine.registerExecutor("python",new hE),this._executionEngine.registerExecutor("export",new lS),this._executionEngine.registerExecutor("import",new bS),this._executionEngine.registerExecutor("container",new wS(this._executionEngine)),this._executionEngine.registerExecutor("variable",new LS);let i=n||this._projectManager.createProject("New ETL Project");this._updateWebview(i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(s=>this._handleMessage(s),null,this._disposables)}static{this.viewType="netezza.etlDesigner"}static setConnectionManager(e){t._connectionManager=e}static createOrShow(e,r){let n=ve.window.activeTextEditor?ve.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n),r&&t.currentPanel._updateProject(r);return}let i=ve.window.createWebviewPanel(t.viewType,"ETL Designer",n||ve.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[e.extensionUri]});t.currentPanel=new t(i,e,r)}async _handleMessage(e){let r=this._projectManager.getCurrentProject();switch(e.type){case"addNode":{let n=e.payload,i={id:lE(),type:n.type,name:this._nodeConfigurator.getDefaultNodeName(n.type),position:n.position,config:_w(n.type)};this._projectManager.addNode(i),this._sendProjectUpdate();break}case"confirmRemoveNode":{let n=e.payload;await ve.window.showWarningMessage("Delete this task?",{modal:!0},"Delete")==="Delete"&&(this._projectManager.removeNode(n),this._sendProjectUpdate());break}case"removeNode":{let n=e.payload;this._projectManager.removeNode(n),this._sendProjectUpdate();break}case"updateNodePosition":{let{nodeId:n,position:i}=e.payload;this._projectManager.updateNode(n,{position:i});break}case"updateNodeName":{let{nodeId:n,name:i}=e.payload;this._projectManager.updateNode(n,{name:i}),this._sendProjectUpdate();break}case"addConnection":{let{from:n,to:i}=e.payload;try{this._projectManager.addConnection({id:cE(),from:n,to:i}),this._sendProjectUpdate()}catch(s){ve.window.showErrorMessage(String(s))}break}case"confirmRemoveConnection":{let n=e.payload;await ve.window.showWarningMessage("Delete this connection?",{modal:!0},"Delete")==="Delete"&&(this._projectManager.removeConnection(n),this._sendProjectUpdate());break}case"removeConnection":{let n=e.payload;this._projectManager.removeConnection(n),this._sendProjectUpdate();break}case"toggleConnectionType":{let{connectionId:n,newType:i}=e.payload,s=r?.connections.find(o=>o.id===n);s&&(s.connectionType=i,this._sendProjectUpdate());break}case"configureNode":{let n=e.payload;await this._nodeConfigurator.configureNode(n);break}case"updateContainerNodes":{let{containerId:n,nodes:i,connections:s}=e.payload,o=this._projectManager.getNode(n);o&&o.type==="container"&&(this._projectManager.updateNode(n,{config:{type:"container",nodes:i,connections:s}}),this._sendProjectUpdate());break}case"configureContainerChildNode":{let{containerId:n,nodeId:i}=e.payload,s=this._projectManager.getNode(n);if(s&&s.type==="container"){let a=s.config.nodes.find(l=>l.id===i);a&&await this._configureContainerChildNode(n,a)}break}case"saveProject":{await this._saveProject();break}case"loadProject":{await this._loadProject();break}case"newProject":{let n=await ve.window.showInputBox({prompt:"Enter project name",value:"New ETL Project"});n&&(this._projectManager.createProject(n),this._sendProjectUpdate());break}case"runProject":{r&&await this._runProject(r);break}case"stopProject":{this._stopExecution();break}case"getProject":{this._sendProjectUpdate();break}}}async _saveProject(){if(!this._projectManager.getCurrentProject())return;let r=await ve.window.showSaveDialog({filters:{"ETL Project":["etl.json"]},defaultUri:this._projectManager.getProjectPath()?ve.Uri.file(this._projectManager.getProjectPath()):void 0});if(r)try{await this._projectManager.saveProject(r.fsPath),ve.window.showInformationMessage(`Project saved to ${r.fsPath}`)}catch(n){ve.window.showErrorMessage(`Failed to save project: ${n}`)}}async _loadProject(){let e=await ve.window.showOpenDialog({filters:{"ETL Project":["etl.json"]},canSelectMany:!1});if(e&&e[0])try{let r=await this._projectManager.loadProject(e[0].fsPath);this._updateWebview(r),ve.window.showInformationMessage(`Project loaded: ${r.name}`)}catch(r){ve.window.showErrorMessage(`Failed to load project: ${r}`)}}async _runProject(e){let r=this._projectManager.validateProject(e);if(r.length>0){ve.window.showErrorMessage(`Project validation failed:
${r.join(`
`)}`);return}let n=t._connectionManager;if(!n){ve.window.showErrorMessage("Connection manager not initialized. Please reload the extension.");return}let i=n.getActiveConnectionName();if(!i){ve.window.showErrorMessage("No active connection. Please connect to a database first.");return}let s=await n.getConnection(i);if(!s){ve.window.showErrorMessage(`Connection not found: ${i}`);return}let o=ve.window.createOutputChannel("ETL Execution");o.show(),this._cancellationTokenSource=new ve.CancellationTokenSource;let a=new DS(e.variables||{}),l={extensionContext:this._context,variables:e.variables||{},nodeOutputs:new Map,connectionDetails:s,cancellationToken:this._cancellationTokenSource.token,onProgress:c=>{o.appendLine(`[${new Date().toLocaleTimeString()}] ${c}`)},variableManager:a};this._executionEngine.onStatusChange((c,u,d)=>{this._panel.webview.postMessage({type:"nodeStatusUpdate",payload:{nodeId:c,status:u,message:d}})}),this._panel.webview.postMessage({type:"executionStarted"});try{o.appendLine(`Starting ETL Project: ${e.name}`),o.appendLine(`Connection: ${i}`),o.appendLine("---");let c=await this._executionEngine.execute(e,l);o.appendLine("---"),o.appendLine(`Execution ${c.status}`),o.appendLine(`Duration: ${c.endTime?((c.endTime.getTime()-c.startTime.getTime())/1e3).toFixed(2):"N/A"} seconds`),this._panel.webview.postMessage({type:"executionEnded",payload:{status:c.status==="completed"?"Completed \u2713":"Failed \u2717"}}),c.status==="completed"?ve.window.showInformationMessage("ETL project completed successfully!"):c.status==="failed"&&ve.window.showErrorMessage("ETL project failed. Check output for details.")}catch(c){o.appendLine(`Error: ${c}`),ve.window.showErrorMessage(`ETL execution error: ${c}`),this._panel.webview.postMessage({type:"executionEnded",payload:{status:"Error \u2717"}})}finally{this._cancellationTokenSource?.dispose(),this._cancellationTokenSource=void 0}}_stopExecution(){this._cancellationTokenSource&&(this._cancellationTokenSource.cancel(),ve.window.showInformationMessage("ETL execution cancellation requested..."))}_updateProject(e){this._projectManager.createProject(e.name);for(let r of e.nodes)this._projectManager.addNode(r);for(let r of e.connections)try{this._projectManager.addConnection(r)}catch{}this._updateWebview(e)}_updateWebview(e){this._panel.webview.html=this._getHtml(e)}_sendProjectUpdate(){let e=this._projectManager.getCurrentProject();e&&this._panel.webview.postMessage({type:"projectUpdate",payload:e})}async _configureContainerChildNode(e,r){let n=r.config,i=!1;switch(r.type){case"sql":{let s=await ve.window.showInputBox({prompt:"Enter task name",value:r.name});if(s===void 0)return;let o=await ve.window.showInputBox({prompt:"Enter SQL query",value:n.query||""});o!==void 0&&(r.name=s,n.query=o,i=!0);break}case"python":{let s=await ve.window.showInputBox({prompt:"Enter task name",value:r.name});if(s===void 0)return;let o=await ve.window.showInputBox({prompt:"Enter Python script",value:n.script||""});o!==void 0&&(r.name=s,n.script=o,i=!0);break}case"variable":{let s=await ve.window.showInputBox({prompt:"Enter task name",value:r.name});if(s===void 0)return;let o=await ve.window.showInputBox({prompt:"Enter variable name",value:n.variableName||""});o&&(r.name=s,n.variableName=o,i=!0);break}default:ve.window.showInformationMessage(`Configure ${r.type} nodes by double-clicking in the main designer.`);return}if(i){let s=this._projectManager.getNode(e);if(s&&s.type==="container"){let o=s.config,a=o.nodes.findIndex(l=>l.id===r.id);a>=0&&(o.nodes[a]=r,this._projectManager.updateNode(e,{config:o}),this._sendProjectUpdate(),this._panel.webview.postMessage({type:"containerChildUpdated",payload:{containerId:e,childNode:r}}))}}}_getHtml(e){return j6({project:e,nonce:this._getNonce()})}_getNonce(){let e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}};var Qd=q(require("vscode"));function jr(t){return`${t.dbName}.${t.schema}.${t.label}`}async function Ci(t,e){return await t.getConnection(e||t.getActiveConnectionName()||"")?!0:(Qd.window.showErrorMessage("No database connection"),!1)}async function mr(t,e){return Qd.window.withProgress({location:Qd.ProgressLocation.Notification,title:t,cancellable:!1},e)}function cy(t){return t.replace(/'/g,"''")}function uy(t){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t.trim())}var _r=q(require("vscode"));lr();function z6(t){let{context:e,connectionManager:r,schemaProvider:n}=t;return[_r.commands.registerCommand("netezza.copySelectAll",async i=>{if(i&&i.label&&i.dbName&&i.schema){let s=`SELECT * FROM ${i.dbName}.${i.schema}.${i.label} LIMIT 1000;`,o=await _r.window.showQuickPick([{label:"Open in Editor",description:"Open SQL in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy SQL to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the SQL?"});if(o)if(o.value==="editor"){let a=await _r.workspace.openTextDocument({content:s,language:"sql"});await _r.window.showTextDocument(a)}else await _r.env.clipboard.writeText(s),_r.window.showInformationMessage("Copied to clipboard")}}),_r.commands.registerCommand("netezza.copyDrop",async i=>{if(i&&i.label&&i.dbName&&i.schema&&i.objType){let s=jr(i),o=`DROP ${i.objType} ${s};`;if(await _r.window.showWarningMessage(`Are you sure you want to delete ${i.objType.toLowerCase()} "${s}"?`,{modal:!0},"Yes, delete","Cancel")==="Yes, delete")try{await mr(`Deleting ${i.objType.toLowerCase()} ${s}...`,async()=>{await Mr(e,o,!0,i.connectionName,r)}),_r.window.showInformationMessage(`Deleted ${i.objType.toLowerCase()}: ${s}`),n.refresh()}catch(l){let c=l instanceof Error?l.message:String(l);_r.window.showErrorMessage(`Error during deletion: ${c}`)}}}),_r.commands.registerCommand("netezza.copyName",i=>{if(i&&i.label&&i.dbName&&i.schema){let s=jr(i);_r.env.clipboard.writeText(s),_r.window.showInformationMessage("Copied to clipboard")}})]}var ke=q(require("vscode"));lr();function K6(t){let{context:e,connectionManager:r,metadataCache:n,schemaProvider:i}=t;return[ke.commands.registerCommand("netezza.grantPermissions",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType){let o=jr(s),a=await ke.window.showQuickPick([{label:"SELECT",description:"Privileges to read data"},{label:"INSERT",description:"Privileges to insert data"},{label:"UPDATE",description:"Privileges to update data"},{label:"DELETE",description:"Privileges to delete data"},{label:"ALL",description:"All privileges (SELECT, INSERT, UPDATE, DELETE)"},{label:"LIST",description:"Privileges to list objects"}],{placeHolder:"Select privilege type"});if(!a)return;let l=await ke.window.showInputBox({prompt:"Enter user or group name",placeHolder:"e.g. SOME_USER or GROUP_NAME",validateInput:d=>!d||d.trim().length===0?"User/group name cannot be empty":uy(d)?null:"Invalid user/group name"});if(!l)return;let c=`GRANT ${a.label} ON ${o} TO ${l.trim().toUpperCase()};`;if(await ke.window.showInformationMessage(`Execute: ${c}`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute"){if(!await Ci(r))return;try{await mr(`Granting ${a.label} on ${o}...`,async()=>{await Mr(e,c,!0,s.connectionName,r)}),ke.window.showInformationMessage(`Granted ${a.label} on ${o} to ${l.trim().toUpperCase()}`)}catch(d){let E=d instanceof Error?d.message:String(d);ke.window.showErrorMessage(`Error granting privileges: ${E}`)}}}}),ke.commands.registerCommand("netezza.addTableComment",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=jr(s),a=await ke.window.showInputBox({prompt:"Enter comment for table",placeHolder:"e.g. Table contains customer data",value:s.objectDescription||""});if(a===void 0)return;let l=`COMMENT ON TABLE ${o} IS '${cy(a)}';`;try{if(!await Ci(r))return;await Mr(e,l,!0,s.connectionName,r),ke.window.showInformationMessage(`Comment added to table: ${o}`),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);ke.window.showErrorMessage(`Error adding comment: ${u}`)}}}),ke.commands.registerCommand("netezza.addColumnComment",async s=>{if(s&&s.label&&s.dbName&&s.parentName){let o=s.label.split(" ")[0],a=s.parentName,l=s.schema||"ADMIN",c=`${s.dbName}.${l}.${a}.${o}`,u=await ke.window.showInputBox({prompt:`Enter comment for column "${o}"`,placeHolder:"e.g. Customer ID from CRM",value:s.objectDescription||""});if(u===void 0)return;let d=`COMMENT ON COLUMN ${c} IS '${cy(u)}';`;try{if(!await Ci(r))return;await Mr(e,d,!0,s.connectionName,r),ke.window.showInformationMessage(`Comment added to column: ${o}`),i.refresh()}catch(E){let f=E instanceof Error?E.message:String(E);ke.window.showErrorMessage(`Error adding comment: ${f}`)}}}),ke.commands.registerCommand("netezza.truncateTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=jr(s),a=`TRUNCATE TABLE ${o};`;if(await ke.window.showWarningMessage(`\u26A0\uFE0F WARNING: Are you sure you want to delete ALL data from the table "${o}"?

${a}

This operation is IRREVERSIBLE!`,{modal:!0},"Yes, delete all data","Cancel")==="Yes, delete all data"){if(!await Ci(r))return;try{await mr(`Clearing table ${o}...`,async()=>{await Mr(e,a,!0,s.connectionName,r)}),ke.window.showInformationMessage(`Table cleared: ${o}`)}catch(c){let u=c instanceof Error?c.message:String(c);ke.window.showErrorMessage(`Error clearing table: ${u}`)}}}}),ke.commands.registerCommand("netezza.addPrimaryKey",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=jr(s),a=await ke.window.showInputBox({prompt:"Enter primary key constraint name",placeHolder:`e.g. PK_${s.label}`,value:`PK_${s.label}`,validateInput:E=>!E||E.trim().length===0?"Constraint name cannot be empty":uy(E)?null:"Invalid constraint name"});if(!a)return;let l=await ke.window.showInputBox({prompt:"Enter primary key column names (comma separated)",placeHolder:"e.g. COL1, COL2 or ID",validateInput:E=>!E||E.trim().length===0?"You must provide at least one column":null});if(!l)return;let c=l.split(",").map(E=>E.trim().toUpperCase()).join(", "),u=`ALTER TABLE ${o} ADD CONSTRAINT ${a.trim().toUpperCase()} PRIMARY KEY (${c});`;if(await ke.window.showInformationMessage(`Add primary key to table "${o}"?

${u}`,{modal:!0},"Yes, add","Cancel")==="Yes, add"){if(!await Ci(r))return;try{await mr(`Adding primary key to ${o}...`,async()=>{await Mr(e,u,!0,s.connectionName,r)}),ke.window.showInformationMessage(`Primary key added: ${a.trim().toUpperCase()}`),i.refresh()}catch(E){let f=E instanceof Error?E.message:String(E);ke.window.showErrorMessage(`Error adding primary key: ${f}`)}}}}),ke.commands.registerCommand("netezza.changeOwner",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=jr(s),a=await ke.window.showInputBox({prompt:"Enter new owner name",placeHolder:"e.g. USER_NAME or GROUP_NAME"});if(!a)return;let l=`ALTER TABLE ${o} OWNER TO ${a.trim()};`;try{if(!await Ci(r))return;await Mr(e,l,!0,s.connectionName,r),ke.window.showInformationMessage(`Owner changed to ${a} for ${o}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);ke.window.showErrorMessage(`Error changing owner: ${u}`)}}}),ke.commands.registerCommand("netezza.renameTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=jr(s),a=await ke.window.showInputBox({prompt:"Enter new table name",placeHolder:"NewTableName",value:s.label});if(!a||a===s.label)return;let l=`ALTER TABLE ${o} RENAME TO ${a.trim()};`;try{if(!await Ci(r))return;await Mr(e,l,!0,s.connectionName,r),ke.window.showInformationMessage(`Table renamed to ${a}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);ke.window.showErrorMessage(`Error renaming table: ${u}`)}}})]}var Qe=q(require("vscode"));lr();function s3(t){let{context:e,connectionManager:r}=t;return[Qe.commands.registerCommand("netezza.groomTable",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=jr(n),s=await Qe.window.showQuickPick([{label:"RECORDS ALL",description:"Groom all records (reclaim space from deleted rows)"},{label:"RECORDS READY",description:"Groom only ready records"},{label:"PAGES ALL",description:"Groom all pages (reorganize data pages)"},{label:"PAGES START",description:"Groom pages from start"},{label:"VERSIONS",description:"Groom versions (clean up old row versions)"}],{placeHolder:"Select GROOM mode"});if(!s)return;let o=await Qe.window.showQuickPick([{label:"DEFAULT",description:"Use default backupset",value:"DEFAULT"},{label:"NONE",description:"No backupset",value:"NONE"},{label:"Custom",description:"Specify custom backupset ID",value:"CUSTOM"}],{placeHolder:"Select RECLAIM BACKUPSET option"});if(!o)return;let a=o.value;if(o.value==="CUSTOM"){let u=await Qe.window.showInputBox({prompt:"Enter backupset ID",placeHolder:"e.g. 12345",validateInput:d=>!d||d.trim().length===0?"Backupset ID cannot be empty":/^\d+$/.test(d.trim())?null:"Backupset ID must be a number"});if(!u)return;a=u.trim()}let l=`GROOM TABLE ${i} ${s.label} RECLAIM BACKUPSET ${a};`;if(await Qe.window.showWarningMessage(`Execute GROOM on table "${i}"?

${l}

Warning: This operation may be time-consuming for large tables.`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{let u=Date.now();await mr(`GROOM TABLE ${i} (${s.label})...`,async()=>{await Mr(e,l,!0,n.connectionName,r)});let d=((Date.now()-u)/1e3).toFixed(1);Qe.window.showInformationMessage(`GROOM completed successfully (${d}s): ${i}`)}catch(u){let d=u instanceof Error?u.message:String(u);Qe.window.showErrorMessage(`Error during GROOM: ${d}`)}}}),Qe.commands.registerCommand("netezza.generateStatistics",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=jr(n),s=`GENERATE EXPRESS STATISTICS ON ${i};`;if(await Qe.window.showInformationMessage(`Generate statistics for table "${i}"?

${s}`,{modal:!0},"Yes, generate","Cancel")==="Yes, generate")try{let a=Date.now();await mr(`Generating statistics for ${i}...`,async()=>{await Mr(e,s,!0,n.connectionName,r)});let l=((Date.now()-a)/1e3).toFixed(1);Qe.window.showInformationMessage(`Statistics generated successfully (${l}s): ${i}`)}catch(a){let l=a instanceof Error?a.message:String(a);Qe.window.showErrorMessage(`Error generating statistics: ${l}`)}}}),Qe.commands.registerCommand("netezza.checkSkew",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=jr(n),s=`SELECT datasliceid, count(*) as row_count FROM ${i} GROUP BY 1 ORDER BY 1;`;if(await Qe.window.showInformationMessage(`Check skew for "${i}"?

This will run: ${s}

Note: This may be slow on very large tables.`,{modal:!0},"Yes, check skew","Cancel")==="Yes, check skew"){let a=await Qe.workspace.openTextDocument({content:`-- Check Skew for ${i}
${s}`,language:"sql"});await Qe.window.showTextDocument(a),Qe.commands.executeCommand("netezza.runQuery")}}}),Qe.commands.registerCommand("netezza.recreateTable",async n=>{if(!n||!n.label||!n.dbName||!n.schema||!n.objType||n.objType!=="TABLE"){Qe.window.showErrorMessage("Invalid object selected for Recreate Table");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){Qe.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=await Qe.window.showInputBox({prompt:"Enter temporary table name (Optional)",placeHolder:"Leave empty to auto-generate timestamped name",value:""});if(s!==void 0)try{await mr(`Generating Recreate Script for ${n.label}...`,async()=>{let{generateRecreateTableScript:o}=await Promise.resolve().then(()=>(i3(),n3)),a=await o(i,n.dbName,n.schema,n.label,s||void 0);if(a.success&&a.sqlScript){let l=await Qe.workspace.openTextDocument({content:a.sqlScript,language:"sql"});await Qe.window.showTextDocument(l),Qe.window.showInformationMessage(`Recreate script generated for ${n.label}`)}else throw new Error(a.error||"Script generation failed")})}catch(o){let a=o instanceof Error?o.message:String(o);Qe.window.showErrorMessage(`Error generating recreate script: ${a}`)}})]}var ge=q(require("vscode"));lr();function l3(t){let{context:e,connectionManager:r}=t;return[ge.commands.registerCommand("netezza.createDDL",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){ge.window.showErrorMessage("Invalid object selected for DDL generation");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){ge.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}await mr(`Generating DDL for ${n.objType} ${n.label}...`,async()=>{let{generateDDL:s}=await Promise.resolve().then(()=>(tf(),Ey)),o=await s(i,n.dbName,n.schema,n.label,n.objType);if(o.success&&o.ddlCode){let a=await ge.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the DDL code?"});if(a)if(a.value==="editor"){let l=await ge.workspace.openTextDocument({content:o.ddlCode,language:"sql"});await ge.window.showTextDocument(l),ge.window.showInformationMessage(`DDL code generated for ${n.objType} ${n.label}`)}else a.value==="clipboard"&&(await ge.env.clipboard.writeText(o.ddlCode),ge.window.showInformationMessage("DDL code copied to clipboard"))}else throw new Error(o.error||"DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);ge.window.showErrorMessage(`Error generating DDL: ${s}`)}}),ge.commands.registerCommand("netezza.compareSchema",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){ge.window.showErrorMessage("Invalid object selected for comparison");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){ge.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=n.objType,o=`${n.dbName}.${n.schema}.${n.label}`,a=[];if(await mr(`Loading ${s}s for comparison...`,async()=>{let c=s==="PROCEDURE"?"OBJTYPE = 'PROCEDURE'":s==="VIEW"?"OBJTYPE = 'VIEW'":"OBJTYPE = 'TABLE'",u=s==="PROCEDURE"?`SELECT DISTINCT SCHEMA, PROCEDURESIGNATURE AS OBJNAME FROM ${n.dbName}.._V_PROCEDURE WHERE DATABASE = '${n.dbName.toUpperCase()}' ORDER BY SCHEMA, PROCEDURESIGNATURE`:`SELECT SCHEMA, OBJNAME FROM ${n.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${n.dbName.toUpperCase()}' AND ${c} ORDER BY SCHEMA, OBJNAME`,d=await oe(e,u,!0,r,n.connectionName);if(d&&d.data&&d.data.length>0){let E=Ee(d);for(let f of E){let T=f.OBJNAME,h=f.SCHEMA;`${n.dbName}.${h}.${T}`.toUpperCase()!==o.toUpperCase()&&a.push({label:T,description:`${n.dbName}.${h}`,db:n.dbName,schema:h,name:T})}}}),a.length===0){ge.window.showWarningMessage(`No other ${s}s found to compare with.`);return}let l=await ge.window.showQuickPick(a,{placeHolder:`Select ${s} to compare with ${n.label}`,matchOnDescription:!0});if(!l)return;await mr(`Comparing ${n.label} with ${l.label}...`,async()=>{if(s==="PROCEDURE"){let{compareProcedures:c}=await Promise.resolve().then(()=>(Ty(),hy)),{SchemaCompareView:u}=await Promise.resolve().then(()=>(Ry(),Sy)),d=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,d,"procedure")}else{let{compareTableStructures:c}=await Promise.resolve().then(()=>(Ty(),hy)),{SchemaCompareView:u}=await Promise.resolve().then(()=>(Ry(),Sy)),d=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,d,"table")}}),ge.window.showInformationMessage(`Comparison complete: ${n.label} \u2194 ${l.label}`)}catch(i){let s=i instanceof Error?i.message:String(i);ge.window.showErrorMessage(`Error comparing objects: ${s}`)}}),ge.commands.registerCommand("netezza.batchExportDDL",async n=>{try{if(!n||!n.contextValue){ge.window.showErrorMessage("Invalid node selected for batch DDL export");return}let i=n.contextValue==="database",s=n.contextValue.startsWith("typeGroup:");if(!i&&!s){ge.window.showErrorMessage("Batch DDL export is only available on database or object type nodes");return}let o=await r.getConnection(r.getActiveConnectionName()||"");if(!o){ge.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let a=n.dbName||n.label,l=s?[n.objType||n.contextValue.replace("typeGroup:","")]:void 0;await mr(i?`Exporting all DDL for database ${a}...`:`Exporting ${l?.[0]} DDL for ${a}...`,async()=>{let{generateBatchDDL:c}=await Promise.resolve().then(()=>(tf(),Ey)),u=await c({connectionDetails:o,database:a,objectTypes:l});if(u.success&&u.ddlCode){let d=await ge.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Save to File",description:"Save DDL code to a .sql file",value:"file"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:`${u.objectCount} objects found. How would you like to access the DDL code?`});if(d)if(d.value==="editor"){let E=await ge.workspace.openTextDocument({content:u.ddlCode,language:"sql"});await ge.window.showTextDocument(E),ge.window.showInformationMessage(`DDL exported: ${u.objectCount} objects`)}else if(d.value==="file"){let E=i?`${a}_all_ddl.sql`:`${a}_${l?.[0]?.toLowerCase()||"objects"}_ddl.sql`,f=await ge.window.showSaveDialog({defaultUri:ge.Uri.file(E),filters:{"SQL Files":["sql"]}});f&&(await ge.workspace.fs.writeFile(f,Buffer.from(u.ddlCode,"utf8")),ge.window.showInformationMessage(`DDL saved to ${f.fsPath}`))}else d.value==="clipboard"&&(await ge.env.clipboard.writeText(u.ddlCode),ge.window.showInformationMessage(`DDL copied: ${u.objectCount} objects`));u.errors.length>0&&ge.window.showWarningMessage(`Batch DDL completed with ${u.errors.length} error(s). Check the generated file for details.`)}else throw new Error(u.errors.join(", ")||"Batch DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);ge.window.showErrorMessage(`Error exporting DDL: ${s}`)}})]}var sn=q(require("vscode"));lr();function S3(t){let{context:e,connectionManager:r}=t;return[sn.commands.registerCommand("netezza.showERD",async n=>{try{if(!n||!n.contextValue||!n.contextValue.startsWith("typeGroup:")){sn.window.showErrorMessage("Please right-click on a TABLE type group to show ERD");return}let i=n.dbName||n.label,s=n.connectionName;if(!s){sn.window.showErrorMessage("No connection selected");return}let o=`SELECT DISTINCT SCHEMA FROM ${i}.._V_TABLE ORDER BY SCHEMA`,a=await oe(e,o,!0,r,s);if(!a||!a.data){sn.window.showErrorMessage("Could not retrieve schemas");return}let l=Ee(a);if(l.length===0){sn.window.showWarningMessage("No tables found in this database");return}let c;if(l.length===1)c=l[0].SCHEMA;else{let E=l.map(T=>({label:T.SCHEMA,description:`${i}.${T.SCHEMA}`})),f=await sn.window.showQuickPick(E,{placeHolder:"Select schema to show ERD for"});if(!f)return;c=f.label}let u=0,d=0;await mr(`Building ERD for ${i}.${c}...`,async E=>{let{buildERDData:f}=await Promise.resolve().then(()=>(f3(),d3)),{ERDView:T}=await Promise.resolve().then(()=>(h3(),E3)),h=await f(e,r,s,i,c,E);u=h.tables.length,d=h.relationships.length,T.createOrShow(e.extensionUri,h)}),sn.window.showInformationMessage(`ERD generated: ${u} tables, ${d} relationships`)}catch(i){let s=i instanceof Error?i.message:String(i);sn.window.showErrorMessage(`Error generating ERD: ${s}`)}}),sn.commands.registerCommand("netezza.showSessionMonitor",async()=>{try{if(!await Ci(r)){sn.window.showErrorMessage("Please connect to a Netezza database first.");return}let{SessionMonitorView:n}=await Promise.resolve().then(()=>(p3(),T3));n.createOrShow(e.extensionUri,e,r)}catch(n){let i=n instanceof Error?n.message:String(n);sn.window.showErrorMessage(`Error opening Session Monitor: ${i}`)}})]}var yt=q(require("vscode"));lr();function R3(t){let{context:e,connectionManager:r,metadataCache:n,schemaTreeView:i}=t;return[yt.commands.registerCommand("netezza.revealInSchema",async s=>{let o=yt.window.setStatusBarMessage(`$(loading~spin) Revealing ${s.name} in schema...`);try{let a,l=yt.window.activeTextEditor;if(l&&l.document.languageId==="sql"&&(a=r.getConnectionForExecution(l.document.uri.toString())),a||(a=s.connectionName),a||(a=r.getActiveConnectionName()||void 0),!a){o.dispose(),yt.window.showWarningMessage("No active connection. Please select a connection first.");return}let c=s.name,u=s.objType;if(u==="COLUMN"){if(!s.parent){o.dispose(),yt.window.showWarningMessage("Cannot find column without parent table");return}c=s.parent}if(s.database){let f=n.findObjectWithType(a,s.database,s.schema,c);if(f){let T=new Jt(f.name,yt.TreeItemCollapsibleState.Collapsed,`netezza:${f.objType}`,s.database,f.objType,f.schema||s.schema,f.objId,void 0,a);await i.reveal(T,{select:!0,focus:!0,expand:!0}),o.dispose(),yt.window.setStatusBarMessage(`$(check) Found ${c} in ${s.database}.${f.schema||s.schema} (cached)`,3e3);return}else n.hasConnectionPrefetchTriggered(a)||n.triggerConnectionPrefetch(a,async T=>oe(e,T,!0,r,a))}if(!await r.getConnection(a)){o.dispose(),yt.window.showWarningMessage("Not connected to database and object not found in cache.");return}let E=s.database||await r.getCurrentDatabase(a);if(E){let f=u&&u!=="COLUMN"?`AND UPPER(OBJTYPE) = UPPER('${u}')`:"",T=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",h=`
                        SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                        FROM ${E}.._V_OBJECT_DATA 
                        WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                        AND DBNAME = '${E}'
                        ${f}
                        ${T}
                        LIMIT 1
                    `;try{let p=await oe(e,h,!0,r,a);if(p&&p.data){let S=Ee(p);if(S.length>0){let m=S[0];if(m.OBJTYPE==="PROCEDURE")try{let A=`SELECT PROCEDURESIGNATURE FROM ${E}.._V_PROCEDURE WHERE OBJID = ${m.OBJID}`,g=await oe(e,A,!0,r,a);if(g&&g.data&&g.data.length>0){let w=Ee(g);w.length>0&&w[0].PROCEDURESIGNATURE&&(m.OBJNAME=w[0].PROCEDURESIGNATURE)}}catch(A){console.warn("Failed to resolve procedure signature:",A)}let R=new Jt(m.OBJNAME,yt.TreeItemCollapsibleState.Collapsed,`netezza:${m.OBJTYPE}`,E,m.OBJTYPE,m.SCHEMA,m.OBJID,void 0,a);await i.reveal(R,{select:!0,focus:!0,expand:!0}),o.dispose(),yt.window.setStatusBarMessage(`$(check) Found ${c} in ${E}.${m.SCHEMA}`,3e3);return}}}catch(p){console.log(`Error searching in ${E}:`,p)}}if(!E){let f=await oe(e,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,r,a);if(f&&f.data){let T=Ee(f);for(let h of T){let p=h.DATABASE;try{let S=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",m=`
                                    SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                                    FROM ${p}.._V_OBJECT_DATA 
                                    WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                                    AND DBNAME = '${p}'
                                    ${S}
                                    LIMIT 1
                                `,R=await oe(e,m,!0,r,a);if(R&&R.data){let A=Ee(R);if(A.length>0){let g=A[0];if(g.OBJTYPE==="PROCEDURE")try{let I=`SELECT PROCEDURESIGNATURE FROM ${p}.._V_PROCEDURE WHERE OBJID = ${g.OBJID}`,D=await oe(e,I,!0,r,a);if(D&&D.data&&D.data.length>0){let b=Ee(D);b.length>0&&b[0].PROCEDURESIGNATURE&&(g.OBJNAME=b[0].PROCEDURESIGNATURE)}}catch(I){console.warn("Failed to resolve procedure signature:",I)}let w=new Jt(g.OBJNAME,yt.TreeItemCollapsibleState.Collapsed,`netezza:${g.OBJTYPE}`,p,g.OBJTYPE,g.SCHEMA,g.OBJID,void 0,a);await i.reveal(w,{select:!0,focus:!0,expand:!0}),o.dispose(),yt.window.setStatusBarMessage(`$(check) Found ${c} in ${p}.${g.SCHEMA}`,3e3);return}}}catch(S){console.log(`Error searching in ${p}:`,S)}}}}o.dispose(),yt.window.showWarningMessage(`Could not find ${u||"object"} ${c}`)}catch(a){o.dispose();let l=a instanceof Error?a.message:String(a);yt.window.showErrorMessage(`Error revealing item: ${l}`)}}),yt.commands.registerCommand("netezza.showQueryHistory",()=>{yt.commands.executeCommand("netezza.queryHistory.focus")}),yt.commands.registerCommand("netezza.clearQueryHistory",async()=>{let{QueryHistoryManager:s}=await Promise.resolve().then(()=>($f(),ow)),o=new s(e);await yt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await o.clearHistory(),yt.window.showInformationMessage("Query history cleared"))})]}function GS(t){return[...z6(t),...K6(t),...s3(t),...l3(t),...S3(t),...R3(t)]}var j=q(require("vscode")),Cy=q(require("path")),nf=q(require("os"));function rf(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}function y3(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[j.commands.registerCommand("netezza.exportToXlsb",async()=>{let i=j.window.activeTextEditor;if(!i){j.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){j.window.showWarningMessage("No SQL query to export");return}let a=await j.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),d=await r.getConnection(u||"");if(!d)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await j.window.withProgress({location:j.ProgressLocation.Notification,title:"Exporting to XLSB...",cancellable:!1},async E=>{let{exportQueryToXlsb:f}=await Promise.resolve().then(()=>(Ii(),as)),T=await f(d,o,a.fsPath,!1,h=>{E.report({message:h}),n.appendLine(`[XLSB Export] ${h}`)});if(!T.success)throw new Error(T.message)}),rf(n,"Export to XLSB",l),j.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);j.window.showErrorMessage(`Error exporting to XLSB: ${u}`)}}),j.commands.registerCommand("netezza.exportToCsv",async()=>{let i=j.window.activeTextEditor;if(!i){j.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){j.window.showWarningMessage("No SQL query to export");return}let a=await j.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export to CSV"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),d=await r.getConnection(u||"");if(!d)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await j.window.withProgress({location:j.ProgressLocation.Notification,title:"Exporting to CSV...",cancellable:!1},async E=>{let{exportToCsv:f}=await Promise.resolve().then(()=>(cA(),bw));await f(e,d,o,a.fsPath,E)}),rf(n,"Export to CSV",l),j.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);j.window.showErrorMessage(`Error exporting to CSV: ${u}`)}}),j.commands.registerCommand("netezza.copyXlsbToClipboard",async()=>{let i=j.window.activeTextEditor;if(!i){j.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){j.window.showWarningMessage("No SQL query to export");return}try{let a=i.document.uri.toString(),l=r.getConnectionForExecution(a),c=await r.getConnection(l||"");if(!c)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let u=Date.now();if(await j.window.withProgress({location:j.ProgressLocation.Notification,title:"Exporting to XLSB and copying to clipboard...",cancellable:!1},async E=>{let{exportQueryToXlsb:f,getTempFilePath:T}=await Promise.resolve().then(()=>(Ii(),as)),h=T(),p=await f(c,o,h,!0,S=>{E.report({message:S}),n.appendLine(`[XLSB Clipboard] ${S}`)});if(!p.success)throw new Error(p.message);if(!p.details?.clipboard_success)throw new Error("Failed to copy file to clipboard")}),rf(n,"Copy XLSB to Clipboard",u),await j.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let E=nf.tmpdir();await j.env.openExternal(j.Uri.file(E))}}catch(a){let l=a instanceof Error?a.message:String(a);j.window.showErrorMessage(`Error copying XLSB to clipboard: ${l}`)}}),j.commands.registerCommand("netezza.exportToXlsbAndOpen",async()=>{let i=j.window.activeTextEditor;if(!i){j.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){j.window.showWarningMessage("No SQL query to export");return}let a=await j.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB and Open"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),d=await r.getConnection(u||"");if(!d)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await j.window.withProgress({location:j.ProgressLocation.Notification,title:"Exporting to XLSB and opening...",cancellable:!1},async E=>{let{exportQueryToXlsb:f}=await Promise.resolve().then(()=>(Ii(),as)),T=await f(d,o,a.fsPath,!1,h=>{E.report({message:h}),n.appendLine(`[XLSB Export] ${h}`)});if(!T.success)throw new Error(T.message)}),rf(n,"Export to XLSB and Open",l),await j.env.openExternal(a),j.window.showInformationMessage(`Results exported and opened: ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);j.window.showErrorMessage(`Error exporting to XLSB: ${u}`)}}),j.commands.registerCommand("netezza.exportCurrentResultToXlsbAndOpen",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){j.window.showErrorMessage("No data to export");return}let o=i;if(Array.isArray(i)&&i.length>1){let d=await j.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!d)return;if(d==="Export Active Result Only"){let E=i.find(f=>f.isActive);E?o=[E]:o=[i[0]]}}let a=new Date().toISOString().replace(/[:.]/g,"-"),l=Cy.join(nf.tmpdir(),`netezza_results_${a}.xlsb`),c=Date.now();await j.window.withProgress({location:j.ProgressLocation.Notification,title:"Creating Excel file...",cancellable:!1},async d=>{if(Array.isArray(o)&&o.length>0&&"columns"in o[0]&&"rows"in o[0]){let{exportStructuredToXlsb:f}=await Promise.resolve().then(()=>(Ii(),as)),T=await f(o,l,!1,h=>{d.report({message:h}),n.appendLine(`[Structured to XLSB] ${h}`)});if(!T.success)throw new Error(T.message)}else{let{exportCsvToXlsb:f}=await Promise.resolve().then(()=>(Ii(),as)),T=await f(o,l,!1,{source:"Query Results Panel",sql:s},h=>{d.report({message:h}),n.appendLine(`[CSV to XLSB] ${h}`)});if(!T.success)throw new Error(T.message)}});let u=Date.now()-c;n.appendLine(`[${new Date().toLocaleTimeString()}] Export Current Result to Excel completed in ${u}ms`),await j.env.openExternal(j.Uri.file(l)),j.window.showInformationMessage(`Results exported and opened: ${l}`)}catch(o){let a=o instanceof Error?o.message:String(o);j.window.showErrorMessage(`Error exporting to Excel: ${a}`)}}),j.commands.registerCommand("netezza.copyCurrentResultToXlsbClipboard",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){j.window.showErrorMessage("No data to copy");return}let o=i;if(Array.isArray(i)&&i.length>1){let d=await j.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!d)return;if(d==="Export Active Result Only"){let E=i.find(f=>f.isActive);E?o=[E]:o=[i[0]]}}let{getTempFilePath:a}=await Promise.resolve().then(()=>(Ii(),as)),l=a(),c=Date.now();if(await j.window.withProgress({location:j.ProgressLocation.Notification,title:"Copying to clipboard as Excel...",cancellable:!1},async d=>{if(Array.isArray(o)&&o.length>0&&"columns"in o[0]&&"rows"in o[0]){let{exportStructuredToXlsb:f}=await Promise.resolve().then(()=>(Ii(),as)),T=await f(o,l,!0,h=>{d.report({message:h}),n.appendLine(`[Clipboard Structured XLSB] ${h}`)});if(!T.success)throw new Error(T.message)}else{let{exportCsvToXlsb:f}=await Promise.resolve().then(()=>(Ii(),as)),T=await f(o,l,!0,{source:"Query Results Panel",sql:s},h=>{d.report({message:h}),n.appendLine(`[Clipboard XLSB] ${h}`)});if(!T.success)throw new Error(T.message)}}),rf(n,"Copy Result as Excel",c),await j.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let d=nf.tmpdir();await j.env.openExternal(j.Uri.file(d))}}catch(o){let a=o instanceof Error?o.message:String(o);j.window.showErrorMessage(`Error copying to Excel: ${a}`)}}),j.commands.registerCommand("netezza.exportCurrentResultToXlsxAndOpen",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){j.window.showErrorMessage("No data to export");return}let o=i;if(Array.isArray(i)&&i.length>1){let d=await j.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!d)return;if(d==="Export Active Result Only"){let E=i.find(f=>f.isActive);E?o=[E]:o=[i[0]]}}let a=new Date().toISOString().replace(/[:.]/g,"-"),l=Cy.join(nf.tmpdir(),`netezza_results_${a}.xlsx`),c=Date.now();await j.window.withProgress({location:j.ProgressLocation.Notification,title:"Creating Excel XLSX file...",cancellable:!1},async d=>{if(Array.isArray(o)&&o.length>0&&"columns"in o[0]&&"rows"in o[0]){let{exportStructuredToXlsx:f}=await Promise.resolve().then(()=>(Oy(),Ny)),T=await f(o,l,!1,h=>{d.report({message:h}),n.appendLine(`[Structured to XLSX] ${h}`)});if(!T.success)throw new Error(T.message)}else{let{exportCsvToXlsx:f}=await Promise.resolve().then(()=>(Oy(),Ny)),T=await f(o,l,!1,{source:"Query Results Panel",sql:s},h=>{d.report({message:h}),n.appendLine(`[CSV to XLSX] ${h}`)});if(!T.success)throw new Error(T.message)}});let u=Date.now()-c;n.appendLine(`[${new Date().toLocaleTimeString()}] Export Current Result to XLSX completed in ${u}ms`),await j.env.openExternal(j.Uri.file(l)),j.window.showInformationMessage(`Results exported and opened: ${l}`)}catch(o){let a=o instanceof Error?o.message:String(o);j.window.showErrorMessage(`Error exporting to Excel XLSX: ${a}`)}})]}var Ne=q(require("vscode")),U3=q(require("path"));lr();function M3(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}async function v3(t,e,r){try{let i=await oe(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,r,e);if(i&&i.data){let s=Ee(i);if(s&&s.length>0){let o=s[0].CURRENT_CATALOG||"SYSTEM",a=s[0].CURRENT_SCHEMA||"ADMIN",c=new Date().toISOString().slice(0,10).replace(/-/g,""),u=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${o}.${a}.IMPORT_${c}_${u}`}}}catch(n){Ne.window.showErrorMessage(`Error getting current database/schema: ${n instanceof Error?n.message:String(n)}`)}return null}function B3(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[Ne.commands.registerCommand("netezza.importClipboard",async()=>{try{let s=Ne.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnection(o||"");if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await Ne.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:E=>!E||E.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(E.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(l===void 0)return;let c;if(!l||l.trim().length===0){let E=await v3(e,o,r);if(!E)return;c=E,Ne.window.showInformationMessage(`Auto-generated table name: ${c}`)}else c=l.trim();let u=await Ne.window.showQuickPick([{label:"Auto-detect",description:"Automatically detect clipboard format (text or Excel XML)",value:null},{label:"Excel XML Spreadsheet",description:"Force Excel XML format processing",value:"XML Spreadsheet"},{label:"Plain Text",description:"Force plain text processing with delimiter detection",value:"TEXT"}],{placeHolder:"Select clipboard data format"});if(!u)return;let d=Date.now();await Ne.window.withProgress({location:Ne.ProgressLocation.Notification,title:"Importing clipboard data...",cancellable:!1},async E=>{let{importClipboardDataToNetezza:f}=await Promise.resolve().then(()=>(x3(),P3)),T="",h=await f(c,a,u.value,{},(p,S,m=!0)=>{E.report({message:p,increment:S}),m&&p!==T&&(n.appendLine(`[Clipboard Import] ${p}`),T=p)});if(!h.success)throw new Error(h.message);h.details&&(n.appendLine(`[Clipboard Import] Rows processed: ${h.details.rowsProcessed}`),n.appendLine(`[Clipboard Import] Columns: ${h.details.columns}`),n.appendLine(`[Clipboard Import] Format: ${h.details.format}`))}),M3(n,"Import Clipboard Data",d),Ne.window.showInformationMessage(`Clipboard data imported successfully to table: ${c}`,"Copy Table Name").then(E=>{E==="Copy Table Name"&&(Ne.env.clipboard.writeText(c),Ne.window.showInformationMessage("Table name copied to clipboard"))})}catch(i){Ne.window.showErrorMessage(`Error importing clipboard data: ${i instanceof Error?i.message:String(i)}`)}}),Ne.commands.registerCommand("netezza.importData",async()=>{try{let s=Ne.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnection(o||"");if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await Ne.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Data Files":["csv","txt","xlsx","xlsb","json"],"CSV Files":["csv"],"Excel Files":["xlsx","xlsb"],"Text Files":["txt"],"JSON Files":["json"],"All Files":["*"]},openLabel:"Select file to import"});if(!l||l.length===0)return;let c=l[0].fsPath,u=await Ne.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:T=>!T||T.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(T.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(u===void 0)return;let d;if(!u||u.trim().length===0){let T=await v3(e,o,r);if(!T)return;d=T,Ne.window.showInformationMessage(`Auto-generated table name: ${d}`)}else d=u.trim();let E=await Ne.window.showQuickPick([{label:"Default Import",description:"Use default settings",value:{}},{label:"Custom Options",description:"Configure import settings (coming soon)",value:null}],{placeHolder:"Select import options"});if(!E)return;if(E.value===null){Ne.window.showInformationMessage("Custom options will be available in future version");return}let f=Date.now();await Ne.window.withProgress({location:Ne.ProgressLocation.Notification,title:"Importing data...",cancellable:!1},async T=>{let{importDataToNetezza:h}=await Promise.resolve().then(()=>(yS(),M6)),p="",S=await h(c,d,a,(m,R,A=!0)=>{T.report({message:m,increment:R}),A&&m!==p&&(n.appendLine(`[Import] ${m}`),p=m)});if(!S.success)throw new Error(S.message);S.details&&(n.appendLine(`[Import] Rows processed: ${S.details.rowsProcessed}`),n.appendLine(`[Import] Columns: ${S.details.columns}`),n.appendLine(`[Import] Delimiter: ${S.details.detectedDelimiter}`))}),M3(n,"Import Data",f),Ne.window.showInformationMessage(`Data imported successfully to table: ${d}`,"Copy Table Name").then(T=>{T==="Copy Table Name"&&(Ne.env.clipboard.writeText(d),Ne.window.showInformationMessage("Table name copied to clipboard"))})}catch(i){Ne.window.showErrorMessage(`Error importing data: ${i instanceof Error?i.message:String(i)}`)}}),Ne.commands.registerCommand("netezza.smartPaste",async()=>{try{let i=Ne.window.activeTextEditor;if(!i)return;let o=Ne.workspace.getConfiguration("netezza").get("pythonPath")||"python",a=U3.join(e.extensionPath,"python","check_clipboard_format.py"),l=require("child_process");if(await new Promise(u=>{let d=l.spawn(o,[a]);d.on("close",E=>{u(E===1)}),d.on("error",()=>{u(!1)})})){let u=await Ne.window.showQuickPick([{label:"\u{1F4CA} import to Netezza table",description:'Detected "XML Spreadsheet" format - import data to database',value:"import"},{label:"\u{1F4DD} Paste as text",description:"Paste clipboard content as plain text",value:"paste"}],{placeHolder:'Detected "XML Spreadsheet" format in clipboard - choose an action'});if(u?.value==="import")Ne.commands.executeCommand("netezza.importClipboard");else if(u?.value==="paste"){let d=await Ne.env.clipboard.readText(),E=i.selection;await i.edit(f=>{f.replace(E,d)})}}else{let u=await Ne.env.clipboard.readText(),d=i.selection;await i.edit(E=>{E.replace(d,u)})}}catch(i){Ne.window.showErrorMessage(`Error during paste: ${i instanceof Error?i.message:String(i)}`)}})]}var ce=q(require("vscode"));lr();lo();function by(t){return t&&(t.includes(" ")?`"${t.replace(/"/g,'\\"')}"`:t)}function hs(t,e,r){let i=/[ \\/]/.test(t)?`& ${by(t)}`:t,s=by(e),o=r.map(a=>by(a)).join(" ");return`${i} ${s}${o?" "+o:""}`.trim()}function GK(t){let{context:e,connectionManager:r,resultPanelProvider:n}=t;return[ce.commands.registerCommand("netezza.runQuery",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.getText(),l=s.uri.toString(),c=[];if(o.isEmpty){let d=s.offsetAt(o.active),E=vr.getStatementAtPosition(a,d);if(E){c=[E.sql];let f=s.positionAt(E.start),T=s.positionAt(E.end);i.selection=new ce.Selection(f,T)}else{ce.window.showWarningMessage("No SQL statement found at cursor");return}}else{let d=s.getText(o);if(!d.trim()){ce.window.showWarningMessage("No SQL query selected");return}/^\s*CREATE\s+(OR\s+REPLACE\s+)?PROCEDURE\b/i.test(d)?c=[d]:c=vr.splitStatements(d)}if(c.length===0)return;let u=c.length===1?c[0].trim():null;if(u){let d=u.split(/\s+/),E=d[0]||"",f=/python(\.exe)?$/i.test(E)&&d.length>=2&&d[1].toLowerCase().endsWith(".py"),T=E.toLowerCase().endsWith(".py");if(f||T){let p=ce.workspace.getConfiguration("netezza").get("pythonPath")||"python",S="";if(f){let R=d[0],A=d[1],g=d.slice(2);S=hs(R,A,g)}else{let R=E,A=d.slice(1);S=hs(p,R,A)}let m=ce.window.createTerminal({name:"Netezza: Script"});m.show(!0),m.sendText(S,!0),ce.window.showInformationMessage(`Running script: ${S}`);return}}try{n.startExecution(l);let d=ce.workspace.getConfiguration("netezza"),E=d.get("enableStreaming",!1),f=d.get("streamingChunkSize",5e3);E?await dw(e,c,r,l,T=>n.log(l,T),(T,h,p)=>{n.appendStreamingChunk(l,T,h,p)},f):await Fc(e,c,r,l,T=>n.log(l,T),T=>n.updateResults(T,l,!0)),n.finalizeExecution(l),ce.commands.executeCommand("netezza.results.focus")}catch(d){let E=d instanceof Error?d.message:String(d);n.finalizeExecution(l),n.log(l,`Error: ${E}`),ce.window.showErrorMessage(`Error executing query: ${E}`)}}),ce.commands.registerCommand("netezza.runQueryBatch",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.uri.toString(),l;if(o.isEmpty?l=s.getText():l=s.getText(o),!l.trim()){ce.window.showWarningMessage("No SQL query to execute");return}let u=l.trim().split(/\s+/),d=u[0]||"",E=/python(\.exe)?$/i.test(d)&&u.length>=2&&u[1].toLowerCase().endsWith(".py"),f=d.toLowerCase().endsWith(".py");if(E||f){let h=ce.workspace.getConfiguration("netezza").get("pythonPath")||"python",p="";if(E){let m=u[0],R=u[1],A=u.slice(2);p=hs(m,R,A)}else{let m=d,R=u.slice(1);p=hs(h,m,R)}let S=ce.window.createTerminal({name:"Netezza: Script"});S.show(!0),S.sendText(p,!0),ce.window.showInformationMessage(`Running script: ${p}`);return}try{n.startExecution(a),await Fc(e,[l],r,a,T=>n.log(a,T),T=>n.updateResults(T,a,!0)),n.finalizeExecution(a),ce.commands.executeCommand("netezza.results.focus")}catch(T){let h=T instanceof Error?T.message:String(T);n.finalizeExecution(a),n.log(a,`Error: ${h}`),ce.window.showErrorMessage(`Error executing query: ${h}`)}}),ce.commands.registerCommand("netezza.explainQuery",async()=>{await FK(e,r,!1)}),ce.commands.registerCommand("netezza.explainQueryVerbose",async()=>{await FK(e,r,!0)}),ce.commands.registerCommand("netezza.formatSQL",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor");return}if(i.document.languageId!=="sql"&&i.document.languageId!=="mssql"){ce.window.showWarningMessage("Format SQL is only available for SQL files");return}let s=ce.workspace.getConfiguration("netezza"),o=s.get("formatSQL.tabWidth",4),a=s.get("formatSQL.keywordCase","upper"),l=i.selection,c=l.isEmpty?i.document.getText():i.document.getText(l);try{let{format:u}=await Promise.resolve().then(()=>(DK(),LK)),d="__NZ_DOUBLE_DOT__",E=c.replace(/\.\.(?=[a-zA-Z_])/g,`.${d}.`),T=u(E,{language:"sql",tabWidth:o,keywordCase:a,linesBetweenQueries:2}).replace(new RegExp(`\\.\\s*${d}\\s*\\.`,"g"),"..");await i.edit(h=>{if(l.isEmpty){let p=new ce.Range(i.document.positionAt(0),i.document.positionAt(i.document.getText().length));h.replace(p,T)}else h.replace(l,T)}),ce.window.showInformationMessage("SQL formatted successfully")}catch(u){let d=u instanceof Error?u.message:String(u);d.includes("Parse error")?ce.window.showErrorMessage("SQL formatting failed: The SQL contains syntax not supported by the formatter. Try selecting a simpler portion of the SQL to format."):ce.window.showErrorMessage(`Format SQL failed: ${d}`)}})]}async function FK(t,e,r){let n=ce.window.activeTextEditor;if(!n){ce.window.showErrorMessage("No active editor found");return}let i=n.document,s=n.selection,o;if(!s.isEmpty)o=i.getText(s);else{let c=n.selection.active,u=i.offsetAt(c),d=i.getText(),E=vr.getStatementAtPosition(d,u);E?o=d.substring(E.start,E.end):o=i.getText()}if(!o.trim()){ce.window.showWarningMessage("No SQL query to explain");return}let a=o.trim();a.toUpperCase().startsWith("EXPLAIN")&&(a=a.replace(/^EXPLAIN\s+(?:VERBOSE\s+)?/i,""));let l=r?`EXPLAIN VERBOSE ${a}`:`EXPLAIN ${a}`;try{let c=i.uri.toString(),u=e.getConnectionForExecution(c);if(!u){ce.window.showErrorMessage("No database connection. Please connect first.");return}await ce.window.withProgress({location:ce.ProgressLocation.Notification,title:"Generating query plan...",cancellable:!1},async()=>{let d=await uw(t,l,u,e,c);if(d&&d.trim()){let{parseExplainOutput:E,ExplainPlanView:f}=await Promise.resolve().then(()=>(BK(),UK)),T=E(d);f.createOrShow(t.extensionUri,T,a)}else ce.window.showWarningMessage("No explain output received")})}catch(c){let u=c instanceof Error?c.message:String(c);ce.window.showErrorMessage(`Error generating query plan: ${u}`)}}var Ss=q(require("vscode"));function Mb(t,e){let r=e.getKeepConnectionOpen();t.text=r?"\u{1F517} Keep Connection ON":"\u26D3\uFE0F\u200D\u{1F4A5} Keep Connection OFF",t.tooltip=r?"Keep Connection Open: ENABLED - Click to disable":"Keep Connection Open: DISABLED - Click to enable",t.backgroundColor=r?new Ss.ThemeColor("statusBarItem.prominentBackground"):void 0}function HK(t,e){let r=Ss.window.createStatusBarItem(Ss.StatusBarAlignment.Right,100);return r.command="netezza.toggleKeepConnectionOpen",Mb(r,e),r.show(),t.subscriptions.push(r),r}function WK(t,e){let r=Ss.window.createStatusBarItem(Ss.StatusBarAlignment.Left,100);return r.command="netezza.selectConnectionForTab",r.tooltip="Click to select connection for this SQL tab",t.subscriptions.push(r),{statusBarItem:r,updateFn:()=>{let i=Ss.window.activeTextEditor;if(i&&i.document.languageId==="sql"){let s=i.document.uri.toString(),o=e.getConnectionForExecution(s);o?(r.text=`$(database) ${o}`,r.show()):(r.text="$(database) Select Connection",r.show())}else r.hide()}}}var Ze=q(require("vscode"));lo();var kK=/(^|\s)(?:[A-Za-z]:\\|\\|\/)?[\w.\-\\/]+\.py\b|(^|\s)python(?:\.exe)?\s+[^\n]*\.py\b/i,mR=class{constructor(){this._onDidChange=new Ze.EventEmitter;this.onDidChangeCodeLenses=this._onDidChange.event}provideCodeLenses(e){let r=[];for(let n=0;n<e.lineCount;n++){let i=e.lineAt(n);if(kK.test(i.text)){let s=i.range,o={title:"Run as script",command:"netezza.runScriptFromLens",arguments:[e.uri,s]};r.push(new Ze.CodeLens(s,o))}}return r}refresh(){this._onDidChange.fire()}};function $K(){return Ze.window.createTextEditorDecorationType({backgroundColor:new Ze.ThemeColor("editor.rangeHighlightBackground"),borderRadius:"3px"})}function YK(){return Ze.window.createTextEditorDecorationType({backgroundColor:"rgba(5, 115, 201, 0.10)",isWholeLine:!1,rangeBehavior:Ze.DecorationRangeBehavior.ClosedClosed})}function vb(t,e){let r=e||Ze.window.activeTextEditor;if(!r)return;let n=r.document,i=[];for(let s=0;s<n.lineCount;s++){let o=n.lineAt(s);kK.test(o.text)&&i.push({range:o.range,hoverMessage:"Python script invocation"})}r.setDecorations(t,i)}function AR(t,e){if(!Ze.workspace.getConfiguration("netezza").get("highlightActiveStatement",!0)||!e||e.document.languageId!=="sql"&&e.document.languageId!=="mssql"){e&&e.setDecorations(t,[]);return}try{let i=e.document,s=e.selection.active,o=i.offsetAt(s),a=i.getText(),l=vr.getStatementAtPosition(a,o);if(l){let c=i.positionAt(l.start),u=i.positionAt(l.end),d=new Ze.Range(c,u);e.setDecorations(t,[d])}else e.setDecorations(t,[])}catch(i){console.error("Error updating SQL highlight:",i)}}function VK(t,e,r){t.subscriptions.push(Ze.window.onDidChangeActiveTextEditor(()=>vb(e)),Ze.workspace.onDidChangeTextDocument(n=>{Ze.window.activeTextEditor&&n.document===Ze.window.activeTextEditor.document&&vb(e,Ze.window.activeTextEditor)})),t.subscriptions.push(Ze.window.onDidChangeTextEditorSelection(n=>{AR(r,n.textEditor)}),Ze.window.onDidChangeActiveTextEditor(n=>{AR(r,n)}),Ze.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration("netezza.highlightActiveStatement")&&AR(r,Ze.window.activeTextEditor)})),vb(e,Ze.window.activeTextEditor),AR(r,Ze.window.activeTextEditor)}var Yn=q(require("vscode")),lLe=new Map([["SX","SELECT"],["WX","WHERE"],["GX","GROUP BY"],["HX","HAVING"],["OX","ORDER BY"],["FX","FROM"],["JX","JOIN"],["LX","LIMIT"],["IX","INSERT INTO"],["UX","UPDATE"],["DX","DELETE FROM"],["CX","CREATE TABLE"]]);function qK(t){let e=Yn.workspace.onDidChangeTextDocument(async r=>{if(r.document.languageId!=="sql"&&r.document.languageId!=="mssql"||r.contentChanges.length!==1)return;let n=r.contentChanges[0];if(n.text!==" ")return;let i=Yn.window.activeTextEditor;if(!i||i.document!==r.document)return;let o=r.document.lineAt(n.range.start.line).text;for(let[a,l]of lLe)if(new RegExp(`\\b${a}\\s$`,"i").test(o)){let u=o.toUpperCase().lastIndexOf(a.toUpperCase());if(u>=0){let d=new Yn.Position(n.range.start.line,u),E=new Yn.Position(n.range.start.line,u+a.length+1);await i.edit(f=>{f.replace(new Yn.Range(d,E),l+" ")}),["SELECT","FROM","JOIN"].includes(l)&&setTimeout(()=>{Yn.commands.executeCommand("editor.action.triggerSuggest")},100);break}}});t.subscriptions.push(e)}var XK=[{id:"mtxr.sqltools",name:"SQLTools"},{id:"ms-mssql.mssql",name:"Microsoft SQL Server"},{id:"oracle.oracledevtools",name:"Oracle Developer Tools"},{id:"cweijan.vscode-mysql-client2",name:"MySQL"},{id:"ckolkman.vscode-postgres",name:"PostgreSQL"}];async function cLe(t){let e=z.workspace.getConfiguration("netezza");if(!e.get("showConflictWarnings",!0))return;let n=[];for(let a of XK)z.extensions.getExtension(a.id)&&n.push(a.name);let s=z.extensions.all.filter(a=>{let l=a.packageJSON;if(!l||a.id==="krzysztof-d.justybaselite-netezza"||XK.some(E=>E.id===a.id))return!1;let c=l.activationEvents?.some(E=>E.includes("onLanguage:sql")||E.includes("onLanguage:mssql")),u=l.contributes?.languages?.some(E=>E.id==="sql"||E.extensions?.includes(".sql"));return(l.displayName||"")==="SQL Language Basics"?!1:c||u}).map(a=>a.packageJSON.displayName||a.id),o=[...n,...s];if(o.length>0){let a=o.length===1?`SQL extension detected "${o[0]}" which may cause conflicts (e.g. duplicate keybindings F5, Ctrl+Enter).`:`SQL extensions detected which may cause conflicts: ${o.join(", ")}. Some functions (e.g. F5, Ctrl+Enter) may be duplicated.`;await z.window.showWarningMessage(a,"OK","Do not show again")==="Do not show again"&&await e.update("showConflictWarnings",!1,z.ConfigurationTarget.Global)}}async function uLe(t){console.log("Netezza extension: Activating..."),cLe(t);let e=new Di(t),r=new aE(t);await r.initialize();let n=new zf(t,e,r),i=new Wc(t.extensionUri);t.subscriptions.push({dispose:()=>{e.closeAllPersistentConnections()}});let s=z.window.createOutputChannel("Netezza"),o=HK(t,e),{updateFn:a}=WK(t,e);a(),e.onDidChangeActiveConnection(R=>{a(),R&&!r.hasConnectionPrefetchTriggered(R)&&r.triggerConnectionPrefetch(R,A=>oe(t,A,!0,e,R))}),e.onDidChangeConnections(a),e.onDidChangeDocumentConnection(R=>{a();let A=e.getDocumentConnection(R);A&&!r.hasConnectionPrefetchTriggered(A)&&r.triggerConnectionPrefetch(A,g=>oe(t,g,!0,e,A))}),z.window.onDidChangeActiveTextEditor(a),console.log("Netezza extension: Registering SchemaSearchProvider...");let l=new $c(t.extensionUri,t,r,e);console.log("Netezza extension: Registering QueryHistoryView...");let c=new Yc(t.extensionUri,t),u=z.window.createTreeView("netezza.schema",{treeDataProvider:n,showCollapseAll:!0});t.subscriptions.push(z.window.registerWebviewViewProvider(Wc.viewType,i),z.window.registerWebviewViewProvider($c.viewType,l),z.window.registerWebviewViewProvider(Yc.viewType,c));let d=$K(),E=YK();VK(t,d,E);let f=new mR;t.subscriptions.push(z.languages.registerCodeLensProvider({scheme:"file"},f)),t.subscriptions.push(z.window.onDidChangeActiveTextEditor(R=>{if(R&&R.document){let A=R.document.uri.toString();i.setActiveSource(A)}}));let T=GS({context:t,connectionManager:e,metadataCache:r,schemaProvider:n,schemaTreeView:u});t.subscriptions.push(...T);let h=y3({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...h);let p=B3({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...p);let S=GK({context:t,connectionManager:e,resultPanelProvider:i});t.subscriptions.push(...S),t.subscriptions.push(z.commands.registerCommand("netezza.viewEditData",R=>{rE.createOrShow(t.extensionUri,R,t,e)}),z.commands.registerCommand("netezza.createProcedure",async R=>{let A=R;if(!A||!A.dbName){z.window.showErrorMessage("Invalid selection. Select a Procedure folder.");return}let g=await z.window.showInputBox({prompt:"Enter new procedure name",placeHolder:"NEW_PROCEDURE",value:"NEW_PROCEDURE"});if(g===void 0)return;let w=g.trim()||"NEW_PROCEDURE",D=`CREATE OR REPLACE PROCEDURE ${A.dbName}.SCHEMA.${w}(INTEGER)
RETURNS INTEGER
EXECUTE AS CALLER
LANGUAGE NZPLSQL AS
BEGIN_PROC
DECLARE
    arg1 ALIAS FOR $1;
BEGIN
    -- YOUR CODE GOES HERE
    
    EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE EXCEPTION  'Procedure failed: %', sqlerrm;
        --RAISE NOTICE 'Caught error, continuing %', sqlerrm;

END;
END_PROC;`,b=await z.workspace.openTextDocument({content:D,language:"sql"});await z.window.showTextDocument(b)}),z.commands.registerCommand("netezza.toggleKeepConnectionOpen",()=>{let R=e.getKeepConnectionOpen();e.setKeepConnectionOpen(!R),Mb(o,e);let A=!R;z.window.showInformationMessage(A?"Keep connection open: ENABLED - connection will remain open after queries":"Keep connection open: DISABLED - connection will be closed after each query")}),z.commands.registerCommand("netezza.cancelQuery",async()=>{await lw()}),z.commands.registerCommand("netezza.selectActiveConnection",async()=>{let R=await e.getConnections();if(R.length===0){z.window.showWarningMessage("No connections configured. Please connect first.");return}let A=await z.window.showQuickPick(R.map(g=>g.name),{placeHolder:"Select Active Connection"});A&&(await e.setActiveConnection(A),z.window.showInformationMessage(`Active connection set to: ${A}`))}),z.commands.registerCommand("netezza.selectConnectionForTab",async()=>{let R=z.window.activeTextEditor;if(!R||R.document.languageId!=="sql"){z.window.showWarningMessage("This command is only available for SQL files");return}let A=await e.getConnections();if(A.length===0){z.window.showWarningMessage("No connections configured. Please connect first.");return}let g=R.document.uri.toString(),w=e.getDocumentConnection(g)||e.getActiveConnectionName(),I=A.map(b=>({label:b.name,description:w===b.name?"$(check) Currently selected":`${b.host}:${b.port}/${b.database}`,name:b.name})),D=await z.window.showQuickPick(I,{placeHolder:"Select connection for this SQL tab"});D&&(e.setDocumentConnection(g,D.name),z.window.showInformationMessage(`Connection for this tab set to: ${D.name}`))}),z.commands.registerCommand("netezza.openLogin",()=>{jf.createOrShow(t.extensionUri,e)}),z.commands.registerCommand("netezza.refreshSchema",async()=>{await r.clearCache(),n.refresh(),z.window.showInformationMessage("Schema refreshed (Cache cleared)")}),z.commands.registerCommand("netezza.jumpToSchema",async()=>{let R=z.window.activeTextEditor;if(!R)return;let A=R.document,g=R.selection,w=A.offsetAt(g.active),I=vr.getObjectAtPosition(A.getText(),w);I?z.commands.executeCommand("netezza.revealInSchema",I):z.window.showWarningMessage("No object found at cursor")}),z.commands.registerCommand("netezza.runScriptFromLens",async(R,A)=>{try{let g=await z.workspace.openTextDocument(R),w=g.getText(A).trim()||g.lineAt(A.start.line).text.trim();if(!w){z.window.showWarningMessage("No script command found");return}let I=w.split(/\s+/),D=I[0]||"",b=/python(\.exe)?$/i.test(D)&&I.length>=2&&I[1].toLowerCase().endsWith(".py"),P=D.toLowerCase().endsWith(".py"),B=z.workspace.getConfiguration("netezza").get("pythonPath")||"python",F="";if(b){let J=I[0],re=I[1],te=I.slice(2);F=hs(J,re,te)}else if(P){let J=D,re=I.slice(1);F=hs(B,J,re)}else F=hs(B,"",I);let Y=z.window.createTerminal({name:"Netezza: Script"});Y.show(!0),Y.sendText(F,!0),z.window.showInformationMessage(`Running script: ${F}`)}catch(g){let w=g instanceof Error?g.message:String(g);z.window.showErrorMessage(`Error running script: ${w}`)}}),z.commands.registerCommand("netezza.clearAutocompleteCache",async()=>{await z.window.showWarningMessage("Are you sure you want to clear the autocomplete cache? This will remove all cached databases, schemas, tables, and columns.",{modal:!0},"Clear Cache")==="Clear Cache"&&(await r.clearCache(),z.window.showInformationMessage("Autocomplete cache cleared successfully. Cache will be rebuilt on next use."))}),z.commands.registerCommand("netezza.copySelection",()=>{i.triggerCopySelection()}),z.commands.registerCommand("netezza.openEtlDesigner",()=>{Wn.setConnectionManager(e),Wn.createOrShow(t)}),z.commands.registerCommand("netezza.newEtlProject",async()=>{let R=await z.window.showInputBox({prompt:"Enter ETL project name",value:"New ETL Project"});R&&(Is.getInstance().createProject(R),Wn.setConnectionManager(e),Wn.createOrShow(t))}),z.commands.registerCommand("netezza.openEtlProject",async()=>{let R=await z.window.showOpenDialog({filters:{"ETL Project":["etl.json"]},canSelectMany:!1});if(R&&R[0])try{let g=await Is.getInstance().loadProject(R[0].fsPath);Wn.setConnectionManager(e),Wn.createOrShow(t,g),z.window.showInformationMessage(`ETL project loaded: ${g.name}`)}catch(A){z.window.showErrorMessage(`Failed to load ETL project: ${A}`)}}),z.commands.registerCommand("netezza.runEtlProject",async()=>{let A=Is.getInstance().getCurrentProject();if(!A){z.window.showWarningMessage("No ETL project is currently open. Please open or create a project first.");return}Wn.setConnectionManager(e),Wn.createOrShow(t,A),z.window.showInformationMessage("ETL project opened. Use the Run button in the designer to execute.")})),t.subscriptions.push(z.languages.registerDocumentLinkProvider({language:"sql"},new Zf),z.languages.registerFoldingRangeProvider({language:"sql"},new eE));let m=new Qf(t,r,e);t.subscriptions.push(z.languages.registerCompletionItemProvider(["sql","mssql"],m,"."," ")),qK(t),mw(t),t.subscriptions.push(z.languages.registerCodeActionsProvider(["sql","netezza-sql"],new qc,{providedCodeActionKinds:qc.providedCodeActionKinds})),console.log("Netezza extension: Activation complete.")}function dLe(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

archiver/lib/error.js:
archiver/lib/core.js:
  (**
   * Archiver Core
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

zip-stream/index.js:
  (**
   * ZipStream
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
   * @copyright (c) 2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/zip.js:
  (**
   * ZIP Format Plugin
   *
   * @module plugins/zip
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/tar.js:
  (**
   * TAR Format Plugin
   *
   * @module plugins/tar
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/json.js:
  (**
   * JSON Format Plugin
   *
   * @module plugins/json
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/index.js:
  (**
   * Archiver Vending
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)
*/
