"use strict";var Oz=Object.create;var Rf=Object.defineProperty;var mz=Object.getOwnPropertyDescriptor;var gz=Object.getOwnPropertyNames;var Cz=Object.getPrototypeOf,bz=Object.prototype.hasOwnProperty;var Y=(t,e)=>()=>(t&&(e=t(t=0)),e);var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Dt=(t,e)=>{for(var r in e)Rf(t,r,{get:e[r],enumerable:!0})},mb=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gz(e))!bz.call(t,i)&&i!==r&&Rf(t,i,{get:()=>e[i],enumerable:!(n=mz(e,i))||n.enumerable});return t};var Q=(t,e,r)=>(r=t!=null?Oz(Cz(t)):{},mb(e||!t||!t.__esModule?Rf(r,"default",{value:t,enumerable:!0}):r,t)),zp=t=>mb(Rf({},"__esModule",{value:!0}),t);var rr,Pt,Gn,_e,us,jp=Y(()=>{"use strict";rr={AuthenticationRequest:82,ErrorResponse:69,NoticeResponse:78,BackendKeyData:75,ReadyForQuery:90,RowDescription:84,RowDescriptionStandard:88,DataRow:68,CommandComplete:67,EmptyQueryResponse:73,RowStandard:89,CopyInResponse:71,CopyOutResponse:72,CopyDone:99,CopyData:100},Pt={NzTypeRecAddr:1,NzTypeDouble:2,NzTypeInt:3,NzTypeFloat:4,NzTypeMoney:5,NzTypeDate:6,NzTypeNumeric:7,NzTypeTime:8,NzTypeTimestamp:9,NzTypeInterval:10,NzTypeTimeTz:11,NzTypeBool:12,NzTypeInt1:13,NzTypeBinary:14,NzTypeChar:15,NzTypeVarChar:16,NzDEPR_Text:17,NzTypeUnknown:18,NzTypeInt2:19,NzTypeInt8:20,NzTypeVarFixedChar:21,NzTypeGeometry:22,NzTypeVarBinary:23,NzDEPR_Blob:24,NzTypeNChar:25,NzTypeNVarChar:26,NzDEPR_NText:27,NzTypeJson:30,NzTypeJsonb:31,NzTypeJsonpath:32,NzTypeLastEntry:33,NzTypeIntvsAbsTimeFIX:39},Gn={CP_VERSION_2:2,CP_VERSION_3:3,CP_VERSION_4:4,CP_VERSION_5:5,CP_VERSION_6:6},_e={HSV2_CLIENT_BEGIN:1,HSV2_DB:2,HSV2_USER:3,HSV2_OPTIONS:4,HSV2_REMOTE_PID:6,HSV2_CLIENT_TYPE:8,HSV2_PROTOCOL:9,HSV2_SSL_NEGOTIATE:11,HSV2_SSL_CONNECT:12,HSV2_APPNAME:13,HSV2_CLIENT_OS:14,HSV2_CLIENT_HOST_NAME:15,HSV2_CLIENT_OS_USER:16,HSV2_64BIT_VARLENA_ENABLED:17,HSV2_CLIENT_DONE:1e3},us={DATA:1,ERROR:2,DONE:3}});function bb(t){let e=t.readBigInt64LE(0),r=Number(e/1000n);return new Date(Cb+r)}function yb(t){let r=t.readInt32LE(0)*24*60*60*1e3;return new Date(Cb+r)}function Af(t){let e=t.readBigInt64LE(0),r=Number(e/1000000n),n=Number(e%1000000n),i=Math.floor(r/3600),s=Math.floor(r%3600/60),o=r%60;return{hours:i,minutes:s,seconds:o,microseconds:n,toString(){let a=String(i).padStart(2,"0"),l=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");if(n>0){let u=String(n).padStart(6,"0");return`${a}:${l}:${c}.${u}`}return`${a}:${l}:${c}`}}}function Lb(t){if(!t)return null;let e=t.split(":"),r=parseInt(e[0],10)||0,n=parseInt(e[1],10)||0,i=(e[2]||"0").split("."),s=parseInt(i[0],10)||0,o=0;return i.length>1&&(o=parseInt(i[1].substring(0,6).padEnd(6,"0"),10)),{hours:r,minutes:n,seconds:s,microseconds:o,toString(){return t}}}function wb(t){let e=t.readBigInt64LE(0),r=t.readInt32LE(8),n=Af(t);if(r===0)return n.toString();let i=Math.floor(r/12),s=r%12;return i>0?`${i} years ${s} mons ${n.toString()}`:`${s} mons ${n.toString()}`}function Db(t,e){let r=Af(t),n=t.readInt32LE(e-4),i=n<0?"+":"-",s=Math.abs(n),o=Math.floor(s/3600),a=Math.floor(s%3600/60),l=s%60,c=String(o).padStart(2,"0");return l!==0?c+=":"+String(a).padStart(2,"0")+":"+String(l).padStart(2,"0"):a!==0&&(c+=":"+String(a).padStart(2,"0")),`${r.toString()}${i}${c}`}function Pb(t,e,r,n){let i=e<=9?1:e<=18?2:4,s=[];for(let f=0;f<i;f++)s.push(t.readUInt32LE(f*4));let o=(s[0]&gb)!==0?4294967295:0,a=new Array(ga).fill(o);for(let f=ga-n,T=0;f<ga;f++,T++)a[f]=s[T];let l=(a[0]&gb)!==0;l&&Lz(a);let c=new Array(gc).fill(0);for(let f=0;f<gc;f++)c[gc-f-1]=yz(a);let u="",E=!0;for(let f=0;f<gc;f++)f<gc-r-1&&E&&c[f]===0||(E=!1,u+=String(c[f]));if(u===""&&(u="0"),r!==0){let f=u.slice(0,-r)||"0",T=u.slice(-r).padStart(r,"0");u=f+"."+T}l&&(u="-"+u);let d=parseFloat(u);return e<=15&&u===String(d)?d:u}function yz(t){let e=0;for(let r=0;r<ga;r++){let n=t[r]+e*4294967296;n!==0?(t[r]=Math.floor(n/10),e=n%10):(t[r]=0,e=0)}return e}function Lz(t){for(let r=0;r<ga;r++)t[r]=~t[r]>>>0;let e=1;for(let r=ga-1;r>=0&&e;r--){let n=t[r]+e;t[r]=n>>>0,e=n>4294967295?1:0}}var Cb,ga,gc,gb,Mb=Y(()=>{"use strict";Cb=Date.UTC(2e3,0,1);ga=4,gc=38,gb=2147483648});var Qp=g((Mye,xb)=>{"use strict";var Jp=class{static readInt32(e,r=0){return e.readInt32BE(r)}static readInt16(e,r=0){return e.readInt16BE(r)}static writeInt32(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt32BE(r,n);else{let i=Buffer.allocUnsafe(4);i.writeInt32BE(r,0),e.write(i)}}static writeInt16(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt16BE(r,n);else{let i=Buffer.allocUnsafe(2);i.writeInt16BE(r,0),e.write(i)}}};xb.exports=Jp});var Ub=g((xye,vb)=>{var Ca=1e3,ba=Ca*60,ya=ba*60,Js=ya*24,Dz=Js*7,Pz=Js*365.25;vb.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Mz(t);if(r==="number"&&isFinite(t))return e.long?vz(t):xz(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Mz(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Pz;case"weeks":case"week":case"w":return r*Dz;case"days":case"day":case"d":return r*Js;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ya;case"minutes":case"minute":case"mins":case"min":case"m":return r*ba;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ca;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function xz(t){var e=Math.abs(t);return e>=Js?Math.round(t/Js)+"d":e>=ya?Math.round(t/ya)+"h":e>=ba?Math.round(t/ba)+"m":e>=Ca?Math.round(t/Ca)+"s":t+"ms"}function vz(t){var e=Math.abs(t);return e>=Js?_f(t,e,Js,"day"):e>=ya?_f(t,e,ya,"hour"):e>=ba?_f(t,e,ba,"minute"):e>=Ca?_f(t,e,Ca,"second"):t+" ms"}function _f(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Zp=g((vye,Bb)=>{function Uz(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=Ub(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let E=0;for(let d=0;d<u.length;d++)E=(E<<5)-E+u.charCodeAt(d),E|=0;return r.colors[Math.abs(E)%r.colors.length]}r.selectColor=e;function r(u){let E,d=null,f,T;function h(...S){if(!h.enabled)return;let p=h,I=Number(new Date),R=I-(E||I);p.diff=R,p.prev=E,p.curr=I,E=I,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let A=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(L,N)=>{if(L==="%%")return"%";A++;let D=r.formatters[N];if(typeof D=="function"){let y=S[A];L=D.call(p,y),S.splice(A,1),A--}return L}),r.formatArgs.call(p,S),(p.log||r.log).apply(p,S)}return h.namespace=u,h.useColors=r.useColors(),h.color=r.selectColor(u),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(f!==r.namespaces&&(f=r.namespaces,T=r.enabled(u)),T),set:S=>{d=S}}),typeof r.init=="function"&&r.init(h),h}function n(u,E){let d=r(this.namespace+(typeof E>"u"?":":E)+u);return d.log=this.log,d}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let E=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let d of E)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function s(u,E){let d=0,f=0,T=-1,h=0;for(;d<u.length;)if(f<E.length&&(E[f]===u[d]||E[f]==="*"))E[f]==="*"?(T=f,h=d,f++):(d++,f++);else if(T!==-1)f=T+1,h++,d=h;else return!1;for(;f<E.length&&E[f]==="*";)f++;return f===E.length}function o(){let u=[...r.names,...r.skips.map(E=>"-"+E)].join(",");return r.enable(""),u}function a(u){for(let E of r.skips)if(s(u,E))return!1;for(let E of r.names)if(s(u,E))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Bb.exports=Uz});var Fb=g((Gr,If)=>{Gr.formatArgs=Fz;Gr.save=Gz;Gr.load=Hz;Gr.useColors=Bz;Gr.storage=Wz();Gr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Gr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Bz(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Fz(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+If.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Gr.log=console.debug||console.log||(()=>{});function Gz(t){try{t?Gr.storage.setItem("debug",t):Gr.storage.removeItem("debug")}catch{}}function Hz(){let t;try{t=Gr.storage.getItem("debug")||Gr.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Wz(){try{return localStorage}catch{}}If.exports=Zp()(Gr);var{formatters:Yz}=If.exports;Yz.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Hb=g((Uye,Gb)=>{"use strict";Gb.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var $b=g((Bye,Yb)=>{"use strict";var $z=require("os"),Wb=require("tty"),rn=Hb(),{env:kt}=process,Es;rn("no-color")||rn("no-colors")||rn("color=false")||rn("color=never")?Es=0:(rn("color")||rn("colors")||rn("color=true")||rn("color=always"))&&(Es=1);"FORCE_COLOR"in kt&&(kt.FORCE_COLOR==="true"?Es=1:kt.FORCE_COLOR==="false"?Es=0:Es=kt.FORCE_COLOR.length===0?1:Math.min(parseInt(kt.FORCE_COLOR,10),3));function eR(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function tR(t,e){if(Es===0)return 0;if(rn("color=16m")||rn("color=full")||rn("color=truecolor"))return 3;if(rn("color=256"))return 2;if(t&&!e&&Es===void 0)return 0;let r=Es||0;if(kt.TERM==="dumb")return r;if(process.platform==="win32"){let n=$z.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in kt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in kt)||kt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in kt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(kt.TEAMCITY_VERSION)?1:0;if(kt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in kt){let n=parseInt((kt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(kt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(kt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(kt.TERM)||"COLORTERM"in kt?1:r}function Vz(t){let e=tR(t,t&&t.isTTY);return eR(e)}Yb.exports={supportsColor:Vz,stdout:eR(tR(!0,Wb.isatty(1))),stderr:eR(tR(!0,Wb.isatty(2)))}});var kb=g((qt,Of)=>{var kz=require("tty"),Nf=require("util");qt.init=Qz;qt.log=zz;qt.formatArgs=Xz;qt.save=jz;qt.load=Jz;qt.useColors=qz;qt.destroy=Nf.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");qt.colors=[6,2,3,4,5,1];try{let t=$b();t&&(t.stderr||t).level>=2&&(qt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}qt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function qz(){return"colors"in qt.inspectOpts?!!qt.inspectOpts.colors:kz.isatty(process.stderr.fd)}function Xz(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+Of.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Kz()+e+" "+t[0]}function Kz(){return qt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function zz(...t){return process.stderr.write(Nf.formatWithOptions(qt.inspectOpts,...t)+`
`)}function jz(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Jz(){return process.env.DEBUG}function Qz(t){t.inspectOpts={};let e=Object.keys(qt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=qt.inspectOpts[e[r]]}Of.exports=Zp()(qt);var{formatters:Vb}=Of.exports;Vb.o=function(t){return this.inspectOpts.colors=this.useColors,Nf.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Vb.O=function(t){return this.inspectOpts.colors=this.useColors,Nf.inspect(t,this.inspectOpts)}});var nR=g((Fye,rR)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?rR.exports=Fb():rR.exports=kb()});var Jb=g((Hye,jb)=>{"use strict";var qb=Q(require("crypto")),Xb=Q(require("os")),Kb=Q(require("tls")),zb=Q(require("fs"));jp();var ie=Qp(),Mt=nR()("nz:handshake"),iR=class{constructor(e,r,n,i={}){this._hsVersion=-1;this._protocol1=-1;this._protocol2=-1;this.NPSCLIENT_TYPE_DOTNET=11;this.backendProcessId=0;this.backendSecretKey=0;this._socket=e,this._stream=r,this._host=n,this._options=i,this._guardiumClientOS=process.platform,this._guardiumClientOSUser=process.env.USERNAME||process.env.USER||"unknown",this._guardiumAppName="scJs-Driver",this._guardiumClientHostName=Xb.hostname()}async startup(e,r,n){if(!await this.connHandshakeNegotiate())throw new Error("Handshake negotiation unsuccessful");if(Mt("Sending handshake info"),!await this.connSendHandshakeInfo(e,r))throw new Error("Error in ConnSendHandshakeInfo");if(!await this.connAuthenticate(n))throw new Error("Error in ConnAuthenticate");if(!await this.connConnectionComplete())throw new Error("Error in ConnConnectionComplete");return this._stream}async _readExactly(e){return new Promise((r,n)=>{let i=this._stream.read(e);i?r(i):this._stream.once("readable",()=>{let s=this._stream.read(e);s&&r(s)})})}async readBytes(e){for(;;){let r=this._stream.read(e);if(r!==null)return r;await new Promise(n=>this._stream.once("readable",n))}}async readByte(){return(await this.readBytes(1))[0]}async connHandshakeNegotiate(){let e=Gn.CP_VERSION_6;for(;;){Mt(`Sending version: ${e}`),ie.writeInt32(this._stream,8),ie.writeInt16(this._stream,_e.HSV2_CLIENT_BEGIN),ie.writeInt16(this._stream,e);let r=await this.readByte();if(Mt(`Got response: ${String.fromCharCode(r)}`),r===78)return this._hsVersion=e,this._protocol2=0,!0;if(r===77){let n=await this.readByte(),i=String.fromCharCode(n);i==="2"?e=Gn.CP_VERSION_2:i==="3"?e=Gn.CP_VERSION_3:i==="4"?e=Gn.CP_VERSION_4:i==="5"&&(e=Gn.CP_VERSION_5)}else return!1}}async connSendHandshakeInfo(e,r){return await this.connSendDatabase(e)?(await this.connSecureSession(),this.connSetNextDataProtocol(this._protocol1,this._protocol2),this._hsVersion===Gn.CP_VERSION_6||this._hsVersion===Gn.CP_VERSION_4?this.connSendHandshakeVersion4(this._hsVersion,r):this.connSendHandshakeVersion2(this._hsVersion,r)):!1}async connSendDatabase(e){let r=Buffer.from(e,"utf8"),n=6+r.length+1;return ie.writeInt32(this._stream,n),ie.writeInt16(this._stream,_e.HSV2_DB),this._stream.write(r),this._stream.write(Buffer.from([0])),await this.readByte()===78}async connSecureSession(){let r=0,n=this._options.securityLevel;n==="OnlyUnsecuredSession"?r=1:n==="PreferredSecuredSession"?r=2:n==="OnlySecuredSession"&&(r=3),ie.writeInt32(this._stream,10),ie.writeInt16(this._stream,_e.HSV2_SSL_NEGOTIATE),ie.writeInt32(this._stream,r);let i=await this.readByte();if(i===78){if(this._options.securityLevel==="OnlySecuredSession")throw new Error("Server refused secure session, but OnlySecuredSession was requested.");return!0}if(i===83){Mt("Upgrading to SSL...");let s=Buffer.alloc(6);s.writeInt32BE(6,0),s.writeInt16BE(_e.HSV2_SSL_CONNECT,4),await new Promise(a=>{this._stream.write(s)?a():this._stream.once("drain",a)}),this._socket.removeAllListeners("data"),this._socket.removeAllListeners("readable");let o={socket:this._socket,rejectUnauthorized:!1};if(this._options.sslCerFilePath){this._options.rejectUnauthorized===!1?o.rejectUnauthorized=!1:o.rejectUnauthorized=!0;try{o.ca=zb.readFileSync(this._options.sslCerFilePath)}catch(a){throw Mt("Failed to load cert file",a),a}}return new Promise((a,l)=>{let c=Kb.connect(o,()=>{Mt("SSL Connected"),this._stream=c,this._stream.on("error",u=>{Mt("Secure Stream Error",u)}),this.readByte().then(u=>{u===78?a(!0):l(new Error(`SSL Handshake failed: Unexpected response ${String.fromCharCode(u)}`))}).catch(u=>{Mt("Failed to read SSL confirmation",u),l(u)})});c.on("error",u=>{Mt("SSL Connection Error",u),l(u)})})}return!1}connSetNextDataProtocol(e,r){return this._protocol2===0&&(this._protocol2=5),this._protocol1=3,!0}async connSendHandshakeVersion4(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,_e.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=_e.HSV2_APPNAME;for(;s!==0;){if(await this.readByte()!==78)return!1;switch(s){case _e.HSV2_APPNAME:await this.sendStringOption(s,this._guardiumAppName),s=_e.HSV2_CLIENT_OS;break;case _e.HSV2_CLIENT_OS:await this.sendStringOption(s,this._guardiumClientOS),s=_e.HSV2_CLIENT_HOST_NAME;break;case _e.HSV2_CLIENT_HOST_NAME:await this.sendStringOption(s,this._guardiumClientHostName),s=_e.HSV2_CLIENT_OS_USER;break;case _e.HSV2_CLIENT_OS_USER:await this.sendStringOption(s,this._guardiumClientOSUser),s=_e.HSV2_PROTOCOL;break;case _e.HSV2_PROTOCOL:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,this._protocol1),ie.writeInt16(this._stream,this._protocol2),s=_e.HSV2_REMOTE_PID;break;case _e.HSV2_REMOTE_PID:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt32(this._stream,process.pid),s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_CLIENT_TYPE:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,11),e>=5?s=_e.HSV2_64BIT_VARLENA_ENABLED:s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_64BIT_VARLENA_ENABLED:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,1),s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_CLIENT_DONE:return i=6,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),s=0,!0}}return!1}async connSendHandshakeVersion2(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,_e.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=_e.HSV2_PROTOCOL;for(;s!==0;){Mt(`Waiting for response in v2 loop. Info: ${s}`);let o=await this.readByte();if(Mt(`Got response: ${String.fromCharCode(o)}`),o===78)switch(s){case _e.HSV2_PROTOCOL:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,this._protocol1),ie.writeInt16(this._stream,this._protocol2),s=_e.HSV2_REMOTE_PID;break;case _e.HSV2_REMOTE_PID:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt32(this._stream,process.pid),s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_OPTIONS:s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_CLIENT_TYPE:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,11),e===Gn.CP_VERSION_5||e===Gn.CP_VERSION_6?s=_e.HSV2_64BIT_VARLENA_ENABLED:s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_64BIT_VARLENA_ENABLED:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,1),s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_CLIENT_DONE:return i=6,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),s=0,!0}else throw o===rr.ErrorResponse?new Error("Handshake V2 Failed: ErrorResponse from backend"):new Error(`Handshake V2 Failed: Unexpected response ${String.fromCharCode(o)}`)}return!1}async sendStringOption(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,e),this._stream.write(n),this._stream.write(Buffer.from([0]))}async connAuthenticate(e){if(await this.readByte()!==rr.AuthenticationRequest)return!1;let n=ie.readInt32(await this.readBytes(4));if(Mt(`Auth request: ${n}`),n===0)return!0;if(n===3){let i=Buffer.from(e,"utf8"),s=4+i.length+1;return ie.writeInt32(this._stream,s),this._stream.write(i),this._stream.write(Buffer.from([0])),!0}if(n===5){let i=await this.readBytes(2),s=Buffer.from(e,"utf8"),a=qb.createHash("md5").update(Buffer.concat([i,s])).digest("base64").replace(/=+$/,""),l=Buffer.from(a,"utf8"),c=4+l.length+1;return ie.writeInt32(this._stream,c),this._stream.write(l),this._stream.write(Buffer.from([0])),!0}return!1}async readString(){let e=[];for(;;){let r=await this.readByte();if(r===0)break;e.push(r)}return Buffer.from(e).toString("utf8")}async connConnectionComplete(){for(;;){let e=await this.readByte();if(Mt(`Resp: ${String.fromCharCode(e)} (0x${e.toString(16)})`),e===rr.AuthenticationRequest){let n=ie.readInt32(await this.readBytes(4));Mt(`Auth req in complete: ${n}`);continue}if(e===rr.ErrorResponse){let n=await this.readBytes(4),i=ie.readInt32(n);if(i<0||i>1e8){let o=n.toString("utf8");throw o+=await this.readString(),new Error(`Backend Error: ${o}`)}let s=await this.readBytes(i-4);throw new Error(`Backend Error: ${s.toString()}`)}let r=await this.readBytes(4);if(Mt(`Skipped 4 bytes: ${r.toString("hex")}`),e===rr.BackendKeyData){let n=await this.readBytes(4);Mt(`KeyData Padding: ${n.toString("hex")}`);let i=ie.readInt32(await this.readBytes(4)),s=ie.readInt32(await this.readBytes(4));Mt(`KeyData: PID=${i} Key=${s}`),this.backendProcessId=i,this.backendSecretKey=s;continue}if(e===rr.ReadyForQuery)return Mt("ReadyForQuery"),!0;if(e===rr.NoticeResponse){let n=ie.readInt32(await this.readBytes(4)),i=await this.readBytes(n);Mt(`Notice: ${i.toString()}`);continue}}}};jb.exports=iR});var Zb=g((Wye,Qb)=>{"use strict";var sR=class{constructor(e){this.connection=e,this.commandText="",this.parameters=[],this._recordsAffected=-1,this.commandTimeout=e.commandTimeout!==void 0?e.commandTimeout:30}async execute(){return this.connection.execute(this,!1)}async executeNonQuery(){return await this.connection.execute(this,!1),this._recordsAffected}async executeReader(){return this.connection.executeReader(this)}async cancel(){return this.connection.cancel()}};Qb.exports=sR});var ty=g((Yye,ey)=>{"use strict";var he={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700,Float4:700,Float8:701},Cc=16,oR=class{constructor(e,r,n,i,s){this.currentRow=null;this.closed=!1;this._nameIndex={};this._pendingColumns=null;this._isFinished=!1;this.command=e,this.generator=r,this.columnDescriptions=n||[],this.releaseCallback=i,this._initNameIndex(),this._nextItem=s,this._hasRows=!!(this._nextItem&&this._nextItem.type==="DataRow")}get hasRows(){return this._hasRows}_initNameIndex(){if(this._nameIndex={},this.columnDescriptions)for(let e=0;e<this.columnDescriptions.length;e++)this._nameIndex[this.columnDescriptions[e].name.toLowerCase()]=e}_markFinished(){this._isFinished=!0,this._nextItem=null,this._hasRows=!1,this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}async nextResult(){if(this._pendingColumns){for(this.columnDescriptions=this._pendingColumns,this._pendingColumns=null,this._initNameIndex(),this.currentRow=null;;){let e=await this.generator.next();if(e.done){this._nextItem=null,this._hasRows=!1;break}let r=e.value;if(r.type!=="RowDescriptionStandard")if(r.type==="DataRow"){this._nextItem=r,this._hasRows=!0;break}else if(r.type==="CommandComplete"){this._nextItem=r,this._hasRows=!1;break}else{this._nextItem=r,this._hasRows=!1;break}}return!0}if(this.closed||this._isFinished)return!1;for(;;){let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),!1;let r=e.value;if(r.type==="RowDescription"){this.columnDescriptions=r.columns,this._initNameIndex(),this.currentRow=null;continue}if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;this.columnDescriptions.length===0&&n&&n.description&&(this.columnDescriptions=n.description,this._initNameIndex()),this.currentRow=null;continue}if(r.type==="DataRow")return this._nextItem=r,this._hasRows=!0,!0;if(r.type!=="CommandComplete"){if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");if(r.type==="ReadyForQuery")return this._markFinished(),!1}}}getSchemaTable(){if(!this.columnDescriptions)return[];let e=[];for(let r=0;r<this.columnDescriptions.length;r++){let n=this.columnDescriptions[r],i={ColumnName:n.name,ColumnOrdinal:r+1,ColumnSize:-1,NumericPrecision:0,NumericScale:0,DataType:String,ProviderType:n.typeOid,AllowDBNull:!0,IsReadOnly:!0,IsLong:!1},s=n.typeMod,o=n.typeOid;switch(o){case he.Bool:i.DataType=Boolean,i.ColumnSize=1;break;case he.Int2:i.DataType=Number,i.ColumnSize=2;break;case he.Int4:i.DataType=Number,i.ColumnSize=4;break;case he.Int8:i.DataType=Number,i.ColumnSize=8;break;case he.Float4:case he.Float8:i.DataType=Number,i.ColumnSize=o===he.Float8?8:4,i.NumericPrecision=o===he.Float8?53:24;break;case he.Numeric:if(i.DataType=Number,s>Cc){let a=s-Cc>>16,l=s-Cc&65535;i.NumericPrecision=a,i.NumericScale=l,i.ColumnSize=Math.floor(a/2)+1,i.ColumnSize<n.typeLen&&n.typeLen>0&&(i.ColumnSize=n.typeLen)}else i.ColumnSize=n.typeLen;break;case he.Date:case he.Timestamp:case he.TimestampTz:case he.Time:case he.TimeTz:i.DataType=Date,(o===he.Time||o===he.TimeTz)&&(i.DataType=Object),i.ColumnSize=n.typeLen;break;case he.Char:case he.BpChar:case he.VarChar:case he.Text:case he.Name:case he.ShowDate:i.DataType=String,s>Cc?i.ColumnSize=s-Cc:(i.ColumnSize=-1,n.typeLen>0&&(i.ColumnSize=n.typeLen)),i.ColumnSize>8e3&&(i.IsLong=!0);break;default:i.DataType=String,i.ColumnSize=n.typeLen;break}e.push(i)}return{Rows:e,Columns:{Count:e.length}}}getTypeName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);let n=this.columnDescriptions[e].typeOid;switch(n){case he.Bool:return"BOOL";case he.Bytea:return"BYTEA";case he.Char:return"CHAR";case he.Name:return"NAME";case he.Int8:return"INT8";case he.Int2:return"INT2";case he.Int4:return"INT4";case he.Text:return"TEXT";case he.BpChar:return"CHAR";case he.VarChar:return"VARCHAR";case he.Date:return"DATE";case he.Time:return"TIME";case he.Timestamp:return"TIMESTAMP";case he.TimestampTz:return"TIMESTAMPTZ";case he.Interval:return"INTERVAL";case he.TimeTz:return"TIMETZ";case he.Numeric:return"NUMERIC";case he.Float4:return"FLOAT4";case he.Float8:return"FLOAT8";case 2530:return"DATE";case 15:return"CHAR";case 16:return"BOOL";default:return`UNKNOWN(${n})`}}async read(){if(this.closed||this._isFinished||this._pendingColumns)return!1;let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),this.currentRow=null,!1;let r=e.value;if(r.type==="DataRow")return this.currentRow=r.row,!0;if(r.type==="RowDescription")return this._pendingColumns=r.columns,this.currentRow=null,!1;if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;return this._pendingColumns=n&&n.description?n.description:this.columnDescriptions,this.currentRow=null,!1}if(r.type==="CommandComplete")return this.currentRow=null,this.read();if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");return r.type==="ReadyForQuery"?(this._markFinished(),this.currentRow=null,!1):this.read()}getValue(e){return this._validateOrdinal(e),this.currentRow[e]}getValueByName(e){let r=this.getOrdinal(e);return this.getValue(r)}getName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);return this.columnDescriptions[e].name}getOrdinal(e){let r=this._nameIndex[e.toLowerCase()];if(r===void 0)throw new Error(`Column '${e}' not found`);return r}get fieldCount(){return this.columnDescriptions?.length||0}get FieldCount(){return this.fieldCount}isDBNull(e){return this._validateOrdinal(e),this.currentRow[e]===null}getBoolean(e){let r=this.getValue(e);return r===null?!1:typeof r=="boolean"?r:typeof r=="string"?r.toLowerCase()==="t"||r==="1"||r.toLowerCase()==="true":!!r}getByte(e){let r=this.getValue(e);return r===null?0:Number(r)&255}getInt16(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt32(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt64(e){let r=this.getValue(e);return r===null?0:typeof r=="bigint"?r:Number(r)}getFloat(e){let r=this.getValue(e);return r===null?0:Number(r)}getDouble(e){let r=this.getValue(e);return r===null?0:Number(r)}getDecimal(e){let r=this.getValue(e);return r===null?0:typeof r=="string"?r:Number(r)}getString(e){let r=this.getValue(e);return r===null?null:typeof r=="string"?r:r.toString?r.toString():String(r)}getDateTime(e){let r=this.getValue(e);return r===null?null:r instanceof Date?r:new Date(r)}getTimeSpan(e){let r=this.getValue(e);if(r===null)return null;if(typeof r=="object"&&"hours"in r)return r;if(typeof r=="string"){let n=r.split(":");if(n.length>=2){let i=(n[2]||"0").split(".");return{hours:parseInt(n[0],10),minutes:parseInt(n[1],10),seconds:parseInt(i[0],10),microseconds:i.length>1?parseInt(i[1].padEnd(6,"0"),10):0,toString(){return r}}}}return r}getRowObject(){if(!this.currentRow)return null;let e={};for(let r=0;r<this.columnDescriptions.length;r++)e[this.columnDescriptions[r].name]=this.currentRow[r];return e}getValues(){return this.currentRow?[...this.currentRow]:[]}async close(){if(!this.closed){if(this.closed=!0,!this._isFinished&&this.generator)try{for await(let e of this.generator)if(e.type==="ReadyForQuery")break}catch{}this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}}get isClosed(){return this.closed}_validateOrdinal(e){if(!this.currentRow)throw new Error("No current row. Did you call read()?");if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`)}async*[Symbol.asyncIterator](){for(;await this.read();)yield this.getRowObject()}};ey.exports=oR});var ny=g(($ye,ry)=>{"use strict";var aR=class{constructor(){this.version=null;this.nullsAllowed=null;this.sizeWord=null;this.sizeWordSize=null;this.numFixedFields=null;this.numVaryingFields=null;this.fixedFieldsSize=0;this.maxRecordSize=null;this.numFields=0;this.fieldType=[];this.fieldSize=[];this.fieldTrueSize=[];this.fieldOffset=[];this.fieldPhysField=[];this.fieldLogField=[];this.fieldNullAllowed=[];this.fieldFixedSize=[];this.fieldSpringField=[];this.dateStyle=null;this.euroDates=null}clear(){this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[]}parse(e,r){this.clear();let n=0;this.version=e.readInt32BE(n),n+=4,this.nullsAllowed=e.readInt32BE(n),n+=4,this.sizeWord=e.readInt32BE(n),n+=4,this.sizeWordSize=e.readInt32BE(n),n+=4,this.numFixedFields=e.readInt32BE(n),n+=4,this.numVaryingFields=e.readInt32BE(n),n+=4,this.fixedFieldsSize=e.readInt32BE(n),n+=4,this.maxRecordSize=e.readInt32BE(n),n+=4,this.numFields=e.readInt32BE(n),n+=4;let i=3,s=39;for(let o=0;o<this.numFields;o++){let a=e.readInt32BE(n);a===i&&r?.description?.[o]?.typeOid===702&&(a=s),this.fieldType.push(a),this.fieldSize.push(e.readInt32BE(n+4)),this.fieldTrueSize.push(e.readInt32BE(n+8)),this.fieldOffset.push(e.readInt32BE(n+12)),this.fieldPhysField.push(e.readInt32BE(n+16)),this.fieldLogField.push(e.readInt32BE(n+20)),this.fieldNullAllowed.push(e.readInt32BE(n+24)!==0),this.fieldFixedSize.push(e.readInt32BE(n+28)),this.fieldSpringField.push(e.readInt32BE(n+32)),n+=36}this.dateStyle=e.readInt32BE(n),n+=4,this.euroDates=e.readInt32BE(n)}getFieldPrecision(e){return this.fieldSize[e]>>8&127}getFieldScale(e){return this.fieldSize[e]&255}getNumericDigitCount(e){return Math.floor(this.fieldTrueSize[e]/4)}};ry.exports=aR});var nr=g((kye,sy)=>{"use strict";var lR=Q(require("net")),fs=Q(require("fs")),iy=require("events");jp();Mb();var Zz=Jb(),Rt=Qp(),ej=Zb(),tj=ty(),rj=ny(),ue=nR()("nz:connection"),cR=class t extends iy.EventEmitter{constructor(r){super();this._socket=null;this._stream=null;this._backendProcessId=0;this._backendSecretKey=0;this._commandNumber=-1;this._connected=!1;this._rowDescription=null;this._rows=[];this._tupdesc=new rj;this._tmpBuffer=Buffer.alloc(65536);this._intBuf=Buffer.allocUnsafe(65536);this._intBufStart=0;this._intBufEnd=0;this.commandTimeout=30;this.connectionTimeout=30;this._executing=!1;this._exportStream=null;this.config=r,r.connectionTimeout!==void 0&&(this.connectionTimeout=r.connectionTimeout)}static{this._streamRegistry=new Map}static registerImportStream(r,n){this._streamRegistry.set(r,n)}static unregisterImportStream(r){this._streamRegistry.delete(r)}async connect(){return new Promise((r,n)=>{if(!this.config.host)return n(new Error("Host is required"));let i=!1,s;this.connectionTimeout>0&&(s=setTimeout(()=>{i=!0,ue("Connection timeout triggered after",this.connectionTimeout,"seconds"),this._socket&&this._socket.destroy(),n(new Error(`Connection timeout after ${this.connectionTimeout} seconds`))},this.connectionTimeout*1e3));let o=()=>{s&&(clearTimeout(s),s=void 0)};this._socket=new lR.Socket,this._socket.connect(this.config.port||5480,this.config.host,async()=>{if(i)return;ue("Socket connected"),this._socket.setNoDelay(!0),this._stream=this._socket;let a=new Zz(this._socket,this._stream,this.config.host,this.config);try{if(this._stream=await a.startup(this.config.database,this.config.user,this.config.password),i)return;o(),this._connected=!0,this._backendProcessId=a.backendProcessId,this._backendSecretKey=a.backendSecretKey,r()}catch(l){o(),this._socket.destroy(),n(l)}}),this._socket.on("error",a=>{ue("Socket error",a),o(),this._connected?this.emit("error",a):n(a)}),this._socket.on("close",()=>{ue("Socket closed"),o(),this._connected=!1,this.emit("close")})})}async cancel(){if(!(!this._backendProcessId||!this._backendSecretKey))return new Promise((r,n)=>{let i=new lR.Socket;i.on("error",s=>{ue("Cancel socket error",s),n(s)}),i.connect(this.config.port||5480,this.config.host,()=>{let s=Buffer.alloc(16);Rt.writeInt32(s,16,0),Rt.writeInt32(s,80877102,4),Rt.writeInt32(s,this._backendProcessId,8),Rt.writeInt32(s,this._backendSecretKey,12),i.write(s,()=>{}),i.on("close",()=>r()),i.on("end",()=>r()),i.on("error",()=>r())})})}close(){this._socket&&(this._socket.end(),this._socket.destroy())}createCommand(r){let n=new ej(this);return r&&(n.commandText=r),n}async beginTransaction(){let r=this.createCommand("BEGIN");await this.execute(r)}async commit(){let r=this.createCommand("COMMIT");await this.execute(r)}async rollback(){let r=this.createCommand("ROLLBACK");await this.execute(r)}async _readBytes(r){if(this._intBufEnd-this._intBufStart>=r){let n=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+r));return this._intBufStart+=r,n}return this._readBytesSlow(r)}async _readBytesSlow(r){if(r>this._intBuf.length){let i=[],s=this._intBufEnd-this._intBufStart;s>0&&(i.push(Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufEnd))),this._intBufStart=0,this._intBufEnd=0);let o=r-s;for(;o>0;){let a=this._stream.read();a!==null?a.length<=o?(i.push(a),o-=a.length):(i.push(a.slice(0,o)),this._feedBuffer(a.slice(o)),o=0):await this._waitForReadable()}return Buffer.concat(i,r)}if(this._intBuf.length-this._intBufStart<r){let i=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=i}for(;this._intBufEnd-this._intBufStart<r;){let i=this._stream.read();if(i!==null){let s=this._intBuf.length-this._intBufEnd;i.length<=s?(i.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=i.length):(i.copy(this._intBuf,this._intBufEnd,0,s),this._intBufEnd+=s,this._stream.unshift(i.slice(s)))}else await this._waitForReadable()}let n=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+r));return this._intBufStart+=r,n}async _waitForReadable(){if(!this._socket||this._socket.destroyed)throw new Error("Socket closed or destroyed during read");return new Promise((r,n)=>{let i=()=>{this._stream.removeListener("readable",s),this._stream.removeListener("close",o),this._stream.removeListener("error",a),this._stream.removeListener("end",o)},s=()=>{i(),r()},o=()=>{i(),n(new Error("Socket closed/ended during read"))},a=l=>{i(),n(l)};this._stream.once("readable",s),this._stream.once("close",o),this._stream.once("end",o),this._stream.once("error",a)})}_feedBuffer(r){this._stream.unshift(r)}async _readInt32(){await this._ensureBufferData(4);let r=this._intBuf.readInt32BE(this._intBufStart);return this._intBufStart+=4,r}async _readInt16(){await this._ensureBufferData(2);let r=this._intBuf.readInt16BE(this._intBufStart);return this._intBufStart+=2,r}async _readByte(){await this._ensureBufferData(1);let r=this._intBuf[this._intBufStart];return this._intBufStart+=1,r}async _ensureBufferData(r){if(!(this._intBufEnd-this._intBufStart>=r)){if(this._intBuf.length-this._intBufStart<r){let n=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=n}for(;this._intBufEnd-this._intBufStart<r;){let n=this._stream.read();if(n!==null){let i=this._intBuf.length-this._intBufEnd;n.length<=i?(n.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=n.length):(n.copy(this._intBuf,this._intBufEnd,0,i),this._intBufEnd+=i,this._stream.unshift(n.slice(i)))}else await this._waitForReadable()}}}async execute(r,n=!1){let i=r.commandTimeout;if(!i||i<=0)return this._doExecute(r);let s,o=this._doExecute(r),a=new Promise((l,c)=>{s=setTimeout(async()=>{ue("Command timeout triggered");try{await this.cancel(),c(new Error("Command execution timeout"))}catch(u){c(new Error("Command execution timeout (Cancel failed: "+u.message+")"))}},i*1e3)});try{return await Promise.race([o,a])}catch(l){throw l.message&&l.message.includes("Command execution timeout")&&o.catch(()=>{}),l}finally{clearTimeout(s)}}async _doExecute(r){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{ue("Executing:",r.commandText),this._preExecution(r.commandText);let n=null;for await(let i of this._responseGenerator(r))i.type==="ErrorResponse"&&(n=new Error("Netezza Error: "+i.message));if(n)throw n;return!0}finally{this._executing=!1}}async executeReader(r){let n=r.commandTimeout||this.commandTimeout;if(!n||n<=0)return this._doExecuteReader(r);let i,s=this._doExecuteReader(r),o=new Promise((a,l)=>{i=setTimeout(async()=>{ue("Command timeout triggered");try{await this.cancel(),l(new Error("Command execution timeout"))}catch(c){l(new Error("Command execution timeout (Cancel failed: "+c.message+")"))}},n*1e3)});try{return await Promise.race([s,o])}catch(a){throw a.message&&a.message.includes("Command execution timeout")&&s.catch(()=>{}),a}finally{clearTimeout(i)}}async _doExecuteReader(r){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{ue("Executing Reader:",r.commandText),this._preExecution(r.commandText);let n=this._responseGenerator(r),i=[],s=await n.next(),o=null,a=null;for(;!s.done;){let l=s.value;if(l.type==="RowDescription")i=l.columns;else if(l.type==="RowDescriptionStandard"){let c=l.desc;if(c&&c.numFields>0&&i.length===0){let u=r._preparedStatement;u&&u.description&&(i=u.description)}}else if(l.type==="DataRow"||l.type==="CommandComplete"||l.type==="ReadyForQuery"){if(!o&&i.length>0){a=l;break}}else l.type==="ErrorResponse"&&(o=new Error("Netezza Error: "+l.message));s=await n.next()}if(o)throw this._executing=!1,o;return new tj(r,n,i,()=>{this._executing=!1},a)}catch(n){throw this._executing=!1,n}}_preExecution(r){let n=Buffer.from(r,"utf8"),i=Buffer.allocUnsafe(5+n.length+1);i[0]=80,this._commandNumber!==-1?(this._commandNumber++,i.writeInt32BE(this._commandNumber,1)):(i[1]=255,i[2]=255,i[3]=255,i[4]=255),this._commandNumber>1e5&&(this._commandNumber=1),n.copy(i,5),i[5+n.length]=0,this._stream.write(i)}async*_responseGenerator(r){this._rows=[],this._rowDescription=null;let n=!1;for(;!n;){let i=await this._readByte();for(;i===0;)i=await this._readByte();if(i===117){await this._handleExternalTableExportStart();continue}if(i===85){await this._handleExternalTableExportData();continue}if(i===108){await this._handleExternalTableImport();continue}if(i===120){await this._readBytes(4),ue("Error operation cancel (Ext Tbl)");continue}if(i===101){await this._readBytes(4);let o=Rt.readInt32(await this._readBytes(4)),a=(await this._readBytes(o-1)).toString("utf8");await this._readBytes(1);let l=[],c=(await this._readBytes(1))[0];for(l.push(c);c=(await this._readBytes(1))[0],c!==0;)l.push(c);let u=Rt.readInt32(await this._readBytes(4));await this._consumeExternalTableLogData();continue}let s=await this._readBytes(4);if(i===rr.CommandComplete){let o=await this._readInt32(),a=await this._readBytes(o);ue("CommandComplete:",a.toString("utf8")),yield{type:"CommandComplete",text:a.toString("utf8")};continue}if(i===rr.ReadyForQuery){n=!0,yield{type:"ReadyForQuery"};continue}if(i===76){n=!0;continue}if(!(i===48||i===65)){if(i===80){let o=await this._readInt32();await this._readBytes(o);continue}if(i===rr.ErrorResponse){let o=await this._readInt32();yield{type:"ErrorResponse",message:(await this._readBytes(o)).toString("utf8")};continue}if(i===rr.RowDescription){let o=await this._readInt32(),a=await this._readBytes(o);this._parseRowDescription(a,r),yield{type:"RowDescription",columns:this._rowDescription};continue}if(i===rr.DataRow){let o=await this._readInt32(),a=await this._readBytes(o);yield{type:"DataRow",row:this._parseDataRow(a)};continue}if(i===rr.RowDescriptionStandard){let o=await this._readInt32(),a=await this._readBytes(o);this._tupdesc.parse(a,r._preparedStatement),yield{type:"RowDescriptionStandard",desc:this._tupdesc};continue}if(i===rr.RowStandard){yield{type:"DataRow",row:await this._resReadDbosTuple(r)};continue}if(i===rr.NoticeResponse){let o=await this._readInt32(),l=(await this._readBytes(o)).toString("utf8").replace(/\0/g,"").trim();this.emit("notice",{message:l});continue}ue("Unknown message:","0x"+i.toString(16));try{let o=await this._readInt32();o>0&&o<1e7&&await this._readBytes(o)}catch{}}}}async _consumeExternalTableLogData(){for(;;){let r=await this._readBytes(4),n=Rt.readInt32(r);if(n===0)return;let i=await this._readBytes(n);ue("ExtLog Content:",i.toString("utf8"))}}async _handleExternalTableExportStart(){await this._readBytes(4),await this._readBytes(10),await this._readBytes(16);let r=Rt.readInt32(await this._readBytes(4)),i=(await this._readBytes(r)).toString("utf8");ue("ExternalTable Export Start. File:",i);try{this._exportStream=fs.createWriteStream(i),this._exportStream.on("error",o=>{ue("Export Stream Error:",o)});let s=Buffer.alloc(4);await new Promise(o=>this._stream.write(s,()=>o()))}catch(s){ue("Error opening export file:",s);let o=Buffer.alloc(4);Rt.writeInt32(o,1,0),this._stream.write(o)}}async _handleExternalTableExportData(){ue("Handle Export Data: Skipping 8 bytes...");let r=await this._readBytes(4);ue("Skipped 4:",r.toString("hex"));let n=await this._readBytes(4);ue("Skipped 4 (2):",n.toString("hex")),await this._consumeExternalTableData(this._exportStream),this._exportStream=null}async _consumeExternalTableData(r){for(ue("Entering Consume Loop");;){ue("Reading status...");let n=await this._readBytes(4),i=Rt.readInt32(n);if(ue("ExtTab Status:",i),i===us.DATA){let s=Rt.readInt32(await this._readBytes(4));ue("Block Length:",s);let o=await this._readBytes(s);r&&r.write(o)}else if(i===us.DONE){ue("ExternalTable Data Done"),r&&await new Promise(s=>{if(ue("Waiting for writeStream finish..."),r.writableFinished)return ue("Stream already finished"),s();let o=setTimeout(()=>{ue("Stream finish timeout! Destroying..."),r.destroy(),s()},5e3),a=()=>{ue("Stream finished event"),clearTimeout(o),c(),s()},l=u=>{ue("Stream error on end:",u),clearTimeout(o),c(),s()},c=()=>{r.removeListener("finish",a),r.removeListener("error",l)};r.on("finish",a),r.on("error",l),r.end()});return}else if(i===us.ERROR){let s=Rt.readInt16(await this._readBytes(2)),o=(await this._readBytes(s)).toString("utf8");ue("ExternalTable Data Error:",o),r&&r.end();return}else{ue("Unknown ExtTab Status:",i),r&&r.end();return}}}async _handleExternalTableImport(){await this._readBytes(8);let r=[],n=(await this._readBytes(1))[0];for(r.push(n);n!==0;)n=(await this._readBytes(1))[0],n!==0&&r.push(n);let i=Buffer.from(r).toString("utf8");ue("ExternalTable Import Start. File:",i);let s=Rt.readInt32(await this._readBytes(4));ue("Host Version:",s);let o=Buffer.alloc(4);Rt.writeInt32(o,1,0),await new Promise(d=>this._stream.write(o,()=>d())),ue("Sent Client Version");let a=Rt.readInt32(await this._readBytes(4)),l=Rt.readInt32(await this._readBytes(4));if(ue("ExtTab Import Config:",{hostVersion:s,format:a,bufSize:l}),t._streamRegistry.has(i))ue("Using virtual import stream for:",i);else if(!fs.existsSync(i)){ue("Import file not found:",i);let d=Buffer.alloc(4);Rt.writeInt32(d,us.ERROR,0),this._stream.write(d);return}let c=0,u;t._streamRegistry.has(i)?(u=t._streamRegistry.get(i),c=u.byteLength||0):(c=fs.statSync(i).size,u=fs.createReadStream(i,{highWaterMark:l||65536}));let E=0;await new Promise((d,f)=>{u.on("data",T=>{let h=Buffer.isBuffer(T)?T:Buffer.from(T),S=Buffer.alloc(8);Rt.writeInt32(S,us.DATA,0),Rt.writeInt32(S,h.length,4),this._stream.write(S),this._stream.write(h),E+=h.length,this.emit("importProgress",{bytesSent:E,totalSize:c,percentComplete:c>0?Math.round(E/c*100):0})}),u.on("end",()=>{ue("Import Stream End");let T=Buffer.alloc(4);Rt.writeInt32(T,us.DONE,0),this._stream.write(T),d()}),u.on("error",T=>{ue("Import Stream Error:",T);let h=Buffer.alloc(4);Rt.writeInt32(h,us.ERROR,0),this._stream.write(h);let S=T.message||"Error",p=Buffer.alloc(2);p.writeInt16BE(S.length),this._stream.write(p),this._stream.write(Buffer.from(S,"utf8")),f(T)})})}_parseRowDescription(r,n){ue("parseRowDescription data length:",r.length,"hex:",r.toString("hex").substring(0,100));let i=0;if(r.length<2){ue("Data too short for row description");return}let s=r.readInt16BE(i);i+=2,ue("Column count:",s),this._rowDescription=[];for(let o=0;o<s&&i<r.length;o++){let a=i;for(;i<r.length&&r[i]!==0;)i++;let l=r.toString("utf8",a,i);if(i++,i+11>r.length){ue("Not enough data for column",o,"at offset",i,"need 11 more, have",r.length-i);break}let c=r.readInt32BE(i);i+=4;let u=r.readInt16BE(i);i+=2;let E=r.readInt32BE(i);i+=4;let d=r[i];i+=1,this._rowDescription.push({name:l,typeOid:c,typeLen:u,typeMod:E,format:d}),ue("Column",o,":",l,"typeOid:",c,"typeLen:",u)}n&&(n._preparedStatement={description:this._rowDescription})}_parseDataRow(r){let n=this._rowDescription.length,s=Math.ceil(n/8),o=[];for(let a=0;a<n;a++){let l=r[Math.floor(a/8)],c=7-a%8;if(!((l&1<<c)!==0)){o.push(null);continue}let E=r.readInt32BE(s);s+=4;let d=E-4;if(d<=0){o.push(null);continue}let T=this._rowDescription[a]?.typeOid,h=r.toString("utf8",s,s+d);T===1083?o.push(Lb(h)):o.push(h),s+=d}return o}async _resReadDbosTuple(r){let n=this._tupdesc.numFields;await this._readBytes(4);let i=Rt.readInt32(await this._readBytes(4)),s=await this._readBytes(i),o=new Array(n);for(let a=0;a<n;a++){if(this._columnIsNull(s,a)){o[a]=null;continue}let l=this._cTableFieldAt(s,a),c=this._tupdesc.fieldType[a],u=this._tupdesc.fieldSize[a];o[a]=this._parseFieldByType(l,c,u,a)}return o}_parseFieldByType(r,n,i,s){switch(n){case Pt.NzTypeChar:return r.toString("latin1",0,i).trimEnd();case Pt.NzTypeNChar:case Pt.NzTypeNVarChar:{let o=r.readInt16LE(0)-2;return r.toString("utf8",2,2+o)}case Pt.NzTypeVarChar:case Pt.NzTypeVarFixedChar:{let o=r.readInt16LE(0)-2;return r.toString("latin1",2,2+o)}case Pt.NzTypeInt8:return r.readBigInt64LE(0);case Pt.NzTypeInt:return r.readInt32LE(0);case Pt.NzTypeInt2:return r.readInt16LE(0);case Pt.NzTypeInt1:return r.readInt8(0);case Pt.NzTypeDouble:return r.readDoubleLE(0);case Pt.NzTypeFloat:return r.readFloatLE(0);case Pt.NzTypeDate:return yb(r);case Pt.NzTypeTime:return Af(r);case Pt.NzTypeInterval:return wb(r);case Pt.NzTypeTimeTz:return Db(r,i);case Pt.NzTypeTimestamp:return bb(r);case Pt.NzTypeBool:return r[0]===1;case Pt.NzTypeNumeric:{let o=this._tupdesc.getFieldPrecision(s),a=this._tupdesc.getFieldScale(s),l=this._tupdesc.getNumericDigitCount(s);return Pb(r,o,a,l)}default:return r.toString("utf8",0,i)}}_columnIsNull(r,n){if(!this._tupdesc.nullsAllowed)return!1;let i=this._tupdesc.fieldPhysField[n];return(r[2+Math.floor(i/8)]&1<<i%8)!==0}_cTableFieldAt(r,n){if(this._tupdesc.fieldFixedSize[n]!==0)return r.slice(this._tupdesc.fieldOffset[n]);let i=r.slice(this._tupdesc.fixedFieldsSize);for(let s=0;s<this._tupdesc.fieldOffset[n];s++){let o=i.readInt16LE(0);i=i.slice(o%2===0?o:o+1)}return i}};sy.exports=cR});var mf,mi,uR=Y(()=>{"use strict";mf=Q(require("vscode")),mi=class t{constructor(e){this.context=e;this._connections={};this._activeConnectionName=null;this._documentConnections=new Map;this._persistentConnections=new Map;this._keepConnectionOpen=!1;this._onDidChangeConnections=new mf.EventEmitter;this.onDidChangeConnections=this._onDidChangeConnections.event;this._onDidChangeActiveConnection=new mf.EventEmitter;this.onDidChangeActiveConnection=this._onDidChangeActiveConnection.event;this._onDidChangeDocumentConnection=new mf.EventEmitter;this.onDidChangeDocumentConnection=this._onDidChangeDocumentConnection.event;this._loadingPromise=this.loadConnections()}static{this.SERVICE_NAME="netezza-vscode-connections"}static{this.ACTIVE_CONN_KEY="netezza-active-connection"}async loadConnections(){this._activeConnectionName=this.context.globalState.get(t.ACTIVE_CONN_KEY)||null;let e=await this.context.secrets.get(t.SERVICE_NAME);if(e)try{this._connections=JSON.parse(e)}catch(r){console.error("Failed to parse connections:",r),this._connections={}}else{let r=await this.context.secrets.get("netezza-vscode");if(r)try{let n=JSON.parse(r);if(n&&n.host){let i=`Default (${n.host})`;this._connections={[i]:{...n,name:i}},this._activeConnectionName=i,await this.saveConnectionsToStorage()}}catch{}}this._onDidChangeConnections.fire()}async ensureLoaded(){await this._loadingPromise}async saveConnectionsToStorage(){await this.context.secrets.store(t.SERVICE_NAME,JSON.stringify(this._connections)),this._activeConnectionName?await this.context.globalState.update(t.ACTIVE_CONN_KEY,this._activeConnectionName):await this.context.globalState.update(t.ACTIVE_CONN_KEY,void 0)}async saveConnection(e){if(await this.ensureLoaded(),!e.name)throw new Error("Connection name is required");this._connections[e.name]=e,this._activeConnectionName||await this.setActiveConnection(e.name),await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}async deleteConnection(e){if(await this.ensureLoaded(),this._connections[e]){if(await this.closePersistentConnection(e),delete this._connections[e],this._activeConnectionName===e){let r=Object.keys(this._connections);await this.setActiveConnection(r.length>0?r[0]:null)}await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}}async getConnections(){return await this.ensureLoaded(),Object.values(this._connections)}async getConnection(e){return await this.ensureLoaded(),this._connections[e]}async setActiveConnection(e){await this.ensureLoaded(),this._activeConnectionName=e,await this.context.globalState.update(t.ACTIVE_CONN_KEY,e),this._onDidChangeActiveConnection.fire(e)}getActiveConnectionName(){return this._activeConnectionName}async getCurrentDatabase(e){await this.ensureLoaded();let r=e||this._activeConnectionName;return r&&this._connections[r]?.database||null}setKeepConnectionOpen(e){this._keepConnectionOpen=e,e||this.closeAllPersistentConnections()}getKeepConnectionOpen(){return this._keepConnectionOpen}async getPersistentConnection(e){let r=e||this._activeConnectionName;if(!r)throw new Error("No connection selected");let n=await this.getConnection(r);if(!n)throw new Error(`Connection '${r}' not found or invalid`);let i=this._persistentConnections.get(r);if(!i){let s=nr(),o={host:n.host,port:n.port||5480,database:n.database,user:n.user,password:n.password},a=new s(o);await a.connect(),i=a,this._persistentConnections.set(r,i)}return i}async closePersistentConnection(e){let r=this._persistentConnections.get(e);if(r){try{await r.close()}catch(n){console.error(`Error closing connection ${e}:`,n)}this._persistentConnections.delete(e)}}async closeAllPersistentConnections(){for(let e of this._persistentConnections.keys())await this.closePersistentConnection(e)}dispose(){this.closeAllPersistentConnections()}getDocumentConnection(e){return this._documentConnections.get(e)}setDocumentConnection(e,r){this._documentConnections.set(e,r),this._onDidChangeDocumentConnection.fire(e)}clearDocumentConnection(e){this._documentConnections.delete(e),this._onDidChangeDocumentConnection.fire(e)}getConnectionForExecution(e){if(e){let r=this._documentConnections.get(e);if(r)return r}return this._activeConnectionName||void 0}}});var ay={};Dt(ay,{QueryHistoryManager:()=>pr});var oy,nn,ER,pr,gf=Y(()=>{"use strict";oy=Q(require("vscode")),nn=Q(require("fs")),ER=Q(require("path")),pr=class t{constructor(e){this.context=e;this.cache=[];this.initialized=!1;if(this.context.globalStorageUri){this.historyFilePath=oy.Uri.joinPath(this.context.globalStorageUri,"query-history.json").fsPath;try{nn.existsSync(this.context.globalStorageUri.fsPath)||nn.mkdirSync(this.context.globalStorageUri.fsPath,{recursive:!0})}catch(r){console.error("[QueryHistoryManager] Error creating storage directory:",r)}}this.initialize()}static{this.STORAGE_KEY="queryHistory"}static{this.MAX_ENTRIES=5e4}static{this.CLEANUP_KEEP=4e4}static{this.STORAGE_VERSION=1}async initialize(){try{let e=!1;if(this.historyFilePath&&nn.existsSync(this.historyFilePath))try{let r=await nn.promises.readFile(this.historyFilePath,"utf-8");if(!r||!r.trim())console.log("[QueryHistoryManager] File is empty, starting fresh"),this.cache=[],e=!0;else{let n=JSON.parse(r);n&&n.entries&&(this.cache=n.entries,e=!0)}}catch(r){console.warn("[QueryHistoryManager] Corrupted history file, resetting:",r),this.cache=[],e=!0;try{await this.saveToStorage(),console.log("[QueryHistoryManager] Reset corrupted file to empty state")}catch(n){console.error("[QueryHistoryManager] Failed to reset file:",n)}}if(!e){let r=this.context.globalState.get(t.STORAGE_KEY);r&&r.entries&&(this.cache=r.entries,console.log(`\u2705 Migrated ${this.cache.length} entries from globalState`),await this.saveToStorage(),await this.context.globalState.update(t.STORAGE_KEY,void 0))}!e&&this.cache.length===0&&await this.migrateFromLegacyStorage(),this.initialized=!0}catch(e){console.error("\u274C Error initializing query history:",e),this.cache=[],this.initialized=!0}}async migrateFromLegacyStorage(){try{let e=this.context.globalStorageUri.fsPath,r=ER.join(e,"query-history.db");nn.existsSync(r)&&console.log("\u26A0\uFE0F SQLite database found but migration not implemented");let n=ER.join(e,"query-history-archive.json");if(nn.existsSync(n))try{let i=nn.readFileSync(n,"utf8");if(i.trim()){let s=JSON.parse(i);this.cache.push(...s),await this.saveToStorage(),console.log(`\u2705 Migrated archive with ${s.length} entries`)}}catch{}}catch(e){console.error("Error during migration:",e)}}async saveToStorage(){if(this.historyFilePath)try{let e={entries:this.cache,version:t.STORAGE_VERSION};await nn.promises.writeFile(this.historyFilePath,JSON.stringify(e),"utf-8")}catch(e){console.error("Error saving to storage:",e)}}async addEntry(e,r,n,i,s,o,a){try{this.initialized||await this.initialize();let l=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,c=Date.now(),u={id:l,host:e,database:r,schema:n,query:i.trim(),timestamp:c,connectionName:s,is_favorite:!1,tags:o||"",description:a||""};this.cache.unshift(u),this.cache.length>t.MAX_ENTRIES&&(this.cache=this.cache.slice(0,t.CLEANUP_KEEP),console.log(`Cleaned up old entries, keeping ${t.CLEANUP_KEEP} newest`)),await this.saveToStorage()}catch(l){console.error("Error adding query to history:",l)}}async getHistory(){return this.initialized||await this.initialize(),[...this.cache]}async deleteEntry(e){try{this.initialized||await this.initialize(),this.cache=this.cache.filter(r=>r.id!==e),await this.saveToStorage()}catch(r){console.error("Error deleting entry:",r)}}async clearHistory(){try{this.initialized||await this.initialize(),this.cache=[],await this.saveToStorage(),console.log("All query history cleared")}catch(e){console.error("Error clearing history:",e)}}async getStats(){try{let e=this.cache.length,r=JSON.stringify(this.cache).length,n=parseFloat((r/(1024*1024)).toFixed(2));return{activeEntries:e,archivedEntries:0,totalEntries:e,activeFileSizeMB:n,archiveFileSizeMB:0,totalFileSizeMB:n}}catch(e){return console.error("Error getting stats:",e),{activeEntries:0,archivedEntries:0,totalEntries:0,activeFileSizeMB:0,archiveFileSizeMB:0,totalFileSizeMB:0}}}async toggleFavorite(e){try{this.initialized||await this.initialize();let r=this.cache.find(n=>n.id===e);r&&(r.is_favorite=!r.is_favorite,await this.saveToStorage())}catch(r){console.error("Error toggling favorite:",r)}}async updateEntry(e,r,n){try{this.initialized||await this.initialize();let i=this.cache.find(s=>s.id===e);i&&(r!==void 0&&(i.tags=r),n!==void 0&&(i.description=n),await this.saveToStorage())}catch(i){console.error("Error updating entry:",i)}}async getFavorites(){return this.initialized||await this.initialize(),this.cache.filter(e=>e.is_favorite)}async getByTag(e){return this.initialized||await this.initialize(),this.cache.filter(r=>r.tags?.toLowerCase().includes(e.toLowerCase()))}async getAllTags(){this.initialized||await this.initialize();let e=new Set;return this.cache.forEach(r=>{r.tags&&r.tags.split(",").forEach(i=>{let s=i.trim();s&&e.add(s)})}),Array.from(e).sort()}async searchAll(e){this.initialized||await this.initialize();let r=e.toLowerCase();return this.cache.filter(n=>n.query.toLowerCase().includes(r)||n.host.toLowerCase().includes(r)||n.database.toLowerCase().includes(r)||n.schema.toLowerCase().includes(r)||n.tags?.toLowerCase().includes(r)||n.description?.toLowerCase().includes(r))}async getFilteredHistory(e,r,n,i){this.initialized||await this.initialize();let s=this.cache.filter(o=>!(e&&o.host!==e||r&&o.database!==r||n&&o.schema!==n));return i&&(s=s.slice(0,i)),s}async getArchivedHistory(){return[]}async clearArchive(){}close(){console.log("Query history manager closed")}}});function Cf(t){let e=new Set;if(!t)return e;for(let r of t.matchAll(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g))r[1]&&e.add(r[1]);for(let r of t.matchAll(/\$([A-Za-z_][A-Za-z0-9_]*)(?!\s*\})/g)){let n=r[0],i=r.index;if(i>0&&t[i-1]==="{")continue;let s=i+n.length;s<t.length&&t[s]==="}"||r[1]&&e.add(r[1])}return e}function bf(t){if(!t)return{sql:"",setValues:{}};let e=t.split(/\r?\n/),r=[],n={};for(let i of e){let s=i.match(/^\s*@SET\s+([A-Za-z0-9_]+)\s*=\s*(.+)$/i);if(s){let o=s[2].trim();o.endsWith(";")&&(o=o.slice(0,-1).trim());let a=o.match(/^'(.*)'$/s)||o.match(/^"(.*)"$/s);a&&(o=a[1]),n[s[1]]=o}else r.push(i)}return{sql:r.join(`
`),setValues:n}}function yf(t,e){let r=t.replace(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g,(i,s)=>e[s]??""),n=Object.keys(e).sort((i,s)=>s.length-i.length);for(let i of n)if(/^[A-Za-z_]/.test(i)){let s=new RegExp(`\\$${i}(?![A-Za-z0-9_])`,"g");r=r.replace(s,e[i]??"")}return r}var ly=Y(()=>{"use strict"});async function cy(){let t=Lr.window.activeTextEditor;if(!t){Lr.window.showWarningMessage("No active editor to cancel query for.");return}let e=t.document.uri.toString(),r=gi.get(e);if(r)try{await r.cancel(),Lr.window.showInformationMessage("Cancellation request sent.")}catch(n){let i=n instanceof Error?n.message:String(n);Lr.window.showErrorMessage(`Failed to cancel query: ${i}`)}else Lr.window.showInformationMessage("No active query found for this tab.")}async function fR(t,e,r){let n={};if(t.size===0)return n;if(e){let s=Array.from(t).filter(o=>!(r&&r[o]!==void 0));if(s.length>0)throw new Error("Query contains variables but silent mode is enabled; cannot prompt for values. Missing: "+s.join(", "));for(let o of t)n[o]=r[o];return n}let i=[];for(let s of t)r&&r[s]!==void 0?n[s]=r[s]:i.push(s);for(let s of i){let o=await Lr.window.showInputBox({prompt:`Enter value for ${s}`,placeHolder:"",value:r&&r[s]?r[s]:void 0,ignoreFocusOut:!0});if(o===void 0)throw new Error("Variable input cancelled by user");n[s]=o}return n}function nj(t,e){let r;return!t&&!e&&(r=Lr.window.createOutputChannel("Netezza SQL"),r.show(!0)),{outputChannel:r,logCallback:e}}function bc(t,e){t.outputChannel&&t.outputChannel.appendLine(e),t.logCallback&&t.logCallback(e)}async function ij(t,e){let r=bf(t),n=r.sql,i=r.setValues,s=Cf(n);if(s.size>0){let o=await fR(s,e,i);n=yf(n,o)}return n}function uy(t,e,r){let n=e;if(!n&&r&&(n=t.getConnectionForExecution(r)),n||(n=t.getActiveConnectionName()||void 0),!n)throw new Error("No connection selected");return n}async function Ey(t,e,r){if(r)return{connection:await t.getPersistentConnection(e),shouldCloseConnection:!1};{let n=nr(),i=await t.getConnection(e);if(!i)throw new Error(`Connection '${e}' not found`);let s={host:i.host,port:i.port||5480,database:i.database,user:i.user,password:i.password},o=new n(s);return await o.connect(),{connection:o,shouldCloseConnection:!0}}}async function dR(t,e){let r=Date.now(),n=1e4;try{let i=!1;do{for(;await t.read();)if(Date.now()-r>n){i=!0;break}if(i)break;if(Date.now()-r>n){i=!0;break}}while(await t.nextResult());i&&console.warn(`consumeRestAndCancel timed out after ${n}ms, forcing cancel`),await e.cancel()}catch(i){console.warn("Failed to cancel command after limit reached:",i)}}async function sj(t,e,r,n){let i=t.createCommand(e);i.commandTimeout=r,n&&gi.set(n,i);try{let s=await i.executeReader(),o=[],a=[],l=2e5,c=0,u=!1;for(;await s.read();){if(o.length===0)for(let d=0;d<s.fieldCount;d++)o.push({name:s.getName(d),type:s.getTypeName(d)});let E=[];for(let d=0;d<s.fieldCount;d++)E.push(s.getValue(d));if(a.push(E),c++,c>=l){u=!0,await dR(s,i);break}}return{columns:o,data:a,limitReached:u}}finally{n&&gi.delete(n)}}async function oj(t,e,r,n){let i="unknown",s=await e.getConnection(r);s&&new pr(t).addEntry(s.host,s.database,i,n,r).catch(a=>console.error("History log error:",a))}async function aj(t,e,r=!1,n,i,s,o){let a=n||new mi(t),l=a.getKeepConnectionOpen(),c=nj(r,o);bc(c,"Executing query..."),i&&bc(c,`Target Connection: ${i}`);try{let u=await ij(e,r),E=uy(a,i,s),{connection:d,shouldCloseConnection:f}=await Ey(a,E,l);if(c.outputChannel){let T=h=>{let S=h;c.outputChannel.appendLine(`NOTICE: ${S.message}`)};d.on("notice",T)}try{let h=Lr.workspace.getConfiguration("netezza").get("queryTimeout",1800),{columns:S,data:p,limitReached:I}=await sj(d,u,h,s);return await oj(t,a,E,e),S.length>0?(bc(c,"Query completed."),{columns:S,data:p,rowsAffected:void 0,limitReached:I,sql:u}):(bc(c,"Query executed successfully (no results)."),{columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully (no results).",sql:u})}finally{f&&d&&await d.close()}}catch(u){let d=`Error: ${u.message||String(u)}`;throw bc(c,d),new Error(d)}}async function X(t,e,r=!1,n,i,s){let o=await aj(t,e,r,i,n,s);if(o.data&&o.data.length>0){let a=o.data.map(c=>{let u={};return o.columns.forEach((E,d)=>{u[E.name]=c[d]}),u});return JSON.stringify(a,(c,u)=>typeof u=="bigint"?u>=Number.MIN_SAFE_INTEGER&&u<=Number.MAX_SAFE_INTEGER?Number(u):u.toString():u,2)}else if(o.message)return o.message}async function fy(t,e,r,n,i){let s=n||new mi(t),o=s.getKeepConnectionOpen(),a=[],l=uy(s,r,i),{connection:c,shouldCloseConnection:u}=await Ey(s,l,o);try{let E=d=>{let f=d;a.push(f.message)};c.on("notice",E);try{let f=Lr.workspace.getConfiguration("netezza").get("queryTimeout",1800),T=c.createCommand(e);T.commandTimeout=f,i&&gi.set(i,T);try{let h=await T.executeReader();for(;await h.read(););}finally{i&&gi.delete(i)}}finally{c.removeListener("notice",E)}}finally{u&&c&&await c.close()}return a.join(`
`)}async function yc(t,e,r,n,i,s){let o=r||new mi(t),a=o.getKeepConnectionOpen(),l;i||(l=Lr.window.createOutputChannel("Netezza SQL"),l.show(!0),l.appendLine(`Executing ${e.length} queries sequentially...`));let c=[],u=r?r.getConnectionForExecution(n):void 0;if(u||(u=o.getActiveConnectionName()||void 0),!u)throw l&&l.appendLine("Error: No connection selected"),i&&i("Error: No connection selected"),new Error("No connection selected");try{let E,d=!0,f=await o.getConnection(u);if(!f)throw new Error(`Connection '${u}' not found`);if(a)E=await o.getPersistentConnection(u),d=!1;else{let T=nr(),h={host:f.host,port:f.port||5480,database:f.database,user:f.user,password:f.password};E=new T(h),await E.connect()}E.on("notice",T=>{let h=T;l&&l.appendLine(`NOTICE: ${h.message}`),i&&i(`NOTICE: ${h.message}`)});try{let T="unknown";try{let I=await E.createCommand("SELECT CURRENT_SID").executeReader();if(await I.read()){let R=I.getValue(0);R!==void 0&&i&&i(`Connected. Session ID: ${R}`)}await I.close()}catch(p){console.debug("Could not retrieve session ID:",p),i&&i("Connected.")}let h=new pr(t),S=u;for(let p=0;p<e.length;p++){let I=e[p],R=`Executing query ${p+1}/${e.length}...`;l&&l.appendLine(R),i&&i(R);try{let A=bf(I),O=A.sql,L=A.setValues,N=Cf(O);if(N.size>0){let k=await fR(N,!1,L);O=yf(O,k)}let y=Lr.workspace.getConfiguration("netezza").get("queryTimeout",1800),P=Date.now(),{results:x,error:B}=await lj(E,O,2e5,y,n),G=Date.now()-P;if(i&&i(`Executed query ${p+1}/${e.length} in ${G}ms`),h.addEntry(f.host,f.database,T,I,S).catch(k=>{console.error("Failed to log query to history:",k)}),x&&x.length>0)for(let k of x)k.columns.length>0?c.push({columns:k.columns,data:k.rows,rowsAffected:void 0,limitReached:k.limitReached,sql:O}):c.push({columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully",sql:O});if(s&&x&&x.length>0){let k=[];for(let z of x)z.columns.length>0?k.push({columns:z.columns,data:z.rows,rowsAffected:void 0,limitReached:z.limitReached,sql:O}):k.push({columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully",sql:O});s(k)}if(B)throw B}catch(A){let O=A instanceof Error?A.message:String(A);throw l&&l.appendLine(`Error in query ${p+1}: ${O}`),new Error(O)}}l&&l.appendLine("All queries completed.")}finally{d&&await E.close()}}catch(E){let f=`Error: ${E.message||String(E)}`;throw l&&l.appendLine(f),i&&i(f),new Error(f)}return c}async function lj(t,e,r,n,i){let s=t.createCommand(e);n&&n>0&&(s.commandTimeout=n),i&&gi.set(i,s);try{let o=await s.executeReader(),a=[],l=!0,c;try{do{let u=[],E=[],d=0,f=!1;for(;await o.read();){if(u.length===0)for(let T=0;T<o.fieldCount;T++)u.push({name:o.getName(T),type:o.getTypeName(T)});if(d<r){let T=[];for(let h=0;h<o.fieldCount;h++)T.push(o.getValue(h));E.push(T),d++}if(d>=r){f=!0,await dR(o,s);break}}a.push({columns:u,rows:E,limitReached:f}),l=await o.nextResult()}while(l)}catch(u){c=u instanceof Error?u:new Error(String(u))}return{results:a,error:c}}finally{i&&gi.delete(i)}}async function cj(t,e,r,n,i,s,o){let a=t.createCommand(e);i&&i>0&&(a.commandTimeout=i),s&&gi.set(s,a);try{let l=await a.executeReader(),c,u=0,E=!1;try{let d=[],f=[],T=!0;for(;await l.read();){if(d.length===0)for(let S=0;S<l.fieldCount;S++)d.push({name:l.getName(S),type:l.getTypeName(S)});let h=[];for(let S=0;S<l.fieldCount;S++)h.push(l.getValue(S));if(f.push(h),u++,f.length>=n&&(o({columns:T?d:[],rows:f,isFirstChunk:T,isLastChunk:!1,totalRowsSoFar:u,limitReached:!1}),f=[],T=!1),u>=r){E=!0,await dR(l,a);break}}o({columns:T?d:[],rows:f,isFirstChunk:T,isLastChunk:!0,totalRowsSoFar:u,limitReached:E})}catch(d){c=d instanceof Error?d:new Error(String(d))}return{totalRows:u,limitReached:E,error:c}}finally{s&&gi.delete(s)}}async function dy(t,e,r,n,i,s,o=5e3){let a=r||new mi(t),l=a.getKeepConnectionOpen(),c;i||(c=Lr.window.createOutputChannel("Netezza SQL"),c.show(!0),c.appendLine(`Executing ${e.length} queries with streaming...`));let u=r?r.getConnectionForExecution(n):void 0;if(u||(u=a.getActiveConnectionName()||void 0),!u){let E="Error: No connection selected";throw c&&c.appendLine(E),i&&i(E),new Error("No connection selected")}try{let E=await a.getConnection(u);if(!E)throw new Error(`Connection '${u}' not found`);let d,f=!0;if(l)d=await a.getPersistentConnection(u),f=!1;else{let T=nr(),h={host:E.host,port:E.port||5480,database:E.database,user:E.user,password:E.password};d=new T(h),await d.connect()}d.on("notice",T=>{let h=T;c&&c.appendLine(`NOTICE: ${h.message}`),i&&i(`NOTICE: ${h.message}`)});try{try{let p=await d.createCommand("SELECT CURRENT_SID").executeReader();if(await p.read()){let I=p.getValue(0);I!==void 0&&i&&i(`Connected. Session ID: ${I}`)}await p.close()}catch(S){console.debug("Could not retrieve session ID:",S),i&&i("Connected.")}let T=new pr(t),h="unknown";for(let S=0;S<e.length;S++){let p=e[S],I=`Executing query ${S+1}/${e.length}...`;c&&c.appendLine(I),i&&i(I);try{let R=bf(p),A=R.sql,O=R.setValues,L=Cf(A);if(L.size>0){let k=await fR(L,!1,O);A=yf(A,k)}let D=Lr.workspace.getConfiguration("netezza").get("queryTimeout",1800),y=Date.now(),{totalRows:P,limitReached:x,error:B}=await cj(d,A,2e5,o,D,n,k=>{s&&s(S,k,A)}),G=Date.now()-y;if(i&&i(`Query ${S+1}/${e.length}: ${P} rows in ${G}ms${x?" (limit reached)":""}`),T.addEntry(E.host,E.database,h,p,u).catch(k=>console.error("Failed to log query to history:",k)),B)throw B}catch(R){let A=R instanceof Error?R.message:String(R);throw c&&c.appendLine(`Error in query ${S+1}: ${A}`),new Error(A)}}c&&c.appendLine("All queries completed.")}finally{f&&await d.close()}}catch(E){let f=`Error: ${E.message||String(E)}`;throw c&&c.appendLine(f),i&&i(f),new Error(f)}}var Lr,gi,Rr=Y(()=>{"use strict";Lr=Q(require("vscode"));uR();gf();ly();gi=new Map});var Sy={};Dt(Sy,{SqlParser:()=>wr});var wr,Zs=Y(()=>{"use strict";wr=class{static splitStatements(e){let r=[],n="",i=!1,s=!1,o=!1,a=!1,l=0;for(;l<e.length;){let c=e[l],u=l+1<e.length?e[l+1]:"";if(o)c===`
`&&(o=!1);else if(a){if(c==="*"&&u==="/"){a=!1,n+=c+u,l++,l++;continue}}else if(i)c==="'"&&e[l-1]!=="\\"&&(i=!1);else if(s)c==='"'&&e[l-1]!=="\\"&&(s=!1);else if(c==="-"&&u==="-")o=!0;else if(c==="/"&&u==="*")a=!0;else if(c==="'")i=!0;else if(c==='"')s=!0;else if(c===";"){n.trim()&&r.push(n.trim()),n="",l++;continue}n+=c,l++}return n.trim()&&r.push(n.trim()),r}static getStatementAtPosition(e,r){let n=0,i=e.length,s=!1,o=!1,a=!1,l=!1,c=-1;for(let E=0;E<r;E++){let d=e[E],f=E+1<e.length?e[E+1]:"";a?d===`
`&&(a=!1):l?d==="*"&&f==="/"&&(l=!1,E++):s?d==="'"&&e[E-1]!=="\\"&&(s=!1):o?d==='"'&&e[E-1]!=="\\"&&(o=!1):d==="-"&&f==="-"?a=!0:d==="/"&&f==="*"?l=!0:d==="'"?s=!0:d==='"'?o=!0:d===";"&&(c=E)}n=c+1,s=!1,o=!1,a=!1,l=!1;for(let E=n;E<e.length;E++){let d=e[E],f=E+1<e.length?e[E+1]:"";if(a)d===`
`&&(a=!1);else if(l)d==="*"&&f==="/"&&(l=!1,E++);else if(s)d==="'"&&e[E-1]!=="\\"&&(s=!1);else if(o)d==='"'&&e[E-1]!=="\\"&&(o=!1);else if(d==="-"&&f==="-")a=!0;else if(d==="/"&&f==="*")l=!0;else if(d==="'")s=!0;else if(d==='"')o=!0;else if(d===";"){i=E;break}}let u=e.substring(n,i).trim();return u?{sql:u,start:n,end:i}:null}static getObjectAtPosition(e,r){let n=c=>/[a-zA-Z0-9_."]/i.test(c),i=r;for(;i>0&&n(e[i-1]);)i--;let s=r;for(;s<e.length&&n(e[s]);)s++;let o=e.substring(i,s);if(!o)return null;let a=c=>c?c.replace(/"/g,""):void 0;if(o.includes("..")){let c=o.split("..");if(c.length===2)return{database:a(c[0]),name:a(c[1])}}let l=o.split(".");return l.length===1?{name:a(l[0])}:l.length===2?{schema:a(l[0]),name:a(l[1])}:l.length===3?{database:a(l[0]),schema:a(l[1]),name:a(l[2])}:null}}});var my=Y(()=>{"use strict"});async function st(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function Ee(t){return!t||/^[A-Z_][A-Z0-9_]*$/i.test(t)&&t===t.toUpperCase()?t:`"${t.replace(/"/g,'""')}"`}function gy(t){if(!t)return t;let e=t.trim().toUpperCase();return e==="CHARACTER VARYING"?"CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER VARYING"?"NATIONAL CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER"?"NATIONAL CHARACTER(ANY)":e==="CHARACTER"?"CHARACTER(ANY)":t}async function Cy(t){let e={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},r=nr(),n=new r(e);return await n.connect(),n}var Wn=Y(()=>{"use strict"});async function Nn(t,e,r,n){let i=`
        SELECT 
            X.OBJID::INT AS OBJID
            , X.ATTNAME
            , X.DESCRIPTION
            , X.FORMAT_TYPE AS FULL_TYPE
            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
            , X.COLDEFAULT
        FROM
            ${e.toUpperCase()}.._V_RELATION_COLUMN X
        INNER JOIN
            ${e.toUpperCase()}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
        WHERE
            X.TYPE IN ('TABLE','VIEW','EXTERNAL TABLE', 'SEQUENCE','SYSTEM VIEW','SYSTEM TABLE')
            AND X.OBJID NOT IN (4,5)
            AND D.SCHEMA = '${r.toUpperCase()}'
            AND D.OBJNAME = '${n.toUpperCase()}'
        ORDER BY 
            X.OBJID, X.ATTNUM
    `,s=await st(t,i),o=[];for(let a of s){let l=!1,c=a.ATTNOTNULL;if(typeof c=="boolean")l=c;else if(typeof c=="number")l=c!==0;else if(typeof c=="string"){let u=c.trim().toLowerCase();l=u==="t"||u==="true"||u==="1"||u==="yes"}o.push({name:a.ATTNAME,description:a.DESCRIPTION||null,fullTypeName:a.FULL_TYPE,notNull:l,defaultValue:a.COLDEFAULT||null})}return o}async function Ci(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_DIST_MAP
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY DISTSEQNO
        `;return(await st(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function bi(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_ORGANIZE_COLUMN
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY ORGSEQNO
        `;return(await st(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function yi(t,e,r,n){let i=`
        SELECT 
            X.SCHEMA
            , X.RELATION
            , X.CONSTRAINTNAME
            , X.CONTYPE
            , X.ATTNAME
            , X.PKDATABASE
            , X.PKSCHEMA
            , X.PKRELATION
            , X.PKATTNAME
            , X.UPDT_TYPE
            , X.DEL_TYPE
        FROM 
            ${e.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.OBJID NOT IN (4,5)
            AND X.SCHEMA = '${r.toUpperCase()}'
            AND X.RELATION = '${n.toUpperCase()}'
        ORDER BY
            X.SCHEMA, X.RELATION, X.CONSEQ
    `,s=new Map;try{let o=await st(t,i);for(let a of o){let l=a.CONSTRAINTNAME;if(!s.has(l)){let u={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};s.set(l,{type:u[a.CONTYPE]||"UNKNOWN",typeChar:a.CONTYPE,columns:[],pkDatabase:a.PKDATABASE||null,pkSchema:a.PKSCHEMA||null,pkRelation:a.PKRELATION||null,pkColumns:[],updateType:a.UPDT_TYPE||"NO ACTION",deleteType:a.DEL_TYPE||"NO ACTION"})}let c=s.get(l);c.columns.push(a.ATTNAME),a.PKATTNAME&&c.pkColumns.push(a.PKATTNAME)}}catch(o){console.warn("Cannot retrieve keys info:",o)}return s}async function to(t,e,r,n){try{let i=`
            SELECT DESCRIPTION
            FROM ${e.toUpperCase()}.._V_OBJECT_DATA
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND OBJNAME = '${n.toUpperCase()}'
                AND OBJTYPE = 'TABLE'
        `,s=await st(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{try{let i=`
                SELECT DESCRIPTION
                FROM ${e.toUpperCase()}.._V_OBJECT_DATA
                WHERE SCHEMA = '${r.toUpperCase()}'
                    AND OBJNAME = '${n.toUpperCase()}'
            `,s=await st(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{}}return null}async function xc(t,e,r,n){try{let i=`
            SELECT OWNER
            FROM ${e.toUpperCase()}.._V_TABLE
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
        `,s=await st(t,i);if(s.length>0&&s[0].OWNER)return s[0].OWNER}catch{}return null}var Vf=Y(()=>{"use strict";Wn()});async function vc(t,e,r,n){let i=await Nn(t,e,r,n);if(i.length===0)throw new Error(`Table ${e}.${r}.${n} not found or has no columns`);let s=await Ci(t,e,r,n),o=await bi(t,e,r,n),a=await yi(t,e,r,n),l=await to(t,e,r,n);return wa(e,r,n,i,s,o,a,l)}function wa(t,e,r,n,i,s,o,a){if(n.length===0)return`-- Table ${t}.${e}.${r} has no columns or was not found`;let l=Ee(t),c=Ee(e),u=Ee(r),E=[];E.push(`CREATE TABLE ${l}.${c}.${u}`),E.push("(");let d=[];for(let f of n){let h=`    ${Ee(f.name)} ${f.fullTypeName}`;f.notNull&&(h+=" NOT NULL"),f.defaultValue!==null&&(h+=` DEFAULT ${f.defaultValue}`),d.push(h)}if(E.push(d.join(`,
`)),i.length>0){let f=i.map(T=>Ee(T));E.push(`)
DISTRIBUTE ON (${f.join(", ")})`)}else E.push(`)
DISTRIBUTE ON RANDOM`);if(s.length>0){let f=s.map(T=>Ee(T));E.push(`ORGANIZE ON (${f.join(", ")})`)}E.push(";"),E.push("");for(let[f,T]of o){let h=Ee(f),S=T.columns.map(p=>Ee(p));if(T.typeChar==="f"){let p=T.pkColumns.filter(I=>I).map(I=>Ee(I));p.length>0&&E.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${S.join(", ")}) REFERENCES ${T.pkDatabase}.${T.pkSchema}.${T.pkRelation} (${p.join(", ")}) ON DELETE ${T.deleteType} ON UPDATE ${T.updateType};`)}else(T.typeChar==="p"||T.typeChar==="u")&&E.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${S.join(", ")});`)}if(a){let f=a.replace(/'/g,"''");E.push(""),E.push(`COMMENT ON TABLE ${l}.${c}.${u} IS '${f}';`)}for(let f of n)if(f.description){let T=Ee(f.name),h=f.description.replace(/'/g,"''");E.push(`COMMENT ON COLUMN ${l}.${c}.${u}.${T} IS '${h}';`)}return E.join(`
`)}var kf=Y(()=>{"use strict";Wn();Vf()});async function ro(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            VIEWNAME,
            DEFINITION,
            OBJID::INT
        FROM ${e.toUpperCase()}.._V_VIEW
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND VIEWNAME = '${n.toUpperCase()}'
    `,o=await st(t,i);if(o.length===0)throw new Error(`View ${e}.${r}.${n} not found`);let a=o[0],l=Ee(e),c=Ee(r),u=Ee(n),E=[];return E.push(`CREATE OR REPLACE VIEW ${l}.${c}.${u} AS`),E.push(a.DEFINITION||""),E.join(`
`)}var qf=Y(()=>{"use strict";Wn()});async function no(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            OBJID::INT,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS,
            NULL AS LANGUAGE
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
        ORDER BY 1, 2, 3
    `,o=await st(t,i);if(o.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,procedureSource:a.PROCEDURESOURCE,objId:a.OBJID,returns:gy(a.RETURNS),executeAsOwner:!!a.EXECUTEDASOWNER,description:a.DESCRIPTION||null,procedureSignature:a.PROCEDURESIGNATURE,procedureName:a.PROCEDURE,arguments:a.ARGUMENTS||null},c=Ee(e),u=Ee(r),E=Ee(l.procedureName),d=[],f=`CREATE OR REPLACE PROCEDURE ${c}.${u}.${E}`;if(l.arguments){let T=l.arguments.trim();T.startsWith("(")&&T.endsWith(")")?f+=T:f+=`(${T})`}else f+="()";if(d.push(f),d.push(`RETURNS ${l.returns}`),l.executeAsOwner?d.push("EXECUTE AS OWNER"):d.push("EXECUTE AS CALLER"),d.push("LANGUAGE NZPLSQL AS"),d.push("BEGIN_PROC"),d.push(l.procedureSource),d.push("END_PROC;"),l.description){let T=l.description.replace(/'/g,"''");d.push(`COMMENT ON PROCEDURE ${E} IS '${T}';`)}return d.join(`
`)}var Xf=Y(()=>{"use strict";Wn()});async function io(t,e,r,n){let i=`
        SELECT 
            E1.SCHEMA,
            E1.TABLENAME,
            E2.EXTOBJNAME,
            E2.OBJID::INT,
            E1.DELIM,
            E1.ENCODING,
            E1.TIMESTYLE,
            E1.REMOTESOURCE,
            E1.SKIPROWS,
            E1.MAXERRORS,
            E1.ESCAPE,
            E1.LOGDIR,
            E1.DECIMALDELIM,
            E1.QUOTEDVALUE,
            E1.NULLVALUE,
            E1.CRINSTRING,
            E1.TRUNCSTRING,
            E1.CTRLCHARS,
            E1.IGNOREZERO,
            E1.TIMEEXTRAZEROS,
            E1.Y2BASE,
            E1.FILLRECORD,
            E1.COMPRESS,
            E1.INCLUDEHEADER,
            E1.LFINSTRING,
            E1.DATESTYLE,
            E1.DATEDELIM,
            E1.TIMEDELIM,
            E1.BOOLSTYLE,
            E1.FORMAT,
            E1.SOCKETBUFSIZE,
            E1.RECORDDELIM,
            E1.MAXROWS,
            E1.REQUIREQUOTES,
            E1.RECORDLENGTH,
            E1.DATETIMEDELIM,
            E1.REJECTFILE
        FROM 
            ${e.toUpperCase()}.._V_EXTERNAL E1
            JOIN ${e.toUpperCase()}.._V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE
                AND E1.SCHEMA = E2.SCHEMA
                AND E1.TABLENAME = E2.TABLENAME
        WHERE 
            E1.DATABASE = '${e.toUpperCase()}'
            AND E1.SCHEMA = '${r.toUpperCase()}'
            AND E1.TABLENAME = '${n.toUpperCase()}'
    `,s=await st(t,i);if(s.length===0)throw new Error(`External table ${e}.${r}.${n} not found`);let o=h=>{if(h==null)return null;if(typeof h=="boolean")return h;if(typeof h=="number")return h!==0;let S=String(h).toLowerCase();return S==="t"||S==="true"||S==="1"||S==="yes"||S==="on"},a=s[0],l={schema:a.SCHEMA,tableName:a.TABLENAME,dataObject:a.EXTOBJNAME||null,delimiter:a.DELIM||null,encoding:a.ENCODING||null,timeStyle:a.TIMESTYLE||null,remoteSource:a.REMOTESOURCE||null,skipRows:a.SKIPROWS||null,maxErrors:a.MAXERRORS||null,escapeChar:a.ESCAPE||null,logDir:a.LOGDIR||null,decimalDelim:a.DECIMALDELIM||null,quotedValue:a.QUOTEDVALUE||null,nullValue:a.NULLVALUE||null,crInString:o(a.CRINSTRING),truncString:o(a.TRUNCSTRING),ctrlChars:o(a.CTRLCHARS),ignoreZero:o(a.IGNOREZERO),timeExtraZeros:o(a.TIMEEXTRAZEROS),y2Base:a.Y2BASE||null,fillRecord:o(a.FILLRECORD),compress:o(a.COMPRESS),includeHeader:o(a.INCLUDEHEADER),lfInString:o(a.LFINSTRING),dateStyle:a.DATESTYLE||null,dateDelim:a.DATEDELIM||null,timeDelim:a.TIMEDELIM||null,boolStyle:a.BOOLSTYLE||null,format:a.FORMAT||null,socketBufSize:a.SOCKETBUFSIZE||null,recordDelim:a.RECORDDELIM?String(a.RECORDDELIM).replace(/\r/g,"\\r").replace(/\n/g,"\\n"):null,maxRows:a.MAXROWS||null,requireQuotes:o(a.REQUIREQUOTES),recordLength:a.RECORDLENGTH||null,dateTimeDelim:a.DATETIMEDELIM||null,rejectFile:a.REJECTFILE||null},c=await Nn(t,e,r,n),u=Ee(e),E=Ee(r),d=Ee(n),f=[];f.push(`CREATE EXTERNAL TABLE ${u}.${E}.${d}`),f.push("(");let T=c.map(h=>{let S=`    ${Ee(h.name)} ${h.fullTypeName}`;return h.notNull&&(S+=" NOT NULL"),S});return f.push(T.join(`,
`)),f.push(")"),f.push("USING"),f.push("("),l.dataObject!==null&&f.push(`    DATAOBJECT('${l.dataObject}')`),l.delimiter!==null&&f.push(`    DELIMITER '${l.delimiter}'`),l.encoding!==null&&f.push(`    ENCODING '${l.encoding}'`),l.timeStyle!==null&&f.push(`    TIMESTYLE '${l.timeStyle}'`),l.remoteSource!==null&&f.push(`    REMOTESOURCE '${l.remoteSource}'`),l.maxErrors!==null&&f.push(`    MAXERRORS ${l.maxErrors}`),l.escapeChar!==null&&f.push(`    ESCAPECHAR '${l.escapeChar}'`),l.decimalDelim!==null&&f.push(`    DECIMALDELIM '${l.decimalDelim}'`),l.logDir!==null&&f.push(`    LOGDIR '${l.logDir}'`),l.quotedValue!==null&&f.push(`    QUOTEDVALUE '${l.quotedValue}'`),l.nullValue!==null&&f.push(`    NULLVALUE '${l.nullValue}'`),l.crInString!==null&&f.push(`    CRINSTRING ${l.crInString}`),l.truncString!==null&&f.push(`    TRUNCSTRING ${l.truncString}`),l.ctrlChars!==null&&f.push(`    CTRLCHARS ${l.ctrlChars}`),l.ignoreZero!==null&&f.push(`    IGNOREZERO ${l.ignoreZero}`),l.timeExtraZeros!==null&&f.push(`    TIMEEXTRAZEROS ${l.timeExtraZeros}`),l.y2Base!==null&&f.push(`    Y2BASE ${l.y2Base}`),l.fillRecord!==null&&f.push(`    FILLRECORD ${l.fillRecord}`),l.compress!==null&&f.push(`    COMPRESS ${l.compress}`),l.includeHeader!==null&&f.push(`    INCLUDEHEADER ${l.includeHeader}`),l.lfInString!==null&&f.push(`    LFINSTRING ${l.lfInString}`),l.dateStyle!==null&&f.push(`    DATESTYLE '${l.dateStyle}'`),l.dateDelim!==null&&f.push(`    DATEDELIM '${l.dateDelim}'`),l.timeDelim!==null&&f.push(`    TIMEDELIM '${l.timeDelim}'`),l.boolStyle!==null&&f.push(`    BOOLSTYLE '${l.boolStyle}'`),l.format!==null&&f.push(`    FORMAT '${l.format}'`),l.socketBufSize!==null&&f.push(`    SOCKETBUFSIZE ${l.socketBufSize}`),l.recordDelim!==null&&f.push(`    RECORDDELIM '${l.recordDelim}'`),l.maxRows!==null&&f.push(`    MAXROWS ${l.maxRows}`),l.requireQuotes!==null&&f.push(`    REQUIREQUOTES ${l.requireQuotes}`),l.recordLength!==null&&f.push(`    RECORDLENGTH ${l.recordLength}`),l.dateTimeDelim!==null&&f.push(`    DATETIMEDELIM '${l.dateTimeDelim}'`),l.rejectFile!==null&&f.push(`    REJECTFILE '${l.rejectFile}'`),f.push(");"),f.join(`
`)}var Kf=Y(()=>{"use strict";Wn();Vf()});async function so(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            OWNER,
            SYNONYM_NAME,
            REFOBJNAME,
            DESCRIPTION
        FROM ${e.toUpperCase()}.._V_SYNONYM
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND SYNONYM_NAME = '${n.toUpperCase()}'
    `,o=await st(t,i);if(o.length===0)throw new Error(`Synonym ${e}.${r}.${n} not found`);let a=o[0],l=Ee(e),c=Ee(a.OWNER||r),u=Ee(n),E=a.REFOBJNAME,d=[];if(d.push(`CREATE SYNONYM ${l}.${c}.${u} FOR ${E};`),a.DESCRIPTION){let f=a.DESCRIPTION.replace(/'/g,"''");d.push(`COMMENT ON SYNONYM ${u} IS '${f}';`)}return d.join(`
`)}var zf=Y(()=>{"use strict";Wn()});async function gR(t){let e=null,r=[],n=[],i=0,s=0,o=["TABLE","VIEW","PROCEDURE","EXTERNAL TABLE","SYNONYM"];try{let a={host:t.connectionDetails.host,port:t.connectionDetails.port||5480,database:t.connectionDetails.database,user:t.connectionDetails.user,password:t.connectionDetails.password},l=nr();e=new l(a),await e.connect();let c=t.database.toUpperCase(),u=t.schema?t.schema.toUpperCase():null,E=t.objectTypes?t.objectTypes.map(A=>A.toUpperCase()).filter(A=>o.includes(A)):o;E.length===0&&(E=o),n.push("-- ============================================"),n.push("-- Batch DDL Export"),n.push(`-- Database: ${c}`),u&&n.push(`-- Schema: ${u}`),n.push(`-- Object Types: ${E.join(", ")}`),n.push(`-- Generated: ${new Date().toISOString()}`),n.push("-- ============================================"),n.push("");let d=new Map,f=new Map,T=new Map,h=new Map,S=new Map,p=E.includes("TABLE"),I=E.includes("VIEW"),R=E.includes("EXTERNAL TABLE");if(p||I||R){let A=u?`AND D.SCHEMA = '${u}'`:"",O=`
                SELECT 
                    D.SCHEMA,
                    D.OBJNAME,
                    D.OBJTYPE,
                    X.ATTNAME,
                    X.DESCRIPTION,
                    X.FORMAT_TYPE AS FULL_TYPE,
                    X.ATTNOTNULL::BOOL AS ATTNOTNULL,
                    X.COLDEFAULT
                FROM ${c}.._V_RELATION_COLUMN X
                INNER JOIN ${c}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
                WHERE D.DBNAME = '${c}'
                    AND D.OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                    ${A}
                ORDER BY D.SCHEMA, D.OBJNAME, X.ATTNUM
            `;try{let L=await st(e,O);for(let N of L){let D=`${N.SCHEMA}.${N.OBJNAME}`;d.has(D)||d.set(D,[]);let y=!1,P=N.ATTNOTNULL;if(typeof P=="boolean")y=P;else if(typeof P=="number")y=P!==0;else if(typeof P=="string"){let x=P.trim().toLowerCase();y=x==="t"||x==="true"||x==="1"}d.get(D).push({name:N.ATTNAME,description:N.DESCRIPTION||null,fullTypeName:N.FULL_TYPE,notNull:y,defaultValue:N.COLDEFAULT||null})}}catch(L){let N=L instanceof Error?L.message:String(L);r.push(`Error bulk fetching columns: ${N}`)}}if(p){let A=u?`AND SCHEMA = '${u}'`:"",O=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_DIST_MAP
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, DISTSEQNO
            `;try{let L=await st(e,O);for(let N of L){let D=`${N.SCHEMA}.${N.TABLENAME}`;f.has(D)||f.set(D,[]),f.get(D).push(N.ATTNAME)}}catch{}}if(p){let A=u?`AND SCHEMA = '${u}'`:"",O=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_ORGANIZE_COLUMN
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, ORGSEQNO
            `;try{let L=await st(e,O);for(let N of L){let D=`${N.SCHEMA}.${N.TABLENAME}`;T.has(D)||T.set(D,[]),T.get(D).push(N.ATTNAME)}}catch{}}if(p){let A=u?`AND X.SCHEMA = '${u}'`:"",O=`
                SELECT 
                    X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONTYPE,
                    X.ATTNAME, X.PKDATABASE, X.PKSCHEMA, X.PKRELATION, X.PKATTNAME,
                    X.UPDT_TYPE, X.DEL_TYPE
                FROM ${c}.._V_RELATION_KEYDATA X
                WHERE X.OBJID NOT IN (4,5) ${A}
                ORDER BY X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONSEQ
            `;try{let L=await st(e,O);for(let N of L){let D=`${N.SCHEMA}.${N.RELATION}`;h.has(D)||h.set(D,new Map);let y=h.get(D),P=N.CONSTRAINTNAME;if(!y.has(P)){let B={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};y.set(P,{type:B[N.CONTYPE]||"UNKNOWN",typeChar:N.CONTYPE,columns:[],pkDatabase:N.PKDATABASE||null,pkSchema:N.PKSCHEMA||null,pkRelation:N.PKRELATION||null,pkColumns:[],updateType:N.UPDT_TYPE||"NO ACTION",deleteType:N.DEL_TYPE||"NO ACTION"})}let x=y.get(P);x.columns.push(N.ATTNAME),N.PKATTNAME&&x.pkColumns.push(N.PKATTNAME)}}catch{}}if(p){let A=u?`AND SCHEMA = '${u}'`:"",O=`
                SELECT SCHEMA, OBJNAME, DESCRIPTION
                FROM ${c}.._V_OBJECT_DATA
                WHERE DBNAME = '${c}' AND OBJTYPE = 'TABLE' AND DESCRIPTION IS NOT NULL ${A}
            `;try{let L=await st(e,O);for(let N of L)N.DESCRIPTION&&S.set(`${N.SCHEMA}.${N.OBJNAME}`,N.DESCRIPTION)}catch{}}for(let A of E){let O=[];try{if(A==="PROCEDURE"){let L=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA FROM ${c}.._V_PROCEDURE WHERE DATABASE = '${c}'`;u&&(L+=` AND SCHEMA = '${u}'`),L+=" ORDER BY SCHEMA, PROCEDURESIGNATURE",O=(await st(e,L)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}else{let L=`SELECT OBJNAME, SCHEMA FROM ${c}.._V_OBJECT_DATA WHERE DBNAME = '${c}' AND OBJTYPE = '${A}'`;u&&(L+=` AND SCHEMA = '${u}'`),L+=" ORDER BY SCHEMA, OBJNAME",O=(await st(e,L)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}}catch(L){let N=L instanceof Error?L.message:String(L);r.push(`Error querying ${A}s: ${N}`);continue}if(O.length!==0){n.push("-- ----------------------------------------"),n.push(`-- ${A}S (${O.length})`),n.push("-- ----------------------------------------"),n.push("");for(let L of O)try{let N,D=`${L.schema}.${L.name}`;switch(A){case"TABLE":N=wa(c,L.schema,L.name,d.get(D)||[],f.get(D)||[],T.get(D)||[],h.get(D)||new Map,S.get(D)||null);break;case"VIEW":N=await ro(e,c,L.schema,L.name);break;case"PROCEDURE":N=await no(e,c,L.schema,L.name);break;case"EXTERNAL TABLE":N=await io(e,c,L.schema,L.name);break;case"SYNONYM":N=await so(e,c,L.schema,L.name);break;default:s++;continue}n.push(`-- ${A}: ${c}.${L.schema}.${L.name}`),n.push(N),n.push(""),i++}catch(N){let D=N instanceof Error?N.message:String(N);r.push(`Error generating DDL for ${A} ${c}.${L.schema}.${L.name}: ${D}`),s++}}}return n.push("-- ============================================"),n.push("-- End of Batch DDL Export"),n.push(`-- Total objects: ${i}`),s>0&&n.push(`-- Skipped: ${s}`),r.length>0&&n.push(`-- Errors: ${r.length}`),n.push("-- ============================================"),{success:!0,ddlCode:n.join(`
`),objectCount:i,errors:r,skipped:s}}catch(a){return{success:!1,objectCount:0,errors:[`Batch DDL generation error: ${a instanceof Error?a.message:String(a)}`],skipped:0}}finally{if(e)try{await e.close()}catch{}}}var by=Y(()=>{"use strict";Wn();kf();qf();Xf();Kf();zf()});async function CR(t,e,r,n,i){let s=null;try{s=await Cy(t);let o=i.toUpperCase();return o==="TABLE"?{success:!0,ddlCode:await vc(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="VIEW"?{success:!0,ddlCode:await ro(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="PROCEDURE"?{success:!0,ddlCode:await no(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="EXTERNAL TABLE"?{success:!0,ddlCode:await io(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="SYNONYM"?{success:!0,ddlCode:await so(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:{success:!0,ddlCode:`-- DDL generation for ${i} not yet implemented
-- Object: ${e}.${r}.${n}
-- Type: ${i}
--
-- This feature can be extended to support:
-- - FUNCTION: Query _V_FUNCTION system table
-- - AGGREGATE: Query _V_AGGREGATE system table
`,objectInfo:{database:e,schema:r,objectName:n,objectType:i},note:`${i} DDL generation not yet implemented`}}catch(o){return{success:!1,error:`DDL generation error: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}var yy=Y(()=>{"use strict";Wn();kf();qf();Xf();Kf();zf()});var Ly=Y(()=>{"use strict";my();Wn();Vf();kf();qf();Xf();Kf();zf();by();yy()});var bR={};Dt(bR,{buildTableDDLFromCache:()=>wa,generateBatchDDL:()=>gR,generateDDL:()=>CR,generateExternalTableDDL:()=>io,generateProcedureDDL:()=>no,generateSynonymDDL:()=>so,generateTableDDL:()=>vc,generateViewDDL:()=>ro,getColumns:()=>Nn,getDistributionInfo:()=>Ci,getKeysInfo:()=>yi,getOrganizeInfo:()=>bi,getTableComment:()=>to,getTableOwner:()=>xc,quoteNameIfNeeded:()=>Ee});var Uc=Y(()=>{"use strict";Ly()});var wy={};Dt(wy,{generateRecreateTableScript:()=>yj});async function yj(t,e,r,n,i){let s=null;try{let o={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},a=nr();s=new a(o),await s.connect();let l=await Nn(s,e,r,n);if(l.length===0)return{success:!1,error:`Table ${e}.${r}.${n} not found or has no columns`};let c=await Ci(s,e,r,n),u=await bi(s,e,r,n),E=await yi(s,e,r,n),d=await to(s,e,r,n),f=await xc(s,e,r,n),T=Ee(e),h=Ee(r),S=Ee(n),p=new Date().toISOString().replace(/[-:T.]/g,"").substring(0,14),I=Math.random().toString(36).substring(2,7).toUpperCase(),R=i||`${n}_${p}_NEW`,A=Ee(R),O=`${n}_${p}_BACKUP_${I}`,L=Ee(O),N=[];N.push(`-- Recreate Table Script for ${T}.${h}.${S}`),N.push(`-- Generated at ${new Date().toISOString()}`),N.push(""),N.push("-- 1. Create new table with desired structure"),N.push(`CREATE TABLE ${T}.${h}.${A}`),N.push("(");let D=[];for(let P of l){let B=`    ${Ee(P.name)} ${P.fullTypeName}`;P.notNull&&(B+=" NOT NULL"),P.defaultValue!==null&&(B+=` DEFAULT ${P.defaultValue}`),D.push(B)}if(N.push(D.join(`,
`)),c.length>0){let P=c.map(x=>Ee(x));N.push(`)
DISTRIBUTE ON (${P.join(", ")})`)}else N.push(`)
DISTRIBUTE ON RANDOM`);if(u.length>0){let P=u.map(x=>Ee(x));N.push(`ORGANIZE ON (${P.join(", ")})`)}if(N.push(";"),N.push(""),N.push("-- 2. Copy data from original table"),N.push(`INSERT INTO ${T}.${h}.${A} SELECT * FROM ${T}.${h}.${S};`),N.push(""),N.push("-- 3. Copy privileges from original table"),N.push(`ALTER TABLE ${T}.${h}.${A} SET PRIVILEGES TO ${T}.${h}.${S};`),N.push(""),N.push("-- 4. Swap tables: Rename Original to Backup, New to Original"),N.push(`ALTER TABLE ${T}.${h}.${S} RENAME TO ${L};`),N.push(`ALTER TABLE ${T}.${h}.${A} RENAME TO ${S};`),N.push(""),f&&(N.push("-- 5. Restore Owner"),N.push(`ALTER TABLE ${T}.${h}.${S} OWNER TO ${f};`),N.push("")),N.push("-- 6. Drop Backup Table (Optional - Comment out if you want to keep it)"),N.push(`DROP TABLE ${T}.${h}.${L};`),N.push(""),E.size>0){N.push("-- 7. Restore Constraints");for(let[P,x]of E){let B=Ee(P),G=x.columns.map(z=>Ee(z)),k="";if(x.typeChar==="f"){let z=x.pkColumns.filter(ne=>ne).map(ne=>Ee(ne));z.length>0&&(k=`ALTER TABLE ${T}.${h}.${S} ADD CONSTRAINT ${B} ${x.type} (${G.join(", ")}) REFERENCES ${x.pkDatabase}.${x.pkSchema}.${x.pkRelation} (${z.join(", ")}) ON DELETE ${x.deleteType} ON UPDATE ${x.updateType};`)}else(x.typeChar==="p"||x.typeChar==="u")&&(k=`ALTER TABLE ${T}.${h}.${S} ADD CONSTRAINT ${B} ${x.type} (${G.join(", ")});`);k&&N.push(k)}N.push("")}if(d){let P=d.replace(/'/g,"''");N.push("-- 8. Restore Comments"),N.push(`COMMENT ON TABLE ${T}.${h}.${S} IS '${P}';`)}let y=[];for(let P of l)if(P.description){let x=Ee(P.name),B=P.description.replace(/'/g,"''");y.push(`COMMENT ON COLUMN ${T}.${h}.${S}.${x} IS '${B}';`)}return y.length>0&&(d||N.push("-- 8. Restore Comments"),N.push(y.join(`
`)),N.push("")),N.push("-- 9. Generate Statistics"),N.push(`GENERATE EXPRESS STATISTICS ON ${T}.${h}.${S};`),{success:!0,sqlScript:N.join(`
`)}}catch(o){return{success:!1,error:`Error generating recreate script: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}var Dy=Y(()=>{"use strict";Uc()});var yR={};Dt(yR,{compareProcedures:()=>xj,compareTableStructures:()=>Pj});async function Lj(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}async function My(t,e,r,n){let i=await Nn(t,e,r,n),s=await yi(t,e,r,n),o=await Ci(t,e,r,n),a=await bi(t,e,r,n);return{database:e,schema:r,tableName:n,columns:i,keys:s,distribution:o,organization:a}}function wj(t,e){let r=[];return t.fullTypeName!==e.fullTypeName&&r.push(`Type: ${t.fullTypeName} \u2192 ${e.fullTypeName}`),t.notNull!==e.notNull&&r.push(`NOT NULL: ${t.notNull} \u2192 ${e.notNull}`),t.defaultValue!==e.defaultValue&&r.push(`Default: ${t.defaultValue||"NULL"} \u2192 ${e.defaultValue||"NULL"}`),r}function Dj(t,e){let r=[];return t.type!==e.type&&r.push(`Type: ${t.type} \u2192 ${e.type}`),t.columns.join(",")!==e.columns.join(",")&&r.push(`Columns: (${t.columns.join(", ")}) \u2192 (${e.columns.join(", ")})`),t.typeChar==="f"&&e.typeChar==="f"&&t.pkRelation!==e.pkRelation&&r.push(`References: ${t.pkRelation} \u2192 ${e.pkRelation}`),r}async function Pj(t,e,r,n,i,s,o){let a=null;try{let l={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},c=nr();a=new c(l),await a.connect();let u=await My(a,e,r,n),E=await My(a,i,s,o),d=[],f=new Map(u.columns.map(O=>[O.name.toUpperCase(),O])),T=new Map(E.columns.map(O=>[O.name.toUpperCase(),O]));for(let[O,L]of f){let N=T.get(O);if(!N)d.push({name:L.name,status:"removed",sourceColumn:L});else{let D=wj(L,N);d.push({name:L.name,status:D.length>0?"modified":"unchanged",sourceColumn:L,targetColumn:N,changes:D})}}for(let[O,L]of T)f.has(O)||d.push({name:L.name,status:"added",targetColumn:L});let h=[],S=u.keys,p=E.keys;for(let[O,L]of S){let N=p.get(O);if(!N)h.push({name:O,status:"removed",sourceKey:L});else{let D=Dj(L,N);h.push({name:O,status:D.length>0?"modified":"unchanged",sourceKey:L,targetKey:N,changes:D})}}for(let[O,L]of p)S.has(O)||h.push({name:O,status:"added",targetKey:L});let I=JSON.stringify(u.distribution)===JSON.stringify(E.distribution),R=JSON.stringify(u.organization)===JSON.stringify(E.organization),A={columnsAdded:d.filter(O=>O.status==="added").length,columnsRemoved:d.filter(O=>O.status==="removed").length,columnsModified:d.filter(O=>O.status==="modified").length,columnsUnchanged:d.filter(O=>O.status==="unchanged").length,keysAdded:h.filter(O=>O.status==="added").length,keysRemoved:h.filter(O=>O.status==="removed").length,keysModified:h.filter(O=>O.status==="modified").length};return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},columnDiffs:d,keyDiffs:h,distributionMatch:I,sourceDistribution:u.distribution,targetDistribution:E.distribution,organizationMatch:R,sourceOrganization:u.organization,targetOrganization:E.organization,summary:A}}finally{if(a)try{await a.close()}catch{}}}async function xy(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
    `,s=await Lj(t,i);if(s.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let o=s[0];return{database:e,schema:r,procedureName:o.PROCEDURE,procedureSignature:o.PROCEDURESIGNATURE,arguments:o.ARGUMENTS||null,returns:o.RETURNS,executeAsOwner:!!o.EXECUTEDASOWNER,source:o.PROCEDURESOURCE,description:o.DESCRIPTION||null}}function Mj(t,e){let r=t.split(`
`).map(o=>o.trimEnd()),n=e.split(`
`).map(o=>o.trimEnd()),i=[],s=Math.max(r.length,n.length);for(let o=0;o<s;o++){let a=r[o]||"",l=n[o]||"";a===l?i.push(`  ${a}`):r[o]?n[o]?(i.push(`- ${a}`),i.push(`+ ${l}`)):i.push(`- ${a}`):i.push(`+ ${l}`)}return i}async function xj(t,e,r,n,i,s,o){let a=null;try{let l={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},c=nr();a=new c(l),await a.connect();let u=await xy(a,e,r,n),E=await xy(a,i,s,o),d=u.arguments===E.arguments,f=u.returns===E.returns,T=u.executeAsOwner===E.executeAsOwner,h=u.source.trim()===E.source.trim(),S=h?[]:Mj(u.source,E.source);return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},argumentsMatch:d,sourceArguments:u.arguments,targetArguments:E.arguments,returnsMatch:f,sourceReturns:u.returns,targetReturns:E.returns,executeAsOwnerMatch:T,sourceExecuteAsOwner:u.executeAsOwner,targetExecuteAsOwner:E.executeAsOwner,sourceMatch:h,sourceCode:u.source,targetCode:E.source,sourceDiff:S}}finally{if(a)try{await a.close()}catch{}}}var LR=Y(()=>{"use strict";Uc()});var DR={};Dt(DR,{SchemaCompareView:()=>wR});var ds,wR,PR=Y(()=>{"use strict";ds=Q(require("vscode")),wR=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.schemaCompare"}static createOrShow(e,r,n){let i=ds.window.activeTextEditor?ds.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._update(r,n);return}let s=ds.window.createWebviewPanel(t.viewType,"Schema Comparison",i||ds.ViewColumn.One,{enableScripts:!0,localResourceRoots:[ds.Uri.joinPath(e,"media")]});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){r==="table"?(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getTableComparisonHtml(e)):(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getProcedureComparisonHtml(e))}_getStatusIcon(e){switch(e){case"added":return"\u{1F7E2}";case"removed":return"\u{1F534}";case"modified":return"\u{1F7E1}";case"unchanged":return"\u26AA"}}_getStatusClass(e){return`status-${e}`}_getTableComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.columnDiffs.map(l=>{let c=l.sourceColumn,u=l.targetColumn,E=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.fullTypeName||"-"}</td>
                    <td>${u?.fullTypeName||"-"}</td>
                    <td class="changes">${E}</td>
                </tr>
            `}).join(""),s=e.keyDiffs.map(l=>{let c=l.sourceKey,u=l.targetKey,E=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.type||"-"} (${c?.columns.join(", ")||"-"})</td>
                    <td>${u?.type||"-"} (${u?.columns.join(", ")||"-"})</td>
                    <td class="changes">${E}</td>
                </tr>
            `}).join(""),o=e.distributionMatch?"\u2705 Match":"\u274C Different",a=e.organizationMatch?"\u2705 Match":"\u274C Different";return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Schema Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Table Structure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="summary">
                        <h2>Summary</h2>
                        <div class="summary-grid">
                            <div class="summary-item added">\u{1F7E2} Added: ${e.summary.columnsAdded} columns, ${e.summary.keysAdded} keys</div>
                            <div class="summary-item removed">\u{1F534} Removed: ${e.summary.columnsRemoved} columns, ${e.summary.keysRemoved} keys</div>
                            <div class="summary-item modified">\u{1F7E1} Modified: ${e.summary.columnsModified} columns, ${e.summary.keysModified} keys</div>
                            <div class="summary-item unchanged">\u26AA Unchanged: ${e.summary.columnsUnchanged} columns</div>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Columns</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Column Name</th>
                                    <th>Source Type</th>
                                    <th>Target Type</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${i}
                            </tbody>
                        </table>
                    </div>

                    ${e.keyDiffs.length>0?`
                    <div class="section">
                        <h2>Keys & Constraints</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Key Name</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${s}
                            </tbody>
                        </table>
                    </div>
                    `:""}

                    <div class="section">
                        <h2>Distribution & Organization</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>DISTRIBUTE ON</strong></td>
                                    <td>${e.sourceDistribution.length>0?e.sourceDistribution.join(", "):"RANDOM"}</td>
                                    <td>${e.targetDistribution.length>0?e.targetDistribution.join(", "):"RANDOM"}</td>
                                    <td>${o}</td>
                                </tr>
                                <tr>
                                    <td><strong>ORGANIZE ON</strong></td>
                                    <td>${e.sourceOrganization.length>0?e.sourceOrganization.join(", "):"(none)"}</td>
                                    <td>${e.targetOrganization.length>0?e.targetOrganization.join(", "):"(none)"}</td>
                                    <td>${a}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </body>
            </html>
        `}_getProcedureComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.sourceDiff.map(s=>{let o="";return s.startsWith("+")?o="diff-added":s.startsWith("-")?o="diff-removed":o="diff-unchanged",`<div class="${o}">${this._escapeHtml(s)}</div>`}).join("");return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Procedure Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Procedure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Signature Comparison</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Match</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="${e.argumentsMatch?"":"status-modified"}">
                                    <td><strong>Arguments</strong></td>
                                    <td><code>${e.sourceArguments||"(none)"}</code></td>
                                    <td><code>${e.targetArguments||"(none)"}</code></td>
                                    <td>${e.argumentsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.returnsMatch?"":"status-modified"}">
                                    <td><strong>Returns</strong></td>
                                    <td><code>${e.sourceReturns}</code></td>
                                    <td><code>${e.targetReturns}</code></td>
                                    <td>${e.returnsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.executeAsOwnerMatch?"":"status-modified"}">
                                    <td><strong>Execute As</strong></td>
                                    <td>${e.sourceExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.targetExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.executeAsOwnerMatch?"\u2705":"\u274C"}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section">
                        <h2>Source Code ${e.sourceMatch?"\u2705 Identical":"\u274C Different"}</h2>
                        ${e.sourceMatch?`
                            <div class="code-block">
                                <pre>${this._escapeHtml(e.sourceCode)}</pre>
                            </div>
                        `:`
                            <div class="code-diff">
                                <pre>${i}</pre>
                            </div>
                        `}
                    </div>
                </div>
            </body>
            </html>
        `}_escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --added-bg: rgba(40, 167, 69, 0.2);
                --removed-bg: rgba(220, 53, 69, 0.2);
                --modified-bg: rgba(255, 193, 7, 0.2);
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .container {
                max-width: 1400px;
                margin: 0 auto;
            }

            h1 {
                border-bottom: 1px solid var(--border-color);
                padding-bottom: 10px;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.1em;
                margin-top: 25px;
                margin-bottom: 10px;
                color: var(--vscode-textLink-foreground);
            }

            .header-info {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 20px;
                padding: 15px;
                background-color: var(--header-bg);
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .header-info .label {
                font-weight: bold;
                margin-right: 8px;
            }

            .header-info .value {
                font-family: monospace;
                background-color: var(--vscode-textCodeBlock-background);
                padding: 4px 8px;
                border-radius: 4px;
            }

            .arrow {
                font-size: 1.5em;
                color: var(--vscode-charts-blue);
            }

            .summary {
                background-color: var(--header-bg);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .summary h2 {
                margin-top: 0;
            }

            .summary-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 10px;
            }

            .summary-item {
                padding: 8px;
                border-radius: 4px;
            }

            .summary-item.added { background-color: var(--added-bg); }
            .summary-item.removed { background-color: var(--removed-bg); }
            .summary-item.modified { background-color: var(--modified-bg); }

            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            tr.status-added {
                background-color: var(--added-bg);
            }

            tr.status-removed {
                background-color: var(--removed-bg);
            }

            tr.status-modified {
                background-color: var(--modified-bg);
            }

            .changes {
                font-size: 0.9em;
                color: var(--vscode-descriptionForeground);
            }

            .code-block, .code-diff {
                background-color: var(--vscode-textCodeBlock-background);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                padding: 15px;
                overflow-x: auto;
            }

            .code-block pre, .code-diff pre {
                margin: 0;
                font-family: var(--vscode-editor-font-family);
                font-size: var(--vscode-editor-font-size);
                white-space: pre;
            }

            .diff-added {
                background-color: var(--added-bg);
                color: #28a745;
            }

            .diff-removed {
                background-color: var(--removed-bg);
                color: #dc3545;
            }

            .diff-unchanged {
                color: var(--fg-color);
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var Fy={};Dt(Fy,{buildERDData:()=>vj,getForeignKeysForSchema:()=>Uy,getTablesInSchema:()=>By});async function Uy(t,e,r,n,i){let s=`
        SELECT 
            X.SCHEMA,
            X.RELATION AS FROM_TABLE,
            X.CONSTRAINTNAME,
            X.ATTNAME AS FROM_COLUMN,
            X.PKDATABASE,
            X.PKSCHEMA,
            X.PKRELATION AS TO_TABLE,
            X.PKATTNAME AS TO_COLUMN,
            X.UPDT_TYPE,
            X.DEL_TYPE,
            X.CONSEQ
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'f'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY
            X.CONSTRAINTNAME, X.CONSEQ
    `,o=new Map;try{let a=await X(t,s,!0,r,e);if(!a)return[];let l=JSON.parse(a);for(let c of l){let u=c.CONSTRAINTNAME,E=`${c.SCHEMA}.${c.FROM_TABLE}`,d=`${c.PKSCHEMA}.${c.TO_TABLE}`;o.has(u)||o.set(u,{constraintName:u,fromTable:E,toTable:d,fromColumns:[],toColumns:[],onDelete:c.DEL_TYPE||"NO ACTION",onUpdate:c.UPDT_TYPE||"NO ACTION"});let f=o.get(u);f.fromColumns.push(c.FROM_COLUMN),f.toColumns.push(c.TO_COLUMN)}}catch(a){console.warn("Cannot retrieve FK relationships:",a)}return Array.from(o.values())}async function By(t,e,r,n,i){let s=`
        SELECT 
            T.TABLENAME,
            T.OWNER
        FROM 
            ${n.toUpperCase()}.._V_TABLE T
        WHERE 
            T.SCHEMA = '${i.toUpperCase()}'
        ORDER BY T.TABLENAME
    `,o=`
        SELECT 
            A.NAME AS TABLENAME,
            A.ATTNAME,
            A.FORMAT_TYPE
        FROM 
            ${n.toUpperCase()}.._V_RELATION_COLUMN A
        WHERE 
            A.SCHEMA = '${i.toUpperCase()}'
            AND A.TYPE = 'TABLE'
        ORDER BY A.NAME, A.ATTNUM
    `,a=`
        SELECT 
            X.RELATION,
            X.ATTNAME
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'p'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY X.RELATION, X.CONSEQ
    `,l=new Map;try{let c=await X(t,s,!0,r,e);if(c){let d=JSON.parse(c);for(let f of d){let T=f.TABLENAME;l.set(T,{database:n,schema:i,tableName:T,fullName:`${i}.${T}`,columns:[],primaryKeyColumns:[]})}}let u=await X(t,o,!0,r,e);if(u){let d=JSON.parse(u);for(let f of d){let T=l.get(f.TABLENAME);T&&T.columns.push({name:f.ATTNAME,dataType:f.FORMAT_TYPE,isPrimaryKey:!1,isForeignKey:!1})}}let E=await X(t,a,!0,r,e);if(E){let d=JSON.parse(E);for(let f of d){let T=l.get(f.RELATION);if(T){T.primaryKeyColumns.push(f.ATTNAME);let h=T.columns.find(S=>S.name===f.ATTNAME);h&&(h.isPrimaryKey=!0)}}}}catch(c){console.warn("Cannot retrieve table information:",c)}return Array.from(l.values())}async function vj(t,e,r,n,i){let[s,o]=await Promise.all([By(t,e,r,n,i),Uy(t,e,r,n,i)]);for(let c of o){let u=c.fromTable.split(".")[1],E=s.find(d=>d.tableName===u);if(E)for(let d of c.fromColumns){let f=E.columns.find(T=>T.name===d);f&&(f.isForeignKey=!0)}}let a=new Set;for(let c of o)a.add(c.fromTable.split(".")[1]),a.add(c.toTable.split(".")[1]);let l=s.filter(c=>a.has(c.tableName)||s.length<=20);return{database:n,schema:i,tables:l,relationships:o}}var Gy=Y(()=>{"use strict";Rr()});var Hy={};Dt(Hy,{ERDView:()=>MR});var hs,MR,Wy=Y(()=>{"use strict";hs=Q(require("vscode")),MR=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.erdView"}static createOrShow(e,r){let n=hs.window.activeTextEditor?hs.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n),t.currentPanel._update(r);return}let i=hs.window.createWebviewPanel(t.viewType,`ERD: ${r.database}.${r.schema}`,n||hs.ViewColumn.One,{enableScripts:!0,localResourceRoots:[hs.Uri.joinPath(e,"media")]});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){this._panel.title=`ERD: ${e.database}.${e.schema}`,this._panel.webview.html=this._getHtml(e)}_getHtml(e){let r=this._generateTableBoxes(e.tables,e.relationships),n=e.relationships.length,i=e.tables.length;return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Entity Relationship Diagram</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>Entity Relationship Diagram</h1>
                    <div class="header-info">
                        <span class="badge">${e.database}.${e.schema}</span>
                        <span class="stat">${i} tables</span>
                        <span class="stat">${n} relationships</span>
                    </div>
                </div>

                <div class="legend">
                    <span class="legend-item"><span class="pk-indicator">\u{1F511}</span> Primary Key</span>
                    <span class="legend-item"><span class="fk-indicator">\u{1F517}</span> Foreign Key</span>
                </div>

                ${n===0?`
                    <div class="no-relationships">
                        <p>\u26A0\uFE0F No foreign key relationships found in this schema.</p>
                        <p>Tables are displayed but no relationship lines can be drawn.</p>
                    </div>
                `:""}

                <div class="erd-container" id="erdContainer">
                    <div class="erd-canvas" id="erdCanvas">
                        ${r}
                        <svg class="relationships-svg" id="relationshipsSvg"></svg>
                    </div>
                </div>

                <div class="relationships-table">
                    <h2>Foreign Key Relationships</h2>
                    ${n>0?`
                        <table>
                            <thead>
                                <tr>
                                    <th>Constraint Name</th>
                                    <th>From Table</th>
                                    <th>Column(s)</th>
                                    <th>\u2192</th>
                                    <th>To Table</th>
                                    <th>Column(s)</th>
                                    <th>On Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${e.relationships.map(s=>`
                                    <tr>
                                        <td><code>${s.constraintName}</code></td>
                                        <td><strong>${s.fromTable}</strong></td>
                                        <td>${s.fromColumns.join(", ")}</td>
                                        <td>\u2192</td>
                                        <td><strong>${s.toTable}</strong></td>
                                        <td>${s.toColumns.join(", ")}</td>
                                        <td>${s.onDelete}</td>
                                    </tr>
                                `).join("")}
                            </tbody>
                        </table>
                    `:"<p>No foreign key relationships defined.</p>"}
                </div>

                <script>
                    ${this._getScript(e)}
                </script>
            </body>
            </html>
        `}_generateTableBoxes(e,r){let n=new Map,i=new Map,s=new Map;e.forEach(B=>{let G=B.tableName;n.set(G,new Set),i.set(G,0),s.set(G,0)}),r.forEach(B=>{let G=B.fromTable.includes(".")?B.fromTable.split(".").pop():B.fromTable,k=B.toTable.includes(".")?B.toTable.split(".").pop():B.toTable;n.has(G)&&(n.get(G).add(k),i.set(G,(i.get(G)||0)+1)),n.has(k)&&(n.get(k).add(G),s.set(k,(s.get(k)||0)+1))});let o=[],a=[],l=[];e.forEach(B=>{let G=i.get(B.tableName)||0;(n.get(B.tableName)?.size||0)===0?l.push(B):G>0?o.push(B):a.push(B)}),o.sort((B,G)=>{let k=i.get(B.tableName)||0;return(i.get(G.tableName)||0)-k});let c=new Map,u=new Set,E=260,d=240,f=50,T=40,h=E+f,S=d+T,p=(B,G)=>`${B},${G}`,I=(B,G)=>u.add(p(B,G)),R=(B,G)=>u.has(p(B,G)),A=(B,G=0)=>{let k=G;for(;R(B,k);)k++;return k},O=0,L=1,N=2,D=B=>20+B*h,y=B=>20+B*S;o.forEach(B=>{let G=A(L);I(L,G),c.set(B.tableName,{x:D(L),y:y(G)})});let P=new Map,x=[];return a.forEach(B=>{let G=n.get(B.tableName)||new Set,k=null;for(let z of G)if(o.some(ne=>ne.tableName===z)){k=z;break}k?(P.has(k)||P.set(k,[]),P.get(k).push(B)):x.push(B)}),P.forEach((B,G)=>{let k=c.get(G);if(!k)return;let z=Math.round((k.y-20)/S);B.forEach((ne,re)=>{let xe=re%2===0?O:N,fe=z+Math.floor(re/2);for(;R(xe,fe);)fe++;I(xe,fe),c.set(ne.tableName,{x:D(xe),y:y(fe)})})}),x.forEach(B=>{let G=!1;for(let k of[O,N]){let z=A(k);G||(I(k,z),c.set(B.tableName,{x:D(k),y:y(z)}),G=!0)}}),l.length>0&&l.forEach((G,k)=>{let z=k;c.set(G.tableName,{x:D(3),y:y(z)})}),e.map(B=>{let G=c.get(B.tableName)||{x:20,y:20},k=B.columns.slice(0,10).map(ne=>{let re=[];ne.isPrimaryKey&&re.push("\u{1F511}"),ne.isForeignKey&&re.push("\u{1F517}");let xe=re.length>0?`<span class="col-icons">${re.join("")}</span>`:"";return`
                    <div class="table-column ${ne.isPrimaryKey?"pk":""} ${ne.isForeignKey?"fk":""}" data-col="${ne.name}">
                        ${xe}
                        <span class="col-name">${ne.name}</span>
                        <span class="col-type">${ne.dataType}</span>
                    </div>
                `}).join(""),z=B.columns.length>10?`<div class="more-columns">... and ${B.columns.length-10} more</div>`:"";return`
                <div class="table-box" id="table-${B.tableName}" 
                     data-table="${B.fullName}"
                     style="left: ${G.x}px; top: ${G.y}px;">
                    <div class="table-header">${B.tableName}</div>
                    <div class="table-columns">
                        ${k}
                        ${z}
                    </div>
                </div>
            `}).join("")}_getScript(e){return`
            (function() {
                const relationships = ${JSON.stringify(e.relationships)};
                const canvas = document.getElementById('erdCanvas');
                const svg = document.getElementById('relationshipsSvg');
                
                function getTableBox(el) {
                    const left = parseInt(el.style.left) || 0;
                    const top = parseInt(el.style.top) || 0;
                    const width = el.offsetWidth;
                    const height = el.offsetHeight;
                    return {
                        left: left,
                        top: top,
                        right: left + width,
                        bottom: top + height,
                        centerX: left + width / 2,
                        centerY: top + height / 2
                    };
                }

                function getColumnPosition(tableEl, columnName) {
                    // Try to find exact column
                    let colEl = tableEl.querySelector('.table-column[data-col="' + columnName + '"]');
                    
                    // If not found (hidden by "more columns"), try to estimate or return center
                    if (!colEl) return null;

                    // Calculate position relative to the table box
                    const tableRect = tableEl.getBoundingClientRect();
                    const colRect = colEl.getBoundingClientRect();
                    const canvasRect = canvas.getBoundingClientRect();

                    // Relative Y from canvas top
                    // We can't just subtract rects if the canvas is scrolled, but here we want SVG coords (absolute in canvas)
                    // The table.style.top is relative to canvas.
                    // The column offset within table is colRect.top - tableRect.top
                    // So Y = table.style.top + (colRect.top - tableRect.top) + colHeight/2
                    
                    const relativeTop = colRect.top - tableRect.top;
                    const centerY = relativeTop + colRect.height / 2;
                    
                    // We need to account for table scroll position if any?
                    // getBoundingClientRect takes visual position, so it accounts for scroll.
                    
                    const tableStyleTop = parseInt(tableEl.style.top) || 0;
                    
                    return tableStyleTop + centerY;
                }
                
                function drawRelationships() {
                    svg.innerHTML = '';
                    
                    // Update SVG size
                    let maxX = 1200, maxY = 600;
                    document.querySelectorAll('.table-box').forEach(el => {
                        const box = getTableBox(el);
                        maxX = Math.max(maxX, box.right + 50);
                        maxY = Math.max(maxY, box.bottom + 50);
                    });
                    
                    svg.setAttribute('width', maxX);
                    svg.setAttribute('height', maxY);
                    svg.style.width = maxX + 'px';
                    svg.style.height = maxY + 'px';
                    
                    // Defs
                    const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                    const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
                    marker.setAttribute('id', 'arrowhead');
                    marker.setAttribute('markerWidth', '10');
                    marker.setAttribute('markerHeight', '7');
                    marker.setAttribute('refX', '10');
                    marker.setAttribute('refY', '3.5');
                    marker.setAttribute('orient', 'auto');
                    const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                    polygon.setAttribute('points', '0 0, 10 3.5, 0 7');
                    polygon.setAttribute('fill', '#3794ff');
                    marker.appendChild(polygon);
                    defs.appendChild(marker);
                    svg.appendChild(defs);
                    
                    relationships.forEach((rel, index) => {
                        const childTableName = rel.fromTable.split('.')[1];
                        const parentTableName = rel.toTable.split('.')[1];
                        
                        const childEl = document.getElementById('table-' + childTableName);
                        const parentEl = document.getElementById('table-' + parentTableName);
                        
                        if (!childEl || !parentEl) return;
                        
                        const childBox = getTableBox(childEl);
                        const parentBox = getTableBox(parentEl);
                        
                        // Determine L/R relationship
                        // If Parent is to the right of Child: Child Right -> Parent Left
                        const parentIsRight = parentBox.centerX > childBox.centerX;
                        
                        let fromX, fromY, toX, toY;
                        let fromControlX, toControlX;
                        
                        // Default Y to center if col not found
                        fromY = childBox.centerY;
                        toY = parentBox.centerY;
                        
                        // Try get specific column Y
                        const colY1 = getColumnPosition(childEl, rel.fromColumns[0]);
                        const colY2 = getColumnPosition(parentEl, rel.toColumns[0]);
                        
                        if (colY1 !== null) fromY = colY1;
                        if (colY2 !== null) toY = colY2;
                        
                        if (parentIsRight) {
                            fromX = childBox.right;
                            toX = parentBox.left;
                            fromControlX = fromX + 50;
                            toControlX = toX - 50;
                        } else {
                            fromX = childBox.left;
                            toX = parentBox.right;
                            fromControlX = fromX - 50;
                            toControlX = toX + 50;
                        }
                        
                        // Calculate Bezier curve
                        // M start C c1 c2 end
                        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                        
                        // Adjust constraints for multiple lines?
                        // Simple cubic bezier is best for side-to-side
                        const d = \`M \${fromX} \${fromY} C \${fromControlX} \${fromY}, \${toControlX} \${toY}, \${toX} \${toY}\`;
                        
                        path.setAttribute('d', d);
                        path.setAttribute('stroke', '#3794ff');
                        path.setAttribute('stroke-width', '2');
                        path.setAttribute('fill', 'none');
                        path.setAttribute('marker-end', 'url(#arrowhead)');
                        path.setAttribute('class', 'relationship-line');
                        
                        const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
                        title.textContent = rel.constraintName + ': ' + 
                            childTableName + '.' + rel.fromColumns.join(',') + ' -> ' + 
                            parentTableName + '.' + rel.toColumns.join(',');
                        path.appendChild(title);
                        
                        svg.appendChild(path);
                    });
                }
                
                // Dragging Logic
                let dragging = null;
                let dragStartX = 0, dragStartY = 0;
                let elemStartLeft = 0, elemStartTop = 0;
                
                document.querySelectorAll('.table-box').forEach(table => {
                    const header = table.querySelector('.table-header');
                    if (header) {
                        header.addEventListener('mousedown', function(e) {
                            e.preventDefault();
                            dragging = table;
                            dragStartX = e.pageX;
                            dragStartY = e.pageY;
                            elemStartLeft = parseInt(table.style.left) || 0;
                            elemStartTop = parseInt(table.style.top) || 0;
                            table.style.zIndex = '1000';
                            document.body.style.cursor = 'grabbing';
                        });
                    }
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (!dragging) return;
                    const dx = e.pageX - dragStartX;
                    const dy = e.pageY - dragStartY;
                    dragging.style.left = Math.max(0, elemStartLeft + dx) + 'px';
                    dragging.style.top = Math.max(0, elemStartTop + dy) + 'px';
                    drawRelationships();
                });
                
                document.addEventListener('mouseup', function() {
                    if (dragging) {
                        dragging.style.zIndex = '';
                        document.body.style.cursor = '';
                        dragging = null;
                    }
                });
                
                requestAnimationFrame(() => setTimeout(drawRelationships, 50));
                window.addEventListener('resize', drawRelationships);
            })();
        `}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --table-bg: var(--vscode-editorWidget-background);
                --pk-color: #f1c40f;
                --fk-color: #3498db;
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                padding-bottom: 10px;
                border-bottom: 1px solid var(--border-color);
            }

            .header h1 {
                margin: 0;
                font-size: 1.4em;
            }

            .header-info {
                display: flex;
                gap: 15px;
                align-items: center;
            }

            .badge {
                background-color: var(--vscode-badge-background);
                color: var(--vscode-badge-foreground);
                padding: 4px 10px;
                border-radius: 12px;
                font-size: 0.9em;
            }

            .stat {
                color: var(--vscode-descriptionForeground);
                font-size: 0.9em;
            }

            .legend {
                display: flex;
                gap: 20px;
                margin-bottom: 15px;
                font-size: 0.9em;
            }

            .legend-item {
                display: flex;
                align-items: center;
                gap: 5px;
            }

            .no-relationships {
                background-color: rgba(255, 193, 7, 0.2);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 15px;
            }

            .no-relationships p {
                margin: 5px 0;
            }

            .erd-container {
                background-color: var(--header-bg);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                overflow: auto;
                margin-bottom: 20px;
                min-height: 400px;
            }

            .erd-canvas {
                position: relative;
                min-width: 1200px;
                min-height: 600px;
            }

            .relationships-svg {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
            }

            .relationship-line {
                pointer-events: stroke;
            }

            .relationship-line:hover {
                stroke-width: 3;
            }

            .table-box {
                position: absolute;
                width: 250px;
                background-color: var(--table-bg);
                border: 2px solid var(--border-color);
                border-radius: 6px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            }

            .table-header {
                background-color: var(--vscode-textLink-foreground);
                color: white;
                padding: 8px 12px;
                font-weight: bold;
                cursor: move;
                font-size: 0.95em;
            }

            .table-columns {
                max-height: 200px;
                overflow-y: auto;
            }

            .table-column {
                display: flex;
                align-items: center;
                padding: 4px 10px;
                border-bottom: 1px solid var(--border-color);
                font-size: 0.85em;
                gap: 6px;
            }

            .table-column:last-child {
                border-bottom: none;
            }

            .table-column.pk {
                background-color: rgba(241, 196, 15, 0.1);
            }

            .table-column.fk {
                background-color: rgba(52, 152, 219, 0.1);
            }

            .col-icons {
                font-size: 0.8em;
            }

            .col-name {
                flex: 1;
                font-weight: 500;
            }

            .col-type {
                color: var(--vscode-descriptionForeground);
                font-size: 0.85em;
            }

            .more-columns {
                padding: 6px 10px;
                color: var(--vscode-descriptionForeground);
                font-style: italic;
                font-size: 0.85em;
            }

            .relationships-table {
                margin-top: 20px;
            }

            .relationships-table h2 {
                font-size: 1.1em;
                margin-bottom: 10px;
            }

            table {
                width: 100%;
                border-collapse: collapse;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var Yy={};Dt(Yy,{SessionMonitorView:()=>xR});function Uj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var kr,xR,$y=Y(()=>{"use strict";kr=Q(require("vscode"));Rr();xR=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._context=n,this._connectionManager=i,this._update(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(async s=>{switch(s.command){case"refresh":await this._fetchAndSendData();return;case"killSession":await this._killSession(s.sessionId);return;case"toggleAutoRefresh":this._toggleAutoRefresh(s.enabled);return}},null,this._disposables),this._fetchAndSendData()}static{this.viewType="netezza.sessionMonitor"}static createOrShow(e,r,n){let i=kr.window.activeTextEditor?kr.ViewColumn.Beside:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._fetchAndSendData();return}let s=kr.window.createWebviewPanel(t.viewType,"Session Monitor",i||kr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[kr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._refreshInterval&&clearInterval(this._refreshInterval),this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_toggleAutoRefresh(e){e?this._refreshInterval=setInterval(()=>{this._fetchAndSendData()},3e4):this._refreshInterval&&(clearInterval(this._refreshInterval),this._refreshInterval=void 0)}async _killSession(e){try{if(await kr.window.showWarningMessage(`Are you sure you want to terminate session ${e}?`,{modal:!0},"Yes, Kill Session")!=="Yes, Kill Session")return;let n=`DROP SESSION ${e}`;await X(this._context,n,!0,void 0,this._connectionManager),kr.window.showInformationMessage(`Session ${e} terminated successfully.`),await this._fetchAndSendData()}catch(r){kr.window.showErrorMessage(`Failed to kill session: ${r instanceof Error?r.message:String(r)}`)}}async _fetchAndSendData(){this._panel.webview.postMessage({command:"setLoading",loading:!0});try{let[e,r,n,i]=await Promise.all([this._fetchSessions(),this._fetchQueries(),this._fetchStorage(),this._fetchResources()]);this._panel.webview.postMessage({command:"updateData",data:{sessions:e,queries:r,storage:n,resources:i}})}catch(e){this._panel.webview.postMessage({command:"error",text:`Failed to fetch data: ${e instanceof Error?e.message:String(e)}`})}finally{this._panel.webview.postMessage({command:"setLoading",loading:!1})}}async _fetchSessions(){let e=`
            SELECT ID, PID, USERNAME, DBNAME, TYPE, CONNTIME, STATUS, 
                   SUBSTR(COMMAND, 1, 200) AS COMMAND, PRIORITY, CID, IPADDR, CLIENT_OS_USERNAME
            FROM _V_SESSION
            ORDER BY CONNTIME DESC
        `;try{let r=await X(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching sessions:",r),[]}}async _fetchQueries(){let e=`
            SELECT QS_SESSIONID, QS_PLANID, QS_CLIENTID, QS_CLIIPADDR,
                   SUBSTR(QS_SQL, 1, 300) AS QS_SQL, 
                   QS_STATE, QS_TSUBMIT, QS_TSTART, 
                   QS_PRIORITY, QS_PRITXT, QS_ESTCOST, 
                   QS_ESTDISK, QS_ESTMEM, QS_SNIPPETS, QS_CURSNIPT,
                   QS_RESROWS, QS_RESBYTES
            FROM _V_QRYSTAT
            ORDER BY QS_TSTART DESC
            LIMIT 100
        `;try{let r=await X(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching queries:",r),[]}}async _fetchStorage(){let e=`
            SELECT O.DBNAME AS DATABASE, TS.SCHEMA, 
                   ROUND(SUM(TS.ALLOCATED_BYTES) / 1024.0 / 1024.0, 2) AS ALLOC_MB,
                   ROUND(SUM(TS.USED_BYTES) / 1024.0 / 1024.0, 2) AS USED_MB,
                   ROUND(SUM(TS.SKEW * TS.USED_BYTES) / NULLIF(SUM(TS.USED_BYTES), 0), 2) AS AVG_SKEW,
                   COUNT(*) AS TABLE_COUNT
            FROM _V_TABLE_STORAGE_STAT TS
            JOIN _V_OBJECT_DATA O ON TS.OBJID = O.OBJID
            GROUP BY O.DBNAME, TS.SCHEMA
            ORDER BY USED_MB DESC
        `;try{let r=await X(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching storage:",r),[]}}async _fetchResources(){let e=[],r=[],n=null;try{let i=await X(this._context,"SELECT * FROM _V_SCHED_GRA_EXT LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(e=JSON.parse(i))}catch(i){console.warn("_V_SCHED_GRA_EXT not available:",i)}try{let i=await X(this._context,"SELECT * FROM _V_SYSTEM_UTIL ORDER BY 1 DESC LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(r=JSON.parse(i))}catch(i){console.warn("_V_SYSTEM_UTIL not available:",i)}try{let i=await X(this._context,`SELECT 
                    ROUND(AVG(HOST_CPU) * 100, 1) AS AVG_HOST_CPU_PCT,
                    ROUND(AVG(SPU_CPU) * 100, 1) AS AVG_SPU_CPU_PCT,
                    ROUND(AVG(HOST_DISK) * 100, 1) AS AVG_DISK_PCT,
                    ROUND(AVG(HOST_MEMORY) * 100, 1) AS AVG_MEMORY_PCT,
                    ROUND(AVG(HOST_FABRIC) * 100, 1) AS AVG_FABRIC_PCT,
                    COUNT(*) AS SAMPLE_COUNT
                FROM _V_SYSTEM_UTIL`,!0,void 0,this._connectionManager);if(i&&!i.startsWith("Query executed")){let s=JSON.parse(i);n=s.length>0?s[0]:null}}catch(i){console.warn("_V_SYSTEM_UTIL summary not available:",i)}return{gra:e,systemUtil:r,sysUtilSummary:n}}_update(){let e=this._panel.webview;this._panel.title="Session Monitor",this._panel.webview.html=this._getHtmlForWebview(e)}_getHtmlForWebview(e){let r=e.asWebviewUri(kr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.js")),n=e.asWebviewUri(kr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.css")),i=Uj();return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Session Monitor</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>\u{1F5A5}\uFE0F Session Monitor Dashboard</h2>
            <div class="header-actions">
                <label class="auto-refresh">
                    <input type="checkbox" id="autoRefresh"> Auto-refresh (30s)
                </label>
                <button id="refreshBtn" class="btn btn-primary">\u{1F504} Refresh</button>
            </div>
        </div>

        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <span>Loading data...</span>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="sessions">\u{1F4CB} Sessions</button>
            <button class="tab-btn" data-tab="queries">\u23F1\uFE0F Running Queries</button>
            <button class="tab-btn" data-tab="storage">\u{1F4BE} Storage</button>
            <button class="tab-btn" data-tab="resources">\u{1F4CA} Resources</button>
        </div>

        <div class="tab-content" id="sessions">
            <div class="section-header">
                <h3>Active Sessions</h3>
                <span class="count" id="sessionCount">0 sessions</span>
            </div>
            <div class="table-container">
                <table id="sessionsTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>PID</th>
                            <th>User</th>
                            <th>Database</th>
                            <th>Type</th>
                            <th>Connected</th>
                            <th>Status</th>
                            <th>IP</th>
                            <th>Command</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="queries">
            <div class="section-header">
                <h3>Running Queries</h3>
                <span class="count" id="queryCount">0 queries</span>
            </div>
            <div class="table-container">
                <table id="queriesTable">
                    <thead>
                        <tr>
                            <th>Session</th>
                            <th>Plan ID</th>
                            <th>State</th>
                            <th>Priority</th>
                            <th>Submitted</th>
                            <th>Started</th>
                            <th>Est. Cost</th>
                            <th>Rows</th>
                            <th>SQL</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="storage">
            <div class="section-header">
                <h3>Storage by Schema</h3>
                <span class="count" id="storageCount">0 schemas</span>
            </div>
            <div class="table-container">
                <table id="storageTable">
                    <thead>
                        <tr>
                            <th>Database</th>
                            <th>Schema</th>
                            <th>Allocated (MB)</th>
                            <th>Used (MB)</th>
                            <th>Usage %</th>
                            <th>Avg Skew</th>
                            <th>Tables</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="resources">
            <div class="section-header">
                <h3>Resource Utilization</h3>
            </div>
            <div class="resources-grid">
                <div class="resource-section">
                    <h4>GRA Scheduler</h4>
                    <div id="graTable" class="table-container small"></div>
                </div>
                <div class="resource-section">
                    <h4>System Utilization</h4>
                    <div id="sysUtilSummary"></div>
                    <div id="sysUtilTable" class="table-container small"></div>
                </div>
            </div>
        </div>
    </div>

    <script nonce="${i}" src="${r}"></script>
</body>
</html>`}}});var Xy=g((LDe,qy)=>{var Bj=typeof process=="object"&&process&&process.platform==="win32";qy.exports=Bj?{sep:"\\"}:{sep:"/"}});var vR=g((wDe,Jy)=>{"use strict";Jy.exports=zy;function zy(t,e,r){t instanceof RegExp&&(t=Ky(t,r)),e instanceof RegExp&&(e=Ky(e,r));var n=jy(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Ky(t,e){var r=e.match(t);return r?r[0]:null}zy.range=jy;function jy(t,e,r){var n,i,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(t,u+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}});var sL=g((DDe,iL)=>{var Qy=vR();iL.exports=Hj;var Zy="\0SLASH"+Math.random()+"\0",eL="\0OPEN"+Math.random()+"\0",BR="\0CLOSE"+Math.random()+"\0",tL="\0COMMA"+Math.random()+"\0",rL="\0PERIOD"+Math.random()+"\0";function UR(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Fj(t){return t.split("\\\\").join(Zy).split("\\{").join(eL).split("\\}").join(BR).split("\\,").join(tL).split("\\.").join(rL)}function Gj(t){return t.split(Zy).join("\\").split(eL).join("{").split(BR).join("}").split(tL).join(",").split(rL).join(".")}function nL(t){if(!t)return[""];var e=[],r=Qy("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=nL(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Hj(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Bc(Fj(t),!0).map(Gj)):[]}function Wj(t){return"{"+t+"}"}function Yj(t){return/^-?0\d/.test(t)}function $j(t,e){return t<=e}function Vj(t,e){return t>=e}function Bc(t,e){var r=[],n=Qy("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Bc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,E=n.body.indexOf(",")>=0;if(!u&&!E)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+BR+n.post,Bc(t)):[t];var d;if(u)d=n.body.split(/\.\./);else if(d=nL(n.body),d.length===1&&(d=Bc(d[0],!1).map(Wj),d.length===1))return s.map(function(P){return n.pre+d[0]+P});var f;if(u){var T=UR(d[0]),h=UR(d[1]),S=Math.max(d[0].length,d[1].length),p=d.length==3?Math.abs(UR(d[2])):1,I=$j,R=h<T;R&&(p*=-1,I=Vj);var A=d.some(Yj);f=[];for(var O=T;I(O,h);O+=p){var L;if(c)L=String.fromCharCode(O),L==="\\"&&(L="");else if(L=String(O),A){var N=S-L.length;if(N>0){var D=new Array(N+1).join("0");O<0?L="-"+D+L.slice(1):L=D+L}}f.push(L)}}else{f=[];for(var y=0;y<d.length;y++)f.push.apply(f,Bc(d[y],!1))}for(var y=0;y<f.length;y++)for(var o=0;o<s.length;o++){var a=i+f[y]+s[o];(!e||u||a)&&r.push(a)}}return r}});var EL=g((MDe,YR)=>{var Xr=YR.exports=(t,e,r={})=>(Jf(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Da(e,r).match(t));YR.exports=Xr;var HR=Xy();Xr.sep=HR.sep;var On=Symbol("globstar **");Xr.GLOBSTAR=On;var kj=sL(),oL={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},WR="[^/]",FR=WR+"*?",qj="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Xj="(?:(?!(?:\\/|^)\\.).)*?",cL=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),aL=cL("().*{}+?[]^$\\!"),Kj=cL("[.("),lL=/\/+/;Xr.filter=(t,e={})=>(r,n,i)=>Xr(r,t,e);var Ts=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};Xr.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Xr;let e=Xr,r=(n,i,s)=>e(n,i,Ts(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,Ts(t,s))}},r.Minimatch.defaults=n=>e.defaults(Ts(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,Ts(t,i)),r.defaults=n=>e.defaults(Ts(t,n)),r.makeRe=(n,i)=>e.makeRe(n,Ts(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,Ts(t,i)),r.match=(n,i,s)=>e.match(n,i,Ts(t,s)),r};Xr.braceExpand=(t,e)=>uL(t,e);var uL=(t,e={})=>(Jf(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:kj(t)),zj=1024*64,Jf=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>zj)throw new TypeError("pattern is too long")},GR=Symbol("subparse");Xr.makeRe=(t,e)=>new Da(t,e||{}).makeRe();Xr.match=(t,e,r={})=>{let n=new Da(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var jj=t=>t.replace(/\\(.)/g,"$1"),Jj=t=>t.replace(/\\([^-\]])/g,"$1"),Qj=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Zj=t=>t.replace(/[[\]\\]/g,"\\$&"),Da=class{constructor(e,r){Jf(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(lL)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,l=r.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=r[o],u=e[s];if(this.debug(r,c,u),c===!1)return!1;if(c===On){this.debug("GLOBSTAR",[r,c,u]);var E=s,d=o+1;if(d===l){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;E<a;){var f=e[E];if(this.debug(`
globstar while`,e,E,r,d,f),this.matchOne(e.slice(E),r.slice(d),n))return this.debug("globstar found match!",E,a,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,E,r,d);break}this.debug("globstar swallow a segment, and continue"),E++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,E,r,d),E===a))}var T;if(typeof c=="string"?(T=u===c,this.debug("string match",c,u,T)):(T=u.match(c),this.debug("pattern match",c,u,T)),!T)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return uL(this.pattern,this.options)}parse(e,r){Jf(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return On;if(e==="")return"";let i="",s=!1,o=!1,a=[],l=[],c,u=!1,E=-1,d=-1,f,T,h,S=e.charAt(0)===".",p=n.dot||S,I=()=>S?"":p?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",R=N=>N.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",A=()=>{if(c){switch(c){case"*":i+=FR,s=!0;break;case"?":i+=WR,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let N=0,D;N<e.length&&(D=e.charAt(N));N++){if(this.debug("%s	%s %s %j",e,N,i,D),o){if(D==="/")return!1;aL[D]&&(i+="\\"),i+=D,o=!1;continue}switch(D){case"/":return!1;case"\\":if(u&&e.charAt(N+1)==="-"){i+=D;continue}A(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,N,i,D),u){this.debug("  in class"),D==="!"&&N===d+1&&(D="^"),i+=D;continue}this.debug("call clearStateChar %j",c),A(),c=D,n.noext&&A();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}let y={type:c,start:N-1,reStart:i.length,open:oL[c].open,close:oL[c].close};this.debug(this.pattern,"	",y),a.push(y),i+=y.open,y.start===0&&y.type!=="!"&&(S=!0,i+=R(e.slice(N+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let y=a[a.length-1];if(u||!y){i+="\\)";continue}a.pop(),A(),s=!0,T=y,i+=T.close,T.type==="!"&&l.push(Object.assign(T,{reEnd:i.length}));continue}case"|":{let y=a[a.length-1];if(u||!y){i+="\\|";continue}A(),i+="|",y.start===0&&y.type!=="!"&&(S=!0,i+=R(e.slice(N+1)));continue}case"[":if(A(),u){i+="\\"+D;continue}u=!0,d=N,E=i.length,i+=D;continue;case"]":if(N===d+1||!u){i+="\\"+D;continue}f=e.substring(d+1,N);try{RegExp("["+Zj(Jj(f))+"]"),i+=D}catch{i=i.substring(0,E)+"(?:$.)"}s=!0,u=!1;continue;default:A(),aL[D]&&!(D==="^"&&u)&&(i+="\\"),i+=D;break}}for(u&&(f=e.slice(d+1),h=this.parse(f,GR),i=i.substring(0,E)+"\\["+h[0],s=s||h[1]),T=a.pop();T;T=a.pop()){let N;N=i.slice(T.reStart+T.open.length),this.debug("setting tail",i,T),N=N.replace(/((?:\\{2}){0,64})(\\?)\|/g,(y,P,x)=>(x||(x="\\"),P+P+x+"|")),this.debug(`tail=%j
   %s`,N,N,T,i);let D=T.type==="*"?FR:T.type==="?"?WR:"\\"+T.type;s=!0,i=i.slice(0,T.reStart)+D+"\\("+N}A(),o&&(i+="\\\\");let O=Kj[i.charAt(0)];for(let N=l.length-1;N>-1;N--){let D=l[N],y=i.slice(0,D.reStart),P=i.slice(D.reStart,D.reEnd-8),x=i.slice(D.reEnd),B=i.slice(D.reEnd-8,D.reEnd)+x,G=y.split(")").length,k=y.split("(").length-G,z=x;for(let re=0;re<k;re++)z=z.replace(/\)[+*?]?/,"");x=z;let ne=x===""&&r!==GR?"(?:$|\\/)":"";i=y+P+x+ne+B}if(i!==""&&s&&(i="(?=.)"+i),O&&(i=I()+i),r===GR)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return jj(e);let L=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",L),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?FR:r.dot?qj:Xj,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?Qj(a):a===On?On:a._src).reduce((a,l)=>(a[a.length-1]===On&&l===On||a.push(l),a),[]),o.forEach((a,l)=>{a!==On||o[l-1]===On||(l===0?o.length>1?o[l+1]="(?:\\/|"+n+"\\/)?"+o[l+1]:o[l]=n:l===o.length-1?o[l-1]+="(?:\\/|"+n+")?":(o[l-1]+="(?:\\/|\\/"+n+"\\/)"+o[l+1],o[l+1]=On))}),o.filter(a=>a!==On).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;HR.sep!=="/"&&(e=e.split(HR.sep).join("/")),e=e.split(lL),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],l=e;if(n.matchBase&&a.length===1&&(l=[s]),this.matchOne(l,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Xr.defaults(e).Minimatch}};Xr.Minimatch=Da});var SL=g((xDe,TL)=>{TL.exports=hL;var VR=require("fs"),{EventEmitter:e8}=require("events"),{Minimatch:$R}=EL(),{resolve:t8}=require("path");function r8(t,e){return new Promise((r,n)=>{VR.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function fL(t,e){return new Promise((r,n)=>{(e?VR.stat:VR.lstat)(t,(s,o)=>{if(s)switch(s.code){case"ENOENT":r(e?fL(t,!1):null);break;default:r(null);break}else r(o)})})}async function*dL(t,e,r,n,i,s){let o=await r8(e+t,s);for(let a of o){let l=a.name;l===void 0&&(l=a,n=!0);let c=t+"/"+l,u=c.slice(1),E=e+"/"+u,d=null;(n||r)&&(d=await fL(E,r)),!d&&a.name!==void 0&&(d=a),d===null&&(d={isDirectory:()=>!1}),d.isDirectory()?i(u)||(yield{relative:u,absolute:E,stats:d},yield*dL(c,e,r,n,i,!1)):yield{relative:u,absolute:E,stats:d}}}async function*n8(t,e,r,n){yield*dL("",t,e,r,n,!0)}function i8(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var Qf=class extends e8{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=i8(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new $R(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new $R(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new $R(s,{dot:!0}))}this.iterator=n8(t8(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function hL(t,e,r){return new Qf(t,e,r)}hL.ReaddirGlob=Qf});var RL=g((Zf,pL)=>{(function(t,e){typeof Zf=="object"&&typeof pL<"u"?e(Zf):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(Zf,(function(t){"use strict";function e(C,...m){return(...b)=>C(...m,...b)}function r(C){return function(...m){var b=m.pop();return C.call(this,m,b)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,s=typeof process=="object"&&typeof process.nextTick=="function";function o(C){setTimeout(C,0)}function a(C){return(m,...b)=>C(()=>m(...b))}var l;n?l=queueMicrotask:i?l=setImmediate:s?l=process.nextTick:l=o;var c=a(l);function u(C){return f(C)?function(...m){let b=m.pop(),w=C.apply(this,m);return E(w,b)}:r(function(m,b){var w;try{w=C.apply(this,m)}catch(v){return b(v)}if(w&&typeof w.then=="function")return E(w,b);b(null,w)})}function E(C,m){return C.then(b=>{d(m,null,b)},b=>{d(m,b&&(b instanceof Error||b.message)?b:new Error(b))})}function d(C,m,b){try{C(m,b)}catch(w){c(v=>{throw v},w)}}function f(C){return C[Symbol.toStringTag]==="AsyncFunction"}function T(C){return C[Symbol.toStringTag]==="AsyncGenerator"}function h(C){return typeof C[Symbol.asyncIterator]=="function"}function S(C){if(typeof C!="function")throw new Error("expected a function");return f(C)?u(C):C}function p(C,m){if(m||(m=C.length),!m)throw new Error("arity is undefined");function b(...w){return typeof w[m-1]=="function"?C.apply(this,w):new Promise((v,U)=>{w[m-1]=(F,...H)=>{if(F)return U(F);v(H.length>1?H:H[0])},C.apply(this,w)})}return b}function I(C){return function(b,...w){return p(function(U){var F=this;return C(b,(H,V)=>{S(H).apply(F,w.concat(V))},U)})}}function R(C,m,b,w){m=m||[];var v=[],U=0,F=S(b);return C(m,(H,V,ee)=>{var Me=U++;F(H,(He,ve)=>{v[Me]=ve,ee(He)})},H=>{w(H,v)})}function A(C){return C&&typeof C.length=="number"&&C.length>=0&&C.length%1===0}let O={};function L(C){function m(...b){if(C!==null){var w=C;C=null,w.apply(this,b)}}return Object.assign(m,C),m}function N(C){return C[Symbol.iterator]&&C[Symbol.iterator]()}function D(C){var m=-1,b=C.length;return function(){return++m<b?{value:C[m],key:m}:null}}function y(C){var m=-1;return function(){var w=C.next();return w.done?null:(m++,{value:w.value,key:m})}}function P(C){var m=C?Object.keys(C):[],b=-1,w=m.length;return function v(){var U=m[++b];return U==="__proto__"?v():b<w?{value:C[U],key:U}:null}}function x(C){if(A(C))return D(C);var m=N(C);return m?y(m):P(C)}function B(C){return function(...m){if(C===null)throw new Error("Callback was already called.");var b=C;C=null,b.apply(this,m)}}function G(C,m,b,w){let v=!1,U=!1,F=!1,H=0,V=0;function ee(){H>=m||F||v||(F=!0,C.next().then(({value:ve,done:en})=>{if(!(U||v)){if(F=!1,en){v=!0,H<=0&&w(null);return}H++,b(ve,V,Me),V++,ee()}}).catch(He))}function Me(ve,en){if(H-=1,!U){if(ve)return He(ve);if(ve===!1){v=!0,U=!0;return}if(en===O||v&&H<=0)return v=!0,w(null);ee()}}function He(ve){U||(F=!1,v=!0,w(ve))}ee()}var k=C=>(m,b,w)=>{if(w=L(w),C<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!m)return w(null);if(T(m))return G(m,C,b,w);if(h(m))return G(m[Symbol.asyncIterator](),C,b,w);var v=x(m),U=!1,F=!1,H=0,V=!1;function ee(He,ve){if(!F)if(H-=1,He)U=!0,w(He);else if(He===!1)U=!0,F=!0;else{if(ve===O||U&&H<=0)return U=!0,w(null);V||Me()}}function Me(){for(V=!0;H<C&&!U;){var He=v();if(He===null){U=!0,H<=0&&w(null);return}H+=1,b(He.value,He.key,B(ee))}V=!1}Me()};function z(C,m,b,w){return k(m)(C,S(b),w)}var ne=p(z,4);function re(C,m,b){b=L(b);var w=0,v=0,{length:U}=C,F=!1;U===0&&b(null);function H(V,ee){V===!1&&(F=!0),F!==!0&&(V?b(V):(++v===U||ee===O)&&b(null))}for(;w<U;w++)m(C[w],w,B(H))}function xe(C,m,b){return ne(C,1/0,m,b)}function fe(C,m,b){var w=A(C)?re:xe;return w(C,S(m),b)}var Fr=p(fe,3);function y4(C,m,b){return R(Fr,C,m,b)}var XE=p(y4,3),U0=I(XE);function L4(C,m,b){return ne(C,1,m,b)}var _n=p(L4,3);function w4(C,m,b){return R(_n,C,m,b)}var Gp=p(w4,3),B0=I(Gp);let _a=Symbol("promiseCallback");function Ia(){let C,m;function b(w,...v){if(w)return m(w);C(v.length>1?v:v[0])}return b[_a]=new Promise((w,v)=>{C=w,m=v}),b}function Hp(C,m,b){typeof m!="number"&&(b=m,m=null),b=L(b||Ia());var w=Object.keys(C).length;if(!w)return b(null);m||(m=w);var v={},U=0,F=!1,H=!1,V=Object.create(null),ee=[],Me=[],He={};Object.keys(C).forEach(J=>{var oe=C[J];if(!Array.isArray(oe)){ve(J,[oe]),Me.push(J);return}var Ue=oe.slice(0,oe.length-1),it=Ue.length;if(it===0){ve(J,oe),Me.push(J);return}He[J]=it,Ue.forEach(Vt=>{if(!C[Vt])throw new Error("async.auto task `"+J+"` has a non-existent dependency `"+Vt+"` in "+Ue.join(", "));Oa(Vt,()=>{it--,it===0&&ve(J,oe)})})}),We(),en();function ve(J,oe){ee.push(()=>Oc(J,oe))}function en(){if(!F){if(ee.length===0&&U===0)return b(null,v);for(;ee.length&&U<m;){var J=ee.shift();J()}}}function Oa(J,oe){var Ue=V[J];Ue||(Ue=V[J]=[]),Ue.push(oe)}function zs(J){var oe=V[J]||[];oe.forEach(Ue=>Ue()),en()}function Oc(J,oe){if(!H){var Ue=B((Vt,...tn)=>{if(U--,Vt===!1){F=!0;return}if(tn.length<2&&([tn]=tn),Vt){var ma={};if(Object.keys(v).forEach(js=>{ma[js]=v[js]}),ma[J]=tn,H=!0,V=Object.create(null),F)return;b(Vt,ma)}else v[J]=tn,zs(J)});U++;var it=S(oe[oe.length-1]);oe.length>1?it(v,Ue):it(Ue)}}function We(){for(var J,oe=0;Me.length;)J=Me.pop(),oe++,se(J).forEach(Ue=>{--He[Ue]===0&&Me.push(Ue)});if(oe!==w)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function se(J){var oe=[];return Object.keys(C).forEach(Ue=>{let it=C[Ue];Array.isArray(it)&&it.indexOf(J)>=0&&oe.push(Ue)}),oe}return b[_a]}var D4=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,P4=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,M4=/,/,x4=/(=.+)?(\s*)$/;function v4(C){let m="",b=0,w=C.indexOf("*/");for(;b<C.length;)if(C[b]==="/"&&C[b+1]==="/"){let v=C.indexOf(`
`,b);b=v===-1?C.length:v}else if(w!==-1&&C[b]==="/"&&C[b+1]==="*"){let v=C.indexOf("*/",b);v!==-1?(b=v+2,w=C.indexOf("*/",b)):(m+=C[b],b++)}else m+=C[b],b++;return m}function U4(C){let m=v4(C.toString()),b=m.match(D4);if(b||(b=m.match(P4)),!b)throw new Error(`could not parse args in autoInject
Source:
`+m);let[,w]=b;return w.replace(/\s/g,"").split(M4).map(v=>v.replace(x4,"").trim())}function F0(C,m){var b={};return Object.keys(C).forEach(w=>{var v=C[w],U,F=f(v),H=!F&&v.length===1||F&&v.length===0;if(Array.isArray(v))U=[...v],v=U.pop(),b[w]=U.concat(U.length>0?V:v);else if(H)b[w]=v;else{if(U=U4(v),v.length===0&&!F&&U.length===0)throw new Error("autoInject task functions require explicit parameters.");F||U.pop(),b[w]=U.concat(V)}function V(ee,Me){var He=U.map(ve=>ee[ve]);He.push(Me),S(v)(...He)}}),Hp(b,m)}class B4{constructor(){this.head=this.tail=null,this.length=0}removeLink(m){return m.prev?m.prev.next=m.next:this.head=m.next,m.next?m.next.prev=m.prev:this.tail=m.prev,m.prev=m.next=null,this.length-=1,m}empty(){for(;this.head;)this.shift();return this}insertAfter(m,b){b.prev=m,b.next=m.next,m.next?m.next.prev=b:this.tail=b,m.next=b,this.length+=1}insertBefore(m,b){b.prev=m.prev,b.next=m,m.prev?m.prev.next=b:this.head=b,m.prev=b,this.length+=1}unshift(m){this.head?this.insertBefore(this.head,m):G0(this,m)}push(m){this.tail?this.insertAfter(this.tail,m):G0(this,m)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var m=this.head;m;)yield m.data,m=m.next}remove(m){for(var b=this.head;b;){var{next:w}=b;m(b)&&this.removeLink(b),b=w}return this}}function G0(C,m){C.length=1,C.head=C.tail=m}function Wp(C,m,b){if(m==null)m=1;else if(m===0)throw new RangeError("Concurrency must not be zero");var w=S(C),v=0,U=[];let F={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function H(se,J){F[se].push(J)}function V(se,J){let oe=(...Ue)=>{ee(se,oe),J(...Ue)};F[se].push(oe)}function ee(se,J){if(!se)return Object.keys(F).forEach(oe=>F[oe]=[]);if(!J)return F[se]=[];F[se]=F[se].filter(oe=>oe!==J)}function Me(se,...J){F[se].forEach(oe=>oe(...J))}var He=!1;function ve(se,J,oe,Ue){if(Ue!=null&&typeof Ue!="function")throw new Error("task callback must be a function");We.started=!0;var it,Vt;function tn(js,...mc){if(js)return oe?Vt(js):it();if(mc.length<=1)return it(mc[0]);it(mc)}var ma=We._createTaskItem(se,oe?tn:Ue||tn);if(J?We._tasks.unshift(ma):We._tasks.push(ma),He||(He=!0,c(()=>{He=!1,We.process()})),oe||!Ue)return new Promise((js,mc)=>{it=js,Vt=mc})}function en(se){return function(J,...oe){v-=1;for(var Ue=0,it=se.length;Ue<it;Ue++){var Vt=se[Ue],tn=U.indexOf(Vt);tn===0?U.shift():tn>0&&U.splice(tn,1),Vt.callback(J,...oe),J!=null&&Me("error",J,Vt.data)}v<=We.concurrency-We.buffer&&Me("unsaturated"),We.idle()&&Me("drain"),We.process()}}function Oa(se){return se.length===0&&We.idle()?(c(()=>Me("drain")),!0):!1}let zs=se=>J=>{if(!J)return new Promise((oe,Ue)=>{V(se,(it,Vt)=>{if(it)return Ue(it);oe(Vt)})});ee(se),H(se,J)};var Oc=!1,We={_tasks:new B4,_createTaskItem(se,J){return{data:se,callback:J}},*[Symbol.iterator](){yield*We._tasks[Symbol.iterator]()},concurrency:m,payload:b,buffer:m/4,started:!1,paused:!1,push(se,J){return Array.isArray(se)?Oa(se)?void 0:se.map(oe=>ve(oe,!1,!1,J)):ve(se,!1,!1,J)},pushAsync(se,J){return Array.isArray(se)?Oa(se)?void 0:se.map(oe=>ve(oe,!1,!0,J)):ve(se,!1,!0,J)},kill(){ee(),We._tasks.empty()},unshift(se,J){return Array.isArray(se)?Oa(se)?void 0:se.map(oe=>ve(oe,!0,!1,J)):ve(se,!0,!1,J)},unshiftAsync(se,J){return Array.isArray(se)?Oa(se)?void 0:se.map(oe=>ve(oe,!0,!0,J)):ve(se,!0,!0,J)},remove(se){We._tasks.remove(se)},process(){if(!Oc){for(Oc=!0;!We.paused&&v<We.concurrency&&We._tasks.length;){var se=[],J=[],oe=We._tasks.length;We.payload&&(oe=Math.min(oe,We.payload));for(var Ue=0;Ue<oe;Ue++){var it=We._tasks.shift();se.push(it),U.push(it),J.push(it.data)}v+=1,We._tasks.length===0&&Me("empty"),v===We.concurrency&&Me("saturated");var Vt=B(en(se));w(J,Vt)}Oc=!1}},length(){return We._tasks.length},running(){return v},workersList(){return U},idle(){return We._tasks.length+v===0},pause(){We.paused=!0},resume(){We.paused!==!1&&(We.paused=!1,c(We.process))}};return Object.defineProperties(We,{saturated:{writable:!1,value:zs("saturated")},unsaturated:{writable:!1,value:zs("unsaturated")},empty:{writable:!1,value:zs("empty")},drain:{writable:!1,value:zs("drain")},error:{writable:!1,value:zs("error")}}),We}function H0(C,m){return Wp(C,1,m)}function W0(C,m,b){return Wp(C,m,b)}function F4(C,m,b,w){w=L(w);var v=S(b);return _n(C,(U,F,H)=>{v(m,U,(V,ee)=>{m=ee,H(V)})},U=>w(U,m))}var cs=p(F4,4);function Yp(...C){var m=C.map(S);return function(...b){var w=this,v=b[b.length-1];return typeof v=="function"?b.pop():v=Ia(),cs(m,b,(U,F,H)=>{F.apply(w,U.concat((V,...ee)=>{H(V,ee)}))},(U,F)=>v(U,...F)),v[_a]}}function Y0(...C){return Yp(...C.reverse())}function G4(C,m,b,w){return R(k(m),C,b,w)}var Rc=p(G4,4);function H4(C,m,b,w){var v=S(b);return Rc(C,m,(U,F)=>{v(U,(H,...V)=>H?F(H):F(H,V))},(U,F)=>{for(var H=[],V=0;V<F.length;V++)F[V]&&(H=H.concat(...F[V]));return w(U,H)})}var Na=p(H4,4);function W4(C,m,b){return Na(C,1/0,m,b)}var KE=p(W4,3);function Y4(C,m,b){return Na(C,1,m,b)}var zE=p(Y4,3);function $0(...C){return function(...m){var b=m.pop();return b(null,...C)}}function Oi(C,m){return(b,w,v,U)=>{var F=!1,H;let V=S(v);b(w,(ee,Me,He)=>{V(ee,(ve,en)=>{if(ve||ve===!1)return He(ve);if(C(en)&&!H)return F=!0,H=m(!0,ee),He(null,O);He()})},ee=>{if(ee)return U(ee);U(null,F?H:m(!1))})}}function $4(C,m,b){return Oi(w=>w,(w,v)=>v)(Fr,C,m,b)}var jE=p($4,3);function V4(C,m,b,w){return Oi(v=>v,(v,U)=>U)(k(m),C,b,w)}var JE=p(V4,4);function k4(C,m,b){return Oi(w=>w,(w,v)=>v)(k(1),C,m,b)}var QE=p(k4,3);function V0(C){return(m,...b)=>S(m)(...b,(w,...v)=>{typeof console=="object"&&(w?console.error&&console.error(w):console[C]&&v.forEach(U=>console[C](U)))})}var k0=V0("dir");function q4(C,m,b){b=B(b);var w=S(C),v=S(m),U;function F(V,...ee){if(V)return b(V);V!==!1&&(U=ee,v(...ee,H))}function H(V,ee){if(V)return b(V);if(V!==!1){if(!ee)return b(null,...U);w(F)}}return H(null,!0)}var Ac=p(q4,3);function q0(C,m,b){let w=S(m);return Ac(C,(...v)=>{let U=v.pop();w(...v,(F,H)=>U(F,!H))},b)}function X0(C){return(m,b,w)=>C(m,w)}function X4(C,m,b){return Fr(C,X0(S(m)),b)}var ZE=p(X4,3);function K4(C,m,b,w){return k(m)(C,X0(S(b)),w)}var _c=p(K4,4);function z4(C,m,b){return _c(C,1,m,b)}var Ic=p(z4,3);function $p(C){return f(C)?C:function(...m){var b=m.pop(),w=!0;m.push((...v)=>{w?c(()=>b(...v)):b(...v)}),C.apply(this,m),w=!1}}function j4(C,m,b){return Oi(w=>!w,w=>!w)(Fr,C,m,b)}var ef=p(j4,3);function J4(C,m,b,w){return Oi(v=>!v,v=>!v)(k(m),C,b,w)}var tf=p(J4,4);function Q4(C,m,b){return Oi(w=>!w,w=>!w)(_n,C,m,b)}var rf=p(Q4,3);function Z4(C,m,b,w){var v=new Array(m.length);C(m,(U,F,H)=>{b(U,(V,ee)=>{v[F]=!!ee,H(V)})},U=>{if(U)return w(U);for(var F=[],H=0;H<m.length;H++)v[H]&&F.push(m[H]);w(null,F)})}function ez(C,m,b,w){var v=[];C(m,(U,F,H)=>{b(U,(V,ee)=>{if(V)return H(V);ee&&v.push({index:F,value:U}),H(V)})},U=>{if(U)return w(U);w(null,v.sort((F,H)=>F.index-H.index).map(F=>F.value))})}function nf(C,m,b,w){var v=A(m)?Z4:ez;return v(C,m,S(b),w)}function tz(C,m,b){return nf(Fr,C,m,b)}var sf=p(tz,3);function rz(C,m,b,w){return nf(k(m),C,b,w)}var of=p(rz,4);function nz(C,m,b){return nf(_n,C,m,b)}var af=p(nz,3);function iz(C,m){var b=B(m),w=S($p(C));function v(U){if(U)return b(U);U!==!1&&w(v)}return v()}var K0=p(iz,2);function sz(C,m,b,w){var v=S(b);return Rc(C,m,(U,F)=>{v(U,(H,V)=>H?F(H):F(H,{key:V,val:U}))},(U,F)=>{for(var H={},{hasOwnProperty:V}=Object.prototype,ee=0;ee<F.length;ee++)if(F[ee]){var{key:Me}=F[ee],{val:He}=F[ee];V.call(H,Me)?H[Me].push(He):H[Me]=[He]}return w(U,H)})}var lf=p(sz,4);function z0(C,m,b){return lf(C,1/0,m,b)}function j0(C,m,b){return lf(C,1,m,b)}var J0=V0("log");function oz(C,m,b,w){w=L(w);var v={},U=S(b);return k(m)(C,(F,H,V)=>{U(F,H,(ee,Me)=>{if(ee)return V(ee);v[H]=Me,V(ee)})},F=>w(F,v))}var cf=p(oz,4);function Q0(C,m,b){return cf(C,1/0,m,b)}function Z0(C,m,b){return cf(C,1,m,b)}function eb(C,m=b=>b){var b=Object.create(null),w=Object.create(null),v=S(C),U=r((F,H)=>{var V=m(...F);V in b?c(()=>H(null,...b[V])):V in w?w[V].push(H):(w[V]=[H],v(...F,(ee,...Me)=>{ee||(b[V]=Me);var He=w[V];delete w[V];for(var ve=0,en=He.length;ve<en;ve++)He[ve](ee,...Me)}))});return U.memo=b,U.unmemoized=C,U}var uf;s?uf=process.nextTick:i?uf=setImmediate:uf=o;var tb=a(uf),Vp=p((C,m,b)=>{var w=A(m)?[]:{};C(m,(v,U,F)=>{S(v)((H,...V)=>{V.length<2&&([V]=V),w[U]=V,F(H)})},v=>b(v,w))},3);function rb(C,m){return Vp(Fr,C,m)}function nb(C,m,b){return Vp(k(m),C,b)}function kp(C,m){var b=S(C);return Wp((w,v)=>{b(w[0],v)},m,1)}class az{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(m){let b;for(;m>0&&qp(this.heap[m],this.heap[b=ib(m)]);){let w=this.heap[m];this.heap[m]=this.heap[b],this.heap[b]=w,m=b}}percDown(m){let b;for(;(b=lz(m))<this.heap.length&&(b+1<this.heap.length&&qp(this.heap[b+1],this.heap[b])&&(b=b+1),!qp(this.heap[m],this.heap[b]));){let w=this.heap[m];this.heap[m]=this.heap[b],this.heap[b]=w,m=b}}push(m){m.pushCount=++this.pushCount,this.heap.push(m),this.percUp(this.heap.length-1)}unshift(m){return this.heap.push(m)}shift(){let[m]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),m}toArray(){return[...this]}*[Symbol.iterator](){for(let m=0;m<this.heap.length;m++)yield this.heap[m].data}remove(m){let b=0;for(let w=0;w<this.heap.length;w++)m(this.heap[w])||(this.heap[b]=this.heap[w],b++);this.heap.splice(b);for(let w=ib(this.heap.length-1);w>=0;w--)this.percDown(w);return this}}function lz(C){return(C<<1)+1}function ib(C){return(C+1>>1)-1}function qp(C,m){return C.priority!==m.priority?C.priority<m.priority:C.pushCount<m.pushCount}function sb(C,m){var b=kp(C,m),{push:w,pushAsync:v}=b;b._tasks=new az,b._createTaskItem=({data:F,priority:H},V)=>({data:F,priority:H,callback:V});function U(F,H){return Array.isArray(F)?F.map(V=>({data:V,priority:H})):{data:F,priority:H}}return b.push=function(F,H=0,V){return w(U(F,H),V)},b.pushAsync=function(F,H=0,V){return v(U(F,H),V)},delete b.unshift,delete b.unshiftAsync,b}function cz(C,m){if(m=L(m),!Array.isArray(C))return m(new TypeError("First argument to race must be an array of functions"));if(!C.length)return m();for(var b=0,w=C.length;b<w;b++)S(C[b])(m)}var ob=p(cz,2);function Ef(C,m,b,w){var v=[...C].reverse();return cs(v,m,b,w)}function ff(C){var m=S(C);return r(function(w,v){return w.push((U,...F)=>{let H={};if(U&&(H.error=U),F.length>0){var V=F;F.length<=1&&([V]=F),H.value=V}v(null,H)}),m.apply(this,w)})}function ab(C){var m;return Array.isArray(C)?m=C.map(ff):(m={},Object.keys(C).forEach(b=>{m[b]=ff.call(this,C[b])})),m}function Xp(C,m,b,w){let v=S(b);return nf(C,m,(U,F)=>{v(U,(H,V)=>{F(H,!V)})},w)}function uz(C,m,b){return Xp(Fr,C,m,b)}var lb=p(uz,3);function Ez(C,m,b,w){return Xp(k(m),C,b,w)}var cb=p(Ez,4);function fz(C,m,b){return Xp(_n,C,m,b)}var ub=p(fz,3);function Eb(C){return function(){return C}}let Kp=5,fb=0;function df(C,m,b){var w={times:Kp,intervalFunc:Eb(fb)};if(arguments.length<3&&typeof C=="function"?(b=m||Ia(),m=C):(dz(w,C),b=b||Ia()),typeof m!="function")throw new Error("Invalid arguments for async.retry");var v=S(m),U=1;function F(){v((H,...V)=>{H!==!1&&(H&&U++<w.times&&(typeof w.errorFilter!="function"||w.errorFilter(H))?setTimeout(F,w.intervalFunc(U-1)):b(H,...V))})}return F(),b[_a]}function dz(C,m){if(typeof m=="object")C.times=+m.times||Kp,C.intervalFunc=typeof m.interval=="function"?m.interval:Eb(+m.interval||fb),C.errorFilter=m.errorFilter;else if(typeof m=="number"||typeof m=="string")C.times=+m||Kp;else throw new Error("Invalid arguments for async.retry")}function db(C,m){m||(m=C,C=null);let b=C&&C.arity||m.length;f(m)&&(b+=1);var w=S(m);return r((v,U)=>{(v.length<b-1||U==null)&&(v.push(U),U=Ia());function F(H){w(...v,H)}return C?df(C,F,U):df(F,U),U[_a]})}function hb(C,m){return Vp(_n,C,m)}function hz(C,m,b){return Oi(Boolean,w=>w)(Fr,C,m,b)}var hf=p(hz,3);function Tz(C,m,b,w){return Oi(Boolean,v=>v)(k(m),C,b,w)}var Tf=p(Tz,4);function Sz(C,m,b){return Oi(Boolean,w=>w)(_n,C,m,b)}var Sf=p(Sz,3);function pz(C,m,b){var w=S(m);return XE(C,(U,F)=>{w(U,(H,V)=>{if(H)return F(H);F(H,{value:U,criteria:V})})},(U,F)=>{if(U)return b(U);b(null,F.sort(v).map(H=>H.value))});function v(U,F){var H=U.criteria,V=F.criteria;return H<V?-1:H>V?1:0}}var Tb=p(pz,3);function Sb(C,m,b){var w=S(C);return r((v,U)=>{var F=!1,H;function V(){var ee=C.name||"anonymous",Me=new Error('Callback function "'+ee+'" timed out.');Me.code="ETIMEDOUT",b&&(Me.info=b),F=!0,U(Me)}v.push((...ee)=>{F||(U(...ee),clearTimeout(H))}),H=setTimeout(V,m),w(...v)})}function Rz(C){for(var m=Array(C);C--;)m[C]=C;return m}function pf(C,m,b,w){var v=S(b);return Rc(Rz(C),m,v,w)}function pb(C,m,b){return pf(C,1/0,m,b)}function Rb(C,m,b){return pf(C,1,m,b)}function Ab(C,m,b,w){arguments.length<=3&&typeof m=="function"&&(w=b,b=m,m=Array.isArray(C)?[]:{}),w=L(w||Ia());var v=S(b);return Fr(C,(U,F,H)=>{v(m,U,F,H)},U=>w(U,m)),w[_a]}function Az(C,m){var b=null,w;return Ic(C,(v,U)=>{S(v)((F,...H)=>{if(F===!1)return U(F);H.length<2?[w]=H:w=H,b=F,U(F?null:{})})},()=>m(b,w))}var _b=p(Az);function Ib(C){return(...m)=>(C.unmemoized||C)(...m)}function _z(C,m,b){b=B(b);var w=S(m),v=S(C),U=[];function F(V,...ee){if(V)return b(V);U=ee,V!==!1&&v(H)}function H(V,ee){if(V)return b(V);if(V!==!1){if(!ee)return b(null,...U);w(F)}}return v(H)}var Nc=p(_z,3);function Nb(C,m,b){let w=S(C);return Nc(v=>w((U,F)=>v(U,!F)),m,b)}function Iz(C,m){if(m=L(m),!Array.isArray(C))return m(new Error("First argument to waterfall must be an array of functions"));if(!C.length)return m();var b=0;function w(U){var F=S(C[b++]);F(...U,B(v))}function v(U,...F){if(U!==!1){if(U||b===C.length)return m(U,...F);w(F)}}w([])}var Ob=p(Iz),Nz={apply:e,applyEach:U0,applyEachSeries:B0,asyncify:u,auto:Hp,autoInject:F0,cargo:H0,cargoQueue:W0,compose:Y0,concat:KE,concatLimit:Na,concatSeries:zE,constant:$0,detect:jE,detectLimit:JE,detectSeries:QE,dir:k0,doUntil:q0,doWhilst:Ac,each:ZE,eachLimit:_c,eachOf:Fr,eachOfLimit:ne,eachOfSeries:_n,eachSeries:Ic,ensureAsync:$p,every:ef,everyLimit:tf,everySeries:rf,filter:sf,filterLimit:of,filterSeries:af,forever:K0,groupBy:z0,groupByLimit:lf,groupBySeries:j0,log:J0,map:XE,mapLimit:Rc,mapSeries:Gp,mapValues:Q0,mapValuesLimit:cf,mapValuesSeries:Z0,memoize:eb,nextTick:tb,parallel:rb,parallelLimit:nb,priorityQueue:sb,queue:kp,race:ob,reduce:cs,reduceRight:Ef,reflect:ff,reflectAll:ab,reject:lb,rejectLimit:cb,rejectSeries:ub,retry:df,retryable:db,seq:Yp,series:hb,setImmediate:c,some:hf,someLimit:Tf,someSeries:Sf,sortBy:Tb,timeout:Sb,times:pb,timesLimit:pf,timesSeries:Rb,transform:Ab,tryEach:_b,unmemoize:Ib,until:Nb,waterfall:Ob,whilst:Nc,all:ef,allLimit:tf,allSeries:rf,any:hf,anyLimit:Tf,anySeries:Sf,find:jE,findLimit:JE,findSeries:QE,flatMap:KE,flatMapLimit:Na,flatMapSeries:zE,forEach:ZE,forEachSeries:Ic,forEachLimit:_c,forEachOf:Fr,forEachOfSeries:_n,forEachOfLimit:ne,inject:cs,foldl:cs,foldr:Ef,select:sf,selectLimit:of,selectSeries:af,wrapSync:u,during:Nc,doDuring:Ac};t.all=ef,t.allLimit=tf,t.allSeries=rf,t.any=hf,t.anyLimit=Tf,t.anySeries=Sf,t.apply=e,t.applyEach=U0,t.applyEachSeries=B0,t.asyncify=u,t.auto=Hp,t.autoInject=F0,t.cargo=H0,t.cargoQueue=W0,t.compose=Y0,t.concat=KE,t.concatLimit=Na,t.concatSeries=zE,t.constant=$0,t.default=Nz,t.detect=jE,t.detectLimit=JE,t.detectSeries=QE,t.dir=k0,t.doDuring=Ac,t.doUntil=q0,t.doWhilst=Ac,t.during=Nc,t.each=ZE,t.eachLimit=_c,t.eachOf=Fr,t.eachOfLimit=ne,t.eachOfSeries=_n,t.eachSeries=Ic,t.ensureAsync=$p,t.every=ef,t.everyLimit=tf,t.everySeries=rf,t.filter=sf,t.filterLimit=of,t.filterSeries=af,t.find=jE,t.findLimit=JE,t.findSeries=QE,t.flatMap=KE,t.flatMapLimit=Na,t.flatMapSeries=zE,t.foldl=cs,t.foldr=Ef,t.forEach=ZE,t.forEachLimit=_c,t.forEachOf=Fr,t.forEachOfLimit=ne,t.forEachOfSeries=_n,t.forEachSeries=Ic,t.forever=K0,t.groupBy=z0,t.groupByLimit=lf,t.groupBySeries=j0,t.inject=cs,t.log=J0,t.map=XE,t.mapLimit=Rc,t.mapSeries=Gp,t.mapValues=Q0,t.mapValuesLimit=cf,t.mapValuesSeries=Z0,t.memoize=eb,t.nextTick=tb,t.parallel=rb,t.parallelLimit=nb,t.priorityQueue=sb,t.queue=kp,t.race=ob,t.reduce=cs,t.reduceRight=Ef,t.reflect=ff,t.reflectAll=ab,t.reject=lb,t.rejectLimit=cb,t.rejectSeries=ub,t.retry=df,t.retryable=db,t.select=sf,t.selectLimit=of,t.selectSeries=af,t.seq=Yp,t.series=hb,t.setImmediate=c,t.some=hf,t.someLimit=Tf,t.someSeries=Sf,t.sortBy=Tb,t.timeout=Sb,t.times=pb,t.timesLimit=pf,t.timesSeries=Rb,t.transform=Ab,t.tryEach=_b,t.unmemoize=Ib,t.until=Nb,t.waterfall=Ob,t.whilst=Nc,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})}))});var _L=g((vDe,AL)=>{var Ss=require("constants"),s8=process.cwd,ed=null,o8=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return ed||(ed=s8.call(process)),ed};try{process.cwd()}catch{}typeof process.chdir=="function"&&(kR=process.chdir,process.chdir=function(t){ed=null,kR.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,kR));var kR;AL.exports=a8;function a8(t){Ss.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,E,d){d&&process.nextTick(d)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,E,d,f){f&&process.nextTick(f)},t.lchownSync=function(){}),o8==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:(function(u){function E(d,f,T){var h=Date.now(),S=0;u(d,f,function p(I){if(I&&(I.code==="EACCES"||I.code==="EPERM"||I.code==="EBUSY")&&Date.now()-h<6e4){setTimeout(function(){t.stat(f,function(R,A){R&&R.code==="ENOENT"?u(d,f,p):T(I)})},S),S<100&&(S+=10);return}T&&T(I)})}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E})(t.rename)),t.read=typeof t.read!="function"?t.read:(function(u){function E(d,f,T,h,S,p){var I;if(p&&typeof p=="function"){var R=0;I=function(A,O,L){if(A&&A.code==="EAGAIN"&&R<10)return R++,u.call(t,d,f,T,h,S,I);p.apply(this,arguments)}}return u.call(t,d,f,T,h,S,I)}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E})(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:(function(u){return function(E,d,f,T,h){for(var S=0;;)try{return u.call(t,E,d,f,T,h)}catch(p){if(p.code==="EAGAIN"&&S<10){S++;continue}throw p}}})(t.readSync);function e(u){u.lchmod=function(E,d,f){u.open(E,Ss.O_WRONLY|Ss.O_SYMLINK,d,function(T,h){if(T){f&&f(T);return}u.fchmod(h,d,function(S){u.close(h,function(p){f&&f(S||p)})})})},u.lchmodSync=function(E,d){var f=u.openSync(E,Ss.O_WRONLY|Ss.O_SYMLINK,d),T=!0,h;try{h=u.fchmodSync(f,d),T=!1}finally{if(T)try{u.closeSync(f)}catch{}else u.closeSync(f)}return h}}function r(u){Ss.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(E,d,f,T){u.open(E,Ss.O_SYMLINK,function(h,S){if(h){T&&T(h);return}u.futimes(S,d,f,function(p){u.close(S,function(I){T&&T(p||I)})})})},u.lutimesSync=function(E,d,f){var T=u.openSync(E,Ss.O_SYMLINK),h,S=!0;try{h=u.futimesSync(T,d,f),S=!1}finally{if(S)try{u.closeSync(T)}catch{}else u.closeSync(T)}return h}):u.futimes&&(u.lutimes=function(E,d,f,T){T&&process.nextTick(T)},u.lutimesSync=function(){})}function n(u){return u&&function(E,d,f){return u.call(t,E,d,function(T){c(T)&&(T=null),f&&f.apply(this,arguments)})}}function i(u){return u&&function(E,d){try{return u.call(t,E,d)}catch(f){if(!c(f))throw f}}}function s(u){return u&&function(E,d,f,T){return u.call(t,E,d,f,function(h){c(h)&&(h=null),T&&T.apply(this,arguments)})}}function o(u){return u&&function(E,d,f){try{return u.call(t,E,d,f)}catch(T){if(!c(T))throw T}}}function a(u){return u&&function(E,d,f){typeof d=="function"&&(f=d,d=null);function T(h,S){S&&(S.uid<0&&(S.uid+=4294967296),S.gid<0&&(S.gid+=4294967296)),f&&f.apply(this,arguments)}return d?u.call(t,E,d,T):u.call(t,E,T)}}function l(u){return u&&function(E,d){var f=d?u.call(t,E,d):u.call(t,E);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function c(u){if(!u||u.code==="ENOSYS")return!0;var E=!process.getuid||process.getuid()!==0;return!!(E&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var OL=g((UDe,NL)=>{var IL=require("stream").Stream;NL.exports=l8;function l8(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);IL.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,E){if(u){s.emit("error",u),s.readable=!1;return}s.fd=E,s.emit("open",E),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);IL.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var gL=g((BDe,mL)=>{"use strict";mL.exports=u8;var c8=Object.getPrototypeOf||function(t){return t.__proto__};function u8(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:c8(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var zR=g((FDe,KR)=>{var ut=require("fs"),E8=_L(),f8=OL(),d8=gL(),td=require("util"),ar,nd;typeof Symbol=="function"&&typeof Symbol.for=="function"?(ar=Symbol.for("graceful-fs.queue"),nd=Symbol.for("graceful-fs.previous")):(ar="___graceful-fs.queue",nd="___graceful-fs.previous");function h8(){}function yL(t,e){Object.defineProperty(t,ar,{get:function(){return e}})}var oo=h8;td.debuglog?oo=td.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(oo=function(){var t=td.format.apply(td,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});ut[ar]||(CL=global[ar]||[],yL(ut,CL),ut.close=(function(t){function e(r,n){return t.call(ut,r,function(i){i||bL(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,nd,{value:t}),e})(ut.close),ut.closeSync=(function(t){function e(r){t.apply(ut,arguments),bL()}return Object.defineProperty(e,nd,{value:t}),e})(ut.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){oo(ut[ar]),require("assert").equal(ut[ar].length,0)}));var CL;global[ar]||yL(global,ut[ar]);KR.exports=qR(d8(ut));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ut.__patched&&(KR.exports=qR(ut),ut.__patched=!0);function qR(t){E8(t),t.gracefulify=qR,t.createReadStream=O,t.createWriteStream=L;var e=t.readFile;t.readFile=r;function r(y,P,x){return typeof P=="function"&&(x=P,P=null),B(y,P,x);function B(G,k,z,ne){return e(G,k,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?Pa([B,[G,k,z],re,ne||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(y,P,x,B){return typeof x=="function"&&(B=x,x=null),G(y,P,x,B);function G(k,z,ne,re,xe){return n(k,z,ne,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Pa([G,[k,z,ne,re],fe,xe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(y,P,x,B){return typeof x=="function"&&(B=x,x=null),G(y,P,x,B);function G(k,z,ne,re,xe){return s(k,z,ne,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Pa([G,[k,z,ne,re],fe,xe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(y,P,x,B){return typeof x=="function"&&(B=x,x=0),G(y,P,x,B);function G(k,z,ne,re,xe){return a(k,z,ne,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Pa([G,[k,z,ne,re],fe,xe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var c=t.readdir;t.readdir=E;var u=/^v[0-5]\./;function E(y,P,x){typeof P=="function"&&(x=P,P=null);var B=u.test(process.version)?function(z,ne,re,xe){return c(z,G(z,ne,re,xe))}:function(z,ne,re,xe){return c(z,ne,G(z,ne,re,xe))};return B(y,P,x);function G(k,z,ne,re){return function(xe,fe){xe&&(xe.code==="EMFILE"||xe.code==="ENFILE")?Pa([B,[k,z,ne],xe,re||Date.now(),Date.now()]):(fe&&fe.sort&&fe.sort(),typeof ne=="function"&&ne.call(this,xe,fe))}}}if(process.version.substr(0,4)==="v0.8"){var d=f8(t);p=d.ReadStream,R=d.WriteStream}var f=t.ReadStream;f&&(p.prototype=Object.create(f.prototype),p.prototype.open=I);var T=t.WriteStream;T&&(R.prototype=Object.create(T.prototype),R.prototype.open=A),Object.defineProperty(t,"ReadStream",{get:function(){return p},set:function(y){p=y},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return R},set:function(y){R=y},enumerable:!0,configurable:!0});var h=p;Object.defineProperty(t,"FileReadStream",{get:function(){return h},set:function(y){h=y},enumerable:!0,configurable:!0});var S=R;Object.defineProperty(t,"FileWriteStream",{get:function(){return S},set:function(y){S=y},enumerable:!0,configurable:!0});function p(y,P){return this instanceof p?(f.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}function I(){var y=this;D(y.path,y.flags,y.mode,function(P,x){P?(y.autoClose&&y.destroy(),y.emit("error",P)):(y.fd=x,y.emit("open",x),y.read())})}function R(y,P){return this instanceof R?(T.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function A(){var y=this;D(y.path,y.flags,y.mode,function(P,x){P?(y.destroy(),y.emit("error",P)):(y.fd=x,y.emit("open",x))})}function O(y,P){return new t.ReadStream(y,P)}function L(y,P){return new t.WriteStream(y,P)}var N=t.open;t.open=D;function D(y,P,x,B){return typeof x=="function"&&(B=x,x=null),G(y,P,x,B);function G(k,z,ne,re,xe){return N(k,z,ne,function(fe,Fr){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Pa([G,[k,z,ne,re],fe,xe||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}return t}function Pa(t){oo("ENQUEUE",t[0].name,t[1]),ut[ar].push(t),XR()}var rd;function bL(){for(var t=Date.now(),e=0;e<ut[ar].length;++e)ut[ar][e].length>2&&(ut[ar][e][3]=t,ut[ar][e][4]=t);XR()}function XR(){if(clearTimeout(rd),rd=void 0,ut[ar].length!==0){var t=ut[ar].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)oo("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){oo("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(oo("RETRY",e.name,r),e.apply(null,r.concat([i]))):ut[ar].push(t)}rd===void 0&&(rd=setTimeout(XR,0))}}});var id=g((GDe,LL)=>{"use strict";var Yn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Yn.writable=t=>Yn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Yn.readable=t=>Yn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Yn.duplex=t=>Yn.writable(t)&&Yn.readable(t);Yn.transform=t=>Yn.duplex(t)&&typeof t._transform=="function";LL.exports=Yn});var Fc=g((HDe,jR)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?jR.exports={nextTick:T8}:jR.exports=process;function T8(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var DL=g((WDe,wL)=>{var S8={}.toString;wL.exports=Array.isArray||function(t){return S8.call(t)=="[object Array]"}});var JR=g((YDe,PL)=>{PL.exports=require("stream")});var Gc=g((QR,xL)=>{var sd=require("buffer"),Li=sd.Buffer;function ML(t,e){for(var r in t)e[r]=t[r]}Li.from&&Li.alloc&&Li.allocUnsafe&&Li.allocUnsafeSlow?xL.exports=sd:(ML(sd,QR),QR.Buffer=Ma);function Ma(t,e,r){return Li(t,e,r)}ML(Li,Ma);Ma.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Li(t,e,r)};Ma.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Li(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ma.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Li(t)};Ma.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return sd.SlowBuffer(t)}});var xa=g(Ar=>{function p8(t){return Array.isArray?Array.isArray(t):od(t)==="[object Array]"}Ar.isArray=p8;function R8(t){return typeof t=="boolean"}Ar.isBoolean=R8;function A8(t){return t===null}Ar.isNull=A8;function _8(t){return t==null}Ar.isNullOrUndefined=_8;function I8(t){return typeof t=="number"}Ar.isNumber=I8;function N8(t){return typeof t=="string"}Ar.isString=N8;function O8(t){return typeof t=="symbol"}Ar.isSymbol=O8;function m8(t){return t===void 0}Ar.isUndefined=m8;function g8(t){return od(t)==="[object RegExp]"}Ar.isRegExp=g8;function C8(t){return typeof t=="object"&&t!==null}Ar.isObject=C8;function b8(t){return od(t)==="[object Date]"}Ar.isDate=b8;function y8(t){return od(t)==="[object Error]"||t instanceof Error}Ar.isError=y8;function L8(t){return typeof t=="function"}Ar.isFunction=L8;function w8(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Ar.isPrimitive=w8;Ar.isBuffer=require("buffer").Buffer.isBuffer;function od(t){return Object.prototype.toString.call(t)}});var vL=g((VDe,ZR)=>{typeof Object.create=="function"?ZR.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ZR.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var va=g((kDe,tA)=>{try{if(eA=require("util"),typeof eA.inherits!="function")throw"";tA.exports=eA.inherits}catch{tA.exports=vL()}var eA});var BL=g((qDe,rA)=>{"use strict";function D8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var UL=Gc().Buffer,Hc=require("util");function P8(t,e,r){t.copy(e,r)}rA.exports=(function(){function t(){D8(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return UL.alloc(0);for(var n=UL.allocUnsafe(r>>>0),i=this.head,s=0;i;)P8(i.data,n,s),s+=i.data.length,i=i.next;return n},t})();Hc&&Hc.inspect&&Hc.inspect.custom&&(rA.exports.prototype[Hc.inspect.custom]=function(){var t=Hc.inspect({length:this.length});return this.constructor.name+" "+t})});var nA=g((XDe,FL)=>{"use strict";var ad=Fc();function M8(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ad.nextTick(ld,this,t)):ad.nextTick(ld,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,ad.nextTick(ld,r,s)):ad.nextTick(ld,r,s):e&&e(s)}),this)}function x8(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ld(t,e){t.emit("error",e)}FL.exports={destroy:M8,undestroy:x8}});var HL=g((KDe,GL)=>{GL.exports=require("util").deprecate});var sA=g((zDe,KL)=>{"use strict";var ao=Fc();KL.exports=wt;function YL(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Q8(e,t)}}var v8=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:ao.nextTick,Ua;wt.WritableState=Yc;var $L=Object.create(xa());$L.inherits=va();var U8={deprecate:HL()},VL=JR(),ud=Gc().Buffer,B8=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function F8(t){return ud.from(t)}function G8(t){return ud.isBuffer(t)||t instanceof B8}var kL=nA();$L.inherits(wt,VL);function H8(){}function Yc(t,e){Ua=Ua||lo(),t=t||{};var r=e instanceof Ua;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){X8(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new YL(this)}Yc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Yc.prototype,"buffer",{get:U8.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var cd;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(cd=Function.prototype[Symbol.hasInstance],Object.defineProperty(wt,Symbol.hasInstance,{value:function(t){return cd.call(this,t)?!0:this!==wt?!1:t&&t._writableState instanceof Yc}})):cd=function(t){return t instanceof this};function wt(t){if(Ua=Ua||lo(),!cd.call(wt,this)&&!(this instanceof Ua))return new wt(t);this._writableState=new Yc(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),VL.call(this)}wt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function W8(t,e){var r=new Error("write after end");t.emit("error",r),ao.nextTick(e,r)}function Y8(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),ao.nextTick(n,s),i=!1),i}wt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&G8(t);return s&&!ud.isBuffer(t)&&(t=F8(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=H8),n.ended?W8(this,r):(s||Y8(this,n,t,r))&&(n.pendingcb++,i=V8(this,n,s,t,e,r)),i};wt.prototype.cork=function(){var t=this._writableState;t.corked++};wt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&qL(this,t))};wt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function $8(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=ud.from(e,r)),e}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V8(t,e,r,n,i,s){if(!r){var o=$8(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else iA(t,e,!1,a,n,i,s);return l}function iA(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function k8(t,e,r,n,i){--e.pendingcb,r?(ao.nextTick(i,n),ao.nextTick(Wc,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Wc(t,e))}function q8(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function X8(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(q8(r),e)k8(t,r,n,e,i);else{var s=XL(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&qL(t,r),n?v8(WL,t,r,s,i):WL(t,r,s,i)}}function WL(t,e,r,n){r||K8(t,e),e.pendingcb--,n(),Wc(t,e)}function K8(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function qL(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,iA(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new YL(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,E=e.objectMode?1:l.length;if(iA(t,e,!1,E,l,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}wt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};wt.prototype._writev=null;wt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||J8(this,n,r)};function XL(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function z8(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Wc(t,e)})}function j8(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,ao.nextTick(z8,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Wc(t,e){var r=XL(e);return r&&(j8(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function J8(t,e,r){e.ending=!0,Wc(t,e),r&&(e.finished?ao.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Q8(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(wt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});wt.prototype.destroy=kL.destroy;wt.prototype._undestroy=kL.undestroy;wt.prototype._destroy=function(t,e){this.end(),e(t)}});var lo=g((jDe,QL)=>{"use strict";var zL=Fc(),Z8=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};QL.exports=wi;var jL=Object.create(xa());jL.inherits=va();var JL=lA(),aA=sA();jL.inherits(wi,JL);for(oA=Z8(aA.prototype),Ed=0;Ed<oA.length;Ed++)fd=oA[Ed],wi.prototype[fd]||(wi.prototype[fd]=aA.prototype[fd]);var oA,fd,Ed;function wi(t){if(!(this instanceof wi))return new wi(t);JL.call(this,t),aA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",eJ)}Object.defineProperty(wi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function eJ(){this.allowHalfOpen||this._writableState.ended||zL.nextTick(tJ,this)}function tJ(t){t.end()}Object.defineProperty(wi.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});wi.prototype._destroy=function(t,e){this.push(null),this.end(),zL.nextTick(e,t)}});var EA=g(ew=>{"use strict";var uA=Gc().Buffer,ZL=uA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function rJ(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function nJ(t){var e=rJ(t);if(typeof e!="string"&&(uA.isEncoding===ZL||!ZL(t)))throw new Error("Unknown encoding: "+t);return e||t}ew.StringDecoder=$c;function $c(t){this.encoding=nJ(t);var e;switch(this.encoding){case"utf16le":this.text=cJ,this.end=uJ,e=4;break;case"utf8":this.fillLast=oJ,e=4;break;case"base64":this.text=EJ,this.end=fJ,e=3;break;default:this.write=dJ,this.end=hJ;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=uA.allocUnsafe(e)}$c.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};$c.prototype.end=lJ;$c.prototype.text=aJ;$c.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function cA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function iJ(t,e,r){var n=e.length-1;if(n<r)return 0;var i=cA(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=cA(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=cA(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function sJ(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function oJ(t){var e=this.lastTotal-this.lastNeed,r=sJ(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function aJ(t,e){var r=iJ(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function lJ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function cJ(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function uJ(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function EJ(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function fJ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function dJ(t){return t.toString(this.encoding)}function hJ(t){return t&&t.length?this.write(t):""}});var lA=g((ZDe,fw)=>{"use strict";var Fa=Fc();fw.exports=Je;var TJ=DL(),Vc;Je.ReadableState=aw;var QDe=require("events").EventEmitter,iw=function(t,e){return t.listeners(e).length},SA=JR(),kc=Gc().Buffer,SJ=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function pJ(t){return kc.from(t)}function RJ(t){return kc.isBuffer(t)||t instanceof SJ}var sw=Object.create(xa());sw.inherits=va();var fA=require("util"),Ve=void 0;fA&&fA.debuglog?Ve=fA.debuglog("stream"):Ve=function(){};var AJ=BL(),ow=nA(),Ba;sw.inherits(Je,SA);var dA=["error","close","destroy","pause","resume"];function _J(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):TJ(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function aw(t,e){Vc=Vc||lo(),t=t||{};var r=e instanceof Vc;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new AJ,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ba||(Ba=EA().StringDecoder),this.decoder=new Ba(t.encoding),this.encoding=t.encoding)}function Je(t){if(Vc=Vc||lo(),!(this instanceof Je))return new Je(t);this._readableState=new aw(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),SA.call(this)}Object.defineProperty(Je.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Je.prototype.destroy=ow.destroy;Je.prototype._undestroy=ow.undestroy;Je.prototype._destroy=function(t,e){this.push(null),e(t)};Je.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=kc.from(t,e),e=""),n=!0),lw(this,t,e,!1,n)};Je.prototype.unshift=function(t){return lw(this,t,null,!0,!1)};function lw(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,mJ(t,s);else{var o;i||(o=IJ(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==kc.prototype&&(e=pJ(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):hA(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?hA(t,s,e,!1):cw(t,s)):hA(t,s,e,!1))):n||(s.reading=!1)}return NJ(s)}function hA(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&dd(t)),cw(t,e)}function IJ(t,e){var r;return!RJ(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function NJ(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Je.prototype.isPaused=function(){return this._readableState.flowing===!1};Je.prototype.setEncoding=function(t){return Ba||(Ba=EA().StringDecoder),this._readableState.decoder=new Ba(t),this._readableState.encoding=t,this};var tw=8388608;function OJ(t){return t>=tw?t=tw:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function rw(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=OJ(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Je.prototype.read=function(t){Ve("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ve("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?TA(this):dd(this),null;if(t=rw(t,e),t===0&&e.ended)return e.length===0&&TA(this),null;var n=e.needReadable;Ve("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ve("length less than watermark",n)),e.ended||e.reading?(n=!1,Ve("reading or ended",n)):n&&(Ve("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=rw(r,e)));var i;return t>0?i=uw(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&TA(this)),i!==null&&this.emit("data",i),i};function mJ(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,dd(t)}}function dd(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ve("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Fa.nextTick(nw,t):nw(t))}function nw(t){Ve("emit readable"),t.emit("readable"),pA(t)}function cw(t,e){e.readingMore||(e.readingMore=!0,Fa.nextTick(gJ,t,e))}function gJ(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ve("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Je.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Je.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ve("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:S;n.endEmitted?Fa.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){Ve("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){Ve("onend"),t.end()}var l=CJ(r);t.on("drain",l);var c=!1;function u(){Ve("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var E=!1;r.on("data",d);function d(p){Ve("ondata"),E=!1;var I=t.write(p);I===!1&&!E&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Ew(n.pipes,t)!==-1)&&!c&&(Ve("false write response, pause",n.awaitDrain),n.awaitDrain++,E=!0),r.pause())}function f(p){Ve("onerror",p),S(),t.removeListener("error",f),iw(t,"error")===0&&t.emit("error",p)}_J(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){Ve("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){Ve("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ve("pipe resume"),r.resume()),t};function CJ(t){return function(){var e=t._readableState;Ve("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&iw(t,"data")&&(e.flowing=!0,pA(t))}}Je.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Ew(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Je.prototype.on=function(t,e){var r=SA.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&dd(this):Fa.nextTick(bJ,this))}return r};Je.prototype.addListener=Je.prototype.on;function bJ(t){Ve("readable nexttick read 0"),t.read(0)}Je.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ve("resume"),t.flowing=!0,yJ(this,t)),this};function yJ(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Fa.nextTick(LJ,t,e))}function LJ(t,e){e.reading||(Ve("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),pA(t),e.flowing&&!e.reading&&t.read(0)}Je.prototype.pause=function(){return Ve("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ve("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function pA(t){var e=t._readableState;for(Ve("flow",e.flowing);e.flowing&&t.read()!==null;);}Je.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ve("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ve("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(o){return function(){return t[o].apply(t,arguments)}})(i));for(var s=0;s<dA.length;s++)t.on(dA[s],this.emit.bind(this,dA[s]));return this._read=function(o){Ve("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Je.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Je._fromList=uw;function uw(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=wJ(t,e.buffer,e.decoder),r}function wJ(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?DJ(t,e):PJ(t,e),n}function DJ(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function PJ(t,e){var r=kc.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function TA(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Fa.nextTick(MJ,e,t))}function MJ(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Ew(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var RA=g((ePe,Tw)=>{"use strict";Tw.exports=Di;var hd=lo(),hw=Object.create(xa());hw.inherits=va();hw.inherits(Di,hd);function xJ(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Di(t){if(!(this instanceof Di))return new Di(t);hd.call(this,t),this._transformState={afterTransform:xJ.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",vJ)}function vJ(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){dw(t,e,r)}):dw(this,null,null)}Di.prototype.push=function(t,e){return this._transformState.needTransform=!1,hd.prototype.push.call(this,t,e)};Di.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Di.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Di.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Di.prototype._destroy=function(t,e){var r=this;hd.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function dw(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var Aw=g((tPe,Rw)=>{"use strict";Rw.exports=qc;var Sw=RA(),pw=Object.create(xa());pw.inherits=va();pw.inherits(qc,Sw);function qc(t){if(!(this instanceof qc))return new qc(t);Sw.call(this,t)}qc.prototype._transform=function(t,e,r){r(null,t)}});var _w=g((lr,Td)=>{var $n=require("stream");process.env.READABLE_STREAM==="disable"&&$n?(Td.exports=$n,lr=Td.exports=$n.Readable,lr.Readable=$n.Readable,lr.Writable=$n.Writable,lr.Duplex=$n.Duplex,lr.Transform=$n.Transform,lr.PassThrough=$n.PassThrough,lr.Stream=$n):(lr=Td.exports=lA(),lr.Stream=$n||lr,lr.Readable=lr,lr.Writable=sA(),lr.Duplex=lo(),lr.Transform=RA(),lr.PassThrough=Aw())});var Nw=g((rPe,Iw)=>{Iw.exports=_w().PassThrough});var Cw=g((nPe,gw)=>{var Ow=require("util"),Rd=Nw();gw.exports={Readable:Sd,Writable:pd};Ow.inherits(Sd,Rd);Ow.inherits(pd,Rd);function mw(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function Sd(t,e){if(!(this instanceof Sd))return new Sd(t,e);Rd.call(this,e),mw(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function pd(t,e){if(!(this instanceof pd))return new pd(t,e);Rd.call(this,e),mw(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var AA=g((iPe,bw)=>{bw.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")}});var _A=g((sPe,yw)=>{function UJ(t){return t}yw.exports=UJ});var ww=g((oPe,Lw)=>{function BJ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}Lw.exports=BJ});var Mw=g((aPe,Pw)=>{var FJ=ww(),Dw=Math.max;function GJ(t,e,r){return e=Dw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=Dw(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),FJ(t,this,a)}}Pw.exports=GJ});var vw=g((lPe,xw)=>{function HJ(t){return function(){return t}}xw.exports=HJ});var IA=g((cPe,Uw)=>{var WJ=typeof global=="object"&&global&&global.Object===Object&&global;Uw.exports=WJ});var Ga=g((uPe,Bw)=>{var YJ=IA(),$J=typeof self=="object"&&self&&self.Object===Object&&self,VJ=YJ||$J||Function("return this")();Bw.exports=VJ});var Ad=g((EPe,Fw)=>{var kJ=Ga(),qJ=kJ.Symbol;Fw.exports=qJ});var Yw=g((fPe,Ww)=>{var Gw=Ad(),Hw=Object.prototype,XJ=Hw.hasOwnProperty,KJ=Hw.toString,Xc=Gw?Gw.toStringTag:void 0;function zJ(t){var e=XJ.call(t,Xc),r=t[Xc];try{t[Xc]=void 0;var n=!0}catch{}var i=KJ.call(t);return n&&(e?t[Xc]=r:delete t[Xc]),i}Ww.exports=zJ});var Vw=g((dPe,$w)=>{var jJ=Object.prototype,JJ=jJ.toString;function QJ(t){return JJ.call(t)}$w.exports=QJ});var Kc=g((hPe,Xw)=>{var kw=Ad(),ZJ=Yw(),e5=Vw(),t5="[object Null]",r5="[object Undefined]",qw=kw?kw.toStringTag:void 0;function n5(t){return t==null?t===void 0?r5:t5:qw&&qw in Object(t)?ZJ(t):e5(t)}Xw.exports=n5});var zc=g((TPe,Kw)=>{function i5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}Kw.exports=i5});var NA=g((SPe,zw)=>{var s5=Kc(),o5=zc(),a5="[object AsyncFunction]",l5="[object Function]",c5="[object GeneratorFunction]",u5="[object Proxy]";function E5(t){if(!o5(t))return!1;var e=s5(t);return e==l5||e==c5||e==a5||e==u5}zw.exports=E5});var Jw=g((pPe,jw)=>{var f5=Ga(),d5=f5["__core-js_shared__"];jw.exports=d5});var eD=g((RPe,Zw)=>{var OA=Jw(),Qw=(function(){var t=/[^.]+$/.exec(OA&&OA.keys&&OA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function h5(t){return!!Qw&&Qw in t}Zw.exports=h5});var rD=g((APe,tD)=>{var T5=Function.prototype,S5=T5.toString;function p5(t){if(t!=null){try{return S5.call(t)}catch{}try{return t+""}catch{}}return""}tD.exports=p5});var iD=g((_Pe,nD)=>{var R5=NA(),A5=eD(),_5=zc(),I5=rD(),N5=/[\\^$.*+?()[\]{}|]/g,O5=/^\[object .+?Constructor\]$/,m5=Function.prototype,g5=Object.prototype,C5=m5.toString,b5=g5.hasOwnProperty,y5=RegExp("^"+C5.call(b5).replace(N5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function L5(t){if(!_5(t)||A5(t))return!1;var e=R5(t)?y5:O5;return e.test(I5(t))}nD.exports=L5});var oD=g((IPe,sD)=>{function w5(t,e){return t?.[e]}sD.exports=w5});var jc=g((NPe,aD)=>{var D5=iD(),P5=oD();function M5(t,e){var r=P5(t,e);return D5(r)?r:void 0}aD.exports=M5});var cD=g((OPe,lD)=>{var x5=jc(),v5=(function(){try{var t=x5(Object,"defineProperty");return t({},"",{}),t}catch{}})();lD.exports=v5});var fD=g((mPe,ED)=>{var U5=vw(),uD=cD(),B5=_A(),F5=uD?function(t,e){return uD(t,"toString",{configurable:!0,enumerable:!1,value:U5(e),writable:!0})}:B5;ED.exports=F5});var hD=g((gPe,dD)=>{var G5=800,H5=16,W5=Date.now;function Y5(t){var e=0,r=0;return function(){var n=W5(),i=H5-(n-r);if(r=n,i>0){if(++e>=G5)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}dD.exports=Y5});var SD=g((CPe,TD)=>{var $5=fD(),V5=hD(),k5=V5($5);TD.exports=k5});var _d=g((bPe,pD)=>{var q5=_A(),X5=Mw(),K5=SD();function z5(t,e){return K5(X5(t,e,q5),t+"")}pD.exports=z5});var Id=g((yPe,RD)=>{function j5(t,e){return t===e||t!==t&&e!==e}RD.exports=j5});var mA=g((LPe,AD)=>{var J5=9007199254740991;function Q5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=J5}AD.exports=Q5});var Nd=g((wPe,_D)=>{var Z5=NA(),eQ=mA();function tQ(t){return t!=null&&eQ(t.length)&&!Z5(t)}_D.exports=tQ});var gA=g((DPe,ID)=>{var rQ=9007199254740991,nQ=/^(?:0|[1-9]\d*)$/;function iQ(t,e){var r=typeof t;return e=e??rQ,!!e&&(r=="number"||r!="symbol"&&nQ.test(t))&&t>-1&&t%1==0&&t<e}ID.exports=iQ});var OD=g((PPe,ND)=>{var sQ=Id(),oQ=Nd(),aQ=gA(),lQ=zc();function cQ(t,e,r){if(!lQ(r))return!1;var n=typeof e;return(n=="number"?oQ(r)&&aQ(e,r.length):n=="string"&&e in r)?sQ(r[e],t):!1}ND.exports=cQ});var gD=g((MPe,mD)=>{function uQ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}mD.exports=uQ});var Ha=g((xPe,CD)=>{function EQ(t){return t!=null&&typeof t=="object"}CD.exports=EQ});var yD=g((vPe,bD)=>{var fQ=Kc(),dQ=Ha(),hQ="[object Arguments]";function TQ(t){return dQ(t)&&fQ(t)==hQ}bD.exports=TQ});var CA=g((UPe,DD)=>{var LD=yD(),SQ=Ha(),wD=Object.prototype,pQ=wD.hasOwnProperty,RQ=wD.propertyIsEnumerable,AQ=LD((function(){return arguments})())?LD:function(t){return SQ(t)&&pQ.call(t,"callee")&&!RQ.call(t,"callee")};DD.exports=AQ});var bA=g((BPe,PD)=>{var _Q=Array.isArray;PD.exports=_Q});var xD=g((FPe,MD)=>{function IQ(){return!1}MD.exports=IQ});var FD=g((Jc,Wa)=>{var NQ=Ga(),OQ=xD(),BD=typeof Jc=="object"&&Jc&&!Jc.nodeType&&Jc,vD=BD&&typeof Wa=="object"&&Wa&&!Wa.nodeType&&Wa,mQ=vD&&vD.exports===BD,UD=mQ?NQ.Buffer:void 0,gQ=UD?UD.isBuffer:void 0,CQ=gQ||OQ;Wa.exports=CQ});var HD=g((GPe,GD)=>{var bQ=Kc(),yQ=mA(),LQ=Ha(),wQ="[object Arguments]",DQ="[object Array]",PQ="[object Boolean]",MQ="[object Date]",xQ="[object Error]",vQ="[object Function]",UQ="[object Map]",BQ="[object Number]",FQ="[object Object]",GQ="[object RegExp]",HQ="[object Set]",WQ="[object String]",YQ="[object WeakMap]",$Q="[object ArrayBuffer]",VQ="[object DataView]",kQ="[object Float32Array]",qQ="[object Float64Array]",XQ="[object Int8Array]",KQ="[object Int16Array]",zQ="[object Int32Array]",jQ="[object Uint8Array]",JQ="[object Uint8ClampedArray]",QQ="[object Uint16Array]",ZQ="[object Uint32Array]",Qe={};Qe[kQ]=Qe[qQ]=Qe[XQ]=Qe[KQ]=Qe[zQ]=Qe[jQ]=Qe[JQ]=Qe[QQ]=Qe[ZQ]=!0;Qe[wQ]=Qe[DQ]=Qe[$Q]=Qe[PQ]=Qe[VQ]=Qe[MQ]=Qe[xQ]=Qe[vQ]=Qe[UQ]=Qe[BQ]=Qe[FQ]=Qe[GQ]=Qe[HQ]=Qe[WQ]=Qe[YQ]=!1;function e9(t){return LQ(t)&&yQ(t.length)&&!!Qe[bQ(t)]}GD.exports=e9});var yA=g((HPe,WD)=>{function t9(t){return function(e){return t(e)}}WD.exports=t9});var $D=g((Qc,Ya)=>{var r9=IA(),YD=typeof Qc=="object"&&Qc&&!Qc.nodeType&&Qc,Zc=YD&&typeof Ya=="object"&&Ya&&!Ya.nodeType&&Ya,n9=Zc&&Zc.exports===YD,LA=n9&&r9.process,i9=(function(){try{var t=Zc&&Zc.require&&Zc.require("util").types;return t||LA&&LA.binding&&LA.binding("util")}catch{}})();Ya.exports=i9});var XD=g((WPe,qD)=>{var s9=HD(),o9=yA(),VD=$D(),kD=VD&&VD.isTypedArray,a9=kD?o9(kD):s9;qD.exports=a9});var zD=g((YPe,KD)=>{var l9=gD(),c9=CA(),u9=bA(),E9=FD(),f9=gA(),d9=XD(),h9=Object.prototype,T9=h9.hasOwnProperty;function S9(t,e){var r=u9(t),n=!r&&c9(t),i=!r&&!n&&E9(t),s=!r&&!n&&!i&&d9(t),o=r||n||i||s,a=o?l9(t.length,String):[],l=a.length;for(var c in t)(e||T9.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||f9(c,l)))&&a.push(c);return a}KD.exports=S9});var JD=g(($Pe,jD)=>{var p9=Object.prototype;function R9(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||p9;return t===r}jD.exports=R9});var ZD=g((VPe,QD)=>{function A9(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}QD.exports=A9});var tP=g((kPe,eP)=>{var _9=zc(),I9=JD(),N9=ZD(),O9=Object.prototype,m9=O9.hasOwnProperty;function g9(t){if(!_9(t))return N9(t);var e=I9(t),r=[];for(var n in t)n=="constructor"&&(e||!m9.call(t,n))||r.push(n);return r}eP.exports=g9});var nP=g((qPe,rP)=>{var C9=zD(),b9=tP(),y9=Nd();function L9(t){return y9(t)?C9(t,!0):b9(t)}rP.exports=L9});var oP=g((XPe,sP)=>{var w9=_d(),D9=Id(),P9=OD(),M9=nP(),iP=Object.prototype,x9=iP.hasOwnProperty,v9=w9(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&P9(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=M9(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||D9(u,iP[c])&&!x9.call(t,c))&&(t[c]=s[c])}return t});sP.exports=v9});var ot=g((KPe,aP)=>{"use strict";var wA=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};aP.exports={AggregateError:wA,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var DA=g((zPe,lP)=>{"use strict";lP.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var _r=g((jPe,EP)=>{"use strict";var{format:U9,inspect:Od}=DA(),{AggregateError:B9}=ot(),F9=globalThis.AggregateError||B9,G9=Symbol("kIsNodeError"),H9=["string","function","number","object","Function","Object","boolean","bigint","symbol"],W9=/^([A-Z][a-z0-9]*)+$/,Y9="__node_internal_",md={};function co(t,e){if(!t)throw new md.ERR_INTERNAL_ASSERTION(e)}function cP(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $9(t,e,r){if(typeof e=="function")return co(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return co(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:U9(e,...r)}function cr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super($9(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[G9]=!0,md[t]=n}function uP(t){let e=Y9+t.name;return Object.defineProperty(t,"name",{value:e}),t}function V9(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new F9([e,t],e.message);return r.code=e.code,r}return t||e}var PA=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new md.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};cr("ERR_ASSERTION","%s",Error);cr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{co(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)co(typeof l=="string","All expected entries have to be of type string"),H9.includes(l)?i.push(l.toLowerCase()):W9.test(l)?s.push(l):(co(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Od(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Od(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);cr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Od(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);cr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);cr("ERR_MISSING_ARGS",(...t)=>{co(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);cr("ERR_OUT_OF_RANGE",(t,e,r)=>{co(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=cP(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=cP(n)),n+="n"}else n=Od(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);cr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);cr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);cr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);cr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);cr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);cr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);cr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);cr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);cr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);cr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);cr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);EP.exports={AbortError:PA,aggregateTwoErrors:uP(V9),hideStackFrames:uP,codes:md}});var IP=g((ru,tu)=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});var pP=new WeakMap,MA=new WeakMap;function Ze(t){let e=pP.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function fP(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function $a(t,e){pP.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,RP(i))}}$a.prototype={get type(){return Ze(this).event.type},get target(){return Ze(this).eventTarget},get currentTarget(){return Ze(this).currentTarget},composedPath(){let t=Ze(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Ze(this).eventPhase},stopPropagation(){let t=Ze(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=Ze(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!Ze(this).event.bubbles},get cancelable(){return!!Ze(this).event.cancelable},preventDefault(){fP(Ze(this))},get defaultPrevented(){return Ze(this).canceled},get composed(){return!!Ze(this).event.composed},get timeStamp(){return Ze(this).timeStamp},get srcElement(){return Ze(this).eventTarget},get cancelBubble(){return Ze(this).stopped},set cancelBubble(t){if(!t)return;let e=Ze(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!Ze(this).canceled},set returnValue(t){t||fP(Ze(this))},initEvent(){}};Object.defineProperty($a.prototype,"constructor",{value:$a,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf($a.prototype,window.Event.prototype),MA.set(window.Event.prototype,$a));function RP(t){return{get(){return Ze(this).event[t]},set(e){Ze(this).event[t]=e},configurable:!0,enumerable:!0}}function k9(t){return{value(){let e=Ze(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function q9(t,e){let r=Object.keys(e);if(r.length===0)return t;function n(i,s){t.call(this,i,s)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in t.prototype)){let a=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(n.prototype,s,a?k9(s):RP(s))}}return n}function AP(t){if(t==null||t===Object.prototype)return $a;let e=MA.get(t);return e==null&&(e=q9(AP(Object.getPrototypeOf(t)),t),MA.set(t,e)),e}function X9(t,e){let r=AP(Object.getPrototypeOf(e));return new r(t,e)}function K9(t){return Ze(t).immediateStopped}function z9(t,e){Ze(t).eventPhase=e}function j9(t,e){Ze(t).currentTarget=e}function dP(t,e){Ze(t).passiveListener=e}var _P=new WeakMap,hP=1,TP=2,gd=3;function Cd(t){return t!==null&&typeof t=="object"}function eu(t){let e=_P.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function J9(t){return{get(){let r=eu(this).get(t);for(;r!=null;){if(r.listenerType===gd)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!Cd(e)&&(e=null);let r=eu(this),n=null,i=r.get(t);for(;i!=null;)i.listenerType===gd?n!==null?n.next=i.next:i.next!==null?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(e!==null){let s={listener:e,listenerType:gd,passive:!1,once:!1,next:null};n===null?r.set(t,s):n.next=s}},configurable:!0,enumerable:!0}}function xA(t,e){Object.defineProperty(t,`on${e}`,J9(e))}function SP(t){function e(){mn.call(this)}e.prototype=Object.create(mn.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)xA(e.prototype,t[r]);return e}function mn(){if(this instanceof mn){_P.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return SP(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return SP(t)}throw new TypeError("Cannot call a class as a function")}mn.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!Cd(e))throw new TypeError("'listener' should be a function or an object.");let n=eu(this),i=Cd(r),o=(i?!!r.capture:!!r)?hP:TP,a={listener:e,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},l=n.get(t);if(l===void 0){n.set(t,a);return}let c=null;for(;l!=null;){if(l.listener===e&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(t,e,r){if(e==null)return;let n=eu(this),s=(Cd(r)?!!r.capture:!!r)?hP:TP,o=null,a=n.get(t);for(;a!=null;){if(a.listener===e&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?n.set(t,a.next):n.delete(t);return}o=a,a=a.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=eu(this),r=t.type,n=e.get(r);if(n==null)return!0;let i=X9(this,t),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?e.set(r,n.next):e.delete(r):s=n,dP(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else n.listenerType!==gd&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(K9(i))break;n=n.next}return dP(i,null),z9(i,0),j9(i,null),!i.defaultPrevented}};Object.defineProperty(mn.prototype,"constructor",{value:mn,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(mn.prototype,window.EventTarget.prototype);ru.defineEventAttribute=xA;ru.EventTarget=mn;ru.default=mn;tu.exports=mn;tu.exports.EventTarget=tu.exports.default=mn;tu.exports.defineEventAttribute=xA});var gt=g((iu,nu)=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});var vA=IP(),ps=class extends vA.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=bd.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};vA.defineEventAttribute(ps.prototype,"abort");function Q9(){let t=Object.create(ps.prototype);return vA.EventTarget.call(t),bd.set(t,!1),t}function Z9(t){bd.get(t)===!1&&(bd.set(t,!0),t.dispatchEvent({type:"abort"}))}var bd=new WeakMap;Object.defineProperties(ps.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ps.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var Rs=class{constructor(){OP.set(this,Q9())}get signal(){return NP(this)}abort(){Z9(NP(this))}},OP=new WeakMap;function NP(t){let e=OP.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(Rs.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Rs.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});iu.AbortController=Rs;iu.AbortSignal=ps;iu.default=Rs;nu.exports=Rs;nu.exports.AbortController=nu.exports.default=Rs;nu.exports.AbortSignal=ps});var Dr=g((JPe,BA)=>{"use strict";var e7=require("buffer"),{format:t7,inspect:r7}=DA(),{codes:{ERR_INVALID_ARG_TYPE:UA}}=_r(),{kResistStopPropagation:n7,AggregateError:i7,SymbolDispose:s7}=ot(),o7=globalThis.AbortSignal||gt().AbortSignal,a7=globalThis.AbortController||gt().AbortController,l7=Object.getPrototypeOf(async function(){}).constructor,mP=globalThis.Blob||e7.Blob,c7=typeof mP<"u"?function(e){return e instanceof mP}:function(e){return!1},gP=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new UA(e,"AbortSignal",t)},u7=(t,e)=>{if(typeof t!="function")throw new UA(e,"Function",t)};BA.exports={AggregateError:i7,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:t7,inspect:r7,types:{isAsyncFunction(t){return t instanceof l7},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:c7,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new UA("signal","AbortSignal",e);gP(e,"signal"),u7(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[n7]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[s7](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:o7.any||function(e){if(e.length===1)return e[0];let r=new a7,n=()=>r.abort();return e.forEach(i=>{gP(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};BA.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ka=g((QPe,vP)=>{"use strict";var{ArrayIsArray:GA,ArrayPrototypeIncludes:LP,ArrayPrototypeJoin:wP,ArrayPrototypeMap:E7,NumberIsInteger:HA,NumberIsNaN:f7,NumberMAX_SAFE_INTEGER:d7,NumberMIN_SAFE_INTEGER:h7,NumberParseInt:T7,ObjectPrototypeHasOwnProperty:S7,RegExpPrototypeExec:DP,String:p7,StringPrototypeToUpperCase:R7,StringPrototypeTrim:A7}=ot(),{hideStackFrames:on,codes:{ERR_SOCKET_BAD_PORT:_7,ERR_INVALID_ARG_TYPE:Ir,ERR_INVALID_ARG_VALUE:Va,ERR_OUT_OF_RANGE:uo,ERR_UNKNOWN_SIGNAL:CP}}=_r(),{normalizeEncoding:I7}=Dr(),{isAsyncFunction:N7,isArrayBufferView:O7}=Dr().types,bP={};function m7(t){return t===(t|0)}function g7(t){return t===t>>>0}var C7=/^[0-7]+$/,b7="must be a 32-bit unsigned integer or an octal string";function y7(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(DP(C7,t)===null)throw new Va(e,t,b7);t=T7(t,8)}return PP(t,e),t}var L7=on((t,e,r=h7,n=d7)=>{if(typeof t!="number")throw new Ir(e,"number",t);if(!HA(t))throw new uo(e,"an integer",t);if(t<r||t>n)throw new uo(e,`>= ${r} && <= ${n}`,t)}),w7=on((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Ir(e,"number",t);if(!HA(t))throw new uo(e,"an integer",t);if(t<r||t>n)throw new uo(e,`>= ${r} && <= ${n}`,t)}),PP=on((t,e,r=!1)=>{if(typeof t!="number")throw new Ir(e,"number",t);if(!HA(t))throw new uo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new uo(e,`>= ${n} && <= ${i}`,t)});function WA(t,e){if(typeof t!="string")throw new Ir(e,"string",t)}function D7(t,e,r=void 0,n){if(typeof t!="number")throw new Ir(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&f7(t))throw new uo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var P7=on((t,e,r)=>{if(!LP(r,t)){let i="must be one of: "+wP(E7(r,s=>typeof s=="string"?`'${s}'`:p7(s)),", ");throw new Va(e,t,i)}});function MP(t,e){if(typeof t!="boolean")throw new Ir(e,"boolean",t)}function FA(t,e,r){return t==null||!S7(t,e)?r:t[e]}var M7=on((t,e,r=null)=>{let n=FA(r,"allowArray",!1),i=FA(r,"allowFunction",!1);if(!FA(r,"nullable",!1)&&t===null||!n&&GA(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Ir(e,"Object",t)}),x7=on((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Ir(e,"a dictionary",t)}),yd=on((t,e,r=0)=>{if(!GA(t))throw new Ir(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Va(e,t,n)}});function v7(t,e){yd(t,e);for(let r=0;r<t.length;r++)WA(t[r],`${e}[${r}]`)}function U7(t,e){yd(t,e);for(let r=0;r<t.length;r++)MP(t[r],`${e}[${r}]`)}function B7(t,e){yd(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Ir(i,"AbortSignal",n);xP(n,i)}}function F7(t,e="signal"){if(WA(t,e),bP[t]===void 0)throw bP[R7(t)]!==void 0?new CP(t+" (signals must use all capital letters)"):new CP(t)}var G7=on((t,e="buffer")=>{if(!O7(t))throw new Ir(e,["Buffer","TypedArray","DataView"],t)});function H7(t,e){let r=I7(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Va("encoding",e,`is invalid for data of length ${n}`)}function W7(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&A7(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new _7(e,t,r);return t|0}var xP=on((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Ir(e,"AbortSignal",t)}),Y7=on((t,e)=>{if(typeof t!="function")throw new Ir(e,"Function",t)}),$7=on((t,e)=>{if(typeof t!="function"||N7(t))throw new Ir(e,"Function",t)}),V7=on((t,e)=>{if(t!==void 0)throw new Ir(e,"undefined",t)});function k7(t,e,r){if(!LP(r,t))throw new Ir(e,`('${wP(r,"|")}')`,t)}var q7=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function yP(t,e){if(typeof t>"u"||!DP(q7,t))throw new Va(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function X7(t){if(typeof t=="string")return yP(t,"hints"),t;if(GA(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];yP(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Va("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}vP.exports={isInt32:m7,isUint32:g7,parseFileMode:y7,validateArray:yd,validateStringArray:v7,validateBooleanArray:U7,validateAbortSignalArray:B7,validateBoolean:MP,validateBuffer:G7,validateDictionary:x7,validateEncoding:H7,validateFunction:Y7,validateInt32:w7,validateInteger:L7,validateNumber:D7,validateObject:M7,validateOneOf:P7,validatePlainFunction:$7,validatePort:W7,validateSignalName:F7,validateString:WA,validateUint32:PP,validateUndefined:V7,validateUnion:k7,validateAbortSignal:xP,validateLinkHeaderValue:X7}});var qe=g((ZPe,UP)=>{UP.exports=global.process});var kn=g((eMe,JP)=>{"use strict";var{SymbolAsyncIterator:BP,SymbolIterator:FP,SymbolFor:Eo}=ot(),GP=Eo("nodejs.stream.destroyed"),HP=Eo("nodejs.stream.errored"),YA=Eo("nodejs.stream.readable"),$A=Eo("nodejs.stream.writable"),WP=Eo("nodejs.stream.disturbed"),K7=Eo("nodejs.webstream.isClosedPromise"),z7=Eo("nodejs.webstream.controllerErrorFunction");function Ld(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function wd(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function j7(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Vn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function YP(t){return!!(t&&!Vn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function $P(t){return!!(t&&!Vn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function VP(t){return!!(t&&!Vn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function J7(t){return YP(t)||$P(t)||VP(t)}function Q7(t,e){return t==null?!1:e===!0?typeof t[BP]=="function":e===!1?typeof t[FP]=="function":typeof t[BP]=="function"||typeof t[FP]=="function"}function Dd(t){if(!Vn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[GP]||n!=null&&n.destroyed)}function kP(t){if(!wd(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Z7(t,e){if(!wd(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function eZ(t){if(!Ld(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function qP(t,e){if(!Ld(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function XP(t){return t&&t[YA]!=null?t[YA]:typeof t?.readable!="boolean"?null:Dd(t)?!1:Ld(t)&&t.readable&&!qP(t)}function KP(t){return t&&t[$A]!=null?t[$A]:typeof t?.writable!="boolean"?null:Dd(t)?!1:wd(t)&&t.writable&&!kP(t)}function tZ(t,e){return Vn(t)?Dd(t)?!0:!(e?.readable!==!1&&XP(t)||e?.writable!==!1&&KP(t)):null}function rZ(t){var e,r;return Vn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function nZ(t){var e,r;return Vn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function iZ(t){if(!Vn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&zP(t)?t._closed:null}function zP(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function jP(t){return typeof t._sent100=="boolean"&&zP(t)}function sZ(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function oZ(t){if(!Vn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&jP(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function aZ(t){var e;return!!(t&&((e=t[WP])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function lZ(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[HP])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}JP.exports={isDestroyed:Dd,kIsDestroyed:GP,isDisturbed:aZ,kIsDisturbed:WP,isErrored:lZ,kIsErrored:HP,isReadable:XP,kIsReadable:YA,kIsClosedPromise:K7,kControllerErrorFunction:z7,kIsWritable:$A,isClosed:iZ,isDuplexNodeStream:j7,isFinished:tZ,isIterable:Q7,isReadableNodeStream:Ld,isReadableStream:YP,isReadableEnded:eZ,isReadableFinished:qP,isReadableErrored:nZ,isNodeStream:Vn,isWebStream:J7,isWritable:KP,isWritableNodeStream:wd,isWritableStream:$P,isWritableEnded:kP,isWritableFinished:Z7,isWritableErrored:rZ,isServerRequest:sZ,isServerResponse:jP,willEmitClose:oZ,isTransformStream:VP}});var Pi=g((tMe,KA)=>{"use strict";var As=qe(),{AbortError:oM,codes:cZ}=_r(),{ERR_INVALID_ARG_TYPE:uZ,ERR_STREAM_PREMATURE_CLOSE:QP}=cZ,{kEmptyObject:kA,once:qA}=Dr(),{validateAbortSignal:EZ,validateFunction:fZ,validateObject:dZ,validateBoolean:hZ}=ka(),{Promise:TZ,PromisePrototypeThen:SZ,SymbolDispose:aM}=ot(),{isClosed:pZ,isReadable:ZP,isReadableNodeStream:VA,isReadableStream:RZ,isReadableFinished:eM,isReadableErrored:tM,isWritable:rM,isWritableNodeStream:nM,isWritableStream:AZ,isWritableFinished:iM,isWritableErrored:sM,isNodeStream:_Z,willEmitClose:IZ,kIsClosedPromise:NZ}=kn(),qa;function OZ(t){return t.setHeader&&typeof t.abort=="function"}var XA=()=>{};function lM(t,e,r){var n,i;if(arguments.length===2?(r=e,e=kA):e==null?e=kA:dZ(e,"options"),fZ(r,"callback"),EZ(e.signal,"options.signal"),r=qA(r),RZ(t)||AZ(t))return mZ(t,e,r);if(!_Z(t))throw new uZ("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:VA(t),o=(i=e.writable)!==null&&i!==void 0?i:nM(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=IZ(t)&&VA(t)===s&&nM(t)===o,E=iM(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=eM(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=O=>{r.call(t,O)},S=pZ(t),p=()=>{S=!0;let O=sM(t)||tM(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&VA(t,!0)&&!eM(t,!1))return r.call(t,new QP);if(o&&!E&&!iM(t,!1))return r.call(t,new QP);r.call(t)},I=()=>{S=!0;let O=sM(t)||tM(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},R=()=>{t.req.on("finish",d)};OZ(t)?(t.on("complete",d),u||t.on("abort",p),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",p),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",p),S?As.nextTick(p):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||As.nextTick(I):(!s&&(!u||ZP(t))&&(E||rM(t)===!1)||!o&&(!u||rM(t))&&(f||ZP(t)===!1)||l&&t.req&&t.aborted)&&As.nextTick(I);let A=()=>{r=XA,t.removeListener("aborted",p),t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",R),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",p)};if(e.signal&&!S){let O=()=>{let L=r;A(),L.call(t,new oM(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)As.nextTick(O);else{qa=qa||Dr().addAbortListener;let L=qa(e.signal,O),N=r;r=qA((...D)=>{L[aM](),N.apply(t,D)})}}return A}function mZ(t,e,r){let n=!1,i=XA;if(e.signal)if(i=()=>{n=!0,r.call(t,new oM(void 0,{cause:e.signal.reason}))},e.signal.aborted)As.nextTick(i);else{qa=qa||Dr().addAbortListener;let o=qa(e.signal,i),a=r;r=qA((...l)=>{o[aM](),a.apply(t,l)})}let s=(...o)=>{n||As.nextTick(()=>r.apply(t,o))};return SZ(t[NZ].promise,s,s),XA}function gZ(t,e){var r;let n=!1;return e===null&&(e=kA),(r=e)!==null&&r!==void 0&&r.cleanup&&(hZ(e.cleanup,"cleanup"),n=e.cleanup),new TZ((i,s)=>{let o=lM(t,e,a=>{n&&o(),a?s(a):i()})})}KA.exports=lM;KA.exports.finished=gZ});var fo=g((rMe,SM)=>{"use strict";var qn=qe(),{aggregateTwoErrors:CZ,codes:{ERR_MULTIPLE_CALLBACK:bZ},AbortError:yZ}=_r(),{Symbol:EM}=ot(),{kIsDestroyed:LZ,isDestroyed:wZ,isFinished:DZ,isServerRequest:PZ}=kn(),fM=EM("kDestroy"),zA=EM("kConstruct");function dM(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function MZ(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(dM(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?cM(this,t,e):this.once(fM,function(s){cM(this,CZ(s,t),e)}),this)}function cM(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;dM(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?qn.nextTick(xZ,t,s):qn.nextTick(hM,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function xZ(t,e){jA(t,e),hM(t)}function hM(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function jA(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function vZ(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function JA(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?qn.nextTick(jA,t,e):jA(t,e))}function UZ(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(zA,e),!(t.listenerCount(zA)>1)&&qn.nextTick(BZ,t)}function BZ(t){let e=!1;function r(n){if(e){JA(t,n??new bZ);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(fM,n):n?JA(t,n,!0):qn.nextTick(FZ,t)}try{t._construct(n=>{qn.nextTick(r,n)})}catch(n){qn.nextTick(r,n)}}function FZ(t){t.emit(zA)}function uM(t){return t?.setHeader&&typeof t.abort=="function"}function TM(t){t.emit("close")}function GZ(t,e){t.emit("error",e),qn.nextTick(TM,t)}function HZ(t,e){!t||wZ(t)||(!e&&!DZ(t)&&(e=new yZ),PZ(t)?(t.socket=null,t.destroy(e)):uM(t)?t.abort():uM(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?qn.nextTick(GZ,t,e):qn.nextTick(TM,t),t.destroyed||(t[LZ]=!0))}SM.exports={construct:UZ,destroyer:HZ,destroy:MZ,undestroy:vZ,errorOrDestroy:JA}});var xd=g((nMe,RM)=>{"use strict";var{ArrayIsArray:WZ,ObjectSetPrototypeOf:pM}=ot(),{EventEmitter:Pd}=require("events");function Md(t){Pd.call(this,t)}pM(Md.prototype,Pd.prototype);pM(Md,Pd);Md.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),Pd.listenerCount(this,"error")===0&&this.emit("error",u)}QA(r,"error",l),QA(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function QA(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):WZ(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}RM.exports={Stream:Md,prependListener:QA}});var su=g((iMe,vd)=>{"use strict";var{SymbolDispose:YZ}=ot(),{AbortError:AM,codes:$Z}=_r(),{isNodeStream:_M,isWebStream:VZ,kControllerErrorFunction:kZ}=kn(),qZ=Pi(),{ERR_INVALID_ARG_TYPE:IM}=$Z,ZA,XZ=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new IM(e,"AbortSignal",t)};vd.exports.addAbortSignal=function(e,r){if(XZ(e,"signal"),!_M(r)&&!VZ(r))throw new IM("stream",["ReadableStream","WritableStream","Stream"],r);return vd.exports.addAbortSignalNoValidate(e,r)};vd.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=_M(e)?()=>{e.destroy(new AM(void 0,{cause:t.reason}))}:()=>{e[kZ](new AM(void 0,{cause:t.reason}))};if(t.aborted)r();else{ZA=ZA||Dr().addAbortListener;let n=ZA(t,r);qZ(e,n[YZ])}return e}});var mM=g((oMe,OM)=>{"use strict";var{StringPrototypeSlice:NM,SymbolIterator:KZ,TypedArrayPrototypeSet:Ud,Uint8Array:zZ}=ot(),{Buffer:e_}=require("buffer"),{inspect:jZ}=Dr();OM.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return e_.alloc(0);let r=e_.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Ud(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[KZ](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=NM(s,0,e),this.head=n,n.data=NM(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=e_.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)Ud(r,o,n-e),e-=o.length;else{e===o.length?(Ud(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(Ud(r,new zZ(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return jZ(this,{...r,depth:0,customInspect:!1})}}});var ou=g((aMe,yM)=>{"use strict";var{MathFloor:JZ,NumberIsInteger:QZ}=ot(),{validateInteger:ZZ}=ka(),{ERR_INVALID_ARG_VALUE:eee}=_r().codes,gM=16*1024,CM=16;function tee(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function bM(t){return t?CM:gM}function ree(t,e){ZZ(e,"value",0),t?CM=e:gM=e}function nee(t,e,r,n){let i=tee(e,n,r);if(i!=null){if(!QZ(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new eee(s,i)}return JZ(i)}return bM(t.objectMode)}yM.exports={getHighWaterMark:nee,getDefaultHighWaterMark:bM,setDefaultHighWaterMark:ree}});var DM=g((t_,wM)=>{var Bd=require("buffer"),Xn=Bd.Buffer;function LM(t,e){for(var r in t)e[r]=t[r]}Xn.from&&Xn.alloc&&Xn.allocUnsafe&&Xn.allocUnsafeSlow?wM.exports=Bd:(LM(Bd,t_),t_.Buffer=ho);function ho(t,e,r){return Xn(t,e,r)}ho.prototype=Object.create(Xn.prototype);LM(Xn,ho);ho.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Xn(t,e,r)};ho.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Xn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};ho.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Xn(t)};ho.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Bd.SlowBuffer(t)}});var lu=g(MM=>{"use strict";var n_=DM().Buffer,PM=n_.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function iee(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function see(t){var e=iee(t);if(typeof e!="string"&&(n_.isEncoding===PM||!PM(t)))throw new Error("Unknown encoding: "+t);return e||t}MM.StringDecoder=au;function au(t){this.encoding=see(t);var e;switch(this.encoding){case"utf16le":this.text=Eee,this.end=fee,e=4;break;case"utf8":this.fillLast=lee,e=4;break;case"base64":this.text=dee,this.end=hee,e=3;break;default:this.write=Tee,this.end=See;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n_.allocUnsafe(e)}au.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};au.prototype.end=uee;au.prototype.text=cee;au.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function r_(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function oee(t,e,r){var n=e.length-1;if(n<r)return 0;var i=r_(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=r_(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=r_(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function aee(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function lee(t){var e=this.lastTotal-this.lastNeed,r=aee(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function cee(t,e){var r=oee(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function uee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Eee(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function fee(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function dee(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function hee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Tee(t){return t.toString(this.encoding)}function See(t){return t&&t.length?this.write(t):""}});var i_=g((cMe,BM)=>{"use strict";var xM=qe(),{PromisePrototypeThen:pee,SymbolAsyncIterator:vM,SymbolIterator:UM}=ot(),{Buffer:Ree}=require("buffer"),{ERR_INVALID_ARG_TYPE:Aee,ERR_STREAM_NULL_VALUES:_ee}=_r().codes;function Iee(t,e,r){let n;if(typeof e=="string"||e instanceof Ree)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[vM])i=!0,n=e[vM]();else if(e&&e[UM])i=!1,n=e[UM]();else throw new Aee("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){pee(a(c),()=>xM.nextTick(u,c),E=>xM.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new _ee;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}BM.exports=Iee});var uu=g((uMe,tx)=>{"use strict";var gn=qe(),{ArrayPrototypeIndexOf:Nee,NumberIsInteger:Oee,NumberIsNaN:mee,NumberParseInt:gee,ObjectDefineProperties:f_,ObjectKeys:Cee,ObjectSetPrototypeOf:HM,Promise:WM,SafeSet:bee,SymbolAsyncDispose:yee,SymbolAsyncIterator:Lee,Symbol:wee}=ot();tx.exports=Se;Se.ReadableState=Wd;var{EventEmitter:Dee}=require("events"),{Stream:_s,prependListener:Pee}=xd(),{Buffer:s_}=require("buffer"),{addAbortSignal:Mee}=su(),YM=Pi(),ye=Dr().debuglog("stream",t=>{ye=t}),xee=mM(),za=fo(),{getHighWaterMark:vee,getDefaultHighWaterMark:Uee}=ou(),{aggregateTwoErrors:FM,codes:{ERR_INVALID_ARG_TYPE:Bee,ERR_METHOD_NOT_IMPLEMENTED:Fee,ERR_OUT_OF_RANGE:Gee,ERR_STREAM_PUSH_AFTER_EOF:Hee,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Wee},AbortError:Yee}=_r(),{validateObject:$ee}=ka(),To=wee("kPaused"),{StringDecoder:$M}=lu(),Vee=i_();HM(Se.prototype,_s.prototype);HM(Se,_s);var o_=()=>{},{errorOrDestroy:Xa}=za,Ka=1,kee=2,VM=4,cu=8,kM=16,Fd=32,Gd=64,qM=128,qee=256,Xee=512,Kee=1024,u_=2048,E_=4096,zee=8192,jee=16384,Jee=32768,XM=65536,Qee=1<<17,Zee=1<<18;function xt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}f_(Wd.prototype,{objectMode:xt(Ka),ended:xt(kee),endEmitted:xt(VM),reading:xt(cu),constructed:xt(kM),sync:xt(Fd),needReadable:xt(Gd),emittedReadable:xt(qM),readableListening:xt(qee),resumeScheduled:xt(Xee),errorEmitted:xt(Kee),emitClose:xt(u_),autoDestroy:xt(E_),destroyed:xt(zee),closed:xt(jee),closeEmitted:xt(Jee),multiAwaitDrain:xt(XM),readingMore:xt(Qee),dataEmitted:xt(Zee)});function Wd(t,e,r){typeof r!="boolean"&&(r=e instanceof Kn()),this.state=u_|E_|kM|Fd,t&&t.objectMode&&(this.state|=Ka),r&&t&&t.readableObjectMode&&(this.state|=Ka),this.highWaterMark=t?vee(this,t,"readableHighWaterMark",r):Uee(!1),this.buffer=new xee,this.length=0,this.pipes=[],this.flowing=null,this[To]=null,t&&t.emitClose===!1&&(this.state&=~u_),t&&t.autoDestroy===!1&&(this.state&=~E_),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new $M(t.encoding),this.encoding=t.encoding)}function Se(t){if(!(this instanceof Se))return new Se(t);let e=this instanceof Kn();this._readableState=new Wd(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Mee(t.signal,this)),_s.call(this,t),za.construct(this,()=>{this._readableState.needReadable&&Hd(this,this._readableState)})}Se.prototype.destroy=za.destroy;Se.prototype._undestroy=za.undestroy;Se.prototype._destroy=function(t,e){e(t)};Se.prototype[Dee.captureRejectionSymbol]=function(t){this.destroy(t)};Se.prototype[yee]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Yee,this.destroy(t)),new WM((e,r)=>YM(this,n=>n&&n!==t?r(n):e(null)))};Se.prototype.push=function(t,e){return KM(this,t,e,!1)};Se.prototype.unshift=function(t,e){return KM(this,t,e,!0)};function KM(t,e,r,n){ye("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ka)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=s_.from(e,r).toString(i.encoding):(e=s_.from(e,r),r=""))):e instanceof s_?r="":_s._isUint8Array(e)?(e=_s._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Bee("chunk",["string","Buffer","Uint8Array"],e))),s)Xa(t,s);else if(e===null)i.state&=~cu,rte(t,i);else if((i.state&Ka)!==0||e&&e.length>0)if(n)if((i.state&VM)!==0)Xa(t,new Wee);else{if(i.destroyed||i.errored)return!1;a_(t,i,e,!0)}else if(i.ended)Xa(t,new Hee);else{if(i.destroyed||i.errored)return!1;i.state&=~cu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?a_(t,i,e,!1):Hd(t,i)):a_(t,i,e,!1)}else n||(i.state&=~cu,Hd(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function a_(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&XM)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&Gd)!==0&&Yd(t)),Hd(t,e)}Se.prototype.isPaused=function(){let t=this._readableState;return t[To]===!0||t.flowing===!1};Se.prototype.setEncoding=function(t){let e=new $M(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var ete=1073741824;function tte(t){if(t>ete)throw new Gee("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function GM(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ka)!==0?1:mee(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Se.prototype.read=function(t){ye("read",t),t===void 0?t=NaN:Oee(t)||(t=gee(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=tte(t)),t!==0&&(e.state&=~qM),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ye("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?l_(this):Yd(this),null;if(t=GM(t,e),t===0&&e.ended)return e.length===0&&l_(this),null;let n=(e.state&Gd)!==0;if(ye("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ye("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,ye("reading, ended or constructing",n);else if(n){ye("do read"),e.state|=cu|Fd,e.length===0&&(e.state|=Gd);try{this._read(e.highWaterMark)}catch(s){Xa(this,s)}e.state&=~Fd,e.reading||(t=GM(r,e))}let i;return t>0?i=ZM(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&l_(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function rte(t,e){if(ye("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Yd(t):(e.needReadable=!1,e.emittedReadable=!0,zM(t))}}function Yd(t){let e=t._readableState;ye("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ye("emitReadable",e.flowing),e.emittedReadable=!0,gn.nextTick(zM,t))}function zM(t){let e=t._readableState;ye("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,JM(t)}function Hd(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,gn.nextTick(nte,t,e))}function nte(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(ye("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Se.prototype._read=function(t){throw new Fee("_read()")};Se.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new bee(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),ye("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==gn.stdout&&t!==gn.stderr?a:S;n.endEmitted?gn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){ye("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){ye("onend"),t.end()}let l,c=!1;function u(){ye("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(ye("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(ye("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=ite(r,t),t.on("drain",l))}r.on("data",d);function d(p){ye("ondata");let I=t.write(p);ye("dest.write",I),I===!1&&E()}function f(p){if(ye("onerror",p),S(),t.removeListener("error",f),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?Xa(t,p):t.emit("error",p)}}Pee(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){ye("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){ye("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(ye("pipe resume"),r.resume()),t};function ite(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(ye("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(ye("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Se.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Nee(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Se.prototype.on=function(t,e){let r=_s.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ye("on readable",n.length,n.reading),n.length?Yd(this):n.reading||gn.nextTick(ste,this)),r};Se.prototype.addListener=Se.prototype.on;Se.prototype.removeListener=function(t,e){let r=_s.prototype.removeListener.call(this,t,e);return t==="readable"&&gn.nextTick(jM,this),r};Se.prototype.off=Se.prototype.removeListener;Se.prototype.removeAllListeners=function(t){let e=_s.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&gn.nextTick(jM,this),e};function jM(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[To]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function ste(t){ye("readable nexttick read 0"),t.read(0)}Se.prototype.resume=function(){let t=this._readableState;return t.flowing||(ye("resume"),t.flowing=!t.readableListening,ote(this,t)),t[To]=!1,this};function ote(t,e){e.resumeScheduled||(e.resumeScheduled=!0,gn.nextTick(ate,t,e))}function ate(t,e){ye("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),JM(t),e.flowing&&!e.reading&&t.read(0)}Se.prototype.pause=function(){return ye("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ye("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[To]=!0,this};function JM(t){let e=t._readableState;for(ye("flow",e.flowing);e.flowing&&t.read()!==null;);}Se.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Xa(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Cee(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Se.prototype[Lee]=function(){return QM(this)};Se.prototype.iterator=function(t){return t!==void 0&&$ee(t,"options"),QM(this,t)};function QM(t,e){typeof t.read!="function"&&(t=Se.wrap(t,{objectMode:!0}));let r=lte(t,e);return r.stream=t,r}async function*lte(t,e){let r=o_;function n(o){this===t?(r(),r=o_):r=o}t.on("readable",n);let i,s=YM(t,{writable:!1},o=>{i=o?FM(i,o):null,r(),r=o_});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new WM(n)}}}catch(o){throw i=FM(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?za.destroyer(t,null):(t.off("readable",n),s())}}f_(Se.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});f_(Wd.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[To]!==!1},set(t){this[To]=!!t}}});Se._fromList=ZM;function ZM(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function l_(t){let e=t._readableState;ye("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,gn.nextTick(cte,e,t))}function cte(t,e){if(ye("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)gn.nextTick(ute,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function ute(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Se.from=function(t,e){return Vee(Se,t,e)};var c_;function ex(){return c_===void 0&&(c_={}),c_}Se.fromWeb=function(t,e){return ex().newStreamReadableFromReadableStream(t,e)};Se.toWeb=function(t,e){return ex().newReadableStreamFromStreamReadable(t,e)};Se.wrap=function(t,e){var r,n;return new Se({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){za.destroyer(t,i),s(i)}}).wrap(t)}});var Xd=g((EMe,dx)=>{"use strict";var So=qe(),{ArrayPrototypeSlice:ix,Error:Ete,FunctionPrototypeSymbolHasInstance:sx,ObjectDefineProperty:ox,ObjectDefineProperties:fte,ObjectSetPrototypeOf:ax,StringPrototypeToLowerCase:dte,Symbol:hte,SymbolHasInstance:Tte}=ot();dx.exports=Et;Et.WritableState=du;var{EventEmitter:Ste}=require("events"),Eu=xd().Stream,{Buffer:$d}=require("buffer"),qd=fo(),{addAbortSignal:pte}=su(),{getHighWaterMark:Rte,getDefaultHighWaterMark:Ate}=ou(),{ERR_INVALID_ARG_TYPE:_te,ERR_METHOD_NOT_IMPLEMENTED:Ite,ERR_MULTIPLE_CALLBACK:lx,ERR_STREAM_CANNOT_PIPE:Nte,ERR_STREAM_DESTROYED:fu,ERR_STREAM_ALREADY_FINISHED:Ote,ERR_STREAM_NULL_VALUES:mte,ERR_STREAM_WRITE_AFTER_END:gte,ERR_UNKNOWN_ENCODING:cx}=_r().codes,{errorOrDestroy:ja}=qd;ax(Et.prototype,Eu.prototype);ax(Et,Eu);function T_(){}var Ja=hte("kOnFinished");function du(t,e,r){typeof r!="boolean"&&(r=e instanceof Kn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Rte(this,t,"writableHighWaterMark",r):Ate(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=bte.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,kd(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ja]=[]}function kd(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}du.prototype.getBuffer=function(){return ix(this.buffered,this.bufferedIndex)};ox(du.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Et(t){let e=this instanceof Kn();if(!e&&!sx(Et,this))return new Et(t);this._writableState=new du(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&pte(t.signal,this)),Eu.call(this,t),qd.construct(this,()=>{let r=this._writableState;r.writing||p_(this,r),R_(this,r)})}ox(Et,Tte,{__proto__:null,value:function(t){return sx(this,t)?!0:this!==Et?!1:t&&t._writableState instanceof du}});Et.prototype.pipe=function(){ja(this,new Nte)};function ux(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!$d.isEncoding(r))throw new cx(r);typeof n!="function"&&(n=T_)}if(e===null)throw new mte;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=$d.from(e,r),r="buffer");else if(e instanceof $d)r="buffer";else if(Eu._isUint8Array(e))e=Eu._uint8ArrayToBuffer(e),r="buffer";else throw new _te("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new gte:i.destroyed&&(s=new fu("write")),s?(So.nextTick(n,s),ja(t,s,!0),s):(i.pendingcb++,Cte(t,i,e,r,n))}Et.prototype.write=function(t,e,r){return ux(this,t,e,r)===!0};Et.prototype.cork=function(){this._writableState.corked++};Et.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||p_(this,t))};Et.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=dte(e)),!$d.isEncoding(e))throw new cx(e);return this._writableState.defaultEncoding=e,this};function Cte(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==T_&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function rx(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new fu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function nx(t,e,r,n){--e.pendingcb,n(r),S_(e),ja(t,r)}function bte(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){ja(t,new lx);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?So.nextTick(nx,t,r,e,i):nx(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&p_(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},So.nextTick(yte,r.afterWriteTickInfo)):Ex(t,r,1,i))}function yte({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,Ex(t,e,r,n)}function Ex(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&S_(e),R_(t,e)}function S_(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new fu("write"))}let r=t[Ja].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new fu("end"))}kd(t)}function p_(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?T_:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:ix(r,o);l.allBuffers=e.allBuffers,rx(t,e,!0,e.length,l,"",a),kd(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;rx(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?kd(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}Et.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Ite("_write()")};Et.prototype._writev=null;Et.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=ux(this,t,e);s instanceof Ete&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,R_(this,n,!0),n.ended=!0):n.finished?i=new Ote("end"):n.destroyed&&(i=new fu("end"))),typeof r=="function"&&(i||n.finished?So.nextTick(r,i):n[Ja].push(r)),this};function Vd(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Lte(t,e){let r=!1;function n(i){if(r){ja(t,i??lx());return}if(r=!0,e.pendingcb--,i){let s=e[Ja].splice(0);for(let o=0;o<s.length;o++)s[o](i);ja(t,i,e.sync)}else Vd(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,So.nextTick(h_,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function wte(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Lte(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function R_(t,e,r){Vd(e)&&(wte(t,e),e.pendingcb===0&&(r?(e.pendingcb++,So.nextTick((n,i)=>{Vd(i)?h_(n,i):i.pendingcb--},t,e)):Vd(e)&&(e.pendingcb++,h_(t,e))))}function h_(t,e){e.pendingcb--,e.finished=!0;let r=e[Ja].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}fte(Et.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Dte=qd.destroy;Et.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Ja].length)&&So.nextTick(S_,r),Dte.call(this,t,e),this};Et.prototype._undestroy=qd.undestroy;Et.prototype._destroy=function(t,e){e(t)};Et.prototype[Ste.captureRejectionSymbol]=function(t){this.destroy(t)};var d_;function fx(){return d_===void 0&&(d_={}),d_}Et.fromWeb=function(t,e){return fx().newStreamWritableFromWritableStream(t,e)};Et.toWeb=function(t){return fx().newWritableStreamFromStreamWritable(t)}});var yx=g((fMe,bx)=>{var A_=qe(),Pte=require("buffer"),{isReadable:Mte,isWritable:xte,isIterable:hx,isNodeStream:vte,isReadableNodeStream:Tx,isWritableNodeStream:Sx,isDuplexNodeStream:Ute,isReadableStream:px,isWritableStream:Rx}=kn(),Ax=Pi(),{AbortError:gx,codes:{ERR_INVALID_ARG_TYPE:Bte,ERR_INVALID_RETURN_VALUE:_x}}=_r(),{destroyer:Za}=fo(),Fte=Kn(),Cx=uu(),Gte=Xd(),{createDeferredPromise:Ix}=Dr(),Nx=i_(),Ox=globalThis.Blob||Pte.Blob,Hte=typeof Ox<"u"?function(e){return e instanceof Ox}:function(e){return!1},Wte=globalThis.AbortController||gt().AbortController,{FunctionPrototypeCall:mx}=ot(),Is=class extends Fte{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};bx.exports=function t(e,r){if(Ute(e))return e;if(Tx(e))return Qa({readable:e});if(Sx(e))return Qa({writable:e});if(vte(e))return Qa({writable:!1,readable:!1});if(px(e))return Qa({readable:Cx.fromWeb(e)});if(Rx(e))return Qa({writable:Gte.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Yte(e);if(hx(i))return Nx(Is,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=mx(l,i,E=>{if(E!=null)throw new _x("nully","body",E)},E=>{Za(c,E)});return c=new Is({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,A_.nextTick(E,null)}catch(d){A_.nextTick(E,d)}})},destroy:a})}throw new _x("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Hte(e))return t(e.arrayBuffer());if(hx(e))return Nx(Is,e,{objectMode:!0,writable:!1});if(px(e?.readable)&&Rx(e?.writable))return Is.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?Tx(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?Sx(e?.writable)?e?.writable:t(e.writable):void 0;return Qa({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return mx(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Za(i,s)}),i=new Is({objectMode:!0,writable:!1,read(){}})}throw new Bte(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Yte(t){let{promise:e,resolve:r}=Ix(),n=new Wte,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(A_.nextTick(c),l)return;if(i.aborted)throw new gx(void 0,{cause:i.reason});({promise:e,resolve:r}=Ix()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Qa(t){let e=t.readable&&typeof t.readable.read!="function"?Cx.wrap(t.readable):t.readable,r=t.writable,n=!!Mte(e),i=!!xte(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new Is({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(Ax(r,E=>{i=!1,E&&Za(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(Ax(e,E=>{n=!1,E&&Za(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new gx),a=null,s=null,o=null,l===null?d(E):(l=d,Za(r,E),Za(e,E))},c}});var Kn=g((dMe,Dx)=>{"use strict";var{ObjectDefineProperties:$te,ObjectGetOwnPropertyDescriptor:Mi,ObjectKeys:Vte,ObjectSetPrototypeOf:Lx}=ot();Dx.exports=Cn;var N_=uu(),an=Xd();Lx(Cn.prototype,N_.prototype);Lx(Cn,N_);{let t=Vte(an.prototype);for(let e=0;e<t.length;e++){let r=t[e];Cn.prototype[r]||(Cn.prototype[r]=an.prototype[r])}}function Cn(t){if(!(this instanceof Cn))return new Cn(t);N_.call(this,t),an.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}$te(Cn.prototype,{writable:{__proto__:null,...Mi(an.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Mi(an.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Mi(an.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Mi(an.prototype,"writableBuffer")},writableLength:{__proto__:null,...Mi(an.prototype,"writableLength")},writableFinished:{__proto__:null,...Mi(an.prototype,"writableFinished")},writableCorked:{__proto__:null,...Mi(an.prototype,"writableCorked")},writableEnded:{__proto__:null,...Mi(an.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Mi(an.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var __;function wx(){return __===void 0&&(__={}),__}Cn.fromWeb=function(t,e){return wx().newStreamDuplexFromReadableWritablePair(t,e)};Cn.toWeb=function(t){return wx().newReadableWritablePairFromDuplex(t)};var I_;Cn.from=function(t){return I_||(I_=yx()),I_(t,"body")}});var g_=g((hMe,Mx)=>{"use strict";var{ObjectSetPrototypeOf:Px,Symbol:kte}=ot();Mx.exports=xi;var{ERR_METHOD_NOT_IMPLEMENTED:qte}=_r().codes,m_=Kn(),{getHighWaterMark:Xte}=ou();Px(xi.prototype,m_.prototype);Px(xi,m_);var hu=kte("kCallback");function xi(t){if(!(this instanceof xi))return new xi(t);let e=t?Xte(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),m_.call(this,t),this._readableState.sync=!1,this[hu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Kte)}function O_(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Kte(){this._final!==O_&&O_.call(this)}xi.prototype._final=O_;xi.prototype._transform=function(t,e,r){throw new qte("_transform()")};xi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[hu]=r})};xi.prototype._read=function(){if(this[hu]){let t=this[hu];this[hu]=null,t()}}});var b_=g((TMe,vx)=>{"use strict";var{ObjectSetPrototypeOf:xx}=ot();vx.exports=el;var C_=g_();xx(el.prototype,C_.prototype);xx(el,C_);function el(t){if(!(this instanceof el))return new el(t);C_.call(this,t)}el.prototype._transform=function(t,e,r){r(null,t)}});var Jd=g((SMe,Hx)=>{var Tu=qe(),{ArrayIsArray:zte,Promise:jte,SymbolAsyncIterator:Jte,SymbolDispose:Qte}=ot(),jd=Pi(),{once:Zte}=Dr(),ere=fo(),Ux=Kn(),{aggregateTwoErrors:tre,codes:{ERR_INVALID_ARG_TYPE:U_,ERR_INVALID_RETURN_VALUE:y_,ERR_MISSING_ARGS:rre,ERR_STREAM_DESTROYED:nre,ERR_STREAM_PREMATURE_CLOSE:ire},AbortError:sre}=_r(),{validateFunction:ore,validateAbortSignal:are}=ka(),{isIterable:po,isReadable:L_,isReadableNodeStream:zd,isNodeStream:Bx,isTransformStream:tl,isWebStream:lre,isReadableStream:w_,isReadableFinished:cre}=kn(),ure=globalThis.AbortController||gt().AbortController,D_,P_,M_;function Fx(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=jd(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,ere.destroyer(t,s||new nre("pipe")))},cleanup:i}}function Ere(t){return ore(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function x_(t){if(po(t))return t;if(zd(t))return fre(t);throw new U_("val",["Readable","Iterable","AsyncIterable"],t)}async function*fre(t){P_||(P_=uu()),yield*P_.prototype[Jte].call(t)}async function Kd(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new jte((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=jd(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?tre(i,c):c)}finally{l(),e.off("drain",o)}}async function v_(t,e,r,{end:n}){tl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function dre(...t){return Gx(t,Zte(Ere(t)))}function Gx(t,e,r){if(t.length===1&&zte(t[0])&&(t=t[0]),t.length<2)throw new rre("streams");let n=new ure,i=n.signal,s=r?.signal,o=[];are(s,"options.signal");function a(){T(new sre)}M_=M_||Dr().addAbortListener;let l;s&&(l=M_(s,a));let c,u,E=[],d=0;function f(R){T(R,--d===0)}function T(R,A){var O;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[Qte](),n.abort(),A&&(c||o.forEach(L=>L()),Tu.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],O=R<t.length-1,L=R>0,N=O||r?.end!==!1,D=R===t.length-1;if(Bx(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var I=y;if(N){let{destroy:P,cleanup:x}=Fx(A,O,L);E.push(P),L_(A)&&D&&o.push(x)}A.on("error",y),L_(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!po(h))throw new y_("Iterable, AsyncIterable or Stream","source",h)}else po(A)||zd(A)||tl(A)?h=A:h=Ux.from(A);else if(typeof A=="function"){if(tl(h)){var S;h=x_((S=h)===null||S===void 0?void 0:S.readable)}else h=x_(h);if(h=A(h,{signal:i}),O){if(!po(h,!0))throw new y_("AsyncIterable",`transform[${R-1}]`,h)}else{var p;D_||(D_=b_());let y=new D_({objectMode:!0}),P=(p=h)===null||p===void 0?void 0:p.then;if(typeof P=="function")d++,P.call(h,G=>{u=G,G!=null&&y.write(G),N&&y.end(),Tu.nextTick(f)},G=>{y.destroy(G),Tu.nextTick(f,G)});else if(po(h,!0))d++,Kd(h,y,f,{end:N});else if(w_(h)||tl(h)){let G=h.readable||h;d++,Kd(G,y,f,{end:N})}else throw new y_("AsyncIterable or Promise","destination",h);h=y;let{destroy:x,cleanup:B}=Fx(h,!1,!0);E.push(x),D&&o.push(B)}}else if(Bx(A)){if(zd(h)){d+=2;let y=hre(h,A,f,{end:N});L_(A)&&D&&o.push(y)}else if(tl(h)||w_(h)){let y=h.readable||h;d++,Kd(y,A,f,{end:N})}else if(po(h))d++,Kd(h,A,f,{end:N});else throw new U_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(lre(A)){if(zd(h))d++,v_(x_(h),A,f,{end:N});else if(w_(h)||po(h))d++,v_(h,A,f,{end:N});else if(tl(h))d++,v_(h.readable,A,f,{end:N});else throw new U_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=Ux.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Tu.nextTick(a),h}function hre(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new ire)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;cre(t)?Tu.nextTick(o):t.once("end",o)}else r();return jd(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),jd(e,{readable:!1,writable:!0},r)}Hx.exports={pipelineImpl:Gx,pipeline:dre}});var F_=g((pMe,qx)=>{"use strict";var{pipeline:Tre}=Jd(),Qd=Kn(),{destroyer:Sre}=fo(),{isNodeStream:Zd,isReadable:Wx,isWritable:Yx,isWebStream:B_,isTransformStream:Ro,isWritableStream:$x,isReadableStream:Vx}=kn(),{AbortError:pre,codes:{ERR_INVALID_ARG_VALUE:kx,ERR_MISSING_ARGS:Rre}}=_r(),Are=Pi();qx.exports=function(...e){if(e.length===0)throw new Rre("streams");if(e.length===1)return Qd.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Qd.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Qd.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Zd(e[f])&&!B_(e[f]))){if(f<e.length-1&&!(Wx(e[f])||Vx(e[f])||Ro(e[f])))throw new kx(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(Yx(e[f])||$x(e[f])||Ro(e[f])))throw new kx(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=Tre(e,l),E=!!(Yx(c)||$x(c)||Ro(c)),d=!!(Wx(u)||Vx(u)||Ro(u));if(a=new Qd({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(Zd(c))a._write=function(T,h,S){c.write(T,h)?S():n=S},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(B_(c)){let h=(Ro(c)?c.writable:c).getWriter();a._write=async function(S,p,I){try{await h.ready,h.write(S).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(S){try{await h.ready,h.close().catch(()=>{}),i=S}catch(p){S(p)}}}let f=Ro(u)?u.readable:u;Are(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(Zd(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(B_(u)){let T=(Ro(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:S}=await T.read();if(!a.push(h))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new pre),s=null,n=null,i=null,o===null?T(f):(o=T,Zd(u)&&Sre(u,f))},a}});var rv=g((RMe,W_)=>{"use strict";var _re=globalThis.AbortController||gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Ire,ERR_INVALID_ARG_TYPE:Su,ERR_MISSING_ARGS:Nre,ERR_OUT_OF_RANGE:Ore},AbortError:zn}=_r(),{validateAbortSignal:Ao,validateInteger:Xx,validateObject:_o}=ka(),mre=ot().Symbol("kWeak"),gre=ot().Symbol("kResistStopPropagation"),{finished:Cre}=Pi(),bre=F_(),{addAbortSignalNoValidate:yre}=su(),{isWritable:Lre,isNodeStream:wre}=kn(),{deprecate:Dre}=Dr(),{ArrayPrototypePush:Pre,Boolean:Mre,MathFloor:Kx,Number:xre,NumberIsNaN:vre,Promise:zx,PromiseReject:jx,PromiseResolve:Ure,PromisePrototypeThen:Jx,Symbol:Zx}=ot(),eh=Zx("kEmpty"),Qx=Zx("kEof");function Bre(t,e){if(e!=null&&_o(e,"options"),e?.signal!=null&&Ao(e.signal,"options.signal"),wre(t)&&!Lre(t))throw new Ire("stream",t,"must be writable");let r=bre(this,t);return e!=null&&e.signal&&yre(e.signal,r),r}function th(t,e){if(typeof t!="function")throw new Su("fn",["Function","AsyncFunction"],t);e!=null&&_o(e,"options"),e?.signal!=null&&Ao(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Kx(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=Kx(e.highWaterMark)),Xx(r,"options.concurrency",1),Xx(n,"options.highWaterMark",0),n+=r,async function*(){let s=Dr().AbortSignalAny([e?.signal].filter(Mre)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let p of o){if(E)return;if(s.aborted)throw new zn;try{if(p=t(p,l),p===eh)continue;p=Ure(p)}catch(I){p=jx(I)}d+=1,Jx(p,T,f),a.push(p),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new zx(I=>{u=I})}a.push(Qx)}catch(p){let I=jx(p);Jx(I,T,f),a.push(I)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let p=await a[0];if(p===Qx)return;if(s.aborted)throw new zn;p!==eh&&(yield p),a.shift(),h()}await new zx(p=>{c=p})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function Fre(t=void 0){return t!=null&&_o(t,"options"),t?.signal!=null&&Ao(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new zn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function ev(t,e=void 0){for await(let r of H_.call(this,t,e))return!0;return!1}async function Gre(t,e=void 0){if(typeof t!="function")throw new Su("fn",["Function","AsyncFunction"],t);return!await ev.call(this,async(...r)=>!await t(...r),e)}async function Hre(t,e){for await(let r of H_.call(this,t,e))return r}async function Wre(t,e){if(typeof t!="function")throw new Su("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),eh}for await(let n of th.call(this,r,e));}function H_(t,e){if(typeof t!="function")throw new Su("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:eh}return th.call(this,r,e)}var G_=class extends Nre{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Yre(t,e,r){var n;if(typeof t!="function")throw new Su("reducer",["Function","AsyncFunction"],t);r!=null&&_o(r,"options"),r?.signal!=null&&Ao(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new zn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Cre(this.destroy(c)),c}let s=new _re,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[mre]:this,[gre]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new zn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new G_}finally{s.abort()}return e}async function $re(t){t!=null&&_o(t,"options"),t?.signal!=null&&Ao(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new zn(void 0,{cause:t.signal.reason});Pre(e,n)}return e}function Vre(t,e){let r=th.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function tv(t){if(t=xre(t),vre(t))return 0;if(t<0)throw new Ore("number",">= 0",t);return t}function kre(t,e=void 0){return e!=null&&_o(e,"options"),e?.signal!=null&&Ao(e.signal,"options.signal"),t=tv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new zn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new zn;t--<=0&&(yield s)}}.call(this)}function qre(t,e=void 0){return e!=null&&_o(e,"options"),e?.signal!=null&&Ao(e.signal,"options.signal"),t=tv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new zn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new zn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}W_.exports.streamReturningOperators={asIndexedPairs:Dre(Fre,"readable.asIndexedPairs will be removed in a future version."),drop:kre,filter:H_,flatMap:Vre,map:th,take:qre,compose:Bre};W_.exports.promiseReturningOperators={every:Gre,forEach:Wre,reduce:Yre,toArray:$re,some:ev,find:Hre}});var Y_=g((AMe,nv)=>{"use strict";var{ArrayPrototypePop:Xre,Promise:Kre}=ot(),{isIterable:zre,isNodeStream:jre,isWebStream:Jre}=kn(),{pipelineImpl:Qre}=Jd(),{finished:Zre}=Pi();$_();function ene(...t){return new Kre((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!jre(s)&&!zre(s)&&!Jre(s)){let o=Xre(t);n=o.signal,i=o.end}Qre(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}nv.exports={finished:Zre,pipeline:ene}});var $_=g((_Me,fv)=>{"use strict";var{Buffer:tne}=require("buffer"),{ObjectDefineProperty:vi,ObjectKeys:ov,ReflectApply:av}=ot(),{promisify:{custom:lv}}=Dr(),{streamReturningOperators:iv,promiseReturningOperators:sv}=rv(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:cv}}=_r(),rne=F_(),{setDefaultHighWaterMark:nne,getDefaultHighWaterMark:ine}=ou(),{pipeline:uv}=Jd(),{destroyer:sne}=fo(),Ev=Pi(),V_=Y_(),pu=kn(),et=fv.exports=xd().Stream;et.isDestroyed=pu.isDestroyed;et.isDisturbed=pu.isDisturbed;et.isErrored=pu.isErrored;et.isReadable=pu.isReadable;et.isWritable=pu.isWritable;et.Readable=uu();for(let t of ov(iv)){let r=function(...n){if(new.target)throw cv();return et.Readable.from(av(e,this,n))},e=iv[t];vi(r,"name",{__proto__:null,value:e.name}),vi(r,"length",{__proto__:null,value:e.length}),vi(et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of ov(sv)){let r=function(...n){if(new.target)throw cv();return av(e,this,n)},e=sv[t];vi(r,"name",{__proto__:null,value:e.name}),vi(r,"length",{__proto__:null,value:e.length}),vi(et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}et.Writable=Xd();et.Duplex=Kn();et.Transform=g_();et.PassThrough=b_();et.pipeline=uv;var{addAbortSignal:one}=su();et.addAbortSignal=one;et.finished=Ev;et.destroy=sne;et.compose=rne;et.setDefaultHighWaterMark=nne;et.getDefaultHighWaterMark=ine;vi(et,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return V_}});vi(uv,lv,{__proto__:null,enumerable:!0,get(){return V_.pipeline}});vi(Ev,lv,{__proto__:null,enumerable:!0,get(){return V_.finished}});et.Stream=et;et._isUint8Array=function(e){return e instanceof Uint8Array};et._uint8ArrayToBuffer=function(e){return tne.from(e.buffer,e.byteOffset,e.byteLength)}});var dv=g((IMe,me)=>{"use strict";var vt=require("stream");if(vt&&process.env.READABLE_STREAM==="disable"){let t=vt.promises;me.exports._uint8ArrayToBuffer=vt._uint8ArrayToBuffer,me.exports._isUint8Array=vt._isUint8Array,me.exports.isDisturbed=vt.isDisturbed,me.exports.isErrored=vt.isErrored,me.exports.isReadable=vt.isReadable,me.exports.Readable=vt.Readable,me.exports.Writable=vt.Writable,me.exports.Duplex=vt.Duplex,me.exports.Transform=vt.Transform,me.exports.PassThrough=vt.PassThrough,me.exports.addAbortSignal=vt.addAbortSignal,me.exports.finished=vt.finished,me.exports.destroy=vt.destroy,me.exports.pipeline=vt.pipeline,me.exports.compose=vt.compose,Object.defineProperty(vt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),me.exports.Stream=vt.Stream}else{let t=$_(),e=Y_(),r=t.Readable.destroy;me.exports=t.Readable,me.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,me.exports._isUint8Array=t._isUint8Array,me.exports.isDisturbed=t.isDisturbed,me.exports.isErrored=t.isErrored,me.exports.isReadable=t.isReadable,me.exports.Readable=t.Readable,me.exports.Writable=t.Writable,me.exports.Duplex=t.Duplex,me.exports.Transform=t.Transform,me.exports.PassThrough=t.PassThrough,me.exports.addAbortSignal=t.addAbortSignal,me.exports.finished=t.finished,me.exports.destroy=t.destroy,me.exports.destroy=r,me.exports.pipeline=t.pipeline,me.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),me.exports.Stream=t.Stream}me.exports.default=me.exports});var Tv=g((NMe,hv)=>{function ane(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}hv.exports=ane});var Av=g((OMe,Rv)=>{var Sv=Ad(),lne=CA(),cne=bA(),pv=Sv?Sv.isConcatSpreadable:void 0;function une(t){return cne(t)||lne(t)||!!(pv&&t&&t[pv])}Rv.exports=une});var rh=g((mMe,Iv)=>{var Ene=Tv(),fne=Av();function _v(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=fne),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?_v(a,e-1,r,n,i):Ene(i,a):n||(i[i.length]=a)}return i}Iv.exports=_v});var Ov=g((gMe,Nv)=>{var dne=rh();function hne(t){var e=t==null?0:t.length;return e?dne(t,1):[]}Nv.exports=hne});var Ru=g((CMe,mv)=>{var Tne=jc(),Sne=Tne(Object,"create");mv.exports=Sne});var bv=g((bMe,Cv)=>{var gv=Ru();function pne(){this.__data__=gv?gv(null):{},this.size=0}Cv.exports=pne});var Lv=g((yMe,yv)=>{function Rne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}yv.exports=Rne});var Dv=g((LMe,wv)=>{var Ane=Ru(),_ne="__lodash_hash_undefined__",Ine=Object.prototype,Nne=Ine.hasOwnProperty;function One(t){var e=this.__data__;if(Ane){var r=e[t];return r===_ne?void 0:r}return Nne.call(e,t)?e[t]:void 0}wv.exports=One});var Mv=g((wMe,Pv)=>{var mne=Ru(),gne=Object.prototype,Cne=gne.hasOwnProperty;function bne(t){var e=this.__data__;return mne?e[t]!==void 0:Cne.call(e,t)}Pv.exports=bne});var vv=g((DMe,xv)=>{var yne=Ru(),Lne="__lodash_hash_undefined__";function wne(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=yne&&e===void 0?Lne:e,this}xv.exports=wne});var Bv=g((PMe,Uv)=>{var Dne=bv(),Pne=Lv(),Mne=Dv(),xne=Mv(),vne=vv();function rl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rl.prototype.clear=Dne;rl.prototype.delete=Pne;rl.prototype.get=Mne;rl.prototype.has=xne;rl.prototype.set=vne;Uv.exports=rl});var Gv=g((MMe,Fv)=>{function Une(){this.__data__=[],this.size=0}Fv.exports=Une});var Au=g((xMe,Hv)=>{var Bne=Id();function Fne(t,e){for(var r=t.length;r--;)if(Bne(t[r][0],e))return r;return-1}Hv.exports=Fne});var Yv=g((vMe,Wv)=>{var Gne=Au(),Hne=Array.prototype,Wne=Hne.splice;function Yne(t){var e=this.__data__,r=Gne(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Wne.call(e,r,1),--this.size,!0}Wv.exports=Yne});var Vv=g((UMe,$v)=>{var $ne=Au();function Vne(t){var e=this.__data__,r=$ne(e,t);return r<0?void 0:e[r][1]}$v.exports=Vne});var qv=g((BMe,kv)=>{var kne=Au();function qne(t){return kne(this.__data__,t)>-1}kv.exports=qne});var Kv=g((FMe,Xv)=>{var Xne=Au();function Kne(t,e){var r=this.__data__,n=Xne(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Xv.exports=Kne});var jv=g((GMe,zv)=>{var zne=Gv(),jne=Yv(),Jne=Vv(),Qne=qv(),Zne=Kv();function nl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nl.prototype.clear=zne;nl.prototype.delete=jne;nl.prototype.get=Jne;nl.prototype.has=Qne;nl.prototype.set=Zne;zv.exports=nl});var Qv=g((HMe,Jv)=>{var eie=jc(),tie=Ga(),rie=eie(tie,"Map");Jv.exports=rie});var tU=g((WMe,eU)=>{var Zv=Bv(),nie=jv(),iie=Qv();function sie(){this.size=0,this.__data__={hash:new Zv,map:new(iie||nie),string:new Zv}}eU.exports=sie});var nU=g((YMe,rU)=>{function oie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}rU.exports=oie});var _u=g(($Me,iU)=>{var aie=nU();function lie(t,e){var r=t.__data__;return aie(e)?r[typeof e=="string"?"string":"hash"]:r.map}iU.exports=lie});var oU=g((VMe,sU)=>{var cie=_u();function uie(t){var e=cie(this,t).delete(t);return this.size-=e?1:0,e}sU.exports=uie});var lU=g((kMe,aU)=>{var Eie=_u();function fie(t){return Eie(this,t).get(t)}aU.exports=fie});var uU=g((qMe,cU)=>{var die=_u();function hie(t){return die(this,t).has(t)}cU.exports=hie});var fU=g((XMe,EU)=>{var Tie=_u();function Sie(t,e){var r=Tie(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}EU.exports=Sie});var hU=g((KMe,dU)=>{var pie=tU(),Rie=oU(),Aie=lU(),_ie=uU(),Iie=fU();function il(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}il.prototype.clear=pie;il.prototype.delete=Rie;il.prototype.get=Aie;il.prototype.has=_ie;il.prototype.set=Iie;dU.exports=il});var SU=g((zMe,TU)=>{var Nie="__lodash_hash_undefined__";function Oie(t){return this.__data__.set(t,Nie),this}TU.exports=Oie});var RU=g((jMe,pU)=>{function mie(t){return this.__data__.has(t)}pU.exports=mie});var k_=g((JMe,AU)=>{var gie=hU(),Cie=SU(),bie=RU();function nh(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new gie;++e<r;)this.add(t[e])}nh.prototype.add=nh.prototype.push=Cie;nh.prototype.has=bie;AU.exports=nh});var IU=g((QMe,_U)=>{function yie(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}_U.exports=yie});var OU=g((ZMe,NU)=>{function Lie(t){return t!==t}NU.exports=Lie});var gU=g((exe,mU)=>{function wie(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}mU.exports=wie});var bU=g((txe,CU)=>{var Die=IU(),Pie=OU(),Mie=gU();function xie(t,e,r){return e===e?Mie(t,e,r):Die(t,Pie,r)}CU.exports=xie});var q_=g((rxe,yU)=>{var vie=bU();function Uie(t,e){var r=t==null?0:t.length;return!!r&&vie(t,e,0)>-1}yU.exports=Uie});var X_=g((nxe,LU)=>{function Bie(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}LU.exports=Bie});var DU=g((ixe,wU)=>{function Fie(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}wU.exports=Fie});var K_=g((sxe,PU)=>{function Gie(t,e){return t.has(e)}PU.exports=Gie});var xU=g((oxe,MU)=>{var Hie=k_(),Wie=q_(),Yie=X_(),$ie=DU(),Vie=yA(),kie=K_(),qie=200;function Xie(t,e,r,n){var i=-1,s=Wie,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;r&&(e=$ie(e,Vie(r))),n?(s=Yie,o=!1):e.length>=qie&&(s=kie,o=!1,e=new Hie(e));e:for(;++i<a;){var u=t[i],E=r==null?u:r(u);if(u=n||u!==0?u:0,o&&E===E){for(var d=c;d--;)if(e[d]===E)continue e;l.push(u)}else s(e,E,n)||l.push(u)}return l}MU.exports=Xie});var z_=g((axe,vU)=>{var Kie=Nd(),zie=Ha();function jie(t){return zie(t)&&Kie(t)}vU.exports=jie});var FU=g((lxe,BU)=>{var Jie=xU(),Qie=rh(),Zie=_d(),UU=z_(),ese=Zie(function(t,e){return UU(t)?Jie(t,Qie(e,1,UU,!0)):[]});BU.exports=ese});var HU=g((cxe,GU)=>{var tse=jc(),rse=Ga(),nse=tse(rse,"Set");GU.exports=nse});var YU=g((uxe,WU)=>{function ise(){}WU.exports=ise});var j_=g((Exe,$U)=>{function sse(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}$U.exports=sse});var kU=g((fxe,VU)=>{var J_=HU(),ose=YU(),ase=j_(),lse=1/0,cse=J_&&1/ase(new J_([,-0]))[1]==lse?function(t){return new J_(t)}:ose;VU.exports=cse});var XU=g((dxe,qU)=>{var use=k_(),Ese=q_(),fse=X_(),dse=K_(),hse=kU(),Tse=j_(),Sse=200;function pse(t,e,r){var n=-1,i=Ese,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=fse;else if(s>=Sse){var c=e?null:hse(t);if(c)return Tse(c);o=!1,i=dse,l=new use}else l=e?[]:a;e:for(;++n<s;){var u=t[n],E=e?e(u):u;if(u=r||u!==0?u:0,o&&E===E){for(var d=l.length;d--;)if(l[d]===E)continue e;e&&l.push(E),a.push(u)}else i(l,E,r)||(l!==a&&l.push(E),a.push(u))}return a}qU.exports=pse});var zU=g((hxe,KU)=>{var Rse=rh(),Ase=_d(),_se=XU(),Ise=z_(),Nse=Ase(function(t){return _se(Rse(t,1,Ise,!0))});KU.exports=Nse});var JU=g((Txe,jU)=>{function Ose(t,e){return function(r){return t(e(r))}}jU.exports=Ose});var ZU=g((Sxe,QU)=>{var mse=JU(),gse=mse(Object.getPrototypeOf,Object);QU.exports=gse});var rB=g((pxe,tB)=>{var Cse=Kc(),bse=ZU(),yse=Ha(),Lse="[object Object]",wse=Function.prototype,Dse=Object.prototype,eB=wse.toString,Pse=Dse.hasOwnProperty,Mse=eB.call(Object);function xse(t){if(!yse(t)||Cse(t)!=Lse)return!1;var e=bse(t);if(e===null)return!0;var r=Pse.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&eB.call(r)==Mse}tB.exports=xse});var uB=g((Rxe,cB)=>{var nB=vR();cB.exports=Bse;var iB="\0SLASH"+Math.random()+"\0",sB="\0OPEN"+Math.random()+"\0",Z_="\0CLOSE"+Math.random()+"\0",oB="\0COMMA"+Math.random()+"\0",aB="\0PERIOD"+Math.random()+"\0";function Q_(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function vse(t){return t.split("\\\\").join(iB).split("\\{").join(sB).split("\\}").join(Z_).split("\\,").join(oB).split("\\.").join(aB)}function Use(t){return t.split(iB).join("\\").split(sB).join("{").split(Z_).join("}").split(oB).join(",").split(aB).join(".")}function lB(t){if(!t)return[""];var e=[],r=nB("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=lB(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Bse(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Iu(vse(t),!0).map(Use)):[]}function Fse(t){return"{"+t+"}"}function Gse(t){return/^-?0\d/.test(t)}function Hse(t,e){return t<=e}function Wse(t,e){return t>=e}function Iu(t,e){var r=[],n=nB("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Iu(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,E=n.body.indexOf(",")>=0;if(!u&&!E)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+Z_+n.post,Iu(t)):[t];var d;if(u)d=n.body.split(/\.\./);else if(d=lB(n.body),d.length===1&&(d=Iu(d[0],!1).map(Fse),d.length===1))return s.map(function(P){return n.pre+d[0]+P});var f;if(u){var T=Q_(d[0]),h=Q_(d[1]),S=Math.max(d[0].length,d[1].length),p=d.length==3?Math.abs(Q_(d[2])):1,I=Hse,R=h<T;R&&(p*=-1,I=Wse);var A=d.some(Gse);f=[];for(var O=T;I(O,h);O+=p){var L;if(c)L=String.fromCharCode(O),L==="\\"&&(L="");else if(L=String(O),A){var N=S-L.length;if(N>0){var D=new Array(N+1).join("0");O<0?L="-"+D+L.slice(1):L=D+L}}f.push(L)}}else{f=[];for(var y=0;y<d.length;y++)f.push.apply(f,Iu(d[y],!1))}for(var y=0;y<f.length;y++)for(var o=0;o<s.length;o++){var a=i+f[y]+s[o];(!e||u||a)&&r.push(a)}}return r}});var EB=g(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.assertValidPattern=void 0;var Yse=1024*64,$se=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Yse)throw new TypeError("pattern is too long")};ih.assertValidPattern=$se});var dB=g(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.parseClass=void 0;var Vse={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Nu=t=>t.replace(/[[\]\\-]/g,"\\$&"),kse=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),fB=t=>t.join(""),qse=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,E="";e:for(;s<t.length;){let h=t.charAt(s);if((h==="!"||h==="^")&&s===r+1){c=!0,s++;continue}if(h==="]"&&o&&!l){u=s+1;break}if(o=!0,h==="\\"&&!l){l=!0,s++;continue}if(h==="["&&!l){for(let[S,[p,I,R]]of Object.entries(Vse))if(t.startsWith(S,s)){if(E)return["$.",!1,t.length-r,!0];s+=S.length,R?i.push(p):n.push(p),a=a||I;continue e}}if(l=!1,E){h>E?n.push(Nu(E)+"-"+Nu(h)):h===E&&n.push(Nu(h)),E="",s++;continue}if(t.startsWith("-]",s+1)){n.push(Nu(h+"-")),s+=2;continue}if(t.startsWith("-",s+1)){E=h,s+=2;continue}n.push(Nu(h)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let h=n[0].length===2?n[0].slice(-1):n[0];return[kse(h),!1,u-r,!1]}let d="["+(c?"^":"")+fB(n)+"]",f="["+(c?"":"^")+fB(i)+"]";return[n.length&&i.length?"("+d+"|"+f+")":n.length?d:f,a,u-r,!0]};sh.parseClass=qse});var ah=g(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.unescape=void 0;var Xse=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");oh.unescape=Xse});var rI=g(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.AST=void 0;var Kse=dB(),lh=ah(),zse=new Set(["!","?","+","*","@"]),hB=t=>zse.has(t),jse="(?!(?:^|/)\\.\\.?(?:$|/))",ch="(?!\\.)",Jse=new Set(["[","."]),Qse=new Set(["..","."]),Zse=new Set("().*{}+?[]^$\\!"),eoe=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),tI="[^/]",TB=tI+"*?",SB=tI+"+?",eI=class t{type;#e;#t;#s=!1;#n=[];#o;#_;#c;#E=!1;#a;#l;#i=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#o=r,this.#e=this.#o?this.#o.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#c=this.#e===this?[]:this.#e.#c,e==="!"&&!this.#e.#E&&this.#c.push(this),this.#_=this.#o?this.#o.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#S(){if(this!==this.#e)throw new Error("should only call on root");if(this.#E)return this;this.toString(),this.#E=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let r=e,n=r.#o;for(;n;){for(let i=r.#_+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#o}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#o===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#E&&this.#o?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#o?.isStart())return!1;if(this.#_===0)return!0;let e=this.#o;for(let r=0;r<this.#_;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let e=this.#o?this.#o.#n.length:0;return this.#_===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#p(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let f=n,T="";for(;f<e.length;){let h=e.charAt(f++);if(s||h==="\\"){s=!s,T+=h;continue}if(o){f===a+1?(h==="^"||h==="!")&&(l=!0):h==="]"&&!(f===a+2&&l)&&(o=!1),T+=h;continue}else if(h==="["){o=!0,a=f,l=!1,T+=h;continue}if(!i.noext&&hB(h)&&e.charAt(f)==="("){r.push(T),T="";let S=new t(h,r);f=t.#p(e,S,f,i),r.push(S);continue}T+=h}return r.push(T),f}let c=n+1,u=new t(null,r),E=[],d="";for(;c<e.length;){let f=e.charAt(c++);if(s||f==="\\"){s=!s,d+=f;continue}if(o){c===a+1?(f==="^"||f==="!")&&(l=!0):f==="]"&&!(c===a+2&&l)&&(o=!1),d+=f;continue}else if(f==="["){o=!0,a=c,l=!1,d+=f;continue}if(hB(f)&&e.charAt(c)==="("){u.push(d),d="";let T=new t(f,u);u.push(T),c=t.#p(e,T,c,i);continue}if(f==="|"){u.push(d),d="",E.push(u),u=new t(null,r);continue}if(f===")")return d===""&&r.#n.length===0&&(r.#i=!0),u.push(d),d="",r.push(...E,u),c;d+=f}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],c}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#p(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#a}toRegExpSource(e){let r=e??!!this.#a.dot;if(this.#e===this&&this.#S(),!this.type){let l=this.isStart()&&this.isEnd(),c=this.#n.map(f=>{let[T,h,S,p]=typeof f=="string"?t.#f(f,this.#t,l):f.toRegExpSource(e);return this.#t=this.#t||S,this.#s=this.#s||p,T}).join(""),u="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&Qse.has(this.#n[0]))){let T=Jse,h=r&&T.has(c.charAt(0))||c.startsWith("\\.")&&T.has(c.charAt(2))||c.startsWith("\\.\\.")&&T.has(c.charAt(4)),S=!r&&!e&&T.has(c.charAt(0));u=h?jse:S?ch:""}let E="";return this.isEnd()&&this.#e.#E&&this.#o?.type==="!"&&(E="(?:$|\\/)"),[u+c+E,(0,lh.unescape)(c),this.#t=!!this.#t,this.#s]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,(0,lh.unescape)(this.toString()),!1,!1]}let o=!n||e||r||!ch?"":this.#d(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#i)a=(this.isStart()&&!r?ch:"")+SB;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?ch:"")+TB+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+l}return[a,(0,lh.unescape)(s),this.#t=!!this.#t,this.#s]}#d(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#f(e,r,n=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(i){i=!1,s+=(Zse.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[c,u,E,d]=(0,Kse.parseClass)(e,a);if(E){s+=c,o=o||u,a+=E-1,r=r||d;continue}}if(l==="*"){n&&e==="*"?s+=SB:s+=TB,r=!0;continue}if(l==="?"){s+=tI,r=!0;continue}s+=eoe(l)}return[s,(0,lh.unescape)(e),!!r,o]}};uh.AST=eI});var nI=g(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.escape=void 0;var toe=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");Eh.escape=toe});var Ns=g(j=>{"use strict";var roe=j&&j.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j,"__esModule",{value:!0});j.unescape=j.escape=j.AST=j.Minimatch=j.match=j.makeRe=j.braceExpand=j.defaults=j.filter=j.GLOBSTAR=j.sep=j.minimatch=void 0;var noe=roe(uB()),fh=EB(),AB=rI(),ioe=nI(),soe=ah(),ooe=(t,e,r={})=>((0,fh.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Io(e,r).match(t));j.minimatch=ooe;var aoe=/^\*+([^+@!?\*\[\(]*)$/,loe=t=>e=>!e.startsWith(".")&&e.endsWith(t),coe=t=>e=>e.endsWith(t),uoe=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),Eoe=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),foe=/^\*+\.\*+$/,doe=t=>!t.startsWith(".")&&t.includes("."),hoe=t=>t!=="."&&t!==".."&&t.includes("."),Toe=/^\.\*+$/,Soe=t=>t!=="."&&t!==".."&&t.startsWith("."),poe=/^\*+$/,Roe=t=>t.length!==0&&!t.startsWith("."),Aoe=t=>t.length!==0&&t!=="."&&t!=="..",_oe=/^\?+([^+@!?\*\[\(]*)?$/,Ioe=([t,e=""])=>{let r=_B([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Noe=([t,e=""])=>{let r=IB([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Ooe=([t,e=""])=>{let r=IB([t]);return e?n=>r(n)&&n.endsWith(e):r},moe=([t,e=""])=>{let r=_B([t]);return e?n=>r(n)&&n.endsWith(e):r},_B=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},IB=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},NB=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",pB={win32:{sep:"\\"},posix:{sep:"/"}};j.sep=NB==="win32"?pB.win32.sep:pB.posix.sep;j.minimatch.sep=j.sep;j.GLOBSTAR=Symbol("globstar **");j.minimatch.GLOBSTAR=j.GLOBSTAR;var goe="[^/]",Coe=goe+"*?",boe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",yoe="(?:(?!(?:\\/|^)\\.).)*?",Loe=(t,e={})=>r=>(0,j.minimatch)(r,t,e);j.filter=Loe;j.minimatch.filter=j.filter;var ln=(t,e={})=>Object.assign({},t,e),woe=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return j.minimatch;let e=j.minimatch;return Object.assign((n,i,s={})=>e(n,i,ln(t,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,ln(t,s))}static defaults(i){return e.defaults(ln(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,ln(t,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,ln(t,s))}},unescape:(n,i={})=>e.unescape(n,ln(t,i)),escape:(n,i={})=>e.escape(n,ln(t,i)),filter:(n,i={})=>e.filter(n,ln(t,i)),defaults:n=>e.defaults(ln(t,n)),makeRe:(n,i={})=>e.makeRe(n,ln(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,ln(t,i)),match:(n,i,s={})=>e.match(n,i,ln(t,s)),sep:e.sep,GLOBSTAR:j.GLOBSTAR})};j.defaults=woe;j.minimatch.defaults=j.defaults;var Doe=(t,e={})=>((0,fh.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,noe.default)(t));j.braceExpand=Doe;j.minimatch.braceExpand=j.braceExpand;var Poe=(t,e={})=>new Io(t,e).makeRe();j.makeRe=Poe;j.minimatch.makeRe=j.makeRe;var Moe=(t,e,r={})=>{let n=new Io(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};j.match=Moe;j.minimatch.match=j.match;var RB=/[?*]|[+@!]\(.*?\)|\[|\]/,xoe=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Io=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,fh.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||NB,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!RB.test(s[2]))&&!RB.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let o=i;for(;n[o+1]==="**";)o++;o>i&&n.splice(i+1,o-i);let a=n[i+1],l=n[i+2],c=n[i+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",e.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let a=n[o];o===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let o=n[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])o.push(a==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])o.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])o.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),i++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let h=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),S=!h&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),p=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),I=!p&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),R=S?3:h?0:void 0,A=I?3:p?0:void 0;if(typeof R=="number"&&typeof A=="number"){let[O,L]=[e[R],r[A]];O.toLowerCase()===L.toLowerCase()&&(r[A]=O,A>R?r=r.slice(A):R>A&&(e=e.slice(R)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],E=e[o];if(this.debug(r,u,E),u===!1)return!1;if(u===j.GLOBSTAR){this.debug("GLOBSTAR",[r,u,E]);var d=o,f=a+1;if(f===c){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;d<l;){var T=e[d];if(this.debug(`
globstar while`,e,d,r,f,T),this.matchOne(e.slice(d),r.slice(f),n))return this.debug("globstar found match!",d,l,T),!0;if(T==="."||T===".."||!i.dot&&T.charAt(0)==="."){this.debug("dot detected!",e,d,r,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,f),d===l))}let h;if(typeof u=="string"?(h=E===u,this.debug("string match",u,E,h)):(h=u.test(E),this.debug("pattern match",u,E,h)),!h)return!1}if(o===l&&a===c)return!0;if(o===l)return n;if(a===c)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,j.braceExpand)(this.pattern,this.options)}parse(e){(0,fh.assertValidPattern)(e);let r=this.options;if(e==="**")return j.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(poe))?i=r.dot?Aoe:Roe:(n=e.match(aoe))?i=(r.nocase?r.dot?Eoe:uoe:r.dot?coe:loe)(n[1]):(n=e.match(_oe))?i=(r.nocase?r.dot?Noe:Ioe:r.dot?Ooe:moe)(n):(n=e.match(foe))?i=r.dot?hoe:doe:(n=e.match(Toe))&&(i=Soe);let s=AB.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Coe:r.dot?boe:yoe,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let E of u.flags.split(""))i.add(E);return typeof u=="string"?xoe(u):u===j.GLOBSTAR?j.GLOBSTAR:u._src});return c.forEach((u,E)=>{let d=c[E+1],f=c[E-1];u!==j.GLOBSTAR||f===j.GLOBSTAR||(f===void 0?d!==void 0&&d!==j.GLOBSTAR?c[E+1]="(?:\\/|"+n+"\\/)?"+d:c[E]=n:d===void 0?c[E-1]=f+"(?:\\/|"+n+")?":d!==j.GLOBSTAR&&(c[E-1]=f+"(?:\\/|\\/"+n+"\\/)"+d,c[E+1]=j.GLOBSTAR))}),c.filter(u=>u!==j.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let l=s[a],c=i;if(n.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return j.minimatch.defaults(e).Minimatch}};j.Minimatch=Io;var voe=rI();Object.defineProperty(j,"AST",{enumerable:!0,get:function(){return voe.AST}});var Uoe=nI();Object.defineProperty(j,"escape",{enumerable:!0,get:function(){return Uoe.escape}});var Boe=ah();Object.defineProperty(j,"unescape",{enumerable:!0,get:function(){return Boe.unescape}});j.minimatch.AST=AB.AST;j.minimatch.Minimatch=Io;j.minimatch.escape=ioe.escape;j.minimatch.unescape=soe.unescape});var bB=g(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.LRUCache=void 0;var sl=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,mB=new Set,iI=typeof process=="object"&&process?process:{},gB=(t,e,r,n)=>{typeof iI.emitWarning=="function"?iI.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},dh=globalThis.AbortController,OB=globalThis.AbortSignal;if(typeof dh>"u"){OB=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},dh=class{constructor(){e()}signal=new OB;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=iI.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,gB("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var Foe=t=>!mB.has(t),Os=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),CB=t=>Os(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?ol:null:null,ol=class extends Array{constructor(e){super(e),this.fill(0)}},sI=class t{heap;length;static#e=!1;static create(e){let r=CB(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},oI=class t{#e;#t;#s;#n;#o;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#E;#a;#l;#i;#S;#p;#d;#f;#O;#T;#m;#g;#A;#I;#N;#h;static unsafeExposeInternals(e){return{starts:e.#g,ttls:e.#A,sizes:e.#m,keyMap:e.#a,keyList:e.#l,valList:e.#i,next:e.#S,prev:e.#p,get head(){return e.#d},get tail(){return e.#f},free:e.#O,isBackgroundFetch:r=>e.#u(r),backgroundFetch:(r,n,i,s)=>e.#F(r,n,i,s),moveToTail:r=>e.#H(r),indexes:r=>e.#b(r),rindexes:r=>e.#y(r),isStale:r=>e.#R(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#E}get size(){return this.#c}get fetchMethod(){return this.#o}get memoMethod(){return this.#_}get dispose(){return this.#s}get disposeAfter(){return this.#n}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:E,noUpdateTTL:d,maxSize:f=0,maxEntrySize:T=0,sizeCalculation:h,fetchMethod:S,memoMethod:p,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:R,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:O,ignoreFetchAbort:L}=e;if(r!==0&&!Os(r))throw new TypeError("max option must be a nonnegative integer");let N=r?CB(r):Array;if(!N)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=f,this.maxEntrySize=T||this.#t,this.sizeCalculation=h,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(p!==void 0&&typeof p!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#_=p,S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=S,this.#N=!!S,this.#a=new Map,this.#l=new Array(r).fill(void 0),this.#i=new Array(r).fill(void 0),this.#S=new N(r),this.#p=new N(r),this.#d=0,this.#f=0,this.#O=sI.create(r),this.#c=0,this.#E=0,typeof c=="function"&&(this.#s=c),typeof u=="function"?(this.#n=u,this.#T=[]):(this.#n=void 0,this.#T=void 0),this.#I=!!this.#s,this.#h=!!this.#n,this.noDisposeOnSet=!!E,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!I,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!O,this.ignoreFetchAbort=!!L,this.maxEntrySize!==0){if(this.#t!==0&&!Os(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Os(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#w()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!R,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Os(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Os(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#L()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let D="LRU_CACHE_UNBOUNDED";Foe(D)&&(mB.add(D),gB("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#L(){let e=new ol(this.#e),r=new ol(this.#e);this.#A=e,this.#g=r,this.#P=(s,o,a=sl.now())=>{if(r[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#R(s)&&this.#D(this.#l[s],"expire")},o+1);l.unref&&l.unref()}},this.#C=s=>{r[s]=e[s]!==0?sl.now():0},this.#r=(s,o)=>{if(e[o]){let a=e[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=n||i();let c=s.now-l;s.remainingTTL=a-c}};let n=0,i=()=>{let s=sl.now();if(this.ttlResolution>0){n=s;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#a.get(s);if(o===void 0)return 0;let a=e[o],l=r[o];if(!a||!l)return 1/0;let c=(n||i())-l;return a-c},this.#R=s=>{let o=r[s],a=e[s];return!!a&&!!o&&(n||i())-o>a}}#C=()=>{};#r=()=>{};#P=()=>{};#R=()=>!1;#w(){let e=new ol(this.#e);this.#E=0,this.#m=e,this.#M=r=>{this.#E-=e[r],e[r]=0},this.#v=(r,n,i,s)=>{if(this.#u(n))return 0;if(!Os(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!Os(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#x=(r,n,i)=>{if(e[r]=n,this.#t){let s=this.#t-e[r];for(;this.#E>s;)this.#B(!0)}this.#E+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#E)}}#M=e=>{};#x=(e,r,n)=>{};#v=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#b({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#f;!(!this.#U(r)||((e||!this.#R(r))&&(yield r),r===this.#d));)r=this.#p[r]}*#y({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#d;!(!this.#U(r)||((e||!this.#R(r))&&(yield r),r===this.#f));)r=this.#S[r]}#U(e){return e!==void 0&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#b())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*rentries(){for(let e of this.#y())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*keys(){for(let e of this.#b()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*rkeys(){for(let e of this.#y()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*values(){for(let e of this.#b())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}*rvalues(){for(let e of this.#y())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#b()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.#l[n],this))return this.get(this.#l[n],r)}}forEach(e,r=this){for(let n of this.#b()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}rforEach(e,r=this){for(let n of this.#y()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}purgeStale(){let e=!1;for(let r of this.#y({allowStale:!0}))this.#R(r)&&(this.#D(this.#l[r],"expire"),e=!0);return e}info(e){let r=this.#a.get(e);if(r===void 0)return;let n=this.#i[r],i=this.#u(n)?n.__staleWhileFetching:n;if(i===void 0)return;let s={value:i};if(this.#A&&this.#g){let o=this.#A[r],a=this.#g[r];if(o&&a){let l=o-(sl.now()-a);s.ttl=l,s.start=Date.now()}}return this.#m&&(s.size=this.#m[r]),s}dump(){let e=[];for(let r of this.#b({allowStale:!0})){let n=this.#l[r],i=this.#i[r],s=this.#u(i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;let o={value:s};if(this.#A&&this.#g){o.ttl=this.#A[r];let a=sl.now()-this.#g[r];o.start=Math.floor(Date.now()-a)}this.#m&&(o.size=this.#m[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=sl.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n,{noUpdateTTL:c=this.noUpdateTTL}=n,u=this.#v(e,r,n.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let E=this.#c===0?void 0:this.#a.get(e);if(E===void 0)E=this.#c===0?this.#f:this.#O.length!==0?this.#O.pop():this.#c===this.#e?this.#B(!1):this.#c,this.#l[E]=e,this.#i[E]=r,this.#a.set(e,E),this.#S[this.#f]=E,this.#p[E]=this.#f,this.#f=E,this.#c++,this.#x(E,u,l),l&&(l.set="add"),c=!1;else{this.#H(E);let d=this.#i[E];if(r!==d){if(this.#N&&this.#u(d)){d.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:f}=d;f!==void 0&&!o&&(this.#I&&this.#s?.(f,e,"set"),this.#h&&this.#T?.push([f,e,"set"]))}else o||(this.#I&&this.#s?.(d,e,"set"),this.#h&&this.#T?.push([d,e,"set"]));if(this.#M(E),this.#x(E,u,l),this.#i[E]=r,l){l.set="replace";let f=d&&this.#u(d)?d.__staleWhileFetching:d;f!==void 0&&(l.oldValue=f)}}else l&&(l.set="update")}if(i!==0&&!this.#A&&this.#L(),this.#A&&(c||this.#P(E,i,s),l&&this.#r(l,E)),!o&&this.#h&&this.#T){let d=this.#T,f;for(;f=d?.shift();)this.#n?.(...f)}return this}pop(){try{for(;this.#c;){let e=this.#i[this.#d];if(this.#B(!0),this.#u(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#h&&this.#T){let e=this.#T,r;for(;r=e?.shift();)this.#n?.(...r)}}}#B(e){let r=this.#d,n=this.#l[r],i=this.#i[r];return this.#N&&this.#u(i)?i.__abortController.abort(new Error("evicted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(i,n,"evict"),this.#h&&this.#T?.push([i,n,"evict"])),this.#M(r),e&&(this.#l[r]=void 0,this.#i[r]=void 0,this.#O.push(r)),this.#c===1?(this.#d=this.#f=0,this.#O.length=0):this.#d=this.#S[r],this.#a.delete(n),this.#c--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=this.#a.get(e);if(s!==void 0){let o=this.#i[s];if(this.#u(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#R(s))i&&(i.has="stale",this.#r(i,s));else return n&&this.#C(s),i&&(i.has="hit",this.#r(i,s)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i===void 0||!n&&this.#R(i))return;let s=this.#i[i];return this.#u(s)?s.__staleWhileFetching:s}#F(e,r,n,i){let s=r===void 0?void 0:this.#i[r];if(this.#u(s))return s;let o=new dh,{signal:a}=n;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:n,context:i},c=(h,S=!1)=>{let{aborted:p}=o.signal,I=n.ignoreFetchAbort&&h!==void 0;if(n.status&&(p&&!S?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,I&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),p&&!I&&!S)return E(o.signal.reason);let R=f;return this.#i[r]===f&&(h===void 0?R.__staleWhileFetching?this.#i[r]=R.__staleWhileFetching:this.#D(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,h,l.options))),h},u=h=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=h),E(h)),E=h=>{let{aborted:S}=o.signal,p=S&&n.allowStaleOnFetchAbort,I=p||n.allowStaleOnFetchRejection,R=I||n.noDeleteOnFetchRejection,A=f;if(this.#i[r]===f&&(!R||A.__staleWhileFetching===void 0?this.#D(e,"fetch"):p||(this.#i[r]=A.__staleWhileFetching)),I)return n.status&&A.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),A.__staleWhileFetching;if(A.__returned===A)throw h},d=(h,S)=>{let p=this.#o?.(e,s,l);p&&p instanceof Promise&&p.then(I=>h(I===void 0?void 0:I),S),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(h(void 0),n.allowStaleOnFetchAbort&&(h=I=>c(I,!0)))})};n.status&&(n.status.fetchDispatched=!0);let f=new Promise(d).then(c,u),T=Object.assign(f,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,T,{...l.options,status:void 0}),r=this.#a.get(e)):this.#i[r]=T,T}#u(e){if(!this.#N)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof dh}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:E=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:T=this.allowStaleOnFetchAbort,context:h,forceRefresh:S=!1,status:p,signal:I}=r;if(!this.#N)return p&&(p.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:p});let R={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:E,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:T,ignoreFetchAbort:f,status:p,signal:I},A=this.#a.get(e);if(A===void 0){p&&(p.fetch="miss");let O=this.#F(e,A,R,h);return O.__returned=O}else{let O=this.#i[A];if(this.#u(O)){let P=n&&O.__staleWhileFetching!==void 0;return p&&(p.fetch="inflight",P&&(p.returnedStale=!0)),P?O.__staleWhileFetching:O.__returned=O}let L=this.#R(A);if(!S&&!L)return p&&(p.fetch="hit"),this.#H(A),i&&this.#C(A),p&&this.#r(p,A),O;let N=this.#F(e,A,R,h),y=N.__staleWhileFetching!==void 0&&n;return p&&(p.fetch=L?"stale":"refresh",y&&L&&(p.returnedStale=!0)),y?N.__staleWhileFetching:N.__returned=N}}async forceFetch(e,r={}){let n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){let n=this.#_;if(!n)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:s,...o}=r,a=this.get(e,o);if(!s&&a!==void 0)return a;let l=n(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#a.get(e);if(a!==void 0){let l=this.#i[a],c=this.#u(l);return o&&this.#r(o,a),this.#R(a)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(this.#H(a),i&&this.#C(a),l))}else o&&(o.get="miss")}#G(e,r){this.#p[r]=e,this.#S[e]=r}#H(e){e!==this.#f&&(e===this.#d?this.#d=this.#S[e]:this.#G(this.#p[e],this.#S[e]),this.#G(this.#f,e),this.#f=e)}delete(e){return this.#D(e,"delete")}#D(e,r){let n=!1;if(this.#c!==0){let i=this.#a.get(e);if(i!==void 0)if(n=!0,this.#c===1)this.#W(r);else{this.#M(i);let s=this.#i[i];if(this.#u(s)?s.__abortController.abort(new Error("deleted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(s,e,r),this.#h&&this.#T?.push([s,e,r])),this.#a.delete(e),this.#l[i]=void 0,this.#i[i]=void 0,i===this.#f)this.#f=this.#p[i];else if(i===this.#d)this.#d=this.#S[i];else{let o=this.#p[i];this.#S[o]=this.#S[i];let a=this.#S[i];this.#p[a]=this.#p[i]}this.#c--,this.#O.push(i)}}if(this.#h&&this.#T?.length){let i=this.#T,s;for(;s=i?.shift();)this.#n?.(...s)}return n}clear(){return this.#W("delete")}#W(e){for(let r of this.#y({allowStale:!0})){let n=this.#i[r];if(this.#u(n))n.__abortController.abort(new Error("deleted"));else{let i=this.#l[r];this.#I&&this.#s?.(n,i,e),this.#h&&this.#T?.push([n,i,e])}}if(this.#a.clear(),this.#i.fill(void 0),this.#l.fill(void 0),this.#A&&this.#g&&(this.#A.fill(0),this.#g.fill(0)),this.#m&&this.#m.fill(0),this.#d=0,this.#f=0,this.#O.length=0,this.#E=0,this.#c=0,this.#h&&this.#T){let r=this.#T,n;for(;n=r?.shift();)this.#n?.(...n)}}};hh.LRUCache=oI});var FB=g(BB=>{"use strict";var yB=typeof process=="object"&&process?process:{stdout:null,stderr:null},Goe=require("events"),LB=require("stream"),Hoe=require("string_decoder"),wB=Hoe.StringDecoder,Ui=Symbol("EOF"),Bi=Symbol("maybeEmitEnd"),ms=Symbol("emittedEnd"),Th=Symbol("emittingEnd"),Ou=Symbol("emittedError"),Sh=Symbol("closed"),DB=Symbol("read"),ph=Symbol("flush"),PB=Symbol("flushChunk"),Yr=Symbol("encoding"),Fi=Symbol("decoder"),Rh=Symbol("flowing"),mu=Symbol("paused"),al=Symbol("resume"),Ct=Symbol("buffer"),jn=Symbol("pipes"),zt=Symbol("bufferLength"),aI=Symbol("bufferPush"),lI=Symbol("bufferShift"),ur=Symbol("objectMode"),bt=Symbol("destroyed"),cI=Symbol("error"),uI=Symbol("emitData"),MB=Symbol("emitEnd"),EI=Symbol("emitEnd2"),Gi=Symbol("async"),fI=Symbol("abort"),Ah=Symbol("aborted"),No=Symbol("signal"),gu=t=>Promise.resolve().then(t),UB=global._MP_NO_ITERATOR_SYMBOLS_!=="1",xB=UB&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),vB=UB&&Symbol.iterator||Symbol("iterator not implemented"),Woe=t=>t==="end"||t==="finish"||t==="prefinish",Yoe=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,$oe=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),_h=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[al](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},dI=class extends _h{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},hI=class t extends LB{constructor(e){super(),this[Rh]=!1,this[mu]=!1,this[jn]=[],this[Ct]=[],this[ur]=e&&e.objectMode||!1,this[ur]?this[Yr]=null:this[Yr]=e&&e.encoding||null,this[Yr]==="buffer"&&(this[Yr]=null),this[Gi]=e&&!!e.async||!1,this[Fi]=this[Yr]?new wB(this[Yr]):null,this[Ui]=!1,this[ms]=!1,this[Th]=!1,this[Sh]=!1,this[Ou]=null,this.writable=!0,this.readable=!0,this[zt]=0,this[bt]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Ct]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[jn]}),this[No]=e&&e.signal,this[Ah]=!1,this[No]&&(this[No].addEventListener("abort",()=>this[fI]()),this[No].aborted&&this[fI]())}get bufferLength(){return this[zt]}get encoding(){return this[Yr]}set encoding(e){if(this[ur])throw new Error("cannot set encoding in objectMode");if(this[Yr]&&e!==this[Yr]&&(this[Fi]&&this[Fi].lastNeed||this[zt]))throw new Error("cannot change encoding");this[Yr]!==e&&(this[Fi]=e?new wB(e):null,this[Ct].length&&(this[Ct]=this[Ct].map(r=>this[Fi].write(r)))),this[Yr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ur]}set objectMode(e){this[ur]=this[ur]||!!e}get async(){return this[Gi]}set async(e){this[Gi]=this[Gi]||!!e}[fI](){this[Ah]=!0,this.emit("abort",this[No].reason),this.destroy(this[No].reason)}get aborted(){return this[Ah]}set aborted(e){}write(e,r,n){if(this[Ah])return!1;if(this[Ui])throw new Error("write after end");if(this[bt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Gi]?gu:s=>s();return!this[ur]&&!Buffer.isBuffer(e)&&($oe(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Yoe(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ur]?(this.flowing&&this[zt]!==0&&this[ph](!0),this.flowing?this.emit("data",e):this[aI](e),this[zt]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Yr]&&!this[Fi].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Yr]&&(e=this[Fi].write(e)),this.flowing&&this[zt]!==0&&this[ph](!0),this.flowing?this.emit("data",e):this[aI](e),this[zt]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[zt]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[bt])return null;if(this[zt]===0||e===0||e>this[zt])return this[Bi](),null;this[ur]&&(e=null),this[Ct].length>1&&!this[ur]&&(this.encoding?this[Ct]=[this[Ct].join("")]:this[Ct]=[Buffer.concat(this[Ct],this[zt])]);let r=this[DB](e||null,this[Ct][0]);return this[Bi](),r}[DB](e,r){return e===r.length||e===null?this[lI]():(this[Ct][0]=r.slice(e),r=r.slice(0,e),this[zt]-=e),this.emit("data",r),!this[Ct].length&&!this[Ui]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[Ui]=!0,this.writable=!1,(this.flowing||!this[mu])&&this[Bi](),this}[al](){this[bt]||(this[mu]=!1,this[Rh]=!0,this.emit("resume"),this[Ct].length?this[ph]():this[Ui]?this[Bi]():this.emit("drain"))}resume(){return this[al]()}pause(){this[Rh]=!1,this[mu]=!0}get destroyed(){return this[bt]}get flowing(){return this[Rh]}get paused(){return this[mu]}[aI](e){this[ur]?this[zt]+=1:this[zt]+=e.length,this[Ct].push(e)}[lI](){return this[ur]?this[zt]-=1:this[zt]-=this[Ct][0].length,this[Ct].shift()}[ph](e){do;while(this[PB](this[lI]())&&this[Ct].length);!e&&!this[Ct].length&&!this[Ui]&&this.emit("drain")}[PB](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[bt])return;let n=this[ms];return r=r||{},e===yB.stdout||e===yB.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[jn].push(r.proxyErrors?new dI(this,e,r):new _h(this,e,r)),this[Gi]?gu(()=>this[al]()):this[al]()),e}unpipe(e){let r=this[jn].find(n=>n.dest===e);r&&(this[jn].splice(this[jn].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[jn].length&&!this.flowing?this[al]():e==="readable"&&this[zt]!==0?super.emit("readable"):Woe(e)&&this[ms]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Ou]&&(this[Gi]?gu(()=>r.call(this,this[Ou])):r.call(this,this[Ou])),n}get emittedEnd(){return this[ms]}[Bi](){!this[Th]&&!this[ms]&&!this[bt]&&this[Ct].length===0&&this[Ui]&&(this[Th]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Sh]&&this.emit("close"),this[Th]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==bt&&this[bt])return;if(e==="data")return!this[ur]&&!r?!1:this[Gi]?gu(()=>this[uI](r)):this[uI](r);if(e==="end")return this[MB]();if(e==="close"){if(this[Sh]=!0,!this[ms]&&!this[bt])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Ou]=r,super.emit(cI,r);let s=!this[No]||this.listeners("error").length?super.emit("error",r):!1;return this[Bi](),s}else if(e==="resume"){let s=super.emit("resume");return this[Bi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[Bi](),i}[uI](e){for(let n of this[jn])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[Bi](),r}[MB](){this[ms]||(this[ms]=!0,this.readable=!1,this[Gi]?gu(()=>this[EI]()):this[EI]())}[EI](){if(this[Fi]){let r=this[Fi].end();if(r){for(let n of this[jn])n.dest.write(r);super.emit("data",r)}}for(let r of this[jn])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ur]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[ur]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[ur]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ur]?Promise.reject(new Error("cannot concat in objectMode")):this[Yr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(bt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[xB](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Ui])return r();let s=null,o=null,a=E=>{this.removeListener("data",l),this.removeListener("end",c),this.removeListener(bt,u),r(),o(E)},l=E=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(bt,u),this.pause(),s({value:E,done:!!this[Ui]})},c=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(bt,u),r(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((E,d)=>{o=d,s=E,this.once(bt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[xB](){return this}}}[vB](){let e=!1,r=()=>(this.pause(),this.removeListener(cI,r),this.removeListener(bt,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(cI,r),this.once(bt,r),{next:n,throw:r,return:r,[vB](){return this}}}destroy(e){return this[bt]?(e?this.emit("error",e):this.emit(bt),this):(this[bt]=!0,this[Ct].length=0,this[zt]=0,typeof this.close=="function"&&!this[Sh]&&this.close(),e?this.emit("error",e):this.emit(bt),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof LB||e instanceof Goe&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};BB.Minipass=hI});var ZB=g(ke=>{"use strict";var Voe=ke&&ke.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),koe=ke&&ke.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),qoe=ke&&ke.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Voe(e,t,r);return koe(e,t),e};Object.defineProperty(ke,"__esModule",{value:!0});ke.PathScurry=ke.Path=ke.PathScurryDarwin=ke.PathScurryPosix=ke.PathScurryWin32=ke.PathScurryBase=ke.PathPosix=ke.PathWin32=ke.PathBase=ke.ChildrenCache=ke.ResolveCache=void 0;var VB=bB(),gh=require("node:path"),Xoe=require("node:url"),bu=require("fs"),Koe=qoe(require("node:fs")),zoe=bu.realpathSync.native,Ih=require("node:fs/promises"),GB=FB(),yu={lstatSync:bu.lstatSync,readdir:bu.readdir,readdirSync:bu.readdirSync,readlinkSync:bu.readlinkSync,realpathSync:zoe,promises:{lstat:Ih.lstat,readdir:Ih.readdir,readlink:Ih.readlink,realpath:Ih.realpath}},kB=t=>!t||t===yu||t===Koe?yu:{...yu,...t,promises:{...yu.promises,...t.promises||{}}},qB=/^\\\\\?\\([a-z]:)\\?$/i,joe=t=>t.replace(/\//g,"\\").replace(qB,"$1\\"),Joe=/[\\\/]/,un=0,XB=1,KB=2,Jn=4,zB=6,jB=8,Oo=10,JB=12,cn=15,Cu=~cn,TI=16,HB=32,Lu=64,bn=128,Nh=256,mh=512,WB=Lu|bn|mh,Qoe=1023,SI=t=>t.isFile()?jB:t.isDirectory()?Jn:t.isSymbolicLink()?Oo:t.isCharacterDevice()?KB:t.isBlockDevice()?zB:t.isSocket()?JB:t.isFIFO()?XB:un,YB=new Map,wu=t=>{let e=YB.get(t);if(e)return e;let r=t.normalize("NFKD");return YB.set(t,r),r},$B=new Map,Oh=t=>{let e=$B.get(t);if(e)return e;let r=wu(t.toLowerCase());return $B.set(t,r),r},Du=class extends VB.LRUCache{constructor(){super({max:256})}};ke.ResolveCache=Du;var Ch=class extends VB.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}};ke.ChildrenCache=Ch;var QB=Symbol("PathScurry setAsCwd"),Er=class{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#s;get mode(){return this.#s}#n;get nlink(){return this.#n}#o;get uid(){return this.#o}#_;get gid(){return this.#_}#c;get rdev(){return this.#c}#E;get blksize(){return this.#E}#a;get ino(){return this.#a}#l;get size(){return this.#l}#i;get blocks(){return this.#i}#S;get atimeMs(){return this.#S}#p;get mtimeMs(){return this.#p}#d;get ctimeMs(){return this.#d}#f;get birthtimeMs(){return this.#f}#O;get atime(){return this.#O}#T;get mtime(){return this.#T}#m;get ctime(){return this.#m}#g;get birthtime(){return this.#g}#A;#I;#N;#h;#L;#C;#r;#P;#R;#w;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=un,n,i,s,o,a){this.name=e,this.#A=s?Oh(e):wu(e),this.#r=r&Qoe,this.nocase=s,this.roots=i,this.root=n||this,this.#P=o,this.#N=a.fullpath,this.#L=a.relative,this.#C=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=kB(a.fs)}depth(){return this.#I!==void 0?this.#I:this.parent?this.#I=this.parent.depth()+1:this.#I=0}childrenCache(){return this.#P}resolve(e){if(!e)return this;let r=this.getRootString(e),i=e.substring(r.length).split(this.splitSep);return r?this.getRoot(r).#M(i):this.#M(i)}#M(e){let r=this;for(let n of e)r=r.child(n);return r}children(){let e=this.#P.get(this);if(e)return e;let r=Object.assign([],{provisional:0});return this.#P.set(this,r),this.#r&=~TI,r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let n=this.children(),i=this.nocase?Oh(e):wu(e);for(let l of n)if(l.#A===i)return l;let s=this.parent?this.sep:"",o=this.#N?this.#N+s+e:void 0,a=this.newChild(e,un,{...r,parent:this,fullpath:o});return this.canReaddir()||(a.#r|=bn),n.push(a),a}relative(){if(this.isCWD)return"";if(this.#L!==void 0)return this.#L;let e=this.name,r=this.parent;if(!r)return this.#L=this.name;let n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#C!==void 0)return this.#C;let e=this.name,r=this.parent;if(!r)return this.#C=this.fullpathPosix();let n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#N!==void 0)return this.#N;let e=this.name,r=this.parent;if(!r)return this.#N=this.name;let i=r.fullpath()+(r.parent?this.sep:"")+e;return this.#N=i}fullpathPosix(){if(this.#h!==void 0)return this.#h;if(this.sep==="/")return this.#h=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#h=`//?/${i}`:this.#h=i}let e=this.parent,r=e.fullpathPosix(),n=r+(!r||!e.parent?"":"/")+this.name;return this.#h=n}isUnknown(){return(this.#r&cn)===un}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&cn)===jB}isDirectory(){return(this.#r&cn)===Jn}isCharacterDevice(){return(this.#r&cn)===KB}isBlockDevice(){return(this.#r&cn)===zB}isFIFO(){return(this.#r&cn)===XB}isSocket(){return(this.#r&cn)===JB}isSymbolicLink(){return(this.#r&Oo)===Oo}lstatCached(){return this.#r&HB?this:void 0}readlinkCached(){return this.#R}realpathCached(){return this.#w}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#R)return!0;if(!this.parent)return!1;let e=this.#r&cn;return!(e!==un&&e!==Oo||this.#r&Nh||this.#r&bn)}calledReaddir(){return!!(this.#r&TI)}isENOENT(){return!!(this.#r&bn)}isNamed(e){return this.nocase?this.#A===Oh(e):this.#A===wu(e)}async readlink(){let e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=await this.#e.promises.readlink(this.fullpath()),n=(await this.parent.realpath())?.resolve(r);if(n)return this.#R=n}catch(r){this.#u(r.code);return}}readlinkSync(){let e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=this.#e.readlinkSync(this.fullpath()),n=this.parent.realpathSync()?.resolve(r);if(n)return this.#R=n}catch(r){this.#u(r.code);return}}#x(e){this.#r|=TI;for(let r=e.provisional;r<e.length;r++){let n=e[r];n&&n.#v()}}#v(){this.#r&bn||(this.#r=(this.#r|bn)&Cu,this.#b())}#b(){let e=this.children();e.provisional=0;for(let r of e)r.#v()}#y(){this.#r|=mh,this.#U()}#U(){if(this.#r&Lu)return;let e=this.#r;(e&cn)===Jn&&(e&=Cu),this.#r=e|Lu,this.#b()}#B(e=""){e==="ENOTDIR"||e==="EPERM"?this.#U():e==="ENOENT"?this.#v():this.children().provisional=0}#F(e=""){e==="ENOTDIR"?this.parent.#U():e==="ENOENT"&&this.#v()}#u(e=""){let r=this.#r;r|=Nh,e==="ENOENT"&&(r|=bn),(e==="EINVAL"||e==="UNKNOWN")&&(r&=Cu),this.#r=r,e==="ENOTDIR"&&this.parent&&this.parent.#U()}#G(e,r){return this.#D(e,r)||this.#H(e,r)}#H(e,r){let n=SI(e),i=this.newChild(e.name,n,{parent:this}),s=i.#r&cn;return s!==Jn&&s!==Oo&&s!==un&&(i.#r|=Lu),r.unshift(i),r.provisional++,i}#D(e,r){for(let n=r.provisional;n<r.length;n++){let i=r[n];if((this.nocase?Oh(e.name):wu(e.name))===i.#A)return this.#W(e,i,n,r)}}#W(e,r,n,i){let s=r.name;return r.#r=r.#r&Cu|SI(e),s!==e.name&&(r.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(r)),i.provisional++,r}async lstat(){if((this.#r&bn)===0)try{return this.#k(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#F(e.code)}}lstatSync(){if((this.#r&bn)===0)try{return this.#k(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#F(e.code)}}#k(e){let{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:E,ino:d,mode:f,mtime:T,mtimeMs:h,nlink:S,rdev:p,size:I,uid:R}=e;this.#O=r,this.#S=n,this.#g=i,this.#f=s,this.#E=o,this.#i=a,this.#m=l,this.#d=c,this.#t=u,this.#_=E,this.#a=d,this.#s=f,this.#T=T,this.#p=h,this.#n=S,this.#c=p,this.#l=I,this.#o=R;let A=SI(e);this.#r=this.#r&Cu|A|HB,A!==un&&A!==Jn&&A!==Oo&&(this.#r|=Lu)}#$=[];#V=!1;#q(e){this.#V=!1;let r=this.#$.slice();this.#$.length=0,r.forEach(n=>n(null,e))}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}let n=this.children();if(this.calledReaddir()){let s=n.slice(0,n.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(this.#$.push(e),this.#V)return;this.#V=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(s,o)=>{if(s)this.#B(s.code),n.provisional=0;else{for(let a of o)this.#G(a,n);this.#x(n)}this.#q(n.slice(0,n.provisional))})}#Y;async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();if(this.#Y)await this.#Y;else{let n=()=>{};this.#Y=new Promise(i=>n=i);try{for(let i of await this.#e.promises.readdir(r,{withFileTypes:!0}))this.#G(i,e);this.#x(e)}catch(i){this.#B(i.code),e.provisional=0}this.#Y=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();try{for(let n of this.#e.readdirSync(r,{withFileTypes:!0}))this.#G(n,e);this.#x(e)}catch(n){this.#B(n.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#r&WB)return!1;let e=cn&this.#r;return e===un||e===Jn||e===Oo}shouldWalk(e,r){return(this.#r&Jn)===Jn&&!(this.#r&WB)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#w)return this.#w;if(!((mh|Nh|bn)&this.#r))try{let e=await this.#e.promises.realpath(this.fullpath());return this.#w=this.resolve(e)}catch{this.#y()}}realpathSync(){if(this.#w)return this.#w;if(!((mh|Nh|bn)&this.#r))try{let e=this.#e.realpathSync(this.fullpath());return this.#w=this.resolve(e)}catch{this.#y()}}[QB](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;let r=new Set([]),n=[],i=this;for(;i&&i.parent;)r.add(i),i.#L=n.join(this.sep),i.#C=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!r.has(i);)i.#L=void 0,i.#C=void 0,i=i.parent}};ke.PathBase=Er;var Pu=class t extends Er{sep="\\";splitSep=Joe;constructor(e,r=un,n,i,s,o,a){super(e,r,n,i,s,o,a)}newChild(e,r=un,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return gh.win32.parse(e).root}getRoot(e){if(e=joe(e.toUpperCase()),e===this.root.name)return this.root;for(let[r,n]of Object.entries(this.roots))if(this.sameRoot(e,r))return this.roots[e]=n;return this.roots[e]=new vu(e,this).root}sameRoot(e,r=this.root.name){return e=e.toUpperCase().replace(/\//g,"\\").replace(qB,"$1\\"),e===r}};ke.PathWin32=Pu;var Mu=class t extends Er{splitSep="/";sep="/";constructor(e,r=un,n,i,s,o,a){super(e,r,n,i,s,o,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=un,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};ke.PathPosix=Mu;var xu=class{root;rootPath;roots;cwd;#e;#t;#s;nocase;#n;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=yu}={}){this.#n=kB(o),(e instanceof URL||e.startsWith("file://"))&&(e=(0,Xoe.fileURLToPath)(e));let a=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new Du,this.#t=new Du,this.#s=new Ch(s);let l=a.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#n),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,E=r.sep,d=this.rootPath,f=!1;for(let T of l){let h=u--;c=c.child(T,{relative:new Array(h).fill("..").join(E),relativePosix:new Array(h).fill("..").join("/"),fullpath:d+=(f?"":E)+T}),f=!0}this.cwd=c}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#s}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#e.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpath();return this.#e.set(r,i),i}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#t.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpathPosix();return this.#t.set(r,i),i}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e,e=this.cwd);let{withFileTypes:n}=r;if(e.canReaddir()){let i=await e.readdir();return n?i:i.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e,e=this.cwd);let{withFileTypes:n=!0}=r;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map(i=>i.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e.withFileTypes,e=this.cwd);let n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e.withFileTypes,e=this.cwd);let n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e.withFileTypes,e=this.cwd);let n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e.withFileTypes,e=this.cwd);let n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set,c=(E,d)=>{l.add(E),E.readdirCB((f,T)=>{if(f)return d(f);let h=T.length;if(!h)return d();let S=()=>{--h===0&&d()};for(let p of T)(!s||s(p))&&a.push(n?p:p.fullpath()),i&&p.isSymbolicLink()?p.realpath().then(I=>I?.isUnknown()?I.lstat():I).then(I=>I?.shouldWalk(l,o)?c(I,S):S()):p.shouldWalk(l,o)?c(p,S):S()},!0)},u=e;return new Promise((E,d)=>{c(u,f=>{if(f)return d(f);E(a)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set([e]);for(let c of l){let u=c.readdirSync();for(let E of u){(!s||s(E))&&a.push(n?E:E.fullpath());let d=E;if(E.isSymbolicLink()){if(!(i&&(d=E.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(l,o)&&l.add(d)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r;(!s||s(e))&&(yield n?e:e.fullpath());let a=new Set([e]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield n?u:u.fullpath());let E=u;if(u.isSymbolicLink()){if(!(i&&(E=u.realpathSync())))continue;E.isUnknown()&&E.lstatSync()}E.shouldWalk(a,o)&&a.add(E)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new GB.Minipass({objectMode:!0});(!s||s(e))&&a.write(n?e:e.fullpath());let l=new Set,c=[e],u=0,E=()=>{let d=!1;for(;!d;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let T=(S,p,I=!1)=>{if(S)return a.emit("error",S);if(i&&!I){let R=[];for(let A of p)A.isSymbolicLink()&&R.push(A.realpath().then(O=>O?.isUnknown()?O.lstat():O));if(R.length){Promise.all(R).then(()=>T(null,p,!0));return}}for(let R of p)R&&(!s||s(R))&&(a.write(n?R:R.fullpath())||(d=!0));u--;for(let R of p){let A=R.realpathCached()||R;A.shouldWalk(l,o)&&c.push(A)}d&&!a.flowing?a.once("drain",E):h||E()},h=!0;f.readdirCB(T,!0),h=!1}};return E(),a}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Er||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new GB.Minipass({objectMode:!0}),l=new Set;(!s||s(e))&&a.write(n?e:e.fullpath());let c=[e],u=0,E=()=>{let d=!1;for(;!d;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let T=f.readdirSync();for(let h of T)(!s||s(h))&&(a.write(n?h:h.fullpath())||(d=!0));u--;for(let h of T){let S=h;if(h.isSymbolicLink()){if(!(i&&(S=h.realpathSync())))continue;S.isUnknown()&&S.lstatSync()}S.shouldWalk(l,o)&&c.push(S)}}d&&!a.flowing&&a.once("drain",E)};return E(),a}chdir(e=this.cwd){let r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[QB](r)}};ke.PathScurryBase=xu;var vu=class extends xu{sep="\\";constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,gh.win32,"\\",{...r,nocase:n}),this.nocase=n;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(e){return gh.win32.parse(e).root.toUpperCase()}newRoot(e){return new Pu(this.rootPath,Jn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}};ke.PathScurryWin32=vu;var Uu=class extends xu{sep="/";constructor(e=process.cwd(),r={}){let{nocase:n=!1}=r;super(e,gh.posix,"/",{...r,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new Mu(this.rootPath,Jn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}};ke.PathScurryPosix=Uu;var bh=class extends Uu{constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,{...r,nocase:n})}};ke.PathScurryDarwin=bh;ke.Path=process.platform==="win32"?Pu:Mu;ke.PathScurry=process.platform==="win32"?vu:process.platform==="darwin"?bh:Uu});var RI=g(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.Pattern=void 0;var Zoe=Ns(),eae=t=>t.length>=1,tae=t=>t.length>=1,pI=class t{#e;#t;#s;length;#n;#o;#_;#c;#E;#a;#l=!0;constructor(e,r,n,i){if(!eae(e))throw new TypeError("empty pattern list");if(!tae(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=r,this.#s=n,this.#n=i,this.#s===0){if(this.isUNC()){let[s,o,a,l,...c]=this.#e,[u,E,d,f,...T]=this.#t;c[0]===""&&(c.shift(),T.shift());let h=[s,o,a,l,""].join("/"),S=[u,E,d,f,""].join("/");this.#e=[h,...c],this.#t=[S,...T],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...l]=this.#t;o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";this.#e=[c,...o],this.#t=[u,...l],this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]=="string"}isGlobstar(){return this.#e[this.#s]===Zoe.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#_=this.#_||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new t(this.#e,this.#t,this.#s+1,this.#n),this.#o.#a=this.#a,this.#o.#E=this.#E,this.#o.#c=this.#c,this.#o):this.#o=null}isUNC(){let e=this.#e;return this.#E!==void 0?this.#E:this.#E=this.#n==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3]}isDrive(){let e=this.#e;return this.#c!==void 0?this.#c:this.#c=this.#n==="win32"&&this.#s===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){let e=this.#e;return this.#a!==void 0?this.#a:this.#a=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){let e=this.#e[0];return typeof e=="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#l?!1:(this.#l=!1,!0)}};yh.Pattern=pI});var sF=g(Mr=>{"use strict";var rae=Mr&&Mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.Minipass=Mr.isWritable=Mr.isReadable=Mr.isStream=void 0;var eF=typeof process=="object"&&process?process:{stdout:null,stderr:null},gI=require("node:events"),iF=rae(require("node:stream")),nae=require("node:string_decoder"),iae=t=>!!t&&typeof t=="object"&&(t instanceof vh||t instanceof iF.default||(0,Mr.isReadable)(t)||(0,Mr.isWritable)(t));Mr.isStream=iae;var sae=t=>!!t&&typeof t=="object"&&t instanceof gI.EventEmitter&&typeof t.pipe=="function"&&t.pipe!==iF.default.Writable.prototype.pipe;Mr.isReadable=sae;var oae=t=>!!t&&typeof t=="object"&&t instanceof gI.EventEmitter&&typeof t.write=="function"&&typeof t.end=="function";Mr.isWritable=oae;var Hi=Symbol("EOF"),Wi=Symbol("maybeEmitEnd"),gs=Symbol("emittedEnd"),Lh=Symbol("emittingEnd"),Bu=Symbol("emittedError"),wh=Symbol("closed"),tF=Symbol("read"),Dh=Symbol("flush"),rF=Symbol("flushChunk"),yn=Symbol("encoding"),ll=Symbol("decoder"),jt=Symbol("flowing"),Fu=Symbol("paused"),cl=Symbol("resume"),Jt=Symbol("buffer"),Pr=Symbol("pipes"),Qt=Symbol("bufferLength"),AI=Symbol("bufferPush"),Ph=Symbol("bufferShift"),Nr=Symbol("objectMode"),yt=Symbol("destroyed"),_I=Symbol("error"),II=Symbol("emitData"),nF=Symbol("emitEnd"),NI=Symbol("emitEnd2"),Qn=Symbol("async"),OI=Symbol("abort"),Mh=Symbol("aborted"),Gu=Symbol("signal"),mo=Symbol("dataListeners"),Kr=Symbol("discarded"),Hu=t=>Promise.resolve().then(t),aae=t=>t(),lae=t=>t==="end"||t==="finish"||t==="prefinish",cae=t=>t instanceof ArrayBuffer||!!t&&typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,uae=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),xh=class{src;dest;opts;ondrain;constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[cl](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},mI=class extends xh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},Eae=t=>!!t.objectMode,fae=t=>!t.objectMode&&!!t.encoding&&t.encoding!=="buffer",vh=class extends gI.EventEmitter{[jt]=!1;[Fu]=!1;[Pr]=[];[Jt]=[];[Nr];[yn];[Qn];[ll];[Hi]=!1;[gs]=!1;[Lh]=!1;[wh]=!1;[Bu]=null;[Qt]=0;[yt]=!1;[Gu];[Mh]=!1;[mo]=0;[Kr]=!1;writable=!0;readable=!0;constructor(...e){let r=e[0]||{};if(super(),r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Eae(r)?(this[Nr]=!0,this[yn]=null):fae(r)?(this[yn]=r.encoding,this[Nr]=!1):(this[Nr]=!1,this[yn]=null),this[Qn]=!!r.async,this[ll]=this[yn]?new nae.StringDecoder(this[yn]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Jt]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Pr]});let{signal:n}=r;n&&(this[Gu]=n,n.aborted?this[OI]():n.addEventListener("abort",()=>this[OI]()))}get bufferLength(){return this[Qt]}get encoding(){return this[yn]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Nr]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Qn]}set async(e){this[Qn]=this[Qn]||!!e}[OI](){this[Mh]=!0,this.emit("abort",this[Gu]?.reason),this.destroy(this[Gu]?.reason)}get aborted(){return this[Mh]}set aborted(e){}write(e,r,n){if(this[Mh])return!1;if(this[Hi])throw new Error("write after end");if(this[yt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Qn]?Hu:aae;if(!this[Nr]&&!Buffer.isBuffer(e)){if(uae(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(cae(e))e=Buffer.from(e);else if(typeof e!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Nr]?(this[jt]&&this[Qt]!==0&&this[Dh](!0),this[jt]?this.emit("data",e):this[AI](e),this[Qt]!==0&&this.emit("readable"),n&&i(n),this[jt]):e.length?(typeof e=="string"&&!(r===this[yn]&&!this[ll]?.lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[yn]&&(e=this[ll].write(e)),this[jt]&&this[Qt]!==0&&this[Dh](!0),this[jt]?this.emit("data",e):this[AI](e),this[Qt]!==0&&this.emit("readable"),n&&i(n),this[jt]):(this[Qt]!==0&&this.emit("readable"),n&&i(n),this[jt])}read(e){if(this[yt])return null;if(this[Kr]=!1,this[Qt]===0||e===0||e&&e>this[Qt])return this[Wi](),null;this[Nr]&&(e=null),this[Jt].length>1&&!this[Nr]&&(this[Jt]=[this[yn]?this[Jt].join(""):Buffer.concat(this[Jt],this[Qt])]);let r=this[tF](e||null,this[Jt][0]);return this[Wi](),r}[tF](e,r){if(this[Nr])this[Ph]();else{let n=r;e===n.length||e===null?this[Ph]():typeof n=="string"?(this[Jt][0]=n.slice(e),r=n.slice(0,e),this[Qt]-=e):(this[Jt][0]=n.subarray(e),r=n.subarray(0,e),this[Qt]-=e)}return this.emit("data",r),!this[Jt].length&&!this[Hi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r="utf8"),e!==void 0&&this.write(e,r),n&&this.once("end",n),this[Hi]=!0,this.writable=!1,(this[jt]||!this[Fu])&&this[Wi](),this}[cl](){this[yt]||(!this[mo]&&!this[Pr].length&&(this[Kr]=!0),this[Fu]=!1,this[jt]=!0,this.emit("resume"),this[Jt].length?this[Dh]():this[Hi]?this[Wi]():this.emit("drain"))}resume(){return this[cl]()}pause(){this[jt]=!1,this[Fu]=!0,this[Kr]=!1}get destroyed(){return this[yt]}get flowing(){return this[jt]}get paused(){return this[Fu]}[AI](e){this[Nr]?this[Qt]+=1:this[Qt]+=e.length,this[Jt].push(e)}[Ph](){return this[Nr]?this[Qt]-=1:this[Qt]-=this[Jt][0].length,this[Jt].shift()}[Dh](e=!1){do;while(this[rF](this[Ph]())&&this[Jt].length);!e&&!this[Jt].length&&!this[Hi]&&this.emit("drain")}[rF](e){return this.emit("data",e),this[jt]}pipe(e,r){if(this[yt])return e;this[Kr]=!1;let n=this[gs];return r=r||{},e===eF.stdout||e===eF.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Pr].push(r.proxyErrors?new mI(this,e,r):new xh(this,e,r)),this[Qn]?Hu(()=>this[cl]()):this[cl]()),e}unpipe(e){let r=this[Pr].find(n=>n.dest===e);r&&(this[Pr].length===1?(this[jt]&&this[mo]===0&&(this[jt]=!1),this[Pr]=[]):this[Pr].splice(this[Pr].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);if(e==="data")this[Kr]=!1,this[mo]++,!this[Pr].length&&!this[jt]&&this[cl]();else if(e==="readable"&&this[Qt]!==0)super.emit("readable");else if(lae(e)&&this[gs])super.emit(e),this.removeAllListeners(e);else if(e==="error"&&this[Bu]){let i=r;this[Qn]?Hu(()=>i.call(this,this[Bu])):i.call(this,this[Bu])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){let n=super.off(e,r);return e==="data"&&(this[mo]=this.listeners("data").length,this[mo]===0&&!this[Kr]&&!this[Pr].length&&(this[jt]=!1)),n}removeAllListeners(e){let r=super.removeAllListeners(e);return(e==="data"||e===void 0)&&(this[mo]=0,!this[Kr]&&!this[Pr].length&&(this[jt]=!1)),r}get emittedEnd(){return this[gs]}[Wi](){!this[Lh]&&!this[gs]&&!this[yt]&&this[Jt].length===0&&this[Hi]&&(this[Lh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[wh]&&this.emit("close"),this[Lh]=!1)}emit(e,...r){let n=r[0];if(e!=="error"&&e!=="close"&&e!==yt&&this[yt])return!1;if(e==="data")return!this[Nr]&&!n?!1:this[Qn]?(Hu(()=>this[II](n)),!0):this[II](n);if(e==="end")return this[nF]();if(e==="close"){if(this[wh]=!0,!this[gs]&&!this[yt])return!1;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Bu]=n,super.emit(_I,n);let s=!this[Gu]||this.listeners("error").length?super.emit("error",n):!1;return this[Wi](),s}else if(e==="resume"){let s=super.emit("resume");return this[Wi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,...r);return this[Wi](),i}[II](e){for(let n of this[Pr])n.dest.write(e)===!1&&this.pause();let r=this[Kr]?!1:super.emit("data",e);return this[Wi](),r}[nF](){return this[gs]?!1:(this[gs]=!0,this.readable=!1,this[Qn]?(Hu(()=>this[NI]()),!0):this[NI]())}[NI](){if(this[ll]){let r=this[ll].end();if(r){for(let n of this[Pr])n.dest.write(r);this[Kr]||super.emit("data",r)}}for(let r of this[Pr])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){let e=Object.assign([],{dataLength:0});this[Nr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[Nr]||(e.dataLength+=n.length)}),await r,e}async concat(){if(this[Nr])throw new Error("cannot concat in objectMode");let e=await this.collect();return this[yn]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise((e,r)=>{this.on(yt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[Symbol.asyncIterator](){this[Kr]=!1;let e=!1,r=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Hi])return r();let s,o,a=E=>{this.off("data",l),this.off("end",c),this.off(yt,u),r(),o(E)},l=E=>{this.off("error",a),this.off("end",c),this.off(yt,u),this.pause(),s({value:E,done:!!this[Hi]})},c=()=>{this.off("error",a),this.off("data",l),this.off(yt,u),r(),s({done:!0,value:void 0})},u=()=>a(new Error("stream destroyed"));return new Promise((E,d)=>{o=d,s=E,this.once(yt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Kr]=!1;let e=!1,r=()=>(this.pause(),this.off(_I,r),this.off(yt,r),this.off("end",r),e=!0,{done:!0,value:void 0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{done:!1,value:i}};return this.once("end",r),this.once(_I,r),this.once(yt,r),{next:n,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(e){if(this[yt])return e?this.emit("error",e):this.emit(yt),this;this[yt]=!0,this[Kr]=!0,this[Jt].length=0,this[Qt]=0;let r=this;return typeof r.close=="function"&&!this[wh]&&r.close(),e?this.emit("error",e):this.emit(yt),this}static get isStream(){return Mr.isStream}};Mr.Minipass=vh});var bI=g(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.Ignore=void 0;var oF=Ns(),dae=RI(),hae=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",CI=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:o=hae}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of e)this.add(a)}add(e){let r=new oF.Minimatch(e,this.mmopts);for(let n=0;n<r.set.length;n++){let i=r.set[n],s=r.globParts[n];if(!i||!s)throw new Error("invalid pattern object");for(;i[0]==="."&&s[0]===".";)i.shift(),s.shift();let o=new dae.Pattern(i,s,0,this.platform),a=new oF.Minimatch(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){let r=e.fullpath(),n=`${r}/`,i=e.relative()||".",s=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(n))return!0;return!1}childrenIgnored(e){let r=e.fullpath()+"/",n=(e.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(n))return!0;for(let i of this.absoluteChildren)if(i.match(r))return!0;return!1}};Uh.Ignore=CI});var lF=g(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.Processor=Zn.SubWalks=Zn.MatchRecord=Zn.HasWalkedCache=void 0;var aF=Ns(),Bh=class t{store;constructor(e=new Map){this.store=e}copy(){return new t(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){let n=e.fullpath(),i=this.store.get(n);i?i.add(r.globString()):this.store.set(n,new Set([r.globString()]))}};Zn.HasWalkedCache=Bh;var Fh=class{store=new Map;add(e,r,n){let i=(r?2:0)|(n?1:0),s=this.store.get(e);this.store.set(e,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}};Zn.MatchRecord=Fh;var Gh=class{store=new Map;add(e,r){if(!e.canReaddir())return;let n=this.store.get(e);n?n.find(i=>i.globString()===r.globString())||n.push(r):this.store.set(e,[r])}get(e){let r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}};Zn.SubWalks=Gh;var yI=class t{hasWalkedCache;matches=new Fh;subwalks=new Gh;patterns;follow;dot;opts;constructor(e,r){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new Bh}processPatterns(e,r){this.patterns=r;let n=r.map(i=>[e,i]);for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let E=s.rest();if(E)s=E;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)i=i.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof l=="string"){let E=l===".."||l===""||l===".";this.matches.add(i.resolve(l),a,E);continue}else if(l===aF.GLOBSTAR){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let E=c?.pattern(),d=c?.rest();if(!c||(E===""||E===".")&&!d)this.matches.add(i,a,E===""||E===".");else if(E===".."){let f=i.parent||i;d?this.hasWalkedCache.hasWalked(f,d)||this.subwalks.add(f,d):this.matches.add(f,a,!0)}}else l instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(e,r){let n=this.subwalks.get(e),i=this.child();for(let s of r)for(let o of n){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===aF.GLOBSTAR?i.testGlobstar(s,o,c,a):l instanceof RegExp?i.testRegExp(s,l,c,a):i.testString(s,l,c,a)}return i}testGlobstar(e,r,n,i){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(n&&r.checkFollowGlobstar()?this.subwalks.add(e,n):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),n){let s=n.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,n.rest(),i);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,n)}else s instanceof RegExp&&this.testRegExp(e,s,n.rest(),i)}}testRegExp(e,r,n,i){r.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,r,n,i){e.isNamed(r)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}};Zn.Processor=yI});var EF=g(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.GlobStream=Cs.GlobWalker=Cs.GlobUtil=void 0;var Tae=sF(),cF=bI(),uF=lF(),Sae=(t,e)=>typeof t=="string"?new cF.Ignore([t],e):Array.isArray(t)?new cF.Ignore(t,e):t,Wu=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#s;signal;maxDepth;includeChildMatches;constructor(e,r,n){if(this.patterns=e,this.path=r,this.opts=n,this.#s=!n.posix&&n.platform==="win32"?"\\":"/",this.includeChildMatches=n.includeChildMatches!==!1,(n.ignore||!this.includeChildMatches)&&(this.#t=Sae(n.ignore??[],n),!this.includeChildMatches&&typeof this.#t.add!="function")){let i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#n(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#o(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#n(e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#n(e))return;if(!this.includeChildMatches&&this.#t?.add){let s=`${e.relativePosix()}/**`;this.#t.add(s)}let n=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);let i=this.opts.mark&&e.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){let s=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(s+i)}else{let s=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(s?o+s+i:"."+i)}}async match(e,r,n){let i=await this.matchCheck(e,n);i&&this.matchFinish(i,r)}matchSync(e,r,n){let i=this.matchCheckSync(e,n);i&&this.matchFinish(i,r)}walkCB(e,r,n){this.signal?.aborted&&n(),this.walkCB2(e,r,new uF.Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,n,o):a.readdirCB((c,u)=>this.walkCB3(a,u,n,o),!0)}o()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of n.subwalks.entries())s++,this.walkCB2(a,l,n.child(),o);o()}walkCBSync(e,r,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,r,new uF.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,n,o)}o()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let[a,l]of n.subwalks.entries())s++,this.walkCB2Sync(a,l,n.child(),o);o()}};Cs.GlobUtil=Wu;var LI=class extends Wu{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,r)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?r(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};Cs.GlobWalker=LI;var wI=class extends Wu{results;constructor(e,r,n){super(e,r,n),this.results=new Tae.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let e=this.path;return e.isUnknown()?e.lstat().then(()=>{this.walkCB(e,this.patterns,()=>this.results.end())}):this.walkCB(e,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};Cs.GlobStream=wI});var PI=g(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.Glob=void 0;var pae=Ns(),Rae=require("node:url"),Hh=ZB(),Aae=RI(),Wh=EF(),_ae=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",DI=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,Rae.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=e,this.platform=r.platform||_ae,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?Hh.PathScurryWin32:r.platform==="darwin"?Hh.PathScurryDarwin:r.platform?Hh.PathScurryPosix:Hh.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let n=this.platform==="darwin"||this.platform==="win32",i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new pae.Minimatch(l,i)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new Aae.Pattern(l,u,0,this.platform)})}async walk(){return[...await new Wh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new Wh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new Wh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new Wh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};Yh.Glob=DI});var MI=g($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.hasMagic=void 0;var Iae=Ns(),Nae=(t,e={})=>{Array.isArray(t)||(t=[t]);for(let r of t)if(new Iae.Minimatch(r,e).hasMagic())return!0;return!1};$h.hasMagic=Nae});var TF=g(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.glob=Le.sync=Le.iterate=Le.iterateSync=Le.stream=Le.streamSync=Le.Ignore=Le.hasMagic=Le.Glob=Le.unescape=Le.escape=void 0;Le.globStreamSync=Yu;Le.globStream=xI;Le.globSync=vI;Le.globIterateSync=$u;Le.globIterate=UI;var fF=Ns(),go=PI(),Oae=MI(),hF=Ns();Object.defineProperty(Le,"escape",{enumerable:!0,get:function(){return hF.escape}});Object.defineProperty(Le,"unescape",{enumerable:!0,get:function(){return hF.unescape}});var mae=PI();Object.defineProperty(Le,"Glob",{enumerable:!0,get:function(){return mae.Glob}});var gae=MI();Object.defineProperty(Le,"hasMagic",{enumerable:!0,get:function(){return gae.hasMagic}});var Cae=bI();Object.defineProperty(Le,"Ignore",{enumerable:!0,get:function(){return Cae.Ignore}});function Yu(t,e={}){return new go.Glob(t,e).streamSync()}function xI(t,e={}){return new go.Glob(t,e).stream()}function vI(t,e={}){return new go.Glob(t,e).walkSync()}async function dF(t,e={}){return new go.Glob(t,e).walk()}function $u(t,e={}){return new go.Glob(t,e).iterateSync()}function UI(t,e={}){return new go.Glob(t,e).iterate()}Le.streamSync=Yu;Le.stream=Object.assign(xI,{sync:Yu});Le.iterateSync=$u;Le.iterate=Object.assign(UI,{sync:$u});Le.sync=Object.assign(vI,{stream:Yu,iterate:$u});Le.glob=Object.assign(dF,{glob:dF,globSync:vI,sync:Le.sync,globStream:xI,stream:Le.stream,globStreamSync:Yu,streamSync:Le.streamSync,globIterate:UI,iterate:Le.iterate,globIterateSync:$u,iterateSync:Le.iterateSync,Glob:go.Glob,hasMagic:Oae.hasMagic,escape:fF.escape,unescape:fF.unescape});Le.glob.glob=Le.glob});var AF=g((Hxe,RF)=>{var pF=zR(),ul=require("path"),BI=Ov(),bae=FU(),yae=zU(),Lae=rB(),wae=TF(),Co=RF.exports={},SF=/[\/\\]/g,Dae=function(t,e){var r=[];return BI(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=bae(r,s):r=yae(r,s)}),r};Co.exists=function(){var t=ul.join.apply(ul,arguments);return pF.existsSync(t)};Co.expand=function(...t){var e=Lae(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=Dae(r,function(i){return wae.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=ul.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):pF.statSync(i)[e.filter]()}catch{return!1}})),n};Co.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return ul.join(s||"",o)}},r);var n=[],i={};return Co.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=ul.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=ul.join(r.cwd,s)),a=a.replace(SF,"/"),s=s.replace(SF,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};Co.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=BI(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return Co.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?BI(o):[o],s.result=Co.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var El=g((Yxe,NF)=>{var FI=zR(),_F=require("path"),Pae=id(),Mae=Cw(),IF=AA(),xae=oP(),Wxe=require("stream").Stream,vae=dv().PassThrough,zr=NF.exports={};zr.file=AF();zr.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};zr.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};zr.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},xae(...n)};zr.isStream=function(t){return Pae(t)};zr.lazyReadStream=function(t){return new Mae.Readable(function(){return FI.createReadStream(t)})};zr.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):zr.isStream(t)?t.pipe(new vae):t};zr.sanitizePath=function(t){return IF(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};zr.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};zr.unixifyPath=function(t){return IF(t,!1).replace(/^\w+:/,"")};zr.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),FI.readdir(t,function(i,s){var o=0,a,l;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);l=_F.join(t,a),FI.stat(l,function(u,E){n.push({path:l,relative:_F.relative(e,l).replace(/\\/g,"/"),stats:E}),E&&E.isDirectory()?zr.walkdir(l,e,function(d,f){if(d)return r(d);f.forEach(function(T){n.push(T)}),c()}):c()})})()})}});var CF=g((mF,gF)=>{var Uae=require("util"),Bae={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function OF(t,e){Error.captureStackTrace(this,this.constructor),this.message=Bae[t]||t,this.code=t,this.data=e}Uae.inherits(OF,Error);mF=gF.exports=OF});var at=g(($xe,bF)=>{"use strict";var GI=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};bF.exports={AggregateError:GI,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var HI=g((Vxe,yF)=>{"use strict";yF.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Or=g((kxe,DF)=>{"use strict";var{format:Fae,inspect:Vh}=HI(),{AggregateError:Gae}=at(),Hae=globalThis.AggregateError||Gae,Wae=Symbol("kIsNodeError"),Yae=["string","function","number","object","Function","Object","boolean","bigint","symbol"],$ae=/^([A-Z][a-z0-9]*)+$/,Vae="__node_internal_",kh={};function bo(t,e){if(!t)throw new kh.ERR_INTERNAL_ASSERTION(e)}function LF(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function kae(t,e,r){if(typeof e=="function")return bo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return bo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Fae(e,...r)}function fr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(kae(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Wae]=!0,kh[t]=n}function wF(t){let e=Vae+t.name;return Object.defineProperty(t,"name",{value:e}),t}function qae(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Hae([e,t],e.message);return r.code=e.code,r}return t||e}var WI=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new kh.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};fr("ERR_ASSERTION","%s",Error);fr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{bo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)bo(typeof l=="string","All expected entries have to be of type string"),Yae.includes(l)?i.push(l.toLowerCase()):$ae.test(l)?s.push(l):(bo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Vh(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Vh(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);fr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Vh(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);fr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);fr("ERR_MISSING_ARGS",(...t)=>{bo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);fr("ERR_OUT_OF_RANGE",(t,e,r)=>{bo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=LF(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=LF(n)),n+="n"}else n=Vh(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);fr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);fr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);fr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);fr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);fr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);fr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);fr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);fr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);fr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);fr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);fr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);DF.exports={AbortError:WI,aggregateTwoErrors:wF(qae),hideStackFrames:wF,codes:kh}});var xr=g((qxe,$I)=>{"use strict";var Xae=require("buffer"),{format:Kae,inspect:zae}=HI(),{codes:{ERR_INVALID_ARG_TYPE:YI}}=Or(),{kResistStopPropagation:jae,AggregateError:Jae,SymbolDispose:Qae}=at(),Zae=globalThis.AbortSignal||gt().AbortSignal,ele=globalThis.AbortController||gt().AbortController,tle=Object.getPrototypeOf(async function(){}).constructor,PF=globalThis.Blob||Xae.Blob,rle=typeof PF<"u"?function(e){return e instanceof PF}:function(e){return!1},MF=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new YI(e,"AbortSignal",t)},nle=(t,e)=>{if(typeof t!="function")throw new YI(e,"Function",t)};$I.exports={AggregateError:Jae,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:Kae,inspect:zae,types:{isAsyncFunction(t){return t instanceof tle},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:rle,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new YI("signal","AbortSignal",e);MF(e,"signal"),nle(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[jae]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Qae](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Zae.any||function(e){if(e.length===1)return e[0];let r=new ele,n=()=>r.abort();return e.forEach(i=>{MF(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};$I.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var dl=g((Xxe,$F)=>{"use strict";var{ArrayIsArray:kI,ArrayPrototypeIncludes:BF,ArrayPrototypeJoin:FF,ArrayPrototypeMap:ile,NumberIsInteger:qI,NumberIsNaN:sle,NumberMAX_SAFE_INTEGER:ole,NumberMIN_SAFE_INTEGER:ale,NumberParseInt:lle,ObjectPrototypeHasOwnProperty:cle,RegExpPrototypeExec:GF,String:ule,StringPrototypeToUpperCase:Ele,StringPrototypeTrim:fle}=at(),{hideStackFrames:En,codes:{ERR_SOCKET_BAD_PORT:dle,ERR_INVALID_ARG_TYPE:mr,ERR_INVALID_ARG_VALUE:fl,ERR_OUT_OF_RANGE:yo,ERR_UNKNOWN_SIGNAL:xF}}=Or(),{normalizeEncoding:hle}=xr(),{isAsyncFunction:Tle,isArrayBufferView:Sle}=xr().types,vF={};function ple(t){return t===(t|0)}function Rle(t){return t===t>>>0}var Ale=/^[0-7]+$/,_le="must be a 32-bit unsigned integer or an octal string";function Ile(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(GF(Ale,t)===null)throw new fl(e,t,_le);t=lle(t,8)}return HF(t,e),t}var Nle=En((t,e,r=ale,n=ole)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!qI(t))throw new yo(e,"an integer",t);if(t<r||t>n)throw new yo(e,`>= ${r} && <= ${n}`,t)}),Ole=En((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!qI(t))throw new yo(e,"an integer",t);if(t<r||t>n)throw new yo(e,`>= ${r} && <= ${n}`,t)}),HF=En((t,e,r=!1)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!qI(t))throw new yo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new yo(e,`>= ${n} && <= ${i}`,t)});function XI(t,e){if(typeof t!="string")throw new mr(e,"string",t)}function mle(t,e,r=void 0,n){if(typeof t!="number")throw new mr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&sle(t))throw new yo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var gle=En((t,e,r)=>{if(!BF(r,t)){let i="must be one of: "+FF(ile(r,s=>typeof s=="string"?`'${s}'`:ule(s)),", ");throw new fl(e,t,i)}});function WF(t,e){if(typeof t!="boolean")throw new mr(e,"boolean",t)}function VI(t,e,r){return t==null||!cle(t,e)?r:t[e]}var Cle=En((t,e,r=null)=>{let n=VI(r,"allowArray",!1),i=VI(r,"allowFunction",!1);if(!VI(r,"nullable",!1)&&t===null||!n&&kI(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new mr(e,"Object",t)}),ble=En((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new mr(e,"a dictionary",t)}),qh=En((t,e,r=0)=>{if(!kI(t))throw new mr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new fl(e,t,n)}});function yle(t,e){qh(t,e);for(let r=0;r<t.length;r++)XI(t[r],`${e}[${r}]`)}function Lle(t,e){qh(t,e);for(let r=0;r<t.length;r++)WF(t[r],`${e}[${r}]`)}function wle(t,e){qh(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new mr(i,"AbortSignal",n);YF(n,i)}}function Dle(t,e="signal"){if(XI(t,e),vF[t]===void 0)throw vF[Ele(t)]!==void 0?new xF(t+" (signals must use all capital letters)"):new xF(t)}var Ple=En((t,e="buffer")=>{if(!Sle(t))throw new mr(e,["Buffer","TypedArray","DataView"],t)});function Mle(t,e){let r=hle(e),n=t.length;if(r==="hex"&&n%2!==0)throw new fl("encoding",e,`is invalid for data of length ${n}`)}function xle(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&fle(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new dle(e,t,r);return t|0}var YF=En((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new mr(e,"AbortSignal",t)}),vle=En((t,e)=>{if(typeof t!="function")throw new mr(e,"Function",t)}),Ule=En((t,e)=>{if(typeof t!="function"||Tle(t))throw new mr(e,"Function",t)}),Ble=En((t,e)=>{if(t!==void 0)throw new mr(e,"undefined",t)});function Fle(t,e,r){if(!BF(r,t))throw new mr(e,`('${FF(r,"|")}')`,t)}var Gle=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function UF(t,e){if(typeof t>"u"||!GF(Gle,t))throw new fl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Hle(t){if(typeof t=="string")return UF(t,"hints"),t;if(kI(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];UF(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new fl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}$F.exports={isInt32:ple,isUint32:Rle,parseFileMode:Ile,validateArray:qh,validateStringArray:yle,validateBooleanArray:Lle,validateAbortSignalArray:wle,validateBoolean:WF,validateBuffer:Ple,validateDictionary:ble,validateEncoding:Mle,validateFunction:vle,validateInt32:Ole,validateInteger:Nle,validateNumber:mle,validateObject:Cle,validateOneOf:gle,validatePlainFunction:Ule,validatePort:xle,validateSignalName:Dle,validateString:XI,validateUint32:HF,validateUndefined:Ble,validateUnion:Fle,validateAbortSignal:YF,validateLinkHeaderValue:Hle}});var ti=g((Kxe,i1)=>{"use strict";var{SymbolAsyncIterator:VF,SymbolIterator:kF,SymbolFor:Lo}=at(),qF=Lo("nodejs.stream.destroyed"),XF=Lo("nodejs.stream.errored"),KI=Lo("nodejs.stream.readable"),zI=Lo("nodejs.stream.writable"),KF=Lo("nodejs.stream.disturbed"),Wle=Lo("nodejs.webstream.isClosedPromise"),Yle=Lo("nodejs.webstream.controllerErrorFunction");function Xh(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Kh(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function $le(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ei(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function zF(t){return!!(t&&!ei(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function jF(t){return!!(t&&!ei(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function JF(t){return!!(t&&!ei(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Vle(t){return zF(t)||jF(t)||JF(t)}function kle(t,e){return t==null?!1:e===!0?typeof t[VF]=="function":e===!1?typeof t[kF]=="function":typeof t[VF]=="function"||typeof t[kF]=="function"}function zh(t){if(!ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[qF]||n!=null&&n.destroyed)}function QF(t){if(!Kh(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function qle(t,e){if(!Kh(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Xle(t){if(!Xh(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function ZF(t,e){if(!Xh(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function e1(t){return t&&t[KI]!=null?t[KI]:typeof t?.readable!="boolean"?null:zh(t)?!1:Xh(t)&&t.readable&&!ZF(t)}function t1(t){return t&&t[zI]!=null?t[zI]:typeof t?.writable!="boolean"?null:zh(t)?!1:Kh(t)&&t.writable&&!QF(t)}function Kle(t,e){return ei(t)?zh(t)?!0:!(e?.readable!==!1&&e1(t)||e?.writable!==!1&&t1(t)):null}function zle(t){var e,r;return ei(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function jle(t){var e,r;return ei(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Jle(t){if(!ei(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&r1(t)?t._closed:null}function r1(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function n1(t){return typeof t._sent100=="boolean"&&r1(t)}function Qle(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Zle(t){if(!ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&n1(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function ece(t){var e;return!!(t&&((e=t[KF])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function tce(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[XF])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}i1.exports={isDestroyed:zh,kIsDestroyed:qF,isDisturbed:ece,kIsDisturbed:KF,isErrored:tce,kIsErrored:XF,isReadable:e1,kIsReadable:KI,kIsClosedPromise:Wle,kControllerErrorFunction:Yle,kIsWritable:zI,isClosed:Jle,isDuplexNodeStream:$le,isFinished:Kle,isIterable:kle,isReadableNodeStream:Xh,isReadableStream:zF,isReadableEnded:Xle,isReadableFinished:ZF,isReadableErrored:jle,isNodeStream:ei,isWebStream:Vle,isWritable:t1,isWritableNodeStream:Kh,isWritableStream:jF,isWritableEnded:QF,isWritableFinished:qle,isWritableErrored:zle,isServerRequest:Qle,isServerResponse:n1,willEmitClose:Zle,isTransformStream:JF}});var Yi=g((zxe,eN)=>{"use strict";var bs=qe(),{AbortError:d1,codes:rce}=Or(),{ERR_INVALID_ARG_TYPE:nce,ERR_STREAM_PREMATURE_CLOSE:s1}=rce,{kEmptyObject:JI,once:QI}=xr(),{validateAbortSignal:ice,validateFunction:sce,validateObject:oce,validateBoolean:ace}=dl(),{Promise:lce,PromisePrototypeThen:cce,SymbolDispose:h1}=at(),{isClosed:uce,isReadable:o1,isReadableNodeStream:jI,isReadableStream:Ece,isReadableFinished:a1,isReadableErrored:l1,isWritable:c1,isWritableNodeStream:u1,isWritableStream:fce,isWritableFinished:E1,isWritableErrored:f1,isNodeStream:dce,willEmitClose:hce,kIsClosedPromise:Tce}=ti(),hl;function Sce(t){return t.setHeader&&typeof t.abort=="function"}var ZI=()=>{};function T1(t,e,r){var n,i;if(arguments.length===2?(r=e,e=JI):e==null?e=JI:oce(e,"options"),sce(r,"callback"),ice(e.signal,"options.signal"),r=QI(r),Ece(t)||fce(t))return pce(t,e,r);if(!dce(t))throw new nce("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:jI(t),o=(i=e.writable)!==null&&i!==void 0?i:u1(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=hce(t)&&jI(t)===s&&u1(t)===o,E=E1(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=a1(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=O=>{r.call(t,O)},S=uce(t),p=()=>{S=!0;let O=f1(t)||l1(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&jI(t,!0)&&!a1(t,!1))return r.call(t,new s1);if(o&&!E&&!E1(t,!1))return r.call(t,new s1);r.call(t)},I=()=>{S=!0;let O=f1(t)||l1(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},R=()=>{t.req.on("finish",d)};Sce(t)?(t.on("complete",d),u||t.on("abort",p),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",p),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",p),S?bs.nextTick(p):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||bs.nextTick(I):(!s&&(!u||o1(t))&&(E||c1(t)===!1)||!o&&(!u||c1(t))&&(f||o1(t)===!1)||l&&t.req&&t.aborted)&&bs.nextTick(I);let A=()=>{r=ZI,t.removeListener("aborted",p),t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",R),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",p)};if(e.signal&&!S){let O=()=>{let L=r;A(),L.call(t,new d1(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)bs.nextTick(O);else{hl=hl||xr().addAbortListener;let L=hl(e.signal,O),N=r;r=QI((...D)=>{L[h1](),N.apply(t,D)})}}return A}function pce(t,e,r){let n=!1,i=ZI;if(e.signal)if(i=()=>{n=!0,r.call(t,new d1(void 0,{cause:e.signal.reason}))},e.signal.aborted)bs.nextTick(i);else{hl=hl||xr().addAbortListener;let o=hl(e.signal,i),a=r;r=QI((...l)=>{o[h1](),a.apply(t,l)})}let s=(...o)=>{n||bs.nextTick(()=>r.apply(t,o))};return cce(t[Tce].promise,s,s),ZI}function Rce(t,e){var r;let n=!1;return e===null&&(e=JI),(r=e)!==null&&r!==void 0&&r.cleanup&&(ace(e.cleanup,"cleanup"),n=e.cleanup),new lce((i,s)=>{let o=T1(t,e,a=>{n&&o(),a?s(a):i()})})}eN.exports=T1;eN.exports.finished=Rce});var wo=g((jxe,O1)=>{"use strict";var ri=qe(),{aggregateTwoErrors:Ace,codes:{ERR_MULTIPLE_CALLBACK:_ce},AbortError:Ice}=Or(),{Symbol:R1}=at(),{kIsDestroyed:Nce,isDestroyed:Oce,isFinished:mce,isServerRequest:gce}=ti(),A1=R1("kDestroy"),tN=R1("kConstruct");function _1(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Cce(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(_1(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?S1(this,t,e):this.once(A1,function(s){S1(this,Ace(s,t),e)}),this)}function S1(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;_1(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?ri.nextTick(bce,t,s):ri.nextTick(I1,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function bce(t,e){rN(t,e),I1(t)}function I1(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function rN(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function yce(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function nN(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?ri.nextTick(rN,t,e):rN(t,e))}function Lce(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(tN,e),!(t.listenerCount(tN)>1)&&ri.nextTick(wce,t)}function wce(t){let e=!1;function r(n){if(e){nN(t,n??new _ce);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(A1,n):n?nN(t,n,!0):ri.nextTick(Dce,t)}try{t._construct(n=>{ri.nextTick(r,n)})}catch(n){ri.nextTick(r,n)}}function Dce(t){t.emit(tN)}function p1(t){return t?.setHeader&&typeof t.abort=="function"}function N1(t){t.emit("close")}function Pce(t,e){t.emit("error",e),ri.nextTick(N1,t)}function Mce(t,e){!t||Oce(t)||(!e&&!mce(t)&&(e=new Ice),gce(t)?(t.socket=null,t.destroy(e)):p1(t)?t.abort():p1(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ri.nextTick(Pce,t,e):ri.nextTick(N1,t),t.destroyed||(t[Nce]=!0))}O1.exports={construct:Lce,destroyer:Mce,destroy:Cce,undestroy:yce,errorOrDestroy:nN}});var Qh=g((Jxe,g1)=>{"use strict";var{ArrayIsArray:xce,ObjectSetPrototypeOf:m1}=at(),{EventEmitter:jh}=require("events");function Jh(t){jh.call(this,t)}m1(Jh.prototype,jh.prototype);m1(Jh,jh);Jh.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),jh.listenerCount(this,"error")===0&&this.emit("error",u)}iN(r,"error",l),iN(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function iN(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):xce(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}g1.exports={Stream:Jh,prependListener:iN}});var Vu=g((Qxe,Zh)=>{"use strict";var{SymbolDispose:vce}=at(),{AbortError:C1,codes:Uce}=Or(),{isNodeStream:b1,isWebStream:Bce,kControllerErrorFunction:Fce}=ti(),Gce=Yi(),{ERR_INVALID_ARG_TYPE:y1}=Uce,sN,Hce=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new y1(e,"AbortSignal",t)};Zh.exports.addAbortSignal=function(e,r){if(Hce(e,"signal"),!b1(r)&&!Bce(r))throw new y1("stream",["ReadableStream","WritableStream","Stream"],r);return Zh.exports.addAbortSignalNoValidate(e,r)};Zh.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=b1(e)?()=>{e.destroy(new C1(void 0,{cause:t.reason}))}:()=>{e[Fce](new C1(void 0,{cause:t.reason}))};if(t.aborted)r();else{sN=sN||xr().addAbortListener;let n=sN(t,r);Gce(e,n[vce])}return e}});var D1=g((eve,w1)=>{"use strict";var{StringPrototypeSlice:L1,SymbolIterator:Wce,TypedArrayPrototypeSet:eT,Uint8Array:Yce}=at(),{Buffer:oN}=require("buffer"),{inspect:$ce}=xr();w1.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return oN.alloc(0);let r=oN.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)eT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Wce](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=L1(s,0,e),this.head=n,n.data=L1(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=oN.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)eT(r,o,n-e),e-=o.length;else{e===o.length?(eT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(eT(r,new Yce(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return $ce(this,{...r,depth:0,customInspect:!1})}}});var ku=g((tve,v1)=>{"use strict";var{MathFloor:Vce,NumberIsInteger:kce}=at(),{validateInteger:qce}=dl(),{ERR_INVALID_ARG_VALUE:Xce}=Or().codes,P1=16*1024,M1=16;function Kce(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function x1(t){return t?M1:P1}function zce(t,e){qce(e,"value",0),t?M1=e:P1=e}function jce(t,e,r,n){let i=Kce(e,n,r);if(i!=null){if(!kce(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Xce(s,i)}return Vce(i)}return x1(t.objectMode)}v1.exports={getHighWaterMark:jce,getDefaultHighWaterMark:x1,setDefaultHighWaterMark:zce}});var aN=g((rve,G1)=>{"use strict";var U1=qe(),{PromisePrototypeThen:Jce,SymbolAsyncIterator:B1,SymbolIterator:F1}=at(),{Buffer:Qce}=require("buffer"),{ERR_INVALID_ARG_TYPE:Zce,ERR_STREAM_NULL_VALUES:eue}=Or().codes;function tue(t,e,r){let n;if(typeof e=="string"||e instanceof Qce)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[B1])i=!0,n=e[B1]();else if(e&&e[F1])i=!1,n=e[F1]();else throw new Zce("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Jce(a(c),()=>U1.nextTick(u,c),E=>U1.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new eue;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}G1.exports=tue});var Xu=g((nve,nG)=>{"use strict";var Ln=qe(),{ArrayPrototypeIndexOf:rue,NumberIsInteger:nue,NumberIsNaN:iue,NumberParseInt:sue,ObjectDefineProperties:TN,ObjectKeys:oue,ObjectSetPrototypeOf:Y1,Promise:$1,SafeSet:aue,SymbolAsyncDispose:lue,SymbolAsyncIterator:cue,Symbol:uue}=at();nG.exports=pe;pe.ReadableState=iT;var{EventEmitter:Eue}=require("events"),{Stream:ys,prependListener:fue}=Qh(),{Buffer:lN}=require("buffer"),{addAbortSignal:due}=Vu(),V1=Yi(),we=xr().debuglog("stream",t=>{we=t}),hue=D1(),pl=wo(),{getHighWaterMark:Tue,getDefaultHighWaterMark:Sue}=ku(),{aggregateTwoErrors:H1,codes:{ERR_INVALID_ARG_TYPE:pue,ERR_METHOD_NOT_IMPLEMENTED:Rue,ERR_OUT_OF_RANGE:Aue,ERR_STREAM_PUSH_AFTER_EOF:_ue,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Iue},AbortError:Nue}=Or(),{validateObject:Oue}=dl(),Do=uue("kPaused"),{StringDecoder:k1}=lu(),mue=aN();Y1(pe.prototype,ys.prototype);Y1(pe,ys);var cN=()=>{},{errorOrDestroy:Tl}=pl,Sl=1,gue=2,q1=4,qu=8,X1=16,tT=32,rT=64,K1=128,Cue=256,bue=512,yue=1024,dN=2048,hN=4096,Lue=8192,wue=16384,Due=32768,z1=65536,Pue=1<<17,Mue=1<<18;function Ut(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}TN(iT.prototype,{objectMode:Ut(Sl),ended:Ut(gue),endEmitted:Ut(q1),reading:Ut(qu),constructed:Ut(X1),sync:Ut(tT),needReadable:Ut(rT),emittedReadable:Ut(K1),readableListening:Ut(Cue),resumeScheduled:Ut(bue),errorEmitted:Ut(yue),emitClose:Ut(dN),autoDestroy:Ut(hN),destroyed:Ut(Lue),closed:Ut(wue),closeEmitted:Ut(Due),multiAwaitDrain:Ut(z1),readingMore:Ut(Pue),dataEmitted:Ut(Mue)});function iT(t,e,r){typeof r!="boolean"&&(r=e instanceof ni()),this.state=dN|hN|X1|tT,t&&t.objectMode&&(this.state|=Sl),r&&t&&t.readableObjectMode&&(this.state|=Sl),this.highWaterMark=t?Tue(this,t,"readableHighWaterMark",r):Sue(!1),this.buffer=new hue,this.length=0,this.pipes=[],this.flowing=null,this[Do]=null,t&&t.emitClose===!1&&(this.state&=~dN),t&&t.autoDestroy===!1&&(this.state&=~hN),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new k1(t.encoding),this.encoding=t.encoding)}function pe(t){if(!(this instanceof pe))return new pe(t);let e=this instanceof ni();this._readableState=new iT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&due(t.signal,this)),ys.call(this,t),pl.construct(this,()=>{this._readableState.needReadable&&nT(this,this._readableState)})}pe.prototype.destroy=pl.destroy;pe.prototype._undestroy=pl.undestroy;pe.prototype._destroy=function(t,e){e(t)};pe.prototype[Eue.captureRejectionSymbol]=function(t){this.destroy(t)};pe.prototype[lue]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Nue,this.destroy(t)),new $1((e,r)=>V1(this,n=>n&&n!==t?r(n):e(null)))};pe.prototype.push=function(t,e){return j1(this,t,e,!1)};pe.prototype.unshift=function(t,e){return j1(this,t,e,!0)};function j1(t,e,r,n){we("readableAddChunk",e);let i=t._readableState,s;if((i.state&Sl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=lN.from(e,r).toString(i.encoding):(e=lN.from(e,r),r=""))):e instanceof lN?r="":ys._isUint8Array(e)?(e=ys._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new pue("chunk",["string","Buffer","Uint8Array"],e))),s)Tl(t,s);else if(e===null)i.state&=~qu,Uue(t,i);else if((i.state&Sl)!==0||e&&e.length>0)if(n)if((i.state&q1)!==0)Tl(t,new Iue);else{if(i.destroyed||i.errored)return!1;uN(t,i,e,!0)}else if(i.ended)Tl(t,new _ue);else{if(i.destroyed||i.errored)return!1;i.state&=~qu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?uN(t,i,e,!1):nT(t,i)):uN(t,i,e,!1)}else n||(i.state&=~qu,nT(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function uN(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&z1)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&rT)!==0&&sT(t)),nT(t,e)}pe.prototype.isPaused=function(){let t=this._readableState;return t[Do]===!0||t.flowing===!1};pe.prototype.setEncoding=function(t){let e=new k1(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var xue=1073741824;function vue(t){if(t>xue)throw new Aue("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function W1(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Sl)!==0?1:iue(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}pe.prototype.read=function(t){we("read",t),t===void 0?t=NaN:nue(t)||(t=sue(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=vue(t)),t!==0&&(e.state&=~K1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return we("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?EN(this):sT(this),null;if(t=W1(t,e),t===0&&e.ended)return e.length===0&&EN(this),null;let n=(e.state&rT)!==0;if(we("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,we("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,we("reading, ended or constructing",n);else if(n){we("do read"),e.state|=qu|tT,e.length===0&&(e.state|=rT);try{this._read(e.highWaterMark)}catch(s){Tl(this,s)}e.state&=~tT,e.reading||(t=W1(r,e))}let i;return t>0?i=tG(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&EN(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function Uue(t,e){if(we("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?sT(t):(e.needReadable=!1,e.emittedReadable=!0,J1(t))}}function sT(t){let e=t._readableState;we("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(we("emitReadable",e.flowing),e.emittedReadable=!0,Ln.nextTick(J1,t))}function J1(t){let e=t._readableState;we("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Z1(t)}function nT(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Ln.nextTick(Bue,t,e))}function Bue(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(we("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}pe.prototype._read=function(t){throw new Rue("_read()")};pe.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new aue(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),we("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Ln.stdout&&t!==Ln.stderr?a:S;n.endEmitted?Ln.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){we("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){we("onend"),t.end()}let l,c=!1;function u(){we("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(we("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(we("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Fue(r,t),t.on("drain",l))}r.on("data",d);function d(p){we("ondata");let I=t.write(p);we("dest.write",I),I===!1&&E()}function f(p){if(we("onerror",p),S(),t.removeListener("error",f),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?Tl(t,p):t.emit("error",p)}}fue(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){we("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){we("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(we("pipe resume"),r.resume()),t};function Fue(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(we("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(we("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}pe.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=rue(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};pe.prototype.on=function(t,e){let r=ys.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,we("on readable",n.length,n.reading),n.length?sT(this):n.reading||Ln.nextTick(Gue,this)),r};pe.prototype.addListener=pe.prototype.on;pe.prototype.removeListener=function(t,e){let r=ys.prototype.removeListener.call(this,t,e);return t==="readable"&&Ln.nextTick(Q1,this),r};pe.prototype.off=pe.prototype.removeListener;pe.prototype.removeAllListeners=function(t){let e=ys.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Ln.nextTick(Q1,this),e};function Q1(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Do]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Gue(t){we("readable nexttick read 0"),t.read(0)}pe.prototype.resume=function(){let t=this._readableState;return t.flowing||(we("resume"),t.flowing=!t.readableListening,Hue(this,t)),t[Do]=!1,this};function Hue(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ln.nextTick(Wue,t,e))}function Wue(t,e){we("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Z1(t),e.flowing&&!e.reading&&t.read(0)}pe.prototype.pause=function(){return we("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(we("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Do]=!0,this};function Z1(t){let e=t._readableState;for(we("flow",e.flowing);e.flowing&&t.read()!==null;);}pe.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Tl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=oue(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};pe.prototype[cue]=function(){return eG(this)};pe.prototype.iterator=function(t){return t!==void 0&&Oue(t,"options"),eG(this,t)};function eG(t,e){typeof t.read!="function"&&(t=pe.wrap(t,{objectMode:!0}));let r=Yue(t,e);return r.stream=t,r}async function*Yue(t,e){let r=cN;function n(o){this===t?(r(),r=cN):r=o}t.on("readable",n);let i,s=V1(t,{writable:!1},o=>{i=o?H1(i,o):null,r(),r=cN});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new $1(n)}}}catch(o){throw i=H1(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?pl.destroyer(t,null):(t.off("readable",n),s())}}TN(pe.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});TN(iT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Do]!==!1},set(t){this[Do]=!!t}}});pe._fromList=tG;function tG(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function EN(t){let e=t._readableState;we("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Ln.nextTick($ue,e,t))}function $ue(t,e){if(we("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Ln.nextTick(Vue,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Vue(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}pe.from=function(t,e){return mue(pe,t,e)};var fN;function rG(){return fN===void 0&&(fN={}),fN}pe.fromWeb=function(t,e){return rG().newStreamReadableFromReadableStream(t,e)};pe.toWeb=function(t,e){return rG().newReadableStreamFromStreamReadable(t,e)};pe.wrap=function(t,e){var r,n;return new pe({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){pl.destroyer(t,i),s(i)}}).wrap(t)}});var uT=g((ive,TG)=>{"use strict";var Po=qe(),{ArrayPrototypeSlice:oG,Error:kue,FunctionPrototypeSymbolHasInstance:aG,ObjectDefineProperty:lG,ObjectDefineProperties:que,ObjectSetPrototypeOf:cG,StringPrototypeToLowerCase:Xue,Symbol:Kue,SymbolHasInstance:zue}=at();TG.exports=ft;ft.WritableState=ju;var{EventEmitter:jue}=require("events"),Ku=Qh().Stream,{Buffer:oT}=require("buffer"),cT=wo(),{addAbortSignal:Jue}=Vu(),{getHighWaterMark:Que,getDefaultHighWaterMark:Zue}=ku(),{ERR_INVALID_ARG_TYPE:eEe,ERR_METHOD_NOT_IMPLEMENTED:tEe,ERR_MULTIPLE_CALLBACK:uG,ERR_STREAM_CANNOT_PIPE:rEe,ERR_STREAM_DESTROYED:zu,ERR_STREAM_ALREADY_FINISHED:nEe,ERR_STREAM_NULL_VALUES:iEe,ERR_STREAM_WRITE_AFTER_END:sEe,ERR_UNKNOWN_ENCODING:EG}=Or().codes,{errorOrDestroy:Rl}=cT;cG(ft.prototype,Ku.prototype);cG(ft,Ku);function RN(){}var Al=Kue("kOnFinished");function ju(t,e,r){typeof r!="boolean"&&(r=e instanceof ni()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Que(this,t,"writableHighWaterMark",r):Zue(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=aEe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,lT(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Al]=[]}function lT(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}ju.prototype.getBuffer=function(){return oG(this.buffered,this.bufferedIndex)};lG(ju.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ft(t){let e=this instanceof ni();if(!e&&!aG(ft,this))return new ft(t);this._writableState=new ju(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Jue(t.signal,this)),Ku.call(this,t),cT.construct(this,()=>{let r=this._writableState;r.writing||_N(this,r),IN(this,r)})}lG(ft,zue,{__proto__:null,value:function(t){return aG(this,t)?!0:this!==ft?!1:t&&t._writableState instanceof ju}});ft.prototype.pipe=function(){Rl(this,new rEe)};function fG(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!oT.isEncoding(r))throw new EG(r);typeof n!="function"&&(n=RN)}if(e===null)throw new iEe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=oT.from(e,r),r="buffer");else if(e instanceof oT)r="buffer";else if(Ku._isUint8Array(e))e=Ku._uint8ArrayToBuffer(e),r="buffer";else throw new eEe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new sEe:i.destroyed&&(s=new zu("write")),s?(Po.nextTick(n,s),Rl(t,s,!0),s):(i.pendingcb++,oEe(t,i,e,r,n))}ft.prototype.write=function(t,e,r){return fG(this,t,e,r)===!0};ft.prototype.cork=function(){this._writableState.corked++};ft.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||_N(this,t))};ft.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Xue(e)),!oT.isEncoding(e))throw new EG(e);return this._writableState.defaultEncoding=e,this};function oEe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==RN&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function iG(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new zu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function sG(t,e,r,n){--e.pendingcb,n(r),AN(e),Rl(t,r)}function aEe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Rl(t,new uG);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Po.nextTick(sG,t,r,e,i):sG(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&_N(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Po.nextTick(lEe,r.afterWriteTickInfo)):dG(t,r,1,i))}function lEe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,dG(t,e,r,n)}function dG(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&AN(e),IN(t,e)}function AN(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new zu("write"))}let r=t[Al].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new zu("end"))}lT(t)}function _N(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?RN:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:oG(r,o);l.allBuffers=e.allBuffers,iG(t,e,!0,e.length,l,"",a),lT(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;iG(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?lT(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ft.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new tEe("_write()")};ft.prototype._writev=null;ft.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=fG(this,t,e);s instanceof kue&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,IN(this,n,!0),n.ended=!0):n.finished?i=new nEe("end"):n.destroyed&&(i=new zu("end"))),typeof r=="function"&&(i||n.finished?Po.nextTick(r,i):n[Al].push(r)),this};function aT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function cEe(t,e){let r=!1;function n(i){if(r){Rl(t,i??uG());return}if(r=!0,e.pendingcb--,i){let s=e[Al].splice(0);for(let o=0;o<s.length;o++)s[o](i);Rl(t,i,e.sync)}else aT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Po.nextTick(pN,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function uEe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,cEe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function IN(t,e,r){aT(e)&&(uEe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Po.nextTick((n,i)=>{aT(i)?pN(n,i):i.pendingcb--},t,e)):aT(e)&&(e.pendingcb++,pN(t,e))))}function pN(t,e){e.pendingcb--,e.finished=!0;let r=e[Al].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}que(ft.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var EEe=cT.destroy;ft.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Al].length)&&Po.nextTick(AN,r),EEe.call(this,t,e),this};ft.prototype._undestroy=cT.undestroy;ft.prototype._destroy=function(t,e){e(t)};ft.prototype[jue.captureRejectionSymbol]=function(t){this.destroy(t)};var SN;function hG(){return SN===void 0&&(SN={}),SN}ft.fromWeb=function(t,e){return hG().newStreamWritableFromWritableStream(t,e)};ft.toWeb=function(t){return hG().newWritableStreamFromStreamWritable(t)}});var wG=g((sve,LG)=>{var NN=qe(),fEe=require("buffer"),{isReadable:dEe,isWritable:hEe,isIterable:SG,isNodeStream:TEe,isReadableNodeStream:pG,isWritableNodeStream:RG,isDuplexNodeStream:SEe,isReadableStream:AG,isWritableStream:_G}=ti(),IG=Yi(),{AbortError:bG,codes:{ERR_INVALID_ARG_TYPE:pEe,ERR_INVALID_RETURN_VALUE:NG}}=Or(),{destroyer:Il}=wo(),REe=ni(),yG=Xu(),AEe=uT(),{createDeferredPromise:OG}=xr(),mG=aN(),gG=globalThis.Blob||fEe.Blob,_Ee=typeof gG<"u"?function(e){return e instanceof gG}:function(e){return!1},IEe=globalThis.AbortController||gt().AbortController,{FunctionPrototypeCall:CG}=at(),Ls=class extends REe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};LG.exports=function t(e,r){if(SEe(e))return e;if(pG(e))return _l({readable:e});if(RG(e))return _l({writable:e});if(TEe(e))return _l({writable:!1,readable:!1});if(AG(e))return _l({readable:yG.fromWeb(e)});if(_G(e))return _l({writable:AEe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=NEe(e);if(SG(i))return mG(Ls,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=CG(l,i,E=>{if(E!=null)throw new NG("nully","body",E)},E=>{Il(c,E)});return c=new Ls({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,NN.nextTick(E,null)}catch(d){NN.nextTick(E,d)}})},destroy:a})}throw new NG("Iterable, AsyncIterable or AsyncFunction",r,i)}if(_Ee(e))return t(e.arrayBuffer());if(SG(e))return mG(Ls,e,{objectMode:!0,writable:!1});if(AG(e?.readable)&&_G(e?.writable))return Ls.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?pG(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?RG(e?.writable)?e?.writable:t(e.writable):void 0;return _l({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return CG(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Il(i,s)}),i=new Ls({objectMode:!0,writable:!1,read(){}})}throw new pEe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function NEe(t){let{promise:e,resolve:r}=OG(),n=new IEe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(NN.nextTick(c),l)return;if(i.aborted)throw new bG(void 0,{cause:i.reason});({promise:e,resolve:r}=OG()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function _l(t){let e=t.readable&&typeof t.readable.read!="function"?yG.wrap(t.readable):t.readable,r=t.writable,n=!!dEe(e),i=!!hEe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new Ls({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(IG(r,E=>{i=!1,E&&Il(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(IG(e,E=>{n=!1,E&&Il(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new bG),a=null,s=null,o=null,l===null?d(E):(l=d,Il(r,E),Il(e,E))},c}});var ni=g((ove,MG)=>{"use strict";var{ObjectDefineProperties:OEe,ObjectGetOwnPropertyDescriptor:$i,ObjectKeys:mEe,ObjectSetPrototypeOf:DG}=at();MG.exports=wn;var gN=Xu(),fn=uT();DG(wn.prototype,gN.prototype);DG(wn,gN);{let t=mEe(fn.prototype);for(let e=0;e<t.length;e++){let r=t[e];wn.prototype[r]||(wn.prototype[r]=fn.prototype[r])}}function wn(t){if(!(this instanceof wn))return new wn(t);gN.call(this,t),fn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}OEe(wn.prototype,{writable:{__proto__:null,...$i(fn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...$i(fn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...$i(fn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...$i(fn.prototype,"writableBuffer")},writableLength:{__proto__:null,...$i(fn.prototype,"writableLength")},writableFinished:{__proto__:null,...$i(fn.prototype,"writableFinished")},writableCorked:{__proto__:null,...$i(fn.prototype,"writableCorked")},writableEnded:{__proto__:null,...$i(fn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...$i(fn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var ON;function PG(){return ON===void 0&&(ON={}),ON}wn.fromWeb=function(t,e){return PG().newStreamDuplexFromReadableWritablePair(t,e)};wn.toWeb=function(t){return PG().newReadableWritablePairFromDuplex(t)};var mN;wn.from=function(t){return mN||(mN=wG()),mN(t,"body")}});var yN=g((ave,vG)=>{"use strict";var{ObjectSetPrototypeOf:xG,Symbol:gEe}=at();vG.exports=Vi;var{ERR_METHOD_NOT_IMPLEMENTED:CEe}=Or().codes,bN=ni(),{getHighWaterMark:bEe}=ku();xG(Vi.prototype,bN.prototype);xG(Vi,bN);var Ju=gEe("kCallback");function Vi(t){if(!(this instanceof Vi))return new Vi(t);let e=t?bEe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),bN.call(this,t),this._readableState.sync=!1,this[Ju]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",yEe)}function CN(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function yEe(){this._final!==CN&&CN.call(this)}Vi.prototype._final=CN;Vi.prototype._transform=function(t,e,r){throw new CEe("_transform()")};Vi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Ju]=r})};Vi.prototype._read=function(){if(this[Ju]){let t=this[Ju];this[Ju]=null,t()}}});var wN=g((lve,BG)=>{"use strict";var{ObjectSetPrototypeOf:UG}=at();BG.exports=Nl;var LN=yN();UG(Nl.prototype,LN.prototype);UG(Nl,LN);function Nl(t){if(!(this instanceof Nl))return new Nl(t);LN.call(this,t)}Nl.prototype._transform=function(t,e,r){r(null,t)}});var hT=g((cve,YG)=>{var Qu=qe(),{ArrayIsArray:LEe,Promise:wEe,SymbolAsyncIterator:DEe,SymbolDispose:PEe}=at(),dT=Yi(),{once:MEe}=xr(),xEe=wo(),FG=ni(),{aggregateTwoErrors:vEe,codes:{ERR_INVALID_ARG_TYPE:GN,ERR_INVALID_RETURN_VALUE:DN,ERR_MISSING_ARGS:UEe,ERR_STREAM_DESTROYED:BEe,ERR_STREAM_PREMATURE_CLOSE:FEe},AbortError:GEe}=Or(),{validateFunction:HEe,validateAbortSignal:WEe}=dl(),{isIterable:Mo,isReadable:PN,isReadableNodeStream:fT,isNodeStream:GG,isTransformStream:Ol,isWebStream:YEe,isReadableStream:MN,isReadableFinished:$Ee}=ti(),VEe=globalThis.AbortController||gt().AbortController,xN,vN,UN;function HG(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=dT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,xEe.destroyer(t,s||new BEe("pipe")))},cleanup:i}}function kEe(t){return HEe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function BN(t){if(Mo(t))return t;if(fT(t))return qEe(t);throw new GN("val",["Readable","Iterable","AsyncIterable"],t)}async function*qEe(t){vN||(vN=Xu()),yield*vN.prototype[DEe].call(t)}async function ET(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new wEe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=dT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?vEe(i,c):c)}finally{l(),e.off("drain",o)}}async function FN(t,e,r,{end:n}){Ol(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function XEe(...t){return WG(t,MEe(kEe(t)))}function WG(t,e,r){if(t.length===1&&LEe(t[0])&&(t=t[0]),t.length<2)throw new UEe("streams");let n=new VEe,i=n.signal,s=r?.signal,o=[];WEe(s,"options.signal");function a(){T(new GEe)}UN=UN||xr().addAbortListener;let l;s&&(l=UN(s,a));let c,u,E=[],d=0;function f(R){T(R,--d===0)}function T(R,A){var O;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[PEe](),n.abort(),A&&(c||o.forEach(L=>L()),Qu.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],O=R<t.length-1,L=R>0,N=O||r?.end!==!1,D=R===t.length-1;if(GG(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var I=y;if(N){let{destroy:P,cleanup:x}=HG(A,O,L);E.push(P),PN(A)&&D&&o.push(x)}A.on("error",y),PN(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!Mo(h))throw new DN("Iterable, AsyncIterable or Stream","source",h)}else Mo(A)||fT(A)||Ol(A)?h=A:h=FG.from(A);else if(typeof A=="function"){if(Ol(h)){var S;h=BN((S=h)===null||S===void 0?void 0:S.readable)}else h=BN(h);if(h=A(h,{signal:i}),O){if(!Mo(h,!0))throw new DN("AsyncIterable",`transform[${R-1}]`,h)}else{var p;xN||(xN=wN());let y=new xN({objectMode:!0}),P=(p=h)===null||p===void 0?void 0:p.then;if(typeof P=="function")d++,P.call(h,G=>{u=G,G!=null&&y.write(G),N&&y.end(),Qu.nextTick(f)},G=>{y.destroy(G),Qu.nextTick(f,G)});else if(Mo(h,!0))d++,ET(h,y,f,{end:N});else if(MN(h)||Ol(h)){let G=h.readable||h;d++,ET(G,y,f,{end:N})}else throw new DN("AsyncIterable or Promise","destination",h);h=y;let{destroy:x,cleanup:B}=HG(h,!1,!0);E.push(x),D&&o.push(B)}}else if(GG(A)){if(fT(h)){d+=2;let y=KEe(h,A,f,{end:N});PN(A)&&D&&o.push(y)}else if(Ol(h)||MN(h)){let y=h.readable||h;d++,ET(y,A,f,{end:N})}else if(Mo(h))d++,ET(h,A,f,{end:N});else throw new GN("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(YEe(A)){if(fT(h))d++,FN(BN(h),A,f,{end:N});else if(MN(h)||Mo(h))d++,FN(h,A,f,{end:N});else if(Ol(h))d++,FN(h.readable,A,f,{end:N});else throw new GN("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=FG.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Qu.nextTick(a),h}function KEe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new FEe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;$Ee(t)?Qu.nextTick(o):t.once("end",o)}else r();return dT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),dT(e,{readable:!1,writable:!0},r)}YG.exports={pipelineImpl:WG,pipeline:XEe}});var WN=g((uve,KG)=>{"use strict";var{pipeline:zEe}=hT(),TT=ni(),{destroyer:jEe}=wo(),{isNodeStream:ST,isReadable:$G,isWritable:VG,isWebStream:HN,isTransformStream:xo,isWritableStream:kG,isReadableStream:qG}=ti(),{AbortError:JEe,codes:{ERR_INVALID_ARG_VALUE:XG,ERR_MISSING_ARGS:QEe}}=Or(),ZEe=Yi();KG.exports=function(...e){if(e.length===0)throw new QEe("streams");if(e.length===1)return TT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=TT.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=TT.from(e[f])}for(let f=0;f<e.length;++f)if(!(!ST(e[f])&&!HN(e[f]))){if(f<e.length-1&&!($G(e[f])||qG(e[f])||xo(e[f])))throw new XG(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(VG(e[f])||kG(e[f])||xo(e[f])))throw new XG(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=zEe(e,l),E=!!(VG(c)||kG(c)||xo(c)),d=!!($G(u)||qG(u)||xo(u));if(a=new TT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(ST(c))a._write=function(T,h,S){c.write(T,h)?S():n=S},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(HN(c)){let h=(xo(c)?c.writable:c).getWriter();a._write=async function(S,p,I){try{await h.ready,h.write(S).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(S){try{await h.ready,h.close().catch(()=>{}),i=S}catch(p){S(p)}}}let f=xo(u)?u.readable:u;ZEe(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(ST(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(HN(u)){let T=(xo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:S}=await T.read();if(!a.push(h))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new JEe),s=null,n=null,i=null,o===null?T(f):(o=T,ST(u)&&jEe(u,f))},a}});var iH=g((Eve,VN)=>{"use strict";var efe=globalThis.AbortController||gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:tfe,ERR_INVALID_ARG_TYPE:Zu,ERR_MISSING_ARGS:rfe,ERR_OUT_OF_RANGE:nfe},AbortError:ii}=Or(),{validateAbortSignal:vo,validateInteger:zG,validateObject:Uo}=dl(),ife=at().Symbol("kWeak"),sfe=at().Symbol("kResistStopPropagation"),{finished:ofe}=Yi(),afe=WN(),{addAbortSignalNoValidate:lfe}=Vu(),{isWritable:cfe,isNodeStream:ufe}=ti(),{deprecate:Efe}=xr(),{ArrayPrototypePush:ffe,Boolean:dfe,MathFloor:jG,Number:hfe,NumberIsNaN:Tfe,Promise:JG,PromiseReject:QG,PromiseResolve:Sfe,PromisePrototypeThen:ZG,Symbol:tH}=at(),pT=tH("kEmpty"),eH=tH("kEof");function pfe(t,e){if(e!=null&&Uo(e,"options"),e?.signal!=null&&vo(e.signal,"options.signal"),ufe(t)&&!cfe(t))throw new tfe("stream",t,"must be writable");let r=afe(this,t);return e!=null&&e.signal&&lfe(e.signal,r),r}function RT(t,e){if(typeof t!="function")throw new Zu("fn",["Function","AsyncFunction"],t);e!=null&&Uo(e,"options"),e?.signal!=null&&vo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=jG(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=jG(e.highWaterMark)),zG(r,"options.concurrency",1),zG(n,"options.highWaterMark",0),n+=r,async function*(){let s=xr().AbortSignalAny([e?.signal].filter(dfe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let p of o){if(E)return;if(s.aborted)throw new ii;try{if(p=t(p,l),p===pT)continue;p=Sfe(p)}catch(I){p=QG(I)}d+=1,ZG(p,T,f),a.push(p),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new JG(I=>{u=I})}a.push(eH)}catch(p){let I=QG(p);ZG(I,T,f),a.push(I)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let p=await a[0];if(p===eH)return;if(s.aborted)throw new ii;p!==pT&&(yield p),a.shift(),h()}await new JG(p=>{c=p})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function Rfe(t=void 0){return t!=null&&Uo(t,"options"),t?.signal!=null&&vo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ii({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function rH(t,e=void 0){for await(let r of $N.call(this,t,e))return!0;return!1}async function Afe(t,e=void 0){if(typeof t!="function")throw new Zu("fn",["Function","AsyncFunction"],t);return!await rH.call(this,async(...r)=>!await t(...r),e)}async function _fe(t,e){for await(let r of $N.call(this,t,e))return r}async function Ife(t,e){if(typeof t!="function")throw new Zu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),pT}for await(let n of RT.call(this,r,e));}function $N(t,e){if(typeof t!="function")throw new Zu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:pT}return RT.call(this,r,e)}var YN=class extends rfe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Nfe(t,e,r){var n;if(typeof t!="function")throw new Zu("reducer",["Function","AsyncFunction"],t);r!=null&&Uo(r,"options"),r?.signal!=null&&vo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new ii(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await ofe(this.destroy(c)),c}let s=new efe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[ife]:this,[sfe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new ii;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new YN}finally{s.abort()}return e}async function Ofe(t){t!=null&&Uo(t,"options"),t?.signal!=null&&vo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new ii(void 0,{cause:t.signal.reason});ffe(e,n)}return e}function mfe(t,e){let r=RT.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function nH(t){if(t=hfe(t),Tfe(t))return 0;if(t<0)throw new nfe("number",">= 0",t);return t}function gfe(t,e=void 0){return e!=null&&Uo(e,"options"),e?.signal!=null&&vo(e.signal,"options.signal"),t=nH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ii;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ii;t--<=0&&(yield s)}}.call(this)}function Cfe(t,e=void 0){return e!=null&&Uo(e,"options"),e?.signal!=null&&vo(e.signal,"options.signal"),t=nH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ii;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ii;if(t-- >0&&(yield s),t<=0)return}}.call(this)}VN.exports.streamReturningOperators={asIndexedPairs:Efe(Rfe,"readable.asIndexedPairs will be removed in a future version."),drop:gfe,filter:$N,flatMap:mfe,map:RT,take:Cfe,compose:pfe};VN.exports.promiseReturningOperators={every:Afe,forEach:Ife,reduce:Nfe,toArray:Ofe,some:rH,find:_fe}});var kN=g((fve,sH)=>{"use strict";var{ArrayPrototypePop:bfe,Promise:yfe}=at(),{isIterable:Lfe,isNodeStream:wfe,isWebStream:Dfe}=ti(),{pipelineImpl:Pfe}=hT(),{finished:Mfe}=Yi();qN();function xfe(...t){return new yfe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!wfe(s)&&!Lfe(s)&&!Dfe(s)){let o=bfe(t);n=o.signal,i=o.end}Pfe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}sH.exports={finished:Mfe,pipeline:xfe}});var qN=g((dve,hH)=>{"use strict";var{Buffer:vfe}=require("buffer"),{ObjectDefineProperty:ki,ObjectKeys:lH,ReflectApply:cH}=at(),{promisify:{custom:uH}}=xr(),{streamReturningOperators:oH,promiseReturningOperators:aH}=iH(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:EH}}=Or(),Ufe=WN(),{setDefaultHighWaterMark:Bfe,getDefaultHighWaterMark:Ffe}=ku(),{pipeline:fH}=hT(),{destroyer:Gfe}=wo(),dH=Yi(),XN=kN(),eE=ti(),tt=hH.exports=Qh().Stream;tt.isDestroyed=eE.isDestroyed;tt.isDisturbed=eE.isDisturbed;tt.isErrored=eE.isErrored;tt.isReadable=eE.isReadable;tt.isWritable=eE.isWritable;tt.Readable=Xu();for(let t of lH(oH)){let r=function(...n){if(new.target)throw EH();return tt.Readable.from(cH(e,this,n))},e=oH[t];ki(r,"name",{__proto__:null,value:e.name}),ki(r,"length",{__proto__:null,value:e.length}),ki(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of lH(aH)){let r=function(...n){if(new.target)throw EH();return cH(e,this,n)},e=aH[t];ki(r,"name",{__proto__:null,value:e.name}),ki(r,"length",{__proto__:null,value:e.length}),ki(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}tt.Writable=uT();tt.Duplex=ni();tt.Transform=yN();tt.PassThrough=wN();tt.pipeline=fH;var{addAbortSignal:Hfe}=Vu();tt.addAbortSignal=Hfe;tt.finished=dH;tt.destroy=Gfe;tt.compose=Ufe;tt.setDefaultHighWaterMark=Bfe;tt.getDefaultHighWaterMark=Ffe;ki(tt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return XN}});ki(fH,uH,{__proto__:null,enumerable:!0,get(){return XN.pipeline}});ki(dH,uH,{__proto__:null,enumerable:!0,get(){return XN.finished}});tt.Stream=tt;tt._isUint8Array=function(e){return e instanceof Uint8Array};tt._uint8ArrayToBuffer=function(e){return vfe.from(e.buffer,e.byteOffset,e.byteLength)}});var KN=g((hve,ge)=>{"use strict";var Bt=require("stream");if(Bt&&process.env.READABLE_STREAM==="disable"){let t=Bt.promises;ge.exports._uint8ArrayToBuffer=Bt._uint8ArrayToBuffer,ge.exports._isUint8Array=Bt._isUint8Array,ge.exports.isDisturbed=Bt.isDisturbed,ge.exports.isErrored=Bt.isErrored,ge.exports.isReadable=Bt.isReadable,ge.exports.Readable=Bt.Readable,ge.exports.Writable=Bt.Writable,ge.exports.Duplex=Bt.Duplex,ge.exports.Transform=Bt.Transform,ge.exports.PassThrough=Bt.PassThrough,ge.exports.addAbortSignal=Bt.addAbortSignal,ge.exports.finished=Bt.finished,ge.exports.destroy=Bt.destroy,ge.exports.pipeline=Bt.pipeline,ge.exports.compose=Bt.compose,Object.defineProperty(Bt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),ge.exports.Stream=Bt.Stream}else{let t=qN(),e=kN(),r=t.Readable.destroy;ge.exports=t.Readable,ge.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,ge.exports._isUint8Array=t._isUint8Array,ge.exports.isDisturbed=t.isDisturbed,ge.exports.isErrored=t.isErrored,ge.exports.isReadable=t.isReadable,ge.exports.Readable=t.Readable,ge.exports.Writable=t.Writable,ge.exports.Duplex=t.Duplex,ge.exports.Transform=t.Transform,ge.exports.PassThrough=t.PassThrough,ge.exports.addAbortSignal=t.addAbortSignal,ge.exports.finished=t.finished,ge.exports.destroy=t.destroy,ge.exports.destroy=r,ge.exports.pipeline=t.pipeline,ge.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),ge.exports.Stream=t.Stream}ge.exports.default=ge.exports});var AH=g((Tve,RH)=>{var JN=require("fs"),SH=SL(),TH=RL(),zN=require("path"),si=El(),Wfe=require("util").inherits,_t=CF(),pH=KN().Transform,jN=process.platform==="win32",Ye=function(t,e){if(!(this instanceof Ye))return new Ye(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=si.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),pH.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=TH.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=TH.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};Wfe(Ye,pH);Ye.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};Ye.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof JN.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};Ye.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};Ye.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};Ye.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};Ye.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new _t("NOENDMETHOD"))};Ye.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};Ye.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};Ye.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};Ye.prototype._normalizeEntryData=function(t,e){t=si.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=si.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?jN?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(jN?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,jN&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=si.dateify(t.date),t};Ye.prototype._onModuleError=function(t){this.emit("error",t)};Ye.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};Ye.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};Ye.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}JN.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};Ye.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};Ye.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};Ye.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=si.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=si.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=si.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=JN.readlinkSync(t.filepath),n=zN.dirname(t.filepath);t.data.type="symlink",t.data.linkname=zN.relative(n,zN.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new _t("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new _t("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new _t("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};Ye.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};Ye.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new _t("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new _t("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new _t("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=si.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(si.isStream(t))e.sourceType="stream";else return this.emit("error",new _t("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};Ye.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new _t("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new _t("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function o(c){this.emit("error",c)}function a(c){l.pause();var u=!1,E=Object.assign({},r);E.name=c.relative,E.prefix=e,E.stats=c.stat,E.callback=l.resume.bind(l);try{if(n){if(E=n(E),E===!1)u=!0;else if(typeof E!="object")throw new _t("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(d){this.emit("error",d);return}if(u){l.resume();return}this._append(c.absolute,E)}var l=SH(t,i);return l.on("error",o.bind(this)),l.on("match",a.bind(this)),l.on("end",s.bind(this)),this};Ye.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new _t("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new _t("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};Ye.prototype.glob=function(t,e,r){this._pending++,e=si.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(a){this.emit("error",a)}function s(a){o.pause();var l=Object.assign({},r);l.callback=o.resume.bind(o),l.stats=a.stat,l.name=a.relative,this._append(a.absolute,l)}var o=SH(e.cwd||".",e);return o.on("error",i.bind(this)),o.on("match",s.bind(this)),o.on("end",n.bind(this)),this};Ye.prototype.finalize=function(){if(this._state.aborted){var t=new _t("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new _t("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(o){s=!0,i(o)})})};Ye.prototype.setFormat=function(t){return this._format?(this.emit("error",new _t("FORMATSET")),this):(this._format=t,this)};Ye.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new _t("ABORTED")),this):this._state.module?(this.emit("error",new _t("MODULESET")),this):(this._module=t,this._modulePipe(),this)};Ye.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new _t("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new _t("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new _t("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new _t("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};Ye.prototype.pointer=function(){return this._pointer};Ye.prototype.use=function(t){return this._streams.push(t),this};RH.exports=Ye});var _T=g((Sve,_H)=>{var AT=_H.exports=function(){};AT.prototype.getName=function(){};AT.prototype.getSize=function(){};AT.prototype.getLastModifiedDate=function(){};AT.prototype.isDirectory=function(){}});var IT=g((pve,IH)=>{var dn=IH.exports={};dn.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};dn.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};dn.fromDosTime=function(t){return dn.dosToDate(t.readUInt32LE(0))};dn.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};dn.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};dn.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};dn.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};dn.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};dn.toDosTime=function(t){return dn.getLongBytes(dn.dateToDos(t))}});var QN=g((Rve,bH)=>{var NH=IT(),OH=8,mH=1,Yfe=4,$fe=2,gH=64,CH=2048,dr=bH.exports=function(){return this instanceof dr?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new dr};dr.prototype.encode=function(){return NH.getShortBytes((this.descriptor?OH:0)|(this.utf8?CH:0)|(this.encryption?mH:0)|(this.strongEncryption?gH:0))};dr.prototype.parse=function(t,e){var r=NH.getShortBytesValue(t,e),n=new dr;return n.useDataDescriptor((r&OH)!==0),n.useUTF8ForNames((r&CH)!==0),n.useStrongEncryption((r&gH)!==0),n.useEncryption((r&mH)!==0),n.setSlidingDictionarySize((r&$fe)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&Yfe)!==0?3:2),n};dr.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};dr.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};dr.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};dr.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};dr.prototype.useDataDescriptor=function(t){this.descriptor=t};dr.prototype.usesDataDescriptor=function(){return this.descriptor};dr.prototype.useEncryption=function(t){this.encryption=t};dr.prototype.usesEncryption=function(){return this.encryption};dr.prototype.useStrongEncryption=function(t){this.strongEncryption=t};dr.prototype.usesStrongEncryption=function(){return this.strongEncryption};dr.prototype.useUTF8ForNames=function(t){this.utf8=t};dr.prototype.usesUTF8ForNames=function(){return this.utf8}});var LH=g((Ave,yH)=>{yH.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var ZN=g((_ve,wH)=>{wH.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var eO=g((Ive,vH)=>{var Vfe=require("util").inherits,kfe=AA(),PH=_T(),MH=QN(),DH=LH(),vr=ZN(),xH=IT(),Ne=vH.exports=function(t){if(!(this instanceof Ne))return new Ne(t);PH.call(this),this.platform=vr.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new MH,this.crc=0,this.time=-1,this.minver=vr.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};Vfe(Ne,PH);Ne.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};Ne.prototype.getComment=function(){return this.comment!==null?this.comment:""};Ne.prototype.getCompressedSize=function(){return this.csize};Ne.prototype.getCrc=function(){return this.crc};Ne.prototype.getExternalAttributes=function(){return this.exattr};Ne.prototype.getExtra=function(){return this.extra!==null?this.extra:vr.EMPTY};Ne.prototype.getGeneralPurposeBit=function(){return this.gpb};Ne.prototype.getInternalAttributes=function(){return this.inattr};Ne.prototype.getLastModifiedDate=function(){return this.getTime()};Ne.prototype.getLocalFileDataExtra=function(){return this.getExtra()};Ne.prototype.getMethod=function(){return this.method};Ne.prototype.getName=function(){return this.name};Ne.prototype.getPlatform=function(){return this.platform};Ne.prototype.getSize=function(){return this.size};Ne.prototype.getTime=function(){return this.time!==-1?xH.dosToDate(this.time):-1};Ne.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};Ne.prototype.getUnixMode=function(){return this.platform!==vr.PLATFORM_UNIX?0:this.getExternalAttributes()>>vr.SHORT_SHIFT&vr.SHORT_MASK};Ne.prototype.getVersionNeededToExtract=function(){return this.minver};Ne.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};Ne.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};Ne.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};Ne.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};Ne.prototype.setExtra=function(t){this.extra=t};Ne.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof MH))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};Ne.prototype.setInternalAttributes=function(t){this.inattr=t};Ne.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};Ne.prototype.setName=function(t,e=!1){t=kfe(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};Ne.prototype.setPlatform=function(t){this.platform=t};Ne.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};Ne.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=xH.dateToDos(t,e)};Ne.prototype.setUnixMode=function(t){t|=this.isDirectory()?vr.S_IFDIR:vr.S_IFREG;var e=0;e|=t<<vr.SHORT_SHIFT|(this.isDirectory()?vr.S_DOS_D:vr.S_DOS_A),this.setExternalAttributes(e),this.mode=t&vr.MODE_MASK,this.platform=vr.PLATFORM_UNIX};Ne.prototype.setVersionNeededToExtract=function(t){this.minver=t};Ne.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};Ne.prototype.isUnixSymlink=function(){return(this.getUnixMode()&DH.FILE_TYPE_FLAG)===DH.LINK_FLAG};Ne.prototype.isZip64=function(){return this.csize>vr.ZIP64_MAGIC||this.size>vr.ZIP64_MAGIC}});var lt=g((Nve,UH)=>{"use strict";var tO=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};UH.exports={AggregateError:tO,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var rO=g((Ove,BH)=>{"use strict";BH.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var gr=g((mve,HH)=>{"use strict";var{format:qfe,inspect:NT}=rO(),{AggregateError:Xfe}=lt(),Kfe=globalThis.AggregateError||Xfe,zfe=Symbol("kIsNodeError"),jfe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Jfe=/^([A-Z][a-z0-9]*)+$/,Qfe="__node_internal_",OT={};function Bo(t,e){if(!t)throw new OT.ERR_INTERNAL_ASSERTION(e)}function FH(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Zfe(t,e,r){if(typeof e=="function")return Bo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Bo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:qfe(e,...r)}function hr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Zfe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[zfe]=!0,OT[t]=n}function GH(t){let e=Qfe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function ede(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Kfe([e,t],e.message);return r.code=e.code,r}return t||e}var nO=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new OT.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};hr("ERR_ASSERTION","%s",Error);hr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Bo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Bo(typeof l=="string","All expected entries have to be of type string"),jfe.includes(l)?i.push(l.toLowerCase()):Jfe.test(l)?s.push(l):(Bo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=NT(r,{depth:-1});n+=`. Received ${l}`}}else{let l=NT(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);hr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=NT(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);hr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);hr("ERR_MISSING_ARGS",(...t)=>{Bo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);hr("ERR_OUT_OF_RANGE",(t,e,r)=>{Bo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=FH(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=FH(n)),n+="n"}else n=NT(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);hr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);hr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);hr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);hr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);hr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);hr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);hr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);hr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);hr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);hr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);hr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);HH.exports={AbortError:nO,aggregateTwoErrors:GH(ede),hideStackFrames:GH,codes:OT}});var Ur=g((gve,sO)=>{"use strict";var tde=require("buffer"),{format:rde,inspect:nde}=rO(),{codes:{ERR_INVALID_ARG_TYPE:iO}}=gr(),{kResistStopPropagation:ide,AggregateError:sde,SymbolDispose:ode}=lt(),ade=globalThis.AbortSignal||gt().AbortSignal,lde=globalThis.AbortController||gt().AbortController,cde=Object.getPrototypeOf(async function(){}).constructor,WH=globalThis.Blob||tde.Blob,ude=typeof WH<"u"?function(e){return e instanceof WH}:function(e){return!1},YH=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new iO(e,"AbortSignal",t)},Ede=(t,e)=>{if(typeof t!="function")throw new iO(e,"Function",t)};sO.exports={AggregateError:sde,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:rde,inspect:nde,types:{isAsyncFunction(t){return t instanceof cde},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:ude,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new iO("signal","AbortSignal",e);YH(e,"signal"),Ede(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[ide]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[ode](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:ade.any||function(e){if(e.length===1)return e[0];let r=new lde,n=()=>r.abort();return e.forEach(i=>{YH(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};sO.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var gl=g((Cve,QH)=>{"use strict";var{ArrayIsArray:aO,ArrayPrototypeIncludes:qH,ArrayPrototypeJoin:XH,ArrayPrototypeMap:fde,NumberIsInteger:lO,NumberIsNaN:dde,NumberMAX_SAFE_INTEGER:hde,NumberMIN_SAFE_INTEGER:Tde,NumberParseInt:Sde,ObjectPrototypeHasOwnProperty:pde,RegExpPrototypeExec:KH,String:Rde,StringPrototypeToUpperCase:Ade,StringPrototypeTrim:_de}=lt(),{hideStackFrames:hn,codes:{ERR_SOCKET_BAD_PORT:Ide,ERR_INVALID_ARG_TYPE:Cr,ERR_INVALID_ARG_VALUE:ml,ERR_OUT_OF_RANGE:Fo,ERR_UNKNOWN_SIGNAL:$H}}=gr(),{normalizeEncoding:Nde}=Ur(),{isAsyncFunction:Ode,isArrayBufferView:mde}=Ur().types,VH={};function gde(t){return t===(t|0)}function Cde(t){return t===t>>>0}var bde=/^[0-7]+$/,yde="must be a 32-bit unsigned integer or an octal string";function Lde(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(KH(bde,t)===null)throw new ml(e,t,yde);t=Sde(t,8)}return zH(t,e),t}var wde=hn((t,e,r=Tde,n=hde)=>{if(typeof t!="number")throw new Cr(e,"number",t);if(!lO(t))throw new Fo(e,"an integer",t);if(t<r||t>n)throw new Fo(e,`>= ${r} && <= ${n}`,t)}),Dde=hn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Cr(e,"number",t);if(!lO(t))throw new Fo(e,"an integer",t);if(t<r||t>n)throw new Fo(e,`>= ${r} && <= ${n}`,t)}),zH=hn((t,e,r=!1)=>{if(typeof t!="number")throw new Cr(e,"number",t);if(!lO(t))throw new Fo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Fo(e,`>= ${n} && <= ${i}`,t)});function cO(t,e){if(typeof t!="string")throw new Cr(e,"string",t)}function Pde(t,e,r=void 0,n){if(typeof t!="number")throw new Cr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&dde(t))throw new Fo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Mde=hn((t,e,r)=>{if(!qH(r,t)){let i="must be one of: "+XH(fde(r,s=>typeof s=="string"?`'${s}'`:Rde(s)),", ");throw new ml(e,t,i)}});function jH(t,e){if(typeof t!="boolean")throw new Cr(e,"boolean",t)}function oO(t,e,r){return t==null||!pde(t,e)?r:t[e]}var xde=hn((t,e,r=null)=>{let n=oO(r,"allowArray",!1),i=oO(r,"allowFunction",!1);if(!oO(r,"nullable",!1)&&t===null||!n&&aO(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Cr(e,"Object",t)}),vde=hn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Cr(e,"a dictionary",t)}),mT=hn((t,e,r=0)=>{if(!aO(t))throw new Cr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new ml(e,t,n)}});function Ude(t,e){mT(t,e);for(let r=0;r<t.length;r++)cO(t[r],`${e}[${r}]`)}function Bde(t,e){mT(t,e);for(let r=0;r<t.length;r++)jH(t[r],`${e}[${r}]`)}function Fde(t,e){mT(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Cr(i,"AbortSignal",n);JH(n,i)}}function Gde(t,e="signal"){if(cO(t,e),VH[t]===void 0)throw VH[Ade(t)]!==void 0?new $H(t+" (signals must use all capital letters)"):new $H(t)}var Hde=hn((t,e="buffer")=>{if(!mde(t))throw new Cr(e,["Buffer","TypedArray","DataView"],t)});function Wde(t,e){let r=Nde(e),n=t.length;if(r==="hex"&&n%2!==0)throw new ml("encoding",e,`is invalid for data of length ${n}`)}function Yde(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&_de(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Ide(e,t,r);return t|0}var JH=hn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Cr(e,"AbortSignal",t)}),$de=hn((t,e)=>{if(typeof t!="function")throw new Cr(e,"Function",t)}),Vde=hn((t,e)=>{if(typeof t!="function"||Ode(t))throw new Cr(e,"Function",t)}),kde=hn((t,e)=>{if(t!==void 0)throw new Cr(e,"undefined",t)});function qde(t,e,r){if(!qH(r,t))throw new Cr(e,`('${XH(r,"|")}')`,t)}var Xde=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function kH(t,e){if(typeof t>"u"||!KH(Xde,t))throw new ml(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Kde(t){if(typeof t=="string")return kH(t,"hints"),t;if(aO(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];kH(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new ml("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}QH.exports={isInt32:gde,isUint32:Cde,parseFileMode:Lde,validateArray:mT,validateStringArray:Ude,validateBooleanArray:Bde,validateAbortSignalArray:Fde,validateBoolean:jH,validateBuffer:Hde,validateDictionary:vde,validateEncoding:Wde,validateFunction:$de,validateInt32:Dde,validateInteger:wde,validateNumber:Pde,validateObject:xde,validateOneOf:Mde,validatePlainFunction:Vde,validatePort:Yde,validateSignalName:Gde,validateString:cO,validateUint32:zH,validateUndefined:kde,validateUnion:qde,validateAbortSignal:JH,validateLinkHeaderValue:Kde}});var ai=g((bve,dW)=>{"use strict";var{SymbolAsyncIterator:ZH,SymbolIterator:eW,SymbolFor:Go}=lt(),tW=Go("nodejs.stream.destroyed"),rW=Go("nodejs.stream.errored"),uO=Go("nodejs.stream.readable"),EO=Go("nodejs.stream.writable"),nW=Go("nodejs.stream.disturbed"),zde=Go("nodejs.webstream.isClosedPromise"),jde=Go("nodejs.webstream.controllerErrorFunction");function gT(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function CT(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Jde(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function oi(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function iW(t){return!!(t&&!oi(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function sW(t){return!!(t&&!oi(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function oW(t){return!!(t&&!oi(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Qde(t){return iW(t)||sW(t)||oW(t)}function Zde(t,e){return t==null?!1:e===!0?typeof t[ZH]=="function":e===!1?typeof t[eW]=="function":typeof t[ZH]=="function"||typeof t[eW]=="function"}function bT(t){if(!oi(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[tW]||n!=null&&n.destroyed)}function aW(t){if(!CT(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function ehe(t,e){if(!CT(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function the(t){if(!gT(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function lW(t,e){if(!gT(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function cW(t){return t&&t[uO]!=null?t[uO]:typeof t?.readable!="boolean"?null:bT(t)?!1:gT(t)&&t.readable&&!lW(t)}function uW(t){return t&&t[EO]!=null?t[EO]:typeof t?.writable!="boolean"?null:bT(t)?!1:CT(t)&&t.writable&&!aW(t)}function rhe(t,e){return oi(t)?bT(t)?!0:!(e?.readable!==!1&&cW(t)||e?.writable!==!1&&uW(t)):null}function nhe(t){var e,r;return oi(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function ihe(t){var e,r;return oi(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function she(t){if(!oi(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&EW(t)?t._closed:null}function EW(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function fW(t){return typeof t._sent100=="boolean"&&EW(t)}function ohe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function ahe(t){if(!oi(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&fW(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function lhe(t){var e;return!!(t&&((e=t[nW])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function che(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[rW])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}dW.exports={isDestroyed:bT,kIsDestroyed:tW,isDisturbed:lhe,kIsDisturbed:nW,isErrored:che,kIsErrored:rW,isReadable:cW,kIsReadable:uO,kIsClosedPromise:zde,kControllerErrorFunction:jde,kIsWritable:EO,isClosed:she,isDuplexNodeStream:Jde,isFinished:rhe,isIterable:Zde,isReadableNodeStream:gT,isReadableStream:iW,isReadableEnded:the,isReadableFinished:lW,isReadableErrored:ihe,isNodeStream:oi,isWebStream:Qde,isWritable:uW,isWritableNodeStream:CT,isWritableStream:sW,isWritableEnded:aW,isWritableFinished:ehe,isWritableErrored:nhe,isServerRequest:ohe,isServerResponse:fW,willEmitClose:ahe,isTransformStream:oW}});var qi=g((yve,SO)=>{"use strict";var ws=qe(),{AbortError:NW,codes:uhe}=gr(),{ERR_INVALID_ARG_TYPE:Ehe,ERR_STREAM_PREMATURE_CLOSE:hW}=uhe,{kEmptyObject:dO,once:hO}=Ur(),{validateAbortSignal:fhe,validateFunction:dhe,validateObject:hhe,validateBoolean:The}=gl(),{Promise:She,PromisePrototypeThen:phe,SymbolDispose:OW}=lt(),{isClosed:Rhe,isReadable:TW,isReadableNodeStream:fO,isReadableStream:Ahe,isReadableFinished:SW,isReadableErrored:pW,isWritable:RW,isWritableNodeStream:AW,isWritableStream:_he,isWritableFinished:_W,isWritableErrored:IW,isNodeStream:Ihe,willEmitClose:Nhe,kIsClosedPromise:Ohe}=ai(),Cl;function mhe(t){return t.setHeader&&typeof t.abort=="function"}var TO=()=>{};function mW(t,e,r){var n,i;if(arguments.length===2?(r=e,e=dO):e==null?e=dO:hhe(e,"options"),dhe(r,"callback"),fhe(e.signal,"options.signal"),r=hO(r),Ahe(t)||_he(t))return ghe(t,e,r);if(!Ihe(t))throw new Ehe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:fO(t),o=(i=e.writable)!==null&&i!==void 0?i:AW(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=Nhe(t)&&fO(t)===s&&AW(t)===o,E=_W(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=SW(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=O=>{r.call(t,O)},S=Rhe(t),p=()=>{S=!0;let O=IW(t)||pW(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&fO(t,!0)&&!SW(t,!1))return r.call(t,new hW);if(o&&!E&&!_W(t,!1))return r.call(t,new hW);r.call(t)},I=()=>{S=!0;let O=IW(t)||pW(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},R=()=>{t.req.on("finish",d)};mhe(t)?(t.on("complete",d),u||t.on("abort",p),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",p),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",p),S?ws.nextTick(p):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||ws.nextTick(I):(!s&&(!u||TW(t))&&(E||RW(t)===!1)||!o&&(!u||RW(t))&&(f||TW(t)===!1)||l&&t.req&&t.aborted)&&ws.nextTick(I);let A=()=>{r=TO,t.removeListener("aborted",p),t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",R),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",p)};if(e.signal&&!S){let O=()=>{let L=r;A(),L.call(t,new NW(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)ws.nextTick(O);else{Cl=Cl||Ur().addAbortListener;let L=Cl(e.signal,O),N=r;r=hO((...D)=>{L[OW](),N.apply(t,D)})}}return A}function ghe(t,e,r){let n=!1,i=TO;if(e.signal)if(i=()=>{n=!0,r.call(t,new NW(void 0,{cause:e.signal.reason}))},e.signal.aborted)ws.nextTick(i);else{Cl=Cl||Ur().addAbortListener;let o=Cl(e.signal,i),a=r;r=hO((...l)=>{o[OW](),a.apply(t,l)})}let s=(...o)=>{n||ws.nextTick(()=>r.apply(t,o))};return phe(t[Ohe].promise,s,s),TO}function Che(t,e){var r;let n=!1;return e===null&&(e=dO),(r=e)!==null&&r!==void 0&&r.cleanup&&(The(e.cleanup,"cleanup"),n=e.cleanup),new She((i,s)=>{let o=mW(t,e,a=>{n&&o(),a?s(a):i()})})}SO.exports=mW;SO.exports.finished=Che});var Ho=g((Lve,PW)=>{"use strict";var li=qe(),{aggregateTwoErrors:bhe,codes:{ERR_MULTIPLE_CALLBACK:yhe},AbortError:Lhe}=gr(),{Symbol:bW}=lt(),{kIsDestroyed:whe,isDestroyed:Dhe,isFinished:Phe,isServerRequest:Mhe}=ai(),yW=bW("kDestroy"),pO=bW("kConstruct");function LW(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function xhe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(LW(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?gW(this,t,e):this.once(yW,function(s){gW(this,bhe(s,t),e)}),this)}function gW(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;LW(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?li.nextTick(vhe,t,s):li.nextTick(wW,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function vhe(t,e){RO(t,e),wW(t)}function wW(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function RO(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Uhe(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function AO(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?li.nextTick(RO,t,e):RO(t,e))}function Bhe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(pO,e),!(t.listenerCount(pO)>1)&&li.nextTick(Fhe,t)}function Fhe(t){let e=!1;function r(n){if(e){AO(t,n??new yhe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(yW,n):n?AO(t,n,!0):li.nextTick(Ghe,t)}try{t._construct(n=>{li.nextTick(r,n)})}catch(n){li.nextTick(r,n)}}function Ghe(t){t.emit(pO)}function CW(t){return t?.setHeader&&typeof t.abort=="function"}function DW(t){t.emit("close")}function Hhe(t,e){t.emit("error",e),li.nextTick(DW,t)}function Whe(t,e){!t||Dhe(t)||(!e&&!Phe(t)&&(e=new Lhe),Mhe(t)?(t.socket=null,t.destroy(e)):CW(t)?t.abort():CW(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?li.nextTick(Hhe,t,e):li.nextTick(DW,t),t.destroyed||(t[whe]=!0))}PW.exports={construct:Bhe,destroyer:Whe,destroy:xhe,undestroy:Uhe,errorOrDestroy:AO}});var wT=g((wve,xW)=>{"use strict";var{ArrayIsArray:Yhe,ObjectSetPrototypeOf:MW}=lt(),{EventEmitter:yT}=require("events");function LT(t){yT.call(this,t)}MW(LT.prototype,yT.prototype);MW(LT,yT);LT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),yT.listenerCount(this,"error")===0&&this.emit("error",u)}_O(r,"error",l),_O(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function _O(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Yhe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}xW.exports={Stream:LT,prependListener:_O}});var tE=g((Dve,DT)=>{"use strict";var{SymbolDispose:$he}=lt(),{AbortError:vW,codes:Vhe}=gr(),{isNodeStream:UW,isWebStream:khe,kControllerErrorFunction:qhe}=ai(),Xhe=qi(),{ERR_INVALID_ARG_TYPE:BW}=Vhe,IO,Khe=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new BW(e,"AbortSignal",t)};DT.exports.addAbortSignal=function(e,r){if(Khe(e,"signal"),!UW(r)&&!khe(r))throw new BW("stream",["ReadableStream","WritableStream","Stream"],r);return DT.exports.addAbortSignalNoValidate(e,r)};DT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=UW(e)?()=>{e.destroy(new vW(void 0,{cause:t.reason}))}:()=>{e[qhe](new vW(void 0,{cause:t.reason}))};if(t.aborted)r();else{IO=IO||Ur().addAbortListener;let n=IO(t,r);Xhe(e,n[$he])}return e}});var HW=g((Mve,GW)=>{"use strict";var{StringPrototypeSlice:FW,SymbolIterator:zhe,TypedArrayPrototypeSet:PT,Uint8Array:jhe}=lt(),{Buffer:NO}=require("buffer"),{inspect:Jhe}=Ur();GW.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return NO.alloc(0);let r=NO.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)PT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[zhe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=FW(s,0,e),this.head=n,n.data=FW(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=NO.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)PT(r,o,n-e),e-=o.length;else{e===o.length?(PT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(PT(r,new jhe(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Jhe(this,{...r,depth:0,customInspect:!1})}}});var rE=g((xve,VW)=>{"use strict";var{MathFloor:Qhe,NumberIsInteger:Zhe}=lt(),{validateInteger:eTe}=gl(),{ERR_INVALID_ARG_VALUE:tTe}=gr().codes,WW=16*1024,YW=16;function rTe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function $W(t){return t?YW:WW}function nTe(t,e){eTe(e,"value",0),t?YW=e:WW=e}function iTe(t,e,r,n){let i=rTe(e,n,r);if(i!=null){if(!Zhe(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new tTe(s,i)}return Qhe(i)}return $W(t.objectMode)}VW.exports={getHighWaterMark:iTe,getDefaultHighWaterMark:$W,setDefaultHighWaterMark:nTe}});var OO=g((vve,KW)=>{"use strict";var kW=qe(),{PromisePrototypeThen:sTe,SymbolAsyncIterator:qW,SymbolIterator:XW}=lt(),{Buffer:oTe}=require("buffer"),{ERR_INVALID_ARG_TYPE:aTe,ERR_STREAM_NULL_VALUES:lTe}=gr().codes;function cTe(t,e,r){let n;if(typeof e=="string"||e instanceof oTe)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[qW])i=!0,n=e[qW]();else if(e&&e[XW])i=!1,n=e[XW]();else throw new aTe("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){sTe(a(c),()=>kW.nextTick(u,c),E=>kW.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new lTe;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}KW.exports=cTe});var iE=g((Uve,fY)=>{"use strict";var Dn=qe(),{ArrayPrototypeIndexOf:uTe,NumberIsInteger:ETe,NumberIsNaN:fTe,NumberParseInt:dTe,ObjectDefineProperties:DO,ObjectKeys:hTe,ObjectSetPrototypeOf:JW,Promise:QW,SafeSet:TTe,SymbolAsyncDispose:STe,SymbolAsyncIterator:pTe,Symbol:RTe}=lt();fY.exports=Re;Re.ReadableState=UT;var{EventEmitter:ATe}=require("events"),{Stream:Ds,prependListener:_Te}=wT(),{Buffer:mO}=require("buffer"),{addAbortSignal:ITe}=tE(),ZW=qi(),De=Ur().debuglog("stream",t=>{De=t}),NTe=HW(),Ll=Ho(),{getHighWaterMark:OTe,getDefaultHighWaterMark:mTe}=rE(),{aggregateTwoErrors:zW,codes:{ERR_INVALID_ARG_TYPE:gTe,ERR_METHOD_NOT_IMPLEMENTED:CTe,ERR_OUT_OF_RANGE:bTe,ERR_STREAM_PUSH_AFTER_EOF:yTe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:LTe},AbortError:wTe}=gr(),{validateObject:DTe}=gl(),Wo=RTe("kPaused"),{StringDecoder:eY}=lu(),PTe=OO();JW(Re.prototype,Ds.prototype);JW(Re,Ds);var gO=()=>{},{errorOrDestroy:bl}=Ll,yl=1,MTe=2,tY=4,nE=8,rY=16,MT=32,xT=64,nY=128,xTe=256,vTe=512,UTe=1024,LO=2048,wO=4096,BTe=8192,FTe=16384,GTe=32768,iY=65536,HTe=1<<17,WTe=1<<18;function Ft(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}DO(UT.prototype,{objectMode:Ft(yl),ended:Ft(MTe),endEmitted:Ft(tY),reading:Ft(nE),constructed:Ft(rY),sync:Ft(MT),needReadable:Ft(xT),emittedReadable:Ft(nY),readableListening:Ft(xTe),resumeScheduled:Ft(vTe),errorEmitted:Ft(UTe),emitClose:Ft(LO),autoDestroy:Ft(wO),destroyed:Ft(BTe),closed:Ft(FTe),closeEmitted:Ft(GTe),multiAwaitDrain:Ft(iY),readingMore:Ft(HTe),dataEmitted:Ft(WTe)});function UT(t,e,r){typeof r!="boolean"&&(r=e instanceof ci()),this.state=LO|wO|rY|MT,t&&t.objectMode&&(this.state|=yl),r&&t&&t.readableObjectMode&&(this.state|=yl),this.highWaterMark=t?OTe(this,t,"readableHighWaterMark",r):mTe(!1),this.buffer=new NTe,this.length=0,this.pipes=[],this.flowing=null,this[Wo]=null,t&&t.emitClose===!1&&(this.state&=~LO),t&&t.autoDestroy===!1&&(this.state&=~wO),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new eY(t.encoding),this.encoding=t.encoding)}function Re(t){if(!(this instanceof Re))return new Re(t);let e=this instanceof ci();this._readableState=new UT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&ITe(t.signal,this)),Ds.call(this,t),Ll.construct(this,()=>{this._readableState.needReadable&&vT(this,this._readableState)})}Re.prototype.destroy=Ll.destroy;Re.prototype._undestroy=Ll.undestroy;Re.prototype._destroy=function(t,e){e(t)};Re.prototype[ATe.captureRejectionSymbol]=function(t){this.destroy(t)};Re.prototype[STe]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new wTe,this.destroy(t)),new QW((e,r)=>ZW(this,n=>n&&n!==t?r(n):e(null)))};Re.prototype.push=function(t,e){return sY(this,t,e,!1)};Re.prototype.unshift=function(t,e){return sY(this,t,e,!0)};function sY(t,e,r,n){De("readableAddChunk",e);let i=t._readableState,s;if((i.state&yl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=mO.from(e,r).toString(i.encoding):(e=mO.from(e,r),r=""))):e instanceof mO?r="":Ds._isUint8Array(e)?(e=Ds._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new gTe("chunk",["string","Buffer","Uint8Array"],e))),s)bl(t,s);else if(e===null)i.state&=~nE,VTe(t,i);else if((i.state&yl)!==0||e&&e.length>0)if(n)if((i.state&tY)!==0)bl(t,new LTe);else{if(i.destroyed||i.errored)return!1;CO(t,i,e,!0)}else if(i.ended)bl(t,new yTe);else{if(i.destroyed||i.errored)return!1;i.state&=~nE,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?CO(t,i,e,!1):vT(t,i)):CO(t,i,e,!1)}else n||(i.state&=~nE,vT(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function CO(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&iY)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&xT)!==0&&BT(t)),vT(t,e)}Re.prototype.isPaused=function(){let t=this._readableState;return t[Wo]===!0||t.flowing===!1};Re.prototype.setEncoding=function(t){let e=new eY(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var YTe=1073741824;function $Te(t){if(t>YTe)throw new bTe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function jW(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&yl)!==0?1:fTe(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Re.prototype.read=function(t){De("read",t),t===void 0?t=NaN:ETe(t)||(t=dTe(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=$Te(t)),t!==0&&(e.state&=~nY),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return De("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?bO(this):BT(this),null;if(t=jW(t,e),t===0&&e.ended)return e.length===0&&bO(this),null;let n=(e.state&xT)!==0;if(De("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,De("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,De("reading, ended or constructing",n);else if(n){De("do read"),e.state|=nE|MT,e.length===0&&(e.state|=xT);try{this._read(e.highWaterMark)}catch(s){bl(this,s)}e.state&=~MT,e.reading||(t=jW(r,e))}let i;return t>0?i=uY(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&bO(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function VTe(t,e){if(De("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?BT(t):(e.needReadable=!1,e.emittedReadable=!0,oY(t))}}function BT(t){let e=t._readableState;De("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(De("emitReadable",e.flowing),e.emittedReadable=!0,Dn.nextTick(oY,t))}function oY(t){let e=t._readableState;De("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,lY(t)}function vT(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Dn.nextTick(kTe,t,e))}function kTe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(De("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Re.prototype._read=function(t){throw new CTe("_read()")};Re.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new TTe(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),De("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Dn.stdout&&t!==Dn.stderr?a:S;n.endEmitted?Dn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){De("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){De("onend"),t.end()}let l,c=!1;function u(){De("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(De("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(De("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=qTe(r,t),t.on("drain",l))}r.on("data",d);function d(p){De("ondata");let I=t.write(p);De("dest.write",I),I===!1&&E()}function f(p){if(De("onerror",p),S(),t.removeListener("error",f),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?bl(t,p):t.emit("error",p)}}_Te(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){De("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){De("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(De("pipe resume"),r.resume()),t};function qTe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(De("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(De("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Re.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=uTe(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Re.prototype.on=function(t,e){let r=Ds.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,De("on readable",n.length,n.reading),n.length?BT(this):n.reading||Dn.nextTick(XTe,this)),r};Re.prototype.addListener=Re.prototype.on;Re.prototype.removeListener=function(t,e){let r=Ds.prototype.removeListener.call(this,t,e);return t==="readable"&&Dn.nextTick(aY,this),r};Re.prototype.off=Re.prototype.removeListener;Re.prototype.removeAllListeners=function(t){let e=Ds.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Dn.nextTick(aY,this),e};function aY(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Wo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function XTe(t){De("readable nexttick read 0"),t.read(0)}Re.prototype.resume=function(){let t=this._readableState;return t.flowing||(De("resume"),t.flowing=!t.readableListening,KTe(this,t)),t[Wo]=!1,this};function KTe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Dn.nextTick(zTe,t,e))}function zTe(t,e){De("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),lY(t),e.flowing&&!e.reading&&t.read(0)}Re.prototype.pause=function(){return De("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(De("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Wo]=!0,this};function lY(t){let e=t._readableState;for(De("flow",e.flowing);e.flowing&&t.read()!==null;);}Re.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{bl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=hTe(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Re.prototype[pTe]=function(){return cY(this)};Re.prototype.iterator=function(t){return t!==void 0&&DTe(t,"options"),cY(this,t)};function cY(t,e){typeof t.read!="function"&&(t=Re.wrap(t,{objectMode:!0}));let r=jTe(t,e);return r.stream=t,r}async function*jTe(t,e){let r=gO;function n(o){this===t?(r(),r=gO):r=o}t.on("readable",n);let i,s=ZW(t,{writable:!1},o=>{i=o?zW(i,o):null,r(),r=gO});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new QW(n)}}}catch(o){throw i=zW(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Ll.destroyer(t,null):(t.off("readable",n),s())}}DO(Re.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});DO(UT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Wo]!==!1},set(t){this[Wo]=!!t}}});Re._fromList=uY;function uY(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function bO(t){let e=t._readableState;De("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Dn.nextTick(JTe,e,t))}function JTe(t,e){if(De("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Dn.nextTick(QTe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function QTe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Re.from=function(t,e){return PTe(Re,t,e)};var yO;function EY(){return yO===void 0&&(yO={}),yO}Re.fromWeb=function(t,e){return EY().newStreamReadableFromReadableStream(t,e)};Re.toWeb=function(t,e){return EY().newReadableStreamFromStreamReadable(t,e)};Re.wrap=function(t,e){var r,n;return new Re({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Ll.destroyer(t,i),s(i)}}).wrap(t)}});var YT=g((Bve,mY)=>{"use strict";var Yo=qe(),{ArrayPrototypeSlice:TY,Error:ZTe,FunctionPrototypeSymbolHasInstance:SY,ObjectDefineProperty:pY,ObjectDefineProperties:eSe,ObjectSetPrototypeOf:RY,StringPrototypeToLowerCase:tSe,Symbol:rSe,SymbolHasInstance:nSe}=lt();mY.exports=dt;dt.WritableState=aE;var{EventEmitter:iSe}=require("events"),sE=wT().Stream,{Buffer:FT}=require("buffer"),WT=Ho(),{addAbortSignal:sSe}=tE(),{getHighWaterMark:oSe,getDefaultHighWaterMark:aSe}=rE(),{ERR_INVALID_ARG_TYPE:lSe,ERR_METHOD_NOT_IMPLEMENTED:cSe,ERR_MULTIPLE_CALLBACK:AY,ERR_STREAM_CANNOT_PIPE:uSe,ERR_STREAM_DESTROYED:oE,ERR_STREAM_ALREADY_FINISHED:ESe,ERR_STREAM_NULL_VALUES:fSe,ERR_STREAM_WRITE_AFTER_END:dSe,ERR_UNKNOWN_ENCODING:_Y}=gr().codes,{errorOrDestroy:wl}=WT;RY(dt.prototype,sE.prototype);RY(dt,sE);function xO(){}var Dl=rSe("kOnFinished");function aE(t,e,r){typeof r!="boolean"&&(r=e instanceof ci()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?oSe(this,t,"writableHighWaterMark",r):aSe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=TSe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,HT(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Dl]=[]}function HT(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}aE.prototype.getBuffer=function(){return TY(this.buffered,this.bufferedIndex)};pY(aE.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function dt(t){let e=this instanceof ci();if(!e&&!SY(dt,this))return new dt(t);this._writableState=new aE(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&sSe(t.signal,this)),sE.call(this,t),WT.construct(this,()=>{let r=this._writableState;r.writing||UO(this,r),BO(this,r)})}pY(dt,nSe,{__proto__:null,value:function(t){return SY(this,t)?!0:this!==dt?!1:t&&t._writableState instanceof aE}});dt.prototype.pipe=function(){wl(this,new uSe)};function IY(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!FT.isEncoding(r))throw new _Y(r);typeof n!="function"&&(n=xO)}if(e===null)throw new fSe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=FT.from(e,r),r="buffer");else if(e instanceof FT)r="buffer";else if(sE._isUint8Array(e))e=sE._uint8ArrayToBuffer(e),r="buffer";else throw new lSe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new dSe:i.destroyed&&(s=new oE("write")),s?(Yo.nextTick(n,s),wl(t,s,!0),s):(i.pendingcb++,hSe(t,i,e,r,n))}dt.prototype.write=function(t,e,r){return IY(this,t,e,r)===!0};dt.prototype.cork=function(){this._writableState.corked++};dt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||UO(this,t))};dt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=tSe(e)),!FT.isEncoding(e))throw new _Y(e);return this._writableState.defaultEncoding=e,this};function hSe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==xO&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function dY(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new oE("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function hY(t,e,r,n){--e.pendingcb,n(r),vO(e),wl(t,r)}function TSe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){wl(t,new AY);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Yo.nextTick(hY,t,r,e,i):hY(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&UO(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Yo.nextTick(SSe,r.afterWriteTickInfo)):NY(t,r,1,i))}function SSe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,NY(t,e,r,n)}function NY(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&vO(e),BO(t,e)}function vO(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new oE("write"))}let r=t[Dl].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new oE("end"))}HT(t)}function UO(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?xO:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:TY(r,o);l.allBuffers=e.allBuffers,dY(t,e,!0,e.length,l,"",a),HT(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;dY(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?HT(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}dt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new cSe("_write()")};dt.prototype._writev=null;dt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=IY(this,t,e);s instanceof ZTe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,BO(this,n,!0),n.ended=!0):n.finished?i=new ESe("end"):n.destroyed&&(i=new oE("end"))),typeof r=="function"&&(i||n.finished?Yo.nextTick(r,i):n[Dl].push(r)),this};function GT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function pSe(t,e){let r=!1;function n(i){if(r){wl(t,i??AY());return}if(r=!0,e.pendingcb--,i){let s=e[Dl].splice(0);for(let o=0;o<s.length;o++)s[o](i);wl(t,i,e.sync)}else GT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Yo.nextTick(MO,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function RSe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,pSe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function BO(t,e,r){GT(e)&&(RSe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Yo.nextTick((n,i)=>{GT(i)?MO(n,i):i.pendingcb--},t,e)):GT(e)&&(e.pendingcb++,MO(t,e))))}function MO(t,e){e.pendingcb--,e.finished=!0;let r=e[Dl].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}eSe(dt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ASe=WT.destroy;dt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Dl].length)&&Yo.nextTick(vO,r),ASe.call(this,t,e),this};dt.prototype._undestroy=WT.undestroy;dt.prototype._destroy=function(t,e){e(t)};dt.prototype[iSe.captureRejectionSymbol]=function(t){this.destroy(t)};var PO;function OY(){return PO===void 0&&(PO={}),PO}dt.fromWeb=function(t,e){return OY().newStreamWritableFromWritableStream(t,e)};dt.toWeb=function(t){return OY().newWritableStreamFromStreamWritable(t)}});var GY=g((Fve,FY)=>{var FO=qe(),_Se=require("buffer"),{isReadable:ISe,isWritable:NSe,isIterable:gY,isNodeStream:OSe,isReadableNodeStream:CY,isWritableNodeStream:bY,isDuplexNodeStream:mSe,isReadableStream:yY,isWritableStream:LY}=ai(),wY=qi(),{AbortError:UY,codes:{ERR_INVALID_ARG_TYPE:gSe,ERR_INVALID_RETURN_VALUE:DY}}=gr(),{destroyer:Ml}=Ho(),CSe=ci(),BY=iE(),bSe=YT(),{createDeferredPromise:PY}=Ur(),MY=OO(),xY=globalThis.Blob||_Se.Blob,ySe=typeof xY<"u"?function(e){return e instanceof xY}:function(e){return!1},LSe=globalThis.AbortController||gt().AbortController,{FunctionPrototypeCall:vY}=lt(),Ps=class extends CSe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};FY.exports=function t(e,r){if(mSe(e))return e;if(CY(e))return Pl({readable:e});if(bY(e))return Pl({writable:e});if(OSe(e))return Pl({writable:!1,readable:!1});if(yY(e))return Pl({readable:BY.fromWeb(e)});if(LY(e))return Pl({writable:bSe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=wSe(e);if(gY(i))return MY(Ps,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=vY(l,i,E=>{if(E!=null)throw new DY("nully","body",E)},E=>{Ml(c,E)});return c=new Ps({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,FO.nextTick(E,null)}catch(d){FO.nextTick(E,d)}})},destroy:a})}throw new DY("Iterable, AsyncIterable or AsyncFunction",r,i)}if(ySe(e))return t(e.arrayBuffer());if(gY(e))return MY(Ps,e,{objectMode:!0,writable:!1});if(yY(e?.readable)&&LY(e?.writable))return Ps.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?CY(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?bY(e?.writable)?e?.writable:t(e.writable):void 0;return Pl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return vY(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Ml(i,s)}),i=new Ps({objectMode:!0,writable:!1,read(){}})}throw new gSe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function wSe(t){let{promise:e,resolve:r}=PY(),n=new LSe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(FO.nextTick(c),l)return;if(i.aborted)throw new UY(void 0,{cause:i.reason});({promise:e,resolve:r}=PY()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Pl(t){let e=t.readable&&typeof t.readable.read!="function"?BY.wrap(t.readable):t.readable,r=t.writable,n=!!ISe(e),i=!!NSe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new Ps({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(wY(r,E=>{i=!1,E&&Ml(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(wY(e,E=>{n=!1,E&&Ml(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new UY),a=null,s=null,o=null,l===null?d(E):(l=d,Ml(r,E),Ml(e,E))},c}});var ci=g((Gve,YY)=>{"use strict";var{ObjectDefineProperties:DSe,ObjectGetOwnPropertyDescriptor:Xi,ObjectKeys:PSe,ObjectSetPrototypeOf:HY}=lt();YY.exports=Pn;var WO=iE(),Tn=YT();HY(Pn.prototype,WO.prototype);HY(Pn,WO);{let t=PSe(Tn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Pn.prototype[r]||(Pn.prototype[r]=Tn.prototype[r])}}function Pn(t){if(!(this instanceof Pn))return new Pn(t);WO.call(this,t),Tn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}DSe(Pn.prototype,{writable:{__proto__:null,...Xi(Tn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Xi(Tn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Xi(Tn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Xi(Tn.prototype,"writableBuffer")},writableLength:{__proto__:null,...Xi(Tn.prototype,"writableLength")},writableFinished:{__proto__:null,...Xi(Tn.prototype,"writableFinished")},writableCorked:{__proto__:null,...Xi(Tn.prototype,"writableCorked")},writableEnded:{__proto__:null,...Xi(Tn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Xi(Tn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var GO;function WY(){return GO===void 0&&(GO={}),GO}Pn.fromWeb=function(t,e){return WY().newStreamDuplexFromReadableWritablePair(t,e)};Pn.toWeb=function(t){return WY().newReadableWritablePairFromDuplex(t)};var HO;Pn.from=function(t){return HO||(HO=GY()),HO(t,"body")}});var VO=g((Hve,VY)=>{"use strict";var{ObjectSetPrototypeOf:$Y,Symbol:MSe}=lt();VY.exports=Ki;var{ERR_METHOD_NOT_IMPLEMENTED:xSe}=gr().codes,$O=ci(),{getHighWaterMark:vSe}=rE();$Y(Ki.prototype,$O.prototype);$Y(Ki,$O);var lE=MSe("kCallback");function Ki(t){if(!(this instanceof Ki))return new Ki(t);let e=t?vSe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),$O.call(this,t),this._readableState.sync=!1,this[lE]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",USe)}function YO(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function USe(){this._final!==YO&&YO.call(this)}Ki.prototype._final=YO;Ki.prototype._transform=function(t,e,r){throw new xSe("_transform()")};Ki.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[lE]=r})};Ki.prototype._read=function(){if(this[lE]){let t=this[lE];this[lE]=null,t()}}});var qO=g((Wve,qY)=>{"use strict";var{ObjectSetPrototypeOf:kY}=lt();qY.exports=xl;var kO=VO();kY(xl.prototype,kO.prototype);kY(xl,kO);function xl(t){if(!(this instanceof xl))return new xl(t);kO.call(this,t)}xl.prototype._transform=function(t,e,r){r(null,t)}});var qT=g((Yve,JY)=>{var cE=qe(),{ArrayIsArray:BSe,Promise:FSe,SymbolAsyncIterator:GSe,SymbolDispose:HSe}=lt(),kT=qi(),{once:WSe}=Ur(),YSe=Ho(),XY=ci(),{aggregateTwoErrors:$Se,codes:{ERR_INVALID_ARG_TYPE:tm,ERR_INVALID_RETURN_VALUE:XO,ERR_MISSING_ARGS:VSe,ERR_STREAM_DESTROYED:kSe,ERR_STREAM_PREMATURE_CLOSE:qSe},AbortError:XSe}=gr(),{validateFunction:KSe,validateAbortSignal:zSe}=gl(),{isIterable:$o,isReadable:KO,isReadableNodeStream:VT,isNodeStream:KY,isTransformStream:vl,isWebStream:jSe,isReadableStream:zO,isReadableFinished:JSe}=ai(),QSe=globalThis.AbortController||gt().AbortController,jO,JO,QO;function zY(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=kT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,YSe.destroyer(t,s||new kSe("pipe")))},cleanup:i}}function ZSe(t){return KSe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function ZO(t){if($o(t))return t;if(VT(t))return epe(t);throw new tm("val",["Readable","Iterable","AsyncIterable"],t)}async function*epe(t){JO||(JO=iE()),yield*JO.prototype[GSe].call(t)}async function $T(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new FSe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=kT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?$Se(i,c):c)}finally{l(),e.off("drain",o)}}async function em(t,e,r,{end:n}){vl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function tpe(...t){return jY(t,WSe(ZSe(t)))}function jY(t,e,r){if(t.length===1&&BSe(t[0])&&(t=t[0]),t.length<2)throw new VSe("streams");let n=new QSe,i=n.signal,s=r?.signal,o=[];zSe(s,"options.signal");function a(){T(new XSe)}QO=QO||Ur().addAbortListener;let l;s&&(l=QO(s,a));let c,u,E=[],d=0;function f(R){T(R,--d===0)}function T(R,A){var O;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[HSe](),n.abort(),A&&(c||o.forEach(L=>L()),cE.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],O=R<t.length-1,L=R>0,N=O||r?.end!==!1,D=R===t.length-1;if(KY(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var I=y;if(N){let{destroy:P,cleanup:x}=zY(A,O,L);E.push(P),KO(A)&&D&&o.push(x)}A.on("error",y),KO(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!$o(h))throw new XO("Iterable, AsyncIterable or Stream","source",h)}else $o(A)||VT(A)||vl(A)?h=A:h=XY.from(A);else if(typeof A=="function"){if(vl(h)){var S;h=ZO((S=h)===null||S===void 0?void 0:S.readable)}else h=ZO(h);if(h=A(h,{signal:i}),O){if(!$o(h,!0))throw new XO("AsyncIterable",`transform[${R-1}]`,h)}else{var p;jO||(jO=qO());let y=new jO({objectMode:!0}),P=(p=h)===null||p===void 0?void 0:p.then;if(typeof P=="function")d++,P.call(h,G=>{u=G,G!=null&&y.write(G),N&&y.end(),cE.nextTick(f)},G=>{y.destroy(G),cE.nextTick(f,G)});else if($o(h,!0))d++,$T(h,y,f,{end:N});else if(zO(h)||vl(h)){let G=h.readable||h;d++,$T(G,y,f,{end:N})}else throw new XO("AsyncIterable or Promise","destination",h);h=y;let{destroy:x,cleanup:B}=zY(h,!1,!0);E.push(x),D&&o.push(B)}}else if(KY(A)){if(VT(h)){d+=2;let y=rpe(h,A,f,{end:N});KO(A)&&D&&o.push(y)}else if(vl(h)||zO(h)){let y=h.readable||h;d++,$T(y,A,f,{end:N})}else if($o(h))d++,$T(h,A,f,{end:N});else throw new tm("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(jSe(A)){if(VT(h))d++,em(ZO(h),A,f,{end:N});else if(zO(h)||$o(h))d++,em(h,A,f,{end:N});else if(vl(h))d++,em(h.readable,A,f,{end:N});else throw new tm("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=XY.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&cE.nextTick(a),h}function rpe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new qSe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;JSe(t)?cE.nextTick(o):t.once("end",o)}else r();return kT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),kT(e,{readable:!1,writable:!0},r)}JY.exports={pipelineImpl:jY,pipeline:tpe}});var nm=g(($ve,n$)=>{"use strict";var{pipeline:npe}=qT(),XT=ci(),{destroyer:ipe}=Ho(),{isNodeStream:KT,isReadable:QY,isWritable:ZY,isWebStream:rm,isTransformStream:Vo,isWritableStream:e$,isReadableStream:t$}=ai(),{AbortError:spe,codes:{ERR_INVALID_ARG_VALUE:r$,ERR_MISSING_ARGS:ope}}=gr(),ape=qi();n$.exports=function(...e){if(e.length===0)throw new ope("streams");if(e.length===1)return XT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=XT.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=XT.from(e[f])}for(let f=0;f<e.length;++f)if(!(!KT(e[f])&&!rm(e[f]))){if(f<e.length-1&&!(QY(e[f])||t$(e[f])||Vo(e[f])))throw new r$(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(ZY(e[f])||e$(e[f])||Vo(e[f])))throw new r$(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=npe(e,l),E=!!(ZY(c)||e$(c)||Vo(c)),d=!!(QY(u)||t$(u)||Vo(u));if(a=new XT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(KT(c))a._write=function(T,h,S){c.write(T,h)?S():n=S},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(rm(c)){let h=(Vo(c)?c.writable:c).getWriter();a._write=async function(S,p,I){try{await h.ready,h.write(S).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(S){try{await h.ready,h.close().catch(()=>{}),i=S}catch(p){S(p)}}}let f=Vo(u)?u.readable:u;ape(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(KT(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(rm(u)){let T=(Vo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:S}=await T.read();if(!a.push(h))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new spe),s=null,n=null,i=null,o===null?T(f):(o=T,KT(u)&&ipe(u,f))},a}});var d$=g((Vve,om)=>{"use strict";var lpe=globalThis.AbortController||gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:cpe,ERR_INVALID_ARG_TYPE:uE,ERR_MISSING_ARGS:upe,ERR_OUT_OF_RANGE:Epe},AbortError:ui}=gr(),{validateAbortSignal:ko,validateInteger:i$,validateObject:qo}=gl(),fpe=lt().Symbol("kWeak"),dpe=lt().Symbol("kResistStopPropagation"),{finished:hpe}=qi(),Tpe=nm(),{addAbortSignalNoValidate:Spe}=tE(),{isWritable:ppe,isNodeStream:Rpe}=ai(),{deprecate:Ape}=Ur(),{ArrayPrototypePush:_pe,Boolean:Ipe,MathFloor:s$,Number:Npe,NumberIsNaN:Ope,Promise:o$,PromiseReject:a$,PromiseResolve:mpe,PromisePrototypeThen:l$,Symbol:u$}=lt(),zT=u$("kEmpty"),c$=u$("kEof");function gpe(t,e){if(e!=null&&qo(e,"options"),e?.signal!=null&&ko(e.signal,"options.signal"),Rpe(t)&&!ppe(t))throw new cpe("stream",t,"must be writable");let r=Tpe(this,t);return e!=null&&e.signal&&Spe(e.signal,r),r}function jT(t,e){if(typeof t!="function")throw new uE("fn",["Function","AsyncFunction"],t);e!=null&&qo(e,"options"),e?.signal!=null&&ko(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=s$(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=s$(e.highWaterMark)),i$(r,"options.concurrency",1),i$(n,"options.highWaterMark",0),n+=r,async function*(){let s=Ur().AbortSignalAny([e?.signal].filter(Ipe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let p of o){if(E)return;if(s.aborted)throw new ui;try{if(p=t(p,l),p===zT)continue;p=mpe(p)}catch(I){p=a$(I)}d+=1,l$(p,T,f),a.push(p),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new o$(I=>{u=I})}a.push(c$)}catch(p){let I=a$(p);l$(I,T,f),a.push(I)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let p=await a[0];if(p===c$)return;if(s.aborted)throw new ui;p!==zT&&(yield p),a.shift(),h()}await new o$(p=>{c=p})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function Cpe(t=void 0){return t!=null&&qo(t,"options"),t?.signal!=null&&ko(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ui({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function E$(t,e=void 0){for await(let r of sm.call(this,t,e))return!0;return!1}async function bpe(t,e=void 0){if(typeof t!="function")throw new uE("fn",["Function","AsyncFunction"],t);return!await E$.call(this,async(...r)=>!await t(...r),e)}async function ype(t,e){for await(let r of sm.call(this,t,e))return r}async function Lpe(t,e){if(typeof t!="function")throw new uE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),zT}for await(let n of jT.call(this,r,e));}function sm(t,e){if(typeof t!="function")throw new uE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:zT}return jT.call(this,r,e)}var im=class extends upe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function wpe(t,e,r){var n;if(typeof t!="function")throw new uE("reducer",["Function","AsyncFunction"],t);r!=null&&qo(r,"options"),r?.signal!=null&&ko(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new ui(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await hpe(this.destroy(c)),c}let s=new lpe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[fpe]:this,[dpe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new ui;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new im}finally{s.abort()}return e}async function Dpe(t){t!=null&&qo(t,"options"),t?.signal!=null&&ko(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new ui(void 0,{cause:t.signal.reason});_pe(e,n)}return e}function Ppe(t,e){let r=jT.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function f$(t){if(t=Npe(t),Ope(t))return 0;if(t<0)throw new Epe("number",">= 0",t);return t}function Mpe(t,e=void 0){return e!=null&&qo(e,"options"),e?.signal!=null&&ko(e.signal,"options.signal"),t=f$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ui;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ui;t--<=0&&(yield s)}}.call(this)}function xpe(t,e=void 0){return e!=null&&qo(e,"options"),e?.signal!=null&&ko(e.signal,"options.signal"),t=f$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ui;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ui;if(t-- >0&&(yield s),t<=0)return}}.call(this)}om.exports.streamReturningOperators={asIndexedPairs:Ape(Cpe,"readable.asIndexedPairs will be removed in a future version."),drop:Mpe,filter:sm,flatMap:Ppe,map:jT,take:xpe,compose:gpe};om.exports.promiseReturningOperators={every:bpe,forEach:Lpe,reduce:wpe,toArray:Dpe,some:E$,find:ype}});var am=g((kve,h$)=>{"use strict";var{ArrayPrototypePop:vpe,Promise:Upe}=lt(),{isIterable:Bpe,isNodeStream:Fpe,isWebStream:Gpe}=ai(),{pipelineImpl:Hpe}=qT(),{finished:Wpe}=qi();lm();function Ype(...t){return new Upe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!Fpe(s)&&!Bpe(s)&&!Gpe(s)){let o=vpe(t);n=o.signal,i=o.end}Hpe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}h$.exports={finished:Wpe,pipeline:Ype}});var lm=g((qve,O$)=>{"use strict";var{Buffer:$pe}=require("buffer"),{ObjectDefineProperty:zi,ObjectKeys:p$,ReflectApply:R$}=lt(),{promisify:{custom:A$}}=Ur(),{streamReturningOperators:T$,promiseReturningOperators:S$}=d$(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:_$}}=gr(),Vpe=nm(),{setDefaultHighWaterMark:kpe,getDefaultHighWaterMark:qpe}=rE(),{pipeline:I$}=qT(),{destroyer:Xpe}=Ho(),N$=qi(),cm=am(),EE=ai(),rt=O$.exports=wT().Stream;rt.isDestroyed=EE.isDestroyed;rt.isDisturbed=EE.isDisturbed;rt.isErrored=EE.isErrored;rt.isReadable=EE.isReadable;rt.isWritable=EE.isWritable;rt.Readable=iE();for(let t of p$(T$)){let r=function(...n){if(new.target)throw _$();return rt.Readable.from(R$(e,this,n))},e=T$[t];zi(r,"name",{__proto__:null,value:e.name}),zi(r,"length",{__proto__:null,value:e.length}),zi(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of p$(S$)){let r=function(...n){if(new.target)throw _$();return R$(e,this,n)},e=S$[t];zi(r,"name",{__proto__:null,value:e.name}),zi(r,"length",{__proto__:null,value:e.length}),zi(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}rt.Writable=YT();rt.Duplex=ci();rt.Transform=VO();rt.PassThrough=qO();rt.pipeline=I$;var{addAbortSignal:Kpe}=tE();rt.addAbortSignal=Kpe;rt.finished=N$;rt.destroy=Xpe;rt.compose=Vpe;rt.setDefaultHighWaterMark=kpe;rt.getDefaultHighWaterMark=qpe;zi(rt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return cm}});zi(I$,A$,{__proto__:null,enumerable:!0,get(){return cm.pipeline}});zi(N$,A$,{__proto__:null,enumerable:!0,get(){return cm.finished}});rt.Stream=rt;rt._isUint8Array=function(e){return e instanceof Uint8Array};rt._uint8ArrayToBuffer=function(e){return $pe.from(e.buffer,e.byteOffset,e.byteLength)}});var um=g((Xve,Ce)=>{"use strict";var Gt=require("stream");if(Gt&&process.env.READABLE_STREAM==="disable"){let t=Gt.promises;Ce.exports._uint8ArrayToBuffer=Gt._uint8ArrayToBuffer,Ce.exports._isUint8Array=Gt._isUint8Array,Ce.exports.isDisturbed=Gt.isDisturbed,Ce.exports.isErrored=Gt.isErrored,Ce.exports.isReadable=Gt.isReadable,Ce.exports.Readable=Gt.Readable,Ce.exports.Writable=Gt.Writable,Ce.exports.Duplex=Gt.Duplex,Ce.exports.Transform=Gt.Transform,Ce.exports.PassThrough=Gt.PassThrough,Ce.exports.addAbortSignal=Gt.addAbortSignal,Ce.exports.finished=Gt.finished,Ce.exports.destroy=Gt.destroy,Ce.exports.pipeline=Gt.pipeline,Ce.exports.compose=Gt.compose,Object.defineProperty(Gt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Ce.exports.Stream=Gt.Stream}else{let t=lm(),e=am(),r=t.Readable.destroy;Ce.exports=t.Readable,Ce.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Ce.exports._isUint8Array=t._isUint8Array,Ce.exports.isDisturbed=t.isDisturbed,Ce.exports.isErrored=t.isErrored,Ce.exports.isReadable=t.isReadable,Ce.exports.Readable=t.Readable,Ce.exports.Writable=t.Writable,Ce.exports.Duplex=t.Duplex,Ce.exports.Transform=t.Transform,Ce.exports.PassThrough=t.PassThrough,Ce.exports.addAbortSignal=t.addAbortSignal,Ce.exports.finished=t.finished,Ce.exports.destroy=t.destroy,Ce.exports.destroy=r,Ce.exports.pipeline=t.pipeline,Ce.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Ce.exports.Stream=t.Stream}Ce.exports.default=Ce.exports});var Em=g((zve,m$)=>{var Kve=require("stream").Stream,zpe=um().PassThrough,jpe=id(),Jpe=m$.exports={};Jpe.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(jpe(t)&&!t._readableState){var e=new zpe;return t.pipe(e),e}return t}});var dm=g((jve,g$)=>{var Qpe=require("util").inherits,Zpe=id(),fm=um().Transform,eRe=_T(),tRe=Em(),jr=g$.exports=function(t){if(!(this instanceof jr))return new jr(t);fm.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};Qpe(jr,fm);jr.prototype._appendBuffer=function(t,e,r){};jr.prototype._appendStream=function(t,e,r){};jr.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};jr.prototype._finish=function(t){};jr.prototype._normalizeEntry=function(t){};jr.prototype._transform=function(t,e,r){r(null,t)};jr.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof eRe)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=tRe.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(Zpe(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};jr.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};jr.prototype.getBytesWritten=function(){return this.offset};jr.prototype.write=function(t,e){return t&&(this.offset+=t.length),fm.prototype.write.call(this,t,e)}});var JT=g(hm=>{var C$;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof hm=="object"?t(hm):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(C$={}):t(C$={})})(function(t){t.version="1.2.2";function e(){for(var N=0,D=new Array(256),y=0;y!=256;++y)N=y,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,D[y]=N;return typeof Int32Array<"u"?new Int32Array(D):D}var r=e();function n(N){var D=0,y=0,P=0,x=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)x[P]=N[P];for(P=0;P!=256;++P)for(y=N[P],D=256+P;D<4096;D+=256)y=x[D]=y>>>8^N[y&255];var B=[];for(P=1;P!=16;++P)B[P-1]=typeof Int32Array<"u"?x.subarray(P*256,P*256+256):x.slice(P*256,P*256+256);return B}var i=n(r),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],E=i[6],d=i[7],f=i[8],T=i[9],h=i[10],S=i[11],p=i[12],I=i[13],R=i[14];function A(N,D){for(var y=D^-1,P=0,x=N.length;P<x;)y=y>>>8^r[(y^N.charCodeAt(P++))&255];return~y}function O(N,D){for(var y=D^-1,P=N.length-15,x=0;x<P;)y=R[N[x++]^y&255]^I[N[x++]^y>>8&255]^p[N[x++]^y>>16&255]^S[N[x++]^y>>>24]^h[N[x++]]^T[N[x++]]^f[N[x++]]^d[N[x++]]^E[N[x++]]^u[N[x++]]^c[N[x++]]^l[N[x++]]^a[N[x++]]^o[N[x++]]^s[N[x++]]^r[N[x++]];for(P+=15;x<P;)y=y>>>8^r[(y^N[x++])&255];return~y}function L(N,D){for(var y=D^-1,P=0,x=N.length,B=0,G=0;P<x;)B=N.charCodeAt(P++),B<128?y=y>>>8^r[(y^B)&255]:B<2048?(y=y>>>8^r[(y^(192|B>>6&31))&255],y=y>>>8^r[(y^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,G=N.charCodeAt(P++)&1023,y=y>>>8^r[(y^(240|B>>8&7))&255],y=y>>>8^r[(y^(128|B>>2&63))&255],y=y>>>8^r[(y^(128|G>>6&15|(B&3)<<4))&255],y=y>>>8^r[(y^(128|G&63))&255]):(y=y>>>8^r[(y^(224|B>>12&15))&255],y=y>>>8^r[(y^(128|B>>6&63))&255],y=y>>>8^r[(y^(128|B&63))&255]);return~y}t.table=r,t.bstr=A,t.buf=O,t.str=L})});var ct=g((Qve,b$)=>{"use strict";var Tm=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};b$.exports={AggregateError:Tm,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var Sm=g((Zve,y$)=>{"use strict";y$.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var br=g((eUe,D$)=>{"use strict";var{format:rRe,inspect:QT}=Sm(),{AggregateError:nRe}=ct(),iRe=globalThis.AggregateError||nRe,sRe=Symbol("kIsNodeError"),oRe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],aRe=/^([A-Z][a-z0-9]*)+$/,lRe="__node_internal_",ZT={};function Xo(t,e){if(!t)throw new ZT.ERR_INTERNAL_ASSERTION(e)}function L$(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function cRe(t,e,r){if(typeof e=="function")return Xo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Xo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:rRe(e,...r)}function Tr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(cRe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[sRe]=!0,ZT[t]=n}function w$(t){let e=lRe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function uRe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new iRe([e,t],e.message);return r.code=e.code,r}return t||e}var pm=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new ZT.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Tr("ERR_ASSERTION","%s",Error);Tr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Xo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Xo(typeof l=="string","All expected entries have to be of type string"),oRe.includes(l)?i.push(l.toLowerCase()):aRe.test(l)?s.push(l):(Xo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=QT(r,{depth:-1});n+=`. Received ${l}`}}else{let l=QT(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Tr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=QT(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Tr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Tr("ERR_MISSING_ARGS",(...t)=>{Xo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Tr("ERR_OUT_OF_RANGE",(t,e,r)=>{Xo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=L$(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=L$(n)),n+="n"}else n=QT(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Tr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Tr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Tr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Tr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Tr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Tr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Tr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Tr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Tr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Tr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Tr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);D$.exports={AbortError:pm,aggregateTwoErrors:w$(uRe),hideStackFrames:w$,codes:ZT}});var Br=g((tUe,Am)=>{"use strict";var ERe=require("buffer"),{format:fRe,inspect:dRe}=Sm(),{codes:{ERR_INVALID_ARG_TYPE:Rm}}=br(),{kResistStopPropagation:hRe,AggregateError:TRe,SymbolDispose:SRe}=ct(),pRe=globalThis.AbortSignal||gt().AbortSignal,RRe=globalThis.AbortController||gt().AbortController,ARe=Object.getPrototypeOf(async function(){}).constructor,P$=globalThis.Blob||ERe.Blob,_Re=typeof P$<"u"?function(e){return e instanceof P$}:function(e){return!1},M$=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Rm(e,"AbortSignal",t)},IRe=(t,e)=>{if(typeof t!="function")throw new Rm(e,"Function",t)};Am.exports={AggregateError:TRe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:fRe,inspect:dRe,types:{isAsyncFunction(t){return t instanceof ARe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:_Re,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new Rm("signal","AbortSignal",e);M$(e,"signal"),IRe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[hRe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[SRe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:pRe.any||function(e){if(e.length===1)return e[0];let r=new RRe,n=()=>r.abort();return e.forEach(i=>{M$(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};Am.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Bl=g((rUe,$$)=>{"use strict";var{ArrayIsArray:Im,ArrayPrototypeIncludes:B$,ArrayPrototypeJoin:F$,ArrayPrototypeMap:NRe,NumberIsInteger:Nm,NumberIsNaN:ORe,NumberMAX_SAFE_INTEGER:mRe,NumberMIN_SAFE_INTEGER:gRe,NumberParseInt:CRe,ObjectPrototypeHasOwnProperty:bRe,RegExpPrototypeExec:G$,String:yRe,StringPrototypeToUpperCase:LRe,StringPrototypeTrim:wRe}=ct(),{hideStackFrames:Sn,codes:{ERR_SOCKET_BAD_PORT:DRe,ERR_INVALID_ARG_TYPE:yr,ERR_INVALID_ARG_VALUE:Ul,ERR_OUT_OF_RANGE:Ko,ERR_UNKNOWN_SIGNAL:x$}}=br(),{normalizeEncoding:PRe}=Br(),{isAsyncFunction:MRe,isArrayBufferView:xRe}=Br().types,v$={};function vRe(t){return t===(t|0)}function URe(t){return t===t>>>0}var BRe=/^[0-7]+$/,FRe="must be a 32-bit unsigned integer or an octal string";function GRe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(G$(BRe,t)===null)throw new Ul(e,t,FRe);t=CRe(t,8)}return H$(t,e),t}var HRe=Sn((t,e,r=gRe,n=mRe)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!Nm(t))throw new Ko(e,"an integer",t);if(t<r||t>n)throw new Ko(e,`>= ${r} && <= ${n}`,t)}),WRe=Sn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!Nm(t))throw new Ko(e,"an integer",t);if(t<r||t>n)throw new Ko(e,`>= ${r} && <= ${n}`,t)}),H$=Sn((t,e,r=!1)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!Nm(t))throw new Ko(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Ko(e,`>= ${n} && <= ${i}`,t)});function Om(t,e){if(typeof t!="string")throw new yr(e,"string",t)}function YRe(t,e,r=void 0,n){if(typeof t!="number")throw new yr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&ORe(t))throw new Ko(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var $Re=Sn((t,e,r)=>{if(!B$(r,t)){let i="must be one of: "+F$(NRe(r,s=>typeof s=="string"?`'${s}'`:yRe(s)),", ");throw new Ul(e,t,i)}});function W$(t,e){if(typeof t!="boolean")throw new yr(e,"boolean",t)}function _m(t,e,r){return t==null||!bRe(t,e)?r:t[e]}var VRe=Sn((t,e,r=null)=>{let n=_m(r,"allowArray",!1),i=_m(r,"allowFunction",!1);if(!_m(r,"nullable",!1)&&t===null||!n&&Im(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new yr(e,"Object",t)}),kRe=Sn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new yr(e,"a dictionary",t)}),eS=Sn((t,e,r=0)=>{if(!Im(t))throw new yr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Ul(e,t,n)}});function qRe(t,e){eS(t,e);for(let r=0;r<t.length;r++)Om(t[r],`${e}[${r}]`)}function XRe(t,e){eS(t,e);for(let r=0;r<t.length;r++)W$(t[r],`${e}[${r}]`)}function KRe(t,e){eS(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new yr(i,"AbortSignal",n);Y$(n,i)}}function zRe(t,e="signal"){if(Om(t,e),v$[t]===void 0)throw v$[LRe(t)]!==void 0?new x$(t+" (signals must use all capital letters)"):new x$(t)}var jRe=Sn((t,e="buffer")=>{if(!xRe(t))throw new yr(e,["Buffer","TypedArray","DataView"],t)});function JRe(t,e){let r=PRe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Ul("encoding",e,`is invalid for data of length ${n}`)}function QRe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&wRe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new DRe(e,t,r);return t|0}var Y$=Sn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new yr(e,"AbortSignal",t)}),ZRe=Sn((t,e)=>{if(typeof t!="function")throw new yr(e,"Function",t)}),eAe=Sn((t,e)=>{if(typeof t!="function"||MRe(t))throw new yr(e,"Function",t)}),tAe=Sn((t,e)=>{if(t!==void 0)throw new yr(e,"undefined",t)});function rAe(t,e,r){if(!B$(r,t))throw new yr(e,`('${F$(r,"|")}')`,t)}var nAe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function U$(t,e){if(typeof t>"u"||!G$(nAe,t))throw new Ul(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function iAe(t){if(typeof t=="string")return U$(t,"hints"),t;if(Im(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];U$(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Ul("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}$$.exports={isInt32:vRe,isUint32:URe,parseFileMode:GRe,validateArray:eS,validateStringArray:qRe,validateBooleanArray:XRe,validateAbortSignalArray:KRe,validateBoolean:W$,validateBuffer:jRe,validateDictionary:kRe,validateEncoding:JRe,validateFunction:ZRe,validateInt32:WRe,validateInteger:HRe,validateNumber:YRe,validateObject:VRe,validateOneOf:$Re,validatePlainFunction:eAe,validatePort:QRe,validateSignalName:zRe,validateString:Om,validateUint32:H$,validateUndefined:tAe,validateUnion:rAe,validateAbortSignal:Y$,validateLinkHeaderValue:iAe}});var fi=g((nUe,iV)=>{"use strict";var{SymbolAsyncIterator:V$,SymbolIterator:k$,SymbolFor:zo}=ct(),q$=zo("nodejs.stream.destroyed"),X$=zo("nodejs.stream.errored"),mm=zo("nodejs.stream.readable"),gm=zo("nodejs.stream.writable"),K$=zo("nodejs.stream.disturbed"),sAe=zo("nodejs.webstream.isClosedPromise"),oAe=zo("nodejs.webstream.controllerErrorFunction");function tS(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function rS(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function aAe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Ei(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function z$(t){return!!(t&&!Ei(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function j$(t){return!!(t&&!Ei(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function J$(t){return!!(t&&!Ei(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function lAe(t){return z$(t)||j$(t)||J$(t)}function cAe(t,e){return t==null?!1:e===!0?typeof t[V$]=="function":e===!1?typeof t[k$]=="function":typeof t[V$]=="function"||typeof t[k$]=="function"}function nS(t){if(!Ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[q$]||n!=null&&n.destroyed)}function Q$(t){if(!rS(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function uAe(t,e){if(!rS(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function EAe(t){if(!tS(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Z$(t,e){if(!tS(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function eV(t){return t&&t[mm]!=null?t[mm]:typeof t?.readable!="boolean"?null:nS(t)?!1:tS(t)&&t.readable&&!Z$(t)}function tV(t){return t&&t[gm]!=null?t[gm]:typeof t?.writable!="boolean"?null:nS(t)?!1:rS(t)&&t.writable&&!Q$(t)}function fAe(t,e){return Ei(t)?nS(t)?!0:!(e?.readable!==!1&&eV(t)||e?.writable!==!1&&tV(t)):null}function dAe(t){var e,r;return Ei(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function hAe(t){var e,r;return Ei(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function TAe(t){if(!Ei(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&rV(t)?t._closed:null}function rV(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function nV(t){return typeof t._sent100=="boolean"&&rV(t)}function SAe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function pAe(t){if(!Ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&nV(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function RAe(t){var e;return!!(t&&((e=t[K$])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function AAe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[X$])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}iV.exports={isDestroyed:nS,kIsDestroyed:q$,isDisturbed:RAe,kIsDisturbed:K$,isErrored:AAe,kIsErrored:X$,isReadable:eV,kIsReadable:mm,kIsClosedPromise:sAe,kControllerErrorFunction:oAe,kIsWritable:gm,isClosed:TAe,isDuplexNodeStream:aAe,isFinished:fAe,isIterable:cAe,isReadableNodeStream:tS,isReadableStream:z$,isReadableEnded:EAe,isReadableFinished:Z$,isReadableErrored:hAe,isNodeStream:Ei,isWebStream:lAe,isWritable:tV,isWritableNodeStream:rS,isWritableStream:j$,isWritableEnded:Q$,isWritableFinished:uAe,isWritableErrored:dAe,isServerRequest:SAe,isServerResponse:nV,willEmitClose:pAe,isTransformStream:J$}});var ji=g((iUe,wm)=>{"use strict";var Ms=qe(),{AbortError:dV,codes:_Ae}=br(),{ERR_INVALID_ARG_TYPE:IAe,ERR_STREAM_PREMATURE_CLOSE:sV}=_Ae,{kEmptyObject:bm,once:ym}=Br(),{validateAbortSignal:NAe,validateFunction:OAe,validateObject:mAe,validateBoolean:gAe}=Bl(),{Promise:CAe,PromisePrototypeThen:bAe,SymbolDispose:hV}=ct(),{isClosed:yAe,isReadable:oV,isReadableNodeStream:Cm,isReadableStream:LAe,isReadableFinished:aV,isReadableErrored:lV,isWritable:cV,isWritableNodeStream:uV,isWritableStream:wAe,isWritableFinished:EV,isWritableErrored:fV,isNodeStream:DAe,willEmitClose:PAe,kIsClosedPromise:MAe}=fi(),Fl;function xAe(t){return t.setHeader&&typeof t.abort=="function"}var Lm=()=>{};function TV(t,e,r){var n,i;if(arguments.length===2?(r=e,e=bm):e==null?e=bm:mAe(e,"options"),OAe(r,"callback"),NAe(e.signal,"options.signal"),r=ym(r),LAe(t)||wAe(t))return vAe(t,e,r);if(!DAe(t))throw new IAe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:Cm(t),o=(i=e.writable)!==null&&i!==void 0?i:uV(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=PAe(t)&&Cm(t)===s&&uV(t)===o,E=EV(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=aV(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=O=>{r.call(t,O)},S=yAe(t),p=()=>{S=!0;let O=fV(t)||lV(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&Cm(t,!0)&&!aV(t,!1))return r.call(t,new sV);if(o&&!E&&!EV(t,!1))return r.call(t,new sV);r.call(t)},I=()=>{S=!0;let O=fV(t)||lV(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},R=()=>{t.req.on("finish",d)};xAe(t)?(t.on("complete",d),u||t.on("abort",p),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",p),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",p),S?Ms.nextTick(p):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Ms.nextTick(I):(!s&&(!u||oV(t))&&(E||cV(t)===!1)||!o&&(!u||cV(t))&&(f||oV(t)===!1)||l&&t.req&&t.aborted)&&Ms.nextTick(I);let A=()=>{r=Lm,t.removeListener("aborted",p),t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",R),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",p)};if(e.signal&&!S){let O=()=>{let L=r;A(),L.call(t,new dV(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ms.nextTick(O);else{Fl=Fl||Br().addAbortListener;let L=Fl(e.signal,O),N=r;r=ym((...D)=>{L[hV](),N.apply(t,D)})}}return A}function vAe(t,e,r){let n=!1,i=Lm;if(e.signal)if(i=()=>{n=!0,r.call(t,new dV(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ms.nextTick(i);else{Fl=Fl||Br().addAbortListener;let o=Fl(e.signal,i),a=r;r=ym((...l)=>{o[hV](),a.apply(t,l)})}let s=(...o)=>{n||Ms.nextTick(()=>r.apply(t,o))};return bAe(t[MAe].promise,s,s),Lm}function UAe(t,e){var r;let n=!1;return e===null&&(e=bm),(r=e)!==null&&r!==void 0&&r.cleanup&&(gAe(e.cleanup,"cleanup"),n=e.cleanup),new CAe((i,s)=>{let o=TV(t,e,a=>{n&&o(),a?s(a):i()})})}wm.exports=TV;wm.exports.finished=UAe});var jo=g((sUe,OV)=>{"use strict";var di=qe(),{aggregateTwoErrors:BAe,codes:{ERR_MULTIPLE_CALLBACK:FAe},AbortError:GAe}=br(),{Symbol:RV}=ct(),{kIsDestroyed:HAe,isDestroyed:WAe,isFinished:YAe,isServerRequest:$Ae}=fi(),AV=RV("kDestroy"),Dm=RV("kConstruct");function _V(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function VAe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(_V(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?SV(this,t,e):this.once(AV,function(s){SV(this,BAe(s,t),e)}),this)}function SV(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;_V(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?di.nextTick(kAe,t,s):di.nextTick(IV,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function kAe(t,e){Pm(t,e),IV(t)}function IV(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Pm(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function qAe(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Mm(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?di.nextTick(Pm,t,e):Pm(t,e))}function XAe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Dm,e),!(t.listenerCount(Dm)>1)&&di.nextTick(KAe,t)}function KAe(t){let e=!1;function r(n){if(e){Mm(t,n??new FAe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(AV,n):n?Mm(t,n,!0):di.nextTick(zAe,t)}try{t._construct(n=>{di.nextTick(r,n)})}catch(n){di.nextTick(r,n)}}function zAe(t){t.emit(Dm)}function pV(t){return t?.setHeader&&typeof t.abort=="function"}function NV(t){t.emit("close")}function jAe(t,e){t.emit("error",e),di.nextTick(NV,t)}function JAe(t,e){!t||WAe(t)||(!e&&!YAe(t)&&(e=new GAe),$Ae(t)?(t.socket=null,t.destroy(e)):pV(t)?t.abort():pV(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?di.nextTick(jAe,t,e):di.nextTick(NV,t),t.destroyed||(t[HAe]=!0))}OV.exports={construct:XAe,destroyer:JAe,destroy:VAe,undestroy:qAe,errorOrDestroy:Mm}});var oS=g((oUe,gV)=>{"use strict";var{ArrayIsArray:QAe,ObjectSetPrototypeOf:mV}=ct(),{EventEmitter:iS}=require("events");function sS(t){iS.call(this,t)}mV(sS.prototype,iS.prototype);mV(sS,iS);sS.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),iS.listenerCount(this,"error")===0&&this.emit("error",u)}xm(r,"error",l),xm(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function xm(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):QAe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}gV.exports={Stream:sS,prependListener:xm}});var fE=g((aUe,aS)=>{"use strict";var{SymbolDispose:ZAe}=ct(),{AbortError:CV,codes:e_e}=br(),{isNodeStream:bV,isWebStream:t_e,kControllerErrorFunction:r_e}=fi(),n_e=ji(),{ERR_INVALID_ARG_TYPE:yV}=e_e,vm,i_e=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new yV(e,"AbortSignal",t)};aS.exports.addAbortSignal=function(e,r){if(i_e(e,"signal"),!bV(r)&&!t_e(r))throw new yV("stream",["ReadableStream","WritableStream","Stream"],r);return aS.exports.addAbortSignalNoValidate(e,r)};aS.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=bV(e)?()=>{e.destroy(new CV(void 0,{cause:t.reason}))}:()=>{e[r_e](new CV(void 0,{cause:t.reason}))};if(t.aborted)r();else{vm=vm||Br().addAbortListener;let n=vm(t,r);n_e(e,n[ZAe])}return e}});var DV=g((cUe,wV)=>{"use strict";var{StringPrototypeSlice:LV,SymbolIterator:s_e,TypedArrayPrototypeSet:lS,Uint8Array:o_e}=ct(),{Buffer:Um}=require("buffer"),{inspect:a_e}=Br();wV.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Um.alloc(0);let r=Um.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)lS(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[s_e](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=LV(s,0,e),this.head=n,n.data=LV(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Um.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)lS(r,o,n-e),e-=o.length;else{e===o.length?(lS(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(lS(r,new o_e(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return a_e(this,{...r,depth:0,customInspect:!1})}}});var dE=g((uUe,vV)=>{"use strict";var{MathFloor:l_e,NumberIsInteger:c_e}=ct(),{validateInteger:u_e}=Bl(),{ERR_INVALID_ARG_VALUE:E_e}=br().codes,PV=16*1024,MV=16;function f_e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function xV(t){return t?MV:PV}function d_e(t,e){u_e(e,"value",0),t?MV=e:PV=e}function h_e(t,e,r,n){let i=f_e(e,n,r);if(i!=null){if(!c_e(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new E_e(s,i)}return l_e(i)}return xV(t.objectMode)}vV.exports={getHighWaterMark:h_e,getDefaultHighWaterMark:xV,setDefaultHighWaterMark:d_e}});var Bm=g((EUe,GV)=>{"use strict";var UV=qe(),{PromisePrototypeThen:T_e,SymbolAsyncIterator:BV,SymbolIterator:FV}=ct(),{Buffer:S_e}=require("buffer"),{ERR_INVALID_ARG_TYPE:p_e,ERR_STREAM_NULL_VALUES:R_e}=br().codes;function A_e(t,e,r){let n;if(typeof e=="string"||e instanceof S_e)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[BV])i=!0,n=e[BV]();else if(e&&e[FV])i=!1,n=e[FV]();else throw new p_e("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){T_e(a(c),()=>UV.nextTick(u,c),E=>UV.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new R_e;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}GV.exports=A_e});var TE=g((fUe,nk)=>{"use strict";var Mn=qe(),{ArrayPrototypeIndexOf:__e,NumberIsInteger:I_e,NumberIsNaN:N_e,NumberParseInt:O_e,ObjectDefineProperties:km,ObjectKeys:m_e,ObjectSetPrototypeOf:YV,Promise:$V,SafeSet:g_e,SymbolAsyncDispose:C_e,SymbolAsyncIterator:b_e,Symbol:y_e}=ct();nk.exports=Ae;Ae.ReadableState=fS;var{EventEmitter:L_e}=require("events"),{Stream:xs,prependListener:w_e}=oS(),{Buffer:Fm}=require("buffer"),{addAbortSignal:D_e}=fE(),VV=ji(),Pe=Br().debuglog("stream",t=>{Pe=t}),P_e=DV(),Wl=jo(),{getHighWaterMark:M_e,getDefaultHighWaterMark:x_e}=dE(),{aggregateTwoErrors:HV,codes:{ERR_INVALID_ARG_TYPE:v_e,ERR_METHOD_NOT_IMPLEMENTED:U_e,ERR_OUT_OF_RANGE:B_e,ERR_STREAM_PUSH_AFTER_EOF:F_e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:G_e},AbortError:H_e}=br(),{validateObject:W_e}=Bl(),Jo=y_e("kPaused"),{StringDecoder:kV}=lu(),Y_e=Bm();YV(Ae.prototype,xs.prototype);YV(Ae,xs);var Gm=()=>{},{errorOrDestroy:Gl}=Wl,Hl=1,$_e=2,qV=4,hE=8,XV=16,cS=32,uS=64,KV=128,V_e=256,k_e=512,q_e=1024,$m=2048,Vm=4096,X_e=8192,K_e=16384,z_e=32768,zV=65536,j_e=1<<17,J_e=1<<18;function Ht(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}km(fS.prototype,{objectMode:Ht(Hl),ended:Ht($_e),endEmitted:Ht(qV),reading:Ht(hE),constructed:Ht(XV),sync:Ht(cS),needReadable:Ht(uS),emittedReadable:Ht(KV),readableListening:Ht(V_e),resumeScheduled:Ht(k_e),errorEmitted:Ht(q_e),emitClose:Ht($m),autoDestroy:Ht(Vm),destroyed:Ht(X_e),closed:Ht(K_e),closeEmitted:Ht(z_e),multiAwaitDrain:Ht(zV),readingMore:Ht(j_e),dataEmitted:Ht(J_e)});function fS(t,e,r){typeof r!="boolean"&&(r=e instanceof hi()),this.state=$m|Vm|XV|cS,t&&t.objectMode&&(this.state|=Hl),r&&t&&t.readableObjectMode&&(this.state|=Hl),this.highWaterMark=t?M_e(this,t,"readableHighWaterMark",r):x_e(!1),this.buffer=new P_e,this.length=0,this.pipes=[],this.flowing=null,this[Jo]=null,t&&t.emitClose===!1&&(this.state&=~$m),t&&t.autoDestroy===!1&&(this.state&=~Vm),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new kV(t.encoding),this.encoding=t.encoding)}function Ae(t){if(!(this instanceof Ae))return new Ae(t);let e=this instanceof hi();this._readableState=new fS(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&D_e(t.signal,this)),xs.call(this,t),Wl.construct(this,()=>{this._readableState.needReadable&&ES(this,this._readableState)})}Ae.prototype.destroy=Wl.destroy;Ae.prototype._undestroy=Wl.undestroy;Ae.prototype._destroy=function(t,e){e(t)};Ae.prototype[L_e.captureRejectionSymbol]=function(t){this.destroy(t)};Ae.prototype[C_e]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new H_e,this.destroy(t)),new $V((e,r)=>VV(this,n=>n&&n!==t?r(n):e(null)))};Ae.prototype.push=function(t,e){return jV(this,t,e,!1)};Ae.prototype.unshift=function(t,e){return jV(this,t,e,!0)};function jV(t,e,r,n){Pe("readableAddChunk",e);let i=t._readableState,s;if((i.state&Hl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=Fm.from(e,r).toString(i.encoding):(e=Fm.from(e,r),r=""))):e instanceof Fm?r="":xs._isUint8Array(e)?(e=xs._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new v_e("chunk",["string","Buffer","Uint8Array"],e))),s)Gl(t,s);else if(e===null)i.state&=~hE,eIe(t,i);else if((i.state&Hl)!==0||e&&e.length>0)if(n)if((i.state&qV)!==0)Gl(t,new G_e);else{if(i.destroyed||i.errored)return!1;Hm(t,i,e,!0)}else if(i.ended)Gl(t,new F_e);else{if(i.destroyed||i.errored)return!1;i.state&=~hE,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?Hm(t,i,e,!1):ES(t,i)):Hm(t,i,e,!1)}else n||(i.state&=~hE,ES(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function Hm(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&zV)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&uS)!==0&&dS(t)),ES(t,e)}Ae.prototype.isPaused=function(){let t=this._readableState;return t[Jo]===!0||t.flowing===!1};Ae.prototype.setEncoding=function(t){let e=new kV(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Q_e=1073741824;function Z_e(t){if(t>Q_e)throw new B_e("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function WV(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Hl)!==0?1:N_e(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Ae.prototype.read=function(t){Pe("read",t),t===void 0?t=NaN:I_e(t)||(t=O_e(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Z_e(t)),t!==0&&(e.state&=~KV),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Pe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Wm(this):dS(this),null;if(t=WV(t,e),t===0&&e.ended)return e.length===0&&Wm(this),null;let n=(e.state&uS)!==0;if(Pe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Pe("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Pe("reading, ended or constructing",n);else if(n){Pe("do read"),e.state|=hE|cS,e.length===0&&(e.state|=uS);try{this._read(e.highWaterMark)}catch(s){Gl(this,s)}e.state&=~cS,e.reading||(t=WV(r,e))}let i;return t>0?i=tk(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Wm(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function eIe(t,e){if(Pe("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?dS(t):(e.needReadable=!1,e.emittedReadable=!0,JV(t))}}function dS(t){let e=t._readableState;Pe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Pe("emitReadable",e.flowing),e.emittedReadable=!0,Mn.nextTick(JV,t))}function JV(t){let e=t._readableState;Pe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,ZV(t)}function ES(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Mn.nextTick(tIe,t,e))}function tIe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Pe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Ae.prototype._read=function(t){throw new U_e("_read()")};Ae.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new g_e(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Pe("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Mn.stdout&&t!==Mn.stderr?a:S;n.endEmitted?Mn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){Pe("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){Pe("onend"),t.end()}let l,c=!1;function u(){Pe("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(Pe("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Pe("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=rIe(r,t),t.on("drain",l))}r.on("data",d);function d(p){Pe("ondata");let I=t.write(p);Pe("dest.write",I),I===!1&&E()}function f(p){if(Pe("onerror",p),S(),t.removeListener("error",f),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?Gl(t,p):t.emit("error",p)}}w_e(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){Pe("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){Pe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(Pe("pipe resume"),r.resume()),t};function rIe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Pe("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Pe("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Ae.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=__e(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Ae.prototype.on=function(t,e){let r=xs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Pe("on readable",n.length,n.reading),n.length?dS(this):n.reading||Mn.nextTick(nIe,this)),r};Ae.prototype.addListener=Ae.prototype.on;Ae.prototype.removeListener=function(t,e){let r=xs.prototype.removeListener.call(this,t,e);return t==="readable"&&Mn.nextTick(QV,this),r};Ae.prototype.off=Ae.prototype.removeListener;Ae.prototype.removeAllListeners=function(t){let e=xs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Mn.nextTick(QV,this),e};function QV(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Jo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function nIe(t){Pe("readable nexttick read 0"),t.read(0)}Ae.prototype.resume=function(){let t=this._readableState;return t.flowing||(Pe("resume"),t.flowing=!t.readableListening,iIe(this,t)),t[Jo]=!1,this};function iIe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Mn.nextTick(sIe,t,e))}function sIe(t,e){Pe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),ZV(t),e.flowing&&!e.reading&&t.read(0)}Ae.prototype.pause=function(){return Pe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Jo]=!0,this};function ZV(t){let e=t._readableState;for(Pe("flow",e.flowing);e.flowing&&t.read()!==null;);}Ae.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Gl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=m_e(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Ae.prototype[b_e]=function(){return ek(this)};Ae.prototype.iterator=function(t){return t!==void 0&&W_e(t,"options"),ek(this,t)};function ek(t,e){typeof t.read!="function"&&(t=Ae.wrap(t,{objectMode:!0}));let r=oIe(t,e);return r.stream=t,r}async function*oIe(t,e){let r=Gm;function n(o){this===t?(r(),r=Gm):r=o}t.on("readable",n);let i,s=VV(t,{writable:!1},o=>{i=o?HV(i,o):null,r(),r=Gm});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new $V(n)}}}catch(o){throw i=HV(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Wl.destroyer(t,null):(t.off("readable",n),s())}}km(Ae.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});km(fS.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Jo]!==!1},set(t){this[Jo]=!!t}}});Ae._fromList=tk;function tk(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Wm(t){let e=t._readableState;Pe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Mn.nextTick(aIe,e,t))}function aIe(t,e){if(Pe("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Mn.nextTick(lIe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function lIe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Ae.from=function(t,e){return Y_e(Ae,t,e)};var Ym;function rk(){return Ym===void 0&&(Ym={}),Ym}Ae.fromWeb=function(t,e){return rk().newStreamReadableFromReadableStream(t,e)};Ae.toWeb=function(t,e){return rk().newReadableStreamFromStreamReadable(t,e)};Ae.wrap=function(t,e){var r,n;return new Ae({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Wl.destroyer(t,i),s(i)}}).wrap(t)}});var RS=g((dUe,Tk)=>{"use strict";var Qo=qe(),{ArrayPrototypeSlice:ok,Error:cIe,FunctionPrototypeSymbolHasInstance:ak,ObjectDefineProperty:lk,ObjectDefineProperties:uIe,ObjectSetPrototypeOf:ck,StringPrototypeToLowerCase:EIe,Symbol:fIe,SymbolHasInstance:dIe}=ct();Tk.exports=ht;ht.WritableState=RE;var{EventEmitter:hIe}=require("events"),SE=oS().Stream,{Buffer:hS}=require("buffer"),pS=jo(),{addAbortSignal:TIe}=fE(),{getHighWaterMark:SIe,getDefaultHighWaterMark:pIe}=dE(),{ERR_INVALID_ARG_TYPE:RIe,ERR_METHOD_NOT_IMPLEMENTED:AIe,ERR_MULTIPLE_CALLBACK:uk,ERR_STREAM_CANNOT_PIPE:_Ie,ERR_STREAM_DESTROYED:pE,ERR_STREAM_ALREADY_FINISHED:IIe,ERR_STREAM_NULL_VALUES:NIe,ERR_STREAM_WRITE_AFTER_END:OIe,ERR_UNKNOWN_ENCODING:Ek}=br().codes,{errorOrDestroy:Yl}=pS;ck(ht.prototype,SE.prototype);ck(ht,SE);function Km(){}var $l=fIe("kOnFinished");function RE(t,e,r){typeof r!="boolean"&&(r=e instanceof hi()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?SIe(this,t,"writableHighWaterMark",r):pIe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=gIe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,SS(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[$l]=[]}function SS(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}RE.prototype.getBuffer=function(){return ok(this.buffered,this.bufferedIndex)};lk(RE.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ht(t){let e=this instanceof hi();if(!e&&!ak(ht,this))return new ht(t);this._writableState=new RE(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&TIe(t.signal,this)),SE.call(this,t),pS.construct(this,()=>{let r=this._writableState;r.writing||jm(this,r),Jm(this,r)})}lk(ht,dIe,{__proto__:null,value:function(t){return ak(this,t)?!0:this!==ht?!1:t&&t._writableState instanceof RE}});ht.prototype.pipe=function(){Yl(this,new _Ie)};function fk(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!hS.isEncoding(r))throw new Ek(r);typeof n!="function"&&(n=Km)}if(e===null)throw new NIe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=hS.from(e,r),r="buffer");else if(e instanceof hS)r="buffer";else if(SE._isUint8Array(e))e=SE._uint8ArrayToBuffer(e),r="buffer";else throw new RIe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new OIe:i.destroyed&&(s=new pE("write")),s?(Qo.nextTick(n,s),Yl(t,s,!0),s):(i.pendingcb++,mIe(t,i,e,r,n))}ht.prototype.write=function(t,e,r){return fk(this,t,e,r)===!0};ht.prototype.cork=function(){this._writableState.corked++};ht.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||jm(this,t))};ht.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=EIe(e)),!hS.isEncoding(e))throw new Ek(e);return this._writableState.defaultEncoding=e,this};function mIe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Km&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function ik(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new pE("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function sk(t,e,r,n){--e.pendingcb,n(r),zm(e),Yl(t,r)}function gIe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Yl(t,new uk);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Qo.nextTick(sk,t,r,e,i):sk(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&jm(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Qo.nextTick(CIe,r.afterWriteTickInfo)):dk(t,r,1,i))}function CIe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,dk(t,e,r,n)}function dk(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&zm(e),Jm(t,e)}function zm(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new pE("write"))}let r=t[$l].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new pE("end"))}SS(t)}function jm(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Km:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:ok(r,o);l.allBuffers=e.allBuffers,ik(t,e,!0,e.length,l,"",a),SS(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;ik(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?SS(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ht.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new AIe("_write()")};ht.prototype._writev=null;ht.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=fk(this,t,e);s instanceof cIe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Jm(this,n,!0),n.ended=!0):n.finished?i=new IIe("end"):n.destroyed&&(i=new pE("end"))),typeof r=="function"&&(i||n.finished?Qo.nextTick(r,i):n[$l].push(r)),this};function TS(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function bIe(t,e){let r=!1;function n(i){if(r){Yl(t,i??uk());return}if(r=!0,e.pendingcb--,i){let s=e[$l].splice(0);for(let o=0;o<s.length;o++)s[o](i);Yl(t,i,e.sync)}else TS(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Qo.nextTick(Xm,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function yIe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,bIe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Jm(t,e,r){TS(e)&&(yIe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Qo.nextTick((n,i)=>{TS(i)?Xm(n,i):i.pendingcb--},t,e)):TS(e)&&(e.pendingcb++,Xm(t,e))))}function Xm(t,e){e.pendingcb--,e.finished=!0;let r=e[$l].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}uIe(ht.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var LIe=pS.destroy;ht.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[$l].length)&&Qo.nextTick(zm,r),LIe.call(this,t,e),this};ht.prototype._undestroy=pS.undestroy;ht.prototype._destroy=function(t,e){e(t)};ht.prototype[hIe.captureRejectionSymbol]=function(t){this.destroy(t)};var qm;function hk(){return qm===void 0&&(qm={}),qm}ht.fromWeb=function(t,e){return hk().newStreamWritableFromWritableStream(t,e)};ht.toWeb=function(t){return hk().newWritableStreamFromStreamWritable(t)}});var wk=g((hUe,Lk)=>{var Qm=qe(),wIe=require("buffer"),{isReadable:DIe,isWritable:PIe,isIterable:Sk,isNodeStream:MIe,isReadableNodeStream:pk,isWritableNodeStream:Rk,isDuplexNodeStream:xIe,isReadableStream:Ak,isWritableStream:_k}=fi(),Ik=ji(),{AbortError:bk,codes:{ERR_INVALID_ARG_TYPE:vIe,ERR_INVALID_RETURN_VALUE:Nk}}=br(),{destroyer:kl}=jo(),UIe=hi(),yk=TE(),BIe=RS(),{createDeferredPromise:Ok}=Br(),mk=Bm(),gk=globalThis.Blob||wIe.Blob,FIe=typeof gk<"u"?function(e){return e instanceof gk}:function(e){return!1},GIe=globalThis.AbortController||gt().AbortController,{FunctionPrototypeCall:Ck}=ct(),vs=class extends UIe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};Lk.exports=function t(e,r){if(xIe(e))return e;if(pk(e))return Vl({readable:e});if(Rk(e))return Vl({writable:e});if(MIe(e))return Vl({writable:!1,readable:!1});if(Ak(e))return Vl({readable:yk.fromWeb(e)});if(_k(e))return Vl({writable:BIe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=HIe(e);if(Sk(i))return mk(vs,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=Ck(l,i,E=>{if(E!=null)throw new Nk("nully","body",E)},E=>{kl(c,E)});return c=new vs({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,Qm.nextTick(E,null)}catch(d){Qm.nextTick(E,d)}})},destroy:a})}throw new Nk("Iterable, AsyncIterable or AsyncFunction",r,i)}if(FIe(e))return t(e.arrayBuffer());if(Sk(e))return mk(vs,e,{objectMode:!0,writable:!1});if(Ak(e?.readable)&&_k(e?.writable))return vs.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?pk(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?Rk(e?.writable)?e?.writable:t(e.writable):void 0;return Vl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return Ck(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{kl(i,s)}),i=new vs({objectMode:!0,writable:!1,read(){}})}throw new vIe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function HIe(t){let{promise:e,resolve:r}=Ok(),n=new GIe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(Qm.nextTick(c),l)return;if(i.aborted)throw new bk(void 0,{cause:i.reason});({promise:e,resolve:r}=Ok()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Vl(t){let e=t.readable&&typeof t.readable.read!="function"?yk.wrap(t.readable):t.readable,r=t.writable,n=!!DIe(e),i=!!PIe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new vs({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(Ik(r,E=>{i=!1,E&&kl(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(Ik(e,E=>{n=!1,E&&kl(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new bk),a=null,s=null,o=null,l===null?d(E):(l=d,kl(r,E),kl(e,E))},c}});var hi=g((TUe,Mk)=>{"use strict";var{ObjectDefineProperties:WIe,ObjectGetOwnPropertyDescriptor:Ji,ObjectKeys:YIe,ObjectSetPrototypeOf:Dk}=ct();Mk.exports=xn;var tg=TE(),pn=RS();Dk(xn.prototype,tg.prototype);Dk(xn,tg);{let t=YIe(pn.prototype);for(let e=0;e<t.length;e++){let r=t[e];xn.prototype[r]||(xn.prototype[r]=pn.prototype[r])}}function xn(t){if(!(this instanceof xn))return new xn(t);tg.call(this,t),pn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}WIe(xn.prototype,{writable:{__proto__:null,...Ji(pn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Ji(pn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Ji(pn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Ji(pn.prototype,"writableBuffer")},writableLength:{__proto__:null,...Ji(pn.prototype,"writableLength")},writableFinished:{__proto__:null,...Ji(pn.prototype,"writableFinished")},writableCorked:{__proto__:null,...Ji(pn.prototype,"writableCorked")},writableEnded:{__proto__:null,...Ji(pn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Ji(pn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Zm;function Pk(){return Zm===void 0&&(Zm={}),Zm}xn.fromWeb=function(t,e){return Pk().newStreamDuplexFromReadableWritablePair(t,e)};xn.toWeb=function(t){return Pk().newReadableWritablePairFromDuplex(t)};var eg;xn.from=function(t){return eg||(eg=wk()),eg(t,"body")}});var ig=g((SUe,vk)=>{"use strict";var{ObjectSetPrototypeOf:xk,Symbol:$Ie}=ct();vk.exports=Qi;var{ERR_METHOD_NOT_IMPLEMENTED:VIe}=br().codes,ng=hi(),{getHighWaterMark:kIe}=dE();xk(Qi.prototype,ng.prototype);xk(Qi,ng);var AE=$Ie("kCallback");function Qi(t){if(!(this instanceof Qi))return new Qi(t);let e=t?kIe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),ng.call(this,t),this._readableState.sync=!1,this[AE]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",qIe)}function rg(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function qIe(){this._final!==rg&&rg.call(this)}Qi.prototype._final=rg;Qi.prototype._transform=function(t,e,r){throw new VIe("_transform()")};Qi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[AE]=r})};Qi.prototype._read=function(){if(this[AE]){let t=this[AE];this[AE]=null,t()}}});var og=g((pUe,Bk)=>{"use strict";var{ObjectSetPrototypeOf:Uk}=ct();Bk.exports=ql;var sg=ig();Uk(ql.prototype,sg.prototype);Uk(ql,sg);function ql(t){if(!(this instanceof ql))return new ql(t);sg.call(this,t)}ql.prototype._transform=function(t,e,r){r(null,t)}});var NS=g((RUe,Yk)=>{var _E=qe(),{ArrayIsArray:XIe,Promise:KIe,SymbolAsyncIterator:zIe,SymbolDispose:jIe}=ct(),IS=ji(),{once:JIe}=Br(),QIe=jo(),Fk=hi(),{aggregateTwoErrors:ZIe,codes:{ERR_INVALID_ARG_TYPE:Tg,ERR_INVALID_RETURN_VALUE:ag,ERR_MISSING_ARGS:eNe,ERR_STREAM_DESTROYED:tNe,ERR_STREAM_PREMATURE_CLOSE:rNe},AbortError:nNe}=br(),{validateFunction:iNe,validateAbortSignal:sNe}=Bl(),{isIterable:Zo,isReadable:lg,isReadableNodeStream:_S,isNodeStream:Gk,isTransformStream:Xl,isWebStream:oNe,isReadableStream:cg,isReadableFinished:aNe}=fi(),lNe=globalThis.AbortController||gt().AbortController,ug,Eg,fg;function Hk(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=IS(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,QIe.destroyer(t,s||new tNe("pipe")))},cleanup:i}}function cNe(t){return iNe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function dg(t){if(Zo(t))return t;if(_S(t))return uNe(t);throw new Tg("val",["Readable","Iterable","AsyncIterable"],t)}async function*uNe(t){Eg||(Eg=TE()),yield*Eg.prototype[zIe].call(t)}async function AS(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new KIe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=IS(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?ZIe(i,c):c)}finally{l(),e.off("drain",o)}}async function hg(t,e,r,{end:n}){Xl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function ENe(...t){return Wk(t,JIe(cNe(t)))}function Wk(t,e,r){if(t.length===1&&XIe(t[0])&&(t=t[0]),t.length<2)throw new eNe("streams");let n=new lNe,i=n.signal,s=r?.signal,o=[];sNe(s,"options.signal");function a(){T(new nNe)}fg=fg||Br().addAbortListener;let l;s&&(l=fg(s,a));let c,u,E=[],d=0;function f(R){T(R,--d===0)}function T(R,A){var O;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[jIe](),n.abort(),A&&(c||o.forEach(L=>L()),_E.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],O=R<t.length-1,L=R>0,N=O||r?.end!==!1,D=R===t.length-1;if(Gk(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var I=y;if(N){let{destroy:P,cleanup:x}=Hk(A,O,L);E.push(P),lg(A)&&D&&o.push(x)}A.on("error",y),lg(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!Zo(h))throw new ag("Iterable, AsyncIterable or Stream","source",h)}else Zo(A)||_S(A)||Xl(A)?h=A:h=Fk.from(A);else if(typeof A=="function"){if(Xl(h)){var S;h=dg((S=h)===null||S===void 0?void 0:S.readable)}else h=dg(h);if(h=A(h,{signal:i}),O){if(!Zo(h,!0))throw new ag("AsyncIterable",`transform[${R-1}]`,h)}else{var p;ug||(ug=og());let y=new ug({objectMode:!0}),P=(p=h)===null||p===void 0?void 0:p.then;if(typeof P=="function")d++,P.call(h,G=>{u=G,G!=null&&y.write(G),N&&y.end(),_E.nextTick(f)},G=>{y.destroy(G),_E.nextTick(f,G)});else if(Zo(h,!0))d++,AS(h,y,f,{end:N});else if(cg(h)||Xl(h)){let G=h.readable||h;d++,AS(G,y,f,{end:N})}else throw new ag("AsyncIterable or Promise","destination",h);h=y;let{destroy:x,cleanup:B}=Hk(h,!1,!0);E.push(x),D&&o.push(B)}}else if(Gk(A)){if(_S(h)){d+=2;let y=fNe(h,A,f,{end:N});lg(A)&&D&&o.push(y)}else if(Xl(h)||cg(h)){let y=h.readable||h;d++,AS(y,A,f,{end:N})}else if(Zo(h))d++,AS(h,A,f,{end:N});else throw new Tg("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(oNe(A)){if(_S(h))d++,hg(dg(h),A,f,{end:N});else if(cg(h)||Zo(h))d++,hg(h,A,f,{end:N});else if(Xl(h))d++,hg(h.readable,A,f,{end:N});else throw new Tg("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=Fk.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&_E.nextTick(a),h}function fNe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new rNe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;aNe(t)?_E.nextTick(o):t.once("end",o)}else r();return IS(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),IS(e,{readable:!1,writable:!0},r)}Yk.exports={pipelineImpl:Wk,pipeline:ENe}});var pg=g((AUe,Kk)=>{"use strict";var{pipeline:dNe}=NS(),OS=hi(),{destroyer:hNe}=jo(),{isNodeStream:mS,isReadable:$k,isWritable:Vk,isWebStream:Sg,isTransformStream:ea,isWritableStream:kk,isReadableStream:qk}=fi(),{AbortError:TNe,codes:{ERR_INVALID_ARG_VALUE:Xk,ERR_MISSING_ARGS:SNe}}=br(),pNe=ji();Kk.exports=function(...e){if(e.length===0)throw new SNe("streams");if(e.length===1)return OS.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=OS.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=OS.from(e[f])}for(let f=0;f<e.length;++f)if(!(!mS(e[f])&&!Sg(e[f]))){if(f<e.length-1&&!($k(e[f])||qk(e[f])||ea(e[f])))throw new Xk(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(Vk(e[f])||kk(e[f])||ea(e[f])))throw new Xk(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=dNe(e,l),E=!!(Vk(c)||kk(c)||ea(c)),d=!!($k(u)||qk(u)||ea(u));if(a=new OS({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(mS(c))a._write=function(T,h,S){c.write(T,h)?S():n=S},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(Sg(c)){let h=(ea(c)?c.writable:c).getWriter();a._write=async function(S,p,I){try{await h.ready,h.write(S).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(S){try{await h.ready,h.close().catch(()=>{}),i=S}catch(p){S(p)}}}let f=ea(u)?u.readable:u;pNe(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(mS(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(Sg(u)){let T=(ea(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:S}=await T.read();if(!a.push(h))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new TNe),s=null,n=null,i=null,o===null?T(f):(o=T,mS(u)&&hNe(u,f))},a}});var i2=g((_Ue,_g)=>{"use strict";var RNe=globalThis.AbortController||gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ANe,ERR_INVALID_ARG_TYPE:IE,ERR_MISSING_ARGS:_Ne,ERR_OUT_OF_RANGE:INe},AbortError:Ti}=br(),{validateAbortSignal:ta,validateInteger:zk,validateObject:ra}=Bl(),NNe=ct().Symbol("kWeak"),ONe=ct().Symbol("kResistStopPropagation"),{finished:mNe}=ji(),gNe=pg(),{addAbortSignalNoValidate:CNe}=fE(),{isWritable:bNe,isNodeStream:yNe}=fi(),{deprecate:LNe}=Br(),{ArrayPrototypePush:wNe,Boolean:DNe,MathFloor:jk,Number:PNe,NumberIsNaN:MNe,Promise:Jk,PromiseReject:Qk,PromiseResolve:xNe,PromisePrototypeThen:Zk,Symbol:t2}=ct(),gS=t2("kEmpty"),e2=t2("kEof");function vNe(t,e){if(e!=null&&ra(e,"options"),e?.signal!=null&&ta(e.signal,"options.signal"),yNe(t)&&!bNe(t))throw new ANe("stream",t,"must be writable");let r=gNe(this,t);return e!=null&&e.signal&&CNe(e.signal,r),r}function CS(t,e){if(typeof t!="function")throw new IE("fn",["Function","AsyncFunction"],t);e!=null&&ra(e,"options"),e?.signal!=null&&ta(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=jk(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=jk(e.highWaterMark)),zk(r,"options.concurrency",1),zk(n,"options.highWaterMark",0),n+=r,async function*(){let s=Br().AbortSignalAny([e?.signal].filter(DNe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let p of o){if(E)return;if(s.aborted)throw new Ti;try{if(p=t(p,l),p===gS)continue;p=xNe(p)}catch(I){p=Qk(I)}d+=1,Zk(p,T,f),a.push(p),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new Jk(I=>{u=I})}a.push(e2)}catch(p){let I=Qk(p);Zk(I,T,f),a.push(I)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let p=await a[0];if(p===e2)return;if(s.aborted)throw new Ti;p!==gS&&(yield p),a.shift(),h()}await new Jk(p=>{c=p})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function UNe(t=void 0){return t!=null&&ra(t,"options"),t?.signal!=null&&ta(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ti({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function r2(t,e=void 0){for await(let r of Ag.call(this,t,e))return!0;return!1}async function BNe(t,e=void 0){if(typeof t!="function")throw new IE("fn",["Function","AsyncFunction"],t);return!await r2.call(this,async(...r)=>!await t(...r),e)}async function FNe(t,e){for await(let r of Ag.call(this,t,e))return r}async function GNe(t,e){if(typeof t!="function")throw new IE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),gS}for await(let n of CS.call(this,r,e));}function Ag(t,e){if(typeof t!="function")throw new IE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:gS}return CS.call(this,r,e)}var Rg=class extends _Ne{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function HNe(t,e,r){var n;if(typeof t!="function")throw new IE("reducer",["Function","AsyncFunction"],t);r!=null&&ra(r,"options"),r?.signal!=null&&ta(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Ti(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await mNe(this.destroy(c)),c}let s=new RNe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[NNe]:this,[ONe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Ti;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new Rg}finally{s.abort()}return e}async function WNe(t){t!=null&&ra(t,"options"),t?.signal!=null&&ta(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Ti(void 0,{cause:t.signal.reason});wNe(e,n)}return e}function YNe(t,e){let r=CS.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function n2(t){if(t=PNe(t),MNe(t))return 0;if(t<0)throw new INe("number",">= 0",t);return t}function $Ne(t,e=void 0){return e!=null&&ra(e,"options"),e?.signal!=null&&ta(e.signal,"options.signal"),t=n2(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ti;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ti;t--<=0&&(yield s)}}.call(this)}function VNe(t,e=void 0){return e!=null&&ra(e,"options"),e?.signal!=null&&ta(e.signal,"options.signal"),t=n2(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ti;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ti;if(t-- >0&&(yield s),t<=0)return}}.call(this)}_g.exports.streamReturningOperators={asIndexedPairs:LNe(UNe,"readable.asIndexedPairs will be removed in a future version."),drop:$Ne,filter:Ag,flatMap:YNe,map:CS,take:VNe,compose:vNe};_g.exports.promiseReturningOperators={every:BNe,forEach:GNe,reduce:HNe,toArray:WNe,some:r2,find:FNe}});var Ig=g((IUe,s2)=>{"use strict";var{ArrayPrototypePop:kNe,Promise:qNe}=ct(),{isIterable:XNe,isNodeStream:KNe,isWebStream:zNe}=fi(),{pipelineImpl:jNe}=NS(),{finished:JNe}=ji();Ng();function QNe(...t){return new qNe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!KNe(s)&&!XNe(s)&&!zNe(s)){let o=kNe(t);n=o.signal,i=o.end}jNe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}s2.exports={finished:JNe,pipeline:QNe}});var Ng=g((NUe,h2)=>{"use strict";var{Buffer:ZNe}=require("buffer"),{ObjectDefineProperty:Zi,ObjectKeys:l2,ReflectApply:c2}=ct(),{promisify:{custom:u2}}=Br(),{streamReturningOperators:o2,promiseReturningOperators:a2}=i2(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:E2}}=br(),eOe=pg(),{setDefaultHighWaterMark:tOe,getDefaultHighWaterMark:rOe}=dE(),{pipeline:f2}=NS(),{destroyer:nOe}=jo(),d2=ji(),Og=Ig(),NE=fi(),nt=h2.exports=oS().Stream;nt.isDestroyed=NE.isDestroyed;nt.isDisturbed=NE.isDisturbed;nt.isErrored=NE.isErrored;nt.isReadable=NE.isReadable;nt.isWritable=NE.isWritable;nt.Readable=TE();for(let t of l2(o2)){let r=function(...n){if(new.target)throw E2();return nt.Readable.from(c2(e,this,n))},e=o2[t];Zi(r,"name",{__proto__:null,value:e.name}),Zi(r,"length",{__proto__:null,value:e.length}),Zi(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of l2(a2)){let r=function(...n){if(new.target)throw E2();return c2(e,this,n)},e=a2[t];Zi(r,"name",{__proto__:null,value:e.name}),Zi(r,"length",{__proto__:null,value:e.length}),Zi(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}nt.Writable=RS();nt.Duplex=hi();nt.Transform=ig();nt.PassThrough=og();nt.pipeline=f2;var{addAbortSignal:iOe}=fE();nt.addAbortSignal=iOe;nt.finished=d2;nt.destroy=nOe;nt.compose=eOe;nt.setDefaultHighWaterMark=tOe;nt.getDefaultHighWaterMark=rOe;Zi(nt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Og}});Zi(f2,u2,{__proto__:null,enumerable:!0,get(){return Og.pipeline}});Zi(d2,u2,{__proto__:null,enumerable:!0,get(){return Og.finished}});nt.Stream=nt;nt._isUint8Array=function(e){return e instanceof Uint8Array};nt._uint8ArrayToBuffer=function(e){return ZNe.from(e.buffer,e.byteOffset,e.byteLength)}});var T2=g((OUe,be)=>{"use strict";var Wt=require("stream");if(Wt&&process.env.READABLE_STREAM==="disable"){let t=Wt.promises;be.exports._uint8ArrayToBuffer=Wt._uint8ArrayToBuffer,be.exports._isUint8Array=Wt._isUint8Array,be.exports.isDisturbed=Wt.isDisturbed,be.exports.isErrored=Wt.isErrored,be.exports.isReadable=Wt.isReadable,be.exports.Readable=Wt.Readable,be.exports.Writable=Wt.Writable,be.exports.Duplex=Wt.Duplex,be.exports.Transform=Wt.Transform,be.exports.PassThrough=Wt.PassThrough,be.exports.addAbortSignal=Wt.addAbortSignal,be.exports.finished=Wt.finished,be.exports.destroy=Wt.destroy,be.exports.pipeline=Wt.pipeline,be.exports.compose=Wt.compose,Object.defineProperty(Wt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),be.exports.Stream=Wt.Stream}else{let t=Ng(),e=Ig(),r=t.Readable.destroy;be.exports=t.Readable,be.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,be.exports._isUint8Array=t._isUint8Array,be.exports.isDisturbed=t.isDisturbed,be.exports.isErrored=t.isErrored,be.exports.isReadable=t.isReadable,be.exports.Readable=t.Readable,be.exports.Writable=t.Writable,be.exports.Duplex=t.Duplex,be.exports.Transform=t.Transform,be.exports.PassThrough=t.PassThrough,be.exports.addAbortSignal=t.addAbortSignal,be.exports.finished=t.finished,be.exports.destroy=t.destroy,be.exports.destroy=r,be.exports.pipeline=t.pipeline,be.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),be.exports.Stream=t.Stream}be.exports.default=be.exports});var p2=g((mUe,S2)=>{"use strict";var{Transform:sOe}=T2(),oOe=JT(),mg=class extends sOe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=oOe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};S2.exports=mg});var A2=g((gUe,R2)=>{"use strict";var{DeflateRaw:aOe}=require("zlib"),lOe=JT(),gg=class extends aOe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=lOe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};R2.exports=gg});var Cg=g((CUe,_2)=>{"use strict";_2.exports={CRC32Stream:p2(),DeflateCRC32Stream:A2()}});var O2=g((wUe,N2)=>{var cOe=require("util").inherits,uOe=JT(),{CRC32Stream:EOe}=Cg(),{DeflateCRC32Stream:fOe}=Cg(),I2=dm(),bUe=eO(),yUe=QN(),Te=ZN(),LUe=Em(),ae=IT(),Zt=N2.exports=function(t){if(!(this instanceof Zt))return new Zt(t);t=this.options=this._defaults(t),I2.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};cOe(Zt,I2);Zt.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};Zt.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(Te.METHOD_STORED);var n=t.getMethod();if(n===Te.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(uOe.buf(e)>>>0)),this._writeLocalFileHeader(t),n===Te.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===Te.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};Zt.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Te.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};Zt.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=Te.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};Zt.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};Zt.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(Te.METHOD_DEFLATED),t.getMethod()===Te.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Te.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};Zt.prototype._smartStream=function(t,e){var r=t.getMethod()===Te.METHOD_DEFLATED,n=r?new fOe(this.options.zlib):new EOe,i=null;function s(){var o=n.digest().readUInt32BE(0);t.setCrc(o),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(o){i=o}),n.pipe(this,{end:!1}),n};Zt.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=Te.ZIP64_MAGIC_SHORT,e=Te.ZIP64_MAGIC,r=Te.ZIP64_MAGIC),this.write(ae.getLongBytes(Te.SIG_EOCD)),this.write(Te.SHORT_ZERO),this.write(Te.SHORT_ZERO),this.write(ae.getShortBytes(t)),this.write(ae.getShortBytes(t)),this.write(ae.getLongBytes(e)),this.write(ae.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(ae.getShortBytes(i)),this.write(n)};Zt.prototype._writeCentralDirectoryZip64=function(){this.write(ae.getLongBytes(Te.SIG_ZIP64_EOCD)),this.write(ae.getEightBytes(44)),this.write(ae.getShortBytes(Te.MIN_VERSION_ZIP64)),this.write(ae.getShortBytes(Te.MIN_VERSION_ZIP64)),this.write(Te.LONG_ZERO),this.write(Te.LONG_ZERO),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._archive.centralLength)),this.write(ae.getEightBytes(this._archive.centralOffset)),this.write(ae.getLongBytes(Te.SIG_ZIP64_EOCD_LOC)),this.write(Te.LONG_ZERO),this.write(ae.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(ae.getLongBytes(1))};Zt.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>Te.ZIP64_MAGIC){i=Te.ZIP64_MAGIC,s=Te.ZIP64_MAGIC,n=Te.ZIP64_MAGIC,t.setVersionNeededToExtract(Te.MIN_VERSION_ZIP64);var o=Buffer.concat([ae.getShortBytes(Te.ZIP64_EXTRA_ID),ae.getShortBytes(24),ae.getEightBytes(t.getSize()),ae.getEightBytes(t.getCompressedSize()),ae.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(ae.getLongBytes(Te.SIG_CFH)),this.write(ae.getShortBytes(t.getPlatform()<<8|Te.VERSION_MADEBY)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(s)),this.write(ae.getLongBytes(i));var a=t.getName(),l=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(ae.getShortBytes(a.length)),this.write(ae.getShortBytes(c.length)),this.write(ae.getShortBytes(l.length)),this.write(Te.SHORT_ZERO),this.write(ae.getShortBytes(t.getInternalAttributes())),this.write(ae.getLongBytes(t.getExternalAttributes())),this.write(ae.getLongBytes(n)),this.write(a),this.write(c),this.write(l)};Zt.prototype._writeDataDescriptor=function(t){this.write(ae.getLongBytes(Te.SIG_DD)),this.write(ae.getLongBytes(t.getCrc())),t.isZip64()?(this.write(ae.getEightBytes(t.getCompressedSize())),this.write(ae.getEightBytes(t.getSize()))):(this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize())))};Zt.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(Te.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(ae.getLongBytes(Te.SIG_LFH)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(Te.LONG_ZERO),this.write(Te.LONG_ZERO),this.write(Te.LONG_ZERO)):(this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize()))),this.write(ae.getShortBytes(n.length)),this.write(ae.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};Zt.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};Zt.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>Te.ZIP64_MAGIC_SHORT||this._archive.centralLength>Te.ZIP64_MAGIC||this._archive.centralOffset>Te.ZIP64_MAGIC};Zt.prototype.setComment=function(t){this._archive.comment=t}});var bg=g((DUe,m2)=>{m2.exports={ArchiveEntry:_T(),ZipArchiveEntry:eO(),ArchiveOutputStream:dm(),ZipArchiveOutputStream:O2()}});var C2=g((PUe,g2)=>{var dOe=require("util").inherits,Lg=bg().ZipArchiveOutputStream,hOe=bg().ZipArchiveEntry,yg=El(),Kl=g2.exports=function(t){if(!(this instanceof Kl))return new Kl(t);t=this.options=t||{},t.zlib=t.zlib||{},Lg.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};dOe(Kl,Lg);Kl.prototype._normalizeFileData=function(t){t=yg.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=yg.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=yg.dateify(t.date),t};Kl.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new hOe(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),Lg.prototype.entry.call(this,n,t,r)};Kl.prototype.finalize=function(){this.finish()}});var y2=g((MUe,b2)=>{var TOe=C2(),SOe=El(),Us=function(t){if(!(this instanceof Us))return new Us(t);t=this.options=SOe.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new TOe(t)};Us.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};Us.prototype.finalize=function(){this.engine.finalize()};Us.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Us.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};Us.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};b2.exports=Us});var w2=g((xUe,L2)=>{L2.exports=require("events")});var P2=g((UUe,D2)=>{D2.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var wg=g((FUe,x2)=>{var M2=P2();x2.exports=class{constructor(e){this.hwm=e||16,this.head=new M2(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new M2(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var zl=g((GUe,v2)=>{function pOe(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function ROe(t){return Buffer.isEncoding(t)}function AOe(t,e,r){return Buffer.alloc(t,e,r)}function _Oe(t){return Buffer.allocUnsafe(t)}function IOe(t){return Buffer.allocUnsafeSlow(t)}function NOe(t,e){return Buffer.byteLength(t,e)}function OOe(t,e){return Buffer.compare(t,e)}function mOe(t,e){return Buffer.concat(t,e)}function gOe(t,e,r,n,i){return Ke(t).copy(e,r,n,i)}function COe(t,e){return Ke(t).equals(e)}function bOe(t,e,r,n,i){return Ke(t).fill(e,r,n,i)}function yOe(t,e,r){return Buffer.from(t,e,r)}function LOe(t,e,r,n){return Ke(t).includes(e,r,n)}function wOe(t,e,r,n){return Ke(t).indexOf(e,r,n)}function DOe(t,e,r,n){return Ke(t).lastIndexOf(e,r,n)}function POe(t){return Ke(t).swap16()}function MOe(t){return Ke(t).swap32()}function xOe(t){return Ke(t).swap64()}function Ke(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function vOe(t,e,r,n){return Ke(t).toString(e,r,n)}function UOe(t,e,r,n,i){return Ke(t).write(e,r,n,i)}function BOe(t,e){return Ke(t).readDoubleBE(e)}function FOe(t,e){return Ke(t).readDoubleLE(e)}function GOe(t,e){return Ke(t).readFloatBE(e)}function HOe(t,e){return Ke(t).readFloatLE(e)}function WOe(t,e){return Ke(t).readInt32BE(e)}function YOe(t,e){return Ke(t).readInt32LE(e)}function $Oe(t,e){return Ke(t).readUInt32BE(e)}function VOe(t,e){return Ke(t).readUInt32LE(e)}function kOe(t,e,r){return Ke(t).writeDoubleBE(e,r)}function qOe(t,e,r){return Ke(t).writeDoubleLE(e,r)}function XOe(t,e,r){return Ke(t).writeFloatBE(e,r)}function KOe(t,e,r){return Ke(t).writeFloatLE(e,r)}function zOe(t,e,r){return Ke(t).writeInt32BE(e,r)}function jOe(t,e,r){return Ke(t).writeInt32LE(e,r)}function JOe(t,e,r){return Ke(t).writeUInt32BE(e,r)}function QOe(t,e,r){return Ke(t).writeUInt32LE(e,r)}v2.exports={isBuffer:pOe,isEncoding:ROe,alloc:AOe,allocUnsafe:_Oe,allocUnsafeSlow:IOe,byteLength:NOe,compare:OOe,concat:mOe,copy:gOe,equals:COe,fill:bOe,from:yOe,includes:LOe,indexOf:wOe,lastIndexOf:DOe,swap16:POe,swap32:MOe,swap64:xOe,toBuffer:Ke,toString:vOe,write:UOe,readDoubleBE:BOe,readDoubleLE:FOe,readFloatBE:GOe,readFloatLE:HOe,readInt32BE:WOe,readInt32LE:YOe,readUInt32BE:$Oe,readUInt32LE:VOe,writeDoubleBE:kOe,writeDoubleLE:qOe,writeFloatBE:XOe,writeFloatLE:KOe,writeInt32BE:zOe,writeInt32LE:jOe,writeUInt32BE:JOe,writeUInt32LE:QOe}});var B2=g((WUe,U2)=>{var ZOe=zl();U2.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return ZOe.toString(e,this.encoding)}flush(){return""}}});var G2=g(($Ue,F2)=>{var eme=zl();F2.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return eme.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){let s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="\uFFFD");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="\uFFFD";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){let e=this.bytesNeeded>0?"\uFFFD":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}});var W2=g((kUe,H2)=>{var tme=B2(),rme=G2();H2.exports=class{constructor(e="utf8"){switch(this.encoding=nme(e),this.encoding){case"utf8":this.decoder=new rme;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new tme(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function nme(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}});var qg=g((qUe,uq)=>{var{EventEmitter:ime}=w2(),PS=new Error("Stream was destroyed"),Dg=new Error("Premature close"),X2=wg(),sme=W2(),Pg=typeof queueMicrotask>"u"?t=>global.process.nextTick(t):queueMicrotask,Tt=(1<<29)-1,Si=1,Gg=2,na=4,OE=8,K2=Tt^Si,ome=Tt^Gg,yE=16,jl=32,Zl=64,Fs=128,LE=256,Hg=512,ia=1024,Mg=2048,Wg=4096,Yg=8192,vn=16384,Bs=32768,MS=65536,sa=131072,z2=LE|Hg,ame=yE|MS,lme=Zl|yE,cme=Wg|Fs,$g=LE|sa,ume=Tt^yE,Eme=Tt^Zl,fme=Tt^(Zl|MS),Y2=Tt^MS,dme=Tt^LE,hme=Tt^(Fs|Yg),Tme=Tt^ia,$2=Tt^z2,j2=Tt^Bs,Sme=Tt^jl,J2=Tt^sa,pme=Tt^$g,es=1<<18,Ql=2<<18,wE=4<<18,oa=8<<18,DE=16<<18,Gs=32<<18,xg=64<<18,Jl=128<<18,Vg=256<<18,aa=512<<18,xS=1024<<18,Rme=Tt^(es|Vg),Q2=Tt^wE,Ame=Tt^(es|aa),_me=Tt^DE,Ime=Tt^oa,Z2=Tt^Jl,Nme=Tt^Ql,eq=Tt^xS,mE=yE|es,tq=Tt^mE,kg=vn|Gs,pi=na|OE|Gg,Jr=pi|Si,rq=pi|kg,Ome=Q2&Eme,vS=Jl|Bs,mme=vS&tq,nq=Jr|mme,gme=Jr|ia|vn,V2=Jr|vn|Fs,Cme=Jr|ia|Fs,bme=Jr|Wg|Fs|Yg,yme=Jr|yE|ia|vn|MS|sa,Lme=pi|ia|vn,wme=jl|Jr|Bs|Zl,Dme=Bs|Si,Pme=Jr|aa|Gs,Mme=oa|DE,iq=oa|es,xme=oa|DE|Jr|es,k2=Jr|es|oa|xS,vme=wE|es,Ume=es|Vg,Bme=Jr|aa|iq|Gs,Fme=DE|pi|aa|Gs,Gme=Ql|Jr|Jl|wE,Hme=aa|Gs|pi,bS=Symbol.asyncIterator||Symbol("asyncIterator"),yS=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new X2,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||cq,this.map=i||n,this.afterWrite=$me.bind(this),this.afterUpdateNextTick=qme.bind(this)}get ended(){return(this.stream._duplexState&Gs)!==0}push(e){return(this.stream._duplexState&Hme)!==0?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=oa,!0):(this.stream._duplexState|=Mme,!1))}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=Ime),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|aa)&Q2}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&k2)===iq;)n.push(i._writableState.shift());if((i._duplexState&Jr)!==0)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=Ql;do{for(;(e._duplexState&k2)===oa;){let r=this.shift();e._duplexState|=Ume,e._write(r,this.afterWrite)}(e._duplexState&vme)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=Nme}updateNonPrimary(){let e=this.stream;if((e._duplexState&Bme)===aa){e._duplexState=e._duplexState|es,e._final(Yme.bind(this));return}if((e._duplexState&pi)===na){(e._duplexState&vS)===0&&(e._duplexState|=mE,e._destroy(sq.bind(this)));return}(e._duplexState&nq)===Si&&(e._duplexState=(e._duplexState|mE)&K2,e._open(oq.bind(this)))}continueUpdate(){return(this.stream._duplexState&Jl)===0?!1:(this.stream._duplexState&=Z2,!0)}updateCallback(){(this.stream._duplexState&Gme)===wE?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&Jl)===0&&(this.stream._duplexState|=Jl,(this.stream._duplexState&Ql)===0&&Pg(this.afterUpdateNextTick))}},vg=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new X2,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=o||s||cq,this.map=i||n,this.pipeTo=null,this.afterRead=Vme.bind(this),this.afterUpdateNextTick=kme.bind(this)}get ended(){return(this.stream._duplexState&vn)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=Hg,this.pipeTo=e,this.pipeline=new Bg(this.stream,e,r),r&&this.stream.on("error",q2),bE(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",q2),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",Wme.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|ia)&fme,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=Y2,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|Fs)&Y2,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=hme),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&V2)===Fs){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=$2),(e._duplexState&Mg)!==0&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=sa,this.updateNextTick()),null}drain(){let e=this.stream;for(;(e._duplexState&V2)===Fs&&(e._duplexState&z2)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=$2),(e._duplexState&Mg)!==0&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=jl;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&yme)===sa;)e._duplexState|=ame,e._read(this.afterRead),this.drain();(e._duplexState&bme)===cme&&(e._duplexState|=Yg,e.emit("readable")),(e._duplexState&lme)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=Sme}updateNonPrimary(){let e=this.stream;if((e._duplexState&Cme)===ia&&(e._duplexState=(e._duplexState|vn)&Tme,e.emit("end"),(e._duplexState&rq)===kg&&(e._duplexState|=na),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&pi)===na){(e._duplexState&vS)===0&&(e._duplexState|=mE,e._destroy(sq.bind(this)));return}(e._duplexState&nq)===Si&&(e._duplexState=(e._duplexState|mE)&K2,e._open(oq.bind(this)))}continueUpdate(){return(this.stream._duplexState&Bs)===0?!1:(this.stream._duplexState&=j2,!0)}updateCallback(){(this.stream._duplexState&wme)===Zl?this.update():this.updateNextTick()}updateNextTickIfOpen(){(this.stream._duplexState&Dme)===0&&(this.stream._duplexState|=Bs,(this.stream._duplexState&jl)===0&&Pg(this.afterUpdateNextTick))}updateNextTick(){(this.stream._duplexState&Bs)===0&&(this.stream._duplexState|=Bs,(this.stream._duplexState&jl)===0&&Pg(this.afterUpdateNextTick))}},Ug=class{constructor(e){this.data=null,this.afterTransform=Kme.bind(e),this.afterFinal=null}},Bg=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&vn)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&vn)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function Wme(){this.stream._duplexState|=Hg,this.updateCallback()}function Yme(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&pi)===0&&(e._duplexState|=Gs,e.emit("finish")),(e._duplexState&rq)===kg&&(e._duplexState|=na),e._duplexState&=Ame,(e._duplexState&Ql)===0?this.update():this.updateNextTick()}function sq(t){let e=this.stream;!t&&this.error!==PS&&(t=this.error),t&&e.emit("error",t),e._duplexState|=OE,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function $me(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=Rme,this.drains!==null&&Xme(this.drains),(e._duplexState&xme)===DE&&(e._duplexState&=_me,(e._duplexState&xg)===xg&&e.emit("drain")),this.updateCallback()}function Vme(t){t&&this.stream.destroy(t),this.stream._duplexState&=ume,this.readAhead===!1&&(this.stream._duplexState&LE)===0&&(this.stream._duplexState&=J2),this.updateCallback()}function kme(){(this.stream._duplexState&jl)===0&&(this.stream._duplexState&=j2,this.update())}function qme(){(this.stream._duplexState&Ql)===0&&(this.stream._duplexState&=Z2,this.update())}function Xme(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function oq(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&na)===0&&((e._duplexState&gme)===0&&(e._duplexState|=Zl),(e._duplexState&Pme)===0&&(e._duplexState|=wE),e.emit("open")),e._duplexState&=tq,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function Kme(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}function zme(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=Mg|$g,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=Wg,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=xg,this._writableState.updateNextTick())}var gE=class extends ime{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",sge.bind(this))),this.on("newListener",zme)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&OE)!==0}get destroying(){return(this._duplexState&pi)!==0}destroy(e){(this._duplexState&pi)===0&&(e||(e=PS),this._duplexState=(this._duplexState|na)&Ome,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=Gg,this._predestroy(),this._duplexState&=ome,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},LS=class t extends gE{constructor(e){super(e),this._duplexState|=Si|Gs|sa,this._readableState=new vg(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=J2),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){let r=new sme(e),n=this._readableState.map||Qme;return this._readableState.map=i,this;function i(s){let o=r.push(s);return o===""&&(s.byteLength!==0||r.remaining>0)?null:n(o)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=$g,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?pme:dme,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(rge(e))return e;if(e[bS])return this._fromAsyncIterator(e[bS](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&Lme)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&LE)===0}[bS](){let e=this,r=null,n=null,i=null;return this.on("error",c=>{r=c}),this.on("readable",s),this.on("close",o),{[bS](){return this},next(){return new Promise(function(c,u){n=c,i=u;let E=e.read();E!==null?a(E):(e._duplexState&OE)!==0&&a(null)})},return(){return l(null)},throw(c){return l(c)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(c){i!==null&&(r?i(r):c===null&&(e._duplexState&vn)===0?i(PS):n({value:c,done:c===null}),i=n=null)}function l(c){return e.destroy(c),new Promise((u,E)=>{if(e._duplexState&OE)return u({value:void 0,done:!0});e.once("close",function(){c?E(c):u({value:void 0,done:!0})})})}}},wS=class extends gE{constructor(e){super(e),this._duplexState|=Si|vn,this._writableState=new yS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=xS}uncork(){this._duplexState&=eq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&Fme)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,i=(oge(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&Vg?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},CE=class extends LS{constructor(e){super(e),this._duplexState=Si|this._duplexState&sa,this._writableState=new yS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=xS}uncork(){this._duplexState&=eq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},DS=class extends CE{constructor(e){super(e),this._transformState=new Ug(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(jme.bind(this))}},Fg=class extends DS{};function jme(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function Jme(...t){return new Promise((e,r)=>aq(...t,n=>{if(n)return r(n);e()}))}function aq(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let c=1;c<r.length;c++)s=r[c],bE(i)?i.pipe(s,l):(a(i,!0,c>1,l),i.pipe(s)),i=s;if(n){let c=!1,u=bE(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",E=>{o===null&&(o=E)}),s.on("finish",()=>{c=!0,u||n(o)}),u&&s.on("close",()=>n(o||(c?null:Dg)))}return s;function a(c,u,E,d){c.on("error",d),c.on("close",f);function f(){if(u&&c._readableState&&!c._readableState.ended||E&&c._writableState&&!c._writableState.ended)return d(Dg)}}function l(c){if(!(!c||o)){o=c;for(let u of r)u.destroy(c)}}}function Qme(t){return t}function lq(t){return!!t._readableState||!!t._writableState}function bE(t){return typeof t._duplexState=="number"&&lq(t)}function Zme(t){return!!t._readableState&&t._readableState.ended}function ege(t){return!!t._writableState&&t._writableState.ended}function tge(t,e={}){let r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===PS?null:r}function rge(t){return bE(t)&&t.readable}function nge(t){return(t._duplexState&Si)!==Si||(t._duplexState&vS)!==0}function ige(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function cq(t){return ige(t)?t.byteLength:1024}function q2(){}function sge(){this.destroy(new Error("Stream aborted."))}function oge(t){return t._writev!==wS.prototype._writev&&t._writev!==CE.prototype._writev}uq.exports={pipeline:aq,pipelinePromise:Jme,isStream:lq,isStreamx:bE,isEnded:Zme,isFinished:ege,isDisturbed:nge,getStreamError:tge,Stream:gE,Writable:wS,Readable:LS,Duplex:CE,Transform:DS,PassThrough:Fg}});var zg=g(tc=>{var Ge=zl(),age="0000000000000000000",lge="7777777777777777777",US=48,Eq=Ge.from([117,115,116,97,114,0]),cge=Ge.from([US,US]),uge=Ge.from([117,115,116,97,114,32]),Ege=Ge.from([32,0]),fge=4095,PE=257,Kg=263;tc.decodeLongPath=function(e,r){return ec(e,0,e.length,r)};tc.encodePax=function(e){let r="";e.name&&(r+=Xg(" path="+e.name+`
`)),e.linkname&&(r+=Xg(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=Xg(" "+i+"="+n[i]+`
`);return Ge.from(r)};tc.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(Ge.toString(e.subarray(0,n)),10);if(!i)return r;let s=Ge.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};tc.encode=function(e){let r=Ge.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),Ge.byteLength(n)!==n.length)return null;for(;Ge.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return Ge.byteLength(n)>100||Ge.byteLength(i)>155||e.linkname&&Ge.byteLength(e.linkname)>100?null:(Ge.write(r,n),Ge.write(r,Ws(e.mode&fge,6),100),Ge.write(r,Ws(e.uid,6),108),Ge.write(r,Ws(e.gid,6),116),Age(e.size,r,124),Ge.write(r,Ws(e.mtime.getTime()/1e3|0,11),136),r[156]=US+pge(e.type),e.linkname&&Ge.write(r,e.linkname,157),Ge.copy(Eq,r,PE),Ge.copy(cge,r,Kg),e.uname&&Ge.write(r,e.uname,265),e.gname&&Ge.write(r,e.gname,297),Ge.write(r,Ws(e.devmajor||0,6),329),Ge.write(r,Ws(e.devminor||0,6),337),i&&Ge.write(r,i,345),Ge.write(r,Ws(dq(r),6),148),r)};tc.decode=function(e,r,n){let i=e[156]===0?0:e[156]-US,s=ec(e,0,100,r),o=Hs(e,100,8),a=Hs(e,108,8),l=Hs(e,116,8),c=Hs(e,124,12),u=Hs(e,136,12),E=Sge(i),d=e[157]===0?null:ec(e,157,100,r),f=ec(e,265,32),T=ec(e,297,32),h=Hs(e,329,8),S=Hs(e,337,8),p=dq(e);if(p===256)return null;if(p!==Hs(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(dge(e))e[345]&&(s=ec(e,345,155,r)+"/"+s);else if(!hge(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:l,size:c,mtime:new Date(1e3*u),type:E,linkname:d,uname:f,gname:T,devmajor:h,devminor:S,pax:null}};function dge(t){return Ge.equals(Eq,t.subarray(PE,PE+6))}function hge(t){return Ge.equals(uge,t.subarray(PE,PE+6))&&Ge.equals(Ege,t.subarray(Kg,Kg+2))}function Tge(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function Sge(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function pge(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function fq(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function dq(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function Ws(t,e){return t=t.toString(8),t.length>e?lge.slice(0,e)+" ":age.slice(0,e-t.length)+t+" "}function Rge(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function Age(t,e,r){t.toString(8).length>11?Rge(t,e,r):Ge.write(e,Ws(t,11),r)}function _ge(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function Hs(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return _ge(t);{for(;e<t.length&&t[e]===32;)e++;let n=Tge(fq(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(Ge.toString(t.subarray(e,n)),8)}}function ec(t,e,r,n){return Ge.toString(t.subarray(e,fq(t,0,e,e+r)),n)}function Xg(t){let e=Ge.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var Rq=g((KUe,pq)=>{var{Writable:Ige,Readable:Nge,getStreamError:hq}=qg(),Oge=wg(),Tq=zl(),rc=zg(),mge=Tq.alloc(0),Jg=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new Oge,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return mge;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return Tq.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},Qg=class extends Nge{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(hq(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=Sq(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},Zg=class extends Ige{constructor(e){super(e),e||(e={}),this._buffer=new Jg,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=jg,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=rc.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=rc.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=rc.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=rc.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?rc.decodePax(e):Object.assign({},this._paxGlobal,rc.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=Sq(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new Qg(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=jg,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(hq(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",c),this.on("error",d=>{e=d}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(l)},return(){return E(null)},throw(d){return E(d)}};function a(d){if(!s)return;let f=s;s=null,f(d)}function l(d,f){if(e)return f(e);if(i){d({value:i,done:!1}),i=null;return}r=d,n=f,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function c(d,f,T){s=T,f.on("error",jg),r?(r({value:f,done:!1}),r=n=null):i=f}function u(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function E(d){return o.destroy(d),a(d),new Promise((f,T)=>{if(o.destroyed)return f({value:void 0,done:!0});o.once("close",function(){d?T(d):f({value:void 0,done:!0})})})}}};pq.exports=function(e){return new Zg(e)};function jg(){}function Sq(t){return t&=511,t&&512-t}});var _q=g((zUe,eC)=>{var Aq={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{eC.exports=require("fs").constants||Aq}catch{eC.exports=Aq}});var gq=g((jUe,mq)=>{var{Readable:gge,Writable:Cge,getStreamError:Iq}=qg(),la=zl(),nc=_q(),BS=zg(),bge=493,yge=420,Nq=la.alloc(1024),rC=class extends Cge{constructor(e,r,n){super({mapWritable:wge,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?la.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?la.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),Oq(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return Iq(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},nC=class extends gge{constructor(e){super(e),this._drain=tC,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=tC),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=Lge(e.mode)),e.mode||(e.mode=e.type==="directory"?bge:yge),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=la.from(r));let i=new rC(this,e,n);return la.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(Nq),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=BS.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=BS.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(BS.encode(n)),this.push(r),Oq(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(BS.encode(n))}_doDrain(){let e=this._drain;this._drain=tC,e()}_predestroy(){let e=Iq(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};mq.exports=function(e){return new nC(e)};function Lge(t){switch(t&nc.S_IFMT){case nc.S_IFBLK:return"block-device";case nc.S_IFCHR:return"character-device";case nc.S_IFDIR:return"directory";case nc.S_IFIFO:return"fifo";case nc.S_IFLNK:return"symlink"}return"file"}function tC(){}function Oq(t,e){e&=511,e&&t.push(Nq.subarray(0,512-e))}function wge(t){return la.isBuffer(t)?t:la.from(t)}});var Cq=g(iC=>{iC.extract=Rq();iC.pack=gq()});var Lq=g((QUe,yq)=>{var Dge=require("zlib"),Pge=Cq(),bq=El(),ts=function(t){if(!(this instanceof ts))return new ts(t);t=this.options=bq.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=Pge.pack(t),this.compressor=!1,t.gzip&&(this.compressor=Dge.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};ts.prototype._onCompressorError=function(t){this.engine.emit("error",t)};ts.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(o,a){if(o){r(o);return}n.engine.entry(e,a,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(o){r(o,e)});t.pipe(s)}else e.sourceType==="stream"&&bq.collectStream(t,i)};ts.prototype.finalize=function(){this.engine.finalize()};ts.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};ts.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};ts.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};yq.exports=ts});var Pq=g((ZUe,Dq)=>{"use strict";function Mge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xge=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function wq(t){if(Buffer.isBuffer(t))return t;if(typeof t=="number")return Buffer.alloc(t);if(typeof t=="string")return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function vge(t){let e=wq(4);return e.writeInt32BE(t,0),e}function sC(t,e){t=wq(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~~e^-1;for(var n=0;n<t.length;n++)r=xge[(r^t[n])&255]^r>>>8;return r^-1}function oC(){return vge(sC.apply(null,arguments))}oC.signed=function(){return sC.apply(null,arguments)};oC.unsigned=function(){return sC.apply(null,arguments)>>>0};var Uge=oC,Bge=Mge(Uge);Dq.exports=Bge});var Uq=g((eBe,vq)=>{var Fge=require("util").inherits,Mq=KN().Transform,Gge=Pq(),xq=El(),Ys=function(t){if(!(this instanceof Ys))return new Ys(t);t=this.options=xq.defaults(t,{}),Mq.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};Fge(Ys,Mq);Ys.prototype._transform=function(t,e,r){r(null,t)};Ys.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};Ys.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,o){if(s){r(s);return}e.size=o.length||0,e.crc32=Gge.unsigned(o),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&xq.collectStream(t,i)};Ys.prototype.finalize=function(){this._writeStringified(),this.end()};vq.exports=Ys});var Fq=g((tBe,Bq)=>{var Hge=AH(),ME={},$s=function(t,e){return $s.create(t,e)};$s.create=function(t,e){if(ME[t]){var r=new Hge(t,e);return r.setFormat(t),r.setModule(new ME[t](e)),r}else throw new Error("create("+t+"): format not registered")};$s.registerFormat=function(t,e){if(ME[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");ME[t]=e};$s.isRegisteredFormat=function(t){return!!ME[t]};$s.registerFormat("zip",y2());$s.registerFormat("tar",Lq());$s.registerFormat("json",Uq());Bq.exports=$s});var ca,ic,Gq=Y(()=>{"use strict";ca=require("buffer"),ic=class{constructor(e=65536){this.chunkSize=e,this.chunks=[],this.currentBuffer=ca.Buffer.alloc(e),this.cursor=0}ensureCapacity(e){this.cursor+e>this.chunkSize&&this._flush()}_ensureCapacity(e){this.ensureCapacity(e)}_flush(){this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=ca.Buffer.alloc(this.chunkSize),this.cursor=0)}write(e){let r=e.length,n=0;for(;r>0;){let i=this.chunkSize-this.cursor;i===0&&(this._flush(),i=this.chunkSize);let s=Math.min(r,i);e.copy(this.currentBuffer,this.cursor,n,n+s),this.cursor+=s,n+=s,r-=s}}writeByte(e){this._ensureCapacity(1),this.currentBuffer[this.cursor]=e,this.cursor++}writeUnsafeByte(e){this.currentBuffer[this.cursor++]=e}writeInt32LE(e){this._ensureCapacity(4),this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeUnsafeInt32LE(e){this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeDoubleLE(e){this._ensureCapacity(8),this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeUnsafeDoubleLE(e){this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeString(e){let r=ca.Buffer.byteLength(e,"utf8");if(this.cursor+r<=this.chunkSize){this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8");return}this._flush(),r>this.chunkSize?this.chunks.push(ca.Buffer.from(e,"utf8")):this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8")}writeUtf16LE(e){let r=e.length*2;if(this.cursor+r<=this.chunkSize){for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}return}if(this._flush(),r>this.chunkSize)this.chunks.push(ca.Buffer.from(e,"utf16le"));else for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}}getChunks(){return this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=ca.Buffer.alloc(this.chunkSize),this.cursor=0),this.chunks}reset(){this.chunks=[],this.cursor=0}}});var Yq={};Dt(Yq,{XlsbWriter:()=>GS,default:()=>Yge});var Hq,Wq,FS,Wge,GS,Yge,$q=Y(()=>{"use strict";Hq=Q(require("fs")),Wq=Q(Fq()),FS=require("stream");Gq();Wge=/[\\/*?[\]:]/g,GS=class{constructor(e){this.sheetCount=0;this.sheetList=[];this.sstDic=new Map;this.sstCntUnique=0;this.sstCntAll=0;this.colWidths=[];this._autofilterIsOn=!1;this.currentSheetBuffer=null;this.currentSheetRowNum=0;this.currentSheetStartCol=0;this.currentSheetEndCol=0;this.currentSheetDoAutofilter=!1;this.isStreaming=!1;this.filePath=e,this.output=Hq.createWriteStream(e),this.archive=(0,Wq.default)("zip"),this.archive.pipe(this.output),this._oaEpoch=Date.UTC(1899,11,30),this._sheet1Bytes=Buffer.from([129,1,0,147,1,23,203,4,2,0,64,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,148,1,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,1,0,137,1,30,220,3,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,100,0,0,0,0,0,0,0,0,0,0,0,152,1,36,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,1,0,134,1,0,37,6,1,0,2,14,0,128,149,8,2,5,0,38,0,229,3,12,255,255,255,255,8,0,44,1,0,0,0,0,145,1,0,37,6,1,0,2,14,0,128,128,8,2,5,0,38,0,0,25,0,0,0,0,0,0,0,0,44,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,7,12,0,0,0,0,0,0,0,0,0,0,0,0,146,1,0,151,4,66,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,221,3,2,16,0,220,3,48,102,102,102,102,102,102,230,63,102,102,102,102,102,102,230,63,0,0,0,0,0,0,232,63,0,0,0,0,0,0,232,63,51,51,51,51,51,51,211,63,51,51,51,51,51,51,211,63,37,6,1,0,0,16,0,128,128,24,16,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,38,0,130,1,0]),this._workbookBinStart=Buffer.from([131,1,0,128,1,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,120,0,108,0,1,0,0,0,55,0,1,0,0,0,54,0,5,0,0,0,50,0,52,0,51,0,50,0,54,0,153,1,12,32,0,1,0,0,0,0,0,0,0,0,0,37,6,1,0,3,15,0,128,151,16,52,24,0,0,0,67,0,58,0,92,0,115,0,113,0,108,0,115,0,92,0,84,0,101,0,115,0,116,0,121,0,90,0,97,0,112,0,105,0,115,0,117,0,88,0,108,0,115,0,98,0,92,0,38,0,37,6,1,0,0,16,0,128,129,24,130,1,0,0,0,0,0,0,0,0,47,0,0,0,49,0,51,0,95,0,110,0,99,0,114,0,58,0,49,0,95,0,123,0,49,0,54,0,53,0,48,0,56,0,68,0,54,0,57,0,45,0,67,0,70,0,56,0,55,0,45,0,52,0,55,0,54,0,57,0,45,0,56,0,52,0,53,0,54,0,45,0,68,0,52,0,65,0,52,0,48,0,49,0,49,0,51,0,49,0,53,0,54,0,55,0,125,0,47,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,135,1,0,37,6,1,0,2,16,0,128,128,24,16,0,0,0,0,13,0,0,0,255,255,255,255,0,0,0,0,38,0,158,1,29,0,0,0,0,158,22,0,0,180,105,0,0,232,38,0,0,88,2,0,0,0,0,0,0,0,0,0,0,120,136,1,0,143,1,0]),this._workbookBinMiddle=Buffer.from([144,1,0]),this._workbookBinEnd=Buffer.from([157,1,26,53,234,2,0,1,0,0,0,100,0,0,0,252,169,241,210,77,98,80,63,1,0,0,0,106,0,155,1,1,0,35,4,3,15,0,0,171,16,1,1,36,0,132,1,0]),this._stylesBin=Buffer.from([150,2,0,231,4,4,2,0,0,0,44,44,164,0,19,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,92,0,32,0,104,0,104,0,58,0,109,0,109,0,44,30,166,0,12,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,232,4,0,227,4,4,1,0,0,0,43,39,220,0,0,0,144,1,0,0,0,2,0,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,43,39,220,0,1,0,188,2,0,0,0,2,238,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,37,6,1,0,2,14,0,128,129,8,0,38,0,228,4,0,219,4,4,2,0,0,0,45,68,0,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,68,17,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,4,0,229,4,4,1,0,0,0,46,51,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,230,4,0,242,4,4,1,0,0,0,47,16,255,255,0,0,0,0,0,0,0,0,0,0,16,16,0,0,243,4,0,233,4,4,4,0,0,0,47,16,0,0,0,0,0,0,0,0,0,0,0,0,16,16,0,0,47,16,0,0,164,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,166,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,0,1,1,0,0,0,0,0,0,0,16,16,0,0,234,4,0,235,4,4,1,0,0,0,37,6,1,0,2,17,0,128,128,24,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,48,28,0,0,0,0,1,0,0,0,8,0,0,0,78,0,111,0,114,0,109,0,97,0,108,0,110,0,121,0,236,4,0,249,3,4,0,0,0,0,250,3,0,252,3,80,0,0,0,0,17,0,0,0,84,0,97,0,98,0,108,0,101,0,83,0,116,0,121,0,108,0,101,0,77,0,101,0,100,0,105,0,117,0,109,0,50,0,17,0,0,0,80,0,105,0,118,0,111,0,116,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,54,0,253,3,0,35,4,2,14,0,0,235,8,0,246,8,42,0,0,0,0,17,0,0,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,247,8,0,236,8,0,36,0,35,4,3,15,0,0,176,16,0,178,16,50,0,0,0,0,21,0,0,0,84,0,105,0,109,0,101,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,179,16,0,177,16,0,36,0,151,2,0]),this._binaryIndexBin=Buffer.from([42,24,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,2,0]),this._rRkIntegerLowerLimit=-1<<29,this._rRkIntegerUpperLimit=(1<<29)-1,this._autoFilterStartBytes=Buffer.from([161,1,16]),this._autoFilterEndBytes=Buffer.from([162,1,0]),this._stickHeaderA1bytes=Buffer.from([151,1,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,1,0,0,0,0,0,0,0,2,0,0,0,3]),this._magicFilterExcel2016Fix0=Buffer.from([225,2,0,229,2,0,234,2]),this._magicFilterExcel2016Fix1=Buffer.from([39,70,33,0,0,0,0,255,0,0,0,15,0,0,0,95,0,70,0,105,0,108,0,116,0,101,0,114,0,68,0,97,0,116,0,97,0,98,0,97,0,115,0,101,0,15,0,0,0,59,255,0]),this._magicFilterExcel2016Fix2=Buffer.from([0,0,0,0,255,255,255,255])}_sanitizeSheetName(e){if(!e||typeof e!="string")return`Sheet${this.sheetCount+1}`;let r=e.replace(Wge,"_");return r.length>31&&(r=r.substring(0,31)),r.trim().length===0&&(r=`Sheet${this.sheetCount+1}`),r}addSheet(e,r=!1){let n=this._sanitizeSheetName(e);this.sheetCount++,this.sheetList.push({name:n,pathInArchive:`xl/worksheets/sheet${this.sheetCount}.bin`,hidden:r,nameInArchive:`sheet${this.sheetCount}.bin`,sheetId:this.sheetCount,filterHeaderRange:null})}startSheet(e,r,n,i={}){if(this.isStreaming)throw new Error("Already in streaming mode. Call endSheet() first.");let{hidden:s=!1,doAutofilter:o=!0}=i;this.addSheet(e,s),this.isStreaming=!0,this.currentSheetBuffer=new ic,this.currentSheetRowNum=0,this.currentSheetStartCol=0,this.currentSheetEndCol=r,this.currentSheetDoAutofilter=o&&n!==void 0;let a=this.currentSheetBuffer;if(this.colWidths=new Array(r).fill(-1),n)for(let c=0;c<r;c++){let E=1.25*(n[c]?n[c].length:0)+2;E>80&&(E=80),this.colWidths[c]<E&&(this.colWidths[c]=E)}let l=Buffer.from(this._sheet1Bytes);l.writeInt32LE(this.currentSheetStartCol,40),l.writeInt32LE(this.currentSheetEndCol,44),this.sheetCount!==1&&(l[54]=156),a.write(l.subarray(0,84)),this.currentSheetDoAutofilter&&a.write(this._stickHeaderA1bytes),a.write(l.subarray(84,159)),a.writeByte(134),a.writeByte(3);for(let c=this.currentSheetStartCol;c<this.currentSheetEndCol;c++){a.writeByte(0),a.writeByte(60),a.writeByte(18),a.writeInt32LE(c),a.writeInt32LE(c);let u=this.colWidths[c]>0?Math.floor(this.colWidths[c]):10;a.writeByte(0),a.writeByte(Math.max(0,Math.min(255,u))),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(2)}if(a.writeByte(0),a.writeByte(135),a.writeByte(3),a.writeByte(0),a.write(l.subarray(159,175)),a.write(Buffer.from([38,0])),n){this.createRowHeader(a,this.currentSheetRowNum,this.currentSheetStartCol,this.currentSheetEndCol);for(let c=0;c<n.length;c++)this.writeString(a,n[c],c,!0);this.currentSheetRowNum++}}writeRow(e){if(!this.isStreaming||!this.currentSheetBuffer)throw new Error("Not in streaming mode. Call startSheet() first.");if(e.length!==this.currentSheetEndCol-this.currentSheetStartCol)throw new Error(`Row length mismatch. Expected ${this.currentSheetEndCol-this.currentSheetStartCol} columns, got ${e.length}`);let r=this.currentSheetBuffer;this.createRowHeader(r,this.currentSheetRowNum,this.currentSheetStartCol,this.currentSheetEndCol);for(let n=0;n<e.length;n++){let i=e[n];i!=null&&(typeof i=="number"?Number.isInteger(i)?i>=this._rRkIntegerLowerLimit&&i<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(r,i,n):this.writeDouble(r,i,n):this.writeDouble(r,i,n):typeof i=="bigint"?this.writeString(r,i.toString(),n):typeof i=="boolean"?this.writeBool(r,i,n):i instanceof Date?this.writeDateTime(r,i,n):this.writeString(r,i.toString(),n))}this.currentSheetRowNum++}endSheet(){if(!this.isStreaming||!this.currentSheetBuffer)throw new Error("Not in streaming mode. Call startSheet() first.");let e=this.currentSheetBuffer,r=Buffer.from(this._sheet1Bytes);if(e.write(r.subarray(218,290)),this.currentSheetDoAutofilter){this._autofilterIsOn=!0;let n=this.currentSheetRowNum;e.write(this._autoFilterStartBytes);let i=Buffer.alloc(8);i.writeInt32LE(0,0),i.writeInt32LE(n-1,4),e.write(i);let s=Buffer.alloc(8);s.writeInt32LE(this.currentSheetStartCol,0),s.writeInt32LE(this.currentSheetEndCol-1,4),e.write(s),e.write(this._autoFilterEndBytes);let o=this.sheetList[this.sheetCount-1];o.filterData={startRow:0,endRow:this.currentSheetRowNum-1,startColumn:this.currentSheetStartCol,endColumn:this.currentSheetEndCol-1}}e.write(r.subarray(290)),this.archive.append(FS.Readable.from(e.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive}),this.isStreaming=!1,this.currentSheetBuffer=null,this.currentSheetRowNum=0,this.currentSheetStartCol=0,this.currentSheetEndCol=0,this.currentSheetDoAutofilter=!1}writeSheet(e,r=null,n=!0){let i=new ic,s=0;if(e.length>0?s=e[0].length:r&&(s=r.length),this.colWidths=new Array(s).fill(-1),r)for(let u=0;u<s;u++){let d=1.25*(r[u]?r[u].length:0)+2;d>80&&(d=80),this.colWidths[u]<d&&(this.colWidths[u]=d)}for(let u=0;u<Math.min(e.length,100);u++){let E=e[u];for(let d=0;d<E.length;d++){let f=E[d],h=1.25*(f?f.toString().length:0)+2;h>80&&(h=80),this.colWidths[d]<h&&(this.colWidths[d]=h)}}let o=Buffer.from(this._sheet1Bytes),a=0,l=s;o.writeInt32LE(a,40),o.writeInt32LE(l,44),this.sheetCount!==1&&(o[54]=156),i.write(o.subarray(0,84)),n&&r&&i.write(this._stickHeaderA1bytes),i.write(o.subarray(84,159)),i.writeByte(134),i.writeByte(3);for(let u=a;u<l;u++){i.writeByte(0),i.writeByte(60),i.writeByte(18),i.writeInt32LE(u),i.writeInt32LE(u);let E=this.colWidths[u]>0?Math.floor(this.colWidths[u]):10;i.writeByte(0),i.writeByte(Math.max(0,Math.min(255,E))),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(2)}i.writeByte(0),i.writeByte(135),i.writeByte(3),i.writeByte(0),i.write(o.subarray(159,175)),i.write(Buffer.from([38,0]));let c=0;if(r){this.createRowHeader(i,c,a,l);for(let u=0;u<r.length;u++)this.writeString(i,r[u],u,!0);c++}for(let u=0;u<e.length;u++){this.createRowHeader(i,c,a,l);let E=e[u];for(let d=0;d<E.length;d++){let f=E[d];f!=null&&(typeof f=="number"?Number.isInteger(f)?f>=this._rRkIntegerLowerLimit&&f<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(i,f,d):this.writeDouble(i,f,d):this.writeDouble(i,f,d):typeof f=="bigint"?this.writeString(i,f.toString(),d):typeof f=="boolean"?this.writeBool(i,f,d):f instanceof Date?this.writeDateTime(i,f,d):this.writeString(i,f.toString(),d))}c++}if(i.write(o.subarray(218,290)),n&&r){this._autofilterIsOn=!0;let u=e.length+1;i.write(this._autoFilterStartBytes);let E=Buffer.alloc(8);E.writeInt32LE(0,0),E.writeInt32LE(u-1,4),i.write(E);let d=Buffer.alloc(8);d.writeInt32LE(a,0),d.writeInt32LE(l-1,4),i.write(d),i.write(this._autoFilterEndBytes);let f=this.sheetList[this.sheetCount-1];f.filterData={startRow:0,endRow:e.length,startColumn:a,endColumn:l-1}}i.write(o.subarray(290)),this.archive.append(FS.Readable.from(i.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive})}_getColumnLetter(e){if(e<26)return String.fromCharCode(65+e);if(e<702){let r=Math.floor(e/26)-1,n=e%26;return String.fromCharCode(65+r)+String.fromCharCode(65+n)}return"A"}createRowHeader(e,r,n,i){e.ensureCapacity(27),e.writeUnsafeByte(0),e.writeUnsafeByte(25),e.writeUnsafeInt32LE(r),e.writeUnsafeInt32LE(0),e.writeUnsafeByte(44),e.writeUnsafeByte(1),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(1),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeInt32LE(n),e.writeUnsafeInt32LE(i)}writeRkNumberInteger(e,r,n,i=0){e.ensureCapacity(14),e.writeUnsafeByte(2),e.writeUnsafeByte(12),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0);let s=r<<2|2;e.writeUnsafeInt32LE(s)}writeDouble(e,r,n,i=0){e.ensureCapacity(18),e.writeUnsafeByte(5),e.writeUnsafeByte(16),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeDoubleLE(r)}writeBool(e,r,n){e.ensureCapacity(13),e.writeUnsafeByte(4),e.writeUnsafeByte(9),e.writeUnsafeInt32LE(n),e.writeUnsafeInt32LE(0),e.writeUnsafeByte(r?1:0)}writeDateTime(e,r,n){let i=r.getTimezoneOffset()*6e4,s=(r.getTime()-i-this._oaEpoch)/864e5;this.writeDouble(e,s,n,1)}writeString(e,r,n,i=!1){let s;this.sstDic.has(r)?s=this.sstDic.get(r):(s=this.sstCntUnique,this.sstDic.set(r,s),this.sstCntUnique++),this.sstCntAll++,e.ensureCapacity(17),e.writeUnsafeByte(7),e.writeUnsafeByte(12),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i?3:0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeInt32LE(s)}saveSst(){let e=new ic;e.writeByte(159),e.writeByte(1),e.writeByte(8),e.writeInt32LE(this.sstCntUnique),e.writeInt32LE(this.sstCntAll);for(let[r]of this.sstDic){let n=r.length;e.writeByte(19);let i=5+2*n;if(i>=128){e.writeByte(128+i%128);let s=i>>7;s>=256?e.writeByte(128+s%128):e.writeByte(s),e.writeByte(i>>14),i>>14>0&&e.writeByte(0)}else e.writeByte(i&255),e.writeByte(i>>8&255);e.writeInt32LE(n),e.writeUtf16LE(r)}e.writeByte(160),e.writeByte(1),e.writeByte(0),this.archive.append(FS.Readable.from(e.getChunks()),{name:"xl/sharedStrings.bin"})}_writeFilterDefinedName(e,r,n){let i=r.filterData,s=r.sheetId-1,o=Buffer.alloc(this._magicFilterExcel2016Fix1.length);this._magicFilterExcel2016Fix1.copy(o);let a=this._magicFilterExcel2016Fix1.length-2;o[7]=s,o[a]=n,e.push(o);let l=Buffer.alloc(8);l.writeInt32LE(i.startRow,0),l.writeInt32LE(i.endRow,4),e.push(l);let c=Buffer.alloc(4);c.writeInt16LE(i.startColumn,0),c.writeInt16LE(i.endColumn,2),e.push(c),e.push(this._magicFilterExcel2016Fix2)}finalize(){return new Promise((e,r)=>{try{this.saveSst(),this.archive.append(this._stylesBin,{name:"xl/styles.bin"});let n=[];n.push(this._workbookBinStart);for(let a of this.sheetList){let l=`rId${a.sheetId}`,c=16+a.name.length*2+l.length*2,u=Buffer.alloc(3+c);u[0]=156,u[1]=1,u[2]=c;let E=3;u.writeInt32LE(a.hidden?1:0,E),E+=4,u.writeInt32LE(a.sheetId,E),E+=4,u.writeInt32LE(l.length,E),E+=4;for(let d=0;d<l.length;d++){let f=l.charCodeAt(d);u[E++]=f&255,u[E++]=f>>8&255}u.writeInt32LE(a.name.length,E),E+=4;for(let d=0;d<a.name.length;d++){let f=a.name.charCodeAt(d);u[E++]=f&255,u[E++]=f>>8&255}n.push(u)}if(n.push(this._workbookBinMiddle),this._autofilterIsOn){let a=this.sheetList.filter(c=>c.filterData),l=a.length;if(l>0){n.push(this._magicFilterExcel2016Fix0);let c=16+(l-1)*12,u=Buffer.from([c,l,0,0,0]);n.push(u);for(let E=0;E<l;E++){let d=a[E].sheetId-1,f=Buffer.alloc(12);f.writeInt32LE(0,0),f[4]=d,f[8]=d,n.push(f)}n.push(Buffer.from([226,2,0]));for(let E=0;E<l;E++){let d=a[E];this._writeFilterDefinedName(n,d,E)}}}n.push(this._workbookBinEnd),this.archive.append(Buffer.concat(n),{name:"xl/workbook.bin"});for(let a of this.sheetList)this.archive.append(this._binaryIndexBin,{name:`xl/worksheets/binaryIndex${a.sheetId}.bin`});let i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default Extension="bin" ContentType="application/vnd.ms-excel.sheet.binary.macroEnabled.main"/>
<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>
<Default Extension="xml" ContentType="application/xml"/>`;for(let a of this.sheetList)i+=`<Override PartName="/${a.pathInArchive}" ContentType="application/vnd.ms-excel.worksheet"/>`,i+=`<Override PartName="/xl/worksheets/binaryIndex${a.sheetId}.bin" ContentType="application/vnd.ms-excel.binIndexWs"/>`;i+=`<Override PartName="/xl/styles.bin" ContentType="application/vnd.ms-excel.styles"/>
<Override PartName="/xl/sharedStrings.bin" ContentType="application/vnd.ms-excel.sharedStrings"/>
</Types>`,this.archive.append(i,{name:"[Content_Types].xml"});let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`;for(let a of this.sheetList){let l=`rId${a.sheetId}`;s+=`<Relationship Id="${l}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/${a.nameInArchive}"/>`}s+=`<Relationship Id="rId${this.sheetList.length+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.bin"/>
<Relationship Id="rId${this.sheetList.length+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.bin"/>
</Relationships>`,this.archive.append(s,{name:"xl/_rels/workbook.bin.rels"}),this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.bin"/>
</Relationships>`,{name:"_rels/.rels"});for(let a of this.sheetList){let l=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.microsoft.com/office/2006/relationships/xlBinaryIndex" Target="binaryIndex${a.sheetId}.bin"/>
</Relationships>`;this.archive.append(l,{name:`xl/worksheets/_rels/${a.nameInArchive}.rels`})}this.output.on("close",()=>e()),this.archive.on("error",a=>r(a)),this.archive.finalize()}catch(n){r(n)}})}},Yge=GS});var ua={};Dt(ua,{copyFileToClipboard:()=>lC,exportCsvToXlsb:()=>kge,exportQueryToXlsb:()=>Vge,getTempFilePath:()=>qge});function $ge(t){if(typeof t=="string"&&t.length>0&&/^-?\d+(\.\d+)?$/.test(t)){let e=parseFloat(t);if(Number.isFinite(e))return e}return t}function qq(t){return t.map($ge)}async function Vge(t,e,r,n=!1,i){let s=null;try{i&&i("Connecting to database...");let o={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},a=nr();s=new a(o),await s.connect();let l=new kq(r),{SqlParser:c}=await Promise.resolve().then(()=>(Zs(),Sy)),u=c.splitStatements(e),E=0,d=0;for(let p=0;p<u.length;p++){let I=u[p];if(!I.trim())continue;let R=u.length>1?`Result ${p+1}`:"Query Results";i&&i(`Executing query ${p+1}/${u.length}...`);try{let O=await s.createCommand(I).executeReader(),L=[];for(let y=0;y<O.fieldCount;y++)L.push(O.getName(y));let N=L.length;d=Math.max(d,N),l.startSheet(R,N,L,{doAutofilter:!0});let D=0;for(;await O.read();){let y=[];for(let P=0;P<O.fieldCount;P++)y.push(O.getValue(P));l.writeRow(qq(y)),D++,D%1e4===0&&i&&i(`Streaming ${D.toLocaleString()} rows to "${R}"...`)}l.endSheet(),E+=D,i&&i(`Written ${D.toLocaleString()} rows to sheet "${R}"`)}catch(A){let O=A instanceof Error?A.message:String(A);l.startSheet(`Error ${p+1}`,1,["Error"],{doAutofilter:!1}),l.writeRow([`Error executing query: ${O}`]),l.endSheet()}}let f=e.split(`
`);l.startSheet("SQL Code",1,void 0,{doAutofilter:!1}),l.writeRow(["SQL Query:"]);for(let p of f)l.writeRow([p]);l.endSheet(),i&&i("Finalizing file..."),await l.finalize();let h=aC.statSync(r).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Total Rows: ${E.toLocaleString()}`),i(`  - File size: ${h.toFixed(1)} MB`),i(`  - Location: ${r}`));let S={success:!0,message:`Successfully exported ${E} rows to ${r}`,details:{rows_exported:E,columns:d,file_size_mb:parseFloat(h.toFixed(1)),file_path:r}};if(n){i&&i("Copying to clipboard...");let p=await lC(r);S.details&&(S.details.clipboard_success=p)}return S}catch(o){return{success:!1,message:`Export error: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}async function kge(t,e,r=!1,n={source:"Unknown"},i){try{i&&i("Initializing XLSB writer...");let s=new kq(e),o=0,a=0,l=[],c=(f,T)=>{let h=f.split(/\r?\n/),S=A=>{let O=[],L=0,N=!1;for(let y=0;y<A.length;y++)if(A[y]==='"')N=!N;else if(A[y]===","&&!N){let P=A.substring(L,y);P.startsWith('"')&&P.endsWith('"')&&(P=P.substring(1,P.length-1).replace(/""/g,'"')),O.push(P),L=y+1}let D=A.substring(L);return D.startsWith('"')&&D.endsWith('"')&&(D=D.substring(1,D.length-1).replace(/""/g,'"')),O.push(D),O},p=0;for(;p<h.length&&!h[p].trim();)p++;if(p>=h.length)return;let I=S(h[p]);if(I.length===0)return;a=Math.max(a,I.length),s.startSheet(T,I.length,I,{doAutofilter:!0});let R=0;for(let A=p+1;A<h.length;A++){let O=h[A];if(!O.trim())continue;let L=S(O);s.writeRow(qq(L)),R++}s.endSheet(),o+=R};Array.isArray(t)?(i&&i(`Processing ${t.length} result sets...`),t.forEach((f,T)=>{let h=f.name||`Result ${T+1}`;i&&i(`Processing sheet "${h}"...`),c(f.csv,h),f.sql&&l.push({name:h,sql:f.sql})})):(i&&i("Reading CSV content..."),c(t,"Query Results"),n.sql?l.push({name:"Query Results",sql:n.sql}):n.source&&(s.startSheet("CSV Source",1,void 0,{doAutofilter:!1}),s.writeRow(["CSV Source:"]),s.writeRow([n.source]),s.endSheet())),l.length>0&&(s.startSheet("SQL Code",1,void 0,{doAutofilter:!1}),l.forEach(f=>{s.writeRow([`--- SQL for ${f.name} ---`]),f.sql.split(`
`).forEach(T=>{s.writeRow([T])}),s.writeRow([""])}),s.endSheet()),i&&i("Finalizing XLSB file..."),await s.finalize();let E=aC.statSync(e).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Rows: ${o.toLocaleString()}`),i(`  - File size: ${E.toFixed(1)} MB`));let d={success:!0,message:`Successfully exported ${o} rows to ${e}`,details:{rows_exported:o,columns:a,file_size_mb:parseFloat(E.toFixed(1)),file_path:e}};if(r){i&&i("Copying file to clipboard...");let f=await lC(e);d.details&&(d.details.clipboard_success=f)}return d}catch(s){return{success:!1,message:`Export failed: ${s instanceof Error?s.message:String(s)}`}}}async function lC(t){return HS.platform()!=="win32"?(console.error("Clipboard file copy is only supported on Windows"),!1):new Promise(e=>{try{let r=sc.normalize(sc.resolve(t)),n=`Set-Clipboard -Path "${r.replace(/"/g,'`"')}"`,i=(0,Vq.spawn)("powershell.exe",["-NoProfile","-NonInteractive","-Command",n]),s="";i.stderr.on("data",o=>{s+=o.toString()}),i.on("close",o=>{o!==0?(console.error(`PowerShell clipboard copy failed: ${s}`),e(!1)):(console.log(`File copied to clipboard: ${r}`),e(!0))}),i.on("error",o=>{console.error(`Error spawning PowerShell: ${o.message}`),e(!1)})}catch(r){let n=r instanceof Error?r.message:String(r);console.error(`Error copying file to clipboard: ${n}`),e(!1)}})}function qge(){let t=HS.tmpdir(),r=`netezza_export_${Date.now()}.xlsb`;return sc.join(t,r)}var aC,sc,HS,Vq,kq,Ea=Y(()=>{"use strict";aC=Q(require("fs")),sc=Q(require("path")),HS=Q(require("os")),Vq=require("child_process"),kq=($q(),zp(Yq)).default});var zq={};Dt(zq,{exportToCsv:()=>Xge});async function Xge(t,e,r,n,i){let s=null;try{i&&i.report({message:"Connecting to database..."});let o={host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password},a=nr();s=new a(o),await s.connect(),i&&i.report({message:"Executing query..."});let c=await s.createCommand(r).executeReader();i&&i.report({message:"Writing to CSV..."});let u=Kq.createWriteStream(n,{encoding:"utf8",highWaterMark:64*1024}),E=[];for(let h=0;h<c.fieldCount;h++)E.push(c.getName(h));E.length>0&&u.write(E.map(Xq).join(",")+`
`);let d=0,f=[],T=500;for(;await c.read();){d++;let h=[];for(let S=0;S<c.fieldCount;S++)h.push(Xq(c.getValue(S)));if(f.push(h.join(",")),f.length>=T){let S=u.write(f.join(`
`)+`
`);f=[],S||await new Promise(p=>u.once("drain",p)),i&&d%1e3===0&&i.report({message:`Processed ${d} rows...`})}}f.length>0&&u.write(f.join(`
`)+`
`),u.end(),await new Promise((h,S)=>{u.on("finish",h),u.on("error",S)}),i&&i.report({message:`Completed: ${d} rows exported`})}finally{if(s)try{await s.close()}catch(o){console.error("Error closing connection:",o)}}}function Xq(t){if(t==null)return"";let e="";return typeof t=="bigint"?t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?e=Number(t).toString():e=t.toString():t instanceof Date?e=t.toISOString():typeof t=="object"&&Buffer.isBuffer(t)?e=t.toString("hex"):typeof t=="object"?e=JSON.stringify(t):e=String(t),e.includes('"')||e.includes(",")||e.includes(`
`)||e.includes("\r")?`"${e.replace(/"/g,'""')}"`:e}var Kq,jq=Y(()=>{"use strict";Kq=Q(require("fs"))});var rX=g((sBe,tX)=>{tX.exports=YS;function YS(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}YS.prototype.go=function(t){this.pending<this.max?eX(this,t):this.waiting.push(t)};YS.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};YS.prototype.hold=function(){return Zq(this)};function Zq(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)eX(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function eX(t,e){e(Zq(t))}});var iX=g(UE=>{var vE=require("fs"),$S=require("util"),cC=require("stream"),nX=cC.Readable,uC=cC.Writable,Kge=cC.PassThrough,zge=rX(),VS=require("events").EventEmitter;UE.createFromBuffer=jge;UE.createFromFd=Jge;UE.BufferSlicer=ns;UE.FdSlicer=rs;$S.inherits(rs,VS);function rs(t,e){e=e||{},VS.call(this),this.fd=t,this.pend=new zge,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}rs.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(o){vE.read(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};rs.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(o){vE.write(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};rs.prototype.createReadStream=function(t){return new kS(this,t)};rs.prototype.createWriteStream=function(t){return new qS(this,t)};rs.prototype.ref=function(){this.refCount+=1};rs.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&vE.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};$S.inherits(kS,nX);function kS(t,e){e=e||{},nX.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}kS.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=Buffer.allocUnsafe(r);vE.read(e.context.fd,i,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(i.slice(0,o))),n()})})}};kS.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};$S.inherits(qS,uC);function qS(t,e){e=e||{},uC.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}qS.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();vE.write(n.context.fd,t,0,t.length,n.pos,function(o,a){o?(n.destroy(),s(),r(o)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),s(),r())})})}};qS.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};$S.inherits(ns,VS);function ns(t,e){VS.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}ns.prototype.read=function(t,e,r,n,i){if(!(0<=e&&e<=t.length))throw new RangeError("offset outside buffer: 0 <= "+e+" <= "+t.length);if(n<0)throw new RangeError("position is negative: "+n);if(e+r>t.length&&(r=t.length-e),n+r>this.buffer.length&&(r=this.buffer.length-n),r<=0){setImmediate(function(){i(null,0)});return}this.buffer.copy(t,e,n,n+r),setImmediate(function(){i(null,r)})};ns.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};ns.prototype.createReadStream=function(t){t=t||{};var e=new Kge(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};ns.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new uC(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var o=r.pos+n.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};ns.prototype.ref=function(){this.refCount+=1};ns.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function jge(t,e){return new ns(t,e)}function Jge(t,e){return new rs(t,e)}});var aX=g((aBe,oX)=>{var Vs=require("buffer").Buffer,EC=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(EC=new Int32Array(EC));function sX(t){if(Vs.isBuffer(t))return t;var e=typeof Vs.alloc=="function"&&typeof Vs.from=="function";if(typeof t=="number")return e?Vs.alloc(t):new Vs(t);if(typeof t=="string")return e?Vs.from(t):new Vs(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Qge(t){var e=sX(4);return e.writeInt32BE(t,0),e}function fC(t,e){t=sX(t),Vs.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=EC[(r^t[n])&255]^r>>>8;return r^-1}function dC(){return Qge(fC.apply(null,arguments))}dC.signed=function(){return fC.apply(null,arguments)};dC.unsigned=function(){return fC.apply(null,arguments)>>>0};oX.exports=dC});var pX=g(Qr=>{var hC=require("fs"),Zge=require("zlib"),lX=iX(),eCe=aX(),zS=require("util"),jS=require("events").EventEmitter,cX=require("stream").Transform,SC=require("stream").PassThrough,tCe=require("stream").Writable;Qr.open=rCe;Qr.fromFd=uX;Qr.fromBuffer=nCe;Qr.fromRandomAccessReader=pC;Qr.dosDateTimeToDate=dX;Qr.getFileNameLowLevel=hX;Qr.validateFileName=TX;Qr.parseExtraFields=SX;Qr.ZipFile=Ai;Qr.Entry=BE;Qr.LocalFileHeader=fX;Qr.RandomAccessReader=ks;function rCe(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=KS),hC.open(t,"r",function(n,i){if(n)return r(n);uX(i,e,function(s,o){s&&hC.close(i,KS),r(s,o)})})}function uX(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=KS),hC.fstat(t,function(n,i){if(n)return r(n);var s=lX.createFromFd(t,{autoClose:!0});pC(s,i.size,e,r)})}function nCe(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=lX.createFromBuffer(t,{maxChunkSize:65536});pC(n,t.length,e,r)}function pC(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=KS),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=20,a=65535,l=Math.min(o+s+a,e),c=is(l),u=e-c.length;ac(t,c,0,l,u,function(E){if(E)return n(E);for(var d=l-s;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.subarray(d),T=f.readUInt16LE(4),h=f.readUInt16LE(10),S=f.readUInt32LE(16),p=f.readUInt16LE(20),I=f.length-s;if(p!==I)return n(new Error("Invalid comment length. Expected: "+I+". Found: "+p+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK\u263A\u263B` in the comment?"));var R=i?XS(f.subarray(22),!1):f.subarray(22);if(d-o>=0&&c.readUInt32LE(d-o)===117853008){var A=c.subarray(d-o,d-o+o),O=oc(A,8),L=is(56);return ac(t,L,0,L.length,O,function(N){return N?n(N):L.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(T=L.readUInt32LE(16),T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):(h=oc(L,32),S=oc(L,48),n(null,new Ai(t,S,e,h,R,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))))})}return T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):n(null,new Ai(t,S,e,h,R,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))}n(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}zS.inherits(Ai,jS);function Ai(t,e,r,n,i,s,o,a,l,c){var u=this;jS.call(u),u.reader=t,u.reader.on("error",function(E){EX(u,E)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=n,u.comment=i,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!o,u.decodeStrings=!!a,u.validateEntrySizes=!!l,u.strictFileNames=!!c,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Ai.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function Ri(t,e){t.autoClose&&t.close(),EX(t,e)}function EX(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Ai.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Ai.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=is(46);ac(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return Ri(t,r);if(!t.emittedError){var n=new BE,i=e.readUInt32LE(0);if(i!==33639248)return Ri(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return Ri(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=is(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),ac(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return Ri(t,s);if(!t.emittedError){n.fileNameRaw=e.subarray(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength;n.extraFieldRaw=e.subarray(n.fileNameLength,o),n.fileCommentRaw=e.subarray(o,o+n.fileCommentLength);try{n.extraFields=SX(n.extraFieldRaw)}catch(h){return Ri(t,h)}if(t.decodeStrings){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileComment=XS(n.fileCommentRaw,a),n.fileName=hX(n.generalPurposeBitFlag,n.fileNameRaw,n.extraFields,t.strictFileNames);var l=TX(n.fileName);if(l!=null)return Ri(t,new Error(l))}else n.fileComment=n.fileCommentRaw,n.fileName=n.fileNameRaw;n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1;for(var c=0;c<n.extraFields.length;c++){var u=n.extraFields[c];if(u.id===1){var E=u.data,d=0;if(n.uncompressedSize===4294967295){if(d+8>E.length)return Ri(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=oc(E,d),d+=8}if(n.compressedSize===4294967295){if(d+8>E.length)return Ri(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=oc(E,d),d+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(d+8>E.length)return Ri(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=oc(E,d),d+=8}break}}if(t.validateEntrySizes&&n.compressionMethod===0){var f=n.uncompressedSize;if(n.isEncrypted()&&(f+=12),n.compressedSize!==f){var T="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return Ri(t,new Error(T))}}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};Ai.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null&&(r=e,e=null),e==null)e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));var o;if(t.compressionMethod===0)o=!1;else if(t.compressionMethod===8)o=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));n.readLocalFileHeader(t,{minimal:!0},function(a,l){if(a)return r(a);n.openReadStreamLowLevel(l.fileDataStart,t.compressedSize,i,s,o,t.uncompressedSize,r)})};Ai.prototype.openReadStreamLowLevel=function(t,e,r,n,i,s,o){var a=this,l=t+e,c=a.reader.createReadStream({start:t+r,end:t+n}),u=c;if(i){var E=!1,d=Zge.createInflateRaw();c.on("error",function(f){setImmediate(function(){E||d.emit("error",f)})}),c.pipe(d),a.validateEntrySizes?(u=new FE(s),d.on("error",function(f){setImmediate(function(){E||u.emit("error",f)})}),d.pipe(u)):u=d,TC(u,function(){E=!0,d!==u&&d.unpipe(u),c.unpipe(d),c.destroy()})}o(null,u)};Ai.prototype.readLocalFileHeader=function(t,e,r){var n=this;r==null&&(r=e,e=null),e==null&&(e={}),n.reader.ref();var i=is(30);ac(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader,function(s){try{if(s)return r(s);var o=i.readUInt32LE(0);if(o!==67324752)return r(new Error("invalid local file header signature: 0x"+o.toString(16)));var a=i.readUInt16LE(26),l=i.readUInt16LE(28),c=t.relativeOffsetOfLocalHeader+30+a+l;if(c+t.compressedSize>n.fileSize)return r(new Error("file data overflows file bounds: "+c+" + "+t.compressedSize+" > "+n.fileSize));if(e.minimal)return r(null,{fileDataStart:c});var u=new fX;u.fileDataStart=c,u.versionNeededToExtract=i.readUInt16LE(4),u.generalPurposeBitFlag=i.readUInt16LE(6),u.compressionMethod=i.readUInt16LE(8),u.lastModFileTime=i.readUInt16LE(10),u.lastModFileDate=i.readUInt16LE(12),u.crc32=i.readUInt32LE(14),u.compressedSize=i.readUInt32LE(18),u.uncompressedSize=i.readUInt32LE(22),u.fileNameLength=a,u.extraFieldLength=l,i=is(a+l),n.reader.ref(),ac(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader+30,function(E){try{return E?r(E):(u.fileName=i.subarray(0,a),u.extraField=i.subarray(a),r(null,u))}finally{n.reader.unref()}})}finally{n.reader.unref()}})};function BE(){}BE.prototype.getLastModDate=function(t){if(t==null&&(t={}),!t.forceDosFormat)for(var e=0;e<this.extraFields.length;e++){var r=this.extraFields[e];if(r.id===21589){var n=r.data;if(n.length<5)continue;var i=n[0],s=1;if(!(i&s))continue;var o=n.readInt32LE(1);return new Date(o*1e3)}else if(r.id===10)for(var n=r.data,a=4;a<n.length+4;){var l=n.readUInt16LE(a);a+=2;var c=n.readUInt16LE(a);if(a+=2,l!==1){a+=c;continue}if(c<8||a+c>n.length)break;var u=4294967296*n.readInt32LE(a+4)+n.readUInt32LE(a),E=u/1e4-116444736e5;return new Date(E)}}return dX(this.lastModFileDate,this.lastModFileTime,t.timezone)};BE.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};BE.prototype.isCompressed=function(){return this.compressionMethod===8};function fX(){}function dX(t,e,r){var n=t&31,i=(t>>5&15)-1,s=(t>>9&127)+1980,o=0,a=(e&31)*2,l=e>>5&63,c=e>>11&31;if(r==null||r==="local")return new Date(s,i,n,c,l,a,o);if(r==="UTC")return new Date(Date.UTC(s,i,n,c,l,a,o));throw new Error("unrecognized options.timezone: "+options.timezone)}function hX(t,e,r,n){for(var i=null,s=0;s<r.length;s++){var o=r[s];if(o.id===28789){if(o.data.length<6||o.data.readUInt8(0)!==1)continue;var a=o.data.readUInt32LE(1);if(eCe.unsigned(e)!==a)continue;i=XS(o.data.subarray(5),!0);break}}if(i==null){var l=(t&2048)!==0;i=XS(e,l)}return n||(i=i.replace(/\\/g,"/")),i}function TX(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function SX(t){for(var e=[],r=0;r<t.length-3;){var n=t.readUInt16LE(r+0),i=t.readUInt16LE(r+2),s=r+4,o=s+i;if(o>t.length)throw new Error("extra field length exceeds extra field buffer size");var a=t.subarray(s,o);e.push({id:n,data:a}),r=o}return e}function ac(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,is(0))});t.read(e,r,n,i,function(o,a){if(o)return s(o);if(a<n)return s(new Error("unexpected EOF"));s()})}zS.inherits(FE,cX);function FE(t){cX.call(this),this.actualByteCount=0,this.expectedByteCount=t}FE.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};FE.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};zS.inherits(ks,jS);function ks(){jS.call(this),this.refCount=0}ks.prototype.ref=function(){this.refCount+=1};ks.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};ks.prototype.createReadStream=function(t){t==null&&(t={});var e=t.start,r=t.end;if(e===r){var n=new SC;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,o=new JS(this);i.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),TC(o,function(){i.unpipe(o),o.unref(),i.destroy()});var a=new FE(r-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),TC(a,function(){s=!0,o.unpipe(a),o.destroy()}),i.pipe(o).pipe(a)};ks.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};ks.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),o=new tCe,a=0;o._write=function(l,c,u){l.copy(t,e+a,0,l.length),a+=l.length,u()},o.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(o)};ks.prototype.close=function(t){setImmediate(t)};zS.inherits(JS,SC);function JS(t){SC.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}JS.prototype._flush=function(t){this.unref(),t()};JS.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var iCe="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function XS(t,e){if(e)return t.toString("utf8");for(var r="",n=0;n<t.length;n++)r+=iCe[t[n]];return r}function oc(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var is;typeof Buffer.allocUnsafe=="function"?is=function(t){return Buffer.allocUnsafe(t)}:is=function(t){return new Buffer(t)};function TC(t,e){typeof t.destroy=="function"?t._destroy=function(r,n){e(),n?.(r)}:t.destroy=e}function KS(t){if(t)throw t}});var lc,RC=Y(()=>{"use strict";lc=class{constructor(){this.fieldCount=0;this.rowCount=0;this.actualSheetName="";this.resultsCount=0;this._oaEpoch=Date.UTC(1899,11,30)}async close(){}dispose(){}getDateTimeFromOaDate(e){let r=e*864e5+this._oaEpoch;return new Date(r)}}});var RX,QS,AX=Y(()=>{"use strict";RX=Q(pX());RC();QS=class extends lc{constructor(){super();this.zipfile=null;this.sharedStrings=[];this.styles=[];this.sheetNames=[];this.sheets=[];this.entries=new Map;this._currentSheetIndex=-1;this._sheetXml=null;this._xmlPos=0;this._currentRow=[];this.xfIdToNumFmtId=[];this.customDateFormats=new Set}async open(r,n=!0){return new Promise((i,s)=>{RX.default.open(r,{lazyEntries:!0,autoClose:!1},async(o,a)=>{if(o)return s(o);this.zipfile=a,this.entries=new Map,a.on("entry",l=>{this.entries.set(l.fileName,l),a.readEntry()}),a.on("end",async()=>{try{let l=await this._readZipEntryContent("xl/_rels/workbook.xml.rels"),c={};if(l){let d=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,f;for(;(f=d.exec(l))!==null;)c[f[1]]=f[2]}let u=await this._readZipEntryContent("xl/workbook.xml");if(u){let d=/<sheet[^>]*name="([^"]*)"[^>]*sheetId="([^"]*)"[^>]*r:id="([^"]*)"/g,f;for(;(f=d.exec(u))!==null;){let T=this._unescapeXml(f[1]),h=f[2],S=f[3],I=c[S];I.startsWith("xl/")||(I="xl/"+I),this.sheetNames.push(T),this.sheets.push({name:T,sheetId:h,rId:S,path:I})}}if(n){let d=await this._readZipEntryContent("xl/sharedStrings.xml");d&&this._parseSharedStrings(d)}let E=await this._readZipEntryContent("xl/styles.xml");E&&this._parseStyles(E),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1,i()}catch(l){s(l)}}),a.readEntry()})})}async close(){this.zipfile&&this.zipfile.close()}async _readZipEntryContent(r){let n=this.entries.get(r);return n?new Promise((i,s)=>{this.zipfile.openReadStream(n,(o,a)=>{if(o)return s(o);let l=[];a.on("data",c=>l.push(c)),a.on("end",()=>{i(Buffer.concat(l).toString("utf8"))}),a.on("error",s)})}):null}_unescapeXml(r){return r?r.indexOf("&")===-1?r:r.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):""}_parseSharedStrings(r){let n=0;for(;;){let i=r.indexOf("<si>",n);if(i===-1)break;let s=r.indexOf("</si>",i);if(s===-1)break;let o=r.substring(i,s),a="",l=0;for(;;){let c=o.indexOf("<t",l);if(c===-1)break;let u=o.indexOf(">",c),E=o.indexOf("</t>",u);if(E===-1)break;a+=o.substring(u+1,E),l=E+4}this.sharedStrings.push(this._unescapeXml(a)),n=s+5}}_parseStyles(r){let n=/<numFmt\s+[^>]*numFmtId="(\d+)"[^>]*formatCode="([^"]*)"/g,i;for(this.customDateFormats=new Set;(i=n.exec(r))!==null;){let o=parseInt(i[1]),a=i[2];(a.toLowerCase().includes("yy")||a.toLowerCase().includes("mm")||a.toLowerCase().includes("dd")||a.toLowerCase().includes("h:mm"))&&this.customDateFormats.add(o)}this.xfIdToNumFmtId=[];let s=r.indexOf("<cellXfs");if(s!==-1){let o=r.indexOf("</cellXfs>",s);if(o!==-1){let a=r.substring(s,o),l=/<xf\s+[^>]*numFmtId="(\d+)"/g;for(;(i=l.exec(a))!==null;){let c=parseInt(i[1]);this.xfIdToNumFmtId.push(c)}}}}getSheetNames(){return this.sheetNames}async read(){return this._currentSheetIndex===-1&&(this._currentSheetIndex=0,await this._initSheet(this._currentSheetIndex)),!!this._readNextRow()}async _initSheet(r){if(r>=this.sheets.length)return;let n=this.sheets[r];this.actualSheetName=n.name,this._sheetXml=await this._readZipEntryContent(n.path),this._sheetXml||(this._sheetXml=""),this._xmlPos=0;let i=this._sheetXml.indexOf("<sheetData>");i!==-1&&(this._xmlPos=i+11)}_readNextRow(){if(!this._sheetXml)return!1;let r=this._sheetXml.indexOf("<row",this._xmlPos);if(r===-1)return!1;let n=this._sheetXml.indexOf("</row>",r);return n===-1?!1:(this._xmlPos=n+6,this._parseRowByIndex(r,n),!0)}_parseRowByIndex(r,n){this._currentRow=[];let i=this._sheetXml,s=i.indexOf(">",r)+1;for(;s<n;){let o=i.indexOf("<c",s);if(o===-1||o>=n)break;let a=i.indexOf(">",o),l=-1,c="n",u=0,E=o+2;for(;E<a;){for(;i.charCodeAt(E)<=32&&E<a;)E++;if(E>=a)break;let T=E;for(;i.charCodeAt(E)!==61&&E<a;)E++;let h=i.substring(T,E);if(E++,i.charCodeAt(E)===34){E++;let S=E;for(;i.charCodeAt(E)!==34&&E<a;)E++;let p=i.substring(S,E);if(E++,h==="r"){let I=0;for(;I<p.length&&p.charCodeAt(I)>=65;)I++;l=this._columnLetterToIndex(p.substring(0,I))}else h==="t"?c=p:h==="s"&&(u=parseInt(p,10))}}let d=null;if(i.charCodeAt(a-1)===47)s=a+1;else{let T=i.indexOf("</c>",a),h=T!==-1&&T<n?T:n,S=i.indexOf("<v>",a);if(S!==-1&&S<h){let p=S+3,I=i.indexOf("</v>",p);I!==-1&&I<h&&(d=i.substring(p,I))}else if(c==="inlineStr"){let p=i.indexOf("<t",a);if(p!==-1&&p<h){let I=i.indexOf(">",p)+1,R=i.indexOf("</t>",I);R!==-1&&R<h&&(d=i.substring(I,R))}}s=h+4}let f=null;if(d!==null){if(c==="s"){let T=parseInt(d,10);f=this.sharedStrings[T]}else if(c==="b")f=d==="1"||d==="true";else if(c==="inlineStr")f=this._unescapeXml(d);else if((c==="n"||c==="")&&(f=parseFloat(d),u>0&&this.xfIdToNumFmtId)){let T=0;if(u<this.xfIdToNumFmtId.length&&(T=this.xfIdToNumFmtId[u]),T>=14&&T<=22||T>=45&&T<=47||this.customDateFormats&&this.customDateFormats.has(T))try{f=this.getDateTimeFromOaDate(f)}catch{}}}l!==-1&&(this._currentRow[l]=f,l>=this.fieldCount&&(this.fieldCount=l+1))}}_columnLetterToIndex(r){let n=0,i=r.length;for(let s=0;s<i;s++)n+=(r.charCodeAt(s)-64)*Math.pow(26,i-s-1);return n-1}getValue(r){return r<0||r>=this._currentRow.length?null:this._currentRow[r]}}});var AC=g((fBe,_X)=>{_X.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var ZS=g(NX=>{var IX={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function sCe(t){return function(...e){return e.length&&(t=t.replace(/\{(\d)\}/g,(r,n)=>e[n]||"")),new Error("ADM-ZIP: "+t)}}for(let t of Object.keys(IX))NX[t]=sCe(IX[t])});var bX=g((hBe,CX)=>{var oCe=require("fs"),Yt=require("path"),OX=AC(),aCe=ZS(),lCe=typeof process=="object"&&process.platform==="win32",mX=t=>typeof t=="object"&&t!==null,gX=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function It(t){this.sep=Yt.sep,this.fs=oCe,mX(t)&&mX(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}CX.exports=It;It.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw aCe.FILE_IN_THE_WAY(`"${i}"`)}})}r(t)};It.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=Yt.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};It.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,l){if(o&&l.isDirectory())return i(!1);var c=Yt.dirname(t);s.fs.exists(c,function(u){u||s.makeDir(c),s.fs.open(t,"w",438,function(E,d){E?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(f,T){s.fs.write(T,e,0,e.length,0,function(){s.fs.close(T,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):d?s.fs.write(d,e,0,e.length,0,function(){s.fs.close(d,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};It.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){let l=Yt.join(n,a),c=e.fs.statSync(l);(!i||i.test(l))&&o.push(Yt.normalize(l)+(c.isDirectory()?e.sep:"")),c.isDirectory()&&s&&(o=o.concat(r(l,i,s)))}),o}return r(t,void 0,!0)};It.prototype.findFilesAsync=function(t,e){let r=this,n=[];r.fs.readdir(t,function(i,s){if(i)return e(i);let o=s.length;if(!o)return e(null,n);s.forEach(function(a){a=Yt.join(t,a),r.fs.stat(a,function(l,c){if(l)return e(l);c&&(n.push(Yt.normalize(a)+(c.isDirectory()?r.sep:"")),c.isDirectory()?r.findFilesAsync(a,function(u,E){if(u)return e(u);n=n.concat(E),--o||e(null,n)}):--o||e(null,n))})})})};It.prototype.getAttributes=function(){};It.prototype.setAttributes=function(){};It.crc32update=function(t,e){return gX[(t^e)&255]^t>>>8};It.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8"));let e=t.length,r=-1;for(let n=0;n<e;)r=It.crc32update(r,t[n++]);return~r>>>0};It.methodToString=function(t){switch(t){case OX.STORED:return"STORED ("+t+")";case OX.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};It.canonical=function(t){if(!t)return"";let e=Yt.posix.normalize("/"+t.split("\\").join("/"));return Yt.join(".",e)};It.zipnamefix=function(t){if(!t)return"";let e=Yt.posix.normalize("/"+t.split("\\").join("/"));return Yt.posix.join(".",e)};It.findLast=function(t,e){if(!Array.isArray(t))throw new TypeError("arr is not array");let r=t.length>>>0;for(let n=r-1;n>=0;n--)if(e(t[n],n,t))return t[n]};It.sanitize=function(t,e){t=Yt.resolve(Yt.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=Yt.normalize(Yt.join(t,r.slice(n,i).join(Yt.sep)));if(s.indexOf(t)===0)return s}return Yt.normalize(Yt.join(t,Yt.basename(e)))};It.toBuffer=function(e,r){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?r(e):Buffer.alloc(0)};It.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};It.fromDOS2Date=function(t){return new Date((t>>25&127)+1980,Math.max((t>>21&15)-1,0),Math.max(t>>16&31,1),t>>11&31,t>>5&63,(t&31)<<1)};It.fromDate2DOS=function(t){let e=0,r=0;return t.getFullYear()>1979&&(e=(t.getFullYear()-1980&127)<<9|t.getMonth()+1<<5|t.getDate(),r=t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1),e<<16|r};It.isWin=lCe;It.crcTable=gX});var LX=g((TBe,yX)=>{var cCe=require("path");yX.exports=function(t,{fs:e}){var r=t||"",n=s(),i=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&e.existsSync(r)?(i=e.statSync(r),n.directory=i.isDirectory(),n.mtime=i.mtime,n.atime=i.atime,n.executable=(73&i.mode)!==0,n.readonly=(128&i.mode)===0,n.hidden=cCe.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var DX=g((SBe,wX)=>{wX.exports={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}});var uc=g((pBe,cc)=>{cc.exports=bX();cc.exports.Constants=AC();cc.exports.Errors=ZS();cc.exports.FileAttr=LX();cc.exports.decoder=DX()});var MX=g((RBe,PX)=>{var qs=uc(),q=qs.Constants;PX.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,l=0,c=0,u=0,E=0,d=0,f=0,T=0;t|=qs.isWin?2560:768,r|=q.FLG_EFS;let h={extraLen:0},S=R=>Math.max(0,R)>>>0,p=R=>Math.max(0,R)&65535,I=R=>Math.max(0,R)&255;return i=qs.fromDate2DOS(new Date),{get made(){return t},set made(R){t=R},get version(){return e},set version(R){e=R},get flags(){return r},set flags(R){r=R},get flags_efs(){return(r&q.FLG_EFS)>0},set flags_efs(R){R?r|=q.FLG_EFS:r&=~q.FLG_EFS},get flags_desc(){return(r&q.FLG_DESC)>0},set flags_desc(R){R?r|=q.FLG_DESC:r&=~q.FLG_DESC},get method(){return n},set method(R){switch(R){case q.STORED:this.version=10;case q.DEFLATED:default:this.version=20}n=R},get time(){return qs.fromDOS2Date(this.timeval)},set time(R){this.timeval=qs.fromDate2DOS(R)},get timeval(){return i},set timeval(R){i=S(R)},get timeHighByte(){return I(i>>>8)},get crc(){return s},set crc(R){s=S(R)},get compressedSize(){return o},set compressedSize(R){o=S(R)},get size(){return a},set size(R){a=S(R)},get fileNameLength(){return l},set fileNameLength(R){l=R},get extraLength(){return c},set extraLength(R){c=R},get extraLocalLength(){return h.extraLen},set extraLocalLength(R){h.extraLen=R},get commentLength(){return u},set commentLength(R){u=R},get diskNumStart(){return E},set diskNumStart(R){E=S(R)},get inAttr(){return d},set inAttr(R){d=S(R)},get attr(){return f},set attr(R){f=S(R)},get fileAttr(){return(f||0)>>16&4095},get offset(){return T},set offset(R){T=S(R)},get encrypted(){return(r&q.FLG_ENC)===q.FLG_ENC},get centralHeaderSize(){return q.CENHDR+l+c+u},get realDataOffset(){return T+q.LOCHDR+h.fnameLen+h.extraLen},get localHeader(){return h},loadLocalHeaderFromBinary:function(R){var A=R.slice(T,T+q.LOCHDR);if(A.readUInt32LE(0)!==q.LOCSIG)throw qs.Errors.INVALID_LOC();h.version=A.readUInt16LE(q.LOCVER),h.flags=A.readUInt16LE(q.LOCFLG),h.method=A.readUInt16LE(q.LOCHOW),h.time=A.readUInt32LE(q.LOCTIM),h.crc=A.readUInt32LE(q.LOCCRC),h.compressedSize=A.readUInt32LE(q.LOCSIZ),h.size=A.readUInt32LE(q.LOCLEN),h.fnameLen=A.readUInt16LE(q.LOCNAM),h.extraLen=A.readUInt16LE(q.LOCEXT);let O=T+q.LOCHDR+h.fnameLen,L=O+h.extraLen;return R.slice(O,L)},loadFromBinary:function(R){if(R.length!==q.CENHDR||R.readUInt32LE(0)!==q.CENSIG)throw qs.Errors.INVALID_CEN();t=R.readUInt16LE(q.CENVEM),e=R.readUInt16LE(q.CENVER),r=R.readUInt16LE(q.CENFLG),n=R.readUInt16LE(q.CENHOW),i=R.readUInt32LE(q.CENTIM),s=R.readUInt32LE(q.CENCRC),o=R.readUInt32LE(q.CENSIZ),a=R.readUInt32LE(q.CENLEN),l=R.readUInt16LE(q.CENNAM),c=R.readUInt16LE(q.CENEXT),u=R.readUInt16LE(q.CENCOM),E=R.readUInt16LE(q.CENDSK),d=R.readUInt16LE(q.CENATT),f=R.readUInt32LE(q.CENATX),T=R.readUInt32LE(q.CENOFF)},localHeaderToBinary:function(){var R=Buffer.alloc(q.LOCHDR);return R.writeUInt32LE(q.LOCSIG,0),R.writeUInt16LE(e,q.LOCVER),R.writeUInt16LE(r,q.LOCFLG),R.writeUInt16LE(n,q.LOCHOW),R.writeUInt32LE(i,q.LOCTIM),R.writeUInt32LE(s,q.LOCCRC),R.writeUInt32LE(o,q.LOCSIZ),R.writeUInt32LE(a,q.LOCLEN),R.writeUInt16LE(l,q.LOCNAM),R.writeUInt16LE(h.extraLen,q.LOCEXT),R},centralHeaderToBinary:function(){var R=Buffer.alloc(q.CENHDR+l+c+u);return R.writeUInt32LE(q.CENSIG,0),R.writeUInt16LE(t,q.CENVEM),R.writeUInt16LE(e,q.CENVER),R.writeUInt16LE(r,q.CENFLG),R.writeUInt16LE(n,q.CENHOW),R.writeUInt32LE(i,q.CENTIM),R.writeUInt32LE(s,q.CENCRC),R.writeUInt32LE(o,q.CENSIZ),R.writeUInt32LE(a,q.CENLEN),R.writeUInt16LE(l,q.CENNAM),R.writeUInt16LE(c,q.CENEXT),R.writeUInt16LE(u,q.CENCOM),R.writeUInt16LE(E,q.CENDSK),R.writeUInt16LE(d,q.CENATT),R.writeUInt32LE(f,q.CENATX),R.writeUInt32LE(T,q.CENOFF),R},toJSON:function(){let R=function(A){return A+" bytes"};return{made:t,version:e,flags:r,method:qs.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:R(o),size:R(a),fileNameLength:R(l),extraLength:R(c),commentLength:R(u),diskNumStart:E,inAttr:d,attr:f,offset:T,centralHeaderSize:R(q.CENHDR+l+c+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var vX=g((ABe,xX)=>{var Ec=uc(),St=Ec.Constants;xX.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return St.ENDHDR+i},loadFromBinary:function(s){if((s.length!==St.ENDHDR||s.readUInt32LE(0)!==St.ENDSIG)&&(s.length<St.ZIP64HDR||s.readUInt32LE(0)!==St.ZIP64SIG))throw Ec.Errors.INVALID_END();s.readUInt32LE(0)===St.ENDSIG?(t=s.readUInt16LE(St.ENDSUB),e=s.readUInt16LE(St.ENDTOT),r=s.readUInt32LE(St.ENDSIZ),n=s.readUInt32LE(St.ENDOFF),i=s.readUInt16LE(St.ENDCOM)):(t=Ec.readBigUInt64LE(s,St.ZIP64SUB),e=Ec.readBigUInt64LE(s,St.ZIP64TOT),r=Ec.readBigUInt64LE(s,St.ZIP64SIZE),n=Ec.readBigUInt64LE(s,St.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(St.ENDHDR+i);return s.writeUInt32LE(St.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,St.ENDSUB),s.writeUInt16LE(e,St.ENDTOT),s.writeUInt32LE(r,St.ENDSIZ),s.writeUInt32LE(n,St.ENDOFF),s.writeUInt16LE(i,St.ENDCOM),s.fill(" ",St.ENDHDR),s},toJSON:function(){let s=function(o,a){let l=o.toString(16).toUpperCase();for(;l.length<a;)l="0"+l;return"0x"+l};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var IC=g(_C=>{_C.EntryHeader=MX();_C.MainHeader=vX()});var BX=g((IBe,UX)=>{UX.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),l=0;a.fill(0);for(var c=0;c<s.length;c++){var u=s[c];u.copy(a,l),l+=u.length}n&&n(a)}),i.end(t)}}}});var GX=g((NBe,FX)=>{var uCe=+(process.versions?process.versions.node:"").split(".")[0]||0;FX.exports=function(t,e){var r=require("zlib");let n=uCe>=15&&e>0?{maxOutputLength:e}:{};return{inflate:function(){return r.inflateRawSync(t,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],a=0;s.on("data",function(l){o.push(l),a+=l.length}),s.on("end",function(){var l=Buffer.alloc(a),c=0;l.fill(0);for(var u=0;u<o.length;u++){var E=o[u];E.copy(l,c),c+=E.length}i&&i(l)}),s.end(t)}}}});var VX=g((OBe,$X)=>{"use strict";var{randomFillSync:HX}=require("crypto"),ECe=ZS(),fCe=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=e>>>1^3988292384:e>>>=1;return e>>>0}),YX=(t,e)=>Math.imul(t,e)>>>0,WX=(t,e)=>fCe[(t^e)&255]^t>>>8,GE=()=>typeof HX=="function"?HX(Buffer.alloc(12)):GE.node();GE.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var ep={genSalt:GE};function tp(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}tp.prototype.updateKeys=function(t){let e=this.keys;return e[0]=WX(e[0],t),e[1]+=e[0]&255,e[1]=YX(e[1],134775813)+1,e[2]=WX(e[2],e[1]>>>24),t};tp.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return YX(t,t^1)>>8&255};function dCe(t){let e=new tp(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function hCe(t){let e=new tp(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function TCe(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=dCe(r),i=n(t.slice(0,12)),s=(e.flags&8)===8?e.timeHighByte:e.crc>>>24;if(i[11]!==s)throw ECe.WRONG_PASSWORD();return n(t.slice(12))}function SCe(t){Buffer.isBuffer(t)&&t.length>=12?ep.genSalt=function(){return t.slice(0,12)}:t==="node"?ep.genSalt=GE.node:ep.genSalt=GE}function pCe(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=hCe(r),s=ep.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}$X.exports={decrypt:TCe,encrypt:pCe,_salter:SCe}});var kX=g(rp=>{rp.Deflater=BX();rp.Inflater=GX();rp.ZipCrypto=VX()});var OC=g((gBe,qX)=>{var Xe=uc(),RCe=IC(),Nt=Xe.Constants,NC=kX();qX.exports=function(t,e){var r=new RCe.EntryHeader,n=Buffer.alloc(0),i=Buffer.alloc(0),s=!1,o=null,a=Buffer.alloc(0),l=Buffer.alloc(0),c=!0;let u=t,E=typeof u.decoder=="object"?u.decoder:Xe.decoder;c=E.hasOwnProperty("efs")?E.efs:!1;function d(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(l=r.loadLocalHeaderFromBinary(e),e.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(R){if(r.flags_desc){let A={},O=r.realDataOffset+r.compressedSize;if(e.readUInt32LE(O)==Nt.LOCSIG||e.readUInt32LE(O)==Nt.CENSIG)throw Xe.Errors.DESCRIPTOR_NOT_EXIST();if(e.readUInt32LE(O)==Nt.EXTSIG)A.crc=e.readUInt32LE(O+Nt.EXTCRC),A.compressedSize=e.readUInt32LE(O+Nt.EXTSIZ),A.size=e.readUInt32LE(O+Nt.EXTLEN);else if(e.readUInt16LE(O+12)===19280)A.crc=e.readUInt32LE(O+Nt.EXTCRC-4),A.compressedSize=e.readUInt32LE(O+Nt.EXTSIZ-4),A.size=e.readUInt32LE(O+Nt.EXTLEN-4);else throw Xe.Errors.DESCRIPTOR_UNKNOWN();if(A.compressedSize!==r.compressedSize||A.size!==r.size||A.crc!==r.crc)throw Xe.Errors.DESCRIPTOR_FAULTY();if(Xe.crc32(R)!==A.crc)return!1}else if(Xe.crc32(R)!==r.localHeader.crc)return!1;return!0}function T(R,A,O){if(typeof A>"u"&&typeof R=="string"&&(O=R,R=void 0),s)return R&&A&&A(Buffer.alloc(0),Xe.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var L=d();if(L.length===0)return R&&A&&A(L),L;if(r.encrypted){if(typeof O!="string"&&!Buffer.isBuffer(O))throw Xe.Errors.INVALID_PASS_PARAM();L=NC.ZipCrypto.decrypt(L,r,O)}var N=Buffer.alloc(r.size);switch(r.method){case Xe.Constants.STORED:if(L.copy(N),f(N))return R&&A&&A(N),N;throw R&&A&&A(N,Xe.Errors.BAD_CRC()),Xe.Errors.BAD_CRC();case Xe.Constants.DEFLATED:var D=new NC.Inflater(L,r.size);if(R)D.inflateAsync(function(y){y.copy(y,0),A&&(f(y)?A(y):A(y,Xe.Errors.BAD_CRC()))});else{if(D.inflate(N).copy(N,0),!f(N))throw Xe.Errors.BAD_CRC(`"${E.decode(n)}"`);return N}break;default:throw R&&A&&A(Buffer.alloc(0),Xe.Errors.UNKNOWN_METHOD()),Xe.Errors.UNKNOWN_METHOD()}}function h(R,A){if((!o||!o.length)&&Buffer.isBuffer(e))return R&&A&&A(d()),d();if(o.length&&!s){var O;switch(r.method){case Xe.Constants.STORED:return r.compressedSize=r.size,O=Buffer.alloc(o.length),o.copy(O),R&&A&&A(O),O;default:case Xe.Constants.DEFLATED:var L=new NC.Deflater(o);if(R)L.deflateAsync(function(D){O=Buffer.alloc(D.length),r.compressedSize=D.length,D.copy(O),A&&A(O)});else{var N=L.deflate();return r.compressedSize=N.length,N}L=null;break}}else if(R&&A)A(Buffer.alloc(0));else return Buffer.alloc(0)}function S(R,A){return(R.readUInt32LE(A+4)<<4)+R.readUInt32LE(A)}function p(R){try{for(var A=0,O,L,N;A+4<R.length;)O=R.readUInt16LE(A),A+=2,L=R.readUInt16LE(A),A+=2,N=R.slice(A,A+L),A+=L,Nt.ID_ZIP64===O&&I(N)}catch{throw Xe.Errors.EXTRA_FIELD_PARSE_ERROR()}}function I(R){var A,O,L,N;R.length>=Nt.EF_ZIP64_SCOMP&&(A=S(R,Nt.EF_ZIP64_SUNCOMP),r.size===Nt.EF_ZIP64_OR_32&&(r.size=A)),R.length>=Nt.EF_ZIP64_RHO&&(O=S(R,Nt.EF_ZIP64_SCOMP),r.compressedSize===Nt.EF_ZIP64_OR_32&&(r.compressedSize=O)),R.length>=Nt.EF_ZIP64_DSN&&(L=S(R,Nt.EF_ZIP64_RHO),r.offset===Nt.EF_ZIP64_OR_32&&(r.offset=L)),R.length>=Nt.EF_ZIP64_DSN+4&&(N=R.readUInt32LE(Nt.EF_ZIP64_DSN),r.diskNumStart===Nt.EF_ZIP64_OR_16&&(r.diskNumStart=N))}return{get entryName(){return E.decode(n)},get rawEntryName(){return n},set entryName(R){n=Xe.toBuffer(R,E.encode);var A=n[n.length-1];s=A===47||A===92,r.fileNameLength=n.length},get efs(){return typeof c=="function"?c(this.entryName):c},get extra(){return a},set extra(R){a=R,r.extraLength=R.length,p(R)},get comment(){return E.decode(i)},set comment(R){if(i=Xe.toBuffer(R,E.encode),r.commentLength=i.length,i.length>65535)throw Xe.Errors.COMMENT_TOO_LONG()},get name(){var R=E.decode(n);return s?R.substr(R.length-1).split("/").pop():R.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return h(!1,null)},getCompressedDataAsync:function(R){h(!0,R)},setData:function(R){o=Xe.toBuffer(R,Xe.decoder.encode),!s&&o.length?(r.size=o.length,r.method=Xe.Constants.DEFLATED,r.crc=Xe.crc32(R),r.changed=!0):r.method=Xe.Constants.STORED},getData:function(R){return r.changed?o:T(!1,null,R)},getDataAsync:function(R,A){r.changed?R(o):T(!0,R,A)},set attr(R){r.attr=R},get attr(){return r.attr},set header(R){r.loadFromBinary(R)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=a.length;var R=r.centralHeaderToBinary(),A=Xe.Constants.CENHDR;return n.copy(R,A),A+=n.length,a.copy(R,A),A+=r.extraLength,i.copy(R,A),R},packLocalHeader:function(){let R=0;r.flags_efs=this.efs,r.extraLocalLength=l.length;let A=r.localHeaderToBinary(),O=Buffer.alloc(A.length+n.length+r.extraLocalLength);return A.copy(O,R),R+=A.length,n.copy(O,R),R+=n.length,l.copy(O,R),R+=l.length,O},toJSON:function(){let R=function(A){return"<"+(A&&A.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:R(e),data:R(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var zX=g((CBe,KX)=>{var XX=OC(),ACe=IC(),Sr=uc();KX.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new ACe.MainHeader,o=!1,a=null;let l=new Set,c=e,{noSort:u,decoder:E}=c;t?T(c.readEntries):o=!0;function d(){let S=new Set;for(let p of Object.keys(n)){let I=p.split("/");if(I.pop(),!!I.length)for(let R=0;R<I.length;R++){let A=I.slice(0,R+1).join("/")+"/";S.add(A)}}for(let p of S)if(!(p in n)){let I=new XX(c);I.entryName=p,I.attr=16,I.temporary=!0,r.push(I),n[I.entryName]=I,l.add(I)}}function f(){if(o=!0,n={},s.diskEntries>(t.length-s.offset)/Sr.Constants.CENHDR)throw Sr.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(s.diskEntries);for(var S=s.offset,p=0;p<r.length;p++){var I=S,R=new XX(c,t);R.header=t.slice(I,I+=Sr.Constants.CENHDR),R.entryName=t.slice(I,I+=R.header.fileNameLength),R.header.extraLength&&(R.extra=t.slice(I,I+=R.header.extraLength)),R.header.commentLength&&(R.comment=t.slice(I,I+R.header.commentLength)),S+=R.header.centralHeaderSize,r[p]=R,n[R.entryName]=R}l.clear(),d()}function T(S){var p=t.length-Sr.Constants.ENDHDR,I=Math.max(0,p-65535),R=I,A=t.length,O=-1,L=0;for(typeof c.trailingSpace=="boolean"&&c.trailingSpace&&(I=0),p;p>=R;p--)if(t[p]===80){if(t.readUInt32LE(p)===Sr.Constants.ENDSIG){O=p,L=p,A=p+Sr.Constants.ENDHDR,R=p-Sr.Constants.END64HDR;continue}if(t.readUInt32LE(p)===Sr.Constants.END64SIG){R=I;continue}if(t.readUInt32LE(p)===Sr.Constants.ZIP64SIG){O=p,A=p+Sr.readBigUInt64LE(t,p+Sr.Constants.ZIP64SIZE)+Sr.Constants.ZIP64LEAD;break}}if(O==-1)throw Sr.Errors.INVALID_FORMAT();s.loadFromBinary(t.slice(O,A)),s.commentLength&&(i=t.slice(L+Sr.Constants.ENDHDR)),S&&f()}function h(){r.length>1&&!u&&r.sort((S,p)=>S.entryName.toLowerCase().localeCompare(p.entryName.toLowerCase()))}return{get entries(){return o||f(),r.filter(S=>!l.has(S))},get comment(){return E.decode(i)},set comment(S){i=Sr.toBuffer(S,E.encode),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(S){this.entries.forEach(S)},getEntry:function(S){return o||f(),n[S]||null},setEntry:function(S){o||f(),r.push(S),n[S.entryName]=S,s.totalEntries=r.length},deleteFile:function(S,p=!0){o||f();let I=n[S];this.getEntryChildren(I,p).map(A=>A.entryName).forEach(this.deleteEntry)},deleteEntry:function(S){o||f();let p=n[S],I=r.indexOf(p);I>=0&&(r.splice(I,1),delete n[S],s.totalEntries=r.length)},getEntryChildren:function(S,p=!0){if(o||f(),typeof S=="object")if(S.isDirectory&&p){let I=[],R=S.entryName;for(let A of r)A.entryName.startsWith(R)&&I.push(A);return I}else return[S];return[]},getChildCount:function(S){if(S&&S.isDirectory){let p=this.getEntryChildren(S);return p.includes(S)?p.length-1:p.length}return 0},compressToBuffer:function(){o||f(),h();let S=[],p=[],I=0,R=0;s.size=0,s.offset=0;let A=0;for(let N of this.entries){let D=N.getCompressedData();N.header.offset=R;let y=N.packLocalHeader(),P=y.length+D.length;R+=P,S.push(y),S.push(D);let x=N.packCentralHeader();p.push(x),s.size+=x.length,I+=P+x.length,A++}I+=s.mainHeaderSize,s.offset=R,s.totalEntries=A,R=0;let O=Buffer.alloc(I);for(let N of S)N.copy(O,R),R+=N.length;for(let N of p)N.copy(O,R),R+=N.length;let L=s.toBinary();return i&&i.copy(L,Sr.Constants.ENDHDR),L.copy(O,R),t=O,o=!1,O},toAsyncBuffer:function(S,p,I,R){try{o||f(),h();let A=[],O=[],L=0,N=0,D=0;s.size=0,s.offset=0;let y=function(P){if(P.length>0){let x=P.shift(),B=x.entryName+x.extra.toString();I&&I(B),x.getCompressedDataAsync(function(G){R&&R(B),x.header.offset=N;let k=x.packLocalHeader(),z=k.length+G.length;N+=z,A.push(k),A.push(G);let ne=x.packCentralHeader();O.push(ne),s.size+=ne.length,L+=z+ne.length,D++,y(P)})}else{L+=s.mainHeaderSize,s.offset=N,s.totalEntries=D,N=0;let x=Buffer.alloc(L);A.forEach(function(G){G.copy(x,N),N+=G.length}),O.forEach(function(G){G.copy(x,N),N+=G.length});let B=s.toBinary();i&&i.copy(B,Sr.Constants.ENDHDR),B.copy(x,N),t=x,o=!1,S(x)}};y(Array.from(this.entries))}catch(A){p(A)}}}}});var QX=g((bBe,JX)=>{var pt=uc(),Ot=require("path"),_Ce=OC(),ICe=zX(),fa=(...t)=>pt.findLast(t,e=>typeof e=="boolean"),jX=(...t)=>pt.findLast(t,e=>typeof e=="string"),NCe=(...t)=>pt.findLast(t,e=>typeof e=="function"),OCe={noSort:!1,readEntries:!1,method:pt.Constants.NONE,fs:null};JX.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),OCe);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=pt.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new pt(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=pt.decoder),t&&typeof t=="string")if(i.fs.existsSync(t))n.method=pt.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw pt.Errors.INVALID_FILENAME();let s=new ICe(r,n),{canonical:o,sanitize:a,zipnamefix:l}=pt;function c(f){if(f&&s){var T;if(typeof f=="string"&&(T=s.getEntry(Ot.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(T=s.getEntry(f.entryName)),T)return T}return null}function u(f){let{join:T,normalize:h,sep:S}=Ot.posix;return T(".",h(S+f.split("\\").join(S)+S))}function E(f){return f instanceof RegExp?(function(T){return function(h){return T.test(h)}})(f):typeof f!="function"?()=>!0:f}let d=(f,T)=>{let h=T.slice(-1);return h=h===i.sep?i.sep:"",Ot.relative(f,T)+h};return{readFile:function(f,T){var h=c(f);return h&&h.getData(T)||null},childCount:function(f){let T=c(f);if(T)return s.getChildCount(T)},readFileAsync:function(f,T){var h=c(f);h?h.getDataAsync(T):T(null,"getEntry failed for:"+f)},readAsText:function(f,T){var h=c(f);if(h){var S=h.getData();if(S&&S.length)return S.toString(T||"utf8")}return""},readAsTextAsync:function(f,T,h){var S=c(f);S?S.getDataAsync(function(p,I){if(I){T(p,I);return}p&&p.length?T(p.toString(h||"utf8")):T("")}):T("")},deleteFile:function(f,T=!0){var h=c(f);h&&s.deleteFile(h.entryName,T)},deleteEntry:function(f){var T=c(f);T&&s.deleteEntry(T.entryName)},addZipComment:function(f){s.comment=f},getZipComment:function(){return s.comment||""},addZipEntryComment:function(f,T){var h=c(f);h&&(h.comment=T)},getZipEntryComment:function(f){var T=c(f);return T&&T.comment||""},updateFile:function(f,T){var h=c(f);h&&h.setData(T)},addLocalFile:function(f,T,h,S){if(i.fs.existsSync(f)){T=T?u(T):"";let p=Ot.win32.basename(Ot.win32.normalize(f));T+=h||p;let I=i.fs.statSync(f),R=I.isFile()?i.fs.readFileSync(f):Buffer.alloc(0);I.isDirectory()&&(T+=i.sep),this.addFile(T,R,S,I)}else throw pt.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,T){f=typeof f=="object"?f:{localPath:f};let h=Ot.resolve(f.localPath),{comment:S}=f,{zipPath:p,zipName:I}=f,R=this;i.fs.stat(h,function(A,O){if(A)return T(A,!1);p=p?u(p):"";let L=Ot.win32.basename(Ot.win32.normalize(h));if(p+=I||L,O.isFile())i.fs.readFile(h,function(N,D){return N?T(N,!1):(R.addFile(p,D,S,O),setImmediate(T,void 0,!0))});else if(O.isDirectory())return p+=i.sep,R.addFile(p,Buffer.alloc(0),S,O),setImmediate(T,void 0,!0)})},addLocalFolder:function(f,T,h){if(h=E(h),T=T?u(T):"",f=Ot.normalize(f),i.fs.existsSync(f)){let S=i.findFiles(f),p=this;if(S.length)for(let I of S){let R=Ot.join(T,d(f,I));h(R)&&p.addLocalFile(I,Ot.dirname(R))}}else throw pt.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,T,h,S){S=E(S),h=h?u(h):"",f=Ot.normalize(f);var p=this;i.fs.open(f,"r",function(I){if(I&&I.code==="ENOENT")T(void 0,pt.Errors.FILE_NOT_FOUND(f));else if(I)T(void 0,I);else{var R=i.findFiles(f),A=-1,O=function(){if(A+=1,A<R.length){var L=R[A],N=d(f,L).split("\\").join("/");N=N.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),S(N)?i.fs.stat(L,function(D,y){D&&T(void 0,D),y.isFile()?i.fs.readFile(L,function(P,x){P?T(void 0,P):(p.addFile(h+N,x,"",y),O())}):(p.addFile(h+N+"/",Buffer.alloc(0),"",y),O())}):process.nextTick(()=>{O()})}else T(!0,void 0)};O()}})},addLocalFolderAsync2:function(f,T){let h=this;f=typeof f=="object"?f:{localPath:f},localPath=Ot.resolve(u(f.localPath));let{zipPath:S,filter:p,namefix:I}=f;p instanceof RegExp?p=(function(O){return function(L){return O.test(L)}})(p):typeof p!="function"&&(p=function(){return!0}),S=S?u(S):"",I=="latin1"&&(I=O=>O.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof I!="function"&&(I=O=>O);let R=O=>Ot.join(S,I(d(localPath,O))),A=O=>Ot.win32.basename(Ot.win32.normalize(I(O)));i.fs.open(localPath,"r",function(O){O&&O.code==="ENOENT"?T(void 0,pt.Errors.FILE_NOT_FOUND(localPath)):O?T(void 0,O):i.findFilesAsync(localPath,function(L,N){if(L)return T(L);N=N.filter(D=>p(R(D))),N.length||T(void 0,!1),setImmediate(N.reverse().reduce(function(D,y){return function(P,x){if(P||x===!1)return setImmediate(D,P,!1);h.addLocalFileAsync({localPath:y,zipPath:Ot.dirname(R(y)),zipName:A(y)},D)}},T))})})},addLocalFolderPromise:function(f,T){return new Promise((h,S)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},T),(p,I)=>{p&&S(p),I&&h(this)})})},addFile:function(f,T,h,S){f=l(f);let p=c(f),I=p!=null;I||(p=new _Ce(n),p.entryName=f),p.comment=h||"";let R=typeof S=="object"&&S instanceof i.fs.Stats;R&&(p.header.time=S.mtime);var A=p.isDirectory?16:0;let O=p.isDirectory?16384:32768;return R?O|=4095&S.mode:typeof S=="number"?O|=4095&S:O|=p.isDirectory?493:420,A=(A|O<<16)>>>0,p.attr=A,p.setData(T),I||s.setEntry(p),p},getEntries:function(f){return s.password=f,s?s.entries:[]},getEntry:function(f){return c(f)},getEntryCount:function(){return s.getEntryCount()},forEach:function(f){return s.forEach(f)},extractEntryTo:function(f,T,h,S,p,I){S=fa(!1,S),p=fa(!1,p),h=fa(!0,h),I=jX(p,I);var R=c(f);if(!R)throw pt.Errors.NO_ENTRY();var A=o(R.entryName),O=a(T,I&&!R.isDirectory?I:h?A:Ot.basename(A));if(R.isDirectory){var L=s.getEntryChildren(R);return L.forEach(function(y){if(y.isDirectory)return;var P=y.getData();if(!P)throw pt.Errors.CANT_EXTRACT_FILE();var x=o(y.entryName),B=a(T,h?x:Ot.basename(x));let G=p?y.header.fileAttr:void 0;i.writeFileTo(B,P,S,G)}),!0}var N=R.getData(s.password);if(!N)throw pt.Errors.CANT_EXTRACT_FILE();if(i.fs.existsSync(O)&&!S)throw pt.Errors.CANT_OVERRIDE();let D=p?f.header.fileAttr:void 0;return i.writeFileTo(O,N,S,D),!0},test:function(f){if(!s)return!1;for(var T in s.entries)try{if(T.isDirectory)continue;var h=s.entries[T].getData(f);if(!h)return!1}catch{return!1}return!0},extractAllTo:function(f,T,h,S){if(h=fa(!1,h),S=jX(h,S),T=fa(!1,T),!s)throw pt.Errors.NO_ZIP();s.entries.forEach(function(p){var I=a(f,o(p.entryName));if(p.isDirectory){i.makeDir(I);return}var R=p.getData(S);if(!R)throw pt.Errors.CANT_EXTRACT_FILE();let A=h?p.header.fileAttr:void 0;i.writeFileTo(I,R,T,A);try{i.fs.utimesSync(I,p.header.time,p.header.time)}catch{throw pt.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,T,h,S){if(S=NCe(T,h,S),h=fa(!1,h),T=fa(!1,T),!S)return new Promise((O,L)=>{this.extractAllToAsync(f,T,h,function(N){N?L(N):O(this)})});if(!s){S(pt.Errors.NO_ZIP());return}f=Ot.resolve(f);let p=O=>a(f,Ot.normalize(o(O.entryName))),I=(O,L)=>new Error(O+': "'+L+'"'),R=[],A=[];s.entries.forEach(O=>{O.isDirectory?R.push(O):A.push(O)});for(let O of R){let L=p(O),N=h?O.header.fileAttr:void 0;try{i.makeDir(L),N&&i.fs.chmodSync(L,N),i.fs.utimesSync(L,O.header.time,O.header.time)}catch{S(I("Unable to create folder",L))}}A.reverse().reduce(function(O,L){return function(N){if(N)O(N);else{let D=Ot.normalize(o(L.entryName)),y=a(f,D);L.getDataAsync(function(P,x){if(x)O(x);else if(!P)O(pt.Errors.CANT_EXTRACT_FILE());else{let B=h?L.header.fileAttr:void 0;i.writeFileToAsync(y,P,T,B,function(G){G||O(I("Unable to write file",y)),i.fs.utimes(y,L.header.time,L.header.time,function(k){k?O(I("Unable to set times",y)):O()})})}})}}},S)()},writeZip:function(f,T){if(arguments.length===1&&typeof f=="function"&&(T=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var h=s.compressToBuffer();if(h){var S=i.writeFileTo(f,h,!0);typeof T=="function"&&T(S?null:new Error("failed"),"")}}},writeZipPromise:function(f,T){let{overwrite:h,perm:S}=Object.assign({overwrite:!0},T);return new Promise((p,I)=>{!f&&n.filename&&(f=n.filename),f||I("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(R=>{let A=O=>O?p(O):I("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(f,R,h,S,A)},I)})},toBufferPromise:function(){return new Promise((f,T)=>{s.toAsyncBuffer(f,T)})},toBuffer:function(f,T,h,S){return typeof f=="function"?(s.toAsyncBuffer(f,T,h,S),null):s.compressToBuffer()}}}});var da,ZX=Y(()=>{"use strict";da=class{constructor(e){this._isSheet=!1;this._workbookId=0;this._recId=null;this._workbookName=null;this._inCellXf=!1;this._inCellStyleXf=!1;this._inNumberFormat=!1;this._parentCellStyleXf=0;this._numberFormatIndex=0;this._format=0;this._formatString=null;this._sharedStringValue=null;this._sharedStringUniqueCount=0;this._cellType=0;this._intValue=0;this._doubleVal=0;this._boolValue=!1;this._stringValue=null;this._columnNum=-1;this._xfIndex=0;this._readCell=!1;this._rowIndex=-1;this._recordStart=0;this._xfIndexToNumFmtId=[];this._customNumFmts=new Set;if(!Buffer.isBuffer(e))throw new Error("BiffReaderWriter expects a Buffer");this.buffer=e,this.pos=0,this.length=e.length}_tryReadVariableValue(){if(this.pos>=this.length)return null;let e=this.buffer[this.pos++],r=(e&127)>>>0;if((e&128)===0)return r;if(this.pos>=this.length)return null;let n=this.buffer[this.pos++];if(r=((n&127)<<7|r)>>>0,(n&128)===0)return r;if(this.pos>=this.length)return null;let i=this.buffer[this.pos++];return r=((i&127)<<14|r)>>>0,(i&128)===0?r:this.pos>=this.length?null:(r=((this.buffer[this.pos++]&127)<<21|r)>>>0,r)}_getDWord(e){return this.buffer.readUInt32LE(this._recordStart+e)}_getInt32(e){return this.buffer.readInt32LE(this._recordStart+e)}_getWord(e){return this.buffer.readUInt16LE(this._recordStart+e)}_getByte(e){return this.buffer[this._recordStart+e]}_getDouble(e){return this.buffer.readDoubleLE(this._recordStart+e)}_getString(e,r){let n=this._recordStart+e,i=n+r*2;return i>this.buffer.length?"":this.buffer.toString("utf16le",n,i)}_getNullableString(e){let r=this._getDWord(e.val);if(e.val+=4,r===4294967295)return null;let n=this._getString(e.val,r);return e.val+=r*2,n}readWorkbook(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;if(this._recordStart=n,this.pos+=r,this._isSheet=!1,e===156){this._workbookId=this._getDWord(4);let i={val:8};this._recId=this._getNullableString(i);let s=this._getDWord(i.val);this._workbookName=this._getString(i.val+4,s),this._isSheet=!0}return!0}readSharedStrings(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;if(this._recordStart=n,this.pos+=r,this._sharedStringValue=null,e===19){let i=this._getDWord(1);this._sharedStringValue=this._getString(5,i)}else e===159&&(this._sharedStringUniqueCount=this._getDWord(4));return!0}readStyles(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;this._recordStart=n,this.pos+=r;let i=617,s=618,o=626,a=627,l=615,c=616,u=47,E=44;switch(e){case i:this._inCellXf=!0;break;case s:this._inCellXf=!1;break;case o:this._inCellStyleXf=!0;break;case a:this._inCellStyleXf=!1;break;case l:this._inNumberFormat=!0;break;case c:this._inNumberFormat=!1;break;case u:this._inCellXf&&(this._parentCellStyleXf=this._getWord(0),this._numberFormatIndex=this._getWord(2),this._xfIndexToNumFmtId.push(this._numberFormatIndex));break;case E:if(this._inNumberFormat){this._format=this._getWord(0);let d=this._getDWord(2);this._formatString=this._getString(6,d);let f=this._formatString.toLowerCase();(f.includes("yy")||f.includes("mm")||f.includes("dd")||f.includes("h:mm"))&&this._customNumFmts.add(this._format)}break}return!0}_getRkNumber(e){let r=this._getByte(e),n=0;if((r&2)!==0)n=this._getInt32(e)>>2;else{let s=this._getInt32(e)&4294967292,o=Buffer.allocUnsafe(8);o.writeInt32LE(0,0),o.writeInt32LE(s,4),n=o.readDoubleLE(0)}return(r&1)!==0&&(n/=100),n}readWorksheet(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;this._recordStart=n,this.pos+=r,this._readCell=!1,this._columnNum=-1;let i=0,s=1,o=2,a=3,l=4,c=5,u=6,E=7,d=8,f=9,T=10,h=11;switch(e){case i:this._rowIndex=this._getInt32(0);break;case s:case a:case h:this._readCell=!0,this._cellType=0;break;case o:this._doubleVal=this._getRkNumber(8),this._readCell=!0,this._cellType=3;break;case l:case T:this._boolValue=this._getByte(8)===1,this._readCell=!0,this._cellType=4;break;case f:case c:this._doubleVal=this._getDouble(8),this._readCell=!0,this._cellType=3;break;case u:case d:{let S=this._getDWord(8);this._stringValue=this._getString(12,S),this._readCell=!0,this._cellType=5;break}case E:this._intValue=this._getDWord(8),this._readCell=!0,this._cellType=2;break}return this._readCell&&(this._columnNum=this._getDWord(0),this._xfIndex=this._getDWord(4)&16777215),!0}}});var e6,np,t6=Y(()=>{"use strict";e6=Q(QX());RC();ZX();np=class extends lc{constructor(){super();this.zip=null;this.sharedStrings=[];this.styles=[];this.sheetNames=[];this.sheets=[];this._currentSheetIndex=-1;this._reader=null;this._currentRow=[];this._pendingRowIndex=-1;this._eof=!1;this.xfIdToNumFmtId=[];this.customDateFormats=null}async open(r,n=!0){this.zip=new e6.default(r);let i=this.zip.getEntry("xl/workbook.bin");if(i){let a=i.getData(),l=new da(a);for(;l.readWorkbook();)if(l._isSheet){let c=l._workbookName,u=l._recId;this.sheetNames.push(c),this.sheets.push({name:c,rId:u,path:null})}}let s=this.zip.getEntry("xl/_rels/workbook.bin.rels");if(s){let a=s.getData().toString("utf8"),l=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,c,u={};for(;(c=l.exec(a))!==null;)u[c[1]]=c[2];for(let E of this.sheets){let d=u[E.rId];d&&(d.startsWith("/")&&(d=d.substring(1)),d.startsWith("xl/")||(d="xl/"+d),E.path=d)}}if(n){let a="xl/sharedStrings.bin";this.zip.getEntry(a)&&this._readSharedStrings(a)}let o="xl/styles.bin";this.zip.getEntry(o)&&this._readStyles(o),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1}_readSharedStrings(r){let n=this.zip.getEntry(r);if(!n)return;let i=new da(n.getData());for(;i.readSharedStrings();)i._sharedStringValue!==null&&this.sharedStrings.push(i._sharedStringValue)}_readStyles(r){let n=this.zip.getEntry(r);if(!n)return;let i=new da(n.getData());for(;i.readStyles(););this.xfIdToNumFmtId=i._xfIndexToNumFmtId,this.customDateFormats=i._customNumFmts}getSheetNames(){return this.sheetNames}read(){if(this._currentSheetIndex===-1&&(this._currentSheetIndex=0,!this._initSheet(0))||this._eof)return!1;for(this._currentRow=[];;){if(!this._reader.readWorksheet())return this._eof=!0,!0;if(this._reader._rowIndex!==-1&&this._reader._rowIndex!==this._pendingRowIndex)return this._pendingRowIndex=this._reader._rowIndex,!0;if(this._reader._readCell){let n=this._reader._columnNum,i=null;switch(this._reader._cellType){case 2:i=this.sharedStrings[this._reader._intValue];break;case 3:{i=this._reader._doubleVal;let s=this._reader._xfIndex,o=0;if(this.xfIdToNumFmtId&&s<this.xfIdToNumFmtId.length&&(o=this.xfIdToNumFmtId[s]),o>=14&&o<=22||o>=45&&o<=47||this.customDateFormats&&this.customDateFormats.has(o))try{i=this.getDateTimeFromOaDate(i)}catch{}break}case 4:i=this._reader._boolValue;break;case 5:i=this._reader._stringValue;break;default:i=null}this._currentRow[n]=i,n>=this.fieldCount&&(this.fieldCount=n+1)}}}_initSheet(r){if(r>=this.sheets.length)return!1;let n=this.sheets[r],i=this.zip.getEntry(n.path);if(!i)return!1;for(this._reader=new da(i.getData()),this._eof=!1,this._pendingRowIndex=-1;this._reader.readWorksheet();)if(this._reader._rowIndex!==-1)return this._pendingRowIndex=this._reader._rowIndex,!0;return this._eof=!0,!1}getValue(r){return r<0||r>=this._currentRow.length?null:this._currentRow[r]}}});var n6={};Dt(n6,{ReaderFactory:()=>ip,default:()=>mCe});var r6,ip,mCe,i6=Y(()=>{"use strict";r6=Q(require("path"));AX();t6();ip=class{static create(e){let r=r6.extname(e).toLowerCase();if(r===".xlsx")return new QS;if(r===".xlsb")return new np;throw new Error(`Unsupported extension: ${r}`)}},mCe=ip});var a6={};Dt(a6,{ColumnTypeChooser:()=>fc,NetezzaDataType:()=>_i,NetezzaImporter:()=>sp,importDataToNetezza:()=>gCe});async function gCe(t,e,r,n){let i=Date.now(),s=null;try{if(!t||!Un.existsSync(t))return{success:!1,message:`Source file not found: ${t}`};if(!e)return{success:!1,message:"Target table name is required"};if(!r||!r.host)return{success:!1,message:"Connection details are required"};let a=Un.statSync(t).size,l=ha.extname(t).toLowerCase(),c=[".csv",".txt",".xlsx",".xlsb"];if(!c.includes(l))return{success:!1,message:`Unsupported file format: ${l}. Supported: ${c.join(", ")}`};n?.("Starting import process..."),n?.(`  Source file: ${t}`),n?.(`  Target table: ${e}`),n?.(`  File size: ${a.toLocaleString()} bytes`),n?.(`  File format: ${l}`);let u=new sp(t,e);await u.analyzeDataTypes(n),n?.("Preparing in-memory data stream...");let E=await u.createDataStream(n),d=u.getVirtualFileName();n?.(`Registered virtual stream: ${d}`);let f=nr();f&&f.registerImportStream?f.registerImportStream(d,E):n?.("Warning: NzConnection driver does not support stream registry. Import might fail.");let T=u.generateCreateTableSql();n?.("Generated SQL:"),n?.(T),n?.("Connecting to Netezza...");let h={host:r.host,port:r.port||5480,database:r.database,user:r.user,password:r.password},S=nr();s=new S(h),await s.connect();try{n?.("Executing CREATE TABLE with EXTERNAL data...");let I=s.createCommand(T);I.commandTimeout=3600;let R=u.getRowsCount();s.on("importProgress",A=>{let O=A,L=R>0?Math.round(O.percentComplete/100*R):0;n?.(`Importing: ${O.percentComplete}% complete (${L.toLocaleString()} / ${R.toLocaleString()} rows)`)}),await I.execute(),n?.("Import completed successfully")}finally{await s.close(),f&&f.unregisterImportStream&&f.unregisterImportStream(d)}let p=(Date.now()-i)/1e3;return{success:!0,message:"Import completed successfully",details:{sourceFile:t,targetTable:e,fileSize:a,format:l,rowsProcessed:u.getRowsCount(),rowsInserted:u.getRowsCount(),processingTime:`${p.toFixed(1)}s`,columns:u.getSqlHeaders().length,detectedDelimiter:u.getCsvDelimiter()}}}catch(o){let a=(Date.now()-i)/1e3;return{success:!1,message:`Import failed: ${o instanceof Error?o.message:String(o)}`,details:{processingTime:`${a.toFixed(1)}s`}}}finally{if(s&&s._connected)try{await s.close()}catch{}}}var Un,ha,o6,s6,mC,_i,fc,gC,sp,CC=Y(()=>{"use strict";Un=Q(require("fs")),ha=Q(require("path")),o6=require("stream"),s6=()=>new Promise(t=>setTimeout(t,0));try{let t=(i6(),zp(n6));mC=t.default||t.ReaderFactory||t}catch(t){console.error("libs/ExcelHelpersTs/ReaderFactory module not available",t)}_i=class{constructor(e,r,n,i){this.dbType=e;this.precision=r;this.scale=n;this.length=i}toString(){return["BIGINT","DATE","DATETIME"].includes(this.dbType)?this.dbType:this.dbType==="NUMERIC"?`${this.dbType}(${this.precision},${this.scale})`:this.dbType==="NVARCHAR"?`${this.dbType}(${this.length})`:`TODO !!! ${this.dbType}`}},fc=class{constructor(e="."){this.decimalDelimInCsv=".";this.firstTime=!0;this.currentType=new _i("BIGINT"),this.decimalDelimInCsv=e}getType(e){let r=this.currentType.dbType,n=e.length;if(r==="BIGINT"&&/^\d+$/.test(e)&&n<15)return this.firstTime=!1,new _i("BIGINT");let i=this.decimalDelimInCsv==="."?"\\.":this.decimalDelimInCsv,s=(e.match(new RegExp(`${i}`,"g"))||[]).length;if(["BIGINT","NUMERIC"].includes(r)&&s<=1){let a=e.replace(this.decimalDelimInCsv,"");if(/^\d+$/.test(a)&&n<15&&(!a.startsWith("0")||s>0||a==="0"))return this.firstTime=!1,new _i("NUMERIC",16,6)}if((r==="DATE"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=8&&n<=10){let a=e.split("-");if(a.length===3&&a.every(l=>/^\d+$/.test(l)))try{let l=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]));if(!isNaN(l.getTime()))return this.firstTime=!1,new _i("DATE")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=12&&n<=20){let a=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})[\s|T](\d{2}):(\d{2})(:?(\d{2}))?$/);if(a)try{let l=a[7]?parseInt(a[7]):0,c=new Date(parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),l);if(!isNaN(c.getTime()))return this.firstTime=!1,new _i("DATETIME")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/\./g)||[]).length>=2){let a=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(a)try{let l=parseInt(a[1]),c=parseInt(a[2])-1,u=parseInt(a[3]),E=a[4]?parseInt(a[4]):0,d=a[5]?parseInt(a[5]):0,f=a[6]?parseInt(a[6]):0;if(c>=0&&c<=11&&l>=1&&l<=31){let T=new Date(u,c,l,E,d,f);if(!isNaN(T.getTime())&&T.getFullYear()===u&&T.getMonth()===c&&T.getDate()===l)return this.firstTime=!1,new _i("DATETIME")}}catch{}}let o=Math.max(n+5,20);return this.currentType.length!==void 0&&o<this.currentType.length&&(o=this.currentType.length),this.firstTime=!1,new _i("NVARCHAR",void 0,void 0,o)}refreshCurrentType(e){return this.currentType=this.getType(e),this.currentType}},gC=class extends o6.Readable{constructor(r,n,i){super();this.currentIndex=0;this.byteLength=0;this.lastReportedIndex=-1;this.lastReportTime=0;this.lastReportedMessage="";this.importer=r,this.rows=n,this.progressCallback=i,this.currentIndex=0,this.lastReportedIndex=-1,this.lastReportTime=0,this.lastReportedMessage="";try{this.byteLength=n.reduce((s,o)=>{let a=o.reduce((l,c)=>l+(c?c.length:0),0);return s+a+o.length},0)}catch{this.byteLength=1024*1024}}_read(r){try{let n=!0;for(;n&&this.currentIndex<this.rows.length;){let a=this.rows[this.currentIndex].map((l,c)=>this.importer.formatValue(l||"",c)).join(this.importer.getDelimiter())+this.importer.getRecordDelim();n=this.push(Buffer.from(a,"utf8")),this.currentIndex++}let i=this.rows.length;if(this.currentIndex>this.lastReportedIndex){let s=Date.now();if(this.currentIndex>=i||s-this.lastReportTime>=1e3){let c=`Importing: ${Math.floor(this.currentIndex/i*100)}% complete (${this.currentIndex.toLocaleString()} / ${i.toLocaleString()} rows)`,E=(this.currentIndex-(this.lastReportedIndex<0?0:this.lastReportedIndex))/i*100;c!==this.lastReportedMessage&&(this.progressCallback?.(c,E,!1),this.lastReportedIndex=this.currentIndex,this.lastReportTime=s,this.lastReportedMessage=c)}}this.currentIndex>=this.rows.length&&this.push(null)}catch(n){this.emit("error",n)}}},sp=class{constructor(e,r,n){this.delimiter="	";this.delimiterPlain="\\t";this.recordDelim=`
`;this.recordDelimPlain="\\n";this.escapechar="\\";this.csvDelimiter=",";this.excelData=[];this.isExcelFile=!1;this.sqlHeaders=[];this.dataTypes=[];this.rowsCount=0;this.valuesToEscape=[];this.filePath=e,this.targetTable=r,this.logDir=n||ha.join(ha.dirname(e),"netezza_logs");let i=ha.extname(e).toLowerCase();this.isExcelFile=[".xlsx",".xlsb"].includes(i),this.virtualFileName=`virtual_import_${Date.now()}_${Math.floor(Math.random()*1e3)}.txt`,this.valuesToEscape=[this.escapechar,this.recordDelim,"\r",this.delimiter],Un.existsSync(this.logDir)||Un.mkdirSync(this.logDir,{recursive:!0})}getDelimiter(){return this.delimiter}getRecordDelim(){return this.recordDelim}detectCsvDelimiter(){let r=Un.readFileSync(this.filePath,"utf-8").split(`
`)[0]||"";r.startsWith("\uFEFF")&&(r=r.slice(1));let n=[";","	","|",","],i={};for(let o of n)i[o]=(r.match(new RegExp(o==="|"?"\\|":o,"g"))||[]).length;let s=Math.max(...Object.values(i));s>0&&(this.csvDelimiter=Object.keys(i).find(o=>i[o]===s)||",")}cleanColumnName(e){let r=String(e).trim();return r=r.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!r||/^\d/.test(r)||r.startsWith("_"))&&(r="COL"+(r.startsWith("_")?"":"_")+r),r}parseCsvLine(e){let r=[],n="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];o==='"'?i&&e[s+1]==='"'?(n+='"',s++):i=!i:o===this.csvDelimiter&&!i?(r.push(n),n=""):n+=o}return r.push(n),r}async readExcelFile(e){if(!mC)throw new Error("ReaderFactory module not available");e?.("Reading Excel file...");let r=mC.create(this.filePath);await r.open(this.filePath);let n=[],i=o=>{if(o==null)return"";if(o instanceof Date){let a=l=>l<10?"0"+l:l;return`${o.getFullYear()}-${a(o.getMonth()+1)}-${a(o.getDate())} ${a(o.getHours())}:${a(o.getMinutes())}:${a(o.getSeconds())}`}return String(o)},s=0;for(;await r.read();){let o=[],a=r._currentRow;if(a&&Array.isArray(a))for(let l=0;l<a.length;l++)o.push(i(a[l]));n.push(o),s++,s%1e4===0&&(e?.(`Processed ${s.toLocaleString()} rows...`,void 0,!1),await s6())}return typeof r.close=="function"&&await r.close(),e?.(`Excel file loaded: ${n.length} rows`),n}async analyzeDataTypes(e){e?.("Analyzing data types...");let r;if(this.isExcelFile)this.excelData=await this.readExcelFile(e),r=this.excelData;else{this.detectCsvDelimiter();let i=Un.readFileSync(this.filePath,"utf-8");i.startsWith("\uFEFF")&&(i=i.slice(1));let s=i.split(/\r?\n/);r=[];for(let o of s)o.trim()&&r.push(this.parseCsvLine(o))}if(!r||r.length===0)throw new Error("No data found in file");let n=[];this.sqlHeaders=r[0].map(i=>this.cleanColumnName(i||"COLUMN"));for(let i=0;i<r[0].length;i++)n.push(new fc);for(let i=1;i<r.length;i++){let s=r[i];for(let o=0;o<s.length;o++)o<n.length&&s[o]&&s[o].trim()&&n[o].refreshCurrentType(s[o].trim());i%1e4===0&&(e?.(`Analyzed ${i.toLocaleString()} rows...`,void 0,!1),await s6())}return this.rowsCount=r.length-1,e?.(`Analysis complete: ${this.rowsCount.toLocaleString()} rows`),this.dataTypes=n,n}escapeValue(e){let r=String(e).trim();for(let n of this.valuesToEscape)r=r.split(n).join(`${this.escapechar}${n}`);return r}formatValue(e,r){let n=this.escapeValue(e);return r<this.dataTypes.length&&this.dataTypes[r].currentType.dbType==="DATETIME"&&(n=n.replace("T"," ")),n}generateCreateTableSql(){let e=[];for(let n=0;n<this.sqlHeaders.length;n++){let i=this.sqlHeaders[n],s=this.dataTypes[n];e.push(`        ${i} ${s.currentType.toString()}`)}let r=this.logDir.replace(/\\/g,"/");return`CREATE TABLE ${this.targetTable} AS 
(
    SELECT * FROM EXTERNAL '${this.virtualFileName}'
    (
${e.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${this.delimiterPlain}'
        RecordDelim '${this.recordDelimPlain}'
        ESCAPECHAR '${this.escapechar}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${r}'
    )
) DISTRIBUTE ON RANDOM;`}async createDataStream(e){e?.("Preparing data stream...");try{let r;if(this.isExcelFile){if(!this.excelData||this.excelData.length===0)throw new Error("Excel data not loaded. Call analyzeDataTypes first.");r=this.excelData.slice(1)}else{let n=Un.readFileSync(this.filePath,"utf-8");n.startsWith("\uFEFF")&&(n=n.slice(1));let i=n.split(/\r?\n/);r=[];let s=!0;for(let o of i)if(o.trim()){if(s){s=!1;continue}r.push(this.parseCsvLine(o))}}return this.rowsCount=r.length,new gC(this,r,e)}catch(r){let n=r instanceof Error?r.message:String(r);throw e?.(`Error preparing stream: ${n}`),r}}getVirtualFileName(){return this.virtualFileName}getRowsCount(){return this.rowsCount}getSqlHeaders(){return this.sqlHeaders}getCsvDelimiter(){return this.csvDelimiter}}});var f6={};Dt(f6,{ClipboardDataProcessor:()=>op,importClipboardDataToNetezza:()=>LCe});function CCe(t){let e=String(t).trim();return e=e.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!e||/^\d/.test(e)||e.startsWith("_"))&&(e="COL"+(e.startsWith("_")?"":"_")+e),e}function bCe(t,e,r){let n=String(t).trim();for(let i of r)n=n.split(i).join(`${e}${i}`);return n}function yCe(t,e,r,n,i){let s=bCe(t,n,i);return e<r.length&&r[e].currentType.dbType==="DATETIME"&&(s=s.replace("T"," ")),s}async function LCe(t,e,r,n,i){let s=Date.now(),o=null,a=null;try{if(!t)return{success:!1,message:"Target table name is required"};if(!e||!e.host)return{success:!1,message:"Connection details are required"};i?.("Starting clipboard import process..."),i?.(`  Target table: ${t}`),i?.(`  Format preference: ${r||"auto-detect"}`);let l=new op,[c,u]=await l.processClipboardData(r,i);if(!c||!c.length)return{success:!1,message:"No data found in clipboard"};if(c.length<2)return{success:!1,message:"Clipboard data must contain at least headers and one data row"};i?.(`  Detected format: ${u}`),i?.(`  Rows: ${c.length}`),i?.(`  Columns: ${c[0].length}`);let E=c[0].map(re=>CCe(re)),d=c.slice(1);i?.("Detecting decimal separator...");let f=".",T=0,h=0,S=d.slice(0,100);for(let re of S)for(let xe of re){if(!xe||!xe.trim())continue;let fe=xe.trim();/^\d+\.\d+$/.test(fe)&&T++,/^\d+,\d+$/.test(fe)&&h++}h>T&&h>0&&(f=","),i?.(`Detected decimal separator: '${f}'`),i?.("Analyzing clipboard data types...");let p=E.map(()=>new fc(f));for(let re=0;re<d.length;re++){let xe=d[re];for(let fe=0;fe<xe.length;fe++)fe<p.length&&xe[fe]&&xe[fe].trim()&&p[fe].refreshCurrentType(xe[fe].trim());(re+1)%1e3===0&&(i?.(`Analyzed ${(re+1).toLocaleString()} rows...`,void 0,!1),await E6())}i?.(`Analysis complete: ${d.length.toLocaleString()} data rows`);let I=l6.join(require("os").tmpdir(),"netezza_clipboard_logs");ap.existsSync(I)||ap.mkdirSync(I,{recursive:!0});let R="	",A="\\t",O=`
`,L="\\n",N="\\",D=[N,O,"\r",R];i?.("Preparing in-memory data stream...");let y=new bC(d,p,R,O,N,D,f,i);o=`virtual_clipboard_import_${Date.now()}_${Math.floor(Math.random()*1e3)}.txt`,i?.(`Registered virtual stream: ${o}`);let P=nr();P&&P.registerImportStream?P.registerImportStream(o,y):i?.("Warning: NzConnection driver does not support stream registry. Import might fail.");let x=[];for(let re=0;re<E.length;re++)x.push(`        ${E[re]} ${p[re].currentType.toString()}`);let B=I.replace(/\\/g,"/"),G=`CREATE TABLE ${t} AS 
(
    SELECT * FROM EXTERNAL '${o}'
    (
${x.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${A}'
        RecordDelim '${L}'
        ESCAPECHAR '${N}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${B}'
    )
) DISTRIBUTE ON RANDOM;`;i?.("Generated SQL:"),i?.(G),i?.("Connecting to Netezza...");let k={host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password},z=nr();a=new z(k),await a.connect();try{i?.("Executing CREATE TABLE with EXTERNAL clipboard data...");let re=a.createCommand(G);re.commandTimeout=3600,await re.execute(),i?.("Clipboard import completed successfully")}finally{await a.close()}let ne=(Date.now()-s)/1e3;return{success:!0,message:"Clipboard import completed successfully",details:{targetTable:t,format:u,rowsProcessed:d.length,rowsInserted:d.length,processingTime:`${ne.toFixed(1)}s`,columns:E.length,detectedDelimiter:R}}}catch(l){let c=(Date.now()-s)/1e3;return{success:!1,message:`Clipboard import failed: ${l instanceof Error?l.message:String(l)}`,details:{processingTime:`${c.toFixed(1)}s`}}}finally{if(a&&a._connected)try{await a.close()}catch{}if(o){let l=nr();l&&l.unregisterImportStream&&l.unregisterImportStream(o)}}}var ap,l6,c6,u6,E6,op,bC,d6=Y(()=>{"use strict";ap=Q(require("fs")),l6=Q(require("path")),c6=Q(require("vscode")),u6=require("stream");CC();E6=()=>new Promise(t=>setTimeout(t,0)),op=class{async processXmlSpreadsheet(e,r){r?.("Processing XML Spreadsheet data...");let n=[],i=0,s=[],o=0,a=e.match(/ExpandedColumnCount="(\d+)"/);a&&(i=parseInt(a[1]),r?.(`Table has ${i} columns`));let l=e.match(/ExpandedRowCount="(\d+)"/);l&&r?.(`Table has ${l[1]} rows`);let c=/<Row[^>]*>([\s\S]*?)<\/Row>/gi,u;for(;(u=c.exec(e))!==null;){let E=u[1];s=new Array(i).fill("");let d,f=0,T=/<Cell(?:[^>]*ss:Index="(\d+)")?[^>]*>(?:[\s\S]*?<Data[^>]*(?:\s+ss:Type="([^"]*)")?[^>]*>([^<]*)<\/Data>)?[\s\S]*?<\/Cell>/gi;for(;(d=T.exec(E))!==null;){d[1]&&(f=parseInt(d[1])-1);let h=d[2]||"",S=d[3]||"";h==="Boolean"&&(S=S==="0"?"False":"True"),f<i&&(s[f]=S),f++}s.some(h=>h.trim())&&n.push([...s]),o++,o%1e4===0&&(r?.(`Analyzed ${o.toLocaleString()} rows...`,void 0,!1),await E6())}return r?.(`XML processing complete: ${n.length} rows, ${i} columns`),n}async processTextData(e,r){if(r?.("Processing text data..."),!e.trim())return[];let n=e.split(`
`);for(;n.length&&!n[n.length-1].trim();)n.pop();if(!n.length)return[];let i=["	",",",";","|"],s={};for(let c of i){let u=[];for(let E of n.slice(0,Math.min(5,n.length)))if(E.trim()){let d=E.split(c);u.push(d.length)}if(u.length){let E=u.reduce((f,T)=>f+T,0)/u.length,d=u.reduce((f,T)=>f+Math.pow(T-E,2),0)/u.length;s[c]=[E,-d]}}let o="	";Object.keys(s).length&&(o=Object.keys(s).reduce((c,u)=>{let[E,d]=s[c]||[0,0],[f,T]=s[u];return f>E||f===E&&T>d?u:c},"	")),r?.(`Auto-detected delimiter: '${o==="	"?"\\t":o}'`);let a=[],l=0;for(let c of n)if(c.trim()){let u=c.split(o).map(E=>E.trim());a.push(u),l=Math.max(l,u.length)}for(let c of a)for(;c.length<l;)c.push("");return r?.(`Text processing complete: ${a.length} rows, ${l} columns`),a}async getClipboardText(){return await c6.env.clipboard.readText()}async processClipboardData(e,r){r?.("Getting clipboard data...");let n=await this.getClipboardText();if(!n)throw new Error("No data found in clipboard");r?.(`Data size: ${n.length} characters`);let i="TEXT";e==="XML Spreadsheet"||!e&&n.includes("<Workbook")&&n.includes("<Worksheet")?i="XML Spreadsheet":e==="TEXT"&&(i="TEXT"),r?.(`Detected format: ${i}`);let s;return i==="XML Spreadsheet"?s=await this.processXmlSpreadsheet(n,r):s=await this.processTextData(n,r),r?.(`Processed ${s.length} rows`),s.length&&r?.(`Columns per row: ${s[0].length}`),[s,i]}};bC=class extends u6.Readable{constructor(r,n,i,s,o,a,l,c){super();this.currentIndex=0;this.byteLength=0;this.lastReportedIndex=-1;this.lastReportTime=0;this.lastReportedMessage="";this.rows=r,this.dataTypes=n,this.delimiter=i,this.recordDelim=s,this.escapechar=o,this.valuesToEscape=a,this.decimalDelimiter=l,this.progressCallback=c,this.currentIndex=0,this.lastReportedIndex=-1,this.lastReportTime=0,this.lastReportedMessage="";try{this.byteLength=r.reduce((u,E)=>{let d=E.reduce((f,T)=>f+(T?T.length:0),0);return u+d+E.length},0)}catch{this.byteLength=1024*1024}}_read(r){try{let n=!0;for(;n&&this.currentIndex<this.rows.length;){let a=this.rows[this.currentIndex].map((l,c)=>{let u=yCe(l,c,this.dataTypes,this.escapechar,this.valuesToEscape);if(this.dataTypes[c].currentType.dbType==="NUMERIC"&&this.decimalDelimiter===","&&(u=u.replace(",",".")),this.dataTypes[c].currentType.dbType==="DATETIME"){let E=u.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(E){let d=E[1],f=E[2],T=E[3],h=E[4]||"00",S=E[5]||"00",p=E[6]||"00";u=`${T}-${f}-${d} ${h}:${S}:${p}`}}return u}).join(this.delimiter)+this.recordDelim;n=this.push(Buffer.from(a,"utf8")),this.currentIndex++}let i=this.rows.length;if(this.currentIndex>this.lastReportedIndex){let s=Date.now();if(this.currentIndex>=i||s-this.lastReportTime>=1e3){let c=`Streaming data: ${Math.floor(this.currentIndex/i*100)}% (${this.currentIndex.toLocaleString()}/${i.toLocaleString()})`,E=(this.currentIndex-(this.lastReportedIndex<0?0:this.lastReportedIndex))/i*100;c!==this.lastReportedMessage&&(this.progressCallback?.(c,E,!1),this.lastReportedIndex=this.currentIndex,this.lastReportTime=s,this.lastReportedMessage=c)}}this.currentIndex>=this.rows.length&&this.push(null)}catch(n){this.emit("error",n)}}}});var M,wCe,DCe,PCe,LC,MCe,xCe,vCe,UCe,lp,BCe,Lt=Y(()=>{M=t=>t.flatMap(wCe),wCe=t=>lp(PCe(t)).map(DCe),DCe=t=>t.replace(/ +/g," ").trim(),PCe=t=>({type:"mandatory_block",items:LC(t,0)[0]}),LC=(t,e,r)=>{let n=[];for(;t[e];){let[i,s]=MCe(t,e);if(n.push(i),e=s,t[e]==="|")e++;else if(t[e]==="}"||t[e]==="]"){if(r!==t[e])throw new Error(`Unbalanced parenthesis in: ${t}`);return e++,[n,e]}else if(e===t.length){if(r)throw new Error(`Unbalanced parenthesis in: ${t}`);return[n,e]}else throw new Error(`Unexpected "${t[e]}"`)}return[n,e]},MCe=(t,e)=>{let r=[];for(;;){let[n,i]=xCe(t,e);if(n)r.push(n),e=i;else break}return r.length===1?[r[0],e]:[{type:"concatenation",items:r},e]},xCe=(t,e)=>{if(t[e]==="{")return vCe(t,e+1);if(t[e]==="[")return UCe(t,e+1);{let r="";for(;t[e]&&/[A-Za-z0-9_ ]/.test(t[e]);)r+=t[e],e++;return[r,e]}},vCe=(t,e)=>{let[r,n]=LC(t,e,"}");return[{type:"mandatory_block",items:r},n]},UCe=(t,e)=>{let[r,n]=LC(t,e,"]");return[{type:"optional_block",items:r},n]},lp=t=>{if(typeof t=="string")return[t];if(t.type==="concatenation")return t.items.map(lp).reduce(BCe,[""]);if(t.type==="mandatory_block")return t.items.flatMap(lp);if(t.type==="optional_block")return["",...t.items.flatMap(lp)];throw new Error(`Unknown node type: ${t}`)},BCe=(t,e)=>{let r=[];for(let n of t)for(let i of e)r.push(n+i);return r}});var $,wC,Ii,dc,Bn,cp,R6,Rn=Y(()=>{(function(t){t.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",t.IDENTIFIER="IDENTIFIER",t.STRING="STRING",t.VARIABLE="VARIABLE",t.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",t.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",t.RESERVED_KEYWORD="RESERVED_KEYWORD",t.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",t.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",t.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",t.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",t.RESERVED_CLAUSE="RESERVED_CLAUSE",t.RESERVED_SELECT="RESERVED_SELECT",t.RESERVED_JOIN="RESERVED_JOIN",t.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",t.ARRAY_KEYWORD="ARRAY_KEYWORD",t.CASE="CASE",t.END="END",t.WHEN="WHEN",t.ELSE="ELSE",t.THEN="THEN",t.LIMIT="LIMIT",t.BETWEEN="BETWEEN",t.AND="AND",t.OR="OR",t.XOR="XOR",t.OPERATOR="OPERATOR",t.COMMA="COMMA",t.ASTERISK="ASTERISK",t.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",t.OPEN_PAREN="OPEN_PAREN",t.CLOSE_PAREN="CLOSE_PAREN",t.LINE_COMMENT="LINE_COMMENT",t.BLOCK_COMMENT="BLOCK_COMMENT",t.DISABLE_COMMENT="DISABLE_COMMENT",t.NUMBER="NUMBER",t.NAMED_PARAMETER="NAMED_PARAMETER",t.QUOTED_PARAMETER="QUOTED_PARAMETER",t.NUMBERED_PARAMETER="NUMBERED_PARAMETER",t.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",t.CUSTOM_PARAMETER="CUSTOM_PARAMETER",t.DELIMITER="DELIMITER",t.EOF="EOF"})($=$||($={}));wC=t=>({type:$.EOF,raw:"\xABEOF\xBB",text:"\xABEOF\xBB",start:t}),Ii=wC(1/0),dc=t=>e=>e.type===t.type&&e.text===t.text,Bn={ARRAY:dc({text:"ARRAY",type:$.RESERVED_DATA_TYPE}),BY:dc({text:"BY",type:$.RESERVED_KEYWORD}),SET:dc({text:"SET",type:$.RESERVED_CLAUSE}),STRUCT:dc({text:"STRUCT",type:$.RESERVED_DATA_TYPE}),WINDOW:dc({text:"WINDOW",type:$.RESERVED_CLAUSE}),VALUES:dc({text:"VALUES",type:$.RESERVED_CLAUSE})},cp=t=>t===$.RESERVED_DATA_TYPE||t===$.RESERVED_KEYWORD||t===$.RESERVED_FUNCTION_NAME||t===$.RESERVED_KEYWORD_PHRASE||t===$.RESERVED_DATA_TYPE_PHRASE||t===$.RESERVED_CLAUSE||t===$.RESERVED_SELECT||t===$.RESERVED_SET_OPERATION||t===$.RESERVED_JOIN||t===$.ARRAY_KEYWORD||t===$.CASE||t===$.END||t===$.WHEN||t===$.ELSE||t===$.THEN||t===$.LIMIT||t===$.BETWEEN||t===$.AND||t===$.OR||t===$.XOR,R6=t=>t===$.AND||t===$.OR||t===$.XOR});var A6,_6=Y(()=>{A6=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"]});var I6,N6,O6=Y(()=>{I6=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],N6=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"]});function VCe(t){return kCe(qCe(t))}function kCe(t){let e=Ii;return t.map(r=>r.text==="OFFSET"&&e.text==="["?(e=r,Object.assign(Object.assign({},r),{type:$.RESERVED_FUNCTION_NAME})):(e=r,r))}function qCe(t){var e;let r=[];for(let n=0;n<t.length;n++){let i=t[n];if((Bn.ARRAY(i)||Bn.STRUCT(i))&&((e=t[n+1])===null||e===void 0?void 0:e.text)==="<"){let s=XCe(t,n+1),o=t.slice(n,s+1);r.push({type:$.IDENTIFIER,raw:o.map(g6("raw")).join(""),text:o.map(g6("text")).join(""),start:i.start}),n=s}else r.push(i)}return r}function XCe(t,e){let r=0;for(let n=e;n<t.length;n++){let i=t[n];if(i.text==="<"?r++:i.text===">"?r--:i.text===">>"&&(r-=2),r===0)return n}return t.length-1}var FCe,GCe,m6,DC,HCe,WCe,YCe,$Ce,up,g6,PC=Y(()=>{Lt();Rn();_6();O6();FCe=M(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),GCe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),m6=M(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),DC=M(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),HCe=M(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),WCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),YCe=M(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),$Ce=M([]),up={name:"bigquery",tokenizerOptions:{reservedSelect:FCe,reservedClauses:[...GCe,...DC,...m6],reservedSetOperations:HCe,reservedJoins:WCe,reservedKeywordPhrases:YCe,reservedDataTypePhrases:$Ce,reservedKeywords:I6,reservedDataTypes:N6,reservedFunctionNames:A6,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:VCe},formatOptions:{onelineClauses:[...m6,...DC],tabularOnelineClauses:DC}};g6=t=>e=>e.type===$.IDENTIFIER||e.type===$.COMMA?e[t]+" ":e[t]});var C6,b6=Y(()=>{C6=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"]});var y6,L6,w6=Y(()=>{y6=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],L6=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"]});var KCe,zCe,D6,MC,jCe,JCe,QCe,ZCe,Ep,xC=Y(()=>{Lt();b6();w6();KCe=M(["SELECT [ALL | DISTINCT]"]),zCe=M(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),D6=M(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),MC=M(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),jCe=M(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),JCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),QCe=M(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),ZCe=M([]),Ep={name:"db2",tokenizerOptions:{reservedSelect:KCe,reservedClauses:[...zCe,...D6,...MC],reservedSetOperations:jCe,reservedJoins:JCe,reservedKeywordPhrases:QCe,reservedDataTypePhrases:ZCe,reservedKeywords:y6,reservedDataTypes:L6,reservedFunctionNames:C6,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","\xAC=","\xAC>","\xAC<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...D6,...MC],tabularOnelineClauses:MC}}});var P6,M6=Y(()=>{P6=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"]});var x6,v6,U6=Y(()=>{x6=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],v6=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"]});var e0e,t0e,B6,vC,r0e,n0e,i0e,s0e,fp,UC=Y(()=>{Lt();M6();U6();e0e=M(["SELECT [ALL | DISTINCT]"]),t0e=M(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),B6=M(["CREATE [OR REPLACE] TABLE"]),vC=M(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),r0e=M(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),n0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),i0e=M(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),s0e=M([]),fp={name:"db2i",tokenizerOptions:{reservedSelect:e0e,reservedClauses:[...t0e,...B6,...vC],reservedSetOperations:r0e,reservedJoins:n0e,reservedKeywordPhrases:i0e,reservedDataTypePhrases:s0e,reservedKeywords:x6,reservedDataTypes:v6,reservedFunctionNames:P6,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","\xAC=","\xAC>","\xAC<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...B6,...vC],tabularOnelineClauses:vC}}});var F6,G6=Y(()=>{F6=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"]});var H6,W6,Y6=Y(()=>{H6=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],W6=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"]});var o0e,a0e,$6,BC,l0e,c0e,u0e,E0e,dp,FC=Y(()=>{Lt();G6();Y6();o0e=M(["SELECT [ALL | DISTINCT]"]),a0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),$6=M(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),BC=M(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),l0e=M(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),c0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),u0e=M(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"]),E0e=M(["TIMESTAMP WITH TIME ZONE"]),dp={name:"duckdb",tokenizerOptions:{reservedSelect:o0e,reservedClauses:[...a0e,...$6,...BC],reservedSetOperations:l0e,reservedJoins:c0e,reservedKeywordPhrases:u0e,reservedDataTypePhrases:E0e,supportsXor:!0,reservedKeywords:H6,reservedDataTypes:W6,reservedFunctionNames:F6,nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...$6,...BC],tabularOnelineClauses:BC}}});var V6,k6=Y(()=>{V6=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"]});var q6,X6,K6=Y(()=>{q6=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],X6=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"]});var f0e,d0e,z6,GC,h0e,T0e,S0e,p0e,hp,HC=Y(()=>{Lt();k6();K6();f0e=M(["SELECT [ALL | DISTINCT]"]),d0e=M(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),z6=M(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),GC=M(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),h0e=M(["UNION [ALL | DISTINCT]"]),T0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),S0e=M(["{ROWS | RANGE} BETWEEN"]),p0e=M([]),hp={name:"hive",tokenizerOptions:{reservedSelect:f0e,reservedClauses:[...d0e,...z6,...GC],reservedSetOperations:h0e,reservedJoins:T0e,reservedKeywordPhrases:S0e,reservedDataTypePhrases:p0e,reservedKeywords:q6,reservedDataTypes:X6,reservedFunctionNames:V6,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...z6,...GC],tabularOnelineClauses:GC}}});function Xs(t){return t.map((e,r)=>{let n=t[r+1]||Ii;if(Bn.SET(e)&&n.text==="(")return Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME});let i=t[r-1]||Ii;return Bn.VALUES(e)&&i.text==="="?Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME}):e})}var HE=Y(()=>{Rn()});var j6,J6,Q6=Y(()=>{j6=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],J6=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var Z6,e3=Y(()=>{Z6=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"]});var R0e,A0e,t3,WC,_0e,I0e,N0e,O0e,Tp,YC=Y(()=>{Lt();HE();Q6();e3();R0e=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),A0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),t3=M(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),WC=M(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),_0e=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),I0e=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),N0e=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),O0e=M([]),Tp={name:"mariadb",tokenizerOptions:{reservedSelect:R0e,reservedClauses:[...A0e,...t3,...WC],reservedSetOperations:_0e,reservedJoins:I0e,reservedKeywordPhrases:N0e,reservedDataTypePhrases:O0e,supportsXor:!0,reservedKeywords:j6,reservedDataTypes:J6,reservedFunctionNames:Z6,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:Xs},formatOptions:{onelineClauses:[...t3,...WC],tabularOnelineClauses:WC}}});var r3,n3,i3=Y(()=>{r3=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],n3=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var s3,o3=Y(()=>{s3=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"]});var m0e,g0e,a3,$C,C0e,b0e,y0e,L0e,Sp,VC=Y(()=>{Lt();HE();i3();o3();m0e=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),g0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),a3=M(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),$C=M(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),C0e=M(["UNION [ALL | DISTINCT]"]),b0e=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),y0e=M(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),L0e=M([]),Sp={name:"mysql",tokenizerOptions:{reservedSelect:m0e,reservedClauses:[...g0e,...a3,...$C],reservedSetOperations:C0e,reservedJoins:b0e,reservedKeywordPhrases:y0e,reservedDataTypePhrases:L0e,supportsXor:!0,reservedKeywords:r3,reservedDataTypes:n3,reservedFunctionNames:s3,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Xs},formatOptions:{onelineClauses:[...a3,...$C],tabularOnelineClauses:$C}}});var l3,c3,u3=Y(()=>{l3=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],c3=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var E3,f3=Y(()=>{E3=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"]});var w0e,D0e,d3,kC,P0e,M0e,x0e,v0e,pp,qC=Y(()=>{Lt();HE();u3();f3();w0e=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),D0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),d3=M(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),kC=M(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),P0e=M(["UNION [ALL | DISTINCT]"]),M0e=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),x0e=M(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),v0e=M([]),pp={name:"tidb",tokenizerOptions:{reservedSelect:w0e,reservedClauses:[...D0e,...d3,...kC],reservedSetOperations:P0e,reservedJoins:M0e,reservedKeywordPhrases:x0e,reservedDataTypePhrases:v0e,supportsXor:!0,reservedKeywords:l3,reservedDataTypes:c3,reservedFunctionNames:E3,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Xs},formatOptions:{onelineClauses:[...d3,...kC],tabularOnelineClauses:kC}}});var h3,T3=Y(()=>{h3=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"]});var S3,p3,R3=Y(()=>{S3=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],p3=[]});var U0e,B0e,A3,F0e,G0e,H0e,W0e,Rp,XC=Y(()=>{Lt();T3();R3();U0e=M(["SELECT [ALL | DISTINCT]"]),B0e=M(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),A3=M(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),F0e=M(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),G0e=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),H0e=M(["{ROWS | RANGE | GROUPS} BETWEEN"]),W0e=M([]),Rp={name:"n1ql",tokenizerOptions:{reservedSelect:U0e,reservedClauses:[...B0e,...A3],reservedSetOperations:F0e,reservedJoins:G0e,reservedKeywordPhrases:H0e,reservedDataTypePhrases:W0e,supportsXor:!0,reservedKeywords:S3,reservedDataTypes:p3,reservedFunctionNames:h3,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:A3}}});var _3,I3,N3=Y(()=>{_3=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],I3=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"]});var O3,m3=Y(()=>{O3=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"]});function K0e(t){let e=Ii;return t.map(r=>Bn.SET(r)&&Bn.BY(e)?Object.assign(Object.assign({},r),{type:$.RESERVED_KEYWORD}):(cp(r.type)&&(e=r),r))}var Y0e,$0e,g3,KC,V0e,k0e,q0e,X0e,Ap,zC=Y(()=>{Lt();Rn();N3();m3();Y0e=M(["SELECT [ALL | DISTINCT | UNIQUE]"]),$0e=M(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),g3=M(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),KC=M(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),V0e=M(["UNION [ALL]","MINUS","INTERSECT"]),k0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),q0e=M(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),X0e=M([]),Ap={name:"plsql",tokenizerOptions:{reservedSelect:Y0e,reservedClauses:[...$0e,...g3,...KC],reservedSetOperations:V0e,reservedJoins:k0e,reservedKeywordPhrases:q0e,reservedDataTypePhrases:X0e,supportsXor:!0,reservedKeywords:_3,reservedDataTypes:I3,reservedFunctionNames:O3,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:K0e},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...g3,...KC],tabularOnelineClauses:KC}}});var C3,b3=Y(()=>{C3=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","UUIDV4","UUIDV7","UUID_EXTRACT_TIMESTAMP","UUID_EXTRACT_VERSION","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"]});var y3,L3,w3=Y(()=>{y3=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],L3=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"]});var z0e,j0e,D3,jC,J0e,Q0e,Z0e,ebe,_p,JC=Y(()=>{Lt();b3();w3();z0e=M(["SELECT [ALL | DISTINCT]"]),j0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),D3=M(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),jC=M(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMENT ON","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),J0e=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Q0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Z0e=M(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),ebe=M(["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"]),_p={name:"postgresql",tokenizerOptions:{reservedSelect:z0e,reservedClauses:[...j0e,...D3,...jC],reservedSetOperations:J0e,reservedJoins:Q0e,reservedKeywordPhrases:Z0e,reservedDataTypePhrases:ebe,reservedKeywords:y3,reservedDataTypes:L3,reservedFunctionNames:C3,nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...D3,...jC],tabularOnelineClauses:jC}}});var P3,M3=Y(()=>{P3=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"]});var x3,v3,U3=Y(()=>{x3=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],v3=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"]});var tbe,rbe,B3,QC,nbe,ibe,sbe,obe,Ip,ZC=Y(()=>{Lt();M3();U3();tbe=M(["SELECT [ALL | DISTINCT]"]),rbe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),B3=M(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),QC=M(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),nbe=M(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),ibe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),sbe=M(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),obe=M([]),Ip={name:"redshift",tokenizerOptions:{reservedSelect:tbe,reservedClauses:[...rbe,...B3,...QC],reservedSetOperations:nbe,reservedJoins:ibe,reservedKeywordPhrases:sbe,reservedDataTypePhrases:obe,reservedKeywords:x3,reservedDataTypes:v3,reservedFunctionNames:P3,extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...B3,...QC],tabularOnelineClauses:QC}}});var F3,G3,H3=Y(()=>{F3=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],G3=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"]});var W3,Y3=Y(()=>{W3=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"]});function dbe(t){return t.map((e,r)=>{let n=t[r-1]||Ii,i=t[r+1]||Ii;return Bn.WINDOW(e)&&i.type===$.OPEN_PAREN?Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===$.RESERVED_KEYWORD&&!(n.text==="COLLECTION"&&i.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:$.IDENTIFIER,text:e.raw}):e})}var abe,lbe,$3,e0,cbe,ube,Ebe,fbe,Np,t0=Y(()=>{Lt();Rn();H3();Y3();abe=M(["SELECT [ALL | DISTINCT]"]),lbe=M(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),$3=M(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),e0=M(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),cbe=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),ube=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),Ebe=M(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),fbe=M([]),Np={name:"spark",tokenizerOptions:{reservedSelect:abe,reservedClauses:[...lbe,...$3,...e0],reservedSetOperations:cbe,reservedJoins:ube,reservedKeywordPhrases:Ebe,reservedDataTypePhrases:fbe,supportsXor:!0,reservedKeywords:F3,reservedDataTypes:G3,reservedFunctionNames:W3,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:dbe},formatOptions:{onelineClauses:[...$3,...e0],tabularOnelineClauses:e0}}});var V3,k3=Y(()=>{V3=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"]});var q3,X3,K3=Y(()=>{q3=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],X3=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"]});var hbe,Tbe,z3,r0,Sbe,pbe,Rbe,Abe,Op,n0=Y(()=>{Lt();k3();K3();hbe=M(["SELECT [ALL | DISTINCT]"]),Tbe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"]),z3=M(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),r0=M(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),Sbe=M(["UNION [ALL]","EXCEPT","INTERSECT"]),pbe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Rbe=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),Abe=M([]),Op={name:"sqlite",tokenizerOptions:{reservedSelect:hbe,reservedClauses:[...Tbe,...z3,...r0],reservedSetOperations:Sbe,reservedJoins:pbe,reservedKeywordPhrases:Rbe,reservedDataTypePhrases:Abe,reservedKeywords:q3,reservedDataTypes:X3,reservedFunctionNames:V3,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...z3,...r0],tabularOnelineClauses:r0}}});var j3,J3=Y(()=>{j3=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"]});var Q3,Z3,eK=Y(()=>{Q3=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],Z3=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"]});var _be,Ibe,tK,i0,Nbe,Obe,mbe,gbe,mp,s0=Y(()=>{Lt();J3();eK();_be=M(["SELECT [ALL | DISTINCT]"]),Ibe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),tK=M(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),i0=M(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),Nbe=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Obe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),mbe=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),gbe=M([]),mp={name:"sql",tokenizerOptions:{reservedSelect:_be,reservedClauses:[...Ibe,...tK,...i0],reservedSetOperations:Nbe,reservedJoins:Obe,reservedKeywordPhrases:mbe,reservedDataTypePhrases:gbe,reservedKeywords:Q3,reservedDataTypes:Z3,reservedFunctionNames:j3,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...tK,...i0],tabularOnelineClauses:i0}}});var rK,nK=Y(()=>{rK=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"]});var iK,sK,oK=Y(()=>{iK=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],sK=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"]});var Cbe,bbe,aK,o0,ybe,Lbe,wbe,Dbe,gp,a0=Y(()=>{Lt();nK();oK();Cbe=M(["SELECT [ALL | DISTINCT]"]),bbe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),aK=M(["CREATE TABLE [IF NOT EXISTS]"]),o0=M(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),ybe=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Lbe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),wbe=M(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),Dbe=M([]),gp={name:"trino",tokenizerOptions:{reservedSelect:Cbe,reservedClauses:[...bbe,...aK,...o0],reservedSetOperations:ybe,reservedJoins:Lbe,reservedKeywordPhrases:wbe,reservedDataTypePhrases:Dbe,reservedKeywords:iK,reservedDataTypes:sK,reservedFunctionNames:rK,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...aK,...o0],tabularOnelineClauses:o0}}});var lK,cK=Y(()=>{lK=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"]});var uK,EK,fK=Y(()=>{uK=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],EK=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"]});var Pbe,Mbe,dK,l0,xbe,vbe,Ube,Bbe,Cp,c0=Y(()=>{Lt();cK();fK();Pbe=M(["SELECT [ALL | DISTINCT]"]),Mbe=M(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"]),dK=M(["CREATE TABLE"]),l0=M(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),xbe=M(["UNION [ALL]","EXCEPT","INTERSECT"]),vbe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),Ube=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),Bbe=M([]),Cp={name:"transactsql",tokenizerOptions:{reservedSelect:Pbe,reservedClauses:[...Mbe,...dK,...l0],reservedSetOperations:xbe,reservedJoins:vbe,reservedKeywordPhrases:Ube,reservedDataTypePhrases:Bbe,reservedKeywords:uK,reservedDataTypes:EK,reservedFunctionNames:lK,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...dK,...l0],tabularOnelineClauses:l0}}});var hK,TK,SK=Y(()=>{hK=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],TK=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"]});var pK,RK=Y(()=>{pK=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"]});var Fbe,Gbe,AK,u0,Hbe,Wbe,Ybe,$be,bp,E0=Y(()=>{Lt();HE();SK();RK();Fbe=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),Gbe=M(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),AK=M(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),u0=M(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),Hbe=M(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),Wbe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Ybe=M(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),$be=M([]),bp={name:"singlestoredb",tokenizerOptions:{reservedSelect:Fbe,reservedClauses:[...Gbe,...AK,...u0],reservedSetOperations:Hbe,reservedJoins:Wbe,reservedKeywordPhrases:Ybe,reservedDataTypePhrases:$be,reservedKeywords:hK,reservedDataTypes:TK,reservedFunctionNames:pK,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:Xs},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...AK,...u0],tabularOnelineClauses:u0}}});var _K,IK=Y(()=>{_K=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER \u2014 Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"]});var NK,OK,mK=Y(()=>{NK=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],OK=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"]});var Vbe,kbe,gK,f0,qbe,Xbe,Kbe,zbe,yp,d0=Y(()=>{Lt();IK();mK();Vbe=M(["SELECT [ALL | DISTINCT]"]),kbe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),gK=M(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),f0=M(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),qbe=M(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),Xbe=M(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),Kbe=M(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),zbe=M([]),yp={name:"snowflake",tokenizerOptions:{reservedSelect:Vbe,reservedClauses:[...kbe,...gK,...f0],reservedSetOperations:qbe,reservedJoins:Xbe,reservedKeywordPhrases:Kbe,reservedDataTypePhrases:zbe,reservedKeywords:NK,reservedDataTypes:OK,reservedFunctionNames:_K,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...gK,...f0],tabularOnelineClauses:f0}}});var h0={};Dt(h0,{bigquery:()=>up,db2:()=>Ep,db2i:()=>fp,duckdb:()=>dp,hive:()=>hp,mariadb:()=>Tp,mysql:()=>Sp,n1ql:()=>Rp,plsql:()=>Ap,postgresql:()=>_p,redshift:()=>Ip,singlestoredb:()=>bp,snowflake:()=>yp,spark:()=>Np,sql:()=>mp,sqlite:()=>Op,tidb:()=>pp,transactsql:()=>Cp,trino:()=>gp});var CK=Y(()=>{PC();xC();UC();FC();HC();YC();VC();qC();XC();zC();JC();ZC();t0();n0();s0();a0();c0();E0();d0()});var Ks,T0,hc,Lp,Tc=Y(()=>{Ks=t=>t[t.length-1],T0=t=>t.sort((e,r)=>r.length-e.length||e.localeCompare(r)),hc=t=>t.replace(/\s+/gu," "),Lp=t=>/\n/.test(t)});var Zr,S0,os,jbe,bK,yK,wp=Y(()=>{Zr=t=>t.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),S0=/\s+/uy,os=t=>new RegExp(`(?:${t})`,"uy"),jbe=t=>t.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),bK=t=>t+"(?:-"+t+")*",yK=({prefixes:t,requirePrefix:e})=>`(?:${t.map(jbe).join("|")}${e?"":"|"})`});var wK,p0,R0,Jbe,Ni,Dp,Qbe,LK,DK,PK,A0,_0,MK,I0,xK=Y(()=>{Tc();wp();wK=t=>new RegExp(`(?:${t.map(Zr).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),p0=(t,e=[])=>{let r=t==="open"?0:1,n=["()",...e].map(i=>i[r]);return os(n.map(Zr).join("|"))},R0=t=>os(`${T0(t).map(Zr).join("|")}`),Jbe=({rest:t,dashes:e})=>t||e?`(?![${t||""}${e?"-":""}])`:"",Ni=(t,e={})=>{if(t.length===0)return/^\b$/u;let r=Jbe(e),n=T0(t).map(Zr).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${n})${r}\\b`,"iuy")},Dp=(t,e)=>{if(!t.length)return;let r=t.map(Zr).join("|");return os(`(?:${r})(?:${e})`)},Qbe=()=>{let t={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",r=Object.entries(t).map(([o,a])=>e.replace(/{left}/g,Zr(o)).replace(/{right}/g,Zr(a))),n=Zr(Object.keys(t).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${n}])(?:(?!\k<tag>').)*?\k<tag>`}|${r.join("|")})'`},LK={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":Qbe()},DK=t=>typeof t=="string"?LK[t]:"regex"in t?t.regex:yK(t)+LK[t.quote],PK=t=>os(t.map(e=>"regex"in e?e.regex:DK(e)).join("|")),A0=t=>t.map(DK).join("|"),_0=t=>os(A0(t)),MK=(t={})=>os(I0(t)),I0=({first:t,rest:e,dashes:r,allowFirstCharNumber:n}={})=>{let i="\\p{Alphabetic}\\p{Mark}_",s="\\p{Decimal_Number}",o=Zr(t??""),a=Zr(e??""),l=n?`[${i}${s}${o}][${i}${s}${a}]*`:`[${i}${o}][${i}${s}${a}]*`;return r?bK(l):l}});function Pp(t,e){let r=t.slice(0,e).split(/\n/);return{line:r.length,col:r[r.length-1].length+1}}var N0=Y(()=>{});var WE,vK=Y(()=>{N0();wp();WE=class{constructor(e,r){this.rules=e,this.dialectName=r,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;let r=[],n;for(;this.index<this.input.length;){let i=this.getWhitespace();if(this.index<this.input.length){if(n=this.getNextToken(),!n)throw this.createParseError();r.push(Object.assign(Object.assign({},n),{precedingWhitespace:i}))}}return r}createParseError(){let e=this.input.slice(this.index,this.index+10),{line:r,col:n}=Pp(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${r} column ${n}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){S0.lastIndex=this.index;let e=S0.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(let e of this.rules){let r=this.match(e);if(r)return r}}match(e){e.regex.lastIndex=this.index;let r=e.regex.exec(this.input);if(r){let n=r[0],i={type:e.type,raw:n,text:e.text?e.text(n):n,start:this.index};return e.key&&(i.key=e.key(n)),this.index+=n.length,i}}}});var UK,eye,tye,Mp,BK=Y(()=>{UK=/\/\*/uy,eye=/[\s\S]/uy,tye=/\*\//uy,Mp=class{constructor(){this.lastIndex=0}exec(e){let r="",n,i=0;if(n=this.matchSection(UK,e))r+=n,i++;else return null;for(;i>0;)if(n=this.matchSection(UK,e))r+=n,i++;else if(n=this.matchSection(tye,e))r+=n,i--;else if(n=this.matchSection(eye,e))r+=n;else return null;return[r]}matchSection(e,r){e.lastIndex=this.lastIndex;let n=e.exec(r);return n&&(this.lastIndex+=n[0].length),n?n[0]:null}}});var YE,$t,FK=Y(()=>{Rn();xK();vK();wp();Tc();BK();YE=class{constructor(e,r){this.cfg=e,this.dialectName=r,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,r){let n=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,r),...this.rulesAfterParams],i=new WE(n,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(i):i}buildRulesBeforeParams(e){var r,n,i;return this.validRules([{type:$.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:$.BLOCK_COMMENT,regex:e.nestedBlockComments?new Mp:/(\/\*[^]*?\*\/)/uy},{type:$.LINE_COMMENT,regex:wK((r=e.lineCommentTypes)!==null&&r!==void 0?r:["--"])},{type:$.QUOTED_IDENTIFIER,regex:_0(e.identTypes)},{type:$.NUMBER,regex:e.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:$.RESERVED_KEYWORD_PHRASE,regex:Ni((n=e.reservedKeywordPhrases)!==null&&n!==void 0?n:[],e.identChars),text:$t},{type:$.RESERVED_DATA_TYPE_PHRASE,regex:Ni((i=e.reservedDataTypePhrases)!==null&&i!==void 0?i:[],e.identChars),text:$t},{type:$.CASE,regex:/CASE\b/iuy,text:$t},{type:$.END,regex:/END\b/iuy,text:$t},{type:$.BETWEEN,regex:/BETWEEN\b/iuy,text:$t},{type:$.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:$t},{type:$.RESERVED_CLAUSE,regex:Ni(e.reservedClauses,e.identChars),text:$t},{type:$.RESERVED_SELECT,regex:Ni(e.reservedSelect,e.identChars),text:$t},{type:$.RESERVED_SET_OPERATION,regex:Ni(e.reservedSetOperations,e.identChars),text:$t},{type:$.WHEN,regex:/WHEN\b/iuy,text:$t},{type:$.ELSE,regex:/ELSE\b/iuy,text:$t},{type:$.THEN,regex:/THEN\b/iuy,text:$t},{type:$.RESERVED_JOIN,regex:Ni(e.reservedJoins,e.identChars),text:$t},{type:$.AND,regex:/AND\b/iuy,text:$t},{type:$.OR,regex:/OR\b/iuy,text:$t},{type:$.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:$t},...e.operatorKeyword?[{type:$.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:$.RESERVED_FUNCTION_NAME,regex:Ni(e.reservedFunctionNames,e.identChars),text:$t},{type:$.RESERVED_DATA_TYPE,regex:Ni(e.reservedDataTypes,e.identChars),text:$t},{type:$.RESERVED_KEYWORD,regex:Ni(e.reservedKeywords,e.identChars),text:$t}])}buildRulesAfterParams(e){var r,n;return this.validRules([{type:$.VARIABLE,regex:e.variableTypes?PK(e.variableTypes):void 0},{type:$.STRING,regex:_0(e.stringTypes)},{type:$.IDENTIFIER,regex:MK(e.identChars)},{type:$.DELIMITER,regex:/[;]/uy},{type:$.COMMA,regex:/[,]/y},{type:$.OPEN_PAREN,regex:p0("open",e.extraParens)},{type:$.CLOSE_PAREN,regex:p0("close",e.extraParens)},{type:$.OPERATOR,regex:R0(["+","-","/",">","<","=","<>","<=",">=","!=",...(r=e.operators)!==null&&r!==void 0?r:[]])},{type:$.ASTERISK,regex:/[*]/uy},{type:$.PROPERTY_ACCESS_OPERATOR,regex:R0([".",...(n=e.propertyAccessOperators)!==null&&n!==void 0?n:[]])}])}buildParamRules(e,r){var n,i,s,o,a;let l={named:r?.named||((n=e.paramTypes)===null||n===void 0?void 0:n.named)||[],quoted:r?.quoted||((i=e.paramTypes)===null||i===void 0?void 0:i.quoted)||[],numbered:r?.numbered||((s=e.paramTypes)===null||s===void 0?void 0:s.numbered)||[],positional:typeof r?.positional=="boolean"?r.positional:(o=e.paramTypes)===null||o===void 0?void 0:o.positional,custom:r?.custom||((a=e.paramTypes)===null||a===void 0?void 0:a.custom)||[]};return this.validRules([{type:$.NAMED_PARAMETER,regex:Dp(l.named,I0(e.paramChars||e.identChars)),key:c=>c.slice(1)},{type:$.QUOTED_PARAMETER,regex:Dp(l.quoted,A0(e.identTypes)),key:c=>(({tokenKey:u,quoteChar:E})=>u.replace(new RegExp(Zr("\\"+E),"gu"),E))({tokenKey:c.slice(2,-1),quoteChar:c.slice(-1)})},{type:$.NUMBERED_PARAMETER,regex:Dp(l.numbered,"[0-9]+"),key:c=>c.slice(1)},{type:$.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(c=>{var u;return{type:$.CUSTOM_PARAMETER,regex:os(c.regex),key:(u=c.key)!==null&&u!==void 0?u:(E=>E)}})])}validRules(e){return e.filter(r=>!!r.regex)}},$t=t=>hc(t.toUpperCase())});var GK,HK,rye,nye,WK=Y(()=>{FK();GK=new Map,HK=t=>{let e=GK.get(t);return e||(e=rye(t),GK.set(t,e)),e},rye=t=>({tokenizer:new YE(t.tokenizerOptions,t.name),formatOptions:nye(t.formatOptions)}),nye=t=>{var e;return{alwaysDenseOperators:t.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(t.onelineClauses.map(r=>[r,!0])),tabularOnelineClauses:Object.fromEntries(((e=t.tabularOnelineClauses)!==null&&e!==void 0?e:t.onelineClauses).map(r=>[r,!0]))}}});function YK(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"?" ".repeat(10):t.useTabs?"	":" ".repeat(t.tabWidth)}function Ta(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"}var O0=Y(()=>{});var $E,$K=Y(()=>{$E=class{constructor(e){this.params=e,this.index=0}get({key:e,text:r}){return this.params?e?this.params[e]:this.params[this.index++]:r}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}}});var kK=g((VK,xp)=>{(function(t,e){typeof xp=="object"&&xp.exports?xp.exports=e():t.nearley=e()})(VK,function(){function t(l,c,u){return this.id=++t.highestId,this.name=l,this.symbols=c,this.postprocess=u,this}t.highestId=0,t.prototype.toString=function(l){var c=typeof l>"u"?this.symbols.map(a).join(" "):this.symbols.slice(0,l).map(a).join(" ")+" \u25CF "+this.symbols.slice(l).map(a).join(" ");return this.name+" \u2192 "+c};function e(l,c,u,E){this.rule=l,this.dot=c,this.reference=u,this.data=[],this.wantedBy=E,this.isComplete=this.dot===l.symbols.length}e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(l){var c=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=l,c.isComplete&&(c.data=c.build(),c.right=void 0),c},e.prototype.build=function(){var l=[],c=this;do l.push(c.right.data),c=c.left;while(c.left);return l.reverse(),l},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function r(l,c){this.grammar=l,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(l){for(var c=this.states,u=this.wants,E=this.completed,d=0;d<c.length;d++){var f=c[d];if(f.isComplete){if(f.finish(),f.data!==s.fail){for(var T=f.wantedBy,h=T.length;h--;){var S=T[h];this.complete(S,f)}if(f.reference===this.index){var p=f.rule.name;(this.completed[p]=this.completed[p]||[]).push(f)}}}else{var p=f.rule.symbols[f.dot];if(typeof p!="string"){this.scannable.push(f);continue}if(u[p]){if(u[p].push(f),E.hasOwnProperty(p))for(var I=E[p],h=0;h<I.length;h++){var R=I[h];this.complete(f,R)}}else u[p]=[f],this.predict(p)}}},r.prototype.predict=function(l){for(var c=this.grammar.byName[l]||[],u=0;u<c.length;u++){var E=c[u],d=this.wants[l],f=new e(E,0,this.index,d);this.states.push(f)}},r.prototype.complete=function(l,c){var u=l.nextState(c);this.states.push(u)};function n(l,c){this.rules=l,this.start=c||this.rules[0].name;var u=this.byName={};this.rules.forEach(function(E){u.hasOwnProperty(E.name)||(u[E.name]=[]),u[E.name].push(E)})}n.fromCompiled=function(E,c){var u=E.Lexer;E.ParserStart&&(c=E.ParserStart,E=E.ParserRules);var E=E.map(function(f){return new t(f.name,f.symbols,f.postprocess)}),d=new n(E,c);return d.lexer=u,d};function i(){this.reset("")}i.prototype.reset=function(l,c){this.buffer=l,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var l=this.buffer[this.index++];return l===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:l}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(l,c){var u=this.buffer;if(typeof u=="string"){var E=u.split(`
`).slice(Math.max(0,this.line-5),this.line),d=u.indexOf(`
`,this.index);d===-1&&(d=u.length);var f=this.index-this.lastLineBreak,T=String(this.line).length;return c+=" at line "+this.line+" col "+f+`:

`,c+=E.map(function(S,p){return h(this.line-E.length+p+1,T)+" "+S},this).join(`
`),c+=`
`+h("",T+f)+`^
`,c}else return c+" at index "+(this.index-1);function h(S,p){var I=String(S);return Array(p-I.length+1).join(" ")+I}};function s(l,c,u){if(l instanceof n)var E=l,u=c;else var E=n.fromCompiled(l,c);this.grammar=E,this.options={keepHistory:!1,lexer:E.lexer||new i};for(var d in u||{})this.options[d]=u[d];this.lexer=this.options.lexer,this.lexerState=void 0;var f=new r(E,0),T=this.table=[f];f.wants[E.start]=[],f.predict(E.start),f.process(),this.current=0}s.fail={},s.prototype.feed=function(l){var c=this.lexer;c.reset(l,this.lexerState);for(var u;;){try{if(u=c.next(),!u)break}catch(L){var T=new r(this.grammar,this.current+1);this.table.push(T);var E=new Error(this.reportLexerError(L));throw E.offset=this.current,E.token=L.token,E}var d=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var f=this.current+1,T=new r(this.grammar,f);this.table.push(T);for(var h=u.text!==void 0?u.text:u.value,S=c.constructor===i?u.value:u,p=d.scannable,I=p.length;I--;){var R=p[I],A=R.rule.symbols[R.dot];if(A.test?A.test(S):A.type?A.type===u.type:A.literal===h){var O=R.nextState({data:S,token:u,isToken:!0,reference:f-1});T.states.push(O)}}if(T.process(),T.states.length===0){var E=new Error(this.reportError(u));throw E.offset=this.current,E.token=u,E}this.options.keepHistory&&(d.lexerState=c.save()),this.current++}return d&&(this.lexerState=c.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(l){var c,u,E=l.token;return E?(c="input "+JSON.stringify(E.text[0])+" (lexer error)",u=this.lexer.formatError(E,"Syntax error")):(c="input (lexer error)",u=l.message),this.reportErrorCommon(u,c)},s.prototype.reportError=function(l){var c=(l.type?l.type+" token: ":"")+JSON.stringify(l.value!==void 0?l.value:l),u=this.lexer.formatError(l,"Syntax error");return this.reportErrorCommon(u,c)},s.prototype.reportErrorCommon=function(l,c){var u=[];u.push(l);var E=this.table.length-2,d=this.table[E],f=d.states.filter(function(h){var S=h.rule.symbols[h.dot];return S&&typeof S!="string"});if(f.length===0)u.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(d.states,u);else{u.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var T=f.map(function(h){return this.buildFirstStateStack(h,[])||[h]},this);T.forEach(function(h){var S=h[0],p=S.rule.symbols[S.dot],I=this.getSymbolDisplay(p);u.push("A "+I+" based on:"),this.displayStateStack(h,u)},this)}return u.push(""),u.join(`
`)},s.prototype.displayStateStack=function(l,c){for(var u,E=0,d=0;d<l.length;d++){var f=l[d],T=f.rule.toString(f.dot);T===u?E++:(E>0&&c.push("    ^ "+E+" more lines identical to this"),E=0,c.push("    "+T)),u=T}},s.prototype.getSymbolDisplay=function(l){return o(l)},s.prototype.buildFirstStateStack=function(l,c){if(c.indexOf(l)!==-1)return null;if(l.wantedBy.length===0)return[l];var u=l.wantedBy[0],E=[l].concat(c),d=this.buildFirstStateStack(u,E);return d===null?null:[l].concat(d)},s.prototype.save=function(){var l=this.table[this.current];return l.lexerState=this.lexerState,l},s.prototype.restore=function(l){var c=l.index;this.current=c,this.table[c]=l,this.table.splice(c+1),this.lexerState=l.lexerState,this.results=this.finish()},s.prototype.rewind=function(l){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[l])},s.prototype.finish=function(){var l=[],c=this.grammar.start,u=this.table[this.table.length-1];return u.states.forEach(function(E){E.rule.name===c&&E.dot===E.rule.symbols.length&&E.reference===0&&E.data!==s.fail&&l.push(E)}),l.map(function(E){return E.data})};function o(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return"character matching "+l;if(l.type)return l.type+" token";if(l.test)return"token matching "+String(l.test);throw new Error("Unknown symbol type: "+l)}}function a(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return l.toString();if(l.type)return"%"+l.type;if(l.test)return"<"+String(l.test)+">";throw new Error("Unknown symbol type: "+l)}}return{Parser:s,Grammar:n,Rule:t}})});function qK(t){return t.map(iye).map(sye).map(oye).map(aye).map(lye)}var iye,sye,oye,aye,lye,cye,Sc,XK,KK,uye,zK=Y(()=>{Rn();iye=(t,e,r)=>{if(cp(t.type)){let n=cye(r,e);if(n&&n.type===$.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw});let i=Sc(r,e);if(i&&i.type===$.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw})}return t},sye=(t,e,r)=>{if(t.type===$.RESERVED_FUNCTION_NAME){let n=Sc(r,e);if(!n||!XK(n))return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw})}return t},oye=(t,e,r)=>{if(t.type===$.RESERVED_DATA_TYPE){let n=Sc(r,e);if(n&&XK(n))return Object.assign(Object.assign({},t),{type:$.RESERVED_PARAMETERIZED_DATA_TYPE})}return t},aye=(t,e,r)=>{if(t.type===$.IDENTIFIER){let n=Sc(r,e);if(n&&KK(n))return Object.assign(Object.assign({},t),{type:$.ARRAY_IDENTIFIER})}return t},lye=(t,e,r)=>{if(t.type===$.RESERVED_DATA_TYPE){let n=Sc(r,e);if(n&&KK(n))return Object.assign(Object.assign({},t),{type:$.ARRAY_KEYWORD})}return t},cye=(t,e)=>Sc(t,e,-1),Sc=(t,e,r=1)=>{let n=1;for(;t[e+n*r]&&uye(t[e+n*r]);)n++;return t[e+n*r]},XK=t=>t.type===$.OPEN_PAREN&&t.text==="(",KK=t=>t.type===$.OPEN_PAREN&&t.text==="[",uye=t=>t.type===$.BLOCK_COMMENT||t.type===$.LINE_COMMENT});var Sa,m0=Y(()=>{N0();Rn();Sa=class{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,r){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){let{line:r,col:n}=Pp(this.input,e.start);return`Parse error at token: ${e.text} at line ${r} column ${n}`}has(e){return e in $}}});var K,g0=Y(()=>{(function(t){t.statement="statement",t.clause="clause",t.set_operation="set_operation",t.function_call="function_call",t.parameterized_data_type="parameterized_data_type",t.array_subscript="array_subscript",t.property_access="property_access",t.parenthesis="parenthesis",t.between_predicate="between_predicate",t.case_expression="case_expression",t.case_when="case_when",t.case_else="case_else",t.limit_clause="limit_clause",t.all_columns_asterisk="all_columns_asterisk",t.literal="literal",t.identifier="identifier",t.keyword="keyword",t.data_type="data_type",t.parameter="parameter",t.operator="operator",t.comma="comma",t.line_comment="line_comment",t.block_comment="block_comment",t.disable_comment="disable_comment"})(K=K||(K={}))});function C0(t){return t[0]}var le,pa,er,jK,tr,Eye,fye,JK,QK=Y(()=>{m0();g0();Rn();le=new Sa(t=>[]),pa=([[t]])=>t,er=t=>({type:K.keyword,tokenType:t.type,text:t.text,raw:t.raw}),jK=t=>({type:K.data_type,text:t.text,raw:t.raw}),tr=(t,{leading:e,trailing:r})=>(e?.length&&(t=Object.assign(Object.assign({},t),{leadingComments:e})),r?.length&&(t=Object.assign(Object.assign({},t),{trailingComments:r})),t),Eye=(t,{leading:e,trailing:r})=>{if(e?.length){let[n,...i]=t;t=[tr(n,{leading:e}),...i]}if(r?.length){let n=t.slice(0,-1),i=t[t.length-1];t=[...n,tr(i,{trailing:r})]}return t},fye={Lexer:le,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:t=>t[0].concat([t[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([t])=>{let e=t[t.length-1];return e&&!e.hasSemicolon?e.children.length>0?t:t.slice(0,-1):t}},{name:"statement$subexpression$1",symbols:[le.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[le.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([t,[e]])=>({type:K.statement,children:t,hasSemicolon:e.type===$.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([t,e])=>[...t,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:pa},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[le.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:C0},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[le.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([t,e,r,n])=>{if(n){let[i,s]=n;return{type:K.limit_clause,limitKw:tr(er(t),{trailing:e}),offset:r,count:s}}else return{type:K.limit_clause,limitKw:tr(er(t),{trailing:e}),count:r}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([t,[e,r]])=>({type:K.clause,nameKw:er(t),children:[e,...r]})},{name:"select_clause",symbols:[le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([t])=>({type:K.clause,nameKw:er(t),children:[]})},{name:"all_columns_asterisk",symbols:[le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:K.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"other_clause",symbols:[le.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([t,e])=>({type:K.clause,nameKw:er(t),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"set_operation",symbols:[le.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([t,e])=>({type:K.set_operation,nameKw:er(t),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:C0},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([t,e])=>tr(t,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([t,e])=>tr(e,{leading:t})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([t,e])=>tr(e,{leading:t})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:pa},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:pa},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:pa},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:pa},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:pa},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:pa},{name:"array_subscript",symbols:[le.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([t,e,r])=>({type:K.array_subscript,array:tr({type:K.identifier,quoted:!1,text:t.text},{trailing:e}),parenthesis:r})},{name:"array_subscript",symbols:[le.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([t,e,r])=>({type:K.array_subscript,array:tr(er(t),{trailing:e}),parenthesis:r})},{name:"function_call",symbols:[le.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([t,e,r])=>({type:K.function_call,nameKw:tr(er(t),{trailing:e}),parenthesis:r})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([t,e,r])=>({type:K.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([t,e,r])=>({type:K.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([t,e,r])=>({type:K.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",le.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([t,e,r,n,[i]])=>({type:K.property_access,object:tr(t,{trailing:e}),operator:r.text,property:tr(i,{leading:n})})},{name:"between_predicate",symbols:[le.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",le.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([t,e,r,n,i,s,o])=>({type:K.between_predicate,betweenKw:er(t),expr1:Eye(r,{leading:e,trailing:n}),andKw:er(i),expr2:[tr(o,{leading:s})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:C0},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:t=>t[0].concat([t[1]])},{name:"case_expression",symbols:[le.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",le.has("END")?{type:"END"}:END],postprocess:([t,e,r,n,i])=>({type:K.case_expression,caseKw:tr(er(t),{trailing:e}),endKw:er(i),expr:r||[],clauses:n})},{name:"case_clause",symbols:[le.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",le.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([t,e,r,n,i,s])=>({type:K.case_when,whenKw:tr(er(t),{trailing:e}),thenKw:tr(er(n),{trailing:i}),condition:r,result:s})},{name:"case_clause",symbols:[le.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([t,e,r])=>({type:K.case_else,elseKw:tr(er(t),{trailing:e}),result:r})},{name:"comma$subexpression$1",symbols:[le.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[t]])=>({type:K.comma})},{name:"asterisk$subexpression$1",symbols:[le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[t]])=>({type:K.operator,text:t.text})},{name:"operator$subexpression$1",symbols:[le.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[t]])=>({type:K.operator,text:t.text})},{name:"identifier$subexpression$1",symbols:[le.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[le.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[le.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[t]])=>({type:K.identifier,quoted:t.type!=="IDENTIFIER",text:t.text})},{name:"parameter$subexpression$1",symbols:[le.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[t]])=>({type:K.parameter,key:t.key,text:t.text})},{name:"literal$subexpression$1",symbols:[le.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[le.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[t]])=>({type:K.literal,text:t.text})},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[t]])=>er(t)},{name:"data_type$subexpression$1",symbols:[le.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[le.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[t]])=>jK(t)},{name:"data_type",symbols:[le.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([t,e,r])=>({type:K.parameterized_data_type,dataType:tr(jK(t),{trailing:e}),parenthesis:r})},{name:"logic_operator$subexpression$1",symbols:[le.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[le.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[le.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[t]])=>er(t)},{name:"other_keyword$subexpression$1",symbols:[le.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[le.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[le.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[le.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[t]])=>er(t)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:t=>t[0].concat([t[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([t])=>t},{name:"comment",symbols:[le.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([t])=>({type:K.line_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[le.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([t])=>({type:K.block_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[le.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([t])=>({type:K.disable_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})}],ParserStart:"main"},JK=fye});function e4(t){let e={},r=new Sa(i=>[...qK(t.tokenize(i,e)),wC(i.length)]),n=new dye(hye.fromCompiled(JK),{lexer:r});return{parse:(i,s)=>{e=s;let{results:o}=n.feed(i);if(o.length===1)return o[0];throw o.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(o,void 0,2)}`)}}}var ZK,dye,hye,t4=Y(()=>{ZK=Q(kK(),1);zK();QK();m0();Rn();({Parser:dye,Grammar:hye}=ZK.default)});var W,Ra,Tye,Sye,vp=Y(()=>{Tc();(function(t){t[t.SPACE=0]="SPACE",t[t.NO_SPACE=1]="NO_SPACE",t[t.NO_NEWLINE=2]="NO_NEWLINE",t[t.NEWLINE=3]="NEWLINE",t[t.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",t[t.INDENT=5]="INDENT",t[t.SINGLE_INDENT=6]="SINGLE_INDENT"})(W=W||(W={}));Ra=class{constructor(e){this.indentation=e,this.items=[]}add(...e){for(let r of e)switch(r){case W.SPACE:this.items.push(W.SPACE);break;case W.NO_SPACE:this.trimHorizontalWhitespace();break;case W.NO_NEWLINE:this.trimWhitespace();break;case W.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(W.NEWLINE);break;case W.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(W.MANDATORY_NEWLINE);break;case W.INDENT:this.addIndentation();break;case W.SINGLE_INDENT:this.items.push(W.SINGLE_INDENT);break;default:this.items.push(r)}}trimHorizontalWhitespace(){for(;Tye(Ks(this.items));)this.items.pop()}trimWhitespace(){for(;Sye(Ks(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(Ks(this.items)){case W.NEWLINE:this.items.pop(),this.items.push(e);break;case W.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(W.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case W.SPACE:return" ";case W.NEWLINE:case W.MANDATORY_NEWLINE:return`
`;case W.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}},Tye=t=>t===W.SPACE||t===W.SINGLE_INDENT,Sye=t=>t===W.SPACE||t===W.SINGLE_INDENT||t===W.NEWLINE});function Up(t,e){if(e==="standard")return t;let r=[];return t.length>=10&&t.includes(" ")&&([t,...r]=t.split(" ")),e==="tabularLeft"?t=t.padEnd(9," "):t=t.padStart(9," "),t+["",...r].join(" ")}function b0(t){return R6(t)||t===$.RESERVED_CLAUSE||t===$.RESERVED_SELECT||t===$.RESERVED_SET_OPERATION||t===$.RESERVED_JOIN||t===$.LIMIT}var r4=Y(()=>{Rn()});var y0,pye,Aa,L0=Y(()=>{Tc();y0="top-level",pye="block-level",Aa=class{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(y0)}increaseBlockLevel(){this.indentTypes.push(pye)}decreaseTopLevel(){this.indentTypes.length>0&&Ks(this.indentTypes)===y0&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===y0;);}}});var VE,pc,n4=Y(()=>{L0();vp();VE=class extends Ra{constructor(e){super(new Aa("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(r=>this.addToLength(r)),this.length>this.expressionWidth)throw new pc;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===W.MANDATORY_NEWLINE||e===W.NEWLINE)throw new pc;e===W.INDENT||e===W.SINGLE_INDENT||e===W.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===W.NO_NEWLINE||e===W.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}},pc=class extends Error{}});var kE,i4=Y(()=>{Tc();O0();Rn();g0();vp();r4();n4();kE=class t{constructor({cfg:e,dialectCfg:r,params:n,layout:i,inline:s=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=r,this.inline=s,this.params=n,this.layout=i}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case K.function_call:return this.formatFunctionCall(e);case K.parameterized_data_type:return this.formatParameterizedDataType(e);case K.array_subscript:return this.formatArraySubscript(e);case K.property_access:return this.formatPropertyAccess(e);case K.parenthesis:return this.formatParenthesis(e);case K.between_predicate:return this.formatBetweenPredicate(e);case K.case_expression:return this.formatCaseExpression(e);case K.case_when:return this.formatCaseWhen(e);case K.case_else:return this.formatCaseElse(e);case K.clause:return this.formatClause(e);case K.set_operation:return this.formatSetOperation(e);case K.limit_clause:return this.formatLimitClause(e);case K.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case K.literal:return this.formatLiteral(e);case K.identifier:return this.formatIdentifier(e);case K.parameter:return this.formatParameter(e);case K.operator:return this.formatOperator(e);case K.comma:return this.formatComma(e);case K.line_comment:return this.formatLineComment(e);case K.block_comment:return this.formatBlockComment(e);case K.disable_comment:return this.formatBlockComment(e);case K.data_type:return this.formatDataType(e);case K.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let r;switch(e.array.type){case K.data_type:r=this.showDataType(e.array);break;case K.keyword:r=this.showKw(e.array);break;default:r=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(r)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(W.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){let r=this.formatInlineExpression(e.children);r?(this.layout.add(e.openParen),this.layout.add(...r.getLayoutItems()),this.layout.add(W.NO_SPACE,e.closeParen,W.SPACE)):(this.layout.add(e.openParen,W.NEWLINE),Ta(this.cfg)?(this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(W.NEWLINE,W.INDENT,e.closeParen,W.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),W.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(W.NO_SPACE,W.SPACE,this.showNonTabularKw(e.andKw),W.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(W.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(W.NEWLINE,W.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(W.NEWLINE,W.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(W.NEWLINE,W.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):Ta(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return Ta(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.NEWLINE),this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),Ta(this.cfg)?this.layout.add(W.SPACE):this.layout.add(W.NEWLINE,W.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(W.NO_SPACE,",",W.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",W.SPACE)}formatLiteral(e){this.layout.add(e.text,W.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),W.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),W.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(W.NO_SPACE,e):e===":"?this.layout.add(W.NO_SPACE,e,W.SPACE):this.layout.add(e,W.SPACE)}formatComma(e){this.inline?this.layout.add(W.NO_SPACE,",",W.SPACE):this.layout.add(W.NO_SPACE,",",W.NEWLINE,W.INDENT)}withComments(e,r){this.formatComments(e.leadingComments),r(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(r=>{r.type===K.line_comment?this.formatLineComment(r):this.formatBlockComment(r)})}formatLineComment(e){Lp(e.precedingWhitespace||"")?this.layout.add(W.NEWLINE,W.INDENT,e.text,W.MANDATORY_NEWLINE,W.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(W.NO_NEWLINE,W.SPACE,e.text,W.MANDATORY_NEWLINE,W.INDENT):this.layout.add(e.text,W.MANDATORY_NEWLINE,W.INDENT)}formatBlockComment(e){e.type===K.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(r=>{this.layout.add(W.NEWLINE,W.INDENT,r)}),this.layout.add(W.NEWLINE,W.INDENT)):this.layout.add(e.text,W.SPACE)}isMultilineBlockComment(e){return Lp(e.text)||Lp(e.precedingWhitespace||"")}isDocComment(e){let r=e.split(/\n/);return/^\/\*\*?$/.test(r[0])&&r.slice(1,r.length-1).every(n=>/^\s*\*/.test(n))&&/^\s*\*\/$/.test(Ks(r))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(r=>/^\s*\*/.test(r)?" "+r.replace(/^\s*/,""):r):e.split(/\n/).map(r=>r.replace(/^\s*/,""))}formatSubExpression(e){return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){let r=this.params.getPositionalParameterIndex();try{return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new VE(this.cfg.expressionWidth),inline:!0}).format(e)}catch(n){if(n instanceof pc){this.params.setPositionalParameterIndex(r);return}else throw n}}formatKeywordNode(e){switch(e.tokenType){case $.RESERVED_JOIN:return this.formatJoin(e);case $.AND:case $.OR:case $.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){Ta(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),W.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?Ta(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE):this.layout.add(this.showKw(e),W.NEWLINE,W.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),W.SPACE)}showKw(e){return b0(e.tokenType)?Up(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return hc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return b0(e.tokenType)?Up(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return hc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return hc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}}});var qE,s4=Y(()=>{O0();$K();t4();i4();vp();L0();qE=class{constructor(e,r){this.dialect=e,this.cfg=r,this.params=new $E(this.cfg.params)}format(e){let r=this.parse(e);return this.formatAst(r).trimEnd()}parse(e){return e4(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(r=>this.formatStatement(r)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){let r=new kE({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new Ra(new Aa(YK(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?r.add(W.NEWLINE,";"):r.add(W.NO_NEWLINE,";")),r.toString()}}});function o4(t){let e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(let r of e)if(r in t)throw new as(`${r} config is no more supported.`);if(t.expressionWidth<=0)throw new as(`expressionWidth config must be positive number. Received ${t.expressionWidth} instead.`);if(t.params&&!Rye(t.params)&&console.warn('WARNING: All "params" option values should be strings.'),t.paramTypes&&!Aye(t.paramTypes))throw new as("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return t}function Rye(t){return(t instanceof Array?t:Object.values(t)).every(r=>typeof r=="string")}function Aye(t){return t.custom&&Array.isArray(t.custom)?t.custom.every(e=>e.regex!==""):!0}var as,w0=Y(()=>{as=class extends Error{}});var _ye,a4,D0,Iye,l4,P0,c4=Y(()=>{CK();WK();s4();w0();_ye=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},a4={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},D0=Object.keys(a4),Iye={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},l4=(t,e={})=>{if(typeof e.language=="string"&&!D0.includes(e.language))throw new as(`Unsupported SQL dialect: ${e.language}`);let r=a4[e.language||"sql"];return P0(t,Object.assign(Object.assign({},e),{dialect:h0[r]}))},P0=(t,e)=>{var{dialect:r}=e,n=_ye(e,["dialect"]);if(typeof t!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof t);let i=o4(Object.assign(Object.assign({},Iye),n));return new qE(HK(r),i).format(t)}});var u4={};Dt(u4,{ConfigError:()=>as,bigquery:()=>up,db2:()=>Ep,db2i:()=>fp,duckdb:()=>dp,expandPhrases:()=>M,format:()=>l4,formatDialect:()=>P0,hive:()=>hp,mariadb:()=>Tp,mysql:()=>Sp,n1ql:()=>Rp,plsql:()=>Ap,postgresql:()=>_p,redshift:()=>Ip,singlestoredb:()=>bp,snowflake:()=>yp,spark:()=>Np,sql:()=>mp,sqlite:()=>Op,supportedDialects:()=>D0,tidb:()=>pp,transactsql:()=>Cp,trino:()=>gp});var E4=Y(()=>{c4();Lt();w0();PC();xC();UC();FC();HC();YC();VC();qC();XC();zC();JC();ZC();t0();n0();s0();a0();c0();E0();d0()});var S4={};Dt(S4,{ExplainPlanView:()=>M0,parseExplainOutput:()=>Nye});function Nye(t){let e=t.split(`
`).filter(E=>E.trim()),r=t.includes("QUERY VERBOSE PLAN:")||t.includes("Node 1."),n=e.map(E=>E.replace(/^NOTICE:\s*/i,"").trim()).filter(E=>E&&!E.startsWith("QUERY PLAN")&&!E.startsWith("QUERY VERBOSE")),i=[],s=[],o=0,a=0,l=n.findIndex(E=>E.includes("PLANTEXT:")),c=l>=0?n.slice(l+1).filter(E=>!E.startsWith("(")&&!E.includes("locus=")):n,u=[];for(let E of c){if(!E.trim()||E.startsWith("(xpath_")||E.includes("locus="))continue;let d=E.match(/^(\s*)/)?.[1]?.length||0,f=Math.floor(d/3),T=E.match(/^[\s]*(?:[lr]:\s*)?([\w\s-]+?)(?:\s+table\s+"(\w+)")?(?:\s+{[^}]*})?\s*\(cost=([\d.]+)\.\.([\d.]+)\s+rows=(\d+)\s+width=(\d+)\s+conf=([\d.]+)\)/i);if(T){let[,h,S,p,I,R,A,O]=T,L=h.trim(),N={id:++o,type:L,table:S,cost:{start:parseFloat(p),end:parseFloat(I)},rows:parseInt(R),width:parseInt(A),confidence:parseFloat(O),indent:f,children:[],raw:E.trim(),warnings:[]};for(Oye(N),s.push(...N.warnings),N.cost.end>a&&(a=N.cost.end);u.length>0&&u[u.length-1].indent>=f;)u.pop();u.length>0?u[u.length-1].children.push(N):i.push(N),u.push(N)}}return{nodes:i,rawText:t,isVerbose:r,totalCost:a,warnings:s}}function Oye(t){t.type.includes("Sequential Scan")&&t.rows>5e5&&t.warnings.push({type:"warning",message:`Sequential Scan on ${t.table||"table"} (${t.rows.toLocaleString()} rows) - consider adding an index`,icon:"\u26A0\uFE0F"}),t.type.includes("Nested Loop")&&t.rows>1e5&&t.warnings.push({type:"critical",message:`Nested Loop producing ${t.rows.toLocaleString()} rows - potential performance issue`,icon:"\u{1F534}"}),t.cost.end>1e10?t.warnings.push({type:"critical",message:`Very high estimated cost: ${t.cost.end.toExponential(2)}`,icon:"\u{1F534}"}):t.cost.end>1e7&&t.warnings.push({type:"warning",message:`High estimated cost: ${t.cost.end.toLocaleString()}`,icon:"\u26A0\uFE0F"}),t.confidence===0&&t.warnings.push({type:"info",message:"Low confidence estimate (conf=0) - statistics may be outdated",icon:"\u2139\uFE0F"})}function mye(t){return t.includes("Sequential Scan")?"#e74c3c":t.includes("Index Scan")?"#27ae60":t.includes("Nested Loop")?"#e67e22":t.includes("Hash Join")?"#3498db":t.includes("Merge Join")?"#9b59b6":t.includes("Aggregate")?"#1abc9c":t.includes("Group")?"#16a085":t.includes("Sort")?"#f39c12":t.includes("Limit")?"#95a5a6":t.includes("Sub-query")?"#34495e":"#7f8c8d"}function h4(t,e=0){return t.map(r=>{let n=r.children.length>0,i=mye(r.type),s=r.warnings.map(o=>`<span class="warning-badge warning-${o.type}" title="${o.message}">${o.icon}</span>`).join("");return`
        <div class="plan-node" style="--node-color: ${i}">
            <div class="node-header">
                ${n?'<span class="toggle-btn">\u25BC</span>':'<span class="toggle-spacer"></span>'}
                <span class="node-type" style="background-color: ${i}">${r.type}</span>
                ${r.table?`<span class="node-table">${r.table}${r.alias?` (${r.alias})`:""}</span>`:""}
                ${s}
            </div>
            <div class="node-metrics">
                <span class="metric"><b>Cost:</b> ${f4(r.cost.start)}..${f4(r.cost.end)}</span>
                <span class="metric"><b>Rows:</b> ${r.rows.toLocaleString()}</span>
                <span class="metric"><b>Width:</b> ${r.width}</span>
                <span class="metric ${r.confidence===0?"low-conf":""}"><b>Conf:</b> ${r.confidence}%</span>
            </div>
            ${n?`<div class="node-children">${h4(r.children,e+1)}</div>`:""}
        </div>`}).join("")}function f4(t){return t>1e6?t.toExponential(1):t.toLocaleString(void 0,{maximumFractionDigits:1})}function T4(t){return t.reduce((e,r)=>e+1+T4(r.children),0)}function d4(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function gye(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var An,M0,p4=Y(()=>{"use strict";An=Q(require("vscode"));M0=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(s=>{switch(s.command){case"copyPlan":An.env.clipboard.writeText(n.rawText),An.window.showInformationMessage("Plan copied to clipboard");return}},null,this._disposables)}static{this.viewType="netezza.explainPlan"}static createOrShow(e,r,n){let i=An.window.activeTextEditor?An.ViewColumn.Beside:void 0,s=An.window.createWebviewPanel(t.viewType,"Query Execution Plan",i||An.ViewColumn.One,{enableScripts:!0,localResourceRoots:[An.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(s,e,r,n)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){this._panel.title="Query Execution Plan",this._panel.webview.html=this._getHtmlForWebview(e,r)}_getHtmlForWebview(e,r){let n=this._panel.webview.asWebviewUri(An.Uri.joinPath(this._extensionUri,"media","explainPlan.css")),i=gye(),s=d4(r);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${this._panel.webview.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Query Execution Plan</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>Query Execution Plan</h2>
            <div class="header-actions">
                <button id="copyBtn" class="btn">\u{1F4CB} Copy Plan</button>
                <button id="expandAllBtn" class="btn">\u2795 Expand All</button>
                <button id="collapseAllBtn" class="btn">\u2796 Collapse All</button>
            </div>
        </div>

        ${e.warnings.length>0?`
        <div class="warnings-summary">
            <h3>\u26A0\uFE0F Performance Issues Detected (${e.warnings.length})</h3>
            <ul>
                ${e.warnings.map(o=>`<li class="warning-${o.type}">${o.icon} ${o.message}</li>`).join("")}
            </ul>
        </div>
        `:`
        <div class="no-warnings">
            <span>\u2705 No obvious performance issues detected</span>
        </div>
        `}

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-label">Total Cost:</span>
                <span class="stat-value">${e.totalCost>1e6?e.totalCost.toExponential(2):e.totalCost.toLocaleString()}</span>
            </div>
            <div class="stat">
                <span class="stat-label">Nodes:</span>
                <span class="stat-value">${T4(e.nodes)}</span>
            </div>
        </div>

        <div class="query-section">
            <h3>Query</h3>
            <pre class="query-text">${s}</pre>
        </div>

        <div class="plan-section">
            <h3>Execution Plan</h3>
            <div id="planTree" class="plan-tree">
                ${h4(e.nodes)}
            </div>
        </div>

        <div class="raw-section">
            <details>
                <summary>Raw Plan Output</summary>
                <pre class="raw-plan">${d4(e.rawText)}</pre>
            </details>
        </div>
    </div>

    <script nonce="${i}">
        const vscode = acquireVsCodeApi();
        
        document.getElementById('copyBtn').addEventListener('click', () => {
            vscode.postMessage({ command: 'copyPlan' });
        });

        document.getElementById('expandAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'block');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25BC');
        });

        document.getElementById('collapseAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25B6');
        });

        document.querySelectorAll('.toggle-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const node = e.target.closest('.plan-node');
                const children = node.querySelector('.node-children');
                if (children) {
                    const isHidden = children.style.display === 'none';
                    children.style.display = isHidden ? 'block' : 'none';
                    e.target.textContent = isHidden ? '\u25BC' : '\u25B6';
                }
            });
        });
    </script>
</body>
</html>`}}});var wye={};Dt(wye,{activate:()=>yye,deactivate:()=>Lye});module.exports=zp(wye);var te=Q(require("vscode"));Rr();uR();var $r=Q(require("vscode")),Lf=class t{constructor(e,r,n){this.extensionUri=r;this.connectionManager=n;this._disposables=[];this._panel=e,this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.html=this._getHtmlForWebview(this._panel.webview),this._panel.webview.onDidReceiveMessage(async i=>{switch(i.command){case"save":try{await this.connectionManager.saveConnection(i.data),$r.window.showInformationMessage(`Connection '${i.data.name}' saved and activated!`),this.sendConnectionsToWebview()}catch(s){let o=s instanceof Error?s.message:String(s);$r.window.showErrorMessage(`Error saving: ${o}`)}return;case"delete":try{await $r.window.showWarningMessage(`Are you sure you want to delete '${i.name}'?`,{modal:!0},"Yes","No")==="Yes"&&(await this.connectionManager.deleteConnection(i.name),$r.window.showInformationMessage(`Connection '${i.name}' deleted.`),this.sendConnectionsToWebview())}catch(s){let o=s instanceof Error?s.message:String(s);$r.window.showErrorMessage(`Error deleting: ${o}`)}return;case"loadConnections":this.sendConnectionsToWebview();return}},null,this._disposables)}async sendConnectionsToWebview(){let e=await this.connectionManager.getConnections(),r=this.connectionManager.getActiveConnectionName();await this._panel.webview.postMessage({command:"updateConnections",connections:e,activeName:r})}static createOrShow(e,r){let n=$r.window.activeTextEditor?$r.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n);return}let i=$r.window.createWebviewPanel("netezzaLogin","Connect to Netezza",n||$r.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getHtmlForWebview(e){let r=e.asWebviewUri($r.Uri.joinPath(this.extensionUri,"netezza_icon64.png"));return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Connect to Netezza</title>
            <style>
                :root {
                    --container-paddding: 20px;
                    --input-padding-vertical: 6px;
                    --input-padding-horizontal: 8px;
                    --input-margin-vertical: 4px;
                    --input-margin-horizontal: 0;
                }
                body {
                    font-family: var(--vscode-font-family);
                    padding: 0;
                    margin: 0;
                    color: var(--vscode-foreground);
                    background-color: var(--vscode-editor-background);
                    display: flex;
                    height: 100vh;
                    overflow: hidden;
                }
                
                /* Sidebar */
                .sidebar {
                    width: 260px;
                    background-color: var(--vscode-sideBar-background);
                    border-right: 1px solid var(--vscode-panel-border);
                    display: flex;
                    flex-direction: column;
                    flex-shrink: 0;
                    user-select: none;
                }
                .sidebar-header {
                    padding: 10px 15px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    background-color: var(--vscode-sideBarSectionHeader-background);
                }
                .sidebar-title {
                    font-weight: bold;
                    font-size: 11px;
                    text-transform: uppercase;
                    color: var(--vscode-sideBarTitle-foreground);
                }
                .connection-list {
                    flex: 1;
                    overflow-y: auto;
                    padding: 0;
                }
                .connection-item {
                    padding: 8px 15px;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    border-left: 3px solid transparent;
                    color: var(--vscode-sideBar-foreground);
                }
                .connection-item:hover {
                    background-color: var(--vscode-list-hoverBackground);
                }
                .connection-item.active {
                    background-color: var(--vscode-list-activeSelectionBackground);
                    color: var(--vscode-list-activeSelectionForeground);
                    border-left-color: var(--vscode-focusBorder);
                }
                .connection-item .name {
                    flex: 1;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                .connection-item .status {
                    font-size: 0.8em;
                    margin-left: 5px;
                    opacity: 0.7;
                }

                /* Main Content */
                .main {
                    flex: 1;
                    padding: 40px;
                    overflow-y: auto;
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                }
                .form-container {
                    width: 100%;
                    max-width: 500px;
                    background-color: var(--vscode-editorWidget-background);
                    border: 1px solid var(--vscode-widget-border);
                    padding: 30px;
                    border-radius: 4px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
                
                h2 {
                    margin-top: 0;
                    margin-bottom: 25px;
                    font-size: 1.4em;
                    font-weight: 500;
                    padding-bottom: 10px;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .form-group {
                    margin-bottom: 18px;
                }
                .form-row {
                    display: flex;
                    gap: 15px;
                }
                .form-col {
                    flex: 1;
                }

                label {
                    display: block;
                    margin-bottom: 6px;
                    font-weight: 600;
                    font-size: 12px;
                    color: var(--vscode-input-placeholderForeground);
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }

                input, select {
                    width: 100%;
                    padding: 8px 10px;
                    box-sizing: border-box;
                    background: var(--vscode-input-background);
                    color: var(--vscode-input-foreground);
                    border: 1px solid var(--vscode-input-border);
                    border-radius: 2px;
                    font-family: inherit;
                    font-size: 13px;
                }
                input:focus, select:focus {
                    border-color: var(--vscode-focusBorder);
                    outline: 1px solid var(--vscode-focusBorder);
                }
                
                /* Buttons */
                .actions {
                    margin-top: 30px;
                    display: flex;
                    gap: 12px;
                    padding-top: 20px;
                    border-top: 1px solid var(--vscode-panel-border);
                }
                button {
                    background: var(--vscode-button-background);
                    color: var(--vscode-button-foreground);
                    padding: 8px 16px;
                    border: none;
                    cursor: pointer;
                    border-radius: 2px;
                    font-size: 13px;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                button:hover {
                    background: var(--vscode-button-hoverBackground);
                }
                button.secondary {
                    background: var(--vscode-button-secondaryBackground);
                    color: var(--vscode-button-secondaryForeground);
                }
                button.secondary:hover {
                    background: var(--vscode-button-secondaryHoverBackground);
                }
                button.danger {
                    background: var(--vscode-errorForeground);
                    color: white;
                }
                button.icon-btn {
                    padding: 4px;
                    background: transparent;
                    color: var(--vscode-icon-foreground);
                }
                button.icon-btn:hover {
                    background: var(--vscode-toolbar-hoverBackground);
                }

                .icon-img {
                    width: 16px;
                    height: 16px;
                    object-fit: contain;
                }
                .logo-header {
                    width: 32px;
                    height: 32px;
                    margin-right: 10px;
                }

            </style>
        </head>
        <body>
            <div class="sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-title">Saved Connections</span>
                    <button class="icon-btn" id="btnNew" title="New Connection">
                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14 7v1H8v6H7V8H1V7h6V1h1v6h6z"/></svg>
                    </button>
                </div>
                <div id="connectionList" class="connection-list"></div>
            </div>
            
            <div class="main">
                <div class="form-container">
                    <h2 id="formTitle">
                        <img src="${r}" class="logo-header" />
                        New Connection
                    </h2>
                    
                    <div class="form-group">
                        <label for="name">Connection Name</label>
                        <input type="text" id="name" placeholder="Friendly name (e.g. Production)">
                    </div>

                    <div class="form-group">
                        <label for="dbType">
                            Database Type 
                            <img src="${r}" class="icon-img" />
                        </label>
                        <select id="dbType">
                            <option value="NetezzaSQL">NetezzaSQL</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="host">Host</label>
                                <input type="text" id="host" placeholder="Hostname or IP">
                            </div>
                        </div>
                        <div class="form-col" style="flex: 0 0 80px;">
                            <div class="form-group">
                                <label for="port">Port</label>
                                <input type="number" id="port" value="5480">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="database">
                            Database
                        </label>
                        <input type="text" id="database" placeholder="Database name" value="system">
                    </div>

                    <div class="form-row">
                         <div class="form-col">
                            <div class="form-group">
                                <label for="user">User</label>
                                <input type="text" id="user" placeholder="Username">
                            </div>
                         </div>
                         <div class="form-col">
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" id="password" placeholder="Password">
                            </div>
                         </div>
                    </div>
                    
                    <div class="actions">
                        <button id="btnSave" onclick="save()">Save & Connect</button>
                        <button id="btnDelete" class="danger" onclick="del()" style="display: none;">Delete</button>
                    </div>
                </div>
            </div>

            <script>
                const vscode = acquireVsCodeApi();
                let connections = [];
                let activeName = null;
                let currentEditName = null;
                const iconSrc = "${r}";

                // Load initial data
                window.addEventListener('message', event => {
                    const message = event.data;
                    switch (message.command) {
                        case 'updateConnections':
                            connections = message.connections;
                            activeName = message.activeName;
                            renderList();
                            break;
                    }
                });
                
                vscode.postMessage({ command: 'loadConnections' });

                document.getElementById('btnNew').addEventListener('click', () => {
                    clearForm();
                });

                function renderList() {
                    const list = document.getElementById('connectionList');
                    list.innerHTML = '';
                    
                    connections.forEach(conn => {
                        const div = document.createElement('div');
                        div.className = 'connection-item';
                        if (conn.name === currentEditName) {
                             div.classList.add('active');
                        }
                        
                        div.innerHTML = \`<span class="name"><img src="\${iconSrc}" class="icon-img"> \${conn.name}</span>\`;
                        if (conn.name === activeName) {
                            div.innerHTML += \`<span class="status">\u25CF</span>\`;
                            div.title = 'Active Connection';
                        }
                        
                        div.onclick = () => loadForm(conn);
                        list.appendChild(div);
                    });
                }

                function loadForm(conn) {
                    currentEditName = conn.name;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> Edit Connection\`;
                    document.getElementById('name').value = conn.name;
                    document.getElementById('dbType').value = conn.dbType || 'NetezzaSQL';
                    document.getElementById('host').value = conn.host;
                    document.getElementById('port').value = conn.port;
                    document.getElementById('database').value = conn.database;
                    document.getElementById('user').value = conn.user;
                    document.getElementById('password').value = conn.password || ''; 
                    
                    document.getElementById('btnDelete').style.display = 'block';
                    renderList();
                }

                function clearForm() {
                    currentEditName = null;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> New Connection\`;
                    document.getElementById('name').value = '';
                    document.getElementById('dbType').value = 'NetezzaSQL';
                    document.getElementById('host').value = '';
                    document.getElementById('port').value = '5480';
                    document.getElementById('database').value = 'system';
                    document.getElementById('user').value = '';
                    document.getElementById('password').value = '';
                    
                    document.getElementById('btnDelete').style.display = 'none';
                    renderList();
                }

                function save() {
                    const name = document.getElementById('name').value;
                    if (!name) {
                        return; // Add validation UI?
                    }
                    
                    const data = {
                        name: name,
                        dbType: document.getElementById('dbType').value,
                        host: document.getElementById('host').value,
                        port: parseInt(document.getElementById('port').value),
                        database: document.getElementById('database').value,
                        user: document.getElementById('user').value,
                        password: document.getElementById('password').value
                    };
                    
                    vscode.postMessage({
                        command: 'save',
                        data: data
                    });
                }

                function del() {
                    if (currentEditName) {
                        vscode.postMessage({
                            command: 'delete',
                            name: currentEditName
                        });
                    }
                }
            </script>
        </body>
        </html>`}};var de=Q(require("vscode"));Rr();function uj(t,e,r){return`SELECT description FROM ${t}.._v_object_data WHERE objtype='TABLE' AND objname='${r}' AND schema='${e}'`}function hR(t,e,r){return`
        SELECT 
            X.ATTNAME
            , X.FORMAT_TYPE
            , CASE WHEN X.ATTNOTNULL THEN 1 ELSE 0 END AS IS_NOT_NULL
            , X.COLDEFAULT
            , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
            , MAX(CASE WHEN K.CONTYPE = 'p' THEN 1 ELSE 0 END) AS IS_PK
            , MAX(CASE WHEN K.CONTYPE = 'f' THEN 1 ELSE 0 END) AS IS_FK
        FROM
            ${t}.._V_RELATION_COLUMN X
        INNER JOIN
            ${t}.._V_OBJECT_DATA O ON X.OBJID = O.OBJID
        LEFT JOIN
            ${t}.._V_RELATION_KEYDATA K 
            ON UPPER(K.RELATION) = UPPER(O.OBJNAME) 
            AND UPPER(K.SCHEMA) = UPPER(O.SCHEMA)
            AND UPPER(K.ATTNAME) = UPPER(X.ATTNAME)
            AND K.CONTYPE IN ('p', 'f')
        WHERE
            UPPER(O.OBJNAME) = UPPER('${r}')
            AND UPPER(O.DBNAME) = UPPER('${t}')
            AND UPPER(O.SCHEMA) = UPPER('${e}')
        GROUP BY 
            X.ATTNAME, X.FORMAT_TYPE, X.ATTNOTNULL, X.COLDEFAULT, X.DESCRIPTION, X.ATTNUM
        ORDER BY 
            X.ATTNUM
    `}function Ej(t){let e=!1,r=t.IS_NOT_NULL;return typeof r=="boolean"?e=r:typeof r=="number"?e=r===1:typeof r=="string"&&(e=r==="1"||r.toLowerCase()==="true"||r.toLowerCase()==="t"),{attname:t.ATTNAME,formatType:t.FORMAT_TYPE,isNotNull:e,colDefault:t.COLDEFAULT||null,description:t.DESCRIPTION||"",isPk:Number(t.IS_PK)===1,isFk:Number(t.IS_FK)===1}}function fj(t){if(!t)return null;try{let e=JSON.parse(t);if(e.length>0&&e[0].DESCRIPTION)return e[0].DESCRIPTION}catch{}return null}function TR(t){if(!t)return[];try{return JSON.parse(t).map(Ej)}catch(e){return console.error("[TableMetadataProvider] Error parsing column metadata:",e),[]}}async function hy(t,e,r,n){let i=uj(e,r,n),s=hR(e,r,n),[o,a]=await Promise.all([t(i),t(s)]);return{tableComment:fj(o),columns:TR(a)}}function Ty(t){return t.map(e=>({ATTNAME:e.attname,FORMAT_TYPE:e.formatType,IS_NOT_NULL:e.isNotNull?1:0,COLDEFAULT:e.colDefault,DESCRIPTION:e.description,IS_PK:e.isPk?1:0,IS_FK:e.isFk?1:0}))}var wf=class{constructor(e,r,n){this.context=e;this.connectionManager=r;this.metadataCache=n;this._onDidChangeTreeData=new de.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.connectionManager.onDidChangeConnections(()=>this.refresh())}refresh(){this._onDidChangeTreeData.fire()}triggerDatabasePrefetch(e,r){this.metadataCache.hasConnectionPrefetchTriggered(e)||(console.log(`[SchemaProvider] Triggering connection prefetch for: ${e}`),this.metadataCache.triggerConnectionPrefetch(e,async n=>{try{return await X(this.context,n,!0,e,this.connectionManager)}catch(i){console.error("[SchemaProvider] Prefetch query error:",i);return}}))}getTreeItem(e){return e}getParent(e){if(e.contextValue!=="serverInstance"){if(e.contextValue==="database")return new Xt(e.connectionName,de.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,e.connectionName,void 0);if(e.contextValue.startsWith("typeGroup"))return new Xt(e.dbName,de.TreeItemCollapsibleState.Collapsed,"database",e.dbName,void 0,void 0,void 0,void 0,e.connectionName);if(e.contextValue.startsWith("netezza:"))return new Xt(e.objType,de.TreeItemCollapsibleState.Collapsed,`typeGroup:${e.objType}`,e.dbName,e.objType,void 0,void 0,void 0,e.connectionName)}}async getChildren(e){if(e){if(e.contextValue==="serverInstance"){if(!e.connectionName)return[];let r=this.metadataCache.getDatabases(e.connectionName);if(r)return r.map(n=>new Xt(n.label||n.DATABASE,de.TreeItemCollapsibleState.Collapsed,"database",n.label||n.DATABASE,void 0,void 0,void 0,void 0,e.connectionName));try{let n=await X(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e.connectionName,this.connectionManager);if(!n)return[];let i=JSON.parse(n),s=i.map(o=>({DATABASE:o.DATABASE,label:o.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e.connectionName,s),i.map(o=>new Xt(o.DATABASE,de.TreeItemCollapsibleState.Collapsed,"database",o.DATABASE,void 0,void 0,void 0,void 0,e.connectionName))}catch(n){let i=n instanceof Error?n.message:String(n);return de.window.showErrorMessage(`Failed to load databases for ${e.connectionName}: ${i}`),[]}}else if(e.contextValue==="database"){if(e.connectionName&&e.dbName&&this.triggerDatabasePrefetch(e.connectionName,e.dbName),e.connectionName&&e.dbName){let r=this.metadataCache.getTypeGroups(e.connectionName,e.dbName);if(r&&r.length>0)return r.map(n=>new Xt(n,de.TreeItemCollapsibleState.Collapsed,`typeGroup:${n}`,e.dbName,n,void 0,void 0,void 0,e.connectionName))}try{let r=`SELECT DISTINCT OBJTYPE FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' ORDER BY OBJTYPE`,n=await X(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName){let s=i.map(o=>o.OBJTYPE);this.metadataCache.setTypeGroups(e.connectionName,e.dbName,s)}return i.map(s=>new Xt(s.OBJTYPE,de.TreeItemCollapsibleState.Collapsed,`typeGroup:${s.OBJTYPE}`,e.dbName,s.OBJTYPE,void 0,void 0,void 0,e.connectionName))}catch(r){let n=r instanceof Error?r.message:String(r);return de.window.showErrorMessage("Failed to load object types: "+n),[]}}else if(e.contextValue.startsWith("typeGroup")){if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW"||e.objType==="EXTERNAL TABLE")){let r=this.metadataCache.getObjectsWithSchema(e.connectionName,e.dbName);if(r&&r.length>0){let n=e.objType,i=r.filter(s=>{let o=s.item;return o.objType?o.objType===n:n==="VIEW"?o.kind===18:n==="TABLE"?o.kind!==18&&o.detail!=="EXTERNAL TABLE":n==="EXTERNAL TABLE"?o.detail==="EXTERNAL TABLE"||o.detail?.startsWith("EXTERNAL TABLE"):!1});if(i.length>0)return i.map(s=>{let o=s.item;return new Xt(typeof o.label=="string"?o.label:o.label?.label||"unknown",de.TreeItemCollapsibleState.Collapsed,`netezza:${e.objType}`,e.dbName,e.objType,s.schema,s.objId,void 0,e.connectionName)})}}try{let r;e.objType==="PROCEDURE"?r=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA, OBJID::INT AS OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_PROCEDURE WHERE DATABASE = '${e.dbName}' ORDER BY PROCEDURESIGNATURE`:r=`SELECT OBJNAME, SCHEMA, OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' AND OBJTYPE = '${e.objType}' ORDER BY OBJNAME`;let n=await X(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW")){let s=new Map;for(let o of i){let a=o.SCHEMA?`${e.dbName}.${o.SCHEMA}`:`${e.dbName}..`;s.has(a)||s.set(a,{tables:[],idMap:new Map});let l=s.get(a);l.tables.push({label:o.OBJNAME,kind:e.objType==="VIEW"?18:7,detail:o.SCHEMA?e.objType:`${e.objType} (${o.SCHEMA})`,sortText:o.OBJNAME});let c=o.SCHEMA?`${e.dbName}.${o.SCHEMA}.${o.OBJNAME}`:`${e.dbName}..${o.OBJNAME}`;l.idMap.set(c,o.OBJID)}}return i.map(s=>{let a=["TABLE","VIEW","EXTERNAL TABLE","SYSTEM VIEW","SYSTEM TABLE"].includes(e.objType||"");return new Xt(s.OBJNAME,a?de.TreeItemCollapsibleState.Collapsed:de.TreeItemCollapsibleState.None,`netezza:${e.objType}`,e.dbName,e.objType,s.SCHEMA,s.OBJID,s.DESCRIPTION,e.connectionName)})}catch(r){let n=r instanceof Error?r.message:String(r);return de.window.showErrorMessage("Failed to load objects: "+n),[]}}else if(e.contextValue.startsWith("netezza:")){let r=e.label,n=e.schema,i=e.dbName;if(e.connectionName&&i){let s=`${i}.${n||""}.${r}`,o=this.metadataCache.getColumns(e.connectionName,s);if(o&&o.length>0&&o[0].isPk!==void 0)return o.map(a=>new Xt(a.detail?`${a.label||a.ATTNAME} (${a.detail})`:a.label||a.ATTNAME,de.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,a.documentation||"",e.connectionName,r,void 0,a.isPk,a.isFk))}if(!e.connectionName||!i)return[];try{let s=hR(i,n||"",r),o=await X(this.context,s,!0,e.connectionName,this.connectionManager),a=TR(o),l=`${i}.${n||""}.${r}`,c=a.map(u=>({ATTNAME:u.attname,FORMAT_TYPE:u.formatType,label:u.attname,kind:5,detail:u.formatType,documentation:u.description,isPk:u.isPk,isFk:u.isFk}));return this.metadataCache.setColumns(e.connectionName,l,c),a.map(u=>new Xt(`${u.attname} (${u.formatType})`,de.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,u.description,e.connectionName,r,void 0,u.isPk,u.isFk))}catch(s){let o=s instanceof Error?s.message:String(s);return de.window.showErrorMessage("Failed to load columns: "+o),[]}}}else{let r=await this.connectionManager.getConnections(),n=de.Uri.file(this.context.asAbsolutePath("netezza_icon64.png"));return r.map(i=>new Xt(i.name,de.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,i.name,void 0,n))}return[]}},Xt=class extends de.TreeItem{constructor(r,n,i,s,o,a,l,c,u,E,d,f,T){super(r,n);this.label=r;this.collapsibleState=n;this.contextValue=i;this.dbName=s;this.objType=o;this.schema=a;this.objId=l;this.objectDescription=c;this.connectionName=u;this.parentName=E;this.isPk=f;this.isFk=T;let h=this.label;u&&(h+=`
[Server: ${u}]`),c&&c.trim()&&(h+=`

${c.trim()}`),a&&i.startsWith("netezza:")&&(h+=`

Schema: ${a}`),this.isPk&&(h+=`
\u{1F511} Primary Key`),this.isFk&&(h+=`
\u{1F517} Foreign Key`),this.tooltip=h,this.description=a?`(${a})`:"";let S=[u||"global",i,s||"",a||"",o||"",E||"",r,l?l.toString():""];this.id=S.join("|"),d?this.iconPath=d:i==="serverInstance"?this.iconPath=new de.ThemeIcon("server"):i==="database"?this.iconPath=new de.ThemeIcon("database"):i.startsWith("typeGroup")?this.iconPath=new de.ThemeIcon("folder"):i.startsWith("netezza:")?this.iconPath=this.getIconForType(o):i==="column"&&(this.isPk?this.iconPath=new de.ThemeIcon("key",new de.ThemeColor("charts.yellow")):this.isFk?this.iconPath=new de.ThemeIcon("link",new de.ThemeColor("charts.blue")):this.iconPath=new de.ThemeIcon("symbol-field"))}getIconForType(r){switch(r){case"TABLE":return new de.ThemeIcon("table");case"VIEW":return new de.ThemeIcon("eye");case"PROCEDURE":return new de.ThemeIcon("gear");case"FUNCTION":return new de.ThemeIcon("symbol-function");case"AGGREGATE":return new de.ThemeIcon("symbol-operator");case"EXTERNAL TABLE":return new de.ThemeIcon("server");default:return new de.ThemeIcon("file")}}};var Be=Q(require("vscode"));var Hr=Q(require("vscode")),Df=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(i=>{switch(i.command){case"alert":Hr.window.showErrorMessage(i.text);return;case"info":Hr.window.showInformationMessage(i.text);return}},null,this._disposables)}static{this.viewType="netezza.analysisPanel"}static createOrShow(e,r){let n=Hr.window.activeTextEditor?Hr.ViewColumn.Beside:void 0,i=Hr.window.createWebviewPanel(t.viewType,"Data Analysis",n||Hr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Hr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(i,e,r)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){let r=this._panel.webview;this._panel.title="Data Analysis",this._panel.webview.html=this._getHtmlForWebview(r,e)}_getHtmlForWebview(e,r){let n=Hr.Uri.joinPath(this._extensionUri,"media","analysisPanel.js"),i=e.asWebviewUri(n),s=Hr.Uri.joinPath(this._extensionUri,"media","analysisPanel.css"),o=e.asWebviewUri(s),a=e.asWebviewUri(Hr.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),l=e.asWebviewUri(Hr.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),c=dj();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}'; font-src ${e.cspSource};">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${o}" rel="stylesheet">

            <title>Data Analysis</title>
        </head>
        <body>
            <div id="app">
                <div class="sidebar">
                    <div class="section">
                        <h3>Fields</h3>
                        <div id="fieldList" class="field-list"></div>
                    </div>
                </div>
                <div class="main-content">
                    <div class="filter-section" style="margin-bottom: 15px; display: flex; gap: 10px; align-items: center;">
                        <label for="dataFilter" style="font-weight: bold;">Filter:</label>
                        <input type="text" id="dataFilter" placeholder="Type to filter data..." style="flex: 1; padding: 6px 10px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); border-radius: 4px;">
                        <button id="applyFilter" style="padding: 6px 12px; cursor: pointer;">Apply</button>
                        <button id="clearFilter" style="padding: 6px 12px; cursor: pointer;">Clear</button>
                    </div>
                    <div class="config-zones">
                        <div class="zone-container">
                            <h4>Rows</h4>
                            <div id="rowsZone" class="drop-zone" data-zone="rows"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Columns</h4>
                            <div id="colsZone" class="drop-zone" data-zone="cols"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Values</h4>
                            <div id="valuesZone" class="drop-zone" data-zone="values"></div>
                        </div>
                    </div>
                    <div class="pivot-grid-container">
                        <div id="pivotGrid"></div>
                    </div>
                    <div class="chart-container" style="margin-top: 20px;">
                        <div class="chart-header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <h4 style="margin: 0;">Chart</h4>
                            <select id="chartType" style="padding: 4px;">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                            </select>
                        </div>
                        <canvas id="pivotChart" width="600" height="300" style="background: var(--vscode-editor-background); border: 1px solid var(--vscode-panel-border); border-radius: 4px;"></canvas>
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${a}"></script>
            <script nonce="${c}" src="${l}"></script>
            <script nonce="${c}">
                // Pass initial data to the script
                window.initialData = ${JSON.stringify(r)};
                window.TableCore = TableCore;
                window.VirtualCore = VirtualCore;
            </script>
            <script nonce="${c}" src="${i}"></script>
        </body>
        </html>`}};function dj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Pf=class{constructor(e){this._cspSource=e}generateHtml(e,r){let n=this._getIcons();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src ${this._cspSource} 'unsafe-inline'; worker-src ${this._cspSource} blob:; connect-src ${this._cspSource}; style-src ${this._cspSource} 'unsafe-inline';">
            <title>Query Results</title>
            <script src="${e.scriptUri}"></script>
            <script src="${e.virtualUri}"></script>
            <link rel="stylesheet" href="${e.styleUri}">
        </head>
        <body>
            <div id="sourceTabs" class="source-tabs"></div>
            <div id="resultSetTabs" class="result-set-tabs" style="display: none;"></div>
            
            <div class="controls">
                <input type="text" id="globalFilter" placeholder="Filter..." onkeyup="onFilterChanged()" style="background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); padding: 4px;">
                <button onclick="toggleRowView()" title="Toggle Row View">${n.eye} Row View</button>
                
                <!-- Split Button for Export -->
                <div class="split-btn-container">
                    <button id="exportMainBtn" class="split-btn-main" onclick="executeSplitExport()" title="Export results (Excel)">
                        ${n.excel} Excel
                    </button>
                    <button id="exportArrowBtn" class="split-btn-arrow" onclick="toggleExportMenu()" title="Select export format">
                        <svg width="10" height="10" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                            <path d="M8 11L3 6h10l-5 5z"/>
                        </svg>
                    </button>
                    <div id="exportMenu" class="split-btn-menu" style="display:none;">
                        <div class="split-btn-menu-item" onclick="selectExportFormat('excel')">
                            ${n.excel} Excel (XLSB)
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('csv')">
                            ${n.csv} CSV
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('json')">
                            ${n.json} JSON
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('xml')">
                            ${n.xml} XML
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('sql')">
                            ${n.sql} SQL INSERT
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('markdown')">
                            ${n.markdown} Markdown Table
                        </div>
                    </div>
                </div>

                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="copyAsExcel()" title="Copy results as Excel to clipboard">${n.excel} Excel Copy</button>
                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="selectAll()" title="Select all rows">${n.checkAll} Select All</button>
                <button onclick="copySelection(false)" title="Copy selected cells to clipboard">${n.copy} Copy</button>
                <button onclick="copySelection(true)" title="Copy selected cells with headers">${n.copy} Copy w/ Headers</button>
                <button onclick="clearAllFilters()" title="Clear all column filters">${n.clear} Clear Filters</button>
                <span id="rowCountInfo" style="margin-left: auto; font-size: 12px; opacity: 0.8;"></span>
            </div>

            <div id="groupingPanel" class="grouping-panel" ondragover="onDragOverGroup(event)" ondragleave="onDragLeaveGroup(event)" ondrop="onDropGroup(event)">
                <span style="opacity: 0.5;">Drag headers here to group</span>
            </div>

            <div id="mainSplitView" class="main-split-view">
                <div id="gridContainer"></div>
                <div id="rowViewPanel" class="row-view-panel">
                    <div class="row-view-header">
                        <span>Row Details & Comparison</span>
                        <span class="row-view-close" onclick="toggleRowView()">\xD7</span>
                    </div>
                    <div id="rowViewContent" class="row-view-content">
                        <div class="row-view-placeholder">Select 1 or 2 rows to view details or compare</div>
                    </div>
                </div>
            </div>
            
            <script>
                const vscode = acquireVsCodeApi();
                window.sources = ${r.sourcesJson};
                window.pinnedSources = new Set(${r.pinnedSourcesJson});
                window.pinnedResults = ${r.pinnedResultsJson};
                window.activeSource = ${r.activeSourceJson};
                window.resultSets = ${r.resultSetsJson};
                
                let grids = [];
                let activeGridIndex = window.resultSets && window.resultSets.length > 0 ? window.resultSets.length - 1 : 0;
                const workerUri = "${e.workerUri}";
            </script>
            <script src="${e.mainScriptUri}"></script>
            <script>
                // Initialize on load
                init();
            </script>
        </body>
        </html>`}_getIcons(){return{eye:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 3c-3 0-6 2.5-6 5s3 5 6 5 6-2.5 6-5-3-5-6-5zm0 9c-2.5 0-4.5-2-4.5-4S5.5 4 8 4s4.5 2 4.5 4-2 4.5-4.5 4.5z"/><circle cx="8" cy="8" r="2"/></svg>',excel:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/></svg>',copy:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4 4h7v2H4V4zm0 4h7v2H4V8zm0 4h7v2H4v-2zM2 1h12v14H2V1zm1 1v12h10V2H3z"/></svg>',csv:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13 2H6L2 6v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-1 11H4V7h3V4h5v9z"/></svg>',json:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M5 2c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2h-2V2H7v2H5V2zm0 12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-2h-2v2H7v-2H5v2zM2 7v2h2V7H2zm10 0v2h2V7h-2z"/></svg>',xml:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M11.5 1L7 15h2l4.5-14h-2zM4.5 1L0 15h2l4.5-14h-2z"/></svg>',sql:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 0C3.6 0 0 1.8 0 4v8c0 2.2 3.6 4 8 4s8-1.8 8-4V4c0-2.2-3.6-4-8-4zm0 2c3.3 0 6 1.3 6 3s-2.7 3-6 3-6-1.3-6-3 2.7-3 6-3zm0 12c-3.3 0-6-1.3-6-3V9c1.6 1.7 4.3 2 6 2s4.4-.3 6-2v2c0 1.7-2.7 3-6 3z"/></svg>',markdown:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14.5 2H1.5C.7 2 0 2.7 0 3.5v9C0 13.3.7 14 1.5 14h13c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5zM3 11V5l2 2 2-2v6H6V7l-1 1-1-1v4H3zm10 0h-2V9h-2v2H7V5h2v2h2V5h2v6z"/></svg>',export:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/><path d="M10 12L8 14L6 12" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>',checkAll:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13.485 1.929l1.414 1.414-9.9 9.9-4.243-4.242 1.415-1.415 2.828 2.829z"/></svg>',clear:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 7.293l4.146-4.147.708.708L8.707 8l4.147 4.146-.708.708L8 8.707l-4.146 4.147-.708-.708L7.293 8 3.146 3.854l.708-.708L8 7.293z"/></svg>'}}};var Lc=class{constructor(e){this._resultsMap=new Map;this._pinnedSources=new Set;this._pinnedResults=new Map;this._autoPinnedResults=new Set;this._resultIdCounter=0;this._extensionUri=e}static{this.viewType="netezza.results"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[Be.Uri.joinPath(this._extensionUri,"media")]},e.webview.html=this._getHtmlForWebview(),e.webview.onDidReceiveMessage(i=>{switch(i.command){case"analyze":Df.createOrShow(this._extensionUri,i.data);return;case"exportCsv":this.exportCsv(i.data);return;case"openInExcel":this.openInExcel(i.data,i.sql);return;case"copyAsExcel":this.copyAsExcel(i.data,i.sql);return;case"exportJson":this.exportJson(i.data);return;case"exportXml":this.exportXml(i.data);return;case"exportSqlInsert":this.exportSqlInsert(i.data);return;case"exportMarkdown":this.exportMarkdown(i.data);return;case"switchSource":this._activeSourceUri=i.sourceUri,this._updateWebview();return;case"togglePin":this._pinnedSources.has(i.sourceUri)?this._pinnedSources.delete(i.sourceUri):this._pinnedSources.add(i.sourceUri),this._updateWebview();return;case"toggleResultPin":this._toggleResultPin(i.sourceUri,i.resultSetIndex);return;case"switchToPinnedResult":this._switchToPinnedResult(i.resultId);return;case"unpinResult":this._pinnedResults.delete(i.resultId),this._updateWebview();return;case"closeSource":this.closeSource(i.sourceUri);return;case"copyToClipboard":Be.env.clipboard.writeText(i.text),Be.window.showInformationMessage("Copied to clipboard");return;case"info":Be.window.showInformationMessage(i.text);return;case"error":Be.window.showErrorMessage(i.text);return;case"setContext":Be.commands.executeCommand("setContext",i.key,i.value);return}})}triggerCopySelection(){this._postMessageToWebview({command:"copySelection"})}setActiveSource(e){this._resultsMap.has(e)&&this._activeSourceUri!==e&&(this._activeSourceUri=e,this._updateWebview())}startExecution(e){let r=this._resultsMap.get(e)||[],n,i=r.findIndex(E=>E.isLog);if(i!==-1){n=r[i];let E=new Date().toLocaleTimeString();n.data.push(["",""]),n.data.push([E,"--- New Execution Started ---"]),n.message="Execution started...",n.executionTimestamp=Date.now()}else n={columns:[{name:"Time",type:"string"},{name:"Message",type:"string"}],data:[],message:"Execution started...",executionTimestamp:Date.now(),isLog:!0,name:"Logs"};let s=Array.from(this._pinnedResults.entries()).filter(([E,d])=>d.sourceUri===e&&r[d.resultSetIndex]!==n).sort((E,d)=>E[1].resultSetIndex-d[1].resultSetIndex),o=[];s.forEach(([E,d])=>{d.resultSetIndex<r.length&&o.push(r[d.resultSetIndex])});let a=[n,...o];this._resultsMap.set(e,a),Array.from(this._pinnedResults.entries()).filter(([E,d])=>d.sourceUri===e).map(([E,d])=>E).forEach(E=>this._pinnedResults.delete(E));let c=`result_${++this._resultIdCounter}`,u=e.split(/[\\/]/).pop()||e;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:0,timestamp:Date.now(),label:`${u} - Logs`}),s.forEach(([E,d],f)=>{let T=`result_${++this._resultIdCounter}`;this._pinnedResults.set(T,{sourceUri:e,resultSetIndex:f+1,timestamp:Date.now(),label:`${u} - Result ${f+2}`})}),this._pinnedSources.add(e),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}log(e,r){let n=this._resultsMap.get(e);if(!n||n.length===0)return;let i=n.find(s=>s.isLog);if(i){let s=new Date().toLocaleTimeString();i.data.push([s,r]),this._updateWebview()}}finalizeExecution(e){for(let r of this._autoPinnedResults){let n=this._pinnedResults.get(r);n&&n.sourceUri===e&&this._pinnedResults.delete(r)}this._autoPinnedResults.clear()}updateResults(e,r,n=!1){this._resultsMap.has(r)||this._pinnedSources.add(r);let i=[];Array.isArray(e)?i=e:i=[e];let s=Date.now();i.forEach(f=>{f.executionTimestamp=s});let o=this._resultsMap.get(r)||[],a=o.find(f=>f.isLog),l=Array.from(this._pinnedResults.entries()).filter(f=>f[1].sourceUri===r).sort((f,T)=>f[1].resultSetIndex-T[1].resultSetIndex),c=[],u=new Map;a&&c.push(a),l.forEach(([f,T])=>{let h=o[T.resultSetIndex];h&&(h===a||c.includes(h)||c.push(h),u.set(f,h))});let E=c.length;c.push(...i);let d=r.split(/[\\\\/]/).pop()||r;if(i.forEach((f,T)=>{let h=`result_${++this._resultIdCounter}`,S=E+T;this._pinnedResults.set(h,{sourceUri:r,resultSetIndex:S,timestamp:Date.now(),label:f.isLog?`${d} - Logs`:`${d} - Result ${S}`}),this._autoPinnedResults.add(h)}),this._resultsMap.set(r,c),u.forEach((f,T)=>{let h=c.indexOf(f);if(h!==-1){let S=this._pinnedResults.get(T);S&&(S.resultSetIndex=h)}}),a&&!Array.from(u.values()).includes(a)){let T=`result_${++this._resultIdCounter}`,h=r.split(/[\\/]/).pop()||r;this._pinnedResults.set(T,{sourceUri:r,resultSetIndex:0,timestamp:Date.now(),label:`${h} - Logs`})}n||Array.from(this._resultsMap.keys()).filter(T=>T!==r&&!this._pinnedSources.has(T)).forEach(T=>{this._resultsMap.delete(T),Array.from(this._pinnedResults.entries()).filter(S=>S[1].sourceUri===T).map(([S,p])=>S).forEach(S=>this._pinnedResults.delete(S))}),this._activeSourceUri=r,this._view?(this._updateWebview(),this._view.show?.(!0)):Be.window.showInformationMessage('Query completed. Please open "Query Results" panel to view data.')}appendStreamingChunk(e,r,n,i){let s=this._resultsMap.get(e)||[];if(n.isFirstChunk&&n.columns.length>0){let o={columns:n.columns,data:n.rows,executionTimestamp:Date.now(),sql:i,limitReached:n.limitReached};s.findIndex(E=>E.isLog)>=0,s.push(o),this._resultsMap.set(e,s);let l=e.split(/[\\/]/).pop()||e,c=`result_${++this._resultIdCounter}`,u=s.length-1;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:u,timestamp:Date.now(),label:`${l} - Result ${u}`}),this._autoPinnedResults.add(c),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}else if(n.rows.length>0){let o=s[s.length-1];o&&!o.isLog&&(o.data.push(...n.rows),o.limitReached=n.limitReached,this._postMessageToWebview({command:"appendRows",resultSetIndex:s.length-1,rows:n.rows,totalRows:n.totalRowsSoFar,isLastChunk:n.isLastChunk,limitReached:n.limitReached}))}n.isLastChunk&&this._postMessageToWebview({command:"streamingComplete",resultSetIndex:s.length-1,totalRows:n.totalRowsSoFar,limitReached:n.limitReached})}_postMessageToWebview(e){this._view&&this._view.webview.postMessage(e)}_updateWebview(){this._view&&(this._view.webview.html=this._getHtmlForWebview())}_toggleResultPin(e,r){let n=Array.from(this._pinnedResults.entries()).find(i=>{let s=i[1];return s.sourceUri===e&&s.resultSetIndex===r});if(n)this._pinnedResults.delete(n[0]);else{let i=`result_${++this._resultIdCounter}`,s=Date.now(),a=`${e.split(/[\\/]/).pop()||e} - Result ${r+1}`;this._pinnedResults.set(i,{sourceUri:e,resultSetIndex:r,timestamp:s,label:a})}this._updateWebview()}_switchToPinnedResult(e){let r=this._pinnedResults.get(e);r&&(this._activeSourceUri=r.sourceUri,this._updateWebview(),this._view&&this._view.webview.postMessage({command:"switchToResultSet",resultSetIndex:r.resultSetIndex}))}async exportCsv(e){let r=await Be.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async openInExcel(e,r){Be.commands.executeCommand("netezza.exportCurrentResultToXlsbAndOpen",e,r)}async copyAsExcel(e,r){Be.commands.executeCommand("netezza.copyCurrentResultToXlsbClipboard",e,r)}async exportJson(e){let r=await Be.window.showSaveDialog({filters:{"JSON Files":["json"]},saveLabel:"Export JSON"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportXml(e){let r=await Be.window.showSaveDialog({filters:{"XML Files":["xml"]},saveLabel:"Export XML"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportSqlInsert(e){let r=await Be.window.showSaveDialog({filters:{"SQL Files":["sql"]},saveLabel:"Export SQL"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportMarkdown(e){let r=await Be.window.showSaveDialog({filters:{"Markdown Files":["md"]},saveLabel:"Export Markdown"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}closeSource(e){if(this._resultsMap.has(e)){if(this._resultsMap.delete(e),this._pinnedSources.delete(e),Array.from(this._pinnedResults.entries()).filter(([n,i])=>i.sourceUri===e).map(([n,i])=>n).forEach(n=>this._pinnedResults.delete(n)),this._activeSourceUri===e){let n=Array.from(this._resultsMap.keys());this._activeSourceUri=n.length>0?n[0]:void 0}this._updateWebview()}}_getHtmlForWebview(){if(!this._view)return"";let e=this._getScriptUris(),r=this._prepareViewData();return new Pf(this._view.webview.cspSource).generateHtml(e,r)}_getScriptUris(){return{scriptUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),virtualUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),mainScriptUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","resultPanel.js")),workerUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","searchWorker.js")),styleUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","resultPanel.css"))}}_prepareViewData(){let e=Array.from(this._resultsMap.keys()),r=Array.from(this._pinnedSources),n=Array.from(this._pinnedResults.entries()).map(([a,l])=>({id:a,...l})),i=this._activeSourceUri&&this._resultsMap.has(this._activeSourceUri)?this._activeSourceUri:e.length>0?e[0]:null,s=i?this._resultsMap.get(i):[],o=(a,l)=>typeof l=="bigint"?l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l):l.toString():l;return{sourcesJson:JSON.stringify(e),pinnedSourcesJson:JSON.stringify(r),pinnedResultsJson:JSON.stringify(n),activeSourceJson:JSON.stringify(i),resultSetsJson:JSON.stringify(s,o)}}};var $e=Q(require("vscode"));Rr();var Mf=class{constructor(e,r,n){this.context=e;this.metadataCache=r;this.connectionManager=n}async provideCompletionItems(e,r,n,i){let s=e.getText(),o=this.stripComments(s),a=this.parseLocalDefinitions(o),l=e.lineAt(r).text.substr(0,r.character),c=l.toUpperCase(),u=r.line>0?e.lineAt(r.line-1).text:"",E=this.connectionManager.getConnectionForExecution(e.uri.toString());if(E||(E=this.connectionManager.getActiveConnectionName()||void 0),E&&!this.metadataCache.hasConnectionPrefetchTriggered(E)&&this.metadataCache.triggerConnectionPrefetch(E,I=>X(this.context,I,!0,E,this.connectionManager)),/(FROM|JOIN)\s+$/.test(c)){let I=await this.getDatabases(E);return[...a.map(A=>{let O=new $e.CompletionItem(A.name,$e.CompletionItemKind.Class);return O.detail=A.type,O}),...I]}if(/(?:FROM|JOIN)\s*$/i.test(u)&&/^\s*[a-zA-Z0-9_]*$/.test(l)){let I=await this.getDatabases(E);return[...a.map(A=>{let O=new $e.CompletionItem(A.name,$e.CompletionItemKind.Class);return O.detail=A.type,O}),...I]}let d=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\s*$/i);if(d){let I=d[1],R=await this.getSchemas(E,I);return new $e.CompletionList(R,!1)}let f=l.match(/^\s*([a-zA-Z0-9_]+)\.\s*$/i);if(f&&/(?:FROM|JOIN)\s*$/i.test(u)){let I=f[1],R=await this.getSchemas(E,I);return new $e.CompletionList(R,!1)}let T=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.$/i);if(T){let I=T[1],R=T[2];return this.getTables(E,I,R)}let h=l.match(/^\s*([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.\s*$/i);if(h&&/(?:FROM|JOIN)\s*$/i.test(u)){let I=h[1],R=h[2];return this.getTables(E,I,R)}let S=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\.$/i);if(S){let I=S[1];return this.getTables(E,I,void 0)}let p=l.match(/^\s*([a-zA-Z0-9_]+)\.\.\s*$/i);if(p&&/(?:FROM|JOIN)\s*$/i.test(u)){let I=p[1];return this.getTables(E,I,void 0)}if(l.trim().endsWith(".")){let I=l.match(/([a-zA-Z0-9_]+)\.$/);if(I){let R=I[1],A=this.findAlias(o,R);if(A){let L=a.find(N=>N.name.toUpperCase()===A.table.toUpperCase());return L?L.columns.map(N=>{let D=new $e.CompletionItem(N,$e.CompletionItemKind.Field);return D.detail="Local Column",D}):this.getColumns(E,A.db,A.schema,A.table)}let O=a.find(L=>L.name.toUpperCase()===R.toUpperCase());if(O)return O.columns.map(L=>{let N=new $e.CompletionItem(L,$e.CompletionItemKind.Field);return N.detail="Local Column",N})}}return this.getKeywords()}stripComments(e){let r=e.replace(/--.*$/gm,"");return r=r.replace(/\/\*[\s\S]*?\*\//g,""),r}parseLocalDefinitions(e){let r=[],n=/CREATE\s+TABLE\s+([a-zA-Z0-9_]+)\s+AS\s*\(/gi,i;for(;(i=n.exec(e))!==null;){let a=i[1],l=i.index+i[0].length,c=this.extractBalancedParenthesisContent(e,l);if(c){let u=this.extractColumnsFromQuery(c);r.push({name:a,type:"Temp Table",columns:u})}}let s=/\bWITH\s+/gi;for(;(i=s.exec(e))!==null;){let a=i.index+i[0].length;for(;;){let l=/^\s*([a-zA-Z0-9_]+)\s+AS\s*\(/i,c=e.substring(a),u=c.match(l);if(!u)break;let E=u[1],d=c.indexOf("(",u.index+u[1].length),f=a+d,T=this.extractBalancedParenthesisContent(e,f+1);if(T){let h=this.extractColumnsFromQuery(T);r.push({name:E,type:"CTE",columns:h}),a=f+1+T.length+1;let S=/^\s*,/,p=e.substring(a);if(S.test(p)){let I=p.match(S);a+=I[0].length}else break}else break}}let o=/\bJOIN\s+\(/gi;for(;(i=o.exec(e))!==null;){let a=i.index+i[0].length,l=this.extractBalancedParenthesisContent(e,a);if(l&&/^\s*SELECT\b/i.test(l)){let c=a+l.length+1,E=e.substring(c).match(/^\s+(?:AS\s+)?([a-zA-Z0-9_]+)/i);if(E){let d=E[1],f=this.extractColumnsFromQuery(l);r.push({name:d,type:"Subquery",columns:f})}}}return r}extractBalancedParenthesisContent(e,r){let n=1,i=r;for(;i<e.length;i++)if(e[i]==="("?n++:e[i]===")"&&n--,n===0)return e.substring(r,i);return null}extractColumnsFromQuery(e){let r=e.match(/^\s*SELECT\s+/i);if(!r)return[];let n=r[0].length,i="",s=0,o=-1;for(let c=n;c<e.length;c++)if(e[c]==="("?s++:e[c]===")"&&s--,s===0&&e.substr(c).match(/^\s+FROM\b/i)){o=c;break}o!==-1?i=e.substring(n,o):i=e.substring(n);let a=[],l="";s=0;for(let c=0;c<i.length;c++){let u=i[c];u==="("?s++:u===")"&&s--,u===","&&s===0?(a.push(l.trim()),l=""):l+=u}return l.trim()&&a.push(l.trim()),a.map(c=>{let u=c.match(/\s+AS\s+([a-zA-Z0-9_]+)$/i);if(u)return u[1];let E=c.match(/\s+([a-zA-Z0-9_]+)$/i);if(E)return E[1];let d=c.split(".");return d[d.length-1]})}findAlias(e,r){let n=new RegExp("(?:FROM|JOIN)\\s+([a-zA-Z0-9_\\.]+)(?:\\s+(?:AS\\s+)?([a-zA-Z0-9_]+))?","gi"),i;for(;(i=n.exec(e))!==null;){let s=i[1],o=i[2];if(o&&o.toUpperCase()===r.toUpperCase()){let a=s.split(".");return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{schema:a[0],table:a[1]}:{table:a[0]}}else if(!o){let a=s.split(".");if(a[a.length-1].toUpperCase()===r.toUpperCase())return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{schema:a[0],table:a[1]}:{table:a[0]}}}return null}getKeywords(){return["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","DROP","TABLE","VIEW","DATABASE","JOIN","INNER","LEFT","RIGHT","OUTER","ON","AND","OR","NOT","NULL","IS","IN","BETWEEN","LIKE","AS","DISTINCT","CASE","WHEN","THEN","ELSE","END","WITH","UNION","ALL"].map(r=>{let n=new $e.CompletionItem(r,$e.CompletionItemKind.Keyword);return n.detail="SQL Keyword",n})}async getDatabases(e){if(!e)return[];let r=this.metadataCache.getDatabases(e);if(r)return r.map(n=>{let i=new $e.CompletionItem(n.label||n.DATABASE,n.kind||$e.CompletionItemKind.Module);return i.detail=n.detail,i});try{let i=await X(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e,this.connectionManager);if(!i)return[];let o=JSON.parse(i).map(a=>({DATABASE:a.DATABASE,label:a.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e,o),o.map(a=>{let l=new $e.CompletionItem(a.label,a.kind);return l.detail=a.detail,l})}catch(n){return console.error(n),[]}}async getSchemas(e,r){if(!e)return[];let n=this.metadataCache.getSchemas(e,r);if(n)return n.map(s=>{let o=new $e.CompletionItem(s.label||s.SCHEMA,s.kind||$e.CompletionItemKind.Folder);return o.detail=s.detail,o.insertText=s.insertText,o.sortText=s.sortText,o.filterText=s.filterText,o});let i=$e.window.setStatusBarMessage(`Fetching schemas for ${r}...`);try{let s=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,o=await X(this.context,s,!0,e,this.connectionManager);if(!o)return[];let l=JSON.parse(o).filter(c=>c.SCHEMA!=null&&c.SCHEMA!=="").map(c=>{let u=c.SCHEMA;return{SCHEMA:u,label:u,kind:19,detail:`Schema in ${r}`,insertText:u,sortText:u,filterText:u}});return this.metadataCache.setSchemas(e,r,l),l.map(c=>{let u=new $e.CompletionItem(c.label,c.kind);return u.detail=c.detail,u.insertText=c.insertText,u.sortText=c.sortText,u.filterText=c.filterText,u})}catch(s){return console.error("[SqlCompletion] Error in getSchemas:",s),[]}finally{i.dispose()}}async getTables(e,r,n){if(!e)return[];let i=n?`${r}.${n}`:`${r}..`,s=n?this.metadataCache.getTables(e,i):this.metadataCache.getTables(e,i)||this.metadataCache.getTablesAllSchemas(e,r);if(s)return s.map(l=>{let c=typeof l.label=="string"?l.label:l.label?.label||l.OBJNAME||l.TABLENAME||"?",u=new $e.CompletionItem(c,l.kind||$e.CompletionItemKind.Class);return u.detail=l.detail,u.sortText=l.sortText,u});let o=n?`Fetching tables for ${r}.${n}...`:`Fetching tables for ${r}...`,a=$e.window.setStatusBarMessage(o);try{let l="";n?l=`SELECT OBJNAME, OBJID FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND UPPER(SCHEMA) = UPPER('${n}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`:l=`SELECT OBJNAME, OBJID, SCHEMA FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`;let c=await X(this.context,l,!0,e,this.connectionManager);if(!c)return[];let u=JSON.parse(c),E=new Map,d=u.map(f=>{let T=f.OBJNAME,h=f.SCHEMA||n,S=h?`${r}.${h}.${f.OBJNAME}`:`${r}..${f.OBJNAME}`;return E.set(S,f.OBJID),{OBJNAME:f.OBJNAME,TABLENAME:f.OBJNAME,OBJID:f.OBJID,SCHEMA:h,label:T,kind:6,detail:n?"Table":`Table (${h})`,sortText:f.OBJNAME}});return this.metadataCache.setTables(e,i,d,E),d.map(f=>{let T=typeof f.label=="string"?f.label:f.label?.label||"?",h=new $e.CompletionItem(T,f.kind);return h.detail=f.detail,h.sortText=f.sortText,h})}catch(l){return console.error(l),[]}finally{a.dispose()}}async getColumns(e,r,n,i){if(!e)return[];let s,o=r?`${r}..`:"",a=n&&r?`${r}.${n}.${i}`:r?`${r}..${i}`:void 0;a&&(s=this.metadataCache.findTableId(e,a));let l=`${r||"CURRENT"}.${n||""}.${i}`,c=this.metadataCache.getColumns(e,l);if(c)return c.map(E=>{let d=new $e.CompletionItem(E.label||E.ATTNAME,E.kind||$e.CompletionItemKind.Field);return d.detail=E.detail,d});let u=$e.window.setStatusBarMessage(`Fetching columns for ${i}...`);try{let E="";if(s)E=`SELECT ATTNAME, FORMAT_TYPE FROM ${o}_V_RELATION_COLUMN WHERE OBJID = ${s} ORDER BY ATTNUM`;else{let h=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",S=r?`AND UPPER(O.DBNAME) = UPPER('${r}')`:"";E=`
                    SELECT C.ATTNAME, C.FORMAT_TYPE 
                    FROM ${o}_V_RELATION_COLUMN C
                    JOIN ${o}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) = UPPER('${i}') ${h} ${S}
                    ORDER BY C.ATTNUM
                `}let d=await X(this.context,E,!0,e,this.connectionManager);if(!d)return[];let T=JSON.parse(d).map(h=>({ATTNAME:h.ATTNAME,FORMAT_TYPE:h.FORMAT_TYPE,label:h.ATTNAME,kind:9,detail:h.FORMAT_TYPE}));if(this.metadataCache.setColumns(e,l,T),r){let h=this.context,S=this.metadataCache;setTimeout(async()=>{try{await S.prefetchColumnsForSchema(e,r,n,p=>X(h,p,!0,e,this.connectionManager))}catch(p){console.error("[SqlCompletion] Background column prefetch error:",p)}},100)}return T.map(h=>{let S=new $e.CompletionItem(h.label,h.kind);return S.detail=h.detail,S})}catch(E){return console.error(E),[]}finally{u.dispose()}}};var Qs=Q(require("vscode"));Rr();function hj(t){let e="",r=0;for(;r<t.length;){if(t[r]==="-"&&r+1<t.length&&t[r+1]==="-"){for(;r<t.length&&t[r]!==`
`;)r++;r<t.length&&(e+=" ",r++);continue}if(t[r]==="/"&&r+1<t.length&&t[r+1]==="*"){for(r+=2;r<t.length-1&&!(t[r]==="*"&&t[r+1]==="/");)r++;r<t.length-1&&(r+=2),e+=" ";continue}if(t[r]==="'"){for(r++;r<t.length;)if(t[r]==="'"&&r+1<t.length&&t[r+1]==="'")r+=2;else if(t[r]==="'"){r++;break}else r++;e+=" ";continue}e+=t[r],r++}return e}function SR(t,e){return hj(t).toUpperCase().includes(e.toUpperCase())}var wc=class{constructor(e,r,n,i){this._extensionUri=e;this.context=r;this.metadataCache=n;this.connectionManager=i;this.currentSearchId=0}static{this.viewType="netezza.search"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"search":await this.search(i.value);break;case"searchSource":await this.searchSourceCode(i.value);break;case"navigate":Qs.commands.executeCommand("netezza.revealInSchema",i);break}})}async search(e){if(!e||e.length<2)return;let r,n=Qs.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=Qs.window.setStatusBarMessage(`$(loading~spin) Searching for "${e}"...`),o=new Set;if(this._view){let u=this.metadataCache.search(e,r);if(u.length>0){let E=[];u.forEach(d=>{let f=`${d.name.toUpperCase().trim()}|${d.type.toUpperCase().trim()}|${(d.parent||"").toUpperCase().trim()}`;o.has(f)||(o.add(f),E.push({NAME:d.name,SCHEMA:d.schema||"",DATABASE:d.database||"",TYPE:d.type,PARENT:d.parent||"",DESCRIPTION:"Result from Cache",MATCH_TYPE:"NAME",connectionName:r}))}),E.sort((d,f)=>{let T=h=>h==="COLUMN"?2:1;return T(f.TYPE)-T(d.TYPE)?T(d.TYPE)-T(f.TYPE):d.NAME.localeCompare(f.NAME)}),E.length>0&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:E,append:!1})}else i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});this.metadataCache.hasAllObjectsPrefetchTriggered(r)||this.metadataCache.prefetchAllObjects(r,async E=>X(this.context,E,!0,r,this.connectionManager))}let l=`%${e.replace(/'/g,"''").toUpperCase()}%`,c=`
            SELECT * FROM (
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(OBJNAME) LIKE '${l}'
                UNION ALL
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'DESC' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(DESCRIPTION) LIKE '${l}' AND UPPER(OBJNAME) NOT LIKE '${l}'
                UNION ALL
                SELECT 2 AS PRIORITY, C.ATTNAME AS NAME, O.SCHEMA, O.DBNAME AS DATABASE, 'COLUMN' AS TYPE, O.OBJNAME AS PARENT,
                       COALESCE(C.DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_RELATION_COLUMN C
                JOIN _V_OBJECT_DATA O ON C.OBJID = O.OBJID
                WHERE UPPER(C.ATTNAME) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, V.VIEWNAME AS NAME, V.SCHEMA, V.DATABASE, 'VIEW' AS TYPE, '' AS PARENT, 
                       'Found in view definition' AS DESCRIPTION, 'DEFINITION' AS MATCH_TYPE
                FROM _V_VIEW V
                WHERE UPPER(V.DEFINITION) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, P.PROCEDURE AS NAME, P.SCHEMA, P.DATABASE, 'PROCEDURE' AS TYPE, '' AS PARENT, 
                       'Found in procedure source' AS DESCRIPTION, 'SOURCE' AS MATCH_TYPE
                FROM _V_PROCEDURE P
                WHERE UPPER(P.PROCEDURESOURCE) LIKE '${l}'
                UNION ALL
                SELECT 3 AS PRIORITY, E1.TABLENAME AS NAME, E1.SCHEMA, E1.DATABASE, 'EXTERNAL TABLE' AS TYPE, '' AS PARENT,
                       COALESCE(E2.EXTOBJNAME, '') AS DESCRIPTION, 'DATAOBJECT' AS MATCH_TYPE
                FROM _V_EXTERNAL E1
                JOIN _V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE AND E1.SCHEMA = E2.SCHEMA AND E1.TABLENAME = E2.TABLENAME
                WHERE UPPER(E2.EXTOBJNAME) LIKE '${l}'
            ) AS R
            ORDER BY PRIORITY, NAME
            LIMIT 100
        `;try{let u=await X(this.context,c,!0,r,this.connectionManager);if(i!==this.currentSearchId){s.dispose();return}if(u){let E=[];u==="Query executed successfully (no results)."||u.startsWith("Query executed successfully")?E=[]:E=JSON.parse(u);let d=[];E.forEach(f=>{let T=f,h=`${T.NAME.toUpperCase().trim()}|${T.TYPE.toUpperCase().trim()}|${(T.PARENT||"").toUpperCase().trim()}`;o.has(h)||(d.push({NAME:T.NAME,SCHEMA:T.SCHEMA,DATABASE:T.DATABASE,TYPE:T.TYPE,PARENT:T.PARENT,DESCRIPTION:T.DESCRIPTION,MATCH_TYPE:T.MATCH_TYPE,connectionName:r}),o.add(h))}),d.length>0&&this._view&&this._view.webview.postMessage({type:"results",data:d,append:!0})}}catch(u){console.error("Search error:",u),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:u instanceof Error?u.message:String(u)})}finally{s.dispose()}}async searchSourceCode(e){if(!e||e.length<2)return;let r,n=Qs.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=Qs.window.setStatusBarMessage(`$(loading~spin) Searching in source code for "${e}"...`);try{this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});let o=e.toUpperCase(),a=[],l=`
                SELECT VIEWNAME AS NAME, SCHEMA, DATABASE, DEFINITION AS SOURCE
                FROM _V_VIEW
            `;try{let u=await X(this.context,l,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let E=JSON.parse(u);for(let d of E)d.SOURCE&&SR(d.SOURCE,o)&&a.push({NAME:d.NAME,SCHEMA:d.SCHEMA,DATABASE:d.DATABASE,TYPE:"VIEW",PARENT:"",DESCRIPTION:"Found in view source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching views:",u)}let c=`
                SELECT PROCEDURE AS NAME, SCHEMA, DATABASE, PROCEDURESOURCE AS SOURCE
                FROM _V_PROCEDURE
            `;try{let u=await X(this.context,c,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let E=JSON.parse(u);for(let d of E)d.SOURCE&&SR(d.SOURCE,o)&&a.push({NAME:d.NAME,SCHEMA:d.SCHEMA,DATABASE:d.DATABASE,TYPE:"PROCEDURE",PARENT:"",DESCRIPTION:"Found in procedure source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching procedures:",u)}this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:a,append:!1})}catch(o){console.error("Source code search error:",o),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:o instanceof Error?o.message:String(o)})}finally{s.dispose()}}_getHtmlForWebview(e){return`<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Schema Search</title>
        <style>
            body { 
                font-family: var(--vscode-font-family); 
                padding: 0; 
                margin: 0;
                color: var(--vscode-foreground); 
                display: flex;
                flex-direction: column;
                height: 100vh;
                overflow: hidden;
            }
            .search-box { 
                display: flex; 
                gap: 5px; 
                padding: 10px;
                flex-shrink: 0;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            input { flex-grow: 1; padding: 5px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); }
            button {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: 6px;
                background-color: var(--vscode-button-secondaryBackground);
                color: var(--vscode-button-secondaryForeground);
                border: 1px solid var(--vscode-contrastBorder, transparent);
                padding: 4px 10px;
                cursor: pointer;
                border-radius: 2px;
                font-family: var(--vscode-font-family);
                font-size: 12px;
                line-height: 18px;
            }
            button:hover { background-color: var(--vscode-button-secondaryHoverBackground); }
            button.primary { background-color: var(--vscode-button-background); color: var(--vscode-button-foreground); }
            button.primary:hover { background-color: var(--vscode-button-hoverBackground); }
            #status { padding: 5px 10px; flex-shrink: 0; }
            .results { 
                list-style: none; 
                padding: 0; 
                margin: 0; 
                flex-grow: 1; 
                overflow-y: auto; 
            }
            .result-item { padding: 8px 10px; border-bottom: 1px solid var(--vscode-panel-border); display: flex; flex-direction: column; cursor: pointer; position: relative; }
            .result-item:hover { background: var(--vscode-list-hoverBackground); }
            .item-header { display: flex; justify-content: space-between; font-weight: bold; }
            .item-details { font-size: 0.9em; opacity: 0.8; display: flex; gap: 10px; }
            .type-badge { font-size: 0.8em; background: var(--vscode-badge-background); color: var(--vscode-badge-foreground); padding: 2px 5px; border-radius: 3px; }
            .tooltip { position: absolute; background: var(--vscode-editorHoverWidget-background); color: var(--vscode-editorHoverWidget-foreground); border: 1px solid var(--vscode-editorHoverWidget-border); padding: 8px; border-radius: 4px; font-size: 0.9em; max-width: 300px; word-wrap: break-word; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.2s, visibility 0.2s; pointer-events: none; }
            .result-item:hover .tooltip { opacity: 1; visibility: visible; }
            .tooltip.top { bottom: 100%; left: 0; margin-bottom: 5px; }
            .tooltip.bottom { top: 100%; left: 0; margin-top: 5px; }
            .cache-badge { background-color: var(--vscode-charts-green); color: white; padding: 1px 4px; border-radius: 2px; font-size: 0.7em; margin-left: 5px; }
            .spinner {
                border: 2px solid transparent;
                border-top: 2px solid var(--vscode-progressBar-background);
                border-radius: 50%;
                width: 14px;
                height: 14px;
                animation: spin 1s linear infinite;
                display: inline-block;
                vertical-align: middle;
                margin-right: 8px;
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            .options-row {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 5px 10px;
                font-size: 12px;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            .options-row label {
                display: flex;
                align-items: center;
                gap: 4px;
                cursor: pointer;
            }
            .options-row input[type="checkbox"] {
                margin: 0;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search tables, columns, view definitions, procedure source..." />
            <button id="searchBtn" class="primary">Search</button>
        </div>
        <div class="options-row">
            <label>
                <input type="checkbox" id="sourceOnlyCheck" />
                Source Code Only (exclude comments/strings)
            </label>
        </div>
        <div id="status"></div>
        <ul class="results" id="resultsList"></ul>

        <script>
            try {
            const vscode = acquireVsCodeApi();
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const sourceOnlyCheck = document.getElementById('sourceOnlyCheck');
            const resultsList = document.getElementById('resultsList');
            const status = document.getElementById('status');

            searchBtn.addEventListener('click', () => {
                const term = searchInput.value;
                if (term) {
                    status.innerHTML = '<span class="spinner"></span> Searching...';
                    const messageType = sourceOnlyCheck.checked ? 'searchSource' : 'search';
                    vscode.postMessage({ type: messageType, value: term });
                }
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchBtn.click();
                }
            });

            window.addEventListener('message', event => {
                const message = event.data;
                switch (message.type) {
                    case 'results':
                        status.textContent = '';
                        renderResults(message.data, message.append);
                        break;
                    case 'error':
                        status.textContent = 'Error: ' + message.message;
                        break;
                }
            });

            function renderResults(data, append) {
                if (!append) {
                    resultsList.innerHTML = '';
                }

                if (!data || data.length === 0) {
                    if (!append && resultsList.children.length === 0) {
                        status.textContent = 'No results found.';
                    }
                    return;
                }

                data.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'result-item';

                    const parentInfo = item.PARENT ? \`Parent: \${item.PARENT}\` : '';
                    const schemaInfo = item.SCHEMA ? \`Schema: \${item.SCHEMA}\` : '';
                    const databaseInfo = item.DATABASE ? \`Database: \${item.DATABASE}\` : '';
                    const description = item.DESCRIPTION && item.DESCRIPTION.trim() ? item.DESCRIPTION : '';
                    
                    // Add match type indicator
                    const matchTypeInfo = item.MATCH_TYPE === 'DEFINITION' ? 'Match in view definition' :
                                        item.MATCH_TYPE === 'SOURCE' ? 'Match in procedure source' :
                                        item.MATCH_TYPE === 'NAME' ? 'Match in name' : '';
                    
                    li.innerHTML = \`
                        <div class="item-header">
                            <span>\${item.NAME}</span>
                            <span class="type-badge">\${item.TYPE}</span>
                        </div>
                        <div class="item-details">
                            <span>\${databaseInfo}</span>
                            <span>\${schemaInfo}</span>
                            <span>\${parentInfo}</span>
                            \${matchTypeInfo ? \`<span style="font-style: italic; color: var(--vscode-descriptionForeground);">\${matchTypeInfo}</span>\` : ''}
                        </div>
                        \${description ? \`<div class="tooltip bottom">\${description}</div>\` : ''}
                    \`;
                    
                    // Add double-click handler to navigate to schema tree
                    li.addEventListener('dblclick', () => {
                        vscode.postMessage({ 
                            type: 'navigate', 
                            name: item.NAME,
                            schema: item.SCHEMA,
                            database: item.DATABASE,
                            objType: item.TYPE,
                            parent: item.PARENT,
                            connectionName: item.connectionName // Pass back connection name
                        });
                    });
                    
                    resultsList.appendChild(li);
                });
            }
            } catch (e) {
                document.body.innerHTML = '<pre style="color:red;">Error loading Schema Search: ' + e.message + '\\n' + e.stack + '</pre>';
            }
        </script>
    </body>
    </html>`}};Zs();var La=Q(require("vscode"));Zs();var xf=class{provideDocumentLinks(e,r){let n=[],i=e.getText(),s=/[a-zA-Z0-9_"]+(\.[a-zA-Z0-9_"]*)+/g,o;for(;(o=s.exec(i))!==null;){let a=e.positionAt(o.index),l=e.positionAt(o.index+o[0].length),c=new La.Range(a,l),u=wr.getObjectAtPosition(i,o.index+Math.floor(o[0].length/2));if(u){if(o[0].split(".").length===2&&!u.database&&this.isLikelyAliasReference(i,o.index))continue;let f={name:u.name,schema:u.schema,database:u.database},T=La.Uri.parse(`command:netezza.revealInSchema?${encodeURIComponent(JSON.stringify(f))}`),h=new La.DocumentLink(c,T);h.tooltip=`Reveal ${u.name} in Schema`,n.push(h)}}return n}isLikelyAliasReference(e,r){let i=e.substring(Math.max(0,r-200),r).replace(/--[^\n]*/g,"").replace(/\/\*[\s\S]*?\*\//g,"").toUpperCase();return/(?:FROM|JOIN)\s+[a-zA-Z0-9_"]*$/i.test(i)?!1:!!i.match(/\b(SELECT|WHERE|ON|HAVING|ORDER\s+BY|GROUP\s+BY|AND|OR|SET|VALUES)\b(?!.*\b(?:FROM|JOIN)\b)/)}};var Uf=Q(require("vscode")),vf=class{provideFoldingRanges(e,r,n){let i=[],s=[],o=/^\s*--\s*REGION\b/i,a=/^\s*--\s*ENDREGION\b/i;for(let l=0;l<e.lineCount;l++){let u=e.lineAt(l).text;if(o.test(u))s.push(l);else if(a.test(u)&&s.length>0){let E=s.pop();i.push(new Uf.FoldingRange(E,l,Uf.FoldingRangeKind.Region))}}return i}};var Kt=Q(require("vscode"));gf();var Dc=class{constructor(e,r){this._extensionUri=e;this._context=r}static{this.viewType="netezza.queryHistory"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),this.sendHistoryToWebview(),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"refresh":this.refresh();break;case"clearAll":await this.clearAllHistory();break;case"deleteEntry":await this.deleteEntry(i.id,i.query);break;case"copyQuery":await Kt.env.clipboard.writeText(i.query),Kt.window.showInformationMessage("Query copied to clipboard");break;case"executeQuery":await this.executeQuery(i.query);break;case"getHistory":await this.sendHistoryToWebview();break;case"toggleFavorite":await this.toggleFavorite(i.id);break;case"updateEntry":await this.updateEntry(i.id,i.tags,i.description);break;case"requestEdit":await this.requestEdit(i.id);break;case"requestTagFilter":await this.requestTagFilter(i.tags);break;case"showFavoritesOnly":await this.sendFavoritesToWebview();break;case"filterByTag":await this.sendFilteredByTagToWebview(i.tag);break}})}refresh(){this._view&&this.sendHistoryToWebview()}async sendHistoryToWebview(){if(!this._view)return;let e=new pr(this._context),r=await e.getHistory(),n=await e.getStats();console.log("QueryHistoryView: sending history to webview, entries=",r.length),this._view.webview.postMessage({type:"historyData",history:r,stats:n})}async clearAllHistory(){await Kt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await new pr(this._context).clearHistory(),this.refresh(),Kt.window.showInformationMessage("Query history cleared"))}async deleteEntry(e,r){let n=r?`: ${r.substring(0,50)}${r.length>50?"...":""}`:"";await Kt.window.showWarningMessage(`Are you sure you want to delete this query${n}?`,{modal:!0},"Delete")==="Delete"&&(await new pr(this._context).deleteEntry(e),this.refresh())}async executeQuery(e){let r=await Kt.workspace.openTextDocument({content:e,language:"sql"});await Kt.window.showTextDocument(r)}async toggleFavorite(e){await new pr(this._context).toggleFavorite(e),this.refresh()}async updateEntry(e,r,n){await new pr(this._context).updateEntry(e,r,n),this.refresh(),Kt.window.showInformationMessage("Entry updated successfully")}async requestEdit(e){let i=(await new pr(this._context).getHistory()).find(a=>a.id===e);if(!i){Kt.window.showErrorMessage("Entry not found");return}let s=await Kt.window.showInputBox({prompt:"Enter tags (comma separated)",value:i.tags||"",placeHolder:"tag1, tag2, tag3"});if(s===void 0)return;let o=await Kt.window.showInputBox({prompt:"Enter description",value:i.description||"",placeHolder:"Description for this query"});o!==void 0&&await this.updateEntry(e,s,o)}async requestTagFilter(e){if(e.length===1)await this.sendFilteredByTagToWebview(e[0]);else if(e.length>1){let r=await Kt.window.showQuickPick(e,{placeHolder:"Filter by which tag?"});r&&await this.sendFilteredByTagToWebview(r)}}async sendFavoritesToWebview(){if(!this._view)return;let e=new pr(this._context),r=await e.getFavorites(),n=await e.getStats();this._view.webview.postMessage({type:"historyData",history:r,stats:n,filter:"favorites"})}async sendFilteredByTagToWebview(e){if(!this._view)return;let r=new pr(this._context),n=await r.getByTag(e),i=await r.getStats();this._view.webview.postMessage({type:"historyData",history:n,stats:i,filter:`tag: ${e}`})}_getHtmlForWebview(e){let r=e.asWebviewUri(Kt.Uri.joinPath(this._extensionUri,"media","queryHistory.css")),n=e.asWebviewUri(Kt.Uri.joinPath(this._extensionUri,"media","queryHistory.js"));return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src ${e.cspSource};">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Query History</title>
    <link href="${r}" rel="stylesheet">
</head>
<body>
    <div class="toolbar">
        <div class="toolbar-top">
            <input type="search" id="searchInput" placeholder="Search queries..." />
            <span class="stats" id="stats">Loading...</span>
        </div>
        <div class="toolbar-buttons">
            <button class="secondary" id="showAllBtn">\u{1F4DC} All</button>
            <button class="secondary" id="showFavoritesBtn">\u2B50 Favorites</button>
            <button class="secondary" id="refreshBtn">\u21BB Refresh</button>
            <button class="secondary" id="clearAllBtn">\u{1F5D1}\uFE0F Clear All</button>
        </div>
    </div>
    <div class="history-container" id="historyContainer">
        <div class="empty-state">
            <div class="empty-state-icon">\u{1F4DC}</div>
            <div>No query history yet</div>
        </div>
    </div>

    <script src="${n}"></script>
</body>
</html>`}};var mt=Q(require("vscode"));Rr();var Bf=class t{static{this.viewType="netezza.editData"}static async createOrShow(e,r,n,i){if(!r||!r.label||!r.dbName||!r.schema){mt.window.showErrorMessage("Invalid table selection");return}let s=r.label,o=r.schema,a=r.dbName,l=`${a}.${o}.${s}`,c=mt.window.createWebviewPanel(t.viewType,`Edit: ${s}`,mt.ViewColumn.One,{enableScripts:!0,localResourceRoots:[mt.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});c.webview.html=this._getHtmlForWebview(c.webview,e,l),this._loadData(c,a,o,s,r.connectionName,n,i),c.webview.onDidReceiveMessage(async u=>{try{switch(u.command){case"save":await this._handleSave(c,u.changes,l,r.connectionName,n,i),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"refresh":this._loadData(c,a,o,s,r.connectionName,n,i);break;case"updateTableComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON TABLE ${l} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Table comment updated");break;case"updateColumnComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON COLUMN ${l}.${u.column} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Column comment updated");break;case"addColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} ADD COLUMN ${u.name} ${u.type}`,`Column ${u.name} added`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"dropColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} DROP COLUMN ${u.column}`,`Column ${u.column} dropped`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"error":mt.window.showErrorMessage(u.text);break;case"info":mt.window.showInformationMessage(u.text);break}}catch(E){mt.window.showErrorMessage(`Error: ${E instanceof Error?E.message:String(E)}`)}})}static async _execSimpleCommand(e,r,n,i,s,o=!1){try{await X(e,i,!0,n,r),mt.window.showInformationMessage(s)}catch(a){mt.window.showErrorMessage(`Operation failed: ${a instanceof Error?a.message:String(a)}`)}}static async _loadData(e,r,n,i,s,o,a){let l=`${r}.${n}.${i}`;try{e.webview.postMessage({command:"setLoading",loading:!0,message:"Fetching data..."});let c=S=>X(o,S,!0,s,a),[u,E]=await Promise.all([X(o,`SELECT ROWID, * FROM ${l} LIMIT 50000`,!0,s,a),hy(c,r,n,i)]),d=E.tableComment||"",f=Ty(E.columns),T=[];try{let S=u||"[]";console.log("[EditDataProvider] dataResult type:",typeof S,"length:",typeof S=="string"?S.length:"N/A"),console.log("[EditDataProvider] dataResult preview:",typeof S=="string"?S.substring(0,200):"array"),typeof S=="string"?S.trim().startsWith("[")?T=JSON.parse(S):(console.log("[EditDataProvider] dataResult is NOT JSON array:",S.substring(0,100)),T=[]):Array.isArray(S)&&(T=S),console.log("[EditDataProvider] Parsed data rows:",T.length)}catch(S){console.error("[EditDataProvider] Data Parse Error",S)}let h=[];f.length>0?h=["ROWID",...f.map(S=>S.ATTNAME)]:T.length>0&&(h=Object.keys(T[0])),console.log("[EditDataProvider] Sending to webview:",{dataRows:T.length,columns:h.length}),e.webview.postMessage({command:"setData",data:T,columns:h,metadata:{tableComment:d,columns:f}})}catch(c){let u=c instanceof Error?c.message:String(c);mt.window.showErrorMessage(`Failed to load data: ${u}`),e.webview.postMessage({command:"setError",text:u})}finally{e.webview.postMessage({command:"setLoading",loading:!1})}}static async _handleSave(e,r,n,i,s,o){let a=[];if(r.deletes&&r.deletes.length>0){let l=r.deletes.join(",");a.push(`DELETE FROM ${n} WHERE ROWID IN (${l})`)}if(r.updates&&r.updates.length>0)for(let l of r.updates){let c=[];for(let[u,E]of Object.entries(l.changes))u!=="ROWID"&&c.push(`${u} = ${this._formatValue(E)}`);c.length>0&&a.push(`UPDATE ${n} SET ${c.join(", ")} WHERE ROWID = ${l.rowId}`)}if(r.inserts&&r.inserts.length>0)for(let l of r.inserts){let c=Object.keys(l).filter(E=>E!=="ROWID");if(c.length===0)continue;let u=c.map(E=>this._formatValue(l[E]));a.push(`INSERT INTO ${n} (${c.join(", ")}) VALUES (${u.join(", ")})`)}if(a.length===0){mt.window.showInformationMessage("No changes to save.");return}try{let l=["BEGIN",...a,"COMMIT"];await yc(s,l,o),mt.window.showInformationMessage(`Successfully executed ${a.length} changes.`)}catch(l){mt.window.showErrorMessage(`Failed to save changes: ${l instanceof Error?l.message:String(l)}`)}}static _formatValue(e){return e==null||e===""?"NULL":typeof e=="number"?e.toString():typeof e=="boolean"?e?"TRUE":"FALSE":`'${String(e).replace(/'/g,"''")}'`}static _getHtmlForWebview(e,r,n){let i=e.asWebviewUri(mt.Uri.joinPath(r,"media","tanstack-table-core.js")),s=e.asWebviewUri(mt.Uri.joinPath(r,"media","tanstack-virtual-core.js")),o=e.asWebviewUri(mt.Uri.joinPath(r,"media","editDataPanel.js")),a=e.asWebviewUri(mt.Uri.joinPath(r,"media","editDataPanel.css")),l=e.asWebviewUri(mt.Uri.joinPath(r,"media","codicon.ttf")),c=Tj();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; font-src ${e.cspSource}; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}';">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${a}" rel="stylesheet">
            <style>
                @font-face {
                    font-family: 'codicon';
                    src: url('${l}') format('truetype');
                }
                .codicon { font-family: 'codicon'; }
            </style>
            <script nonce="${c}" src="${i}"></script>
            <script nonce="${c}" src="${s}"></script>
            <title>Edit Data: ${n}</title>
        </head>
        <body>
            <div class="main-layout">
                <!-- Tabs Header -->
                <div class="tabs-header">
                    <div class="tab active" data-target="tab-data">
                        Data
                    </div>
                    <div class="tab" data-target="tab-metadata">
                        Table Description
                    </div>
                </div>

                <!-- Tab: Data -->
                <div id="tab-data" class="tab-content active">
                    <div class="toolbar">
                        <span id="status" class="status"></span>
                        <div class="actions">
                            <button id="refreshBtn">Refresh</button>
                            <button id="addRowBtn">Add Row</button>
                            <button id="saveBtn" class="primary">Save Changes</button>
                        </div>
                    </div>
                    <div id="gridContainer" class="grid-container"></div>
                </div>

                <!-- Tab: Metadata -->
                <div id="tab-metadata" class="tab-content">
                    <div id="metadataContent" class="metadata-content">
                        <!-- Populated by JS -->
                        Loading metadata...
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${o}"></script>
        </body>
        </html>`}};function Tj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function pR(t,e){return e?t.startsWith(`${e}|`):!0}function In(t){if(!t||typeof t!="object")return;let e=t;if(e.label)return typeof e.label=="string"?e.label:e.label.label}function Ff(t){let e={};return t.forEach((r,n)=>{e[n]=r}),e}function py(t){let e={};return t.forEach((r,n)=>{let i={};r.data.forEach((s,o)=>{i[o]=s}),e[n]={data:i,timestamp:r.timestamp}}),e}function RR(t,e,r){return e?`${t}.${e}.${r}`:`${t}..${r}`}var Gf=class{constructor(){this.dbCache=new Map;this.schemaCache=new Map;this.tableCache=new Map;this.columnCache=new Map;this.tableIdMap=new Map;this.typeGroupCache=new Map}setOnDataChange(e){this.onDataChange=e}clearAll(){this.dbCache.clear(),this.schemaCache.clear(),this.tableCache.clear(),this.columnCache.clear(),this.tableIdMap.clear(),this.typeGroupCache.clear()}getDatabases(e){return this.dbCache.get(e)?.data}setDatabases(e,r){this.dbCache.set(e,{data:r,timestamp:Date.now()}),this.onDataChange?.("db")}getSchemas(e,r){let n=`${e}|${r}`;return this.schemaCache.get(n)?.data}setSchemas(e,r,n){let i=`${e}|${r}`;this.schemaCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("schema")}getTables(e,r){let n=`${e}|${r}`;return this.tableCache.get(n)?.data}getTablesAllSchemas(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n))for(let l of a.data){let c=In(l);c&&!s.has(c.toUpperCase())&&(s.add(c.toUpperCase()),i.push(l))}return i.length>0?i:void 0}setTables(e,r,n,i){let s=Date.now(),o=`${e}|${r}`;this.tableCache.set(o,{data:n,timestamp:s}),this.tableIdMap.set(o,{data:i,timestamp:s}),this.onDataChange?.("table")}getObjectsWithSchema(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n)||o===`${e}|${r}..`){let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),E=(u.length>1?u[1]:"")||"",d=this.tableIdMap.get(o);for(let f of a.data){let T=In(f),h=`${E}.${T}`;if(T&&!s.has(h)){s.add(h);let S;if(d){let p=RR(r,E||void 0,T);S=d.data.get(p)}i.push({item:f,schema:E,objId:S})}}}return i}getColumns(e,r){let n=`${e}|${r}`;return this.columnCache.get(n)?.data}setColumns(e,r,n){let i=`${e}|${r}`;this.columnCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("column")}findTableId(e,r){let n=`${e}|`;for(let[i,s]of this.tableIdMap)if(i.startsWith(n)){let o=s.data.get(r);if(o!==void 0)return o}}getTypeGroups(e,r){let n=`${e}|${r}`;return this.typeGroupCache.get(n)?.data}setTypeGroups(e,r,n){let i=`${e}|${r}`;this.typeGroupCache.set(i,{data:n,timestamp:Date.now()})}findObjectWithType(e,r,n,i){let s=`${e}|`,o=i.toUpperCase();for(let[a,l]of this.tableCache){if(!a.startsWith(s))continue;let c=a.split("|");if(c.length<2)continue;let E=c[1].split("."),d=E[0],f=E.length>1?E[1]:void 0;if(d.toUpperCase()===r.toUpperCase()&&!(n!==void 0&&n!==""&&f?.toUpperCase()!==n.toUpperCase()))for(let T of l.data){let h=In(T);if(h?.toUpperCase()===o){let S=T.objType||(T.kind===18?"VIEW":"TABLE"),p=RR(d,f,h),R=this.tableIdMap.get(a)?.data.get(p);if(R!==void 0)return{objId:R,objType:S,schema:f||"",name:h||i}}}}}invalidateSchema(e,r,n){let i=n?`${r}.${n}`:`${r}..`,s=`${e}|${i}`;this.tableCache.has(s)&&(this.tableCache.delete(s),this.tableIdMap.delete(s),this.onDataChange?.("table"),console.log(`[CacheStorage] Invalidated cache for ${s}`))}getDbCacheMap(){return this.dbCache}getSchemaCacheMap(){return this.schemaCache}getTableCacheMap(){return this.tableCache}getTableIdMapMap(){return this.tableIdMap}loadDbCache(e){this.dbCache=e}loadSchemaCache(e){this.schemaCache=e}loadTableCache(e){this.tableCache=e}loadTableIdMap(e){this.tableIdMap=e}};var Wf=Q(require("vscode"));var Hf=class{constructor(e,r){this.context=e;this.storage=r;this.CACHE_TTL=14400*1e3;this.savePending=!1;this.context.storageUri&&(this.cacheFilePath=Wf.Uri.joinPath(this.context.storageUri,"schema-cache.json").fsPath,this.ensureStorageDir())}async ensureStorageDir(){if(this.context.storageUri)try{await Wf.workspace.fs.createDirectory(this.context.storageUri)}catch{}}async initialize(){try{let e=["sqlCompletion.dbCache","sqlCompletion.schemaCache","sqlCompletion.tableCache","sqlCompletion.columnCache","sqlCompletion.tableIdMap"];for(let r of e)this.context.workspaceState.get(r)!==void 0&&await this.context.workspaceState.update(r,void 0)}catch(e){console.error("[CachePersistence] Error cleaning up legacy workspace state:",e)}if(this.cacheFilePath)try{let e=require("fs");if(e.existsSync(this.cacheFilePath)){let r=await e.promises.readFile(this.cacheFilePath,"utf-8"),n=JSON.parse(r),i=Date.now();if(n.dbCache){let s=new Map;for(let[o,a]of Object.entries(n.dbCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadDbCache(s)}if(n.schemaCache){let s=new Map;for(let[o,a]of Object.entries(n.schemaCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadSchemaCache(s)}if(n.tableCache){let s=new Map;for(let[o,a]of Object.entries(n.tableCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadTableCache(s)}if(n.tableIdMap){let s=new Map;for(let[o,a]of Object.entries(n.tableIdMap))(this.storage.getTableCacheMap().has(o)||i-a.timestamp<this.CACHE_TTL)&&s.set(o,{data:new Map(Object.entries(a.data)),timestamp:a.timestamp});this.storage.loadTableIdMap(s)}}}catch(e){console.error("[CachePersistence] Error loading cache from disk:",e)}}scheduleSave(e){this.savePending||(this.savePending=!0,this.saveTimeoutId=setTimeout(()=>this.flushSave(),2e3))}async flushSave(){if(this.savePending=!1,!!this.cacheFilePath)try{let e=require("fs"),r={dbCache:Ff(this.storage.getDbCacheMap()),schemaCache:Ff(this.storage.getSchemaCacheMap()),tableCache:Ff(this.storage.getTableCacheMap()),tableIdMap:py(this.storage.getTableIdMapMap())};await e.promises.writeFile(this.cacheFilePath,JSON.stringify(r),"utf-8")}catch(e){console.error("[CachePersistence] Error saving cache to disk:",e)}}async clearCache(){if(this.saveTimeoutId&&(clearTimeout(this.saveTimeoutId),this.saveTimeoutId=void 0),this.savePending=!1,this.storage.clearAll(),this.cacheFilePath)try{let e=require("fs");e.existsSync(this.cacheFilePath)&&await e.promises.unlink(this.cacheFilePath)}catch(e){console.error("[CachePersistence] Error clearing cache file:",e)}}};var Yf=class{constructor(e){this.storage=e;this.columnPrefetchInProgress=new Set;this.allObjectsPrefetchTriggeredSet=new Set;this.connectionPrefetchTriggered=new Set;this.connectionPrefetchInProgress=new Set}async prefetchColumnsForSchema(e,r,n,i){let s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;if(this.columnPrefetchInProgress.has(o))return;let a=this.storage.getTables(e,s);if(!(!a||a.length===0)){this.columnPrefetchInProgress.add(o);try{let l=[];for(let u of a){let E=In(u);if(!E)continue;let d=`${r}.${n||""}.${E}`;this.storage.getColumns(e,d)||l.push(E)}if(l.length===0)return;let c=10;for(let u=0;u<l.length;u+=c){let d=l.slice(u,u+c).map(S=>`'${S}'`).join(","),f=`${r}..`,T=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",h=`
                    SELECT O.OBJNAME AS TABLENAME, C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                    FROM ${f}_V_RELATION_COLUMN C
                    JOIN ${f}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) IN (${d.toUpperCase()}) 
                    ${T}
                    AND UPPER(O.DBNAME) = UPPER('${r}')
                    ORDER BY O.OBJNAME, C.ATTNUM
                `;try{let S=await i(h);if(S){let p=JSON.parse(S),I=new Map;for(let R of p){let A=R.TABLENAME;I.has(A)||I.set(A,[]),I.get(A).push({ATTNAME:R.ATTNAME,FORMAT_TYPE:R.FORMAT_TYPE,label:R.ATTNAME,kind:5,detail:R.FORMAT_TYPE})}for(let[R,A]of I){let O=`${r}.${n||""}.${R}`;this.storage.setColumns(e,O,A)}}}catch(S){console.error("[CachePrefetcher] Error fetching batch columns:",S)}}}finally{this.columnPrefetchInProgress.delete(o)}}}async prefetchAllObjects(e,r){let n=`ALL_OBJECTS|${e}`;if(!this.allObjectsPrefetchTriggeredSet.has(n)){this.allObjectsPrefetchTriggeredSet.add(n),console.log(`[CachePrefetcher] Starting background prefetch of all objects (Connection: ${e})`);try{let s=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW') 
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!s)return;let o=JSON.parse(s),a=new Map;for(let l of o){let c=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}`:`${l.DBNAME}..`;a.has(c)||a.set(c,{tables:[],idMap:new Map});let u=a.get(c);u.tables.push({OBJNAME:l.OBJNAME,label:l.OBJNAME,kind:l.OBJTYPE==="VIEW"?18:6,detail:l.SCHEMA?l.OBJTYPE==="VIEW"?"View":"Table":`${l.OBJTYPE==="VIEW"?"View":"Table"} (${l.SCHEMA})`,objType:l.OBJTYPE,OBJID:l.OBJID,SCHEMA:l.SCHEMA});let E=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}.${l.OBJNAME}`:`${l.DBNAME}..${l.OBJNAME}`;u.idMap.set(E,l.OBJID)}for(let[l,c]of a)this.storage.setTables(e,l,c.tables,c.idMap);console.log(`[CachePrefetcher] Prefetched tables for ${a.size} schema(s) on ${e}`)}catch(i){console.error("[CachePrefetcher] Error in prefetchAllObjects:",i)}}}hasAllObjectsPrefetchTriggered(e){return this.allObjectsPrefetchTriggeredSet.has(`ALL_OBJECTS|${e}`)}hasConnectionPrefetchTriggered(e){return this.connectionPrefetchTriggered.has(e)}triggerConnectionPrefetch(e,r){this.connectionPrefetchTriggered.has(e)||this.connectionPrefetchInProgress.has(e)||(this.connectionPrefetchInProgress.add(e),console.log(`[CachePrefetcher] Starting eager prefetch for connection: ${e}`),this.executeConnectionPrefetch(e,r).catch(n=>console.error("[CachePrefetcher] Connection prefetch error:",n)).finally(()=>{this.connectionPrefetchInProgress.delete(e),this.connectionPrefetchTriggered.add(e),console.log(`[CachePrefetcher] Completed eager prefetch for connection: ${e}`)}))}async executeConnectionPrefetch(e,r){let n=await this.prefetchDatabases(e,r);if(!(!n||n.length===0)){for(let i of n)await this.prefetchSchemasForDb(e,i,r),await new Promise(s=>setTimeout(s,50));await this.prefetchAllTablesAndViews(e,r),await this.prefetchAllColumnsForConnection(e,r)}}async prefetchDatabases(e,r){if(this.storage.getDatabases(e))return this.storage.getDatabases(e)?.map(i=>In(i)).filter(Boolean)||[];try{let i=await r("SELECT DATABASE FROM system.._v_database ORDER BY DATABASE");if(!i)return[];let s=JSON.parse(i),o=s.map(a=>({DATABASE:a.DATABASE,label:a.DATABASE,kind:9,detail:"Database"}));return this.storage.setDatabases(e,o),s.map(a=>a.DATABASE)}catch(n){return console.error("[CachePrefetcher] prefetchDatabases error:",n),[]}}async prefetchSchemasForDb(e,r,n){if(!this.storage.getSchemas(e,r))try{let i=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,s=await n(i);if(!s)return;let a=JSON.parse(s).filter(l=>l.SCHEMA!=null&&l.SCHEMA!=="").map(l=>({SCHEMA:l.SCHEMA,label:l.SCHEMA,kind:19,detail:`Schema in ${r}`,insertText:l.SCHEMA,sortText:l.SCHEMA,filterText:l.SCHEMA}));this.storage.setSchemas(e,r,a)}catch(i){console.error(`[CachePrefetcher] prefetchSchemasForDb error for ${r}:`,i)}}async prefetchAllTablesAndViews(e,r){try{let i=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!i)return;let s=JSON.parse(i),o=new Map;for(let a of s){let l=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}`:`${a.DBNAME}..`;o.has(l)||o.set(l,{tables:[],idMap:new Map});let c=o.get(l);c.tables.push({OBJNAME:a.OBJNAME,label:a.OBJNAME,kind:a.OBJTYPE==="VIEW"?18:6,detail:a.SCHEMA?a.OBJTYPE:`${a.OBJTYPE} (${a.SCHEMA})`,objType:a.OBJTYPE});let u=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}.${a.OBJNAME}`:`${a.DBNAME}..${a.OBJNAME}`;c.idMap.set(u,a.OBJID)}for(let[a,l]of o)this.storage.getTables(e,a)||this.storage.setTables(e,a,l.tables,l.idMap);console.log(`[CachePrefetcher] Prefetched tables/views for ${o.size} schema(s)`)}catch(n){console.error("[CachePrefetcher] prefetchAllTablesAndViews error:",n)}}async prefetchAllColumnsForConnection(e,r){try{let n=`${e}|`,i=[];for(let[a,l]of this.storage.tableCache){if(!a.startsWith(n))continue;let c=a.split("|");if(c.length<2)continue;let E=c[1].split("."),d=E[0],f=E.length>1?E[1]:"";for(let T of l.data){let h=In(T);h&&i.push({schema:f,name:h,db:d})}}if(i.length===0)return;let s=50,o=0;for(let a=0;a<i.length;a+=s){let l=i.slice(a,a+s),c=new Map;for(let u of l)c.has(u.db)||c.set(u.db,[]),c.get(u.db).push(u);for(let[u,E]of c){let d=E.map(T=>`(UPPER(O.SCHEMA) = UPPER('${T.schema}') AND UPPER(O.OBJNAME) = UPPER('${T.name}'))`).join(" OR "),f=`
                        SELECT O.OBJNAME AS TABLENAME, O.SCHEMA, O.DBNAME, 
                               C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                        FROM ${u}.._V_RELATION_COLUMN C
                        JOIN ${u}.._V_OBJECT_DATA O ON C.OBJID = O.OBJID
                        WHERE O.DBNAME = '${u}' 
                        AND (${d})
                        ORDER BY O.SCHEMA, O.OBJNAME, C.ATTNUM
                    `;try{let T=await r(f);if(T){let h=JSON.parse(T),S=new Map;for(let p of h){let I=`${p.DBNAME}.${p.SCHEMA||""}.${p.TABLENAME}`;S.has(I)||S.set(I,[]),S.get(I).push({ATTNAME:p.ATTNAME,FORMAT_TYPE:p.FORMAT_TYPE,label:p.ATTNAME,kind:5,detail:p.FORMAT_TYPE})}for(let[p,I]of S)this.storage.getColumns(e,p)||(this.storage.setColumns(e,p,I),o++)}}catch(T){console.error(`[CachePrefetcher] Error fetching batch columns for DB ${u}:`,T)}}await new Promise(u=>setTimeout(u,10))}console.log(`[CachePrefetcher] Prefetched columns for ${o} tables/views (Batched)`)}catch(n){console.error("[CachePrefetcher] prefetchAllColumnsForConnection error:",n)}}};function Ry(t,e,r){let n=[],i=e.toLowerCase();for(let[s,o]of t.tableCache){if(!pR(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],E=c.length>1?c[1]:void 0;for(let d of o.data){let f=In(d);if(f&&f.toLowerCase().includes(i)){let T=d.objType||(d.kind===18?"VIEW":"TABLE");n.push({name:f,type:T,database:u,schema:E||(d.detail&&d.detail.includes("(")?d.detail.match(/\((.*?)\)/)?.[1]:void 0)})}}}for(let[s,o]of t.columnCache){if(!pR(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],E=c[1],d=c[2];for(let f of o.data){let T=In(f);T&&T.toLowerCase().includes(i)&&n.push({name:T,type:"COLUMN",database:u,schema:E,parent:d})}}return n}var $f=class{constructor(e){this.storage=new Gf,this.persistence=new Hf(e,this.storage),this.prefetcher=new Yf(this.storage),this.storage.setOnDataChange(r=>{this.persistence.scheduleSave(r)})}async initialize(){return this.persistence.initialize()}scheduleSave(e){this.persistence.scheduleSave(e)}async flushSave(){return this.persistence.flushSave()}async clearCache(){return this.persistence.clearCache()}getDatabases(e){return this.storage.getDatabases(e)}setDatabases(e,r){this.storage.setDatabases(e,r)}getSchemas(e,r){return this.storage.getSchemas(e,r)}setSchemas(e,r,n){this.storage.setSchemas(e,r,n)}getTables(e,r){return this.storage.getTables(e,r)}getTablesAllSchemas(e,r){return this.storage.getTablesAllSchemas(e,r)}setTables(e,r,n,i){this.storage.setTables(e,r,n,i)}getObjectsWithSchema(e,r){return this.storage.getObjectsWithSchema(e,r)}getColumns(e,r){return this.storage.getColumns(e,r)}setColumns(e,r,n){this.storage.setColumns(e,r,n)}findTableId(e,r){return this.storage.findTableId(e,r)}getTypeGroups(e,r){return this.storage.getTypeGroups(e,r)}setTypeGroups(e,r,n){this.storage.setTypeGroups(e,r,n)}findObjectWithType(e,r,n,i){return this.storage.findObjectWithType(e,r,n,i)}invalidateSchema(e,r,n){this.storage.invalidateSchema(e,r,n)}search(e,r){return Ry(this.storage,e,r)}async prefetchColumnsForSchema(e,r,n,i){return this.prefetcher.prefetchColumnsForSchema(e,r,n,i)}async prefetchAllObjects(e,r){return this.prefetcher.prefetchAllObjects(e,r)}hasAllObjectsPrefetchTriggered(e){return this.prefetcher.hasAllObjectsPrefetchTriggered(e)}hasConnectionPrefetchTriggered(e){return this.prefetcher.hasConnectionPrefetchTriggered(e)}triggerConnectionPrefetch(e,r){this.prefetcher.triggerConnectionPrefetch(e,r)}get schemaCache(){return this.storage.schemaCache}get tableCache(){return this.storage.tableCache}get columnCache(){return this.storage.columnCache}get tableIdMap(){return this.storage.tableIdMap}get typeGroupCache(){return this.storage.typeGroupCache}};var Vr=Q(require("vscode"));var ir=Q(require("vscode"));function Ay(t){switch(t){case"error":return ir.DiagnosticSeverity.Error;case"warning":return ir.DiagnosticSeverity.Warning;case"information":return ir.DiagnosticSeverity.Information;case"hint":return ir.DiagnosticSeverity.Hint;case"off":return null;default:return ir.DiagnosticSeverity.Warning}}function AR(t,e){let r=!1,n=!1,i=!1,s=!1;for(let o=0;o<e&&o<t.length;o++){let a=t[o],l=o+1<t.length?t[o+1]:"";i?a===`
`&&(i=!1):s?a==="*"&&l==="/"&&(s=!1,o++):r?a==="'"&&t[o-1]!=="\\"&&(r=!1):n?a==='"'&&t[o-1]!=="\\"&&(n=!1):a==="-"&&l==="-"?i=!0:a==="/"&&l==="*"?s=!0:a==="'"?r=!0:a==='"'&&(n=!0)}return r||n||i||s}function sn(t,e){let r=[],n,i=new RegExp(e.source,e.flags.includes("g")?e.flags:e.flags+"g");for(;(n=i.exec(t))!==null;)AR(t,n.index)||r.push(n);return r}var Sj={id:"NZ001",name:"Select Star",description:"Avoid using SELECT * - specify explicit column names for better performance and maintainability",defaultSeverity:ir.DiagnosticSeverity.Warning,check(t){let e=[],n=sn(t,/\bSELECT\s+\*/gi);for(let i of n){let s=i[0].indexOf("*");e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index+s,endOffset:i.index+s+1})}return e}},pj={id:"NZ002",name:"Delete Without Where",description:"DELETE statement without WHERE clause will delete all rows",defaultSeverity:ir.DiagnosticSeverity.Error,check(t){let e=[],n=sn(t,/\bDELETE\s+FROM\s+[\w."]+/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},Rj={id:"NZ003",name:"Update Without Where",description:"UPDATE statement without WHERE clause will update all rows",defaultSeverity:ir.DiagnosticSeverity.Error,check(t){let e=[],n=sn(t,/\bUPDATE\s+[\w."]+\s+SET\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},Aj={id:"NZ004",name:"Cross Join",description:"CROSS JOIN produces a Cartesian product - verify this is intentional",defaultSeverity:ir.DiagnosticSeverity.Warning,check(t){let e=[],n=sn(t,/\bCROSS\s+JOIN\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},_j={id:"NZ005",name:"Leading Wildcard Like",description:"LIKE pattern with leading wildcard ('%...') prevents index usage",defaultSeverity:ir.DiagnosticSeverity.Hint,check(t){let e=[],n=sn(t,/\bLIKE\s+'%/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},Ij={id:"NZ006",name:"Order By Without Limit",description:"ORDER BY without LIMIT/FETCH may cause performance issues on large datasets",defaultSeverity:ir.DiagnosticSeverity.Information,check(t){let e=[],n=sn(t,/\bORDER\s+BY\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;if(!/\b(LIMIT|FETCH|TOP)\b/i.test(a)){let l=t.substring(0,i.index);/\bTOP\s+\d+\b/i.test(l)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}}return e}},Nj={id:"NZ007",name:"Inconsistent Keyword Case",description:"SQL keywords have inconsistent casing - consider using consistent UPPER or lower case",defaultSeverity:ir.DiagnosticSeverity.Warning,check(t){let e=[],r=["SELECT","FROM","WHERE","JOIN","LEFT","RIGHT","INNER","OUTER","ON","AND","OR","INSERT","INTO","UPDATE","DELETE","CREATE","DROP","ALTER","TABLE","VIEW","INDEX","ORDER","BY","GROUP","HAVING","UNION","ALL","DISTINCT","AS","SET","VALUES","NULL","NOT","IN","BETWEEN","LIKE","IS","EXISTS","CASE","WHEN","THEN","ELSE","END","LIMIT","OFFSET"],n=0,i=0,s=[],o=new Set;for(let c of r){let u=new RegExp(`\\b${c}\\b`,"gi"),E=sn(t,u);for(let d of E){if(o.has(d.index))continue;o.add(d.index);let f=d[0],T;f===f.toUpperCase()?(n++,T="UPPER"):f===f.toLowerCase()?(i++,T="lower"):T="Mixed",s.push({keyword:f,index:d.index,type:T})}}let a=n>=i,l=a?"UPPER":"lower";for(let c of s)c.type==="Mixed"?e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' has mixed casing (expected ${a?"UPPERCASE":"lowercase"})`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length}):c.type!==l&&e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' should be ${a?"UPPERCASE":"lowercase"}`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length});return e}},Oj={id:"NZ008",name:"Truncate Table",description:"TRUNCATE removes all data and cannot be rolled back - use with caution",defaultSeverity:ir.DiagnosticSeverity.Warning,check(t){let e=[],n=sn(t,/\bTRUNCATE\s+(TABLE\s+)?[\w."]+/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+8});return e}},mj={id:"NZ009",name:"Or In Where Clause",description:"Multiple OR conditions may prevent index usage - consider UNION for better performance",defaultSeverity:ir.DiagnosticSeverity.Hint,check(t){let e=[],n=sn(t,/\bWHERE\b/gi);for(let i of n){let s=t.substring(i.index),o=s.search(/\b(GROUP\s+BY|ORDER\s+BY|HAVING|LIMIT|UNION|;)/i),a=o>=0?s.substring(0,o):s,l=sn(a,/\bOR\b/gi);if(l.length>=2){let c=l[0];e.push({ruleId:this.id,message:`${this.id}: ${this.description} (${l.length} OR conditions found)`,severity:this.defaultSeverity,startOffset:i.index+c.index,endOffset:i.index+c.index+2})}}return e}},gj={id:"NZ010",name:"Missing Table Alias",description:"Consider using table aliases in JOINs for better readability",defaultSeverity:ir.DiagnosticSeverity.Information,check(t){let e=[],n=sn(t,/\bJOIN\s+([\w."]+)\s+ON\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: Table '${i[1]}' in JOIN has no alias - ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},Cj={id:"NZ011",name:"CTAS Missing Distribution",description:"CREATE TABLE AS SELECT should specify explicit data distribution",defaultSeverity:ir.DiagnosticSeverity.Warning,check(t){let e=[],n=sn(t,/\bCREATE\s+TABLE\s+(?:(?:IF\s+NOT\s+EXISTS\s+)?[\w."]+\s+)?AS\s+(?:\(\s*)?SELECT\b/gi);for(let i of n){let s=t.length;for(let u=i.index;u<t.length;u++)if(t[u]===";"&&!AR(t,u)){s=u;break}let o=t.substring(i.index,s),l=/\bDISTRIBUTE\s+ON\b/i.exec(o),c=!1;l&&(AR(t,i.index+l.index)||(c=!0)),c||e.push({ruleId:this.id,message:`${this.id}: ${this.description} - Add 'DISTRIBUTE ON (...)' or 'DISTRIBUTE ON RANDOM'`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}return e}},_y=[Sj,pj,Rj,Aj,_j,Ij,Nj,Oj,mj,gj,Cj];var IR=class{constructor(){this.disposables=[];this.diagnosticCollection=Vr.languages.createDiagnosticCollection("netezza-sql-linter")}activate(e){e.subscriptions.push(this.diagnosticCollection),this.disposables.push(Vr.workspace.onDidOpenTextDocument(r=>{this.shouldLint(r)&&this.lintDocument(r)})),this.disposables.push(Vr.workspace.onDidChangeTextDocument(r=>{this.shouldLint(r.document)&&this.lintDocument(r.document)})),this.disposables.push(Vr.workspace.onDidCloseTextDocument(r=>{this.diagnosticCollection.delete(r.uri)})),this.disposables.push(Vr.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("netezza.linter")&&this.lintAllOpenDocuments()})),e.subscriptions.push(...this.disposables),this.lintAllOpenDocuments()}shouldLint(e){return e.languageId==="sql"}getConfig(){let e=Vr.workspace.getConfiguration("netezza.linter");return{enabled:e.get("enabled",!0),rules:e.get("rules",{})}}lintAllOpenDocuments(){for(let e of Vr.workspace.textDocuments)this.shouldLint(e)&&this.lintDocument(e)}lintDocument(e){let r=this.getConfig();if(!r.enabled){this.diagnosticCollection.delete(e.uri);return}let n=e.getText(),i=this.lintSql(n,r.rules),s=this.issuesToDiagnostics(e,i);this.diagnosticCollection.set(e.uri,s)}lintSql(e,r={}){let n=[];for(let i of _y){let s=r[i.id],o=s!==void 0?Ay(s):i.defaultSeverity;if(o===null)continue;let a=i.check(e);for(let l of a)n.push({...l,severity:o})}return n}issuesToDiagnostics(e,r){return r.map(n=>{let i=e.positionAt(n.startOffset),s=e.positionAt(n.endOffset),o=new Vr.Range(i,s),a=new Vr.Diagnostic(o,n.message,n.severity);return a.source="Netezza SQL Linter",a.code=n.ruleId,a})}dispose(){this.diagnosticCollection.dispose();for(let e of this.disposables)e.dispose()}},_R;function bj(){return _R||(_R=new IR),_R}function Iy(t){let e=bj();return e.activate(t),e}var eo=Q(require("vscode"));Zs();var Pc=class{static{this.providedCodeActionKinds=[eo.CodeActionKind.QuickFix]}provideCodeActions(e,r,n,i){let s=[];for(let o of n.diagnostics)if(o.code==="NZ011"){let a=this.createDistributeOnRandomFix(e,o);a&&s.push(a)}return s}createDistributeOnRandomFix(e,r){let n=new eo.CodeAction("Add DISTRIBUTE ON RANDOM",eo.CodeActionKind.QuickFix);n.diagnostics=[r],n.isPreferred=!0;let i=e.offsetAt(r.range.start),s=e.getText(),o=wr.getStatementAtPosition(s,i);if(o)return n.edit=new eo.WorkspaceEdit,n.edit.insert(e.uri,e.positionAt(o.end)," DISTRIBUTE ON RANDOM"),n}};var Mc=Q(require("vscode"));function Wr(t){return`${t.dbName}.${t.schema}.${t.label}`}async function Hn(t,e){return await t.getConnection(e||t.getActiveConnectionName()||"")?!0:(Mc.window.showErrorMessage("No database connection"),!1)}async function sr(t,e){return Mc.window.withProgress({location:Mc.ProgressLocation.Notification,title:t,cancellable:!1},e)}function NR(t){return t.replace(/'/g,"''")}function mR(t){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t.trim())}var or=Q(require("vscode"));Rr();function Ny(t){let{context:e,connectionManager:r,schemaProvider:n}=t;return[or.commands.registerCommand("netezza.copySelectAll",async i=>{if(i&&i.label&&i.dbName&&i.schema){let s=`SELECT * FROM ${i.dbName}.${i.schema}.${i.label} LIMIT 1000;`,o=await or.window.showQuickPick([{label:"Open in Editor",description:"Open SQL in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy SQL to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the SQL?"});if(o)if(o.value==="editor"){let a=await or.workspace.openTextDocument({content:s,language:"sql"});await or.window.showTextDocument(a)}else await or.env.clipboard.writeText(s),or.window.showInformationMessage("Copied to clipboard")}}),or.commands.registerCommand("netezza.copyDrop",async i=>{if(i&&i.label&&i.dbName&&i.schema&&i.objType){let s=Wr(i),o=`DROP ${i.objType} ${s};`;if(await or.window.showWarningMessage(`Are you sure you want to delete ${i.objType.toLowerCase()} "${s}"?`,{modal:!0},"Yes, delete","Cancel")==="Yes, delete")try{await sr(`Deleting ${i.objType.toLowerCase()} ${s}...`,async()=>{await X(e,o,!0,i.connectionName,r)}),or.window.showInformationMessage(`Deleted ${i.objType.toLowerCase()}: ${s}`),n.refresh()}catch(l){let c=l instanceof Error?l.message:String(l);or.window.showErrorMessage(`Error during deletion: ${c}`)}}}),or.commands.registerCommand("netezza.copyName",i=>{if(i&&i.label&&i.dbName&&i.schema){let s=Wr(i);or.env.clipboard.writeText(s),or.window.showInformationMessage("Copied to clipboard")}})]}var Fe=Q(require("vscode"));Rr();function Oy(t){let{context:e,connectionManager:r,metadataCache:n,schemaProvider:i}=t;return[Fe.commands.registerCommand("netezza.grantPermissions",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType){let o=Wr(s),a=await Fe.window.showQuickPick([{label:"SELECT",description:"Privileges to read data"},{label:"INSERT",description:"Privileges to insert data"},{label:"UPDATE",description:"Privileges to update data"},{label:"DELETE",description:"Privileges to delete data"},{label:"ALL",description:"All privileges (SELECT, INSERT, UPDATE, DELETE)"},{label:"LIST",description:"Privileges to list objects"}],{placeHolder:"Select privilege type"});if(!a)return;let l=await Fe.window.showInputBox({prompt:"Enter user or group name",placeHolder:"e.g. SOME_USER or GROUP_NAME",validateInput:E=>!E||E.trim().length===0?"User/group name cannot be empty":mR(E)?null:"Invalid user/group name"});if(!l)return;let c=`GRANT ${a.label} ON ${o} TO ${l.trim().toUpperCase()};`;if(await Fe.window.showInformationMessage(`Execute: ${c}`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute"){if(!await Hn(r))return;try{await sr(`Granting ${a.label} on ${o}...`,async()=>{await X(e,c,!0,s.connectionName,r)}),Fe.window.showInformationMessage(`Granted ${a.label} on ${o} to ${l.trim().toUpperCase()}`)}catch(E){let d=E instanceof Error?E.message:String(E);Fe.window.showErrorMessage(`Error granting privileges: ${d}`)}}}}),Fe.commands.registerCommand("netezza.addTableComment",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Wr(s),a=await Fe.window.showInputBox({prompt:"Enter comment for table",placeHolder:"e.g. Table contains customer data",value:s.objectDescription||""});if(a===void 0)return;let l=`COMMENT ON TABLE ${o} IS '${NR(a)}';`;try{if(!await Hn(r))return;await X(e,l,!0,s.connectionName,r),Fe.window.showInformationMessage(`Comment added to table: ${o}`),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);Fe.window.showErrorMessage(`Error adding comment: ${u}`)}}}),Fe.commands.registerCommand("netezza.addColumnComment",async s=>{if(s&&s.label&&s.dbName&&s.parentName){let o=s.label.split(" ")[0],a=s.parentName,l=s.schema||"ADMIN",c=`${s.dbName}.${l}.${a}.${o}`,u=await Fe.window.showInputBox({prompt:`Enter comment for column "${o}"`,placeHolder:"e.g. Customer ID from CRM",value:s.objectDescription||""});if(u===void 0)return;let E=`COMMENT ON COLUMN ${c} IS '${NR(u)}';`;try{if(!await Hn(r))return;await X(e,E,!0,s.connectionName,r),Fe.window.showInformationMessage(`Comment added to column: ${o}`),i.refresh()}catch(d){let f=d instanceof Error?d.message:String(d);Fe.window.showErrorMessage(`Error adding comment: ${f}`)}}}),Fe.commands.registerCommand("netezza.truncateTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Wr(s),a=`TRUNCATE TABLE ${o};`;if(await Fe.window.showWarningMessage(`\u26A0\uFE0F WARNING: Are you sure you want to delete ALL data from the table "${o}"?

${a}

This operation is IRREVERSIBLE!`,{modal:!0},"Yes, delete all data","Cancel")==="Yes, delete all data"){if(!await Hn(r))return;try{await sr(`Clearing table ${o}...`,async()=>{await X(e,a,!0,s.connectionName,r)}),Fe.window.showInformationMessage(`Table cleared: ${o}`)}catch(c){let u=c instanceof Error?c.message:String(c);Fe.window.showErrorMessage(`Error clearing table: ${u}`)}}}}),Fe.commands.registerCommand("netezza.addPrimaryKey",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Wr(s),a=await Fe.window.showInputBox({prompt:"Enter primary key constraint name",placeHolder:`e.g. PK_${s.label}`,value:`PK_${s.label}`,validateInput:d=>!d||d.trim().length===0?"Constraint name cannot be empty":mR(d)?null:"Invalid constraint name"});if(!a)return;let l=await Fe.window.showInputBox({prompt:"Enter primary key column names (comma separated)",placeHolder:"e.g. COL1, COL2 or ID",validateInput:d=>!d||d.trim().length===0?"You must provide at least one column":null});if(!l)return;let c=l.split(",").map(d=>d.trim().toUpperCase()).join(", "),u=`ALTER TABLE ${o} ADD CONSTRAINT ${a.trim().toUpperCase()} PRIMARY KEY (${c});`;if(await Fe.window.showInformationMessage(`Add primary key to table "${o}"?

${u}`,{modal:!0},"Yes, add","Cancel")==="Yes, add"){if(!await Hn(r))return;try{await sr(`Adding primary key to ${o}...`,async()=>{await X(e,u,!0,s.connectionName,r)}),Fe.window.showInformationMessage(`Primary key added: ${a.trim().toUpperCase()}`),i.refresh()}catch(d){let f=d instanceof Error?d.message:String(d);Fe.window.showErrorMessage(`Error adding primary key: ${f}`)}}}}),Fe.commands.registerCommand("netezza.changeOwner",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Wr(s),a=await Fe.window.showInputBox({prompt:"Enter new owner name",placeHolder:"e.g. USER_NAME or GROUP_NAME"});if(!a)return;let l=`ALTER TABLE ${o} OWNER TO ${a.trim()};`;try{if(!await Hn(r))return;await X(e,l,!0,s.connectionName,r),Fe.window.showInformationMessage(`Owner changed to ${a} for ${o}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);Fe.window.showErrorMessage(`Error changing owner: ${u}`)}}}),Fe.commands.registerCommand("netezza.renameTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Wr(s),a=await Fe.window.showInputBox({prompt:"Enter new table name",placeHolder:"NewTableName",value:s.label});if(!a||a===s.label)return;let l=`ALTER TABLE ${o} RENAME TO ${a.trim()};`;try{if(!await Hn(r))return;await X(e,l,!0,s.connectionName,r),Fe.window.showInformationMessage(`Table renamed to ${a}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);Fe.window.showErrorMessage(`Error renaming table: ${u}`)}}})]}var ze=Q(require("vscode"));Rr();function Py(t){let{context:e,connectionManager:r}=t;return[ze.commands.registerCommand("netezza.groomTable",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=Wr(n),s=await ze.window.showQuickPick([{label:"RECORDS ALL",description:"Groom all records (reclaim space from deleted rows)"},{label:"RECORDS READY",description:"Groom only ready records"},{label:"PAGES ALL",description:"Groom all pages (reorganize data pages)"},{label:"PAGES START",description:"Groom pages from start"},{label:"VERSIONS",description:"Groom versions (clean up old row versions)"}],{placeHolder:"Select GROOM mode"});if(!s)return;let o=await ze.window.showQuickPick([{label:"DEFAULT",description:"Use default backupset",value:"DEFAULT"},{label:"NONE",description:"No backupset",value:"NONE"},{label:"Custom",description:"Specify custom backupset ID",value:"CUSTOM"}],{placeHolder:"Select RECLAIM BACKUPSET option"});if(!o)return;let a=o.value;if(o.value==="CUSTOM"){let u=await ze.window.showInputBox({prompt:"Enter backupset ID",placeHolder:"e.g. 12345",validateInput:E=>!E||E.trim().length===0?"Backupset ID cannot be empty":/^\d+$/.test(E.trim())?null:"Backupset ID must be a number"});if(!u)return;a=u.trim()}let l=`GROOM TABLE ${i} ${s.label} RECLAIM BACKUPSET ${a};`;if(await ze.window.showWarningMessage(`Execute GROOM on table "${i}"?

${l}

Warning: This operation may be time-consuming for large tables.`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{let u=Date.now();await sr(`GROOM TABLE ${i} (${s.label})...`,async()=>{await X(e,l,!0,n.connectionName,r)});let E=((Date.now()-u)/1e3).toFixed(1);ze.window.showInformationMessage(`GROOM completed successfully (${E}s): ${i}`)}catch(u){let E=u instanceof Error?u.message:String(u);ze.window.showErrorMessage(`Error during GROOM: ${E}`)}}}),ze.commands.registerCommand("netezza.generateStatistics",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=Wr(n),s=`GENERATE EXPRESS STATISTICS ON ${i};`;if(await ze.window.showInformationMessage(`Generate statistics for table "${i}"?

${s}`,{modal:!0},"Yes, generate","Cancel")==="Yes, generate")try{let a=Date.now();await sr(`Generating statistics for ${i}...`,async()=>{await X(e,s,!0,n.connectionName,r)});let l=((Date.now()-a)/1e3).toFixed(1);ze.window.showInformationMessage(`Statistics generated successfully (${l}s): ${i}`)}catch(a){let l=a instanceof Error?a.message:String(a);ze.window.showErrorMessage(`Error generating statistics: ${l}`)}}}),ze.commands.registerCommand("netezza.checkSkew",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=Wr(n),s=`SELECT datasliceid, count(*) as row_count FROM ${i} GROUP BY 1 ORDER BY 1;`;if(await ze.window.showInformationMessage(`Check skew for "${i}"?

This will run: ${s}

Note: This may be slow on very large tables.`,{modal:!0},"Yes, check skew","Cancel")==="Yes, check skew"){let a=await ze.workspace.openTextDocument({content:`-- Check Skew for ${i}
${s}`,language:"sql"});await ze.window.showTextDocument(a),ze.commands.executeCommand("netezza.runQuery")}}}),ze.commands.registerCommand("netezza.recreateTable",async n=>{if(!n||!n.label||!n.dbName||!n.schema||!n.objType||n.objType!=="TABLE"){ze.window.showErrorMessage("Invalid object selected for Recreate Table");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){ze.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=await ze.window.showInputBox({prompt:"Enter temporary table name (Optional)",placeHolder:"Leave empty to auto-generate timestamped name",value:""});if(s!==void 0)try{await sr(`Generating Recreate Script for ${n.label}...`,async()=>{let{generateRecreateTableScript:o}=await Promise.resolve().then(()=>(Dy(),wy)),a=await o(i,n.dbName,n.schema,n.label,s||void 0);if(a.success&&a.sqlScript){let l=await ze.workspace.openTextDocument({content:a.sqlScript,language:"sql"});await ze.window.showTextDocument(l),ze.window.showInformationMessage(`Recreate script generated for ${n.label}`)}else throw new Error(a.error||"Script generation failed")})}catch(o){let a=o instanceof Error?o.message:String(o);ze.window.showErrorMessage(`Error generating recreate script: ${a}`)}})]}var Ie=Q(require("vscode"));Rr();function vy(t){let{context:e,connectionManager:r}=t;return[Ie.commands.registerCommand("netezza.createDDL",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){Ie.window.showErrorMessage("Invalid object selected for DDL generation");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){Ie.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}await sr(`Generating DDL for ${n.objType} ${n.label}...`,async()=>{let{generateDDL:s}=await Promise.resolve().then(()=>(Uc(),bR)),o=await s(i,n.dbName,n.schema,n.label,n.objType);if(o.success&&o.ddlCode){let a=await Ie.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the DDL code?"});if(a)if(a.value==="editor"){let l=await Ie.workspace.openTextDocument({content:o.ddlCode,language:"sql"});await Ie.window.showTextDocument(l),Ie.window.showInformationMessage(`DDL code generated for ${n.objType} ${n.label}`)}else a.value==="clipboard"&&(await Ie.env.clipboard.writeText(o.ddlCode),Ie.window.showInformationMessage("DDL code copied to clipboard"))}else throw new Error(o.error||"DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);Ie.window.showErrorMessage(`Error generating DDL: ${s}`)}}),Ie.commands.registerCommand("netezza.compareSchema",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){Ie.window.showErrorMessage("Invalid object selected for comparison");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){Ie.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=n.objType,o=`${n.dbName}.${n.schema}.${n.label}`,a=[];if(await sr(`Loading ${s}s for comparison...`,async()=>{let c=s==="PROCEDURE"?"OBJTYPE = 'PROCEDURE'":s==="VIEW"?"OBJTYPE = 'VIEW'":"OBJTYPE = 'TABLE'",u=s==="PROCEDURE"?`SELECT DISTINCT SCHEMA, PROCEDURESIGNATURE AS OBJNAME FROM ${n.dbName}.._V_PROCEDURE WHERE DATABASE = '${n.dbName.toUpperCase()}' ORDER BY SCHEMA, PROCEDURESIGNATURE`:`SELECT SCHEMA, OBJNAME FROM ${n.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${n.dbName.toUpperCase()}' AND ${c} ORDER BY SCHEMA, OBJNAME`,E=await X(e,u,!0,n.connectionName,r);if(E&&!E.startsWith("Query executed successfully")){let d=JSON.parse(E);for(let f of d){let T=f.OBJNAME,h=f.SCHEMA;`${n.dbName}.${h}.${T}`.toUpperCase()!==o.toUpperCase()&&a.push({label:T,description:`${n.dbName}.${h}`,db:n.dbName,schema:h,name:T})}}}),a.length===0){Ie.window.showWarningMessage(`No other ${s}s found to compare with.`);return}let l=await Ie.window.showQuickPick(a,{placeHolder:`Select ${s} to compare with ${n.label}`,matchOnDescription:!0});if(!l)return;await sr(`Comparing ${n.label} with ${l.label}...`,async()=>{if(s==="PROCEDURE"){let{compareProcedures:c}=await Promise.resolve().then(()=>(LR(),yR)),{SchemaCompareView:u}=await Promise.resolve().then(()=>(PR(),DR)),E=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,E,"procedure")}else{let{compareTableStructures:c}=await Promise.resolve().then(()=>(LR(),yR)),{SchemaCompareView:u}=await Promise.resolve().then(()=>(PR(),DR)),E=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,E,"table")}}),Ie.window.showInformationMessage(`Comparison complete: ${n.label} \u2194 ${l.label}`)}catch(i){let s=i instanceof Error?i.message:String(i);Ie.window.showErrorMessage(`Error comparing objects: ${s}`)}}),Ie.commands.registerCommand("netezza.batchExportDDL",async n=>{try{if(!n||!n.contextValue){Ie.window.showErrorMessage("Invalid node selected for batch DDL export");return}let i=n.contextValue==="database",s=n.contextValue.startsWith("typeGroup:");if(!i&&!s){Ie.window.showErrorMessage("Batch DDL export is only available on database or object type nodes");return}let o=await r.getConnection(r.getActiveConnectionName()||"");if(!o){Ie.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let a=n.dbName||n.label,l=s?[n.objType||n.contextValue.replace("typeGroup:","")]:void 0;await sr(i?`Exporting all DDL for database ${a}...`:`Exporting ${l?.[0]} DDL for ${a}...`,async()=>{let{generateBatchDDL:c}=await Promise.resolve().then(()=>(Uc(),bR)),u=await c({connectionDetails:o,database:a,objectTypes:l});if(u.success&&u.ddlCode){let E=await Ie.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Save to File",description:"Save DDL code to a .sql file",value:"file"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:`${u.objectCount} objects found. How would you like to access the DDL code?`});if(E)if(E.value==="editor"){let d=await Ie.workspace.openTextDocument({content:u.ddlCode,language:"sql"});await Ie.window.showTextDocument(d),Ie.window.showInformationMessage(`DDL exported: ${u.objectCount} objects`)}else if(E.value==="file"){let d=i?`${a}_all_ddl.sql`:`${a}_${l?.[0]?.toLowerCase()||"objects"}_ddl.sql`,f=await Ie.window.showSaveDialog({defaultUri:Ie.Uri.file(d),filters:{"SQL Files":["sql"]}});f&&(await Ie.workspace.fs.writeFile(f,Buffer.from(u.ddlCode,"utf8")),Ie.window.showInformationMessage(`DDL saved to ${f.fsPath}`))}else E.value==="clipboard"&&(await Ie.env.clipboard.writeText(u.ddlCode),Ie.window.showInformationMessage(`DDL copied: ${u.objectCount} objects`));u.errors.length>0&&Ie.window.showWarningMessage(`Batch DDL completed with ${u.errors.length} error(s). Check the generated file for details.`)}else throw new Error(u.errors.join(", ")||"Batch DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);Ie.window.showErrorMessage(`Error exporting DDL: ${s}`)}})]}var qr=Q(require("vscode"));Rr();function Vy(t){let{context:e,connectionManager:r}=t;return[qr.commands.registerCommand("netezza.showERD",async n=>{try{if(!n||!n.contextValue||!n.contextValue.startsWith("typeGroup:")){qr.window.showErrorMessage("Please right-click on a TABLE type group to show ERD");return}let i=n.dbName||n.label,s=n.connectionName;if(!s){qr.window.showErrorMessage("No connection selected");return}let o=`SELECT DISTINCT SCHEMA FROM ${i}.._V_TABLE ORDER BY SCHEMA`,a=await X(e,o,!0,s,r);if(!a){qr.window.showErrorMessage("Could not retrieve schemas");return}let l=JSON.parse(a);if(l.length===0){qr.window.showWarningMessage("No tables found in this database");return}let c;if(l.length===1)c=l[0].SCHEMA;else{let d=l.map(T=>({label:T.SCHEMA,description:`${i}.${T.SCHEMA}`})),f=await qr.window.showQuickPick(d,{placeHolder:"Select schema to show ERD for"});if(!f)return;c=f.label}let u=0,E=0;await sr(`Building ERD for ${i}.${c}...`,async()=>{let{buildERDData:d}=await Promise.resolve().then(()=>(Gy(),Fy)),{ERDView:f}=await Promise.resolve().then(()=>(Wy(),Hy)),T=await d(e,r,s,i,c);u=T.tables.length,E=T.relationships.length,f.createOrShow(e.extensionUri,T)}),qr.window.showInformationMessage(`ERD generated: ${u} tables, ${E} relationships`)}catch(i){let s=i instanceof Error?i.message:String(i);qr.window.showErrorMessage(`Error generating ERD: ${s}`)}}),qr.commands.registerCommand("netezza.showSessionMonitor",async()=>{try{if(!await Hn(r)){qr.window.showErrorMessage("Please connect to a Netezza database first.");return}let{SessionMonitorView:n}=await Promise.resolve().then(()=>($y(),Yy));n.createOrShow(e.extensionUri,e,r)}catch(n){let i=n instanceof Error?n.message:String(n);qr.window.showErrorMessage(`Error opening Session Monitor: ${i}`)}})]}var At=Q(require("vscode"));Rr();function ky(t){let{context:e,connectionManager:r,metadataCache:n,schemaTreeView:i}=t;return[At.commands.registerCommand("netezza.revealInSchema",async s=>{let o=At.window.setStatusBarMessage(`$(loading~spin) Revealing ${s.name} in schema...`);try{let a,l=At.window.activeTextEditor;if(l&&l.document.languageId==="sql"&&(a=r.getConnectionForExecution(l.document.uri.toString())),a||(a=s.connectionName),a||(a=r.getActiveConnectionName()||void 0),!a){o.dispose(),At.window.showWarningMessage("No active connection. Please select a connection first.");return}let c=s.name,u=s.objType;if(u==="COLUMN"){if(!s.parent){o.dispose(),At.window.showWarningMessage("Cannot find column without parent table");return}c=s.parent}if(s.database){let f=n.findObjectWithType(a,s.database,s.schema,c);if(f){let T=new Xt(f.name,At.TreeItemCollapsibleState.Collapsed,`netezza:${f.objType}`,s.database,f.objType,f.schema||s.schema,f.objId,void 0,a);await i.reveal(T,{select:!0,focus:!0,expand:!0}),o.dispose(),At.window.setStatusBarMessage(`$(check) Found ${c} in ${s.database}.${f.schema||s.schema} (cached)`,3e3);return}else n.hasConnectionPrefetchTriggered(a)||n.triggerConnectionPrefetch(a,async T=>X(e,T,!0,a,r))}if(!await r.getConnection(a)){o.dispose(),At.window.showWarningMessage("Not connected to database and object not found in cache.");return}let d=s.database||await r.getCurrentDatabase(a);if(d){let f=u&&u!=="COLUMN"?`AND UPPER(OBJTYPE) = UPPER('${u}')`:"",T=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",h=`
                        SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                        FROM ${d}.._V_OBJECT_DATA 
                        WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                        AND DBNAME = '${d}'
                        ${f}
                        ${T}
                        LIMIT 1
                    `;try{let S=await X(e,h,!0,a,r);if(S){let p=[];if(S==="Query executed successfully (no results)."||S.startsWith("Query executed successfully")?p=[]:p=JSON.parse(S),p.length>0){let I=p[0];if(I.OBJTYPE==="PROCEDURE")try{let A=`SELECT PROCEDURESIGNATURE FROM ${d}.._V_PROCEDURE WHERE OBJID = ${I.OBJID}`,O=await X(e,A,!0,a,r);if(O){let L=JSON.parse(O);L.length>0&&L[0].PROCEDURESIGNATURE&&(I.OBJNAME=L[0].PROCEDURESIGNATURE)}}catch(A){console.warn("Failed to resolve procedure signature:",A)}let R=new Xt(I.OBJNAME,At.TreeItemCollapsibleState.Collapsed,`netezza:${I.OBJTYPE}`,d,I.OBJTYPE,I.SCHEMA,I.OBJID,void 0,a);await i.reveal(R,{select:!0,focus:!0,expand:!0}),o.dispose(),At.window.setStatusBarMessage(`$(check) Found ${c} in ${d}.${I.SCHEMA}`,3e3);return}}}catch(S){console.log(`Error searching in ${d}:`,S)}}if(!d){let f=await X(e,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,a,r);if(f){let T=JSON.parse(f);for(let h of T){let S=h.DATABASE;try{let p=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",I=`
                                    SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                                    FROM ${S}.._V_OBJECT_DATA 
                                    WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                                    AND DBNAME = '${S}'
                                    ${p}
                                    LIMIT 1
                                `,R=await X(e,I,!0,a,r);if(R){let A=[];if(R==="Query executed successfully (no results)."||R.startsWith("Query executed successfully")?A=[]:A=JSON.parse(R),A.length>0){let O=A[0];if(O.OBJTYPE==="PROCEDURE")try{let N=`SELECT PROCEDURESIGNATURE FROM ${S}.._V_PROCEDURE WHERE OBJID = ${O.OBJID}`,D=await X(e,N,!0,a,r);if(D){let y=JSON.parse(D);y.length>0&&y[0].PROCEDURESIGNATURE&&(O.OBJNAME=y[0].PROCEDURESIGNATURE)}}catch(N){console.warn("Failed to resolve procedure signature:",N)}let L=new Xt(O.OBJNAME,At.TreeItemCollapsibleState.Collapsed,`netezza:${O.OBJTYPE}`,S,O.OBJTYPE,O.SCHEMA,O.OBJID,void 0,a);await i.reveal(L,{select:!0,focus:!0,expand:!0}),o.dispose(),At.window.setStatusBarMessage(`$(check) Found ${c} in ${S}.${O.SCHEMA}`,3e3);return}}}catch(p){console.log(`Error searching in ${S}:`,p)}}}}o.dispose(),At.window.showWarningMessage(`Could not find ${u||"object"} ${c}`)}catch(a){o.dispose();let l=a instanceof Error?a.message:String(a);At.window.showErrorMessage(`Error revealing item: ${l}`)}}),At.commands.registerCommand("netezza.showQueryHistory",()=>{At.commands.executeCommand("netezza.queryHistory.focus")}),At.commands.registerCommand("netezza.clearQueryHistory",async()=>{let{QueryHistoryManager:s}=await Promise.resolve().then(()=>(gf(),ay)),o=new s(e);await At.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await o.clearHistory(),At.window.showInformationMessage("Query history cleared"))})]}function jf(t){return[...Ny(t),...Oy(t),...Py(t),...vy(t),...Vy(t),...ky(t)]}var Z=Q(require("vscode")),Jq=Q(require("path")),WS=Q(require("os"));function xE(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}function Qq(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[Z.commands.registerCommand("netezza.exportToXlsb",async()=>{let i=Z.window.activeTextEditor;if(!i){Z.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){Z.window.showWarningMessage("No SQL query to export");return}let a=await Z.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),E=await r.getConnection(u||"");if(!E)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:"Exporting to XLSB...",cancellable:!1},async d=>{let{exportQueryToXlsb:f}=await Promise.resolve().then(()=>(Ea(),ua)),T=await f(E,o,a.fsPath,!1,h=>{d.report({message:h}),n.appendLine(`[XLSB Export] ${h}`)});if(!T.success)throw new Error(T.message)}),xE(n,"Export to XLSB",l),Z.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);Z.window.showErrorMessage(`Error exporting to XLSB: ${u}`)}}),Z.commands.registerCommand("netezza.exportToCsv",async()=>{let i=Z.window.activeTextEditor;if(!i){Z.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){Z.window.showWarningMessage("No SQL query to export");return}let a=await Z.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export to CSV"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),E=await r.getConnection(u||"");if(!E)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:"Exporting to CSV...",cancellable:!1},async d=>{let{exportToCsv:f}=await Promise.resolve().then(()=>(jq(),zq));await f(e,E,o,a.fsPath,d)}),xE(n,"Export to CSV",l),Z.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);Z.window.showErrorMessage(`Error exporting to CSV: ${u}`)}}),Z.commands.registerCommand("netezza.copyXlsbToClipboard",async()=>{let i=Z.window.activeTextEditor;if(!i){Z.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){Z.window.showWarningMessage("No SQL query to export");return}try{let a=i.document.uri.toString(),l=r.getConnectionForExecution(a),c=await r.getConnection(l||"");if(!c)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let u=Date.now();if(await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:"Exporting to XLSB and copying to clipboard...",cancellable:!1},async d=>{let{exportQueryToXlsb:f,getTempFilePath:T}=await Promise.resolve().then(()=>(Ea(),ua)),h=T(),S=await f(c,o,h,!0,p=>{d.report({message:p}),n.appendLine(`[XLSB Clipboard] ${p}`)});if(!S.success)throw new Error(S.message);if(!S.details?.clipboard_success)throw new Error("Failed to copy file to clipboard")}),xE(n,"Copy XLSB to Clipboard",u),await Z.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let d=WS.tmpdir();await Z.env.openExternal(Z.Uri.file(d))}}catch(a){let l=a instanceof Error?a.message:String(a);Z.window.showErrorMessage(`Error copying XLSB to clipboard: ${l}`)}}),Z.commands.registerCommand("netezza.exportToXlsbAndOpen",async()=>{let i=Z.window.activeTextEditor;if(!i){Z.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){Z.window.showWarningMessage("No SQL query to export");return}let a=await Z.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB and Open"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),E=await r.getConnection(u||"");if(!E)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:"Exporting to XLSB and opening...",cancellable:!1},async d=>{let{exportQueryToXlsb:f}=await Promise.resolve().then(()=>(Ea(),ua)),T=await f(E,o,a.fsPath,!1,h=>{d.report({message:h}),n.appendLine(`[XLSB Export] ${h}`)});if(!T.success)throw new Error(T.message)}),xE(n,"Export to XLSB and Open",l),await Z.env.openExternal(a),Z.window.showInformationMessage(`Results exported and opened: ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);Z.window.showErrorMessage(`Error exporting to XLSB: ${u}`)}}),Z.commands.registerCommand("netezza.exportCurrentResultToXlsbAndOpen",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){Z.window.showErrorMessage("No data to export");return}let o=i;if(Array.isArray(i)&&i.length>1){let E=await Z.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!E)return;if(E==="Export Active Result Only"){let d=i.find(f=>f.isActive);d?o=[d]:o=[i[0]]}}let a=new Date().toISOString().replace(/[:.]/g,"-"),l=Jq.join(WS.tmpdir(),`netezza_results_${a}.xlsb`),c=Date.now();await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:"Creating Excel file...",cancellable:!1},async E=>{let{exportCsvToXlsb:d}=await Promise.resolve().then(()=>(Ea(),ua)),f=await d(o,l,!1,{source:"Query Results Panel",sql:s},T=>{E.report({message:T}),n.appendLine(`[CSV to XLSB] ${T}`)});if(!f.success)throw new Error(f.message)});let u=Date.now()-c;n.appendLine(`[${new Date().toLocaleTimeString()}] Export Current Result to Excel completed in ${u}ms`),await Z.env.openExternal(Z.Uri.file(l)),Z.window.showInformationMessage(`Results exported and opened: ${l}`)}catch(o){let a=o instanceof Error?o.message:String(o);Z.window.showErrorMessage(`Error exporting to Excel: ${a}`)}}),Z.commands.registerCommand("netezza.copyCurrentResultToXlsbClipboard",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){Z.window.showErrorMessage("No data to copy");return}let o=i;if(Array.isArray(i)&&i.length>1){let E=await Z.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!E)return;if(E==="Export Active Result Only"){let d=i.find(f=>f.isActive);d?o=[d]:o=[i[0]]}}let{getTempFilePath:a}=await Promise.resolve().then(()=>(Ea(),ua)),l=a(),c=Date.now();if(await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:"Copying to clipboard as Excel...",cancellable:!1},async E=>{let{exportCsvToXlsb:d}=await Promise.resolve().then(()=>(Ea(),ua)),f=await d(o,l,!0,{source:"Query Results Panel",sql:s},T=>{E.report({message:T}),n.appendLine(`[Clipboard XLSB] ${T}`)});if(!f.success)throw new Error(f.message)}),xE(n,"Copy Result as Excel",c),await Z.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let E=WS.tmpdir();await Z.env.openExternal(Z.Uri.file(E))}}catch(o){let a=o instanceof Error?o.message:String(o);Z.window.showErrorMessage(`Error copying to Excel: ${a}`)}})]}var Oe=Q(require("vscode")),S6=Q(require("path"));Rr();function h6(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}async function T6(t,e,r){try{let i=await X(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,e,r);if(i){let s=JSON.parse(i);if(s&&s.length>0){let o=s[0].CURRENT_CATALOG||"SYSTEM",a=s[0].CURRENT_SCHEMA||"ADMIN",c=new Date().toISOString().slice(0,10).replace(/-/g,""),u=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${o}.${a}.IMPORT_${c}_${u}`}}}catch(n){Oe.window.showErrorMessage(`Error getting current database/schema: ${n instanceof Error?n.message:String(n)}`)}return null}function p6(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[Oe.commands.registerCommand("netezza.importClipboard",async()=>{try{let s=Oe.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnection(o||"");if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await Oe.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:d=>!d||d.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(d.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(l===void 0)return;let c;if(!l||l.trim().length===0){let d=await T6(e,o,r);if(!d)return;c=d,Oe.window.showInformationMessage(`Auto-generated table name: ${c}`)}else c=l.trim();let u=await Oe.window.showQuickPick([{label:"Auto-detect",description:"Automatically detect clipboard format (text or Excel XML)",value:null},{label:"Excel XML Spreadsheet",description:"Force Excel XML format processing",value:"XML Spreadsheet"},{label:"Plain Text",description:"Force plain text processing with delimiter detection",value:"TEXT"}],{placeHolder:"Select clipboard data format"});if(!u)return;let E=Date.now();await Oe.window.withProgress({location:Oe.ProgressLocation.Notification,title:"Importing clipboard data...",cancellable:!1},async d=>{let{importClipboardDataToNetezza:f}=await Promise.resolve().then(()=>(d6(),f6)),T="",h=await f(c,a,u.value,{},(S,p,I=!0)=>{d.report({message:S,increment:p}),I&&S!==T&&(n.appendLine(`[Clipboard Import] ${S}`),T=S)});if(!h.success)throw new Error(h.message);h.details&&(n.appendLine(`[Clipboard Import] Rows processed: ${h.details.rowsProcessed}`),n.appendLine(`[Clipboard Import] Columns: ${h.details.columns}`),n.appendLine(`[Clipboard Import] Format: ${h.details.format}`))}),h6(n,"Import Clipboard Data",E),Oe.window.showInformationMessage(`Clipboard data imported successfully to table: ${c}`,"Copy Table Name").then(d=>{d==="Copy Table Name"&&(Oe.env.clipboard.writeText(c),Oe.window.showInformationMessage("Table name copied to clipboard"))})}catch(i){Oe.window.showErrorMessage(`Error importing clipboard data: ${i instanceof Error?i.message:String(i)}`)}}),Oe.commands.registerCommand("netezza.importData",async()=>{try{let s=Oe.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnection(o||"");if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await Oe.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Data Files":["csv","txt","xlsx","xlsb","json"],"CSV Files":["csv"],"Excel Files":["xlsx","xlsb"],"Text Files":["txt"],"JSON Files":["json"],"All Files":["*"]},openLabel:"Select file to import"});if(!l||l.length===0)return;let c=l[0].fsPath,u=await Oe.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:T=>!T||T.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(T.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(u===void 0)return;let E;if(!u||u.trim().length===0){let T=await T6(e,o,r);if(!T)return;E=T,Oe.window.showInformationMessage(`Auto-generated table name: ${E}`)}else E=u.trim();let d=await Oe.window.showQuickPick([{label:"Default Import",description:"Use default settings",value:{}},{label:"Custom Options",description:"Configure import settings (coming soon)",value:null}],{placeHolder:"Select import options"});if(!d)return;if(d.value===null){Oe.window.showInformationMessage("Custom options will be available in future version");return}let f=Date.now();await Oe.window.withProgress({location:Oe.ProgressLocation.Notification,title:"Importing data...",cancellable:!1},async T=>{let{importDataToNetezza:h}=await Promise.resolve().then(()=>(CC(),a6)),S="",p=await h(c,E,a,(I,R,A=!0)=>{T.report({message:I,increment:R}),A&&I!==S&&(n.appendLine(`[Import] ${I}`),S=I)});if(!p.success)throw new Error(p.message);p.details&&(n.appendLine(`[Import] Rows processed: ${p.details.rowsProcessed}`),n.appendLine(`[Import] Columns: ${p.details.columns}`),n.appendLine(`[Import] Delimiter: ${p.details.detectedDelimiter}`))}),h6(n,"Import Data",f),Oe.window.showInformationMessage(`Data imported successfully to table: ${E}`,"Copy Table Name").then(T=>{T==="Copy Table Name"&&(Oe.env.clipboard.writeText(E),Oe.window.showInformationMessage("Table name copied to clipboard"))})}catch(i){Oe.window.showErrorMessage(`Error importing data: ${i instanceof Error?i.message:String(i)}`)}}),Oe.commands.registerCommand("netezza.smartPaste",async()=>{try{let i=Oe.window.activeTextEditor;if(!i)return;let o=Oe.workspace.getConfiguration("netezza").get("pythonPath")||"python",a=S6.join(e.extensionPath,"python","check_clipboard_format.py"),l=require("child_process");if(await new Promise(u=>{let E=l.spawn(o,[a]);E.on("close",d=>{u(d===1)}),E.on("error",()=>{u(!1)})})){let u=await Oe.window.showQuickPick([{label:"\u{1F4CA} import to Netezza table",description:'Detected "XML Spreadsheet" format - import data to database',value:"import"},{label:"\u{1F4DD} Paste as text",description:"Paste clipboard content as plain text",value:"paste"}],{placeHolder:'Detected "XML Spreadsheet" format in clipboard - choose an action'});if(u?.value==="import")Oe.commands.executeCommand("netezza.importClipboard");else if(u?.value==="paste"){let E=await Oe.env.clipboard.readText(),d=i.selection;await i.edit(f=>{f.replace(d,E)})}}else{let u=await Oe.env.clipboard.readText(),E=i.selection;await i.edit(d=>{d.replace(E,u)})}}catch(i){Oe.window.showErrorMessage(`Error during paste: ${i instanceof Error?i.message:String(i)}`)}})]}var ce=Q(require("vscode"));Rr();Zs();function yC(t){return t&&(t.includes(" ")?`"${t.replace(/"/g,'\\"')}"`:t)}function ss(t,e,r){let i=/[ \\/]/.test(t)?`& ${yC(t)}`:t,s=yC(e),o=r.map(a=>yC(a)).join(" ");return`${i} ${s}${o?" "+o:""}`.trim()}function A4(t){let{context:e,connectionManager:r,resultPanelProvider:n}=t;return[ce.commands.registerCommand("netezza.runQuery",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.getText(),l=s.uri.toString(),c=[];if(o.isEmpty){let E=s.offsetAt(o.active),d=wr.getStatementAtPosition(a,E);if(d){c=[d.sql];let f=s.positionAt(d.start),T=s.positionAt(d.end);i.selection=new ce.Selection(f,T)}else{ce.window.showWarningMessage("No SQL statement found at cursor");return}}else{let E=s.getText(o);if(!E.trim()){ce.window.showWarningMessage("No SQL query selected");return}/^\s*CREATE\s+(OR\s+REPLACE\s+)?PROCEDURE\b/i.test(E)?c=[E]:c=wr.splitStatements(E)}if(c.length===0)return;let u=c.length===1?c[0].trim():null;if(u){let E=u.split(/\s+/),d=E[0]||"",f=/python(\.exe)?$/i.test(d)&&E.length>=2&&E[1].toLowerCase().endsWith(".py"),T=d.toLowerCase().endsWith(".py");if(f||T){let S=ce.workspace.getConfiguration("netezza").get("pythonPath")||"python",p="";if(f){let R=E[0],A=E[1],O=E.slice(2);p=ss(R,A,O)}else{let R=d,A=E.slice(1);p=ss(S,R,A)}let I=ce.window.createTerminal({name:"Netezza: Script"});I.show(!0),I.sendText(p,!0),ce.window.showInformationMessage(`Running script: ${p}`);return}}try{n.startExecution(l);let E=ce.workspace.getConfiguration("netezza"),d=E.get("enableStreaming",!1),f=E.get("streamingChunkSize",5e3);d?await dy(e,c,r,l,T=>n.log(l,T),(T,h,S)=>{n.appendStreamingChunk(l,T,h,S)},f):await yc(e,c,r,l,T=>n.log(l,T),T=>n.updateResults(T,l,!0)),n.finalizeExecution(l),ce.commands.executeCommand("netezza.results.focus")}catch(E){let d=E instanceof Error?E.message:String(E);n.finalizeExecution(l),n.log(l,`Error: ${d}`),ce.window.showErrorMessage(`Error executing query: ${d}`)}}),ce.commands.registerCommand("netezza.runQueryBatch",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.uri.toString(),l;if(o.isEmpty?l=s.getText():l=s.getText(o),!l.trim()){ce.window.showWarningMessage("No SQL query to execute");return}let u=l.trim().split(/\s+/),E=u[0]||"",d=/python(\.exe)?$/i.test(E)&&u.length>=2&&u[1].toLowerCase().endsWith(".py"),f=E.toLowerCase().endsWith(".py");if(d||f){let h=ce.workspace.getConfiguration("netezza").get("pythonPath")||"python",S="";if(d){let I=u[0],R=u[1],A=u.slice(2);S=ss(I,R,A)}else{let I=E,R=u.slice(1);S=ss(h,I,R)}let p=ce.window.createTerminal({name:"Netezza: Script"});p.show(!0),p.sendText(S,!0),ce.window.showInformationMessage(`Running script: ${S}`);return}try{n.startExecution(a),await yc(e,[l],r,a,T=>n.log(a,T),T=>n.updateResults(T,a,!0)),n.finalizeExecution(a),ce.commands.executeCommand("netezza.results.focus")}catch(T){let h=T instanceof Error?T.message:String(T);n.finalizeExecution(a),n.log(a,`Error: ${h}`),ce.window.showErrorMessage(`Error executing query: ${h}`)}}),ce.commands.registerCommand("netezza.explainQuery",async()=>{await R4(e,r,!1)}),ce.commands.registerCommand("netezza.explainQueryVerbose",async()=>{await R4(e,r,!0)}),ce.commands.registerCommand("netezza.formatSQL",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor");return}if(i.document.languageId!=="sql"&&i.document.languageId!=="mssql"){ce.window.showWarningMessage("Format SQL is only available for SQL files");return}let s=ce.workspace.getConfiguration("netezza"),o=s.get("formatSQL.tabWidth",4),a=s.get("formatSQL.keywordCase","upper"),l=i.selection,c=l.isEmpty?i.document.getText():i.document.getText(l);try{let{format:u}=await Promise.resolve().then(()=>(E4(),u4)),E="__NZ_DOUBLE_DOT__",d=c.replace(/\.\.(?=[a-zA-Z_])/g,`.${E}.`),T=u(d,{language:"sql",tabWidth:o,keywordCase:a,linesBetweenQueries:2}).replace(new RegExp(`\\.\\s*${E}\\s*\\.`,"g"),"..");await i.edit(h=>{if(l.isEmpty){let S=new ce.Range(i.document.positionAt(0),i.document.positionAt(i.document.getText().length));h.replace(S,T)}else h.replace(l,T)}),ce.window.showInformationMessage("SQL formatted successfully")}catch(u){let E=u instanceof Error?u.message:String(u);E.includes("Parse error")?ce.window.showErrorMessage("SQL formatting failed: The SQL contains syntax not supported by the formatter. Try selecting a simpler portion of the SQL to format."):ce.window.showErrorMessage(`Format SQL failed: ${E}`)}})]}async function R4(t,e,r){let n=ce.window.activeTextEditor;if(!n){ce.window.showErrorMessage("No active editor found");return}let i=n.document,s=n.selection,o;if(!s.isEmpty)o=i.getText(s);else{let c=n.selection.active,u=i.offsetAt(c),E=i.getText(),d=wr.getStatementAtPosition(E,u);d?o=E.substring(d.start,d.end):o=i.getText()}if(!o.trim()){ce.window.showWarningMessage("No SQL query to explain");return}let a=o.trim();a.toUpperCase().startsWith("EXPLAIN")&&(a=a.replace(/^EXPLAIN\s+(?:VERBOSE\s+)?/i,""));let l=r?`EXPLAIN VERBOSE ${a}`:`EXPLAIN ${a}`;try{let c=i.uri.toString(),u=e.getConnectionForExecution(c);if(!u){ce.window.showErrorMessage("No database connection. Please connect first.");return}await ce.window.withProgress({location:ce.ProgressLocation.Notification,title:"Generating query plan...",cancellable:!1},async()=>{let E=await fy(t,l,u,e,c);if(E&&E.trim()){let{parseExplainOutput:d,ExplainPlanView:f}=await Promise.resolve().then(()=>(p4(),S4)),T=d(E);f.createOrShow(t.extensionUri,T,a)}else ce.window.showWarningMessage("No explain output received")})}catch(c){let u=c instanceof Error?c.message:String(c);ce.window.showErrorMessage(`Error generating query plan: ${u}`)}}var ls=Q(require("vscode"));function x0(t,e){let r=e.getKeepConnectionOpen();t.text=r?"\u{1F517} Keep Connection ON":"\u26D3\uFE0F\u200D\u{1F4A5} Keep Connection OFF",t.tooltip=r?"Keep Connection Open: ENABLED - Click to disable":"Keep Connection Open: DISABLED - Click to enable",t.backgroundColor=r?new ls.ThemeColor("statusBarItem.prominentBackground"):void 0}function _4(t,e){let r=ls.window.createStatusBarItem(ls.StatusBarAlignment.Right,100);return r.command="netezza.toggleKeepConnectionOpen",x0(r,e),r.show(),t.subscriptions.push(r),r}function I4(t,e){let r=ls.window.createStatusBarItem(ls.StatusBarAlignment.Left,100);return r.command="netezza.selectConnectionForTab",r.tooltip="Click to select connection for this SQL tab",t.subscriptions.push(r),{statusBarItem:r,updateFn:()=>{let i=ls.window.activeTextEditor;if(i&&i.document.languageId==="sql"){let s=i.document.uri.toString(),o=e.getConnectionForExecution(s);o?(r.text=`$(database) ${o}`,r.show()):(r.text="$(database) Select Connection",r.show())}else r.hide()}}}var je=Q(require("vscode"));Zs();var N4=/(^|\s)(?:[A-Za-z]:\\|\\|\/)?[\w.\-\\/]+\.py\b|(^|\s)python(?:\.exe)?\s+[^\n]*\.py\b/i,Fp=class{constructor(){this._onDidChange=new je.EventEmitter;this.onDidChangeCodeLenses=this._onDidChange.event}provideCodeLenses(e){let r=[];for(let n=0;n<e.lineCount;n++){let i=e.lineAt(n);if(N4.test(i.text)){let s=i.range,o={title:"Run as script",command:"netezza.runScriptFromLens",arguments:[e.uri,s]};r.push(new je.CodeLens(s,o))}}return r}refresh(){this._onDidChange.fire()}};function O4(){return je.window.createTextEditorDecorationType({backgroundColor:new je.ThemeColor("editor.rangeHighlightBackground"),borderRadius:"3px"})}function m4(){return je.window.createTextEditorDecorationType({backgroundColor:"rgba(5, 115, 201, 0.10)",isWholeLine:!1,rangeBehavior:je.DecorationRangeBehavior.ClosedClosed})}function v0(t,e){let r=e||je.window.activeTextEditor;if(!r)return;let n=r.document,i=[];for(let s=0;s<n.lineCount;s++){let o=n.lineAt(s);N4.test(o.text)&&i.push({range:o.range,hoverMessage:"Python script invocation"})}r.setDecorations(t,i)}function Bp(t,e){if(!je.workspace.getConfiguration("netezza").get("highlightActiveStatement",!0)||!e||e.document.languageId!=="sql"&&e.document.languageId!=="mssql"){e&&e.setDecorations(t,[]);return}try{let i=e.document,s=e.selection.active,o=i.offsetAt(s),a=i.getText(),l=wr.getStatementAtPosition(a,o);if(l){let c=i.positionAt(l.start),u=i.positionAt(l.end),E=new je.Range(c,u);e.setDecorations(t,[E])}else e.setDecorations(t,[])}catch(i){console.error("Error updating SQL highlight:",i)}}function g4(t,e,r){t.subscriptions.push(je.window.onDidChangeActiveTextEditor(()=>v0(e)),je.workspace.onDidChangeTextDocument(n=>{je.window.activeTextEditor&&n.document===je.window.activeTextEditor.document&&v0(e,je.window.activeTextEditor)})),t.subscriptions.push(je.window.onDidChangeTextEditorSelection(n=>{Bp(r,n.textEditor)}),je.window.onDidChangeActiveTextEditor(n=>{Bp(r,n)}),je.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration("netezza.highlightActiveStatement")&&Bp(r,je.window.activeTextEditor)})),v0(e,je.window.activeTextEditor),Bp(r,je.window.activeTextEditor)}var Fn=Q(require("vscode")),Cye=new Map([["SX","SELECT"],["WX","WHERE"],["GX","GROUP BY"],["HX","HAVING"],["OX","ORDER BY"],["FX","FROM"],["JX","JOIN"],["LX","LIMIT"],["IX","INSERT INTO"],["UX","UPDATE"],["DX","DELETE FROM"],["CX","CREATE TABLE"]]);function C4(t){let e=Fn.workspace.onDidChangeTextDocument(async r=>{if(r.document.languageId!=="sql"&&r.document.languageId!=="mssql"||r.contentChanges.length!==1)return;let n=r.contentChanges[0];if(n.text!==" ")return;let i=Fn.window.activeTextEditor;if(!i||i.document!==r.document)return;let o=r.document.lineAt(n.range.start.line).text;for(let[a,l]of Cye)if(new RegExp(`\\b${a}\\s$`,"i").test(o)){let u=o.toUpperCase().lastIndexOf(a.toUpperCase());if(u>=0){let E=new Fn.Position(n.range.start.line,u),d=new Fn.Position(n.range.start.line,u+a.length+1);await i.edit(f=>{f.replace(new Fn.Range(E,d),l+" ")}),["SELECT","FROM","JOIN"].includes(l)&&setTimeout(()=>{Fn.commands.executeCommand("editor.action.triggerSuggest")},100);break}}});t.subscriptions.push(e)}var b4=[{id:"mtxr.sqltools",name:"SQLTools"},{id:"ms-mssql.mssql",name:"Microsoft SQL Server"},{id:"oracle.oracledevtools",name:"Oracle Developer Tools"},{id:"cweijan.vscode-mysql-client2",name:"MySQL"},{id:"ckolkman.vscode-postgres",name:"PostgreSQL"}];async function bye(t){let e=te.workspace.getConfiguration("netezza");if(!e.get("showConflictWarnings",!0))return;let n=[];for(let a of b4)te.extensions.getExtension(a.id)&&n.push(a.name);let s=te.extensions.all.filter(a=>{let l=a.packageJSON;if(!l||a.id==="krzysztof-d.justybaselite-netezza"||b4.some(d=>d.id===a.id))return!1;let c=l.activationEvents?.some(d=>d.includes("onLanguage:sql")||d.includes("onLanguage:mssql")),u=l.contributes?.languages?.some(d=>d.id==="sql"||d.extensions?.includes(".sql"));return(l.displayName||"")==="SQL Language Basics"?!1:c||u}).map(a=>a.packageJSON.displayName||a.id),o=[...n,...s];if(o.length>0){let a=o.length===1?`SQL extension detected "${o[0]}" which may cause conflicts (e.g. duplicate keybindings F5, Ctrl+Enter).`:`SQL extensions detected which may cause conflicts: ${o.join(", ")}. Some functions (e.g. F5, Ctrl+Enter) may be duplicated.`;await te.window.showWarningMessage(a,"OK","Do not show again")==="Do not show again"&&await e.update("showConflictWarnings",!1,te.ConfigurationTarget.Global)}}async function yye(t){console.log("Netezza extension: Activating..."),bye(t);let e=new mi(t),r=new $f(t);await r.initialize();let n=new wf(t,e,r),i=new Lc(t.extensionUri);t.subscriptions.push({dispose:()=>{e.closeAllPersistentConnections()}});let s=te.window.createOutputChannel("Netezza"),o=_4(t,e),{updateFn:a}=I4(t,e);a(),e.onDidChangeActiveConnection(R=>{a(),R&&!r.hasConnectionPrefetchTriggered(R)&&r.triggerConnectionPrefetch(R,A=>X(t,A,!0,R,e))}),e.onDidChangeConnections(a),e.onDidChangeDocumentConnection(R=>{a();let A=e.getDocumentConnection(R);A&&!r.hasConnectionPrefetchTriggered(A)&&r.triggerConnectionPrefetch(A,O=>X(t,O,!0,A,e))}),te.window.onDidChangeActiveTextEditor(a),console.log("Netezza extension: Registering SchemaSearchProvider...");let l=new wc(t.extensionUri,t,r,e);console.log("Netezza extension: Registering QueryHistoryView...");let c=new Dc(t.extensionUri,t),u=te.window.createTreeView("netezza.schema",{treeDataProvider:n,showCollapseAll:!0});t.subscriptions.push(te.window.registerWebviewViewProvider(Lc.viewType,i),te.window.registerWebviewViewProvider(wc.viewType,l),te.window.registerWebviewViewProvider(Dc.viewType,c));let E=O4(),d=m4();g4(t,E,d);let f=new Fp;t.subscriptions.push(te.languages.registerCodeLensProvider({scheme:"file"},f)),t.subscriptions.push(te.window.onDidChangeActiveTextEditor(R=>{if(R&&R.document){let A=R.document.uri.toString();i.setActiveSource(A)}}));let T=jf({context:t,connectionManager:e,metadataCache:r,schemaProvider:n,schemaTreeView:u});t.subscriptions.push(...T);let h=Qq({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...h);let S=p6({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...S);let p=A4({context:t,connectionManager:e,resultPanelProvider:i});t.subscriptions.push(...p),t.subscriptions.push(te.commands.registerCommand("netezza.viewEditData",R=>{Bf.createOrShow(t.extensionUri,R,t,e)}),te.commands.registerCommand("netezza.createProcedure",async R=>{let A=R;if(!A||!A.dbName){te.window.showErrorMessage("Invalid selection. Select a Procedure folder.");return}let O=await te.window.showInputBox({prompt:"Enter new procedure name",placeHolder:"NEW_PROCEDURE",value:"NEW_PROCEDURE"});if(O===void 0)return;let L=O.trim()||"NEW_PROCEDURE",D=`CREATE OR REPLACE PROCEDURE ${A.dbName}.SCHEMA.${L}(INTEGER)
RETURNS INTEGER
EXECUTE AS CALLER
LANGUAGE NZPLSQL AS
BEGIN_PROC
DECLARE
    arg1 ALIAS FOR $1;
BEGIN
    -- YOUR CODE GOES HERE
    
    EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE EXCEPTION  'Procedure failed: %', sqlerrm;
        --RAISE NOTICE 'Caught error, continuing %', sqlerrm;

END;
END_PROC;`,y=await te.workspace.openTextDocument({content:D,language:"sql"});await te.window.showTextDocument(y)}),te.commands.registerCommand("netezza.toggleKeepConnectionOpen",()=>{let R=e.getKeepConnectionOpen();e.setKeepConnectionOpen(!R),x0(o,e);let A=!R;te.window.showInformationMessage(A?"Keep connection open: ENABLED - connection will remain open after queries":"Keep connection open: DISABLED - connection will be closed after each query")}),te.commands.registerCommand("netezza.cancelQuery",async()=>{await cy()}),te.commands.registerCommand("netezza.selectActiveConnection",async()=>{let R=await e.getConnections();if(R.length===0){te.window.showWarningMessage("No connections configured. Please connect first.");return}let A=await te.window.showQuickPick(R.map(O=>O.name),{placeHolder:"Select Active Connection"});A&&(await e.setActiveConnection(A),te.window.showInformationMessage(`Active connection set to: ${A}`))}),te.commands.registerCommand("netezza.selectConnectionForTab",async()=>{let R=te.window.activeTextEditor;if(!R||R.document.languageId!=="sql"){te.window.showWarningMessage("This command is only available for SQL files");return}let A=await e.getConnections();if(A.length===0){te.window.showWarningMessage("No connections configured. Please connect first.");return}let O=R.document.uri.toString(),L=e.getDocumentConnection(O)||e.getActiveConnectionName(),N=A.map(y=>({label:y.name,description:L===y.name?"$(check) Currently selected":`${y.host}:${y.port}/${y.database}`,name:y.name})),D=await te.window.showQuickPick(N,{placeHolder:"Select connection for this SQL tab"});D&&(e.setDocumentConnection(O,D.name),te.window.showInformationMessage(`Connection for this tab set to: ${D.name}`))}),te.commands.registerCommand("netezza.openLogin",()=>{Lf.createOrShow(t.extensionUri,e)}),te.commands.registerCommand("netezza.refreshSchema",async()=>{await r.clearCache(),n.refresh(),te.window.showInformationMessage("Schema refreshed (Cache cleared)")}),te.commands.registerCommand("netezza.jumpToSchema",async()=>{let R=te.window.activeTextEditor;if(!R)return;let A=R.document,O=R.selection,L=A.offsetAt(O.active),N=wr.getObjectAtPosition(A.getText(),L);N?te.commands.executeCommand("netezza.revealInSchema",N):te.window.showWarningMessage("No object found at cursor")}),te.commands.registerCommand("netezza.runScriptFromLens",async(R,A)=>{try{let O=await te.workspace.openTextDocument(R),L=O.getText(A).trim()||O.lineAt(A.start.line).text.trim();if(!L){te.window.showWarningMessage("No script command found");return}let N=L.split(/\s+/),D=N[0]||"",y=/python(\.exe)?$/i.test(D)&&N.length>=2&&N[1].toLowerCase().endsWith(".py"),P=D.toLowerCase().endsWith(".py"),B=te.workspace.getConfiguration("netezza").get("pythonPath")||"python",G="";if(y){let z=N[0],ne=N[1],re=N.slice(2);G=ss(z,ne,re)}else if(P){let z=D,ne=N.slice(1);G=ss(B,z,ne)}else G=ss(B,"",N);let k=te.window.createTerminal({name:"Netezza: Script"});k.show(!0),k.sendText(G,!0),te.window.showInformationMessage(`Running script: ${G}`)}catch(O){let L=O instanceof Error?O.message:String(O);te.window.showErrorMessage(`Error running script: ${L}`)}}),te.commands.registerCommand("netezza.clearAutocompleteCache",async()=>{await te.window.showWarningMessage("Are you sure you want to clear the autocomplete cache? This will remove all cached databases, schemas, tables, and columns.",{modal:!0},"Clear Cache")==="Clear Cache"&&(await r.clearCache(),te.window.showInformationMessage("Autocomplete cache cleared successfully. Cache will be rebuilt on next use."))}),te.commands.registerCommand("netezza.copySelection",()=>{i.triggerCopySelection()})),t.subscriptions.push(te.languages.registerDocumentLinkProvider({language:"sql"},new xf),te.languages.registerFoldingRangeProvider({language:"sql"},new vf));let I=new Mf(t,r,e);t.subscriptions.push(te.languages.registerCompletionItemProvider(["sql","mssql"],I,"."," ")),C4(t),Iy(t),t.subscriptions.push(te.languages.registerCodeActionsProvider(["sql","netezza-sql"],new Pc,{providedCodeActionKinds:Pc.providedCodeActionKinds})),console.log("Netezza extension: Activation complete.")}function Lye(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

archiver/lib/error.js:
archiver/lib/core.js:
  (**
   * Archiver Core
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

zip-stream/index.js:
  (**
   * ZipStream
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
   * @copyright (c) 2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/zip.js:
  (**
   * ZIP Format Plugin
   *
   * @module plugins/zip
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/tar.js:
  (**
   * TAR Format Plugin
   *
   * @module plugins/tar
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/json.js:
  (**
   * JSON Format Plugin
   *
   * @module plugins/json
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/index.js:
  (**
   * Archiver Vending
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)
*/
