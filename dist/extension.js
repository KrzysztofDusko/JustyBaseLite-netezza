"use strict";var pz=Object.create;var Of=Object.defineProperty;var Rz=Object.getOwnPropertyDescriptor;var Az=Object.getOwnPropertyNames;var _z=Object.getPrototypeOf,Iz=Object.prototype.hasOwnProperty;var Y=(t,e)=>()=>(t&&(e=t(t=0)),e);var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Dt=(t,e)=>{for(var r in e)Of(t,r,{get:e[r],enumerable:!0})},Cb=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Az(e))!Iz.call(t,i)&&i!==r&&Of(t,i,{get:()=>e[i],enumerable:!(n=Rz(e,i))||n.enumerable});return t};var Z=(t,e,r)=>(r=t!=null?pz(_z(t)):{},Cb(e||!t||!t.__esModule?Of(r,"default",{value:t,enumerable:!0}):r,t)),eR=t=>Cb(Of({},"__esModule",{value:!0}),t);var rr,Pt,Wn,_e,hs,tR=Y(()=>{"use strict";rr={AuthenticationRequest:82,ErrorResponse:69,NoticeResponse:78,BackendKeyData:75,ReadyForQuery:90,RowDescription:84,RowDescriptionStandard:88,DataRow:68,CommandComplete:67,EmptyQueryResponse:73,RowStandard:89,CopyInResponse:71,CopyOutResponse:72,CopyDone:99,CopyData:100},Pt={NzTypeRecAddr:1,NzTypeDouble:2,NzTypeInt:3,NzTypeFloat:4,NzTypeMoney:5,NzTypeDate:6,NzTypeNumeric:7,NzTypeTime:8,NzTypeTimestamp:9,NzTypeInterval:10,NzTypeTimeTz:11,NzTypeBool:12,NzTypeInt1:13,NzTypeBinary:14,NzTypeChar:15,NzTypeVarChar:16,NzDEPR_Text:17,NzTypeUnknown:18,NzTypeInt2:19,NzTypeInt8:20,NzTypeVarFixedChar:21,NzTypeGeometry:22,NzTypeVarBinary:23,NzDEPR_Blob:24,NzTypeNChar:25,NzTypeNVarChar:26,NzDEPR_NText:27,NzTypeJson:30,NzTypeJsonb:31,NzTypeJsonpath:32,NzTypeLastEntry:33,NzTypeIntvsAbsTimeFIX:39},Wn={CP_VERSION_2:2,CP_VERSION_3:3,CP_VERSION_4:4,CP_VERSION_5:5,CP_VERSION_6:6},_e={HSV2_CLIENT_BEGIN:1,HSV2_DB:2,HSV2_USER:3,HSV2_OPTIONS:4,HSV2_REMOTE_PID:6,HSV2_CLIENT_TYPE:8,HSV2_PROTOCOL:9,HSV2_SSL_NEGOTIATE:11,HSV2_SSL_CONNECT:12,HSV2_APPNAME:13,HSV2_CLIENT_OS:14,HSV2_CLIENT_HOST_NAME:15,HSV2_CLIENT_OS_USER:16,HSV2_64BIT_VARLENA_ENABLED:17,HSV2_CLIENT_DONE:1e3},hs={DATA:1,ERROR:2,DONE:3}});function Lb(t){let e=t.readBigInt64LE(0),r=Number(e/1000n);return new Date(yb+r)}function wb(t){let r=t.readInt32LE(0)*24*60*60*1e3;return new Date(yb+r)}function mf(t){let e=t.readBigInt64LE(0),r=Number(e/1000000n),n=Number(e%1000000n),i=Math.floor(r/3600),s=Math.floor(r%3600/60),o=r%60;return{hours:i,minutes:s,seconds:o,microseconds:n,toString(){let a=String(i).padStart(2,"0"),l=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");if(n>0){let u=String(n).padStart(6,"0");return`${a}:${l}:${c}.${u}`}return`${a}:${l}:${c}`}}}function Db(t){if(!t)return null;let e=t.split(":"),r=parseInt(e[0],10)||0,n=parseInt(e[1],10)||0,i=(e[2]||"0").split("."),s=parseInt(i[0],10)||0,o=0;return i.length>1&&(o=parseInt(i[1].substring(0,6).padEnd(6,"0"),10)),{hours:r,minutes:n,seconds:s,microseconds:o,toString(){return t}}}function Pb(t){let e=t.readBigInt64LE(0),r=t.readInt32LE(8),n=mf(t);if(r===0)return n.toString();let i=Math.floor(r/12),s=r%12;return i>0?`${i} years ${s} mons ${n.toString()}`:`${s} mons ${n.toString()}`}function Mb(t,e){let r=mf(t),n=t.readInt32LE(e-4),i=n<0?"+":"-",s=Math.abs(n),o=Math.floor(s/3600),a=Math.floor(s%3600/60),l=s%60,c=String(o).padStart(2,"0");return l!==0?c+=":"+String(a).padStart(2,"0")+":"+String(l).padStart(2,"0"):a!==0&&(c+=":"+String(a).padStart(2,"0")),`${r.toString()}${i}${c}`}function xb(t,e,r,n){let i=e<=9?1:e<=18?2:4,s=[];for(let f=0;f<i;f++)s.push(t.readUInt32LE(f*4));let o=(s[0]&bb)!==0?4294967295:0,a=new Array(ya).fill(o);for(let f=ya-n,T=0;f<ya;f++,T++)a[f]=s[T];let l=(a[0]&bb)!==0;l&&Oz(a);let c=new Array(wc).fill(0);for(let f=0;f<wc;f++)c[wc-f-1]=Nz(a);let u="",E=!0;for(let f=0;f<wc;f++)f<wc-r-1&&E&&c[f]===0||(E=!1,u+=String(c[f]));if(u===""&&(u="0"),r!==0){let f=u.slice(0,-r)||"0",T=u.slice(-r).padStart(r,"0");u=f+"."+T}l&&(u="-"+u);let d=parseFloat(u);return e<=15&&u===String(d)?d:u}function Nz(t){let e=0;for(let r=0;r<ya;r++){let n=t[r]+e*4294967296;n!==0?(t[r]=Math.floor(n/10),e=n%10):(t[r]=0,e=0)}return e}function Oz(t){for(let r=0;r<ya;r++)t[r]=~t[r]>>>0;let e=1;for(let r=ya-1;r>=0&&e;r--){let n=t[r]+e;t[r]=n>>>0,e=n>4294967295?1:0}}var yb,ya,wc,bb,vb=Y(()=>{"use strict";yb=Date.UTC(2e3,0,1);ya=4,wc=38,bb=2147483648});var nR=g((bye,Ub)=>{"use strict";var rR=class{static readInt32(e,r=0){return e.readInt32BE(r)}static readInt16(e,r=0){return e.readInt16BE(r)}static writeInt32(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt32BE(r,n);else{let i=Buffer.allocUnsafe(4);i.writeInt32BE(r,0),e.write(i)}}static writeInt16(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt16BE(r,n);else{let i=Buffer.allocUnsafe(2);i.writeInt16BE(r,0),e.write(i)}}};Ub.exports=rR});var Fb=g((yye,Bb)=>{var La=1e3,wa=La*60,Da=wa*60,ro=Da*24,gz=ro*7,Cz=ro*365.25;Bb.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return bz(t);if(r==="number"&&isFinite(t))return e.long?Lz(t):yz(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function bz(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Cz;case"weeks":case"week":case"w":return r*gz;case"days":case"day":case"d":return r*ro;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Da;case"minutes":case"minute":case"mins":case"min":case"m":return r*wa;case"seconds":case"second":case"secs":case"sec":case"s":return r*La;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function yz(t){var e=Math.abs(t);return e>=ro?Math.round(t/ro)+"d":e>=Da?Math.round(t/Da)+"h":e>=wa?Math.round(t/wa)+"m":e>=La?Math.round(t/La)+"s":t+"ms"}function Lz(t){var e=Math.abs(t);return e>=ro?gf(t,e,ro,"day"):e>=Da?gf(t,e,Da,"hour"):e>=wa?gf(t,e,wa,"minute"):e>=La?gf(t,e,La,"second"):t+" ms"}function gf(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var iR=g((Lye,Gb)=>{function wz(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=Fb(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let E=0;for(let d=0;d<u.length;d++)E=(E<<5)-E+u.charCodeAt(d),E|=0;return r.colors[Math.abs(E)%r.colors.length]}r.selectColor=e;function r(u){let E,d=null,f,T;function h(...S){if(!h.enabled)return;let p=h,I=Number(new Date),R=I-(E||I);p.diff=R,p.prev=E,p.curr=I,E=I,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let A=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(L,N)=>{if(L==="%%")return"%";A++;let D=r.formatters[N];if(typeof D=="function"){let y=S[A];L=D.call(p,y),S.splice(A,1),A--}return L}),r.formatArgs.call(p,S),(p.log||r.log).apply(p,S)}return h.namespace=u,h.useColors=r.useColors(),h.color=r.selectColor(u),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(f!==r.namespaces&&(f=r.namespaces,T=r.enabled(u)),T),set:S=>{d=S}}),typeof r.init=="function"&&r.init(h),h}function n(u,E){let d=r(this.namespace+(typeof E>"u"?":":E)+u);return d.log=this.log,d}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let E=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let d of E)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function s(u,E){let d=0,f=0,T=-1,h=0;for(;d<u.length;)if(f<E.length&&(E[f]===u[d]||E[f]==="*"))E[f]==="*"?(T=f,h=d,f++):(d++,f++);else if(T!==-1)f=T+1,h++,d=h;else return!1;for(;f<E.length&&E[f]==="*";)f++;return f===E.length}function o(){let u=[...r.names,...r.skips.map(E=>"-"+E)].join(",");return r.enable(""),u}function a(u){for(let E of r.skips)if(s(u,E))return!1;for(let E of r.names)if(s(u,E))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Gb.exports=wz});var Hb=g((Gr,Cf)=>{Gr.formatArgs=Pz;Gr.save=Mz;Gr.load=xz;Gr.useColors=Dz;Gr.storage=vz();Gr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Gr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Dz(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Pz(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Cf.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Gr.log=console.debug||console.log||(()=>{});function Mz(t){try{t?Gr.storage.setItem("debug",t):Gr.storage.removeItem("debug")}catch{}}function xz(){let t;try{t=Gr.storage.getItem("debug")||Gr.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function vz(){try{return localStorage}catch{}}Cf.exports=iR()(Gr);var{formatters:Uz}=Cf.exports;Uz.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Yb=g((wye,Wb)=>{"use strict";Wb.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var kb=g((Dye,Vb)=>{"use strict";var Bz=require("os"),$b=require("tty"),sn=Yb(),{env:kt}=process,Ts;sn("no-color")||sn("no-colors")||sn("color=false")||sn("color=never")?Ts=0:(sn("color")||sn("colors")||sn("color=true")||sn("color=always"))&&(Ts=1);"FORCE_COLOR"in kt&&(kt.FORCE_COLOR==="true"?Ts=1:kt.FORCE_COLOR==="false"?Ts=0:Ts=kt.FORCE_COLOR.length===0?1:Math.min(parseInt(kt.FORCE_COLOR,10),3));function sR(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function oR(t,e){if(Ts===0)return 0;if(sn("color=16m")||sn("color=full")||sn("color=truecolor"))return 3;if(sn("color=256"))return 2;if(t&&!e&&Ts===void 0)return 0;let r=Ts||0;if(kt.TERM==="dumb")return r;if(process.platform==="win32"){let n=Bz.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in kt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in kt)||kt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in kt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(kt.TEAMCITY_VERSION)?1:0;if(kt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in kt){let n=parseInt((kt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(kt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(kt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(kt.TERM)||"COLORTERM"in kt?1:r}function Fz(t){let e=oR(t,t&&t.isTTY);return sR(e)}Vb.exports={supportsColor:Fz,stdout:sR(oR(!0,$b.isatty(1))),stderr:sR(oR(!0,$b.isatty(2)))}});var Xb=g((qt,yf)=>{var Gz=require("tty"),bf=require("util");qt.init=qz;qt.log=$z;qt.formatArgs=Wz;qt.save=Vz;qt.load=kz;qt.useColors=Hz;qt.destroy=bf.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");qt.colors=[6,2,3,4,5,1];try{let t=kb();t&&(t.stderr||t).level>=2&&(qt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}qt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function Hz(){return"colors"in qt.inspectOpts?!!qt.inspectOpts.colors:Gz.isatty(process.stderr.fd)}function Wz(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+yf.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Yz()+e+" "+t[0]}function Yz(){return qt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function $z(...t){return process.stderr.write(bf.formatWithOptions(qt.inspectOpts,...t)+`
`)}function Vz(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function kz(){return process.env.DEBUG}function qz(t){t.inspectOpts={};let e=Object.keys(qt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=qt.inspectOpts[e[r]]}yf.exports=iR()(qt);var{formatters:qb}=yf.exports;qb.o=function(t){return this.inspectOpts.colors=this.useColors,bf.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};qb.O=function(t){return this.inspectOpts.colors=this.useColors,bf.inspect(t,this.inspectOpts)}});var lR=g((Pye,aR)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?aR.exports=Hb():aR.exports=Xb()});var Zb=g((xye,Qb)=>{"use strict";var Kb=Z(require("crypto")),zb=Z(require("os")),jb=Z(require("tls")),Jb=Z(require("fs"));tR();var ie=nR(),Mt=lR()("nz:handshake"),cR=class{constructor(e,r,n,i={}){this._hsVersion=-1;this._protocol1=-1;this._protocol2=-1;this.NPSCLIENT_TYPE_DOTNET=11;this.backendProcessId=0;this.backendSecretKey=0;this._socket=e,this._stream=r,this._host=n,this._options=i,this._guardiumClientOS=process.platform,this._guardiumClientOSUser=process.env.USERNAME||process.env.USER||"unknown",this._guardiumAppName="scJs-Driver",this._guardiumClientHostName=zb.hostname()}async startup(e,r,n){if(!await this.connHandshakeNegotiate())throw new Error("Handshake negotiation unsuccessful");if(Mt("Sending handshake info"),!await this.connSendHandshakeInfo(e,r))throw new Error("Error in ConnSendHandshakeInfo");if(!await this.connAuthenticate(n))throw new Error("Error in ConnAuthenticate");if(!await this.connConnectionComplete())throw new Error("Error in ConnConnectionComplete");return this._stream}async _readExactly(e){return new Promise((r,n)=>{let i=this._stream.read(e);i?r(i):this._stream.once("readable",()=>{let s=this._stream.read(e);s&&r(s)})})}async readBytes(e){for(;;){let r=this._stream.read(e);if(r!==null)return r;await new Promise(n=>this._stream.once("readable",n))}}async readByte(){return(await this.readBytes(1))[0]}async connHandshakeNegotiate(){let e=Wn.CP_VERSION_6;for(;;){Mt(`Sending version: ${e}`),ie.writeInt32(this._stream,8),ie.writeInt16(this._stream,_e.HSV2_CLIENT_BEGIN),ie.writeInt16(this._stream,e);let r=await this.readByte();if(Mt(`Got response: ${String.fromCharCode(r)}`),r===78)return this._hsVersion=e,this._protocol2=0,!0;if(r===77){let n=await this.readByte(),i=String.fromCharCode(n);i==="2"?e=Wn.CP_VERSION_2:i==="3"?e=Wn.CP_VERSION_3:i==="4"?e=Wn.CP_VERSION_4:i==="5"&&(e=Wn.CP_VERSION_5)}else return!1}}async connSendHandshakeInfo(e,r){return await this.connSendDatabase(e)?(await this.connSecureSession(),this.connSetNextDataProtocol(this._protocol1,this._protocol2),this._hsVersion===Wn.CP_VERSION_6||this._hsVersion===Wn.CP_VERSION_4?this.connSendHandshakeVersion4(this._hsVersion,r):this.connSendHandshakeVersion2(this._hsVersion,r)):!1}async connSendDatabase(e){let r=Buffer.from(e,"utf8"),n=6+r.length+1;return ie.writeInt32(this._stream,n),ie.writeInt16(this._stream,_e.HSV2_DB),this._stream.write(r),this._stream.write(Buffer.from([0])),await this.readByte()===78}async connSecureSession(){let r=0,n=this._options.securityLevel;n==="OnlyUnsecuredSession"?r=1:n==="PreferredSecuredSession"?r=2:n==="OnlySecuredSession"&&(r=3),ie.writeInt32(this._stream,10),ie.writeInt16(this._stream,_e.HSV2_SSL_NEGOTIATE),ie.writeInt32(this._stream,r);let i=await this.readByte();if(i===78){if(this._options.securityLevel==="OnlySecuredSession")throw new Error("Server refused secure session, but OnlySecuredSession was requested.");return!0}if(i===83){Mt("Upgrading to SSL...");let s=Buffer.alloc(6);s.writeInt32BE(6,0),s.writeInt16BE(_e.HSV2_SSL_CONNECT,4),await new Promise(a=>{this._stream.write(s)?a():this._stream.once("drain",a)}),this._socket.removeAllListeners("data"),this._socket.removeAllListeners("readable");let o={socket:this._socket,rejectUnauthorized:!1};if(this._options.sslCerFilePath){this._options.rejectUnauthorized===!1?o.rejectUnauthorized=!1:o.rejectUnauthorized=!0;try{o.ca=Jb.readFileSync(this._options.sslCerFilePath)}catch(a){throw Mt("Failed to load cert file",a),a}}return new Promise((a,l)=>{let c=jb.connect(o,()=>{Mt("SSL Connected"),this._stream=c,this._stream.on("error",u=>{Mt("Secure Stream Error",u)}),this.readByte().then(u=>{u===78?a(!0):l(new Error(`SSL Handshake failed: Unexpected response ${String.fromCharCode(u)}`))}).catch(u=>{Mt("Failed to read SSL confirmation",u),l(u)})});c.on("error",u=>{Mt("SSL Connection Error",u),l(u)})})}return!1}connSetNextDataProtocol(e,r){return this._protocol2===0&&(this._protocol2=5),this._protocol1=3,!0}async connSendHandshakeVersion4(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,_e.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=_e.HSV2_APPNAME;for(;s!==0;){if(await this.readByte()!==78)return!1;switch(s){case _e.HSV2_APPNAME:await this.sendStringOption(s,this._guardiumAppName),s=_e.HSV2_CLIENT_OS;break;case _e.HSV2_CLIENT_OS:await this.sendStringOption(s,this._guardiumClientOS),s=_e.HSV2_CLIENT_HOST_NAME;break;case _e.HSV2_CLIENT_HOST_NAME:await this.sendStringOption(s,this._guardiumClientHostName),s=_e.HSV2_CLIENT_OS_USER;break;case _e.HSV2_CLIENT_OS_USER:await this.sendStringOption(s,this._guardiumClientOSUser),s=_e.HSV2_PROTOCOL;break;case _e.HSV2_PROTOCOL:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,this._protocol1),ie.writeInt16(this._stream,this._protocol2),s=_e.HSV2_REMOTE_PID;break;case _e.HSV2_REMOTE_PID:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt32(this._stream,process.pid),s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_CLIENT_TYPE:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,11),e>=5?s=_e.HSV2_64BIT_VARLENA_ENABLED:s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_64BIT_VARLENA_ENABLED:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,1),s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_CLIENT_DONE:return i=6,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),s=0,!0}}return!1}async connSendHandshakeVersion2(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,_e.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=_e.HSV2_PROTOCOL;for(;s!==0;){Mt(`Waiting for response in v2 loop. Info: ${s}`);let o=await this.readByte();if(Mt(`Got response: ${String.fromCharCode(o)}`),o===78)switch(s){case _e.HSV2_PROTOCOL:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,this._protocol1),ie.writeInt16(this._stream,this._protocol2),s=_e.HSV2_REMOTE_PID;break;case _e.HSV2_REMOTE_PID:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt32(this._stream,process.pid),s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_OPTIONS:s=_e.HSV2_CLIENT_TYPE;break;case _e.HSV2_CLIENT_TYPE:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,11),e===Wn.CP_VERSION_5||e===Wn.CP_VERSION_6?s=_e.HSV2_64BIT_VARLENA_ENABLED:s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_64BIT_VARLENA_ENABLED:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,1),s=_e.HSV2_CLIENT_DONE;break;case _e.HSV2_CLIENT_DONE:return i=6,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),s=0,!0}else throw o===rr.ErrorResponse?new Error("Handshake V2 Failed: ErrorResponse from backend"):new Error(`Handshake V2 Failed: Unexpected response ${String.fromCharCode(o)}`)}return!1}async sendStringOption(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,e),this._stream.write(n),this._stream.write(Buffer.from([0]))}async connAuthenticate(e){if(await this.readByte()!==rr.AuthenticationRequest)return!1;let n=ie.readInt32(await this.readBytes(4));if(Mt(`Auth request: ${n}`),n===0)return!0;if(n===3){let i=Buffer.from(e,"utf8"),s=4+i.length+1;return ie.writeInt32(this._stream,s),this._stream.write(i),this._stream.write(Buffer.from([0])),!0}if(n===5){let i=await this.readBytes(2),s=Buffer.from(e,"utf8"),a=Kb.createHash("md5").update(Buffer.concat([i,s])).digest("base64").replace(/=+$/,""),l=Buffer.from(a,"utf8"),c=4+l.length+1;return ie.writeInt32(this._stream,c),this._stream.write(l),this._stream.write(Buffer.from([0])),!0}return!1}async readString(){let e=[];for(;;){let r=await this.readByte();if(r===0)break;e.push(r)}return Buffer.from(e).toString("utf8")}async connConnectionComplete(){for(;;){let e=await this.readByte();if(Mt(`Resp: ${String.fromCharCode(e)} (0x${e.toString(16)})`),e===rr.AuthenticationRequest){let n=ie.readInt32(await this.readBytes(4));Mt(`Auth req in complete: ${n}`);continue}if(e===rr.ErrorResponse){let n=await this.readBytes(4),i=ie.readInt32(n);if(i<0||i>1e8){let o=n.toString("utf8");throw o+=await this.readString(),new Error(`Backend Error: ${o}`)}let s=await this.readBytes(i-4);throw new Error(`Backend Error: ${s.toString()}`)}let r=await this.readBytes(4);if(Mt(`Skipped 4 bytes: ${r.toString("hex")}`),e===rr.BackendKeyData){let n=await this.readBytes(4);Mt(`KeyData Padding: ${n.toString("hex")}`);let i=ie.readInt32(await this.readBytes(4)),s=ie.readInt32(await this.readBytes(4));Mt(`KeyData: PID=${i} Key=${s}`),this.backendProcessId=i,this.backendSecretKey=s;continue}if(e===rr.ReadyForQuery)return Mt("ReadyForQuery"),!0;if(e===rr.NoticeResponse){let n=ie.readInt32(await this.readBytes(4)),i=await this.readBytes(n);Mt(`Notice: ${i.toString()}`);continue}}}};Qb.exports=cR});var ty=g((vye,ey)=>{"use strict";var uR=class{constructor(e){this.connection=e,this.commandText="",this.parameters=[],this._recordsAffected=-1,this.commandTimeout=e.commandTimeout!==void 0?e.commandTimeout:30}async execute(){return this.connection.execute(this,!1)}async executeNonQuery(){return await this.connection.execute(this,!1),this._recordsAffected}async executeReader(){return this.connection.executeReader(this)}async cancel(){return this.connection.cancel()}};ey.exports=uR});var ny=g((Uye,ry)=>{"use strict";var he={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700,Float4:700,Float8:701},Dc=16,ER=class{constructor(e,r,n,i,s){this.currentRow=null;this.closed=!1;this._nameIndex={};this._pendingColumns=null;this._isFinished=!1;this.command=e,this.generator=r,this.columnDescriptions=n||[],this.releaseCallback=i,this._initNameIndex(),this._nextItem=s,this._hasRows=!!(this._nextItem&&this._nextItem.type==="DataRow")}get hasRows(){return this._hasRows}_initNameIndex(){if(this._nameIndex={},this.columnDescriptions)for(let e=0;e<this.columnDescriptions.length;e++)this._nameIndex[this.columnDescriptions[e].name.toLowerCase()]=e}_markFinished(){this._isFinished=!0,this._nextItem=null,this._hasRows=!1,this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}async nextResult(){if(this._pendingColumns){for(this.columnDescriptions=this._pendingColumns,this._pendingColumns=null,this._initNameIndex(),this.currentRow=null;;){let e=await this.generator.next();if(e.done){this._nextItem=null,this._hasRows=!1;break}let r=e.value;if(r.type!=="RowDescriptionStandard")if(r.type==="DataRow"){this._nextItem=r,this._hasRows=!0;break}else if(r.type==="CommandComplete"){this._nextItem=r,this._hasRows=!1;break}else{this._nextItem=r,this._hasRows=!1;break}}return!0}if(this.closed||this._isFinished)return!1;for(;;){let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),!1;let r=e.value;if(r.type==="RowDescription"){this.columnDescriptions=r.columns,this._initNameIndex(),this.currentRow=null;continue}if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;this.columnDescriptions.length===0&&n&&n.description&&(this.columnDescriptions=n.description,this._initNameIndex()),this.currentRow=null;continue}if(r.type==="DataRow")return this._nextItem=r,this._hasRows=!0,!0;if(r.type!=="CommandComplete"){if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");if(r.type==="ReadyForQuery")return this._markFinished(),!1}}}getSchemaTable(){if(!this.columnDescriptions)return[];let e=[];for(let r=0;r<this.columnDescriptions.length;r++){let n=this.columnDescriptions[r],i={ColumnName:n.name,ColumnOrdinal:r+1,ColumnSize:-1,NumericPrecision:0,NumericScale:0,DataType:String,ProviderType:n.typeOid,AllowDBNull:!0,IsReadOnly:!0,IsLong:!1},s=n.typeMod,o=n.typeOid;switch(o){case he.Bool:i.DataType=Boolean,i.ColumnSize=1;break;case he.Int2:i.DataType=Number,i.ColumnSize=2;break;case he.Int4:i.DataType=Number,i.ColumnSize=4;break;case he.Int8:i.DataType=Number,i.ColumnSize=8;break;case he.Float4:case he.Float8:i.DataType=Number,i.ColumnSize=o===he.Float8?8:4,i.NumericPrecision=o===he.Float8?53:24;break;case he.Numeric:if(i.DataType=Number,s>Dc){let a=s-Dc>>16,l=s-Dc&65535;i.NumericPrecision=a,i.NumericScale=l,i.ColumnSize=Math.floor(a/2)+1,i.ColumnSize<n.typeLen&&n.typeLen>0&&(i.ColumnSize=n.typeLen)}else i.ColumnSize=n.typeLen;break;case he.Date:case he.Timestamp:case he.TimestampTz:case he.Time:case he.TimeTz:i.DataType=Date,(o===he.Time||o===he.TimeTz)&&(i.DataType=Object),i.ColumnSize=n.typeLen;break;case he.Char:case he.BpChar:case he.VarChar:case he.Text:case he.Name:case he.ShowDate:i.DataType=String,s>Dc?i.ColumnSize=s-Dc:(i.ColumnSize=-1,n.typeLen>0&&(i.ColumnSize=n.typeLen)),i.ColumnSize>8e3&&(i.IsLong=!0);break;default:i.DataType=String,i.ColumnSize=n.typeLen;break}e.push(i)}return{Rows:e,Columns:{Count:e.length}}}getTypeName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);let n=this.columnDescriptions[e].typeOid;switch(n){case he.Bool:return"BOOL";case he.Bytea:return"BYTEA";case he.Char:return"CHAR";case he.Name:return"NAME";case he.Int8:return"INT8";case he.Int2:return"INT2";case he.Int4:return"INT4";case he.Text:return"TEXT";case he.BpChar:return"CHAR";case he.VarChar:return"VARCHAR";case he.Date:return"DATE";case he.Time:return"TIME";case he.Timestamp:return"TIMESTAMP";case he.TimestampTz:return"TIMESTAMPTZ";case he.Interval:return"INTERVAL";case he.TimeTz:return"TIMETZ";case he.Numeric:return"NUMERIC";case he.Float4:return"FLOAT4";case he.Float8:return"FLOAT8";case 2530:return"DATE";case 15:return"CHAR";case 16:return"BOOL";default:return`UNKNOWN(${n})`}}async read(){if(this.closed||this._isFinished||this._pendingColumns)return!1;let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),this.currentRow=null,!1;let r=e.value;if(r.type==="DataRow")return this.currentRow=r.row,!0;if(r.type==="RowDescription")return this._pendingColumns=r.columns,this.currentRow=null,!1;if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;return this._pendingColumns=n&&n.description?n.description:this.columnDescriptions,this.currentRow=null,!1}if(r.type==="CommandComplete")return this.currentRow=null,this.read();if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");return r.type==="ReadyForQuery"?(this._markFinished(),this.currentRow=null,!1):this.read()}getValue(e){return this._validateOrdinal(e),this.currentRow[e]}getValueByName(e){let r=this.getOrdinal(e);return this.getValue(r)}getName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);return this.columnDescriptions[e].name}getOrdinal(e){let r=this._nameIndex[e.toLowerCase()];if(r===void 0)throw new Error(`Column '${e}' not found`);return r}get fieldCount(){return this.columnDescriptions?.length||0}get FieldCount(){return this.fieldCount}isDBNull(e){return this._validateOrdinal(e),this.currentRow[e]===null}getBoolean(e){let r=this.getValue(e);return r===null?!1:typeof r=="boolean"?r:typeof r=="string"?r.toLowerCase()==="t"||r==="1"||r.toLowerCase()==="true":!!r}getByte(e){let r=this.getValue(e);return r===null?0:Number(r)&255}getInt16(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt32(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt64(e){let r=this.getValue(e);return r===null?0:typeof r=="bigint"?r:Number(r)}getFloat(e){let r=this.getValue(e);return r===null?0:Number(r)}getDouble(e){let r=this.getValue(e);return r===null?0:Number(r)}getDecimal(e){let r=this.getValue(e);return r===null?0:typeof r=="string"?r:Number(r)}getString(e){let r=this.getValue(e);return r===null?null:typeof r=="string"?r:r.toString?r.toString():String(r)}getDateTime(e){let r=this.getValue(e);return r===null?null:r instanceof Date?r:new Date(r)}getTimeSpan(e){let r=this.getValue(e);if(r===null)return null;if(typeof r=="object"&&"hours"in r)return r;if(typeof r=="string"){let n=r.split(":");if(n.length>=2){let i=(n[2]||"0").split(".");return{hours:parseInt(n[0],10),minutes:parseInt(n[1],10),seconds:parseInt(i[0],10),microseconds:i.length>1?parseInt(i[1].padEnd(6,"0"),10):0,toString(){return r}}}}return r}getRowObject(){if(!this.currentRow)return null;let e={};for(let r=0;r<this.columnDescriptions.length;r++)e[this.columnDescriptions[r].name]=this.currentRow[r];return e}getValues(){return this.currentRow?[...this.currentRow]:[]}async close(){if(!this.closed){if(this.closed=!0,!this._isFinished&&this.generator)try{for await(let e of this.generator)if(e.type==="ReadyForQuery")break}catch{}this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}}get isClosed(){return this.closed}_validateOrdinal(e){if(!this.currentRow)throw new Error("No current row. Did you call read()?");if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`)}async*[Symbol.asyncIterator](){for(;await this.read();)yield this.getRowObject()}};ry.exports=ER});var sy=g((Bye,iy)=>{"use strict";var fR=class{constructor(){this.version=null;this.nullsAllowed=null;this.sizeWord=null;this.sizeWordSize=null;this.numFixedFields=null;this.numVaryingFields=null;this.fixedFieldsSize=0;this.maxRecordSize=null;this.numFields=0;this.fieldType=[];this.fieldSize=[];this.fieldTrueSize=[];this.fieldOffset=[];this.fieldPhysField=[];this.fieldLogField=[];this.fieldNullAllowed=[];this.fieldFixedSize=[];this.fieldSpringField=[];this.dateStyle=null;this.euroDates=null}clear(){this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[]}parse(e,r){this.clear();let n=0;this.version=e.readInt32BE(n),n+=4,this.nullsAllowed=e.readInt32BE(n),n+=4,this.sizeWord=e.readInt32BE(n),n+=4,this.sizeWordSize=e.readInt32BE(n),n+=4,this.numFixedFields=e.readInt32BE(n),n+=4,this.numVaryingFields=e.readInt32BE(n),n+=4,this.fixedFieldsSize=e.readInt32BE(n),n+=4,this.maxRecordSize=e.readInt32BE(n),n+=4,this.numFields=e.readInt32BE(n),n+=4;let i=3,s=39;for(let o=0;o<this.numFields;o++){let a=e.readInt32BE(n);a===i&&r?.description?.[o]?.typeOid===702&&(a=s),this.fieldType.push(a),this.fieldSize.push(e.readInt32BE(n+4)),this.fieldTrueSize.push(e.readInt32BE(n+8)),this.fieldOffset.push(e.readInt32BE(n+12)),this.fieldPhysField.push(e.readInt32BE(n+16)),this.fieldLogField.push(e.readInt32BE(n+20)),this.fieldNullAllowed.push(e.readInt32BE(n+24)!==0),this.fieldFixedSize.push(e.readInt32BE(n+28)),this.fieldSpringField.push(e.readInt32BE(n+32)),n+=36}this.dateStyle=e.readInt32BE(n),n+=4,this.euroDates=e.readInt32BE(n)}getFieldPrecision(e){return this.fieldSize[e]>>8&127}getFieldScale(e){return this.fieldSize[e]&255}getNumericDigitCount(e){return Math.floor(this.fieldTrueSize[e]/4)}};iy.exports=fR});var Hr=g((Gye,ay)=>{"use strict";var dR=Z(require("net")),Ss=Z(require("fs")),oy=require("events");tR();vb();var Xz=Zb(),Rt=nR(),Kz=ty(),zz=ny(),jz=sy(),fe=lR()("nz:connection"),hR=class extends oy.EventEmitter{constructor(r){super();this._socket=null;this._stream=null;this._backendProcessId=0;this._backendSecretKey=0;this._commandNumber=-1;this._connected=!1;this._rowDescription=null;this._rows=[];this._tupdesc=new jz;this._tmpBuffer=Buffer.alloc(65536);this._intBuf=Buffer.allocUnsafe(65536);this._intBufStart=0;this._intBufEnd=0;this.commandTimeout=30;this.connectionTimeout=30;this._executing=!1;this._exportStream=null;this.config=r,r.connectionTimeout!==void 0&&(this.connectionTimeout=r.connectionTimeout)}async connect(){return new Promise((r,n)=>{if(!this.config.host)return n(new Error("Host is required"));let i=!1,s;this.connectionTimeout>0&&(s=setTimeout(()=>{i=!0,fe("Connection timeout triggered after",this.connectionTimeout,"seconds"),this._socket&&this._socket.destroy(),n(new Error(`Connection timeout after ${this.connectionTimeout} seconds`))},this.connectionTimeout*1e3));let o=()=>{s&&(clearTimeout(s),s=void 0)};this._socket=new dR.Socket,this._socket.connect(this.config.port||5480,this.config.host,async()=>{if(i)return;fe("Socket connected"),this._socket.setNoDelay(!0),this._stream=this._socket;let a=new Xz(this._socket,this._stream,this.config.host,this.config);try{if(this._stream=await a.startup(this.config.database,this.config.user,this.config.password),i)return;o(),this._connected=!0,this._backendProcessId=a.backendProcessId,this._backendSecretKey=a.backendSecretKey,r()}catch(l){o(),this._socket.destroy(),n(l)}}),this._socket.on("error",a=>{fe("Socket error",a),o(),this._connected?this.emit("error",a):n(a)}),this._socket.on("close",()=>{fe("Socket closed"),o(),this._connected=!1,this.emit("close")})})}async cancel(){if(!(!this._backendProcessId||!this._backendSecretKey))return new Promise((r,n)=>{let i=new dR.Socket;i.on("error",s=>{fe("Cancel socket error",s),n(s)}),i.connect(this.config.port||5480,this.config.host,()=>{let s=Buffer.alloc(16);Rt.writeInt32(s,16,0),Rt.writeInt32(s,80877102,4),Rt.writeInt32(s,this._backendProcessId,8),Rt.writeInt32(s,this._backendSecretKey,12),i.write(s,()=>{}),i.on("close",()=>r()),i.on("end",()=>r()),i.on("error",()=>r())})})}close(){this._socket&&(this._socket.end(),this._socket.destroy())}createCommand(r){let n=new Kz(this);return r&&(n.commandText=r),n}async beginTransaction(){let r=this.createCommand("BEGIN");await this.execute(r)}async commit(){let r=this.createCommand("COMMIT");await this.execute(r)}async rollback(){let r=this.createCommand("ROLLBACK");await this.execute(r)}async _readBytes(r){if(this._intBufEnd-this._intBufStart>=r){let n=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+r));return this._intBufStart+=r,n}return this._readBytesSlow(r)}async _readBytesSlow(r){if(r>this._intBuf.length){let i=[],s=this._intBufEnd-this._intBufStart;s>0&&(i.push(Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufEnd))),this._intBufStart=0,this._intBufEnd=0);let o=r-s;for(;o>0;){let a=this._stream.read();a!==null?a.length<=o?(i.push(a),o-=a.length):(i.push(a.slice(0,o)),this._feedBuffer(a.slice(o)),o=0):await this._waitForReadable()}return Buffer.concat(i,r)}if(this._intBuf.length-this._intBufStart<r){let i=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=i}for(;this._intBufEnd-this._intBufStart<r;){let i=this._stream.read();if(i!==null){let s=this._intBuf.length-this._intBufEnd;i.length<=s?(i.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=i.length):(i.copy(this._intBuf,this._intBufEnd,0,s),this._intBufEnd+=s,this._stream.unshift(i.slice(s)))}else await this._waitForReadable()}let n=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+r));return this._intBufStart+=r,n}async _waitForReadable(){if(!this._socket||this._socket.destroyed)throw new Error("Socket closed or destroyed during read");return new Promise((r,n)=>{let i=()=>{this._stream.removeListener("readable",s),this._stream.removeListener("close",o),this._stream.removeListener("error",a),this._stream.removeListener("end",o)},s=()=>{i(),r()},o=()=>{i(),n(new Error("Socket closed/ended during read"))},a=l=>{i(),n(l)};this._stream.once("readable",s),this._stream.once("close",o),this._stream.once("end",o),this._stream.once("error",a)})}_feedBuffer(r){this._stream.unshift(r)}async _readInt32(){await this._ensureBufferData(4);let r=this._intBuf.readInt32BE(this._intBufStart);return this._intBufStart+=4,r}async _readInt16(){await this._ensureBufferData(2);let r=this._intBuf.readInt16BE(this._intBufStart);return this._intBufStart+=2,r}async _readByte(){await this._ensureBufferData(1);let r=this._intBuf[this._intBufStart];return this._intBufStart+=1,r}async _ensureBufferData(r){if(!(this._intBufEnd-this._intBufStart>=r)){if(this._intBuf.length-this._intBufStart<r){let n=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=n}for(;this._intBufEnd-this._intBufStart<r;){let n=this._stream.read();if(n!==null){let i=this._intBuf.length-this._intBufEnd;n.length<=i?(n.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=n.length):(n.copy(this._intBuf,this._intBufEnd,0,i),this._intBufEnd+=i,this._stream.unshift(n.slice(i)))}else await this._waitForReadable()}}}async execute(r,n=!1){let i=r.commandTimeout;if(!i||i<=0)return this._doExecute(r);let s,o=this._doExecute(r),a=new Promise((l,c)=>{s=setTimeout(async()=>{fe("Command timeout triggered");try{await this.cancel(),c(new Error("Command execution timeout"))}catch(u){c(new Error("Command execution timeout (Cancel failed: "+u.message+")"))}},i*1e3)});try{return await Promise.race([o,a])}catch(l){throw l.message&&l.message.includes("Command execution timeout")&&o.catch(()=>{}),l}finally{clearTimeout(s)}}async _doExecute(r){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{fe("Executing:",r.commandText),this._preExecution(r.commandText);let n=null;for await(let i of this._responseGenerator(r))i.type==="ErrorResponse"&&(n=new Error("Netezza Error: "+i.message));if(n)throw n;return!0}finally{this._executing=!1}}async executeReader(r){let n=r.commandTimeout||this.commandTimeout;if(!n||n<=0)return this._doExecuteReader(r);let i,s=this._doExecuteReader(r),o=new Promise((a,l)=>{i=setTimeout(async()=>{fe("Command timeout triggered");try{await this.cancel(),l(new Error("Command execution timeout"))}catch(c){l(new Error("Command execution timeout (Cancel failed: "+c.message+")"))}},n*1e3)});try{return await Promise.race([s,o])}catch(a){throw a.message&&a.message.includes("Command execution timeout")&&s.catch(()=>{}),a}finally{clearTimeout(i)}}async _doExecuteReader(r){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{fe("Executing Reader:",r.commandText),this._preExecution(r.commandText);let n=this._responseGenerator(r),i=[],s=await n.next(),o=null,a=null;for(;!s.done;){let l=s.value;if(l.type==="RowDescription")i=l.columns;else if(l.type==="RowDescriptionStandard"){let c=l.desc;if(c&&c.numFields>0&&i.length===0){let u=r._preparedStatement;u&&u.description&&(i=u.description)}}else if(l.type==="DataRow"||l.type==="CommandComplete"||l.type==="ReadyForQuery"){if(!o&&i.length>0){a=l;break}}else l.type==="ErrorResponse"&&(o=new Error("Netezza Error: "+l.message));s=await n.next()}if(o)throw this._executing=!1,o;return new zz(r,n,i,()=>{this._executing=!1},a)}catch(n){throw this._executing=!1,n}}_preExecution(r){let n=Buffer.from(r,"utf8"),i=Buffer.allocUnsafe(5+n.length+1);i[0]=80,this._commandNumber!==-1?(this._commandNumber++,i.writeInt32BE(this._commandNumber,1)):(i[1]=255,i[2]=255,i[3]=255,i[4]=255),this._commandNumber>1e5&&(this._commandNumber=1),n.copy(i,5),i[5+n.length]=0,this._stream.write(i)}async*_responseGenerator(r){this._rows=[],this._rowDescription=null;let n=!1;for(;!n;){let i=await this._readByte();for(;i===0;)i=await this._readByte();if(i===117){await this._handleExternalTableExportStart();continue}if(i===85){await this._handleExternalTableExportData();continue}if(i===108){await this._handleExternalTableImport();continue}if(i===120){await this._readBytes(4),fe("Error operation cancel (Ext Tbl)");continue}if(i===101){await this._readBytes(4);let o=Rt.readInt32(await this._readBytes(4)),a=(await this._readBytes(o-1)).toString("utf8");await this._readBytes(1);let l=[],c=(await this._readBytes(1))[0];for(l.push(c);c=(await this._readBytes(1))[0],c!==0;)l.push(c);let u=Rt.readInt32(await this._readBytes(4));await this._consumeExternalTableLogData();continue}let s=await this._readBytes(4);if(i===rr.CommandComplete){let o=await this._readInt32(),a=await this._readBytes(o);fe("CommandComplete:",a.toString("utf8")),yield{type:"CommandComplete",text:a.toString("utf8")};continue}if(i===rr.ReadyForQuery){n=!0,yield{type:"ReadyForQuery"};continue}if(i===76){n=!0;continue}if(!(i===48||i===65)){if(i===80){let o=await this._readInt32();await this._readBytes(o);continue}if(i===rr.ErrorResponse){let o=await this._readInt32();yield{type:"ErrorResponse",message:(await this._readBytes(o)).toString("utf8")};continue}if(i===rr.RowDescription){let o=await this._readInt32(),a=await this._readBytes(o);this._parseRowDescription(a,r),yield{type:"RowDescription",columns:this._rowDescription};continue}if(i===rr.DataRow){let o=await this._readInt32(),a=await this._readBytes(o);yield{type:"DataRow",row:this._parseDataRow(a)};continue}if(i===rr.RowDescriptionStandard){let o=await this._readInt32(),a=await this._readBytes(o);this._tupdesc.parse(a,r._preparedStatement),yield{type:"RowDescriptionStandard",desc:this._tupdesc};continue}if(i===rr.RowStandard){yield{type:"DataRow",row:await this._resReadDbosTuple(r)};continue}if(i===rr.NoticeResponse){let o=await this._readInt32(),l=(await this._readBytes(o)).toString("utf8").replace(/\0/g,"").trim();this.emit("notice",{message:l});continue}fe("Unknown message:","0x"+i.toString(16));try{let o=await this._readInt32();o>0&&o<1e7&&await this._readBytes(o)}catch{}}}}async _consumeExternalTableLogData(){for(;;){let r=await this._readBytes(4),n=Rt.readInt32(r);if(n===0)return;let i=await this._readBytes(n);fe("ExtLog Content:",i.toString("utf8"))}}async _handleExternalTableExportStart(){await this._readBytes(4),await this._readBytes(10),await this._readBytes(16);let r=Rt.readInt32(await this._readBytes(4)),i=(await this._readBytes(r)).toString("utf8");fe("ExternalTable Export Start. File:",i);try{this._exportStream=Ss.createWriteStream(i),this._exportStream.on("error",o=>{fe("Export Stream Error:",o)});let s=Buffer.alloc(4);await new Promise(o=>this._stream.write(s,()=>o()))}catch(s){fe("Error opening export file:",s);let o=Buffer.alloc(4);Rt.writeInt32(o,1,0),this._stream.write(o)}}async _handleExternalTableExportData(){fe("Handle Export Data: Skipping 8 bytes...");let r=await this._readBytes(4);fe("Skipped 4:",r.toString("hex"));let n=await this._readBytes(4);fe("Skipped 4 (2):",n.toString("hex")),await this._consumeExternalTableData(this._exportStream),this._exportStream=null}async _consumeExternalTableData(r){for(fe("Entering Consume Loop");;){fe("Reading status...");let n=await this._readBytes(4),i=Rt.readInt32(n);if(fe("ExtTab Status:",i),i===hs.DATA){let s=Rt.readInt32(await this._readBytes(4));fe("Block Length:",s);let o=await this._readBytes(s);r&&r.write(o)}else if(i===hs.DONE){fe("ExternalTable Data Done"),r&&await new Promise(s=>{if(fe("Waiting for writeStream finish..."),r.writableFinished)return fe("Stream already finished"),s();let o=setTimeout(()=>{fe("Stream finish timeout! Destroying..."),r.destroy(),s()},5e3),a=()=>{fe("Stream finished event"),clearTimeout(o),c(),s()},l=u=>{fe("Stream error on end:",u),clearTimeout(o),c(),s()},c=()=>{r.removeListener("finish",a),r.removeListener("error",l)};r.on("finish",a),r.on("error",l),r.end()});return}else if(i===hs.ERROR){let s=Rt.readInt16(await this._readBytes(2)),o=(await this._readBytes(s)).toString("utf8");fe("ExternalTable Data Error:",o),r&&r.end();return}else{fe("Unknown ExtTab Status:",i),r&&r.end();return}}}async _handleExternalTableImport(){await this._readBytes(8);let r=[],n=(await this._readBytes(1))[0];for(r.push(n);n!==0;)n=(await this._readBytes(1))[0],n!==0&&r.push(n);let i=Buffer.from(r).toString("utf8");fe("ExternalTable Import Start. File:",i);let s=Rt.readInt32(await this._readBytes(4));fe("Host Version:",s);let o=Buffer.alloc(4);Rt.writeInt32(o,1,0),await new Promise(f=>this._stream.write(o,()=>f())),fe("Sent Client Version");let a=Rt.readInt32(await this._readBytes(4)),l=Rt.readInt32(await this._readBytes(4));if(fe("ExtTab Import Config:",{hostVersion:s,format:a,bufSize:l}),!Ss.existsSync(i)){fe("Import file not found:",i);let f=Buffer.alloc(4);Rt.writeInt32(f,hs.ERROR,0),this._stream.write(f);return}let u=Ss.statSync(i).size,E=0,d=Ss.createReadStream(i,{highWaterMark:l||65536});await new Promise((f,T)=>{d.on("data",h=>{let S=Buffer.isBuffer(h)?h:Buffer.from(h),p=Buffer.alloc(8);Rt.writeInt32(p,hs.DATA,0),Rt.writeInt32(p,S.length,4),this._stream.write(p),this._stream.write(S),E+=S.length,this.emit("importProgress",{bytesSent:E,totalSize:u,percentComplete:u>0?Math.round(E/u*100):0})}),d.on("end",()=>{fe("Import Stream End");let h=Buffer.alloc(4);Rt.writeInt32(h,hs.DONE,0),this._stream.write(h),f()}),d.on("error",h=>{fe("Import Stream Error:",h);let S=Buffer.alloc(4);Rt.writeInt32(S,hs.ERROR,0),this._stream.write(S);let p=h.message||"Error",I=Buffer.alloc(2);I.writeInt16BE(p.length),this._stream.write(I),this._stream.write(Buffer.from(p,"utf8")),T(h)})})}_parseRowDescription(r,n){fe("parseRowDescription data length:",r.length,"hex:",r.toString("hex").substring(0,100));let i=0;if(r.length<2){fe("Data too short for row description");return}let s=r.readInt16BE(i);i+=2,fe("Column count:",s),this._rowDescription=[];for(let o=0;o<s&&i<r.length;o++){let a=i;for(;i<r.length&&r[i]!==0;)i++;let l=r.toString("utf8",a,i);if(i++,i+11>r.length){fe("Not enough data for column",o,"at offset",i,"need 11 more, have",r.length-i);break}let c=r.readInt32BE(i);i+=4;let u=r.readInt16BE(i);i+=2;let E=r.readInt32BE(i);i+=4;let d=r[i];i+=1,this._rowDescription.push({name:l,typeOid:c,typeLen:u,typeMod:E,format:d}),fe("Column",o,":",l,"typeOid:",c,"typeLen:",u)}n&&(n._preparedStatement={description:this._rowDescription})}_parseDataRow(r){let n=this._rowDescription.length,s=Math.ceil(n/8),o=[];for(let a=0;a<n;a++){let l=r[Math.floor(a/8)],c=7-a%8;if(!((l&1<<c)!==0)){o.push(null);continue}let E=r.readInt32BE(s);s+=4;let d=E-4;if(d<=0){o.push(null);continue}let T=this._rowDescription[a]?.typeOid,h=r.toString("utf8",s,s+d);T===1083?o.push(Db(h)):o.push(h),s+=d}return o}async _resReadDbosTuple(r){let n=this._tupdesc.numFields;await this._readBytes(4);let i=Rt.readInt32(await this._readBytes(4)),s=await this._readBytes(i),o=new Array(n);for(let a=0;a<n;a++){if(this._columnIsNull(s,a)){o[a]=null;continue}let l=this._cTableFieldAt(s,a),c=this._tupdesc.fieldType[a],u=this._tupdesc.fieldSize[a];o[a]=this._parseFieldByType(l,c,u,a)}return o}_parseFieldByType(r,n,i,s){switch(n){case Pt.NzTypeChar:return r.toString("latin1",0,i).trimEnd();case Pt.NzTypeNChar:case Pt.NzTypeNVarChar:{let o=r.readInt16LE(0)-2;return r.toString("utf8",2,2+o)}case Pt.NzTypeVarChar:case Pt.NzTypeVarFixedChar:{let o=r.readInt16LE(0)-2;return r.toString("latin1",2,2+o)}case Pt.NzTypeInt8:return r.readBigInt64LE(0);case Pt.NzTypeInt:return r.readInt32LE(0);case Pt.NzTypeInt2:return r.readInt16LE(0);case Pt.NzTypeInt1:return r.readInt8(0);case Pt.NzTypeDouble:return r.readDoubleLE(0);case Pt.NzTypeFloat:return r.readFloatLE(0);case Pt.NzTypeDate:return wb(r);case Pt.NzTypeTime:return mf(r);case Pt.NzTypeInterval:return Pb(r);case Pt.NzTypeTimeTz:return Mb(r,i);case Pt.NzTypeTimestamp:return Lb(r);case Pt.NzTypeBool:return r[0]===1;case Pt.NzTypeNumeric:{let o=this._tupdesc.getFieldPrecision(s),a=this._tupdesc.getFieldScale(s),l=this._tupdesc.getNumericDigitCount(s);return xb(r,o,a,l)}default:return r.toString("utf8",0,i)}}_columnIsNull(r,n){if(!this._tupdesc.nullsAllowed)return!1;let i=this._tupdesc.fieldPhysField[n];return(r[2+Math.floor(i/8)]&1<<i%8)!==0}_cTableFieldAt(r,n){if(this._tupdesc.fieldFixedSize[n]!==0)return r.slice(this._tupdesc.fieldOffset[n]);let i=r.slice(this._tupdesc.fixedFieldsSize);for(let s=0;s<this._tupdesc.fieldOffset[n];s++){let o=i.readInt16LE(0);i=i.slice(o%2===0?o:o+1)}return i}};ay.exports=hR});var Lf,Ci,TR=Y(()=>{"use strict";Lf=Z(require("vscode")),Ci=class t{constructor(e){this.context=e;this._connections={};this._activeConnectionName=null;this._documentConnections=new Map;this._persistentConnections=new Map;this._keepConnectionOpen=!1;this._onDidChangeConnections=new Lf.EventEmitter;this.onDidChangeConnections=this._onDidChangeConnections.event;this._onDidChangeActiveConnection=new Lf.EventEmitter;this.onDidChangeActiveConnection=this._onDidChangeActiveConnection.event;this._onDidChangeDocumentConnection=new Lf.EventEmitter;this.onDidChangeDocumentConnection=this._onDidChangeDocumentConnection.event;this._loadingPromise=this.loadConnections()}static{this.SERVICE_NAME="netezza-vscode-connections"}static{this.ACTIVE_CONN_KEY="netezza-active-connection"}async loadConnections(){this._activeConnectionName=this.context.globalState.get(t.ACTIVE_CONN_KEY)||null;let e=await this.context.secrets.get(t.SERVICE_NAME);if(e)try{this._connections=JSON.parse(e)}catch(r){console.error("Failed to parse connections:",r),this._connections={}}else{let r=await this.context.secrets.get("netezza-vscode");if(r)try{let n=JSON.parse(r);if(n&&n.host){let i=`Default (${n.host})`;this._connections={[i]:{...n,name:i}},this._activeConnectionName=i,await this.saveConnectionsToStorage()}}catch{}}this._onDidChangeConnections.fire()}async ensureLoaded(){await this._loadingPromise}async saveConnectionsToStorage(){await this.context.secrets.store(t.SERVICE_NAME,JSON.stringify(this._connections)),this._activeConnectionName?await this.context.globalState.update(t.ACTIVE_CONN_KEY,this._activeConnectionName):await this.context.globalState.update(t.ACTIVE_CONN_KEY,void 0)}async saveConnection(e){if(await this.ensureLoaded(),!e.name)throw new Error("Connection name is required");this._connections[e.name]=e,this._activeConnectionName||await this.setActiveConnection(e.name),await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}async deleteConnection(e){if(await this.ensureLoaded(),this._connections[e]){if(await this.closePersistentConnection(e),delete this._connections[e],this._activeConnectionName===e){let r=Object.keys(this._connections);await this.setActiveConnection(r.length>0?r[0]:null)}await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}}async getConnections(){return await this.ensureLoaded(),Object.values(this._connections)}async getConnection(e){return await this.ensureLoaded(),this._connections[e]}async setActiveConnection(e){await this.ensureLoaded(),this._activeConnectionName=e,await this.context.globalState.update(t.ACTIVE_CONN_KEY,e),this._onDidChangeActiveConnection.fire(e)}getActiveConnectionName(){return this._activeConnectionName}async getCurrentDatabase(e){await this.ensureLoaded();let r=e||this._activeConnectionName;return r&&this._connections[r]?.database||null}setKeepConnectionOpen(e){this._keepConnectionOpen=e,e||this.closeAllPersistentConnections()}getKeepConnectionOpen(){return this._keepConnectionOpen}async getPersistentConnection(e){let r=e||this._activeConnectionName;if(!r)throw new Error("No connection selected");let n=await this.getConnection(r);if(!n)throw new Error(`Connection '${r}' not found or invalid`);let i=this._persistentConnections.get(r);if(!i){let s=Hr(),o={host:n.host,port:n.port||5480,database:n.database,user:n.user,password:n.password},a=new s(o);await a.connect(),i=a,this._persistentConnections.set(r,i)}return i}async closePersistentConnection(e){let r=this._persistentConnections.get(e);if(r){try{await r.close()}catch(n){console.error(`Error closing connection ${e}:`,n)}this._persistentConnections.delete(e)}}async closeAllPersistentConnections(){for(let e of this._persistentConnections.keys())await this.closePersistentConnection(e)}dispose(){this.closeAllPersistentConnections()}getDocumentConnection(e){return this._documentConnections.get(e)}setDocumentConnection(e,r){this._documentConnections.set(e,r),this._onDidChangeDocumentConnection.fire(e)}clearDocumentConnection(e){this._documentConnections.delete(e),this._onDidChangeDocumentConnection.fire(e)}getConnectionForExecution(e){if(e){let r=this._documentConnections.get(e);if(r)return r}return this._activeConnectionName||void 0}}});var cy={};Dt(cy,{QueryHistoryManager:()=>pr});var ly,on,SR,pr,wf=Y(()=>{"use strict";ly=Z(require("vscode")),on=Z(require("fs")),SR=Z(require("path")),pr=class t{constructor(e){this.context=e;this.cache=[];this.initialized=!1;if(this.context.globalStorageUri){this.historyFilePath=ly.Uri.joinPath(this.context.globalStorageUri,"query-history.json").fsPath;try{on.existsSync(this.context.globalStorageUri.fsPath)||on.mkdirSync(this.context.globalStorageUri.fsPath,{recursive:!0})}catch(r){console.error("[QueryHistoryManager] Error creating storage directory:",r)}}this.initialize()}static{this.STORAGE_KEY="queryHistory"}static{this.MAX_ENTRIES=5e4}static{this.CLEANUP_KEEP=4e4}static{this.STORAGE_VERSION=1}async initialize(){try{let e=!1;if(this.historyFilePath&&on.existsSync(this.historyFilePath))try{let r=await on.promises.readFile(this.historyFilePath,"utf-8");if(!r||!r.trim())console.log("[QueryHistoryManager] File is empty, starting fresh"),this.cache=[],e=!0;else{let n=JSON.parse(r);n&&n.entries&&(this.cache=n.entries,e=!0)}}catch(r){console.warn("[QueryHistoryManager] Corrupted history file, resetting:",r),this.cache=[],e=!0;try{await this.saveToStorage(),console.log("[QueryHistoryManager] Reset corrupted file to empty state")}catch(n){console.error("[QueryHistoryManager] Failed to reset file:",n)}}if(!e){let r=this.context.globalState.get(t.STORAGE_KEY);r&&r.entries&&(this.cache=r.entries,console.log(`\u2705 Migrated ${this.cache.length} entries from globalState`),await this.saveToStorage(),await this.context.globalState.update(t.STORAGE_KEY,void 0))}!e&&this.cache.length===0&&await this.migrateFromLegacyStorage(),this.initialized=!0}catch(e){console.error("\u274C Error initializing query history:",e),this.cache=[],this.initialized=!0}}async migrateFromLegacyStorage(){try{let e=this.context.globalStorageUri.fsPath,r=SR.join(e,"query-history.db");on.existsSync(r)&&console.log("\u26A0\uFE0F SQLite database found but migration not implemented");let n=SR.join(e,"query-history-archive.json");if(on.existsSync(n))try{let i=on.readFileSync(n,"utf8");if(i.trim()){let s=JSON.parse(i);this.cache.push(...s),await this.saveToStorage(),console.log(`\u2705 Migrated archive with ${s.length} entries`)}}catch{}}catch(e){console.error("Error during migration:",e)}}async saveToStorage(){if(this.historyFilePath)try{let e={entries:this.cache,version:t.STORAGE_VERSION};await on.promises.writeFile(this.historyFilePath,JSON.stringify(e),"utf-8")}catch(e){console.error("Error saving to storage:",e)}}async addEntry(e,r,n,i,s,o,a){try{this.initialized||await this.initialize();let l=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,c=Date.now(),u={id:l,host:e,database:r,schema:n,query:i.trim(),timestamp:c,connectionName:s,is_favorite:!1,tags:o||"",description:a||""};this.cache.unshift(u),this.cache.length>t.MAX_ENTRIES&&(this.cache=this.cache.slice(0,t.CLEANUP_KEEP),console.log(`Cleaned up old entries, keeping ${t.CLEANUP_KEEP} newest`)),await this.saveToStorage()}catch(l){console.error("Error adding query to history:",l)}}async getHistory(){return this.initialized||await this.initialize(),[...this.cache]}async deleteEntry(e){try{this.initialized||await this.initialize(),this.cache=this.cache.filter(r=>r.id!==e),await this.saveToStorage()}catch(r){console.error("Error deleting entry:",r)}}async clearHistory(){try{this.initialized||await this.initialize(),this.cache=[],await this.saveToStorage(),console.log("All query history cleared")}catch(e){console.error("Error clearing history:",e)}}async getStats(){try{let e=this.cache.length,r=JSON.stringify(this.cache).length,n=parseFloat((r/(1024*1024)).toFixed(2));return{activeEntries:e,archivedEntries:0,totalEntries:e,activeFileSizeMB:n,archiveFileSizeMB:0,totalFileSizeMB:n}}catch(e){return console.error("Error getting stats:",e),{activeEntries:0,archivedEntries:0,totalEntries:0,activeFileSizeMB:0,archiveFileSizeMB:0,totalFileSizeMB:0}}}async toggleFavorite(e){try{this.initialized||await this.initialize();let r=this.cache.find(n=>n.id===e);r&&(r.is_favorite=!r.is_favorite,await this.saveToStorage())}catch(r){console.error("Error toggling favorite:",r)}}async updateEntry(e,r,n){try{this.initialized||await this.initialize();let i=this.cache.find(s=>s.id===e);i&&(r!==void 0&&(i.tags=r),n!==void 0&&(i.description=n),await this.saveToStorage())}catch(i){console.error("Error updating entry:",i)}}async getFavorites(){return this.initialized||await this.initialize(),this.cache.filter(e=>e.is_favorite)}async getByTag(e){return this.initialized||await this.initialize(),this.cache.filter(r=>r.tags?.toLowerCase().includes(e.toLowerCase()))}async getAllTags(){this.initialized||await this.initialize();let e=new Set;return this.cache.forEach(r=>{r.tags&&r.tags.split(",").forEach(i=>{let s=i.trim();s&&e.add(s)})}),Array.from(e).sort()}async searchAll(e){this.initialized||await this.initialize();let r=e.toLowerCase();return this.cache.filter(n=>n.query.toLowerCase().includes(r)||n.host.toLowerCase().includes(r)||n.database.toLowerCase().includes(r)||n.schema.toLowerCase().includes(r)||n.tags?.toLowerCase().includes(r)||n.description?.toLowerCase().includes(r))}async getFilteredHistory(e,r,n,i){this.initialized||await this.initialize();let s=this.cache.filter(o=>!(e&&o.host!==e||r&&o.database!==r||n&&o.schema!==n));return i&&(s=s.slice(0,i)),s}async getArchivedHistory(){return[]}async clearArchive(){}close(){console.log("Query history manager closed")}}});function Df(t){let e=new Set;if(!t)return e;for(let r of t.matchAll(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g))r[1]&&e.add(r[1]);for(let r of t.matchAll(/\$([A-Za-z_][A-Za-z0-9_]*)(?!\s*\})/g)){let n=r[0],i=r.index;if(i>0&&t[i-1]==="{")continue;let s=i+n.length;s<t.length&&t[s]==="}"||r[1]&&e.add(r[1])}return e}function Pf(t){if(!t)return{sql:"",setValues:{}};let e=t.split(/\r?\n/),r=[],n={};for(let i of e){let s=i.match(/^\s*@SET\s+([A-Za-z0-9_]+)\s*=\s*(.+)$/i);if(s){let o=s[2].trim();o.endsWith(";")&&(o=o.slice(0,-1).trim());let a=o.match(/^'(.*)'$/s)||o.match(/^"(.*)"$/s);a&&(o=a[1]),n[s[1]]=o}else r.push(i)}return{sql:r.join(`
`),setValues:n}}function Mf(t,e){let r=t.replace(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g,(i,s)=>e[s]??""),n=Object.keys(e).sort((i,s)=>s.length-i.length);for(let i of n)if(/^[A-Za-z_]/.test(i)){let s=new RegExp(`\\$${i}(?![A-Za-z0-9_])`,"g");r=r.replace(s,e[i]??"")}return r}var uy=Y(()=>{"use strict"});async function Ey(){let t=wr.window.activeTextEditor;if(!t){wr.window.showWarningMessage("No active editor to cancel query for.");return}let e=t.document.uri.toString(),r=bi.get(e);if(r)try{await r.cancel(),wr.window.showInformationMessage("Cancellation request sent.")}catch(n){let i=n instanceof Error?n.message:String(n);wr.window.showErrorMessage(`Failed to cancel query: ${i}`)}else wr.window.showInformationMessage("No active query found for this tab.")}async function pR(t,e,r){let n={};if(t.size===0)return n;if(e){let s=Array.from(t).filter(o=>!(r&&r[o]!==void 0));if(s.length>0)throw new Error("Query contains variables but silent mode is enabled; cannot prompt for values. Missing: "+s.join(", "));for(let o of t)n[o]=r[o];return n}let i=[];for(let s of t)r&&r[s]!==void 0?n[s]=r[s]:i.push(s);for(let s of i){let o=await wr.window.showInputBox({prompt:`Enter value for ${s}`,placeHolder:"",value:r&&r[s]?r[s]:void 0,ignoreFocusOut:!0});if(o===void 0)throw new Error("Variable input cancelled by user");n[s]=o}return n}function Jz(t,e){let r;return!t&&!e&&(r=wr.window.createOutputChannel("Netezza SQL"),r.show(!0)),{outputChannel:r,logCallback:e}}function Pc(t,e){t.outputChannel&&t.outputChannel.appendLine(e),t.logCallback&&t.logCallback(e)}async function Qz(t,e){let r=Pf(t),n=r.sql,i=r.setValues,s=Df(n);if(s.size>0){let o=await pR(s,e,i);n=Mf(n,o)}return n}function fy(t,e,r){let n=e;if(!n&&r&&(n=t.getConnectionForExecution(r)),n||(n=t.getActiveConnectionName()||void 0),!n)throw new Error("No connection selected");return n}async function dy(t,e,r){if(r)return{connection:await t.getPersistentConnection(e),shouldCloseConnection:!1};{let n=Hr(),i=await t.getConnection(e);if(!i)throw new Error(`Connection '${e}' not found`);let s={host:i.host,port:i.port||5480,database:i.database,user:i.user,password:i.password},o=new n(s);return await o.connect(),{connection:o,shouldCloseConnection:!0}}}async function RR(t,e){let r=Date.now(),n=1e4;try{let i=!1;do{for(;await t.read();)if(Date.now()-r>n){i=!0;break}if(i)break;if(Date.now()-r>n){i=!0;break}}while(await t.nextResult());i&&console.warn(`consumeRestAndCancel timed out after ${n}ms, forcing cancel`),await e.cancel()}catch(i){console.warn("Failed to cancel command after limit reached:",i)}}async function Zz(t,e,r,n){let i=t.createCommand(e);i.commandTimeout=r,n&&bi.set(n,i);try{let s=await i.executeReader(),o=[],a=[],l=2e5,c=0,u=!1;for(;await s.read();){if(o.length===0)for(let d=0;d<s.fieldCount;d++)o.push({name:s.getName(d),type:s.getTypeName(d)});let E=[];for(let d=0;d<s.fieldCount;d++)E.push(s.getValue(d));if(a.push(E),c++,c>=l){u=!0,await RR(s,i);break}}return{columns:o,data:a,limitReached:u}}finally{n&&bi.delete(n)}}async function ej(t,e,r,n){let i="unknown",s=await e.getConnection(r);s&&new pr(t).addEntry(s.host,s.database,i,n,r).catch(a=>console.error("History log error:",a))}async function tj(t,e,r=!1,n,i,s,o){let a=n||new Ci(t),l=a.getKeepConnectionOpen(),c=Jz(r,o);Pc(c,"Executing query..."),i&&Pc(c,`Target Connection: ${i}`);try{let u=await Qz(e,r),E=fy(a,i,s),{connection:d,shouldCloseConnection:f}=await dy(a,E,l);if(c.outputChannel){let T=h=>{let S=h;c.outputChannel.appendLine(`NOTICE: ${S.message}`)};d.on("notice",T)}try{let h=wr.workspace.getConfiguration("netezza").get("queryTimeout",1800),{columns:S,data:p,limitReached:I}=await Zz(d,u,h,s);return await ej(t,a,E,e),S.length>0?(Pc(c,"Query completed."),{columns:S,data:p,rowsAffected:void 0,limitReached:I,sql:u}):(Pc(c,"Query executed successfully (no results)."),{columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully (no results).",sql:u})}finally{f&&d&&await d.close()}}catch(u){let d=`Error: ${u.message||String(u)}`;throw Pc(c,d),new Error(d)}}async function K(t,e,r=!1,n,i,s){let o=await tj(t,e,r,i,n,s);if(o.data&&o.data.length>0){let a=o.data.map(c=>{let u={};return o.columns.forEach((E,d)=>{u[E.name]=c[d]}),u});return JSON.stringify(a,(c,u)=>typeof u=="bigint"?u>=Number.MIN_SAFE_INTEGER&&u<=Number.MAX_SAFE_INTEGER?Number(u):u.toString():u,2)}else if(o.message)return o.message}async function hy(t,e,r,n,i){let s=n||new Ci(t),o=s.getKeepConnectionOpen(),a=[],l=fy(s,r,i),{connection:c,shouldCloseConnection:u}=await dy(s,l,o);try{let E=d=>{let f=d;a.push(f.message)};c.on("notice",E);try{let f=wr.workspace.getConfiguration("netezza").get("queryTimeout",1800),T=c.createCommand(e);T.commandTimeout=f,i&&bi.set(i,T);try{let h=await T.executeReader();for(;await h.read(););}finally{i&&bi.delete(i)}}finally{c.removeListener("notice",E)}}finally{u&&c&&await c.close()}return a.join(`
`)}async function Mc(t,e,r,n,i,s){let o=r||new Ci(t),a=o.getKeepConnectionOpen(),l;i||(l=wr.window.createOutputChannel("Netezza SQL"),l.show(!0),l.appendLine(`Executing ${e.length} queries sequentially...`));let c=[],u=r?r.getConnectionForExecution(n):void 0;if(u||(u=o.getActiveConnectionName()||void 0),!u)throw l&&l.appendLine("Error: No connection selected"),i&&i("Error: No connection selected"),new Error("No connection selected");try{let E,d=!0,f=await o.getConnection(u);if(!f)throw new Error(`Connection '${u}' not found`);if(a)E=await o.getPersistentConnection(u),d=!1;else{let T=Hr(),h={host:f.host,port:f.port||5480,database:f.database,user:f.user,password:f.password};E=new T(h),await E.connect()}E.on("notice",T=>{let h=T;l&&l.appendLine(`NOTICE: ${h.message}`),i&&i(`NOTICE: ${h.message}`)});try{let T="unknown";try{let I=await E.createCommand("SELECT CURRENT_SID").executeReader();if(await I.read()){let R=I.getValue(0);R!==void 0&&i&&i(`Connected. Session ID: ${R}`)}await I.close()}catch(p){console.debug("Could not retrieve session ID:",p),i&&i("Connected.")}let h=new pr(t),S=u;for(let p=0;p<e.length;p++){let I=e[p],R=`Executing query ${p+1}/${e.length}...`;l&&l.appendLine(R),i&&i(R);try{let A=Pf(I),O=A.sql,L=A.setValues,N=Df(O);if(N.size>0){let k=await pR(N,!1,L);O=Mf(O,k)}let y=wr.workspace.getConfiguration("netezza").get("queryTimeout",1800),P=Date.now(),{results:x,error:B}=await rj(E,O,2e5,y,n),G=Date.now()-P;if(i&&i(`Executed query ${p+1}/${e.length} in ${G}ms`),h.addEntry(f.host,f.database,T,I,S).catch(k=>{console.error("Failed to log query to history:",k)}),x&&x.length>0)for(let k of x)k.columns.length>0?c.push({columns:k.columns,data:k.rows,rowsAffected:void 0,limitReached:k.limitReached,sql:O}):c.push({columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully",sql:O});if(s&&x&&x.length>0){let k=[];for(let j of x)j.columns.length>0?k.push({columns:j.columns,data:j.rows,rowsAffected:void 0,limitReached:j.limitReached,sql:O}):k.push({columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully",sql:O});s(k)}if(B)throw B}catch(A){let O=A instanceof Error?A.message:String(A);throw l&&l.appendLine(`Error in query ${p+1}: ${O}`),new Error(O)}}l&&l.appendLine("All queries completed.")}finally{d&&await E.close()}}catch(E){let f=`Error: ${E.message||String(E)}`;throw l&&l.appendLine(f),i&&i(f),new Error(f)}return c}async function rj(t,e,r,n,i){let s=t.createCommand(e);n&&n>0&&(s.commandTimeout=n),i&&bi.set(i,s);try{let o=await s.executeReader(),a=[],l=!0,c;try{do{let u=[],E=[],d=0,f=!1;for(;await o.read();){if(u.length===0)for(let T=0;T<o.fieldCount;T++)u.push({name:o.getName(T),type:o.getTypeName(T)});if(d<r){let T=[];for(let h=0;h<o.fieldCount;h++)T.push(o.getValue(h));E.push(T),d++}if(d>=r){f=!0,await RR(o,s);break}}a.push({columns:u,rows:E,limitReached:f}),l=await o.nextResult()}while(l)}catch(u){c=u instanceof Error?u:new Error(String(u))}return{results:a,error:c}}finally{i&&bi.delete(i)}}async function nj(t,e,r,n,i,s,o){let a=t.createCommand(e);i&&i>0&&(a.commandTimeout=i),s&&bi.set(s,a);try{let l=await a.executeReader(),c,u=0,E=!1;try{let d=[],f=[],T=!0;for(;await l.read();){if(d.length===0)for(let S=0;S<l.fieldCount;S++)d.push({name:l.getName(S),type:l.getTypeName(S)});let h=[];for(let S=0;S<l.fieldCount;S++)h.push(l.getValue(S));if(f.push(h),u++,f.length>=n&&(o({columns:T?d:[],rows:f,isFirstChunk:T,isLastChunk:!1,totalRowsSoFar:u,limitReached:!1}),f=[],T=!1),u>=r){E=!0,await RR(l,a);break}}o({columns:T?d:[],rows:f,isFirstChunk:T,isLastChunk:!0,totalRowsSoFar:u,limitReached:E})}catch(d){c=d instanceof Error?d:new Error(String(d))}return{totalRows:u,limitReached:E,error:c}}finally{s&&bi.delete(s)}}async function Ty(t,e,r,n,i,s,o=5e3){let a=r||new Ci(t),l=a.getKeepConnectionOpen(),c;i||(c=wr.window.createOutputChannel("Netezza SQL"),c.show(!0),c.appendLine(`Executing ${e.length} queries with streaming...`));let u=r?r.getConnectionForExecution(n):void 0;if(u||(u=a.getActiveConnectionName()||void 0),!u){let E="Error: No connection selected";throw c&&c.appendLine(E),i&&i(E),new Error("No connection selected")}try{let E=await a.getConnection(u);if(!E)throw new Error(`Connection '${u}' not found`);let d,f=!0;if(l)d=await a.getPersistentConnection(u),f=!1;else{let T=Hr(),h={host:E.host,port:E.port||5480,database:E.database,user:E.user,password:E.password};d=new T(h),await d.connect()}d.on("notice",T=>{let h=T;c&&c.appendLine(`NOTICE: ${h.message}`),i&&i(`NOTICE: ${h.message}`)});try{try{let p=await d.createCommand("SELECT CURRENT_SID").executeReader();if(await p.read()){let I=p.getValue(0);I!==void 0&&i&&i(`Connected. Session ID: ${I}`)}await p.close()}catch(S){console.debug("Could not retrieve session ID:",S),i&&i("Connected.")}let T=new pr(t),h="unknown";for(let S=0;S<e.length;S++){let p=e[S],I=`Executing query ${S+1}/${e.length}...`;c&&c.appendLine(I),i&&i(I);try{let R=Pf(p),A=R.sql,O=R.setValues,L=Df(A);if(L.size>0){let k=await pR(L,!1,O);A=Mf(A,k)}let D=wr.workspace.getConfiguration("netezza").get("queryTimeout",1800),y=Date.now(),{totalRows:P,limitReached:x,error:B}=await nj(d,A,2e5,o,D,n,k=>{s&&s(S,k,A)}),G=Date.now()-y;if(i&&i(`Query ${S+1}/${e.length}: ${P} rows in ${G}ms${x?" (limit reached)":""}`),T.addEntry(E.host,E.database,h,p,u).catch(k=>console.error("Failed to log query to history:",k)),B)throw B}catch(R){let A=R instanceof Error?R.message:String(R);throw c&&c.appendLine(`Error in query ${S+1}: ${A}`),new Error(A)}}c&&c.appendLine("All queries completed.")}finally{f&&await d.close()}}catch(E){let f=`Error: ${E.message||String(E)}`;throw c&&c.appendLine(f),i&&i(f),new Error(f)}}var wr,bi,Rr=Y(()=>{"use strict";wr=Z(require("vscode"));TR();wf();uy();bi=new Map});var Ry={};Dt(Ry,{SqlParser:()=>Dr});var Dr,io=Y(()=>{"use strict";Dr=class{static splitStatements(e){let r=[],n="",i=!1,s=!1,o=!1,a=!1,l=0;for(;l<e.length;){let c=e[l],u=l+1<e.length?e[l+1]:"";if(o)c===`
`&&(o=!1);else if(a){if(c==="*"&&u==="/"){a=!1,n+=c+u,l++,l++;continue}}else if(i)c==="'"&&e[l-1]!=="\\"&&(i=!1);else if(s)c==='"'&&e[l-1]!=="\\"&&(s=!1);else if(c==="-"&&u==="-")o=!0;else if(c==="/"&&u==="*")a=!0;else if(c==="'")i=!0;else if(c==='"')s=!0;else if(c===";"){n.trim()&&r.push(n.trim()),n="",l++;continue}n+=c,l++}return n.trim()&&r.push(n.trim()),r}static getStatementAtPosition(e,r){let n=0,i=e.length,s=!1,o=!1,a=!1,l=!1,c=-1;for(let E=0;E<r;E++){let d=e[E],f=E+1<e.length?e[E+1]:"";a?d===`
`&&(a=!1):l?d==="*"&&f==="/"&&(l=!1,E++):s?d==="'"&&e[E-1]!=="\\"&&(s=!1):o?d==='"'&&e[E-1]!=="\\"&&(o=!1):d==="-"&&f==="-"?a=!0:d==="/"&&f==="*"?l=!0:d==="'"?s=!0:d==='"'?o=!0:d===";"&&(c=E)}n=c+1,s=!1,o=!1,a=!1,l=!1;for(let E=n;E<e.length;E++){let d=e[E],f=E+1<e.length?e[E+1]:"";if(a)d===`
`&&(a=!1);else if(l)d==="*"&&f==="/"&&(l=!1,E++);else if(s)d==="'"&&e[E-1]!=="\\"&&(s=!1);else if(o)d==='"'&&e[E-1]!=="\\"&&(o=!1);else if(d==="-"&&f==="-")a=!0;else if(d==="/"&&f==="*")l=!0;else if(d==="'")s=!0;else if(d==='"')o=!0;else if(d===";"){i=E;break}}let u=e.substring(n,i).trim();return u?{sql:u,start:n,end:i}:null}static getObjectAtPosition(e,r){let n=c=>/[a-zA-Z0-9_."]/i.test(c),i=r;for(;i>0&&n(e[i-1]);)i--;let s=r;for(;s<e.length&&n(e[s]);)s++;let o=e.substring(i,s);if(!o)return null;let a=c=>c?c.replace(/"/g,""):void 0;if(o.includes("..")){let c=o.split("..");if(c.length===2)return{database:a(c[0]),name:a(c[1])}}let l=o.split(".");return l.length===1?{name:a(l[0])}:l.length===2?{schema:a(l[0]),name:a(l[1])}:l.length===3?{database:a(l[0]),schema:a(l[1]),name:a(l[2])}:null}}});var Cy=Y(()=>{"use strict"});async function st(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function Ee(t){return!t||/^[A-Z_][A-Z0-9_]*$/i.test(t)&&t===t.toUpperCase()?t:`"${t.replace(/"/g,'""')}"`}function by(t){if(!t)return t;let e=t.trim().toUpperCase();return e==="CHARACTER VARYING"?"CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER VARYING"?"NATIONAL CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER"?"NATIONAL CHARACTER(ANY)":e==="CHARACTER"?"CHARACTER(ANY)":t}async function yy(t){let e={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},r=Hr(),n=new r(e);return await n.connect(),n}var $n=Y(()=>{"use strict"});async function On(t,e,r,n){let i=`
        SELECT 
            X.OBJID::INT AS OBJID
            , X.ATTNAME
            , X.DESCRIPTION
            , X.FORMAT_TYPE AS FULL_TYPE
            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
            , X.COLDEFAULT
        FROM
            ${e.toUpperCase()}.._V_RELATION_COLUMN X
        INNER JOIN
            ${e.toUpperCase()}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
        WHERE
            X.TYPE IN ('TABLE','VIEW','EXTERNAL TABLE', 'SEQUENCE','SYSTEM VIEW','SYSTEM TABLE')
            AND X.OBJID NOT IN (4,5)
            AND D.SCHEMA = '${r.toUpperCase()}'
            AND D.OBJNAME = '${n.toUpperCase()}'
        ORDER BY 
            X.OBJID, X.ATTNUM
    `,s=await st(t,i),o=[];for(let a of s){let l=!1,c=a.ATTNOTNULL;if(typeof c=="boolean")l=c;else if(typeof c=="number")l=c!==0;else if(typeof c=="string"){let u=c.trim().toLowerCase();l=u==="t"||u==="true"||u==="1"||u==="yes"}o.push({name:a.ATTNAME,description:a.DESCRIPTION||null,fullTypeName:a.FULL_TYPE,notNull:l,defaultValue:a.COLDEFAULT||null})}return o}async function yi(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_DIST_MAP
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY DISTSEQNO
        `;return(await st(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function Li(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_ORGANIZE_COLUMN
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY ORGSEQNO
        `;return(await st(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function wi(t,e,r,n){let i=`
        SELECT 
            X.SCHEMA
            , X.RELATION
            , X.CONSTRAINTNAME
            , X.CONTYPE
            , X.ATTNAME
            , X.PKDATABASE
            , X.PKSCHEMA
            , X.PKRELATION
            , X.PKATTNAME
            , X.UPDT_TYPE
            , X.DEL_TYPE
        FROM 
            ${e.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.OBJID NOT IN (4,5)
            AND X.SCHEMA = '${r.toUpperCase()}'
            AND X.RELATION = '${n.toUpperCase()}'
        ORDER BY
            X.SCHEMA, X.RELATION, X.CONSEQ
    `,s=new Map;try{let o=await st(t,i);for(let a of o){let l=a.CONSTRAINTNAME;if(!s.has(l)){let u={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};s.set(l,{type:u[a.CONTYPE]||"UNKNOWN",typeChar:a.CONTYPE,columns:[],pkDatabase:a.PKDATABASE||null,pkSchema:a.PKSCHEMA||null,pkRelation:a.PKRELATION||null,pkColumns:[],updateType:a.UPDT_TYPE||"NO ACTION",deleteType:a.DEL_TYPE||"NO ACTION"})}let c=s.get(l);c.columns.push(a.ATTNAME),a.PKATTNAME&&c.pkColumns.push(a.PKATTNAME)}}catch(o){console.warn("Cannot retrieve keys info:",o)}return s}async function oo(t,e,r,n){try{let i=`
            SELECT DESCRIPTION
            FROM ${e.toUpperCase()}.._V_OBJECT_DATA
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND OBJNAME = '${n.toUpperCase()}'
                AND OBJTYPE = 'TABLE'
        `,s=await st(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{try{let i=`
                SELECT DESCRIPTION
                FROM ${e.toUpperCase()}.._V_OBJECT_DATA
                WHERE SCHEMA = '${r.toUpperCase()}'
                    AND OBJNAME = '${n.toUpperCase()}'
            `,s=await st(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{}}return null}async function Gc(t,e,r,n){try{let i=`
            SELECT OWNER
            FROM ${e.toUpperCase()}.._V_TABLE
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
        `,s=await st(t,i);if(s.length>0&&s[0].OWNER)return s[0].OWNER}catch{}return null}var zf=Y(()=>{"use strict";$n()});async function Hc(t,e,r,n){let i=await On(t,e,r,n);if(i.length===0)throw new Error(`Table ${e}.${r}.${n} not found or has no columns`);let s=await yi(t,e,r,n),o=await Li(t,e,r,n),a=await wi(t,e,r,n),l=await oo(t,e,r,n);return Ma(e,r,n,i,s,o,a,l)}function Ma(t,e,r,n,i,s,o,a){if(n.length===0)return`-- Table ${t}.${e}.${r} has no columns or was not found`;let l=Ee(t),c=Ee(e),u=Ee(r),E=[];E.push(`CREATE TABLE ${l}.${c}.${u}`),E.push("(");let d=[];for(let f of n){let h=`    ${Ee(f.name)} ${f.fullTypeName}`;f.notNull&&(h+=" NOT NULL"),f.defaultValue!==null&&(h+=` DEFAULT ${f.defaultValue}`),d.push(h)}if(E.push(d.join(`,
`)),i.length>0){let f=i.map(T=>Ee(T));E.push(`)
DISTRIBUTE ON (${f.join(", ")})`)}else E.push(`)
DISTRIBUTE ON RANDOM`);if(s.length>0){let f=s.map(T=>Ee(T));E.push(`ORGANIZE ON (${f.join(", ")})`)}E.push(";"),E.push("");for(let[f,T]of o){let h=Ee(f),S=T.columns.map(p=>Ee(p));if(T.typeChar==="f"){let p=T.pkColumns.filter(I=>I).map(I=>Ee(I));p.length>0&&E.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${S.join(", ")}) REFERENCES ${T.pkDatabase}.${T.pkSchema}.${T.pkRelation} (${p.join(", ")}) ON DELETE ${T.deleteType} ON UPDATE ${T.updateType};`)}else(T.typeChar==="p"||T.typeChar==="u")&&E.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${S.join(", ")});`)}if(a){let f=a.replace(/'/g,"''");E.push(""),E.push(`COMMENT ON TABLE ${l}.${c}.${u} IS '${f}';`)}for(let f of n)if(f.description){let T=Ee(f.name),h=f.description.replace(/'/g,"''");E.push(`COMMENT ON COLUMN ${l}.${c}.${u}.${T} IS '${h}';`)}return E.join(`
`)}var jf=Y(()=>{"use strict";$n();zf()});async function ao(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            VIEWNAME,
            DEFINITION,
            OBJID::INT
        FROM ${e.toUpperCase()}.._V_VIEW
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND VIEWNAME = '${n.toUpperCase()}'
    `,o=await st(t,i);if(o.length===0)throw new Error(`View ${e}.${r}.${n} not found`);let a=o[0],l=Ee(e),c=Ee(r),u=Ee(n),E=[];return E.push(`CREATE OR REPLACE VIEW ${l}.${c}.${u} AS`),E.push(a.DEFINITION||""),E.join(`
`)}var Jf=Y(()=>{"use strict";$n()});async function lo(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            OBJID::INT,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS,
            NULL AS LANGUAGE
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
        ORDER BY 1, 2, 3
    `,o=await st(t,i);if(o.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,procedureSource:a.PROCEDURESOURCE,objId:a.OBJID,returns:by(a.RETURNS),executeAsOwner:!!a.EXECUTEDASOWNER,description:a.DESCRIPTION||null,procedureSignature:a.PROCEDURESIGNATURE,procedureName:a.PROCEDURE,arguments:a.ARGUMENTS||null},c=Ee(e),u=Ee(r),E=Ee(l.procedureName),d=[],f=`CREATE OR REPLACE PROCEDURE ${c}.${u}.${E}`;if(l.arguments){let T=l.arguments.trim();T.startsWith("(")&&T.endsWith(")")?f+=T:f+=`(${T})`}else f+="()";if(d.push(f),d.push(`RETURNS ${l.returns}`),l.executeAsOwner?d.push("EXECUTE AS OWNER"):d.push("EXECUTE AS CALLER"),d.push("LANGUAGE NZPLSQL AS"),d.push("BEGIN_PROC"),d.push(l.procedureSource),d.push("END_PROC;"),l.description){let T=l.description.replace(/'/g,"''");d.push(`COMMENT ON PROCEDURE ${E} IS '${T}';`)}return d.join(`
`)}var Qf=Y(()=>{"use strict";$n()});async function co(t,e,r,n){let i=`
        SELECT 
            E1.SCHEMA,
            E1.TABLENAME,
            E2.EXTOBJNAME,
            E2.OBJID::INT,
            E1.DELIM,
            E1.ENCODING,
            E1.TIMESTYLE,
            E1.REMOTESOURCE,
            E1.SKIPROWS,
            E1.MAXERRORS,
            E1.ESCAPE,
            E1.LOGDIR,
            E1.DECIMALDELIM,
            E1.QUOTEDVALUE,
            E1.NULLVALUE,
            E1.CRINSTRING,
            E1.TRUNCSTRING,
            E1.CTRLCHARS,
            E1.IGNOREZERO,
            E1.TIMEEXTRAZEROS,
            E1.Y2BASE,
            E1.FILLRECORD,
            E1.COMPRESS,
            E1.INCLUDEHEADER,
            E1.LFINSTRING,
            E1.DATESTYLE,
            E1.DATEDELIM,
            E1.TIMEDELIM,
            E1.BOOLSTYLE,
            E1.FORMAT,
            E1.SOCKETBUFSIZE,
            E1.RECORDDELIM,
            E1.MAXROWS,
            E1.REQUIREQUOTES,
            E1.RECORDLENGTH,
            E1.DATETIMEDELIM,
            E1.REJECTFILE
        FROM 
            ${e.toUpperCase()}.._V_EXTERNAL E1
            JOIN ${e.toUpperCase()}.._V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE
                AND E1.SCHEMA = E2.SCHEMA
                AND E1.TABLENAME = E2.TABLENAME
        WHERE 
            E1.DATABASE = '${e.toUpperCase()}'
            AND E1.SCHEMA = '${r.toUpperCase()}'
            AND E1.TABLENAME = '${n.toUpperCase()}'
    `,s=await st(t,i);if(s.length===0)throw new Error(`External table ${e}.${r}.${n} not found`);let o=h=>{if(h==null)return null;if(typeof h=="boolean")return h;if(typeof h=="number")return h!==0;let S=String(h).toLowerCase();return S==="t"||S==="true"||S==="1"||S==="yes"||S==="on"},a=s[0],l={schema:a.SCHEMA,tableName:a.TABLENAME,dataObject:a.EXTOBJNAME||null,delimiter:a.DELIM||null,encoding:a.ENCODING||null,timeStyle:a.TIMESTYLE||null,remoteSource:a.REMOTESOURCE||null,skipRows:a.SKIPROWS||null,maxErrors:a.MAXERRORS||null,escapeChar:a.ESCAPE||null,logDir:a.LOGDIR||null,decimalDelim:a.DECIMALDELIM||null,quotedValue:a.QUOTEDVALUE||null,nullValue:a.NULLVALUE||null,crInString:o(a.CRINSTRING),truncString:o(a.TRUNCSTRING),ctrlChars:o(a.CTRLCHARS),ignoreZero:o(a.IGNOREZERO),timeExtraZeros:o(a.TIMEEXTRAZEROS),y2Base:a.Y2BASE||null,fillRecord:o(a.FILLRECORD),compress:o(a.COMPRESS),includeHeader:o(a.INCLUDEHEADER),lfInString:o(a.LFINSTRING),dateStyle:a.DATESTYLE||null,dateDelim:a.DATEDELIM||null,timeDelim:a.TIMEDELIM||null,boolStyle:a.BOOLSTYLE||null,format:a.FORMAT||null,socketBufSize:a.SOCKETBUFSIZE||null,recordDelim:a.RECORDDELIM?String(a.RECORDDELIM).replace(/\r/g,"\\r").replace(/\n/g,"\\n"):null,maxRows:a.MAXROWS||null,requireQuotes:o(a.REQUIREQUOTES),recordLength:a.RECORDLENGTH||null,dateTimeDelim:a.DATETIMEDELIM||null,rejectFile:a.REJECTFILE||null},c=await On(t,e,r,n),u=Ee(e),E=Ee(r),d=Ee(n),f=[];f.push(`CREATE EXTERNAL TABLE ${u}.${E}.${d}`),f.push("(");let T=c.map(h=>{let S=`    ${Ee(h.name)} ${h.fullTypeName}`;return h.notNull&&(S+=" NOT NULL"),S});return f.push(T.join(`,
`)),f.push(")"),f.push("USING"),f.push("("),l.dataObject!==null&&f.push(`    DATAOBJECT('${l.dataObject}')`),l.delimiter!==null&&f.push(`    DELIMITER '${l.delimiter}'`),l.encoding!==null&&f.push(`    ENCODING '${l.encoding}'`),l.timeStyle!==null&&f.push(`    TIMESTYLE '${l.timeStyle}'`),l.remoteSource!==null&&f.push(`    REMOTESOURCE '${l.remoteSource}'`),l.maxErrors!==null&&f.push(`    MAXERRORS ${l.maxErrors}`),l.escapeChar!==null&&f.push(`    ESCAPECHAR '${l.escapeChar}'`),l.decimalDelim!==null&&f.push(`    DECIMALDELIM '${l.decimalDelim}'`),l.logDir!==null&&f.push(`    LOGDIR '${l.logDir}'`),l.quotedValue!==null&&f.push(`    QUOTEDVALUE '${l.quotedValue}'`),l.nullValue!==null&&f.push(`    NULLVALUE '${l.nullValue}'`),l.crInString!==null&&f.push(`    CRINSTRING ${l.crInString}`),l.truncString!==null&&f.push(`    TRUNCSTRING ${l.truncString}`),l.ctrlChars!==null&&f.push(`    CTRLCHARS ${l.ctrlChars}`),l.ignoreZero!==null&&f.push(`    IGNOREZERO ${l.ignoreZero}`),l.timeExtraZeros!==null&&f.push(`    TIMEEXTRAZEROS ${l.timeExtraZeros}`),l.y2Base!==null&&f.push(`    Y2BASE ${l.y2Base}`),l.fillRecord!==null&&f.push(`    FILLRECORD ${l.fillRecord}`),l.compress!==null&&f.push(`    COMPRESS ${l.compress}`),l.includeHeader!==null&&f.push(`    INCLUDEHEADER ${l.includeHeader}`),l.lfInString!==null&&f.push(`    LFINSTRING ${l.lfInString}`),l.dateStyle!==null&&f.push(`    DATESTYLE '${l.dateStyle}'`),l.dateDelim!==null&&f.push(`    DATEDELIM '${l.dateDelim}'`),l.timeDelim!==null&&f.push(`    TIMEDELIM '${l.timeDelim}'`),l.boolStyle!==null&&f.push(`    BOOLSTYLE '${l.boolStyle}'`),l.format!==null&&f.push(`    FORMAT '${l.format}'`),l.socketBufSize!==null&&f.push(`    SOCKETBUFSIZE ${l.socketBufSize}`),l.recordDelim!==null&&f.push(`    RECORDDELIM '${l.recordDelim}'`),l.maxRows!==null&&f.push(`    MAXROWS ${l.maxRows}`),l.requireQuotes!==null&&f.push(`    REQUIREQUOTES ${l.requireQuotes}`),l.recordLength!==null&&f.push(`    RECORDLENGTH ${l.recordLength}`),l.dateTimeDelim!==null&&f.push(`    DATETIMEDELIM '${l.dateTimeDelim}'`),l.rejectFile!==null&&f.push(`    REJECTFILE '${l.rejectFile}'`),f.push(");"),f.join(`
`)}var Zf=Y(()=>{"use strict";$n();zf()});async function uo(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            OWNER,
            SYNONYM_NAME,
            REFOBJNAME,
            DESCRIPTION
        FROM ${e.toUpperCase()}.._V_SYNONYM
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND SYNONYM_NAME = '${n.toUpperCase()}'
    `,o=await st(t,i);if(o.length===0)throw new Error(`Synonym ${e}.${r}.${n} not found`);let a=o[0],l=Ee(e),c=Ee(a.OWNER||r),u=Ee(n),E=a.REFOBJNAME,d=[];if(d.push(`CREATE SYNONYM ${l}.${c}.${u} FOR ${E};`),a.DESCRIPTION){let f=a.DESCRIPTION.replace(/'/g,"''");d.push(`COMMENT ON SYNONYM ${u} IS '${f}';`)}return d.join(`
`)}var ed=Y(()=>{"use strict";$n()});async function wR(t){let e=null,r=[],n=[],i=0,s=0,o=["TABLE","VIEW","PROCEDURE","EXTERNAL TABLE","SYNONYM"];try{let a={host:t.connectionDetails.host,port:t.connectionDetails.port||5480,database:t.connectionDetails.database,user:t.connectionDetails.user,password:t.connectionDetails.password},l=Hr();e=new l(a),await e.connect();let c=t.database.toUpperCase(),u=t.schema?t.schema.toUpperCase():null,E=t.objectTypes?t.objectTypes.map(A=>A.toUpperCase()).filter(A=>o.includes(A)):o;E.length===0&&(E=o),n.push("-- ============================================"),n.push("-- Batch DDL Export"),n.push(`-- Database: ${c}`),u&&n.push(`-- Schema: ${u}`),n.push(`-- Object Types: ${E.join(", ")}`),n.push(`-- Generated: ${new Date().toISOString()}`),n.push("-- ============================================"),n.push("");let d=new Map,f=new Map,T=new Map,h=new Map,S=new Map,p=E.includes("TABLE"),I=E.includes("VIEW"),R=E.includes("EXTERNAL TABLE");if(p||I||R){let A=u?`AND D.SCHEMA = '${u}'`:"",O=`
                SELECT 
                    D.SCHEMA,
                    D.OBJNAME,
                    D.OBJTYPE,
                    X.ATTNAME,
                    X.DESCRIPTION,
                    X.FORMAT_TYPE AS FULL_TYPE,
                    X.ATTNOTNULL::BOOL AS ATTNOTNULL,
                    X.COLDEFAULT
                FROM ${c}.._V_RELATION_COLUMN X
                INNER JOIN ${c}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
                WHERE D.DBNAME = '${c}'
                    AND D.OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                    ${A}
                ORDER BY D.SCHEMA, D.OBJNAME, X.ATTNUM
            `;try{let L=await st(e,O);for(let N of L){let D=`${N.SCHEMA}.${N.OBJNAME}`;d.has(D)||d.set(D,[]);let y=!1,P=N.ATTNOTNULL;if(typeof P=="boolean")y=P;else if(typeof P=="number")y=P!==0;else if(typeof P=="string"){let x=P.trim().toLowerCase();y=x==="t"||x==="true"||x==="1"}d.get(D).push({name:N.ATTNAME,description:N.DESCRIPTION||null,fullTypeName:N.FULL_TYPE,notNull:y,defaultValue:N.COLDEFAULT||null})}}catch(L){let N=L instanceof Error?L.message:String(L);r.push(`Error bulk fetching columns: ${N}`)}}if(p){let A=u?`AND SCHEMA = '${u}'`:"",O=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_DIST_MAP
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, DISTSEQNO
            `;try{let L=await st(e,O);for(let N of L){let D=`${N.SCHEMA}.${N.TABLENAME}`;f.has(D)||f.set(D,[]),f.get(D).push(N.ATTNAME)}}catch{}}if(p){let A=u?`AND SCHEMA = '${u}'`:"",O=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_ORGANIZE_COLUMN
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, ORGSEQNO
            `;try{let L=await st(e,O);for(let N of L){let D=`${N.SCHEMA}.${N.TABLENAME}`;T.has(D)||T.set(D,[]),T.get(D).push(N.ATTNAME)}}catch{}}if(p){let A=u?`AND X.SCHEMA = '${u}'`:"",O=`
                SELECT 
                    X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONTYPE,
                    X.ATTNAME, X.PKDATABASE, X.PKSCHEMA, X.PKRELATION, X.PKATTNAME,
                    X.UPDT_TYPE, X.DEL_TYPE
                FROM ${c}.._V_RELATION_KEYDATA X
                WHERE X.OBJID NOT IN (4,5) ${A}
                ORDER BY X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONSEQ
            `;try{let L=await st(e,O);for(let N of L){let D=`${N.SCHEMA}.${N.RELATION}`;h.has(D)||h.set(D,new Map);let y=h.get(D),P=N.CONSTRAINTNAME;if(!y.has(P)){let B={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};y.set(P,{type:B[N.CONTYPE]||"UNKNOWN",typeChar:N.CONTYPE,columns:[],pkDatabase:N.PKDATABASE||null,pkSchema:N.PKSCHEMA||null,pkRelation:N.PKRELATION||null,pkColumns:[],updateType:N.UPDT_TYPE||"NO ACTION",deleteType:N.DEL_TYPE||"NO ACTION"})}let x=y.get(P);x.columns.push(N.ATTNAME),N.PKATTNAME&&x.pkColumns.push(N.PKATTNAME)}}catch{}}if(p){let A=u?`AND SCHEMA = '${u}'`:"",O=`
                SELECT SCHEMA, OBJNAME, DESCRIPTION
                FROM ${c}.._V_OBJECT_DATA
                WHERE DBNAME = '${c}' AND OBJTYPE = 'TABLE' AND DESCRIPTION IS NOT NULL ${A}
            `;try{let L=await st(e,O);for(let N of L)N.DESCRIPTION&&S.set(`${N.SCHEMA}.${N.OBJNAME}`,N.DESCRIPTION)}catch{}}for(let A of E){let O=[];try{if(A==="PROCEDURE"){let L=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA FROM ${c}.._V_PROCEDURE WHERE DATABASE = '${c}'`;u&&(L+=` AND SCHEMA = '${u}'`),L+=" ORDER BY SCHEMA, PROCEDURESIGNATURE",O=(await st(e,L)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}else{let L=`SELECT OBJNAME, SCHEMA FROM ${c}.._V_OBJECT_DATA WHERE DBNAME = '${c}' AND OBJTYPE = '${A}'`;u&&(L+=` AND SCHEMA = '${u}'`),L+=" ORDER BY SCHEMA, OBJNAME",O=(await st(e,L)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}}catch(L){let N=L instanceof Error?L.message:String(L);r.push(`Error querying ${A}s: ${N}`);continue}if(O.length!==0){n.push("-- ----------------------------------------"),n.push(`-- ${A}S (${O.length})`),n.push("-- ----------------------------------------"),n.push("");for(let L of O)try{let N,D=`${L.schema}.${L.name}`;switch(A){case"TABLE":N=Ma(c,L.schema,L.name,d.get(D)||[],f.get(D)||[],T.get(D)||[],h.get(D)||new Map,S.get(D)||null);break;case"VIEW":N=await ao(e,c,L.schema,L.name);break;case"PROCEDURE":N=await lo(e,c,L.schema,L.name);break;case"EXTERNAL TABLE":N=await co(e,c,L.schema,L.name);break;case"SYNONYM":N=await uo(e,c,L.schema,L.name);break;default:s++;continue}n.push(`-- ${A}: ${c}.${L.schema}.${L.name}`),n.push(N),n.push(""),i++}catch(N){let D=N instanceof Error?N.message:String(N);r.push(`Error generating DDL for ${A} ${c}.${L.schema}.${L.name}: ${D}`),s++}}}return n.push("-- ============================================"),n.push("-- End of Batch DDL Export"),n.push(`-- Total objects: ${i}`),s>0&&n.push(`-- Skipped: ${s}`),r.length>0&&n.push(`-- Errors: ${r.length}`),n.push("-- ============================================"),{success:!0,ddlCode:n.join(`
`),objectCount:i,errors:r,skipped:s}}catch(a){return{success:!1,objectCount:0,errors:[`Batch DDL generation error: ${a instanceof Error?a.message:String(a)}`],skipped:0}}finally{if(e)try{await e.close()}catch{}}}var Ly=Y(()=>{"use strict";$n();jf();Jf();Qf();Zf();ed()});async function DR(t,e,r,n,i){let s=null;try{s=await yy(t);let o=i.toUpperCase();return o==="TABLE"?{success:!0,ddlCode:await Hc(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="VIEW"?{success:!0,ddlCode:await ao(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="PROCEDURE"?{success:!0,ddlCode:await lo(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="EXTERNAL TABLE"?{success:!0,ddlCode:await co(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="SYNONYM"?{success:!0,ddlCode:await uo(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:{success:!0,ddlCode:`-- DDL generation for ${i} not yet implemented
-- Object: ${e}.${r}.${n}
-- Type: ${i}
--
-- This feature can be extended to support:
-- - FUNCTION: Query _V_FUNCTION system table
-- - AGGREGATE: Query _V_AGGREGATE system table
`,objectInfo:{database:e,schema:r,objectName:n,objectType:i},note:`${i} DDL generation not yet implemented`}}catch(o){return{success:!1,error:`DDL generation error: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}var wy=Y(()=>{"use strict";$n();jf();Jf();Qf();Zf();ed()});var Dy=Y(()=>{"use strict";Cy();$n();zf();jf();Jf();Qf();Zf();ed();Ly();wy()});var PR={};Dt(PR,{buildTableDDLFromCache:()=>Ma,generateBatchDDL:()=>wR,generateDDL:()=>DR,generateExternalTableDDL:()=>co,generateProcedureDDL:()=>lo,generateSynonymDDL:()=>uo,generateTableDDL:()=>Hc,generateViewDDL:()=>ao,getColumns:()=>On,getDistributionInfo:()=>yi,getKeysInfo:()=>wi,getOrganizeInfo:()=>Li,getTableComment:()=>oo,getTableOwner:()=>Gc,quoteNameIfNeeded:()=>Ee});var Wc=Y(()=>{"use strict";Dy()});var Py={};Dt(Py,{generateRecreateTableScript:()=>Nj});async function Nj(t,e,r,n,i){let s=null;try{let o={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},a=Hr();s=new a(o),await s.connect();let l=await On(s,e,r,n);if(l.length===0)return{success:!1,error:`Table ${e}.${r}.${n} not found or has no columns`};let c=await yi(s,e,r,n),u=await Li(s,e,r,n),E=await wi(s,e,r,n),d=await oo(s,e,r,n),f=await Gc(s,e,r,n),T=Ee(e),h=Ee(r),S=Ee(n),p=new Date().toISOString().replace(/[-:T.]/g,"").substring(0,14),I=Math.random().toString(36).substring(2,7).toUpperCase(),R=i||`${n}_${p}_NEW`,A=Ee(R),O=`${n}_${p}_BACKUP_${I}`,L=Ee(O),N=[];N.push(`-- Recreate Table Script for ${T}.${h}.${S}`),N.push(`-- Generated at ${new Date().toISOString()}`),N.push(""),N.push("-- 1. Create new table with desired structure"),N.push(`CREATE TABLE ${T}.${h}.${A}`),N.push("(");let D=[];for(let P of l){let B=`    ${Ee(P.name)} ${P.fullTypeName}`;P.notNull&&(B+=" NOT NULL"),P.defaultValue!==null&&(B+=` DEFAULT ${P.defaultValue}`),D.push(B)}if(N.push(D.join(`,
`)),c.length>0){let P=c.map(x=>Ee(x));N.push(`)
DISTRIBUTE ON (${P.join(", ")})`)}else N.push(`)
DISTRIBUTE ON RANDOM`);if(u.length>0){let P=u.map(x=>Ee(x));N.push(`ORGANIZE ON (${P.join(", ")})`)}if(N.push(";"),N.push(""),N.push("-- 2. Copy data from original table"),N.push(`INSERT INTO ${T}.${h}.${A} SELECT * FROM ${T}.${h}.${S};`),N.push(""),N.push("-- 3. Copy privileges from original table"),N.push(`ALTER TABLE ${T}.${h}.${A} SET PRIVILEGES TO ${T}.${h}.${S};`),N.push(""),N.push("-- 4. Swap tables: Rename Original to Backup, New to Original"),N.push(`ALTER TABLE ${T}.${h}.${S} RENAME TO ${L};`),N.push(`ALTER TABLE ${T}.${h}.${A} RENAME TO ${S};`),N.push(""),f&&(N.push("-- 5. Restore Owner"),N.push(`ALTER TABLE ${T}.${h}.${S} OWNER TO ${f};`),N.push("")),N.push("-- 6. Drop Backup Table (Optional - Comment out if you want to keep it)"),N.push(`DROP TABLE ${T}.${h}.${L};`),N.push(""),E.size>0){N.push("-- 7. Restore Constraints");for(let[P,x]of E){let B=Ee(P),G=x.columns.map(j=>Ee(j)),k="";if(x.typeChar==="f"){let j=x.pkColumns.filter(ne=>ne).map(ne=>Ee(ne));j.length>0&&(k=`ALTER TABLE ${T}.${h}.${S} ADD CONSTRAINT ${B} ${x.type} (${G.join(", ")}) REFERENCES ${x.pkDatabase}.${x.pkSchema}.${x.pkRelation} (${j.join(", ")}) ON DELETE ${x.deleteType} ON UPDATE ${x.updateType};`)}else(x.typeChar==="p"||x.typeChar==="u")&&(k=`ALTER TABLE ${T}.${h}.${S} ADD CONSTRAINT ${B} ${x.type} (${G.join(", ")});`);k&&N.push(k)}N.push("")}if(d){let P=d.replace(/'/g,"''");N.push("-- 8. Restore Comments"),N.push(`COMMENT ON TABLE ${T}.${h}.${S} IS '${P}';`)}let y=[];for(let P of l)if(P.description){let x=Ee(P.name),B=P.description.replace(/'/g,"''");y.push(`COMMENT ON COLUMN ${T}.${h}.${S}.${x} IS '${B}';`)}return y.length>0&&(d||N.push("-- 8. Restore Comments"),N.push(y.join(`
`)),N.push("")),N.push("-- 9. Generate Statistics"),N.push(`GENERATE EXPRESS STATISTICS ON ${T}.${h}.${S};`),{success:!0,sqlScript:N.join(`
`)}}catch(o){return{success:!1,error:`Error generating recreate script: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}var My=Y(()=>{"use strict";Wc()});var MR={};Dt(MR,{compareProcedures:()=>yj,compareTableStructures:()=>Cj});async function Oj(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}async function vy(t,e,r,n){let i=await On(t,e,r,n),s=await wi(t,e,r,n),o=await yi(t,e,r,n),a=await Li(t,e,r,n);return{database:e,schema:r,tableName:n,columns:i,keys:s,distribution:o,organization:a}}function mj(t,e){let r=[];return t.fullTypeName!==e.fullTypeName&&r.push(`Type: ${t.fullTypeName} \u2192 ${e.fullTypeName}`),t.notNull!==e.notNull&&r.push(`NOT NULL: ${t.notNull} \u2192 ${e.notNull}`),t.defaultValue!==e.defaultValue&&r.push(`Default: ${t.defaultValue||"NULL"} \u2192 ${e.defaultValue||"NULL"}`),r}function gj(t,e){let r=[];return t.type!==e.type&&r.push(`Type: ${t.type} \u2192 ${e.type}`),t.columns.join(",")!==e.columns.join(",")&&r.push(`Columns: (${t.columns.join(", ")}) \u2192 (${e.columns.join(", ")})`),t.typeChar==="f"&&e.typeChar==="f"&&t.pkRelation!==e.pkRelation&&r.push(`References: ${t.pkRelation} \u2192 ${e.pkRelation}`),r}async function Cj(t,e,r,n,i,s,o){let a=null;try{let l={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},c=Hr();a=new c(l),await a.connect();let u=await vy(a,e,r,n),E=await vy(a,i,s,o),d=[],f=new Map(u.columns.map(O=>[O.name.toUpperCase(),O])),T=new Map(E.columns.map(O=>[O.name.toUpperCase(),O]));for(let[O,L]of f){let N=T.get(O);if(!N)d.push({name:L.name,status:"removed",sourceColumn:L});else{let D=mj(L,N);d.push({name:L.name,status:D.length>0?"modified":"unchanged",sourceColumn:L,targetColumn:N,changes:D})}}for(let[O,L]of T)f.has(O)||d.push({name:L.name,status:"added",targetColumn:L});let h=[],S=u.keys,p=E.keys;for(let[O,L]of S){let N=p.get(O);if(!N)h.push({name:O,status:"removed",sourceKey:L});else{let D=gj(L,N);h.push({name:O,status:D.length>0?"modified":"unchanged",sourceKey:L,targetKey:N,changes:D})}}for(let[O,L]of p)S.has(O)||h.push({name:O,status:"added",targetKey:L});let I=JSON.stringify(u.distribution)===JSON.stringify(E.distribution),R=JSON.stringify(u.organization)===JSON.stringify(E.organization),A={columnsAdded:d.filter(O=>O.status==="added").length,columnsRemoved:d.filter(O=>O.status==="removed").length,columnsModified:d.filter(O=>O.status==="modified").length,columnsUnchanged:d.filter(O=>O.status==="unchanged").length,keysAdded:h.filter(O=>O.status==="added").length,keysRemoved:h.filter(O=>O.status==="removed").length,keysModified:h.filter(O=>O.status==="modified").length};return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},columnDiffs:d,keyDiffs:h,distributionMatch:I,sourceDistribution:u.distribution,targetDistribution:E.distribution,organizationMatch:R,sourceOrganization:u.organization,targetOrganization:E.organization,summary:A}}finally{if(a)try{await a.close()}catch{}}}async function Uy(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
    `,s=await Oj(t,i);if(s.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let o=s[0];return{database:e,schema:r,procedureName:o.PROCEDURE,procedureSignature:o.PROCEDURESIGNATURE,arguments:o.ARGUMENTS||null,returns:o.RETURNS,executeAsOwner:!!o.EXECUTEDASOWNER,source:o.PROCEDURESOURCE,description:o.DESCRIPTION||null}}function bj(t,e){let r=t.split(`
`).map(o=>o.trimEnd()),n=e.split(`
`).map(o=>o.trimEnd()),i=[],s=Math.max(r.length,n.length);for(let o=0;o<s;o++){let a=r[o]||"",l=n[o]||"";a===l?i.push(`  ${a}`):r[o]?n[o]?(i.push(`- ${a}`),i.push(`+ ${l}`)):i.push(`- ${a}`):i.push(`+ ${l}`)}return i}async function yj(t,e,r,n,i,s,o){let a=null;try{let l={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},c=Hr();a=new c(l),await a.connect();let u=await Uy(a,e,r,n),E=await Uy(a,i,s,o),d=u.arguments===E.arguments,f=u.returns===E.returns,T=u.executeAsOwner===E.executeAsOwner,h=u.source.trim()===E.source.trim(),S=h?[]:bj(u.source,E.source);return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},argumentsMatch:d,sourceArguments:u.arguments,targetArguments:E.arguments,returnsMatch:f,sourceReturns:u.returns,targetReturns:E.returns,executeAsOwnerMatch:T,sourceExecuteAsOwner:u.executeAsOwner,targetExecuteAsOwner:E.executeAsOwner,sourceMatch:h,sourceCode:u.source,targetCode:E.source,sourceDiff:S}}finally{if(a)try{await a.close()}catch{}}}var xR=Y(()=>{"use strict";Wc()});var UR={};Dt(UR,{SchemaCompareView:()=>vR});var ps,vR,BR=Y(()=>{"use strict";ps=Z(require("vscode")),vR=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.schemaCompare"}static createOrShow(e,r,n){let i=ps.window.activeTextEditor?ps.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._update(r,n);return}let s=ps.window.createWebviewPanel(t.viewType,"Schema Comparison",i||ps.ViewColumn.One,{enableScripts:!0,localResourceRoots:[ps.Uri.joinPath(e,"media")]});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){r==="table"?(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getTableComparisonHtml(e)):(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getProcedureComparisonHtml(e))}_getStatusIcon(e){switch(e){case"added":return"\u{1F7E2}";case"removed":return"\u{1F534}";case"modified":return"\u{1F7E1}";case"unchanged":return"\u26AA"}}_getStatusClass(e){return`status-${e}`}_getTableComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.columnDiffs.map(l=>{let c=l.sourceColumn,u=l.targetColumn,E=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.fullTypeName||"-"}</td>
                    <td>${u?.fullTypeName||"-"}</td>
                    <td class="changes">${E}</td>
                </tr>
            `}).join(""),s=e.keyDiffs.map(l=>{let c=l.sourceKey,u=l.targetKey,E=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.type||"-"} (${c?.columns.join(", ")||"-"})</td>
                    <td>${u?.type||"-"} (${u?.columns.join(", ")||"-"})</td>
                    <td class="changes">${E}</td>
                </tr>
            `}).join(""),o=e.distributionMatch?"\u2705 Match":"\u274C Different",a=e.organizationMatch?"\u2705 Match":"\u274C Different";return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Schema Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Table Structure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="summary">
                        <h2>Summary</h2>
                        <div class="summary-grid">
                            <div class="summary-item added">\u{1F7E2} Added: ${e.summary.columnsAdded} columns, ${e.summary.keysAdded} keys</div>
                            <div class="summary-item removed">\u{1F534} Removed: ${e.summary.columnsRemoved} columns, ${e.summary.keysRemoved} keys</div>
                            <div class="summary-item modified">\u{1F7E1} Modified: ${e.summary.columnsModified} columns, ${e.summary.keysModified} keys</div>
                            <div class="summary-item unchanged">\u26AA Unchanged: ${e.summary.columnsUnchanged} columns</div>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Columns</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Column Name</th>
                                    <th>Source Type</th>
                                    <th>Target Type</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${i}
                            </tbody>
                        </table>
                    </div>

                    ${e.keyDiffs.length>0?`
                    <div class="section">
                        <h2>Keys & Constraints</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Key Name</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${s}
                            </tbody>
                        </table>
                    </div>
                    `:""}

                    <div class="section">
                        <h2>Distribution & Organization</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>DISTRIBUTE ON</strong></td>
                                    <td>${e.sourceDistribution.length>0?e.sourceDistribution.join(", "):"RANDOM"}</td>
                                    <td>${e.targetDistribution.length>0?e.targetDistribution.join(", "):"RANDOM"}</td>
                                    <td>${o}</td>
                                </tr>
                                <tr>
                                    <td><strong>ORGANIZE ON</strong></td>
                                    <td>${e.sourceOrganization.length>0?e.sourceOrganization.join(", "):"(none)"}</td>
                                    <td>${e.targetOrganization.length>0?e.targetOrganization.join(", "):"(none)"}</td>
                                    <td>${a}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </body>
            </html>
        `}_getProcedureComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.sourceDiff.map(s=>{let o="";return s.startsWith("+")?o="diff-added":s.startsWith("-")?o="diff-removed":o="diff-unchanged",`<div class="${o}">${this._escapeHtml(s)}</div>`}).join("");return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Procedure Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Procedure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Signature Comparison</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Match</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="${e.argumentsMatch?"":"status-modified"}">
                                    <td><strong>Arguments</strong></td>
                                    <td><code>${e.sourceArguments||"(none)"}</code></td>
                                    <td><code>${e.targetArguments||"(none)"}</code></td>
                                    <td>${e.argumentsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.returnsMatch?"":"status-modified"}">
                                    <td><strong>Returns</strong></td>
                                    <td><code>${e.sourceReturns}</code></td>
                                    <td><code>${e.targetReturns}</code></td>
                                    <td>${e.returnsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.executeAsOwnerMatch?"":"status-modified"}">
                                    <td><strong>Execute As</strong></td>
                                    <td>${e.sourceExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.targetExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.executeAsOwnerMatch?"\u2705":"\u274C"}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section">
                        <h2>Source Code ${e.sourceMatch?"\u2705 Identical":"\u274C Different"}</h2>
                        ${e.sourceMatch?`
                            <div class="code-block">
                                <pre>${this._escapeHtml(e.sourceCode)}</pre>
                            </div>
                        `:`
                            <div class="code-diff">
                                <pre>${i}</pre>
                            </div>
                        `}
                    </div>
                </div>
            </body>
            </html>
        `}_escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --added-bg: rgba(40, 167, 69, 0.2);
                --removed-bg: rgba(220, 53, 69, 0.2);
                --modified-bg: rgba(255, 193, 7, 0.2);
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .container {
                max-width: 1400px;
                margin: 0 auto;
            }

            h1 {
                border-bottom: 1px solid var(--border-color);
                padding-bottom: 10px;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.1em;
                margin-top: 25px;
                margin-bottom: 10px;
                color: var(--vscode-textLink-foreground);
            }

            .header-info {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 20px;
                padding: 15px;
                background-color: var(--header-bg);
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .header-info .label {
                font-weight: bold;
                margin-right: 8px;
            }

            .header-info .value {
                font-family: monospace;
                background-color: var(--vscode-textCodeBlock-background);
                padding: 4px 8px;
                border-radius: 4px;
            }

            .arrow {
                font-size: 1.5em;
                color: var(--vscode-charts-blue);
            }

            .summary {
                background-color: var(--header-bg);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .summary h2 {
                margin-top: 0;
            }

            .summary-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 10px;
            }

            .summary-item {
                padding: 8px;
                border-radius: 4px;
            }

            .summary-item.added { background-color: var(--added-bg); }
            .summary-item.removed { background-color: var(--removed-bg); }
            .summary-item.modified { background-color: var(--modified-bg); }

            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            tr.status-added {
                background-color: var(--added-bg);
            }

            tr.status-removed {
                background-color: var(--removed-bg);
            }

            tr.status-modified {
                background-color: var(--modified-bg);
            }

            .changes {
                font-size: 0.9em;
                color: var(--vscode-descriptionForeground);
            }

            .code-block, .code-diff {
                background-color: var(--vscode-textCodeBlock-background);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                padding: 15px;
                overflow-x: auto;
            }

            .code-block pre, .code-diff pre {
                margin: 0;
                font-family: var(--vscode-editor-font-family);
                font-size: var(--vscode-editor-font-size);
                white-space: pre;
            }

            .diff-added {
                background-color: var(--added-bg);
                color: #28a745;
            }

            .diff-removed {
                background-color: var(--removed-bg);
                color: #dc3545;
            }

            .diff-unchanged {
                color: var(--fg-color);
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var Hy={};Dt(Hy,{buildERDData:()=>Lj,getForeignKeysForSchema:()=>Fy,getTablesInSchema:()=>Gy});async function Fy(t,e,r,n,i){let s=`
        SELECT 
            X.SCHEMA,
            X.RELATION AS FROM_TABLE,
            X.CONSTRAINTNAME,
            X.ATTNAME AS FROM_COLUMN,
            X.PKDATABASE,
            X.PKSCHEMA,
            X.PKRELATION AS TO_TABLE,
            X.PKATTNAME AS TO_COLUMN,
            X.UPDT_TYPE,
            X.DEL_TYPE,
            X.CONSEQ
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'f'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY
            X.CONSTRAINTNAME, X.CONSEQ
    `,o=new Map;try{let a=await K(t,s,!0,r,e);if(!a)return[];let l=JSON.parse(a);for(let c of l){let u=c.CONSTRAINTNAME,E=`${c.SCHEMA}.${c.FROM_TABLE}`,d=`${c.PKSCHEMA}.${c.TO_TABLE}`;o.has(u)||o.set(u,{constraintName:u,fromTable:E,toTable:d,fromColumns:[],toColumns:[],onDelete:c.DEL_TYPE||"NO ACTION",onUpdate:c.UPDT_TYPE||"NO ACTION"});let f=o.get(u);f.fromColumns.push(c.FROM_COLUMN),f.toColumns.push(c.TO_COLUMN)}}catch(a){console.warn("Cannot retrieve FK relationships:",a)}return Array.from(o.values())}async function Gy(t,e,r,n,i){let s=`
        SELECT 
            T.TABLENAME,
            T.OWNER
        FROM 
            ${n.toUpperCase()}.._V_TABLE T
        WHERE 
            T.SCHEMA = '${i.toUpperCase()}'
        ORDER BY T.TABLENAME
    `,o=`
        SELECT 
            A.NAME AS TABLENAME,
            A.ATTNAME,
            A.FORMAT_TYPE
        FROM 
            ${n.toUpperCase()}.._V_RELATION_COLUMN A
        WHERE 
            A.SCHEMA = '${i.toUpperCase()}'
            AND A.TYPE = 'TABLE'
        ORDER BY A.NAME, A.ATTNUM
    `,a=`
        SELECT 
            X.RELATION,
            X.ATTNAME
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'p'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY X.RELATION, X.CONSEQ
    `,l=new Map;try{let c=await K(t,s,!0,r,e);if(c){let d=JSON.parse(c);for(let f of d){let T=f.TABLENAME;l.set(T,{database:n,schema:i,tableName:T,fullName:`${i}.${T}`,columns:[],primaryKeyColumns:[]})}}let u=await K(t,o,!0,r,e);if(u){let d=JSON.parse(u);for(let f of d){let T=l.get(f.TABLENAME);T&&T.columns.push({name:f.ATTNAME,dataType:f.FORMAT_TYPE,isPrimaryKey:!1,isForeignKey:!1})}}let E=await K(t,a,!0,r,e);if(E){let d=JSON.parse(E);for(let f of d){let T=l.get(f.RELATION);if(T){T.primaryKeyColumns.push(f.ATTNAME);let h=T.columns.find(S=>S.name===f.ATTNAME);h&&(h.isPrimaryKey=!0)}}}}catch(c){console.warn("Cannot retrieve table information:",c)}return Array.from(l.values())}async function Lj(t,e,r,n,i){let[s,o]=await Promise.all([Gy(t,e,r,n,i),Fy(t,e,r,n,i)]);for(let c of o){let u=c.fromTable.split(".")[1],E=s.find(d=>d.tableName===u);if(E)for(let d of c.fromColumns){let f=E.columns.find(T=>T.name===d);f&&(f.isForeignKey=!0)}}let a=new Set;for(let c of o)a.add(c.fromTable.split(".")[1]),a.add(c.toTable.split(".")[1]);let l=s.filter(c=>a.has(c.tableName)||s.length<=20);return{database:n,schema:i,tables:l,relationships:o}}var Wy=Y(()=>{"use strict";Rr()});var Yy={};Dt(Yy,{ERDView:()=>FR});var Rs,FR,$y=Y(()=>{"use strict";Rs=Z(require("vscode")),FR=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.erdView"}static createOrShow(e,r){let n=Rs.window.activeTextEditor?Rs.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n),t.currentPanel._update(r);return}let i=Rs.window.createWebviewPanel(t.viewType,`ERD: ${r.database}.${r.schema}`,n||Rs.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Rs.Uri.joinPath(e,"media")]});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){this._panel.title=`ERD: ${e.database}.${e.schema}`,this._panel.webview.html=this._getHtml(e)}_getHtml(e){let r=this._generateTableBoxes(e.tables,e.relationships),n=e.relationships.length,i=e.tables.length;return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Entity Relationship Diagram</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>Entity Relationship Diagram</h1>
                    <div class="header-info">
                        <span class="badge">${e.database}.${e.schema}</span>
                        <span class="stat">${i} tables</span>
                        <span class="stat">${n} relationships</span>
                    </div>
                </div>

                <div class="legend">
                    <span class="legend-item"><span class="pk-indicator">\u{1F511}</span> Primary Key</span>
                    <span class="legend-item"><span class="fk-indicator">\u{1F517}</span> Foreign Key</span>
                </div>

                ${n===0?`
                    <div class="no-relationships">
                        <p>\u26A0\uFE0F No foreign key relationships found in this schema.</p>
                        <p>Tables are displayed but no relationship lines can be drawn.</p>
                    </div>
                `:""}

                <div class="erd-container" id="erdContainer">
                    <div class="erd-canvas" id="erdCanvas">
                        ${r}
                        <svg class="relationships-svg" id="relationshipsSvg"></svg>
                    </div>
                </div>

                <div class="relationships-table">
                    <h2>Foreign Key Relationships</h2>
                    ${n>0?`
                        <table>
                            <thead>
                                <tr>
                                    <th>Constraint Name</th>
                                    <th>From Table</th>
                                    <th>Column(s)</th>
                                    <th>\u2192</th>
                                    <th>To Table</th>
                                    <th>Column(s)</th>
                                    <th>On Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${e.relationships.map(s=>`
                                    <tr>
                                        <td><code>${s.constraintName}</code></td>
                                        <td><strong>${s.fromTable}</strong></td>
                                        <td>${s.fromColumns.join(", ")}</td>
                                        <td>\u2192</td>
                                        <td><strong>${s.toTable}</strong></td>
                                        <td>${s.toColumns.join(", ")}</td>
                                        <td>${s.onDelete}</td>
                                    </tr>
                                `).join("")}
                            </tbody>
                        </table>
                    `:"<p>No foreign key relationships defined.</p>"}
                </div>

                <script>
                    ${this._getScript(e)}
                </script>
            </body>
            </html>
        `}_generateTableBoxes(e,r){let n=new Map,i=new Map,s=new Map;e.forEach(B=>{let G=B.tableName;n.set(G,new Set),i.set(G,0),s.set(G,0)}),r.forEach(B=>{let G=B.fromTable.includes(".")?B.fromTable.split(".").pop():B.fromTable,k=B.toTable.includes(".")?B.toTable.split(".").pop():B.toTable;n.has(G)&&(n.get(G).add(k),i.set(G,(i.get(G)||0)+1)),n.has(k)&&(n.get(k).add(G),s.set(k,(s.get(k)||0)+1))});let o=[],a=[],l=[];e.forEach(B=>{let G=i.get(B.tableName)||0;(n.get(B.tableName)?.size||0)===0?l.push(B):G>0?o.push(B):a.push(B)}),o.sort((B,G)=>{let k=i.get(B.tableName)||0;return(i.get(G.tableName)||0)-k});let c=new Map,u=new Set,E=260,d=240,f=50,T=40,h=E+f,S=d+T,p=(B,G)=>`${B},${G}`,I=(B,G)=>u.add(p(B,G)),R=(B,G)=>u.has(p(B,G)),A=(B,G=0)=>{let k=G;for(;R(B,k);)k++;return k},O=0,L=1,N=2,D=B=>20+B*h,y=B=>20+B*S;o.forEach(B=>{let G=A(L);I(L,G),c.set(B.tableName,{x:D(L),y:y(G)})});let P=new Map,x=[];return a.forEach(B=>{let G=n.get(B.tableName)||new Set,k=null;for(let j of G)if(o.some(ne=>ne.tableName===j)){k=j;break}k?(P.has(k)||P.set(k,[]),P.get(k).push(B)):x.push(B)}),P.forEach((B,G)=>{let k=c.get(G);if(!k)return;let j=Math.round((k.y-20)/S);B.forEach((ne,X)=>{let Me=X%2===0?O:N,ue=j+Math.floor(X/2);for(;R(Me,ue);)ue++;I(Me,ue),c.set(ne.tableName,{x:D(Me),y:y(ue)})})}),x.forEach(B=>{let G=!1;for(let k of[O,N]){let j=A(k);G||(I(k,j),c.set(B.tableName,{x:D(k),y:y(j)}),G=!0)}}),l.length>0&&l.forEach((G,k)=>{let j=k;c.set(G.tableName,{x:D(3),y:y(j)})}),e.map(B=>{let G=c.get(B.tableName)||{x:20,y:20},k=B.columns.slice(0,10).map(ne=>{let X=[];ne.isPrimaryKey&&X.push("\u{1F511}"),ne.isForeignKey&&X.push("\u{1F517}");let Me=X.length>0?`<span class="col-icons">${X.join("")}</span>`:"";return`
                    <div class="table-column ${ne.isPrimaryKey?"pk":""} ${ne.isForeignKey?"fk":""}" data-col="${ne.name}">
                        ${Me}
                        <span class="col-name">${ne.name}</span>
                        <span class="col-type">${ne.dataType}</span>
                    </div>
                `}).join(""),j=B.columns.length>10?`<div class="more-columns">... and ${B.columns.length-10} more</div>`:"";return`
                <div class="table-box" id="table-${B.tableName}" 
                     data-table="${B.fullName}"
                     style="left: ${G.x}px; top: ${G.y}px;">
                    <div class="table-header">${B.tableName}</div>
                    <div class="table-columns">
                        ${k}
                        ${j}
                    </div>
                </div>
            `}).join("")}_getScript(e){return`
            (function() {
                const relationships = ${JSON.stringify(e.relationships)};
                const canvas = document.getElementById('erdCanvas');
                const svg = document.getElementById('relationshipsSvg');
                
                function getTableBox(el) {
                    const left = parseInt(el.style.left) || 0;
                    const top = parseInt(el.style.top) || 0;
                    const width = el.offsetWidth;
                    const height = el.offsetHeight;
                    return {
                        left: left,
                        top: top,
                        right: left + width,
                        bottom: top + height,
                        centerX: left + width / 2,
                        centerY: top + height / 2
                    };
                }

                function getColumnPosition(tableEl, columnName) {
                    // Try to find exact column
                    let colEl = tableEl.querySelector('.table-column[data-col="' + columnName + '"]');
                    
                    // If not found (hidden by "more columns"), try to estimate or return center
                    if (!colEl) return null;

                    // Calculate position relative to the table box
                    const tableRect = tableEl.getBoundingClientRect();
                    const colRect = colEl.getBoundingClientRect();
                    const canvasRect = canvas.getBoundingClientRect();

                    // Relative Y from canvas top
                    // We can't just subtract rects if the canvas is scrolled, but here we want SVG coords (absolute in canvas)
                    // The table.style.top is relative to canvas.
                    // The column offset within table is colRect.top - tableRect.top
                    // So Y = table.style.top + (colRect.top - tableRect.top) + colHeight/2
                    
                    const relativeTop = colRect.top - tableRect.top;
                    const centerY = relativeTop + colRect.height / 2;
                    
                    // We need to account for table scroll position if any?
                    // getBoundingClientRect takes visual position, so it accounts for scroll.
                    
                    const tableStyleTop = parseInt(tableEl.style.top) || 0;
                    
                    return tableStyleTop + centerY;
                }
                
                function drawRelationships() {
                    svg.innerHTML = '';
                    
                    // Update SVG size
                    let maxX = 1200, maxY = 600;
                    document.querySelectorAll('.table-box').forEach(el => {
                        const box = getTableBox(el);
                        maxX = Math.max(maxX, box.right + 50);
                        maxY = Math.max(maxY, box.bottom + 50);
                    });
                    
                    svg.setAttribute('width', maxX);
                    svg.setAttribute('height', maxY);
                    svg.style.width = maxX + 'px';
                    svg.style.height = maxY + 'px';
                    
                    // Defs
                    const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                    const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
                    marker.setAttribute('id', 'arrowhead');
                    marker.setAttribute('markerWidth', '10');
                    marker.setAttribute('markerHeight', '7');
                    marker.setAttribute('refX', '10');
                    marker.setAttribute('refY', '3.5');
                    marker.setAttribute('orient', 'auto');
                    const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                    polygon.setAttribute('points', '0 0, 10 3.5, 0 7');
                    polygon.setAttribute('fill', '#3794ff');
                    marker.appendChild(polygon);
                    defs.appendChild(marker);
                    svg.appendChild(defs);
                    
                    relationships.forEach((rel, index) => {
                        const childTableName = rel.fromTable.split('.')[1];
                        const parentTableName = rel.toTable.split('.')[1];
                        
                        const childEl = document.getElementById('table-' + childTableName);
                        const parentEl = document.getElementById('table-' + parentTableName);
                        
                        if (!childEl || !parentEl) return;
                        
                        const childBox = getTableBox(childEl);
                        const parentBox = getTableBox(parentEl);
                        
                        // Determine L/R relationship
                        // If Parent is to the right of Child: Child Right -> Parent Left
                        const parentIsRight = parentBox.centerX > childBox.centerX;
                        
                        let fromX, fromY, toX, toY;
                        let fromControlX, toControlX;
                        
                        // Default Y to center if col not found
                        fromY = childBox.centerY;
                        toY = parentBox.centerY;
                        
                        // Try get specific column Y
                        const colY1 = getColumnPosition(childEl, rel.fromColumns[0]);
                        const colY2 = getColumnPosition(parentEl, rel.toColumns[0]);
                        
                        if (colY1 !== null) fromY = colY1;
                        if (colY2 !== null) toY = colY2;
                        
                        if (parentIsRight) {
                            fromX = childBox.right;
                            toX = parentBox.left;
                            fromControlX = fromX + 50;
                            toControlX = toX - 50;
                        } else {
                            fromX = childBox.left;
                            toX = parentBox.right;
                            fromControlX = fromX - 50;
                            toControlX = toX + 50;
                        }
                        
                        // Calculate Bezier curve
                        // M start C c1 c2 end
                        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                        
                        // Adjust constraints for multiple lines?
                        // Simple cubic bezier is best for side-to-side
                        const d = \`M \${fromX} \${fromY} C \${fromControlX} \${fromY}, \${toControlX} \${toY}, \${toX} \${toY}\`;
                        
                        path.setAttribute('d', d);
                        path.setAttribute('stroke', '#3794ff');
                        path.setAttribute('stroke-width', '2');
                        path.setAttribute('fill', 'none');
                        path.setAttribute('marker-end', 'url(#arrowhead)');
                        path.setAttribute('class', 'relationship-line');
                        
                        const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
                        title.textContent = rel.constraintName + ': ' + 
                            childTableName + '.' + rel.fromColumns.join(',') + ' -> ' + 
                            parentTableName + '.' + rel.toColumns.join(',');
                        path.appendChild(title);
                        
                        svg.appendChild(path);
                    });
                }
                
                // Dragging Logic
                let dragging = null;
                let dragStartX = 0, dragStartY = 0;
                let elemStartLeft = 0, elemStartTop = 0;
                
                document.querySelectorAll('.table-box').forEach(table => {
                    const header = table.querySelector('.table-header');
                    if (header) {
                        header.addEventListener('mousedown', function(e) {
                            e.preventDefault();
                            dragging = table;
                            dragStartX = e.pageX;
                            dragStartY = e.pageY;
                            elemStartLeft = parseInt(table.style.left) || 0;
                            elemStartTop = parseInt(table.style.top) || 0;
                            table.style.zIndex = '1000';
                            document.body.style.cursor = 'grabbing';
                        });
                    }
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (!dragging) return;
                    const dx = e.pageX - dragStartX;
                    const dy = e.pageY - dragStartY;
                    dragging.style.left = Math.max(0, elemStartLeft + dx) + 'px';
                    dragging.style.top = Math.max(0, elemStartTop + dy) + 'px';
                    drawRelationships();
                });
                
                document.addEventListener('mouseup', function() {
                    if (dragging) {
                        dragging.style.zIndex = '';
                        document.body.style.cursor = '';
                        dragging = null;
                    }
                });
                
                requestAnimationFrame(() => setTimeout(drawRelationships, 50));
                window.addEventListener('resize', drawRelationships);
            })();
        `}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --table-bg: var(--vscode-editorWidget-background);
                --pk-color: #f1c40f;
                --fk-color: #3498db;
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                padding-bottom: 10px;
                border-bottom: 1px solid var(--border-color);
            }

            .header h1 {
                margin: 0;
                font-size: 1.4em;
            }

            .header-info {
                display: flex;
                gap: 15px;
                align-items: center;
            }

            .badge {
                background-color: var(--vscode-badge-background);
                color: var(--vscode-badge-foreground);
                padding: 4px 10px;
                border-radius: 12px;
                font-size: 0.9em;
            }

            .stat {
                color: var(--vscode-descriptionForeground);
                font-size: 0.9em;
            }

            .legend {
                display: flex;
                gap: 20px;
                margin-bottom: 15px;
                font-size: 0.9em;
            }

            .legend-item {
                display: flex;
                align-items: center;
                gap: 5px;
            }

            .no-relationships {
                background-color: rgba(255, 193, 7, 0.2);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 15px;
            }

            .no-relationships p {
                margin: 5px 0;
            }

            .erd-container {
                background-color: var(--header-bg);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                overflow: auto;
                margin-bottom: 20px;
                min-height: 400px;
            }

            .erd-canvas {
                position: relative;
                min-width: 1200px;
                min-height: 600px;
            }

            .relationships-svg {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
            }

            .relationship-line {
                pointer-events: stroke;
            }

            .relationship-line:hover {
                stroke-width: 3;
            }

            .table-box {
                position: absolute;
                width: 250px;
                background-color: var(--table-bg);
                border: 2px solid var(--border-color);
                border-radius: 6px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            }

            .table-header {
                background-color: var(--vscode-textLink-foreground);
                color: white;
                padding: 8px 12px;
                font-weight: bold;
                cursor: move;
                font-size: 0.95em;
            }

            .table-columns {
                max-height: 200px;
                overflow-y: auto;
            }

            .table-column {
                display: flex;
                align-items: center;
                padding: 4px 10px;
                border-bottom: 1px solid var(--border-color);
                font-size: 0.85em;
                gap: 6px;
            }

            .table-column:last-child {
                border-bottom: none;
            }

            .table-column.pk {
                background-color: rgba(241, 196, 15, 0.1);
            }

            .table-column.fk {
                background-color: rgba(52, 152, 219, 0.1);
            }

            .col-icons {
                font-size: 0.8em;
            }

            .col-name {
                flex: 1;
                font-weight: 500;
            }

            .col-type {
                color: var(--vscode-descriptionForeground);
                font-size: 0.85em;
            }

            .more-columns {
                padding: 6px 10px;
                color: var(--vscode-descriptionForeground);
                font-style: italic;
                font-size: 0.85em;
            }

            .relationships-table {
                margin-top: 20px;
            }

            .relationships-table h2 {
                font-size: 1.1em;
                margin-bottom: 10px;
            }

            table {
                width: 100%;
                border-collapse: collapse;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var Vy={};Dt(Vy,{SessionMonitorView:()=>GR});function wj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Xr,GR,ky=Y(()=>{"use strict";Xr=Z(require("vscode"));Rr();GR=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._context=n,this._connectionManager=i,this._update(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(async s=>{switch(s.command){case"refresh":await this._fetchAndSendData();return;case"killSession":await this._killSession(s.sessionId);return;case"toggleAutoRefresh":this._toggleAutoRefresh(s.enabled);return}},null,this._disposables),this._fetchAndSendData()}static{this.viewType="netezza.sessionMonitor"}static createOrShow(e,r,n){let i=Xr.window.activeTextEditor?Xr.ViewColumn.Beside:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._fetchAndSendData();return}let s=Xr.window.createWebviewPanel(t.viewType,"Session Monitor",i||Xr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Xr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._refreshInterval&&clearInterval(this._refreshInterval),this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_toggleAutoRefresh(e){e?this._refreshInterval=setInterval(()=>{this._fetchAndSendData()},3e4):this._refreshInterval&&(clearInterval(this._refreshInterval),this._refreshInterval=void 0)}async _killSession(e){try{if(await Xr.window.showWarningMessage(`Are you sure you want to terminate session ${e}?`,{modal:!0},"Yes, Kill Session")!=="Yes, Kill Session")return;let n=`DROP SESSION ${e}`;await K(this._context,n,!0,void 0,this._connectionManager),Xr.window.showInformationMessage(`Session ${e} terminated successfully.`),await this._fetchAndSendData()}catch(r){Xr.window.showErrorMessage(`Failed to kill session: ${r instanceof Error?r.message:String(r)}`)}}async _fetchAndSendData(){this._panel.webview.postMessage({command:"setLoading",loading:!0});try{let[e,r,n,i]=await Promise.all([this._fetchSessions(),this._fetchQueries(),this._fetchStorage(),this._fetchResources()]);this._panel.webview.postMessage({command:"updateData",data:{sessions:e,queries:r,storage:n,resources:i}})}catch(e){this._panel.webview.postMessage({command:"error",text:`Failed to fetch data: ${e instanceof Error?e.message:String(e)}`})}finally{this._panel.webview.postMessage({command:"setLoading",loading:!1})}}async _fetchSessions(){let e=`
            SELECT ID, PID, USERNAME, DBNAME, TYPE, CONNTIME, STATUS, 
                   SUBSTR(COMMAND, 1, 200) AS COMMAND, PRIORITY, CID, IPADDR, CLIENT_OS_USERNAME
            FROM _V_SESSION
            ORDER BY CONNTIME DESC
        `;try{let r=await K(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching sessions:",r),[]}}async _fetchQueries(){let e=`
            SELECT QS_SESSIONID, QS_PLANID, QS_CLIENTID, QS_CLIIPADDR,
                   SUBSTR(QS_SQL, 1, 300) AS QS_SQL, 
                   QS_STATE, QS_TSUBMIT, QS_TSTART, 
                   QS_PRIORITY, QS_PRITXT, QS_ESTCOST, 
                   QS_ESTDISK, QS_ESTMEM, QS_SNIPPETS, QS_CURSNIPT,
                   QS_RESROWS, QS_RESBYTES
            FROM _V_QRYSTAT
            ORDER BY QS_TSTART DESC
            LIMIT 100
        `;try{let r=await K(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching queries:",r),[]}}async _fetchStorage(){let e=`
            SELECT O.DBNAME AS DATABASE, TS.SCHEMA, 
                   ROUND(SUM(TS.ALLOCATED_BYTES) / 1024.0 / 1024.0, 2) AS ALLOC_MB,
                   ROUND(SUM(TS.USED_BYTES) / 1024.0 / 1024.0, 2) AS USED_MB,
                   ROUND(SUM(TS.SKEW * TS.USED_BYTES) / NULLIF(SUM(TS.USED_BYTES), 0), 2) AS AVG_SKEW,
                   COUNT(*) AS TABLE_COUNT
            FROM _V_TABLE_STORAGE_STAT TS
            JOIN _V_OBJECT_DATA O ON TS.OBJID = O.OBJID
            GROUP BY O.DBNAME, TS.SCHEMA
            ORDER BY USED_MB DESC
        `;try{let r=await K(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching storage:",r),[]}}async _fetchResources(){let e=[],r=[],n=null;try{let i=await K(this._context,"SELECT * FROM _V_SCHED_GRA_EXT LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(e=JSON.parse(i))}catch(i){console.warn("_V_SCHED_GRA_EXT not available:",i)}try{let i=await K(this._context,"SELECT * FROM _V_SYSTEM_UTIL ORDER BY 1 DESC LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(r=JSON.parse(i))}catch(i){console.warn("_V_SYSTEM_UTIL not available:",i)}try{let i=await K(this._context,`SELECT 
                    ROUND(AVG(HOST_CPU) * 100, 1) AS AVG_HOST_CPU_PCT,
                    ROUND(AVG(SPU_CPU) * 100, 1) AS AVG_SPU_CPU_PCT,
                    ROUND(AVG(HOST_DISK) * 100, 1) AS AVG_DISK_PCT,
                    ROUND(AVG(HOST_MEMORY) * 100, 1) AS AVG_MEMORY_PCT,
                    ROUND(AVG(HOST_FABRIC) * 100, 1) AS AVG_FABRIC_PCT,
                    COUNT(*) AS SAMPLE_COUNT
                FROM _V_SYSTEM_UTIL`,!0,void 0,this._connectionManager);if(i&&!i.startsWith("Query executed")){let s=JSON.parse(i);n=s.length>0?s[0]:null}}catch(i){console.warn("_V_SYSTEM_UTIL summary not available:",i)}return{gra:e,systemUtil:r,sysUtilSummary:n}}_update(){let e=this._panel.webview;this._panel.title="Session Monitor",this._panel.webview.html=this._getHtmlForWebview(e)}_getHtmlForWebview(e){let r=e.asWebviewUri(Xr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.js")),n=e.asWebviewUri(Xr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.css")),i=wj();return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Session Monitor</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>\u{1F5A5}\uFE0F Session Monitor Dashboard</h2>
            <div class="header-actions">
                <label class="auto-refresh">
                    <input type="checkbox" id="autoRefresh"> Auto-refresh (30s)
                </label>
                <button id="refreshBtn" class="btn btn-primary">\u{1F504} Refresh</button>
            </div>
        </div>

        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <span>Loading data...</span>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="sessions">\u{1F4CB} Sessions</button>
            <button class="tab-btn" data-tab="queries">\u23F1\uFE0F Running Queries</button>
            <button class="tab-btn" data-tab="storage">\u{1F4BE} Storage</button>
            <button class="tab-btn" data-tab="resources">\u{1F4CA} Resources</button>
        </div>

        <div class="tab-content" id="sessions">
            <div class="section-header">
                <h3>Active Sessions</h3>
                <span class="count" id="sessionCount">0 sessions</span>
            </div>
            <div class="table-container">
                <table id="sessionsTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>PID</th>
                            <th>User</th>
                            <th>Database</th>
                            <th>Type</th>
                            <th>Connected</th>
                            <th>Status</th>
                            <th>IP</th>
                            <th>Command</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="queries">
            <div class="section-header">
                <h3>Running Queries</h3>
                <span class="count" id="queryCount">0 queries</span>
            </div>
            <div class="table-container">
                <table id="queriesTable">
                    <thead>
                        <tr>
                            <th>Session</th>
                            <th>Plan ID</th>
                            <th>State</th>
                            <th>Priority</th>
                            <th>Submitted</th>
                            <th>Started</th>
                            <th>Est. Cost</th>
                            <th>Rows</th>
                            <th>SQL</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="storage">
            <div class="section-header">
                <h3>Storage by Schema</h3>
                <span class="count" id="storageCount">0 schemas</span>
            </div>
            <div class="table-container">
                <table id="storageTable">
                    <thead>
                        <tr>
                            <th>Database</th>
                            <th>Schema</th>
                            <th>Allocated (MB)</th>
                            <th>Used (MB)</th>
                            <th>Usage %</th>
                            <th>Avg Skew</th>
                            <th>Tables</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="resources">
            <div class="section-header">
                <h3>Resource Utilization</h3>
            </div>
            <div class="resources-grid">
                <div class="resource-section">
                    <h4>GRA Scheduler</h4>
                    <div id="graTable" class="table-container small"></div>
                </div>
                <div class="resource-section">
                    <h4>System Utilization</h4>
                    <div id="sysUtilSummary"></div>
                    <div id="sysUtilTable" class="table-container small"></div>
                </div>
            </div>
        </div>
    </div>

    <script nonce="${i}" src="${r}"></script>
</body>
</html>`}}});var zy=g((ODe,Ky)=>{var Dj=typeof process=="object"&&process&&process.platform==="win32";Ky.exports=Dj?{sep:"\\"}:{sep:"/"}});var HR=g((mDe,Zy)=>{"use strict";Zy.exports=Jy;function Jy(t,e,r){t instanceof RegExp&&(t=jy(t,r)),e instanceof RegExp&&(e=jy(e,r));var n=Qy(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function jy(t,e){var r=e.match(t);return r?r[0]:null}Jy.range=Qy;function Qy(t,e,r){var n,i,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(t,u+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}});var aL=g((gDe,oL)=>{var eL=HR();oL.exports=xj;var tL="\0SLASH"+Math.random()+"\0",rL="\0OPEN"+Math.random()+"\0",YR="\0CLOSE"+Math.random()+"\0",nL="\0COMMA"+Math.random()+"\0",iL="\0PERIOD"+Math.random()+"\0";function WR(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Pj(t){return t.split("\\\\").join(tL).split("\\{").join(rL).split("\\}").join(YR).split("\\,").join(nL).split("\\.").join(iL)}function Mj(t){return t.split(tL).join("\\").split(rL).join("{").split(YR).join("}").split(nL).join(",").split(iL).join(".")}function sL(t){if(!t)return[""];var e=[],r=eL("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=sL(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function xj(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Yc(Pj(t),!0).map(Mj)):[]}function vj(t){return"{"+t+"}"}function Uj(t){return/^-?0\d/.test(t)}function Bj(t,e){return t<=e}function Fj(t,e){return t>=e}function Yc(t,e){var r=[],n=eL("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Yc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,E=n.body.indexOf(",")>=0;if(!u&&!E)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+YR+n.post,Yc(t)):[t];var d;if(u)d=n.body.split(/\.\./);else if(d=sL(n.body),d.length===1&&(d=Yc(d[0],!1).map(vj),d.length===1))return s.map(function(P){return n.pre+d[0]+P});var f;if(u){var T=WR(d[0]),h=WR(d[1]),S=Math.max(d[0].length,d[1].length),p=d.length==3?Math.abs(WR(d[2])):1,I=Bj,R=h<T;R&&(p*=-1,I=Fj);var A=d.some(Uj);f=[];for(var O=T;I(O,h);O+=p){var L;if(c)L=String.fromCharCode(O),L==="\\"&&(L="");else if(L=String(O),A){var N=S-L.length;if(N>0){var D=new Array(N+1).join("0");O<0?L="-"+D+L.slice(1):L=D+L}}f.push(L)}}else{f=[];for(var y=0;y<d.length;y++)f.push.apply(f,Yc(d[y],!1))}for(var y=0;y<f.length;y++)for(var o=0;o<s.length;o++){var a=i+f[y]+s[o];(!e||u||a)&&r.push(a)}}return r}});var dL=g((bDe,XR)=>{var zr=XR.exports=(t,e,r={})=>(rd(e),!r.nocomment&&e.charAt(0)==="#"?!1:new xa(e,r).match(t));XR.exports=zr;var kR=zy();zr.sep=kR.sep;var mn=Symbol("globstar **");zr.GLOBSTAR=mn;var Gj=aL(),lL={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qR="[^/]",$R=qR+"*?",Hj="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Wj="(?:(?!(?:\\/|^)\\.).)*?",EL=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),cL=EL("().*{}+?[]^$\\!"),Yj=EL("[.("),uL=/\/+/;zr.filter=(t,e={})=>(r,n,i)=>zr(r,t,e);var As=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};zr.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return zr;let e=zr,r=(n,i,s)=>e(n,i,As(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,As(t,s))}},r.Minimatch.defaults=n=>e.defaults(As(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,As(t,i)),r.defaults=n=>e.defaults(As(t,n)),r.makeRe=(n,i)=>e.makeRe(n,As(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,As(t,i)),r.match=(n,i,s)=>e.match(n,i,As(t,s)),r};zr.braceExpand=(t,e)=>fL(t,e);var fL=(t,e={})=>(rd(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Gj(t)),$j=1024*64,rd=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>$j)throw new TypeError("pattern is too long")},VR=Symbol("subparse");zr.makeRe=(t,e)=>new xa(t,e||{}).makeRe();zr.match=(t,e,r={})=>{let n=new xa(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var Vj=t=>t.replace(/\\(.)/g,"$1"),kj=t=>t.replace(/\\([^-\]])/g,"$1"),qj=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Xj=t=>t.replace(/[[\]\\]/g,"\\$&"),xa=class{constructor(e,r){rd(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(uL)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,l=r.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=r[o],u=e[s];if(this.debug(r,c,u),c===!1)return!1;if(c===mn){this.debug("GLOBSTAR",[r,c,u]);var E=s,d=o+1;if(d===l){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;E<a;){var f=e[E];if(this.debug(`
globstar while`,e,E,r,d,f),this.matchOne(e.slice(E),r.slice(d),n))return this.debug("globstar found match!",E,a,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,E,r,d);break}this.debug("globstar swallow a segment, and continue"),E++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,E,r,d),E===a))}var T;if(typeof c=="string"?(T=u===c,this.debug("string match",c,u,T)):(T=u.match(c),this.debug("pattern match",c,u,T)),!T)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return fL(this.pattern,this.options)}parse(e,r){rd(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return mn;if(e==="")return"";let i="",s=!1,o=!1,a=[],l=[],c,u=!1,E=-1,d=-1,f,T,h,S=e.charAt(0)===".",p=n.dot||S,I=()=>S?"":p?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",R=N=>N.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",A=()=>{if(c){switch(c){case"*":i+=$R,s=!0;break;case"?":i+=qR,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let N=0,D;N<e.length&&(D=e.charAt(N));N++){if(this.debug("%s	%s %s %j",e,N,i,D),o){if(D==="/")return!1;cL[D]&&(i+="\\"),i+=D,o=!1;continue}switch(D){case"/":return!1;case"\\":if(u&&e.charAt(N+1)==="-"){i+=D;continue}A(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,N,i,D),u){this.debug("  in class"),D==="!"&&N===d+1&&(D="^"),i+=D;continue}this.debug("call clearStateChar %j",c),A(),c=D,n.noext&&A();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}let y={type:c,start:N-1,reStart:i.length,open:lL[c].open,close:lL[c].close};this.debug(this.pattern,"	",y),a.push(y),i+=y.open,y.start===0&&y.type!=="!"&&(S=!0,i+=R(e.slice(N+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let y=a[a.length-1];if(u||!y){i+="\\)";continue}a.pop(),A(),s=!0,T=y,i+=T.close,T.type==="!"&&l.push(Object.assign(T,{reEnd:i.length}));continue}case"|":{let y=a[a.length-1];if(u||!y){i+="\\|";continue}A(),i+="|",y.start===0&&y.type!=="!"&&(S=!0,i+=R(e.slice(N+1)));continue}case"[":if(A(),u){i+="\\"+D;continue}u=!0,d=N,E=i.length,i+=D;continue;case"]":if(N===d+1||!u){i+="\\"+D;continue}f=e.substring(d+1,N);try{RegExp("["+Xj(kj(f))+"]"),i+=D}catch{i=i.substring(0,E)+"(?:$.)"}s=!0,u=!1;continue;default:A(),cL[D]&&!(D==="^"&&u)&&(i+="\\"),i+=D;break}}for(u&&(f=e.slice(d+1),h=this.parse(f,VR),i=i.substring(0,E)+"\\["+h[0],s=s||h[1]),T=a.pop();T;T=a.pop()){let N;N=i.slice(T.reStart+T.open.length),this.debug("setting tail",i,T),N=N.replace(/((?:\\{2}){0,64})(\\?)\|/g,(y,P,x)=>(x||(x="\\"),P+P+x+"|")),this.debug(`tail=%j
   %s`,N,N,T,i);let D=T.type==="*"?$R:T.type==="?"?qR:"\\"+T.type;s=!0,i=i.slice(0,T.reStart)+D+"\\("+N}A(),o&&(i+="\\\\");let O=Yj[i.charAt(0)];for(let N=l.length-1;N>-1;N--){let D=l[N],y=i.slice(0,D.reStart),P=i.slice(D.reStart,D.reEnd-8),x=i.slice(D.reEnd),B=i.slice(D.reEnd-8,D.reEnd)+x,G=y.split(")").length,k=y.split("(").length-G,j=x;for(let X=0;X<k;X++)j=j.replace(/\)[+*?]?/,"");x=j;let ne=x===""&&r!==VR?"(?:$|\\/)":"";i=y+P+x+ne+B}if(i!==""&&s&&(i="(?=.)"+i),O&&(i=I()+i),r===VR)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return Vj(e);let L=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",L),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?$R:r.dot?Hj:Wj,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?qj(a):a===mn?mn:a._src).reduce((a,l)=>(a[a.length-1]===mn&&l===mn||a.push(l),a),[]),o.forEach((a,l)=>{a!==mn||o[l-1]===mn||(l===0?o.length>1?o[l+1]="(?:\\/|"+n+"\\/)?"+o[l+1]:o[l]=n:l===o.length-1?o[l-1]+="(?:\\/|"+n+")?":(o[l-1]+="(?:\\/|\\/"+n+"\\/)"+o[l+1],o[l+1]=mn))}),o.filter(a=>a!==mn).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;kR.sep!=="/"&&(e=e.split(kR.sep).join("/")),e=e.split(uL),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],l=e;if(n.matchBase&&a.length===1&&(l=[s]),this.matchOne(l,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return zr.defaults(e).Minimatch}};zr.Minimatch=xa});var RL=g((yDe,pL)=>{pL.exports=SL;var zR=require("fs"),{EventEmitter:Kj}=require("events"),{Minimatch:KR}=dL(),{resolve:zj}=require("path");function jj(t,e){return new Promise((r,n)=>{zR.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function hL(t,e){return new Promise((r,n)=>{(e?zR.stat:zR.lstat)(t,(s,o)=>{if(s)switch(s.code){case"ENOENT":r(e?hL(t,!1):null);break;default:r(null);break}else r(o)})})}async function*TL(t,e,r,n,i,s){let o=await jj(e+t,s);for(let a of o){let l=a.name;l===void 0&&(l=a,n=!0);let c=t+"/"+l,u=c.slice(1),E=e+"/"+u,d=null;(n||r)&&(d=await hL(E,r)),!d&&a.name!==void 0&&(d=a),d===null&&(d={isDirectory:()=>!1}),d.isDirectory()?i(u)||(yield{relative:u,absolute:E,stats:d},yield*TL(c,e,r,n,i,!1)):yield{relative:u,absolute:E,stats:d}}}async function*Jj(t,e,r,n){yield*TL("",t,e,r,n,!0)}function Qj(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var nd=class extends Kj{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=Qj(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new KR(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new KR(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new KR(s,{dot:!0}))}this.iterator=Jj(zj(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function SL(t,e,r){return new nd(t,e,r)}SL.ReaddirGlob=nd});var _L=g((id,AL)=>{(function(t,e){typeof id=="object"&&typeof AL<"u"?e(id):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(id,(function(t){"use strict";function e(C,...m){return(...b)=>C(...m,...b)}function r(C){return function(...m){var b=m.pop();return C.call(this,m,b)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,s=typeof process=="object"&&typeof process.nextTick=="function";function o(C){setTimeout(C,0)}function a(C){return(m,...b)=>C(()=>m(...b))}var l;n?l=queueMicrotask:i?l=setImmediate:s?l=process.nextTick:l=o;var c=a(l);function u(C){return f(C)?function(...m){let b=m.pop(),w=C.apply(this,m);return E(w,b)}:r(function(m,b){var w;try{w=C.apply(this,m)}catch(v){return b(v)}if(w&&typeof w.then=="function")return E(w,b);b(null,w)})}function E(C,m){return C.then(b=>{d(m,null,b)},b=>{d(m,b&&(b instanceof Error||b.message)?b:new Error(b))})}function d(C,m,b){try{C(m,b)}catch(w){c(v=>{throw v},w)}}function f(C){return C[Symbol.toStringTag]==="AsyncFunction"}function T(C){return C[Symbol.toStringTag]==="AsyncGenerator"}function h(C){return typeof C[Symbol.asyncIterator]=="function"}function S(C){if(typeof C!="function")throw new Error("expected a function");return f(C)?u(C):C}function p(C,m){if(m||(m=C.length),!m)throw new Error("arity is undefined");function b(...w){return typeof w[m-1]=="function"?C.apply(this,w):new Promise((v,U)=>{w[m-1]=(F,...H)=>{if(F)return U(F);v(H.length>1?H:H[0])},C.apply(this,w)})}return b}function I(C){return function(b,...w){return p(function(U){var F=this;return C(b,(H,V)=>{S(H).apply(F,w.concat(V))},U)})}}function R(C,m,b,w){m=m||[];var v=[],U=0,F=S(b);return C(m,(H,V,te)=>{var xe=U++;F(H,(He,ve)=>{v[xe]=ve,te(He)})},H=>{w(H,v)})}function A(C){return C&&typeof C.length=="number"&&C.length>=0&&C.length%1===0}let O={};function L(C){function m(...b){if(C!==null){var w=C;C=null,w.apply(this,b)}}return Object.assign(m,C),m}function N(C){return C[Symbol.iterator]&&C[Symbol.iterator]()}function D(C){var m=-1,b=C.length;return function(){return++m<b?{value:C[m],key:m}:null}}function y(C){var m=-1;return function(){var w=C.next();return w.done?null:(m++,{value:w.value,key:m})}}function P(C){var m=C?Object.keys(C):[],b=-1,w=m.length;return function v(){var U=m[++b];return U==="__proto__"?v():b<w?{value:C[U],key:U}:null}}function x(C){if(A(C))return D(C);var m=N(C);return m?y(m):P(C)}function B(C){return function(...m){if(C===null)throw new Error("Callback was already called.");var b=C;C=null,b.apply(this,m)}}function G(C,m,b,w){let v=!1,U=!1,F=!1,H=0,V=0;function te(){H>=m||F||v||(F=!0,C.next().then(({value:ve,done:rn})=>{if(!(U||v)){if(F=!1,rn){v=!0,H<=0&&w(null);return}H++,b(ve,V,xe),V++,te()}}).catch(He))}function xe(ve,rn){if(H-=1,!U){if(ve)return He(ve);if(ve===!1){v=!0,U=!0;return}if(rn===O||v&&H<=0)return v=!0,w(null);te()}}function He(ve){U||(F=!1,v=!0,w(ve))}te()}var k=C=>(m,b,w)=>{if(w=L(w),C<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!m)return w(null);if(T(m))return G(m,C,b,w);if(h(m))return G(m[Symbol.asyncIterator](),C,b,w);var v=x(m),U=!1,F=!1,H=0,V=!1;function te(He,ve){if(!F)if(H-=1,He)U=!0,w(He);else if(He===!1)U=!0,F=!0;else{if(ve===O||U&&H<=0)return U=!0,w(null);V||xe()}}function xe(){for(V=!0;H<C&&!U;){var He=v();if(He===null){U=!0,H<=0&&w(null);return}H+=1,b(He.value,He.key,B(te))}V=!1}xe()};function j(C,m,b,w){return k(m)(C,S(b),w)}var ne=p(j,4);function X(C,m,b){b=L(b);var w=0,v=0,{length:U}=C,F=!1;U===0&&b(null);function H(V,te){V===!1&&(F=!0),F!==!0&&(V?b(V):(++v===U||te===O)&&b(null))}for(;w<U;w++)m(C[w],w,B(H))}function Me(C,m,b){return ne(C,1/0,m,b)}function ue(C,m,b){var w=A(C)?X:Me;return w(C,S(m),b)}var Sr=p(ue,3);function Ic(C,m,b){return R(Sr,C,m,b)}var Gn=p(Ic,3),Hn=I(Gn);function $p(C,m,b){return ne(C,1,m,b)}var Vr=p($p,3);function Vp(C,m,b){return R(Vr,C,m,b)}var Nc=p(Vp,3),QE=I(Nc);let fs=Symbol("promiseCallback");function ma(){let C,m;function b(w,...v){if(w)return m(w);C(v.length>1?v:v[0])}return b[fs]=new Promise((w,v)=>{C=w,m=v}),b}function kp(C,m,b){typeof m!="number"&&(b=m,m=null),b=L(b||ma());var w=Object.keys(C).length;if(!w)return b(null);m||(m=w);var v={},U=0,F=!1,H=!1,V=Object.create(null),te=[],xe=[],He={};Object.keys(C).forEach(Q=>{var oe=C[Q];if(!Array.isArray(oe)){ve(Q,[oe]),xe.push(Q);return}var Ue=oe.slice(0,oe.length-1),it=Ue.length;if(it===0){ve(Q,oe),xe.push(Q);return}He[Q]=it,Ue.forEach(Vt=>{if(!C[Vt])throw new Error("async.auto task `"+Q+"` has a non-existent dependency `"+Vt+"` in "+Ue.join(", "));Ca(Vt,()=>{it--,it===0&&ve(Q,oe)})})}),We(),rn();function ve(Q,oe){te.push(()=>yc(Q,oe))}function rn(){if(!F){if(te.length===0&&U===0)return b(null,v);for(;te.length&&U<m;){var Q=te.shift();Q()}}}function Ca(Q,oe){var Ue=V[Q];Ue||(Ue=V[Q]=[]),Ue.push(oe)}function eo(Q){var oe=V[Q]||[];oe.forEach(Ue=>Ue()),rn()}function yc(Q,oe){if(!H){var Ue=B((Vt,...nn)=>{if(U--,Vt===!1){F=!0;return}if(nn.length<2&&([nn]=nn),Vt){var ba={};if(Object.keys(v).forEach(to=>{ba[to]=v[to]}),ba[Q]=nn,H=!0,V=Object.create(null),F)return;b(Vt,ba)}else v[Q]=nn,eo(Q)});U++;var it=S(oe[oe.length-1]);oe.length>1?it(v,Ue):it(Ue)}}function We(){for(var Q,oe=0;xe.length;)Q=xe.pop(),oe++,se(Q).forEach(Ue=>{--He[Ue]===0&&xe.push(Ue)});if(oe!==w)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function se(Q){var oe=[];return Object.keys(C).forEach(Ue=>{let it=C[Ue];Array.isArray(it)&&it.indexOf(Q)>=0&&oe.push(Ue)}),oe}return b[fs]}var g4=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,C4=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,b4=/,/,y4=/(=.+)?(\s*)$/;function L4(C){let m="",b=0,w=C.indexOf("*/");for(;b<C.length;)if(C[b]==="/"&&C[b+1]==="/"){let v=C.indexOf(`
`,b);b=v===-1?C.length:v}else if(w!==-1&&C[b]==="/"&&C[b+1]==="*"){let v=C.indexOf("*/",b);v!==-1?(b=v+2,w=C.indexOf("*/",b)):(m+=C[b],b++)}else m+=C[b],b++;return m}function w4(C){let m=L4(C.toString()),b=m.match(g4);if(b||(b=m.match(C4)),!b)throw new Error(`could not parse args in autoInject
Source:
`+m);let[,w]=b;return w.replace(/\s/g,"").split(b4).map(v=>v.replace(y4,"").trim())}function H0(C,m){var b={};return Object.keys(C).forEach(w=>{var v=C[w],U,F=f(v),H=!F&&v.length===1||F&&v.length===0;if(Array.isArray(v))U=[...v],v=U.pop(),b[w]=U.concat(U.length>0?V:v);else if(H)b[w]=v;else{if(U=w4(v),v.length===0&&!F&&U.length===0)throw new Error("autoInject task functions require explicit parameters.");F||U.pop(),b[w]=U.concat(V)}function V(te,xe){var He=U.map(ve=>te[ve]);He.push(xe),S(v)(...He)}}),kp(b,m)}class D4{constructor(){this.head=this.tail=null,this.length=0}removeLink(m){return m.prev?m.prev.next=m.next:this.head=m.next,m.next?m.next.prev=m.prev:this.tail=m.prev,m.prev=m.next=null,this.length-=1,m}empty(){for(;this.head;)this.shift();return this}insertAfter(m,b){b.prev=m,b.next=m.next,m.next?m.next.prev=b:this.tail=b,m.next=b,this.length+=1}insertBefore(m,b){b.prev=m.prev,b.next=m,m.prev?m.prev.next=b:this.head=b,m.prev=b,this.length+=1}unshift(m){this.head?this.insertBefore(this.head,m):W0(this,m)}push(m){this.tail?this.insertAfter(this.tail,m):W0(this,m)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var m=this.head;m;)yield m.data,m=m.next}remove(m){for(var b=this.head;b;){var{next:w}=b;m(b)&&this.removeLink(b),b=w}return this}}function W0(C,m){C.length=1,C.head=C.tail=m}function qp(C,m,b){if(m==null)m=1;else if(m===0)throw new RangeError("Concurrency must not be zero");var w=S(C),v=0,U=[];let F={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function H(se,Q){F[se].push(Q)}function V(se,Q){let oe=(...Ue)=>{te(se,oe),Q(...Ue)};F[se].push(oe)}function te(se,Q){if(!se)return Object.keys(F).forEach(oe=>F[oe]=[]);if(!Q)return F[se]=[];F[se]=F[se].filter(oe=>oe!==Q)}function xe(se,...Q){F[se].forEach(oe=>oe(...Q))}var He=!1;function ve(se,Q,oe,Ue){if(Ue!=null&&typeof Ue!="function")throw new Error("task callback must be a function");We.started=!0;var it,Vt;function nn(to,...Lc){if(to)return oe?Vt(to):it();if(Lc.length<=1)return it(Lc[0]);it(Lc)}var ba=We._createTaskItem(se,oe?nn:Ue||nn);if(Q?We._tasks.unshift(ba):We._tasks.push(ba),He||(He=!0,c(()=>{He=!1,We.process()})),oe||!Ue)return new Promise((to,Lc)=>{it=to,Vt=Lc})}function rn(se){return function(Q,...oe){v-=1;for(var Ue=0,it=se.length;Ue<it;Ue++){var Vt=se[Ue],nn=U.indexOf(Vt);nn===0?U.shift():nn>0&&U.splice(nn,1),Vt.callback(Q,...oe),Q!=null&&xe("error",Q,Vt.data)}v<=We.concurrency-We.buffer&&xe("unsaturated"),We.idle()&&xe("drain"),We.process()}}function Ca(se){return se.length===0&&We.idle()?(c(()=>xe("drain")),!0):!1}let eo=se=>Q=>{if(!Q)return new Promise((oe,Ue)=>{V(se,(it,Vt)=>{if(it)return Ue(it);oe(Vt)})});te(se),H(se,Q)};var yc=!1,We={_tasks:new D4,_createTaskItem(se,Q){return{data:se,callback:Q}},*[Symbol.iterator](){yield*We._tasks[Symbol.iterator]()},concurrency:m,payload:b,buffer:m/4,started:!1,paused:!1,push(se,Q){return Array.isArray(se)?Ca(se)?void 0:se.map(oe=>ve(oe,!1,!1,Q)):ve(se,!1,!1,Q)},pushAsync(se,Q){return Array.isArray(se)?Ca(se)?void 0:se.map(oe=>ve(oe,!1,!0,Q)):ve(se,!1,!0,Q)},kill(){te(),We._tasks.empty()},unshift(se,Q){return Array.isArray(se)?Ca(se)?void 0:se.map(oe=>ve(oe,!0,!1,Q)):ve(se,!0,!1,Q)},unshiftAsync(se,Q){return Array.isArray(se)?Ca(se)?void 0:se.map(oe=>ve(oe,!0,!0,Q)):ve(se,!0,!0,Q)},remove(se){We._tasks.remove(se)},process(){if(!yc){for(yc=!0;!We.paused&&v<We.concurrency&&We._tasks.length;){var se=[],Q=[],oe=We._tasks.length;We.payload&&(oe=Math.min(oe,We.payload));for(var Ue=0;Ue<oe;Ue++){var it=We._tasks.shift();se.push(it),U.push(it),Q.push(it.data)}v+=1,We._tasks.length===0&&xe("empty"),v===We.concurrency&&xe("saturated");var Vt=B(rn(se));w(Q,Vt)}yc=!1}},length(){return We._tasks.length},running(){return v},workersList(){return U},idle(){return We._tasks.length+v===0},pause(){We.paused=!0},resume(){We.paused!==!1&&(We.paused=!1,c(We.process))}};return Object.defineProperties(We,{saturated:{writable:!1,value:eo("saturated")},unsaturated:{writable:!1,value:eo("unsaturated")},empty:{writable:!1,value:eo("empty")},drain:{writable:!1,value:eo("drain")},error:{writable:!1,value:eo("error")}}),We}function Y0(C,m){return qp(C,1,m)}function $0(C,m,b){return qp(C,m,b)}function P4(C,m,b,w){w=L(w);var v=S(b);return Vr(C,(U,F,H)=>{v(m,U,(V,te)=>{m=te,H(V)})},U=>w(U,m))}var ds=p(P4,4);function Xp(...C){var m=C.map(S);return function(...b){var w=this,v=b[b.length-1];return typeof v=="function"?b.pop():v=ma(),ds(m,b,(U,F,H)=>{F.apply(w,U.concat((V,...te)=>{H(V,te)}))},(U,F)=>v(U,...F)),v[fs]}}function V0(...C){return Xp(...C.reverse())}function M4(C,m,b,w){return R(k(m),C,b,w)}var Oc=p(M4,4);function x4(C,m,b,w){var v=S(b);return Oc(C,m,(U,F)=>{v(U,(H,...V)=>H?F(H):F(H,V))},(U,F)=>{for(var H=[],V=0;V<F.length;V++)F[V]&&(H=H.concat(...F[V]));return w(U,H)})}var ga=p(x4,4);function v4(C,m,b){return ga(C,1/0,m,b)}var ZE=p(v4,3);function U4(C,m,b){return ga(C,1,m,b)}var ef=p(U4,3);function k0(...C){return function(...m){var b=m.pop();return b(null,...C)}}function gi(C,m){return(b,w,v,U)=>{var F=!1,H;let V=S(v);b(w,(te,xe,He)=>{V(te,(ve,rn)=>{if(ve||ve===!1)return He(ve);if(C(rn)&&!H)return F=!0,H=m(!0,te),He(null,O);He()})},te=>{if(te)return U(te);U(null,F?H:m(!1))})}}function B4(C,m,b){return gi(w=>w,(w,v)=>v)(Sr,C,m,b)}var tf=p(B4,3);function F4(C,m,b,w){return gi(v=>v,(v,U)=>U)(k(m),C,b,w)}var rf=p(F4,4);function G4(C,m,b){return gi(w=>w,(w,v)=>v)(k(1),C,m,b)}var nf=p(G4,3);function q0(C){return(m,...b)=>S(m)(...b,(w,...v)=>{typeof console=="object"&&(w?console.error&&console.error(w):console[C]&&v.forEach(U=>console[C](U)))})}var X0=q0("dir");function H4(C,m,b){b=B(b);var w=S(C),v=S(m),U;function F(V,...te){if(V)return b(V);V!==!1&&(U=te,v(...te,H))}function H(V,te){if(V)return b(V);if(V!==!1){if(!te)return b(null,...U);w(F)}}return H(null,!0)}var mc=p(H4,3);function K0(C,m,b){let w=S(m);return mc(C,(...v)=>{let U=v.pop();w(...v,(F,H)=>U(F,!H))},b)}function z0(C){return(m,b,w)=>C(m,w)}function W4(C,m,b){return Sr(C,z0(S(m)),b)}var sf=p(W4,3);function Y4(C,m,b,w){return k(m)(C,z0(S(b)),w)}var gc=p(Y4,4);function $4(C,m,b){return gc(C,1,m,b)}var Cc=p($4,3);function Kp(C){return f(C)?C:function(...m){var b=m.pop(),w=!0;m.push((...v)=>{w?c(()=>b(...v)):b(...v)}),C.apply(this,m),w=!1}}function V4(C,m,b){return gi(w=>!w,w=>!w)(Sr,C,m,b)}var of=p(V4,3);function k4(C,m,b,w){return gi(v=>!v,v=>!v)(k(m),C,b,w)}var af=p(k4,4);function q4(C,m,b){return gi(w=>!w,w=>!w)(Vr,C,m,b)}var lf=p(q4,3);function X4(C,m,b,w){var v=new Array(m.length);C(m,(U,F,H)=>{b(U,(V,te)=>{v[F]=!!te,H(V)})},U=>{if(U)return w(U);for(var F=[],H=0;H<m.length;H++)v[H]&&F.push(m[H]);w(null,F)})}function K4(C,m,b,w){var v=[];C(m,(U,F,H)=>{b(U,(V,te)=>{if(V)return H(V);te&&v.push({index:F,value:U}),H(V)})},U=>{if(U)return w(U);w(null,v.sort((F,H)=>F.index-H.index).map(F=>F.value))})}function cf(C,m,b,w){var v=A(m)?X4:K4;return v(C,m,S(b),w)}function z4(C,m,b){return cf(Sr,C,m,b)}var uf=p(z4,3);function j4(C,m,b,w){return cf(k(m),C,b,w)}var Ef=p(j4,4);function J4(C,m,b){return cf(Vr,C,m,b)}var ff=p(J4,3);function Q4(C,m){var b=B(m),w=S(Kp(C));function v(U){if(U)return b(U);U!==!1&&w(v)}return v()}var j0=p(Q4,2);function Z4(C,m,b,w){var v=S(b);return Oc(C,m,(U,F)=>{v(U,(H,V)=>H?F(H):F(H,{key:V,val:U}))},(U,F)=>{for(var H={},{hasOwnProperty:V}=Object.prototype,te=0;te<F.length;te++)if(F[te]){var{key:xe}=F[te],{val:He}=F[te];V.call(H,xe)?H[xe].push(He):H[xe]=[He]}return w(U,H)})}var df=p(Z4,4);function J0(C,m,b){return df(C,1/0,m,b)}function Q0(C,m,b){return df(C,1,m,b)}var Z0=q0("log");function ez(C,m,b,w){w=L(w);var v={},U=S(b);return k(m)(C,(F,H,V)=>{U(F,H,(te,xe)=>{if(te)return V(te);v[H]=xe,V(te)})},F=>w(F,v))}var hf=p(ez,4);function eb(C,m,b){return hf(C,1/0,m,b)}function tb(C,m,b){return hf(C,1,m,b)}function rb(C,m=b=>b){var b=Object.create(null),w=Object.create(null),v=S(C),U=r((F,H)=>{var V=m(...F);V in b?c(()=>H(null,...b[V])):V in w?w[V].push(H):(w[V]=[H],v(...F,(te,...xe)=>{te||(b[V]=xe);var He=w[V];delete w[V];for(var ve=0,rn=He.length;ve<rn;ve++)He[ve](te,...xe)}))});return U.memo=b,U.unmemoized=C,U}var Tf;s?Tf=process.nextTick:i?Tf=setImmediate:Tf=o;var nb=a(Tf),zp=p((C,m,b)=>{var w=A(m)?[]:{};C(m,(v,U,F)=>{S(v)((H,...V)=>{V.length<2&&([V]=V),w[U]=V,F(H)})},v=>b(v,w))},3);function ib(C,m){return zp(Sr,C,m)}function sb(C,m,b){return zp(k(m),C,b)}function jp(C,m){var b=S(C);return qp((w,v)=>{b(w[0],v)},m,1)}class tz{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(m){let b;for(;m>0&&Jp(this.heap[m],this.heap[b=ob(m)]);){let w=this.heap[m];this.heap[m]=this.heap[b],this.heap[b]=w,m=b}}percDown(m){let b;for(;(b=rz(m))<this.heap.length&&(b+1<this.heap.length&&Jp(this.heap[b+1],this.heap[b])&&(b=b+1),!Jp(this.heap[m],this.heap[b]));){let w=this.heap[m];this.heap[m]=this.heap[b],this.heap[b]=w,m=b}}push(m){m.pushCount=++this.pushCount,this.heap.push(m),this.percUp(this.heap.length-1)}unshift(m){return this.heap.push(m)}shift(){let[m]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),m}toArray(){return[...this]}*[Symbol.iterator](){for(let m=0;m<this.heap.length;m++)yield this.heap[m].data}remove(m){let b=0;for(let w=0;w<this.heap.length;w++)m(this.heap[w])||(this.heap[b]=this.heap[w],b++);this.heap.splice(b);for(let w=ob(this.heap.length-1);w>=0;w--)this.percDown(w);return this}}function rz(C){return(C<<1)+1}function ob(C){return(C+1>>1)-1}function Jp(C,m){return C.priority!==m.priority?C.priority<m.priority:C.pushCount<m.pushCount}function ab(C,m){var b=jp(C,m),{push:w,pushAsync:v}=b;b._tasks=new tz,b._createTaskItem=({data:F,priority:H},V)=>({data:F,priority:H,callback:V});function U(F,H){return Array.isArray(F)?F.map(V=>({data:V,priority:H})):{data:F,priority:H}}return b.push=function(F,H=0,V){return w(U(F,H),V)},b.pushAsync=function(F,H=0,V){return v(U(F,H),V)},delete b.unshift,delete b.unshiftAsync,b}function nz(C,m){if(m=L(m),!Array.isArray(C))return m(new TypeError("First argument to race must be an array of functions"));if(!C.length)return m();for(var b=0,w=C.length;b<w;b++)S(C[b])(m)}var lb=p(nz,2);function Sf(C,m,b,w){var v=[...C].reverse();return ds(v,m,b,w)}function pf(C){var m=S(C);return r(function(w,v){return w.push((U,...F)=>{let H={};if(U&&(H.error=U),F.length>0){var V=F;F.length<=1&&([V]=F),H.value=V}v(null,H)}),m.apply(this,w)})}function cb(C){var m;return Array.isArray(C)?m=C.map(pf):(m={},Object.keys(C).forEach(b=>{m[b]=pf.call(this,C[b])})),m}function Qp(C,m,b,w){let v=S(b);return cf(C,m,(U,F)=>{v(U,(H,V)=>{F(H,!V)})},w)}function iz(C,m,b){return Qp(Sr,C,m,b)}var ub=p(iz,3);function sz(C,m,b,w){return Qp(k(m),C,b,w)}var Eb=p(sz,4);function oz(C,m,b){return Qp(Vr,C,m,b)}var fb=p(oz,3);function db(C){return function(){return C}}let Zp=5,hb=0;function Rf(C,m,b){var w={times:Zp,intervalFunc:db(hb)};if(arguments.length<3&&typeof C=="function"?(b=m||ma(),m=C):(az(w,C),b=b||ma()),typeof m!="function")throw new Error("Invalid arguments for async.retry");var v=S(m),U=1;function F(){v((H,...V)=>{H!==!1&&(H&&U++<w.times&&(typeof w.errorFilter!="function"||w.errorFilter(H))?setTimeout(F,w.intervalFunc(U-1)):b(H,...V))})}return F(),b[fs]}function az(C,m){if(typeof m=="object")C.times=+m.times||Zp,C.intervalFunc=typeof m.interval=="function"?m.interval:db(+m.interval||hb),C.errorFilter=m.errorFilter;else if(typeof m=="number"||typeof m=="string")C.times=+m||Zp;else throw new Error("Invalid arguments for async.retry")}function Tb(C,m){m||(m=C,C=null);let b=C&&C.arity||m.length;f(m)&&(b+=1);var w=S(m);return r((v,U)=>{(v.length<b-1||U==null)&&(v.push(U),U=ma());function F(H){w(...v,H)}return C?Rf(C,F,U):Rf(F,U),U[fs]})}function Sb(C,m){return zp(Vr,C,m)}function lz(C,m,b){return gi(Boolean,w=>w)(Sr,C,m,b)}var Af=p(lz,3);function cz(C,m,b,w){return gi(Boolean,v=>v)(k(m),C,b,w)}var _f=p(cz,4);function uz(C,m,b){return gi(Boolean,w=>w)(Vr,C,m,b)}var If=p(uz,3);function Ez(C,m,b){var w=S(m);return Gn(C,(U,F)=>{w(U,(H,V)=>{if(H)return F(H);F(H,{value:U,criteria:V})})},(U,F)=>{if(U)return b(U);b(null,F.sort(v).map(H=>H.value))});function v(U,F){var H=U.criteria,V=F.criteria;return H<V?-1:H>V?1:0}}var pb=p(Ez,3);function Rb(C,m,b){var w=S(C);return r((v,U)=>{var F=!1,H;function V(){var te=C.name||"anonymous",xe=new Error('Callback function "'+te+'" timed out.');xe.code="ETIMEDOUT",b&&(xe.info=b),F=!0,U(xe)}v.push((...te)=>{F||(U(...te),clearTimeout(H))}),H=setTimeout(V,m),w(...v)})}function fz(C){for(var m=Array(C);C--;)m[C]=C;return m}function Nf(C,m,b,w){var v=S(b);return Oc(fz(C),m,v,w)}function Ab(C,m,b){return Nf(C,1/0,m,b)}function _b(C,m,b){return Nf(C,1,m,b)}function Ib(C,m,b,w){arguments.length<=3&&typeof m=="function"&&(w=b,b=m,m=Array.isArray(C)?[]:{}),w=L(w||ma());var v=S(b);return Sr(C,(U,F,H)=>{v(m,U,F,H)},U=>w(U,m)),w[fs]}function dz(C,m){var b=null,w;return Cc(C,(v,U)=>{S(v)((F,...H)=>{if(F===!1)return U(F);H.length<2?[w]=H:w=H,b=F,U(F?null:{})})},()=>m(b,w))}var Nb=p(dz);function Ob(C){return(...m)=>(C.unmemoized||C)(...m)}function hz(C,m,b){b=B(b);var w=S(m),v=S(C),U=[];function F(V,...te){if(V)return b(V);U=te,V!==!1&&v(H)}function H(V,te){if(V)return b(V);if(V!==!1){if(!te)return b(null,...U);w(F)}}return v(H)}var bc=p(hz,3);function mb(C,m,b){let w=S(C);return bc(v=>w((U,F)=>v(U,!F)),m,b)}function Tz(C,m){if(m=L(m),!Array.isArray(C))return m(new Error("First argument to waterfall must be an array of functions"));if(!C.length)return m();var b=0;function w(U){var F=S(C[b++]);F(...U,B(v))}function v(U,...F){if(U!==!1){if(U||b===C.length)return m(U,...F);w(F)}}w([])}var gb=p(Tz),Sz={apply:e,applyEach:Hn,applyEachSeries:QE,asyncify:u,auto:kp,autoInject:H0,cargo:Y0,cargoQueue:$0,compose:V0,concat:ZE,concatLimit:ga,concatSeries:ef,constant:k0,detect:tf,detectLimit:rf,detectSeries:nf,dir:X0,doUntil:K0,doWhilst:mc,each:sf,eachLimit:gc,eachOf:Sr,eachOfLimit:ne,eachOfSeries:Vr,eachSeries:Cc,ensureAsync:Kp,every:of,everyLimit:af,everySeries:lf,filter:uf,filterLimit:Ef,filterSeries:ff,forever:j0,groupBy:J0,groupByLimit:df,groupBySeries:Q0,log:Z0,map:Gn,mapLimit:Oc,mapSeries:Nc,mapValues:eb,mapValuesLimit:hf,mapValuesSeries:tb,memoize:rb,nextTick:nb,parallel:ib,parallelLimit:sb,priorityQueue:ab,queue:jp,race:lb,reduce:ds,reduceRight:Sf,reflect:pf,reflectAll:cb,reject:ub,rejectLimit:Eb,rejectSeries:fb,retry:Rf,retryable:Tb,seq:Xp,series:Sb,setImmediate:c,some:Af,someLimit:_f,someSeries:If,sortBy:pb,timeout:Rb,times:Ab,timesLimit:Nf,timesSeries:_b,transform:Ib,tryEach:Nb,unmemoize:Ob,until:mb,waterfall:gb,whilst:bc,all:of,allLimit:af,allSeries:lf,any:Af,anyLimit:_f,anySeries:If,find:tf,findLimit:rf,findSeries:nf,flatMap:ZE,flatMapLimit:ga,flatMapSeries:ef,forEach:sf,forEachSeries:Cc,forEachLimit:gc,forEachOf:Sr,forEachOfSeries:Vr,forEachOfLimit:ne,inject:ds,foldl:ds,foldr:Sf,select:uf,selectLimit:Ef,selectSeries:ff,wrapSync:u,during:bc,doDuring:mc};t.all=of,t.allLimit=af,t.allSeries=lf,t.any=Af,t.anyLimit=_f,t.anySeries=If,t.apply=e,t.applyEach=Hn,t.applyEachSeries=QE,t.asyncify=u,t.auto=kp,t.autoInject=H0,t.cargo=Y0,t.cargoQueue=$0,t.compose=V0,t.concat=ZE,t.concatLimit=ga,t.concatSeries=ef,t.constant=k0,t.default=Sz,t.detect=tf,t.detectLimit=rf,t.detectSeries=nf,t.dir=X0,t.doDuring=mc,t.doUntil=K0,t.doWhilst=mc,t.during=bc,t.each=sf,t.eachLimit=gc,t.eachOf=Sr,t.eachOfLimit=ne,t.eachOfSeries=Vr,t.eachSeries=Cc,t.ensureAsync=Kp,t.every=of,t.everyLimit=af,t.everySeries=lf,t.filter=uf,t.filterLimit=Ef,t.filterSeries=ff,t.find=tf,t.findLimit=rf,t.findSeries=nf,t.flatMap=ZE,t.flatMapLimit=ga,t.flatMapSeries=ef,t.foldl=ds,t.foldr=Sf,t.forEach=sf,t.forEachLimit=gc,t.forEachOf=Sr,t.forEachOfLimit=ne,t.forEachOfSeries=Vr,t.forEachSeries=Cc,t.forever=j0,t.groupBy=J0,t.groupByLimit=df,t.groupBySeries=Q0,t.inject=ds,t.log=Z0,t.map=Gn,t.mapLimit=Oc,t.mapSeries=Nc,t.mapValues=eb,t.mapValuesLimit=hf,t.mapValuesSeries=tb,t.memoize=rb,t.nextTick=nb,t.parallel=ib,t.parallelLimit=sb,t.priorityQueue=ab,t.queue=jp,t.race=lb,t.reduce=ds,t.reduceRight=Sf,t.reflect=pf,t.reflectAll=cb,t.reject=ub,t.rejectLimit=Eb,t.rejectSeries=fb,t.retry=Rf,t.retryable=Tb,t.select=uf,t.selectLimit=Ef,t.selectSeries=ff,t.seq=Xp,t.series=Sb,t.setImmediate=c,t.some=Af,t.someLimit=_f,t.someSeries=If,t.sortBy=pb,t.timeout=Rb,t.times=Ab,t.timesLimit=Nf,t.timesSeries=_b,t.transform=Ib,t.tryEach=Nb,t.unmemoize=Ob,t.until=mb,t.waterfall=gb,t.whilst=bc,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})}))});var NL=g((LDe,IL)=>{var _s=require("constants"),Zj=process.cwd,sd=null,e8=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return sd||(sd=Zj.call(process)),sd};try{process.cwd()}catch{}typeof process.chdir=="function"&&(jR=process.chdir,process.chdir=function(t){sd=null,jR.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,jR));var jR;IL.exports=t8;function t8(t){_s.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,E,d){d&&process.nextTick(d)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,E,d,f){f&&process.nextTick(f)},t.lchownSync=function(){}),e8==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:(function(u){function E(d,f,T){var h=Date.now(),S=0;u(d,f,function p(I){if(I&&(I.code==="EACCES"||I.code==="EPERM"||I.code==="EBUSY")&&Date.now()-h<6e4){setTimeout(function(){t.stat(f,function(R,A){R&&R.code==="ENOENT"?u(d,f,p):T(I)})},S),S<100&&(S+=10);return}T&&T(I)})}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E})(t.rename)),t.read=typeof t.read!="function"?t.read:(function(u){function E(d,f,T,h,S,p){var I;if(p&&typeof p=="function"){var R=0;I=function(A,O,L){if(A&&A.code==="EAGAIN"&&R<10)return R++,u.call(t,d,f,T,h,S,I);p.apply(this,arguments)}}return u.call(t,d,f,T,h,S,I)}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E})(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:(function(u){return function(E,d,f,T,h){for(var S=0;;)try{return u.call(t,E,d,f,T,h)}catch(p){if(p.code==="EAGAIN"&&S<10){S++;continue}throw p}}})(t.readSync);function e(u){u.lchmod=function(E,d,f){u.open(E,_s.O_WRONLY|_s.O_SYMLINK,d,function(T,h){if(T){f&&f(T);return}u.fchmod(h,d,function(S){u.close(h,function(p){f&&f(S||p)})})})},u.lchmodSync=function(E,d){var f=u.openSync(E,_s.O_WRONLY|_s.O_SYMLINK,d),T=!0,h;try{h=u.fchmodSync(f,d),T=!1}finally{if(T)try{u.closeSync(f)}catch{}else u.closeSync(f)}return h}}function r(u){_s.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(E,d,f,T){u.open(E,_s.O_SYMLINK,function(h,S){if(h){T&&T(h);return}u.futimes(S,d,f,function(p){u.close(S,function(I){T&&T(p||I)})})})},u.lutimesSync=function(E,d,f){var T=u.openSync(E,_s.O_SYMLINK),h,S=!0;try{h=u.futimesSync(T,d,f),S=!1}finally{if(S)try{u.closeSync(T)}catch{}else u.closeSync(T)}return h}):u.futimes&&(u.lutimes=function(E,d,f,T){T&&process.nextTick(T)},u.lutimesSync=function(){})}function n(u){return u&&function(E,d,f){return u.call(t,E,d,function(T){c(T)&&(T=null),f&&f.apply(this,arguments)})}}function i(u){return u&&function(E,d){try{return u.call(t,E,d)}catch(f){if(!c(f))throw f}}}function s(u){return u&&function(E,d,f,T){return u.call(t,E,d,f,function(h){c(h)&&(h=null),T&&T.apply(this,arguments)})}}function o(u){return u&&function(E,d,f){try{return u.call(t,E,d,f)}catch(T){if(!c(T))throw T}}}function a(u){return u&&function(E,d,f){typeof d=="function"&&(f=d,d=null);function T(h,S){S&&(S.uid<0&&(S.uid+=4294967296),S.gid<0&&(S.gid+=4294967296)),f&&f.apply(this,arguments)}return d?u.call(t,E,d,T):u.call(t,E,T)}}function l(u){return u&&function(E,d){var f=d?u.call(t,E,d):u.call(t,E);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function c(u){if(!u||u.code==="ENOSYS")return!0;var E=!process.getuid||process.getuid()!==0;return!!(E&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var gL=g((wDe,mL)=>{var OL=require("stream").Stream;mL.exports=r8;function r8(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);OL.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,E){if(u){s.emit("error",u),s.readable=!1;return}s.fd=E,s.emit("open",E),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);OL.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var bL=g((DDe,CL)=>{"use strict";CL.exports=i8;var n8=Object.getPrototypeOf||function(t){return t.__proto__};function i8(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:n8(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var eA=g((PDe,ZR)=>{var ut=require("fs"),s8=NL(),o8=gL(),a8=bL(),od=require("util"),or,ld;typeof Symbol=="function"&&typeof Symbol.for=="function"?(or=Symbol.for("graceful-fs.queue"),ld=Symbol.for("graceful-fs.previous")):(or="___graceful-fs.queue",ld="___graceful-fs.previous");function l8(){}function wL(t,e){Object.defineProperty(t,or,{get:function(){return e}})}var Eo=l8;od.debuglog?Eo=od.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Eo=function(){var t=od.format.apply(od,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});ut[or]||(yL=global[or]||[],wL(ut,yL),ut.close=(function(t){function e(r,n){return t.call(ut,r,function(i){i||LL(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,ld,{value:t}),e})(ut.close),ut.closeSync=(function(t){function e(r){t.apply(ut,arguments),LL()}return Object.defineProperty(e,ld,{value:t}),e})(ut.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Eo(ut[or]),require("assert").equal(ut[or].length,0)}));var yL;global[or]||wL(global,ut[or]);ZR.exports=JR(a8(ut));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ut.__patched&&(ZR.exports=JR(ut),ut.__patched=!0);function JR(t){s8(t),t.gracefulify=JR,t.createReadStream=O,t.createWriteStream=L;var e=t.readFile;t.readFile=r;function r(y,P,x){return typeof P=="function"&&(x=P,P=null),B(y,P,x);function B(G,k,j,ne){return e(G,k,function(X){X&&(X.code==="EMFILE"||X.code==="ENFILE")?va([B,[G,k,j],X,ne||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(y,P,x,B){return typeof x=="function"&&(B=x,x=null),G(y,P,x,B);function G(k,j,ne,X,Me){return n(k,j,ne,function(ue){ue&&(ue.code==="EMFILE"||ue.code==="ENFILE")?va([G,[k,j,ne,X],ue,Me||Date.now(),Date.now()]):typeof X=="function"&&X.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(y,P,x,B){return typeof x=="function"&&(B=x,x=null),G(y,P,x,B);function G(k,j,ne,X,Me){return s(k,j,ne,function(ue){ue&&(ue.code==="EMFILE"||ue.code==="ENFILE")?va([G,[k,j,ne,X],ue,Me||Date.now(),Date.now()]):typeof X=="function"&&X.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(y,P,x,B){return typeof x=="function"&&(B=x,x=0),G(y,P,x,B);function G(k,j,ne,X,Me){return a(k,j,ne,function(ue){ue&&(ue.code==="EMFILE"||ue.code==="ENFILE")?va([G,[k,j,ne,X],ue,Me||Date.now(),Date.now()]):typeof X=="function"&&X.apply(this,arguments)})}}var c=t.readdir;t.readdir=E;var u=/^v[0-5]\./;function E(y,P,x){typeof P=="function"&&(x=P,P=null);var B=u.test(process.version)?function(j,ne,X,Me){return c(j,G(j,ne,X,Me))}:function(j,ne,X,Me){return c(j,ne,G(j,ne,X,Me))};return B(y,P,x);function G(k,j,ne,X){return function(Me,ue){Me&&(Me.code==="EMFILE"||Me.code==="ENFILE")?va([B,[k,j,ne],Me,X||Date.now(),Date.now()]):(ue&&ue.sort&&ue.sort(),typeof ne=="function"&&ne.call(this,Me,ue))}}}if(process.version.substr(0,4)==="v0.8"){var d=o8(t);p=d.ReadStream,R=d.WriteStream}var f=t.ReadStream;f&&(p.prototype=Object.create(f.prototype),p.prototype.open=I);var T=t.WriteStream;T&&(R.prototype=Object.create(T.prototype),R.prototype.open=A),Object.defineProperty(t,"ReadStream",{get:function(){return p},set:function(y){p=y},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return R},set:function(y){R=y},enumerable:!0,configurable:!0});var h=p;Object.defineProperty(t,"FileReadStream",{get:function(){return h},set:function(y){h=y},enumerable:!0,configurable:!0});var S=R;Object.defineProperty(t,"FileWriteStream",{get:function(){return S},set:function(y){S=y},enumerable:!0,configurable:!0});function p(y,P){return this instanceof p?(f.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}function I(){var y=this;D(y.path,y.flags,y.mode,function(P,x){P?(y.autoClose&&y.destroy(),y.emit("error",P)):(y.fd=x,y.emit("open",x),y.read())})}function R(y,P){return this instanceof R?(T.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function A(){var y=this;D(y.path,y.flags,y.mode,function(P,x){P?(y.destroy(),y.emit("error",P)):(y.fd=x,y.emit("open",x))})}function O(y,P){return new t.ReadStream(y,P)}function L(y,P){return new t.WriteStream(y,P)}var N=t.open;t.open=D;function D(y,P,x,B){return typeof x=="function"&&(B=x,x=null),G(y,P,x,B);function G(k,j,ne,X,Me){return N(k,j,ne,function(ue,Sr){ue&&(ue.code==="EMFILE"||ue.code==="ENFILE")?va([G,[k,j,ne,X],ue,Me||Date.now(),Date.now()]):typeof X=="function"&&X.apply(this,arguments)})}}return t}function va(t){Eo("ENQUEUE",t[0].name,t[1]),ut[or].push(t),QR()}var ad;function LL(){for(var t=Date.now(),e=0;e<ut[or].length;++e)ut[or][e].length>2&&(ut[or][e][3]=t,ut[or][e][4]=t);QR()}function QR(){if(clearTimeout(ad),ad=void 0,ut[or].length!==0){var t=ut[or].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)Eo("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){Eo("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(Eo("RETRY",e.name,r),e.apply(null,r.concat([i]))):ut[or].push(t)}ad===void 0&&(ad=setTimeout(QR,0))}}});var cd=g((MDe,DL)=>{"use strict";var Vn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Vn.writable=t=>Vn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Vn.readable=t=>Vn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Vn.duplex=t=>Vn.writable(t)&&Vn.readable(t);Vn.transform=t=>Vn.duplex(t)&&typeof t._transform=="function";DL.exports=Vn});var $c=g((xDe,tA)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?tA.exports={nextTick:c8}:tA.exports=process;function c8(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var ML=g((vDe,PL)=>{var u8={}.toString;PL.exports=Array.isArray||function(t){return u8.call(t)=="[object Array]"}});var rA=g((UDe,xL)=>{xL.exports=require("stream")});var Vc=g((nA,UL)=>{var ud=require("buffer"),Di=ud.Buffer;function vL(t,e){for(var r in t)e[r]=t[r]}Di.from&&Di.alloc&&Di.allocUnsafe&&Di.allocUnsafeSlow?UL.exports=ud:(vL(ud,nA),nA.Buffer=Ua);function Ua(t,e,r){return Di(t,e,r)}vL(Di,Ua);Ua.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Di(t,e,r)};Ua.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Di(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ua.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Di(t)};Ua.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ud.SlowBuffer(t)}});var Ba=g(Ar=>{function E8(t){return Array.isArray?Array.isArray(t):Ed(t)==="[object Array]"}Ar.isArray=E8;function f8(t){return typeof t=="boolean"}Ar.isBoolean=f8;function d8(t){return t===null}Ar.isNull=d8;function h8(t){return t==null}Ar.isNullOrUndefined=h8;function T8(t){return typeof t=="number"}Ar.isNumber=T8;function S8(t){return typeof t=="string"}Ar.isString=S8;function p8(t){return typeof t=="symbol"}Ar.isSymbol=p8;function R8(t){return t===void 0}Ar.isUndefined=R8;function A8(t){return Ed(t)==="[object RegExp]"}Ar.isRegExp=A8;function _8(t){return typeof t=="object"&&t!==null}Ar.isObject=_8;function I8(t){return Ed(t)==="[object Date]"}Ar.isDate=I8;function N8(t){return Ed(t)==="[object Error]"||t instanceof Error}Ar.isError=N8;function O8(t){return typeof t=="function"}Ar.isFunction=O8;function m8(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Ar.isPrimitive=m8;Ar.isBuffer=require("buffer").Buffer.isBuffer;function Ed(t){return Object.prototype.toString.call(t)}});var BL=g((FDe,iA)=>{typeof Object.create=="function"?iA.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:iA.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Fa=g((GDe,oA)=>{try{if(sA=require("util"),typeof sA.inherits!="function")throw"";oA.exports=sA.inherits}catch{oA.exports=BL()}var sA});var GL=g((HDe,aA)=>{"use strict";function g8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var FL=Vc().Buffer,kc=require("util");function C8(t,e,r){t.copy(e,r)}aA.exports=(function(){function t(){g8(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return FL.alloc(0);for(var n=FL.allocUnsafe(r>>>0),i=this.head,s=0;i;)C8(i.data,n,s),s+=i.data.length,i=i.next;return n},t})();kc&&kc.inspect&&kc.inspect.custom&&(aA.exports.prototype[kc.inspect.custom]=function(){var t=kc.inspect({length:this.length});return this.constructor.name+" "+t})});var lA=g((WDe,HL)=>{"use strict";var fd=$c();function b8(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,fd.nextTick(dd,this,t)):fd.nextTick(dd,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,fd.nextTick(dd,r,s)):fd.nextTick(dd,r,s):e&&e(s)}),this)}function y8(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function dd(t,e){t.emit("error",e)}HL.exports={destroy:b8,undestroy:y8}});var YL=g((YDe,WL)=>{WL.exports=require("util").deprecate});var uA=g(($De,jL)=>{"use strict";var fo=$c();jL.exports=wt;function VL(t){var e=this;this.next=null,this.entry=null,this.finish=function(){q8(e,t)}}var L8=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:fo.nextTick,Ga;wt.WritableState=Xc;var kL=Object.create(Ba());kL.inherits=Fa();var w8={deprecate:YL()},qL=rA(),Td=Vc().Buffer,D8=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function P8(t){return Td.from(t)}function M8(t){return Td.isBuffer(t)||t instanceof D8}var XL=lA();kL.inherits(wt,qL);function x8(){}function Xc(t,e){Ga=Ga||ho(),t=t||{};var r=e instanceof Ga;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){W8(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new VL(this)}Xc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Xc.prototype,"buffer",{get:w8.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var hd;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(hd=Function.prototype[Symbol.hasInstance],Object.defineProperty(wt,Symbol.hasInstance,{value:function(t){return hd.call(this,t)?!0:this!==wt?!1:t&&t._writableState instanceof Xc}})):hd=function(t){return t instanceof this};function wt(t){if(Ga=Ga||ho(),!hd.call(wt,this)&&!(this instanceof Ga))return new wt(t);this._writableState=new Xc(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),qL.call(this)}wt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function v8(t,e){var r=new Error("write after end");t.emit("error",r),fo.nextTick(e,r)}function U8(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),fo.nextTick(n,s),i=!1),i}wt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&M8(t);return s&&!Td.isBuffer(t)&&(t=P8(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=x8),n.ended?v8(this,r):(s||U8(this,n,t,r))&&(n.pendingcb++,i=F8(this,n,s,t,e,r)),i};wt.prototype.cork=function(){var t=this._writableState;t.corked++};wt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&KL(this,t))};wt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function B8(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Td.from(e,r)),e}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F8(t,e,r,n,i,s){if(!r){var o=B8(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else cA(t,e,!1,a,n,i,s);return l}function cA(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function G8(t,e,r,n,i){--e.pendingcb,r?(fo.nextTick(i,n),fo.nextTick(qc,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),qc(t,e))}function H8(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function W8(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(H8(r),e)G8(t,r,n,e,i);else{var s=zL(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&KL(t,r),n?L8($L,t,r,s,i):$L(t,r,s,i)}}function $L(t,e,r,n){r||Y8(t,e),e.pendingcb--,n(),qc(t,e)}function Y8(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function KL(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,cA(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new VL(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,E=e.objectMode?1:l.length;if(cA(t,e,!1,E,l,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}wt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};wt.prototype._writev=null;wt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||k8(this,n,r)};function zL(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function $8(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),qc(t,e)})}function V8(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,fo.nextTick($8,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function qc(t,e){var r=zL(e);return r&&(V8(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function k8(t,e,r){e.ending=!0,qc(t,e),r&&(e.finished?fo.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function q8(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(wt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});wt.prototype.destroy=XL.destroy;wt.prototype._undestroy=XL.undestroy;wt.prototype._destroy=function(t,e){this.end(),e(t)}});var ho=g((VDe,ew)=>{"use strict";var JL=$c(),X8=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};ew.exports=Pi;var QL=Object.create(Ba());QL.inherits=Fa();var ZL=dA(),fA=uA();QL.inherits(Pi,ZL);for(EA=X8(fA.prototype),Sd=0;Sd<EA.length;Sd++)pd=EA[Sd],Pi.prototype[pd]||(Pi.prototype[pd]=fA.prototype[pd]);var EA,pd,Sd;function Pi(t){if(!(this instanceof Pi))return new Pi(t);ZL.call(this,t),fA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",K8)}Object.defineProperty(Pi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K8(){this.allowHalfOpen||this._writableState.ended||JL.nextTick(z8,this)}function z8(t){t.end()}Object.defineProperty(Pi.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Pi.prototype._destroy=function(t,e){this.push(null),this.end(),JL.nextTick(e,t)}});var SA=g(rw=>{"use strict";var TA=Vc().Buffer,tw=TA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function j8(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function J8(t){var e=j8(t);if(typeof e!="string"&&(TA.isEncoding===tw||!tw(t)))throw new Error("Unknown encoding: "+t);return e||t}rw.StringDecoder=Kc;function Kc(t){this.encoding=J8(t);var e;switch(this.encoding){case"utf16le":this.text=nJ,this.end=iJ,e=4;break;case"utf8":this.fillLast=eJ,e=4;break;case"base64":this.text=sJ,this.end=oJ,e=3;break;default:this.write=aJ,this.end=lJ;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=TA.allocUnsafe(e)}Kc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Kc.prototype.end=rJ;Kc.prototype.text=tJ;Kc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function hA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Q8(t,e,r){var n=e.length-1;if(n<r)return 0;var i=hA(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=hA(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=hA(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Z8(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function eJ(t){var e=this.lastTotal-this.lastNeed,r=Z8(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function tJ(t,e){var r=Q8(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function rJ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function nJ(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function iJ(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function sJ(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function oJ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function aJ(t){return t.toString(this.encoding)}function lJ(t){return t&&t.length?this.write(t):""}});var dA=g((XDe,hw)=>{"use strict";var Wa=$c();hw.exports=Je;var cJ=ML(),zc;Je.ReadableState=cw;var qDe=require("events").EventEmitter,ow=function(t,e){return t.listeners(e).length},IA=rA(),jc=Vc().Buffer,uJ=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function EJ(t){return jc.from(t)}function fJ(t){return jc.isBuffer(t)||t instanceof uJ}var aw=Object.create(Ba());aw.inherits=Fa();var pA=require("util"),Ve=void 0;pA&&pA.debuglog?Ve=pA.debuglog("stream"):Ve=function(){};var dJ=GL(),lw=lA(),Ha;aw.inherits(Je,IA);var RA=["error","close","destroy","pause","resume"];function hJ(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):cJ(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function cw(t,e){zc=zc||ho(),t=t||{};var r=e instanceof zc;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new dJ,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ha||(Ha=SA().StringDecoder),this.decoder=new Ha(t.encoding),this.encoding=t.encoding)}function Je(t){if(zc=zc||ho(),!(this instanceof Je))return new Je(t);this._readableState=new cw(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),IA.call(this)}Object.defineProperty(Je.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Je.prototype.destroy=lw.destroy;Je.prototype._undestroy=lw.undestroy;Je.prototype._destroy=function(t,e){this.push(null),e(t)};Je.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=jc.from(t,e),e=""),n=!0),uw(this,t,e,!1,n)};Je.prototype.unshift=function(t){return uw(this,t,null,!0,!1)};function uw(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,RJ(t,s);else{var o;i||(o=TJ(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==jc.prototype&&(e=EJ(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):AA(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?AA(t,s,e,!1):Ew(t,s)):AA(t,s,e,!1))):n||(s.reading=!1)}return SJ(s)}function AA(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Rd(t)),Ew(t,e)}function TJ(t,e){var r;return!fJ(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function SJ(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Je.prototype.isPaused=function(){return this._readableState.flowing===!1};Je.prototype.setEncoding=function(t){return Ha||(Ha=SA().StringDecoder),this._readableState.decoder=new Ha(t),this._readableState.encoding=t,this};var nw=8388608;function pJ(t){return t>=nw?t=nw:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function iw(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=pJ(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Je.prototype.read=function(t){Ve("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ve("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?_A(this):Rd(this),null;if(t=iw(t,e),t===0&&e.ended)return e.length===0&&_A(this),null;var n=e.needReadable;Ve("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ve("length less than watermark",n)),e.ended||e.reading?(n=!1,Ve("reading or ended",n)):n&&(Ve("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=iw(r,e)));var i;return t>0?i=fw(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&_A(this)),i!==null&&this.emit("data",i),i};function RJ(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Rd(t)}}function Rd(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ve("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Wa.nextTick(sw,t):sw(t))}function sw(t){Ve("emit readable"),t.emit("readable"),NA(t)}function Ew(t,e){e.readingMore||(e.readingMore=!0,Wa.nextTick(AJ,t,e))}function AJ(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ve("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Je.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Je.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ve("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:S;n.endEmitted?Wa.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){Ve("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){Ve("onend"),t.end()}var l=_J(r);t.on("drain",l);var c=!1;function u(){Ve("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var E=!1;r.on("data",d);function d(p){Ve("ondata"),E=!1;var I=t.write(p);I===!1&&!E&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&dw(n.pipes,t)!==-1)&&!c&&(Ve("false write response, pause",n.awaitDrain),n.awaitDrain++,E=!0),r.pause())}function f(p){Ve("onerror",p),S(),t.removeListener("error",f),ow(t,"error")===0&&t.emit("error",p)}hJ(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){Ve("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){Ve("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ve("pipe resume"),r.resume()),t};function _J(t){return function(){var e=t._readableState;Ve("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&ow(t,"data")&&(e.flowing=!0,NA(t))}}Je.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=dw(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Je.prototype.on=function(t,e){var r=IA.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Rd(this):Wa.nextTick(IJ,this))}return r};Je.prototype.addListener=Je.prototype.on;function IJ(t){Ve("readable nexttick read 0"),t.read(0)}Je.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ve("resume"),t.flowing=!0,NJ(this,t)),this};function NJ(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Wa.nextTick(OJ,t,e))}function OJ(t,e){e.reading||(Ve("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),NA(t),e.flowing&&!e.reading&&t.read(0)}Je.prototype.pause=function(){return Ve("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ve("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function NA(t){var e=t._readableState;for(Ve("flow",e.flowing);e.flowing&&t.read()!==null;);}Je.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ve("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ve("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(o){return function(){return t[o].apply(t,arguments)}})(i));for(var s=0;s<RA.length;s++)t.on(RA[s],this.emit.bind(this,RA[s]));return this._read=function(o){Ve("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Je.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Je._fromList=fw;function fw(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=mJ(t,e.buffer,e.decoder),r}function mJ(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?gJ(t,e):CJ(t,e),n}function gJ(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function CJ(t,e){var r=jc.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function _A(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Wa.nextTick(bJ,e,t))}function bJ(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function dw(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var OA=g((KDe,pw)=>{"use strict";pw.exports=Mi;var Ad=ho(),Sw=Object.create(Ba());Sw.inherits=Fa();Sw.inherits(Mi,Ad);function yJ(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Mi(t){if(!(this instanceof Mi))return new Mi(t);Ad.call(this,t),this._transformState={afterTransform:yJ.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",LJ)}function LJ(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){Tw(t,e,r)}):Tw(this,null,null)}Mi.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ad.prototype.push.call(this,t,e)};Mi.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Mi.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Mi.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Mi.prototype._destroy=function(t,e){var r=this;Ad.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function Tw(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var Iw=g((zDe,_w)=>{"use strict";_w.exports=Jc;var Rw=OA(),Aw=Object.create(Ba());Aw.inherits=Fa();Aw.inherits(Jc,Rw);function Jc(t){if(!(this instanceof Jc))return new Jc(t);Rw.call(this,t)}Jc.prototype._transform=function(t,e,r){r(null,t)}});var Nw=g((ar,_d)=>{var kn=require("stream");process.env.READABLE_STREAM==="disable"&&kn?(_d.exports=kn,ar=_d.exports=kn.Readable,ar.Readable=kn.Readable,ar.Writable=kn.Writable,ar.Duplex=kn.Duplex,ar.Transform=kn.Transform,ar.PassThrough=kn.PassThrough,ar.Stream=kn):(ar=_d.exports=dA(),ar.Stream=kn||ar,ar.Readable=ar,ar.Writable=uA(),ar.Duplex=ho(),ar.Transform=OA(),ar.PassThrough=Iw())});var mw=g((jDe,Ow)=>{Ow.exports=Nw().PassThrough});var yw=g((JDe,bw)=>{var gw=require("util"),Od=mw();bw.exports={Readable:Id,Writable:Nd};gw.inherits(Id,Od);gw.inherits(Nd,Od);function Cw(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function Id(t,e){if(!(this instanceof Id))return new Id(t,e);Od.call(this,e),Cw(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function Nd(t,e){if(!(this instanceof Nd))return new Nd(t,e);Od.call(this,e),Cw(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var mA=g((QDe,Lw)=>{Lw.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")}});var gA=g((ZDe,ww)=>{function wJ(t){return t}ww.exports=wJ});var Pw=g((ePe,Dw)=>{function DJ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}Dw.exports=DJ});var vw=g((tPe,xw)=>{var PJ=Pw(),Mw=Math.max;function MJ(t,e,r){return e=Mw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=Mw(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),PJ(t,this,a)}}xw.exports=MJ});var Bw=g((rPe,Uw)=>{function xJ(t){return function(){return t}}Uw.exports=xJ});var CA=g((nPe,Fw)=>{var vJ=typeof global=="object"&&global&&global.Object===Object&&global;Fw.exports=vJ});var Ya=g((iPe,Gw)=>{var UJ=CA(),BJ=typeof self=="object"&&self&&self.Object===Object&&self,FJ=UJ||BJ||Function("return this")();Gw.exports=FJ});var md=g((sPe,Hw)=>{var GJ=Ya(),HJ=GJ.Symbol;Hw.exports=HJ});var Vw=g((oPe,$w)=>{var Ww=md(),Yw=Object.prototype,WJ=Yw.hasOwnProperty,YJ=Yw.toString,Qc=Ww?Ww.toStringTag:void 0;function $J(t){var e=WJ.call(t,Qc),r=t[Qc];try{t[Qc]=void 0;var n=!0}catch{}var i=YJ.call(t);return n&&(e?t[Qc]=r:delete t[Qc]),i}$w.exports=$J});var qw=g((aPe,kw)=>{var VJ=Object.prototype,kJ=VJ.toString;function qJ(t){return kJ.call(t)}kw.exports=qJ});var Zc=g((lPe,zw)=>{var Xw=md(),XJ=Vw(),KJ=qw(),zJ="[object Null]",jJ="[object Undefined]",Kw=Xw?Xw.toStringTag:void 0;function JJ(t){return t==null?t===void 0?jJ:zJ:Kw&&Kw in Object(t)?XJ(t):KJ(t)}zw.exports=JJ});var eu=g((cPe,jw)=>{function QJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}jw.exports=QJ});var bA=g((uPe,Jw)=>{var ZJ=Zc(),e5=eu(),t5="[object AsyncFunction]",r5="[object Function]",n5="[object GeneratorFunction]",i5="[object Proxy]";function s5(t){if(!e5(t))return!1;var e=ZJ(t);return e==r5||e==n5||e==t5||e==i5}Jw.exports=s5});var Zw=g((EPe,Qw)=>{var o5=Ya(),a5=o5["__core-js_shared__"];Qw.exports=a5});var rD=g((fPe,tD)=>{var yA=Zw(),eD=(function(){var t=/[^.]+$/.exec(yA&&yA.keys&&yA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function l5(t){return!!eD&&eD in t}tD.exports=l5});var iD=g((dPe,nD)=>{var c5=Function.prototype,u5=c5.toString;function E5(t){if(t!=null){try{return u5.call(t)}catch{}try{return t+""}catch{}}return""}nD.exports=E5});var oD=g((hPe,sD)=>{var f5=bA(),d5=rD(),h5=eu(),T5=iD(),S5=/[\\^$.*+?()[\]{}|]/g,p5=/^\[object .+?Constructor\]$/,R5=Function.prototype,A5=Object.prototype,_5=R5.toString,I5=A5.hasOwnProperty,N5=RegExp("^"+_5.call(I5).replace(S5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O5(t){if(!h5(t)||d5(t))return!1;var e=f5(t)?N5:p5;return e.test(T5(t))}sD.exports=O5});var lD=g((TPe,aD)=>{function m5(t,e){return t?.[e]}aD.exports=m5});var tu=g((SPe,cD)=>{var g5=oD(),C5=lD();function b5(t,e){var r=C5(t,e);return g5(r)?r:void 0}cD.exports=b5});var ED=g((pPe,uD)=>{var y5=tu(),L5=(function(){try{var t=y5(Object,"defineProperty");return t({},"",{}),t}catch{}})();uD.exports=L5});var hD=g((RPe,dD)=>{var w5=Bw(),fD=ED(),D5=gA(),P5=fD?function(t,e){return fD(t,"toString",{configurable:!0,enumerable:!1,value:w5(e),writable:!0})}:D5;dD.exports=P5});var SD=g((APe,TD)=>{var M5=800,x5=16,v5=Date.now;function U5(t){var e=0,r=0;return function(){var n=v5(),i=x5-(n-r);if(r=n,i>0){if(++e>=M5)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}TD.exports=U5});var RD=g((_Pe,pD)=>{var B5=hD(),F5=SD(),G5=F5(B5);pD.exports=G5});var gd=g((IPe,AD)=>{var H5=gA(),W5=vw(),Y5=RD();function $5(t,e){return Y5(W5(t,e,H5),t+"")}AD.exports=$5});var Cd=g((NPe,_D)=>{function V5(t,e){return t===e||t!==t&&e!==e}_D.exports=V5});var LA=g((OPe,ID)=>{var k5=9007199254740991;function q5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=k5}ID.exports=q5});var bd=g((mPe,ND)=>{var X5=bA(),K5=LA();function z5(t){return t!=null&&K5(t.length)&&!X5(t)}ND.exports=z5});var wA=g((gPe,OD)=>{var j5=9007199254740991,J5=/^(?:0|[1-9]\d*)$/;function Q5(t,e){var r=typeof t;return e=e??j5,!!e&&(r=="number"||r!="symbol"&&J5.test(t))&&t>-1&&t%1==0&&t<e}OD.exports=Q5});var gD=g((CPe,mD)=>{var Z5=Cd(),eQ=bd(),tQ=wA(),rQ=eu();function nQ(t,e,r){if(!rQ(r))return!1;var n=typeof e;return(n=="number"?eQ(r)&&tQ(e,r.length):n=="string"&&e in r)?Z5(r[e],t):!1}mD.exports=nQ});var bD=g((bPe,CD)=>{function iQ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}CD.exports=iQ});var $a=g((yPe,yD)=>{function sQ(t){return t!=null&&typeof t=="object"}yD.exports=sQ});var wD=g((LPe,LD)=>{var oQ=Zc(),aQ=$a(),lQ="[object Arguments]";function cQ(t){return aQ(t)&&oQ(t)==lQ}LD.exports=cQ});var DA=g((wPe,MD)=>{var DD=wD(),uQ=$a(),PD=Object.prototype,EQ=PD.hasOwnProperty,fQ=PD.propertyIsEnumerable,dQ=DD((function(){return arguments})())?DD:function(t){return uQ(t)&&EQ.call(t,"callee")&&!fQ.call(t,"callee")};MD.exports=dQ});var PA=g((DPe,xD)=>{var hQ=Array.isArray;xD.exports=hQ});var UD=g((PPe,vD)=>{function TQ(){return!1}vD.exports=TQ});var HD=g((ru,Va)=>{var SQ=Ya(),pQ=UD(),GD=typeof ru=="object"&&ru&&!ru.nodeType&&ru,BD=GD&&typeof Va=="object"&&Va&&!Va.nodeType&&Va,RQ=BD&&BD.exports===GD,FD=RQ?SQ.Buffer:void 0,AQ=FD?FD.isBuffer:void 0,_Q=AQ||pQ;Va.exports=_Q});var YD=g((MPe,WD)=>{var IQ=Zc(),NQ=LA(),OQ=$a(),mQ="[object Arguments]",gQ="[object Array]",CQ="[object Boolean]",bQ="[object Date]",yQ="[object Error]",LQ="[object Function]",wQ="[object Map]",DQ="[object Number]",PQ="[object Object]",MQ="[object RegExp]",xQ="[object Set]",vQ="[object String]",UQ="[object WeakMap]",BQ="[object ArrayBuffer]",FQ="[object DataView]",GQ="[object Float32Array]",HQ="[object Float64Array]",WQ="[object Int8Array]",YQ="[object Int16Array]",$Q="[object Int32Array]",VQ="[object Uint8Array]",kQ="[object Uint8ClampedArray]",qQ="[object Uint16Array]",XQ="[object Uint32Array]",Qe={};Qe[GQ]=Qe[HQ]=Qe[WQ]=Qe[YQ]=Qe[$Q]=Qe[VQ]=Qe[kQ]=Qe[qQ]=Qe[XQ]=!0;Qe[mQ]=Qe[gQ]=Qe[BQ]=Qe[CQ]=Qe[FQ]=Qe[bQ]=Qe[yQ]=Qe[LQ]=Qe[wQ]=Qe[DQ]=Qe[PQ]=Qe[MQ]=Qe[xQ]=Qe[vQ]=Qe[UQ]=!1;function KQ(t){return OQ(t)&&NQ(t.length)&&!!Qe[IQ(t)]}WD.exports=KQ});var MA=g((xPe,$D)=>{function zQ(t){return function(e){return t(e)}}$D.exports=zQ});var kD=g((nu,ka)=>{var jQ=CA(),VD=typeof nu=="object"&&nu&&!nu.nodeType&&nu,iu=VD&&typeof ka=="object"&&ka&&!ka.nodeType&&ka,JQ=iu&&iu.exports===VD,xA=JQ&&jQ.process,QQ=(function(){try{var t=iu&&iu.require&&iu.require("util").types;return t||xA&&xA.binding&&xA.binding("util")}catch{}})();ka.exports=QQ});var zD=g((vPe,KD)=>{var ZQ=YD(),e9=MA(),qD=kD(),XD=qD&&qD.isTypedArray,t9=XD?e9(XD):ZQ;KD.exports=t9});var JD=g((UPe,jD)=>{var r9=bD(),n9=DA(),i9=PA(),s9=HD(),o9=wA(),a9=zD(),l9=Object.prototype,c9=l9.hasOwnProperty;function u9(t,e){var r=i9(t),n=!r&&n9(t),i=!r&&!n&&s9(t),s=!r&&!n&&!i&&a9(t),o=r||n||i||s,a=o?r9(t.length,String):[],l=a.length;for(var c in t)(e||c9.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||o9(c,l)))&&a.push(c);return a}jD.exports=u9});var ZD=g((BPe,QD)=>{var E9=Object.prototype;function f9(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||E9;return t===r}QD.exports=f9});var tP=g((FPe,eP)=>{function d9(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}eP.exports=d9});var nP=g((GPe,rP)=>{var h9=eu(),T9=ZD(),S9=tP(),p9=Object.prototype,R9=p9.hasOwnProperty;function A9(t){if(!h9(t))return S9(t);var e=T9(t),r=[];for(var n in t)n=="constructor"&&(e||!R9.call(t,n))||r.push(n);return r}rP.exports=A9});var sP=g((HPe,iP)=>{var _9=JD(),I9=nP(),N9=bd();function O9(t){return N9(t)?_9(t,!0):I9(t)}iP.exports=O9});var lP=g((WPe,aP)=>{var m9=gd(),g9=Cd(),C9=gD(),b9=sP(),oP=Object.prototype,y9=oP.hasOwnProperty,L9=m9(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&C9(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=b9(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||g9(u,oP[c])&&!y9.call(t,c))&&(t[c]=s[c])}return t});aP.exports=L9});var ot=g((YPe,cP)=>{"use strict";var vA=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};cP.exports={AggregateError:vA,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var UA=g(($Pe,uP)=>{"use strict";uP.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var _r=g((VPe,dP)=>{"use strict";var{format:w9,inspect:yd}=UA(),{AggregateError:D9}=ot(),P9=globalThis.AggregateError||D9,M9=Symbol("kIsNodeError"),x9=["string","function","number","object","Function","Object","boolean","bigint","symbol"],v9=/^([A-Z][a-z0-9]*)+$/,U9="__node_internal_",Ld={};function To(t,e){if(!t)throw new Ld.ERR_INTERNAL_ASSERTION(e)}function EP(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function B9(t,e,r){if(typeof e=="function")return To(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return To(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:w9(e,...r)}function lr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(B9(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[M9]=!0,Ld[t]=n}function fP(t){let e=U9+t.name;return Object.defineProperty(t,"name",{value:e}),t}function F9(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new P9([e,t],e.message);return r.code=e.code,r}return t||e}var BA=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Ld.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};lr("ERR_ASSERTION","%s",Error);lr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{To(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)To(typeof l=="string","All expected entries have to be of type string"),x9.includes(l)?i.push(l.toLowerCase()):v9.test(l)?s.push(l):(To(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=yd(r,{depth:-1});n+=`. Received ${l}`}}else{let l=yd(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);lr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=yd(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);lr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);lr("ERR_MISSING_ARGS",(...t)=>{To(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);lr("ERR_OUT_OF_RANGE",(t,e,r)=>{To(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=EP(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=EP(n)),n+="n"}else n=yd(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);lr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);lr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);lr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);lr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);lr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);lr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);lr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);lr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);lr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);lr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);lr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);dP.exports={AbortError:BA,aggregateTwoErrors:fP(F9),hideStackFrames:fP,codes:Ld}});var OP=g((au,ou)=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});var AP=new WeakMap,FA=new WeakMap;function Ze(t){let e=AP.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function hP(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function qa(t,e){AP.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,_P(i))}}qa.prototype={get type(){return Ze(this).event.type},get target(){return Ze(this).eventTarget},get currentTarget(){return Ze(this).currentTarget},composedPath(){let t=Ze(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Ze(this).eventPhase},stopPropagation(){let t=Ze(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=Ze(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!Ze(this).event.bubbles},get cancelable(){return!!Ze(this).event.cancelable},preventDefault(){hP(Ze(this))},get defaultPrevented(){return Ze(this).canceled},get composed(){return!!Ze(this).event.composed},get timeStamp(){return Ze(this).timeStamp},get srcElement(){return Ze(this).eventTarget},get cancelBubble(){return Ze(this).stopped},set cancelBubble(t){if(!t)return;let e=Ze(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!Ze(this).canceled},set returnValue(t){t||hP(Ze(this))},initEvent(){}};Object.defineProperty(qa.prototype,"constructor",{value:qa,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(qa.prototype,window.Event.prototype),FA.set(window.Event.prototype,qa));function _P(t){return{get(){return Ze(this).event[t]},set(e){Ze(this).event[t]=e},configurable:!0,enumerable:!0}}function G9(t){return{value(){let e=Ze(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function H9(t,e){let r=Object.keys(e);if(r.length===0)return t;function n(i,s){t.call(this,i,s)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in t.prototype)){let a=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(n.prototype,s,a?G9(s):_P(s))}}return n}function IP(t){if(t==null||t===Object.prototype)return qa;let e=FA.get(t);return e==null&&(e=H9(IP(Object.getPrototypeOf(t)),t),FA.set(t,e)),e}function W9(t,e){let r=IP(Object.getPrototypeOf(e));return new r(t,e)}function Y9(t){return Ze(t).immediateStopped}function $9(t,e){Ze(t).eventPhase=e}function V9(t,e){Ze(t).currentTarget=e}function TP(t,e){Ze(t).passiveListener=e}var NP=new WeakMap,SP=1,pP=2,wd=3;function Dd(t){return t!==null&&typeof t=="object"}function su(t){let e=NP.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function k9(t){return{get(){let r=su(this).get(t);for(;r!=null;){if(r.listenerType===wd)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!Dd(e)&&(e=null);let r=su(this),n=null,i=r.get(t);for(;i!=null;)i.listenerType===wd?n!==null?n.next=i.next:i.next!==null?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(e!==null){let s={listener:e,listenerType:wd,passive:!1,once:!1,next:null};n===null?r.set(t,s):n.next=s}},configurable:!0,enumerable:!0}}function GA(t,e){Object.defineProperty(t,`on${e}`,k9(e))}function RP(t){function e(){gn.call(this)}e.prototype=Object.create(gn.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)GA(e.prototype,t[r]);return e}function gn(){if(this instanceof gn){NP.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return RP(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return RP(t)}throw new TypeError("Cannot call a class as a function")}gn.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!Dd(e))throw new TypeError("'listener' should be a function or an object.");let n=su(this),i=Dd(r),o=(i?!!r.capture:!!r)?SP:pP,a={listener:e,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},l=n.get(t);if(l===void 0){n.set(t,a);return}let c=null;for(;l!=null;){if(l.listener===e&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(t,e,r){if(e==null)return;let n=su(this),s=(Dd(r)?!!r.capture:!!r)?SP:pP,o=null,a=n.get(t);for(;a!=null;){if(a.listener===e&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?n.set(t,a.next):n.delete(t);return}o=a,a=a.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=su(this),r=t.type,n=e.get(r);if(n==null)return!0;let i=W9(this,t),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?e.set(r,n.next):e.delete(r):s=n,TP(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else n.listenerType!==wd&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(Y9(i))break;n=n.next}return TP(i,null),$9(i,0),V9(i,null),!i.defaultPrevented}};Object.defineProperty(gn.prototype,"constructor",{value:gn,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(gn.prototype,window.EventTarget.prototype);au.defineEventAttribute=GA;au.EventTarget=gn;au.default=gn;ou.exports=gn;ou.exports.EventTarget=ou.exports.default=gn;ou.exports.defineEventAttribute=GA});var gt=g((cu,lu)=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});var HA=OP(),Is=class extends HA.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=Pd.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};HA.defineEventAttribute(Is.prototype,"abort");function q9(){let t=Object.create(Is.prototype);return HA.EventTarget.call(t),Pd.set(t,!1),t}function X9(t){Pd.get(t)===!1&&(Pd.set(t,!0),t.dispatchEvent({type:"abort"}))}var Pd=new WeakMap;Object.defineProperties(Is.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Is.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var Ns=class{constructor(){gP.set(this,q9())}get signal(){return mP(this)}abort(){X9(mP(this))}},gP=new WeakMap;function mP(t){let e=gP.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(Ns.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ns.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});cu.AbortController=Ns;cu.AbortSignal=Is;cu.default=Ns;lu.exports=Ns;lu.exports.AbortController=lu.exports.default=Ns;lu.exports.AbortSignal=Is});var Pr=g((kPe,YA)=>{"use strict";var K9=require("buffer"),{format:z9,inspect:j9}=UA(),{codes:{ERR_INVALID_ARG_TYPE:WA}}=_r(),{kResistStopPropagation:J9,AggregateError:Q9,SymbolDispose:Z9}=ot(),e7=globalThis.AbortSignal||gt().AbortSignal,t7=globalThis.AbortController||gt().AbortController,r7=Object.getPrototypeOf(async function(){}).constructor,CP=globalThis.Blob||K9.Blob,n7=typeof CP<"u"?function(e){return e instanceof CP}:function(e){return!1},bP=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new WA(e,"AbortSignal",t)},i7=(t,e)=>{if(typeof t!="function")throw new WA(e,"Function",t)};YA.exports={AggregateError:Q9,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:z9,inspect:j9,types:{isAsyncFunction(t){return t instanceof r7},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:n7,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new WA("signal","AbortSignal",e);bP(e,"signal"),i7(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[J9]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Z9](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:e7.any||function(e){if(e.length===1)return e[0];let r=new t7,n=()=>r.abort();return e.forEach(i=>{bP(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};YA.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Ka=g((qPe,BP)=>{"use strict";var{ArrayIsArray:VA,ArrayPrototypeIncludes:DP,ArrayPrototypeJoin:PP,ArrayPrototypeMap:s7,NumberIsInteger:kA,NumberIsNaN:o7,NumberMAX_SAFE_INTEGER:a7,NumberMIN_SAFE_INTEGER:l7,NumberParseInt:c7,ObjectPrototypeHasOwnProperty:u7,RegExpPrototypeExec:MP,String:E7,StringPrototypeToUpperCase:f7,StringPrototypeTrim:d7}=ot(),{hideStackFrames:ln,codes:{ERR_SOCKET_BAD_PORT:h7,ERR_INVALID_ARG_TYPE:Ir,ERR_INVALID_ARG_VALUE:Xa,ERR_OUT_OF_RANGE:So,ERR_UNKNOWN_SIGNAL:yP}}=_r(),{normalizeEncoding:T7}=Pr(),{isAsyncFunction:S7,isArrayBufferView:p7}=Pr().types,LP={};function R7(t){return t===(t|0)}function A7(t){return t===t>>>0}var _7=/^[0-7]+$/,I7="must be a 32-bit unsigned integer or an octal string";function N7(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(MP(_7,t)===null)throw new Xa(e,t,I7);t=c7(t,8)}return xP(t,e),t}var O7=ln((t,e,r=l7,n=a7)=>{if(typeof t!="number")throw new Ir(e,"number",t);if(!kA(t))throw new So(e,"an integer",t);if(t<r||t>n)throw new So(e,`>= ${r} && <= ${n}`,t)}),m7=ln((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Ir(e,"number",t);if(!kA(t))throw new So(e,"an integer",t);if(t<r||t>n)throw new So(e,`>= ${r} && <= ${n}`,t)}),xP=ln((t,e,r=!1)=>{if(typeof t!="number")throw new Ir(e,"number",t);if(!kA(t))throw new So(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new So(e,`>= ${n} && <= ${i}`,t)});function qA(t,e){if(typeof t!="string")throw new Ir(e,"string",t)}function g7(t,e,r=void 0,n){if(typeof t!="number")throw new Ir(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&o7(t))throw new So(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var C7=ln((t,e,r)=>{if(!DP(r,t)){let i="must be one of: "+PP(s7(r,s=>typeof s=="string"?`'${s}'`:E7(s)),", ");throw new Xa(e,t,i)}});function vP(t,e){if(typeof t!="boolean")throw new Ir(e,"boolean",t)}function $A(t,e,r){return t==null||!u7(t,e)?r:t[e]}var b7=ln((t,e,r=null)=>{let n=$A(r,"allowArray",!1),i=$A(r,"allowFunction",!1);if(!$A(r,"nullable",!1)&&t===null||!n&&VA(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Ir(e,"Object",t)}),y7=ln((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Ir(e,"a dictionary",t)}),Md=ln((t,e,r=0)=>{if(!VA(t))throw new Ir(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Xa(e,t,n)}});function L7(t,e){Md(t,e);for(let r=0;r<t.length;r++)qA(t[r],`${e}[${r}]`)}function w7(t,e){Md(t,e);for(let r=0;r<t.length;r++)vP(t[r],`${e}[${r}]`)}function D7(t,e){Md(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Ir(i,"AbortSignal",n);UP(n,i)}}function P7(t,e="signal"){if(qA(t,e),LP[t]===void 0)throw LP[f7(t)]!==void 0?new yP(t+" (signals must use all capital letters)"):new yP(t)}var M7=ln((t,e="buffer")=>{if(!p7(t))throw new Ir(e,["Buffer","TypedArray","DataView"],t)});function x7(t,e){let r=T7(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Xa("encoding",e,`is invalid for data of length ${n}`)}function v7(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&d7(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new h7(e,t,r);return t|0}var UP=ln((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Ir(e,"AbortSignal",t)}),U7=ln((t,e)=>{if(typeof t!="function")throw new Ir(e,"Function",t)}),B7=ln((t,e)=>{if(typeof t!="function"||S7(t))throw new Ir(e,"Function",t)}),F7=ln((t,e)=>{if(t!==void 0)throw new Ir(e,"undefined",t)});function G7(t,e,r){if(!DP(r,t))throw new Ir(e,`('${PP(r,"|")}')`,t)}var H7=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function wP(t,e){if(typeof t>"u"||!MP(H7,t))throw new Xa(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function W7(t){if(typeof t=="string")return wP(t,"hints"),t;if(VA(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];wP(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Xa("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}BP.exports={isInt32:R7,isUint32:A7,parseFileMode:N7,validateArray:Md,validateStringArray:L7,validateBooleanArray:w7,validateAbortSignalArray:D7,validateBoolean:vP,validateBuffer:M7,validateDictionary:y7,validateEncoding:x7,validateFunction:U7,validateInt32:m7,validateInteger:O7,validateNumber:g7,validateObject:b7,validateOneOf:C7,validatePlainFunction:B7,validatePort:v7,validateSignalName:P7,validateString:qA,validateUint32:xP,validateUndefined:F7,validateUnion:G7,validateAbortSignal:UP,validateLinkHeaderValue:W7}});var qe=g((XPe,FP)=>{FP.exports=global.process});var Xn=g((KPe,ZP)=>{"use strict";var{SymbolAsyncIterator:GP,SymbolIterator:HP,SymbolFor:po}=ot(),WP=po("nodejs.stream.destroyed"),YP=po("nodejs.stream.errored"),XA=po("nodejs.stream.readable"),KA=po("nodejs.stream.writable"),$P=po("nodejs.stream.disturbed"),Y7=po("nodejs.webstream.isClosedPromise"),$7=po("nodejs.webstream.controllerErrorFunction");function xd(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function vd(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function V7(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function qn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function VP(t){return!!(t&&!qn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function kP(t){return!!(t&&!qn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function qP(t){return!!(t&&!qn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function k7(t){return VP(t)||kP(t)||qP(t)}function q7(t,e){return t==null?!1:e===!0?typeof t[GP]=="function":e===!1?typeof t[HP]=="function":typeof t[GP]=="function"||typeof t[HP]=="function"}function Ud(t){if(!qn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[WP]||n!=null&&n.destroyed)}function XP(t){if(!vd(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function X7(t,e){if(!vd(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function K7(t){if(!xd(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function KP(t,e){if(!xd(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function zP(t){return t&&t[XA]!=null?t[XA]:typeof t?.readable!="boolean"?null:Ud(t)?!1:xd(t)&&t.readable&&!KP(t)}function jP(t){return t&&t[KA]!=null?t[KA]:typeof t?.writable!="boolean"?null:Ud(t)?!1:vd(t)&&t.writable&&!XP(t)}function z7(t,e){return qn(t)?Ud(t)?!0:!(e?.readable!==!1&&zP(t)||e?.writable!==!1&&jP(t)):null}function j7(t){var e,r;return qn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function J7(t){var e,r;return qn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Q7(t){if(!qn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&JP(t)?t._closed:null}function JP(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function QP(t){return typeof t._sent100=="boolean"&&JP(t)}function Z7(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function eZ(t){if(!qn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&QP(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function tZ(t){var e;return!!(t&&((e=t[$P])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function rZ(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[YP])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}ZP.exports={isDestroyed:Ud,kIsDestroyed:WP,isDisturbed:tZ,kIsDisturbed:$P,isErrored:rZ,kIsErrored:YP,isReadable:zP,kIsReadable:XA,kIsClosedPromise:Y7,kControllerErrorFunction:$7,kIsWritable:KA,isClosed:Q7,isDuplexNodeStream:V7,isFinished:z7,isIterable:q7,isReadableNodeStream:xd,isReadableStream:VP,isReadableEnded:K7,isReadableFinished:KP,isReadableErrored:J7,isNodeStream:qn,isWebStream:k7,isWritable:jP,isWritableNodeStream:vd,isWritableStream:kP,isWritableEnded:XP,isWritableFinished:X7,isWritableErrored:j7,isServerRequest:Z7,isServerResponse:QP,willEmitClose:eZ,isTransformStream:qP}});var xi=g((zPe,ZA)=>{"use strict";var Os=qe(),{AbortError:lM,codes:nZ}=_r(),{ERR_INVALID_ARG_TYPE:iZ,ERR_STREAM_PREMATURE_CLOSE:eM}=nZ,{kEmptyObject:jA,once:JA}=Pr(),{validateAbortSignal:sZ,validateFunction:oZ,validateObject:aZ,validateBoolean:lZ}=Ka(),{Promise:cZ,PromisePrototypeThen:uZ,SymbolDispose:cM}=ot(),{isClosed:EZ,isReadable:tM,isReadableNodeStream:zA,isReadableStream:fZ,isReadableFinished:rM,isReadableErrored:nM,isWritable:iM,isWritableNodeStream:sM,isWritableStream:dZ,isWritableFinished:oM,isWritableErrored:aM,isNodeStream:hZ,willEmitClose:TZ,kIsClosedPromise:SZ}=Xn(),za;function pZ(t){return t.setHeader&&typeof t.abort=="function"}var QA=()=>{};function uM(t,e,r){var n,i;if(arguments.length===2?(r=e,e=jA):e==null?e=jA:aZ(e,"options"),oZ(r,"callback"),sZ(e.signal,"options.signal"),r=JA(r),fZ(t)||dZ(t))return RZ(t,e,r);if(!hZ(t))throw new iZ("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:zA(t),o=(i=e.writable)!==null&&i!==void 0?i:sM(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=TZ(t)&&zA(t)===s&&sM(t)===o,E=oM(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=rM(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=O=>{r.call(t,O)},S=EZ(t),p=()=>{S=!0;let O=aM(t)||nM(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&zA(t,!0)&&!rM(t,!1))return r.call(t,new eM);if(o&&!E&&!oM(t,!1))return r.call(t,new eM);r.call(t)},I=()=>{S=!0;let O=aM(t)||nM(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},R=()=>{t.req.on("finish",d)};pZ(t)?(t.on("complete",d),u||t.on("abort",p),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",p),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",p),S?Os.nextTick(p):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Os.nextTick(I):(!s&&(!u||tM(t))&&(E||iM(t)===!1)||!o&&(!u||iM(t))&&(f||tM(t)===!1)||l&&t.req&&t.aborted)&&Os.nextTick(I);let A=()=>{r=QA,t.removeListener("aborted",p),t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",R),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",p)};if(e.signal&&!S){let O=()=>{let L=r;A(),L.call(t,new lM(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Os.nextTick(O);else{za=za||Pr().addAbortListener;let L=za(e.signal,O),N=r;r=JA((...D)=>{L[cM](),N.apply(t,D)})}}return A}function RZ(t,e,r){let n=!1,i=QA;if(e.signal)if(i=()=>{n=!0,r.call(t,new lM(void 0,{cause:e.signal.reason}))},e.signal.aborted)Os.nextTick(i);else{za=za||Pr().addAbortListener;let o=za(e.signal,i),a=r;r=JA((...l)=>{o[cM](),a.apply(t,l)})}let s=(...o)=>{n||Os.nextTick(()=>r.apply(t,o))};return uZ(t[SZ].promise,s,s),QA}function AZ(t,e){var r;let n=!1;return e===null&&(e=jA),(r=e)!==null&&r!==void 0&&r.cleanup&&(lZ(e.cleanup,"cleanup"),n=e.cleanup),new cZ((i,s)=>{let o=uM(t,e,a=>{n&&o(),a?s(a):i()})})}ZA.exports=uM;ZA.exports.finished=AZ});var Ro=g((jPe,RM)=>{"use strict";var Kn=qe(),{aggregateTwoErrors:_Z,codes:{ERR_MULTIPLE_CALLBACK:IZ},AbortError:NZ}=_r(),{Symbol:dM}=ot(),{kIsDestroyed:OZ,isDestroyed:mZ,isFinished:gZ,isServerRequest:CZ}=Xn(),hM=dM("kDestroy"),e_=dM("kConstruct");function TM(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function bZ(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(TM(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?EM(this,t,e):this.once(hM,function(s){EM(this,_Z(s,t),e)}),this)}function EM(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;TM(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Kn.nextTick(yZ,t,s):Kn.nextTick(SM,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function yZ(t,e){t_(t,e),SM(t)}function SM(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function t_(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function LZ(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function r_(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Kn.nextTick(t_,t,e):t_(t,e))}function wZ(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(e_,e),!(t.listenerCount(e_)>1)&&Kn.nextTick(DZ,t)}function DZ(t){let e=!1;function r(n){if(e){r_(t,n??new IZ);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(hM,n):n?r_(t,n,!0):Kn.nextTick(PZ,t)}try{t._construct(n=>{Kn.nextTick(r,n)})}catch(n){Kn.nextTick(r,n)}}function PZ(t){t.emit(e_)}function fM(t){return t?.setHeader&&typeof t.abort=="function"}function pM(t){t.emit("close")}function MZ(t,e){t.emit("error",e),Kn.nextTick(pM,t)}function xZ(t,e){!t||mZ(t)||(!e&&!gZ(t)&&(e=new NZ),CZ(t)?(t.socket=null,t.destroy(e)):fM(t)?t.abort():fM(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Kn.nextTick(MZ,t,e):Kn.nextTick(pM,t),t.destroyed||(t[OZ]=!0))}RM.exports={construct:wZ,destroyer:xZ,destroy:bZ,undestroy:LZ,errorOrDestroy:r_}});var Gd=g((JPe,_M)=>{"use strict";var{ArrayIsArray:vZ,ObjectSetPrototypeOf:AM}=ot(),{EventEmitter:Bd}=require("events");function Fd(t){Bd.call(this,t)}AM(Fd.prototype,Bd.prototype);AM(Fd,Bd);Fd.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),Bd.listenerCount(this,"error")===0&&this.emit("error",u)}n_(r,"error",l),n_(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function n_(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):vZ(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}_M.exports={Stream:Fd,prependListener:n_}});var uu=g((QPe,Hd)=>{"use strict";var{SymbolDispose:UZ}=ot(),{AbortError:IM,codes:BZ}=_r(),{isNodeStream:NM,isWebStream:FZ,kControllerErrorFunction:GZ}=Xn(),HZ=xi(),{ERR_INVALID_ARG_TYPE:OM}=BZ,i_,WZ=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new OM(e,"AbortSignal",t)};Hd.exports.addAbortSignal=function(e,r){if(WZ(e,"signal"),!NM(r)&&!FZ(r))throw new OM("stream",["ReadableStream","WritableStream","Stream"],r);return Hd.exports.addAbortSignalNoValidate(e,r)};Hd.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=NM(e)?()=>{e.destroy(new IM(void 0,{cause:t.reason}))}:()=>{e[GZ](new IM(void 0,{cause:t.reason}))};if(t.aborted)r();else{i_=i_||Pr().addAbortListener;let n=i_(t,r);HZ(e,n[UZ])}return e}});var CM=g((eMe,gM)=>{"use strict";var{StringPrototypeSlice:mM,SymbolIterator:YZ,TypedArrayPrototypeSet:Wd,Uint8Array:$Z}=ot(),{Buffer:s_}=require("buffer"),{inspect:VZ}=Pr();gM.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return s_.alloc(0);let r=s_.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Wd(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[YZ](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=mM(s,0,e),this.head=n,n.data=mM(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=s_.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)Wd(r,o,n-e),e-=o.length;else{e===o.length?(Wd(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(Wd(r,new $Z(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return VZ(this,{...r,depth:0,customInspect:!1})}}});var Eu=g((tMe,wM)=>{"use strict";var{MathFloor:kZ,NumberIsInteger:qZ}=ot(),{validateInteger:XZ}=Ka(),{ERR_INVALID_ARG_VALUE:KZ}=_r().codes,bM=16*1024,yM=16;function zZ(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function LM(t){return t?yM:bM}function jZ(t,e){XZ(e,"value",0),t?yM=e:bM=e}function JZ(t,e,r,n){let i=zZ(e,n,r);if(i!=null){if(!qZ(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new KZ(s,i)}return kZ(i)}return LM(t.objectMode)}wM.exports={getHighWaterMark:JZ,getDefaultHighWaterMark:LM,setDefaultHighWaterMark:jZ}});var MM=g((o_,PM)=>{var Yd=require("buffer"),zn=Yd.Buffer;function DM(t,e){for(var r in t)e[r]=t[r]}zn.from&&zn.alloc&&zn.allocUnsafe&&zn.allocUnsafeSlow?PM.exports=Yd:(DM(Yd,o_),o_.Buffer=Ao);function Ao(t,e,r){return zn(t,e,r)}Ao.prototype=Object.create(zn.prototype);DM(zn,Ao);Ao.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return zn(t,e,r)};Ao.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=zn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ao.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return zn(t)};Ao.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Yd.SlowBuffer(t)}});var du=g(vM=>{"use strict";var l_=MM().Buffer,xM=l_.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function QZ(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function ZZ(t){var e=QZ(t);if(typeof e!="string"&&(l_.isEncoding===xM||!xM(t)))throw new Error("Unknown encoding: "+t);return e||t}vM.StringDecoder=fu;function fu(t){this.encoding=ZZ(t);var e;switch(this.encoding){case"utf16le":this.text=see,this.end=oee,e=4;break;case"utf8":this.fillLast=ree,e=4;break;case"base64":this.text=aee,this.end=lee,e=3;break;default:this.write=cee,this.end=uee;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=l_.allocUnsafe(e)}fu.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};fu.prototype.end=iee;fu.prototype.text=nee;fu.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function a_(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function eee(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a_(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=a_(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=a_(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function tee(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function ree(t){var e=this.lastTotal-this.lastNeed,r=tee(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function nee(t,e){var r=eee(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function iee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function see(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function oee(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function aee(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function lee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function cee(t){return t.toString(this.encoding)}function uee(t){return t&&t.length?this.write(t):""}});var c_=g((nMe,GM)=>{"use strict";var UM=qe(),{PromisePrototypeThen:Eee,SymbolAsyncIterator:BM,SymbolIterator:FM}=ot(),{Buffer:fee}=require("buffer"),{ERR_INVALID_ARG_TYPE:dee,ERR_STREAM_NULL_VALUES:hee}=_r().codes;function Tee(t,e,r){let n;if(typeof e=="string"||e instanceof fee)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[BM])i=!0,n=e[BM]();else if(e&&e[FM])i=!1,n=e[FM]();else throw new dee("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Eee(a(c),()=>UM.nextTick(u,c),E=>UM.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new hee;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}GM.exports=Tee});var Tu=g((iMe,nx)=>{"use strict";var Cn=qe(),{ArrayPrototypeIndexOf:See,NumberIsInteger:pee,NumberIsNaN:Ree,NumberParseInt:Aee,ObjectDefineProperties:p_,ObjectKeys:_ee,ObjectSetPrototypeOf:YM,Promise:$M,SafeSet:Iee,SymbolAsyncDispose:Nee,SymbolAsyncIterator:Oee,Symbol:mee}=ot();nx.exports=Se;Se.ReadableState=qd;var{EventEmitter:gee}=require("events"),{Stream:ms,prependListener:Cee}=Gd(),{Buffer:u_}=require("buffer"),{addAbortSignal:bee}=uu(),VM=xi(),ye=Pr().debuglog("stream",t=>{ye=t}),yee=CM(),Qa=Ro(),{getHighWaterMark:Lee,getDefaultHighWaterMark:wee}=Eu(),{aggregateTwoErrors:HM,codes:{ERR_INVALID_ARG_TYPE:Dee,ERR_METHOD_NOT_IMPLEMENTED:Pee,ERR_OUT_OF_RANGE:Mee,ERR_STREAM_PUSH_AFTER_EOF:xee,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:vee},AbortError:Uee}=_r(),{validateObject:Bee}=Ka(),_o=mee("kPaused"),{StringDecoder:kM}=du(),Fee=c_();YM(Se.prototype,ms.prototype);YM(Se,ms);var E_=()=>{},{errorOrDestroy:ja}=Qa,Ja=1,Gee=2,qM=4,hu=8,XM=16,$d=32,Vd=64,KM=128,Hee=256,Wee=512,Yee=1024,T_=2048,S_=4096,$ee=8192,Vee=16384,kee=32768,zM=65536,qee=1<<17,Xee=1<<18;function xt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}p_(qd.prototype,{objectMode:xt(Ja),ended:xt(Gee),endEmitted:xt(qM),reading:xt(hu),constructed:xt(XM),sync:xt($d),needReadable:xt(Vd),emittedReadable:xt(KM),readableListening:xt(Hee),resumeScheduled:xt(Wee),errorEmitted:xt(Yee),emitClose:xt(T_),autoDestroy:xt(S_),destroyed:xt($ee),closed:xt(Vee),closeEmitted:xt(kee),multiAwaitDrain:xt(zM),readingMore:xt(qee),dataEmitted:xt(Xee)});function qd(t,e,r){typeof r!="boolean"&&(r=e instanceof jn()),this.state=T_|S_|XM|$d,t&&t.objectMode&&(this.state|=Ja),r&&t&&t.readableObjectMode&&(this.state|=Ja),this.highWaterMark=t?Lee(this,t,"readableHighWaterMark",r):wee(!1),this.buffer=new yee,this.length=0,this.pipes=[],this.flowing=null,this[_o]=null,t&&t.emitClose===!1&&(this.state&=~T_),t&&t.autoDestroy===!1&&(this.state&=~S_),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new kM(t.encoding),this.encoding=t.encoding)}function Se(t){if(!(this instanceof Se))return new Se(t);let e=this instanceof jn();this._readableState=new qd(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&bee(t.signal,this)),ms.call(this,t),Qa.construct(this,()=>{this._readableState.needReadable&&kd(this,this._readableState)})}Se.prototype.destroy=Qa.destroy;Se.prototype._undestroy=Qa.undestroy;Se.prototype._destroy=function(t,e){e(t)};Se.prototype[gee.captureRejectionSymbol]=function(t){this.destroy(t)};Se.prototype[Nee]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Uee,this.destroy(t)),new $M((e,r)=>VM(this,n=>n&&n!==t?r(n):e(null)))};Se.prototype.push=function(t,e){return jM(this,t,e,!1)};Se.prototype.unshift=function(t,e){return jM(this,t,e,!0)};function jM(t,e,r,n){ye("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ja)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=u_.from(e,r).toString(i.encoding):(e=u_.from(e,r),r=""))):e instanceof u_?r="":ms._isUint8Array(e)?(e=ms._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Dee("chunk",["string","Buffer","Uint8Array"],e))),s)ja(t,s);else if(e===null)i.state&=~hu,jee(t,i);else if((i.state&Ja)!==0||e&&e.length>0)if(n)if((i.state&qM)!==0)ja(t,new vee);else{if(i.destroyed||i.errored)return!1;f_(t,i,e,!0)}else if(i.ended)ja(t,new xee);else{if(i.destroyed||i.errored)return!1;i.state&=~hu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?f_(t,i,e,!1):kd(t,i)):f_(t,i,e,!1)}else n||(i.state&=~hu,kd(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function f_(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&zM)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&Vd)!==0&&Xd(t)),kd(t,e)}Se.prototype.isPaused=function(){let t=this._readableState;return t[_o]===!0||t.flowing===!1};Se.prototype.setEncoding=function(t){let e=new kM(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Kee=1073741824;function zee(t){if(t>Kee)throw new Mee("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function WM(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ja)!==0?1:Ree(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Se.prototype.read=function(t){ye("read",t),t===void 0?t=NaN:pee(t)||(t=Aee(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=zee(t)),t!==0&&(e.state&=~KM),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ye("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?d_(this):Xd(this),null;if(t=WM(t,e),t===0&&e.ended)return e.length===0&&d_(this),null;let n=(e.state&Vd)!==0;if(ye("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ye("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,ye("reading, ended or constructing",n);else if(n){ye("do read"),e.state|=hu|$d,e.length===0&&(e.state|=Vd);try{this._read(e.highWaterMark)}catch(s){ja(this,s)}e.state&=~$d,e.reading||(t=WM(r,e))}let i;return t>0?i=tx(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&d_(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function jee(t,e){if(ye("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Xd(t):(e.needReadable=!1,e.emittedReadable=!0,JM(t))}}function Xd(t){let e=t._readableState;ye("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ye("emitReadable",e.flowing),e.emittedReadable=!0,Cn.nextTick(JM,t))}function JM(t){let e=t._readableState;ye("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,ZM(t)}function kd(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Cn.nextTick(Jee,t,e))}function Jee(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(ye("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Se.prototype._read=function(t){throw new Pee("_read()")};Se.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Iee(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),ye("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Cn.stdout&&t!==Cn.stderr?a:S;n.endEmitted?Cn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){ye("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){ye("onend"),t.end()}let l,c=!1;function u(){ye("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(ye("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(ye("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Qee(r,t),t.on("drain",l))}r.on("data",d);function d(p){ye("ondata");let I=t.write(p);ye("dest.write",I),I===!1&&E()}function f(p){if(ye("onerror",p),S(),t.removeListener("error",f),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?ja(t,p):t.emit("error",p)}}Cee(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){ye("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){ye("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(ye("pipe resume"),r.resume()),t};function Qee(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(ye("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(ye("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Se.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=See(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Se.prototype.on=function(t,e){let r=ms.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ye("on readable",n.length,n.reading),n.length?Xd(this):n.reading||Cn.nextTick(Zee,this)),r};Se.prototype.addListener=Se.prototype.on;Se.prototype.removeListener=function(t,e){let r=ms.prototype.removeListener.call(this,t,e);return t==="readable"&&Cn.nextTick(QM,this),r};Se.prototype.off=Se.prototype.removeListener;Se.prototype.removeAllListeners=function(t){let e=ms.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Cn.nextTick(QM,this),e};function QM(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[_o]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Zee(t){ye("readable nexttick read 0"),t.read(0)}Se.prototype.resume=function(){let t=this._readableState;return t.flowing||(ye("resume"),t.flowing=!t.readableListening,ete(this,t)),t[_o]=!1,this};function ete(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Cn.nextTick(tte,t,e))}function tte(t,e){ye("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),ZM(t),e.flowing&&!e.reading&&t.read(0)}Se.prototype.pause=function(){return ye("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ye("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[_o]=!0,this};function ZM(t){let e=t._readableState;for(ye("flow",e.flowing);e.flowing&&t.read()!==null;);}Se.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{ja(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=_ee(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Se.prototype[Oee]=function(){return ex(this)};Se.prototype.iterator=function(t){return t!==void 0&&Bee(t,"options"),ex(this,t)};function ex(t,e){typeof t.read!="function"&&(t=Se.wrap(t,{objectMode:!0}));let r=rte(t,e);return r.stream=t,r}async function*rte(t,e){let r=E_;function n(o){this===t?(r(),r=E_):r=o}t.on("readable",n);let i,s=VM(t,{writable:!1},o=>{i=o?HM(i,o):null,r(),r=E_});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new $M(n)}}}catch(o){throw i=HM(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Qa.destroyer(t,null):(t.off("readable",n),s())}}p_(Se.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});p_(qd.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[_o]!==!1},set(t){this[_o]=!!t}}});Se._fromList=tx;function tx(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function d_(t){let e=t._readableState;ye("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Cn.nextTick(nte,e,t))}function nte(t,e){if(ye("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Cn.nextTick(ite,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function ite(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Se.from=function(t,e){return Fee(Se,t,e)};var h_;function rx(){return h_===void 0&&(h_={}),h_}Se.fromWeb=function(t,e){return rx().newStreamReadableFromReadableStream(t,e)};Se.toWeb=function(t,e){return rx().newReadableStreamFromStreamReadable(t,e)};Se.wrap=function(t,e){var r,n;return new Se({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Qa.destroyer(t,i),s(i)}}).wrap(t)}});var Qd=g((sMe,Tx)=>{"use strict";var Io=qe(),{ArrayPrototypeSlice:ox,Error:ste,FunctionPrototypeSymbolHasInstance:ax,ObjectDefineProperty:lx,ObjectDefineProperties:ote,ObjectSetPrototypeOf:cx,StringPrototypeToLowerCase:ate,Symbol:lte,SymbolHasInstance:cte}=ot();Tx.exports=Et;Et.WritableState=Ru;var{EventEmitter:ute}=require("events"),Su=Gd().Stream,{Buffer:Kd}=require("buffer"),Jd=Ro(),{addAbortSignal:Ete}=uu(),{getHighWaterMark:fte,getDefaultHighWaterMark:dte}=Eu(),{ERR_INVALID_ARG_TYPE:hte,ERR_METHOD_NOT_IMPLEMENTED:Tte,ERR_MULTIPLE_CALLBACK:ux,ERR_STREAM_CANNOT_PIPE:Ste,ERR_STREAM_DESTROYED:pu,ERR_STREAM_ALREADY_FINISHED:pte,ERR_STREAM_NULL_VALUES:Rte,ERR_STREAM_WRITE_AFTER_END:Ate,ERR_UNKNOWN_ENCODING:Ex}=_r().codes,{errorOrDestroy:Za}=Jd;cx(Et.prototype,Su.prototype);cx(Et,Su);function __(){}var el=lte("kOnFinished");function Ru(t,e,r){typeof r!="boolean"&&(r=e instanceof jn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?fte(this,t,"writableHighWaterMark",r):dte(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Ite.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,jd(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[el]=[]}function jd(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Ru.prototype.getBuffer=function(){return ox(this.buffered,this.bufferedIndex)};lx(Ru.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Et(t){let e=this instanceof jn();if(!e&&!ax(Et,this))return new Et(t);this._writableState=new Ru(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Ete(t.signal,this)),Su.call(this,t),Jd.construct(this,()=>{let r=this._writableState;r.writing||N_(this,r),O_(this,r)})}lx(Et,cte,{__proto__:null,value:function(t){return ax(this,t)?!0:this!==Et?!1:t&&t._writableState instanceof Ru}});Et.prototype.pipe=function(){Za(this,new Ste)};function fx(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Kd.isEncoding(r))throw new Ex(r);typeof n!="function"&&(n=__)}if(e===null)throw new Rte;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Kd.from(e,r),r="buffer");else if(e instanceof Kd)r="buffer";else if(Su._isUint8Array(e))e=Su._uint8ArrayToBuffer(e),r="buffer";else throw new hte("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Ate:i.destroyed&&(s=new pu("write")),s?(Io.nextTick(n,s),Za(t,s,!0),s):(i.pendingcb++,_te(t,i,e,r,n))}Et.prototype.write=function(t,e,r){return fx(this,t,e,r)===!0};Et.prototype.cork=function(){this._writableState.corked++};Et.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||N_(this,t))};Et.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=ate(e)),!Kd.isEncoding(e))throw new Ex(e);return this._writableState.defaultEncoding=e,this};function _te(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==__&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function ix(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new pu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function sx(t,e,r,n){--e.pendingcb,n(r),I_(e),Za(t,r)}function Ite(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Za(t,new ux);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Io.nextTick(sx,t,r,e,i):sx(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&N_(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Io.nextTick(Nte,r.afterWriteTickInfo)):dx(t,r,1,i))}function Nte({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,dx(t,e,r,n)}function dx(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&I_(e),O_(t,e)}function I_(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new pu("write"))}let r=t[el].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new pu("end"))}jd(t)}function N_(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?__:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:ox(r,o);l.allBuffers=e.allBuffers,ix(t,e,!0,e.length,l,"",a),jd(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;ix(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?jd(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}Et.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Tte("_write()")};Et.prototype._writev=null;Et.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=fx(this,t,e);s instanceof ste&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,O_(this,n,!0),n.ended=!0):n.finished?i=new pte("end"):n.destroyed&&(i=new pu("end"))),typeof r=="function"&&(i||n.finished?Io.nextTick(r,i):n[el].push(r)),this};function zd(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Ote(t,e){let r=!1;function n(i){if(r){Za(t,i??ux());return}if(r=!0,e.pendingcb--,i){let s=e[el].splice(0);for(let o=0;o<s.length;o++)s[o](i);Za(t,i,e.sync)}else zd(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Io.nextTick(A_,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function mte(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Ote(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function O_(t,e,r){zd(e)&&(mte(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Io.nextTick((n,i)=>{zd(i)?A_(n,i):i.pendingcb--},t,e)):zd(e)&&(e.pendingcb++,A_(t,e))))}function A_(t,e){e.pendingcb--,e.finished=!0;let r=e[el].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}ote(Et.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var gte=Jd.destroy;Et.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[el].length)&&Io.nextTick(I_,r),gte.call(this,t,e),this};Et.prototype._undestroy=Jd.undestroy;Et.prototype._destroy=function(t,e){e(t)};Et.prototype[ute.captureRejectionSymbol]=function(t){this.destroy(t)};var R_;function hx(){return R_===void 0&&(R_={}),R_}Et.fromWeb=function(t,e){return hx().newStreamWritableFromWritableStream(t,e)};Et.toWeb=function(t){return hx().newWritableStreamFromStreamWritable(t)}});var wx=g((oMe,Lx)=>{var m_=qe(),Cte=require("buffer"),{isReadable:bte,isWritable:yte,isIterable:Sx,isNodeStream:Lte,isReadableNodeStream:px,isWritableNodeStream:Rx,isDuplexNodeStream:wte,isReadableStream:Ax,isWritableStream:_x}=Xn(),Ix=xi(),{AbortError:bx,codes:{ERR_INVALID_ARG_TYPE:Dte,ERR_INVALID_RETURN_VALUE:Nx}}=_r(),{destroyer:rl}=Ro(),Pte=jn(),yx=Tu(),Mte=Qd(),{createDeferredPromise:Ox}=Pr(),mx=c_(),gx=globalThis.Blob||Cte.Blob,xte=typeof gx<"u"?function(e){return e instanceof gx}:function(e){return!1},vte=globalThis.AbortController||gt().AbortController,{FunctionPrototypeCall:Cx}=ot(),gs=class extends Pte{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};Lx.exports=function t(e,r){if(wte(e))return e;if(px(e))return tl({readable:e});if(Rx(e))return tl({writable:e});if(Lte(e))return tl({writable:!1,readable:!1});if(Ax(e))return tl({readable:yx.fromWeb(e)});if(_x(e))return tl({writable:Mte.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Ute(e);if(Sx(i))return mx(gs,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=Cx(l,i,E=>{if(E!=null)throw new Nx("nully","body",E)},E=>{rl(c,E)});return c=new gs({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,m_.nextTick(E,null)}catch(d){m_.nextTick(E,d)}})},destroy:a})}throw new Nx("Iterable, AsyncIterable or AsyncFunction",r,i)}if(xte(e))return t(e.arrayBuffer());if(Sx(e))return mx(gs,e,{objectMode:!0,writable:!1});if(Ax(e?.readable)&&_x(e?.writable))return gs.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?px(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?Rx(e?.writable)?e?.writable:t(e.writable):void 0;return tl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return Cx(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{rl(i,s)}),i=new gs({objectMode:!0,writable:!1,read(){}})}throw new Dte(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Ute(t){let{promise:e,resolve:r}=Ox(),n=new vte,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(m_.nextTick(c),l)return;if(i.aborted)throw new bx(void 0,{cause:i.reason});({promise:e,resolve:r}=Ox()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function tl(t){let e=t.readable&&typeof t.readable.read!="function"?yx.wrap(t.readable):t.readable,r=t.writable,n=!!bte(e),i=!!yte(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new gs({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(Ix(r,E=>{i=!1,E&&rl(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(Ix(e,E=>{n=!1,E&&rl(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new bx),a=null,s=null,o=null,l===null?d(E):(l=d,rl(r,E),rl(e,E))},c}});var jn=g((aMe,Mx)=>{"use strict";var{ObjectDefineProperties:Bte,ObjectGetOwnPropertyDescriptor:vi,ObjectKeys:Fte,ObjectSetPrototypeOf:Dx}=ot();Mx.exports=bn;var b_=Tu(),cn=Qd();Dx(bn.prototype,b_.prototype);Dx(bn,b_);{let t=Fte(cn.prototype);for(let e=0;e<t.length;e++){let r=t[e];bn.prototype[r]||(bn.prototype[r]=cn.prototype[r])}}function bn(t){if(!(this instanceof bn))return new bn(t);b_.call(this,t),cn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Bte(bn.prototype,{writable:{__proto__:null,...vi(cn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...vi(cn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...vi(cn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...vi(cn.prototype,"writableBuffer")},writableLength:{__proto__:null,...vi(cn.prototype,"writableLength")},writableFinished:{__proto__:null,...vi(cn.prototype,"writableFinished")},writableCorked:{__proto__:null,...vi(cn.prototype,"writableCorked")},writableEnded:{__proto__:null,...vi(cn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...vi(cn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var g_;function Px(){return g_===void 0&&(g_={}),g_}bn.fromWeb=function(t,e){return Px().newStreamDuplexFromReadableWritablePair(t,e)};bn.toWeb=function(t){return Px().newReadableWritablePairFromDuplex(t)};var C_;bn.from=function(t){return C_||(C_=wx()),C_(t,"body")}});var w_=g((lMe,vx)=>{"use strict";var{ObjectSetPrototypeOf:xx,Symbol:Gte}=ot();vx.exports=Ui;var{ERR_METHOD_NOT_IMPLEMENTED:Hte}=_r().codes,L_=jn(),{getHighWaterMark:Wte}=Eu();xx(Ui.prototype,L_.prototype);xx(Ui,L_);var Au=Gte("kCallback");function Ui(t){if(!(this instanceof Ui))return new Ui(t);let e=t?Wte(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),L_.call(this,t),this._readableState.sync=!1,this[Au]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Yte)}function y_(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Yte(){this._final!==y_&&y_.call(this)}Ui.prototype._final=y_;Ui.prototype._transform=function(t,e,r){throw new Hte("_transform()")};Ui.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Au]=r})};Ui.prototype._read=function(){if(this[Au]){let t=this[Au];this[Au]=null,t()}}});var P_=g((cMe,Bx)=>{"use strict";var{ObjectSetPrototypeOf:Ux}=ot();Bx.exports=nl;var D_=w_();Ux(nl.prototype,D_.prototype);Ux(nl,D_);function nl(t){if(!(this instanceof nl))return new nl(t);D_.call(this,t)}nl.prototype._transform=function(t,e,r){r(null,t)}});var rh=g((uMe,Yx)=>{var _u=qe(),{ArrayIsArray:$te,Promise:Vte,SymbolAsyncIterator:kte,SymbolDispose:qte}=ot(),th=xi(),{once:Xte}=Pr(),Kte=Ro(),Fx=jn(),{aggregateTwoErrors:zte,codes:{ERR_INVALID_ARG_TYPE:W_,ERR_INVALID_RETURN_VALUE:M_,ERR_MISSING_ARGS:jte,ERR_STREAM_DESTROYED:Jte,ERR_STREAM_PREMATURE_CLOSE:Qte},AbortError:Zte}=_r(),{validateFunction:ere,validateAbortSignal:tre}=Ka(),{isIterable:No,isReadable:x_,isReadableNodeStream:eh,isNodeStream:Gx,isTransformStream:il,isWebStream:rre,isReadableStream:v_,isReadableFinished:nre}=Xn(),ire=globalThis.AbortController||gt().AbortController,U_,B_,F_;function Hx(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=th(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Kte.destroyer(t,s||new Jte("pipe")))},cleanup:i}}function sre(t){return ere(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function G_(t){if(No(t))return t;if(eh(t))return ore(t);throw new W_("val",["Readable","Iterable","AsyncIterable"],t)}async function*ore(t){B_||(B_=Tu()),yield*B_.prototype[kte].call(t)}async function Zd(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new Vte((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=th(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?zte(i,c):c)}finally{l(),e.off("drain",o)}}async function H_(t,e,r,{end:n}){il(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function are(...t){return Wx(t,Xte(sre(t)))}function Wx(t,e,r){if(t.length===1&&$te(t[0])&&(t=t[0]),t.length<2)throw new jte("streams");let n=new ire,i=n.signal,s=r?.signal,o=[];tre(s,"options.signal");function a(){T(new Zte)}F_=F_||Pr().addAbortListener;let l;s&&(l=F_(s,a));let c,u,E=[],d=0;function f(R){T(R,--d===0)}function T(R,A){var O;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[qte](),n.abort(),A&&(c||o.forEach(L=>L()),_u.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],O=R<t.length-1,L=R>0,N=O||r?.end!==!1,D=R===t.length-1;if(Gx(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var I=y;if(N){let{destroy:P,cleanup:x}=Hx(A,O,L);E.push(P),x_(A)&&D&&o.push(x)}A.on("error",y),x_(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!No(h))throw new M_("Iterable, AsyncIterable or Stream","source",h)}else No(A)||eh(A)||il(A)?h=A:h=Fx.from(A);else if(typeof A=="function"){if(il(h)){var S;h=G_((S=h)===null||S===void 0?void 0:S.readable)}else h=G_(h);if(h=A(h,{signal:i}),O){if(!No(h,!0))throw new M_("AsyncIterable",`transform[${R-1}]`,h)}else{var p;U_||(U_=P_());let y=new U_({objectMode:!0}),P=(p=h)===null||p===void 0?void 0:p.then;if(typeof P=="function")d++,P.call(h,G=>{u=G,G!=null&&y.write(G),N&&y.end(),_u.nextTick(f)},G=>{y.destroy(G),_u.nextTick(f,G)});else if(No(h,!0))d++,Zd(h,y,f,{end:N});else if(v_(h)||il(h)){let G=h.readable||h;d++,Zd(G,y,f,{end:N})}else throw new M_("AsyncIterable or Promise","destination",h);h=y;let{destroy:x,cleanup:B}=Hx(h,!1,!0);E.push(x),D&&o.push(B)}}else if(Gx(A)){if(eh(h)){d+=2;let y=lre(h,A,f,{end:N});x_(A)&&D&&o.push(y)}else if(il(h)||v_(h)){let y=h.readable||h;d++,Zd(y,A,f,{end:N})}else if(No(h))d++,Zd(h,A,f,{end:N});else throw new W_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(rre(A)){if(eh(h))d++,H_(G_(h),A,f,{end:N});else if(v_(h)||No(h))d++,H_(h,A,f,{end:N});else if(il(h))d++,H_(h.readable,A,f,{end:N});else throw new W_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=Fx.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&_u.nextTick(a),h}function lre(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Qte)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;nre(t)?_u.nextTick(o):t.once("end",o)}else r();return th(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),th(e,{readable:!1,writable:!0},r)}Yx.exports={pipelineImpl:Wx,pipeline:are}});var $_=g((EMe,Kx)=>{"use strict";var{pipeline:cre}=rh(),nh=jn(),{destroyer:ure}=Ro(),{isNodeStream:ih,isReadable:$x,isWritable:Vx,isWebStream:Y_,isTransformStream:Oo,isWritableStream:kx,isReadableStream:qx}=Xn(),{AbortError:Ere,codes:{ERR_INVALID_ARG_VALUE:Xx,ERR_MISSING_ARGS:fre}}=_r(),dre=xi();Kx.exports=function(...e){if(e.length===0)throw new fre("streams");if(e.length===1)return nh.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=nh.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=nh.from(e[f])}for(let f=0;f<e.length;++f)if(!(!ih(e[f])&&!Y_(e[f]))){if(f<e.length-1&&!($x(e[f])||qx(e[f])||Oo(e[f])))throw new Xx(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(Vx(e[f])||kx(e[f])||Oo(e[f])))throw new Xx(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=cre(e,l),E=!!(Vx(c)||kx(c)||Oo(c)),d=!!($x(u)||qx(u)||Oo(u));if(a=new nh({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(ih(c))a._write=function(T,h,S){c.write(T,h)?S():n=S},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(Y_(c)){let h=(Oo(c)?c.writable:c).getWriter();a._write=async function(S,p,I){try{await h.ready,h.write(S).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(S){try{await h.ready,h.close().catch(()=>{}),i=S}catch(p){S(p)}}}let f=Oo(u)?u.readable:u;dre(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(ih(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(Y_(u)){let T=(Oo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:S}=await T.read();if(!a.push(h))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new Ere),s=null,n=null,i=null,o===null?T(f):(o=T,ih(u)&&ure(u,f))},a}});var iv=g((fMe,q_)=>{"use strict";var hre=globalThis.AbortController||gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Tre,ERR_INVALID_ARG_TYPE:Iu,ERR_MISSING_ARGS:Sre,ERR_OUT_OF_RANGE:pre},AbortError:Jn}=_r(),{validateAbortSignal:mo,validateInteger:zx,validateObject:go}=Ka(),Rre=ot().Symbol("kWeak"),Are=ot().Symbol("kResistStopPropagation"),{finished:_re}=xi(),Ire=$_(),{addAbortSignalNoValidate:Nre}=uu(),{isWritable:Ore,isNodeStream:mre}=Xn(),{deprecate:gre}=Pr(),{ArrayPrototypePush:Cre,Boolean:bre,MathFloor:jx,Number:yre,NumberIsNaN:Lre,Promise:Jx,PromiseReject:Qx,PromiseResolve:wre,PromisePrototypeThen:Zx,Symbol:tv}=ot(),sh=tv("kEmpty"),ev=tv("kEof");function Dre(t,e){if(e!=null&&go(e,"options"),e?.signal!=null&&mo(e.signal,"options.signal"),mre(t)&&!Ore(t))throw new Tre("stream",t,"must be writable");let r=Ire(this,t);return e!=null&&e.signal&&Nre(e.signal,r),r}function oh(t,e){if(typeof t!="function")throw new Iu("fn",["Function","AsyncFunction"],t);e!=null&&go(e,"options"),e?.signal!=null&&mo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=jx(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=jx(e.highWaterMark)),zx(r,"options.concurrency",1),zx(n,"options.highWaterMark",0),n+=r,async function*(){let s=Pr().AbortSignalAny([e?.signal].filter(bre)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let p of o){if(E)return;if(s.aborted)throw new Jn;try{if(p=t(p,l),p===sh)continue;p=wre(p)}catch(I){p=Qx(I)}d+=1,Zx(p,T,f),a.push(p),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new Jx(I=>{u=I})}a.push(ev)}catch(p){let I=Qx(p);Zx(I,T,f),a.push(I)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let p=await a[0];if(p===ev)return;if(s.aborted)throw new Jn;p!==sh&&(yield p),a.shift(),h()}await new Jx(p=>{c=p})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function Pre(t=void 0){return t!=null&&go(t,"options"),t?.signal!=null&&mo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Jn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function rv(t,e=void 0){for await(let r of k_.call(this,t,e))return!0;return!1}async function Mre(t,e=void 0){if(typeof t!="function")throw new Iu("fn",["Function","AsyncFunction"],t);return!await rv.call(this,async(...r)=>!await t(...r),e)}async function xre(t,e){for await(let r of k_.call(this,t,e))return r}async function vre(t,e){if(typeof t!="function")throw new Iu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),sh}for await(let n of oh.call(this,r,e));}function k_(t,e){if(typeof t!="function")throw new Iu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:sh}return oh.call(this,r,e)}var V_=class extends Sre{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Ure(t,e,r){var n;if(typeof t!="function")throw new Iu("reducer",["Function","AsyncFunction"],t);r!=null&&go(r,"options"),r?.signal!=null&&mo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Jn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await _re(this.destroy(c)),c}let s=new hre,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Rre]:this,[Are]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Jn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new V_}finally{s.abort()}return e}async function Bre(t){t!=null&&go(t,"options"),t?.signal!=null&&mo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Jn(void 0,{cause:t.signal.reason});Cre(e,n)}return e}function Fre(t,e){let r=oh.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function nv(t){if(t=yre(t),Lre(t))return 0;if(t<0)throw new pre("number",">= 0",t);return t}function Gre(t,e=void 0){return e!=null&&go(e,"options"),e?.signal!=null&&mo(e.signal,"options.signal"),t=nv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Jn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Jn;t--<=0&&(yield s)}}.call(this)}function Hre(t,e=void 0){return e!=null&&go(e,"options"),e?.signal!=null&&mo(e.signal,"options.signal"),t=nv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Jn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Jn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}q_.exports.streamReturningOperators={asIndexedPairs:gre(Pre,"readable.asIndexedPairs will be removed in a future version."),drop:Gre,filter:k_,flatMap:Fre,map:oh,take:Hre,compose:Dre};q_.exports.promiseReturningOperators={every:Mre,forEach:vre,reduce:Ure,toArray:Bre,some:rv,find:xre}});var X_=g((dMe,sv)=>{"use strict";var{ArrayPrototypePop:Wre,Promise:Yre}=ot(),{isIterable:$re,isNodeStream:Vre,isWebStream:kre}=Xn(),{pipelineImpl:qre}=rh(),{finished:Xre}=xi();K_();function Kre(...t){return new Yre((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!Vre(s)&&!$re(s)&&!kre(s)){let o=Wre(t);n=o.signal,i=o.end}qre(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}sv.exports={finished:Xre,pipeline:Kre}});var K_=g((hMe,hv)=>{"use strict";var{Buffer:zre}=require("buffer"),{ObjectDefineProperty:Bi,ObjectKeys:lv,ReflectApply:cv}=ot(),{promisify:{custom:uv}}=Pr(),{streamReturningOperators:ov,promiseReturningOperators:av}=iv(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Ev}}=_r(),jre=$_(),{setDefaultHighWaterMark:Jre,getDefaultHighWaterMark:Qre}=Eu(),{pipeline:fv}=rh(),{destroyer:Zre}=Ro(),dv=xi(),z_=X_(),Nu=Xn(),et=hv.exports=Gd().Stream;et.isDestroyed=Nu.isDestroyed;et.isDisturbed=Nu.isDisturbed;et.isErrored=Nu.isErrored;et.isReadable=Nu.isReadable;et.isWritable=Nu.isWritable;et.Readable=Tu();for(let t of lv(ov)){let r=function(...n){if(new.target)throw Ev();return et.Readable.from(cv(e,this,n))},e=ov[t];Bi(r,"name",{__proto__:null,value:e.name}),Bi(r,"length",{__proto__:null,value:e.length}),Bi(et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of lv(av)){let r=function(...n){if(new.target)throw Ev();return cv(e,this,n)},e=av[t];Bi(r,"name",{__proto__:null,value:e.name}),Bi(r,"length",{__proto__:null,value:e.length}),Bi(et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}et.Writable=Qd();et.Duplex=jn();et.Transform=w_();et.PassThrough=P_();et.pipeline=fv;var{addAbortSignal:ene}=uu();et.addAbortSignal=ene;et.finished=dv;et.destroy=Zre;et.compose=jre;et.setDefaultHighWaterMark=Jre;et.getDefaultHighWaterMark=Qre;Bi(et,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return z_}});Bi(fv,uv,{__proto__:null,enumerable:!0,get(){return z_.pipeline}});Bi(dv,uv,{__proto__:null,enumerable:!0,get(){return z_.finished}});et.Stream=et;et._isUint8Array=function(e){return e instanceof Uint8Array};et._uint8ArrayToBuffer=function(e){return zre.from(e.buffer,e.byteOffset,e.byteLength)}});var Tv=g((TMe,me)=>{"use strict";var vt=require("stream");if(vt&&process.env.READABLE_STREAM==="disable"){let t=vt.promises;me.exports._uint8ArrayToBuffer=vt._uint8ArrayToBuffer,me.exports._isUint8Array=vt._isUint8Array,me.exports.isDisturbed=vt.isDisturbed,me.exports.isErrored=vt.isErrored,me.exports.isReadable=vt.isReadable,me.exports.Readable=vt.Readable,me.exports.Writable=vt.Writable,me.exports.Duplex=vt.Duplex,me.exports.Transform=vt.Transform,me.exports.PassThrough=vt.PassThrough,me.exports.addAbortSignal=vt.addAbortSignal,me.exports.finished=vt.finished,me.exports.destroy=vt.destroy,me.exports.pipeline=vt.pipeline,me.exports.compose=vt.compose,Object.defineProperty(vt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),me.exports.Stream=vt.Stream}else{let t=K_(),e=X_(),r=t.Readable.destroy;me.exports=t.Readable,me.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,me.exports._isUint8Array=t._isUint8Array,me.exports.isDisturbed=t.isDisturbed,me.exports.isErrored=t.isErrored,me.exports.isReadable=t.isReadable,me.exports.Readable=t.Readable,me.exports.Writable=t.Writable,me.exports.Duplex=t.Duplex,me.exports.Transform=t.Transform,me.exports.PassThrough=t.PassThrough,me.exports.addAbortSignal=t.addAbortSignal,me.exports.finished=t.finished,me.exports.destroy=t.destroy,me.exports.destroy=r,me.exports.pipeline=t.pipeline,me.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),me.exports.Stream=t.Stream}me.exports.default=me.exports});var pv=g((SMe,Sv)=>{function tne(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}Sv.exports=tne});var Iv=g((pMe,_v)=>{var Rv=md(),rne=DA(),nne=PA(),Av=Rv?Rv.isConcatSpreadable:void 0;function ine(t){return nne(t)||rne(t)||!!(Av&&t&&t[Av])}_v.exports=ine});var ah=g((RMe,Ov)=>{var sne=pv(),one=Iv();function Nv(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=one),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?Nv(a,e-1,r,n,i):sne(i,a):n||(i[i.length]=a)}return i}Ov.exports=Nv});var gv=g((AMe,mv)=>{var ane=ah();function lne(t){var e=t==null?0:t.length;return e?ane(t,1):[]}mv.exports=lne});var Ou=g((_Me,Cv)=>{var cne=tu(),une=cne(Object,"create");Cv.exports=une});var Lv=g((IMe,yv)=>{var bv=Ou();function Ene(){this.__data__=bv?bv(null):{},this.size=0}yv.exports=Ene});var Dv=g((NMe,wv)=>{function fne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}wv.exports=fne});var Mv=g((OMe,Pv)=>{var dne=Ou(),hne="__lodash_hash_undefined__",Tne=Object.prototype,Sne=Tne.hasOwnProperty;function pne(t){var e=this.__data__;if(dne){var r=e[t];return r===hne?void 0:r}return Sne.call(e,t)?e[t]:void 0}Pv.exports=pne});var vv=g((mMe,xv)=>{var Rne=Ou(),Ane=Object.prototype,_ne=Ane.hasOwnProperty;function Ine(t){var e=this.__data__;return Rne?e[t]!==void 0:_ne.call(e,t)}xv.exports=Ine});var Bv=g((gMe,Uv)=>{var Nne=Ou(),One="__lodash_hash_undefined__";function mne(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Nne&&e===void 0?One:e,this}Uv.exports=mne});var Gv=g((CMe,Fv)=>{var gne=Lv(),Cne=Dv(),bne=Mv(),yne=vv(),Lne=Bv();function sl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}sl.prototype.clear=gne;sl.prototype.delete=Cne;sl.prototype.get=bne;sl.prototype.has=yne;sl.prototype.set=Lne;Fv.exports=sl});var Wv=g((bMe,Hv)=>{function wne(){this.__data__=[],this.size=0}Hv.exports=wne});var mu=g((yMe,Yv)=>{var Dne=Cd();function Pne(t,e){for(var r=t.length;r--;)if(Dne(t[r][0],e))return r;return-1}Yv.exports=Pne});var Vv=g((LMe,$v)=>{var Mne=mu(),xne=Array.prototype,vne=xne.splice;function Une(t){var e=this.__data__,r=Mne(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():vne.call(e,r,1),--this.size,!0}$v.exports=Une});var qv=g((wMe,kv)=>{var Bne=mu();function Fne(t){var e=this.__data__,r=Bne(e,t);return r<0?void 0:e[r][1]}kv.exports=Fne});var Kv=g((DMe,Xv)=>{var Gne=mu();function Hne(t){return Gne(this.__data__,t)>-1}Xv.exports=Hne});var jv=g((PMe,zv)=>{var Wne=mu();function Yne(t,e){var r=this.__data__,n=Wne(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}zv.exports=Yne});var Qv=g((MMe,Jv)=>{var $ne=Wv(),Vne=Vv(),kne=qv(),qne=Kv(),Xne=jv();function ol(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ol.prototype.clear=$ne;ol.prototype.delete=Vne;ol.prototype.get=kne;ol.prototype.has=qne;ol.prototype.set=Xne;Jv.exports=ol});var eU=g((xMe,Zv)=>{var Kne=tu(),zne=Ya(),jne=Kne(zne,"Map");Zv.exports=jne});var nU=g((vMe,rU)=>{var tU=Gv(),Jne=Qv(),Qne=eU();function Zne(){this.size=0,this.__data__={hash:new tU,map:new(Qne||Jne),string:new tU}}rU.exports=Zne});var sU=g((UMe,iU)=>{function eie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}iU.exports=eie});var gu=g((BMe,oU)=>{var tie=sU();function rie(t,e){var r=t.__data__;return tie(e)?r[typeof e=="string"?"string":"hash"]:r.map}oU.exports=rie});var lU=g((FMe,aU)=>{var nie=gu();function iie(t){var e=nie(this,t).delete(t);return this.size-=e?1:0,e}aU.exports=iie});var uU=g((GMe,cU)=>{var sie=gu();function oie(t){return sie(this,t).get(t)}cU.exports=oie});var fU=g((HMe,EU)=>{var aie=gu();function lie(t){return aie(this,t).has(t)}EU.exports=lie});var hU=g((WMe,dU)=>{var cie=gu();function uie(t,e){var r=cie(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}dU.exports=uie});var SU=g((YMe,TU)=>{var Eie=nU(),fie=lU(),die=uU(),hie=fU(),Tie=hU();function al(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}al.prototype.clear=Eie;al.prototype.delete=fie;al.prototype.get=die;al.prototype.has=hie;al.prototype.set=Tie;TU.exports=al});var RU=g(($Me,pU)=>{var Sie="__lodash_hash_undefined__";function pie(t){return this.__data__.set(t,Sie),this}pU.exports=pie});var _U=g((VMe,AU)=>{function Rie(t){return this.__data__.has(t)}AU.exports=Rie});var j_=g((kMe,IU)=>{var Aie=SU(),_ie=RU(),Iie=_U();function lh(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Aie;++e<r;)this.add(t[e])}lh.prototype.add=lh.prototype.push=_ie;lh.prototype.has=Iie;IU.exports=lh});var OU=g((qMe,NU)=>{function Nie(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}NU.exports=Nie});var gU=g((XMe,mU)=>{function Oie(t){return t!==t}mU.exports=Oie});var bU=g((KMe,CU)=>{function mie(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}CU.exports=mie});var LU=g((zMe,yU)=>{var gie=OU(),Cie=gU(),bie=bU();function yie(t,e,r){return e===e?bie(t,e,r):gie(t,Cie,r)}yU.exports=yie});var J_=g((jMe,wU)=>{var Lie=LU();function wie(t,e){var r=t==null?0:t.length;return!!r&&Lie(t,e,0)>-1}wU.exports=wie});var Q_=g((JMe,DU)=>{function Die(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}DU.exports=Die});var MU=g((QMe,PU)=>{function Pie(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}PU.exports=Pie});var Z_=g((ZMe,xU)=>{function Mie(t,e){return t.has(e)}xU.exports=Mie});var UU=g((exe,vU)=>{var xie=j_(),vie=J_(),Uie=Q_(),Bie=MU(),Fie=MA(),Gie=Z_(),Hie=200;function Wie(t,e,r,n){var i=-1,s=vie,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;r&&(e=Bie(e,Fie(r))),n?(s=Uie,o=!1):e.length>=Hie&&(s=Gie,o=!1,e=new xie(e));e:for(;++i<a;){var u=t[i],E=r==null?u:r(u);if(u=n||u!==0?u:0,o&&E===E){for(var d=c;d--;)if(e[d]===E)continue e;l.push(u)}else s(e,E,n)||l.push(u)}return l}vU.exports=Wie});var eI=g((txe,BU)=>{var Yie=bd(),$ie=$a();function Vie(t){return $ie(t)&&Yie(t)}BU.exports=Vie});var HU=g((rxe,GU)=>{var kie=UU(),qie=ah(),Xie=gd(),FU=eI(),Kie=Xie(function(t,e){return FU(t)?kie(t,qie(e,1,FU,!0)):[]});GU.exports=Kie});var YU=g((nxe,WU)=>{var zie=tu(),jie=Ya(),Jie=zie(jie,"Set");WU.exports=Jie});var VU=g((ixe,$U)=>{function Qie(){}$U.exports=Qie});var tI=g((sxe,kU)=>{function Zie(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}kU.exports=Zie});var XU=g((oxe,qU)=>{var rI=YU(),ese=VU(),tse=tI(),rse=1/0,nse=rI&&1/tse(new rI([,-0]))[1]==rse?function(t){return new rI(t)}:ese;qU.exports=nse});var zU=g((axe,KU)=>{var ise=j_(),sse=J_(),ose=Q_(),ase=Z_(),lse=XU(),cse=tI(),use=200;function Ese(t,e,r){var n=-1,i=sse,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=ose;else if(s>=use){var c=e?null:lse(t);if(c)return cse(c);o=!1,i=ase,l=new ise}else l=e?[]:a;e:for(;++n<s;){var u=t[n],E=e?e(u):u;if(u=r||u!==0?u:0,o&&E===E){for(var d=l.length;d--;)if(l[d]===E)continue e;e&&l.push(E),a.push(u)}else i(l,E,r)||(l!==a&&l.push(E),a.push(u))}return a}KU.exports=Ese});var JU=g((lxe,jU)=>{var fse=ah(),dse=gd(),hse=zU(),Tse=eI(),Sse=dse(function(t){return hse(fse(t,1,Tse,!0))});jU.exports=Sse});var ZU=g((cxe,QU)=>{function pse(t,e){return function(r){return t(e(r))}}QU.exports=pse});var tB=g((uxe,eB)=>{var Rse=ZU(),Ase=Rse(Object.getPrototypeOf,Object);eB.exports=Ase});var iB=g((Exe,nB)=>{var _se=Zc(),Ise=tB(),Nse=$a(),Ose="[object Object]",mse=Function.prototype,gse=Object.prototype,rB=mse.toString,Cse=gse.hasOwnProperty,bse=rB.call(Object);function yse(t){if(!Nse(t)||_se(t)!=Ose)return!1;var e=Ise(t);if(e===null)return!0;var r=Cse.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&rB.call(r)==bse}nB.exports=yse});var fB=g((fxe,EB)=>{var sB=HR();EB.exports=Dse;var oB="\0SLASH"+Math.random()+"\0",aB="\0OPEN"+Math.random()+"\0",iI="\0CLOSE"+Math.random()+"\0",lB="\0COMMA"+Math.random()+"\0",cB="\0PERIOD"+Math.random()+"\0";function nI(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Lse(t){return t.split("\\\\").join(oB).split("\\{").join(aB).split("\\}").join(iI).split("\\,").join(lB).split("\\.").join(cB)}function wse(t){return t.split(oB).join("\\").split(aB).join("{").split(iI).join("}").split(lB).join(",").split(cB).join(".")}function uB(t){if(!t)return[""];var e=[],r=sB("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=uB(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Dse(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Cu(Lse(t),!0).map(wse)):[]}function Pse(t){return"{"+t+"}"}function Mse(t){return/^-?0\d/.test(t)}function xse(t,e){return t<=e}function vse(t,e){return t>=e}function Cu(t,e){var r=[],n=sB("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Cu(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,E=n.body.indexOf(",")>=0;if(!u&&!E)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+iI+n.post,Cu(t)):[t];var d;if(u)d=n.body.split(/\.\./);else if(d=uB(n.body),d.length===1&&(d=Cu(d[0],!1).map(Pse),d.length===1))return s.map(function(P){return n.pre+d[0]+P});var f;if(u){var T=nI(d[0]),h=nI(d[1]),S=Math.max(d[0].length,d[1].length),p=d.length==3?Math.abs(nI(d[2])):1,I=xse,R=h<T;R&&(p*=-1,I=vse);var A=d.some(Mse);f=[];for(var O=T;I(O,h);O+=p){var L;if(c)L=String.fromCharCode(O),L==="\\"&&(L="");else if(L=String(O),A){var N=S-L.length;if(N>0){var D=new Array(N+1).join("0");O<0?L="-"+D+L.slice(1):L=D+L}}f.push(L)}}else{f=[];for(var y=0;y<d.length;y++)f.push.apply(f,Cu(d[y],!1))}for(var y=0;y<f.length;y++)for(var o=0;o<s.length;o++){var a=i+f[y]+s[o];(!e||u||a)&&r.push(a)}}return r}});var dB=g(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.assertValidPattern=void 0;var Use=1024*64,Bse=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Use)throw new TypeError("pattern is too long")};ch.assertValidPattern=Bse});var TB=g(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.parseClass=void 0;var Fse={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},bu=t=>t.replace(/[[\]\\-]/g,"\\$&"),Gse=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),hB=t=>t.join(""),Hse=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,E="";e:for(;s<t.length;){let h=t.charAt(s);if((h==="!"||h==="^")&&s===r+1){c=!0,s++;continue}if(h==="]"&&o&&!l){u=s+1;break}if(o=!0,h==="\\"&&!l){l=!0,s++;continue}if(h==="["&&!l){for(let[S,[p,I,R]]of Object.entries(Fse))if(t.startsWith(S,s)){if(E)return["$.",!1,t.length-r,!0];s+=S.length,R?i.push(p):n.push(p),a=a||I;continue e}}if(l=!1,E){h>E?n.push(bu(E)+"-"+bu(h)):h===E&&n.push(bu(h)),E="",s++;continue}if(t.startsWith("-]",s+1)){n.push(bu(h+"-")),s+=2;continue}if(t.startsWith("-",s+1)){E=h,s+=2;continue}n.push(bu(h)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let h=n[0].length===2?n[0].slice(-1):n[0];return[Gse(h),!1,u-r,!1]}let d="["+(c?"^":"")+hB(n)+"]",f="["+(c?"":"^")+hB(i)+"]";return[n.length&&i.length?"("+d+"|"+f+")":n.length?d:f,a,u-r,!0]};uh.parseClass=Hse});var fh=g(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.unescape=void 0;var Wse=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Eh.unescape=Wse});var aI=g(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.AST=void 0;var Yse=TB(),dh=fh(),$se=new Set(["!","?","+","*","@"]),SB=t=>$se.has(t),Vse="(?!(?:^|/)\\.\\.?(?:$|/))",hh="(?!\\.)",kse=new Set(["[","."]),qse=new Set(["..","."]),Xse=new Set("().*{}+?[]^$\\!"),Kse=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),oI="[^/]",pB=oI+"*?",RB=oI+"+?",sI=class t{type;#e;#t;#s=!1;#n=[];#o;#_;#c;#E=!1;#a;#l;#i=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#o=r,this.#e=this.#o?this.#o.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#c=this.#e===this?[]:this.#e.#c,e==="!"&&!this.#e.#E&&this.#c.push(this),this.#_=this.#o?this.#o.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#S(){if(this!==this.#e)throw new Error("should only call on root");if(this.#E)return this;this.toString(),this.#E=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let r=e,n=r.#o;for(;n;){for(let i=r.#_+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#o}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#o===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#E&&this.#o?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#o?.isStart())return!1;if(this.#_===0)return!0;let e=this.#o;for(let r=0;r<this.#_;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let e=this.#o?this.#o.#n.length:0;return this.#_===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#p(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let f=n,T="";for(;f<e.length;){let h=e.charAt(f++);if(s||h==="\\"){s=!s,T+=h;continue}if(o){f===a+1?(h==="^"||h==="!")&&(l=!0):h==="]"&&!(f===a+2&&l)&&(o=!1),T+=h;continue}else if(h==="["){o=!0,a=f,l=!1,T+=h;continue}if(!i.noext&&SB(h)&&e.charAt(f)==="("){r.push(T),T="";let S=new t(h,r);f=t.#p(e,S,f,i),r.push(S);continue}T+=h}return r.push(T),f}let c=n+1,u=new t(null,r),E=[],d="";for(;c<e.length;){let f=e.charAt(c++);if(s||f==="\\"){s=!s,d+=f;continue}if(o){c===a+1?(f==="^"||f==="!")&&(l=!0):f==="]"&&!(c===a+2&&l)&&(o=!1),d+=f;continue}else if(f==="["){o=!0,a=c,l=!1,d+=f;continue}if(SB(f)&&e.charAt(c)==="("){u.push(d),d="";let T=new t(f,u);u.push(T),c=t.#p(e,T,c,i);continue}if(f==="|"){u.push(d),d="",E.push(u),u=new t(null,r);continue}if(f===")")return d===""&&r.#n.length===0&&(r.#i=!0),u.push(d),d="",r.push(...E,u),c;d+=f}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],c}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#p(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#a}toRegExpSource(e){let r=e??!!this.#a.dot;if(this.#e===this&&this.#S(),!this.type){let l=this.isStart()&&this.isEnd(),c=this.#n.map(f=>{let[T,h,S,p]=typeof f=="string"?t.#f(f,this.#t,l):f.toRegExpSource(e);return this.#t=this.#t||S,this.#s=this.#s||p,T}).join(""),u="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&qse.has(this.#n[0]))){let T=kse,h=r&&T.has(c.charAt(0))||c.startsWith("\\.")&&T.has(c.charAt(2))||c.startsWith("\\.\\.")&&T.has(c.charAt(4)),S=!r&&!e&&T.has(c.charAt(0));u=h?Vse:S?hh:""}let E="";return this.isEnd()&&this.#e.#E&&this.#o?.type==="!"&&(E="(?:$|\\/)"),[u+c+E,(0,dh.unescape)(c),this.#t=!!this.#t,this.#s]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,(0,dh.unescape)(this.toString()),!1,!1]}let o=!n||e||r||!hh?"":this.#d(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#i)a=(this.isStart()&&!r?hh:"")+RB;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?hh:"")+pB+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+l}return[a,(0,dh.unescape)(s),this.#t=!!this.#t,this.#s]}#d(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#f(e,r,n=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(i){i=!1,s+=(Xse.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[c,u,E,d]=(0,Yse.parseClass)(e,a);if(E){s+=c,o=o||u,a+=E-1,r=r||d;continue}}if(l==="*"){n&&e==="*"?s+=RB:s+=pB,r=!0;continue}if(l==="?"){s+=oI,r=!0;continue}s+=Kse(l)}return[s,(0,dh.unescape)(e),!!r,o]}};Th.AST=sI});var lI=g(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.escape=void 0;var zse=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");Sh.escape=zse});var Cs=g(J=>{"use strict";var jse=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J,"__esModule",{value:!0});J.unescape=J.escape=J.AST=J.Minimatch=J.match=J.makeRe=J.braceExpand=J.defaults=J.filter=J.GLOBSTAR=J.sep=J.minimatch=void 0;var Jse=jse(fB()),ph=dB(),IB=aI(),Qse=lI(),Zse=fh(),eoe=(t,e,r={})=>((0,ph.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Co(e,r).match(t));J.minimatch=eoe;var toe=/^\*+([^+@!?\*\[\(]*)$/,roe=t=>e=>!e.startsWith(".")&&e.endsWith(t),noe=t=>e=>e.endsWith(t),ioe=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),soe=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),ooe=/^\*+\.\*+$/,aoe=t=>!t.startsWith(".")&&t.includes("."),loe=t=>t!=="."&&t!==".."&&t.includes("."),coe=/^\.\*+$/,uoe=t=>t!=="."&&t!==".."&&t.startsWith("."),Eoe=/^\*+$/,foe=t=>t.length!==0&&!t.startsWith("."),doe=t=>t.length!==0&&t!=="."&&t!=="..",hoe=/^\?+([^+@!?\*\[\(]*)?$/,Toe=([t,e=""])=>{let r=NB([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Soe=([t,e=""])=>{let r=OB([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},poe=([t,e=""])=>{let r=OB([t]);return e?n=>r(n)&&n.endsWith(e):r},Roe=([t,e=""])=>{let r=NB([t]);return e?n=>r(n)&&n.endsWith(e):r},NB=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},OB=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},mB=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",AB={win32:{sep:"\\"},posix:{sep:"/"}};J.sep=mB==="win32"?AB.win32.sep:AB.posix.sep;J.minimatch.sep=J.sep;J.GLOBSTAR=Symbol("globstar **");J.minimatch.GLOBSTAR=J.GLOBSTAR;var Aoe="[^/]",_oe=Aoe+"*?",Ioe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Noe="(?:(?!(?:\\/|^)\\.).)*?",Ooe=(t,e={})=>r=>(0,J.minimatch)(r,t,e);J.filter=Ooe;J.minimatch.filter=J.filter;var un=(t,e={})=>Object.assign({},t,e),moe=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return J.minimatch;let e=J.minimatch;return Object.assign((n,i,s={})=>e(n,i,un(t,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,un(t,s))}static defaults(i){return e.defaults(un(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,un(t,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,un(t,s))}},unescape:(n,i={})=>e.unescape(n,un(t,i)),escape:(n,i={})=>e.escape(n,un(t,i)),filter:(n,i={})=>e.filter(n,un(t,i)),defaults:n=>e.defaults(un(t,n)),makeRe:(n,i={})=>e.makeRe(n,un(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,un(t,i)),match:(n,i,s={})=>e.match(n,i,un(t,s)),sep:e.sep,GLOBSTAR:J.GLOBSTAR})};J.defaults=moe;J.minimatch.defaults=J.defaults;var goe=(t,e={})=>((0,ph.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,Jse.default)(t));J.braceExpand=goe;J.minimatch.braceExpand=J.braceExpand;var Coe=(t,e={})=>new Co(t,e).makeRe();J.makeRe=Coe;J.minimatch.makeRe=J.makeRe;var boe=(t,e,r={})=>{let n=new Co(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};J.match=boe;J.minimatch.match=J.match;var _B=/[?*]|[+@!]\(.*?\)|\[|\]/,yoe=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Co=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,ph.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||mB,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!_B.test(s[2]))&&!_B.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let o=i;for(;n[o+1]==="**";)o++;o>i&&n.splice(i+1,o-i);let a=n[i+1],l=n[i+2],c=n[i+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",e.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let a=n[o];o===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let o=n[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])o.push(a==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])o.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])o.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),i++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let h=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),S=!h&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),p=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),I=!p&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),R=S?3:h?0:void 0,A=I?3:p?0:void 0;if(typeof R=="number"&&typeof A=="number"){let[O,L]=[e[R],r[A]];O.toLowerCase()===L.toLowerCase()&&(r[A]=O,A>R?r=r.slice(A):R>A&&(e=e.slice(R)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],E=e[o];if(this.debug(r,u,E),u===!1)return!1;if(u===J.GLOBSTAR){this.debug("GLOBSTAR",[r,u,E]);var d=o,f=a+1;if(f===c){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;d<l;){var T=e[d];if(this.debug(`
globstar while`,e,d,r,f,T),this.matchOne(e.slice(d),r.slice(f),n))return this.debug("globstar found match!",d,l,T),!0;if(T==="."||T===".."||!i.dot&&T.charAt(0)==="."){this.debug("dot detected!",e,d,r,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,f),d===l))}let h;if(typeof u=="string"?(h=E===u,this.debug("string match",u,E,h)):(h=u.test(E),this.debug("pattern match",u,E,h)),!h)return!1}if(o===l&&a===c)return!0;if(o===l)return n;if(a===c)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,J.braceExpand)(this.pattern,this.options)}parse(e){(0,ph.assertValidPattern)(e);let r=this.options;if(e==="**")return J.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(Eoe))?i=r.dot?doe:foe:(n=e.match(toe))?i=(r.nocase?r.dot?soe:ioe:r.dot?noe:roe)(n[1]):(n=e.match(hoe))?i=(r.nocase?r.dot?Soe:Toe:r.dot?poe:Roe)(n):(n=e.match(ooe))?i=r.dot?loe:aoe:(n=e.match(coe))&&(i=uoe);let s=IB.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?_oe:r.dot?Ioe:Noe,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let E of u.flags.split(""))i.add(E);return typeof u=="string"?yoe(u):u===J.GLOBSTAR?J.GLOBSTAR:u._src});return c.forEach((u,E)=>{let d=c[E+1],f=c[E-1];u!==J.GLOBSTAR||f===J.GLOBSTAR||(f===void 0?d!==void 0&&d!==J.GLOBSTAR?c[E+1]="(?:\\/|"+n+"\\/)?"+d:c[E]=n:d===void 0?c[E-1]=f+"(?:\\/|"+n+")?":d!==J.GLOBSTAR&&(c[E-1]=f+"(?:\\/|\\/"+n+"\\/)"+d,c[E+1]=J.GLOBSTAR))}),c.filter(u=>u!==J.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let l=s[a],c=i;if(n.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return J.minimatch.defaults(e).Minimatch}};J.Minimatch=Co;var Loe=aI();Object.defineProperty(J,"AST",{enumerable:!0,get:function(){return Loe.AST}});var woe=lI();Object.defineProperty(J,"escape",{enumerable:!0,get:function(){return woe.escape}});var Doe=fh();Object.defineProperty(J,"unescape",{enumerable:!0,get:function(){return Doe.unescape}});J.minimatch.AST=IB.AST;J.minimatch.Minimatch=Co;J.minimatch.escape=Qse.escape;J.minimatch.unescape=Zse.unescape});var LB=g(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.LRUCache=void 0;var ll=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,CB=new Set,cI=typeof process=="object"&&process?process:{},bB=(t,e,r,n)=>{typeof cI.emitWarning=="function"?cI.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},Rh=globalThis.AbortController,gB=globalThis.AbortSignal;if(typeof Rh>"u"){gB=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},Rh=class{constructor(){e()}signal=new gB;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=cI.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,bB("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var Poe=t=>!CB.has(t),bs=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),yB=t=>bs(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?cl:null:null,cl=class extends Array{constructor(e){super(e),this.fill(0)}},uI=class t{heap;length;static#e=!1;static create(e){let r=yB(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},EI=class t{#e;#t;#s;#n;#o;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#E;#a;#l;#i;#S;#p;#d;#f;#O;#T;#m;#g;#A;#I;#N;#h;static unsafeExposeInternals(e){return{starts:e.#g,ttls:e.#A,sizes:e.#m,keyMap:e.#a,keyList:e.#l,valList:e.#i,next:e.#S,prev:e.#p,get head(){return e.#d},get tail(){return e.#f},free:e.#O,isBackgroundFetch:r=>e.#u(r),backgroundFetch:(r,n,i,s)=>e.#F(r,n,i,s),moveToTail:r=>e.#H(r),indexes:r=>e.#b(r),rindexes:r=>e.#y(r),isStale:r=>e.#R(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#E}get size(){return this.#c}get fetchMethod(){return this.#o}get memoMethod(){return this.#_}get dispose(){return this.#s}get disposeAfter(){return this.#n}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:E,noUpdateTTL:d,maxSize:f=0,maxEntrySize:T=0,sizeCalculation:h,fetchMethod:S,memoMethod:p,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:R,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:O,ignoreFetchAbort:L}=e;if(r!==0&&!bs(r))throw new TypeError("max option must be a nonnegative integer");let N=r?yB(r):Array;if(!N)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=f,this.maxEntrySize=T||this.#t,this.sizeCalculation=h,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(p!==void 0&&typeof p!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#_=p,S!==void 0&&typeof S!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=S,this.#N=!!S,this.#a=new Map,this.#l=new Array(r).fill(void 0),this.#i=new Array(r).fill(void 0),this.#S=new N(r),this.#p=new N(r),this.#d=0,this.#f=0,this.#O=uI.create(r),this.#c=0,this.#E=0,typeof c=="function"&&(this.#s=c),typeof u=="function"?(this.#n=u,this.#T=[]):(this.#n=void 0,this.#T=void 0),this.#I=!!this.#s,this.#h=!!this.#n,this.noDisposeOnSet=!!E,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!I,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!O,this.ignoreFetchAbort=!!L,this.maxEntrySize!==0){if(this.#t!==0&&!bs(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!bs(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#w()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!R,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=bs(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!bs(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#L()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let D="LRU_CACHE_UNBOUNDED";Poe(D)&&(CB.add(D),bB("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#L(){let e=new cl(this.#e),r=new cl(this.#e);this.#A=e,this.#g=r,this.#P=(s,o,a=ll.now())=>{if(r[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#R(s)&&this.#D(this.#l[s],"expire")},o+1);l.unref&&l.unref()}},this.#C=s=>{r[s]=e[s]!==0?ll.now():0},this.#r=(s,o)=>{if(e[o]){let a=e[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=n||i();let c=s.now-l;s.remainingTTL=a-c}};let n=0,i=()=>{let s=ll.now();if(this.ttlResolution>0){n=s;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#a.get(s);if(o===void 0)return 0;let a=e[o],l=r[o];if(!a||!l)return 1/0;let c=(n||i())-l;return a-c},this.#R=s=>{let o=r[s],a=e[s];return!!a&&!!o&&(n||i())-o>a}}#C=()=>{};#r=()=>{};#P=()=>{};#R=()=>!1;#w(){let e=new cl(this.#e);this.#E=0,this.#m=e,this.#M=r=>{this.#E-=e[r],e[r]=0},this.#v=(r,n,i,s)=>{if(this.#u(n))return 0;if(!bs(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!bs(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#x=(r,n,i)=>{if(e[r]=n,this.#t){let s=this.#t-e[r];for(;this.#E>s;)this.#B(!0)}this.#E+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#E)}}#M=e=>{};#x=(e,r,n)=>{};#v=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#b({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#f;!(!this.#U(r)||((e||!this.#R(r))&&(yield r),r===this.#d));)r=this.#p[r]}*#y({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#d;!(!this.#U(r)||((e||!this.#R(r))&&(yield r),r===this.#f));)r=this.#S[r]}#U(e){return e!==void 0&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#b())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*rentries(){for(let e of this.#y())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*keys(){for(let e of this.#b()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*rkeys(){for(let e of this.#y()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*values(){for(let e of this.#b())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}*rvalues(){for(let e of this.#y())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#b()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.#l[n],this))return this.get(this.#l[n],r)}}forEach(e,r=this){for(let n of this.#b()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}rforEach(e,r=this){for(let n of this.#y()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}purgeStale(){let e=!1;for(let r of this.#y({allowStale:!0}))this.#R(r)&&(this.#D(this.#l[r],"expire"),e=!0);return e}info(e){let r=this.#a.get(e);if(r===void 0)return;let n=this.#i[r],i=this.#u(n)?n.__staleWhileFetching:n;if(i===void 0)return;let s={value:i};if(this.#A&&this.#g){let o=this.#A[r],a=this.#g[r];if(o&&a){let l=o-(ll.now()-a);s.ttl=l,s.start=Date.now()}}return this.#m&&(s.size=this.#m[r]),s}dump(){let e=[];for(let r of this.#b({allowStale:!0})){let n=this.#l[r],i=this.#i[r],s=this.#u(i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;let o={value:s};if(this.#A&&this.#g){o.ttl=this.#A[r];let a=ll.now()-this.#g[r];o.start=Math.floor(Date.now()-a)}this.#m&&(o.size=this.#m[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=ll.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n,{noUpdateTTL:c=this.noUpdateTTL}=n,u=this.#v(e,r,n.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let E=this.#c===0?void 0:this.#a.get(e);if(E===void 0)E=this.#c===0?this.#f:this.#O.length!==0?this.#O.pop():this.#c===this.#e?this.#B(!1):this.#c,this.#l[E]=e,this.#i[E]=r,this.#a.set(e,E),this.#S[this.#f]=E,this.#p[E]=this.#f,this.#f=E,this.#c++,this.#x(E,u,l),l&&(l.set="add"),c=!1;else{this.#H(E);let d=this.#i[E];if(r!==d){if(this.#N&&this.#u(d)){d.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:f}=d;f!==void 0&&!o&&(this.#I&&this.#s?.(f,e,"set"),this.#h&&this.#T?.push([f,e,"set"]))}else o||(this.#I&&this.#s?.(d,e,"set"),this.#h&&this.#T?.push([d,e,"set"]));if(this.#M(E),this.#x(E,u,l),this.#i[E]=r,l){l.set="replace";let f=d&&this.#u(d)?d.__staleWhileFetching:d;f!==void 0&&(l.oldValue=f)}}else l&&(l.set="update")}if(i!==0&&!this.#A&&this.#L(),this.#A&&(c||this.#P(E,i,s),l&&this.#r(l,E)),!o&&this.#h&&this.#T){let d=this.#T,f;for(;f=d?.shift();)this.#n?.(...f)}return this}pop(){try{for(;this.#c;){let e=this.#i[this.#d];if(this.#B(!0),this.#u(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#h&&this.#T){let e=this.#T,r;for(;r=e?.shift();)this.#n?.(...r)}}}#B(e){let r=this.#d,n=this.#l[r],i=this.#i[r];return this.#N&&this.#u(i)?i.__abortController.abort(new Error("evicted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(i,n,"evict"),this.#h&&this.#T?.push([i,n,"evict"])),this.#M(r),e&&(this.#l[r]=void 0,this.#i[r]=void 0,this.#O.push(r)),this.#c===1?(this.#d=this.#f=0,this.#O.length=0):this.#d=this.#S[r],this.#a.delete(n),this.#c--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=this.#a.get(e);if(s!==void 0){let o=this.#i[s];if(this.#u(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#R(s))i&&(i.has="stale",this.#r(i,s));else return n&&this.#C(s),i&&(i.has="hit",this.#r(i,s)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i===void 0||!n&&this.#R(i))return;let s=this.#i[i];return this.#u(s)?s.__staleWhileFetching:s}#F(e,r,n,i){let s=r===void 0?void 0:this.#i[r];if(this.#u(s))return s;let o=new Rh,{signal:a}=n;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:n,context:i},c=(h,S=!1)=>{let{aborted:p}=o.signal,I=n.ignoreFetchAbort&&h!==void 0;if(n.status&&(p&&!S?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,I&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),p&&!I&&!S)return E(o.signal.reason);let R=f;return this.#i[r]===f&&(h===void 0?R.__staleWhileFetching?this.#i[r]=R.__staleWhileFetching:this.#D(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,h,l.options))),h},u=h=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=h),E(h)),E=h=>{let{aborted:S}=o.signal,p=S&&n.allowStaleOnFetchAbort,I=p||n.allowStaleOnFetchRejection,R=I||n.noDeleteOnFetchRejection,A=f;if(this.#i[r]===f&&(!R||A.__staleWhileFetching===void 0?this.#D(e,"fetch"):p||(this.#i[r]=A.__staleWhileFetching)),I)return n.status&&A.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),A.__staleWhileFetching;if(A.__returned===A)throw h},d=(h,S)=>{let p=this.#o?.(e,s,l);p&&p instanceof Promise&&p.then(I=>h(I===void 0?void 0:I),S),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(h(void 0),n.allowStaleOnFetchAbort&&(h=I=>c(I,!0)))})};n.status&&(n.status.fetchDispatched=!0);let f=new Promise(d).then(c,u),T=Object.assign(f,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,T,{...l.options,status:void 0}),r=this.#a.get(e)):this.#i[r]=T,T}#u(e){if(!this.#N)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Rh}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:E=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:T=this.allowStaleOnFetchAbort,context:h,forceRefresh:S=!1,status:p,signal:I}=r;if(!this.#N)return p&&(p.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:p});let R={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:E,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:T,ignoreFetchAbort:f,status:p,signal:I},A=this.#a.get(e);if(A===void 0){p&&(p.fetch="miss");let O=this.#F(e,A,R,h);return O.__returned=O}else{let O=this.#i[A];if(this.#u(O)){let P=n&&O.__staleWhileFetching!==void 0;return p&&(p.fetch="inflight",P&&(p.returnedStale=!0)),P?O.__staleWhileFetching:O.__returned=O}let L=this.#R(A);if(!S&&!L)return p&&(p.fetch="hit"),this.#H(A),i&&this.#C(A),p&&this.#r(p,A),O;let N=this.#F(e,A,R,h),y=N.__staleWhileFetching!==void 0&&n;return p&&(p.fetch=L?"stale":"refresh",y&&L&&(p.returnedStale=!0)),y?N.__staleWhileFetching:N.__returned=N}}async forceFetch(e,r={}){let n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){let n=this.#_;if(!n)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:s,...o}=r,a=this.get(e,o);if(!s&&a!==void 0)return a;let l=n(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#a.get(e);if(a!==void 0){let l=this.#i[a],c=this.#u(l);return o&&this.#r(o,a),this.#R(a)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(this.#H(a),i&&this.#C(a),l))}else o&&(o.get="miss")}#G(e,r){this.#p[r]=e,this.#S[e]=r}#H(e){e!==this.#f&&(e===this.#d?this.#d=this.#S[e]:this.#G(this.#p[e],this.#S[e]),this.#G(this.#f,e),this.#f=e)}delete(e){return this.#D(e,"delete")}#D(e,r){let n=!1;if(this.#c!==0){let i=this.#a.get(e);if(i!==void 0)if(n=!0,this.#c===1)this.#W(r);else{this.#M(i);let s=this.#i[i];if(this.#u(s)?s.__abortController.abort(new Error("deleted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(s,e,r),this.#h&&this.#T?.push([s,e,r])),this.#a.delete(e),this.#l[i]=void 0,this.#i[i]=void 0,i===this.#f)this.#f=this.#p[i];else if(i===this.#d)this.#d=this.#S[i];else{let o=this.#p[i];this.#S[o]=this.#S[i];let a=this.#S[i];this.#p[a]=this.#p[i]}this.#c--,this.#O.push(i)}}if(this.#h&&this.#T?.length){let i=this.#T,s;for(;s=i?.shift();)this.#n?.(...s)}return n}clear(){return this.#W("delete")}#W(e){for(let r of this.#y({allowStale:!0})){let n=this.#i[r];if(this.#u(n))n.__abortController.abort(new Error("deleted"));else{let i=this.#l[r];this.#I&&this.#s?.(n,i,e),this.#h&&this.#T?.push([n,i,e])}}if(this.#a.clear(),this.#i.fill(void 0),this.#l.fill(void 0),this.#A&&this.#g&&(this.#A.fill(0),this.#g.fill(0)),this.#m&&this.#m.fill(0),this.#d=0,this.#f=0,this.#O.length=0,this.#E=0,this.#c=0,this.#h&&this.#T){let r=this.#T,n;for(;n=r?.shift();)this.#n?.(...n)}}};Ah.LRUCache=EI});var HB=g(GB=>{"use strict";var wB=typeof process=="object"&&process?process:{stdout:null,stderr:null},Moe=require("events"),DB=require("stream"),xoe=require("string_decoder"),PB=xoe.StringDecoder,Fi=Symbol("EOF"),Gi=Symbol("maybeEmitEnd"),ys=Symbol("emittedEnd"),_h=Symbol("emittingEnd"),yu=Symbol("emittedError"),Ih=Symbol("closed"),MB=Symbol("read"),Nh=Symbol("flush"),xB=Symbol("flushChunk"),$r=Symbol("encoding"),Hi=Symbol("decoder"),Oh=Symbol("flowing"),Lu=Symbol("paused"),ul=Symbol("resume"),Ct=Symbol("buffer"),Qn=Symbol("pipes"),zt=Symbol("bufferLength"),fI=Symbol("bufferPush"),dI=Symbol("bufferShift"),cr=Symbol("objectMode"),bt=Symbol("destroyed"),hI=Symbol("error"),TI=Symbol("emitData"),vB=Symbol("emitEnd"),SI=Symbol("emitEnd2"),Wi=Symbol("async"),pI=Symbol("abort"),mh=Symbol("aborted"),bo=Symbol("signal"),wu=t=>Promise.resolve().then(t),FB=global._MP_NO_ITERATOR_SYMBOLS_!=="1",UB=FB&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),BB=FB&&Symbol.iterator||Symbol("iterator not implemented"),voe=t=>t==="end"||t==="finish"||t==="prefinish",Uoe=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,Boe=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),gh=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[ul](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},RI=class extends gh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},AI=class t extends DB{constructor(e){super(),this[Oh]=!1,this[Lu]=!1,this[Qn]=[],this[Ct]=[],this[cr]=e&&e.objectMode||!1,this[cr]?this[$r]=null:this[$r]=e&&e.encoding||null,this[$r]==="buffer"&&(this[$r]=null),this[Wi]=e&&!!e.async||!1,this[Hi]=this[$r]?new PB(this[$r]):null,this[Fi]=!1,this[ys]=!1,this[_h]=!1,this[Ih]=!1,this[yu]=null,this.writable=!0,this.readable=!0,this[zt]=0,this[bt]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Ct]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Qn]}),this[bo]=e&&e.signal,this[mh]=!1,this[bo]&&(this[bo].addEventListener("abort",()=>this[pI]()),this[bo].aborted&&this[pI]())}get bufferLength(){return this[zt]}get encoding(){return this[$r]}set encoding(e){if(this[cr])throw new Error("cannot set encoding in objectMode");if(this[$r]&&e!==this[$r]&&(this[Hi]&&this[Hi].lastNeed||this[zt]))throw new Error("cannot change encoding");this[$r]!==e&&(this[Hi]=e?new PB(e):null,this[Ct].length&&(this[Ct]=this[Ct].map(r=>this[Hi].write(r)))),this[$r]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[cr]}set objectMode(e){this[cr]=this[cr]||!!e}get async(){return this[Wi]}set async(e){this[Wi]=this[Wi]||!!e}[pI](){this[mh]=!0,this.emit("abort",this[bo].reason),this.destroy(this[bo].reason)}get aborted(){return this[mh]}set aborted(e){}write(e,r,n){if(this[mh])return!1;if(this[Fi])throw new Error("write after end");if(this[bt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Wi]?wu:s=>s();return!this[cr]&&!Buffer.isBuffer(e)&&(Boe(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Uoe(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[cr]?(this.flowing&&this[zt]!==0&&this[Nh](!0),this.flowing?this.emit("data",e):this[fI](e),this[zt]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[$r]&&!this[Hi].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[$r]&&(e=this[Hi].write(e)),this.flowing&&this[zt]!==0&&this[Nh](!0),this.flowing?this.emit("data",e):this[fI](e),this[zt]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[zt]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[bt])return null;if(this[zt]===0||e===0||e>this[zt])return this[Gi](),null;this[cr]&&(e=null),this[Ct].length>1&&!this[cr]&&(this.encoding?this[Ct]=[this[Ct].join("")]:this[Ct]=[Buffer.concat(this[Ct],this[zt])]);let r=this[MB](e||null,this[Ct][0]);return this[Gi](),r}[MB](e,r){return e===r.length||e===null?this[dI]():(this[Ct][0]=r.slice(e),r=r.slice(0,e),this[zt]-=e),this.emit("data",r),!this[Ct].length&&!this[Fi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[Fi]=!0,this.writable=!1,(this.flowing||!this[Lu])&&this[Gi](),this}[ul](){this[bt]||(this[Lu]=!1,this[Oh]=!0,this.emit("resume"),this[Ct].length?this[Nh]():this[Fi]?this[Gi]():this.emit("drain"))}resume(){return this[ul]()}pause(){this[Oh]=!1,this[Lu]=!0}get destroyed(){return this[bt]}get flowing(){return this[Oh]}get paused(){return this[Lu]}[fI](e){this[cr]?this[zt]+=1:this[zt]+=e.length,this[Ct].push(e)}[dI](){return this[cr]?this[zt]-=1:this[zt]-=this[Ct][0].length,this[Ct].shift()}[Nh](e){do;while(this[xB](this[dI]())&&this[Ct].length);!e&&!this[Ct].length&&!this[Fi]&&this.emit("drain")}[xB](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[bt])return;let n=this[ys];return r=r||{},e===wB.stdout||e===wB.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Qn].push(r.proxyErrors?new RI(this,e,r):new gh(this,e,r)),this[Wi]?wu(()=>this[ul]()):this[ul]()),e}unpipe(e){let r=this[Qn].find(n=>n.dest===e);r&&(this[Qn].splice(this[Qn].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[Qn].length&&!this.flowing?this[ul]():e==="readable"&&this[zt]!==0?super.emit("readable"):voe(e)&&this[ys]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[yu]&&(this[Wi]?wu(()=>r.call(this,this[yu])):r.call(this,this[yu])),n}get emittedEnd(){return this[ys]}[Gi](){!this[_h]&&!this[ys]&&!this[bt]&&this[Ct].length===0&&this[Fi]&&(this[_h]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Ih]&&this.emit("close"),this[_h]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==bt&&this[bt])return;if(e==="data")return!this[cr]&&!r?!1:this[Wi]?wu(()=>this[TI](r)):this[TI](r);if(e==="end")return this[vB]();if(e==="close"){if(this[Ih]=!0,!this[ys]&&!this[bt])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[yu]=r,super.emit(hI,r);let s=!this[bo]||this.listeners("error").length?super.emit("error",r):!1;return this[Gi](),s}else if(e==="resume"){let s=super.emit("resume");return this[Gi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[Gi](),i}[TI](e){for(let n of this[Qn])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[Gi](),r}[vB](){this[ys]||(this[ys]=!0,this.readable=!1,this[Wi]?wu(()=>this[SI]()):this[SI]())}[SI](){if(this[Hi]){let r=this[Hi].end();if(r){for(let n of this[Qn])n.dest.write(r);super.emit("data",r)}}for(let r of this[Qn])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[cr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[cr]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[cr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[cr]?Promise.reject(new Error("cannot concat in objectMode")):this[$r]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(bt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[UB](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Fi])return r();let s=null,o=null,a=E=>{this.removeListener("data",l),this.removeListener("end",c),this.removeListener(bt,u),r(),o(E)},l=E=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(bt,u),this.pause(),s({value:E,done:!!this[Fi]})},c=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(bt,u),r(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((E,d)=>{o=d,s=E,this.once(bt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[UB](){return this}}}[BB](){let e=!1,r=()=>(this.pause(),this.removeListener(hI,r),this.removeListener(bt,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(hI,r),this.once(bt,r),{next:n,throw:r,return:r,[BB](){return this}}}destroy(e){return this[bt]?(e?this.emit("error",e):this.emit(bt),this):(this[bt]=!0,this[Ct].length=0,this[zt]=0,typeof this.close=="function"&&!this[Ih]&&this.close(),e?this.emit("error",e):this.emit(bt),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof DB||e instanceof Moe&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};GB.Minipass=AI});var tF=g(ke=>{"use strict";var Foe=ke&&ke.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Goe=ke&&ke.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),Hoe=ke&&ke.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Foe(e,t,r);return Goe(e,t),e};Object.defineProperty(ke,"__esModule",{value:!0});ke.PathScurry=ke.Path=ke.PathScurryDarwin=ke.PathScurryPosix=ke.PathScurryWin32=ke.PathScurryBase=ke.PathPosix=ke.PathWin32=ke.PathBase=ke.ChildrenCache=ke.ResolveCache=void 0;var qB=LB(),wh=require("node:path"),Woe=require("node:url"),Pu=require("fs"),Yoe=Hoe(require("node:fs")),$oe=Pu.realpathSync.native,Ch=require("node:fs/promises"),WB=HB(),Mu={lstatSync:Pu.lstatSync,readdir:Pu.readdir,readdirSync:Pu.readdirSync,readlinkSync:Pu.readlinkSync,realpathSync:$oe,promises:{lstat:Ch.lstat,readdir:Ch.readdir,readlink:Ch.readlink,realpath:Ch.realpath}},XB=t=>!t||t===Mu||t===Yoe?Mu:{...Mu,...t,promises:{...Mu.promises,...t.promises||{}}},KB=/^\\\\\?\\([a-z]:)\\?$/i,Voe=t=>t.replace(/\//g,"\\").replace(KB,"$1\\"),koe=/[\\\/]/,fn=0,zB=1,jB=2,Zn=4,JB=6,QB=8,yo=10,ZB=12,En=15,Du=~En,_I=16,YB=32,xu=64,yn=128,bh=256,Lh=512,$B=xu|yn|Lh,qoe=1023,II=t=>t.isFile()?QB:t.isDirectory()?Zn:t.isSymbolicLink()?yo:t.isCharacterDevice()?jB:t.isBlockDevice()?JB:t.isSocket()?ZB:t.isFIFO()?zB:fn,VB=new Map,vu=t=>{let e=VB.get(t);if(e)return e;let r=t.normalize("NFKD");return VB.set(t,r),r},kB=new Map,yh=t=>{let e=kB.get(t);if(e)return e;let r=vu(t.toLowerCase());return kB.set(t,r),r},Uu=class extends qB.LRUCache{constructor(){super({max:256})}};ke.ResolveCache=Uu;var Dh=class extends qB.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}};ke.ChildrenCache=Dh;var eF=Symbol("PathScurry setAsCwd"),ur=class{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#s;get mode(){return this.#s}#n;get nlink(){return this.#n}#o;get uid(){return this.#o}#_;get gid(){return this.#_}#c;get rdev(){return this.#c}#E;get blksize(){return this.#E}#a;get ino(){return this.#a}#l;get size(){return this.#l}#i;get blocks(){return this.#i}#S;get atimeMs(){return this.#S}#p;get mtimeMs(){return this.#p}#d;get ctimeMs(){return this.#d}#f;get birthtimeMs(){return this.#f}#O;get atime(){return this.#O}#T;get mtime(){return this.#T}#m;get ctime(){return this.#m}#g;get birthtime(){return this.#g}#A;#I;#N;#h;#L;#C;#r;#P;#R;#w;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=fn,n,i,s,o,a){this.name=e,this.#A=s?yh(e):vu(e),this.#r=r&qoe,this.nocase=s,this.roots=i,this.root=n||this,this.#P=o,this.#N=a.fullpath,this.#L=a.relative,this.#C=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=XB(a.fs)}depth(){return this.#I!==void 0?this.#I:this.parent?this.#I=this.parent.depth()+1:this.#I=0}childrenCache(){return this.#P}resolve(e){if(!e)return this;let r=this.getRootString(e),i=e.substring(r.length).split(this.splitSep);return r?this.getRoot(r).#M(i):this.#M(i)}#M(e){let r=this;for(let n of e)r=r.child(n);return r}children(){let e=this.#P.get(this);if(e)return e;let r=Object.assign([],{provisional:0});return this.#P.set(this,r),this.#r&=~_I,r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let n=this.children(),i=this.nocase?yh(e):vu(e);for(let l of n)if(l.#A===i)return l;let s=this.parent?this.sep:"",o=this.#N?this.#N+s+e:void 0,a=this.newChild(e,fn,{...r,parent:this,fullpath:o});return this.canReaddir()||(a.#r|=yn),n.push(a),a}relative(){if(this.isCWD)return"";if(this.#L!==void 0)return this.#L;let e=this.name,r=this.parent;if(!r)return this.#L=this.name;let n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#C!==void 0)return this.#C;let e=this.name,r=this.parent;if(!r)return this.#C=this.fullpathPosix();let n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#N!==void 0)return this.#N;let e=this.name,r=this.parent;if(!r)return this.#N=this.name;let i=r.fullpath()+(r.parent?this.sep:"")+e;return this.#N=i}fullpathPosix(){if(this.#h!==void 0)return this.#h;if(this.sep==="/")return this.#h=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#h=`//?/${i}`:this.#h=i}let e=this.parent,r=e.fullpathPosix(),n=r+(!r||!e.parent?"":"/")+this.name;return this.#h=n}isUnknown(){return(this.#r&En)===fn}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&En)===QB}isDirectory(){return(this.#r&En)===Zn}isCharacterDevice(){return(this.#r&En)===jB}isBlockDevice(){return(this.#r&En)===JB}isFIFO(){return(this.#r&En)===zB}isSocket(){return(this.#r&En)===ZB}isSymbolicLink(){return(this.#r&yo)===yo}lstatCached(){return this.#r&YB?this:void 0}readlinkCached(){return this.#R}realpathCached(){return this.#w}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#R)return!0;if(!this.parent)return!1;let e=this.#r&En;return!(e!==fn&&e!==yo||this.#r&bh||this.#r&yn)}calledReaddir(){return!!(this.#r&_I)}isENOENT(){return!!(this.#r&yn)}isNamed(e){return this.nocase?this.#A===yh(e):this.#A===vu(e)}async readlink(){let e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=await this.#e.promises.readlink(this.fullpath()),n=(await this.parent.realpath())?.resolve(r);if(n)return this.#R=n}catch(r){this.#u(r.code);return}}readlinkSync(){let e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=this.#e.readlinkSync(this.fullpath()),n=this.parent.realpathSync()?.resolve(r);if(n)return this.#R=n}catch(r){this.#u(r.code);return}}#x(e){this.#r|=_I;for(let r=e.provisional;r<e.length;r++){let n=e[r];n&&n.#v()}}#v(){this.#r&yn||(this.#r=(this.#r|yn)&Du,this.#b())}#b(){let e=this.children();e.provisional=0;for(let r of e)r.#v()}#y(){this.#r|=Lh,this.#U()}#U(){if(this.#r&xu)return;let e=this.#r;(e&En)===Zn&&(e&=Du),this.#r=e|xu,this.#b()}#B(e=""){e==="ENOTDIR"||e==="EPERM"?this.#U():e==="ENOENT"?this.#v():this.children().provisional=0}#F(e=""){e==="ENOTDIR"?this.parent.#U():e==="ENOENT"&&this.#v()}#u(e=""){let r=this.#r;r|=bh,e==="ENOENT"&&(r|=yn),(e==="EINVAL"||e==="UNKNOWN")&&(r&=Du),this.#r=r,e==="ENOTDIR"&&this.parent&&this.parent.#U()}#G(e,r){return this.#D(e,r)||this.#H(e,r)}#H(e,r){let n=II(e),i=this.newChild(e.name,n,{parent:this}),s=i.#r&En;return s!==Zn&&s!==yo&&s!==fn&&(i.#r|=xu),r.unshift(i),r.provisional++,i}#D(e,r){for(let n=r.provisional;n<r.length;n++){let i=r[n];if((this.nocase?yh(e.name):vu(e.name))===i.#A)return this.#W(e,i,n,r)}}#W(e,r,n,i){let s=r.name;return r.#r=r.#r&Du|II(e),s!==e.name&&(r.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(r)),i.provisional++,r}async lstat(){if((this.#r&yn)===0)try{return this.#k(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#F(e.code)}}lstatSync(){if((this.#r&yn)===0)try{return this.#k(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#F(e.code)}}#k(e){let{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:E,ino:d,mode:f,mtime:T,mtimeMs:h,nlink:S,rdev:p,size:I,uid:R}=e;this.#O=r,this.#S=n,this.#g=i,this.#f=s,this.#E=o,this.#i=a,this.#m=l,this.#d=c,this.#t=u,this.#_=E,this.#a=d,this.#s=f,this.#T=T,this.#p=h,this.#n=S,this.#c=p,this.#l=I,this.#o=R;let A=II(e);this.#r=this.#r&Du|A|YB,A!==fn&&A!==Zn&&A!==yo&&(this.#r|=xu)}#$=[];#V=!1;#q(e){this.#V=!1;let r=this.#$.slice();this.#$.length=0,r.forEach(n=>n(null,e))}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}let n=this.children();if(this.calledReaddir()){let s=n.slice(0,n.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(this.#$.push(e),this.#V)return;this.#V=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(s,o)=>{if(s)this.#B(s.code),n.provisional=0;else{for(let a of o)this.#G(a,n);this.#x(n)}this.#q(n.slice(0,n.provisional))})}#Y;async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();if(this.#Y)await this.#Y;else{let n=()=>{};this.#Y=new Promise(i=>n=i);try{for(let i of await this.#e.promises.readdir(r,{withFileTypes:!0}))this.#G(i,e);this.#x(e)}catch(i){this.#B(i.code),e.provisional=0}this.#Y=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();try{for(let n of this.#e.readdirSync(r,{withFileTypes:!0}))this.#G(n,e);this.#x(e)}catch(n){this.#B(n.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#r&$B)return!1;let e=En&this.#r;return e===fn||e===Zn||e===yo}shouldWalk(e,r){return(this.#r&Zn)===Zn&&!(this.#r&$B)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#w)return this.#w;if(!((Lh|bh|yn)&this.#r))try{let e=await this.#e.promises.realpath(this.fullpath());return this.#w=this.resolve(e)}catch{this.#y()}}realpathSync(){if(this.#w)return this.#w;if(!((Lh|bh|yn)&this.#r))try{let e=this.#e.realpathSync(this.fullpath());return this.#w=this.resolve(e)}catch{this.#y()}}[eF](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;let r=new Set([]),n=[],i=this;for(;i&&i.parent;)r.add(i),i.#L=n.join(this.sep),i.#C=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!r.has(i);)i.#L=void 0,i.#C=void 0,i=i.parent}};ke.PathBase=ur;var Bu=class t extends ur{sep="\\";splitSep=koe;constructor(e,r=fn,n,i,s,o,a){super(e,r,n,i,s,o,a)}newChild(e,r=fn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return wh.win32.parse(e).root}getRoot(e){if(e=Voe(e.toUpperCase()),e===this.root.name)return this.root;for(let[r,n]of Object.entries(this.roots))if(this.sameRoot(e,r))return this.roots[e]=n;return this.roots[e]=new Hu(e,this).root}sameRoot(e,r=this.root.name){return e=e.toUpperCase().replace(/\//g,"\\").replace(KB,"$1\\"),e===r}};ke.PathWin32=Bu;var Fu=class t extends ur{splitSep="/";sep="/";constructor(e,r=fn,n,i,s,o,a){super(e,r,n,i,s,o,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=fn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};ke.PathPosix=Fu;var Gu=class{root;rootPath;roots;cwd;#e;#t;#s;nocase;#n;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=Mu}={}){this.#n=XB(o),(e instanceof URL||e.startsWith("file://"))&&(e=(0,Woe.fileURLToPath)(e));let a=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new Uu,this.#t=new Uu,this.#s=new Dh(s);let l=a.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#n),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,E=r.sep,d=this.rootPath,f=!1;for(let T of l){let h=u--;c=c.child(T,{relative:new Array(h).fill("..").join(E),relativePosix:new Array(h).fill("..").join("/"),fullpath:d+=(f?"":E)+T}),f=!0}this.cwd=c}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#s}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#e.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpath();return this.#e.set(r,i),i}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#t.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpathPosix();return this.#t.set(r,i),i}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n}=r;if(e.canReaddir()){let i=await e.readdir();return n?i:i.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0}=r;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map(i=>i.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e.withFileTypes,e=this.cwd);let n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e.withFileTypes,e=this.cwd);let n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e.withFileTypes,e=this.cwd);let n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e.withFileTypes,e=this.cwd);let n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set,c=(E,d)=>{l.add(E),E.readdirCB((f,T)=>{if(f)return d(f);let h=T.length;if(!h)return d();let S=()=>{--h===0&&d()};for(let p of T)(!s||s(p))&&a.push(n?p:p.fullpath()),i&&p.isSymbolicLink()?p.realpath().then(I=>I?.isUnknown()?I.lstat():I).then(I=>I?.shouldWalk(l,o)?c(I,S):S()):p.shouldWalk(l,o)?c(p,S):S()},!0)},u=e;return new Promise((E,d)=>{c(u,f=>{if(f)return d(f);E(a)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set([e]);for(let c of l){let u=c.readdirSync();for(let E of u){(!s||s(E))&&a.push(n?E:E.fullpath());let d=E;if(E.isSymbolicLink()){if(!(i&&(d=E.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(l,o)&&l.add(d)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r;(!s||s(e))&&(yield n?e:e.fullpath());let a=new Set([e]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield n?u:u.fullpath());let E=u;if(u.isSymbolicLink()){if(!(i&&(E=u.realpathSync())))continue;E.isUnknown()&&E.lstatSync()}E.shouldWalk(a,o)&&a.add(E)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new WB.Minipass({objectMode:!0});(!s||s(e))&&a.write(n?e:e.fullpath());let l=new Set,c=[e],u=0,E=()=>{let d=!1;for(;!d;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let T=(S,p,I=!1)=>{if(S)return a.emit("error",S);if(i&&!I){let R=[];for(let A of p)A.isSymbolicLink()&&R.push(A.realpath().then(O=>O?.isUnknown()?O.lstat():O));if(R.length){Promise.all(R).then(()=>T(null,p,!0));return}}for(let R of p)R&&(!s||s(R))&&(a.write(n?R:R.fullpath())||(d=!0));u--;for(let R of p){let A=R.realpathCached()||R;A.shouldWalk(l,o)&&c.push(A)}d&&!a.flowing?a.once("drain",E):h||E()},h=!0;f.readdirCB(T,!0),h=!1}};return E(),a}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new WB.Minipass({objectMode:!0}),l=new Set;(!s||s(e))&&a.write(n?e:e.fullpath());let c=[e],u=0,E=()=>{let d=!1;for(;!d;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let T=f.readdirSync();for(let h of T)(!s||s(h))&&(a.write(n?h:h.fullpath())||(d=!0));u--;for(let h of T){let S=h;if(h.isSymbolicLink()){if(!(i&&(S=h.realpathSync())))continue;S.isUnknown()&&S.lstatSync()}S.shouldWalk(l,o)&&c.push(S)}}d&&!a.flowing&&a.once("drain",E)};return E(),a}chdir(e=this.cwd){let r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[eF](r)}};ke.PathScurryBase=Gu;var Hu=class extends Gu{sep="\\";constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,wh.win32,"\\",{...r,nocase:n}),this.nocase=n;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(e){return wh.win32.parse(e).root.toUpperCase()}newRoot(e){return new Bu(this.rootPath,Zn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}};ke.PathScurryWin32=Hu;var Wu=class extends Gu{sep="/";constructor(e=process.cwd(),r={}){let{nocase:n=!1}=r;super(e,wh.posix,"/",{...r,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new Fu(this.rootPath,Zn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}};ke.PathScurryPosix=Wu;var Ph=class extends Wu{constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,{...r,nocase:n})}};ke.PathScurryDarwin=Ph;ke.Path=process.platform==="win32"?Bu:Fu;ke.PathScurry=process.platform==="win32"?Hu:process.platform==="darwin"?Ph:Wu});var OI=g(Mh=>{"use strict";Object.defineProperty(Mh,"__esModule",{value:!0});Mh.Pattern=void 0;var Xoe=Cs(),Koe=t=>t.length>=1,zoe=t=>t.length>=1,NI=class t{#e;#t;#s;length;#n;#o;#_;#c;#E;#a;#l=!0;constructor(e,r,n,i){if(!Koe(e))throw new TypeError("empty pattern list");if(!zoe(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=r,this.#s=n,this.#n=i,this.#s===0){if(this.isUNC()){let[s,o,a,l,...c]=this.#e,[u,E,d,f,...T]=this.#t;c[0]===""&&(c.shift(),T.shift());let h=[s,o,a,l,""].join("/"),S=[u,E,d,f,""].join("/");this.#e=[h,...c],this.#t=[S,...T],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...l]=this.#t;o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";this.#e=[c,...o],this.#t=[u,...l],this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]=="string"}isGlobstar(){return this.#e[this.#s]===Xoe.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#_=this.#_||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new t(this.#e,this.#t,this.#s+1,this.#n),this.#o.#a=this.#a,this.#o.#E=this.#E,this.#o.#c=this.#c,this.#o):this.#o=null}isUNC(){let e=this.#e;return this.#E!==void 0?this.#E:this.#E=this.#n==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3]}isDrive(){let e=this.#e;return this.#c!==void 0?this.#c:this.#c=this.#n==="win32"&&this.#s===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){let e=this.#e;return this.#a!==void 0?this.#a:this.#a=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){let e=this.#e[0];return typeof e=="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#l?!1:(this.#l=!1,!0)}};Mh.Pattern=NI});var aF=g(xr=>{"use strict";var joe=xr&&xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xr,"__esModule",{value:!0});xr.Minipass=xr.isWritable=xr.isReadable=xr.isStream=void 0;var rF=typeof process=="object"&&process?process:{stdout:null,stderr:null},wI=require("node:events"),oF=joe(require("node:stream")),Joe=require("node:string_decoder"),Qoe=t=>!!t&&typeof t=="object"&&(t instanceof Hh||t instanceof oF.default||(0,xr.isReadable)(t)||(0,xr.isWritable)(t));xr.isStream=Qoe;var Zoe=t=>!!t&&typeof t=="object"&&t instanceof wI.EventEmitter&&typeof t.pipe=="function"&&t.pipe!==oF.default.Writable.prototype.pipe;xr.isReadable=Zoe;var eae=t=>!!t&&typeof t=="object"&&t instanceof wI.EventEmitter&&typeof t.write=="function"&&typeof t.end=="function";xr.isWritable=eae;var Yi=Symbol("EOF"),$i=Symbol("maybeEmitEnd"),Ls=Symbol("emittedEnd"),xh=Symbol("emittingEnd"),Yu=Symbol("emittedError"),vh=Symbol("closed"),nF=Symbol("read"),Uh=Symbol("flush"),iF=Symbol("flushChunk"),Ln=Symbol("encoding"),El=Symbol("decoder"),jt=Symbol("flowing"),$u=Symbol("paused"),fl=Symbol("resume"),Jt=Symbol("buffer"),Mr=Symbol("pipes"),Qt=Symbol("bufferLength"),mI=Symbol("bufferPush"),Bh=Symbol("bufferShift"),Nr=Symbol("objectMode"),yt=Symbol("destroyed"),gI=Symbol("error"),CI=Symbol("emitData"),sF=Symbol("emitEnd"),bI=Symbol("emitEnd2"),ei=Symbol("async"),yI=Symbol("abort"),Fh=Symbol("aborted"),Vu=Symbol("signal"),Lo=Symbol("dataListeners"),jr=Symbol("discarded"),ku=t=>Promise.resolve().then(t),tae=t=>t(),rae=t=>t==="end"||t==="finish"||t==="prefinish",nae=t=>t instanceof ArrayBuffer||!!t&&typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,iae=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Gh=class{src;dest;opts;ondrain;constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[fl](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},LI=class extends Gh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},sae=t=>!!t.objectMode,oae=t=>!t.objectMode&&!!t.encoding&&t.encoding!=="buffer",Hh=class extends wI.EventEmitter{[jt]=!1;[$u]=!1;[Mr]=[];[Jt]=[];[Nr];[Ln];[ei];[El];[Yi]=!1;[Ls]=!1;[xh]=!1;[vh]=!1;[Yu]=null;[Qt]=0;[yt]=!1;[Vu];[Fh]=!1;[Lo]=0;[jr]=!1;writable=!0;readable=!0;constructor(...e){let r=e[0]||{};if(super(),r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");sae(r)?(this[Nr]=!0,this[Ln]=null):oae(r)?(this[Ln]=r.encoding,this[Nr]=!1):(this[Nr]=!1,this[Ln]=null),this[ei]=!!r.async,this[El]=this[Ln]?new Joe.StringDecoder(this[Ln]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Jt]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Mr]});let{signal:n}=r;n&&(this[Vu]=n,n.aborted?this[yI]():n.addEventListener("abort",()=>this[yI]()))}get bufferLength(){return this[Qt]}get encoding(){return this[Ln]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Nr]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[ei]}set async(e){this[ei]=this[ei]||!!e}[yI](){this[Fh]=!0,this.emit("abort",this[Vu]?.reason),this.destroy(this[Vu]?.reason)}get aborted(){return this[Fh]}set aborted(e){}write(e,r,n){if(this[Fh])return!1;if(this[Yi])throw new Error("write after end");if(this[yt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[ei]?ku:tae;if(!this[Nr]&&!Buffer.isBuffer(e)){if(iae(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(nae(e))e=Buffer.from(e);else if(typeof e!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Nr]?(this[jt]&&this[Qt]!==0&&this[Uh](!0),this[jt]?this.emit("data",e):this[mI](e),this[Qt]!==0&&this.emit("readable"),n&&i(n),this[jt]):e.length?(typeof e=="string"&&!(r===this[Ln]&&!this[El]?.lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Ln]&&(e=this[El].write(e)),this[jt]&&this[Qt]!==0&&this[Uh](!0),this[jt]?this.emit("data",e):this[mI](e),this[Qt]!==0&&this.emit("readable"),n&&i(n),this[jt]):(this[Qt]!==0&&this.emit("readable"),n&&i(n),this[jt])}read(e){if(this[yt])return null;if(this[jr]=!1,this[Qt]===0||e===0||e&&e>this[Qt])return this[$i](),null;this[Nr]&&(e=null),this[Jt].length>1&&!this[Nr]&&(this[Jt]=[this[Ln]?this[Jt].join(""):Buffer.concat(this[Jt],this[Qt])]);let r=this[nF](e||null,this[Jt][0]);return this[$i](),r}[nF](e,r){if(this[Nr])this[Bh]();else{let n=r;e===n.length||e===null?this[Bh]():typeof n=="string"?(this[Jt][0]=n.slice(e),r=n.slice(0,e),this[Qt]-=e):(this[Jt][0]=n.subarray(e),r=n.subarray(0,e),this[Qt]-=e)}return this.emit("data",r),!this[Jt].length&&!this[Yi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r="utf8"),e!==void 0&&this.write(e,r),n&&this.once("end",n),this[Yi]=!0,this.writable=!1,(this[jt]||!this[$u])&&this[$i](),this}[fl](){this[yt]||(!this[Lo]&&!this[Mr].length&&(this[jr]=!0),this[$u]=!1,this[jt]=!0,this.emit("resume"),this[Jt].length?this[Uh]():this[Yi]?this[$i]():this.emit("drain"))}resume(){return this[fl]()}pause(){this[jt]=!1,this[$u]=!0,this[jr]=!1}get destroyed(){return this[yt]}get flowing(){return this[jt]}get paused(){return this[$u]}[mI](e){this[Nr]?this[Qt]+=1:this[Qt]+=e.length,this[Jt].push(e)}[Bh](){return this[Nr]?this[Qt]-=1:this[Qt]-=this[Jt][0].length,this[Jt].shift()}[Uh](e=!1){do;while(this[iF](this[Bh]())&&this[Jt].length);!e&&!this[Jt].length&&!this[Yi]&&this.emit("drain")}[iF](e){return this.emit("data",e),this[jt]}pipe(e,r){if(this[yt])return e;this[jr]=!1;let n=this[Ls];return r=r||{},e===rF.stdout||e===rF.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Mr].push(r.proxyErrors?new LI(this,e,r):new Gh(this,e,r)),this[ei]?ku(()=>this[fl]()):this[fl]()),e}unpipe(e){let r=this[Mr].find(n=>n.dest===e);r&&(this[Mr].length===1?(this[jt]&&this[Lo]===0&&(this[jt]=!1),this[Mr]=[]):this[Mr].splice(this[Mr].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);if(e==="data")this[jr]=!1,this[Lo]++,!this[Mr].length&&!this[jt]&&this[fl]();else if(e==="readable"&&this[Qt]!==0)super.emit("readable");else if(rae(e)&&this[Ls])super.emit(e),this.removeAllListeners(e);else if(e==="error"&&this[Yu]){let i=r;this[ei]?ku(()=>i.call(this,this[Yu])):i.call(this,this[Yu])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){let n=super.off(e,r);return e==="data"&&(this[Lo]=this.listeners("data").length,this[Lo]===0&&!this[jr]&&!this[Mr].length&&(this[jt]=!1)),n}removeAllListeners(e){let r=super.removeAllListeners(e);return(e==="data"||e===void 0)&&(this[Lo]=0,!this[jr]&&!this[Mr].length&&(this[jt]=!1)),r}get emittedEnd(){return this[Ls]}[$i](){!this[xh]&&!this[Ls]&&!this[yt]&&this[Jt].length===0&&this[Yi]&&(this[xh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[vh]&&this.emit("close"),this[xh]=!1)}emit(e,...r){let n=r[0];if(e!=="error"&&e!=="close"&&e!==yt&&this[yt])return!1;if(e==="data")return!this[Nr]&&!n?!1:this[ei]?(ku(()=>this[CI](n)),!0):this[CI](n);if(e==="end")return this[sF]();if(e==="close"){if(this[vh]=!0,!this[Ls]&&!this[yt])return!1;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Yu]=n,super.emit(gI,n);let s=!this[Vu]||this.listeners("error").length?super.emit("error",n):!1;return this[$i](),s}else if(e==="resume"){let s=super.emit("resume");return this[$i](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,...r);return this[$i](),i}[CI](e){for(let n of this[Mr])n.dest.write(e)===!1&&this.pause();let r=this[jr]?!1:super.emit("data",e);return this[$i](),r}[sF](){return this[Ls]?!1:(this[Ls]=!0,this.readable=!1,this[ei]?(ku(()=>this[bI]()),!0):this[bI]())}[bI](){if(this[El]){let r=this[El].end();if(r){for(let n of this[Mr])n.dest.write(r);this[jr]||super.emit("data",r)}}for(let r of this[Mr])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){let e=Object.assign([],{dataLength:0});this[Nr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[Nr]||(e.dataLength+=n.length)}),await r,e}async concat(){if(this[Nr])throw new Error("cannot concat in objectMode");let e=await this.collect();return this[Ln]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise((e,r)=>{this.on(yt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[Symbol.asyncIterator](){this[jr]=!1;let e=!1,r=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Yi])return r();let s,o,a=E=>{this.off("data",l),this.off("end",c),this.off(yt,u),r(),o(E)},l=E=>{this.off("error",a),this.off("end",c),this.off(yt,u),this.pause(),s({value:E,done:!!this[Yi]})},c=()=>{this.off("error",a),this.off("data",l),this.off(yt,u),r(),s({done:!0,value:void 0})},u=()=>a(new Error("stream destroyed"));return new Promise((E,d)=>{o=d,s=E,this.once(yt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[jr]=!1;let e=!1,r=()=>(this.pause(),this.off(gI,r),this.off(yt,r),this.off("end",r),e=!0,{done:!0,value:void 0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{done:!1,value:i}};return this.once("end",r),this.once(gI,r),this.once(yt,r),{next:n,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(e){if(this[yt])return e?this.emit("error",e):this.emit(yt),this;this[yt]=!0,this[jr]=!0,this[Jt].length=0,this[Qt]=0;let r=this;return typeof r.close=="function"&&!this[vh]&&r.close(),e?this.emit("error",e):this.emit(yt),this}static get isStream(){return xr.isStream}};xr.Minipass=Hh});var PI=g(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.Ignore=void 0;var lF=Cs(),aae=OI(),lae=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",DI=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:o=lae}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of e)this.add(a)}add(e){let r=new lF.Minimatch(e,this.mmopts);for(let n=0;n<r.set.length;n++){let i=r.set[n],s=r.globParts[n];if(!i||!s)throw new Error("invalid pattern object");for(;i[0]==="."&&s[0]===".";)i.shift(),s.shift();let o=new aae.Pattern(i,s,0,this.platform),a=new lF.Minimatch(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){let r=e.fullpath(),n=`${r}/`,i=e.relative()||".",s=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(n))return!0;return!1}childrenIgnored(e){let r=e.fullpath()+"/",n=(e.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(n))return!0;for(let i of this.absoluteChildren)if(i.match(r))return!0;return!1}};Wh.Ignore=DI});var uF=g(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.Processor=ti.SubWalks=ti.MatchRecord=ti.HasWalkedCache=void 0;var cF=Cs(),Yh=class t{store;constructor(e=new Map){this.store=e}copy(){return new t(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){let n=e.fullpath(),i=this.store.get(n);i?i.add(r.globString()):this.store.set(n,new Set([r.globString()]))}};ti.HasWalkedCache=Yh;var $h=class{store=new Map;add(e,r,n){let i=(r?2:0)|(n?1:0),s=this.store.get(e);this.store.set(e,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}};ti.MatchRecord=$h;var Vh=class{store=new Map;add(e,r){if(!e.canReaddir())return;let n=this.store.get(e);n?n.find(i=>i.globString()===r.globString())||n.push(r):this.store.set(e,[r])}get(e){let r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}};ti.SubWalks=Vh;var MI=class t{hasWalkedCache;matches=new $h;subwalks=new Vh;patterns;follow;dot;opts;constructor(e,r){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new Yh}processPatterns(e,r){this.patterns=r;let n=r.map(i=>[e,i]);for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let E=s.rest();if(E)s=E;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)i=i.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof l=="string"){let E=l===".."||l===""||l===".";this.matches.add(i.resolve(l),a,E);continue}else if(l===cF.GLOBSTAR){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let E=c?.pattern(),d=c?.rest();if(!c||(E===""||E===".")&&!d)this.matches.add(i,a,E===""||E===".");else if(E===".."){let f=i.parent||i;d?this.hasWalkedCache.hasWalked(f,d)||this.subwalks.add(f,d):this.matches.add(f,a,!0)}}else l instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(e,r){let n=this.subwalks.get(e),i=this.child();for(let s of r)for(let o of n){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===cF.GLOBSTAR?i.testGlobstar(s,o,c,a):l instanceof RegExp?i.testRegExp(s,l,c,a):i.testString(s,l,c,a)}return i}testGlobstar(e,r,n,i){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(n&&r.checkFollowGlobstar()?this.subwalks.add(e,n):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),n){let s=n.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,n.rest(),i);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,n)}else s instanceof RegExp&&this.testRegExp(e,s,n.rest(),i)}}testRegExp(e,r,n,i){r.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,r,n,i){e.isNamed(r)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}};ti.Processor=MI});var dF=g(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.GlobStream=ws.GlobWalker=ws.GlobUtil=void 0;var cae=aF(),EF=PI(),fF=uF(),uae=(t,e)=>typeof t=="string"?new EF.Ignore([t],e):Array.isArray(t)?new EF.Ignore(t,e):t,qu=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#s;signal;maxDepth;includeChildMatches;constructor(e,r,n){if(this.patterns=e,this.path=r,this.opts=n,this.#s=!n.posix&&n.platform==="win32"?"\\":"/",this.includeChildMatches=n.includeChildMatches!==!1,(n.ignore||!this.includeChildMatches)&&(this.#t=uae(n.ignore??[],n),!this.includeChildMatches&&typeof this.#t.add!="function")){let i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#n(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#o(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#n(e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#n(e))return;if(!this.includeChildMatches&&this.#t?.add){let s=`${e.relativePosix()}/**`;this.#t.add(s)}let n=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);let i=this.opts.mark&&e.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){let s=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(s+i)}else{let s=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(s?o+s+i:"."+i)}}async match(e,r,n){let i=await this.matchCheck(e,n);i&&this.matchFinish(i,r)}matchSync(e,r,n){let i=this.matchCheckSync(e,n);i&&this.matchFinish(i,r)}walkCB(e,r,n){this.signal?.aborted&&n(),this.walkCB2(e,r,new fF.Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,n,o):a.readdirCB((c,u)=>this.walkCB3(a,u,n,o),!0)}o()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of n.subwalks.entries())s++,this.walkCB2(a,l,n.child(),o);o()}walkCBSync(e,r,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,r,new fF.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,n,o)}o()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let[a,l]of n.subwalks.entries())s++,this.walkCB2Sync(a,l,n.child(),o);o()}};ws.GlobUtil=qu;var xI=class extends qu{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,r)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?r(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};ws.GlobWalker=xI;var vI=class extends qu{results;constructor(e,r,n){super(e,r,n),this.results=new cae.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let e=this.path;return e.isUnknown()?e.lstat().then(()=>{this.walkCB(e,this.patterns,()=>this.results.end())}):this.walkCB(e,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};ws.GlobStream=vI});var BI=g(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.Glob=void 0;var Eae=Cs(),fae=require("node:url"),kh=tF(),dae=OI(),qh=dF(),hae=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",UI=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,fae.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=e,this.platform=r.platform||hae,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?kh.PathScurryWin32:r.platform==="darwin"?kh.PathScurryDarwin:r.platform?kh.PathScurryPosix:kh.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let n=this.platform==="darwin"||this.platform==="win32",i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new Eae.Minimatch(l,i)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new dae.Pattern(l,u,0,this.platform)})}async walk(){return[...await new qh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new qh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new qh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new qh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};Xh.Glob=UI});var FI=g(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.hasMagic=void 0;var Tae=Cs(),Sae=(t,e={})=>{Array.isArray(t)||(t=[t]);for(let r of t)if(new Tae.Minimatch(r,e).hasMagic())return!0;return!1};Kh.hasMagic=Sae});var pF=g(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.glob=Le.sync=Le.iterate=Le.iterateSync=Le.stream=Le.streamSync=Le.Ignore=Le.hasMagic=Le.Glob=Le.unescape=Le.escape=void 0;Le.globStreamSync=Xu;Le.globStream=GI;Le.globSync=HI;Le.globIterateSync=Ku;Le.globIterate=WI;var hF=Cs(),wo=BI(),pae=FI(),SF=Cs();Object.defineProperty(Le,"escape",{enumerable:!0,get:function(){return SF.escape}});Object.defineProperty(Le,"unescape",{enumerable:!0,get:function(){return SF.unescape}});var Rae=BI();Object.defineProperty(Le,"Glob",{enumerable:!0,get:function(){return Rae.Glob}});var Aae=FI();Object.defineProperty(Le,"hasMagic",{enumerable:!0,get:function(){return Aae.hasMagic}});var _ae=PI();Object.defineProperty(Le,"Ignore",{enumerable:!0,get:function(){return _ae.Ignore}});function Xu(t,e={}){return new wo.Glob(t,e).streamSync()}function GI(t,e={}){return new wo.Glob(t,e).stream()}function HI(t,e={}){return new wo.Glob(t,e).walkSync()}async function TF(t,e={}){return new wo.Glob(t,e).walk()}function Ku(t,e={}){return new wo.Glob(t,e).iterateSync()}function WI(t,e={}){return new wo.Glob(t,e).iterate()}Le.streamSync=Xu;Le.stream=Object.assign(GI,{sync:Xu});Le.iterateSync=Ku;Le.iterate=Object.assign(WI,{sync:Ku});Le.sync=Object.assign(HI,{stream:Xu,iterate:Ku});Le.glob=Object.assign(TF,{glob:TF,globSync:HI,sync:Le.sync,globStream:GI,stream:Le.stream,globStreamSync:Xu,streamSync:Le.streamSync,globIterate:WI,iterate:Le.iterate,globIterateSync:Ku,iterateSync:Le.iterateSync,Glob:wo.Glob,hasMagic:pae.hasMagic,escape:hF.escape,unescape:hF.unescape});Le.glob.glob=Le.glob});var IF=g((xxe,_F)=>{var AF=eA(),dl=require("path"),YI=gv(),Iae=HU(),Nae=JU(),Oae=iB(),mae=pF(),Do=_F.exports={},RF=/[\/\\]/g,gae=function(t,e){var r=[];return YI(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=Iae(r,s):r=Nae(r,s)}),r};Do.exists=function(){var t=dl.join.apply(dl,arguments);return AF.existsSync(t)};Do.expand=function(...t){var e=Oae(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=gae(r,function(i){return mae.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=dl.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):AF.statSync(i)[e.filter]()}catch{return!1}})),n};Do.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return dl.join(s||"",o)}},r);var n=[],i={};return Do.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=dl.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=dl.join(r.cwd,s)),a=a.replace(RF,"/"),s=s.replace(RF,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};Do.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=YI(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return Do.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?YI(o):[o],s.result=Do.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var hl=g((Uxe,mF)=>{var $I=eA(),NF=require("path"),Cae=cd(),bae=yw(),OF=mA(),yae=lP(),vxe=require("stream").Stream,Lae=Tv().PassThrough,Jr=mF.exports={};Jr.file=IF();Jr.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};Jr.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};Jr.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},yae(...n)};Jr.isStream=function(t){return Cae(t)};Jr.lazyReadStream=function(t){return new bae.Readable(function(){return $I.createReadStream(t)})};Jr.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):Jr.isStream(t)?t.pipe(new Lae):t};Jr.sanitizePath=function(t){return OF(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};Jr.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};Jr.unixifyPath=function(t){return OF(t,!1).replace(/^\w+:/,"")};Jr.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),$I.readdir(t,function(i,s){var o=0,a,l;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);l=NF.join(t,a),$I.stat(l,function(u,E){n.push({path:l,relative:NF.relative(e,l).replace(/\\/g,"/"),stats:E}),E&&E.isDirectory()?Jr.walkdir(l,e,function(d,f){if(d)return r(d);f.forEach(function(T){n.push(T)}),c()}):c()})})()})}});var yF=g((CF,bF)=>{var wae=require("util"),Dae={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function gF(t,e){Error.captureStackTrace(this,this.constructor),this.message=Dae[t]||t,this.code=t,this.data=e}wae.inherits(gF,Error);CF=bF.exports=gF});var at=g((Bxe,LF)=>{"use strict";var VI=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};LF.exports={AggregateError:VI,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var kI=g((Fxe,wF)=>{"use strict";wF.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Or=g((Gxe,MF)=>{"use strict";var{format:Pae,inspect:zh}=kI(),{AggregateError:Mae}=at(),xae=globalThis.AggregateError||Mae,vae=Symbol("kIsNodeError"),Uae=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Bae=/^([A-Z][a-z0-9]*)+$/,Fae="__node_internal_",jh={};function Po(t,e){if(!t)throw new jh.ERR_INTERNAL_ASSERTION(e)}function DF(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Gae(t,e,r){if(typeof e=="function")return Po(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Po(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Pae(e,...r)}function Er(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Gae(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[vae]=!0,jh[t]=n}function PF(t){let e=Fae+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Hae(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new xae([e,t],e.message);return r.code=e.code,r}return t||e}var qI=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new jh.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Er("ERR_ASSERTION","%s",Error);Er("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Po(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Po(typeof l=="string","All expected entries have to be of type string"),Uae.includes(l)?i.push(l.toLowerCase()):Bae.test(l)?s.push(l):(Po(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=zh(r,{depth:-1});n+=`. Received ${l}`}}else{let l=zh(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Er("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=zh(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Er("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Er("ERR_MISSING_ARGS",(...t)=>{Po(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Er("ERR_OUT_OF_RANGE",(t,e,r)=>{Po(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=DF(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=DF(n)),n+="n"}else n=zh(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Er("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Er("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Er("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Er("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Er("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Er("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Er("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Er("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Er("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Er("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Er("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);MF.exports={AbortError:qI,aggregateTwoErrors:PF(Hae),hideStackFrames:PF,codes:jh}});var vr=g((Hxe,KI)=>{"use strict";var Wae=require("buffer"),{format:Yae,inspect:$ae}=kI(),{codes:{ERR_INVALID_ARG_TYPE:XI}}=Or(),{kResistStopPropagation:Vae,AggregateError:kae,SymbolDispose:qae}=at(),Xae=globalThis.AbortSignal||gt().AbortSignal,Kae=globalThis.AbortController||gt().AbortController,zae=Object.getPrototypeOf(async function(){}).constructor,xF=globalThis.Blob||Wae.Blob,jae=typeof xF<"u"?function(e){return e instanceof xF}:function(e){return!1},vF=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new XI(e,"AbortSignal",t)},Jae=(t,e)=>{if(typeof t!="function")throw new XI(e,"Function",t)};KI.exports={AggregateError:kae,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:Yae,inspect:$ae,types:{isAsyncFunction(t){return t instanceof zae},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:jae,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new XI("signal","AbortSignal",e);vF(e,"signal"),Jae(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Vae]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[qae](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Xae.any||function(e){if(e.length===1)return e[0];let r=new Kae,n=()=>r.abort();return e.forEach(i=>{vF(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};KI.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Sl=g((Wxe,kF)=>{"use strict";var{ArrayIsArray:jI,ArrayPrototypeIncludes:GF,ArrayPrototypeJoin:HF,ArrayPrototypeMap:Qae,NumberIsInteger:JI,NumberIsNaN:Zae,NumberMAX_SAFE_INTEGER:ele,NumberMIN_SAFE_INTEGER:tle,NumberParseInt:rle,ObjectPrototypeHasOwnProperty:nle,RegExpPrototypeExec:WF,String:ile,StringPrototypeToUpperCase:sle,StringPrototypeTrim:ole}=at(),{hideStackFrames:dn,codes:{ERR_SOCKET_BAD_PORT:ale,ERR_INVALID_ARG_TYPE:mr,ERR_INVALID_ARG_VALUE:Tl,ERR_OUT_OF_RANGE:Mo,ERR_UNKNOWN_SIGNAL:UF}}=Or(),{normalizeEncoding:lle}=vr(),{isAsyncFunction:cle,isArrayBufferView:ule}=vr().types,BF={};function Ele(t){return t===(t|0)}function fle(t){return t===t>>>0}var dle=/^[0-7]+$/,hle="must be a 32-bit unsigned integer or an octal string";function Tle(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(WF(dle,t)===null)throw new Tl(e,t,hle);t=rle(t,8)}return YF(t,e),t}var Sle=dn((t,e,r=tle,n=ele)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!JI(t))throw new Mo(e,"an integer",t);if(t<r||t>n)throw new Mo(e,`>= ${r} && <= ${n}`,t)}),ple=dn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!JI(t))throw new Mo(e,"an integer",t);if(t<r||t>n)throw new Mo(e,`>= ${r} && <= ${n}`,t)}),YF=dn((t,e,r=!1)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!JI(t))throw new Mo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Mo(e,`>= ${n} && <= ${i}`,t)});function QI(t,e){if(typeof t!="string")throw new mr(e,"string",t)}function Rle(t,e,r=void 0,n){if(typeof t!="number")throw new mr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Zae(t))throw new Mo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Ale=dn((t,e,r)=>{if(!GF(r,t)){let i="must be one of: "+HF(Qae(r,s=>typeof s=="string"?`'${s}'`:ile(s)),", ");throw new Tl(e,t,i)}});function $F(t,e){if(typeof t!="boolean")throw new mr(e,"boolean",t)}function zI(t,e,r){return t==null||!nle(t,e)?r:t[e]}var _le=dn((t,e,r=null)=>{let n=zI(r,"allowArray",!1),i=zI(r,"allowFunction",!1);if(!zI(r,"nullable",!1)&&t===null||!n&&jI(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new mr(e,"Object",t)}),Ile=dn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new mr(e,"a dictionary",t)}),Jh=dn((t,e,r=0)=>{if(!jI(t))throw new mr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Tl(e,t,n)}});function Nle(t,e){Jh(t,e);for(let r=0;r<t.length;r++)QI(t[r],`${e}[${r}]`)}function Ole(t,e){Jh(t,e);for(let r=0;r<t.length;r++)$F(t[r],`${e}[${r}]`)}function mle(t,e){Jh(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new mr(i,"AbortSignal",n);VF(n,i)}}function gle(t,e="signal"){if(QI(t,e),BF[t]===void 0)throw BF[sle(t)]!==void 0?new UF(t+" (signals must use all capital letters)"):new UF(t)}var Cle=dn((t,e="buffer")=>{if(!ule(t))throw new mr(e,["Buffer","TypedArray","DataView"],t)});function ble(t,e){let r=lle(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Tl("encoding",e,`is invalid for data of length ${n}`)}function yle(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&ole(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new ale(e,t,r);return t|0}var VF=dn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new mr(e,"AbortSignal",t)}),Lle=dn((t,e)=>{if(typeof t!="function")throw new mr(e,"Function",t)}),wle=dn((t,e)=>{if(typeof t!="function"||cle(t))throw new mr(e,"Function",t)}),Dle=dn((t,e)=>{if(t!==void 0)throw new mr(e,"undefined",t)});function Ple(t,e,r){if(!GF(r,t))throw new mr(e,`('${HF(r,"|")}')`,t)}var Mle=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function FF(t,e){if(typeof t>"u"||!WF(Mle,t))throw new Tl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function xle(t){if(typeof t=="string")return FF(t,"hints"),t;if(jI(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];FF(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Tl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}kF.exports={isInt32:Ele,isUint32:fle,parseFileMode:Tle,validateArray:Jh,validateStringArray:Nle,validateBooleanArray:Ole,validateAbortSignalArray:mle,validateBoolean:$F,validateBuffer:Cle,validateDictionary:Ile,validateEncoding:ble,validateFunction:Lle,validateInt32:ple,validateInteger:Sle,validateNumber:Rle,validateObject:_le,validateOneOf:Ale,validatePlainFunction:wle,validatePort:yle,validateSignalName:gle,validateString:QI,validateUint32:YF,validateUndefined:Dle,validateUnion:Ple,validateAbortSignal:VF,validateLinkHeaderValue:xle}});var ni=g((Yxe,o1)=>{"use strict";var{SymbolAsyncIterator:qF,SymbolIterator:XF,SymbolFor:xo}=at(),KF=xo("nodejs.stream.destroyed"),zF=xo("nodejs.stream.errored"),ZI=xo("nodejs.stream.readable"),eN=xo("nodejs.stream.writable"),jF=xo("nodejs.stream.disturbed"),vle=xo("nodejs.webstream.isClosedPromise"),Ule=xo("nodejs.webstream.controllerErrorFunction");function Qh(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Zh(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Ble(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ri(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function JF(t){return!!(t&&!ri(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function QF(t){return!!(t&&!ri(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function ZF(t){return!!(t&&!ri(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Fle(t){return JF(t)||QF(t)||ZF(t)}function Gle(t,e){return t==null?!1:e===!0?typeof t[qF]=="function":e===!1?typeof t[XF]=="function":typeof t[qF]=="function"||typeof t[XF]=="function"}function eT(t){if(!ri(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[KF]||n!=null&&n.destroyed)}function e1(t){if(!Zh(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Hle(t,e){if(!Zh(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Wle(t){if(!Qh(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function t1(t,e){if(!Qh(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function r1(t){return t&&t[ZI]!=null?t[ZI]:typeof t?.readable!="boolean"?null:eT(t)?!1:Qh(t)&&t.readable&&!t1(t)}function n1(t){return t&&t[eN]!=null?t[eN]:typeof t?.writable!="boolean"?null:eT(t)?!1:Zh(t)&&t.writable&&!e1(t)}function Yle(t,e){return ri(t)?eT(t)?!0:!(e?.readable!==!1&&r1(t)||e?.writable!==!1&&n1(t)):null}function $le(t){var e,r;return ri(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Vle(t){var e,r;return ri(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function kle(t){if(!ri(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&i1(t)?t._closed:null}function i1(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function s1(t){return typeof t._sent100=="boolean"&&i1(t)}function qle(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Xle(t){if(!ri(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&s1(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Kle(t){var e;return!!(t&&((e=t[jF])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function zle(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[zF])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}o1.exports={isDestroyed:eT,kIsDestroyed:KF,isDisturbed:Kle,kIsDisturbed:jF,isErrored:zle,kIsErrored:zF,isReadable:r1,kIsReadable:ZI,kIsClosedPromise:vle,kControllerErrorFunction:Ule,kIsWritable:eN,isClosed:kle,isDuplexNodeStream:Ble,isFinished:Yle,isIterable:Gle,isReadableNodeStream:Qh,isReadableStream:JF,isReadableEnded:Wle,isReadableFinished:t1,isReadableErrored:Vle,isNodeStream:ri,isWebStream:Fle,isWritable:n1,isWritableNodeStream:Zh,isWritableStream:QF,isWritableEnded:e1,isWritableFinished:Hle,isWritableErrored:$le,isServerRequest:qle,isServerResponse:s1,willEmitClose:Xle,isTransformStream:ZF}});var Vi=g(($xe,sN)=>{"use strict";var Ds=qe(),{AbortError:T1,codes:jle}=Or(),{ERR_INVALID_ARG_TYPE:Jle,ERR_STREAM_PREMATURE_CLOSE:a1}=jle,{kEmptyObject:rN,once:nN}=vr(),{validateAbortSignal:Qle,validateFunction:Zle,validateObject:ece,validateBoolean:tce}=Sl(),{Promise:rce,PromisePrototypeThen:nce,SymbolDispose:S1}=at(),{isClosed:ice,isReadable:l1,isReadableNodeStream:tN,isReadableStream:sce,isReadableFinished:c1,isReadableErrored:u1,isWritable:E1,isWritableNodeStream:f1,isWritableStream:oce,isWritableFinished:d1,isWritableErrored:h1,isNodeStream:ace,willEmitClose:lce,kIsClosedPromise:cce}=ni(),pl;function uce(t){return t.setHeader&&typeof t.abort=="function"}var iN=()=>{};function p1(t,e,r){var n,i;if(arguments.length===2?(r=e,e=rN):e==null?e=rN:ece(e,"options"),Zle(r,"callback"),Qle(e.signal,"options.signal"),r=nN(r),sce(t)||oce(t))return Ece(t,e,r);if(!ace(t))throw new Jle("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:tN(t),o=(i=e.writable)!==null&&i!==void 0?i:f1(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=lce(t)&&tN(t)===s&&f1(t)===o,E=d1(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=c1(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=O=>{r.call(t,O)},S=ice(t),p=()=>{S=!0;let O=h1(t)||u1(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&tN(t,!0)&&!c1(t,!1))return r.call(t,new a1);if(o&&!E&&!d1(t,!1))return r.call(t,new a1);r.call(t)},I=()=>{S=!0;let O=h1(t)||u1(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},R=()=>{t.req.on("finish",d)};uce(t)?(t.on("complete",d),u||t.on("abort",p),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",p),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",p),S?Ds.nextTick(p):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Ds.nextTick(I):(!s&&(!u||l1(t))&&(E||E1(t)===!1)||!o&&(!u||E1(t))&&(f||l1(t)===!1)||l&&t.req&&t.aborted)&&Ds.nextTick(I);let A=()=>{r=iN,t.removeListener("aborted",p),t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",R),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",p)};if(e.signal&&!S){let O=()=>{let L=r;A(),L.call(t,new T1(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ds.nextTick(O);else{pl=pl||vr().addAbortListener;let L=pl(e.signal,O),N=r;r=nN((...D)=>{L[S1](),N.apply(t,D)})}}return A}function Ece(t,e,r){let n=!1,i=iN;if(e.signal)if(i=()=>{n=!0,r.call(t,new T1(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ds.nextTick(i);else{pl=pl||vr().addAbortListener;let o=pl(e.signal,i),a=r;r=nN((...l)=>{o[S1](),a.apply(t,l)})}let s=(...o)=>{n||Ds.nextTick(()=>r.apply(t,o))};return nce(t[cce].promise,s,s),iN}function fce(t,e){var r;let n=!1;return e===null&&(e=rN),(r=e)!==null&&r!==void 0&&r.cleanup&&(tce(e.cleanup,"cleanup"),n=e.cleanup),new rce((i,s)=>{let o=p1(t,e,a=>{n&&o(),a?s(a):i()})})}sN.exports=p1;sN.exports.finished=fce});var vo=g((Vxe,g1)=>{"use strict";var ii=qe(),{aggregateTwoErrors:dce,codes:{ERR_MULTIPLE_CALLBACK:hce},AbortError:Tce}=Or(),{Symbol:_1}=at(),{kIsDestroyed:Sce,isDestroyed:pce,isFinished:Rce,isServerRequest:Ace}=ni(),I1=_1("kDestroy"),oN=_1("kConstruct");function N1(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function _ce(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(N1(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?R1(this,t,e):this.once(I1,function(s){R1(this,dce(s,t),e)}),this)}function R1(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;N1(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?ii.nextTick(Ice,t,s):ii.nextTick(O1,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function Ice(t,e){aN(t,e),O1(t)}function O1(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function aN(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Nce(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function lN(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?ii.nextTick(aN,t,e):aN(t,e))}function Oce(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(oN,e),!(t.listenerCount(oN)>1)&&ii.nextTick(mce,t)}function mce(t){let e=!1;function r(n){if(e){lN(t,n??new hce);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(I1,n):n?lN(t,n,!0):ii.nextTick(gce,t)}try{t._construct(n=>{ii.nextTick(r,n)})}catch(n){ii.nextTick(r,n)}}function gce(t){t.emit(oN)}function A1(t){return t?.setHeader&&typeof t.abort=="function"}function m1(t){t.emit("close")}function Cce(t,e){t.emit("error",e),ii.nextTick(m1,t)}function bce(t,e){!t||pce(t)||(!e&&!Rce(t)&&(e=new Tce),Ace(t)?(t.socket=null,t.destroy(e)):A1(t)?t.abort():A1(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ii.nextTick(Cce,t,e):ii.nextTick(m1,t),t.destroyed||(t[Sce]=!0))}g1.exports={construct:Oce,destroyer:bce,destroy:_ce,undestroy:Nce,errorOrDestroy:lN}});var nT=g((kxe,b1)=>{"use strict";var{ArrayIsArray:yce,ObjectSetPrototypeOf:C1}=at(),{EventEmitter:tT}=require("events");function rT(t){tT.call(this,t)}C1(rT.prototype,tT.prototype);C1(rT,tT);rT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),tT.listenerCount(this,"error")===0&&this.emit("error",u)}cN(r,"error",l),cN(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function cN(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):yce(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}b1.exports={Stream:rT,prependListener:cN}});var zu=g((qxe,iT)=>{"use strict";var{SymbolDispose:Lce}=at(),{AbortError:y1,codes:wce}=Or(),{isNodeStream:L1,isWebStream:Dce,kControllerErrorFunction:Pce}=ni(),Mce=Vi(),{ERR_INVALID_ARG_TYPE:w1}=wce,uN,xce=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new w1(e,"AbortSignal",t)};iT.exports.addAbortSignal=function(e,r){if(xce(e,"signal"),!L1(r)&&!Dce(r))throw new w1("stream",["ReadableStream","WritableStream","Stream"],r);return iT.exports.addAbortSignalNoValidate(e,r)};iT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=L1(e)?()=>{e.destroy(new y1(void 0,{cause:t.reason}))}:()=>{e[Pce](new y1(void 0,{cause:t.reason}))};if(t.aborted)r();else{uN=uN||vr().addAbortListener;let n=uN(t,r);Mce(e,n[Lce])}return e}});var M1=g((Kxe,P1)=>{"use strict";var{StringPrototypeSlice:D1,SymbolIterator:vce,TypedArrayPrototypeSet:sT,Uint8Array:Uce}=at(),{Buffer:EN}=require("buffer"),{inspect:Bce}=vr();P1.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return EN.alloc(0);let r=EN.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)sT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[vce](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=D1(s,0,e),this.head=n,n.data=D1(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=EN.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)sT(r,o,n-e),e-=o.length;else{e===o.length?(sT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(sT(r,new Uce(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Bce(this,{...r,depth:0,customInspect:!1})}}});var ju=g((zxe,B1)=>{"use strict";var{MathFloor:Fce,NumberIsInteger:Gce}=at(),{validateInteger:Hce}=Sl(),{ERR_INVALID_ARG_VALUE:Wce}=Or().codes,x1=16*1024,v1=16;function Yce(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function U1(t){return t?v1:x1}function $ce(t,e){Hce(e,"value",0),t?v1=e:x1=e}function Vce(t,e,r,n){let i=Yce(e,n,r);if(i!=null){if(!Gce(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Wce(s,i)}return Fce(i)}return U1(t.objectMode)}B1.exports={getHighWaterMark:Vce,getDefaultHighWaterMark:U1,setDefaultHighWaterMark:$ce}});var fN=g((jxe,W1)=>{"use strict";var F1=qe(),{PromisePrototypeThen:kce,SymbolAsyncIterator:G1,SymbolIterator:H1}=at(),{Buffer:qce}=require("buffer"),{ERR_INVALID_ARG_TYPE:Xce,ERR_STREAM_NULL_VALUES:Kce}=Or().codes;function zce(t,e,r){let n;if(typeof e=="string"||e instanceof qce)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[G1])i=!0,n=e[G1]();else if(e&&e[H1])i=!1,n=e[H1]();else throw new Xce("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){kce(a(c),()=>F1.nextTick(u,c),E=>F1.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new Kce;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}W1.exports=zce});var Qu=g((Jxe,sG)=>{"use strict";var wn=qe(),{ArrayPrototypeIndexOf:jce,NumberIsInteger:Jce,NumberIsNaN:Qce,NumberParseInt:Zce,ObjectDefineProperties:_N,ObjectKeys:eue,ObjectSetPrototypeOf:V1,Promise:k1,SafeSet:tue,SymbolAsyncDispose:rue,SymbolAsyncIterator:nue,Symbol:iue}=at();sG.exports=pe;pe.ReadableState=cT;var{EventEmitter:sue}=require("events"),{Stream:Ps,prependListener:oue}=nT(),{Buffer:dN}=require("buffer"),{addAbortSignal:aue}=zu(),q1=Vi(),we=vr().debuglog("stream",t=>{we=t}),lue=M1(),_l=vo(),{getHighWaterMark:cue,getDefaultHighWaterMark:uue}=ju(),{aggregateTwoErrors:Y1,codes:{ERR_INVALID_ARG_TYPE:Eue,ERR_METHOD_NOT_IMPLEMENTED:fue,ERR_OUT_OF_RANGE:due,ERR_STREAM_PUSH_AFTER_EOF:hue,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Tue},AbortError:Sue}=Or(),{validateObject:pue}=Sl(),Uo=iue("kPaused"),{StringDecoder:X1}=du(),Rue=fN();V1(pe.prototype,Ps.prototype);V1(pe,Ps);var hN=()=>{},{errorOrDestroy:Rl}=_l,Al=1,Aue=2,K1=4,Ju=8,z1=16,oT=32,aT=64,j1=128,_ue=256,Iue=512,Nue=1024,RN=2048,AN=4096,Oue=8192,mue=16384,gue=32768,J1=65536,Cue=1<<17,bue=1<<18;function Ut(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}_N(cT.prototype,{objectMode:Ut(Al),ended:Ut(Aue),endEmitted:Ut(K1),reading:Ut(Ju),constructed:Ut(z1),sync:Ut(oT),needReadable:Ut(aT),emittedReadable:Ut(j1),readableListening:Ut(_ue),resumeScheduled:Ut(Iue),errorEmitted:Ut(Nue),emitClose:Ut(RN),autoDestroy:Ut(AN),destroyed:Ut(Oue),closed:Ut(mue),closeEmitted:Ut(gue),multiAwaitDrain:Ut(J1),readingMore:Ut(Cue),dataEmitted:Ut(bue)});function cT(t,e,r){typeof r!="boolean"&&(r=e instanceof si()),this.state=RN|AN|z1|oT,t&&t.objectMode&&(this.state|=Al),r&&t&&t.readableObjectMode&&(this.state|=Al),this.highWaterMark=t?cue(this,t,"readableHighWaterMark",r):uue(!1),this.buffer=new lue,this.length=0,this.pipes=[],this.flowing=null,this[Uo]=null,t&&t.emitClose===!1&&(this.state&=~RN),t&&t.autoDestroy===!1&&(this.state&=~AN),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new X1(t.encoding),this.encoding=t.encoding)}function pe(t){if(!(this instanceof pe))return new pe(t);let e=this instanceof si();this._readableState=new cT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&aue(t.signal,this)),Ps.call(this,t),_l.construct(this,()=>{this._readableState.needReadable&&lT(this,this._readableState)})}pe.prototype.destroy=_l.destroy;pe.prototype._undestroy=_l.undestroy;pe.prototype._destroy=function(t,e){e(t)};pe.prototype[sue.captureRejectionSymbol]=function(t){this.destroy(t)};pe.prototype[rue]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Sue,this.destroy(t)),new k1((e,r)=>q1(this,n=>n&&n!==t?r(n):e(null)))};pe.prototype.push=function(t,e){return Q1(this,t,e,!1)};pe.prototype.unshift=function(t,e){return Q1(this,t,e,!0)};function Q1(t,e,r,n){we("readableAddChunk",e);let i=t._readableState,s;if((i.state&Al)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=dN.from(e,r).toString(i.encoding):(e=dN.from(e,r),r=""))):e instanceof dN?r="":Ps._isUint8Array(e)?(e=Ps._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Eue("chunk",["string","Buffer","Uint8Array"],e))),s)Rl(t,s);else if(e===null)i.state&=~Ju,wue(t,i);else if((i.state&Al)!==0||e&&e.length>0)if(n)if((i.state&K1)!==0)Rl(t,new Tue);else{if(i.destroyed||i.errored)return!1;TN(t,i,e,!0)}else if(i.ended)Rl(t,new hue);else{if(i.destroyed||i.errored)return!1;i.state&=~Ju,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?TN(t,i,e,!1):lT(t,i)):TN(t,i,e,!1)}else n||(i.state&=~Ju,lT(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function TN(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&J1)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&aT)!==0&&uT(t)),lT(t,e)}pe.prototype.isPaused=function(){let t=this._readableState;return t[Uo]===!0||t.flowing===!1};pe.prototype.setEncoding=function(t){let e=new X1(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var yue=1073741824;function Lue(t){if(t>yue)throw new due("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function $1(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Al)!==0?1:Qce(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}pe.prototype.read=function(t){we("read",t),t===void 0?t=NaN:Jce(t)||(t=Zce(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Lue(t)),t!==0&&(e.state&=~j1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return we("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?SN(this):uT(this),null;if(t=$1(t,e),t===0&&e.ended)return e.length===0&&SN(this),null;let n=(e.state&aT)!==0;if(we("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,we("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,we("reading, ended or constructing",n);else if(n){we("do read"),e.state|=Ju|oT,e.length===0&&(e.state|=aT);try{this._read(e.highWaterMark)}catch(s){Rl(this,s)}e.state&=~oT,e.reading||(t=$1(r,e))}let i;return t>0?i=nG(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&SN(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function wue(t,e){if(we("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?uT(t):(e.needReadable=!1,e.emittedReadable=!0,Z1(t))}}function uT(t){let e=t._readableState;we("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(we("emitReadable",e.flowing),e.emittedReadable=!0,wn.nextTick(Z1,t))}function Z1(t){let e=t._readableState;we("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,tG(t)}function lT(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,wn.nextTick(Due,t,e))}function Due(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(we("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}pe.prototype._read=function(t){throw new fue("_read()")};pe.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new tue(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),we("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==wn.stdout&&t!==wn.stderr?a:S;n.endEmitted?wn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){we("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){we("onend"),t.end()}let l,c=!1;function u(){we("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(we("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(we("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Pue(r,t),t.on("drain",l))}r.on("data",d);function d(p){we("ondata");let I=t.write(p);we("dest.write",I),I===!1&&E()}function f(p){if(we("onerror",p),S(),t.removeListener("error",f),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?Rl(t,p):t.emit("error",p)}}oue(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){we("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){we("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(we("pipe resume"),r.resume()),t};function Pue(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(we("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(we("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}pe.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=jce(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};pe.prototype.on=function(t,e){let r=Ps.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,we("on readable",n.length,n.reading),n.length?uT(this):n.reading||wn.nextTick(Mue,this)),r};pe.prototype.addListener=pe.prototype.on;pe.prototype.removeListener=function(t,e){let r=Ps.prototype.removeListener.call(this,t,e);return t==="readable"&&wn.nextTick(eG,this),r};pe.prototype.off=pe.prototype.removeListener;pe.prototype.removeAllListeners=function(t){let e=Ps.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&wn.nextTick(eG,this),e};function eG(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Uo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Mue(t){we("readable nexttick read 0"),t.read(0)}pe.prototype.resume=function(){let t=this._readableState;return t.flowing||(we("resume"),t.flowing=!t.readableListening,xue(this,t)),t[Uo]=!1,this};function xue(t,e){e.resumeScheduled||(e.resumeScheduled=!0,wn.nextTick(vue,t,e))}function vue(t,e){we("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),tG(t),e.flowing&&!e.reading&&t.read(0)}pe.prototype.pause=function(){return we("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(we("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Uo]=!0,this};function tG(t){let e=t._readableState;for(we("flow",e.flowing);e.flowing&&t.read()!==null;);}pe.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Rl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=eue(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};pe.prototype[nue]=function(){return rG(this)};pe.prototype.iterator=function(t){return t!==void 0&&pue(t,"options"),rG(this,t)};function rG(t,e){typeof t.read!="function"&&(t=pe.wrap(t,{objectMode:!0}));let r=Uue(t,e);return r.stream=t,r}async function*Uue(t,e){let r=hN;function n(o){this===t?(r(),r=hN):r=o}t.on("readable",n);let i,s=q1(t,{writable:!1},o=>{i=o?Y1(i,o):null,r(),r=hN});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new k1(n)}}}catch(o){throw i=Y1(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?_l.destroyer(t,null):(t.off("readable",n),s())}}_N(pe.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});_N(cT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Uo]!==!1},set(t){this[Uo]=!!t}}});pe._fromList=nG;function nG(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function SN(t){let e=t._readableState;we("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,wn.nextTick(Bue,e,t))}function Bue(t,e){if(we("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)wn.nextTick(Fue,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Fue(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}pe.from=function(t,e){return Rue(pe,t,e)};var pN;function iG(){return pN===void 0&&(pN={}),pN}pe.fromWeb=function(t,e){return iG().newStreamReadableFromReadableStream(t,e)};pe.toWeb=function(t,e){return iG().newReadableStreamFromStreamReadable(t,e)};pe.wrap=function(t,e){var r,n;return new pe({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){_l.destroyer(t,i),s(i)}}).wrap(t)}});var TT=g((Qxe,pG)=>{"use strict";var Bo=qe(),{ArrayPrototypeSlice:lG,Error:Gue,FunctionPrototypeSymbolHasInstance:cG,ObjectDefineProperty:uG,ObjectDefineProperties:Hue,ObjectSetPrototypeOf:EG,StringPrototypeToLowerCase:Wue,Symbol:Yue,SymbolHasInstance:$ue}=at();pG.exports=ft;ft.WritableState=tE;var{EventEmitter:Vue}=require("events"),Zu=nT().Stream,{Buffer:ET}=require("buffer"),hT=vo(),{addAbortSignal:kue}=zu(),{getHighWaterMark:que,getDefaultHighWaterMark:Xue}=ju(),{ERR_INVALID_ARG_TYPE:Kue,ERR_METHOD_NOT_IMPLEMENTED:zue,ERR_MULTIPLE_CALLBACK:fG,ERR_STREAM_CANNOT_PIPE:jue,ERR_STREAM_DESTROYED:eE,ERR_STREAM_ALREADY_FINISHED:Jue,ERR_STREAM_NULL_VALUES:Que,ERR_STREAM_WRITE_AFTER_END:Zue,ERR_UNKNOWN_ENCODING:dG}=Or().codes,{errorOrDestroy:Il}=hT;EG(ft.prototype,Zu.prototype);EG(ft,Zu);function ON(){}var Nl=Yue("kOnFinished");function tE(t,e,r){typeof r!="boolean"&&(r=e instanceof si()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?que(this,t,"writableHighWaterMark",r):Xue(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=tEe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,dT(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Nl]=[]}function dT(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}tE.prototype.getBuffer=function(){return lG(this.buffered,this.bufferedIndex)};uG(tE.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ft(t){let e=this instanceof si();if(!e&&!cG(ft,this))return new ft(t);this._writableState=new tE(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&kue(t.signal,this)),Zu.call(this,t),hT.construct(this,()=>{let r=this._writableState;r.writing||gN(this,r),CN(this,r)})}uG(ft,$ue,{__proto__:null,value:function(t){return cG(this,t)?!0:this!==ft?!1:t&&t._writableState instanceof tE}});ft.prototype.pipe=function(){Il(this,new jue)};function hG(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!ET.isEncoding(r))throw new dG(r);typeof n!="function"&&(n=ON)}if(e===null)throw new Que;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=ET.from(e,r),r="buffer");else if(e instanceof ET)r="buffer";else if(Zu._isUint8Array(e))e=Zu._uint8ArrayToBuffer(e),r="buffer";else throw new Kue("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Zue:i.destroyed&&(s=new eE("write")),s?(Bo.nextTick(n,s),Il(t,s,!0),s):(i.pendingcb++,eEe(t,i,e,r,n))}ft.prototype.write=function(t,e,r){return hG(this,t,e,r)===!0};ft.prototype.cork=function(){this._writableState.corked++};ft.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||gN(this,t))};ft.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Wue(e)),!ET.isEncoding(e))throw new dG(e);return this._writableState.defaultEncoding=e,this};function eEe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==ON&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function oG(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new eE("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function aG(t,e,r,n){--e.pendingcb,n(r),mN(e),Il(t,r)}function tEe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Il(t,new fG);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Bo.nextTick(aG,t,r,e,i):aG(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&gN(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Bo.nextTick(rEe,r.afterWriteTickInfo)):TG(t,r,1,i))}function rEe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,TG(t,e,r,n)}function TG(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&mN(e),CN(t,e)}function mN(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new eE("write"))}let r=t[Nl].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new eE("end"))}dT(t)}function gN(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?ON:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:lG(r,o);l.allBuffers=e.allBuffers,oG(t,e,!0,e.length,l,"",a),dT(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;oG(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?dT(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ft.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new zue("_write()")};ft.prototype._writev=null;ft.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=hG(this,t,e);s instanceof Gue&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,CN(this,n,!0),n.ended=!0):n.finished?i=new Jue("end"):n.destroyed&&(i=new eE("end"))),typeof r=="function"&&(i||n.finished?Bo.nextTick(r,i):n[Nl].push(r)),this};function fT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function nEe(t,e){let r=!1;function n(i){if(r){Il(t,i??fG());return}if(r=!0,e.pendingcb--,i){let s=e[Nl].splice(0);for(let o=0;o<s.length;o++)s[o](i);Il(t,i,e.sync)}else fT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Bo.nextTick(NN,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function iEe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,nEe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function CN(t,e,r){fT(e)&&(iEe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Bo.nextTick((n,i)=>{fT(i)?NN(n,i):i.pendingcb--},t,e)):fT(e)&&(e.pendingcb++,NN(t,e))))}function NN(t,e){e.pendingcb--,e.finished=!0;let r=e[Nl].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Hue(ft.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var sEe=hT.destroy;ft.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Nl].length)&&Bo.nextTick(mN,r),sEe.call(this,t,e),this};ft.prototype._undestroy=hT.undestroy;ft.prototype._destroy=function(t,e){e(t)};ft.prototype[Vue.captureRejectionSymbol]=function(t){this.destroy(t)};var IN;function SG(){return IN===void 0&&(IN={}),IN}ft.fromWeb=function(t,e){return SG().newStreamWritableFromWritableStream(t,e)};ft.toWeb=function(t){return SG().newWritableStreamFromStreamWritable(t)}});var PG=g((Zxe,DG)=>{var bN=qe(),oEe=require("buffer"),{isReadable:aEe,isWritable:lEe,isIterable:RG,isNodeStream:cEe,isReadableNodeStream:AG,isWritableNodeStream:_G,isDuplexNodeStream:uEe,isReadableStream:IG,isWritableStream:NG}=ni(),OG=Vi(),{AbortError:LG,codes:{ERR_INVALID_ARG_TYPE:EEe,ERR_INVALID_RETURN_VALUE:mG}}=Or(),{destroyer:ml}=vo(),fEe=si(),wG=Qu(),dEe=TT(),{createDeferredPromise:gG}=vr(),CG=fN(),bG=globalThis.Blob||oEe.Blob,hEe=typeof bG<"u"?function(e){return e instanceof bG}:function(e){return!1},TEe=globalThis.AbortController||gt().AbortController,{FunctionPrototypeCall:yG}=at(),Ms=class extends fEe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};DG.exports=function t(e,r){if(uEe(e))return e;if(AG(e))return Ol({readable:e});if(_G(e))return Ol({writable:e});if(cEe(e))return Ol({writable:!1,readable:!1});if(IG(e))return Ol({readable:wG.fromWeb(e)});if(NG(e))return Ol({writable:dEe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=SEe(e);if(RG(i))return CG(Ms,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=yG(l,i,E=>{if(E!=null)throw new mG("nully","body",E)},E=>{ml(c,E)});return c=new Ms({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,bN.nextTick(E,null)}catch(d){bN.nextTick(E,d)}})},destroy:a})}throw new mG("Iterable, AsyncIterable or AsyncFunction",r,i)}if(hEe(e))return t(e.arrayBuffer());if(RG(e))return CG(Ms,e,{objectMode:!0,writable:!1});if(IG(e?.readable)&&NG(e?.writable))return Ms.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?AG(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?_G(e?.writable)?e?.writable:t(e.writable):void 0;return Ol({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return yG(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{ml(i,s)}),i=new Ms({objectMode:!0,writable:!1,read(){}})}throw new EEe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function SEe(t){let{promise:e,resolve:r}=gG(),n=new TEe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(bN.nextTick(c),l)return;if(i.aborted)throw new LG(void 0,{cause:i.reason});({promise:e,resolve:r}=gG()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Ol(t){let e=t.readable&&typeof t.readable.read!="function"?wG.wrap(t.readable):t.readable,r=t.writable,n=!!aEe(e),i=!!lEe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new Ms({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(OG(r,E=>{i=!1,E&&ml(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(OG(e,E=>{n=!1,E&&ml(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new LG),a=null,s=null,o=null,l===null?d(E):(l=d,ml(r,E),ml(e,E))},c}});var si=g((eve,vG)=>{"use strict";var{ObjectDefineProperties:pEe,ObjectGetOwnPropertyDescriptor:ki,ObjectKeys:REe,ObjectSetPrototypeOf:MG}=at();vG.exports=Dn;var wN=Qu(),hn=TT();MG(Dn.prototype,wN.prototype);MG(Dn,wN);{let t=REe(hn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Dn.prototype[r]||(Dn.prototype[r]=hn.prototype[r])}}function Dn(t){if(!(this instanceof Dn))return new Dn(t);wN.call(this,t),hn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}pEe(Dn.prototype,{writable:{__proto__:null,...ki(hn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ki(hn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ki(hn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ki(hn.prototype,"writableBuffer")},writableLength:{__proto__:null,...ki(hn.prototype,"writableLength")},writableFinished:{__proto__:null,...ki(hn.prototype,"writableFinished")},writableCorked:{__proto__:null,...ki(hn.prototype,"writableCorked")},writableEnded:{__proto__:null,...ki(hn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ki(hn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var yN;function xG(){return yN===void 0&&(yN={}),yN}Dn.fromWeb=function(t,e){return xG().newStreamDuplexFromReadableWritablePair(t,e)};Dn.toWeb=function(t){return xG().newReadableWritablePairFromDuplex(t)};var LN;Dn.from=function(t){return LN||(LN=PG()),LN(t,"body")}});var MN=g((tve,BG)=>{"use strict";var{ObjectSetPrototypeOf:UG,Symbol:AEe}=at();BG.exports=qi;var{ERR_METHOD_NOT_IMPLEMENTED:_Ee}=Or().codes,PN=si(),{getHighWaterMark:IEe}=ju();UG(qi.prototype,PN.prototype);UG(qi,PN);var rE=AEe("kCallback");function qi(t){if(!(this instanceof qi))return new qi(t);let e=t?IEe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),PN.call(this,t),this._readableState.sync=!1,this[rE]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",NEe)}function DN(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function NEe(){this._final!==DN&&DN.call(this)}qi.prototype._final=DN;qi.prototype._transform=function(t,e,r){throw new _Ee("_transform()")};qi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[rE]=r})};qi.prototype._read=function(){if(this[rE]){let t=this[rE];this[rE]=null,t()}}});var vN=g((rve,GG)=>{"use strict";var{ObjectSetPrototypeOf:FG}=at();GG.exports=gl;var xN=MN();FG(gl.prototype,xN.prototype);FG(gl,xN);function gl(t){if(!(this instanceof gl))return new gl(t);xN.call(this,t)}gl.prototype._transform=function(t,e,r){r(null,t)}});var AT=g((nve,VG)=>{var nE=qe(),{ArrayIsArray:OEe,Promise:mEe,SymbolAsyncIterator:gEe,SymbolDispose:CEe}=at(),RT=Vi(),{once:bEe}=vr(),yEe=vo(),HG=si(),{aggregateTwoErrors:LEe,codes:{ERR_INVALID_ARG_TYPE:VN,ERR_INVALID_RETURN_VALUE:UN,ERR_MISSING_ARGS:wEe,ERR_STREAM_DESTROYED:DEe,ERR_STREAM_PREMATURE_CLOSE:PEe},AbortError:MEe}=Or(),{validateFunction:xEe,validateAbortSignal:vEe}=Sl(),{isIterable:Fo,isReadable:BN,isReadableNodeStream:pT,isNodeStream:WG,isTransformStream:Cl,isWebStream:UEe,isReadableStream:FN,isReadableFinished:BEe}=ni(),FEe=globalThis.AbortController||gt().AbortController,GN,HN,WN;function YG(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=RT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,yEe.destroyer(t,s||new DEe("pipe")))},cleanup:i}}function GEe(t){return xEe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function YN(t){if(Fo(t))return t;if(pT(t))return HEe(t);throw new VN("val",["Readable","Iterable","AsyncIterable"],t)}async function*HEe(t){HN||(HN=Qu()),yield*HN.prototype[gEe].call(t)}async function ST(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new mEe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=RT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?LEe(i,c):c)}finally{l(),e.off("drain",o)}}async function $N(t,e,r,{end:n}){Cl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function WEe(...t){return $G(t,bEe(GEe(t)))}function $G(t,e,r){if(t.length===1&&OEe(t[0])&&(t=t[0]),t.length<2)throw new wEe("streams");let n=new FEe,i=n.signal,s=r?.signal,o=[];vEe(s,"options.signal");function a(){T(new MEe)}WN=WN||vr().addAbortListener;let l;s&&(l=WN(s,a));let c,u,E=[],d=0;function f(R){T(R,--d===0)}function T(R,A){var O;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[CEe](),n.abort(),A&&(c||o.forEach(L=>L()),nE.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],O=R<t.length-1,L=R>0,N=O||r?.end!==!1,D=R===t.length-1;if(WG(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var I=y;if(N){let{destroy:P,cleanup:x}=YG(A,O,L);E.push(P),BN(A)&&D&&o.push(x)}A.on("error",y),BN(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!Fo(h))throw new UN("Iterable, AsyncIterable or Stream","source",h)}else Fo(A)||pT(A)||Cl(A)?h=A:h=HG.from(A);else if(typeof A=="function"){if(Cl(h)){var S;h=YN((S=h)===null||S===void 0?void 0:S.readable)}else h=YN(h);if(h=A(h,{signal:i}),O){if(!Fo(h,!0))throw new UN("AsyncIterable",`transform[${R-1}]`,h)}else{var p;GN||(GN=vN());let y=new GN({objectMode:!0}),P=(p=h)===null||p===void 0?void 0:p.then;if(typeof P=="function")d++,P.call(h,G=>{u=G,G!=null&&y.write(G),N&&y.end(),nE.nextTick(f)},G=>{y.destroy(G),nE.nextTick(f,G)});else if(Fo(h,!0))d++,ST(h,y,f,{end:N});else if(FN(h)||Cl(h)){let G=h.readable||h;d++,ST(G,y,f,{end:N})}else throw new UN("AsyncIterable or Promise","destination",h);h=y;let{destroy:x,cleanup:B}=YG(h,!1,!0);E.push(x),D&&o.push(B)}}else if(WG(A)){if(pT(h)){d+=2;let y=YEe(h,A,f,{end:N});BN(A)&&D&&o.push(y)}else if(Cl(h)||FN(h)){let y=h.readable||h;d++,ST(y,A,f,{end:N})}else if(Fo(h))d++,ST(h,A,f,{end:N});else throw new VN("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(UEe(A)){if(pT(h))d++,$N(YN(h),A,f,{end:N});else if(FN(h)||Fo(h))d++,$N(h,A,f,{end:N});else if(Cl(h))d++,$N(h.readable,A,f,{end:N});else throw new VN("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=HG.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&nE.nextTick(a),h}function YEe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new PEe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;BEe(t)?nE.nextTick(o):t.once("end",o)}else r();return RT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),RT(e,{readable:!1,writable:!0},r)}VG.exports={pipelineImpl:$G,pipeline:WEe}});var qN=g((ive,jG)=>{"use strict";var{pipeline:$Ee}=AT(),_T=si(),{destroyer:VEe}=vo(),{isNodeStream:IT,isReadable:kG,isWritable:qG,isWebStream:kN,isTransformStream:Go,isWritableStream:XG,isReadableStream:KG}=ni(),{AbortError:kEe,codes:{ERR_INVALID_ARG_VALUE:zG,ERR_MISSING_ARGS:qEe}}=Or(),XEe=Vi();jG.exports=function(...e){if(e.length===0)throw new qEe("streams");if(e.length===1)return _T.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=_T.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=_T.from(e[f])}for(let f=0;f<e.length;++f)if(!(!IT(e[f])&&!kN(e[f]))){if(f<e.length-1&&!(kG(e[f])||KG(e[f])||Go(e[f])))throw new zG(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(qG(e[f])||XG(e[f])||Go(e[f])))throw new zG(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=$Ee(e,l),E=!!(qG(c)||XG(c)||Go(c)),d=!!(kG(u)||KG(u)||Go(u));if(a=new _T({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(IT(c))a._write=function(T,h,S){c.write(T,h)?S():n=S},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(kN(c)){let h=(Go(c)?c.writable:c).getWriter();a._write=async function(S,p,I){try{await h.ready,h.write(S).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(S){try{await h.ready,h.close().catch(()=>{}),i=S}catch(p){S(p)}}}let f=Go(u)?u.readable:u;XEe(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(IT(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(kN(u)){let T=(Go(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:S}=await T.read();if(!a.push(h))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new kEe),s=null,n=null,i=null,o===null?T(f):(o=T,IT(u)&&VEe(u,f))},a}});var oH=g((sve,zN)=>{"use strict";var KEe=globalThis.AbortController||gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:zEe,ERR_INVALID_ARG_TYPE:iE,ERR_MISSING_ARGS:jEe,ERR_OUT_OF_RANGE:JEe},AbortError:oi}=Or(),{validateAbortSignal:Ho,validateInteger:JG,validateObject:Wo}=Sl(),QEe=at().Symbol("kWeak"),ZEe=at().Symbol("kResistStopPropagation"),{finished:efe}=Vi(),tfe=qN(),{addAbortSignalNoValidate:rfe}=zu(),{isWritable:nfe,isNodeStream:ife}=ni(),{deprecate:sfe}=vr(),{ArrayPrototypePush:ofe,Boolean:afe,MathFloor:QG,Number:lfe,NumberIsNaN:cfe,Promise:ZG,PromiseReject:eH,PromiseResolve:ufe,PromisePrototypeThen:tH,Symbol:nH}=at(),NT=nH("kEmpty"),rH=nH("kEof");function Efe(t,e){if(e!=null&&Wo(e,"options"),e?.signal!=null&&Ho(e.signal,"options.signal"),ife(t)&&!nfe(t))throw new zEe("stream",t,"must be writable");let r=tfe(this,t);return e!=null&&e.signal&&rfe(e.signal,r),r}function OT(t,e){if(typeof t!="function")throw new iE("fn",["Function","AsyncFunction"],t);e!=null&&Wo(e,"options"),e?.signal!=null&&Ho(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=QG(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=QG(e.highWaterMark)),JG(r,"options.concurrency",1),JG(n,"options.highWaterMark",0),n+=r,async function*(){let s=vr().AbortSignalAny([e?.signal].filter(afe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let p of o){if(E)return;if(s.aborted)throw new oi;try{if(p=t(p,l),p===NT)continue;p=ufe(p)}catch(I){p=eH(I)}d+=1,tH(p,T,f),a.push(p),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new ZG(I=>{u=I})}a.push(rH)}catch(p){let I=eH(p);tH(I,T,f),a.push(I)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let p=await a[0];if(p===rH)return;if(s.aborted)throw new oi;p!==NT&&(yield p),a.shift(),h()}await new ZG(p=>{c=p})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function ffe(t=void 0){return t!=null&&Wo(t,"options"),t?.signal!=null&&Ho(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new oi({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function iH(t,e=void 0){for await(let r of KN.call(this,t,e))return!0;return!1}async function dfe(t,e=void 0){if(typeof t!="function")throw new iE("fn",["Function","AsyncFunction"],t);return!await iH.call(this,async(...r)=>!await t(...r),e)}async function hfe(t,e){for await(let r of KN.call(this,t,e))return r}async function Tfe(t,e){if(typeof t!="function")throw new iE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),NT}for await(let n of OT.call(this,r,e));}function KN(t,e){if(typeof t!="function")throw new iE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:NT}return OT.call(this,r,e)}var XN=class extends jEe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Sfe(t,e,r){var n;if(typeof t!="function")throw new iE("reducer",["Function","AsyncFunction"],t);r!=null&&Wo(r,"options"),r?.signal!=null&&Ho(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new oi(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await efe(this.destroy(c)),c}let s=new KEe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[QEe]:this,[ZEe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new oi;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new XN}finally{s.abort()}return e}async function pfe(t){t!=null&&Wo(t,"options"),t?.signal!=null&&Ho(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new oi(void 0,{cause:t.signal.reason});ofe(e,n)}return e}function Rfe(t,e){let r=OT.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function sH(t){if(t=lfe(t),cfe(t))return 0;if(t<0)throw new JEe("number",">= 0",t);return t}function Afe(t,e=void 0){return e!=null&&Wo(e,"options"),e?.signal!=null&&Ho(e.signal,"options.signal"),t=sH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new oi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new oi;t--<=0&&(yield s)}}.call(this)}function _fe(t,e=void 0){return e!=null&&Wo(e,"options"),e?.signal!=null&&Ho(e.signal,"options.signal"),t=sH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new oi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new oi;if(t-- >0&&(yield s),t<=0)return}}.call(this)}zN.exports.streamReturningOperators={asIndexedPairs:sfe(ffe,"readable.asIndexedPairs will be removed in a future version."),drop:Afe,filter:KN,flatMap:Rfe,map:OT,take:_fe,compose:Efe};zN.exports.promiseReturningOperators={every:dfe,forEach:Tfe,reduce:Sfe,toArray:pfe,some:iH,find:hfe}});var jN=g((ove,aH)=>{"use strict";var{ArrayPrototypePop:Ife,Promise:Nfe}=at(),{isIterable:Ofe,isNodeStream:mfe,isWebStream:gfe}=ni(),{pipelineImpl:Cfe}=AT(),{finished:bfe}=Vi();JN();function yfe(...t){return new Nfe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!mfe(s)&&!Ofe(s)&&!gfe(s)){let o=Ife(t);n=o.signal,i=o.end}Cfe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}aH.exports={finished:bfe,pipeline:yfe}});var JN=g((ave,SH)=>{"use strict";var{Buffer:Lfe}=require("buffer"),{ObjectDefineProperty:Xi,ObjectKeys:uH,ReflectApply:EH}=at(),{promisify:{custom:fH}}=vr(),{streamReturningOperators:lH,promiseReturningOperators:cH}=oH(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:dH}}=Or(),wfe=qN(),{setDefaultHighWaterMark:Dfe,getDefaultHighWaterMark:Pfe}=ju(),{pipeline:hH}=AT(),{destroyer:Mfe}=vo(),TH=Vi(),QN=jN(),sE=ni(),tt=SH.exports=nT().Stream;tt.isDestroyed=sE.isDestroyed;tt.isDisturbed=sE.isDisturbed;tt.isErrored=sE.isErrored;tt.isReadable=sE.isReadable;tt.isWritable=sE.isWritable;tt.Readable=Qu();for(let t of uH(lH)){let r=function(...n){if(new.target)throw dH();return tt.Readable.from(EH(e,this,n))},e=lH[t];Xi(r,"name",{__proto__:null,value:e.name}),Xi(r,"length",{__proto__:null,value:e.length}),Xi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of uH(cH)){let r=function(...n){if(new.target)throw dH();return EH(e,this,n)},e=cH[t];Xi(r,"name",{__proto__:null,value:e.name}),Xi(r,"length",{__proto__:null,value:e.length}),Xi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}tt.Writable=TT();tt.Duplex=si();tt.Transform=MN();tt.PassThrough=vN();tt.pipeline=hH;var{addAbortSignal:xfe}=zu();tt.addAbortSignal=xfe;tt.finished=TH;tt.destroy=Mfe;tt.compose=wfe;tt.setDefaultHighWaterMark=Dfe;tt.getDefaultHighWaterMark=Pfe;Xi(tt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return QN}});Xi(hH,fH,{__proto__:null,enumerable:!0,get(){return QN.pipeline}});Xi(TH,fH,{__proto__:null,enumerable:!0,get(){return QN.finished}});tt.Stream=tt;tt._isUint8Array=function(e){return e instanceof Uint8Array};tt._uint8ArrayToBuffer=function(e){return Lfe.from(e.buffer,e.byteOffset,e.byteLength)}});var ZN=g((lve,ge)=>{"use strict";var Bt=require("stream");if(Bt&&process.env.READABLE_STREAM==="disable"){let t=Bt.promises;ge.exports._uint8ArrayToBuffer=Bt._uint8ArrayToBuffer,ge.exports._isUint8Array=Bt._isUint8Array,ge.exports.isDisturbed=Bt.isDisturbed,ge.exports.isErrored=Bt.isErrored,ge.exports.isReadable=Bt.isReadable,ge.exports.Readable=Bt.Readable,ge.exports.Writable=Bt.Writable,ge.exports.Duplex=Bt.Duplex,ge.exports.Transform=Bt.Transform,ge.exports.PassThrough=Bt.PassThrough,ge.exports.addAbortSignal=Bt.addAbortSignal,ge.exports.finished=Bt.finished,ge.exports.destroy=Bt.destroy,ge.exports.pipeline=Bt.pipeline,ge.exports.compose=Bt.compose,Object.defineProperty(Bt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),ge.exports.Stream=Bt.Stream}else{let t=JN(),e=jN(),r=t.Readable.destroy;ge.exports=t.Readable,ge.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,ge.exports._isUint8Array=t._isUint8Array,ge.exports.isDisturbed=t.isDisturbed,ge.exports.isErrored=t.isErrored,ge.exports.isReadable=t.isReadable,ge.exports.Readable=t.Readable,ge.exports.Writable=t.Writable,ge.exports.Duplex=t.Duplex,ge.exports.Transform=t.Transform,ge.exports.PassThrough=t.PassThrough,ge.exports.addAbortSignal=t.addAbortSignal,ge.exports.finished=t.finished,ge.exports.destroy=t.destroy,ge.exports.destroy=r,ge.exports.pipeline=t.pipeline,ge.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),ge.exports.Stream=t.Stream}ge.exports.default=ge.exports});var IH=g((cve,_H)=>{var rO=require("fs"),RH=RL(),pH=_L(),eO=require("path"),ai=hl(),vfe=require("util").inherits,_t=yF(),AH=ZN().Transform,tO=process.platform==="win32",Ye=function(t,e){if(!(this instanceof Ye))return new Ye(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=ai.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),AH.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=pH.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=pH.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};vfe(Ye,AH);Ye.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};Ye.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof rO.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};Ye.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};Ye.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};Ye.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};Ye.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new _t("NOENDMETHOD"))};Ye.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};Ye.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};Ye.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};Ye.prototype._normalizeEntryData=function(t,e){t=ai.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=ai.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?tO?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(tO?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,tO&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=ai.dateify(t.date),t};Ye.prototype._onModuleError=function(t){this.emit("error",t)};Ye.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};Ye.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};Ye.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}rO.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};Ye.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};Ye.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};Ye.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=ai.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=ai.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=ai.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=rO.readlinkSync(t.filepath),n=eO.dirname(t.filepath);t.data.type="symlink",t.data.linkname=eO.relative(n,eO.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new _t("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new _t("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new _t("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};Ye.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};Ye.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new _t("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new _t("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new _t("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=ai.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(ai.isStream(t))e.sourceType="stream";else return this.emit("error",new _t("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};Ye.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new _t("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new _t("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function o(c){this.emit("error",c)}function a(c){l.pause();var u=!1,E=Object.assign({},r);E.name=c.relative,E.prefix=e,E.stats=c.stat,E.callback=l.resume.bind(l);try{if(n){if(E=n(E),E===!1)u=!0;else if(typeof E!="object")throw new _t("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(d){this.emit("error",d);return}if(u){l.resume();return}this._append(c.absolute,E)}var l=RH(t,i);return l.on("error",o.bind(this)),l.on("match",a.bind(this)),l.on("end",s.bind(this)),this};Ye.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new _t("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new _t("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};Ye.prototype.glob=function(t,e,r){this._pending++,e=ai.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(a){this.emit("error",a)}function s(a){o.pause();var l=Object.assign({},r);l.callback=o.resume.bind(o),l.stats=a.stat,l.name=a.relative,this._append(a.absolute,l)}var o=RH(e.cwd||".",e);return o.on("error",i.bind(this)),o.on("match",s.bind(this)),o.on("end",n.bind(this)),this};Ye.prototype.finalize=function(){if(this._state.aborted){var t=new _t("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new _t("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(o){s=!0,i(o)})})};Ye.prototype.setFormat=function(t){return this._format?(this.emit("error",new _t("FORMATSET")),this):(this._format=t,this)};Ye.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new _t("ABORTED")),this):this._state.module?(this.emit("error",new _t("MODULESET")),this):(this._module=t,this._modulePipe(),this)};Ye.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new _t("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new _t("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new _t("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new _t("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};Ye.prototype.pointer=function(){return this._pointer};Ye.prototype.use=function(t){return this._streams.push(t),this};_H.exports=Ye});var gT=g((uve,NH)=>{var mT=NH.exports=function(){};mT.prototype.getName=function(){};mT.prototype.getSize=function(){};mT.prototype.getLastModifiedDate=function(){};mT.prototype.isDirectory=function(){}});var CT=g((Eve,OH)=>{var Tn=OH.exports={};Tn.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};Tn.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};Tn.fromDosTime=function(t){return Tn.dosToDate(t.readUInt32LE(0))};Tn.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};Tn.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};Tn.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};Tn.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};Tn.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};Tn.toDosTime=function(t){return Tn.getLongBytes(Tn.dateToDos(t))}});var nO=g((fve,LH)=>{var mH=CT(),gH=8,CH=1,Ufe=4,Bfe=2,bH=64,yH=2048,fr=LH.exports=function(){return this instanceof fr?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new fr};fr.prototype.encode=function(){return mH.getShortBytes((this.descriptor?gH:0)|(this.utf8?yH:0)|(this.encryption?CH:0)|(this.strongEncryption?bH:0))};fr.prototype.parse=function(t,e){var r=mH.getShortBytesValue(t,e),n=new fr;return n.useDataDescriptor((r&gH)!==0),n.useUTF8ForNames((r&yH)!==0),n.useStrongEncryption((r&bH)!==0),n.useEncryption((r&CH)!==0),n.setSlidingDictionarySize((r&Bfe)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&Ufe)!==0?3:2),n};fr.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};fr.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};fr.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};fr.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};fr.prototype.useDataDescriptor=function(t){this.descriptor=t};fr.prototype.usesDataDescriptor=function(){return this.descriptor};fr.prototype.useEncryption=function(t){this.encryption=t};fr.prototype.usesEncryption=function(){return this.encryption};fr.prototype.useStrongEncryption=function(t){this.strongEncryption=t};fr.prototype.usesStrongEncryption=function(){return this.strongEncryption};fr.prototype.useUTF8ForNames=function(t){this.utf8=t};fr.prototype.usesUTF8ForNames=function(){return this.utf8}});var DH=g((dve,wH)=>{wH.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var iO=g((hve,PH)=>{PH.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var sO=g((Tve,BH)=>{var Ffe=require("util").inherits,Gfe=mA(),xH=gT(),vH=nO(),MH=DH(),Ur=iO(),UH=CT(),Ne=BH.exports=function(t){if(!(this instanceof Ne))return new Ne(t);xH.call(this),this.platform=Ur.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new vH,this.crc=0,this.time=-1,this.minver=Ur.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};Ffe(Ne,xH);Ne.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};Ne.prototype.getComment=function(){return this.comment!==null?this.comment:""};Ne.prototype.getCompressedSize=function(){return this.csize};Ne.prototype.getCrc=function(){return this.crc};Ne.prototype.getExternalAttributes=function(){return this.exattr};Ne.prototype.getExtra=function(){return this.extra!==null?this.extra:Ur.EMPTY};Ne.prototype.getGeneralPurposeBit=function(){return this.gpb};Ne.prototype.getInternalAttributes=function(){return this.inattr};Ne.prototype.getLastModifiedDate=function(){return this.getTime()};Ne.prototype.getLocalFileDataExtra=function(){return this.getExtra()};Ne.prototype.getMethod=function(){return this.method};Ne.prototype.getName=function(){return this.name};Ne.prototype.getPlatform=function(){return this.platform};Ne.prototype.getSize=function(){return this.size};Ne.prototype.getTime=function(){return this.time!==-1?UH.dosToDate(this.time):-1};Ne.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};Ne.prototype.getUnixMode=function(){return this.platform!==Ur.PLATFORM_UNIX?0:this.getExternalAttributes()>>Ur.SHORT_SHIFT&Ur.SHORT_MASK};Ne.prototype.getVersionNeededToExtract=function(){return this.minver};Ne.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};Ne.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};Ne.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};Ne.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};Ne.prototype.setExtra=function(t){this.extra=t};Ne.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof vH))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};Ne.prototype.setInternalAttributes=function(t){this.inattr=t};Ne.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};Ne.prototype.setName=function(t,e=!1){t=Gfe(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};Ne.prototype.setPlatform=function(t){this.platform=t};Ne.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};Ne.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=UH.dateToDos(t,e)};Ne.prototype.setUnixMode=function(t){t|=this.isDirectory()?Ur.S_IFDIR:Ur.S_IFREG;var e=0;e|=t<<Ur.SHORT_SHIFT|(this.isDirectory()?Ur.S_DOS_D:Ur.S_DOS_A),this.setExternalAttributes(e),this.mode=t&Ur.MODE_MASK,this.platform=Ur.PLATFORM_UNIX};Ne.prototype.setVersionNeededToExtract=function(t){this.minver=t};Ne.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};Ne.prototype.isUnixSymlink=function(){return(this.getUnixMode()&MH.FILE_TYPE_FLAG)===MH.LINK_FLAG};Ne.prototype.isZip64=function(){return this.csize>Ur.ZIP64_MAGIC||this.size>Ur.ZIP64_MAGIC}});var lt=g((Sve,FH)=>{"use strict";var oO=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};FH.exports={AggregateError:oO,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var aO=g((pve,GH)=>{"use strict";GH.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var gr=g((Rve,YH)=>{"use strict";var{format:Hfe,inspect:bT}=aO(),{AggregateError:Wfe}=lt(),Yfe=globalThis.AggregateError||Wfe,$fe=Symbol("kIsNodeError"),Vfe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],kfe=/^([A-Z][a-z0-9]*)+$/,qfe="__node_internal_",yT={};function Yo(t,e){if(!t)throw new yT.ERR_INTERNAL_ASSERTION(e)}function HH(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Xfe(t,e,r){if(typeof e=="function")return Yo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Yo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Hfe(e,...r)}function dr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Xfe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[$fe]=!0,yT[t]=n}function WH(t){let e=qfe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Kfe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Yfe([e,t],e.message);return r.code=e.code,r}return t||e}var lO=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new yT.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};dr("ERR_ASSERTION","%s",Error);dr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Yo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Yo(typeof l=="string","All expected entries have to be of type string"),Vfe.includes(l)?i.push(l.toLowerCase()):kfe.test(l)?s.push(l):(Yo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=bT(r,{depth:-1});n+=`. Received ${l}`}}else{let l=bT(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);dr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=bT(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);dr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);dr("ERR_MISSING_ARGS",(...t)=>{Yo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);dr("ERR_OUT_OF_RANGE",(t,e,r)=>{Yo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=HH(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=HH(n)),n+="n"}else n=bT(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);dr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);dr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);dr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);dr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);dr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);dr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);dr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);dr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);dr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);dr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);dr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);YH.exports={AbortError:lO,aggregateTwoErrors:WH(Kfe),hideStackFrames:WH,codes:yT}});var Br=g((Ave,uO)=>{"use strict";var zfe=require("buffer"),{format:jfe,inspect:Jfe}=aO(),{codes:{ERR_INVALID_ARG_TYPE:cO}}=gr(),{kResistStopPropagation:Qfe,AggregateError:Zfe,SymbolDispose:ede}=lt(),tde=globalThis.AbortSignal||gt().AbortSignal,rde=globalThis.AbortController||gt().AbortController,nde=Object.getPrototypeOf(async function(){}).constructor,$H=globalThis.Blob||zfe.Blob,ide=typeof $H<"u"?function(e){return e instanceof $H}:function(e){return!1},VH=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new cO(e,"AbortSignal",t)},sde=(t,e)=>{if(typeof t!="function")throw new cO(e,"Function",t)};uO.exports={AggregateError:Zfe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:jfe,inspect:Jfe,types:{isAsyncFunction(t){return t instanceof nde},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:ide,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new cO("signal","AbortSignal",e);VH(e,"signal"),sde(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Qfe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[ede](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:tde.any||function(e){if(e.length===1)return e[0];let r=new rde,n=()=>r.abort();return e.forEach(i=>{VH(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};uO.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var yl=g((_ve,eW)=>{"use strict";var{ArrayIsArray:fO,ArrayPrototypeIncludes:KH,ArrayPrototypeJoin:zH,ArrayPrototypeMap:ode,NumberIsInteger:dO,NumberIsNaN:ade,NumberMAX_SAFE_INTEGER:lde,NumberMIN_SAFE_INTEGER:cde,NumberParseInt:ude,ObjectPrototypeHasOwnProperty:Ede,RegExpPrototypeExec:jH,String:fde,StringPrototypeToUpperCase:dde,StringPrototypeTrim:hde}=lt(),{hideStackFrames:Sn,codes:{ERR_SOCKET_BAD_PORT:Tde,ERR_INVALID_ARG_TYPE:Cr,ERR_INVALID_ARG_VALUE:bl,ERR_OUT_OF_RANGE:$o,ERR_UNKNOWN_SIGNAL:kH}}=gr(),{normalizeEncoding:Sde}=Br(),{isAsyncFunction:pde,isArrayBufferView:Rde}=Br().types,qH={};function Ade(t){return t===(t|0)}function _de(t){return t===t>>>0}var Ide=/^[0-7]+$/,Nde="must be a 32-bit unsigned integer or an octal string";function Ode(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(jH(Ide,t)===null)throw new bl(e,t,Nde);t=ude(t,8)}return JH(t,e),t}var mde=Sn((t,e,r=cde,n=lde)=>{if(typeof t!="number")throw new Cr(e,"number",t);if(!dO(t))throw new $o(e,"an integer",t);if(t<r||t>n)throw new $o(e,`>= ${r} && <= ${n}`,t)}),gde=Sn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Cr(e,"number",t);if(!dO(t))throw new $o(e,"an integer",t);if(t<r||t>n)throw new $o(e,`>= ${r} && <= ${n}`,t)}),JH=Sn((t,e,r=!1)=>{if(typeof t!="number")throw new Cr(e,"number",t);if(!dO(t))throw new $o(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new $o(e,`>= ${n} && <= ${i}`,t)});function hO(t,e){if(typeof t!="string")throw new Cr(e,"string",t)}function Cde(t,e,r=void 0,n){if(typeof t!="number")throw new Cr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&ade(t))throw new $o(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var bde=Sn((t,e,r)=>{if(!KH(r,t)){let i="must be one of: "+zH(ode(r,s=>typeof s=="string"?`'${s}'`:fde(s)),", ");throw new bl(e,t,i)}});function QH(t,e){if(typeof t!="boolean")throw new Cr(e,"boolean",t)}function EO(t,e,r){return t==null||!Ede(t,e)?r:t[e]}var yde=Sn((t,e,r=null)=>{let n=EO(r,"allowArray",!1),i=EO(r,"allowFunction",!1);if(!EO(r,"nullable",!1)&&t===null||!n&&fO(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Cr(e,"Object",t)}),Lde=Sn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Cr(e,"a dictionary",t)}),LT=Sn((t,e,r=0)=>{if(!fO(t))throw new Cr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new bl(e,t,n)}});function wde(t,e){LT(t,e);for(let r=0;r<t.length;r++)hO(t[r],`${e}[${r}]`)}function Dde(t,e){LT(t,e);for(let r=0;r<t.length;r++)QH(t[r],`${e}[${r}]`)}function Pde(t,e){LT(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Cr(i,"AbortSignal",n);ZH(n,i)}}function Mde(t,e="signal"){if(hO(t,e),qH[t]===void 0)throw qH[dde(t)]!==void 0?new kH(t+" (signals must use all capital letters)"):new kH(t)}var xde=Sn((t,e="buffer")=>{if(!Rde(t))throw new Cr(e,["Buffer","TypedArray","DataView"],t)});function vde(t,e){let r=Sde(e),n=t.length;if(r==="hex"&&n%2!==0)throw new bl("encoding",e,`is invalid for data of length ${n}`)}function Ude(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&hde(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Tde(e,t,r);return t|0}var ZH=Sn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Cr(e,"AbortSignal",t)}),Bde=Sn((t,e)=>{if(typeof t!="function")throw new Cr(e,"Function",t)}),Fde=Sn((t,e)=>{if(typeof t!="function"||pde(t))throw new Cr(e,"Function",t)}),Gde=Sn((t,e)=>{if(t!==void 0)throw new Cr(e,"undefined",t)});function Hde(t,e,r){if(!KH(r,t))throw new Cr(e,`('${zH(r,"|")}')`,t)}var Wde=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function XH(t,e){if(typeof t>"u"||!jH(Wde,t))throw new bl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Yde(t){if(typeof t=="string")return XH(t,"hints"),t;if(fO(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];XH(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new bl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}eW.exports={isInt32:Ade,isUint32:_de,parseFileMode:Ode,validateArray:LT,validateStringArray:wde,validateBooleanArray:Dde,validateAbortSignalArray:Pde,validateBoolean:QH,validateBuffer:xde,validateDictionary:Lde,validateEncoding:vde,validateFunction:Bde,validateInt32:gde,validateInteger:mde,validateNumber:Cde,validateObject:yde,validateOneOf:bde,validatePlainFunction:Fde,validatePort:Ude,validateSignalName:Mde,validateString:hO,validateUint32:JH,validateUndefined:Gde,validateUnion:Hde,validateAbortSignal:ZH,validateLinkHeaderValue:Yde}});var ci=g((Ive,TW)=>{"use strict";var{SymbolAsyncIterator:tW,SymbolIterator:rW,SymbolFor:Vo}=lt(),nW=Vo("nodejs.stream.destroyed"),iW=Vo("nodejs.stream.errored"),TO=Vo("nodejs.stream.readable"),SO=Vo("nodejs.stream.writable"),sW=Vo("nodejs.stream.disturbed"),$de=Vo("nodejs.webstream.isClosedPromise"),Vde=Vo("nodejs.webstream.controllerErrorFunction");function wT(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function DT(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function kde(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function li(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function oW(t){return!!(t&&!li(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function aW(t){return!!(t&&!li(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function lW(t){return!!(t&&!li(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function qde(t){return oW(t)||aW(t)||lW(t)}function Xde(t,e){return t==null?!1:e===!0?typeof t[tW]=="function":e===!1?typeof t[rW]=="function":typeof t[tW]=="function"||typeof t[rW]=="function"}function PT(t){if(!li(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[nW]||n!=null&&n.destroyed)}function cW(t){if(!DT(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Kde(t,e){if(!DT(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function zde(t){if(!wT(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function uW(t,e){if(!wT(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function EW(t){return t&&t[TO]!=null?t[TO]:typeof t?.readable!="boolean"?null:PT(t)?!1:wT(t)&&t.readable&&!uW(t)}function fW(t){return t&&t[SO]!=null?t[SO]:typeof t?.writable!="boolean"?null:PT(t)?!1:DT(t)&&t.writable&&!cW(t)}function jde(t,e){return li(t)?PT(t)?!0:!(e?.readable!==!1&&EW(t)||e?.writable!==!1&&fW(t)):null}function Jde(t){var e,r;return li(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Qde(t){var e,r;return li(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Zde(t){if(!li(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&dW(t)?t._closed:null}function dW(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function hW(t){return typeof t._sent100=="boolean"&&dW(t)}function ehe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function the(t){if(!li(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&hW(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function rhe(t){var e;return!!(t&&((e=t[sW])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function nhe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[iW])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}TW.exports={isDestroyed:PT,kIsDestroyed:nW,isDisturbed:rhe,kIsDisturbed:sW,isErrored:nhe,kIsErrored:iW,isReadable:EW,kIsReadable:TO,kIsClosedPromise:$de,kControllerErrorFunction:Vde,kIsWritable:SO,isClosed:Zde,isDuplexNodeStream:kde,isFinished:jde,isIterable:Xde,isReadableNodeStream:wT,isReadableStream:oW,isReadableEnded:zde,isReadableFinished:uW,isReadableErrored:Qde,isNodeStream:li,isWebStream:qde,isWritable:fW,isWritableNodeStream:DT,isWritableStream:aW,isWritableEnded:cW,isWritableFinished:Kde,isWritableErrored:Jde,isServerRequest:ehe,isServerResponse:hW,willEmitClose:the,isTransformStream:lW}});var Ki=g((Nve,IO)=>{"use strict";var xs=qe(),{AbortError:mW,codes:ihe}=gr(),{ERR_INVALID_ARG_TYPE:she,ERR_STREAM_PREMATURE_CLOSE:SW}=ihe,{kEmptyObject:RO,once:AO}=Br(),{validateAbortSignal:ohe,validateFunction:ahe,validateObject:lhe,validateBoolean:che}=yl(),{Promise:uhe,PromisePrototypeThen:Ehe,SymbolDispose:gW}=lt(),{isClosed:fhe,isReadable:pW,isReadableNodeStream:pO,isReadableStream:dhe,isReadableFinished:RW,isReadableErrored:AW,isWritable:_W,isWritableNodeStream:IW,isWritableStream:hhe,isWritableFinished:NW,isWritableErrored:OW,isNodeStream:The,willEmitClose:She,kIsClosedPromise:phe}=ci(),Ll;function Rhe(t){return t.setHeader&&typeof t.abort=="function"}var _O=()=>{};function CW(t,e,r){var n,i;if(arguments.length===2?(r=e,e=RO):e==null?e=RO:lhe(e,"options"),ahe(r,"callback"),ohe(e.signal,"options.signal"),r=AO(r),dhe(t)||hhe(t))return Ahe(t,e,r);if(!The(t))throw new she("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:pO(t),o=(i=e.writable)!==null&&i!==void 0?i:IW(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=She(t)&&pO(t)===s&&IW(t)===o,E=NW(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=RW(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=O=>{r.call(t,O)},S=fhe(t),p=()=>{S=!0;let O=OW(t)||AW(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&pO(t,!0)&&!RW(t,!1))return r.call(t,new SW);if(o&&!E&&!NW(t,!1))return r.call(t,new SW);r.call(t)},I=()=>{S=!0;let O=OW(t)||AW(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},R=()=>{t.req.on("finish",d)};Rhe(t)?(t.on("complete",d),u||t.on("abort",p),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",p),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",p),S?xs.nextTick(p):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||xs.nextTick(I):(!s&&(!u||pW(t))&&(E||_W(t)===!1)||!o&&(!u||_W(t))&&(f||pW(t)===!1)||l&&t.req&&t.aborted)&&xs.nextTick(I);let A=()=>{r=_O,t.removeListener("aborted",p),t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",R),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",p)};if(e.signal&&!S){let O=()=>{let L=r;A(),L.call(t,new mW(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)xs.nextTick(O);else{Ll=Ll||Br().addAbortListener;let L=Ll(e.signal,O),N=r;r=AO((...D)=>{L[gW](),N.apply(t,D)})}}return A}function Ahe(t,e,r){let n=!1,i=_O;if(e.signal)if(i=()=>{n=!0,r.call(t,new mW(void 0,{cause:e.signal.reason}))},e.signal.aborted)xs.nextTick(i);else{Ll=Ll||Br().addAbortListener;let o=Ll(e.signal,i),a=r;r=AO((...l)=>{o[gW](),a.apply(t,l)})}let s=(...o)=>{n||xs.nextTick(()=>r.apply(t,o))};return Ehe(t[phe].promise,s,s),_O}function _he(t,e){var r;let n=!1;return e===null&&(e=RO),(r=e)!==null&&r!==void 0&&r.cleanup&&(che(e.cleanup,"cleanup"),n=e.cleanup),new uhe((i,s)=>{let o=CW(t,e,a=>{n&&o(),a?s(a):i()})})}IO.exports=CW;IO.exports.finished=_he});var ko=g((Ove,xW)=>{"use strict";var ui=qe(),{aggregateTwoErrors:Ihe,codes:{ERR_MULTIPLE_CALLBACK:Nhe},AbortError:Ohe}=gr(),{Symbol:LW}=lt(),{kIsDestroyed:mhe,isDestroyed:ghe,isFinished:Che,isServerRequest:bhe}=ci(),wW=LW("kDestroy"),NO=LW("kConstruct");function DW(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function yhe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(DW(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?bW(this,t,e):this.once(wW,function(s){bW(this,Ihe(s,t),e)}),this)}function bW(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;DW(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?ui.nextTick(Lhe,t,s):ui.nextTick(PW,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function Lhe(t,e){OO(t,e),PW(t)}function PW(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function OO(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function whe(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function mO(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?ui.nextTick(OO,t,e):OO(t,e))}function Dhe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(NO,e),!(t.listenerCount(NO)>1)&&ui.nextTick(Phe,t)}function Phe(t){let e=!1;function r(n){if(e){mO(t,n??new Nhe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(wW,n):n?mO(t,n,!0):ui.nextTick(Mhe,t)}try{t._construct(n=>{ui.nextTick(r,n)})}catch(n){ui.nextTick(r,n)}}function Mhe(t){t.emit(NO)}function yW(t){return t?.setHeader&&typeof t.abort=="function"}function MW(t){t.emit("close")}function xhe(t,e){t.emit("error",e),ui.nextTick(MW,t)}function vhe(t,e){!t||ghe(t)||(!e&&!Che(t)&&(e=new Ohe),bhe(t)?(t.socket=null,t.destroy(e)):yW(t)?t.abort():yW(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ui.nextTick(xhe,t,e):ui.nextTick(MW,t),t.destroyed||(t[mhe]=!0))}xW.exports={construct:Dhe,destroyer:vhe,destroy:yhe,undestroy:whe,errorOrDestroy:mO}});var vT=g((mve,UW)=>{"use strict";var{ArrayIsArray:Uhe,ObjectSetPrototypeOf:vW}=lt(),{EventEmitter:MT}=require("events");function xT(t){MT.call(this,t)}vW(xT.prototype,MT.prototype);vW(xT,MT);xT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),MT.listenerCount(this,"error")===0&&this.emit("error",u)}gO(r,"error",l),gO(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function gO(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Uhe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}UW.exports={Stream:xT,prependListener:gO}});var oE=g((gve,UT)=>{"use strict";var{SymbolDispose:Bhe}=lt(),{AbortError:BW,codes:Fhe}=gr(),{isNodeStream:FW,isWebStream:Ghe,kControllerErrorFunction:Hhe}=ci(),Whe=Ki(),{ERR_INVALID_ARG_TYPE:GW}=Fhe,CO,Yhe=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new GW(e,"AbortSignal",t)};UT.exports.addAbortSignal=function(e,r){if(Yhe(e,"signal"),!FW(r)&&!Ghe(r))throw new GW("stream",["ReadableStream","WritableStream","Stream"],r);return UT.exports.addAbortSignalNoValidate(e,r)};UT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=FW(e)?()=>{e.destroy(new BW(void 0,{cause:t.reason}))}:()=>{e[Hhe](new BW(void 0,{cause:t.reason}))};if(t.aborted)r();else{CO=CO||Br().addAbortListener;let n=CO(t,r);Whe(e,n[Bhe])}return e}});var YW=g((bve,WW)=>{"use strict";var{StringPrototypeSlice:HW,SymbolIterator:$he,TypedArrayPrototypeSet:BT,Uint8Array:Vhe}=lt(),{Buffer:bO}=require("buffer"),{inspect:khe}=Br();WW.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return bO.alloc(0);let r=bO.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)BT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[$he](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=HW(s,0,e),this.head=n,n.data=HW(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=bO.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)BT(r,o,n-e),e-=o.length;else{e===o.length?(BT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(BT(r,new Vhe(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return khe(this,{...r,depth:0,customInspect:!1})}}});var aE=g((yve,qW)=>{"use strict";var{MathFloor:qhe,NumberIsInteger:Xhe}=lt(),{validateInteger:Khe}=yl(),{ERR_INVALID_ARG_VALUE:zhe}=gr().codes,$W=16*1024,VW=16;function jhe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function kW(t){return t?VW:$W}function Jhe(t,e){Khe(e,"value",0),t?VW=e:$W=e}function Qhe(t,e,r,n){let i=jhe(e,n,r);if(i!=null){if(!Xhe(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new zhe(s,i)}return qhe(i)}return kW(t.objectMode)}qW.exports={getHighWaterMark:Qhe,getDefaultHighWaterMark:kW,setDefaultHighWaterMark:Jhe}});var yO=g((Lve,jW)=>{"use strict";var XW=qe(),{PromisePrototypeThen:Zhe,SymbolAsyncIterator:KW,SymbolIterator:zW}=lt(),{Buffer:eTe}=require("buffer"),{ERR_INVALID_ARG_TYPE:tTe,ERR_STREAM_NULL_VALUES:rTe}=gr().codes;function nTe(t,e,r){let n;if(typeof e=="string"||e instanceof eTe)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[KW])i=!0,n=e[KW]();else if(e&&e[zW])i=!1,n=e[zW]();else throw new tTe("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Zhe(a(c),()=>XW.nextTick(u,c),E=>XW.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new rTe;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}jW.exports=nTe});var cE=g((wve,hY)=>{"use strict";var Pn=qe(),{ArrayPrototypeIndexOf:iTe,NumberIsInteger:sTe,NumberIsNaN:oTe,NumberParseInt:aTe,ObjectDefineProperties:UO,ObjectKeys:lTe,ObjectSetPrototypeOf:ZW,Promise:eY,SafeSet:cTe,SymbolAsyncDispose:uTe,SymbolAsyncIterator:ETe,Symbol:fTe}=lt();hY.exports=Re;Re.ReadableState=WT;var{EventEmitter:dTe}=require("events"),{Stream:vs,prependListener:hTe}=vT(),{Buffer:LO}=require("buffer"),{addAbortSignal:TTe}=oE(),tY=Ki(),De=Br().debuglog("stream",t=>{De=t}),STe=YW(),Pl=ko(),{getHighWaterMark:pTe,getDefaultHighWaterMark:RTe}=aE(),{aggregateTwoErrors:JW,codes:{ERR_INVALID_ARG_TYPE:ATe,ERR_METHOD_NOT_IMPLEMENTED:_Te,ERR_OUT_OF_RANGE:ITe,ERR_STREAM_PUSH_AFTER_EOF:NTe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:OTe},AbortError:mTe}=gr(),{validateObject:gTe}=yl(),qo=fTe("kPaused"),{StringDecoder:rY}=du(),CTe=yO();ZW(Re.prototype,vs.prototype);ZW(Re,vs);var wO=()=>{},{errorOrDestroy:wl}=Pl,Dl=1,bTe=2,nY=4,lE=8,iY=16,FT=32,GT=64,sY=128,yTe=256,LTe=512,wTe=1024,xO=2048,vO=4096,DTe=8192,PTe=16384,MTe=32768,oY=65536,xTe=1<<17,vTe=1<<18;function Ft(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}UO(WT.prototype,{objectMode:Ft(Dl),ended:Ft(bTe),endEmitted:Ft(nY),reading:Ft(lE),constructed:Ft(iY),sync:Ft(FT),needReadable:Ft(GT),emittedReadable:Ft(sY),readableListening:Ft(yTe),resumeScheduled:Ft(LTe),errorEmitted:Ft(wTe),emitClose:Ft(xO),autoDestroy:Ft(vO),destroyed:Ft(DTe),closed:Ft(PTe),closeEmitted:Ft(MTe),multiAwaitDrain:Ft(oY),readingMore:Ft(xTe),dataEmitted:Ft(vTe)});function WT(t,e,r){typeof r!="boolean"&&(r=e instanceof Ei()),this.state=xO|vO|iY|FT,t&&t.objectMode&&(this.state|=Dl),r&&t&&t.readableObjectMode&&(this.state|=Dl),this.highWaterMark=t?pTe(this,t,"readableHighWaterMark",r):RTe(!1),this.buffer=new STe,this.length=0,this.pipes=[],this.flowing=null,this[qo]=null,t&&t.emitClose===!1&&(this.state&=~xO),t&&t.autoDestroy===!1&&(this.state&=~vO),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new rY(t.encoding),this.encoding=t.encoding)}function Re(t){if(!(this instanceof Re))return new Re(t);let e=this instanceof Ei();this._readableState=new WT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&TTe(t.signal,this)),vs.call(this,t),Pl.construct(this,()=>{this._readableState.needReadable&&HT(this,this._readableState)})}Re.prototype.destroy=Pl.destroy;Re.prototype._undestroy=Pl.undestroy;Re.prototype._destroy=function(t,e){e(t)};Re.prototype[dTe.captureRejectionSymbol]=function(t){this.destroy(t)};Re.prototype[uTe]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new mTe,this.destroy(t)),new eY((e,r)=>tY(this,n=>n&&n!==t?r(n):e(null)))};Re.prototype.push=function(t,e){return aY(this,t,e,!1)};Re.prototype.unshift=function(t,e){return aY(this,t,e,!0)};function aY(t,e,r,n){De("readableAddChunk",e);let i=t._readableState,s;if((i.state&Dl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=LO.from(e,r).toString(i.encoding):(e=LO.from(e,r),r=""))):e instanceof LO?r="":vs._isUint8Array(e)?(e=vs._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new ATe("chunk",["string","Buffer","Uint8Array"],e))),s)wl(t,s);else if(e===null)i.state&=~lE,FTe(t,i);else if((i.state&Dl)!==0||e&&e.length>0)if(n)if((i.state&nY)!==0)wl(t,new OTe);else{if(i.destroyed||i.errored)return!1;DO(t,i,e,!0)}else if(i.ended)wl(t,new NTe);else{if(i.destroyed||i.errored)return!1;i.state&=~lE,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?DO(t,i,e,!1):HT(t,i)):DO(t,i,e,!1)}else n||(i.state&=~lE,HT(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function DO(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&oY)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&GT)!==0&&YT(t)),HT(t,e)}Re.prototype.isPaused=function(){let t=this._readableState;return t[qo]===!0||t.flowing===!1};Re.prototype.setEncoding=function(t){let e=new rY(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var UTe=1073741824;function BTe(t){if(t>UTe)throw new ITe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function QW(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Dl)!==0?1:oTe(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Re.prototype.read=function(t){De("read",t),t===void 0?t=NaN:sTe(t)||(t=aTe(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=BTe(t)),t!==0&&(e.state&=~sY),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return De("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?PO(this):YT(this),null;if(t=QW(t,e),t===0&&e.ended)return e.length===0&&PO(this),null;let n=(e.state&GT)!==0;if(De("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,De("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,De("reading, ended or constructing",n);else if(n){De("do read"),e.state|=lE|FT,e.length===0&&(e.state|=GT);try{this._read(e.highWaterMark)}catch(s){wl(this,s)}e.state&=~FT,e.reading||(t=QW(r,e))}let i;return t>0?i=fY(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&PO(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function FTe(t,e){if(De("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?YT(t):(e.needReadable=!1,e.emittedReadable=!0,lY(t))}}function YT(t){let e=t._readableState;De("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(De("emitReadable",e.flowing),e.emittedReadable=!0,Pn.nextTick(lY,t))}function lY(t){let e=t._readableState;De("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,uY(t)}function HT(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Pn.nextTick(GTe,t,e))}function GTe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(De("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Re.prototype._read=function(t){throw new _Te("_read()")};Re.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new cTe(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),De("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Pn.stdout&&t!==Pn.stderr?a:S;n.endEmitted?Pn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){De("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){De("onend"),t.end()}let l,c=!1;function u(){De("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(De("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(De("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=HTe(r,t),t.on("drain",l))}r.on("data",d);function d(p){De("ondata");let I=t.write(p);De("dest.write",I),I===!1&&E()}function f(p){if(De("onerror",p),S(),t.removeListener("error",f),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?wl(t,p):t.emit("error",p)}}hTe(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){De("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){De("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(De("pipe resume"),r.resume()),t};function HTe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(De("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(De("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Re.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=iTe(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Re.prototype.on=function(t,e){let r=vs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,De("on readable",n.length,n.reading),n.length?YT(this):n.reading||Pn.nextTick(WTe,this)),r};Re.prototype.addListener=Re.prototype.on;Re.prototype.removeListener=function(t,e){let r=vs.prototype.removeListener.call(this,t,e);return t==="readable"&&Pn.nextTick(cY,this),r};Re.prototype.off=Re.prototype.removeListener;Re.prototype.removeAllListeners=function(t){let e=vs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Pn.nextTick(cY,this),e};function cY(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[qo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function WTe(t){De("readable nexttick read 0"),t.read(0)}Re.prototype.resume=function(){let t=this._readableState;return t.flowing||(De("resume"),t.flowing=!t.readableListening,YTe(this,t)),t[qo]=!1,this};function YTe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Pn.nextTick($Te,t,e))}function $Te(t,e){De("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),uY(t),e.flowing&&!e.reading&&t.read(0)}Re.prototype.pause=function(){return De("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(De("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[qo]=!0,this};function uY(t){let e=t._readableState;for(De("flow",e.flowing);e.flowing&&t.read()!==null;);}Re.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{wl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=lTe(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Re.prototype[ETe]=function(){return EY(this)};Re.prototype.iterator=function(t){return t!==void 0&&gTe(t,"options"),EY(this,t)};function EY(t,e){typeof t.read!="function"&&(t=Re.wrap(t,{objectMode:!0}));let r=VTe(t,e);return r.stream=t,r}async function*VTe(t,e){let r=wO;function n(o){this===t?(r(),r=wO):r=o}t.on("readable",n);let i,s=tY(t,{writable:!1},o=>{i=o?JW(i,o):null,r(),r=wO});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new eY(n)}}}catch(o){throw i=JW(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Pl.destroyer(t,null):(t.off("readable",n),s())}}UO(Re.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});UO(WT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[qo]!==!1},set(t){this[qo]=!!t}}});Re._fromList=fY;function fY(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function PO(t){let e=t._readableState;De("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Pn.nextTick(kTe,e,t))}function kTe(t,e){if(De("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Pn.nextTick(qTe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function qTe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Re.from=function(t,e){return CTe(Re,t,e)};var MO;function dY(){return MO===void 0&&(MO={}),MO}Re.fromWeb=function(t,e){return dY().newStreamReadableFromReadableStream(t,e)};Re.toWeb=function(t,e){return dY().newReadableStreamFromStreamReadable(t,e)};Re.wrap=function(t,e){var r,n;return new Re({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Pl.destroyer(t,i),s(i)}}).wrap(t)}});var XT=g((Dve,CY)=>{"use strict";var Xo=qe(),{ArrayPrototypeSlice:pY,Error:XTe,FunctionPrototypeSymbolHasInstance:RY,ObjectDefineProperty:AY,ObjectDefineProperties:KTe,ObjectSetPrototypeOf:_Y,StringPrototypeToLowerCase:zTe,Symbol:jTe,SymbolHasInstance:JTe}=lt();CY.exports=dt;dt.WritableState=fE;var{EventEmitter:QTe}=require("events"),uE=vT().Stream,{Buffer:$T}=require("buffer"),qT=ko(),{addAbortSignal:ZTe}=oE(),{getHighWaterMark:eSe,getDefaultHighWaterMark:tSe}=aE(),{ERR_INVALID_ARG_TYPE:rSe,ERR_METHOD_NOT_IMPLEMENTED:nSe,ERR_MULTIPLE_CALLBACK:IY,ERR_STREAM_CANNOT_PIPE:iSe,ERR_STREAM_DESTROYED:EE,ERR_STREAM_ALREADY_FINISHED:sSe,ERR_STREAM_NULL_VALUES:oSe,ERR_STREAM_WRITE_AFTER_END:aSe,ERR_UNKNOWN_ENCODING:NY}=gr().codes,{errorOrDestroy:Ml}=qT;_Y(dt.prototype,uE.prototype);_Y(dt,uE);function GO(){}var xl=jTe("kOnFinished");function fE(t,e,r){typeof r!="boolean"&&(r=e instanceof Ei()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?eSe(this,t,"writableHighWaterMark",r):tSe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=cSe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,kT(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[xl]=[]}function kT(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}fE.prototype.getBuffer=function(){return pY(this.buffered,this.bufferedIndex)};AY(fE.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function dt(t){let e=this instanceof Ei();if(!e&&!RY(dt,this))return new dt(t);this._writableState=new fE(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&ZTe(t.signal,this)),uE.call(this,t),qT.construct(this,()=>{let r=this._writableState;r.writing||WO(this,r),YO(this,r)})}AY(dt,JTe,{__proto__:null,value:function(t){return RY(this,t)?!0:this!==dt?!1:t&&t._writableState instanceof fE}});dt.prototype.pipe=function(){Ml(this,new iSe)};function OY(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!$T.isEncoding(r))throw new NY(r);typeof n!="function"&&(n=GO)}if(e===null)throw new oSe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=$T.from(e,r),r="buffer");else if(e instanceof $T)r="buffer";else if(uE._isUint8Array(e))e=uE._uint8ArrayToBuffer(e),r="buffer";else throw new rSe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new aSe:i.destroyed&&(s=new EE("write")),s?(Xo.nextTick(n,s),Ml(t,s,!0),s):(i.pendingcb++,lSe(t,i,e,r,n))}dt.prototype.write=function(t,e,r){return OY(this,t,e,r)===!0};dt.prototype.cork=function(){this._writableState.corked++};dt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||WO(this,t))};dt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=zTe(e)),!$T.isEncoding(e))throw new NY(e);return this._writableState.defaultEncoding=e,this};function lSe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==GO&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function TY(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new EE("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function SY(t,e,r,n){--e.pendingcb,n(r),HO(e),Ml(t,r)}function cSe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Ml(t,new IY);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Xo.nextTick(SY,t,r,e,i):SY(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&WO(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Xo.nextTick(uSe,r.afterWriteTickInfo)):mY(t,r,1,i))}function uSe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,mY(t,e,r,n)}function mY(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&HO(e),YO(t,e)}function HO(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new EE("write"))}let r=t[xl].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new EE("end"))}kT(t)}function WO(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?GO:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:pY(r,o);l.allBuffers=e.allBuffers,TY(t,e,!0,e.length,l,"",a),kT(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;TY(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?kT(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}dt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new nSe("_write()")};dt.prototype._writev=null;dt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=OY(this,t,e);s instanceof XTe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,YO(this,n,!0),n.ended=!0):n.finished?i=new sSe("end"):n.destroyed&&(i=new EE("end"))),typeof r=="function"&&(i||n.finished?Xo.nextTick(r,i):n[xl].push(r)),this};function VT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function ESe(t,e){let r=!1;function n(i){if(r){Ml(t,i??IY());return}if(r=!0,e.pendingcb--,i){let s=e[xl].splice(0);for(let o=0;o<s.length;o++)s[o](i);Ml(t,i,e.sync)}else VT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Xo.nextTick(FO,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function fSe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,ESe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function YO(t,e,r){VT(e)&&(fSe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Xo.nextTick((n,i)=>{VT(i)?FO(n,i):i.pendingcb--},t,e)):VT(e)&&(e.pendingcb++,FO(t,e))))}function FO(t,e){e.pendingcb--,e.finished=!0;let r=e[xl].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}KTe(dt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var dSe=qT.destroy;dt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[xl].length)&&Xo.nextTick(HO,r),dSe.call(this,t,e),this};dt.prototype._undestroy=qT.undestroy;dt.prototype._destroy=function(t,e){e(t)};dt.prototype[QTe.captureRejectionSymbol]=function(t){this.destroy(t)};var BO;function gY(){return BO===void 0&&(BO={}),BO}dt.fromWeb=function(t,e){return gY().newStreamWritableFromWritableStream(t,e)};dt.toWeb=function(t){return gY().newWritableStreamFromStreamWritable(t)}});var WY=g((Pve,HY)=>{var $O=qe(),hSe=require("buffer"),{isReadable:TSe,isWritable:SSe,isIterable:bY,isNodeStream:pSe,isReadableNodeStream:yY,isWritableNodeStream:LY,isDuplexNodeStream:RSe,isReadableStream:wY,isWritableStream:DY}=ci(),PY=Ki(),{AbortError:FY,codes:{ERR_INVALID_ARG_TYPE:ASe,ERR_INVALID_RETURN_VALUE:MY}}=gr(),{destroyer:Ul}=ko(),_Se=Ei(),GY=cE(),ISe=XT(),{createDeferredPromise:xY}=Br(),vY=yO(),UY=globalThis.Blob||hSe.Blob,NSe=typeof UY<"u"?function(e){return e instanceof UY}:function(e){return!1},OSe=globalThis.AbortController||gt().AbortController,{FunctionPrototypeCall:BY}=lt(),Us=class extends _Se{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};HY.exports=function t(e,r){if(RSe(e))return e;if(yY(e))return vl({readable:e});if(LY(e))return vl({writable:e});if(pSe(e))return vl({writable:!1,readable:!1});if(wY(e))return vl({readable:GY.fromWeb(e)});if(DY(e))return vl({writable:ISe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=mSe(e);if(bY(i))return vY(Us,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=BY(l,i,E=>{if(E!=null)throw new MY("nully","body",E)},E=>{Ul(c,E)});return c=new Us({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,$O.nextTick(E,null)}catch(d){$O.nextTick(E,d)}})},destroy:a})}throw new MY("Iterable, AsyncIterable or AsyncFunction",r,i)}if(NSe(e))return t(e.arrayBuffer());if(bY(e))return vY(Us,e,{objectMode:!0,writable:!1});if(wY(e?.readable)&&DY(e?.writable))return Us.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?yY(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?LY(e?.writable)?e?.writable:t(e.writable):void 0;return vl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return BY(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Ul(i,s)}),i=new Us({objectMode:!0,writable:!1,read(){}})}throw new ASe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function mSe(t){let{promise:e,resolve:r}=xY(),n=new OSe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if($O.nextTick(c),l)return;if(i.aborted)throw new FY(void 0,{cause:i.reason});({promise:e,resolve:r}=xY()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function vl(t){let e=t.readable&&typeof t.readable.read!="function"?GY.wrap(t.readable):t.readable,r=t.writable,n=!!TSe(e),i=!!SSe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new Us({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(PY(r,E=>{i=!1,E&&Ul(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(PY(e,E=>{n=!1,E&&Ul(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new FY),a=null,s=null,o=null,l===null?d(E):(l=d,Ul(r,E),Ul(e,E))},c}});var Ei=g((Mve,VY)=>{"use strict";var{ObjectDefineProperties:gSe,ObjectGetOwnPropertyDescriptor:zi,ObjectKeys:CSe,ObjectSetPrototypeOf:YY}=lt();VY.exports=Mn;var qO=cE(),pn=XT();YY(Mn.prototype,qO.prototype);YY(Mn,qO);{let t=CSe(pn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Mn.prototype[r]||(Mn.prototype[r]=pn.prototype[r])}}function Mn(t){if(!(this instanceof Mn))return new Mn(t);qO.call(this,t),pn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}gSe(Mn.prototype,{writable:{__proto__:null,...zi(pn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...zi(pn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...zi(pn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...zi(pn.prototype,"writableBuffer")},writableLength:{__proto__:null,...zi(pn.prototype,"writableLength")},writableFinished:{__proto__:null,...zi(pn.prototype,"writableFinished")},writableCorked:{__proto__:null,...zi(pn.prototype,"writableCorked")},writableEnded:{__proto__:null,...zi(pn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...zi(pn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var VO;function $Y(){return VO===void 0&&(VO={}),VO}Mn.fromWeb=function(t,e){return $Y().newStreamDuplexFromReadableWritablePair(t,e)};Mn.toWeb=function(t){return $Y().newReadableWritablePairFromDuplex(t)};var kO;Mn.from=function(t){return kO||(kO=WY()),kO(t,"body")}});var zO=g((xve,qY)=>{"use strict";var{ObjectSetPrototypeOf:kY,Symbol:bSe}=lt();qY.exports=ji;var{ERR_METHOD_NOT_IMPLEMENTED:ySe}=gr().codes,KO=Ei(),{getHighWaterMark:LSe}=aE();kY(ji.prototype,KO.prototype);kY(ji,KO);var dE=bSe("kCallback");function ji(t){if(!(this instanceof ji))return new ji(t);let e=t?LSe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),KO.call(this,t),this._readableState.sync=!1,this[dE]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",wSe)}function XO(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function wSe(){this._final!==XO&&XO.call(this)}ji.prototype._final=XO;ji.prototype._transform=function(t,e,r){throw new ySe("_transform()")};ji.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[dE]=r})};ji.prototype._read=function(){if(this[dE]){let t=this[dE];this[dE]=null,t()}}});var JO=g((vve,KY)=>{"use strict";var{ObjectSetPrototypeOf:XY}=lt();KY.exports=Bl;var jO=zO();XY(Bl.prototype,jO.prototype);XY(Bl,jO);function Bl(t){if(!(this instanceof Bl))return new Bl(t);jO.call(this,t)}Bl.prototype._transform=function(t,e,r){r(null,t)}});var JT=g((Uve,ZY)=>{var hE=qe(),{ArrayIsArray:DSe,Promise:PSe,SymbolAsyncIterator:MSe,SymbolDispose:xSe}=lt(),jT=Ki(),{once:vSe}=Br(),USe=ko(),zY=Ei(),{aggregateTwoErrors:BSe,codes:{ERR_INVALID_ARG_TYPE:om,ERR_INVALID_RETURN_VALUE:QO,ERR_MISSING_ARGS:FSe,ERR_STREAM_DESTROYED:GSe,ERR_STREAM_PREMATURE_CLOSE:HSe},AbortError:WSe}=gr(),{validateFunction:YSe,validateAbortSignal:$Se}=yl(),{isIterable:Ko,isReadable:ZO,isReadableNodeStream:zT,isNodeStream:jY,isTransformStream:Fl,isWebStream:VSe,isReadableStream:em,isReadableFinished:kSe}=ci(),qSe=globalThis.AbortController||gt().AbortController,tm,rm,nm;function JY(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=jT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,USe.destroyer(t,s||new GSe("pipe")))},cleanup:i}}function XSe(t){return YSe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function im(t){if(Ko(t))return t;if(zT(t))return KSe(t);throw new om("val",["Readable","Iterable","AsyncIterable"],t)}async function*KSe(t){rm||(rm=cE()),yield*rm.prototype[MSe].call(t)}async function KT(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new PSe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=jT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?BSe(i,c):c)}finally{l(),e.off("drain",o)}}async function sm(t,e,r,{end:n}){Fl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function zSe(...t){return QY(t,vSe(XSe(t)))}function QY(t,e,r){if(t.length===1&&DSe(t[0])&&(t=t[0]),t.length<2)throw new FSe("streams");let n=new qSe,i=n.signal,s=r?.signal,o=[];$Se(s,"options.signal");function a(){T(new WSe)}nm=nm||Br().addAbortListener;let l;s&&(l=nm(s,a));let c,u,E=[],d=0;function f(R){T(R,--d===0)}function T(R,A){var O;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[xSe](),n.abort(),A&&(c||o.forEach(L=>L()),hE.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],O=R<t.length-1,L=R>0,N=O||r?.end!==!1,D=R===t.length-1;if(jY(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var I=y;if(N){let{destroy:P,cleanup:x}=JY(A,O,L);E.push(P),ZO(A)&&D&&o.push(x)}A.on("error",y),ZO(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!Ko(h))throw new QO("Iterable, AsyncIterable or Stream","source",h)}else Ko(A)||zT(A)||Fl(A)?h=A:h=zY.from(A);else if(typeof A=="function"){if(Fl(h)){var S;h=im((S=h)===null||S===void 0?void 0:S.readable)}else h=im(h);if(h=A(h,{signal:i}),O){if(!Ko(h,!0))throw new QO("AsyncIterable",`transform[${R-1}]`,h)}else{var p;tm||(tm=JO());let y=new tm({objectMode:!0}),P=(p=h)===null||p===void 0?void 0:p.then;if(typeof P=="function")d++,P.call(h,G=>{u=G,G!=null&&y.write(G),N&&y.end(),hE.nextTick(f)},G=>{y.destroy(G),hE.nextTick(f,G)});else if(Ko(h,!0))d++,KT(h,y,f,{end:N});else if(em(h)||Fl(h)){let G=h.readable||h;d++,KT(G,y,f,{end:N})}else throw new QO("AsyncIterable or Promise","destination",h);h=y;let{destroy:x,cleanup:B}=JY(h,!1,!0);E.push(x),D&&o.push(B)}}else if(jY(A)){if(zT(h)){d+=2;let y=jSe(h,A,f,{end:N});ZO(A)&&D&&o.push(y)}else if(Fl(h)||em(h)){let y=h.readable||h;d++,KT(y,A,f,{end:N})}else if(Ko(h))d++,KT(h,A,f,{end:N});else throw new om("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(VSe(A)){if(zT(h))d++,sm(im(h),A,f,{end:N});else if(em(h)||Ko(h))d++,sm(h,A,f,{end:N});else if(Fl(h))d++,sm(h.readable,A,f,{end:N});else throw new om("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=zY.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&hE.nextTick(a),h}function jSe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new HSe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;kSe(t)?hE.nextTick(o):t.once("end",o)}else r();return jT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),jT(e,{readable:!1,writable:!0},r)}ZY.exports={pipelineImpl:QY,pipeline:zSe}});var lm=g((Bve,s$)=>{"use strict";var{pipeline:JSe}=JT(),QT=Ei(),{destroyer:QSe}=ko(),{isNodeStream:ZT,isReadable:e$,isWritable:t$,isWebStream:am,isTransformStream:zo,isWritableStream:r$,isReadableStream:n$}=ci(),{AbortError:ZSe,codes:{ERR_INVALID_ARG_VALUE:i$,ERR_MISSING_ARGS:epe}}=gr(),tpe=Ki();s$.exports=function(...e){if(e.length===0)throw new epe("streams");if(e.length===1)return QT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=QT.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=QT.from(e[f])}for(let f=0;f<e.length;++f)if(!(!ZT(e[f])&&!am(e[f]))){if(f<e.length-1&&!(e$(e[f])||n$(e[f])||zo(e[f])))throw new i$(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(t$(e[f])||r$(e[f])||zo(e[f])))throw new i$(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=JSe(e,l),E=!!(t$(c)||r$(c)||zo(c)),d=!!(e$(u)||n$(u)||zo(u));if(a=new QT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(ZT(c))a._write=function(T,h,S){c.write(T,h)?S():n=S},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(am(c)){let h=(zo(c)?c.writable:c).getWriter();a._write=async function(S,p,I){try{await h.ready,h.write(S).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(S){try{await h.ready,h.close().catch(()=>{}),i=S}catch(p){S(p)}}}let f=zo(u)?u.readable:u;tpe(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(ZT(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(am(u)){let T=(zo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:S}=await T.read();if(!a.push(h))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new ZSe),s=null,n=null,i=null,o===null?T(f):(o=T,ZT(u)&&QSe(u,f))},a}});var T$=g((Fve,Em)=>{"use strict";var rpe=globalThis.AbortController||gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:npe,ERR_INVALID_ARG_TYPE:TE,ERR_MISSING_ARGS:ipe,ERR_OUT_OF_RANGE:spe},AbortError:fi}=gr(),{validateAbortSignal:jo,validateInteger:o$,validateObject:Jo}=yl(),ope=lt().Symbol("kWeak"),ape=lt().Symbol("kResistStopPropagation"),{finished:lpe}=Ki(),cpe=lm(),{addAbortSignalNoValidate:upe}=oE(),{isWritable:Epe,isNodeStream:fpe}=ci(),{deprecate:dpe}=Br(),{ArrayPrototypePush:hpe,Boolean:Tpe,MathFloor:a$,Number:Spe,NumberIsNaN:ppe,Promise:l$,PromiseReject:c$,PromiseResolve:Rpe,PromisePrototypeThen:u$,Symbol:f$}=lt(),eS=f$("kEmpty"),E$=f$("kEof");function Ape(t,e){if(e!=null&&Jo(e,"options"),e?.signal!=null&&jo(e.signal,"options.signal"),fpe(t)&&!Epe(t))throw new npe("stream",t,"must be writable");let r=cpe(this,t);return e!=null&&e.signal&&upe(e.signal,r),r}function tS(t,e){if(typeof t!="function")throw new TE("fn",["Function","AsyncFunction"],t);e!=null&&Jo(e,"options"),e?.signal!=null&&jo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=a$(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=a$(e.highWaterMark)),o$(r,"options.concurrency",1),o$(n,"options.highWaterMark",0),n+=r,async function*(){let s=Br().AbortSignalAny([e?.signal].filter(Tpe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let p of o){if(E)return;if(s.aborted)throw new fi;try{if(p=t(p,l),p===eS)continue;p=Rpe(p)}catch(I){p=c$(I)}d+=1,u$(p,T,f),a.push(p),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new l$(I=>{u=I})}a.push(E$)}catch(p){let I=c$(p);u$(I,T,f),a.push(I)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let p=await a[0];if(p===E$)return;if(s.aborted)throw new fi;p!==eS&&(yield p),a.shift(),h()}await new l$(p=>{c=p})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function _pe(t=void 0){return t!=null&&Jo(t,"options"),t?.signal!=null&&jo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new fi({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function d$(t,e=void 0){for await(let r of um.call(this,t,e))return!0;return!1}async function Ipe(t,e=void 0){if(typeof t!="function")throw new TE("fn",["Function","AsyncFunction"],t);return!await d$.call(this,async(...r)=>!await t(...r),e)}async function Npe(t,e){for await(let r of um.call(this,t,e))return r}async function Ope(t,e){if(typeof t!="function")throw new TE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),eS}for await(let n of tS.call(this,r,e));}function um(t,e){if(typeof t!="function")throw new TE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:eS}return tS.call(this,r,e)}var cm=class extends ipe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function mpe(t,e,r){var n;if(typeof t!="function")throw new TE("reducer",["Function","AsyncFunction"],t);r!=null&&Jo(r,"options"),r?.signal!=null&&jo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new fi(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await lpe(this.destroy(c)),c}let s=new rpe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[ope]:this,[ape]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new fi;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new cm}finally{s.abort()}return e}async function gpe(t){t!=null&&Jo(t,"options"),t?.signal!=null&&jo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new fi(void 0,{cause:t.signal.reason});hpe(e,n)}return e}function Cpe(t,e){let r=tS.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function h$(t){if(t=Spe(t),ppe(t))return 0;if(t<0)throw new spe("number",">= 0",t);return t}function bpe(t,e=void 0){return e!=null&&Jo(e,"options"),e?.signal!=null&&jo(e.signal,"options.signal"),t=h$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new fi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new fi;t--<=0&&(yield s)}}.call(this)}function ype(t,e=void 0){return e!=null&&Jo(e,"options"),e?.signal!=null&&jo(e.signal,"options.signal"),t=h$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new fi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new fi;if(t-- >0&&(yield s),t<=0)return}}.call(this)}Em.exports.streamReturningOperators={asIndexedPairs:dpe(_pe,"readable.asIndexedPairs will be removed in a future version."),drop:bpe,filter:um,flatMap:Cpe,map:tS,take:ype,compose:Ape};Em.exports.promiseReturningOperators={every:Ipe,forEach:Ope,reduce:mpe,toArray:gpe,some:d$,find:Npe}});var fm=g((Gve,S$)=>{"use strict";var{ArrayPrototypePop:Lpe,Promise:wpe}=lt(),{isIterable:Dpe,isNodeStream:Ppe,isWebStream:Mpe}=ci(),{pipelineImpl:xpe}=JT(),{finished:vpe}=Ki();dm();function Upe(...t){return new wpe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!Ppe(s)&&!Dpe(s)&&!Mpe(s)){let o=Lpe(t);n=o.signal,i=o.end}xpe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}S$.exports={finished:vpe,pipeline:Upe}});var dm=g((Hve,g$)=>{"use strict";var{Buffer:Bpe}=require("buffer"),{ObjectDefineProperty:Ji,ObjectKeys:A$,ReflectApply:_$}=lt(),{promisify:{custom:I$}}=Br(),{streamReturningOperators:p$,promiseReturningOperators:R$}=T$(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N$}}=gr(),Fpe=lm(),{setDefaultHighWaterMark:Gpe,getDefaultHighWaterMark:Hpe}=aE(),{pipeline:O$}=JT(),{destroyer:Wpe}=ko(),m$=Ki(),hm=fm(),SE=ci(),rt=g$.exports=vT().Stream;rt.isDestroyed=SE.isDestroyed;rt.isDisturbed=SE.isDisturbed;rt.isErrored=SE.isErrored;rt.isReadable=SE.isReadable;rt.isWritable=SE.isWritable;rt.Readable=cE();for(let t of A$(p$)){let r=function(...n){if(new.target)throw N$();return rt.Readable.from(_$(e,this,n))},e=p$[t];Ji(r,"name",{__proto__:null,value:e.name}),Ji(r,"length",{__proto__:null,value:e.length}),Ji(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of A$(R$)){let r=function(...n){if(new.target)throw N$();return _$(e,this,n)},e=R$[t];Ji(r,"name",{__proto__:null,value:e.name}),Ji(r,"length",{__proto__:null,value:e.length}),Ji(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}rt.Writable=XT();rt.Duplex=Ei();rt.Transform=zO();rt.PassThrough=JO();rt.pipeline=O$;var{addAbortSignal:Ype}=oE();rt.addAbortSignal=Ype;rt.finished=m$;rt.destroy=Wpe;rt.compose=Fpe;rt.setDefaultHighWaterMark=Gpe;rt.getDefaultHighWaterMark=Hpe;Ji(rt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return hm}});Ji(O$,I$,{__proto__:null,enumerable:!0,get(){return hm.pipeline}});Ji(m$,I$,{__proto__:null,enumerable:!0,get(){return hm.finished}});rt.Stream=rt;rt._isUint8Array=function(e){return e instanceof Uint8Array};rt._uint8ArrayToBuffer=function(e){return Bpe.from(e.buffer,e.byteOffset,e.byteLength)}});var Tm=g((Wve,Ce)=>{"use strict";var Gt=require("stream");if(Gt&&process.env.READABLE_STREAM==="disable"){let t=Gt.promises;Ce.exports._uint8ArrayToBuffer=Gt._uint8ArrayToBuffer,Ce.exports._isUint8Array=Gt._isUint8Array,Ce.exports.isDisturbed=Gt.isDisturbed,Ce.exports.isErrored=Gt.isErrored,Ce.exports.isReadable=Gt.isReadable,Ce.exports.Readable=Gt.Readable,Ce.exports.Writable=Gt.Writable,Ce.exports.Duplex=Gt.Duplex,Ce.exports.Transform=Gt.Transform,Ce.exports.PassThrough=Gt.PassThrough,Ce.exports.addAbortSignal=Gt.addAbortSignal,Ce.exports.finished=Gt.finished,Ce.exports.destroy=Gt.destroy,Ce.exports.pipeline=Gt.pipeline,Ce.exports.compose=Gt.compose,Object.defineProperty(Gt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Ce.exports.Stream=Gt.Stream}else{let t=dm(),e=fm(),r=t.Readable.destroy;Ce.exports=t.Readable,Ce.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Ce.exports._isUint8Array=t._isUint8Array,Ce.exports.isDisturbed=t.isDisturbed,Ce.exports.isErrored=t.isErrored,Ce.exports.isReadable=t.isReadable,Ce.exports.Readable=t.Readable,Ce.exports.Writable=t.Writable,Ce.exports.Duplex=t.Duplex,Ce.exports.Transform=t.Transform,Ce.exports.PassThrough=t.PassThrough,Ce.exports.addAbortSignal=t.addAbortSignal,Ce.exports.finished=t.finished,Ce.exports.destroy=t.destroy,Ce.exports.destroy=r,Ce.exports.pipeline=t.pipeline,Ce.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Ce.exports.Stream=t.Stream}Ce.exports.default=Ce.exports});var Sm=g(($ve,C$)=>{var Yve=require("stream").Stream,$pe=Tm().PassThrough,Vpe=cd(),kpe=C$.exports={};kpe.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(Vpe(t)&&!t._readableState){var e=new $pe;return t.pipe(e),e}return t}});var Rm=g((Vve,b$)=>{var qpe=require("util").inherits,Xpe=cd(),pm=Tm().Transform,Kpe=gT(),zpe=Sm(),Qr=b$.exports=function(t){if(!(this instanceof Qr))return new Qr(t);pm.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};qpe(Qr,pm);Qr.prototype._appendBuffer=function(t,e,r){};Qr.prototype._appendStream=function(t,e,r){};Qr.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};Qr.prototype._finish=function(t){};Qr.prototype._normalizeEntry=function(t){};Qr.prototype._transform=function(t,e,r){r(null,t)};Qr.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof Kpe)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=zpe.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(Xpe(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};Qr.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};Qr.prototype.getBytesWritten=function(){return this.offset};Qr.prototype.write=function(t,e){return t&&(this.offset+=t.length),pm.prototype.write.call(this,t,e)}});var rS=g(Am=>{var y$;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof Am=="object"?t(Am):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(y$={}):t(y$={})})(function(t){t.version="1.2.2";function e(){for(var N=0,D=new Array(256),y=0;y!=256;++y)N=y,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,D[y]=N;return typeof Int32Array<"u"?new Int32Array(D):D}var r=e();function n(N){var D=0,y=0,P=0,x=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)x[P]=N[P];for(P=0;P!=256;++P)for(y=N[P],D=256+P;D<4096;D+=256)y=x[D]=y>>>8^N[y&255];var B=[];for(P=1;P!=16;++P)B[P-1]=typeof Int32Array<"u"?x.subarray(P*256,P*256+256):x.slice(P*256,P*256+256);return B}var i=n(r),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],E=i[6],d=i[7],f=i[8],T=i[9],h=i[10],S=i[11],p=i[12],I=i[13],R=i[14];function A(N,D){for(var y=D^-1,P=0,x=N.length;P<x;)y=y>>>8^r[(y^N.charCodeAt(P++))&255];return~y}function O(N,D){for(var y=D^-1,P=N.length-15,x=0;x<P;)y=R[N[x++]^y&255]^I[N[x++]^y>>8&255]^p[N[x++]^y>>16&255]^S[N[x++]^y>>>24]^h[N[x++]]^T[N[x++]]^f[N[x++]]^d[N[x++]]^E[N[x++]]^u[N[x++]]^c[N[x++]]^l[N[x++]]^a[N[x++]]^o[N[x++]]^s[N[x++]]^r[N[x++]];for(P+=15;x<P;)y=y>>>8^r[(y^N[x++])&255];return~y}function L(N,D){for(var y=D^-1,P=0,x=N.length,B=0,G=0;P<x;)B=N.charCodeAt(P++),B<128?y=y>>>8^r[(y^B)&255]:B<2048?(y=y>>>8^r[(y^(192|B>>6&31))&255],y=y>>>8^r[(y^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,G=N.charCodeAt(P++)&1023,y=y>>>8^r[(y^(240|B>>8&7))&255],y=y>>>8^r[(y^(128|B>>2&63))&255],y=y>>>8^r[(y^(128|G>>6&15|(B&3)<<4))&255],y=y>>>8^r[(y^(128|G&63))&255]):(y=y>>>8^r[(y^(224|B>>12&15))&255],y=y>>>8^r[(y^(128|B>>6&63))&255],y=y>>>8^r[(y^(128|B&63))&255]);return~y}t.table=r,t.bstr=A,t.buf=O,t.str=L})});var ct=g((qve,L$)=>{"use strict";var _m=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};L$.exports={AggregateError:_m,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var Im=g((Xve,w$)=>{"use strict";w$.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var br=g((Kve,M$)=>{"use strict";var{format:jpe,inspect:nS}=Im(),{AggregateError:Jpe}=ct(),Qpe=globalThis.AggregateError||Jpe,Zpe=Symbol("kIsNodeError"),eRe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],tRe=/^([A-Z][a-z0-9]*)+$/,rRe="__node_internal_",iS={};function Qo(t,e){if(!t)throw new iS.ERR_INTERNAL_ASSERTION(e)}function D$(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function nRe(t,e,r){if(typeof e=="function")return Qo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Qo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:jpe(e,...r)}function hr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(nRe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Zpe]=!0,iS[t]=n}function P$(t){let e=rRe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function iRe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Qpe([e,t],e.message);return r.code=e.code,r}return t||e}var Nm=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new iS.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};hr("ERR_ASSERTION","%s",Error);hr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Qo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Qo(typeof l=="string","All expected entries have to be of type string"),eRe.includes(l)?i.push(l.toLowerCase()):tRe.test(l)?s.push(l):(Qo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=nS(r,{depth:-1});n+=`. Received ${l}`}}else{let l=nS(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);hr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=nS(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);hr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);hr("ERR_MISSING_ARGS",(...t)=>{Qo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);hr("ERR_OUT_OF_RANGE",(t,e,r)=>{Qo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=D$(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=D$(n)),n+="n"}else n=nS(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);hr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);hr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);hr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);hr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);hr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);hr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);hr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);hr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);hr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);hr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);hr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);M$.exports={AbortError:Nm,aggregateTwoErrors:P$(iRe),hideStackFrames:P$,codes:iS}});var Fr=g((zve,mm)=>{"use strict";var sRe=require("buffer"),{format:oRe,inspect:aRe}=Im(),{codes:{ERR_INVALID_ARG_TYPE:Om}}=br(),{kResistStopPropagation:lRe,AggregateError:cRe,SymbolDispose:uRe}=ct(),ERe=globalThis.AbortSignal||gt().AbortSignal,fRe=globalThis.AbortController||gt().AbortController,dRe=Object.getPrototypeOf(async function(){}).constructor,x$=globalThis.Blob||sRe.Blob,hRe=typeof x$<"u"?function(e){return e instanceof x$}:function(e){return!1},v$=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Om(e,"AbortSignal",t)},TRe=(t,e)=>{if(typeof t!="function")throw new Om(e,"Function",t)};mm.exports={AggregateError:cRe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:oRe,inspect:aRe,types:{isAsyncFunction(t){return t instanceof dRe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:hRe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new Om("signal","AbortSignal",e);v$(e,"signal"),TRe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[lRe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[uRe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:ERe.any||function(e){if(e.length===1)return e[0];let r=new fRe,n=()=>r.abort();return e.forEach(i=>{v$(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};mm.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Hl=g((jve,k$)=>{"use strict";var{ArrayIsArray:Cm,ArrayPrototypeIncludes:G$,ArrayPrototypeJoin:H$,ArrayPrototypeMap:SRe,NumberIsInteger:bm,NumberIsNaN:pRe,NumberMAX_SAFE_INTEGER:RRe,NumberMIN_SAFE_INTEGER:ARe,NumberParseInt:_Re,ObjectPrototypeHasOwnProperty:IRe,RegExpPrototypeExec:W$,String:NRe,StringPrototypeToUpperCase:ORe,StringPrototypeTrim:mRe}=ct(),{hideStackFrames:Rn,codes:{ERR_SOCKET_BAD_PORT:gRe,ERR_INVALID_ARG_TYPE:yr,ERR_INVALID_ARG_VALUE:Gl,ERR_OUT_OF_RANGE:Zo,ERR_UNKNOWN_SIGNAL:U$}}=br(),{normalizeEncoding:CRe}=Fr(),{isAsyncFunction:bRe,isArrayBufferView:yRe}=Fr().types,B$={};function LRe(t){return t===(t|0)}function wRe(t){return t===t>>>0}var DRe=/^[0-7]+$/,PRe="must be a 32-bit unsigned integer or an octal string";function MRe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(W$(DRe,t)===null)throw new Gl(e,t,PRe);t=_Re(t,8)}return Y$(t,e),t}var xRe=Rn((t,e,r=ARe,n=RRe)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!bm(t))throw new Zo(e,"an integer",t);if(t<r||t>n)throw new Zo(e,`>= ${r} && <= ${n}`,t)}),vRe=Rn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!bm(t))throw new Zo(e,"an integer",t);if(t<r||t>n)throw new Zo(e,`>= ${r} && <= ${n}`,t)}),Y$=Rn((t,e,r=!1)=>{if(typeof t!="number")throw new yr(e,"number",t);if(!bm(t))throw new Zo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Zo(e,`>= ${n} && <= ${i}`,t)});function ym(t,e){if(typeof t!="string")throw new yr(e,"string",t)}function URe(t,e,r=void 0,n){if(typeof t!="number")throw new yr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&pRe(t))throw new Zo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var BRe=Rn((t,e,r)=>{if(!G$(r,t)){let i="must be one of: "+H$(SRe(r,s=>typeof s=="string"?`'${s}'`:NRe(s)),", ");throw new Gl(e,t,i)}});function $$(t,e){if(typeof t!="boolean")throw new yr(e,"boolean",t)}function gm(t,e,r){return t==null||!IRe(t,e)?r:t[e]}var FRe=Rn((t,e,r=null)=>{let n=gm(r,"allowArray",!1),i=gm(r,"allowFunction",!1);if(!gm(r,"nullable",!1)&&t===null||!n&&Cm(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new yr(e,"Object",t)}),GRe=Rn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new yr(e,"a dictionary",t)}),sS=Rn((t,e,r=0)=>{if(!Cm(t))throw new yr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Gl(e,t,n)}});function HRe(t,e){sS(t,e);for(let r=0;r<t.length;r++)ym(t[r],`${e}[${r}]`)}function WRe(t,e){sS(t,e);for(let r=0;r<t.length;r++)$$(t[r],`${e}[${r}]`)}function YRe(t,e){sS(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new yr(i,"AbortSignal",n);V$(n,i)}}function $Re(t,e="signal"){if(ym(t,e),B$[t]===void 0)throw B$[ORe(t)]!==void 0?new U$(t+" (signals must use all capital letters)"):new U$(t)}var VRe=Rn((t,e="buffer")=>{if(!yRe(t))throw new yr(e,["Buffer","TypedArray","DataView"],t)});function kRe(t,e){let r=CRe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Gl("encoding",e,`is invalid for data of length ${n}`)}function qRe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&mRe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new gRe(e,t,r);return t|0}var V$=Rn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new yr(e,"AbortSignal",t)}),XRe=Rn((t,e)=>{if(typeof t!="function")throw new yr(e,"Function",t)}),KRe=Rn((t,e)=>{if(typeof t!="function"||bRe(t))throw new yr(e,"Function",t)}),zRe=Rn((t,e)=>{if(t!==void 0)throw new yr(e,"undefined",t)});function jRe(t,e,r){if(!G$(r,t))throw new yr(e,`('${H$(r,"|")}')`,t)}var JRe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function F$(t,e){if(typeof t>"u"||!W$(JRe,t))throw new Gl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function QRe(t){if(typeof t=="string")return F$(t,"hints"),t;if(Cm(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];F$(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Gl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}k$.exports={isInt32:LRe,isUint32:wRe,parseFileMode:MRe,validateArray:sS,validateStringArray:HRe,validateBooleanArray:WRe,validateAbortSignalArray:YRe,validateBoolean:$$,validateBuffer:VRe,validateDictionary:GRe,validateEncoding:kRe,validateFunction:XRe,validateInt32:vRe,validateInteger:xRe,validateNumber:URe,validateObject:FRe,validateOneOf:BRe,validatePlainFunction:KRe,validatePort:qRe,validateSignalName:$Re,validateString:ym,validateUint32:Y$,validateUndefined:zRe,validateUnion:jRe,validateAbortSignal:V$,validateLinkHeaderValue:QRe}});var hi=g((Jve,oV)=>{"use strict";var{SymbolAsyncIterator:q$,SymbolIterator:X$,SymbolFor:ea}=ct(),K$=ea("nodejs.stream.destroyed"),z$=ea("nodejs.stream.errored"),Lm=ea("nodejs.stream.readable"),wm=ea("nodejs.stream.writable"),j$=ea("nodejs.stream.disturbed"),ZRe=ea("nodejs.webstream.isClosedPromise"),eAe=ea("nodejs.webstream.controllerErrorFunction");function oS(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function aS(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function tAe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function di(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function J$(t){return!!(t&&!di(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Q$(t){return!!(t&&!di(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function Z$(t){return!!(t&&!di(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function rAe(t){return J$(t)||Q$(t)||Z$(t)}function nAe(t,e){return t==null?!1:e===!0?typeof t[q$]=="function":e===!1?typeof t[X$]=="function":typeof t[q$]=="function"||typeof t[X$]=="function"}function lS(t){if(!di(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[K$]||n!=null&&n.destroyed)}function eV(t){if(!aS(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function iAe(t,e){if(!aS(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function sAe(t){if(!oS(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function tV(t,e){if(!oS(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function rV(t){return t&&t[Lm]!=null?t[Lm]:typeof t?.readable!="boolean"?null:lS(t)?!1:oS(t)&&t.readable&&!tV(t)}function nV(t){return t&&t[wm]!=null?t[wm]:typeof t?.writable!="boolean"?null:lS(t)?!1:aS(t)&&t.writable&&!eV(t)}function oAe(t,e){return di(t)?lS(t)?!0:!(e?.readable!==!1&&rV(t)||e?.writable!==!1&&nV(t)):null}function aAe(t){var e,r;return di(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function lAe(t){var e,r;return di(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function cAe(t){if(!di(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&iV(t)?t._closed:null}function iV(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function sV(t){return typeof t._sent100=="boolean"&&iV(t)}function uAe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function EAe(t){if(!di(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&sV(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function fAe(t){var e;return!!(t&&((e=t[j$])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function dAe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[z$])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}oV.exports={isDestroyed:lS,kIsDestroyed:K$,isDisturbed:fAe,kIsDisturbed:j$,isErrored:dAe,kIsErrored:z$,isReadable:rV,kIsReadable:Lm,kIsClosedPromise:ZRe,kControllerErrorFunction:eAe,kIsWritable:wm,isClosed:cAe,isDuplexNodeStream:tAe,isFinished:oAe,isIterable:nAe,isReadableNodeStream:oS,isReadableStream:J$,isReadableEnded:sAe,isReadableFinished:tV,isReadableErrored:lAe,isNodeStream:di,isWebStream:rAe,isWritable:nV,isWritableNodeStream:aS,isWritableStream:Q$,isWritableEnded:eV,isWritableFinished:iAe,isWritableErrored:aAe,isServerRequest:uAe,isServerResponse:sV,willEmitClose:EAe,isTransformStream:Z$}});var Qi=g((Qve,vm)=>{"use strict";var Bs=qe(),{AbortError:TV,codes:hAe}=br(),{ERR_INVALID_ARG_TYPE:TAe,ERR_STREAM_PREMATURE_CLOSE:aV}=hAe,{kEmptyObject:Pm,once:Mm}=Fr(),{validateAbortSignal:SAe,validateFunction:pAe,validateObject:RAe,validateBoolean:AAe}=Hl(),{Promise:_Ae,PromisePrototypeThen:IAe,SymbolDispose:SV}=ct(),{isClosed:NAe,isReadable:lV,isReadableNodeStream:Dm,isReadableStream:OAe,isReadableFinished:cV,isReadableErrored:uV,isWritable:EV,isWritableNodeStream:fV,isWritableStream:mAe,isWritableFinished:dV,isWritableErrored:hV,isNodeStream:gAe,willEmitClose:CAe,kIsClosedPromise:bAe}=hi(),Wl;function yAe(t){return t.setHeader&&typeof t.abort=="function"}var xm=()=>{};function pV(t,e,r){var n,i;if(arguments.length===2?(r=e,e=Pm):e==null?e=Pm:RAe(e,"options"),pAe(r,"callback"),SAe(e.signal,"options.signal"),r=Mm(r),OAe(t)||mAe(t))return LAe(t,e,r);if(!gAe(t))throw new TAe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:Dm(t),o=(i=e.writable)!==null&&i!==void 0?i:fV(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||d()},u=CAe(t)&&Dm(t)===s&&fV(t)===o,E=dV(t,!1),d=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=cV(t,!1),T=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||E)&&r.call(t)},h=O=>{r.call(t,O)},S=NAe(t),p=()=>{S=!0;let O=hV(t)||uV(t);if(O&&typeof O!="boolean")return r.call(t,O);if(s&&!f&&Dm(t,!0)&&!cV(t,!1))return r.call(t,new aV);if(o&&!E&&!dV(t,!1))return r.call(t,new aV);r.call(t)},I=()=>{S=!0;let O=hV(t)||uV(t);if(O&&typeof O!="boolean")return r.call(t,O);r.call(t)},R=()=>{t.req.on("finish",d)};yAe(t)?(t.on("complete",d),u||t.on("abort",p),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",p),t.on("end",T),t.on("finish",d),e.error!==!1&&t.on("error",h),t.on("close",p),S?Bs.nextTick(p):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Bs.nextTick(I):(!s&&(!u||lV(t))&&(E||EV(t)===!1)||!o&&(!u||EV(t))&&(f||lV(t)===!1)||l&&t.req&&t.aborted)&&Bs.nextTick(I);let A=()=>{r=xm,t.removeListener("aborted",p),t.removeListener("complete",d),t.removeListener("abort",p),t.removeListener("request",R),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",p)};if(e.signal&&!S){let O=()=>{let L=r;A(),L.call(t,new TV(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Bs.nextTick(O);else{Wl=Wl||Fr().addAbortListener;let L=Wl(e.signal,O),N=r;r=Mm((...D)=>{L[SV](),N.apply(t,D)})}}return A}function LAe(t,e,r){let n=!1,i=xm;if(e.signal)if(i=()=>{n=!0,r.call(t,new TV(void 0,{cause:e.signal.reason}))},e.signal.aborted)Bs.nextTick(i);else{Wl=Wl||Fr().addAbortListener;let o=Wl(e.signal,i),a=r;r=Mm((...l)=>{o[SV](),a.apply(t,l)})}let s=(...o)=>{n||Bs.nextTick(()=>r.apply(t,o))};return IAe(t[bAe].promise,s,s),xm}function wAe(t,e){var r;let n=!1;return e===null&&(e=Pm),(r=e)!==null&&r!==void 0&&r.cleanup&&(AAe(e.cleanup,"cleanup"),n=e.cleanup),new _Ae((i,s)=>{let o=pV(t,e,a=>{n&&o(),a?s(a):i()})})}vm.exports=pV;vm.exports.finished=wAe});var ta=g((Zve,gV)=>{"use strict";var Ti=qe(),{aggregateTwoErrors:DAe,codes:{ERR_MULTIPLE_CALLBACK:PAe},AbortError:MAe}=br(),{Symbol:_V}=ct(),{kIsDestroyed:xAe,isDestroyed:vAe,isFinished:UAe,isServerRequest:BAe}=hi(),IV=_V("kDestroy"),Um=_V("kConstruct");function NV(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function FAe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(NV(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?RV(this,t,e):this.once(IV,function(s){RV(this,DAe(s,t),e)}),this)}function RV(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;NV(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Ti.nextTick(GAe,t,s):Ti.nextTick(OV,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function GAe(t,e){Bm(t,e),OV(t)}function OV(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Bm(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function HAe(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Fm(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Ti.nextTick(Bm,t,e):Bm(t,e))}function WAe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Um,e),!(t.listenerCount(Um)>1)&&Ti.nextTick(YAe,t)}function YAe(t){let e=!1;function r(n){if(e){Fm(t,n??new PAe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(IV,n):n?Fm(t,n,!0):Ti.nextTick($Ae,t)}try{t._construct(n=>{Ti.nextTick(r,n)})}catch(n){Ti.nextTick(r,n)}}function $Ae(t){t.emit(Um)}function AV(t){return t?.setHeader&&typeof t.abort=="function"}function mV(t){t.emit("close")}function VAe(t,e){t.emit("error",e),Ti.nextTick(mV,t)}function kAe(t,e){!t||vAe(t)||(!e&&!UAe(t)&&(e=new MAe),BAe(t)?(t.socket=null,t.destroy(e)):AV(t)?t.abort():AV(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Ti.nextTick(VAe,t,e):Ti.nextTick(mV,t),t.destroyed||(t[xAe]=!0))}gV.exports={construct:WAe,destroyer:kAe,destroy:FAe,undestroy:HAe,errorOrDestroy:Fm}});var ES=g((eUe,bV)=>{"use strict";var{ArrayIsArray:qAe,ObjectSetPrototypeOf:CV}=ct(),{EventEmitter:cS}=require("events");function uS(t){cS.call(this,t)}CV(uS.prototype,cS.prototype);CV(uS,cS);uS.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),cS.listenerCount(this,"error")===0&&this.emit("error",u)}Gm(r,"error",l),Gm(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Gm(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):qAe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}bV.exports={Stream:uS,prependListener:Gm}});var pE=g((tUe,fS)=>{"use strict";var{SymbolDispose:XAe}=ct(),{AbortError:yV,codes:KAe}=br(),{isNodeStream:LV,isWebStream:zAe,kControllerErrorFunction:jAe}=hi(),JAe=Qi(),{ERR_INVALID_ARG_TYPE:wV}=KAe,Hm,QAe=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new wV(e,"AbortSignal",t)};fS.exports.addAbortSignal=function(e,r){if(QAe(e,"signal"),!LV(r)&&!zAe(r))throw new wV("stream",["ReadableStream","WritableStream","Stream"],r);return fS.exports.addAbortSignalNoValidate(e,r)};fS.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=LV(e)?()=>{e.destroy(new yV(void 0,{cause:t.reason}))}:()=>{e[jAe](new yV(void 0,{cause:t.reason}))};if(t.aborted)r();else{Hm=Hm||Fr().addAbortListener;let n=Hm(t,r);JAe(e,n[XAe])}return e}});var MV=g((nUe,PV)=>{"use strict";var{StringPrototypeSlice:DV,SymbolIterator:ZAe,TypedArrayPrototypeSet:dS,Uint8Array:e_e}=ct(),{Buffer:Wm}=require("buffer"),{inspect:t_e}=Fr();PV.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Wm.alloc(0);let r=Wm.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)dS(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[ZAe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=DV(s,0,e),this.head=n,n.data=DV(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Wm.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)dS(r,o,n-e),e-=o.length;else{e===o.length?(dS(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(dS(r,new e_e(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return t_e(this,{...r,depth:0,customInspect:!1})}}});var RE=g((iUe,BV)=>{"use strict";var{MathFloor:r_e,NumberIsInteger:n_e}=ct(),{validateInteger:i_e}=Hl(),{ERR_INVALID_ARG_VALUE:s_e}=br().codes,xV=16*1024,vV=16;function o_e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function UV(t){return t?vV:xV}function a_e(t,e){i_e(e,"value",0),t?vV=e:xV=e}function l_e(t,e,r,n){let i=o_e(e,n,r);if(i!=null){if(!n_e(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new s_e(s,i)}return r_e(i)}return UV(t.objectMode)}BV.exports={getHighWaterMark:l_e,getDefaultHighWaterMark:UV,setDefaultHighWaterMark:a_e}});var Ym=g((sUe,WV)=>{"use strict";var FV=qe(),{PromisePrototypeThen:c_e,SymbolAsyncIterator:GV,SymbolIterator:HV}=ct(),{Buffer:u_e}=require("buffer"),{ERR_INVALID_ARG_TYPE:E_e,ERR_STREAM_NULL_VALUES:f_e}=br().codes;function d_e(t,e,r){let n;if(typeof e=="string"||e instanceof u_e)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[GV])i=!0,n=e[GV]();else if(e&&e[HV])i=!1,n=e[HV]();else throw new E_e("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){c_e(a(c),()=>FV.nextTick(u,c),E=>FV.nextTick(u,E||c))};async function a(c){let u=c!=null,E=typeof n.throw=="function";if(u&&E){let{value:d,done:f}=await n.throw(c);if(await d,f)return}if(typeof n.return=="function"){let{value:d}=await n.return();await d}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let E=c&&typeof c.then=="function"?await c:c;if(E===null)throw o=!1,new f_e;if(s.push(E))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}WV.exports=d_e});var _E=g((oUe,sk)=>{"use strict";var xn=qe(),{ArrayPrototypeIndexOf:h_e,NumberIsInteger:T_e,NumberIsNaN:S_e,NumberParseInt:p_e,ObjectDefineProperties:jm,ObjectKeys:R_e,ObjectSetPrototypeOf:VV,Promise:kV,SafeSet:A_e,SymbolAsyncDispose:__e,SymbolAsyncIterator:I_e,Symbol:N_e}=ct();sk.exports=Ae;Ae.ReadableState=pS;var{EventEmitter:O_e}=require("events"),{Stream:Fs,prependListener:m_e}=ES(),{Buffer:$m}=require("buffer"),{addAbortSignal:g_e}=pE(),qV=Qi(),Pe=Fr().debuglog("stream",t=>{Pe=t}),C_e=MV(),Vl=ta(),{getHighWaterMark:b_e,getDefaultHighWaterMark:y_e}=RE(),{aggregateTwoErrors:YV,codes:{ERR_INVALID_ARG_TYPE:L_e,ERR_METHOD_NOT_IMPLEMENTED:w_e,ERR_OUT_OF_RANGE:D_e,ERR_STREAM_PUSH_AFTER_EOF:P_e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M_e},AbortError:x_e}=br(),{validateObject:v_e}=Hl(),ra=N_e("kPaused"),{StringDecoder:XV}=du(),U_e=Ym();VV(Ae.prototype,Fs.prototype);VV(Ae,Fs);var Vm=()=>{},{errorOrDestroy:Yl}=Vl,$l=1,B_e=2,KV=4,AE=8,zV=16,hS=32,TS=64,jV=128,F_e=256,G_e=512,H_e=1024,Km=2048,zm=4096,W_e=8192,Y_e=16384,$_e=32768,JV=65536,V_e=1<<17,k_e=1<<18;function Ht(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}jm(pS.prototype,{objectMode:Ht($l),ended:Ht(B_e),endEmitted:Ht(KV),reading:Ht(AE),constructed:Ht(zV),sync:Ht(hS),needReadable:Ht(TS),emittedReadable:Ht(jV),readableListening:Ht(F_e),resumeScheduled:Ht(G_e),errorEmitted:Ht(H_e),emitClose:Ht(Km),autoDestroy:Ht(zm),destroyed:Ht(W_e),closed:Ht(Y_e),closeEmitted:Ht($_e),multiAwaitDrain:Ht(JV),readingMore:Ht(V_e),dataEmitted:Ht(k_e)});function pS(t,e,r){typeof r!="boolean"&&(r=e instanceof Si()),this.state=Km|zm|zV|hS,t&&t.objectMode&&(this.state|=$l),r&&t&&t.readableObjectMode&&(this.state|=$l),this.highWaterMark=t?b_e(this,t,"readableHighWaterMark",r):y_e(!1),this.buffer=new C_e,this.length=0,this.pipes=[],this.flowing=null,this[ra]=null,t&&t.emitClose===!1&&(this.state&=~Km),t&&t.autoDestroy===!1&&(this.state&=~zm),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new XV(t.encoding),this.encoding=t.encoding)}function Ae(t){if(!(this instanceof Ae))return new Ae(t);let e=this instanceof Si();this._readableState=new pS(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&g_e(t.signal,this)),Fs.call(this,t),Vl.construct(this,()=>{this._readableState.needReadable&&SS(this,this._readableState)})}Ae.prototype.destroy=Vl.destroy;Ae.prototype._undestroy=Vl.undestroy;Ae.prototype._destroy=function(t,e){e(t)};Ae.prototype[O_e.captureRejectionSymbol]=function(t){this.destroy(t)};Ae.prototype[__e]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new x_e,this.destroy(t)),new kV((e,r)=>qV(this,n=>n&&n!==t?r(n):e(null)))};Ae.prototype.push=function(t,e){return QV(this,t,e,!1)};Ae.prototype.unshift=function(t,e){return QV(this,t,e,!0)};function QV(t,e,r,n){Pe("readableAddChunk",e);let i=t._readableState,s;if((i.state&$l)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=$m.from(e,r).toString(i.encoding):(e=$m.from(e,r),r=""))):e instanceof $m?r="":Fs._isUint8Array(e)?(e=Fs._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new L_e("chunk",["string","Buffer","Uint8Array"],e))),s)Yl(t,s);else if(e===null)i.state&=~AE,K_e(t,i);else if((i.state&$l)!==0||e&&e.length>0)if(n)if((i.state&KV)!==0)Yl(t,new M_e);else{if(i.destroyed||i.errored)return!1;km(t,i,e,!0)}else if(i.ended)Yl(t,new P_e);else{if(i.destroyed||i.errored)return!1;i.state&=~AE,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?km(t,i,e,!1):SS(t,i)):km(t,i,e,!1)}else n||(i.state&=~AE,SS(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function km(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&JV)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&TS)!==0&&RS(t)),SS(t,e)}Ae.prototype.isPaused=function(){let t=this._readableState;return t[ra]===!0||t.flowing===!1};Ae.prototype.setEncoding=function(t){let e=new XV(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var q_e=1073741824;function X_e(t){if(t>q_e)throw new D_e("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function $V(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&$l)!==0?1:S_e(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Ae.prototype.read=function(t){Pe("read",t),t===void 0?t=NaN:T_e(t)||(t=p_e(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=X_e(t)),t!==0&&(e.state&=~jV),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Pe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?qm(this):RS(this),null;if(t=$V(t,e),t===0&&e.ended)return e.length===0&&qm(this),null;let n=(e.state&TS)!==0;if(Pe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Pe("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Pe("reading, ended or constructing",n);else if(n){Pe("do read"),e.state|=AE|hS,e.length===0&&(e.state|=TS);try{this._read(e.highWaterMark)}catch(s){Yl(this,s)}e.state&=~hS,e.reading||(t=$V(r,e))}let i;return t>0?i=nk(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&qm(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function K_e(t,e){if(Pe("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?RS(t):(e.needReadable=!1,e.emittedReadable=!0,ZV(t))}}function RS(t){let e=t._readableState;Pe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Pe("emitReadable",e.flowing),e.emittedReadable=!0,xn.nextTick(ZV,t))}function ZV(t){let e=t._readableState;Pe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,tk(t)}function SS(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,xn.nextTick(z_e,t,e))}function z_e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Pe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Ae.prototype._read=function(t){throw new w_e("_read()")};Ae.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new A_e(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Pe("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==xn.stdout&&t!==xn.stderr?a:S;n.endEmitted?xn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(p,I){Pe("onunpipe"),p===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){Pe("onend"),t.end()}let l,c=!1;function u(){Pe("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",S),r.removeListener("data",d),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function E(){c||(n.pipes.length===1&&n.pipes[0]===t?(Pe("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Pe("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=j_e(r,t),t.on("drain",l))}r.on("data",d);function d(p){Pe("ondata");let I=t.write(p);Pe("dest.write",I),I===!1&&E()}function f(p){if(Pe("onerror",p),S(),t.removeListener("error",f),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?Yl(t,p):t.emit("error",p)}}m_e(t,"error",f);function T(){t.removeListener("finish",h),S()}t.once("close",T);function h(){Pe("onfinish"),t.removeListener("close",T),S()}t.once("finish",h);function S(){Pe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?E():n.flowing||(Pe("pipe resume"),r.resume()),t};function j_e(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Pe("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Pe("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Ae.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=h_e(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Ae.prototype.on=function(t,e){let r=Fs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Pe("on readable",n.length,n.reading),n.length?RS(this):n.reading||xn.nextTick(J_e,this)),r};Ae.prototype.addListener=Ae.prototype.on;Ae.prototype.removeListener=function(t,e){let r=Fs.prototype.removeListener.call(this,t,e);return t==="readable"&&xn.nextTick(ek,this),r};Ae.prototype.off=Ae.prototype.removeListener;Ae.prototype.removeAllListeners=function(t){let e=Fs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&xn.nextTick(ek,this),e};function ek(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[ra]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function J_e(t){Pe("readable nexttick read 0"),t.read(0)}Ae.prototype.resume=function(){let t=this._readableState;return t.flowing||(Pe("resume"),t.flowing=!t.readableListening,Q_e(this,t)),t[ra]=!1,this};function Q_e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,xn.nextTick(Z_e,t,e))}function Z_e(t,e){Pe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),tk(t),e.flowing&&!e.reading&&t.read(0)}Ae.prototype.pause=function(){return Pe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ra]=!0,this};function tk(t){let e=t._readableState;for(Pe("flow",e.flowing);e.flowing&&t.read()!==null;);}Ae.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Yl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=R_e(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Ae.prototype[I_e]=function(){return rk(this)};Ae.prototype.iterator=function(t){return t!==void 0&&v_e(t,"options"),rk(this,t)};function rk(t,e){typeof t.read!="function"&&(t=Ae.wrap(t,{objectMode:!0}));let r=eIe(t,e);return r.stream=t,r}async function*eIe(t,e){let r=Vm;function n(o){this===t?(r(),r=Vm):r=o}t.on("readable",n);let i,s=qV(t,{writable:!1},o=>{i=o?YV(i,o):null,r(),r=Vm});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new kV(n)}}}catch(o){throw i=YV(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Vl.destroyer(t,null):(t.off("readable",n),s())}}jm(Ae.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});jm(pS.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ra]!==!1},set(t){this[ra]=!!t}}});Ae._fromList=nk;function nk(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function qm(t){let e=t._readableState;Pe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,xn.nextTick(tIe,e,t))}function tIe(t,e){if(Pe("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)xn.nextTick(rIe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function rIe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Ae.from=function(t,e){return U_e(Ae,t,e)};var Xm;function ik(){return Xm===void 0&&(Xm={}),Xm}Ae.fromWeb=function(t,e){return ik().newStreamReadableFromReadableStream(t,e)};Ae.toWeb=function(t,e){return ik().newReadableStreamFromStreamReadable(t,e)};Ae.wrap=function(t,e){var r,n;return new Ae({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Vl.destroyer(t,i),s(i)}}).wrap(t)}});var OS=g((aUe,pk)=>{"use strict";var na=qe(),{ArrayPrototypeSlice:lk,Error:nIe,FunctionPrototypeSymbolHasInstance:ck,ObjectDefineProperty:uk,ObjectDefineProperties:iIe,ObjectSetPrototypeOf:Ek,StringPrototypeToLowerCase:sIe,Symbol:oIe,SymbolHasInstance:aIe}=ct();pk.exports=ht;ht.WritableState=OE;var{EventEmitter:lIe}=require("events"),IE=ES().Stream,{Buffer:AS}=require("buffer"),NS=ta(),{addAbortSignal:cIe}=pE(),{getHighWaterMark:uIe,getDefaultHighWaterMark:EIe}=RE(),{ERR_INVALID_ARG_TYPE:fIe,ERR_METHOD_NOT_IMPLEMENTED:dIe,ERR_MULTIPLE_CALLBACK:fk,ERR_STREAM_CANNOT_PIPE:hIe,ERR_STREAM_DESTROYED:NE,ERR_STREAM_ALREADY_FINISHED:TIe,ERR_STREAM_NULL_VALUES:SIe,ERR_STREAM_WRITE_AFTER_END:pIe,ERR_UNKNOWN_ENCODING:dk}=br().codes,{errorOrDestroy:kl}=NS;Ek(ht.prototype,IE.prototype);Ek(ht,IE);function Zm(){}var ql=oIe("kOnFinished");function OE(t,e,r){typeof r!="boolean"&&(r=e instanceof Si()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?uIe(this,t,"writableHighWaterMark",r):EIe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=AIe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,IS(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ql]=[]}function IS(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}OE.prototype.getBuffer=function(){return lk(this.buffered,this.bufferedIndex)};uk(OE.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ht(t){let e=this instanceof Si();if(!e&&!ck(ht,this))return new ht(t);this._writableState=new OE(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&cIe(t.signal,this)),IE.call(this,t),NS.construct(this,()=>{let r=this._writableState;r.writing||tg(this,r),rg(this,r)})}uk(ht,aIe,{__proto__:null,value:function(t){return ck(this,t)?!0:this!==ht?!1:t&&t._writableState instanceof OE}});ht.prototype.pipe=function(){kl(this,new hIe)};function hk(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!AS.isEncoding(r))throw new dk(r);typeof n!="function"&&(n=Zm)}if(e===null)throw new SIe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=AS.from(e,r),r="buffer");else if(e instanceof AS)r="buffer";else if(IE._isUint8Array(e))e=IE._uint8ArrayToBuffer(e),r="buffer";else throw new fIe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new pIe:i.destroyed&&(s=new NE("write")),s?(na.nextTick(n,s),kl(t,s,!0),s):(i.pendingcb++,RIe(t,i,e,r,n))}ht.prototype.write=function(t,e,r){return hk(this,t,e,r)===!0};ht.prototype.cork=function(){this._writableState.corked++};ht.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||tg(this,t))};ht.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=sIe(e)),!AS.isEncoding(e))throw new dk(e);return this._writableState.defaultEncoding=e,this};function RIe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Zm&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function ok(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new NE("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function ak(t,e,r,n){--e.pendingcb,n(r),eg(e),kl(t,r)}function AIe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){kl(t,new fk);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?na.nextTick(ak,t,r,e,i):ak(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&tg(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},na.nextTick(_Ie,r.afterWriteTickInfo)):Tk(t,r,1,i))}function _Ie({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,Tk(t,e,r,n)}function Tk(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&eg(e),rg(t,e)}function eg(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new NE("write"))}let r=t[ql].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new NE("end"))}IS(t)}function tg(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Zm:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:lk(r,o);l.allBuffers=e.allBuffers,ok(t,e,!0,e.length,l,"",a),IS(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;ok(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?IS(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ht.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new dIe("_write()")};ht.prototype._writev=null;ht.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=hk(this,t,e);s instanceof nIe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,rg(this,n,!0),n.ended=!0):n.finished?i=new TIe("end"):n.destroyed&&(i=new NE("end"))),typeof r=="function"&&(i||n.finished?na.nextTick(r,i):n[ql].push(r)),this};function _S(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function IIe(t,e){let r=!1;function n(i){if(r){kl(t,i??fk());return}if(r=!0,e.pendingcb--,i){let s=e[ql].splice(0);for(let o=0;o<s.length;o++)s[o](i);kl(t,i,e.sync)}else _S(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,na.nextTick(Qm,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function NIe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,IIe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function rg(t,e,r){_S(e)&&(NIe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,na.nextTick((n,i)=>{_S(i)?Qm(n,i):i.pendingcb--},t,e)):_S(e)&&(e.pendingcb++,Qm(t,e))))}function Qm(t,e){e.pendingcb--,e.finished=!0;let r=e[ql].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}iIe(ht.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var OIe=NS.destroy;ht.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[ql].length)&&na.nextTick(eg,r),OIe.call(this,t,e),this};ht.prototype._undestroy=NS.undestroy;ht.prototype._destroy=function(t,e){e(t)};ht.prototype[lIe.captureRejectionSymbol]=function(t){this.destroy(t)};var Jm;function Sk(){return Jm===void 0&&(Jm={}),Jm}ht.fromWeb=function(t,e){return Sk().newStreamWritableFromWritableStream(t,e)};ht.toWeb=function(t){return Sk().newWritableStreamFromStreamWritable(t)}});var Pk=g((lUe,Dk)=>{var ng=qe(),mIe=require("buffer"),{isReadable:gIe,isWritable:CIe,isIterable:Rk,isNodeStream:bIe,isReadableNodeStream:Ak,isWritableNodeStream:_k,isDuplexNodeStream:yIe,isReadableStream:Ik,isWritableStream:Nk}=hi(),Ok=Qi(),{AbortError:Lk,codes:{ERR_INVALID_ARG_TYPE:LIe,ERR_INVALID_RETURN_VALUE:mk}}=br(),{destroyer:Kl}=ta(),wIe=Si(),wk=_E(),DIe=OS(),{createDeferredPromise:gk}=Fr(),Ck=Ym(),bk=globalThis.Blob||mIe.Blob,PIe=typeof bk<"u"?function(e){return e instanceof bk}:function(e){return!1},MIe=globalThis.AbortController||gt().AbortController,{FunctionPrototypeCall:yk}=ct(),Gs=class extends wIe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};Dk.exports=function t(e,r){if(yIe(e))return e;if(Ak(e))return Xl({readable:e});if(_k(e))return Xl({writable:e});if(bIe(e))return Xl({writable:!1,readable:!1});if(Ik(e))return Xl({readable:wk.fromWeb(e)});if(Nk(e))return Xl({writable:DIe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=xIe(e);if(Rk(i))return Ck(Gs,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=yk(l,i,E=>{if(E!=null)throw new mk("nully","body",E)},E=>{Kl(c,E)});return c=new Gs({objectMode:!0,readable:!1,write:s,final(E){o(async()=>{try{await u,ng.nextTick(E,null)}catch(d){ng.nextTick(E,d)}})},destroy:a})}throw new mk("Iterable, AsyncIterable or AsyncFunction",r,i)}if(PIe(e))return t(e.arrayBuffer());if(Rk(e))return Ck(Gs,e,{objectMode:!0,writable:!1});if(Ik(e?.readable)&&Nk(e?.writable))return Gs.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?Ak(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?_k(e?.writable)?e?.writable:t(e.writable):void 0;return Xl({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return yk(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Kl(i,s)}),i=new Gs({objectMode:!0,writable:!1,read(){}})}throw new LIe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function xIe(t){let{promise:e,resolve:r}=gk(),n=new MIe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(ng.nextTick(c),l)return;if(i.aborted)throw new Lk(void 0,{cause:i.reason});({promise:e,resolve:r}=gk()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Xl(t){let e=t.readable&&typeof t.readable.read!="function"?wk.wrap(t.readable):t.readable,r=t.writable,n=!!gIe(e),i=!!CIe(r),s,o,a,l,c;function u(E){let d=l;l=null,d?d(E):E&&c.destroy(E)}return c=new Gs({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(Ok(r,E=>{i=!1,E&&Kl(e,E),u(E)}),c._write=function(E,d,f){r.write(E,d)?f():s=f},c._final=function(E){r.end(),o=E},r.on("drain",function(){if(s){let E=s;s=null,E()}}),r.on("finish",function(){if(o){let E=o;o=null,E()}})),n&&(Ok(e,E=>{n=!1,E&&Kl(e,E),u(E)}),e.on("readable",function(){if(a){let E=a;a=null,E()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let E=e.read();if(E===null){a=c._read;return}if(!c.push(E))return}}),c._destroy=function(E,d){!E&&l!==null&&(E=new Lk),a=null,s=null,o=null,l===null?d(E):(l=d,Kl(r,E),Kl(e,E))},c}});var Si=g((cUe,vk)=>{"use strict";var{ObjectDefineProperties:vIe,ObjectGetOwnPropertyDescriptor:Zi,ObjectKeys:UIe,ObjectSetPrototypeOf:Mk}=ct();vk.exports=vn;var og=_E(),An=OS();Mk(vn.prototype,og.prototype);Mk(vn,og);{let t=UIe(An.prototype);for(let e=0;e<t.length;e++){let r=t[e];vn.prototype[r]||(vn.prototype[r]=An.prototype[r])}}function vn(t){if(!(this instanceof vn))return new vn(t);og.call(this,t),An.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}vIe(vn.prototype,{writable:{__proto__:null,...Zi(An.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Zi(An.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Zi(An.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Zi(An.prototype,"writableBuffer")},writableLength:{__proto__:null,...Zi(An.prototype,"writableLength")},writableFinished:{__proto__:null,...Zi(An.prototype,"writableFinished")},writableCorked:{__proto__:null,...Zi(An.prototype,"writableCorked")},writableEnded:{__proto__:null,...Zi(An.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Zi(An.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var ig;function xk(){return ig===void 0&&(ig={}),ig}vn.fromWeb=function(t,e){return xk().newStreamDuplexFromReadableWritablePair(t,e)};vn.toWeb=function(t){return xk().newReadableWritablePairFromDuplex(t)};var sg;vn.from=function(t){return sg||(sg=Pk()),sg(t,"body")}});var cg=g((uUe,Bk)=>{"use strict";var{ObjectSetPrototypeOf:Uk,Symbol:BIe}=ct();Bk.exports=es;var{ERR_METHOD_NOT_IMPLEMENTED:FIe}=br().codes,lg=Si(),{getHighWaterMark:GIe}=RE();Uk(es.prototype,lg.prototype);Uk(es,lg);var mE=BIe("kCallback");function es(t){if(!(this instanceof es))return new es(t);let e=t?GIe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),lg.call(this,t),this._readableState.sync=!1,this[mE]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",HIe)}function ag(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function HIe(){this._final!==ag&&ag.call(this)}es.prototype._final=ag;es.prototype._transform=function(t,e,r){throw new FIe("_transform()")};es.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[mE]=r})};es.prototype._read=function(){if(this[mE]){let t=this[mE];this[mE]=null,t()}}});var Eg=g((EUe,Gk)=>{"use strict";var{ObjectSetPrototypeOf:Fk}=ct();Gk.exports=zl;var ug=cg();Fk(zl.prototype,ug.prototype);Fk(zl,ug);function zl(t){if(!(this instanceof zl))return new zl(t);ug.call(this,t)}zl.prototype._transform=function(t,e,r){r(null,t)}});var bS=g((fUe,Vk)=>{var gE=qe(),{ArrayIsArray:WIe,Promise:YIe,SymbolAsyncIterator:$Ie,SymbolDispose:VIe}=ct(),CS=Qi(),{once:kIe}=Fr(),qIe=ta(),Hk=Si(),{aggregateTwoErrors:XIe,codes:{ERR_INVALID_ARG_TYPE:_g,ERR_INVALID_RETURN_VALUE:fg,ERR_MISSING_ARGS:KIe,ERR_STREAM_DESTROYED:zIe,ERR_STREAM_PREMATURE_CLOSE:jIe},AbortError:JIe}=br(),{validateFunction:QIe,validateAbortSignal:ZIe}=Hl(),{isIterable:ia,isReadable:dg,isReadableNodeStream:gS,isNodeStream:Wk,isTransformStream:jl,isWebStream:eNe,isReadableStream:hg,isReadableFinished:tNe}=hi(),rNe=globalThis.AbortController||gt().AbortController,Tg,Sg,pg;function Yk(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=CS(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,qIe.destroyer(t,s||new zIe("pipe")))},cleanup:i}}function nNe(t){return QIe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Rg(t){if(ia(t))return t;if(gS(t))return iNe(t);throw new _g("val",["Readable","Iterable","AsyncIterable"],t)}async function*iNe(t){Sg||(Sg=_E()),yield*Sg.prototype[$Ie].call(t)}async function mS(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new YIe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=CS(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?XIe(i,c):c)}finally{l(),e.off("drain",o)}}async function Ag(t,e,r,{end:n}){jl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function sNe(...t){return $k(t,kIe(nNe(t)))}function $k(t,e,r){if(t.length===1&&WIe(t[0])&&(t=t[0]),t.length<2)throw new KIe("streams");let n=new rNe,i=n.signal,s=r?.signal,o=[];ZIe(s,"options.signal");function a(){T(new JIe)}pg=pg||Fr().addAbortListener;let l;s&&(l=pg(s,a));let c,u,E=[],d=0;function f(R){T(R,--d===0)}function T(R,A){var O;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;E.length;)E.shift()(c);(O=l)===null||O===void 0||O[VIe](),n.abort(),A&&(c||o.forEach(L=>L()),gE.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],O=R<t.length-1,L=R>0,N=O||r?.end!==!1,D=R===t.length-1;if(Wk(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(P)};var I=y;if(N){let{destroy:P,cleanup:x}=Yk(A,O,L);E.push(P),dg(A)&&D&&o.push(x)}A.on("error",y),dg(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!ia(h))throw new fg("Iterable, AsyncIterable or Stream","source",h)}else ia(A)||gS(A)||jl(A)?h=A:h=Hk.from(A);else if(typeof A=="function"){if(jl(h)){var S;h=Rg((S=h)===null||S===void 0?void 0:S.readable)}else h=Rg(h);if(h=A(h,{signal:i}),O){if(!ia(h,!0))throw new fg("AsyncIterable",`transform[${R-1}]`,h)}else{var p;Tg||(Tg=Eg());let y=new Tg({objectMode:!0}),P=(p=h)===null||p===void 0?void 0:p.then;if(typeof P=="function")d++,P.call(h,G=>{u=G,G!=null&&y.write(G),N&&y.end(),gE.nextTick(f)},G=>{y.destroy(G),gE.nextTick(f,G)});else if(ia(h,!0))d++,mS(h,y,f,{end:N});else if(hg(h)||jl(h)){let G=h.readable||h;d++,mS(G,y,f,{end:N})}else throw new fg("AsyncIterable or Promise","destination",h);h=y;let{destroy:x,cleanup:B}=Yk(h,!1,!0);E.push(x),D&&o.push(B)}}else if(Wk(A)){if(gS(h)){d+=2;let y=oNe(h,A,f,{end:N});dg(A)&&D&&o.push(y)}else if(jl(h)||hg(h)){let y=h.readable||h;d++,mS(y,A,f,{end:N})}else if(ia(h))d++,mS(h,A,f,{end:N});else throw new _g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(eNe(A)){if(gS(h))d++,Ag(Rg(h),A,f,{end:N});else if(hg(h)||ia(h))d++,Ag(h,A,f,{end:N});else if(jl(h))d++,Ag(h.readable,A,f,{end:N});else throw new _g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=Hk.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&gE.nextTick(a),h}function oNe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new jIe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;tNe(t)?gE.nextTick(o):t.once("end",o)}else r();return CS(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),CS(e,{readable:!1,writable:!0},r)}Vk.exports={pipelineImpl:$k,pipeline:sNe}});var Ng=g((dUe,jk)=>{"use strict";var{pipeline:aNe}=bS(),yS=Si(),{destroyer:lNe}=ta(),{isNodeStream:LS,isReadable:kk,isWritable:qk,isWebStream:Ig,isTransformStream:sa,isWritableStream:Xk,isReadableStream:Kk}=hi(),{AbortError:cNe,codes:{ERR_INVALID_ARG_VALUE:zk,ERR_MISSING_ARGS:uNe}}=br(),ENe=Qi();jk.exports=function(...e){if(e.length===0)throw new uNe("streams");if(e.length===1)return yS.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=yS.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=yS.from(e[f])}for(let f=0;f<e.length;++f)if(!(!LS(e[f])&&!Ig(e[f]))){if(f<e.length-1&&!(kk(e[f])||Kk(e[f])||sa(e[f])))throw new zk(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(qk(e[f])||Xk(e[f])||sa(e[f])))throw new zk(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let T=o;o=null,T?T(f):f?a.destroy(f):!d&&!E&&a.destroy()}let c=e[0],u=aNe(e,l),E=!!(qk(c)||Xk(c)||sa(c)),d=!!(kk(u)||Kk(u)||sa(u));if(a=new yS({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:E,readable:d}),E){if(LS(c))a._write=function(T,h,S){c.write(T,h)?S():n=S},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(Ig(c)){let h=(sa(c)?c.writable:c).getWriter();a._write=async function(S,p,I){try{await h.ready,h.write(S).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(S){try{await h.ready,h.close().catch(()=>{}),i=S}catch(p){S(p)}}}let f=sa(u)?u.readable:u;ENe(f,()=>{if(i){let T=i;i=null,T()}})}if(d){if(LS(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(Ig(u)){let T=(sa(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:S}=await T.read();if(!a.push(h))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(f,T){!f&&o!==null&&(f=new cNe),s=null,n=null,i=null,o===null?T(f):(o=T,LS(u)&&lNe(u,f))},a}});var o2=g((hUe,gg)=>{"use strict";var fNe=globalThis.AbortController||gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:dNe,ERR_INVALID_ARG_TYPE:CE,ERR_MISSING_ARGS:hNe,ERR_OUT_OF_RANGE:TNe},AbortError:pi}=br(),{validateAbortSignal:oa,validateInteger:Jk,validateObject:aa}=Hl(),SNe=ct().Symbol("kWeak"),pNe=ct().Symbol("kResistStopPropagation"),{finished:RNe}=Qi(),ANe=Ng(),{addAbortSignalNoValidate:_Ne}=pE(),{isWritable:INe,isNodeStream:NNe}=hi(),{deprecate:ONe}=Fr(),{ArrayPrototypePush:mNe,Boolean:gNe,MathFloor:Qk,Number:CNe,NumberIsNaN:bNe,Promise:Zk,PromiseReject:e2,PromiseResolve:yNe,PromisePrototypeThen:t2,Symbol:n2}=ct(),wS=n2("kEmpty"),r2=n2("kEof");function LNe(t,e){if(e!=null&&aa(e,"options"),e?.signal!=null&&oa(e.signal,"options.signal"),NNe(t)&&!INe(t))throw new dNe("stream",t,"must be writable");let r=ANe(this,t);return e!=null&&e.signal&&_Ne(e.signal,r),r}function DS(t,e){if(typeof t!="function")throw new CE("fn",["Function","AsyncFunction"],t);e!=null&&aa(e,"options"),e?.signal!=null&&oa(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Qk(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=Qk(e.highWaterMark)),Jk(r,"options.concurrency",1),Jk(n,"options.highWaterMark",0),n+=r,async function*(){let s=Fr().AbortSignalAny([e?.signal].filter(gNe)),o=this,a=[],l={signal:s},c,u,E=!1,d=0;function f(){E=!0,T()}function T(){d-=1,h()}function h(){u&&!E&&d<r&&a.length<n&&(u(),u=null)}async function S(){try{for await(let p of o){if(E)return;if(s.aborted)throw new pi;try{if(p=t(p,l),p===wS)continue;p=yNe(p)}catch(I){p=e2(I)}d+=1,t2(p,T,f),a.push(p),c&&(c(),c=null),!E&&(a.length>=n||d>=r)&&await new Zk(I=>{u=I})}a.push(r2)}catch(p){let I=e2(p);t2(I,T,f),a.push(I)}finally{E=!0,c&&(c(),c=null)}}S();try{for(;;){for(;a.length>0;){let p=await a[0];if(p===r2)return;if(s.aborted)throw new pi;p!==wS&&(yield p),a.shift(),h()}await new Zk(p=>{c=p})}}finally{E=!0,u&&(u(),u=null)}}.call(this)}function wNe(t=void 0){return t!=null&&aa(t,"options"),t?.signal!=null&&oa(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new pi({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function i2(t,e=void 0){for await(let r of mg.call(this,t,e))return!0;return!1}async function DNe(t,e=void 0){if(typeof t!="function")throw new CE("fn",["Function","AsyncFunction"],t);return!await i2.call(this,async(...r)=>!await t(...r),e)}async function PNe(t,e){for await(let r of mg.call(this,t,e))return r}async function MNe(t,e){if(typeof t!="function")throw new CE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),wS}for await(let n of DS.call(this,r,e));}function mg(t,e){if(typeof t!="function")throw new CE("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:wS}return DS.call(this,r,e)}var Og=class extends hNe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function xNe(t,e,r){var n;if(typeof t!="function")throw new CE("reducer",["Function","AsyncFunction"],t);r!=null&&aa(r,"options"),r?.signal!=null&&oa(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new pi(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await RNe(this.destroy(c)),c}let s=new fNe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[SNe]:this,[pNe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new pi;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new Og}finally{s.abort()}return e}async function vNe(t){t!=null&&aa(t,"options"),t?.signal!=null&&oa(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new pi(void 0,{cause:t.signal.reason});mNe(e,n)}return e}function UNe(t,e){let r=DS.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function s2(t){if(t=CNe(t),bNe(t))return 0;if(t<0)throw new TNe("number",">= 0",t);return t}function BNe(t,e=void 0){return e!=null&&aa(e,"options"),e?.signal!=null&&oa(e.signal,"options.signal"),t=s2(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new pi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new pi;t--<=0&&(yield s)}}.call(this)}function FNe(t,e=void 0){return e!=null&&aa(e,"options"),e?.signal!=null&&oa(e.signal,"options.signal"),t=s2(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new pi;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new pi;if(t-- >0&&(yield s),t<=0)return}}.call(this)}gg.exports.streamReturningOperators={asIndexedPairs:ONe(wNe,"readable.asIndexedPairs will be removed in a future version."),drop:BNe,filter:mg,flatMap:UNe,map:DS,take:FNe,compose:LNe};gg.exports.promiseReturningOperators={every:DNe,forEach:MNe,reduce:xNe,toArray:vNe,some:i2,find:PNe}});var Cg=g((TUe,a2)=>{"use strict";var{ArrayPrototypePop:GNe,Promise:HNe}=ct(),{isIterable:WNe,isNodeStream:YNe,isWebStream:$Ne}=hi(),{pipelineImpl:VNe}=bS(),{finished:kNe}=Qi();bg();function qNe(...t){return new HNe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!YNe(s)&&!WNe(s)&&!$Ne(s)){let o=GNe(t);n=o.signal,i=o.end}VNe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}a2.exports={finished:kNe,pipeline:qNe}});var bg=g((SUe,S2)=>{"use strict";var{Buffer:XNe}=require("buffer"),{ObjectDefineProperty:ts,ObjectKeys:u2,ReflectApply:E2}=ct(),{promisify:{custom:f2}}=Fr(),{streamReturningOperators:l2,promiseReturningOperators:c2}=o2(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:d2}}=br(),KNe=Ng(),{setDefaultHighWaterMark:zNe,getDefaultHighWaterMark:jNe}=RE(),{pipeline:h2}=bS(),{destroyer:JNe}=ta(),T2=Qi(),yg=Cg(),bE=hi(),nt=S2.exports=ES().Stream;nt.isDestroyed=bE.isDestroyed;nt.isDisturbed=bE.isDisturbed;nt.isErrored=bE.isErrored;nt.isReadable=bE.isReadable;nt.isWritable=bE.isWritable;nt.Readable=_E();for(let t of u2(l2)){let r=function(...n){if(new.target)throw d2();return nt.Readable.from(E2(e,this,n))},e=l2[t];ts(r,"name",{__proto__:null,value:e.name}),ts(r,"length",{__proto__:null,value:e.length}),ts(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of u2(c2)){let r=function(...n){if(new.target)throw d2();return E2(e,this,n)},e=c2[t];ts(r,"name",{__proto__:null,value:e.name}),ts(r,"length",{__proto__:null,value:e.length}),ts(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}nt.Writable=OS();nt.Duplex=Si();nt.Transform=cg();nt.PassThrough=Eg();nt.pipeline=h2;var{addAbortSignal:QNe}=pE();nt.addAbortSignal=QNe;nt.finished=T2;nt.destroy=JNe;nt.compose=KNe;nt.setDefaultHighWaterMark=zNe;nt.getDefaultHighWaterMark=jNe;ts(nt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return yg}});ts(h2,f2,{__proto__:null,enumerable:!0,get(){return yg.pipeline}});ts(T2,f2,{__proto__:null,enumerable:!0,get(){return yg.finished}});nt.Stream=nt;nt._isUint8Array=function(e){return e instanceof Uint8Array};nt._uint8ArrayToBuffer=function(e){return XNe.from(e.buffer,e.byteOffset,e.byteLength)}});var p2=g((pUe,be)=>{"use strict";var Wt=require("stream");if(Wt&&process.env.READABLE_STREAM==="disable"){let t=Wt.promises;be.exports._uint8ArrayToBuffer=Wt._uint8ArrayToBuffer,be.exports._isUint8Array=Wt._isUint8Array,be.exports.isDisturbed=Wt.isDisturbed,be.exports.isErrored=Wt.isErrored,be.exports.isReadable=Wt.isReadable,be.exports.Readable=Wt.Readable,be.exports.Writable=Wt.Writable,be.exports.Duplex=Wt.Duplex,be.exports.Transform=Wt.Transform,be.exports.PassThrough=Wt.PassThrough,be.exports.addAbortSignal=Wt.addAbortSignal,be.exports.finished=Wt.finished,be.exports.destroy=Wt.destroy,be.exports.pipeline=Wt.pipeline,be.exports.compose=Wt.compose,Object.defineProperty(Wt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),be.exports.Stream=Wt.Stream}else{let t=bg(),e=Cg(),r=t.Readable.destroy;be.exports=t.Readable,be.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,be.exports._isUint8Array=t._isUint8Array,be.exports.isDisturbed=t.isDisturbed,be.exports.isErrored=t.isErrored,be.exports.isReadable=t.isReadable,be.exports.Readable=t.Readable,be.exports.Writable=t.Writable,be.exports.Duplex=t.Duplex,be.exports.Transform=t.Transform,be.exports.PassThrough=t.PassThrough,be.exports.addAbortSignal=t.addAbortSignal,be.exports.finished=t.finished,be.exports.destroy=t.destroy,be.exports.destroy=r,be.exports.pipeline=t.pipeline,be.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),be.exports.Stream=t.Stream}be.exports.default=be.exports});var A2=g((RUe,R2)=>{"use strict";var{Transform:ZNe}=p2(),eOe=rS(),Lg=class extends ZNe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=eOe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};R2.exports=Lg});var I2=g((AUe,_2)=>{"use strict";var{DeflateRaw:tOe}=require("zlib"),rOe=rS(),wg=class extends tOe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=rOe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};_2.exports=wg});var Dg=g((_Ue,N2)=>{"use strict";N2.exports={CRC32Stream:A2(),DeflateCRC32Stream:I2()}});var g2=g((mUe,m2)=>{var nOe=require("util").inherits,iOe=rS(),{CRC32Stream:sOe}=Dg(),{DeflateCRC32Stream:oOe}=Dg(),O2=Rm(),IUe=sO(),NUe=nO(),Te=iO(),OUe=Sm(),ae=CT(),Zt=m2.exports=function(t){if(!(this instanceof Zt))return new Zt(t);t=this.options=this._defaults(t),O2.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};nOe(Zt,O2);Zt.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};Zt.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(Te.METHOD_STORED);var n=t.getMethod();if(n===Te.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(iOe.buf(e)>>>0)),this._writeLocalFileHeader(t),n===Te.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===Te.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};Zt.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Te.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};Zt.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=Te.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};Zt.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};Zt.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(Te.METHOD_DEFLATED),t.getMethod()===Te.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Te.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};Zt.prototype._smartStream=function(t,e){var r=t.getMethod()===Te.METHOD_DEFLATED,n=r?new oOe(this.options.zlib):new sOe,i=null;function s(){var o=n.digest().readUInt32BE(0);t.setCrc(o),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(o){i=o}),n.pipe(this,{end:!1}),n};Zt.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=Te.ZIP64_MAGIC_SHORT,e=Te.ZIP64_MAGIC,r=Te.ZIP64_MAGIC),this.write(ae.getLongBytes(Te.SIG_EOCD)),this.write(Te.SHORT_ZERO),this.write(Te.SHORT_ZERO),this.write(ae.getShortBytes(t)),this.write(ae.getShortBytes(t)),this.write(ae.getLongBytes(e)),this.write(ae.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(ae.getShortBytes(i)),this.write(n)};Zt.prototype._writeCentralDirectoryZip64=function(){this.write(ae.getLongBytes(Te.SIG_ZIP64_EOCD)),this.write(ae.getEightBytes(44)),this.write(ae.getShortBytes(Te.MIN_VERSION_ZIP64)),this.write(ae.getShortBytes(Te.MIN_VERSION_ZIP64)),this.write(Te.LONG_ZERO),this.write(Te.LONG_ZERO),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._archive.centralLength)),this.write(ae.getEightBytes(this._archive.centralOffset)),this.write(ae.getLongBytes(Te.SIG_ZIP64_EOCD_LOC)),this.write(Te.LONG_ZERO),this.write(ae.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(ae.getLongBytes(1))};Zt.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>Te.ZIP64_MAGIC){i=Te.ZIP64_MAGIC,s=Te.ZIP64_MAGIC,n=Te.ZIP64_MAGIC,t.setVersionNeededToExtract(Te.MIN_VERSION_ZIP64);var o=Buffer.concat([ae.getShortBytes(Te.ZIP64_EXTRA_ID),ae.getShortBytes(24),ae.getEightBytes(t.getSize()),ae.getEightBytes(t.getCompressedSize()),ae.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(ae.getLongBytes(Te.SIG_CFH)),this.write(ae.getShortBytes(t.getPlatform()<<8|Te.VERSION_MADEBY)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(s)),this.write(ae.getLongBytes(i));var a=t.getName(),l=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(ae.getShortBytes(a.length)),this.write(ae.getShortBytes(c.length)),this.write(ae.getShortBytes(l.length)),this.write(Te.SHORT_ZERO),this.write(ae.getShortBytes(t.getInternalAttributes())),this.write(ae.getLongBytes(t.getExternalAttributes())),this.write(ae.getLongBytes(n)),this.write(a),this.write(c),this.write(l)};Zt.prototype._writeDataDescriptor=function(t){this.write(ae.getLongBytes(Te.SIG_DD)),this.write(ae.getLongBytes(t.getCrc())),t.isZip64()?(this.write(ae.getEightBytes(t.getCompressedSize())),this.write(ae.getEightBytes(t.getSize()))):(this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize())))};Zt.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(Te.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(ae.getLongBytes(Te.SIG_LFH)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(Te.LONG_ZERO),this.write(Te.LONG_ZERO),this.write(Te.LONG_ZERO)):(this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize()))),this.write(ae.getShortBytes(n.length)),this.write(ae.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};Zt.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};Zt.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>Te.ZIP64_MAGIC_SHORT||this._archive.centralLength>Te.ZIP64_MAGIC||this._archive.centralOffset>Te.ZIP64_MAGIC};Zt.prototype.setComment=function(t){this._archive.comment=t}});var Pg=g((gUe,C2)=>{C2.exports={ArchiveEntry:gT(),ZipArchiveEntry:sO(),ArchiveOutputStream:Rm(),ZipArchiveOutputStream:g2()}});var y2=g((CUe,b2)=>{var aOe=require("util").inherits,xg=Pg().ZipArchiveOutputStream,lOe=Pg().ZipArchiveEntry,Mg=hl(),Jl=b2.exports=function(t){if(!(this instanceof Jl))return new Jl(t);t=this.options=t||{},t.zlib=t.zlib||{},xg.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};aOe(Jl,xg);Jl.prototype._normalizeFileData=function(t){t=Mg.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=Mg.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=Mg.dateify(t.date),t};Jl.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new lOe(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),xg.prototype.entry.call(this,n,t,r)};Jl.prototype.finalize=function(){this.finish()}});var w2=g((bUe,L2)=>{var cOe=y2(),uOe=hl(),Hs=function(t){if(!(this instanceof Hs))return new Hs(t);t=this.options=uOe.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new cOe(t)};Hs.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};Hs.prototype.finalize=function(){this.engine.finalize()};Hs.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Hs.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};Hs.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};L2.exports=Hs});var P2=g((yUe,D2)=>{D2.exports=require("events")});var x2=g((wUe,M2)=>{M2.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var vg=g((PUe,U2)=>{var v2=x2();U2.exports=class{constructor(e){this.hwm=e||16,this.head=new v2(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new v2(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var Ql=g((MUe,B2)=>{function EOe(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function fOe(t){return Buffer.isEncoding(t)}function dOe(t,e,r){return Buffer.alloc(t,e,r)}function hOe(t){return Buffer.allocUnsafe(t)}function TOe(t){return Buffer.allocUnsafeSlow(t)}function SOe(t,e){return Buffer.byteLength(t,e)}function pOe(t,e){return Buffer.compare(t,e)}function ROe(t,e){return Buffer.concat(t,e)}function AOe(t,e,r,n,i){return Ke(t).copy(e,r,n,i)}function _Oe(t,e){return Ke(t).equals(e)}function IOe(t,e,r,n,i){return Ke(t).fill(e,r,n,i)}function NOe(t,e,r){return Buffer.from(t,e,r)}function OOe(t,e,r,n){return Ke(t).includes(e,r,n)}function mOe(t,e,r,n){return Ke(t).indexOf(e,r,n)}function gOe(t,e,r,n){return Ke(t).lastIndexOf(e,r,n)}function COe(t){return Ke(t).swap16()}function bOe(t){return Ke(t).swap32()}function yOe(t){return Ke(t).swap64()}function Ke(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function LOe(t,e,r,n){return Ke(t).toString(e,r,n)}function wOe(t,e,r,n,i){return Ke(t).write(e,r,n,i)}function DOe(t,e){return Ke(t).readDoubleBE(e)}function POe(t,e){return Ke(t).readDoubleLE(e)}function MOe(t,e){return Ke(t).readFloatBE(e)}function xOe(t,e){return Ke(t).readFloatLE(e)}function vOe(t,e){return Ke(t).readInt32BE(e)}function UOe(t,e){return Ke(t).readInt32LE(e)}function BOe(t,e){return Ke(t).readUInt32BE(e)}function FOe(t,e){return Ke(t).readUInt32LE(e)}function GOe(t,e,r){return Ke(t).writeDoubleBE(e,r)}function HOe(t,e,r){return Ke(t).writeDoubleLE(e,r)}function WOe(t,e,r){return Ke(t).writeFloatBE(e,r)}function YOe(t,e,r){return Ke(t).writeFloatLE(e,r)}function $Oe(t,e,r){return Ke(t).writeInt32BE(e,r)}function VOe(t,e,r){return Ke(t).writeInt32LE(e,r)}function kOe(t,e,r){return Ke(t).writeUInt32BE(e,r)}function qOe(t,e,r){return Ke(t).writeUInt32LE(e,r)}B2.exports={isBuffer:EOe,isEncoding:fOe,alloc:dOe,allocUnsafe:hOe,allocUnsafeSlow:TOe,byteLength:SOe,compare:pOe,concat:ROe,copy:AOe,equals:_Oe,fill:IOe,from:NOe,includes:OOe,indexOf:mOe,lastIndexOf:gOe,swap16:COe,swap32:bOe,swap64:yOe,toBuffer:Ke,toString:LOe,write:wOe,readDoubleBE:DOe,readDoubleLE:POe,readFloatBE:MOe,readFloatLE:xOe,readInt32BE:vOe,readInt32LE:UOe,readUInt32BE:BOe,readUInt32LE:FOe,writeDoubleBE:GOe,writeDoubleLE:HOe,writeFloatBE:WOe,writeFloatLE:YOe,writeInt32BE:$Oe,writeInt32LE:VOe,writeUInt32BE:kOe,writeUInt32LE:qOe}});var G2=g((vUe,F2)=>{var XOe=Ql();F2.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return XOe.toString(e,this.encoding)}flush(){return""}}});var W2=g((BUe,H2)=>{var KOe=Ql();H2.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return KOe.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){let s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="\uFFFD");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="\uFFFD";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){let e=this.bytesNeeded>0?"\uFFFD":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}});var $2=g((GUe,Y2)=>{var zOe=G2(),jOe=W2();Y2.exports=class{constructor(e="utf8"){switch(this.encoding=JOe(e),this.encoding){case"utf8":this.decoder=new jOe;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new zOe(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function JOe(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}});var Jg=g((HUe,fq)=>{var{EventEmitter:QOe}=P2(),BS=new Error("Stream was destroyed"),Ug=new Error("Premature close"),z2=vg(),ZOe=$2(),Bg=typeof queueMicrotask>"u"?t=>global.process.nextTick(t):queueMicrotask,Tt=(1<<29)-1,Ri=1,Vg=2,la=4,yE=8,j2=Tt^Ri,eme=Tt^Vg,ME=16,Zl=32,rc=64,Ys=128,xE=256,kg=512,ca=1024,Fg=2048,qg=4096,Xg=8192,Un=16384,Ws=32768,FS=65536,ua=131072,J2=xE|kg,tme=ME|FS,rme=rc|ME,nme=qg|Ys,Kg=xE|ua,ime=Tt^ME,sme=Tt^rc,ome=Tt^(rc|FS),V2=Tt^FS,ame=Tt^xE,lme=Tt^(Ys|Xg),cme=Tt^ca,k2=Tt^J2,Q2=Tt^Ws,ume=Tt^Zl,Z2=Tt^ua,Eme=Tt^Kg,rs=1<<18,tc=2<<18,vE=4<<18,Ea=8<<18,UE=16<<18,$s=32<<18,Gg=64<<18,ec=128<<18,zg=256<<18,fa=512<<18,GS=1024<<18,fme=Tt^(rs|zg),eq=Tt^vE,dme=Tt^(rs|fa),hme=Tt^UE,Tme=Tt^Ea,tq=Tt^ec,Sme=Tt^tc,rq=Tt^GS,LE=ME|rs,nq=Tt^LE,jg=Un|$s,Ai=la|yE|Vg,Zr=Ai|Ri,iq=Ai|jg,pme=eq&sme,HS=ec|Ws,Rme=HS&nq,sq=Zr|Rme,Ame=Zr|ca|Un,q2=Zr|Un|Ys,_me=Zr|ca|Ys,Ime=Zr|qg|Ys|Xg,Nme=Zr|ME|ca|Un|FS|ua,Ome=Ai|ca|Un,mme=Zl|Zr|Ws|rc,gme=Ws|Ri,Cme=Zr|fa|$s,bme=Ea|UE,oq=Ea|rs,yme=Ea|UE|Zr|rs,X2=Zr|rs|Ea|GS,Lme=vE|rs,wme=rs|zg,Dme=Zr|fa|oq|$s,Pme=UE|Ai|fa|$s,Mme=tc|Zr|ec|vE,xme=fa|$s|Ai,PS=Symbol.asyncIterator||Symbol("asyncIterator"),MS=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new z2,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||Eq,this.map=i||n,this.afterWrite=Bme.bind(this),this.afterUpdateNextTick=Hme.bind(this)}get ended(){return(this.stream._duplexState&$s)!==0}push(e){return(this.stream._duplexState&xme)!==0?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=Ea,!0):(this.stream._duplexState|=bme,!1))}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=Tme),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|fa)&eq}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&X2)===oq;)n.push(i._writableState.shift());if((i._duplexState&Zr)!==0)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=tc;do{for(;(e._duplexState&X2)===Ea;){let r=this.shift();e._duplexState|=wme,e._write(r,this.afterWrite)}(e._duplexState&Lme)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=Sme}updateNonPrimary(){let e=this.stream;if((e._duplexState&Dme)===fa){e._duplexState=e._duplexState|rs,e._final(Ume.bind(this));return}if((e._duplexState&Ai)===la){(e._duplexState&HS)===0&&(e._duplexState|=LE,e._destroy(aq.bind(this)));return}(e._duplexState&sq)===Ri&&(e._duplexState=(e._duplexState|LE)&j2,e._open(lq.bind(this)))}continueUpdate(){return(this.stream._duplexState&ec)===0?!1:(this.stream._duplexState&=tq,!0)}updateCallback(){(this.stream._duplexState&Mme)===vE?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&ec)===0&&(this.stream._duplexState|=ec,(this.stream._duplexState&tc)===0&&Bg(this.afterUpdateNextTick))}},Hg=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new z2,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=o||s||Eq,this.map=i||n,this.pipeTo=null,this.afterRead=Fme.bind(this),this.afterUpdateNextTick=Gme.bind(this)}get ended(){return(this.stream._duplexState&Un)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=kg,this.pipeTo=e,this.pipeline=new Yg(this.stream,e,r),r&&this.stream.on("error",K2),PE(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",K2),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",vme.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|ca)&ome,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=V2,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|Ys)&V2,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=lme),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&q2)===Ys){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=k2),(e._duplexState&Fg)!==0&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=ua,this.updateNextTick()),null}drain(){let e=this.stream;for(;(e._duplexState&q2)===Ys&&(e._duplexState&J2)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=k2),(e._duplexState&Fg)!==0&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=Zl;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&Nme)===ua;)e._duplexState|=tme,e._read(this.afterRead),this.drain();(e._duplexState&Ime)===nme&&(e._duplexState|=Xg,e.emit("readable")),(e._duplexState&rme)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=ume}updateNonPrimary(){let e=this.stream;if((e._duplexState&_me)===ca&&(e._duplexState=(e._duplexState|Un)&cme,e.emit("end"),(e._duplexState&iq)===jg&&(e._duplexState|=la),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&Ai)===la){(e._duplexState&HS)===0&&(e._duplexState|=LE,e._destroy(aq.bind(this)));return}(e._duplexState&sq)===Ri&&(e._duplexState=(e._duplexState|LE)&j2,e._open(lq.bind(this)))}continueUpdate(){return(this.stream._duplexState&Ws)===0?!1:(this.stream._duplexState&=Q2,!0)}updateCallback(){(this.stream._duplexState&mme)===rc?this.update():this.updateNextTick()}updateNextTickIfOpen(){(this.stream._duplexState&gme)===0&&(this.stream._duplexState|=Ws,(this.stream._duplexState&Zl)===0&&Bg(this.afterUpdateNextTick))}updateNextTick(){(this.stream._duplexState&Ws)===0&&(this.stream._duplexState|=Ws,(this.stream._duplexState&Zl)===0&&Bg(this.afterUpdateNextTick))}},Wg=class{constructor(e){this.data=null,this.afterTransform=Yme.bind(e),this.afterFinal=null}},Yg=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&Un)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&Un)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function vme(){this.stream._duplexState|=kg,this.updateCallback()}function Ume(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&Ai)===0&&(e._duplexState|=$s,e.emit("finish")),(e._duplexState&iq)===jg&&(e._duplexState|=la),e._duplexState&=dme,(e._duplexState&tc)===0?this.update():this.updateNextTick()}function aq(t){let e=this.stream;!t&&this.error!==BS&&(t=this.error),t&&e.emit("error",t),e._duplexState|=yE,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function Bme(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=fme,this.drains!==null&&Wme(this.drains),(e._duplexState&yme)===UE&&(e._duplexState&=hme,(e._duplexState&Gg)===Gg&&e.emit("drain")),this.updateCallback()}function Fme(t){t&&this.stream.destroy(t),this.stream._duplexState&=ime,this.readAhead===!1&&(this.stream._duplexState&xE)===0&&(this.stream._duplexState&=Z2),this.updateCallback()}function Gme(){(this.stream._duplexState&Zl)===0&&(this.stream._duplexState&=Q2,this.update())}function Hme(){(this.stream._duplexState&tc)===0&&(this.stream._duplexState&=tq,this.update())}function Wme(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function lq(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&la)===0&&((e._duplexState&Ame)===0&&(e._duplexState|=rc),(e._duplexState&Cme)===0&&(e._duplexState|=vE),e.emit("open")),e._duplexState&=nq,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function Yme(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}function $me(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=Fg|Kg,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=qg,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=Gg,this._writableState.updateNextTick())}var wE=class extends QOe{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Zme.bind(this))),this.on("newListener",$me)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&yE)!==0}get destroying(){return(this._duplexState&Ai)!==0}destroy(e){(this._duplexState&Ai)===0&&(e||(e=BS),this._duplexState=(this._duplexState|la)&pme,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=Vg,this._predestroy(),this._duplexState&=eme,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},xS=class t extends wE{constructor(e){super(e),this._duplexState|=Ri|$s|ua,this._readableState=new Hg(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=Z2),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){let r=new ZOe(e),n=this._readableState.map||qme;return this._readableState.map=i,this;function i(s){let o=r.push(s);return o===""&&(s.byteLength!==0||r.remaining>0)?null:n(o)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=Kg,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?Eme:ame,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(jme(e))return e;if(e[PS])return this._fromAsyncIterator(e[PS](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&Ome)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&xE)===0}[PS](){let e=this,r=null,n=null,i=null;return this.on("error",c=>{r=c}),this.on("readable",s),this.on("close",o),{[PS](){return this},next(){return new Promise(function(c,u){n=c,i=u;let E=e.read();E!==null?a(E):(e._duplexState&yE)!==0&&a(null)})},return(){return l(null)},throw(c){return l(c)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(c){i!==null&&(r?i(r):c===null&&(e._duplexState&Un)===0?i(BS):n({value:c,done:c===null}),i=n=null)}function l(c){return e.destroy(c),new Promise((u,E)=>{if(e._duplexState&yE)return u({value:void 0,done:!0});e.once("close",function(){c?E(c):u({value:void 0,done:!0})})})}}},vS=class extends wE{constructor(e){super(e),this._duplexState|=Ri|Un,this._writableState=new MS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=GS}uncork(){this._duplexState&=rq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&Pme)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,i=(ege(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&zg?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},DE=class extends xS{constructor(e){super(e),this._duplexState=Ri|this._duplexState&ua,this._writableState=new MS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=GS}uncork(){this._duplexState&=rq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},US=class extends DE{constructor(e){super(e),this._transformState=new Wg(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(Vme.bind(this))}},$g=class extends US{};function Vme(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function kme(...t){return new Promise((e,r)=>cq(...t,n=>{if(n)return r(n);e()}))}function cq(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let c=1;c<r.length;c++)s=r[c],PE(i)?i.pipe(s,l):(a(i,!0,c>1,l),i.pipe(s)),i=s;if(n){let c=!1,u=PE(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",E=>{o===null&&(o=E)}),s.on("finish",()=>{c=!0,u||n(o)}),u&&s.on("close",()=>n(o||(c?null:Ug)))}return s;function a(c,u,E,d){c.on("error",d),c.on("close",f);function f(){if(u&&c._readableState&&!c._readableState.ended||E&&c._writableState&&!c._writableState.ended)return d(Ug)}}function l(c){if(!(!c||o)){o=c;for(let u of r)u.destroy(c)}}}function qme(t){return t}function uq(t){return!!t._readableState||!!t._writableState}function PE(t){return typeof t._duplexState=="number"&&uq(t)}function Xme(t){return!!t._readableState&&t._readableState.ended}function Kme(t){return!!t._writableState&&t._writableState.ended}function zme(t,e={}){let r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===BS?null:r}function jme(t){return PE(t)&&t.readable}function Jme(t){return(t._duplexState&Ri)!==Ri||(t._duplexState&HS)!==0}function Qme(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function Eq(t){return Qme(t)?t.byteLength:1024}function K2(){}function Zme(){this.destroy(new Error("Stream aborted."))}function ege(t){return t._writev!==vS.prototype._writev&&t._writev!==DE.prototype._writev}fq.exports={pipeline:cq,pipelinePromise:kme,isStream:uq,isStreamx:PE,isEnded:Xme,isFinished:Kme,isDisturbed:Jme,getStreamError:zme,Stream:wE,Writable:vS,Readable:xS,Duplex:DE,Transform:US,PassThrough:$g}});var eC=g(ic=>{var Ge=Ql(),tge="0000000000000000000",rge="7777777777777777777",WS=48,dq=Ge.from([117,115,116,97,114,0]),nge=Ge.from([WS,WS]),ige=Ge.from([117,115,116,97,114,32]),sge=Ge.from([32,0]),oge=4095,BE=257,Zg=263;ic.decodeLongPath=function(e,r){return nc(e,0,e.length,r)};ic.encodePax=function(e){let r="";e.name&&(r+=Qg(" path="+e.name+`
`)),e.linkname&&(r+=Qg(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=Qg(" "+i+"="+n[i]+`
`);return Ge.from(r)};ic.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(Ge.toString(e.subarray(0,n)),10);if(!i)return r;let s=Ge.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};ic.encode=function(e){let r=Ge.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),Ge.byteLength(n)!==n.length)return null;for(;Ge.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return Ge.byteLength(n)>100||Ge.byteLength(i)>155||e.linkname&&Ge.byteLength(e.linkname)>100?null:(Ge.write(r,n),Ge.write(r,ks(e.mode&oge,6),100),Ge.write(r,ks(e.uid,6),108),Ge.write(r,ks(e.gid,6),116),dge(e.size,r,124),Ge.write(r,ks(e.mtime.getTime()/1e3|0,11),136),r[156]=WS+Ege(e.type),e.linkname&&Ge.write(r,e.linkname,157),Ge.copy(dq,r,BE),Ge.copy(nge,r,Zg),e.uname&&Ge.write(r,e.uname,265),e.gname&&Ge.write(r,e.gname,297),Ge.write(r,ks(e.devmajor||0,6),329),Ge.write(r,ks(e.devminor||0,6),337),i&&Ge.write(r,i,345),Ge.write(r,ks(Tq(r),6),148),r)};ic.decode=function(e,r,n){let i=e[156]===0?0:e[156]-WS,s=nc(e,0,100,r),o=Vs(e,100,8),a=Vs(e,108,8),l=Vs(e,116,8),c=Vs(e,124,12),u=Vs(e,136,12),E=uge(i),d=e[157]===0?null:nc(e,157,100,r),f=nc(e,265,32),T=nc(e,297,32),h=Vs(e,329,8),S=Vs(e,337,8),p=Tq(e);if(p===256)return null;if(p!==Vs(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(age(e))e[345]&&(s=nc(e,345,155,r)+"/"+s);else if(!lge(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:l,size:c,mtime:new Date(1e3*u),type:E,linkname:d,uname:f,gname:T,devmajor:h,devminor:S,pax:null}};function age(t){return Ge.equals(dq,t.subarray(BE,BE+6))}function lge(t){return Ge.equals(ige,t.subarray(BE,BE+6))&&Ge.equals(sge,t.subarray(Zg,Zg+2))}function cge(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function uge(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function Ege(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function hq(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function Tq(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function ks(t,e){return t=t.toString(8),t.length>e?rge.slice(0,e)+" ":tge.slice(0,e-t.length)+t+" "}function fge(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function dge(t,e,r){t.toString(8).length>11?fge(t,e,r):Ge.write(e,ks(t,11),r)}function hge(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function Vs(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return hge(t);{for(;e<t.length&&t[e]===32;)e++;let n=cge(hq(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(Ge.toString(t.subarray(e,n)),8)}}function nc(t,e,r,n){return Ge.toString(t.subarray(e,hq(t,0,e,e+r)),n)}function Qg(t){let e=Ge.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var _q=g((YUe,Aq)=>{var{Writable:Tge,Readable:Sge,getStreamError:Sq}=Jg(),pge=vg(),pq=Ql(),sc=eC(),Rge=pq.alloc(0),rC=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new pge,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return Rge;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return pq.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},nC=class extends Sge{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(Sq(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=Rq(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},iC=class extends Tge{constructor(e){super(e),e||(e={}),this._buffer=new rC,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=tC,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=sc.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=sc.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=sc.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=sc.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?sc.decodePax(e):Object.assign({},this._paxGlobal,sc.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=Rq(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new nC(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=tC,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(Sq(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",c),this.on("error",d=>{e=d}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(l)},return(){return E(null)},throw(d){return E(d)}};function a(d){if(!s)return;let f=s;s=null,f(d)}function l(d,f){if(e)return f(e);if(i){d({value:i,done:!1}),i=null;return}r=d,n=f,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function c(d,f,T){s=T,f.on("error",tC),r?(r({value:f,done:!1}),r=n=null):i=f}function u(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function E(d){return o.destroy(d),a(d),new Promise((f,T)=>{if(o.destroyed)return f({value:void 0,done:!0});o.once("close",function(){d?T(d):f({value:void 0,done:!0})})})}}};Aq.exports=function(e){return new iC(e)};function tC(){}function Rq(t){return t&=511,t&&512-t}});var Nq=g(($Ue,sC)=>{var Iq={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{sC.exports=require("fs").constants||Iq}catch{sC.exports=Iq}});var bq=g((VUe,Cq)=>{var{Readable:Age,Writable:_ge,getStreamError:Oq}=Jg(),da=Ql(),oc=Nq(),YS=eC(),Ige=493,Nge=420,mq=da.alloc(1024),aC=class extends _ge{constructor(e,r,n){super({mapWritable:mge,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?da.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?da.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),gq(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return Oq(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},lC=class extends Age{constructor(e){super(e),this._drain=oC,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=oC),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=Oge(e.mode)),e.mode||(e.mode=e.type==="directory"?Ige:Nge),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=da.from(r));let i=new aC(this,e,n);return da.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(mq),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=YS.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=YS.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(YS.encode(n)),this.push(r),gq(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(YS.encode(n))}_doDrain(){let e=this._drain;this._drain=oC,e()}_predestroy(){let e=Oq(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};Cq.exports=function(e){return new lC(e)};function Oge(t){switch(t&oc.S_IFMT){case oc.S_IFBLK:return"block-device";case oc.S_IFCHR:return"character-device";case oc.S_IFDIR:return"directory";case oc.S_IFIFO:return"fifo";case oc.S_IFLNK:return"symlink"}return"file"}function oC(){}function gq(t,e){e&=511,e&&t.push(mq.subarray(0,512-e))}function mge(t){return da.isBuffer(t)?t:da.from(t)}});var yq=g(cC=>{cC.extract=_q();cC.pack=bq()});var Dq=g((qUe,wq)=>{var gge=require("zlib"),Cge=yq(),Lq=hl(),ns=function(t){if(!(this instanceof ns))return new ns(t);t=this.options=Lq.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=Cge.pack(t),this.compressor=!1,t.gzip&&(this.compressor=gge.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};ns.prototype._onCompressorError=function(t){this.engine.emit("error",t)};ns.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(o,a){if(o){r(o);return}n.engine.entry(e,a,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(o){r(o,e)});t.pipe(s)}else e.sourceType==="stream"&&Lq.collectStream(t,i)};ns.prototype.finalize=function(){this.engine.finalize()};ns.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};ns.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};ns.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};wq.exports=ns});var xq=g((XUe,Mq)=>{"use strict";function bge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yge=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Pq(t){if(Buffer.isBuffer(t))return t;if(typeof t=="number")return Buffer.alloc(t);if(typeof t=="string")return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Lge(t){let e=Pq(4);return e.writeInt32BE(t,0),e}function uC(t,e){t=Pq(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~~e^-1;for(var n=0;n<t.length;n++)r=yge[(r^t[n])&255]^r>>>8;return r^-1}function EC(){return Lge(uC.apply(null,arguments))}EC.signed=function(){return uC.apply(null,arguments)};EC.unsigned=function(){return uC.apply(null,arguments)>>>0};var wge=EC,Dge=bge(wge);Mq.exports=Dge});var Fq=g((KUe,Bq)=>{var Pge=require("util").inherits,vq=ZN().Transform,Mge=xq(),Uq=hl(),qs=function(t){if(!(this instanceof qs))return new qs(t);t=this.options=Uq.defaults(t,{}),vq.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};Pge(qs,vq);qs.prototype._transform=function(t,e,r){r(null,t)};qs.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};qs.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,o){if(s){r(s);return}e.size=o.length||0,e.crc32=Mge.unsigned(o),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&Uq.collectStream(t,i)};qs.prototype.finalize=function(){this._writeStringified(),this.end()};Bq.exports=qs});var Hq=g((zUe,Gq)=>{var xge=IH(),FE={},Xs=function(t,e){return Xs.create(t,e)};Xs.create=function(t,e){if(FE[t]){var r=new xge(t,e);return r.setFormat(t),r.setModule(new FE[t](e)),r}else throw new Error("create("+t+"): format not registered")};Xs.registerFormat=function(t,e){if(FE[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");FE[t]=e};Xs.isRegisteredFormat=function(t){return!!FE[t]};Xs.registerFormat("zip",w2());Xs.registerFormat("tar",Dq());Xs.registerFormat("json",Fq());Gq.exports=Xs});var ha,ac,Wq=Y(()=>{"use strict";ha=require("buffer"),ac=class{constructor(e=65536){this.chunkSize=e,this.chunks=[],this.currentBuffer=ha.Buffer.alloc(e),this.cursor=0}ensureCapacity(e){this.cursor+e>this.chunkSize&&this._flush()}_ensureCapacity(e){this.ensureCapacity(e)}_flush(){this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=ha.Buffer.alloc(this.chunkSize),this.cursor=0)}write(e){let r=e.length,n=0;for(;r>0;){let i=this.chunkSize-this.cursor;i===0&&(this._flush(),i=this.chunkSize);let s=Math.min(r,i);e.copy(this.currentBuffer,this.cursor,n,n+s),this.cursor+=s,n+=s,r-=s}}writeByte(e){this._ensureCapacity(1),this.currentBuffer[this.cursor]=e,this.cursor++}writeUnsafeByte(e){this.currentBuffer[this.cursor++]=e}writeInt32LE(e){this._ensureCapacity(4),this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeUnsafeInt32LE(e){this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeDoubleLE(e){this._ensureCapacity(8),this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeUnsafeDoubleLE(e){this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeString(e){let r=ha.Buffer.byteLength(e,"utf8");if(this.cursor+r<=this.chunkSize){this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8");return}this._flush(),r>this.chunkSize?this.chunks.push(ha.Buffer.from(e,"utf8")):this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8")}writeUtf16LE(e){let r=e.length*2;if(this.cursor+r<=this.chunkSize){for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}return}if(this._flush(),r>this.chunkSize)this.chunks.push(ha.Buffer.from(e,"utf16le"));else for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}}getChunks(){return this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=ha.Buffer.alloc(this.chunkSize),this.cursor=0),this.chunks}reset(){this.chunks=[],this.cursor=0}}});var Vq={};Dt(Vq,{XlsbWriter:()=>VS,default:()=>Uge});var Yq,$q,$S,vge,VS,Uge,kq=Y(()=>{"use strict";Yq=Z(require("fs")),$q=Z(Hq()),$S=require("stream");Wq();vge=/[\\/*?[\]:]/g,VS=class{constructor(e){this.sheetCount=0;this.sheetList=[];this.sstDic=new Map;this.sstCntUnique=0;this.sstCntAll=0;this.colWidths=[];this._autofilterIsOn=!1;this.currentSheetBuffer=null;this.currentSheetRowNum=0;this.currentSheetStartCol=0;this.currentSheetEndCol=0;this.currentSheetDoAutofilter=!1;this.isStreaming=!1;this.filePath=e,this.output=Yq.createWriteStream(e),this.archive=(0,$q.default)("zip"),this.archive.pipe(this.output),this._oaEpoch=Date.UTC(1899,11,30),this._sheet1Bytes=Buffer.from([129,1,0,147,1,23,203,4,2,0,64,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,148,1,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,1,0,137,1,30,220,3,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,100,0,0,0,0,0,0,0,0,0,0,0,152,1,36,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,1,0,134,1,0,37,6,1,0,2,14,0,128,149,8,2,5,0,38,0,229,3,12,255,255,255,255,8,0,44,1,0,0,0,0,145,1,0,37,6,1,0,2,14,0,128,128,8,2,5,0,38,0,0,25,0,0,0,0,0,0,0,0,44,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,7,12,0,0,0,0,0,0,0,0,0,0,0,0,146,1,0,151,4,66,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,221,3,2,16,0,220,3,48,102,102,102,102,102,102,230,63,102,102,102,102,102,102,230,63,0,0,0,0,0,0,232,63,0,0,0,0,0,0,232,63,51,51,51,51,51,51,211,63,51,51,51,51,51,51,211,63,37,6,1,0,0,16,0,128,128,24,16,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,38,0,130,1,0]),this._workbookBinStart=Buffer.from([131,1,0,128,1,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,120,0,108,0,1,0,0,0,55,0,1,0,0,0,54,0,5,0,0,0,50,0,52,0,51,0,50,0,54,0,153,1,12,32,0,1,0,0,0,0,0,0,0,0,0,37,6,1,0,3,15,0,128,151,16,52,24,0,0,0,67,0,58,0,92,0,115,0,113,0,108,0,115,0,92,0,84,0,101,0,115,0,116,0,121,0,90,0,97,0,112,0,105,0,115,0,117,0,88,0,108,0,115,0,98,0,92,0,38,0,37,6,1,0,0,16,0,128,129,24,130,1,0,0,0,0,0,0,0,0,47,0,0,0,49,0,51,0,95,0,110,0,99,0,114,0,58,0,49,0,95,0,123,0,49,0,54,0,53,0,48,0,56,0,68,0,54,0,57,0,45,0,67,0,70,0,56,0,55,0,45,0,52,0,55,0,54,0,57,0,45,0,56,0,52,0,53,0,54,0,45,0,68,0,52,0,65,0,52,0,48,0,49,0,49,0,51,0,49,0,53,0,54,0,55,0,125,0,47,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,135,1,0,37,6,1,0,2,16,0,128,128,24,16,0,0,0,0,13,0,0,0,255,255,255,255,0,0,0,0,38,0,158,1,29,0,0,0,0,158,22,0,0,180,105,0,0,232,38,0,0,88,2,0,0,0,0,0,0,0,0,0,0,120,136,1,0,143,1,0]),this._workbookBinMiddle=Buffer.from([144,1,0]),this._workbookBinEnd=Buffer.from([157,1,26,53,234,2,0,1,0,0,0,100,0,0,0,252,169,241,210,77,98,80,63,1,0,0,0,106,0,155,1,1,0,35,4,3,15,0,0,171,16,1,1,36,0,132,1,0]),this._stylesBin=Buffer.from([150,2,0,231,4,4,2,0,0,0,44,44,164,0,19,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,92,0,32,0,104,0,104,0,58,0,109,0,109,0,44,30,166,0,12,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,232,4,0,227,4,4,1,0,0,0,43,39,220,0,0,0,144,1,0,0,0,2,0,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,43,39,220,0,1,0,188,2,0,0,0,2,238,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,37,6,1,0,2,14,0,128,129,8,0,38,0,228,4,0,219,4,4,2,0,0,0,45,68,0,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,68,17,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,4,0,229,4,4,1,0,0,0,46,51,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,230,4,0,242,4,4,1,0,0,0,47,16,255,255,0,0,0,0,0,0,0,0,0,0,16,16,0,0,243,4,0,233,4,4,4,0,0,0,47,16,0,0,0,0,0,0,0,0,0,0,0,0,16,16,0,0,47,16,0,0,164,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,166,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,0,1,1,0,0,0,0,0,0,0,16,16,0,0,234,4,0,235,4,4,1,0,0,0,37,6,1,0,2,17,0,128,128,24,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,48,28,0,0,0,0,1,0,0,0,8,0,0,0,78,0,111,0,114,0,109,0,97,0,108,0,110,0,121,0,236,4,0,249,3,4,0,0,0,0,250,3,0,252,3,80,0,0,0,0,17,0,0,0,84,0,97,0,98,0,108,0,101,0,83,0,116,0,121,0,108,0,101,0,77,0,101,0,100,0,105,0,117,0,109,0,50,0,17,0,0,0,80,0,105,0,118,0,111,0,116,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,54,0,253,3,0,35,4,2,14,0,0,235,8,0,246,8,42,0,0,0,0,17,0,0,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,247,8,0,236,8,0,36,0,35,4,3,15,0,0,176,16,0,178,16,50,0,0,0,0,21,0,0,0,84,0,105,0,109,0,101,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,179,16,0,177,16,0,36,0,151,2,0]),this._binaryIndexBin=Buffer.from([42,24,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,2,0]),this._rRkIntegerLowerLimit=-1<<29,this._rRkIntegerUpperLimit=(1<<29)-1,this._autoFilterStartBytes=Buffer.from([161,1,16]),this._autoFilterEndBytes=Buffer.from([162,1,0]),this._stickHeaderA1bytes=Buffer.from([151,1,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,1,0,0,0,0,0,0,0,2,0,0,0,3]),this._magicFilterExcel2016Fix0=Buffer.from([225,2,0,229,2,0,234,2]),this._magicFilterExcel2016Fix1=Buffer.from([39,70,33,0,0,0,0,255,0,0,0,15,0,0,0,95,0,70,0,105,0,108,0,116,0,101,0,114,0,68,0,97,0,116,0,97,0,98,0,97,0,115,0,101,0,15,0,0,0,59,255,0]),this._magicFilterExcel2016Fix2=Buffer.from([0,0,0,0,255,255,255,255])}_sanitizeSheetName(e){if(!e||typeof e!="string")return`Sheet${this.sheetCount+1}`;let r=e.replace(vge,"_");return r.length>31&&(r=r.substring(0,31)),r.trim().length===0&&(r=`Sheet${this.sheetCount+1}`),r}addSheet(e,r=!1){let n=this._sanitizeSheetName(e);this.sheetCount++,this.sheetList.push({name:n,pathInArchive:`xl/worksheets/sheet${this.sheetCount}.bin`,hidden:r,nameInArchive:`sheet${this.sheetCount}.bin`,sheetId:this.sheetCount,filterHeaderRange:null})}startSheet(e,r,n,i={}){if(this.isStreaming)throw new Error("Already in streaming mode. Call endSheet() first.");let{hidden:s=!1,doAutofilter:o=!0}=i;this.addSheet(e,s),this.isStreaming=!0,this.currentSheetBuffer=new ac,this.currentSheetRowNum=0,this.currentSheetStartCol=0,this.currentSheetEndCol=r,this.currentSheetDoAutofilter=o&&n!==void 0;let a=this.currentSheetBuffer;if(this.colWidths=new Array(r).fill(-1),n)for(let c=0;c<r;c++){let E=1.25*(n[c]?n[c].length:0)+2;E>80&&(E=80),this.colWidths[c]<E&&(this.colWidths[c]=E)}let l=Buffer.from(this._sheet1Bytes);l.writeInt32LE(this.currentSheetStartCol,40),l.writeInt32LE(this.currentSheetEndCol,44),this.sheetCount!==1&&(l[54]=156),a.write(l.subarray(0,84)),this.currentSheetDoAutofilter&&a.write(this._stickHeaderA1bytes),a.write(l.subarray(84,159)),a.writeByte(134),a.writeByte(3);for(let c=this.currentSheetStartCol;c<this.currentSheetEndCol;c++){a.writeByte(0),a.writeByte(60),a.writeByte(18),a.writeInt32LE(c),a.writeInt32LE(c);let u=this.colWidths[c]>0?Math.floor(this.colWidths[c]):10;a.writeByte(0),a.writeByte(Math.max(0,Math.min(255,u))),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(2)}if(a.writeByte(0),a.writeByte(135),a.writeByte(3),a.writeByte(0),a.write(l.subarray(159,175)),a.write(Buffer.from([38,0])),n){this.createRowHeader(a,this.currentSheetRowNum,this.currentSheetStartCol,this.currentSheetEndCol);for(let c=0;c<n.length;c++)this.writeString(a,n[c],c,!0);this.currentSheetRowNum++}}writeRow(e){if(!this.isStreaming||!this.currentSheetBuffer)throw new Error("Not in streaming mode. Call startSheet() first.");if(e.length!==this.currentSheetEndCol-this.currentSheetStartCol)throw new Error(`Row length mismatch. Expected ${this.currentSheetEndCol-this.currentSheetStartCol} columns, got ${e.length}`);let r=this.currentSheetBuffer;this.createRowHeader(r,this.currentSheetRowNum,this.currentSheetStartCol,this.currentSheetEndCol);for(let n=0;n<e.length;n++){let i=e[n];i!=null&&(typeof i=="number"?Number.isInteger(i)?i>=this._rRkIntegerLowerLimit&&i<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(r,i,n):this.writeDouble(r,i,n):this.writeDouble(r,i,n):typeof i=="bigint"?this.writeString(r,i.toString(),n):typeof i=="boolean"?this.writeBool(r,i,n):i instanceof Date?this.writeDateTime(r,i,n):this.writeString(r,i.toString(),n))}this.currentSheetRowNum++}endSheet(){if(!this.isStreaming||!this.currentSheetBuffer)throw new Error("Not in streaming mode. Call startSheet() first.");let e=this.currentSheetBuffer,r=Buffer.from(this._sheet1Bytes);if(e.write(r.subarray(218,290)),this.currentSheetDoAutofilter){this._autofilterIsOn=!0;let n=this.currentSheetRowNum;e.write(this._autoFilterStartBytes);let i=Buffer.alloc(8);i.writeInt32LE(0,0),i.writeInt32LE(n-1,4),e.write(i);let s=Buffer.alloc(8);s.writeInt32LE(this.currentSheetStartCol,0),s.writeInt32LE(this.currentSheetEndCol-1,4),e.write(s),e.write(this._autoFilterEndBytes);let o=this.sheetList[this.sheetCount-1];o.filterData={startRow:0,endRow:this.currentSheetRowNum-1,startColumn:this.currentSheetStartCol,endColumn:this.currentSheetEndCol-1}}e.write(r.subarray(290)),this.archive.append($S.Readable.from(e.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive}),this.isStreaming=!1,this.currentSheetBuffer=null,this.currentSheetRowNum=0,this.currentSheetStartCol=0,this.currentSheetEndCol=0,this.currentSheetDoAutofilter=!1}writeSheet(e,r=null,n=!0){let i=new ac,s=0;if(e.length>0?s=e[0].length:r&&(s=r.length),this.colWidths=new Array(s).fill(-1),r)for(let u=0;u<s;u++){let d=1.25*(r[u]?r[u].length:0)+2;d>80&&(d=80),this.colWidths[u]<d&&(this.colWidths[u]=d)}for(let u=0;u<Math.min(e.length,100);u++){let E=e[u];for(let d=0;d<E.length;d++){let f=E[d],h=1.25*(f?f.toString().length:0)+2;h>80&&(h=80),this.colWidths[d]<h&&(this.colWidths[d]=h)}}let o=Buffer.from(this._sheet1Bytes),a=0,l=s;o.writeInt32LE(a,40),o.writeInt32LE(l,44),this.sheetCount!==1&&(o[54]=156),i.write(o.subarray(0,84)),n&&r&&i.write(this._stickHeaderA1bytes),i.write(o.subarray(84,159)),i.writeByte(134),i.writeByte(3);for(let u=a;u<l;u++){i.writeByte(0),i.writeByte(60),i.writeByte(18),i.writeInt32LE(u),i.writeInt32LE(u);let E=this.colWidths[u]>0?Math.floor(this.colWidths[u]):10;i.writeByte(0),i.writeByte(Math.max(0,Math.min(255,E))),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(2)}i.writeByte(0),i.writeByte(135),i.writeByte(3),i.writeByte(0),i.write(o.subarray(159,175)),i.write(Buffer.from([38,0]));let c=0;if(r){this.createRowHeader(i,c,a,l);for(let u=0;u<r.length;u++)this.writeString(i,r[u],u,!0);c++}for(let u=0;u<e.length;u++){this.createRowHeader(i,c,a,l);let E=e[u];for(let d=0;d<E.length;d++){let f=E[d];f!=null&&(typeof f=="number"?Number.isInteger(f)?f>=this._rRkIntegerLowerLimit&&f<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(i,f,d):this.writeDouble(i,f,d):this.writeDouble(i,f,d):typeof f=="bigint"?this.writeString(i,f.toString(),d):typeof f=="boolean"?this.writeBool(i,f,d):f instanceof Date?this.writeDateTime(i,f,d):this.writeString(i,f.toString(),d))}c++}if(i.write(o.subarray(218,290)),n&&r){this._autofilterIsOn=!0;let u=e.length+1;i.write(this._autoFilterStartBytes);let E=Buffer.alloc(8);E.writeInt32LE(0,0),E.writeInt32LE(u-1,4),i.write(E);let d=Buffer.alloc(8);d.writeInt32LE(a,0),d.writeInt32LE(l-1,4),i.write(d),i.write(this._autoFilterEndBytes);let f=this.sheetList[this.sheetCount-1];f.filterData={startRow:0,endRow:e.length,startColumn:a,endColumn:l-1}}i.write(o.subarray(290)),this.archive.append($S.Readable.from(i.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive})}_getColumnLetter(e){if(e<26)return String.fromCharCode(65+e);if(e<702){let r=Math.floor(e/26)-1,n=e%26;return String.fromCharCode(65+r)+String.fromCharCode(65+n)}return"A"}createRowHeader(e,r,n,i){e.ensureCapacity(27),e.writeUnsafeByte(0),e.writeUnsafeByte(25),e.writeUnsafeInt32LE(r),e.writeUnsafeInt32LE(0),e.writeUnsafeByte(44),e.writeUnsafeByte(1),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(1),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeInt32LE(n),e.writeUnsafeInt32LE(i)}writeRkNumberInteger(e,r,n,i=0){e.ensureCapacity(14),e.writeUnsafeByte(2),e.writeUnsafeByte(12),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0);let s=r<<2|2;e.writeUnsafeInt32LE(s)}writeDouble(e,r,n,i=0){e.ensureCapacity(18),e.writeUnsafeByte(5),e.writeUnsafeByte(16),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeDoubleLE(r)}writeBool(e,r,n){e.ensureCapacity(13),e.writeUnsafeByte(4),e.writeUnsafeByte(9),e.writeUnsafeInt32LE(n),e.writeUnsafeInt32LE(0),e.writeUnsafeByte(r?1:0)}writeDateTime(e,r,n){let i=r.getTimezoneOffset()*6e4,s=(r.getTime()-i-this._oaEpoch)/864e5;this.writeDouble(e,s,n,1)}writeString(e,r,n,i=!1){let s;this.sstDic.has(r)?s=this.sstDic.get(r):(s=this.sstCntUnique,this.sstDic.set(r,s),this.sstCntUnique++),this.sstCntAll++,e.ensureCapacity(17),e.writeUnsafeByte(7),e.writeUnsafeByte(12),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i?3:0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeInt32LE(s)}saveSst(){let e=new ac;e.writeByte(159),e.writeByte(1),e.writeByte(8),e.writeInt32LE(this.sstCntUnique),e.writeInt32LE(this.sstCntAll);for(let[r]of this.sstDic){let n=r.length;e.writeByte(19);let i=5+2*n;if(i>=128){e.writeByte(128+i%128);let s=i>>7;s>=256?e.writeByte(128+s%128):e.writeByte(s),e.writeByte(i>>14),i>>14>0&&e.writeByte(0)}else e.writeByte(i&255),e.writeByte(i>>8&255);e.writeInt32LE(n),e.writeUtf16LE(r)}e.writeByte(160),e.writeByte(1),e.writeByte(0),this.archive.append($S.Readable.from(e.getChunks()),{name:"xl/sharedStrings.bin"})}_writeFilterDefinedName(e,r,n){let i=r.filterData,s=r.sheetId-1,o=Buffer.alloc(this._magicFilterExcel2016Fix1.length);this._magicFilterExcel2016Fix1.copy(o);let a=this._magicFilterExcel2016Fix1.length-2;o[7]=s,o[a]=n,e.push(o);let l=Buffer.alloc(8);l.writeInt32LE(i.startRow,0),l.writeInt32LE(i.endRow,4),e.push(l);let c=Buffer.alloc(4);c.writeInt16LE(i.startColumn,0),c.writeInt16LE(i.endColumn,2),e.push(c),e.push(this._magicFilterExcel2016Fix2)}finalize(){return new Promise((e,r)=>{try{this.saveSst(),this.archive.append(this._stylesBin,{name:"xl/styles.bin"});let n=[];n.push(this._workbookBinStart);for(let a of this.sheetList){let l=`rId${a.sheetId}`,c=16+a.name.length*2+l.length*2,u=Buffer.alloc(3+c);u[0]=156,u[1]=1,u[2]=c;let E=3;u.writeInt32LE(a.hidden?1:0,E),E+=4,u.writeInt32LE(a.sheetId,E),E+=4,u.writeInt32LE(l.length,E),E+=4;for(let d=0;d<l.length;d++){let f=l.charCodeAt(d);u[E++]=f&255,u[E++]=f>>8&255}u.writeInt32LE(a.name.length,E),E+=4;for(let d=0;d<a.name.length;d++){let f=a.name.charCodeAt(d);u[E++]=f&255,u[E++]=f>>8&255}n.push(u)}if(n.push(this._workbookBinMiddle),this._autofilterIsOn){let a=this.sheetList.filter(c=>c.filterData),l=a.length;if(l>0){n.push(this._magicFilterExcel2016Fix0);let c=16+(l-1)*12,u=Buffer.from([c,l,0,0,0]);n.push(u);for(let E=0;E<l;E++){let d=a[E].sheetId-1,f=Buffer.alloc(12);f.writeInt32LE(0,0),f[4]=d,f[8]=d,n.push(f)}n.push(Buffer.from([226,2,0]));for(let E=0;E<l;E++){let d=a[E];this._writeFilterDefinedName(n,d,E)}}}n.push(this._workbookBinEnd),this.archive.append(Buffer.concat(n),{name:"xl/workbook.bin"});for(let a of this.sheetList)this.archive.append(this._binaryIndexBin,{name:`xl/worksheets/binaryIndex${a.sheetId}.bin`});let i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default Extension="bin" ContentType="application/vnd.ms-excel.sheet.binary.macroEnabled.main"/>
<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>
<Default Extension="xml" ContentType="application/xml"/>`;for(let a of this.sheetList)i+=`<Override PartName="/${a.pathInArchive}" ContentType="application/vnd.ms-excel.worksheet"/>`,i+=`<Override PartName="/xl/worksheets/binaryIndex${a.sheetId}.bin" ContentType="application/vnd.ms-excel.binIndexWs"/>`;i+=`<Override PartName="/xl/styles.bin" ContentType="application/vnd.ms-excel.styles"/>
<Override PartName="/xl/sharedStrings.bin" ContentType="application/vnd.ms-excel.sharedStrings"/>
</Types>`,this.archive.append(i,{name:"[Content_Types].xml"});let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`;for(let a of this.sheetList){let l=`rId${a.sheetId}`;s+=`<Relationship Id="${l}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/${a.nameInArchive}"/>`}s+=`<Relationship Id="rId${this.sheetList.length+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.bin"/>
<Relationship Id="rId${this.sheetList.length+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.bin"/>
</Relationships>`,this.archive.append(s,{name:"xl/_rels/workbook.bin.rels"}),this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.bin"/>
</Relationships>`,{name:"_rels/.rels"});for(let a of this.sheetList){let l=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.microsoft.com/office/2006/relationships/xlBinaryIndex" Target="binaryIndex${a.sheetId}.bin"/>
</Relationships>`;this.archive.append(l,{name:`xl/worksheets/_rels/${a.nameInArchive}.rels`})}this.output.on("close",()=>e()),this.archive.on("error",a=>r(a)),this.archive.finalize()}catch(n){r(n)}})}},Uge=VS});var Ta={};Dt(Ta,{copyFileToClipboard:()=>dC,exportCsvToXlsb:()=>Gge,exportQueryToXlsb:()=>Fge,getTempFilePath:()=>Hge});function Bge(t){if(typeof t=="string"&&t.length>0&&/^-?\d+(\.\d+)?$/.test(t)){let e=parseFloat(t);if(Number.isFinite(e))return e}return t}function Kq(t){return t.map(Bge)}async function Fge(t,e,r,n=!1,i){let s=null;try{i&&i("Connecting to database...");let o={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},a=Hr();s=new a(o),await s.connect();let l=new Xq(r),{SqlParser:c}=await Promise.resolve().then(()=>(io(),Ry)),u=c.splitStatements(e),E=0,d=0;for(let p=0;p<u.length;p++){let I=u[p];if(!I.trim())continue;let R=u.length>1?`Result ${p+1}`:"Query Results";i&&i(`Executing query ${p+1}/${u.length}...`);try{let O=await s.createCommand(I).executeReader(),L=[];for(let y=0;y<O.fieldCount;y++)L.push(O.getName(y));let N=L.length;d=Math.max(d,N),l.startSheet(R,N,L,{doAutofilter:!0});let D=0;for(;await O.read();){let y=[];for(let P=0;P<O.fieldCount;P++)y.push(O.getValue(P));l.writeRow(Kq(y)),D++,D%1e4===0&&i&&i(`Streaming ${D.toLocaleString()} rows to "${R}"...`)}l.endSheet(),E+=D,i&&i(`Written ${D.toLocaleString()} rows to sheet "${R}"`)}catch(A){let O=A instanceof Error?A.message:String(A);l.startSheet(`Error ${p+1}`,1,["Error"],{doAutofilter:!1}),l.writeRow([`Error executing query: ${O}`]),l.endSheet()}}let f=e.split(`
`);l.startSheet("SQL Code",1,void 0,{doAutofilter:!1}),l.writeRow(["SQL Query:"]);for(let p of f)l.writeRow([p]);l.endSheet(),i&&i("Finalizing file..."),await l.finalize();let h=fC.statSync(r).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Total Rows: ${E.toLocaleString()}`),i(`  - File size: ${h.toFixed(1)} MB`),i(`  - Location: ${r}`));let S={success:!0,message:`Successfully exported ${E} rows to ${r}`,details:{rows_exported:E,columns:d,file_size_mb:parseFloat(h.toFixed(1)),file_path:r}};if(n){i&&i("Copying to clipboard...");let p=await dC(r);S.details&&(S.details.clipboard_success=p)}return S}catch(o){return{success:!1,message:`Export error: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}async function Gge(t,e,r=!1,n={source:"Unknown"},i){try{i&&i("Initializing XLSB writer...");let s=new Xq(e),o=0,a=0,l=[],c=(f,T)=>{let h=f.split(/\r?\n/),S=A=>{let O=[],L=0,N=!1;for(let y=0;y<A.length;y++)if(A[y]==='"')N=!N;else if(A[y]===","&&!N){let P=A.substring(L,y);P.startsWith('"')&&P.endsWith('"')&&(P=P.substring(1,P.length-1).replace(/""/g,'"')),O.push(P),L=y+1}let D=A.substring(L);return D.startsWith('"')&&D.endsWith('"')&&(D=D.substring(1,D.length-1).replace(/""/g,'"')),O.push(D),O},p=0;for(;p<h.length&&!h[p].trim();)p++;if(p>=h.length)return;let I=S(h[p]);if(I.length===0)return;a=Math.max(a,I.length),s.startSheet(T,I.length,I,{doAutofilter:!0});let R=0;for(let A=p+1;A<h.length;A++){let O=h[A];if(!O.trim())continue;let L=S(O);s.writeRow(Kq(L)),R++}s.endSheet(),o+=R};Array.isArray(t)?(i&&i(`Processing ${t.length} result sets...`),t.forEach((f,T)=>{let h=f.name||`Result ${T+1}`;i&&i(`Processing sheet "${h}"...`),c(f.csv,h),f.sql&&l.push({name:h,sql:f.sql})})):(i&&i("Reading CSV content..."),c(t,"Query Results"),n.sql?l.push({name:"Query Results",sql:n.sql}):n.source&&(s.startSheet("CSV Source",1,void 0,{doAutofilter:!1}),s.writeRow(["CSV Source:"]),s.writeRow([n.source]),s.endSheet())),l.length>0&&(s.startSheet("SQL Code",1,void 0,{doAutofilter:!1}),l.forEach(f=>{s.writeRow([`--- SQL for ${f.name} ---`]),f.sql.split(`
`).forEach(T=>{s.writeRow([T])}),s.writeRow([""])}),s.endSheet()),i&&i("Finalizing XLSB file..."),await s.finalize();let E=fC.statSync(e).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Rows: ${o.toLocaleString()}`),i(`  - File size: ${E.toFixed(1)} MB`));let d={success:!0,message:`Successfully exported ${o} rows to ${e}`,details:{rows_exported:o,columns:a,file_size_mb:parseFloat(E.toFixed(1)),file_path:e}};if(r){i&&i("Copying file to clipboard...");let f=await dC(e);d.details&&(d.details.clipboard_success=f)}return d}catch(s){return{success:!1,message:`Export failed: ${s instanceof Error?s.message:String(s)}`}}}async function dC(t){return kS.platform()!=="win32"?(console.error("Clipboard file copy is only supported on Windows"),!1):new Promise(e=>{try{let r=lc.normalize(lc.resolve(t)),n=`Set-Clipboard -Path "${r.replace(/"/g,'`"')}"`,i=(0,qq.spawn)("powershell.exe",["-NoProfile","-NonInteractive","-Command",n]),s="";i.stderr.on("data",o=>{s+=o.toString()}),i.on("close",o=>{o!==0?(console.error(`PowerShell clipboard copy failed: ${s}`),e(!1)):(console.log(`File copied to clipboard: ${r}`),e(!0))}),i.on("error",o=>{console.error(`Error spawning PowerShell: ${o.message}`),e(!1)})}catch(r){let n=r instanceof Error?r.message:String(r);console.error(`Error copying file to clipboard: ${n}`),e(!1)}})}function Hge(){let t=kS.tmpdir(),r=`netezza_export_${Date.now()}.xlsb`;return lc.join(t,r)}var fC,lc,kS,qq,Xq,Sa=Y(()=>{"use strict";fC=Z(require("fs")),lc=Z(require("path")),kS=Z(require("os")),qq=require("child_process"),Xq=(kq(),eR(Vq)).default});var Jq={};Dt(Jq,{exportToCsv:()=>Wge});async function Wge(t,e,r,n,i){let s=null;try{i&&i.report({message:"Connecting to database..."});let o={host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password},a=Hr();s=new a(o),await s.connect(),i&&i.report({message:"Executing query..."});let c=await s.createCommand(r).executeReader();i&&i.report({message:"Writing to CSV..."});let u=jq.createWriteStream(n,{encoding:"utf8",highWaterMark:64*1024}),E=[];for(let h=0;h<c.fieldCount;h++)E.push(c.getName(h));E.length>0&&u.write(E.map(zq).join(",")+`
`);let d=0,f=[],T=500;for(;await c.read();){d++;let h=[];for(let S=0;S<c.fieldCount;S++)h.push(zq(c.getValue(S)));if(f.push(h.join(",")),f.length>=T){let S=u.write(f.join(`
`)+`
`);f=[],S||await new Promise(p=>u.once("drain",p)),i&&d%1e3===0&&i.report({message:`Processed ${d} rows...`})}}f.length>0&&u.write(f.join(`
`)+`
`),u.end(),await new Promise((h,S)=>{u.on("finish",h),u.on("error",S)}),i&&i.report({message:`Completed: ${d} rows exported`})}finally{if(s)try{await s.close()}catch(o){console.error("Error closing connection:",o)}}}function zq(t){if(t==null)return"";let e="";return typeof t=="bigint"?t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?e=Number(t).toString():e=t.toString():t instanceof Date?e=t.toISOString():typeof t=="object"&&Buffer.isBuffer(t)?e=t.toString("hex"):typeof t=="object"?e=JSON.stringify(t):e=String(t),e.includes('"')||e.includes(",")||e.includes(`
`)||e.includes("\r")?`"${e.replace(/"/g,'""')}"`:e}var jq,Qq=Y(()=>{"use strict";jq=Z(require("fs"))});var iX=g((ZUe,nX)=>{nX.exports=XS;function XS(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}XS.prototype.go=function(t){this.pending<this.max?rX(this,t):this.waiting.push(t)};XS.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};XS.prototype.hold=function(){return tX(this)};function tX(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)rX(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function rX(t,e){e(tX(t))}});var oX=g(WE=>{var HE=require("fs"),KS=require("util"),hC=require("stream"),sX=hC.Readable,TC=hC.Writable,Yge=hC.PassThrough,$ge=iX(),zS=require("events").EventEmitter;WE.createFromBuffer=Vge;WE.createFromFd=kge;WE.BufferSlicer=ss;WE.FdSlicer=is;KS.inherits(is,zS);function is(t,e){e=e||{},zS.call(this),this.fd=t,this.pend=new $ge,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}is.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(o){HE.read(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};is.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(o){HE.write(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};is.prototype.createReadStream=function(t){return new jS(this,t)};is.prototype.createWriteStream=function(t){return new JS(this,t)};is.prototype.ref=function(){this.refCount+=1};is.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&HE.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};KS.inherits(jS,sX);function jS(t,e){e=e||{},sX.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}jS.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=Buffer.allocUnsafe(r);HE.read(e.context.fd,i,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(i.slice(0,o))),n()})})}};jS.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};KS.inherits(JS,TC);function JS(t,e){e=e||{},TC.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}JS.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();HE.write(n.context.fd,t,0,t.length,n.pos,function(o,a){o?(n.destroy(),s(),r(o)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),s(),r())})})}};JS.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};KS.inherits(ss,zS);function ss(t,e){zS.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}ss.prototype.read=function(t,e,r,n,i){if(!(0<=e&&e<=t.length))throw new RangeError("offset outside buffer: 0 <= "+e+" <= "+t.length);if(n<0)throw new RangeError("position is negative: "+n);if(e+r>t.length&&(r=t.length-e),n+r>this.buffer.length&&(r=this.buffer.length-n),r<=0){setImmediate(function(){i(null,0)});return}this.buffer.copy(t,e,n,n+r),setImmediate(function(){i(null,r)})};ss.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};ss.prototype.createReadStream=function(t){t=t||{};var e=new Yge(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};ss.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new TC(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var o=r.pos+n.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};ss.prototype.ref=function(){this.refCount+=1};ss.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Vge(t,e){return new ss(t,e)}function kge(t,e){return new is(t,e)}});var cX=g((tBe,lX)=>{var Ks=require("buffer").Buffer,SC=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(SC=new Int32Array(SC));function aX(t){if(Ks.isBuffer(t))return t;var e=typeof Ks.alloc=="function"&&typeof Ks.from=="function";if(typeof t=="number")return e?Ks.alloc(t):new Ks(t);if(typeof t=="string")return e?Ks.from(t):new Ks(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function qge(t){var e=aX(4);return e.writeInt32BE(t,0),e}function pC(t,e){t=aX(t),Ks.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=SC[(r^t[n])&255]^r>>>8;return r^-1}function RC(){return qge(pC.apply(null,arguments))}RC.signed=function(){return pC.apply(null,arguments)};RC.unsigned=function(){return pC.apply(null,arguments)>>>0};lX.exports=RC});var AX=g(en=>{var AC=require("fs"),Xge=require("zlib"),uX=oX(),Kge=cX(),ep=require("util"),tp=require("events").EventEmitter,EX=require("stream").Transform,IC=require("stream").PassThrough,zge=require("stream").Writable;en.open=jge;en.fromFd=fX;en.fromBuffer=Jge;en.fromRandomAccessReader=NC;en.dosDateTimeToDate=TX;en.getFileNameLowLevel=SX;en.validateFileName=pX;en.parseExtraFields=RX;en.ZipFile=Ii;en.Entry=YE;en.LocalFileHeader=hX;en.RandomAccessReader=zs;function jge(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=ZS),AC.open(t,"r",function(n,i){if(n)return r(n);fX(i,e,function(s,o){s&&AC.close(i,ZS),r(s,o)})})}function fX(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=ZS),AC.fstat(t,function(n,i){if(n)return r(n);var s=uX.createFromFd(t,{autoClose:!0});NC(s,i.size,e,r)})}function Jge(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=uX.createFromBuffer(t,{maxChunkSize:65536});NC(n,t.length,e,r)}function NC(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=ZS),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=20,a=65535,l=Math.min(o+s+a,e),c=os(l),u=e-c.length;uc(t,c,0,l,u,function(E){if(E)return n(E);for(var d=l-s;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.subarray(d),T=f.readUInt16LE(4),h=f.readUInt16LE(10),S=f.readUInt32LE(16),p=f.readUInt16LE(20),I=f.length-s;if(p!==I)return n(new Error("Invalid comment length. Expected: "+I+". Found: "+p+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK\u263A\u263B` in the comment?"));var R=i?QS(f.subarray(22),!1):f.subarray(22);if(d-o>=0&&c.readUInt32LE(d-o)===117853008){var A=c.subarray(d-o,d-o+o),O=cc(A,8),L=os(56);return uc(t,L,0,L.length,O,function(N){return N?n(N):L.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(T=L.readUInt32LE(16),T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):(h=cc(L,32),S=cc(L,48),n(null,new Ii(t,S,e,h,R,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))))})}return T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):n(null,new Ii(t,S,e,h,R,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))}n(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}ep.inherits(Ii,tp);function Ii(t,e,r,n,i,s,o,a,l,c){var u=this;tp.call(u),u.reader=t,u.reader.on("error",function(E){dX(u,E)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=n,u.comment=i,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!o,u.decodeStrings=!!a,u.validateEntrySizes=!!l,u.strictFileNames=!!c,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Ii.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function _i(t,e){t.autoClose&&t.close(),dX(t,e)}function dX(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Ii.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Ii.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=os(46);uc(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return _i(t,r);if(!t.emittedError){var n=new YE,i=e.readUInt32LE(0);if(i!==33639248)return _i(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return _i(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=os(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),uc(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return _i(t,s);if(!t.emittedError){n.fileNameRaw=e.subarray(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength;n.extraFieldRaw=e.subarray(n.fileNameLength,o),n.fileCommentRaw=e.subarray(o,o+n.fileCommentLength);try{n.extraFields=RX(n.extraFieldRaw)}catch(h){return _i(t,h)}if(t.decodeStrings){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileComment=QS(n.fileCommentRaw,a),n.fileName=SX(n.generalPurposeBitFlag,n.fileNameRaw,n.extraFields,t.strictFileNames);var l=pX(n.fileName);if(l!=null)return _i(t,new Error(l))}else n.fileComment=n.fileCommentRaw,n.fileName=n.fileNameRaw;n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1;for(var c=0;c<n.extraFields.length;c++){var u=n.extraFields[c];if(u.id===1){var E=u.data,d=0;if(n.uncompressedSize===4294967295){if(d+8>E.length)return _i(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=cc(E,d),d+=8}if(n.compressedSize===4294967295){if(d+8>E.length)return _i(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=cc(E,d),d+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(d+8>E.length)return _i(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=cc(E,d),d+=8}break}}if(t.validateEntrySizes&&n.compressionMethod===0){var f=n.uncompressedSize;if(n.isEncrypted()&&(f+=12),n.compressedSize!==f){var T="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return _i(t,new Error(T))}}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};Ii.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null&&(r=e,e=null),e==null)e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));var o;if(t.compressionMethod===0)o=!1;else if(t.compressionMethod===8)o=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));n.readLocalFileHeader(t,{minimal:!0},function(a,l){if(a)return r(a);n.openReadStreamLowLevel(l.fileDataStart,t.compressedSize,i,s,o,t.uncompressedSize,r)})};Ii.prototype.openReadStreamLowLevel=function(t,e,r,n,i,s,o){var a=this,l=t+e,c=a.reader.createReadStream({start:t+r,end:t+n}),u=c;if(i){var E=!1,d=Xge.createInflateRaw();c.on("error",function(f){setImmediate(function(){E||d.emit("error",f)})}),c.pipe(d),a.validateEntrySizes?(u=new $E(s),d.on("error",function(f){setImmediate(function(){E||u.emit("error",f)})}),d.pipe(u)):u=d,_C(u,function(){E=!0,d!==u&&d.unpipe(u),c.unpipe(d),c.destroy()})}o(null,u)};Ii.prototype.readLocalFileHeader=function(t,e,r){var n=this;r==null&&(r=e,e=null),e==null&&(e={}),n.reader.ref();var i=os(30);uc(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader,function(s){try{if(s)return r(s);var o=i.readUInt32LE(0);if(o!==67324752)return r(new Error("invalid local file header signature: 0x"+o.toString(16)));var a=i.readUInt16LE(26),l=i.readUInt16LE(28),c=t.relativeOffsetOfLocalHeader+30+a+l;if(c+t.compressedSize>n.fileSize)return r(new Error("file data overflows file bounds: "+c+" + "+t.compressedSize+" > "+n.fileSize));if(e.minimal)return r(null,{fileDataStart:c});var u=new hX;u.fileDataStart=c,u.versionNeededToExtract=i.readUInt16LE(4),u.generalPurposeBitFlag=i.readUInt16LE(6),u.compressionMethod=i.readUInt16LE(8),u.lastModFileTime=i.readUInt16LE(10),u.lastModFileDate=i.readUInt16LE(12),u.crc32=i.readUInt32LE(14),u.compressedSize=i.readUInt32LE(18),u.uncompressedSize=i.readUInt32LE(22),u.fileNameLength=a,u.extraFieldLength=l,i=os(a+l),n.reader.ref(),uc(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader+30,function(E){try{return E?r(E):(u.fileName=i.subarray(0,a),u.extraField=i.subarray(a),r(null,u))}finally{n.reader.unref()}})}finally{n.reader.unref()}})};function YE(){}YE.prototype.getLastModDate=function(t){if(t==null&&(t={}),!t.forceDosFormat)for(var e=0;e<this.extraFields.length;e++){var r=this.extraFields[e];if(r.id===21589){var n=r.data;if(n.length<5)continue;var i=n[0],s=1;if(!(i&s))continue;var o=n.readInt32LE(1);return new Date(o*1e3)}else if(r.id===10)for(var n=r.data,a=4;a<n.length+4;){var l=n.readUInt16LE(a);a+=2;var c=n.readUInt16LE(a);if(a+=2,l!==1){a+=c;continue}if(c<8||a+c>n.length)break;var u=4294967296*n.readInt32LE(a+4)+n.readUInt32LE(a),E=u/1e4-116444736e5;return new Date(E)}}return TX(this.lastModFileDate,this.lastModFileTime,t.timezone)};YE.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};YE.prototype.isCompressed=function(){return this.compressionMethod===8};function hX(){}function TX(t,e,r){var n=t&31,i=(t>>5&15)-1,s=(t>>9&127)+1980,o=0,a=(e&31)*2,l=e>>5&63,c=e>>11&31;if(r==null||r==="local")return new Date(s,i,n,c,l,a,o);if(r==="UTC")return new Date(Date.UTC(s,i,n,c,l,a,o));throw new Error("unrecognized options.timezone: "+options.timezone)}function SX(t,e,r,n){for(var i=null,s=0;s<r.length;s++){var o=r[s];if(o.id===28789){if(o.data.length<6||o.data.readUInt8(0)!==1)continue;var a=o.data.readUInt32LE(1);if(Kge.unsigned(e)!==a)continue;i=QS(o.data.subarray(5),!0);break}}if(i==null){var l=(t&2048)!==0;i=QS(e,l)}return n||(i=i.replace(/\\/g,"/")),i}function pX(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function RX(t){for(var e=[],r=0;r<t.length-3;){var n=t.readUInt16LE(r+0),i=t.readUInt16LE(r+2),s=r+4,o=s+i;if(o>t.length)throw new Error("extra field length exceeds extra field buffer size");var a=t.subarray(s,o);e.push({id:n,data:a}),r=o}return e}function uc(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,os(0))});t.read(e,r,n,i,function(o,a){if(o)return s(o);if(a<n)return s(new Error("unexpected EOF"));s()})}ep.inherits($E,EX);function $E(t){EX.call(this),this.actualByteCount=0,this.expectedByteCount=t}$E.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};$E.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};ep.inherits(zs,tp);function zs(){tp.call(this),this.refCount=0}zs.prototype.ref=function(){this.refCount+=1};zs.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};zs.prototype.createReadStream=function(t){t==null&&(t={});var e=t.start,r=t.end;if(e===r){var n=new IC;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,o=new rp(this);i.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),_C(o,function(){i.unpipe(o),o.unref(),i.destroy()});var a=new $E(r-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),_C(a,function(){s=!0,o.unpipe(a),o.destroy()}),i.pipe(o).pipe(a)};zs.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};zs.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),o=new zge,a=0;o._write=function(l,c,u){l.copy(t,e+a,0,l.length),a+=l.length,u()},o.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(o)};zs.prototype.close=function(t){setImmediate(t)};ep.inherits(rp,IC);function rp(t){IC.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}rp.prototype._flush=function(t){this.unref(),t()};rp.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var Qge="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function QS(t,e){if(e)return t.toString("utf8");for(var r="",n=0;n<t.length;n++)r+=Qge[t[n]];return r}function cc(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var os;typeof Buffer.allocUnsafe=="function"?os=function(t){return Buffer.allocUnsafe(t)}:os=function(t){return new Buffer(t)};function _C(t,e){typeof t.destroy=="function"?t._destroy=function(r,n){e(),n?.(r)}:t.destroy=e}function ZS(t){if(t)throw t}});var Ec,OC=Y(()=>{"use strict";Ec=class{constructor(){this.fieldCount=0;this.rowCount=0;this.actualSheetName="";this.resultsCount=0;this._oaEpoch=Date.UTC(1899,11,30)}async close(){}dispose(){}getDateTimeFromOaDate(e){let r=e*864e5+this._oaEpoch;return new Date(r)}}});var _X,np,IX=Y(()=>{"use strict";_X=Z(AX());OC();np=class extends Ec{constructor(){super();this.zipfile=null;this.sharedStrings=[];this.styles=[];this.sheetNames=[];this.sheets=[];this.entries=new Map;this._currentSheetIndex=-1;this._sheetXml=null;this._xmlPos=0;this._currentRow=[];this.xfIdToNumFmtId=[];this.customDateFormats=new Set}async open(r,n=!0){return new Promise((i,s)=>{_X.default.open(r,{lazyEntries:!0,autoClose:!1},async(o,a)=>{if(o)return s(o);this.zipfile=a,this.entries=new Map,a.on("entry",l=>{this.entries.set(l.fileName,l),a.readEntry()}),a.on("end",async()=>{try{let l=await this._readZipEntryContent("xl/_rels/workbook.xml.rels"),c={};if(l){let d=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,f;for(;(f=d.exec(l))!==null;)c[f[1]]=f[2]}let u=await this._readZipEntryContent("xl/workbook.xml");if(u){let d=/<sheet[^>]*name="([^"]*)"[^>]*sheetId="([^"]*)"[^>]*r:id="([^"]*)"/g,f;for(;(f=d.exec(u))!==null;){let T=this._unescapeXml(f[1]),h=f[2],S=f[3],I=c[S];I.startsWith("xl/")||(I="xl/"+I),this.sheetNames.push(T),this.sheets.push({name:T,sheetId:h,rId:S,path:I})}}if(n){let d=await this._readZipEntryContent("xl/sharedStrings.xml");d&&this._parseSharedStrings(d)}let E=await this._readZipEntryContent("xl/styles.xml");E&&this._parseStyles(E),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1,i()}catch(l){s(l)}}),a.readEntry()})})}async close(){this.zipfile&&this.zipfile.close()}async _readZipEntryContent(r){let n=this.entries.get(r);return n?new Promise((i,s)=>{this.zipfile.openReadStream(n,(o,a)=>{if(o)return s(o);let l=[];a.on("data",c=>l.push(c)),a.on("end",()=>{i(Buffer.concat(l).toString("utf8"))}),a.on("error",s)})}):null}_unescapeXml(r){return r?r.indexOf("&")===-1?r:r.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):""}_parseSharedStrings(r){let n=0;for(;;){let i=r.indexOf("<si>",n);if(i===-1)break;let s=r.indexOf("</si>",i);if(s===-1)break;let o=r.substring(i,s),a="",l=0;for(;;){let c=o.indexOf("<t",l);if(c===-1)break;let u=o.indexOf(">",c),E=o.indexOf("</t>",u);if(E===-1)break;a+=o.substring(u+1,E),l=E+4}this.sharedStrings.push(this._unescapeXml(a)),n=s+5}}_parseStyles(r){let n=/<numFmt\s+[^>]*numFmtId="(\d+)"[^>]*formatCode="([^"]*)"/g,i;for(this.customDateFormats=new Set;(i=n.exec(r))!==null;){let o=parseInt(i[1]),a=i[2];(a.toLowerCase().includes("yy")||a.toLowerCase().includes("mm")||a.toLowerCase().includes("dd")||a.toLowerCase().includes("h:mm"))&&this.customDateFormats.add(o)}this.xfIdToNumFmtId=[];let s=r.indexOf("<cellXfs");if(s!==-1){let o=r.indexOf("</cellXfs>",s);if(o!==-1){let a=r.substring(s,o),l=/<xf\s+[^>]*numFmtId="(\d+)"/g;for(;(i=l.exec(a))!==null;){let c=parseInt(i[1]);this.xfIdToNumFmtId.push(c)}}}}getSheetNames(){return this.sheetNames}async read(){return this._currentSheetIndex===-1&&(this._currentSheetIndex=0,await this._initSheet(this._currentSheetIndex)),!!this._readNextRow()}async _initSheet(r){if(r>=this.sheets.length)return;let n=this.sheets[r];this.actualSheetName=n.name,this._sheetXml=await this._readZipEntryContent(n.path),this._sheetXml||(this._sheetXml=""),this._xmlPos=0;let i=this._sheetXml.indexOf("<sheetData>");i!==-1&&(this._xmlPos=i+11)}_readNextRow(){if(!this._sheetXml)return!1;let r=this._sheetXml.indexOf("<row",this._xmlPos);if(r===-1)return!1;let n=this._sheetXml.indexOf("</row>",r);return n===-1?!1:(this._xmlPos=n+6,this._parseRowByIndex(r,n),!0)}_parseRowByIndex(r,n){this._currentRow=[];let i=this._sheetXml,s=i.indexOf(">",r)+1;for(;s<n;){let o=i.indexOf("<c",s);if(o===-1||o>=n)break;let a=i.indexOf(">",o),l=-1,c="n",u=0,E=o+2;for(;E<a;){for(;i.charCodeAt(E)<=32&&E<a;)E++;if(E>=a)break;let T=E;for(;i.charCodeAt(E)!==61&&E<a;)E++;let h=i.substring(T,E);if(E++,i.charCodeAt(E)===34){E++;let S=E;for(;i.charCodeAt(E)!==34&&E<a;)E++;let p=i.substring(S,E);if(E++,h==="r"){let I=0;for(;I<p.length&&p.charCodeAt(I)>=65;)I++;l=this._columnLetterToIndex(p.substring(0,I))}else h==="t"?c=p:h==="s"&&(u=parseInt(p,10))}}let d=null;if(i.charCodeAt(a-1)===47)s=a+1;else{let T=i.indexOf("</c>",a),h=T!==-1&&T<n?T:n,S=i.indexOf("<v>",a);if(S!==-1&&S<h){let p=S+3,I=i.indexOf("</v>",p);I!==-1&&I<h&&(d=i.substring(p,I))}else if(c==="inlineStr"){let p=i.indexOf("<t",a);if(p!==-1&&p<h){let I=i.indexOf(">",p)+1,R=i.indexOf("</t>",I);R!==-1&&R<h&&(d=i.substring(I,R))}}s=h+4}let f=null;if(d!==null){if(c==="s"){let T=parseInt(d,10);f=this.sharedStrings[T]}else if(c==="b")f=d==="1"||d==="true";else if(c==="inlineStr")f=this._unescapeXml(d);else if((c==="n"||c==="")&&(f=parseFloat(d),u>0&&this.xfIdToNumFmtId)){let T=0;if(u<this.xfIdToNumFmtId.length&&(T=this.xfIdToNumFmtId[u]),T>=14&&T<=22||T>=45&&T<=47||this.customDateFormats&&this.customDateFormats.has(T))try{f=this.getDateTimeFromOaDate(f)}catch{}}}l!==-1&&(this._currentRow[l]=f,l>=this.fieldCount&&(this.fieldCount=l+1))}}_columnLetterToIndex(r){let n=0,i=r.length;for(let s=0;s<i;s++)n+=(r.charCodeAt(s)-64)*Math.pow(26,i-s-1);return n-1}getValue(r){return r<0||r>=this._currentRow.length?null:this._currentRow[r]}}});var mC=g((oBe,NX)=>{NX.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var ip=g(mX=>{var OX={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function Zge(t){return function(...e){return e.length&&(t=t.replace(/\{(\d)\}/g,(r,n)=>e[n]||"")),new Error("ADM-ZIP: "+t)}}for(let t of Object.keys(OX))mX[t]=Zge(OX[t])});var LX=g((lBe,yX)=>{var eCe=require("fs"),Yt=require("path"),gX=mC(),tCe=ip(),rCe=typeof process=="object"&&process.platform==="win32",CX=t=>typeof t=="object"&&t!==null,bX=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function It(t){this.sep=Yt.sep,this.fs=eCe,CX(t)&&CX(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}yX.exports=It;It.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw tCe.FILE_IN_THE_WAY(`"${i}"`)}})}r(t)};It.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=Yt.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};It.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,l){if(o&&l.isDirectory())return i(!1);var c=Yt.dirname(t);s.fs.exists(c,function(u){u||s.makeDir(c),s.fs.open(t,"w",438,function(E,d){E?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(f,T){s.fs.write(T,e,0,e.length,0,function(){s.fs.close(T,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):d?s.fs.write(d,e,0,e.length,0,function(){s.fs.close(d,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};It.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){let l=Yt.join(n,a),c=e.fs.statSync(l);(!i||i.test(l))&&o.push(Yt.normalize(l)+(c.isDirectory()?e.sep:"")),c.isDirectory()&&s&&(o=o.concat(r(l,i,s)))}),o}return r(t,void 0,!0)};It.prototype.findFilesAsync=function(t,e){let r=this,n=[];r.fs.readdir(t,function(i,s){if(i)return e(i);let o=s.length;if(!o)return e(null,n);s.forEach(function(a){a=Yt.join(t,a),r.fs.stat(a,function(l,c){if(l)return e(l);c&&(n.push(Yt.normalize(a)+(c.isDirectory()?r.sep:"")),c.isDirectory()?r.findFilesAsync(a,function(u,E){if(u)return e(u);n=n.concat(E),--o||e(null,n)}):--o||e(null,n))})})})};It.prototype.getAttributes=function(){};It.prototype.setAttributes=function(){};It.crc32update=function(t,e){return bX[(t^e)&255]^t>>>8};It.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8"));let e=t.length,r=-1;for(let n=0;n<e;)r=It.crc32update(r,t[n++]);return~r>>>0};It.methodToString=function(t){switch(t){case gX.STORED:return"STORED ("+t+")";case gX.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};It.canonical=function(t){if(!t)return"";let e=Yt.posix.normalize("/"+t.split("\\").join("/"));return Yt.join(".",e)};It.zipnamefix=function(t){if(!t)return"";let e=Yt.posix.normalize("/"+t.split("\\").join("/"));return Yt.posix.join(".",e)};It.findLast=function(t,e){if(!Array.isArray(t))throw new TypeError("arr is not array");let r=t.length>>>0;for(let n=r-1;n>=0;n--)if(e(t[n],n,t))return t[n]};It.sanitize=function(t,e){t=Yt.resolve(Yt.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=Yt.normalize(Yt.join(t,r.slice(n,i).join(Yt.sep)));if(s.indexOf(t)===0)return s}return Yt.normalize(Yt.join(t,Yt.basename(e)))};It.toBuffer=function(e,r){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?r(e):Buffer.alloc(0)};It.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};It.fromDOS2Date=function(t){return new Date((t>>25&127)+1980,Math.max((t>>21&15)-1,0),Math.max(t>>16&31,1),t>>11&31,t>>5&63,(t&31)<<1)};It.fromDate2DOS=function(t){let e=0,r=0;return t.getFullYear()>1979&&(e=(t.getFullYear()-1980&127)<<9|t.getMonth()+1<<5|t.getDate(),r=t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1),e<<16|r};It.isWin=rCe;It.crcTable=bX});var DX=g((cBe,wX)=>{var nCe=require("path");wX.exports=function(t,{fs:e}){var r=t||"",n=s(),i=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&e.existsSync(r)?(i=e.statSync(r),n.directory=i.isDirectory(),n.mtime=i.mtime,n.atime=i.atime,n.executable=(73&i.mode)!==0,n.readonly=(128&i.mode)===0,n.hidden=nCe.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var MX=g((uBe,PX)=>{PX.exports={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}});var dc=g((EBe,fc)=>{fc.exports=LX();fc.exports.Constants=mC();fc.exports.Errors=ip();fc.exports.FileAttr=DX();fc.exports.decoder=MX()});var vX=g((fBe,xX)=>{var js=dc(),q=js.Constants;xX.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,l=0,c=0,u=0,E=0,d=0,f=0,T=0;t|=js.isWin?2560:768,r|=q.FLG_EFS;let h={extraLen:0},S=R=>Math.max(0,R)>>>0,p=R=>Math.max(0,R)&65535,I=R=>Math.max(0,R)&255;return i=js.fromDate2DOS(new Date),{get made(){return t},set made(R){t=R},get version(){return e},set version(R){e=R},get flags(){return r},set flags(R){r=R},get flags_efs(){return(r&q.FLG_EFS)>0},set flags_efs(R){R?r|=q.FLG_EFS:r&=~q.FLG_EFS},get flags_desc(){return(r&q.FLG_DESC)>0},set flags_desc(R){R?r|=q.FLG_DESC:r&=~q.FLG_DESC},get method(){return n},set method(R){switch(R){case q.STORED:this.version=10;case q.DEFLATED:default:this.version=20}n=R},get time(){return js.fromDOS2Date(this.timeval)},set time(R){this.timeval=js.fromDate2DOS(R)},get timeval(){return i},set timeval(R){i=S(R)},get timeHighByte(){return I(i>>>8)},get crc(){return s},set crc(R){s=S(R)},get compressedSize(){return o},set compressedSize(R){o=S(R)},get size(){return a},set size(R){a=S(R)},get fileNameLength(){return l},set fileNameLength(R){l=R},get extraLength(){return c},set extraLength(R){c=R},get extraLocalLength(){return h.extraLen},set extraLocalLength(R){h.extraLen=R},get commentLength(){return u},set commentLength(R){u=R},get diskNumStart(){return E},set diskNumStart(R){E=S(R)},get inAttr(){return d},set inAttr(R){d=S(R)},get attr(){return f},set attr(R){f=S(R)},get fileAttr(){return(f||0)>>16&4095},get offset(){return T},set offset(R){T=S(R)},get encrypted(){return(r&q.FLG_ENC)===q.FLG_ENC},get centralHeaderSize(){return q.CENHDR+l+c+u},get realDataOffset(){return T+q.LOCHDR+h.fnameLen+h.extraLen},get localHeader(){return h},loadLocalHeaderFromBinary:function(R){var A=R.slice(T,T+q.LOCHDR);if(A.readUInt32LE(0)!==q.LOCSIG)throw js.Errors.INVALID_LOC();h.version=A.readUInt16LE(q.LOCVER),h.flags=A.readUInt16LE(q.LOCFLG),h.method=A.readUInt16LE(q.LOCHOW),h.time=A.readUInt32LE(q.LOCTIM),h.crc=A.readUInt32LE(q.LOCCRC),h.compressedSize=A.readUInt32LE(q.LOCSIZ),h.size=A.readUInt32LE(q.LOCLEN),h.fnameLen=A.readUInt16LE(q.LOCNAM),h.extraLen=A.readUInt16LE(q.LOCEXT);let O=T+q.LOCHDR+h.fnameLen,L=O+h.extraLen;return R.slice(O,L)},loadFromBinary:function(R){if(R.length!==q.CENHDR||R.readUInt32LE(0)!==q.CENSIG)throw js.Errors.INVALID_CEN();t=R.readUInt16LE(q.CENVEM),e=R.readUInt16LE(q.CENVER),r=R.readUInt16LE(q.CENFLG),n=R.readUInt16LE(q.CENHOW),i=R.readUInt32LE(q.CENTIM),s=R.readUInt32LE(q.CENCRC),o=R.readUInt32LE(q.CENSIZ),a=R.readUInt32LE(q.CENLEN),l=R.readUInt16LE(q.CENNAM),c=R.readUInt16LE(q.CENEXT),u=R.readUInt16LE(q.CENCOM),E=R.readUInt16LE(q.CENDSK),d=R.readUInt16LE(q.CENATT),f=R.readUInt32LE(q.CENATX),T=R.readUInt32LE(q.CENOFF)},localHeaderToBinary:function(){var R=Buffer.alloc(q.LOCHDR);return R.writeUInt32LE(q.LOCSIG,0),R.writeUInt16LE(e,q.LOCVER),R.writeUInt16LE(r,q.LOCFLG),R.writeUInt16LE(n,q.LOCHOW),R.writeUInt32LE(i,q.LOCTIM),R.writeUInt32LE(s,q.LOCCRC),R.writeUInt32LE(o,q.LOCSIZ),R.writeUInt32LE(a,q.LOCLEN),R.writeUInt16LE(l,q.LOCNAM),R.writeUInt16LE(h.extraLen,q.LOCEXT),R},centralHeaderToBinary:function(){var R=Buffer.alloc(q.CENHDR+l+c+u);return R.writeUInt32LE(q.CENSIG,0),R.writeUInt16LE(t,q.CENVEM),R.writeUInt16LE(e,q.CENVER),R.writeUInt16LE(r,q.CENFLG),R.writeUInt16LE(n,q.CENHOW),R.writeUInt32LE(i,q.CENTIM),R.writeUInt32LE(s,q.CENCRC),R.writeUInt32LE(o,q.CENSIZ),R.writeUInt32LE(a,q.CENLEN),R.writeUInt16LE(l,q.CENNAM),R.writeUInt16LE(c,q.CENEXT),R.writeUInt16LE(u,q.CENCOM),R.writeUInt16LE(E,q.CENDSK),R.writeUInt16LE(d,q.CENATT),R.writeUInt32LE(f,q.CENATX),R.writeUInt32LE(T,q.CENOFF),R},toJSON:function(){let R=function(A){return A+" bytes"};return{made:t,version:e,flags:r,method:js.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:R(o),size:R(a),fileNameLength:R(l),extraLength:R(c),commentLength:R(u),diskNumStart:E,inAttr:d,attr:f,offset:T,centralHeaderSize:R(q.CENHDR+l+c+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var BX=g((dBe,UX)=>{var hc=dc(),St=hc.Constants;UX.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return St.ENDHDR+i},loadFromBinary:function(s){if((s.length!==St.ENDHDR||s.readUInt32LE(0)!==St.ENDSIG)&&(s.length<St.ZIP64HDR||s.readUInt32LE(0)!==St.ZIP64SIG))throw hc.Errors.INVALID_END();s.readUInt32LE(0)===St.ENDSIG?(t=s.readUInt16LE(St.ENDSUB),e=s.readUInt16LE(St.ENDTOT),r=s.readUInt32LE(St.ENDSIZ),n=s.readUInt32LE(St.ENDOFF),i=s.readUInt16LE(St.ENDCOM)):(t=hc.readBigUInt64LE(s,St.ZIP64SUB),e=hc.readBigUInt64LE(s,St.ZIP64TOT),r=hc.readBigUInt64LE(s,St.ZIP64SIZE),n=hc.readBigUInt64LE(s,St.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(St.ENDHDR+i);return s.writeUInt32LE(St.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,St.ENDSUB),s.writeUInt16LE(e,St.ENDTOT),s.writeUInt32LE(r,St.ENDSIZ),s.writeUInt32LE(n,St.ENDOFF),s.writeUInt16LE(i,St.ENDCOM),s.fill(" ",St.ENDHDR),s},toJSON:function(){let s=function(o,a){let l=o.toString(16).toUpperCase();for(;l.length<a;)l="0"+l;return"0x"+l};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var CC=g(gC=>{gC.EntryHeader=vX();gC.MainHeader=BX()});var GX=g((TBe,FX)=>{FX.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),l=0;a.fill(0);for(var c=0;c<s.length;c++){var u=s[c];u.copy(a,l),l+=u.length}n&&n(a)}),i.end(t)}}}});var WX=g((SBe,HX)=>{var iCe=+(process.versions?process.versions.node:"").split(".")[0]||0;HX.exports=function(t,e){var r=require("zlib");let n=iCe>=15&&e>0?{maxOutputLength:e}:{};return{inflate:function(){return r.inflateRawSync(t,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],a=0;s.on("data",function(l){o.push(l),a+=l.length}),s.on("end",function(){var l=Buffer.alloc(a),c=0;l.fill(0);for(var u=0;u<o.length;u++){var E=o[u];E.copy(l,c),c+=E.length}i&&i(l)}),s.end(t)}}}});var qX=g((pBe,kX)=>{"use strict";var{randomFillSync:YX}=require("crypto"),sCe=ip(),oCe=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=e>>>1^3988292384:e>>>=1;return e>>>0}),VX=(t,e)=>Math.imul(t,e)>>>0,$X=(t,e)=>oCe[(t^e)&255]^t>>>8,VE=()=>typeof YX=="function"?YX(Buffer.alloc(12)):VE.node();VE.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var sp={genSalt:VE};function op(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}op.prototype.updateKeys=function(t){let e=this.keys;return e[0]=$X(e[0],t),e[1]+=e[0]&255,e[1]=VX(e[1],134775813)+1,e[2]=$X(e[2],e[1]>>>24),t};op.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return VX(t,t^1)>>8&255};function aCe(t){let e=new op(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function lCe(t){let e=new op(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function cCe(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=aCe(r),i=n(t.slice(0,12)),s=(e.flags&8)===8?e.timeHighByte:e.crc>>>24;if(i[11]!==s)throw sCe.WRONG_PASSWORD();return n(t.slice(12))}function uCe(t){Buffer.isBuffer(t)&&t.length>=12?sp.genSalt=function(){return t.slice(0,12)}:t==="node"?sp.genSalt=VE.node:sp.genSalt=VE}function ECe(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=lCe(r),s=sp.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}kX.exports={decrypt:cCe,encrypt:ECe,_salter:uCe}});var XX=g(ap=>{ap.Deflater=GX();ap.Inflater=WX();ap.ZipCrypto=qX()});var yC=g((ABe,KX)=>{var Xe=dc(),fCe=CC(),Nt=Xe.Constants,bC=XX();KX.exports=function(t,e){var r=new fCe.EntryHeader,n=Buffer.alloc(0),i=Buffer.alloc(0),s=!1,o=null,a=Buffer.alloc(0),l=Buffer.alloc(0),c=!0;let u=t,E=typeof u.decoder=="object"?u.decoder:Xe.decoder;c=E.hasOwnProperty("efs")?E.efs:!1;function d(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(l=r.loadLocalHeaderFromBinary(e),e.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(R){if(r.flags_desc){let A={},O=r.realDataOffset+r.compressedSize;if(e.readUInt32LE(O)==Nt.LOCSIG||e.readUInt32LE(O)==Nt.CENSIG)throw Xe.Errors.DESCRIPTOR_NOT_EXIST();if(e.readUInt32LE(O)==Nt.EXTSIG)A.crc=e.readUInt32LE(O+Nt.EXTCRC),A.compressedSize=e.readUInt32LE(O+Nt.EXTSIZ),A.size=e.readUInt32LE(O+Nt.EXTLEN);else if(e.readUInt16LE(O+12)===19280)A.crc=e.readUInt32LE(O+Nt.EXTCRC-4),A.compressedSize=e.readUInt32LE(O+Nt.EXTSIZ-4),A.size=e.readUInt32LE(O+Nt.EXTLEN-4);else throw Xe.Errors.DESCRIPTOR_UNKNOWN();if(A.compressedSize!==r.compressedSize||A.size!==r.size||A.crc!==r.crc)throw Xe.Errors.DESCRIPTOR_FAULTY();if(Xe.crc32(R)!==A.crc)return!1}else if(Xe.crc32(R)!==r.localHeader.crc)return!1;return!0}function T(R,A,O){if(typeof A>"u"&&typeof R=="string"&&(O=R,R=void 0),s)return R&&A&&A(Buffer.alloc(0),Xe.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var L=d();if(L.length===0)return R&&A&&A(L),L;if(r.encrypted){if(typeof O!="string"&&!Buffer.isBuffer(O))throw Xe.Errors.INVALID_PASS_PARAM();L=bC.ZipCrypto.decrypt(L,r,O)}var N=Buffer.alloc(r.size);switch(r.method){case Xe.Constants.STORED:if(L.copy(N),f(N))return R&&A&&A(N),N;throw R&&A&&A(N,Xe.Errors.BAD_CRC()),Xe.Errors.BAD_CRC();case Xe.Constants.DEFLATED:var D=new bC.Inflater(L,r.size);if(R)D.inflateAsync(function(y){y.copy(y,0),A&&(f(y)?A(y):A(y,Xe.Errors.BAD_CRC()))});else{if(D.inflate(N).copy(N,0),!f(N))throw Xe.Errors.BAD_CRC(`"${E.decode(n)}"`);return N}break;default:throw R&&A&&A(Buffer.alloc(0),Xe.Errors.UNKNOWN_METHOD()),Xe.Errors.UNKNOWN_METHOD()}}function h(R,A){if((!o||!o.length)&&Buffer.isBuffer(e))return R&&A&&A(d()),d();if(o.length&&!s){var O;switch(r.method){case Xe.Constants.STORED:return r.compressedSize=r.size,O=Buffer.alloc(o.length),o.copy(O),R&&A&&A(O),O;default:case Xe.Constants.DEFLATED:var L=new bC.Deflater(o);if(R)L.deflateAsync(function(D){O=Buffer.alloc(D.length),r.compressedSize=D.length,D.copy(O),A&&A(O)});else{var N=L.deflate();return r.compressedSize=N.length,N}L=null;break}}else if(R&&A)A(Buffer.alloc(0));else return Buffer.alloc(0)}function S(R,A){return(R.readUInt32LE(A+4)<<4)+R.readUInt32LE(A)}function p(R){try{for(var A=0,O,L,N;A+4<R.length;)O=R.readUInt16LE(A),A+=2,L=R.readUInt16LE(A),A+=2,N=R.slice(A,A+L),A+=L,Nt.ID_ZIP64===O&&I(N)}catch{throw Xe.Errors.EXTRA_FIELD_PARSE_ERROR()}}function I(R){var A,O,L,N;R.length>=Nt.EF_ZIP64_SCOMP&&(A=S(R,Nt.EF_ZIP64_SUNCOMP),r.size===Nt.EF_ZIP64_OR_32&&(r.size=A)),R.length>=Nt.EF_ZIP64_RHO&&(O=S(R,Nt.EF_ZIP64_SCOMP),r.compressedSize===Nt.EF_ZIP64_OR_32&&(r.compressedSize=O)),R.length>=Nt.EF_ZIP64_DSN&&(L=S(R,Nt.EF_ZIP64_RHO),r.offset===Nt.EF_ZIP64_OR_32&&(r.offset=L)),R.length>=Nt.EF_ZIP64_DSN+4&&(N=R.readUInt32LE(Nt.EF_ZIP64_DSN),r.diskNumStart===Nt.EF_ZIP64_OR_16&&(r.diskNumStart=N))}return{get entryName(){return E.decode(n)},get rawEntryName(){return n},set entryName(R){n=Xe.toBuffer(R,E.encode);var A=n[n.length-1];s=A===47||A===92,r.fileNameLength=n.length},get efs(){return typeof c=="function"?c(this.entryName):c},get extra(){return a},set extra(R){a=R,r.extraLength=R.length,p(R)},get comment(){return E.decode(i)},set comment(R){if(i=Xe.toBuffer(R,E.encode),r.commentLength=i.length,i.length>65535)throw Xe.Errors.COMMENT_TOO_LONG()},get name(){var R=E.decode(n);return s?R.substr(R.length-1).split("/").pop():R.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return h(!1,null)},getCompressedDataAsync:function(R){h(!0,R)},setData:function(R){o=Xe.toBuffer(R,Xe.decoder.encode),!s&&o.length?(r.size=o.length,r.method=Xe.Constants.DEFLATED,r.crc=Xe.crc32(R),r.changed=!0):r.method=Xe.Constants.STORED},getData:function(R){return r.changed?o:T(!1,null,R)},getDataAsync:function(R,A){r.changed?R(o):T(!0,R,A)},set attr(R){r.attr=R},get attr(){return r.attr},set header(R){r.loadFromBinary(R)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=a.length;var R=r.centralHeaderToBinary(),A=Xe.Constants.CENHDR;return n.copy(R,A),A+=n.length,a.copy(R,A),A+=r.extraLength,i.copy(R,A),R},packLocalHeader:function(){let R=0;r.flags_efs=this.efs,r.extraLocalLength=l.length;let A=r.localHeaderToBinary(),O=Buffer.alloc(A.length+n.length+r.extraLocalLength);return A.copy(O,R),R+=A.length,n.copy(O,R),R+=n.length,l.copy(O,R),R+=l.length,O},toJSON:function(){let R=function(A){return"<"+(A&&A.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:R(e),data:R(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var JX=g((_Be,jX)=>{var zX=yC(),dCe=CC(),Tr=dc();jX.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new dCe.MainHeader,o=!1,a=null;let l=new Set,c=e,{noSort:u,decoder:E}=c;t?T(c.readEntries):o=!0;function d(){let S=new Set;for(let p of Object.keys(n)){let I=p.split("/");if(I.pop(),!!I.length)for(let R=0;R<I.length;R++){let A=I.slice(0,R+1).join("/")+"/";S.add(A)}}for(let p of S)if(!(p in n)){let I=new zX(c);I.entryName=p,I.attr=16,I.temporary=!0,r.push(I),n[I.entryName]=I,l.add(I)}}function f(){if(o=!0,n={},s.diskEntries>(t.length-s.offset)/Tr.Constants.CENHDR)throw Tr.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(s.diskEntries);for(var S=s.offset,p=0;p<r.length;p++){var I=S,R=new zX(c,t);R.header=t.slice(I,I+=Tr.Constants.CENHDR),R.entryName=t.slice(I,I+=R.header.fileNameLength),R.header.extraLength&&(R.extra=t.slice(I,I+=R.header.extraLength)),R.header.commentLength&&(R.comment=t.slice(I,I+R.header.commentLength)),S+=R.header.centralHeaderSize,r[p]=R,n[R.entryName]=R}l.clear(),d()}function T(S){var p=t.length-Tr.Constants.ENDHDR,I=Math.max(0,p-65535),R=I,A=t.length,O=-1,L=0;for(typeof c.trailingSpace=="boolean"&&c.trailingSpace&&(I=0),p;p>=R;p--)if(t[p]===80){if(t.readUInt32LE(p)===Tr.Constants.ENDSIG){O=p,L=p,A=p+Tr.Constants.ENDHDR,R=p-Tr.Constants.END64HDR;continue}if(t.readUInt32LE(p)===Tr.Constants.END64SIG){R=I;continue}if(t.readUInt32LE(p)===Tr.Constants.ZIP64SIG){O=p,A=p+Tr.readBigUInt64LE(t,p+Tr.Constants.ZIP64SIZE)+Tr.Constants.ZIP64LEAD;break}}if(O==-1)throw Tr.Errors.INVALID_FORMAT();s.loadFromBinary(t.slice(O,A)),s.commentLength&&(i=t.slice(L+Tr.Constants.ENDHDR)),S&&f()}function h(){r.length>1&&!u&&r.sort((S,p)=>S.entryName.toLowerCase().localeCompare(p.entryName.toLowerCase()))}return{get entries(){return o||f(),r.filter(S=>!l.has(S))},get comment(){return E.decode(i)},set comment(S){i=Tr.toBuffer(S,E.encode),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(S){this.entries.forEach(S)},getEntry:function(S){return o||f(),n[S]||null},setEntry:function(S){o||f(),r.push(S),n[S.entryName]=S,s.totalEntries=r.length},deleteFile:function(S,p=!0){o||f();let I=n[S];this.getEntryChildren(I,p).map(A=>A.entryName).forEach(this.deleteEntry)},deleteEntry:function(S){o||f();let p=n[S],I=r.indexOf(p);I>=0&&(r.splice(I,1),delete n[S],s.totalEntries=r.length)},getEntryChildren:function(S,p=!0){if(o||f(),typeof S=="object")if(S.isDirectory&&p){let I=[],R=S.entryName;for(let A of r)A.entryName.startsWith(R)&&I.push(A);return I}else return[S];return[]},getChildCount:function(S){if(S&&S.isDirectory){let p=this.getEntryChildren(S);return p.includes(S)?p.length-1:p.length}return 0},compressToBuffer:function(){o||f(),h();let S=[],p=[],I=0,R=0;s.size=0,s.offset=0;let A=0;for(let N of this.entries){let D=N.getCompressedData();N.header.offset=R;let y=N.packLocalHeader(),P=y.length+D.length;R+=P,S.push(y),S.push(D);let x=N.packCentralHeader();p.push(x),s.size+=x.length,I+=P+x.length,A++}I+=s.mainHeaderSize,s.offset=R,s.totalEntries=A,R=0;let O=Buffer.alloc(I);for(let N of S)N.copy(O,R),R+=N.length;for(let N of p)N.copy(O,R),R+=N.length;let L=s.toBinary();return i&&i.copy(L,Tr.Constants.ENDHDR),L.copy(O,R),t=O,o=!1,O},toAsyncBuffer:function(S,p,I,R){try{o||f(),h();let A=[],O=[],L=0,N=0,D=0;s.size=0,s.offset=0;let y=function(P){if(P.length>0){let x=P.shift(),B=x.entryName+x.extra.toString();I&&I(B),x.getCompressedDataAsync(function(G){R&&R(B),x.header.offset=N;let k=x.packLocalHeader(),j=k.length+G.length;N+=j,A.push(k),A.push(G);let ne=x.packCentralHeader();O.push(ne),s.size+=ne.length,L+=j+ne.length,D++,y(P)})}else{L+=s.mainHeaderSize,s.offset=N,s.totalEntries=D,N=0;let x=Buffer.alloc(L);A.forEach(function(G){G.copy(x,N),N+=G.length}),O.forEach(function(G){G.copy(x,N),N+=G.length});let B=s.toBinary();i&&i.copy(B,Tr.Constants.ENDHDR),B.copy(x,N),t=x,o=!1,S(x)}};y(Array.from(this.entries))}catch(A){p(A)}}}}});var e6=g((IBe,ZX)=>{var pt=dc(),Ot=require("path"),hCe=yC(),TCe=JX(),pa=(...t)=>pt.findLast(t,e=>typeof e=="boolean"),QX=(...t)=>pt.findLast(t,e=>typeof e=="string"),SCe=(...t)=>pt.findLast(t,e=>typeof e=="function"),pCe={noSort:!1,readEntries:!1,method:pt.Constants.NONE,fs:null};ZX.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),pCe);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=pt.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new pt(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=pt.decoder),t&&typeof t=="string")if(i.fs.existsSync(t))n.method=pt.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw pt.Errors.INVALID_FILENAME();let s=new TCe(r,n),{canonical:o,sanitize:a,zipnamefix:l}=pt;function c(f){if(f&&s){var T;if(typeof f=="string"&&(T=s.getEntry(Ot.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(T=s.getEntry(f.entryName)),T)return T}return null}function u(f){let{join:T,normalize:h,sep:S}=Ot.posix;return T(".",h(S+f.split("\\").join(S)+S))}function E(f){return f instanceof RegExp?(function(T){return function(h){return T.test(h)}})(f):typeof f!="function"?()=>!0:f}let d=(f,T)=>{let h=T.slice(-1);return h=h===i.sep?i.sep:"",Ot.relative(f,T)+h};return{readFile:function(f,T){var h=c(f);return h&&h.getData(T)||null},childCount:function(f){let T=c(f);if(T)return s.getChildCount(T)},readFileAsync:function(f,T){var h=c(f);h?h.getDataAsync(T):T(null,"getEntry failed for:"+f)},readAsText:function(f,T){var h=c(f);if(h){var S=h.getData();if(S&&S.length)return S.toString(T||"utf8")}return""},readAsTextAsync:function(f,T,h){var S=c(f);S?S.getDataAsync(function(p,I){if(I){T(p,I);return}p&&p.length?T(p.toString(h||"utf8")):T("")}):T("")},deleteFile:function(f,T=!0){var h=c(f);h&&s.deleteFile(h.entryName,T)},deleteEntry:function(f){var T=c(f);T&&s.deleteEntry(T.entryName)},addZipComment:function(f){s.comment=f},getZipComment:function(){return s.comment||""},addZipEntryComment:function(f,T){var h=c(f);h&&(h.comment=T)},getZipEntryComment:function(f){var T=c(f);return T&&T.comment||""},updateFile:function(f,T){var h=c(f);h&&h.setData(T)},addLocalFile:function(f,T,h,S){if(i.fs.existsSync(f)){T=T?u(T):"";let p=Ot.win32.basename(Ot.win32.normalize(f));T+=h||p;let I=i.fs.statSync(f),R=I.isFile()?i.fs.readFileSync(f):Buffer.alloc(0);I.isDirectory()&&(T+=i.sep),this.addFile(T,R,S,I)}else throw pt.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,T){f=typeof f=="object"?f:{localPath:f};let h=Ot.resolve(f.localPath),{comment:S}=f,{zipPath:p,zipName:I}=f,R=this;i.fs.stat(h,function(A,O){if(A)return T(A,!1);p=p?u(p):"";let L=Ot.win32.basename(Ot.win32.normalize(h));if(p+=I||L,O.isFile())i.fs.readFile(h,function(N,D){return N?T(N,!1):(R.addFile(p,D,S,O),setImmediate(T,void 0,!0))});else if(O.isDirectory())return p+=i.sep,R.addFile(p,Buffer.alloc(0),S,O),setImmediate(T,void 0,!0)})},addLocalFolder:function(f,T,h){if(h=E(h),T=T?u(T):"",f=Ot.normalize(f),i.fs.existsSync(f)){let S=i.findFiles(f),p=this;if(S.length)for(let I of S){let R=Ot.join(T,d(f,I));h(R)&&p.addLocalFile(I,Ot.dirname(R))}}else throw pt.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,T,h,S){S=E(S),h=h?u(h):"",f=Ot.normalize(f);var p=this;i.fs.open(f,"r",function(I){if(I&&I.code==="ENOENT")T(void 0,pt.Errors.FILE_NOT_FOUND(f));else if(I)T(void 0,I);else{var R=i.findFiles(f),A=-1,O=function(){if(A+=1,A<R.length){var L=R[A],N=d(f,L).split("\\").join("/");N=N.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),S(N)?i.fs.stat(L,function(D,y){D&&T(void 0,D),y.isFile()?i.fs.readFile(L,function(P,x){P?T(void 0,P):(p.addFile(h+N,x,"",y),O())}):(p.addFile(h+N+"/",Buffer.alloc(0),"",y),O())}):process.nextTick(()=>{O()})}else T(!0,void 0)};O()}})},addLocalFolderAsync2:function(f,T){let h=this;f=typeof f=="object"?f:{localPath:f},localPath=Ot.resolve(u(f.localPath));let{zipPath:S,filter:p,namefix:I}=f;p instanceof RegExp?p=(function(O){return function(L){return O.test(L)}})(p):typeof p!="function"&&(p=function(){return!0}),S=S?u(S):"",I=="latin1"&&(I=O=>O.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof I!="function"&&(I=O=>O);let R=O=>Ot.join(S,I(d(localPath,O))),A=O=>Ot.win32.basename(Ot.win32.normalize(I(O)));i.fs.open(localPath,"r",function(O){O&&O.code==="ENOENT"?T(void 0,pt.Errors.FILE_NOT_FOUND(localPath)):O?T(void 0,O):i.findFilesAsync(localPath,function(L,N){if(L)return T(L);N=N.filter(D=>p(R(D))),N.length||T(void 0,!1),setImmediate(N.reverse().reduce(function(D,y){return function(P,x){if(P||x===!1)return setImmediate(D,P,!1);h.addLocalFileAsync({localPath:y,zipPath:Ot.dirname(R(y)),zipName:A(y)},D)}},T))})})},addLocalFolderPromise:function(f,T){return new Promise((h,S)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},T),(p,I)=>{p&&S(p),I&&h(this)})})},addFile:function(f,T,h,S){f=l(f);let p=c(f),I=p!=null;I||(p=new hCe(n),p.entryName=f),p.comment=h||"";let R=typeof S=="object"&&S instanceof i.fs.Stats;R&&(p.header.time=S.mtime);var A=p.isDirectory?16:0;let O=p.isDirectory?16384:32768;return R?O|=4095&S.mode:typeof S=="number"?O|=4095&S:O|=p.isDirectory?493:420,A=(A|O<<16)>>>0,p.attr=A,p.setData(T),I||s.setEntry(p),p},getEntries:function(f){return s.password=f,s?s.entries:[]},getEntry:function(f){return c(f)},getEntryCount:function(){return s.getEntryCount()},forEach:function(f){return s.forEach(f)},extractEntryTo:function(f,T,h,S,p,I){S=pa(!1,S),p=pa(!1,p),h=pa(!0,h),I=QX(p,I);var R=c(f);if(!R)throw pt.Errors.NO_ENTRY();var A=o(R.entryName),O=a(T,I&&!R.isDirectory?I:h?A:Ot.basename(A));if(R.isDirectory){var L=s.getEntryChildren(R);return L.forEach(function(y){if(y.isDirectory)return;var P=y.getData();if(!P)throw pt.Errors.CANT_EXTRACT_FILE();var x=o(y.entryName),B=a(T,h?x:Ot.basename(x));let G=p?y.header.fileAttr:void 0;i.writeFileTo(B,P,S,G)}),!0}var N=R.getData(s.password);if(!N)throw pt.Errors.CANT_EXTRACT_FILE();if(i.fs.existsSync(O)&&!S)throw pt.Errors.CANT_OVERRIDE();let D=p?f.header.fileAttr:void 0;return i.writeFileTo(O,N,S,D),!0},test:function(f){if(!s)return!1;for(var T in s.entries)try{if(T.isDirectory)continue;var h=s.entries[T].getData(f);if(!h)return!1}catch{return!1}return!0},extractAllTo:function(f,T,h,S){if(h=pa(!1,h),S=QX(h,S),T=pa(!1,T),!s)throw pt.Errors.NO_ZIP();s.entries.forEach(function(p){var I=a(f,o(p.entryName));if(p.isDirectory){i.makeDir(I);return}var R=p.getData(S);if(!R)throw pt.Errors.CANT_EXTRACT_FILE();let A=h?p.header.fileAttr:void 0;i.writeFileTo(I,R,T,A);try{i.fs.utimesSync(I,p.header.time,p.header.time)}catch{throw pt.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,T,h,S){if(S=SCe(T,h,S),h=pa(!1,h),T=pa(!1,T),!S)return new Promise((O,L)=>{this.extractAllToAsync(f,T,h,function(N){N?L(N):O(this)})});if(!s){S(pt.Errors.NO_ZIP());return}f=Ot.resolve(f);let p=O=>a(f,Ot.normalize(o(O.entryName))),I=(O,L)=>new Error(O+': "'+L+'"'),R=[],A=[];s.entries.forEach(O=>{O.isDirectory?R.push(O):A.push(O)});for(let O of R){let L=p(O),N=h?O.header.fileAttr:void 0;try{i.makeDir(L),N&&i.fs.chmodSync(L,N),i.fs.utimesSync(L,O.header.time,O.header.time)}catch{S(I("Unable to create folder",L))}}A.reverse().reduce(function(O,L){return function(N){if(N)O(N);else{let D=Ot.normalize(o(L.entryName)),y=a(f,D);L.getDataAsync(function(P,x){if(x)O(x);else if(!P)O(pt.Errors.CANT_EXTRACT_FILE());else{let B=h?L.header.fileAttr:void 0;i.writeFileToAsync(y,P,T,B,function(G){G||O(I("Unable to write file",y)),i.fs.utimes(y,L.header.time,L.header.time,function(k){k?O(I("Unable to set times",y)):O()})})}})}}},S)()},writeZip:function(f,T){if(arguments.length===1&&typeof f=="function"&&(T=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var h=s.compressToBuffer();if(h){var S=i.writeFileTo(f,h,!0);typeof T=="function"&&T(S?null:new Error("failed"),"")}}},writeZipPromise:function(f,T){let{overwrite:h,perm:S}=Object.assign({overwrite:!0},T);return new Promise((p,I)=>{!f&&n.filename&&(f=n.filename),f||I("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(R=>{let A=O=>O?p(O):I("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(f,R,h,S,A)},I)})},toBufferPromise:function(){return new Promise((f,T)=>{s.toAsyncBuffer(f,T)})},toBuffer:function(f,T,h,S){return typeof f=="function"?(s.toAsyncBuffer(f,T,h,S),null):s.compressToBuffer()}}}});var Ra,t6=Y(()=>{"use strict";Ra=class{constructor(e){this._isSheet=!1;this._workbookId=0;this._recId=null;this._workbookName=null;this._inCellXf=!1;this._inCellStyleXf=!1;this._inNumberFormat=!1;this._parentCellStyleXf=0;this._numberFormatIndex=0;this._format=0;this._formatString=null;this._sharedStringValue=null;this._sharedStringUniqueCount=0;this._cellType=0;this._intValue=0;this._doubleVal=0;this._boolValue=!1;this._stringValue=null;this._columnNum=-1;this._xfIndex=0;this._readCell=!1;this._rowIndex=-1;this._recordStart=0;this._xfIndexToNumFmtId=[];this._customNumFmts=new Set;if(!Buffer.isBuffer(e))throw new Error("BiffReaderWriter expects a Buffer");this.buffer=e,this.pos=0,this.length=e.length}_tryReadVariableValue(){if(this.pos>=this.length)return null;let e=this.buffer[this.pos++],r=(e&127)>>>0;if((e&128)===0)return r;if(this.pos>=this.length)return null;let n=this.buffer[this.pos++];if(r=((n&127)<<7|r)>>>0,(n&128)===0)return r;if(this.pos>=this.length)return null;let i=this.buffer[this.pos++];return r=((i&127)<<14|r)>>>0,(i&128)===0?r:this.pos>=this.length?null:(r=((this.buffer[this.pos++]&127)<<21|r)>>>0,r)}_getDWord(e){return this.buffer.readUInt32LE(this._recordStart+e)}_getInt32(e){return this.buffer.readInt32LE(this._recordStart+e)}_getWord(e){return this.buffer.readUInt16LE(this._recordStart+e)}_getByte(e){return this.buffer[this._recordStart+e]}_getDouble(e){return this.buffer.readDoubleLE(this._recordStart+e)}_getString(e,r){let n=this._recordStart+e,i=n+r*2;return i>this.buffer.length?"":this.buffer.toString("utf16le",n,i)}_getNullableString(e){let r=this._getDWord(e.val);if(e.val+=4,r===4294967295)return null;let n=this._getString(e.val,r);return e.val+=r*2,n}readWorkbook(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;if(this._recordStart=n,this.pos+=r,this._isSheet=!1,e===156){this._workbookId=this._getDWord(4);let i={val:8};this._recId=this._getNullableString(i);let s=this._getDWord(i.val);this._workbookName=this._getString(i.val+4,s),this._isSheet=!0}return!0}readSharedStrings(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;if(this._recordStart=n,this.pos+=r,this._sharedStringValue=null,e===19){let i=this._getDWord(1);this._sharedStringValue=this._getString(5,i)}else e===159&&(this._sharedStringUniqueCount=this._getDWord(4));return!0}readStyles(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;this._recordStart=n,this.pos+=r;let i=617,s=618,o=626,a=627,l=615,c=616,u=47,E=44;switch(e){case i:this._inCellXf=!0;break;case s:this._inCellXf=!1;break;case o:this._inCellStyleXf=!0;break;case a:this._inCellStyleXf=!1;break;case l:this._inNumberFormat=!0;break;case c:this._inNumberFormat=!1;break;case u:this._inCellXf&&(this._parentCellStyleXf=this._getWord(0),this._numberFormatIndex=this._getWord(2),this._xfIndexToNumFmtId.push(this._numberFormatIndex));break;case E:if(this._inNumberFormat){this._format=this._getWord(0);let d=this._getDWord(2);this._formatString=this._getString(6,d);let f=this._formatString.toLowerCase();(f.includes("yy")||f.includes("mm")||f.includes("dd")||f.includes("h:mm"))&&this._customNumFmts.add(this._format)}break}return!0}_getRkNumber(e){let r=this._getByte(e),n=0;if((r&2)!==0)n=this._getInt32(e)>>2;else{let s=this._getInt32(e)&4294967292,o=Buffer.allocUnsafe(8);o.writeInt32LE(0,0),o.writeInt32LE(s,4),n=o.readDoubleLE(0)}return(r&1)!==0&&(n/=100),n}readWorksheet(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;this._recordStart=n,this.pos+=r,this._readCell=!1,this._columnNum=-1;let i=0,s=1,o=2,a=3,l=4,c=5,u=6,E=7,d=8,f=9,T=10,h=11;switch(e){case i:this._rowIndex=this._getInt32(0);break;case s:case a:case h:this._readCell=!0,this._cellType=0;break;case o:this._doubleVal=this._getRkNumber(8),this._readCell=!0,this._cellType=3;break;case l:case T:this._boolValue=this._getByte(8)===1,this._readCell=!0,this._cellType=4;break;case f:case c:this._doubleVal=this._getDouble(8),this._readCell=!0,this._cellType=3;break;case u:case d:{let S=this._getDWord(8);this._stringValue=this._getString(12,S),this._readCell=!0,this._cellType=5;break}case E:this._intValue=this._getDWord(8),this._readCell=!0,this._cellType=2;break}return this._readCell&&(this._columnNum=this._getDWord(0),this._xfIndex=this._getDWord(4)&16777215),!0}}});var r6,lp,n6=Y(()=>{"use strict";r6=Z(e6());OC();t6();lp=class extends Ec{constructor(){super();this.zip=null;this.sharedStrings=[];this.styles=[];this.sheetNames=[];this.sheets=[];this._currentSheetIndex=-1;this._reader=null;this._currentRow=[];this._pendingRowIndex=-1;this._eof=!1;this.xfIdToNumFmtId=[];this.customDateFormats=null}async open(r,n=!0){this.zip=new r6.default(r);let i=this.zip.getEntry("xl/workbook.bin");if(i){let a=i.getData(),l=new Ra(a);for(;l.readWorkbook();)if(l._isSheet){let c=l._workbookName,u=l._recId;this.sheetNames.push(c),this.sheets.push({name:c,rId:u,path:null})}}let s=this.zip.getEntry("xl/_rels/workbook.bin.rels");if(s){let a=s.getData().toString("utf8"),l=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,c,u={};for(;(c=l.exec(a))!==null;)u[c[1]]=c[2];for(let E of this.sheets){let d=u[E.rId];d&&(d.startsWith("/")&&(d=d.substring(1)),d.startsWith("xl/")||(d="xl/"+d),E.path=d)}}if(n){let a="xl/sharedStrings.bin";this.zip.getEntry(a)&&this._readSharedStrings(a)}let o="xl/styles.bin";this.zip.getEntry(o)&&this._readStyles(o),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1}_readSharedStrings(r){let n=this.zip.getEntry(r);if(!n)return;let i=new Ra(n.getData());for(;i.readSharedStrings();)i._sharedStringValue!==null&&this.sharedStrings.push(i._sharedStringValue)}_readStyles(r){let n=this.zip.getEntry(r);if(!n)return;let i=new Ra(n.getData());for(;i.readStyles(););this.xfIdToNumFmtId=i._xfIndexToNumFmtId,this.customDateFormats=i._customNumFmts}getSheetNames(){return this.sheetNames}read(){if(this._currentSheetIndex===-1&&(this._currentSheetIndex=0,!this._initSheet(0))||this._eof)return!1;for(this._currentRow=[];;){if(!this._reader.readWorksheet())return this._eof=!0,!0;if(this._reader._rowIndex!==-1&&this._reader._rowIndex!==this._pendingRowIndex)return this._pendingRowIndex=this._reader._rowIndex,!0;if(this._reader._readCell){let n=this._reader._columnNum,i=null;switch(this._reader._cellType){case 2:i=this.sharedStrings[this._reader._intValue];break;case 3:{i=this._reader._doubleVal;let s=this._reader._xfIndex,o=0;if(this.xfIdToNumFmtId&&s<this.xfIdToNumFmtId.length&&(o=this.xfIdToNumFmtId[s]),o>=14&&o<=22||o>=45&&o<=47||this.customDateFormats&&this.customDateFormats.has(o))try{i=this.getDateTimeFromOaDate(i)}catch{}break}case 4:i=this._reader._boolValue;break;case 5:i=this._reader._stringValue;break;default:i=null}this._currentRow[n]=i,n>=this.fieldCount&&(this.fieldCount=n+1)}}}_initSheet(r){if(r>=this.sheets.length)return!1;let n=this.sheets[r],i=this.zip.getEntry(n.path);if(!i)return!1;for(this._reader=new Ra(i.getData()),this._eof=!1,this._pendingRowIndex=-1;this._reader.readWorksheet();)if(this._reader._rowIndex!==-1)return this._pendingRowIndex=this._reader._rowIndex,!0;return this._eof=!0,!1}getValue(r){return r<0||r>=this._currentRow.length?null:this._currentRow[r]}}});var s6={};Dt(s6,{ReaderFactory:()=>cp,default:()=>RCe});var i6,cp,RCe,o6=Y(()=>{"use strict";i6=Z(require("path"));IX();n6();cp=class{static create(e){let r=i6.extname(e).toLowerCase();if(r===".xlsx")return new np;if(r===".xlsb")return new lp;throw new Error(`Unsupported extension: ${r}`)}},RCe=cp});var a6={};Dt(a6,{ColumnTypeChooser:()=>Tc,NetezzaDataType:()=>Ni,NetezzaImporter:()=>up,importDataToNetezza:()=>ACe});async function ACe(t,e,r,n){let i=Date.now(),s=null;try{if(!t||!Lr.existsSync(t))return{success:!1,message:`Source file not found: ${t}`};if(!e)return{success:!1,message:"Target table name is required"};if(!r||!r.host)return{success:!1,message:"Connection details are required"};let a=Lr.statSync(t).size,l=Js.extname(t).toLowerCase(),c=[".csv",".txt",".xlsx",".xlsb"];if(!c.includes(l))return{success:!1,message:`Unsupported file format: ${l}. Supported: ${c.join(", ")}`};n?.("Starting import process..."),n?.(`  Source file: ${t}`),n?.(`  Target table: ${e}`),n?.(`  File size: ${a.toLocaleString()} bytes`),n?.(`  File format: ${l}`);let u=new up(t,e);await u.analyzeDataTypes(n),n?.("Using file-based import...");let E=await u.createDataFile(n),d=u.generateCreateTableSql();n?.("Generated SQL:"),n?.(d),n?.("Connecting to Netezza...");let f={host:r.host,port:r.port||5480,database:r.database,user:r.user,password:r.password},T=Hr();s=new T(f),await s.connect();try{n?.("Executing CREATE TABLE with EXTERNAL data...");let S=s.createCommand(d);S.commandTimeout=3600;let p=u.getRowsCount();s.on("importProgress",I=>{let R=I,A=p>0?Math.round(R.percentComplete/100*p):0;n?.(`Importing: ${R.percentComplete}% complete (${A.toLocaleString()} / ${p.toLocaleString()} rows)`)}),await S.execute(),n?.("Import completed successfully")}finally{await s.close();try{Lr.existsSync(E)&&(Lr.unlinkSync(E),n?.("Temporary data file cleaned up"))}catch(S){let p=S instanceof Error?S.message:String(S);n?.(`Warning: Could not clean up temp file: ${p}`)}}let h=(Date.now()-i)/1e3;return{success:!0,message:"Import completed successfully",details:{sourceFile:t,targetTable:e,fileSize:a,format:l,rowsProcessed:u.getRowsCount(),rowsInserted:u.getRowsCount(),processingTime:`${h.toFixed(1)}s`,columns:u.getSqlHeaders().length,detectedDelimiter:u.getCsvDelimiter()}}}catch(o){let a=(Date.now()-i)/1e3;return{success:!1,message:`Import failed: ${o instanceof Error?o.message:String(o)}`,details:{processingTime:`${a.toFixed(1)}s`}}}finally{if(s&&s._connected)try{await s.close()}catch{}}}var Lr,Js,LC,Ni,Tc,up,wC=Y(()=>{"use strict";Lr=Z(require("fs")),Js=Z(require("path"));try{let t=(o6(),eR(s6));LC=t.default||t.ReaderFactory||t}catch(t){console.error("libs/ExcelHelpersTs/ReaderFactory module not available",t)}Ni=class{constructor(e,r,n,i){this.dbType=e;this.precision=r;this.scale=n;this.length=i}toString(){return["BIGINT","DATE","DATETIME"].includes(this.dbType)?this.dbType:this.dbType==="NUMERIC"?`${this.dbType}(${this.precision},${this.scale})`:this.dbType==="NVARCHAR"?`${this.dbType}(${this.length})`:`TODO !!! ${this.dbType}`}},Tc=class{constructor(e="."){this.decimalDelimInCsv=".";this.firstTime=!0;this.currentType=new Ni("BIGINT"),this.decimalDelimInCsv=e}getType(e){let r=this.currentType.dbType,n=e.length;if(r==="BIGINT"&&/^\d+$/.test(e)&&n<15)return this.firstTime=!1,new Ni("BIGINT");let i=this.decimalDelimInCsv==="."?"\\.":this.decimalDelimInCsv,s=(e.match(new RegExp(`${i}`,"g"))||[]).length;if(["BIGINT","NUMERIC"].includes(r)&&s<=1){let a=e.replace(this.decimalDelimInCsv,"");if(/^\d+$/.test(a)&&n<15&&(!a.startsWith("0")||s>0||a==="0"))return this.firstTime=!1,new Ni("NUMERIC",16,6)}if((r==="DATE"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=8&&n<=10){let a=e.split("-");if(a.length===3&&a.every(l=>/^\d+$/.test(l)))try{let l=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]));if(!isNaN(l.getTime()))return this.firstTime=!1,new Ni("DATE")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=12&&n<=20){let a=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})[\s|T](\d{2}):(\d{2})(:?(\d{2}))?$/);if(a)try{let l=a[7]?parseInt(a[7]):0,c=new Date(parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),l);if(!isNaN(c.getTime()))return this.firstTime=!1,new Ni("DATETIME")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/\./g)||[]).length>=2){let a=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(a)try{let l=parseInt(a[1]),c=parseInt(a[2])-1,u=parseInt(a[3]),E=a[4]?parseInt(a[4]):0,d=a[5]?parseInt(a[5]):0,f=a[6]?parseInt(a[6]):0;if(c>=0&&c<=11&&l>=1&&l<=31){let T=new Date(u,c,l,E,d,f);if(!isNaN(T.getTime())&&T.getFullYear()===u&&T.getMonth()===c&&T.getDate()===l)return this.firstTime=!1,new Ni("DATETIME")}}catch{}}let o=Math.max(n+5,20);return this.currentType.length!==void 0&&o<this.currentType.length&&(o=this.currentType.length),this.firstTime=!1,new Ni("NVARCHAR",void 0,void 0,o)}refreshCurrentType(e){return this.currentType=this.getType(e),this.currentType}},up=class{constructor(e,r,n){this.delimiter="	";this.delimiterPlain="\\t";this.recordDelim=`
`;this.recordDelimPlain="\\n";this.escapechar="\\";this.csvDelimiter=",";this.excelData=[];this.isExcelFile=!1;this.sqlHeaders=[];this.dataTypes=[];this.rowsCount=0;this.valuesToEscape=[];this.filePath=e,this.targetTable=r,this.logDir=n||Js.join(Js.dirname(e),"netezza_logs");let i=Js.extname(e).toLowerCase();this.isExcelFile=[".xlsx",".xlsb"].includes(i);let s=Math.floor(Math.random()*1e3);this.pipeName=`\\\\.\\pipe\\NETEZZA_IMPORT_${s}`,this.valuesToEscape=[this.escapechar,this.recordDelim,"\r",this.delimiter],Lr.existsSync(this.logDir)||Lr.mkdirSync(this.logDir,{recursive:!0})}detectCsvDelimiter(){let r=Lr.readFileSync(this.filePath,"utf-8").split(`
`)[0]||"";r.startsWith("\uFEFF")&&(r=r.slice(1));let n=[";","	","|",","],i={};for(let o of n)i[o]=(r.match(new RegExp(o==="|"?"\\|":o,"g"))||[]).length;let s=Math.max(...Object.values(i));s>0&&(this.csvDelimiter=Object.keys(i).find(o=>i[o]===s)||",")}cleanColumnName(e){let r=String(e).trim();return r=r.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!r||/^\d/.test(r))&&(r="COL_"+r),r}parseCsvLine(e){let r=[],n="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];o==='"'?i&&e[s+1]==='"'?(n+='"',s++):i=!i:o===this.csvDelimiter&&!i?(r.push(n),n=""):n+=o}return r.push(n),r}async readExcelFile(e){if(!LC)throw new Error("ReaderFactory module not available");e?.("Reading Excel file...");let r=LC.create(this.filePath);await r.open(this.filePath);let n=[],i=o=>{if(o==null)return"";if(o instanceof Date){let a=l=>l<10?"0"+l:l;return`${o.getFullYear()}-${a(o.getMonth()+1)}-${a(o.getDate())} ${a(o.getHours())}:${a(o.getMinutes())}:${a(o.getSeconds())}`}return String(o)},s=0;for(;await r.read();){let o=[],a=r._currentRow;if(a&&Array.isArray(a))for(let l=0;l<a.length;l++)o.push(i(a[l]));n.push(o),s++,s%1e4===0&&e?.(`Processed ${s.toLocaleString()} rows...`)}return typeof r.close=="function"&&await r.close(),e?.(`Excel file loaded: ${n.length} rows`),n}async analyzeDataTypes(e){e?.("Analyzing data types...");let r;if(this.isExcelFile)this.excelData=await this.readExcelFile(e),r=this.excelData;else{this.detectCsvDelimiter();let i=Lr.readFileSync(this.filePath,"utf-8");i.startsWith("\uFEFF")&&(i=i.slice(1));let s=i.split(/\r?\n/);r=[];for(let o of s)o.trim()&&r.push(this.parseCsvLine(o))}if(!r||r.length===0)throw new Error("No data found in file");let n=[];this.sqlHeaders=r[0].map(i=>this.cleanColumnName(i||"COLUMN"));for(let i=0;i<r[0].length;i++)n.push(new Tc);for(let i=1;i<r.length;i++){let s=r[i];for(let o=0;o<s.length;o++)o<n.length&&s[o]&&s[o].trim()&&n[o].refreshCurrentType(s[o].trim());i%1e4===0&&e?.(`Analyzed ${i.toLocaleString()} rows...`)}return this.rowsCount=r.length-1,e?.(`Analysis complete: ${this.rowsCount.toLocaleString()} rows`),this.dataTypes=n,n}escapeValue(e){let r=String(e).trim();for(let n of this.valuesToEscape)r=r.split(n).join(`${this.escapechar}${n}`);return r}formatValue(e,r){let n=this.escapeValue(e);return r<this.dataTypes.length&&this.dataTypes[r].currentType.dbType==="DATETIME"&&(n=n.replace("T"," ")),n}generateCreateTableSql(){let e=[];for(let n=0;n<this.sqlHeaders.length;n++){let i=this.sqlHeaders[n],s=this.dataTypes[n];e.push(`        ${i} ${s.currentType.toString()}`)}let r=this.logDir.replace(/\\/g,"/");return`CREATE TABLE ${this.targetTable} AS 
(
    SELECT * FROM EXTERNAL '${this.pipeName}'
    (
${e.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${this.delimiterPlain}'
        RecordDelim '${this.recordDelimPlain}'
        ESCAPECHAR '${this.escapechar}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${r}'
    )
) DISTRIBUTE ON RANDOM;`}async createDataFile(e){let r=Js.join(this.logDir,`netezza_import_data_${Math.floor(Math.random()*1e3)}.txt`);e?.(`Creating temporary data file: ${r}`);try{let n;if(this.isExcelFile){if(!this.excelData||this.excelData.length===0)throw new Error("Excel data not loaded. Call analyzeDataTypes first.");n=this.excelData.slice(1)}else{let s=Lr.readFileSync(this.filePath,"utf-8");s.startsWith("\uFEFF")&&(s=s.slice(1));let o=s.split(/\r?\n/);n=[];let a=!0;for(let l of o)if(l.trim()){if(a){a=!1;continue}n.push(this.parseCsvLine(l))}}let i=[];for(let s=0;s<n.length;s++){let a=n[s].map((l,c)=>this.formatValue(l||"",c));i.push(a.join(this.delimiter)),(s+1)%1e4===0&&e?.(`Processed ${(s+1).toLocaleString()} rows...`)}return Lr.writeFileSync(r,i.join(this.recordDelim),"utf-8"),this.pipeName=r.replace(/\\/g,"/"),e?.(`Data file created: ${this.pipeName}`),r}catch(n){let i=n instanceof Error?n.message:String(n);throw new Error(`Error creating data file: ${i}`)}}getRowsCount(){return this.rowsCount}getSqlHeaders(){return this.sqlHeaders}getCsvDelimiter(){return this.csvDelimiter}}});var c6={};Dt(c6,{ClipboardDataProcessor:()=>Ep,importClipboardDataToNetezza:()=>OCe});function _Ce(t){let e=String(t).trim();return e=e.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!e||/^\d/.test(e))&&(e="COL_"+e),e}function ICe(t,e,r){let n=String(t).trim();for(let i of r)n=n.split(i).join(`${e}${i}`);return n}function NCe(t,e,r,n,i){let s=ICe(t,n,i);return e<r.length&&r[e].currentType.dbType==="DATETIME"&&(s=s.replace("T"," ")),s}async function OCe(t,e,r,n,i){let s=Date.now(),o=null,a=null;try{if(!t)return{success:!1,message:"Target table name is required"};if(!e||!e.host)return{success:!1,message:"Connection details are required"};i?.("Starting clipboard import process..."),i?.(`  Target table: ${t}`),i?.(`  Format preference: ${r||"auto-detect"}`);let l=new Ep,[c,u]=await l.processClipboardData(r,i);if(!c||!c.length)return{success:!1,message:"No data found in clipboard"};if(c.length<2)return{success:!1,message:"Clipboard data must contain at least headers and one data row"};i?.(`  Detected format: ${u}`),i?.(`  Rows: ${c.length}`),i?.(`  Columns: ${c[0].length}`);let E=c[0].map(X=>_Ce(X)),d=c.slice(1);i?.("Detecting decimal separator...");let f=".",T=0,h=0,S=d.slice(0,100);for(let X of S)for(let Me of X){if(!Me||!Me.trim())continue;let ue=Me.trim();/^\d+\.\d+$/.test(ue)&&T++,/^\d+,\d+$/.test(ue)&&h++}h>T&&h>0&&(f=","),i?.(`Detected decimal separator: '${f}'`),i?.("Analyzing clipboard data types...");let p=E.map(()=>new Tc(f));for(let X=0;X<d.length;X++){let Me=d[X];for(let ue=0;ue<Me.length;ue++)ue<p.length&&Me[ue]&&Me[ue].trim()&&p[ue].refreshCurrentType(Me[ue].trim());(X+1)%1e3===0&&i?.(`Analyzed ${(X+1).toLocaleString()} rows...`)}i?.(`Analysis complete: ${d.length.toLocaleString()} data rows`);let I=DC.join(require("os").tmpdir(),"netezza_clipboard_logs");as.existsSync(I)||as.mkdirSync(I,{recursive:!0});let R="	",A="\\t",O=`
`,L="\\n",N="\\",D=[N,O,"\r",R];o=DC.join(I,`netezza_clipboard_import_${Math.floor(Math.random()*1e3)}.txt`),i?.(`Creating temporary data file: ${o}`);let y=[];for(let X=0;X<d.length;X++){let ue=d[X].map((Sr,Ic)=>{let Gn=NCe(Sr,Ic,p,N,D);if(p[Ic].currentType.dbType==="NUMERIC"&&f===","&&(Gn=Gn.replace(",",".")),p[Ic].currentType.dbType==="DATETIME"){let Hn=Gn.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(Hn){let $p=Hn[1],Vr=Hn[2],Vp=Hn[3],Nc=Hn[4]||"00",QE=Hn[5]||"00",fs=Hn[6]||"00";Gn=`${Vp}-${Vr}-${$p} ${Nc}:${QE}:${fs}`}}return Gn});y.push(ue.join(R)),(X+1)%1e3===0&&i?.(`Processed ${(X+1).toLocaleString()} rows...`)}as.writeFileSync(o,y.join(O),"utf-8");let P=o.replace(/\\/g,"/");i?.(`Data file created: ${P}`);let x=[];for(let X=0;X<E.length;X++)x.push(`        ${E[X]} ${p[X].currentType.toString()}`);let B=I.replace(/\\/g,"/"),G=`CREATE TABLE ${t} AS 
(
    SELECT * FROM EXTERNAL '${P}'
    (
${x.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${A}'
        RecordDelim '${L}'
        ESCAPECHAR '${N}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${B}'
    )
) DISTRIBUTE ON RANDOM;`;i?.("Generated SQL:"),i?.(G),i?.("Connecting to Netezza...");let k={host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password},j=Hr();a=new j(k),await a.connect();try{i?.("Executing CREATE TABLE with EXTERNAL clipboard data...");let X=a.createCommand(G);X.commandTimeout=3600,await X.execute(),i?.("Clipboard import completed successfully")}finally{await a.close()}let ne=(Date.now()-s)/1e3;return{success:!0,message:"Clipboard import completed successfully",details:{targetTable:t,format:u,rowsProcessed:d.length,rowsInserted:d.length,processingTime:`${ne.toFixed(1)}s`,columns:E.length,detectedDelimiter:R}}}catch(l){let c=(Date.now()-s)/1e3;return{success:!1,message:`Clipboard import failed: ${l instanceof Error?l.message:String(l)}`,details:{processingTime:`${c.toFixed(1)}s`}}}finally{if(a&&a._connected)try{await a.close()}catch{}if(o&&as.existsSync(o))try{as.unlinkSync(o),i?.("Temporary clipboard data file cleaned up")}catch(l){let c=l instanceof Error?l.message:String(l);i?.(`Warning: Could not clean up temp file: ${c}`)}}}var as,DC,l6,Ep,u6=Y(()=>{"use strict";as=Z(require("fs")),DC=Z(require("path")),l6=Z(require("vscode"));wC();Ep=class{processXmlSpreadsheet(e,r){r?.("Processing XML Spreadsheet data...");let n=[],i=0,s=[],o=0,a=e.match(/ExpandedColumnCount="(\d+)"/);a&&(i=parseInt(a[1]),r?.(`Table has ${i} columns`));let l=e.match(/ExpandedRowCount="(\d+)"/);l&&r?.(`Table has ${l[1]} rows`);let c=/<Row[^>]*>([\s\S]*?)<\/Row>/gi,u;for(;(u=c.exec(e))!==null;){let E=u[1];s=new Array(i).fill("");let d,f=0,T=/<Cell(?:[^>]*ss:Index="(\d+)")?[^>]*>(?:[\s\S]*?<Data[^>]*(?:\s+ss:Type="([^"]*)")?[^>]*>([^<]*)<\/Data>)?[\s\S]*?<\/Cell>/gi;for(;(d=T.exec(E))!==null;){d[1]&&(f=parseInt(d[1])-1);let h=d[2]||"",S=d[3]||"";h==="Boolean"&&(S=S==="0"?"False":"True"),f<i&&(s[f]=S),f++}s.some(h=>h.trim())&&n.push([...s]),o++,o%1e4===0&&r?.(`Analyzed ${o.toLocaleString()} rows...`)}return r?.(`XML processing complete: ${n.length} rows, ${i} columns`),n}processTextData(e,r){if(r?.("Processing text data..."),!e.trim())return[];let n=e.split(`
`);for(;n.length&&!n[n.length-1].trim();)n.pop();if(!n.length)return[];let i=["	",",",";","|"],s={};for(let c of i){let u=[];for(let E of n.slice(0,Math.min(5,n.length)))if(E.trim()){let d=E.split(c);u.push(d.length)}if(u.length){let E=u.reduce((f,T)=>f+T,0)/u.length,d=u.reduce((f,T)=>f+Math.pow(T-E,2),0)/u.length;s[c]=[E,-d]}}let o="	";Object.keys(s).length&&(o=Object.keys(s).reduce((c,u)=>{let[E,d]=s[c]||[0,0],[f,T]=s[u];return f>E||f===E&&T>d?u:c},"	")),r?.(`Auto-detected delimiter: '${o==="	"?"\\t":o}'`);let a=[],l=0;for(let c of n)if(c.trim()){let u=c.split(o).map(E=>E.trim());a.push(u),l=Math.max(l,u.length)}for(let c of a)for(;c.length<l;)c.push("");return r?.(`Text processing complete: ${a.length} rows, ${l} columns`),a}async getClipboardText(){return await l6.env.clipboard.readText()}async processClipboardData(e,r){r?.("Getting clipboard data...");let n=await this.getClipboardText();if(!n)throw new Error("No data found in clipboard");r?.(`Data size: ${n.length} characters`);let i="TEXT";e==="XML Spreadsheet"||!e&&n.includes("<Workbook")&&n.includes("<Worksheet")?i="XML Spreadsheet":e==="TEXT"&&(i="TEXT"),r?.(`Detected format: ${i}`);let s;return i==="XML Spreadsheet"?s=this.processXmlSpreadsheet(n,r):s=this.processTextData(n,r),r?.(`Processed ${s.length} rows`),s.length&&r?.(`Columns per row: ${s[0].length}`),[s,i]}}});var M,mCe,gCe,CCe,MC,bCe,yCe,LCe,wCe,fp,DCe,Lt=Y(()=>{M=t=>t.flatMap(mCe),mCe=t=>fp(CCe(t)).map(gCe),gCe=t=>t.replace(/ +/g," ").trim(),CCe=t=>({type:"mandatory_block",items:MC(t,0)[0]}),MC=(t,e,r)=>{let n=[];for(;t[e];){let[i,s]=bCe(t,e);if(n.push(i),e=s,t[e]==="|")e++;else if(t[e]==="}"||t[e]==="]"){if(r!==t[e])throw new Error(`Unbalanced parenthesis in: ${t}`);return e++,[n,e]}else if(e===t.length){if(r)throw new Error(`Unbalanced parenthesis in: ${t}`);return[n,e]}else throw new Error(`Unexpected "${t[e]}"`)}return[n,e]},bCe=(t,e)=>{let r=[];for(;;){let[n,i]=yCe(t,e);if(n)r.push(n),e=i;else break}return r.length===1?[r[0],e]:[{type:"concatenation",items:r},e]},yCe=(t,e)=>{if(t[e]==="{")return LCe(t,e+1);if(t[e]==="[")return wCe(t,e+1);{let r="";for(;t[e]&&/[A-Za-z0-9_ ]/.test(t[e]);)r+=t[e],e++;return[r,e]}},LCe=(t,e)=>{let[r,n]=MC(t,e,"}");return[{type:"mandatory_block",items:r},n]},wCe=(t,e)=>{let[r,n]=MC(t,e,"]");return[{type:"optional_block",items:r},n]},fp=t=>{if(typeof t=="string")return[t];if(t.type==="concatenation")return t.items.map(fp).reduce(DCe,[""]);if(t.type==="mandatory_block")return t.items.flatMap(fp);if(t.type==="optional_block")return["",...t.items.flatMap(fp)];throw new Error(`Unknown node type: ${t}`)},DCe=(t,e)=>{let r=[];for(let n of t)for(let i of e)r.push(n+i);return r}});var $,xC,Oi,Sc,Bn,dp,T6,_n=Y(()=>{(function(t){t.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",t.IDENTIFIER="IDENTIFIER",t.STRING="STRING",t.VARIABLE="VARIABLE",t.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",t.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",t.RESERVED_KEYWORD="RESERVED_KEYWORD",t.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",t.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",t.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",t.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",t.RESERVED_CLAUSE="RESERVED_CLAUSE",t.RESERVED_SELECT="RESERVED_SELECT",t.RESERVED_JOIN="RESERVED_JOIN",t.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",t.ARRAY_KEYWORD="ARRAY_KEYWORD",t.CASE="CASE",t.END="END",t.WHEN="WHEN",t.ELSE="ELSE",t.THEN="THEN",t.LIMIT="LIMIT",t.BETWEEN="BETWEEN",t.AND="AND",t.OR="OR",t.XOR="XOR",t.OPERATOR="OPERATOR",t.COMMA="COMMA",t.ASTERISK="ASTERISK",t.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",t.OPEN_PAREN="OPEN_PAREN",t.CLOSE_PAREN="CLOSE_PAREN",t.LINE_COMMENT="LINE_COMMENT",t.BLOCK_COMMENT="BLOCK_COMMENT",t.DISABLE_COMMENT="DISABLE_COMMENT",t.NUMBER="NUMBER",t.NAMED_PARAMETER="NAMED_PARAMETER",t.QUOTED_PARAMETER="QUOTED_PARAMETER",t.NUMBERED_PARAMETER="NUMBERED_PARAMETER",t.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",t.CUSTOM_PARAMETER="CUSTOM_PARAMETER",t.DELIMITER="DELIMITER",t.EOF="EOF"})($=$||($={}));xC=t=>({type:$.EOF,raw:"\xABEOF\xBB",text:"\xABEOF\xBB",start:t}),Oi=xC(1/0),Sc=t=>e=>e.type===t.type&&e.text===t.text,Bn={ARRAY:Sc({text:"ARRAY",type:$.RESERVED_DATA_TYPE}),BY:Sc({text:"BY",type:$.RESERVED_KEYWORD}),SET:Sc({text:"SET",type:$.RESERVED_CLAUSE}),STRUCT:Sc({text:"STRUCT",type:$.RESERVED_DATA_TYPE}),WINDOW:Sc({text:"WINDOW",type:$.RESERVED_CLAUSE}),VALUES:Sc({text:"VALUES",type:$.RESERVED_CLAUSE})},dp=t=>t===$.RESERVED_DATA_TYPE||t===$.RESERVED_KEYWORD||t===$.RESERVED_FUNCTION_NAME||t===$.RESERVED_KEYWORD_PHRASE||t===$.RESERVED_DATA_TYPE_PHRASE||t===$.RESERVED_CLAUSE||t===$.RESERVED_SELECT||t===$.RESERVED_SET_OPERATION||t===$.RESERVED_JOIN||t===$.ARRAY_KEYWORD||t===$.CASE||t===$.END||t===$.WHEN||t===$.ELSE||t===$.THEN||t===$.LIMIT||t===$.BETWEEN||t===$.AND||t===$.OR||t===$.XOR,T6=t=>t===$.AND||t===$.OR||t===$.XOR});var S6,p6=Y(()=>{S6=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"]});var R6,A6,_6=Y(()=>{R6=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],A6=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"]});function FCe(t){return GCe(HCe(t))}function GCe(t){let e=Oi;return t.map(r=>r.text==="OFFSET"&&e.text==="["?(e=r,Object.assign(Object.assign({},r),{type:$.RESERVED_FUNCTION_NAME})):(e=r,r))}function HCe(t){var e;let r=[];for(let n=0;n<t.length;n++){let i=t[n];if((Bn.ARRAY(i)||Bn.STRUCT(i))&&((e=t[n+1])===null||e===void 0?void 0:e.text)==="<"){let s=WCe(t,n+1),o=t.slice(n,s+1);r.push({type:$.IDENTIFIER,raw:o.map(N6("raw")).join(""),text:o.map(N6("text")).join(""),start:i.start}),n=s}else r.push(i)}return r}function WCe(t,e){let r=0;for(let n=e;n<t.length;n++){let i=t[n];if(i.text==="<"?r++:i.text===">"?r--:i.text===">>"&&(r-=2),r===0)return n}return t.length-1}var PCe,MCe,I6,vC,xCe,vCe,UCe,BCe,hp,N6,UC=Y(()=>{Lt();_n();p6();_6();PCe=M(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),MCe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),I6=M(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),vC=M(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),xCe=M(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),vCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),UCe=M(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),BCe=M([]),hp={name:"bigquery",tokenizerOptions:{reservedSelect:PCe,reservedClauses:[...MCe,...vC,...I6],reservedSetOperations:xCe,reservedJoins:vCe,reservedKeywordPhrases:UCe,reservedDataTypePhrases:BCe,reservedKeywords:R6,reservedDataTypes:A6,reservedFunctionNames:S6,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:FCe},formatOptions:{onelineClauses:[...I6,...vC],tabularOnelineClauses:vC}};N6=t=>e=>e.type===$.IDENTIFIER||e.type===$.COMMA?e[t]+" ":e[t]});var O6,m6=Y(()=>{O6=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"]});var g6,C6,b6=Y(()=>{g6=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],C6=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"]});var YCe,$Ce,y6,BC,VCe,kCe,qCe,XCe,Tp,FC=Y(()=>{Lt();m6();b6();YCe=M(["SELECT [ALL | DISTINCT]"]),$Ce=M(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),y6=M(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),BC=M(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),VCe=M(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),kCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),qCe=M(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),XCe=M([]),Tp={name:"db2",tokenizerOptions:{reservedSelect:YCe,reservedClauses:[...$Ce,...y6,...BC],reservedSetOperations:VCe,reservedJoins:kCe,reservedKeywordPhrases:qCe,reservedDataTypePhrases:XCe,reservedKeywords:g6,reservedDataTypes:C6,reservedFunctionNames:O6,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","\xAC=","\xAC>","\xAC<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...y6,...BC],tabularOnelineClauses:BC}}});var L6,w6=Y(()=>{L6=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"]});var D6,P6,M6=Y(()=>{D6=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],P6=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"]});var KCe,zCe,x6,GC,jCe,JCe,QCe,ZCe,Sp,HC=Y(()=>{Lt();w6();M6();KCe=M(["SELECT [ALL | DISTINCT]"]),zCe=M(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),x6=M(["CREATE [OR REPLACE] TABLE"]),GC=M(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),jCe=M(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),JCe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),QCe=M(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),ZCe=M([]),Sp={name:"db2i",tokenizerOptions:{reservedSelect:KCe,reservedClauses:[...zCe,...x6,...GC],reservedSetOperations:jCe,reservedJoins:JCe,reservedKeywordPhrases:QCe,reservedDataTypePhrases:ZCe,reservedKeywords:D6,reservedDataTypes:P6,reservedFunctionNames:L6,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","\xAC=","\xAC>","\xAC<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...x6,...GC],tabularOnelineClauses:GC}}});var v6,U6=Y(()=>{v6=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"]});var B6,F6,G6=Y(()=>{B6=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],F6=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"]});var e0e,t0e,H6,WC,r0e,n0e,i0e,s0e,pp,YC=Y(()=>{Lt();U6();G6();e0e=M(["SELECT [ALL | DISTINCT]"]),t0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),H6=M(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),WC=M(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),r0e=M(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),n0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),i0e=M(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"]),s0e=M(["TIMESTAMP WITH TIME ZONE"]),pp={name:"duckdb",tokenizerOptions:{reservedSelect:e0e,reservedClauses:[...t0e,...H6,...WC],reservedSetOperations:r0e,reservedJoins:n0e,reservedKeywordPhrases:i0e,reservedDataTypePhrases:s0e,supportsXor:!0,reservedKeywords:B6,reservedDataTypes:F6,reservedFunctionNames:v6,nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...H6,...WC],tabularOnelineClauses:WC}}});var W6,Y6=Y(()=>{W6=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"]});var $6,V6,k6=Y(()=>{$6=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],V6=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"]});var o0e,a0e,q6,$C,l0e,c0e,u0e,E0e,Rp,VC=Y(()=>{Lt();Y6();k6();o0e=M(["SELECT [ALL | DISTINCT]"]),a0e=M(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),q6=M(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),$C=M(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),l0e=M(["UNION [ALL | DISTINCT]"]),c0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),u0e=M(["{ROWS | RANGE} BETWEEN"]),E0e=M([]),Rp={name:"hive",tokenizerOptions:{reservedSelect:o0e,reservedClauses:[...a0e,...q6,...$C],reservedSetOperations:l0e,reservedJoins:c0e,reservedKeywordPhrases:u0e,reservedDataTypePhrases:E0e,reservedKeywords:$6,reservedDataTypes:V6,reservedFunctionNames:W6,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...q6,...$C],tabularOnelineClauses:$C}}});function Qs(t){return t.map((e,r)=>{let n=t[r+1]||Oi;if(Bn.SET(e)&&n.text==="(")return Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME});let i=t[r-1]||Oi;return Bn.VALUES(e)&&i.text==="="?Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME}):e})}var kE=Y(()=>{_n()});var X6,K6,z6=Y(()=>{X6=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],K6=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var j6,J6=Y(()=>{j6=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"]});var f0e,d0e,Q6,kC,h0e,T0e,S0e,p0e,Ap,qC=Y(()=>{Lt();kE();z6();J6();f0e=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),d0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),Q6=M(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),kC=M(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),h0e=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),T0e=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),S0e=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),p0e=M([]),Ap={name:"mariadb",tokenizerOptions:{reservedSelect:f0e,reservedClauses:[...d0e,...Q6,...kC],reservedSetOperations:h0e,reservedJoins:T0e,reservedKeywordPhrases:S0e,reservedDataTypePhrases:p0e,supportsXor:!0,reservedKeywords:X6,reservedDataTypes:K6,reservedFunctionNames:j6,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:Qs},formatOptions:{onelineClauses:[...Q6,...kC],tabularOnelineClauses:kC}}});var Z6,e3,t3=Y(()=>{Z6=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],e3=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var r3,n3=Y(()=>{r3=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"]});var R0e,A0e,i3,XC,_0e,I0e,N0e,O0e,_p,KC=Y(()=>{Lt();kE();t3();n3();R0e=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),A0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),i3=M(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),XC=M(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),_0e=M(["UNION [ALL | DISTINCT]"]),I0e=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),N0e=M(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),O0e=M([]),_p={name:"mysql",tokenizerOptions:{reservedSelect:R0e,reservedClauses:[...A0e,...i3,...XC],reservedSetOperations:_0e,reservedJoins:I0e,reservedKeywordPhrases:N0e,reservedDataTypePhrases:O0e,supportsXor:!0,reservedKeywords:Z6,reservedDataTypes:e3,reservedFunctionNames:r3,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Qs},formatOptions:{onelineClauses:[...i3,...XC],tabularOnelineClauses:XC}}});var s3,o3,a3=Y(()=>{s3=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],o3=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var l3,c3=Y(()=>{l3=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"]});var m0e,g0e,u3,zC,C0e,b0e,y0e,L0e,Ip,jC=Y(()=>{Lt();kE();a3();c3();m0e=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),g0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),u3=M(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),zC=M(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),C0e=M(["UNION [ALL | DISTINCT]"]),b0e=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),y0e=M(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),L0e=M([]),Ip={name:"tidb",tokenizerOptions:{reservedSelect:m0e,reservedClauses:[...g0e,...u3,...zC],reservedSetOperations:C0e,reservedJoins:b0e,reservedKeywordPhrases:y0e,reservedDataTypePhrases:L0e,supportsXor:!0,reservedKeywords:s3,reservedDataTypes:o3,reservedFunctionNames:l3,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Qs},formatOptions:{onelineClauses:[...u3,...zC],tabularOnelineClauses:zC}}});var E3,f3=Y(()=>{E3=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"]});var d3,h3,T3=Y(()=>{d3=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],h3=[]});var w0e,D0e,S3,P0e,M0e,x0e,v0e,Np,JC=Y(()=>{Lt();f3();T3();w0e=M(["SELECT [ALL | DISTINCT]"]),D0e=M(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),S3=M(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),P0e=M(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),M0e=M(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),x0e=M(["{ROWS | RANGE | GROUPS} BETWEEN"]),v0e=M([]),Np={name:"n1ql",tokenizerOptions:{reservedSelect:w0e,reservedClauses:[...D0e,...S3],reservedSetOperations:P0e,reservedJoins:M0e,reservedKeywordPhrases:x0e,reservedDataTypePhrases:v0e,supportsXor:!0,reservedKeywords:d3,reservedDataTypes:h3,reservedFunctionNames:E3,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:S3}}});var p3,R3,A3=Y(()=>{p3=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],R3=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"]});var _3,I3=Y(()=>{_3=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"]});function Y0e(t){let e=Oi;return t.map(r=>Bn.SET(r)&&Bn.BY(e)?Object.assign(Object.assign({},r),{type:$.RESERVED_KEYWORD}):(dp(r.type)&&(e=r),r))}var U0e,B0e,N3,QC,F0e,G0e,H0e,W0e,Op,ZC=Y(()=>{Lt();_n();A3();I3();U0e=M(["SELECT [ALL | DISTINCT | UNIQUE]"]),B0e=M(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),N3=M(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),QC=M(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),F0e=M(["UNION [ALL]","MINUS","INTERSECT"]),G0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),H0e=M(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),W0e=M([]),Op={name:"plsql",tokenizerOptions:{reservedSelect:U0e,reservedClauses:[...B0e,...N3,...QC],reservedSetOperations:F0e,reservedJoins:G0e,reservedKeywordPhrases:H0e,reservedDataTypePhrases:W0e,supportsXor:!0,reservedKeywords:p3,reservedDataTypes:R3,reservedFunctionNames:_3,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:Y0e},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...N3,...QC],tabularOnelineClauses:QC}}});var O3,m3=Y(()=>{O3=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","UUIDV4","UUIDV7","UUID_EXTRACT_TIMESTAMP","UUID_EXTRACT_VERSION","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"]});var g3,C3,b3=Y(()=>{g3=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],C3=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"]});var $0e,V0e,y3,e0,k0e,q0e,X0e,K0e,mp,t0=Y(()=>{Lt();m3();b3();$0e=M(["SELECT [ALL | DISTINCT]"]),V0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),y3=M(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),e0=M(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMENT ON","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),k0e=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),q0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),X0e=M(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),K0e=M(["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"]),mp={name:"postgresql",tokenizerOptions:{reservedSelect:$0e,reservedClauses:[...V0e,...y3,...e0],reservedSetOperations:k0e,reservedJoins:q0e,reservedKeywordPhrases:X0e,reservedDataTypePhrases:K0e,reservedKeywords:g3,reservedDataTypes:C3,reservedFunctionNames:O3,nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...y3,...e0],tabularOnelineClauses:e0}}});var L3,w3=Y(()=>{L3=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"]});var D3,P3,M3=Y(()=>{D3=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],P3=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"]});var z0e,j0e,x3,r0,J0e,Q0e,Z0e,ebe,gp,n0=Y(()=>{Lt();w3();M3();z0e=M(["SELECT [ALL | DISTINCT]"]),j0e=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),x3=M(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),r0=M(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),J0e=M(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),Q0e=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Z0e=M(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),ebe=M([]),gp={name:"redshift",tokenizerOptions:{reservedSelect:z0e,reservedClauses:[...j0e,...x3,...r0],reservedSetOperations:J0e,reservedJoins:Q0e,reservedKeywordPhrases:Z0e,reservedDataTypePhrases:ebe,reservedKeywords:D3,reservedDataTypes:P3,reservedFunctionNames:L3,extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...x3,...r0],tabularOnelineClauses:r0}}});var v3,U3,B3=Y(()=>{v3=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],U3=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"]});var F3,G3=Y(()=>{F3=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"]});function abe(t){return t.map((e,r)=>{let n=t[r-1]||Oi,i=t[r+1]||Oi;return Bn.WINDOW(e)&&i.type===$.OPEN_PAREN?Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===$.RESERVED_KEYWORD&&!(n.text==="COLLECTION"&&i.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:$.IDENTIFIER,text:e.raw}):e})}var tbe,rbe,H3,i0,nbe,ibe,sbe,obe,Cp,s0=Y(()=>{Lt();_n();B3();G3();tbe=M(["SELECT [ALL | DISTINCT]"]),rbe=M(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),H3=M(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),i0=M(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),nbe=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),ibe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),sbe=M(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),obe=M([]),Cp={name:"spark",tokenizerOptions:{reservedSelect:tbe,reservedClauses:[...rbe,...H3,...i0],reservedSetOperations:nbe,reservedJoins:ibe,reservedKeywordPhrases:sbe,reservedDataTypePhrases:obe,supportsXor:!0,reservedKeywords:v3,reservedDataTypes:U3,reservedFunctionNames:F3,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:abe},formatOptions:{onelineClauses:[...H3,...i0],tabularOnelineClauses:i0}}});var W3,Y3=Y(()=>{W3=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"]});var $3,V3,k3=Y(()=>{$3=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],V3=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"]});var lbe,cbe,q3,o0,ube,Ebe,fbe,dbe,bp,a0=Y(()=>{Lt();Y3();k3();lbe=M(["SELECT [ALL | DISTINCT]"]),cbe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"]),q3=M(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),o0=M(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),ube=M(["UNION [ALL]","EXCEPT","INTERSECT"]),Ebe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),fbe=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),dbe=M([]),bp={name:"sqlite",tokenizerOptions:{reservedSelect:lbe,reservedClauses:[...cbe,...q3,...o0],reservedSetOperations:ube,reservedJoins:Ebe,reservedKeywordPhrases:fbe,reservedDataTypePhrases:dbe,reservedKeywords:$3,reservedDataTypes:V3,reservedFunctionNames:W3,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...q3,...o0],tabularOnelineClauses:o0}}});var X3,K3=Y(()=>{X3=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"]});var z3,j3,J3=Y(()=>{z3=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],j3=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"]});var hbe,Tbe,Q3,l0,Sbe,pbe,Rbe,Abe,yp,c0=Y(()=>{Lt();K3();J3();hbe=M(["SELECT [ALL | DISTINCT]"]),Tbe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),Q3=M(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),l0=M(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),Sbe=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),pbe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Rbe=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),Abe=M([]),yp={name:"sql",tokenizerOptions:{reservedSelect:hbe,reservedClauses:[...Tbe,...Q3,...l0],reservedSetOperations:Sbe,reservedJoins:pbe,reservedKeywordPhrases:Rbe,reservedDataTypePhrases:Abe,reservedKeywords:z3,reservedDataTypes:j3,reservedFunctionNames:X3,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...Q3,...l0],tabularOnelineClauses:l0}}});var Z3,eK=Y(()=>{Z3=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"]});var tK,rK,nK=Y(()=>{tK=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],rK=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"]});var _be,Ibe,iK,u0,Nbe,Obe,mbe,gbe,Lp,E0=Y(()=>{Lt();eK();nK();_be=M(["SELECT [ALL | DISTINCT]"]),Ibe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),iK=M(["CREATE TABLE [IF NOT EXISTS]"]),u0=M(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),Nbe=M(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Obe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),mbe=M(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),gbe=M([]),Lp={name:"trino",tokenizerOptions:{reservedSelect:_be,reservedClauses:[...Ibe,...iK,...u0],reservedSetOperations:Nbe,reservedJoins:Obe,reservedKeywordPhrases:mbe,reservedDataTypePhrases:gbe,reservedKeywords:tK,reservedDataTypes:rK,reservedFunctionNames:Z3,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...iK,...u0],tabularOnelineClauses:u0}}});var sK,oK=Y(()=>{sK=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"]});var aK,lK,cK=Y(()=>{aK=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],lK=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"]});var Cbe,bbe,uK,f0,ybe,Lbe,wbe,Dbe,wp,d0=Y(()=>{Lt();oK();cK();Cbe=M(["SELECT [ALL | DISTINCT]"]),bbe=M(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"]),uK=M(["CREATE TABLE"]),f0=M(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),ybe=M(["UNION [ALL]","EXCEPT","INTERSECT"]),Lbe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),wbe=M(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),Dbe=M([]),wp={name:"transactsql",tokenizerOptions:{reservedSelect:Cbe,reservedClauses:[...bbe,...uK,...f0],reservedSetOperations:ybe,reservedJoins:Lbe,reservedKeywordPhrases:wbe,reservedDataTypePhrases:Dbe,reservedKeywords:aK,reservedDataTypes:lK,reservedFunctionNames:sK,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...uK,...f0],tabularOnelineClauses:f0}}});var EK,fK,dK=Y(()=>{EK=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],fK=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"]});var hK,TK=Y(()=>{hK=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"]});var Pbe,Mbe,SK,h0,xbe,vbe,Ube,Bbe,Dp,T0=Y(()=>{Lt();kE();dK();TK();Pbe=M(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),Mbe=M(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),SK=M(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),h0=M(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),xbe=M(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),vbe=M(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Ube=M(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),Bbe=M([]),Dp={name:"singlestoredb",tokenizerOptions:{reservedSelect:Pbe,reservedClauses:[...Mbe,...SK,...h0],reservedSetOperations:xbe,reservedJoins:vbe,reservedKeywordPhrases:Ube,reservedDataTypePhrases:Bbe,reservedKeywords:EK,reservedDataTypes:fK,reservedFunctionNames:hK,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:Qs},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...SK,...h0],tabularOnelineClauses:h0}}});var pK,RK=Y(()=>{pK=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER \u2014 Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"]});var AK,_K,IK=Y(()=>{AK=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],_K=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"]});var Fbe,Gbe,NK,S0,Hbe,Wbe,Ybe,$be,Pp,p0=Y(()=>{Lt();RK();IK();Fbe=M(["SELECT [ALL | DISTINCT]"]),Gbe=M(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),NK=M(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),S0=M(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),Hbe=M(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),Wbe=M(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),Ybe=M(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),$be=M([]),Pp={name:"snowflake",tokenizerOptions:{reservedSelect:Fbe,reservedClauses:[...Gbe,...NK,...S0],reservedSetOperations:Hbe,reservedJoins:Wbe,reservedKeywordPhrases:Ybe,reservedDataTypePhrases:$be,reservedKeywords:AK,reservedDataTypes:_K,reservedFunctionNames:pK,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...NK,...S0],tabularOnelineClauses:S0}}});var R0={};Dt(R0,{bigquery:()=>hp,db2:()=>Tp,db2i:()=>Sp,duckdb:()=>pp,hive:()=>Rp,mariadb:()=>Ap,mysql:()=>_p,n1ql:()=>Np,plsql:()=>Op,postgresql:()=>mp,redshift:()=>gp,singlestoredb:()=>Dp,snowflake:()=>Pp,spark:()=>Cp,sql:()=>yp,sqlite:()=>bp,tidb:()=>Ip,transactsql:()=>wp,trino:()=>Lp});var OK=Y(()=>{UC();FC();HC();YC();VC();qC();KC();jC();JC();ZC();t0();n0();s0();a0();c0();E0();d0();T0();p0()});var Zs,A0,pc,Mp,Rc=Y(()=>{Zs=t=>t[t.length-1],A0=t=>t.sort((e,r)=>r.length-e.length||e.localeCompare(r)),pc=t=>t.replace(/\s+/gu," "),Mp=t=>/\n/.test(t)});var tn,_0,cs,Vbe,mK,gK,xp=Y(()=>{tn=t=>t.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),_0=/\s+/uy,cs=t=>new RegExp(`(?:${t})`,"uy"),Vbe=t=>t.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),mK=t=>t+"(?:-"+t+")*",gK=({prefixes:t,requirePrefix:e})=>`(?:${t.map(Vbe).join("|")}${e?"":"|"})`});var bK,I0,N0,kbe,mi,vp,qbe,CK,yK,LK,O0,m0,wK,g0,DK=Y(()=>{Rc();xp();bK=t=>new RegExp(`(?:${t.map(tn).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),I0=(t,e=[])=>{let r=t==="open"?0:1,n=["()",...e].map(i=>i[r]);return cs(n.map(tn).join("|"))},N0=t=>cs(`${A0(t).map(tn).join("|")}`),kbe=({rest:t,dashes:e})=>t||e?`(?![${t||""}${e?"-":""}])`:"",mi=(t,e={})=>{if(t.length===0)return/^\b$/u;let r=kbe(e),n=A0(t).map(tn).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${n})${r}\\b`,"iuy")},vp=(t,e)=>{if(!t.length)return;let r=t.map(tn).join("|");return cs(`(?:${r})(?:${e})`)},qbe=()=>{let t={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",r=Object.entries(t).map(([o,a])=>e.replace(/{left}/g,tn(o)).replace(/{right}/g,tn(a))),n=tn(Object.keys(t).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${n}])(?:(?!\k<tag>').)*?\k<tag>`}|${r.join("|")})'`},CK={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":qbe()},yK=t=>typeof t=="string"?CK[t]:"regex"in t?t.regex:gK(t)+CK[t.quote],LK=t=>cs(t.map(e=>"regex"in e?e.regex:yK(e)).join("|")),O0=t=>t.map(yK).join("|"),m0=t=>cs(O0(t)),wK=(t={})=>cs(g0(t)),g0=({first:t,rest:e,dashes:r,allowFirstCharNumber:n}={})=>{let i="\\p{Alphabetic}\\p{Mark}_",s="\\p{Decimal_Number}",o=tn(t??""),a=tn(e??""),l=n?`[${i}${s}${o}][${i}${s}${a}]*`:`[${i}${o}][${i}${s}${a}]*`;return r?mK(l):l}});function Up(t,e){let r=t.slice(0,e).split(/\n/);return{line:r.length,col:r[r.length-1].length+1}}var C0=Y(()=>{});var qE,PK=Y(()=>{C0();xp();qE=class{constructor(e,r){this.rules=e,this.dialectName=r,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;let r=[],n;for(;this.index<this.input.length;){let i=this.getWhitespace();if(this.index<this.input.length){if(n=this.getNextToken(),!n)throw this.createParseError();r.push(Object.assign(Object.assign({},n),{precedingWhitespace:i}))}}return r}createParseError(){let e=this.input.slice(this.index,this.index+10),{line:r,col:n}=Up(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${r} column ${n}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){_0.lastIndex=this.index;let e=_0.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(let e of this.rules){let r=this.match(e);if(r)return r}}match(e){e.regex.lastIndex=this.index;let r=e.regex.exec(this.input);if(r){let n=r[0],i={type:e.type,raw:n,text:e.text?e.text(n):n,start:this.index};return e.key&&(i.key=e.key(n)),this.index+=n.length,i}}}});var MK,Kbe,zbe,Bp,xK=Y(()=>{MK=/\/\*/uy,Kbe=/[\s\S]/uy,zbe=/\*\//uy,Bp=class{constructor(){this.lastIndex=0}exec(e){let r="",n,i=0;if(n=this.matchSection(MK,e))r+=n,i++;else return null;for(;i>0;)if(n=this.matchSection(MK,e))r+=n,i++;else if(n=this.matchSection(zbe,e))r+=n,i--;else if(n=this.matchSection(Kbe,e))r+=n;else return null;return[r]}matchSection(e,r){e.lastIndex=this.lastIndex;let n=e.exec(r);return n&&(this.lastIndex+=n[0].length),n?n[0]:null}}});var XE,$t,vK=Y(()=>{_n();DK();PK();xp();Rc();xK();XE=class{constructor(e,r){this.cfg=e,this.dialectName=r,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,r){let n=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,r),...this.rulesAfterParams],i=new qE(n,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(i):i}buildRulesBeforeParams(e){var r,n,i;return this.validRules([{type:$.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:$.BLOCK_COMMENT,regex:e.nestedBlockComments?new Bp:/(\/\*[^]*?\*\/)/uy},{type:$.LINE_COMMENT,regex:bK((r=e.lineCommentTypes)!==null&&r!==void 0?r:["--"])},{type:$.QUOTED_IDENTIFIER,regex:m0(e.identTypes)},{type:$.NUMBER,regex:e.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:$.RESERVED_KEYWORD_PHRASE,regex:mi((n=e.reservedKeywordPhrases)!==null&&n!==void 0?n:[],e.identChars),text:$t},{type:$.RESERVED_DATA_TYPE_PHRASE,regex:mi((i=e.reservedDataTypePhrases)!==null&&i!==void 0?i:[],e.identChars),text:$t},{type:$.CASE,regex:/CASE\b/iuy,text:$t},{type:$.END,regex:/END\b/iuy,text:$t},{type:$.BETWEEN,regex:/BETWEEN\b/iuy,text:$t},{type:$.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:$t},{type:$.RESERVED_CLAUSE,regex:mi(e.reservedClauses,e.identChars),text:$t},{type:$.RESERVED_SELECT,regex:mi(e.reservedSelect,e.identChars),text:$t},{type:$.RESERVED_SET_OPERATION,regex:mi(e.reservedSetOperations,e.identChars),text:$t},{type:$.WHEN,regex:/WHEN\b/iuy,text:$t},{type:$.ELSE,regex:/ELSE\b/iuy,text:$t},{type:$.THEN,regex:/THEN\b/iuy,text:$t},{type:$.RESERVED_JOIN,regex:mi(e.reservedJoins,e.identChars),text:$t},{type:$.AND,regex:/AND\b/iuy,text:$t},{type:$.OR,regex:/OR\b/iuy,text:$t},{type:$.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:$t},...e.operatorKeyword?[{type:$.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:$.RESERVED_FUNCTION_NAME,regex:mi(e.reservedFunctionNames,e.identChars),text:$t},{type:$.RESERVED_DATA_TYPE,regex:mi(e.reservedDataTypes,e.identChars),text:$t},{type:$.RESERVED_KEYWORD,regex:mi(e.reservedKeywords,e.identChars),text:$t}])}buildRulesAfterParams(e){var r,n;return this.validRules([{type:$.VARIABLE,regex:e.variableTypes?LK(e.variableTypes):void 0},{type:$.STRING,regex:m0(e.stringTypes)},{type:$.IDENTIFIER,regex:wK(e.identChars)},{type:$.DELIMITER,regex:/[;]/uy},{type:$.COMMA,regex:/[,]/y},{type:$.OPEN_PAREN,regex:I0("open",e.extraParens)},{type:$.CLOSE_PAREN,regex:I0("close",e.extraParens)},{type:$.OPERATOR,regex:N0(["+","-","/",">","<","=","<>","<=",">=","!=",...(r=e.operators)!==null&&r!==void 0?r:[]])},{type:$.ASTERISK,regex:/[*]/uy},{type:$.PROPERTY_ACCESS_OPERATOR,regex:N0([".",...(n=e.propertyAccessOperators)!==null&&n!==void 0?n:[]])}])}buildParamRules(e,r){var n,i,s,o,a;let l={named:r?.named||((n=e.paramTypes)===null||n===void 0?void 0:n.named)||[],quoted:r?.quoted||((i=e.paramTypes)===null||i===void 0?void 0:i.quoted)||[],numbered:r?.numbered||((s=e.paramTypes)===null||s===void 0?void 0:s.numbered)||[],positional:typeof r?.positional=="boolean"?r.positional:(o=e.paramTypes)===null||o===void 0?void 0:o.positional,custom:r?.custom||((a=e.paramTypes)===null||a===void 0?void 0:a.custom)||[]};return this.validRules([{type:$.NAMED_PARAMETER,regex:vp(l.named,g0(e.paramChars||e.identChars)),key:c=>c.slice(1)},{type:$.QUOTED_PARAMETER,regex:vp(l.quoted,O0(e.identTypes)),key:c=>(({tokenKey:u,quoteChar:E})=>u.replace(new RegExp(tn("\\"+E),"gu"),E))({tokenKey:c.slice(2,-1),quoteChar:c.slice(-1)})},{type:$.NUMBERED_PARAMETER,regex:vp(l.numbered,"[0-9]+"),key:c=>c.slice(1)},{type:$.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(c=>{var u;return{type:$.CUSTOM_PARAMETER,regex:cs(c.regex),key:(u=c.key)!==null&&u!==void 0?u:(E=>E)}})])}validRules(e){return e.filter(r=>!!r.regex)}},$t=t=>pc(t.toUpperCase())});var UK,BK,jbe,Jbe,FK=Y(()=>{vK();UK=new Map,BK=t=>{let e=UK.get(t);return e||(e=jbe(t),UK.set(t,e)),e},jbe=t=>({tokenizer:new XE(t.tokenizerOptions,t.name),formatOptions:Jbe(t.formatOptions)}),Jbe=t=>{var e;return{alwaysDenseOperators:t.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(t.onelineClauses.map(r=>[r,!0])),tabularOnelineClauses:Object.fromEntries(((e=t.tabularOnelineClauses)!==null&&e!==void 0?e:t.onelineClauses).map(r=>[r,!0]))}}});function GK(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"?" ".repeat(10):t.useTabs?"	":" ".repeat(t.tabWidth)}function Aa(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"}var b0=Y(()=>{});var KE,HK=Y(()=>{KE=class{constructor(e){this.params=e,this.index=0}get({key:e,text:r}){return this.params?e?this.params[e]:this.params[this.index++]:r}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}}});var YK=g((WK,Fp)=>{(function(t,e){typeof Fp=="object"&&Fp.exports?Fp.exports=e():t.nearley=e()})(WK,function(){function t(l,c,u){return this.id=++t.highestId,this.name=l,this.symbols=c,this.postprocess=u,this}t.highestId=0,t.prototype.toString=function(l){var c=typeof l>"u"?this.symbols.map(a).join(" "):this.symbols.slice(0,l).map(a).join(" ")+" \u25CF "+this.symbols.slice(l).map(a).join(" ");return this.name+" \u2192 "+c};function e(l,c,u,E){this.rule=l,this.dot=c,this.reference=u,this.data=[],this.wantedBy=E,this.isComplete=this.dot===l.symbols.length}e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(l){var c=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=l,c.isComplete&&(c.data=c.build(),c.right=void 0),c},e.prototype.build=function(){var l=[],c=this;do l.push(c.right.data),c=c.left;while(c.left);return l.reverse(),l},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function r(l,c){this.grammar=l,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(l){for(var c=this.states,u=this.wants,E=this.completed,d=0;d<c.length;d++){var f=c[d];if(f.isComplete){if(f.finish(),f.data!==s.fail){for(var T=f.wantedBy,h=T.length;h--;){var S=T[h];this.complete(S,f)}if(f.reference===this.index){var p=f.rule.name;(this.completed[p]=this.completed[p]||[]).push(f)}}}else{var p=f.rule.symbols[f.dot];if(typeof p!="string"){this.scannable.push(f);continue}if(u[p]){if(u[p].push(f),E.hasOwnProperty(p))for(var I=E[p],h=0;h<I.length;h++){var R=I[h];this.complete(f,R)}}else u[p]=[f],this.predict(p)}}},r.prototype.predict=function(l){for(var c=this.grammar.byName[l]||[],u=0;u<c.length;u++){var E=c[u],d=this.wants[l],f=new e(E,0,this.index,d);this.states.push(f)}},r.prototype.complete=function(l,c){var u=l.nextState(c);this.states.push(u)};function n(l,c){this.rules=l,this.start=c||this.rules[0].name;var u=this.byName={};this.rules.forEach(function(E){u.hasOwnProperty(E.name)||(u[E.name]=[]),u[E.name].push(E)})}n.fromCompiled=function(E,c){var u=E.Lexer;E.ParserStart&&(c=E.ParserStart,E=E.ParserRules);var E=E.map(function(f){return new t(f.name,f.symbols,f.postprocess)}),d=new n(E,c);return d.lexer=u,d};function i(){this.reset("")}i.prototype.reset=function(l,c){this.buffer=l,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var l=this.buffer[this.index++];return l===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:l}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(l,c){var u=this.buffer;if(typeof u=="string"){var E=u.split(`
`).slice(Math.max(0,this.line-5),this.line),d=u.indexOf(`
`,this.index);d===-1&&(d=u.length);var f=this.index-this.lastLineBreak,T=String(this.line).length;return c+=" at line "+this.line+" col "+f+`:

`,c+=E.map(function(S,p){return h(this.line-E.length+p+1,T)+" "+S},this).join(`
`),c+=`
`+h("",T+f)+`^
`,c}else return c+" at index "+(this.index-1);function h(S,p){var I=String(S);return Array(p-I.length+1).join(" ")+I}};function s(l,c,u){if(l instanceof n)var E=l,u=c;else var E=n.fromCompiled(l,c);this.grammar=E,this.options={keepHistory:!1,lexer:E.lexer||new i};for(var d in u||{})this.options[d]=u[d];this.lexer=this.options.lexer,this.lexerState=void 0;var f=new r(E,0),T=this.table=[f];f.wants[E.start]=[],f.predict(E.start),f.process(),this.current=0}s.fail={},s.prototype.feed=function(l){var c=this.lexer;c.reset(l,this.lexerState);for(var u;;){try{if(u=c.next(),!u)break}catch(L){var T=new r(this.grammar,this.current+1);this.table.push(T);var E=new Error(this.reportLexerError(L));throw E.offset=this.current,E.token=L.token,E}var d=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var f=this.current+1,T=new r(this.grammar,f);this.table.push(T);for(var h=u.text!==void 0?u.text:u.value,S=c.constructor===i?u.value:u,p=d.scannable,I=p.length;I--;){var R=p[I],A=R.rule.symbols[R.dot];if(A.test?A.test(S):A.type?A.type===u.type:A.literal===h){var O=R.nextState({data:S,token:u,isToken:!0,reference:f-1});T.states.push(O)}}if(T.process(),T.states.length===0){var E=new Error(this.reportError(u));throw E.offset=this.current,E.token=u,E}this.options.keepHistory&&(d.lexerState=c.save()),this.current++}return d&&(this.lexerState=c.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(l){var c,u,E=l.token;return E?(c="input "+JSON.stringify(E.text[0])+" (lexer error)",u=this.lexer.formatError(E,"Syntax error")):(c="input (lexer error)",u=l.message),this.reportErrorCommon(u,c)},s.prototype.reportError=function(l){var c=(l.type?l.type+" token: ":"")+JSON.stringify(l.value!==void 0?l.value:l),u=this.lexer.formatError(l,"Syntax error");return this.reportErrorCommon(u,c)},s.prototype.reportErrorCommon=function(l,c){var u=[];u.push(l);var E=this.table.length-2,d=this.table[E],f=d.states.filter(function(h){var S=h.rule.symbols[h.dot];return S&&typeof S!="string"});if(f.length===0)u.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(d.states,u);else{u.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var T=f.map(function(h){return this.buildFirstStateStack(h,[])||[h]},this);T.forEach(function(h){var S=h[0],p=S.rule.symbols[S.dot],I=this.getSymbolDisplay(p);u.push("A "+I+" based on:"),this.displayStateStack(h,u)},this)}return u.push(""),u.join(`
`)},s.prototype.displayStateStack=function(l,c){for(var u,E=0,d=0;d<l.length;d++){var f=l[d],T=f.rule.toString(f.dot);T===u?E++:(E>0&&c.push("    ^ "+E+" more lines identical to this"),E=0,c.push("    "+T)),u=T}},s.prototype.getSymbolDisplay=function(l){return o(l)},s.prototype.buildFirstStateStack=function(l,c){if(c.indexOf(l)!==-1)return null;if(l.wantedBy.length===0)return[l];var u=l.wantedBy[0],E=[l].concat(c),d=this.buildFirstStateStack(u,E);return d===null?null:[l].concat(d)},s.prototype.save=function(){var l=this.table[this.current];return l.lexerState=this.lexerState,l},s.prototype.restore=function(l){var c=l.index;this.current=c,this.table[c]=l,this.table.splice(c+1),this.lexerState=l.lexerState,this.results=this.finish()},s.prototype.rewind=function(l){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[l])},s.prototype.finish=function(){var l=[],c=this.grammar.start,u=this.table[this.table.length-1];return u.states.forEach(function(E){E.rule.name===c&&E.dot===E.rule.symbols.length&&E.reference===0&&E.data!==s.fail&&l.push(E)}),l.map(function(E){return E.data})};function o(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return"character matching "+l;if(l.type)return l.type+" token";if(l.test)return"token matching "+String(l.test);throw new Error("Unknown symbol type: "+l)}}function a(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return l.toString();if(l.type)return"%"+l.type;if(l.test)return"<"+String(l.test)+">";throw new Error("Unknown symbol type: "+l)}}return{Parser:s,Grammar:n,Rule:t}})});function $K(t){return t.map(Qbe).map(Zbe).map(eye).map(tye).map(rye)}var Qbe,Zbe,eye,tye,rye,nye,Ac,VK,kK,iye,qK=Y(()=>{_n();Qbe=(t,e,r)=>{if(dp(t.type)){let n=nye(r,e);if(n&&n.type===$.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw});let i=Ac(r,e);if(i&&i.type===$.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw})}return t},Zbe=(t,e,r)=>{if(t.type===$.RESERVED_FUNCTION_NAME){let n=Ac(r,e);if(!n||!VK(n))return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw})}return t},eye=(t,e,r)=>{if(t.type===$.RESERVED_DATA_TYPE){let n=Ac(r,e);if(n&&VK(n))return Object.assign(Object.assign({},t),{type:$.RESERVED_PARAMETERIZED_DATA_TYPE})}return t},tye=(t,e,r)=>{if(t.type===$.IDENTIFIER){let n=Ac(r,e);if(n&&kK(n))return Object.assign(Object.assign({},t),{type:$.ARRAY_IDENTIFIER})}return t},rye=(t,e,r)=>{if(t.type===$.RESERVED_DATA_TYPE){let n=Ac(r,e);if(n&&kK(n))return Object.assign(Object.assign({},t),{type:$.ARRAY_KEYWORD})}return t},nye=(t,e)=>Ac(t,e,-1),Ac=(t,e,r=1)=>{let n=1;for(;t[e+n*r]&&iye(t[e+n*r]);)n++;return t[e+n*r]},VK=t=>t.type===$.OPEN_PAREN&&t.text==="(",kK=t=>t.type===$.OPEN_PAREN&&t.text==="[",iye=t=>t.type===$.BLOCK_COMMENT||t.type===$.LINE_COMMENT});var _a,y0=Y(()=>{C0();_n();_a=class{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,r){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){let{line:r,col:n}=Up(this.input,e.start);return`Parse error at token: ${e.text} at line ${r} column ${n}`}has(e){return e in $}}});var z,L0=Y(()=>{(function(t){t.statement="statement",t.clause="clause",t.set_operation="set_operation",t.function_call="function_call",t.parameterized_data_type="parameterized_data_type",t.array_subscript="array_subscript",t.property_access="property_access",t.parenthesis="parenthesis",t.between_predicate="between_predicate",t.case_expression="case_expression",t.case_when="case_when",t.case_else="case_else",t.limit_clause="limit_clause",t.all_columns_asterisk="all_columns_asterisk",t.literal="literal",t.identifier="identifier",t.keyword="keyword",t.data_type="data_type",t.parameter="parameter",t.operator="operator",t.comma="comma",t.line_comment="line_comment",t.block_comment="block_comment",t.disable_comment="disable_comment"})(z=z||(z={}))});function w0(t){return t[0]}var le,Ia,er,XK,tr,sye,oye,KK,zK=Y(()=>{y0();L0();_n();le=new _a(t=>[]),Ia=([[t]])=>t,er=t=>({type:z.keyword,tokenType:t.type,text:t.text,raw:t.raw}),XK=t=>({type:z.data_type,text:t.text,raw:t.raw}),tr=(t,{leading:e,trailing:r})=>(e?.length&&(t=Object.assign(Object.assign({},t),{leadingComments:e})),r?.length&&(t=Object.assign(Object.assign({},t),{trailingComments:r})),t),sye=(t,{leading:e,trailing:r})=>{if(e?.length){let[n,...i]=t;t=[tr(n,{leading:e}),...i]}if(r?.length){let n=t.slice(0,-1),i=t[t.length-1];t=[...n,tr(i,{trailing:r})]}return t},oye={Lexer:le,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:t=>t[0].concat([t[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([t])=>{let e=t[t.length-1];return e&&!e.hasSemicolon?e.children.length>0?t:t.slice(0,-1):t}},{name:"statement$subexpression$1",symbols:[le.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[le.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([t,[e]])=>({type:z.statement,children:t,hasSemicolon:e.type===$.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([t,e])=>[...t,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:Ia},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[le.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:w0},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[le.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([t,e,r,n])=>{if(n){let[i,s]=n;return{type:z.limit_clause,limitKw:tr(er(t),{trailing:e}),offset:r,count:s}}else return{type:z.limit_clause,limitKw:tr(er(t),{trailing:e}),count:r}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([t,[e,r]])=>({type:z.clause,nameKw:er(t),children:[e,...r]})},{name:"select_clause",symbols:[le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([t])=>({type:z.clause,nameKw:er(t),children:[]})},{name:"all_columns_asterisk",symbols:[le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:z.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"other_clause",symbols:[le.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([t,e])=>({type:z.clause,nameKw:er(t),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"set_operation",symbols:[le.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([t,e])=>({type:z.set_operation,nameKw:er(t),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:w0},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([t,e])=>tr(t,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([t,e])=>tr(e,{leading:t})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([t,e])=>tr(e,{leading:t})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:Ia},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:Ia},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:Ia},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:Ia},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:Ia},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:Ia},{name:"array_subscript",symbols:[le.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([t,e,r])=>({type:z.array_subscript,array:tr({type:z.identifier,quoted:!1,text:t.text},{trailing:e}),parenthesis:r})},{name:"array_subscript",symbols:[le.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([t,e,r])=>({type:z.array_subscript,array:tr(er(t),{trailing:e}),parenthesis:r})},{name:"function_call",symbols:[le.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([t,e,r])=>({type:z.function_call,nameKw:tr(er(t),{trailing:e}),parenthesis:r})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([t,e,r])=>({type:z.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([t,e,r])=>({type:z.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([t,e,r])=>({type:z.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",le.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([t,e,r,n,[i]])=>({type:z.property_access,object:tr(t,{trailing:e}),operator:r.text,property:tr(i,{leading:n})})},{name:"between_predicate",symbols:[le.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",le.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([t,e,r,n,i,s,o])=>({type:z.between_predicate,betweenKw:er(t),expr1:sye(r,{leading:e,trailing:n}),andKw:er(i),expr2:[tr(o,{leading:s})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:w0},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:t=>t[0].concat([t[1]])},{name:"case_expression",symbols:[le.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",le.has("END")?{type:"END"}:END],postprocess:([t,e,r,n,i])=>({type:z.case_expression,caseKw:tr(er(t),{trailing:e}),endKw:er(i),expr:r||[],clauses:n})},{name:"case_clause",symbols:[le.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",le.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([t,e,r,n,i,s])=>({type:z.case_when,whenKw:tr(er(t),{trailing:e}),thenKw:tr(er(n),{trailing:i}),condition:r,result:s})},{name:"case_clause",symbols:[le.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([t,e,r])=>({type:z.case_else,elseKw:tr(er(t),{trailing:e}),result:r})},{name:"comma$subexpression$1",symbols:[le.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[t]])=>({type:z.comma})},{name:"asterisk$subexpression$1",symbols:[le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[t]])=>({type:z.operator,text:t.text})},{name:"operator$subexpression$1",symbols:[le.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[t]])=>({type:z.operator,text:t.text})},{name:"identifier$subexpression$1",symbols:[le.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[le.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[le.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[t]])=>({type:z.identifier,quoted:t.type!=="IDENTIFIER",text:t.text})},{name:"parameter$subexpression$1",symbols:[le.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[t]])=>({type:z.parameter,key:t.key,text:t.text})},{name:"literal$subexpression$1",symbols:[le.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[le.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[t]])=>({type:z.literal,text:t.text})},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[t]])=>er(t)},{name:"data_type$subexpression$1",symbols:[le.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[le.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[t]])=>XK(t)},{name:"data_type",symbols:[le.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([t,e,r])=>({type:z.parameterized_data_type,dataType:tr(XK(t),{trailing:e}),parenthesis:r})},{name:"logic_operator$subexpression$1",symbols:[le.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[le.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[le.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[t]])=>er(t)},{name:"other_keyword$subexpression$1",symbols:[le.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[le.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[le.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[le.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[t]])=>er(t)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:t=>t[0].concat([t[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([t])=>t},{name:"comment",symbols:[le.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([t])=>({type:z.line_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[le.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([t])=>({type:z.block_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[le.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([t])=>({type:z.disable_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})}],ParserStart:"main"},KK=oye});function JK(t){let e={},r=new _a(i=>[...$K(t.tokenize(i,e)),xC(i.length)]),n=new aye(lye.fromCompiled(KK),{lexer:r});return{parse:(i,s)=>{e=s;let{results:o}=n.feed(i);if(o.length===1)return o[0];throw o.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(o,void 0,2)}`)}}}var jK,aye,lye,QK=Y(()=>{jK=Z(YK(),1);qK();zK();y0();_n();({Parser:aye,Grammar:lye}=jK.default)});var W,Na,cye,uye,Gp=Y(()=>{Rc();(function(t){t[t.SPACE=0]="SPACE",t[t.NO_SPACE=1]="NO_SPACE",t[t.NO_NEWLINE=2]="NO_NEWLINE",t[t.NEWLINE=3]="NEWLINE",t[t.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",t[t.INDENT=5]="INDENT",t[t.SINGLE_INDENT=6]="SINGLE_INDENT"})(W=W||(W={}));Na=class{constructor(e){this.indentation=e,this.items=[]}add(...e){for(let r of e)switch(r){case W.SPACE:this.items.push(W.SPACE);break;case W.NO_SPACE:this.trimHorizontalWhitespace();break;case W.NO_NEWLINE:this.trimWhitespace();break;case W.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(W.NEWLINE);break;case W.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(W.MANDATORY_NEWLINE);break;case W.INDENT:this.addIndentation();break;case W.SINGLE_INDENT:this.items.push(W.SINGLE_INDENT);break;default:this.items.push(r)}}trimHorizontalWhitespace(){for(;cye(Zs(this.items));)this.items.pop()}trimWhitespace(){for(;uye(Zs(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(Zs(this.items)){case W.NEWLINE:this.items.pop(),this.items.push(e);break;case W.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(W.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case W.SPACE:return" ";case W.NEWLINE:case W.MANDATORY_NEWLINE:return`
`;case W.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}},cye=t=>t===W.SPACE||t===W.SINGLE_INDENT,uye=t=>t===W.SPACE||t===W.SINGLE_INDENT||t===W.NEWLINE});function Hp(t,e){if(e==="standard")return t;let r=[];return t.length>=10&&t.includes(" ")&&([t,...r]=t.split(" ")),e==="tabularLeft"?t=t.padEnd(9," "):t=t.padStart(9," "),t+["",...r].join(" ")}function D0(t){return T6(t)||t===$.RESERVED_CLAUSE||t===$.RESERVED_SELECT||t===$.RESERVED_SET_OPERATION||t===$.RESERVED_JOIN||t===$.LIMIT}var ZK=Y(()=>{_n()});var P0,Eye,Oa,M0=Y(()=>{Rc();P0="top-level",Eye="block-level",Oa=class{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(P0)}increaseBlockLevel(){this.indentTypes.push(Eye)}decreaseTopLevel(){this.indentTypes.length>0&&Zs(this.indentTypes)===P0&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===P0;);}}});var zE,_c,e4=Y(()=>{M0();Gp();zE=class extends Na{constructor(e){super(new Oa("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(r=>this.addToLength(r)),this.length>this.expressionWidth)throw new _c;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===W.MANDATORY_NEWLINE||e===W.NEWLINE)throw new _c;e===W.INDENT||e===W.SINGLE_INDENT||e===W.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===W.NO_NEWLINE||e===W.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}},_c=class extends Error{}});var jE,t4=Y(()=>{Rc();b0();_n();L0();Gp();ZK();e4();jE=class t{constructor({cfg:e,dialectCfg:r,params:n,layout:i,inline:s=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=r,this.inline=s,this.params=n,this.layout=i}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case z.function_call:return this.formatFunctionCall(e);case z.parameterized_data_type:return this.formatParameterizedDataType(e);case z.array_subscript:return this.formatArraySubscript(e);case z.property_access:return this.formatPropertyAccess(e);case z.parenthesis:return this.formatParenthesis(e);case z.between_predicate:return this.formatBetweenPredicate(e);case z.case_expression:return this.formatCaseExpression(e);case z.case_when:return this.formatCaseWhen(e);case z.case_else:return this.formatCaseElse(e);case z.clause:return this.formatClause(e);case z.set_operation:return this.formatSetOperation(e);case z.limit_clause:return this.formatLimitClause(e);case z.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case z.literal:return this.formatLiteral(e);case z.identifier:return this.formatIdentifier(e);case z.parameter:return this.formatParameter(e);case z.operator:return this.formatOperator(e);case z.comma:return this.formatComma(e);case z.line_comment:return this.formatLineComment(e);case z.block_comment:return this.formatBlockComment(e);case z.disable_comment:return this.formatBlockComment(e);case z.data_type:return this.formatDataType(e);case z.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let r;switch(e.array.type){case z.data_type:r=this.showDataType(e.array);break;case z.keyword:r=this.showKw(e.array);break;default:r=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(r)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(W.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){let r=this.formatInlineExpression(e.children);r?(this.layout.add(e.openParen),this.layout.add(...r.getLayoutItems()),this.layout.add(W.NO_SPACE,e.closeParen,W.SPACE)):(this.layout.add(e.openParen,W.NEWLINE),Aa(this.cfg)?(this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(W.NEWLINE,W.INDENT,e.closeParen,W.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),W.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(W.NO_SPACE,W.SPACE,this.showNonTabularKw(e.andKw),W.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(W.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(W.NEWLINE,W.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(W.NEWLINE,W.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(W.NEWLINE,W.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):Aa(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return Aa(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.NEWLINE),this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),Aa(this.cfg)?this.layout.add(W.SPACE):this.layout.add(W.NEWLINE,W.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(W.NO_SPACE,",",W.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",W.SPACE)}formatLiteral(e){this.layout.add(e.text,W.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),W.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),W.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(W.NO_SPACE,e):e===":"?this.layout.add(W.NO_SPACE,e,W.SPACE):this.layout.add(e,W.SPACE)}formatComma(e){this.inline?this.layout.add(W.NO_SPACE,",",W.SPACE):this.layout.add(W.NO_SPACE,",",W.NEWLINE,W.INDENT)}withComments(e,r){this.formatComments(e.leadingComments),r(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(r=>{r.type===z.line_comment?this.formatLineComment(r):this.formatBlockComment(r)})}formatLineComment(e){Mp(e.precedingWhitespace||"")?this.layout.add(W.NEWLINE,W.INDENT,e.text,W.MANDATORY_NEWLINE,W.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(W.NO_NEWLINE,W.SPACE,e.text,W.MANDATORY_NEWLINE,W.INDENT):this.layout.add(e.text,W.MANDATORY_NEWLINE,W.INDENT)}formatBlockComment(e){e.type===z.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(r=>{this.layout.add(W.NEWLINE,W.INDENT,r)}),this.layout.add(W.NEWLINE,W.INDENT)):this.layout.add(e.text,W.SPACE)}isMultilineBlockComment(e){return Mp(e.text)||Mp(e.precedingWhitespace||"")}isDocComment(e){let r=e.split(/\n/);return/^\/\*\*?$/.test(r[0])&&r.slice(1,r.length-1).every(n=>/^\s*\*/.test(n))&&/^\s*\*\/$/.test(Zs(r))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(r=>/^\s*\*/.test(r)?" "+r.replace(/^\s*/,""):r):e.split(/\n/).map(r=>r.replace(/^\s*/,""))}formatSubExpression(e){return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){let r=this.params.getPositionalParameterIndex();try{return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new zE(this.cfg.expressionWidth),inline:!0}).format(e)}catch(n){if(n instanceof _c){this.params.setPositionalParameterIndex(r);return}else throw n}}formatKeywordNode(e){switch(e.tokenType){case $.RESERVED_JOIN:return this.formatJoin(e);case $.AND:case $.OR:case $.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){Aa(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),W.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?Aa(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE):this.layout.add(this.showKw(e),W.NEWLINE,W.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),W.SPACE)}showKw(e){return D0(e.tokenType)?Hp(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return pc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return D0(e.tokenType)?Hp(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return pc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return pc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}}});var JE,r4=Y(()=>{b0();HK();QK();t4();Gp();M0();JE=class{constructor(e,r){this.dialect=e,this.cfg=r,this.params=new KE(this.cfg.params)}format(e){let r=this.parse(e);return this.formatAst(r).trimEnd()}parse(e){return JK(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(r=>this.formatStatement(r)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){let r=new jE({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new Na(new Oa(GK(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?r.add(W.NEWLINE,";"):r.add(W.NO_NEWLINE,";")),r.toString()}}});function n4(t){let e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(let r of e)if(r in t)throw new us(`${r} config is no more supported.`);if(t.expressionWidth<=0)throw new us(`expressionWidth config must be positive number. Received ${t.expressionWidth} instead.`);if(t.params&&!fye(t.params)&&console.warn('WARNING: All "params" option values should be strings.'),t.paramTypes&&!dye(t.paramTypes))throw new us("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return t}function fye(t){return(t instanceof Array?t:Object.values(t)).every(r=>typeof r=="string")}function dye(t){return t.custom&&Array.isArray(t.custom)?t.custom.every(e=>e.regex!==""):!0}var us,x0=Y(()=>{us=class extends Error{}});var hye,i4,v0,Tye,s4,U0,o4=Y(()=>{OK();FK();r4();x0();hye=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},i4={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},v0=Object.keys(i4),Tye={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},s4=(t,e={})=>{if(typeof e.language=="string"&&!v0.includes(e.language))throw new us(`Unsupported SQL dialect: ${e.language}`);let r=i4[e.language||"sql"];return U0(t,Object.assign(Object.assign({},e),{dialect:R0[r]}))},U0=(t,e)=>{var{dialect:r}=e,n=hye(e,["dialect"]);if(typeof t!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof t);let i=n4(Object.assign(Object.assign({},Tye),n));return new JE(BK(r),i).format(t)}});var a4={};Dt(a4,{ConfigError:()=>us,bigquery:()=>hp,db2:()=>Tp,db2i:()=>Sp,duckdb:()=>pp,expandPhrases:()=>M,format:()=>s4,formatDialect:()=>U0,hive:()=>Rp,mariadb:()=>Ap,mysql:()=>_p,n1ql:()=>Np,plsql:()=>Op,postgresql:()=>mp,redshift:()=>gp,singlestoredb:()=>Dp,snowflake:()=>Pp,spark:()=>Cp,sql:()=>yp,sqlite:()=>bp,supportedDialects:()=>v0,tidb:()=>Ip,transactsql:()=>wp,trino:()=>Lp});var l4=Y(()=>{o4();Lt();x0();UC();FC();HC();YC();VC();qC();KC();jC();JC();ZC();t0();n0();s0();a0();c0();E0();d0();T0();p0()});var d4={};Dt(d4,{ExplainPlanView:()=>B0,parseExplainOutput:()=>Sye});function Sye(t){let e=t.split(`
`).filter(E=>E.trim()),r=t.includes("QUERY VERBOSE PLAN:")||t.includes("Node 1."),n=e.map(E=>E.replace(/^NOTICE:\s*/i,"").trim()).filter(E=>E&&!E.startsWith("QUERY PLAN")&&!E.startsWith("QUERY VERBOSE")),i=[],s=[],o=0,a=0,l=n.findIndex(E=>E.includes("PLANTEXT:")),c=l>=0?n.slice(l+1).filter(E=>!E.startsWith("(")&&!E.includes("locus=")):n,u=[];for(let E of c){if(!E.trim()||E.startsWith("(xpath_")||E.includes("locus="))continue;let d=E.match(/^(\s*)/)?.[1]?.length||0,f=Math.floor(d/3),T=E.match(/^[\s]*(?:[lr]:\s*)?([\w\s-]+?)(?:\s+table\s+"(\w+)")?(?:\s+{[^}]*})?\s*\(cost=([\d.]+)\.\.([\d.]+)\s+rows=(\d+)\s+width=(\d+)\s+conf=([\d.]+)\)/i);if(T){let[,h,S,p,I,R,A,O]=T,L=h.trim(),N={id:++o,type:L,table:S,cost:{start:parseFloat(p),end:parseFloat(I)},rows:parseInt(R),width:parseInt(A),confidence:parseFloat(O),indent:f,children:[],raw:E.trim(),warnings:[]};for(pye(N),s.push(...N.warnings),N.cost.end>a&&(a=N.cost.end);u.length>0&&u[u.length-1].indent>=f;)u.pop();u.length>0?u[u.length-1].children.push(N):i.push(N),u.push(N)}}return{nodes:i,rawText:t,isVerbose:r,totalCost:a,warnings:s}}function pye(t){t.type.includes("Sequential Scan")&&t.rows>5e5&&t.warnings.push({type:"warning",message:`Sequential Scan on ${t.table||"table"} (${t.rows.toLocaleString()} rows) - consider adding an index`,icon:"\u26A0\uFE0F"}),t.type.includes("Nested Loop")&&t.rows>1e5&&t.warnings.push({type:"critical",message:`Nested Loop producing ${t.rows.toLocaleString()} rows - potential performance issue`,icon:"\u{1F534}"}),t.cost.end>1e10?t.warnings.push({type:"critical",message:`Very high estimated cost: ${t.cost.end.toExponential(2)}`,icon:"\u{1F534}"}):t.cost.end>1e7&&t.warnings.push({type:"warning",message:`High estimated cost: ${t.cost.end.toLocaleString()}`,icon:"\u26A0\uFE0F"}),t.confidence===0&&t.warnings.push({type:"info",message:"Low confidence estimate (conf=0) - statistics may be outdated",icon:"\u2139\uFE0F"})}function Rye(t){return t.includes("Sequential Scan")?"#e74c3c":t.includes("Index Scan")?"#27ae60":t.includes("Nested Loop")?"#e67e22":t.includes("Hash Join")?"#3498db":t.includes("Merge Join")?"#9b59b6":t.includes("Aggregate")?"#1abc9c":t.includes("Group")?"#16a085":t.includes("Sort")?"#f39c12":t.includes("Limit")?"#95a5a6":t.includes("Sub-query")?"#34495e":"#7f8c8d"}function E4(t,e=0){return t.map(r=>{let n=r.children.length>0,i=Rye(r.type),s=r.warnings.map(o=>`<span class="warning-badge warning-${o.type}" title="${o.message}">${o.icon}</span>`).join("");return`
        <div class="plan-node" style="--node-color: ${i}">
            <div class="node-header">
                ${n?'<span class="toggle-btn">\u25BC</span>':'<span class="toggle-spacer"></span>'}
                <span class="node-type" style="background-color: ${i}">${r.type}</span>
                ${r.table?`<span class="node-table">${r.table}${r.alias?` (${r.alias})`:""}</span>`:""}
                ${s}
            </div>
            <div class="node-metrics">
                <span class="metric"><b>Cost:</b> ${c4(r.cost.start)}..${c4(r.cost.end)}</span>
                <span class="metric"><b>Rows:</b> ${r.rows.toLocaleString()}</span>
                <span class="metric"><b>Width:</b> ${r.width}</span>
                <span class="metric ${r.confidence===0?"low-conf":""}"><b>Conf:</b> ${r.confidence}%</span>
            </div>
            ${n?`<div class="node-children">${E4(r.children,e+1)}</div>`:""}
        </div>`}).join("")}function c4(t){return t>1e6?t.toExponential(1):t.toLocaleString(void 0,{maximumFractionDigits:1})}function f4(t){return t.reduce((e,r)=>e+1+f4(r.children),0)}function u4(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function Aye(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var In,B0,h4=Y(()=>{"use strict";In=Z(require("vscode"));B0=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(s=>{switch(s.command){case"copyPlan":In.env.clipboard.writeText(n.rawText),In.window.showInformationMessage("Plan copied to clipboard");return}},null,this._disposables)}static{this.viewType="netezza.explainPlan"}static createOrShow(e,r,n){let i=In.window.activeTextEditor?In.ViewColumn.Beside:void 0,s=In.window.createWebviewPanel(t.viewType,"Query Execution Plan",i||In.ViewColumn.One,{enableScripts:!0,localResourceRoots:[In.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(s,e,r,n)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){this._panel.title="Query Execution Plan",this._panel.webview.html=this._getHtmlForWebview(e,r)}_getHtmlForWebview(e,r){let n=this._panel.webview.asWebviewUri(In.Uri.joinPath(this._extensionUri,"media","explainPlan.css")),i=Aye(),s=u4(r);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${this._panel.webview.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Query Execution Plan</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>Query Execution Plan</h2>
            <div class="header-actions">
                <button id="copyBtn" class="btn">\u{1F4CB} Copy Plan</button>
                <button id="expandAllBtn" class="btn">\u2795 Expand All</button>
                <button id="collapseAllBtn" class="btn">\u2796 Collapse All</button>
            </div>
        </div>

        ${e.warnings.length>0?`
        <div class="warnings-summary">
            <h3>\u26A0\uFE0F Performance Issues Detected (${e.warnings.length})</h3>
            <ul>
                ${e.warnings.map(o=>`<li class="warning-${o.type}">${o.icon} ${o.message}</li>`).join("")}
            </ul>
        </div>
        `:`
        <div class="no-warnings">
            <span>\u2705 No obvious performance issues detected</span>
        </div>
        `}

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-label">Total Cost:</span>
                <span class="stat-value">${e.totalCost>1e6?e.totalCost.toExponential(2):e.totalCost.toLocaleString()}</span>
            </div>
            <div class="stat">
                <span class="stat-label">Nodes:</span>
                <span class="stat-value">${f4(e.nodes)}</span>
            </div>
        </div>

        <div class="query-section">
            <h3>Query</h3>
            <pre class="query-text">${s}</pre>
        </div>

        <div class="plan-section">
            <h3>Execution Plan</h3>
            <div id="planTree" class="plan-tree">
                ${E4(e.nodes)}
            </div>
        </div>

        <div class="raw-section">
            <details>
                <summary>Raw Plan Output</summary>
                <pre class="raw-plan">${u4(e.rawText)}</pre>
            </details>
        </div>
    </div>

    <script nonce="${i}">
        const vscode = acquireVsCodeApi();
        
        document.getElementById('copyBtn').addEventListener('click', () => {
            vscode.postMessage({ command: 'copyPlan' });
        });

        document.getElementById('expandAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'block');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25BC');
        });

        document.getElementById('collapseAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25B6');
        });

        document.querySelectorAll('.toggle-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const node = e.target.closest('.plan-node');
                const children = node.querySelector('.node-children');
                if (children) {
                    const isHidden = children.style.display === 'none';
                    children.style.display = isHidden ? 'block' : 'none';
                    e.target.textContent = isHidden ? '\u25BC' : '\u25B6';
                }
            });
        });
    </script>
</body>
</html>`}}});var mye={};Dt(mye,{activate:()=>Nye,deactivate:()=>Oye});module.exports=eR(mye);var re=Z(require("vscode"));Rr();TR();var kr=Z(require("vscode")),xf=class t{constructor(e,r,n){this.extensionUri=r;this.connectionManager=n;this._disposables=[];this._panel=e,this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.html=this._getHtmlForWebview(this._panel.webview),this._panel.webview.onDidReceiveMessage(async i=>{switch(i.command){case"save":try{await this.connectionManager.saveConnection(i.data),kr.window.showInformationMessage(`Connection '${i.data.name}' saved and activated!`),this.sendConnectionsToWebview()}catch(s){let o=s instanceof Error?s.message:String(s);kr.window.showErrorMessage(`Error saving: ${o}`)}return;case"delete":try{await kr.window.showWarningMessage(`Are you sure you want to delete '${i.name}'?`,{modal:!0},"Yes","No")==="Yes"&&(await this.connectionManager.deleteConnection(i.name),kr.window.showInformationMessage(`Connection '${i.name}' deleted.`),this.sendConnectionsToWebview())}catch(s){let o=s instanceof Error?s.message:String(s);kr.window.showErrorMessage(`Error deleting: ${o}`)}return;case"loadConnections":this.sendConnectionsToWebview();return}},null,this._disposables)}async sendConnectionsToWebview(){let e=await this.connectionManager.getConnections(),r=this.connectionManager.getActiveConnectionName();await this._panel.webview.postMessage({command:"updateConnections",connections:e,activeName:r})}static createOrShow(e,r){let n=kr.window.activeTextEditor?kr.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n);return}let i=kr.window.createWebviewPanel("netezzaLogin","Connect to Netezza",n||kr.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getHtmlForWebview(e){let r=e.asWebviewUri(kr.Uri.joinPath(this.extensionUri,"netezza_icon64.png"));return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Connect to Netezza</title>
            <style>
                :root {
                    --container-paddding: 20px;
                    --input-padding-vertical: 6px;
                    --input-padding-horizontal: 8px;
                    --input-margin-vertical: 4px;
                    --input-margin-horizontal: 0;
                }
                body {
                    font-family: var(--vscode-font-family);
                    padding: 0;
                    margin: 0;
                    color: var(--vscode-foreground);
                    background-color: var(--vscode-editor-background);
                    display: flex;
                    height: 100vh;
                    overflow: hidden;
                }
                
                /* Sidebar */
                .sidebar {
                    width: 260px;
                    background-color: var(--vscode-sideBar-background);
                    border-right: 1px solid var(--vscode-panel-border);
                    display: flex;
                    flex-direction: column;
                    flex-shrink: 0;
                    user-select: none;
                }
                .sidebar-header {
                    padding: 10px 15px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    background-color: var(--vscode-sideBarSectionHeader-background);
                }
                .sidebar-title {
                    font-weight: bold;
                    font-size: 11px;
                    text-transform: uppercase;
                    color: var(--vscode-sideBarTitle-foreground);
                }
                .connection-list {
                    flex: 1;
                    overflow-y: auto;
                    padding: 0;
                }
                .connection-item {
                    padding: 8px 15px;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    border-left: 3px solid transparent;
                    color: var(--vscode-sideBar-foreground);
                }
                .connection-item:hover {
                    background-color: var(--vscode-list-hoverBackground);
                }
                .connection-item.active {
                    background-color: var(--vscode-list-activeSelectionBackground);
                    color: var(--vscode-list-activeSelectionForeground);
                    border-left-color: var(--vscode-focusBorder);
                }
                .connection-item .name {
                    flex: 1;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                .connection-item .status {
                    font-size: 0.8em;
                    margin-left: 5px;
                    opacity: 0.7;
                }

                /* Main Content */
                .main {
                    flex: 1;
                    padding: 40px;
                    overflow-y: auto;
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                }
                .form-container {
                    width: 100%;
                    max-width: 500px;
                    background-color: var(--vscode-editorWidget-background);
                    border: 1px solid var(--vscode-widget-border);
                    padding: 30px;
                    border-radius: 4px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
                
                h2 {
                    margin-top: 0;
                    margin-bottom: 25px;
                    font-size: 1.4em;
                    font-weight: 500;
                    padding-bottom: 10px;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .form-group {
                    margin-bottom: 18px;
                }
                .form-row {
                    display: flex;
                    gap: 15px;
                }
                .form-col {
                    flex: 1;
                }

                label {
                    display: block;
                    margin-bottom: 6px;
                    font-weight: 600;
                    font-size: 12px;
                    color: var(--vscode-input-placeholderForeground);
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }

                input, select {
                    width: 100%;
                    padding: 8px 10px;
                    box-sizing: border-box;
                    background: var(--vscode-input-background);
                    color: var(--vscode-input-foreground);
                    border: 1px solid var(--vscode-input-border);
                    border-radius: 2px;
                    font-family: inherit;
                    font-size: 13px;
                }
                input:focus, select:focus {
                    border-color: var(--vscode-focusBorder);
                    outline: 1px solid var(--vscode-focusBorder);
                }
                
                /* Buttons */
                .actions {
                    margin-top: 30px;
                    display: flex;
                    gap: 12px;
                    padding-top: 20px;
                    border-top: 1px solid var(--vscode-panel-border);
                }
                button {
                    background: var(--vscode-button-background);
                    color: var(--vscode-button-foreground);
                    padding: 8px 16px;
                    border: none;
                    cursor: pointer;
                    border-radius: 2px;
                    font-size: 13px;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                button:hover {
                    background: var(--vscode-button-hoverBackground);
                }
                button.secondary {
                    background: var(--vscode-button-secondaryBackground);
                    color: var(--vscode-button-secondaryForeground);
                }
                button.secondary:hover {
                    background: var(--vscode-button-secondaryHoverBackground);
                }
                button.danger {
                    background: var(--vscode-errorForeground);
                    color: white;
                }
                button.icon-btn {
                    padding: 4px;
                    background: transparent;
                    color: var(--vscode-icon-foreground);
                }
                button.icon-btn:hover {
                    background: var(--vscode-toolbar-hoverBackground);
                }

                .icon-img {
                    width: 16px;
                    height: 16px;
                    object-fit: contain;
                }
                .logo-header {
                    width: 32px;
                    height: 32px;
                    margin-right: 10px;
                }

            </style>
        </head>
        <body>
            <div class="sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-title">Saved Connections</span>
                    <button class="icon-btn" id="btnNew" title="New Connection">
                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14 7v1H8v6H7V8H1V7h6V1h1v6h6z"/></svg>
                    </button>
                </div>
                <div id="connectionList" class="connection-list"></div>
            </div>
            
            <div class="main">
                <div class="form-container">
                    <h2 id="formTitle">
                        <img src="${r}" class="logo-header" />
                        New Connection
                    </h2>
                    
                    <div class="form-group">
                        <label for="name">Connection Name</label>
                        <input type="text" id="name" placeholder="Friendly name (e.g. Production)">
                    </div>

                    <div class="form-group">
                        <label for="dbType">
                            Database Type 
                            <img src="${r}" class="icon-img" />
                        </label>
                        <select id="dbType">
                            <option value="NetezzaSQL">NetezzaSQL</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="host">Host</label>
                                <input type="text" id="host" placeholder="Hostname or IP">
                            </div>
                        </div>
                        <div class="form-col" style="flex: 0 0 80px;">
                            <div class="form-group">
                                <label for="port">Port</label>
                                <input type="number" id="port" value="5480">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="database">
                            Database
                        </label>
                        <input type="text" id="database" placeholder="Database name" value="system">
                    </div>

                    <div class="form-row">
                         <div class="form-col">
                            <div class="form-group">
                                <label for="user">User</label>
                                <input type="text" id="user" placeholder="Username">
                            </div>
                         </div>
                         <div class="form-col">
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" id="password" placeholder="Password">
                            </div>
                         </div>
                    </div>
                    
                    <div class="actions">
                        <button id="btnSave" onclick="save()">Save & Connect</button>
                        <button id="btnDelete" class="danger" onclick="del()" style="display: none;">Delete</button>
                    </div>
                </div>
            </div>

            <script>
                const vscode = acquireVsCodeApi();
                let connections = [];
                let activeName = null;
                let currentEditName = null;
                const iconSrc = "${r}";

                // Load initial data
                window.addEventListener('message', event => {
                    const message = event.data;
                    switch (message.command) {
                        case 'updateConnections':
                            connections = message.connections;
                            activeName = message.activeName;
                            renderList();
                            break;
                    }
                });
                
                vscode.postMessage({ command: 'loadConnections' });

                document.getElementById('btnNew').addEventListener('click', () => {
                    clearForm();
                });

                function renderList() {
                    const list = document.getElementById('connectionList');
                    list.innerHTML = '';
                    
                    connections.forEach(conn => {
                        const div = document.createElement('div');
                        div.className = 'connection-item';
                        if (conn.name === currentEditName) {
                             div.classList.add('active');
                        }
                        
                        div.innerHTML = \`<span class="name"><img src="\${iconSrc}" class="icon-img"> \${conn.name}</span>\`;
                        if (conn.name === activeName) {
                            div.innerHTML += \`<span class="status">\u25CF</span>\`;
                            div.title = 'Active Connection';
                        }
                        
                        div.onclick = () => loadForm(conn);
                        list.appendChild(div);
                    });
                }

                function loadForm(conn) {
                    currentEditName = conn.name;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> Edit Connection\`;
                    document.getElementById('name').value = conn.name;
                    document.getElementById('dbType').value = conn.dbType || 'NetezzaSQL';
                    document.getElementById('host').value = conn.host;
                    document.getElementById('port').value = conn.port;
                    document.getElementById('database').value = conn.database;
                    document.getElementById('user').value = conn.user;
                    document.getElementById('password').value = conn.password || ''; 
                    
                    document.getElementById('btnDelete').style.display = 'block';
                    renderList();
                }

                function clearForm() {
                    currentEditName = null;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> New Connection\`;
                    document.getElementById('name').value = '';
                    document.getElementById('dbType').value = 'NetezzaSQL';
                    document.getElementById('host').value = '';
                    document.getElementById('port').value = '5480';
                    document.getElementById('database').value = 'system';
                    document.getElementById('user').value = '';
                    document.getElementById('password').value = '';
                    
                    document.getElementById('btnDelete').style.display = 'none';
                    renderList();
                }

                function save() {
                    const name = document.getElementById('name').value;
                    if (!name) {
                        return; // Add validation UI?
                    }
                    
                    const data = {
                        name: name,
                        dbType: document.getElementById('dbType').value,
                        host: document.getElementById('host').value,
                        port: parseInt(document.getElementById('port').value),
                        database: document.getElementById('database').value,
                        user: document.getElementById('user').value,
                        password: document.getElementById('password').value
                    };
                    
                    vscode.postMessage({
                        command: 'save',
                        data: data
                    });
                }

                function del() {
                    if (currentEditName) {
                        vscode.postMessage({
                            command: 'delete',
                            name: currentEditName
                        });
                    }
                }
            </script>
        </body>
        </html>`}};var de=Z(require("vscode"));Rr();function ij(t,e,r){return`SELECT description FROM ${t}.._v_object_data WHERE objtype='TABLE' AND objname='${r}' AND schema='${e}'`}function AR(t,e,r){return`
        SELECT 
            X.ATTNAME
            , X.FORMAT_TYPE
            , CASE WHEN X.ATTNOTNULL THEN 1 ELSE 0 END AS IS_NOT_NULL
            , X.COLDEFAULT
            , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
            , MAX(CASE WHEN K.CONTYPE = 'p' THEN 1 ELSE 0 END) AS IS_PK
            , MAX(CASE WHEN K.CONTYPE = 'f' THEN 1 ELSE 0 END) AS IS_FK
        FROM
            ${t}.._V_RELATION_COLUMN X
        INNER JOIN
            ${t}.._V_OBJECT_DATA O ON X.OBJID = O.OBJID
        LEFT JOIN
            ${t}.._V_RELATION_KEYDATA K 
            ON UPPER(K.RELATION) = UPPER(O.OBJNAME) 
            AND UPPER(K.SCHEMA) = UPPER(O.SCHEMA)
            AND UPPER(K.ATTNAME) = UPPER(X.ATTNAME)
            AND K.CONTYPE IN ('p', 'f')
        WHERE
            UPPER(O.OBJNAME) = UPPER('${r}')
            AND UPPER(O.DBNAME) = UPPER('${t}')
            AND UPPER(O.SCHEMA) = UPPER('${e}')
        GROUP BY 
            X.ATTNAME, X.FORMAT_TYPE, X.ATTNOTNULL, X.COLDEFAULT, X.DESCRIPTION, X.ATTNUM
        ORDER BY 
            X.ATTNUM
    `}function sj(t){let e=!1,r=t.IS_NOT_NULL;return typeof r=="boolean"?e=r:typeof r=="number"?e=r===1:typeof r=="string"&&(e=r==="1"||r.toLowerCase()==="true"||r.toLowerCase()==="t"),{attname:t.ATTNAME,formatType:t.FORMAT_TYPE,isNotNull:e,colDefault:t.COLDEFAULT||null,description:t.DESCRIPTION||"",isPk:Number(t.IS_PK)===1,isFk:Number(t.IS_FK)===1}}function oj(t){if(!t)return null;try{let e=JSON.parse(t);if(e.length>0&&e[0].DESCRIPTION)return e[0].DESCRIPTION}catch{}return null}function _R(t){if(!t)return[];try{return JSON.parse(t).map(sj)}catch(e){return console.error("[TableMetadataProvider] Error parsing column metadata:",e),[]}}async function Sy(t,e,r,n){let i=ij(e,r,n),s=AR(e,r,n),[o,a]=await Promise.all([t(i),t(s)]);return{tableComment:oj(o),columns:_R(a)}}function py(t){return t.map(e=>({ATTNAME:e.attname,FORMAT_TYPE:e.formatType,IS_NOT_NULL:e.isNotNull?1:0,COLDEFAULT:e.colDefault,DESCRIPTION:e.description,IS_PK:e.isPk?1:0,IS_FK:e.isFk?1:0}))}var vf=class{constructor(e,r,n){this.context=e;this.connectionManager=r;this.metadataCache=n;this._onDidChangeTreeData=new de.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.connectionManager.onDidChangeConnections(()=>this.refresh())}refresh(){this._onDidChangeTreeData.fire()}triggerDatabasePrefetch(e,r){this.metadataCache.hasConnectionPrefetchTriggered(e)||(console.log(`[SchemaProvider] Triggering connection prefetch for: ${e}`),this.metadataCache.triggerConnectionPrefetch(e,async n=>{try{return await K(this.context,n,!0,e,this.connectionManager)}catch(i){console.error("[SchemaProvider] Prefetch query error:",i);return}}))}getTreeItem(e){return e}getParent(e){if(e.contextValue!=="serverInstance"){if(e.contextValue==="database")return new Xt(e.connectionName,de.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,e.connectionName,void 0);if(e.contextValue.startsWith("typeGroup"))return new Xt(e.dbName,de.TreeItemCollapsibleState.Collapsed,"database",e.dbName,void 0,void 0,void 0,void 0,e.connectionName);if(e.contextValue.startsWith("netezza:"))return new Xt(e.objType,de.TreeItemCollapsibleState.Collapsed,`typeGroup:${e.objType}`,e.dbName,e.objType,void 0,void 0,void 0,e.connectionName)}}async getChildren(e){if(e){if(e.contextValue==="serverInstance"){if(!e.connectionName)return[];let r=this.metadataCache.getDatabases(e.connectionName);if(r)return r.map(n=>new Xt(n.label||n.DATABASE,de.TreeItemCollapsibleState.Collapsed,"database",n.label||n.DATABASE,void 0,void 0,void 0,void 0,e.connectionName));try{let n=await K(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e.connectionName,this.connectionManager);if(!n)return[];let i=JSON.parse(n),s=i.map(o=>({DATABASE:o.DATABASE,label:o.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e.connectionName,s),i.map(o=>new Xt(o.DATABASE,de.TreeItemCollapsibleState.Collapsed,"database",o.DATABASE,void 0,void 0,void 0,void 0,e.connectionName))}catch(n){let i=n instanceof Error?n.message:String(n);return de.window.showErrorMessage(`Failed to load databases for ${e.connectionName}: ${i}`),[]}}else if(e.contextValue==="database"){if(e.connectionName&&e.dbName&&this.triggerDatabasePrefetch(e.connectionName,e.dbName),e.connectionName&&e.dbName){let r=this.metadataCache.getTypeGroups(e.connectionName,e.dbName);if(r&&r.length>0)return r.map(n=>new Xt(n,de.TreeItemCollapsibleState.Collapsed,`typeGroup:${n}`,e.dbName,n,void 0,void 0,void 0,e.connectionName))}try{let r=`SELECT DISTINCT OBJTYPE FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' ORDER BY OBJTYPE`,n=await K(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName){let s=i.map(o=>o.OBJTYPE);this.metadataCache.setTypeGroups(e.connectionName,e.dbName,s)}return i.map(s=>new Xt(s.OBJTYPE,de.TreeItemCollapsibleState.Collapsed,`typeGroup:${s.OBJTYPE}`,e.dbName,s.OBJTYPE,void 0,void 0,void 0,e.connectionName))}catch(r){let n=r instanceof Error?r.message:String(r);return de.window.showErrorMessage("Failed to load object types: "+n),[]}}else if(e.contextValue.startsWith("typeGroup")){if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW"||e.objType==="EXTERNAL TABLE")){let r=this.metadataCache.getObjectsWithSchema(e.connectionName,e.dbName);if(r&&r.length>0){let n=e.objType,i=r.filter(s=>{let o=s.item;return o.objType?o.objType===n:n==="VIEW"?o.kind===18:n==="TABLE"?o.kind!==18&&o.detail!=="EXTERNAL TABLE":n==="EXTERNAL TABLE"?o.detail==="EXTERNAL TABLE"||o.detail?.startsWith("EXTERNAL TABLE"):!1});if(i.length>0)return i.map(s=>{let o=s.item;return new Xt(typeof o.label=="string"?o.label:o.label?.label||"unknown",de.TreeItemCollapsibleState.Collapsed,`netezza:${e.objType}`,e.dbName,e.objType,s.schema,s.objId,void 0,e.connectionName)})}}try{let r;e.objType==="PROCEDURE"?r=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA, OBJID::INT AS OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_PROCEDURE WHERE DATABASE = '${e.dbName}' ORDER BY PROCEDURESIGNATURE`:r=`SELECT OBJNAME, SCHEMA, OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' AND OBJTYPE = '${e.objType}' ORDER BY OBJNAME`;let n=await K(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW")){let s=new Map;for(let o of i){let a=o.SCHEMA?`${e.dbName}.${o.SCHEMA}`:`${e.dbName}..`;s.has(a)||s.set(a,{tables:[],idMap:new Map});let l=s.get(a);l.tables.push({label:o.OBJNAME,kind:e.objType==="VIEW"?18:7,detail:o.SCHEMA?e.objType:`${e.objType} (${o.SCHEMA})`,sortText:o.OBJNAME});let c=o.SCHEMA?`${e.dbName}.${o.SCHEMA}.${o.OBJNAME}`:`${e.dbName}..${o.OBJNAME}`;l.idMap.set(c,o.OBJID)}}return i.map(s=>{let a=["TABLE","VIEW","EXTERNAL TABLE","SYSTEM VIEW","SYSTEM TABLE"].includes(e.objType||"");return new Xt(s.OBJNAME,a?de.TreeItemCollapsibleState.Collapsed:de.TreeItemCollapsibleState.None,`netezza:${e.objType}`,e.dbName,e.objType,s.SCHEMA,s.OBJID,s.DESCRIPTION,e.connectionName)})}catch(r){let n=r instanceof Error?r.message:String(r);return de.window.showErrorMessage("Failed to load objects: "+n),[]}}else if(e.contextValue.startsWith("netezza:")){let r=e.label,n=e.schema,i=e.dbName;if(e.connectionName&&i){let s=`${i}.${n||""}.${r}`,o=this.metadataCache.getColumns(e.connectionName,s);if(o&&o.length>0&&o[0].isPk!==void 0)return o.map(a=>new Xt(a.detail?`${a.label||a.ATTNAME} (${a.detail})`:a.label||a.ATTNAME,de.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,a.documentation||"",e.connectionName,r,void 0,a.isPk,a.isFk))}if(!e.connectionName||!i)return[];try{let s=AR(i,n||"",r),o=await K(this.context,s,!0,e.connectionName,this.connectionManager),a=_R(o),l=`${i}.${n||""}.${r}`,c=a.map(u=>({ATTNAME:u.attname,FORMAT_TYPE:u.formatType,label:u.attname,kind:5,detail:u.formatType,documentation:u.description,isPk:u.isPk,isFk:u.isFk}));return this.metadataCache.setColumns(e.connectionName,l,c),a.map(u=>new Xt(`${u.attname} (${u.formatType})`,de.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,u.description,e.connectionName,r,void 0,u.isPk,u.isFk))}catch(s){let o=s instanceof Error?s.message:String(s);return de.window.showErrorMessage("Failed to load columns: "+o),[]}}}else{let r=await this.connectionManager.getConnections(),n=de.Uri.file(this.context.asAbsolutePath("netezza_icon64.png"));return r.map(i=>new Xt(i.name,de.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,i.name,void 0,n))}return[]}},Xt=class extends de.TreeItem{constructor(r,n,i,s,o,a,l,c,u,E,d,f,T){super(r,n);this.label=r;this.collapsibleState=n;this.contextValue=i;this.dbName=s;this.objType=o;this.schema=a;this.objId=l;this.objectDescription=c;this.connectionName=u;this.parentName=E;this.isPk=f;this.isFk=T;let h=this.label;u&&(h+=`
[Server: ${u}]`),c&&c.trim()&&(h+=`

${c.trim()}`),a&&i.startsWith("netezza:")&&(h+=`

Schema: ${a}`),this.isPk&&(h+=`
\u{1F511} Primary Key`),this.isFk&&(h+=`
\u{1F517} Foreign Key`),this.tooltip=h,this.description=a?`(${a})`:"";let S=[u||"global",i,s||"",a||"",o||"",E||"",r,l?l.toString():""];this.id=S.join("|"),d?this.iconPath=d:i==="serverInstance"?this.iconPath=new de.ThemeIcon("server"):i==="database"?this.iconPath=new de.ThemeIcon("database"):i.startsWith("typeGroup")?this.iconPath=new de.ThemeIcon("folder"):i.startsWith("netezza:")?this.iconPath=this.getIconForType(o):i==="column"&&(this.isPk?this.iconPath=new de.ThemeIcon("key",new de.ThemeColor("charts.yellow")):this.isFk?this.iconPath=new de.ThemeIcon("link",new de.ThemeColor("charts.blue")):this.iconPath=new de.ThemeIcon("symbol-field"))}getIconForType(r){switch(r){case"TABLE":return new de.ThemeIcon("table");case"VIEW":return new de.ThemeIcon("eye");case"PROCEDURE":return new de.ThemeIcon("gear");case"FUNCTION":return new de.ThemeIcon("symbol-function");case"AGGREGATE":return new de.ThemeIcon("symbol-operator");case"EXTERNAL TABLE":return new de.ThemeIcon("server");default:return new de.ThemeIcon("file")}}};var Be=Z(require("vscode"));var Wr=Z(require("vscode")),Uf=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(i=>{switch(i.command){case"alert":Wr.window.showErrorMessage(i.text);return;case"info":Wr.window.showInformationMessage(i.text);return}},null,this._disposables)}static{this.viewType="netezza.analysisPanel"}static createOrShow(e,r){let n=Wr.window.activeTextEditor?Wr.ViewColumn.Beside:void 0,i=Wr.window.createWebviewPanel(t.viewType,"Data Analysis",n||Wr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Wr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(i,e,r)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){let r=this._panel.webview;this._panel.title="Data Analysis",this._panel.webview.html=this._getHtmlForWebview(r,e)}_getHtmlForWebview(e,r){let n=Wr.Uri.joinPath(this._extensionUri,"media","analysisPanel.js"),i=e.asWebviewUri(n),s=Wr.Uri.joinPath(this._extensionUri,"media","analysisPanel.css"),o=e.asWebviewUri(s),a=e.asWebviewUri(Wr.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),l=e.asWebviewUri(Wr.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),c=aj();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}'; font-src ${e.cspSource};">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${o}" rel="stylesheet">

            <title>Data Analysis</title>
        </head>
        <body>
            <div id="app">
                <div class="sidebar">
                    <div class="section">
                        <h3>Fields</h3>
                        <div id="fieldList" class="field-list"></div>
                    </div>
                </div>
                <div class="main-content">
                    <div class="filter-section" style="margin-bottom: 15px; display: flex; gap: 10px; align-items: center;">
                        <label for="dataFilter" style="font-weight: bold;">Filter:</label>
                        <input type="text" id="dataFilter" placeholder="Type to filter data..." style="flex: 1; padding: 6px 10px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); border-radius: 4px;">
                        <button id="applyFilter" style="padding: 6px 12px; cursor: pointer;">Apply</button>
                        <button id="clearFilter" style="padding: 6px 12px; cursor: pointer;">Clear</button>
                    </div>
                    <div class="config-zones">
                        <div class="zone-container">
                            <h4>Rows</h4>
                            <div id="rowsZone" class="drop-zone" data-zone="rows"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Columns</h4>
                            <div id="colsZone" class="drop-zone" data-zone="cols"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Values</h4>
                            <div id="valuesZone" class="drop-zone" data-zone="values"></div>
                        </div>
                    </div>
                    <div class="pivot-grid-container">
                        <div id="pivotGrid"></div>
                    </div>
                    <div class="chart-container" style="margin-top: 20px;">
                        <div class="chart-header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <h4 style="margin: 0;">Chart</h4>
                            <select id="chartType" style="padding: 4px;">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                            </select>
                        </div>
                        <canvas id="pivotChart" width="600" height="300" style="background: var(--vscode-editor-background); border: 1px solid var(--vscode-panel-border); border-radius: 4px;"></canvas>
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${a}"></script>
            <script nonce="${c}" src="${l}"></script>
            <script nonce="${c}">
                // Pass initial data to the script
                window.initialData = ${JSON.stringify(r)};
                window.TableCore = TableCore;
                window.VirtualCore = VirtualCore;
            </script>
            <script nonce="${c}" src="${i}"></script>
        </body>
        </html>`}};function aj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Bf=class{constructor(e){this._cspSource=e}generateHtml(e,r){let n=this._getIcons();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src ${this._cspSource} 'unsafe-inline'; worker-src ${this._cspSource} blob:; connect-src ${this._cspSource}; style-src ${this._cspSource} 'unsafe-inline';">
            <title>Query Results</title>
            <script src="${e.scriptUri}"></script>
            <script src="${e.virtualUri}"></script>
            <link rel="stylesheet" href="${e.styleUri}">
        </head>
        <body>
            <div id="sourceTabs" class="source-tabs"></div>
            <div id="resultSetTabs" class="result-set-tabs" style="display: none;"></div>
            
            <div class="controls">
                <input type="text" id="globalFilter" placeholder="Filter..." onkeyup="onFilterChanged()" style="background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); padding: 4px;">
                <button onclick="toggleRowView()" title="Toggle Row View">${n.eye} Row View</button>
                
                <!-- Split Button for Export -->
                <div class="split-btn-container">
                    <button id="exportMainBtn" class="split-btn-main" onclick="executeSplitExport()" title="Export results (Excel)">
                        ${n.excel} Excel
                    </button>
                    <button id="exportArrowBtn" class="split-btn-arrow" onclick="toggleExportMenu()" title="Select export format">
                        <svg width="10" height="10" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                            <path d="M8 11L3 6h10l-5 5z"/>
                        </svg>
                    </button>
                    <div id="exportMenu" class="split-btn-menu" style="display:none;">
                        <div class="split-btn-menu-item" onclick="selectExportFormat('excel')">
                            ${n.excel} Excel (XLSB)
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('csv')">
                            ${n.csv} CSV
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('json')">
                            ${n.json} JSON
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('xml')">
                            ${n.xml} XML
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('sql')">
                            ${n.sql} SQL INSERT
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('markdown')">
                            ${n.markdown} Markdown Table
                        </div>
                    </div>
                </div>

                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="copyAsExcel()" title="Copy results as Excel to clipboard">${n.excel} Excel Copy</button>
                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="selectAll()" title="Select all rows">${n.checkAll} Select All</button>
                <button onclick="copySelection(false)" title="Copy selected cells to clipboard">${n.copy} Copy</button>
                <button onclick="copySelection(true)" title="Copy selected cells with headers">${n.copy} Copy w/ Headers</button>
                <button onclick="clearAllFilters()" title="Clear all column filters">${n.clear} Clear Filters</button>
                <span id="rowCountInfo" style="margin-left: auto; font-size: 12px; opacity: 0.8;"></span>
            </div>

            <div id="groupingPanel" class="grouping-panel" ondragover="onDragOverGroup(event)" ondragleave="onDragLeaveGroup(event)" ondrop="onDropGroup(event)">
                <span style="opacity: 0.5;">Drag headers here to group</span>
            </div>

            <div id="mainSplitView" class="main-split-view">
                <div id="gridContainer"></div>
                <div id="rowViewPanel" class="row-view-panel">
                    <div class="row-view-header">
                        <span>Row Details & Comparison</span>
                        <span class="row-view-close" onclick="toggleRowView()">\xD7</span>
                    </div>
                    <div id="rowViewContent" class="row-view-content">
                        <div class="row-view-placeholder">Select 1 or 2 rows to view details or compare</div>
                    </div>
                </div>
            </div>
            
            <script>
                const vscode = acquireVsCodeApi();
                window.sources = ${r.sourcesJson};
                window.pinnedSources = new Set(${r.pinnedSourcesJson});
                window.pinnedResults = ${r.pinnedResultsJson};
                window.activeSource = ${r.activeSourceJson};
                window.resultSets = ${r.resultSetsJson};
                
                let grids = [];
                let activeGridIndex = window.resultSets && window.resultSets.length > 0 ? window.resultSets.length - 1 : 0;
                const workerUri = "${e.workerUri}";
            </script>
            <script src="${e.mainScriptUri}"></script>
            <script>
                // Initialize on load
                init();
            </script>
        </body>
        </html>`}_getIcons(){return{eye:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 3c-3 0-6 2.5-6 5s3 5 6 5 6-2.5 6-5-3-5-6-5zm0 9c-2.5 0-4.5-2-4.5-4S5.5 4 8 4s4.5 2 4.5 4-2 4.5-4.5 4.5z"/><circle cx="8" cy="8" r="2"/></svg>',excel:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/></svg>',copy:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4 4h7v2H4V4zm0 4h7v2H4V8zm0 4h7v2H4v-2zM2 1h12v14H2V1zm1 1v12h10V2H3z"/></svg>',csv:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13 2H6L2 6v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-1 11H4V7h3V4h5v9z"/></svg>',json:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M5 2c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2h-2V2H7v2H5V2zm0 12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-2h-2v2H7v-2H5v2zM2 7v2h2V7H2zm10 0v2h2V7h-2z"/></svg>',xml:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M11.5 1L7 15h2l4.5-14h-2zM4.5 1L0 15h2l4.5-14h-2z"/></svg>',sql:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 0C3.6 0 0 1.8 0 4v8c0 2.2 3.6 4 8 4s8-1.8 8-4V4c0-2.2-3.6-4-8-4zm0 2c3.3 0 6 1.3 6 3s-2.7 3-6 3-6-1.3-6-3 2.7-3 6-3zm0 12c-3.3 0-6-1.3-6-3V9c1.6 1.7 4.3 2 6 2s4.4-.3 6-2v2c0 1.7-2.7 3-6 3z"/></svg>',markdown:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14.5 2H1.5C.7 2 0 2.7 0 3.5v9C0 13.3.7 14 1.5 14h13c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5zM3 11V5l2 2 2-2v6H6V7l-1 1-1-1v4H3zm10 0h-2V9h-2v2H7V5h2v2h2V5h2v6z"/></svg>',export:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/><path d="M10 12L8 14L6 12" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>',checkAll:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13.485 1.929l1.414 1.414-9.9 9.9-4.243-4.242 1.415-1.415 2.828 2.829z"/></svg>',clear:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 7.293l4.146-4.147.708.708L8.707 8l4.147 4.146-.708.708L8 8.707l-4.146 4.147-.708-.708L7.293 8 3.146 3.854l.708-.708L8 7.293z"/></svg>'}}};var xc=class{constructor(e){this._resultsMap=new Map;this._pinnedSources=new Set;this._pinnedResults=new Map;this._autoPinnedResults=new Set;this._resultIdCounter=0;this._extensionUri=e}static{this.viewType="netezza.results"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[Be.Uri.joinPath(this._extensionUri,"media")]},e.webview.html=this._getHtmlForWebview(),e.webview.onDidReceiveMessage(i=>{switch(i.command){case"analyze":Uf.createOrShow(this._extensionUri,i.data);return;case"exportCsv":this.exportCsv(i.data);return;case"openInExcel":this.openInExcel(i.data,i.sql);return;case"copyAsExcel":this.copyAsExcel(i.data,i.sql);return;case"exportJson":this.exportJson(i.data);return;case"exportXml":this.exportXml(i.data);return;case"exportSqlInsert":this.exportSqlInsert(i.data);return;case"exportMarkdown":this.exportMarkdown(i.data);return;case"switchSource":this._activeSourceUri=i.sourceUri,this._updateWebview();return;case"togglePin":this._pinnedSources.has(i.sourceUri)?this._pinnedSources.delete(i.sourceUri):this._pinnedSources.add(i.sourceUri),this._updateWebview();return;case"toggleResultPin":this._toggleResultPin(i.sourceUri,i.resultSetIndex);return;case"switchToPinnedResult":this._switchToPinnedResult(i.resultId);return;case"unpinResult":this._pinnedResults.delete(i.resultId),this._updateWebview();return;case"closeSource":this.closeSource(i.sourceUri);return;case"copyToClipboard":Be.env.clipboard.writeText(i.text),Be.window.showInformationMessage("Copied to clipboard");return;case"info":Be.window.showInformationMessage(i.text);return;case"error":Be.window.showErrorMessage(i.text);return;case"setContext":Be.commands.executeCommand("setContext",i.key,i.value);return}})}triggerCopySelection(){this._postMessageToWebview({command:"copySelection"})}setActiveSource(e){this._resultsMap.has(e)&&this._activeSourceUri!==e&&(this._activeSourceUri=e,this._updateWebview())}startExecution(e){let r=this._resultsMap.get(e)||[],n,i=r.findIndex(E=>E.isLog);if(i!==-1){n=r[i];let E=new Date().toLocaleTimeString();n.data.push(["",""]),n.data.push([E,"--- New Execution Started ---"]),n.message="Execution started...",n.executionTimestamp=Date.now()}else n={columns:[{name:"Time",type:"string"},{name:"Message",type:"string"}],data:[],message:"Execution started...",executionTimestamp:Date.now(),isLog:!0,name:"Logs"};let s=Array.from(this._pinnedResults.entries()).filter(([E,d])=>d.sourceUri===e&&r[d.resultSetIndex]!==n).sort((E,d)=>E[1].resultSetIndex-d[1].resultSetIndex),o=[];s.forEach(([E,d])=>{d.resultSetIndex<r.length&&o.push(r[d.resultSetIndex])});let a=[n,...o];this._resultsMap.set(e,a),Array.from(this._pinnedResults.entries()).filter(([E,d])=>d.sourceUri===e).map(([E,d])=>E).forEach(E=>this._pinnedResults.delete(E));let c=`result_${++this._resultIdCounter}`,u=e.split(/[\\/]/).pop()||e;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:0,timestamp:Date.now(),label:`${u} - Logs`}),s.forEach(([E,d],f)=>{let T=`result_${++this._resultIdCounter}`;this._pinnedResults.set(T,{sourceUri:e,resultSetIndex:f+1,timestamp:Date.now(),label:`${u} - Result ${f+2}`})}),this._pinnedSources.add(e),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}log(e,r){let n=this._resultsMap.get(e);if(!n||n.length===0)return;let i=n.find(s=>s.isLog);if(i){let s=new Date().toLocaleTimeString();i.data.push([s,r]),this._updateWebview()}}finalizeExecution(e){for(let r of this._autoPinnedResults){let n=this._pinnedResults.get(r);n&&n.sourceUri===e&&this._pinnedResults.delete(r)}this._autoPinnedResults.clear()}updateResults(e,r,n=!1){this._resultsMap.has(r)||this._pinnedSources.add(r);let i=[];Array.isArray(e)?i=e:i=[e];let s=Date.now();i.forEach(f=>{f.executionTimestamp=s});let o=this._resultsMap.get(r)||[],a=o.find(f=>f.isLog),l=Array.from(this._pinnedResults.entries()).filter(f=>f[1].sourceUri===r).sort((f,T)=>f[1].resultSetIndex-T[1].resultSetIndex),c=[],u=new Map;a&&c.push(a),l.forEach(([f,T])=>{let h=o[T.resultSetIndex];h&&(h===a||c.includes(h)||c.push(h),u.set(f,h))});let E=c.length;c.push(...i);let d=r.split(/[\\\\/]/).pop()||r;if(i.forEach((f,T)=>{let h=`result_${++this._resultIdCounter}`,S=E+T;this._pinnedResults.set(h,{sourceUri:r,resultSetIndex:S,timestamp:Date.now(),label:f.isLog?`${d} - Logs`:`${d} - Result ${S}`}),this._autoPinnedResults.add(h)}),this._resultsMap.set(r,c),u.forEach((f,T)=>{let h=c.indexOf(f);if(h!==-1){let S=this._pinnedResults.get(T);S&&(S.resultSetIndex=h)}}),a&&!Array.from(u.values()).includes(a)){let T=`result_${++this._resultIdCounter}`,h=r.split(/[\\/]/).pop()||r;this._pinnedResults.set(T,{sourceUri:r,resultSetIndex:0,timestamp:Date.now(),label:`${h} - Logs`})}n||Array.from(this._resultsMap.keys()).filter(T=>T!==r&&!this._pinnedSources.has(T)).forEach(T=>{this._resultsMap.delete(T),Array.from(this._pinnedResults.entries()).filter(S=>S[1].sourceUri===T).map(([S,p])=>S).forEach(S=>this._pinnedResults.delete(S))}),this._activeSourceUri=r,this._view?(this._updateWebview(),this._view.show?.(!0)):Be.window.showInformationMessage('Query completed. Please open "Query Results" panel to view data.')}appendStreamingChunk(e,r,n,i){let s=this._resultsMap.get(e)||[];if(n.isFirstChunk&&n.columns.length>0){let o={columns:n.columns,data:n.rows,executionTimestamp:Date.now(),sql:i,limitReached:n.limitReached};s.findIndex(E=>E.isLog)>=0,s.push(o),this._resultsMap.set(e,s);let l=e.split(/[\\/]/).pop()||e,c=`result_${++this._resultIdCounter}`,u=s.length-1;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:u,timestamp:Date.now(),label:`${l} - Result ${u}`}),this._autoPinnedResults.add(c),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}else if(n.rows.length>0){let o=s[s.length-1];o&&!o.isLog&&(o.data.push(...n.rows),o.limitReached=n.limitReached,this._postMessageToWebview({command:"appendRows",resultSetIndex:s.length-1,rows:n.rows,totalRows:n.totalRowsSoFar,isLastChunk:n.isLastChunk,limitReached:n.limitReached}))}n.isLastChunk&&this._postMessageToWebview({command:"streamingComplete",resultSetIndex:s.length-1,totalRows:n.totalRowsSoFar,limitReached:n.limitReached})}_postMessageToWebview(e){this._view&&this._view.webview.postMessage(e)}_updateWebview(){this._view&&(this._view.webview.html=this._getHtmlForWebview())}_toggleResultPin(e,r){let n=Array.from(this._pinnedResults.entries()).find(i=>{let s=i[1];return s.sourceUri===e&&s.resultSetIndex===r});if(n)this._pinnedResults.delete(n[0]);else{let i=`result_${++this._resultIdCounter}`,s=Date.now(),a=`${e.split(/[\\/]/).pop()||e} - Result ${r+1}`;this._pinnedResults.set(i,{sourceUri:e,resultSetIndex:r,timestamp:s,label:a})}this._updateWebview()}_switchToPinnedResult(e){let r=this._pinnedResults.get(e);r&&(this._activeSourceUri=r.sourceUri,this._updateWebview(),this._view&&this._view.webview.postMessage({command:"switchToResultSet",resultSetIndex:r.resultSetIndex}))}async exportCsv(e){let r=await Be.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async openInExcel(e,r){Be.commands.executeCommand("netezza.exportCurrentResultToXlsbAndOpen",e,r)}async copyAsExcel(e,r){Be.commands.executeCommand("netezza.copyCurrentResultToXlsbClipboard",e,r)}async exportJson(e){let r=await Be.window.showSaveDialog({filters:{"JSON Files":["json"]},saveLabel:"Export JSON"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportXml(e){let r=await Be.window.showSaveDialog({filters:{"XML Files":["xml"]},saveLabel:"Export XML"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportSqlInsert(e){let r=await Be.window.showSaveDialog({filters:{"SQL Files":["sql"]},saveLabel:"Export SQL"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportMarkdown(e){let r=await Be.window.showSaveDialog({filters:{"Markdown Files":["md"]},saveLabel:"Export Markdown"});r&&(await Be.workspace.fs.writeFile(r,Buffer.from(e)),Be.window.showInformationMessage(`Results exported to ${r.fsPath}`))}closeSource(e){if(this._resultsMap.has(e)){if(this._resultsMap.delete(e),this._pinnedSources.delete(e),Array.from(this._pinnedResults.entries()).filter(([n,i])=>i.sourceUri===e).map(([n,i])=>n).forEach(n=>this._pinnedResults.delete(n)),this._activeSourceUri===e){let n=Array.from(this._resultsMap.keys());this._activeSourceUri=n.length>0?n[0]:void 0}this._updateWebview()}}_getHtmlForWebview(){if(!this._view)return"";let e=this._getScriptUris(),r=this._prepareViewData();return new Bf(this._view.webview.cspSource).generateHtml(e,r)}_getScriptUris(){return{scriptUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),virtualUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),mainScriptUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","resultPanel.js")),workerUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","searchWorker.js")),styleUri:this._view.webview.asWebviewUri(Be.Uri.joinPath(this._extensionUri,"media","resultPanel.css"))}}_prepareViewData(){let e=Array.from(this._resultsMap.keys()),r=Array.from(this._pinnedSources),n=Array.from(this._pinnedResults.entries()).map(([a,l])=>({id:a,...l})),i=this._activeSourceUri&&this._resultsMap.has(this._activeSourceUri)?this._activeSourceUri:e.length>0?e[0]:null,s=i?this._resultsMap.get(i):[],o=(a,l)=>typeof l=="bigint"?l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l):l.toString():l;return{sourcesJson:JSON.stringify(e),pinnedSourcesJson:JSON.stringify(r),pinnedResultsJson:JSON.stringify(n),activeSourceJson:JSON.stringify(i),resultSetsJson:JSON.stringify(s,o)}}};var $e=Z(require("vscode"));Rr();var Ff=class{constructor(e,r,n){this.context=e;this.metadataCache=r;this.connectionManager=n}async provideCompletionItems(e,r,n,i){let s=e.getText(),o=this.stripComments(s),a=this.parseLocalDefinitions(o),l=e.lineAt(r).text.substr(0,r.character),c=l.toUpperCase(),u=r.line>0?e.lineAt(r.line-1).text:"",E=this.connectionManager.getConnectionForExecution(e.uri.toString());if(E||(E=this.connectionManager.getActiveConnectionName()||void 0),E&&!this.metadataCache.hasConnectionPrefetchTriggered(E)&&this.metadataCache.triggerConnectionPrefetch(E,I=>K(this.context,I,!0,E,this.connectionManager)),/(FROM|JOIN)\s+$/.test(c)){let I=await this.getDatabases(E);return[...a.map(A=>{let O=new $e.CompletionItem(A.name,$e.CompletionItemKind.Class);return O.detail=A.type,O}),...I]}if(/(?:FROM|JOIN)\s*$/i.test(u)&&/^\s*[a-zA-Z0-9_]*$/.test(l)){let I=await this.getDatabases(E);return[...a.map(A=>{let O=new $e.CompletionItem(A.name,$e.CompletionItemKind.Class);return O.detail=A.type,O}),...I]}let d=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\s*$/i);if(d){let I=d[1],R=await this.getSchemas(E,I);return new $e.CompletionList(R,!1)}let f=l.match(/^\s*([a-zA-Z0-9_]+)\.\s*$/i);if(f&&/(?:FROM|JOIN)\s*$/i.test(u)){let I=f[1],R=await this.getSchemas(E,I);return new $e.CompletionList(R,!1)}let T=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.$/i);if(T){let I=T[1],R=T[2];return this.getTables(E,I,R)}let h=l.match(/^\s*([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.\s*$/i);if(h&&/(?:FROM|JOIN)\s*$/i.test(u)){let I=h[1],R=h[2];return this.getTables(E,I,R)}let S=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\.$/i);if(S){let I=S[1];return this.getTables(E,I,void 0)}let p=l.match(/^\s*([a-zA-Z0-9_]+)\.\.\s*$/i);if(p&&/(?:FROM|JOIN)\s*$/i.test(u)){let I=p[1];return this.getTables(E,I,void 0)}if(l.trim().endsWith(".")){let I=l.match(/([a-zA-Z0-9_]+)\.$/);if(I){let R=I[1],A=this.findAlias(o,R);if(A){let L=a.find(N=>N.name.toUpperCase()===A.table.toUpperCase());return L?L.columns.map(N=>{let D=new $e.CompletionItem(N,$e.CompletionItemKind.Field);return D.detail="Local Column",D}):this.getColumns(E,A.db,A.schema,A.table)}let O=a.find(L=>L.name.toUpperCase()===R.toUpperCase());if(O)return O.columns.map(L=>{let N=new $e.CompletionItem(L,$e.CompletionItemKind.Field);return N.detail="Local Column",N})}}return this.getKeywords()}stripComments(e){let r=e.replace(/--.*$/gm,"");return r=r.replace(/\/\*[\s\S]*?\*\//g,""),r}parseLocalDefinitions(e){let r=[],n=/CREATE\s+TABLE\s+([a-zA-Z0-9_]+)\s+AS\s*\(/gi,i;for(;(i=n.exec(e))!==null;){let a=i[1],l=i.index+i[0].length,c=this.extractBalancedParenthesisContent(e,l);if(c){let u=this.extractColumnsFromQuery(c);r.push({name:a,type:"Temp Table",columns:u})}}let s=/\bWITH\s+/gi;for(;(i=s.exec(e))!==null;){let a=i.index+i[0].length;for(;;){let l=/^\s*([a-zA-Z0-9_]+)\s+AS\s*\(/i,c=e.substring(a),u=c.match(l);if(!u)break;let E=u[1],d=c.indexOf("(",u.index+u[1].length),f=a+d,T=this.extractBalancedParenthesisContent(e,f+1);if(T){let h=this.extractColumnsFromQuery(T);r.push({name:E,type:"CTE",columns:h}),a=f+1+T.length+1;let S=/^\s*,/,p=e.substring(a);if(S.test(p)){let I=p.match(S);a+=I[0].length}else break}else break}}let o=/\bJOIN\s+\(/gi;for(;(i=o.exec(e))!==null;){let a=i.index+i[0].length,l=this.extractBalancedParenthesisContent(e,a);if(l&&/^\s*SELECT\b/i.test(l)){let c=a+l.length+1,E=e.substring(c).match(/^\s+(?:AS\s+)?([a-zA-Z0-9_]+)/i);if(E){let d=E[1],f=this.extractColumnsFromQuery(l);r.push({name:d,type:"Subquery",columns:f})}}}return r}extractBalancedParenthesisContent(e,r){let n=1,i=r;for(;i<e.length;i++)if(e[i]==="("?n++:e[i]===")"&&n--,n===0)return e.substring(r,i);return null}extractColumnsFromQuery(e){let r=e.match(/^\s*SELECT\s+/i);if(!r)return[];let n=r[0].length,i="",s=0,o=-1;for(let c=n;c<e.length;c++)if(e[c]==="("?s++:e[c]===")"&&s--,s===0&&e.substr(c).match(/^\s+FROM\b/i)){o=c;break}o!==-1?i=e.substring(n,o):i=e.substring(n);let a=[],l="";s=0;for(let c=0;c<i.length;c++){let u=i[c];u==="("?s++:u===")"&&s--,u===","&&s===0?(a.push(l.trim()),l=""):l+=u}return l.trim()&&a.push(l.trim()),a.map(c=>{let u=c.match(/\s+AS\s+([a-zA-Z0-9_]+)$/i);if(u)return u[1];let E=c.match(/\s+([a-zA-Z0-9_]+)$/i);if(E)return E[1];let d=c.split(".");return d[d.length-1]})}findAlias(e,r){let n=new RegExp("(?:FROM|JOIN)\\s+([a-zA-Z0-9_\\.]+)(?:\\s+(?:AS\\s+)?([a-zA-Z0-9_]+))?","gi"),i;for(;(i=n.exec(e))!==null;){let s=i[1],o=i[2];if(o&&o.toUpperCase()===r.toUpperCase()){let a=s.split(".");return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{schema:a[0],table:a[1]}:{table:a[0]}}else if(!o){let a=s.split(".");if(a[a.length-1].toUpperCase()===r.toUpperCase())return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{schema:a[0],table:a[1]}:{table:a[0]}}}return null}getKeywords(){return["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","DROP","TABLE","VIEW","DATABASE","JOIN","INNER","LEFT","RIGHT","OUTER","ON","AND","OR","NOT","NULL","IS","IN","BETWEEN","LIKE","AS","DISTINCT","CASE","WHEN","THEN","ELSE","END","WITH","UNION","ALL"].map(r=>{let n=new $e.CompletionItem(r,$e.CompletionItemKind.Keyword);return n.detail="SQL Keyword",n})}async getDatabases(e){if(!e)return[];let r=this.metadataCache.getDatabases(e);if(r)return r.map(n=>{let i=new $e.CompletionItem(n.label||n.DATABASE,n.kind||$e.CompletionItemKind.Module);return i.detail=n.detail,i});try{let i=await K(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e,this.connectionManager);if(!i)return[];let o=JSON.parse(i).map(a=>({DATABASE:a.DATABASE,label:a.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e,o),o.map(a=>{let l=new $e.CompletionItem(a.label,a.kind);return l.detail=a.detail,l})}catch(n){return console.error(n),[]}}async getSchemas(e,r){if(!e)return[];let n=this.metadataCache.getSchemas(e,r);if(n)return n.map(s=>{let o=new $e.CompletionItem(s.label||s.SCHEMA,s.kind||$e.CompletionItemKind.Folder);return o.detail=s.detail,o.insertText=s.insertText,o.sortText=s.sortText,o.filterText=s.filterText,o});let i=$e.window.setStatusBarMessage(`Fetching schemas for ${r}...`);try{let s=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,o=await K(this.context,s,!0,e,this.connectionManager);if(!o)return[];let l=JSON.parse(o).filter(c=>c.SCHEMA!=null&&c.SCHEMA!=="").map(c=>{let u=c.SCHEMA;return{SCHEMA:u,label:u,kind:19,detail:`Schema in ${r}`,insertText:u,sortText:u,filterText:u}});return this.metadataCache.setSchemas(e,r,l),l.map(c=>{let u=new $e.CompletionItem(c.label,c.kind);return u.detail=c.detail,u.insertText=c.insertText,u.sortText=c.sortText,u.filterText=c.filterText,u})}catch(s){return console.error("[SqlCompletion] Error in getSchemas:",s),[]}finally{i.dispose()}}async getTables(e,r,n){if(!e)return[];let i=n?`${r}.${n}`:`${r}..`,s=n?this.metadataCache.getTables(e,i):this.metadataCache.getTables(e,i)||this.metadataCache.getTablesAllSchemas(e,r);if(s)return s.map(l=>{let c=typeof l.label=="string"?l.label:l.label?.label||l.OBJNAME||l.TABLENAME||"?",u=new $e.CompletionItem(c,l.kind||$e.CompletionItemKind.Class);return u.detail=l.detail,u.sortText=l.sortText,u});let o=n?`Fetching tables for ${r}.${n}...`:`Fetching tables for ${r}...`,a=$e.window.setStatusBarMessage(o);try{let l="";n?l=`SELECT OBJNAME, OBJID FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND UPPER(SCHEMA) = UPPER('${n}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`:l=`SELECT OBJNAME, OBJID, SCHEMA FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`;let c=await K(this.context,l,!0,e,this.connectionManager);if(!c)return[];let u=JSON.parse(c),E=new Map,d=u.map(f=>{let T=f.OBJNAME,h=f.SCHEMA||n,S=h?`${r}.${h}.${f.OBJNAME}`:`${r}..${f.OBJNAME}`;return E.set(S,f.OBJID),{OBJNAME:f.OBJNAME,TABLENAME:f.OBJNAME,OBJID:f.OBJID,SCHEMA:h,label:T,kind:6,detail:n?"Table":`Table (${h})`,sortText:f.OBJNAME}});return this.metadataCache.setTables(e,i,d,E),d.map(f=>{let T=typeof f.label=="string"?f.label:f.label?.label||"?",h=new $e.CompletionItem(T,f.kind);return h.detail=f.detail,h.sortText=f.sortText,h})}catch(l){return console.error(l),[]}finally{a.dispose()}}async getColumns(e,r,n,i){if(!e)return[];let s,o=r?`${r}..`:"",a=n&&r?`${r}.${n}.${i}`:r?`${r}..${i}`:void 0;a&&(s=this.metadataCache.findTableId(e,a));let l=`${r||"CURRENT"}.${n||""}.${i}`,c=this.metadataCache.getColumns(e,l);if(c)return c.map(E=>{let d=new $e.CompletionItem(E.label||E.ATTNAME,E.kind||$e.CompletionItemKind.Field);return d.detail=E.detail,d});let u=$e.window.setStatusBarMessage(`Fetching columns for ${i}...`);try{let E="";if(s)E=`SELECT ATTNAME, FORMAT_TYPE FROM ${o}_V_RELATION_COLUMN WHERE OBJID = ${s} ORDER BY ATTNUM`;else{let h=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",S=r?`AND UPPER(O.DBNAME) = UPPER('${r}')`:"";E=`
                    SELECT C.ATTNAME, C.FORMAT_TYPE 
                    FROM ${o}_V_RELATION_COLUMN C
                    JOIN ${o}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) = UPPER('${i}') ${h} ${S}
                    ORDER BY C.ATTNUM
                `}let d=await K(this.context,E,!0,e,this.connectionManager);if(!d)return[];let T=JSON.parse(d).map(h=>({ATTNAME:h.ATTNAME,FORMAT_TYPE:h.FORMAT_TYPE,label:h.ATTNAME,kind:9,detail:h.FORMAT_TYPE}));if(this.metadataCache.setColumns(e,l,T),r){let h=this.context,S=this.metadataCache;setTimeout(async()=>{try{await S.prefetchColumnsForSchema(e,r,n,p=>K(h,p,!0,e,this.connectionManager))}catch(p){console.error("[SqlCompletion] Background column prefetch error:",p)}},100)}return T.map(h=>{let S=new $e.CompletionItem(h.label,h.kind);return S.detail=h.detail,S})}catch(E){return console.error(E),[]}finally{u.dispose()}}};var no=Z(require("vscode"));Rr();function lj(t){let e="",r=0;for(;r<t.length;){if(t[r]==="-"&&r+1<t.length&&t[r+1]==="-"){for(;r<t.length&&t[r]!==`
`;)r++;r<t.length&&(e+=" ",r++);continue}if(t[r]==="/"&&r+1<t.length&&t[r+1]==="*"){for(r+=2;r<t.length-1&&!(t[r]==="*"&&t[r+1]==="/");)r++;r<t.length-1&&(r+=2),e+=" ";continue}if(t[r]==="'"){for(r++;r<t.length;)if(t[r]==="'"&&r+1<t.length&&t[r+1]==="'")r+=2;else if(t[r]==="'"){r++;break}else r++;e+=" ";continue}e+=t[r],r++}return e}function IR(t,e){return lj(t).toUpperCase().includes(e.toUpperCase())}var vc=class{constructor(e,r,n,i){this._extensionUri=e;this.context=r;this.metadataCache=n;this.connectionManager=i;this.currentSearchId=0}static{this.viewType="netezza.search"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"search":await this.search(i.value);break;case"searchSource":await this.searchSourceCode(i.value);break;case"navigate":no.commands.executeCommand("netezza.revealInSchema",i);break}})}async search(e){if(!e||e.length<2)return;let r,n=no.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=no.window.setStatusBarMessage(`$(loading~spin) Searching for "${e}"...`),o=new Set;if(this._view){let u=this.metadataCache.search(e,r);if(u.length>0){let E=[];u.forEach(d=>{let f=`${d.name.toUpperCase().trim()}|${d.type.toUpperCase().trim()}|${(d.parent||"").toUpperCase().trim()}`;o.has(f)||(o.add(f),E.push({NAME:d.name,SCHEMA:d.schema||"",DATABASE:d.database||"",TYPE:d.type,PARENT:d.parent||"",DESCRIPTION:"Result from Cache",MATCH_TYPE:"NAME",connectionName:r}))}),E.sort((d,f)=>{let T=h=>h==="COLUMN"?2:1;return T(f.TYPE)-T(d.TYPE)?T(d.TYPE)-T(f.TYPE):d.NAME.localeCompare(f.NAME)}),E.length>0&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:E,append:!1})}else i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});this.metadataCache.hasAllObjectsPrefetchTriggered(r)||this.metadataCache.prefetchAllObjects(r,async E=>K(this.context,E,!0,r,this.connectionManager))}let l=`%${e.replace(/'/g,"''").toUpperCase()}%`,c=`
            SELECT * FROM (
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(OBJNAME) LIKE '${l}'
                UNION ALL
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'DESC' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(DESCRIPTION) LIKE '${l}' AND UPPER(OBJNAME) NOT LIKE '${l}'
                UNION ALL
                SELECT 2 AS PRIORITY, C.ATTNAME AS NAME, O.SCHEMA, O.DBNAME AS DATABASE, 'COLUMN' AS TYPE, O.OBJNAME AS PARENT,
                       COALESCE(C.DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_RELATION_COLUMN C
                JOIN _V_OBJECT_DATA O ON C.OBJID = O.OBJID
                WHERE UPPER(C.ATTNAME) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, V.VIEWNAME AS NAME, V.SCHEMA, V.DATABASE, 'VIEW' AS TYPE, '' AS PARENT, 
                       'Found in view definition' AS DESCRIPTION, 'DEFINITION' AS MATCH_TYPE
                FROM _V_VIEW V
                WHERE UPPER(V.DEFINITION) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, P.PROCEDURE AS NAME, P.SCHEMA, P.DATABASE, 'PROCEDURE' AS TYPE, '' AS PARENT, 
                       'Found in procedure source' AS DESCRIPTION, 'SOURCE' AS MATCH_TYPE
                FROM _V_PROCEDURE P
                WHERE UPPER(P.PROCEDURESOURCE) LIKE '${l}'
                UNION ALL
                SELECT 3 AS PRIORITY, E1.TABLENAME AS NAME, E1.SCHEMA, E1.DATABASE, 'EXTERNAL TABLE' AS TYPE, '' AS PARENT,
                       COALESCE(E2.EXTOBJNAME, '') AS DESCRIPTION, 'DATAOBJECT' AS MATCH_TYPE
                FROM _V_EXTERNAL E1
                JOIN _V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE AND E1.SCHEMA = E2.SCHEMA AND E1.TABLENAME = E2.TABLENAME
                WHERE UPPER(E2.EXTOBJNAME) LIKE '${l}'
            ) AS R
            ORDER BY PRIORITY, NAME
            LIMIT 100
        `;try{let u=await K(this.context,c,!0,r,this.connectionManager);if(i!==this.currentSearchId){s.dispose();return}if(u){let E=[];u==="Query executed successfully (no results)."||u.startsWith("Query executed successfully")?E=[]:E=JSON.parse(u);let d=[];E.forEach(f=>{let T=f,h=`${T.NAME.toUpperCase().trim()}|${T.TYPE.toUpperCase().trim()}|${(T.PARENT||"").toUpperCase().trim()}`;o.has(h)||(d.push({NAME:T.NAME,SCHEMA:T.SCHEMA,DATABASE:T.DATABASE,TYPE:T.TYPE,PARENT:T.PARENT,DESCRIPTION:T.DESCRIPTION,MATCH_TYPE:T.MATCH_TYPE,connectionName:r}),o.add(h))}),d.length>0&&this._view&&this._view.webview.postMessage({type:"results",data:d,append:!0})}}catch(u){console.error("Search error:",u),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:u instanceof Error?u.message:String(u)})}finally{s.dispose()}}async searchSourceCode(e){if(!e||e.length<2)return;let r,n=no.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=no.window.setStatusBarMessage(`$(loading~spin) Searching in source code for "${e}"...`);try{this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});let o=e.toUpperCase(),a=[],l=`
                SELECT VIEWNAME AS NAME, SCHEMA, DATABASE, DEFINITION AS SOURCE
                FROM _V_VIEW
            `;try{let u=await K(this.context,l,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let E=JSON.parse(u);for(let d of E)d.SOURCE&&IR(d.SOURCE,o)&&a.push({NAME:d.NAME,SCHEMA:d.SCHEMA,DATABASE:d.DATABASE,TYPE:"VIEW",PARENT:"",DESCRIPTION:"Found in view source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching views:",u)}let c=`
                SELECT PROCEDURE AS NAME, SCHEMA, DATABASE, PROCEDURESOURCE AS SOURCE
                FROM _V_PROCEDURE
            `;try{let u=await K(this.context,c,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let E=JSON.parse(u);for(let d of E)d.SOURCE&&IR(d.SOURCE,o)&&a.push({NAME:d.NAME,SCHEMA:d.SCHEMA,DATABASE:d.DATABASE,TYPE:"PROCEDURE",PARENT:"",DESCRIPTION:"Found in procedure source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching procedures:",u)}this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:a,append:!1})}catch(o){console.error("Source code search error:",o),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:o instanceof Error?o.message:String(o)})}finally{s.dispose()}}_getHtmlForWebview(e){return`<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Schema Search</title>
        <style>
            body { 
                font-family: var(--vscode-font-family); 
                padding: 0; 
                margin: 0;
                color: var(--vscode-foreground); 
                display: flex;
                flex-direction: column;
                height: 100vh;
                overflow: hidden;
            }
            .search-box { 
                display: flex; 
                gap: 5px; 
                padding: 10px;
                flex-shrink: 0;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            input { flex-grow: 1; padding: 5px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); }
            button {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: 6px;
                background-color: var(--vscode-button-secondaryBackground);
                color: var(--vscode-button-secondaryForeground);
                border: 1px solid var(--vscode-contrastBorder, transparent);
                padding: 4px 10px;
                cursor: pointer;
                border-radius: 2px;
                font-family: var(--vscode-font-family);
                font-size: 12px;
                line-height: 18px;
            }
            button:hover { background-color: var(--vscode-button-secondaryHoverBackground); }
            button.primary { background-color: var(--vscode-button-background); color: var(--vscode-button-foreground); }
            button.primary:hover { background-color: var(--vscode-button-hoverBackground); }
            #status { padding: 5px 10px; flex-shrink: 0; }
            .results { 
                list-style: none; 
                padding: 0; 
                margin: 0; 
                flex-grow: 1; 
                overflow-y: auto; 
            }
            .result-item { padding: 8px 10px; border-bottom: 1px solid var(--vscode-panel-border); display: flex; flex-direction: column; cursor: pointer; position: relative; }
            .result-item:hover { background: var(--vscode-list-hoverBackground); }
            .item-header { display: flex; justify-content: space-between; font-weight: bold; }
            .item-details { font-size: 0.9em; opacity: 0.8; display: flex; gap: 10px; }
            .type-badge { font-size: 0.8em; background: var(--vscode-badge-background); color: var(--vscode-badge-foreground); padding: 2px 5px; border-radius: 3px; }
            .tooltip { position: absolute; background: var(--vscode-editorHoverWidget-background); color: var(--vscode-editorHoverWidget-foreground); border: 1px solid var(--vscode-editorHoverWidget-border); padding: 8px; border-radius: 4px; font-size: 0.9em; max-width: 300px; word-wrap: break-word; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.2s, visibility 0.2s; pointer-events: none; }
            .result-item:hover .tooltip { opacity: 1; visibility: visible; }
            .tooltip.top { bottom: 100%; left: 0; margin-bottom: 5px; }
            .tooltip.bottom { top: 100%; left: 0; margin-top: 5px; }
            .cache-badge { background-color: var(--vscode-charts-green); color: white; padding: 1px 4px; border-radius: 2px; font-size: 0.7em; margin-left: 5px; }
            .spinner {
                border: 2px solid transparent;
                border-top: 2px solid var(--vscode-progressBar-background);
                border-radius: 50%;
                width: 14px;
                height: 14px;
                animation: spin 1s linear infinite;
                display: inline-block;
                vertical-align: middle;
                margin-right: 8px;
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            .options-row {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 5px 10px;
                font-size: 12px;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            .options-row label {
                display: flex;
                align-items: center;
                gap: 4px;
                cursor: pointer;
            }
            .options-row input[type="checkbox"] {
                margin: 0;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search tables, columns, view definitions, procedure source..." />
            <button id="searchBtn" class="primary">Search</button>
        </div>
        <div class="options-row">
            <label>
                <input type="checkbox" id="sourceOnlyCheck" />
                Source Code Only (exclude comments/strings)
            </label>
        </div>
        <div id="status"></div>
        <ul class="results" id="resultsList"></ul>

        <script>
            try {
            const vscode = acquireVsCodeApi();
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const sourceOnlyCheck = document.getElementById('sourceOnlyCheck');
            const resultsList = document.getElementById('resultsList');
            const status = document.getElementById('status');

            searchBtn.addEventListener('click', () => {
                const term = searchInput.value;
                if (term) {
                    status.innerHTML = '<span class="spinner"></span> Searching...';
                    const messageType = sourceOnlyCheck.checked ? 'searchSource' : 'search';
                    vscode.postMessage({ type: messageType, value: term });
                }
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchBtn.click();
                }
            });

            window.addEventListener('message', event => {
                const message = event.data;
                switch (message.type) {
                    case 'results':
                        status.textContent = '';
                        renderResults(message.data, message.append);
                        break;
                    case 'error':
                        status.textContent = 'Error: ' + message.message;
                        break;
                }
            });

            function renderResults(data, append) {
                if (!append) {
                    resultsList.innerHTML = '';
                }

                if (!data || data.length === 0) {
                    if (!append && resultsList.children.length === 0) {
                        status.textContent = 'No results found.';
                    }
                    return;
                }

                data.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'result-item';

                    const parentInfo = item.PARENT ? \`Parent: \${item.PARENT}\` : '';
                    const schemaInfo = item.SCHEMA ? \`Schema: \${item.SCHEMA}\` : '';
                    const databaseInfo = item.DATABASE ? \`Database: \${item.DATABASE}\` : '';
                    const description = item.DESCRIPTION && item.DESCRIPTION.trim() ? item.DESCRIPTION : '';
                    
                    // Add match type indicator
                    const matchTypeInfo = item.MATCH_TYPE === 'DEFINITION' ? 'Match in view definition' :
                                        item.MATCH_TYPE === 'SOURCE' ? 'Match in procedure source' :
                                        item.MATCH_TYPE === 'NAME' ? 'Match in name' : '';
                    
                    li.innerHTML = \`
                        <div class="item-header">
                            <span>\${item.NAME}</span>
                            <span class="type-badge">\${item.TYPE}</span>
                        </div>
                        <div class="item-details">
                            <span>\${databaseInfo}</span>
                            <span>\${schemaInfo}</span>
                            <span>\${parentInfo}</span>
                            \${matchTypeInfo ? \`<span style="font-style: italic; color: var(--vscode-descriptionForeground);">\${matchTypeInfo}</span>\` : ''}
                        </div>
                        \${description ? \`<div class="tooltip bottom">\${description}</div>\` : ''}
                    \`;
                    
                    // Add double-click handler to navigate to schema tree
                    li.addEventListener('dblclick', () => {
                        vscode.postMessage({ 
                            type: 'navigate', 
                            name: item.NAME,
                            schema: item.SCHEMA,
                            database: item.DATABASE,
                            objType: item.TYPE,
                            parent: item.PARENT,
                            connectionName: item.connectionName // Pass back connection name
                        });
                    });
                    
                    resultsList.appendChild(li);
                });
            }
            } catch (e) {
                document.body.innerHTML = '<pre style="color:red;">Error loading Schema Search: ' + e.message + '\\n' + e.stack + '</pre>';
            }
        </script>
    </body>
    </html>`}};io();var Pa=Z(require("vscode"));io();var Gf=class{provideDocumentLinks(e,r){let n=[],i=e.getText(),s=/[a-zA-Z0-9_"]+(\.[a-zA-Z0-9_"]*)+/g,o;for(;(o=s.exec(i))!==null;){let a=e.positionAt(o.index),l=e.positionAt(o.index+o[0].length),c=new Pa.Range(a,l),u=Dr.getObjectAtPosition(i,o.index+Math.floor(o[0].length/2));if(u){if(o[0].split(".").length===2&&!u.database&&this.isLikelyAliasReference(i,o.index))continue;let f={name:u.name,schema:u.schema,database:u.database},T=Pa.Uri.parse(`command:netezza.revealInSchema?${encodeURIComponent(JSON.stringify(f))}`),h=new Pa.DocumentLink(c,T);h.tooltip=`Reveal ${u.name} in Schema`,n.push(h)}}return n}isLikelyAliasReference(e,r){let i=e.substring(Math.max(0,r-200),r).replace(/--[^\n]*/g,"").replace(/\/\*[\s\S]*?\*\//g,"").toUpperCase();return/(?:FROM|JOIN)\s+[a-zA-Z0-9_"]*$/i.test(i)?!1:!!i.match(/\b(SELECT|WHERE|ON|HAVING|ORDER\s+BY|GROUP\s+BY|AND|OR|SET|VALUES)\b(?!.*\b(?:FROM|JOIN)\b)/)}};var Wf=Z(require("vscode")),Hf=class{provideFoldingRanges(e,r,n){let i=[],s=[],o=/^\s*--\s*REGION\b/i,a=/^\s*--\s*ENDREGION\b/i;for(let l=0;l<e.lineCount;l++){let u=e.lineAt(l).text;if(o.test(u))s.push(l);else if(a.test(u)&&s.length>0){let E=s.pop();i.push(new Wf.FoldingRange(E,l,Wf.FoldingRangeKind.Region))}}return i}};var Kt=Z(require("vscode"));wf();var Uc=class{constructor(e,r){this._extensionUri=e;this._context=r}static{this.viewType="netezza.queryHistory"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),this.sendHistoryToWebview(),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"refresh":this.refresh();break;case"clearAll":await this.clearAllHistory();break;case"deleteEntry":await this.deleteEntry(i.id,i.query);break;case"copyQuery":await Kt.env.clipboard.writeText(i.query),Kt.window.showInformationMessage("Query copied to clipboard");break;case"executeQuery":await this.executeQuery(i.query);break;case"getHistory":await this.sendHistoryToWebview();break;case"toggleFavorite":await this.toggleFavorite(i.id);break;case"updateEntry":await this.updateEntry(i.id,i.tags,i.description);break;case"requestEdit":await this.requestEdit(i.id);break;case"requestTagFilter":await this.requestTagFilter(i.tags);break;case"showFavoritesOnly":await this.sendFavoritesToWebview();break;case"filterByTag":await this.sendFilteredByTagToWebview(i.tag);break}})}refresh(){this._view&&this.sendHistoryToWebview()}async sendHistoryToWebview(){if(!this._view)return;let e=new pr(this._context),r=await e.getHistory(),n=await e.getStats();console.log("QueryHistoryView: sending history to webview, entries=",r.length),this._view.webview.postMessage({type:"historyData",history:r,stats:n})}async clearAllHistory(){await Kt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await new pr(this._context).clearHistory(),this.refresh(),Kt.window.showInformationMessage("Query history cleared"))}async deleteEntry(e,r){let n=r?`: ${r.substring(0,50)}${r.length>50?"...":""}`:"";await Kt.window.showWarningMessage(`Are you sure you want to delete this query${n}?`,{modal:!0},"Delete")==="Delete"&&(await new pr(this._context).deleteEntry(e),this.refresh())}async executeQuery(e){let r=await Kt.workspace.openTextDocument({content:e,language:"sql"});await Kt.window.showTextDocument(r)}async toggleFavorite(e){await new pr(this._context).toggleFavorite(e),this.refresh()}async updateEntry(e,r,n){await new pr(this._context).updateEntry(e,r,n),this.refresh(),Kt.window.showInformationMessage("Entry updated successfully")}async requestEdit(e){let i=(await new pr(this._context).getHistory()).find(a=>a.id===e);if(!i){Kt.window.showErrorMessage("Entry not found");return}let s=await Kt.window.showInputBox({prompt:"Enter tags (comma separated)",value:i.tags||"",placeHolder:"tag1, tag2, tag3"});if(s===void 0)return;let o=await Kt.window.showInputBox({prompt:"Enter description",value:i.description||"",placeHolder:"Description for this query"});o!==void 0&&await this.updateEntry(e,s,o)}async requestTagFilter(e){if(e.length===1)await this.sendFilteredByTagToWebview(e[0]);else if(e.length>1){let r=await Kt.window.showQuickPick(e,{placeHolder:"Filter by which tag?"});r&&await this.sendFilteredByTagToWebview(r)}}async sendFavoritesToWebview(){if(!this._view)return;let e=new pr(this._context),r=await e.getFavorites(),n=await e.getStats();this._view.webview.postMessage({type:"historyData",history:r,stats:n,filter:"favorites"})}async sendFilteredByTagToWebview(e){if(!this._view)return;let r=new pr(this._context),n=await r.getByTag(e),i=await r.getStats();this._view.webview.postMessage({type:"historyData",history:n,stats:i,filter:`tag: ${e}`})}_getHtmlForWebview(e){let r=e.asWebviewUri(Kt.Uri.joinPath(this._extensionUri,"media","queryHistory.css")),n=e.asWebviewUri(Kt.Uri.joinPath(this._extensionUri,"media","queryHistory.js"));return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src ${e.cspSource};">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Query History</title>
    <link href="${r}" rel="stylesheet">
</head>
<body>
    <div class="toolbar">
        <div class="toolbar-top">
            <input type="search" id="searchInput" placeholder="Search queries..." />
            <span class="stats" id="stats">Loading...</span>
        </div>
        <div class="toolbar-buttons">
            <button class="secondary" id="showAllBtn">\u{1F4DC} All</button>
            <button class="secondary" id="showFavoritesBtn">\u2B50 Favorites</button>
            <button class="secondary" id="refreshBtn">\u21BB Refresh</button>
            <button class="secondary" id="clearAllBtn">\u{1F5D1}\uFE0F Clear All</button>
        </div>
    </div>
    <div class="history-container" id="historyContainer">
        <div class="empty-state">
            <div class="empty-state-icon">\u{1F4DC}</div>
            <div>No query history yet</div>
        </div>
    </div>

    <script src="${n}"></script>
</body>
</html>`}};var mt=Z(require("vscode"));Rr();var Yf=class t{static{this.viewType="netezza.editData"}static async createOrShow(e,r,n,i){if(!r||!r.label||!r.dbName||!r.schema){mt.window.showErrorMessage("Invalid table selection");return}let s=r.label,o=r.schema,a=r.dbName,l=`${a}.${o}.${s}`,c=mt.window.createWebviewPanel(t.viewType,`Edit: ${s}`,mt.ViewColumn.One,{enableScripts:!0,localResourceRoots:[mt.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});c.webview.html=this._getHtmlForWebview(c.webview,e,l),this._loadData(c,a,o,s,r.connectionName,n,i),c.webview.onDidReceiveMessage(async u=>{try{switch(u.command){case"save":await this._handleSave(c,u.changes,l,r.connectionName,n,i),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"refresh":this._loadData(c,a,o,s,r.connectionName,n,i);break;case"updateTableComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON TABLE ${l} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Table comment updated");break;case"updateColumnComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON COLUMN ${l}.${u.column} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Column comment updated");break;case"addColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} ADD COLUMN ${u.name} ${u.type}`,`Column ${u.name} added`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"dropColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} DROP COLUMN ${u.column}`,`Column ${u.column} dropped`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"error":mt.window.showErrorMessage(u.text);break;case"info":mt.window.showInformationMessage(u.text);break}}catch(E){mt.window.showErrorMessage(`Error: ${E instanceof Error?E.message:String(E)}`)}})}static async _execSimpleCommand(e,r,n,i,s,o=!1){try{await K(e,i,!0,n,r),mt.window.showInformationMessage(s)}catch(a){mt.window.showErrorMessage(`Operation failed: ${a instanceof Error?a.message:String(a)}`)}}static async _loadData(e,r,n,i,s,o,a){let l=`${r}.${n}.${i}`;try{e.webview.postMessage({command:"setLoading",loading:!0,message:"Fetching data..."});let c=S=>K(o,S,!0,s,a),[u,E]=await Promise.all([K(o,`SELECT ROWID, * FROM ${l} LIMIT 50000`,!0,s,a),Sy(c,r,n,i)]),d=E.tableComment||"",f=py(E.columns),T=[];try{let S=u||"[]";console.log("[EditDataProvider] dataResult type:",typeof S,"length:",typeof S=="string"?S.length:"N/A"),console.log("[EditDataProvider] dataResult preview:",typeof S=="string"?S.substring(0,200):"array"),typeof S=="string"?S.trim().startsWith("[")?T=JSON.parse(S):(console.log("[EditDataProvider] dataResult is NOT JSON array:",S.substring(0,100)),T=[]):Array.isArray(S)&&(T=S),console.log("[EditDataProvider] Parsed data rows:",T.length)}catch(S){console.error("[EditDataProvider] Data Parse Error",S)}let h=[];f.length>0?h=["ROWID",...f.map(S=>S.ATTNAME)]:T.length>0&&(h=Object.keys(T[0])),console.log("[EditDataProvider] Sending to webview:",{dataRows:T.length,columns:h.length}),e.webview.postMessage({command:"setData",data:T,columns:h,metadata:{tableComment:d,columns:f}})}catch(c){let u=c instanceof Error?c.message:String(c);mt.window.showErrorMessage(`Failed to load data: ${u}`),e.webview.postMessage({command:"setError",text:u})}finally{e.webview.postMessage({command:"setLoading",loading:!1})}}static async _handleSave(e,r,n,i,s,o){let a=[];if(r.deletes&&r.deletes.length>0){let l=r.deletes.join(",");a.push(`DELETE FROM ${n} WHERE ROWID IN (${l})`)}if(r.updates&&r.updates.length>0)for(let l of r.updates){let c=[];for(let[u,E]of Object.entries(l.changes))u!=="ROWID"&&c.push(`${u} = ${this._formatValue(E)}`);c.length>0&&a.push(`UPDATE ${n} SET ${c.join(", ")} WHERE ROWID = ${l.rowId}`)}if(r.inserts&&r.inserts.length>0)for(let l of r.inserts){let c=Object.keys(l).filter(E=>E!=="ROWID");if(c.length===0)continue;let u=c.map(E=>this._formatValue(l[E]));a.push(`INSERT INTO ${n} (${c.join(", ")}) VALUES (${u.join(", ")})`)}if(a.length===0){mt.window.showInformationMessage("No changes to save.");return}try{let l=["BEGIN",...a,"COMMIT"];await Mc(s,l,o),mt.window.showInformationMessage(`Successfully executed ${a.length} changes.`)}catch(l){mt.window.showErrorMessage(`Failed to save changes: ${l instanceof Error?l.message:String(l)}`)}}static _formatValue(e){return e==null||e===""?"NULL":typeof e=="number"?e.toString():typeof e=="boolean"?e?"TRUE":"FALSE":`'${String(e).replace(/'/g,"''")}'`}static _getHtmlForWebview(e,r,n){let i=e.asWebviewUri(mt.Uri.joinPath(r,"media","tanstack-table-core.js")),s=e.asWebviewUri(mt.Uri.joinPath(r,"media","tanstack-virtual-core.js")),o=e.asWebviewUri(mt.Uri.joinPath(r,"media","editDataPanel.js")),a=e.asWebviewUri(mt.Uri.joinPath(r,"media","editDataPanel.css")),l=e.asWebviewUri(mt.Uri.joinPath(r,"media","codicon.ttf")),c=cj();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; font-src ${e.cspSource}; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}';">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${a}" rel="stylesheet">
            <style>
                @font-face {
                    font-family: 'codicon';
                    src: url('${l}') format('truetype');
                }
                .codicon { font-family: 'codicon'; }
            </style>
            <script nonce="${c}" src="${i}"></script>
            <script nonce="${c}" src="${s}"></script>
            <title>Edit Data: ${n}</title>
        </head>
        <body>
            <div class="main-layout">
                <!-- Tabs Header -->
                <div class="tabs-header">
                    <div class="tab active" data-target="tab-data">
                        Data
                    </div>
                    <div class="tab" data-target="tab-metadata">
                        Table Description
                    </div>
                </div>

                <!-- Tab: Data -->
                <div id="tab-data" class="tab-content active">
                    <div class="toolbar">
                        <span id="status" class="status"></span>
                        <div class="actions">
                            <button id="refreshBtn">Refresh</button>
                            <button id="addRowBtn">Add Row</button>
                            <button id="saveBtn" class="primary">Save Changes</button>
                        </div>
                    </div>
                    <div id="gridContainer" class="grid-container"></div>
                </div>

                <!-- Tab: Metadata -->
                <div id="tab-metadata" class="tab-content">
                    <div id="metadataContent" class="metadata-content">
                        <!-- Populated by JS -->
                        Loading metadata...
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${o}"></script>
        </body>
        </html>`}};function cj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function NR(t,e){return e?t.startsWith(`${e}|`):!0}function Nn(t){if(!t||typeof t!="object")return;let e=t;if(e.label)return typeof e.label=="string"?e.label:e.label.label}function $f(t){let e={};return t.forEach((r,n)=>{e[n]=r}),e}function Ay(t){let e={};return t.forEach((r,n)=>{let i={};r.data.forEach((s,o)=>{i[o]=s}),e[n]={data:i,timestamp:r.timestamp}}),e}function mR(t,e,r){return e?`${t}.${e}.${r}`:`${t}..${r}`}var Vf=class{constructor(){this.dbCache=new Map;this.schemaCache=new Map;this.tableCache=new Map;this.columnCache=new Map;this.tableIdMap=new Map;this.typeGroupCache=new Map}setOnDataChange(e){this.onDataChange=e}clearAll(){this.dbCache.clear(),this.schemaCache.clear(),this.tableCache.clear(),this.columnCache.clear(),this.tableIdMap.clear(),this.typeGroupCache.clear()}getDatabases(e){return this.dbCache.get(e)?.data}setDatabases(e,r){this.dbCache.set(e,{data:r,timestamp:Date.now()}),this.onDataChange?.("db")}getSchemas(e,r){let n=`${e}|${r}`;return this.schemaCache.get(n)?.data}setSchemas(e,r,n){let i=`${e}|${r}`;this.schemaCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("schema")}getTables(e,r){let n=`${e}|${r}`;return this.tableCache.get(n)?.data}getTablesAllSchemas(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n))for(let l of a.data){let c=Nn(l);c&&!s.has(c.toUpperCase())&&(s.add(c.toUpperCase()),i.push(l))}return i.length>0?i:void 0}setTables(e,r,n,i){let s=Date.now(),o=`${e}|${r}`;this.tableCache.set(o,{data:n,timestamp:s}),this.tableIdMap.set(o,{data:i,timestamp:s}),this.onDataChange?.("table")}getObjectsWithSchema(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n)||o===`${e}|${r}..`){let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),E=(u.length>1?u[1]:"")||"",d=this.tableIdMap.get(o);for(let f of a.data){let T=Nn(f),h=`${E}.${T}`;if(T&&!s.has(h)){s.add(h);let S;if(d){let p=mR(r,E||void 0,T);S=d.data.get(p)}i.push({item:f,schema:E,objId:S})}}}return i}getColumns(e,r){let n=`${e}|${r}`;return this.columnCache.get(n)?.data}setColumns(e,r,n){let i=`${e}|${r}`;this.columnCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("column")}findTableId(e,r){let n=`${e}|`;for(let[i,s]of this.tableIdMap)if(i.startsWith(n)){let o=s.data.get(r);if(o!==void 0)return o}}getTypeGroups(e,r){let n=`${e}|${r}`;return this.typeGroupCache.get(n)?.data}setTypeGroups(e,r,n){let i=`${e}|${r}`;this.typeGroupCache.set(i,{data:n,timestamp:Date.now()})}findObjectWithType(e,r,n,i){let s=`${e}|`,o=i.toUpperCase();for(let[a,l]of this.tableCache){if(!a.startsWith(s))continue;let c=a.split("|");if(c.length<2)continue;let E=c[1].split("."),d=E[0],f=E.length>1?E[1]:void 0;if(d.toUpperCase()===r.toUpperCase()&&!(n!==void 0&&n!==""&&f?.toUpperCase()!==n.toUpperCase()))for(let T of l.data){let h=Nn(T);if(h?.toUpperCase()===o){let S=T.objType||(T.kind===18?"VIEW":"TABLE"),p=mR(d,f,h),R=this.tableIdMap.get(a)?.data.get(p);if(R!==void 0)return{objId:R,objType:S,schema:f||"",name:h||i}}}}}invalidateSchema(e,r,n){let i=n?`${r}.${n}`:`${r}..`,s=`${e}|${i}`;this.tableCache.has(s)&&(this.tableCache.delete(s),this.tableIdMap.delete(s),this.onDataChange?.("table"),console.log(`[CacheStorage] Invalidated cache for ${s}`))}getDbCacheMap(){return this.dbCache}getSchemaCacheMap(){return this.schemaCache}getTableCacheMap(){return this.tableCache}getTableIdMapMap(){return this.tableIdMap}loadDbCache(e){this.dbCache=e}loadSchemaCache(e){this.schemaCache=e}loadTableCache(e){this.tableCache=e}loadTableIdMap(e){this.tableIdMap=e}};var qf=Z(require("vscode"));var kf=class{constructor(e,r){this.context=e;this.storage=r;this.CACHE_TTL=14400*1e3;this.savePending=!1;this.context.storageUri&&(this.cacheFilePath=qf.Uri.joinPath(this.context.storageUri,"schema-cache.json").fsPath,this.ensureStorageDir())}async ensureStorageDir(){if(this.context.storageUri)try{await qf.workspace.fs.createDirectory(this.context.storageUri)}catch{}}async initialize(){try{let e=["sqlCompletion.dbCache","sqlCompletion.schemaCache","sqlCompletion.tableCache","sqlCompletion.columnCache","sqlCompletion.tableIdMap"];for(let r of e)this.context.workspaceState.get(r)!==void 0&&await this.context.workspaceState.update(r,void 0)}catch(e){console.error("[CachePersistence] Error cleaning up legacy workspace state:",e)}if(this.cacheFilePath)try{let e=require("fs");if(e.existsSync(this.cacheFilePath)){let r=await e.promises.readFile(this.cacheFilePath,"utf-8"),n=JSON.parse(r),i=Date.now();if(n.dbCache){let s=new Map;for(let[o,a]of Object.entries(n.dbCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadDbCache(s)}if(n.schemaCache){let s=new Map;for(let[o,a]of Object.entries(n.schemaCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadSchemaCache(s)}if(n.tableCache){let s=new Map;for(let[o,a]of Object.entries(n.tableCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadTableCache(s)}if(n.tableIdMap){let s=new Map;for(let[o,a]of Object.entries(n.tableIdMap))(this.storage.getTableCacheMap().has(o)||i-a.timestamp<this.CACHE_TTL)&&s.set(o,{data:new Map(Object.entries(a.data)),timestamp:a.timestamp});this.storage.loadTableIdMap(s)}}}catch(e){console.error("[CachePersistence] Error loading cache from disk:",e)}}scheduleSave(e){this.savePending||(this.savePending=!0,this.saveTimeoutId=setTimeout(()=>this.flushSave(),2e3))}async flushSave(){if(this.savePending=!1,!!this.cacheFilePath)try{let e=require("fs"),r={dbCache:$f(this.storage.getDbCacheMap()),schemaCache:$f(this.storage.getSchemaCacheMap()),tableCache:$f(this.storage.getTableCacheMap()),tableIdMap:Ay(this.storage.getTableIdMapMap())};await e.promises.writeFile(this.cacheFilePath,JSON.stringify(r),"utf-8")}catch(e){console.error("[CachePersistence] Error saving cache to disk:",e)}}async clearCache(){if(this.saveTimeoutId&&(clearTimeout(this.saveTimeoutId),this.saveTimeoutId=void 0),this.savePending=!1,this.storage.clearAll(),this.cacheFilePath)try{let e=require("fs");e.existsSync(this.cacheFilePath)&&await e.promises.unlink(this.cacheFilePath)}catch(e){console.error("[CachePersistence] Error clearing cache file:",e)}}};var Xf=class{constructor(e){this.storage=e;this.columnPrefetchInProgress=new Set;this.allObjectsPrefetchTriggeredSet=new Set;this.connectionPrefetchTriggered=new Set;this.connectionPrefetchInProgress=new Set}async prefetchColumnsForSchema(e,r,n,i){let s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;if(this.columnPrefetchInProgress.has(o))return;let a=this.storage.getTables(e,s);if(!(!a||a.length===0)){this.columnPrefetchInProgress.add(o);try{let l=[];for(let u of a){let E=Nn(u);if(!E)continue;let d=`${r}.${n||""}.${E}`;this.storage.getColumns(e,d)||l.push(E)}if(l.length===0)return;let c=10;for(let u=0;u<l.length;u+=c){let d=l.slice(u,u+c).map(S=>`'${S}'`).join(","),f=`${r}..`,T=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",h=`
                    SELECT O.OBJNAME AS TABLENAME, C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                    FROM ${f}_V_RELATION_COLUMN C
                    JOIN ${f}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) IN (${d.toUpperCase()}) 
                    ${T}
                    AND UPPER(O.DBNAME) = UPPER('${r}')
                    ORDER BY O.OBJNAME, C.ATTNUM
                `;try{let S=await i(h);if(S){let p=JSON.parse(S),I=new Map;for(let R of p){let A=R.TABLENAME;I.has(A)||I.set(A,[]),I.get(A).push({ATTNAME:R.ATTNAME,FORMAT_TYPE:R.FORMAT_TYPE,label:R.ATTNAME,kind:5,detail:R.FORMAT_TYPE})}for(let[R,A]of I){let O=`${r}.${n||""}.${R}`;this.storage.setColumns(e,O,A)}}}catch(S){console.error("[CachePrefetcher] Error fetching batch columns:",S)}}}finally{this.columnPrefetchInProgress.delete(o)}}}async prefetchAllObjects(e,r){let n=`ALL_OBJECTS|${e}`;if(!this.allObjectsPrefetchTriggeredSet.has(n)){this.allObjectsPrefetchTriggeredSet.add(n),console.log(`[CachePrefetcher] Starting background prefetch of all objects (Connection: ${e})`);try{let s=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW') 
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!s)return;let o=JSON.parse(s),a=new Map;for(let l of o){let c=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}`:`${l.DBNAME}..`;a.has(c)||a.set(c,{tables:[],idMap:new Map});let u=a.get(c);u.tables.push({OBJNAME:l.OBJNAME,label:l.OBJNAME,kind:l.OBJTYPE==="VIEW"?18:6,detail:l.SCHEMA?l.OBJTYPE==="VIEW"?"View":"Table":`${l.OBJTYPE==="VIEW"?"View":"Table"} (${l.SCHEMA})`,objType:l.OBJTYPE,OBJID:l.OBJID,SCHEMA:l.SCHEMA});let E=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}.${l.OBJNAME}`:`${l.DBNAME}..${l.OBJNAME}`;u.idMap.set(E,l.OBJID)}for(let[l,c]of a)this.storage.setTables(e,l,c.tables,c.idMap);console.log(`[CachePrefetcher] Prefetched tables for ${a.size} schema(s) on ${e}`)}catch(i){console.error("[CachePrefetcher] Error in prefetchAllObjects:",i)}}}hasAllObjectsPrefetchTriggered(e){return this.allObjectsPrefetchTriggeredSet.has(`ALL_OBJECTS|${e}`)}hasConnectionPrefetchTriggered(e){return this.connectionPrefetchTriggered.has(e)}triggerConnectionPrefetch(e,r){this.connectionPrefetchTriggered.has(e)||this.connectionPrefetchInProgress.has(e)||(this.connectionPrefetchInProgress.add(e),console.log(`[CachePrefetcher] Starting eager prefetch for connection: ${e}`),this.executeConnectionPrefetch(e,r).catch(n=>console.error("[CachePrefetcher] Connection prefetch error:",n)).finally(()=>{this.connectionPrefetchInProgress.delete(e),this.connectionPrefetchTriggered.add(e),console.log(`[CachePrefetcher] Completed eager prefetch for connection: ${e}`)}))}async executeConnectionPrefetch(e,r){let n=await this.prefetchDatabases(e,r);if(!(!n||n.length===0)){for(let i of n)await this.prefetchSchemasForDb(e,i,r),await new Promise(s=>setTimeout(s,50));await this.prefetchAllTablesAndViews(e,r),await this.prefetchAllColumnsForConnection(e,r)}}async prefetchDatabases(e,r){if(this.storage.getDatabases(e))return this.storage.getDatabases(e)?.map(i=>Nn(i)).filter(Boolean)||[];try{let i=await r("SELECT DATABASE FROM system.._v_database ORDER BY DATABASE");if(!i)return[];let s=JSON.parse(i),o=s.map(a=>({DATABASE:a.DATABASE,label:a.DATABASE,kind:9,detail:"Database"}));return this.storage.setDatabases(e,o),s.map(a=>a.DATABASE)}catch(n){return console.error("[CachePrefetcher] prefetchDatabases error:",n),[]}}async prefetchSchemasForDb(e,r,n){if(!this.storage.getSchemas(e,r))try{let i=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,s=await n(i);if(!s)return;let a=JSON.parse(s).filter(l=>l.SCHEMA!=null&&l.SCHEMA!=="").map(l=>({SCHEMA:l.SCHEMA,label:l.SCHEMA,kind:19,detail:`Schema in ${r}`,insertText:l.SCHEMA,sortText:l.SCHEMA,filterText:l.SCHEMA}));this.storage.setSchemas(e,r,a)}catch(i){console.error(`[CachePrefetcher] prefetchSchemasForDb error for ${r}:`,i)}}async prefetchAllTablesAndViews(e,r){try{let i=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!i)return;let s=JSON.parse(i),o=new Map;for(let a of s){let l=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}`:`${a.DBNAME}..`;o.has(l)||o.set(l,{tables:[],idMap:new Map});let c=o.get(l);c.tables.push({OBJNAME:a.OBJNAME,label:a.OBJNAME,kind:a.OBJTYPE==="VIEW"?18:6,detail:a.SCHEMA?a.OBJTYPE:`${a.OBJTYPE} (${a.SCHEMA})`,objType:a.OBJTYPE});let u=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}.${a.OBJNAME}`:`${a.DBNAME}..${a.OBJNAME}`;c.idMap.set(u,a.OBJID)}for(let[a,l]of o)this.storage.getTables(e,a)||this.storage.setTables(e,a,l.tables,l.idMap);console.log(`[CachePrefetcher] Prefetched tables/views for ${o.size} schema(s)`)}catch(n){console.error("[CachePrefetcher] prefetchAllTablesAndViews error:",n)}}async prefetchAllColumnsForConnection(e,r){try{let n=`${e}|`,i=[];for(let[a,l]of this.storage.tableCache){if(!a.startsWith(n))continue;let c=a.split("|");if(c.length<2)continue;let E=c[1].split("."),d=E[0],f=E.length>1?E[1]:"";for(let T of l.data){let h=Nn(T);h&&i.push({schema:f,name:h,db:d})}}if(i.length===0)return;let s=50,o=0;for(let a=0;a<i.length;a+=s){let l=i.slice(a,a+s),c=new Map;for(let u of l)c.has(u.db)||c.set(u.db,[]),c.get(u.db).push(u);for(let[u,E]of c){let d=E.map(T=>`(UPPER(O.SCHEMA) = UPPER('${T.schema}') AND UPPER(O.OBJNAME) = UPPER('${T.name}'))`).join(" OR "),f=`
                        SELECT O.OBJNAME AS TABLENAME, O.SCHEMA, O.DBNAME, 
                               C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                        FROM ${u}.._V_RELATION_COLUMN C
                        JOIN ${u}.._V_OBJECT_DATA O ON C.OBJID = O.OBJID
                        WHERE O.DBNAME = '${u}' 
                        AND (${d})
                        ORDER BY O.SCHEMA, O.OBJNAME, C.ATTNUM
                    `;try{let T=await r(f);if(T){let h=JSON.parse(T),S=new Map;for(let p of h){let I=`${p.DBNAME}.${p.SCHEMA||""}.${p.TABLENAME}`;S.has(I)||S.set(I,[]),S.get(I).push({ATTNAME:p.ATTNAME,FORMAT_TYPE:p.FORMAT_TYPE,label:p.ATTNAME,kind:5,detail:p.FORMAT_TYPE})}for(let[p,I]of S)this.storage.getColumns(e,p)||(this.storage.setColumns(e,p,I),o++)}}catch(T){console.error(`[CachePrefetcher] Error fetching batch columns for DB ${u}:`,T)}}await new Promise(u=>setTimeout(u,10))}console.log(`[CachePrefetcher] Prefetched columns for ${o} tables/views (Batched)`)}catch(n){console.error("[CachePrefetcher] prefetchAllColumnsForConnection error:",n)}}};function _y(t,e,r){let n=[],i=e.toLowerCase();for(let[s,o]of t.tableCache){if(!NR(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],E=c.length>1?c[1]:void 0;for(let d of o.data){let f=Nn(d);if(f&&f.toLowerCase().includes(i)){let T=d.objType||(d.kind===18?"VIEW":"TABLE");n.push({name:f,type:T,database:u,schema:E||(d.detail&&d.detail.includes("(")?d.detail.match(/\((.*?)\)/)?.[1]:void 0)})}}}for(let[s,o]of t.columnCache){if(!NR(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],E=c[1],d=c[2];for(let f of o.data){let T=Nn(f);T&&T.toLowerCase().includes(i)&&n.push({name:T,type:"COLUMN",database:u,schema:E,parent:d})}}return n}var Kf=class{constructor(e){this.storage=new Vf,this.persistence=new kf(e,this.storage),this.prefetcher=new Xf(this.storage),this.storage.setOnDataChange(r=>{this.persistence.scheduleSave(r)})}async initialize(){return this.persistence.initialize()}scheduleSave(e){this.persistence.scheduleSave(e)}async flushSave(){return this.persistence.flushSave()}async clearCache(){return this.persistence.clearCache()}getDatabases(e){return this.storage.getDatabases(e)}setDatabases(e,r){this.storage.setDatabases(e,r)}getSchemas(e,r){return this.storage.getSchemas(e,r)}setSchemas(e,r,n){this.storage.setSchemas(e,r,n)}getTables(e,r){return this.storage.getTables(e,r)}getTablesAllSchemas(e,r){return this.storage.getTablesAllSchemas(e,r)}setTables(e,r,n,i){this.storage.setTables(e,r,n,i)}getObjectsWithSchema(e,r){return this.storage.getObjectsWithSchema(e,r)}getColumns(e,r){return this.storage.getColumns(e,r)}setColumns(e,r,n){this.storage.setColumns(e,r,n)}findTableId(e,r){return this.storage.findTableId(e,r)}getTypeGroups(e,r){return this.storage.getTypeGroups(e,r)}setTypeGroups(e,r,n){this.storage.setTypeGroups(e,r,n)}findObjectWithType(e,r,n,i){return this.storage.findObjectWithType(e,r,n,i)}invalidateSchema(e,r,n){this.storage.invalidateSchema(e,r,n)}search(e,r){return _y(this.storage,e,r)}async prefetchColumnsForSchema(e,r,n,i){return this.prefetcher.prefetchColumnsForSchema(e,r,n,i)}async prefetchAllObjects(e,r){return this.prefetcher.prefetchAllObjects(e,r)}hasAllObjectsPrefetchTriggered(e){return this.prefetcher.hasAllObjectsPrefetchTriggered(e)}hasConnectionPrefetchTriggered(e){return this.prefetcher.hasConnectionPrefetchTriggered(e)}triggerConnectionPrefetch(e,r){this.prefetcher.triggerConnectionPrefetch(e,r)}get schemaCache(){return this.storage.schemaCache}get tableCache(){return this.storage.tableCache}get columnCache(){return this.storage.columnCache}get tableIdMap(){return this.storage.tableIdMap}get typeGroupCache(){return this.storage.typeGroupCache}};var qr=Z(require("vscode"));var nr=Z(require("vscode"));function Iy(t){switch(t){case"error":return nr.DiagnosticSeverity.Error;case"warning":return nr.DiagnosticSeverity.Warning;case"information":return nr.DiagnosticSeverity.Information;case"hint":return nr.DiagnosticSeverity.Hint;case"off":return null;default:return nr.DiagnosticSeverity.Warning}}function gR(t,e){let r=!1,n=!1,i=!1,s=!1;for(let o=0;o<e&&o<t.length;o++){let a=t[o],l=o+1<t.length?t[o+1]:"";i?a===`
`&&(i=!1):s?a==="*"&&l==="/"&&(s=!1,o++):r?a==="'"&&t[o-1]!=="\\"&&(r=!1):n?a==='"'&&t[o-1]!=="\\"&&(n=!1):a==="-"&&l==="-"?i=!0:a==="/"&&l==="*"?s=!0:a==="'"?r=!0:a==='"'&&(n=!0)}return r||n||i||s}function an(t,e){let r=[],n,i=new RegExp(e.source,e.flags.includes("g")?e.flags:e.flags+"g");for(;(n=i.exec(t))!==null;)gR(t,n.index)||r.push(n);return r}var uj={id:"NZ001",name:"Select Star",description:"Avoid using SELECT * - specify explicit column names for better performance and maintainability",defaultSeverity:nr.DiagnosticSeverity.Warning,check(t){let e=[],n=an(t,/\bSELECT\s+\*/gi);for(let i of n){let s=i[0].indexOf("*");e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index+s,endOffset:i.index+s+1})}return e}},Ej={id:"NZ002",name:"Delete Without Where",description:"DELETE statement without WHERE clause will delete all rows",defaultSeverity:nr.DiagnosticSeverity.Error,check(t){let e=[],n=an(t,/\bDELETE\s+FROM\s+[\w."]+/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},fj={id:"NZ003",name:"Update Without Where",description:"UPDATE statement without WHERE clause will update all rows",defaultSeverity:nr.DiagnosticSeverity.Error,check(t){let e=[],n=an(t,/\bUPDATE\s+[\w."]+\s+SET\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},dj={id:"NZ004",name:"Cross Join",description:"CROSS JOIN produces a Cartesian product - verify this is intentional",defaultSeverity:nr.DiagnosticSeverity.Warning,check(t){let e=[],n=an(t,/\bCROSS\s+JOIN\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},hj={id:"NZ005",name:"Leading Wildcard Like",description:"LIKE pattern with leading wildcard ('%...') prevents index usage",defaultSeverity:nr.DiagnosticSeverity.Hint,check(t){let e=[],n=an(t,/\bLIKE\s+'%/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},Tj={id:"NZ006",name:"Order By Without Limit",description:"ORDER BY without LIMIT/FETCH may cause performance issues on large datasets",defaultSeverity:nr.DiagnosticSeverity.Information,check(t){let e=[],n=an(t,/\bORDER\s+BY\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;if(!/\b(LIMIT|FETCH|TOP)\b/i.test(a)){let l=t.substring(0,i.index);/\bTOP\s+\d+\b/i.test(l)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}}return e}},Sj={id:"NZ007",name:"Inconsistent Keyword Case",description:"SQL keywords have inconsistent casing - consider using consistent UPPER or lower case",defaultSeverity:nr.DiagnosticSeverity.Warning,check(t){let e=[],r=["SELECT","FROM","WHERE","JOIN","LEFT","RIGHT","INNER","OUTER","ON","AND","OR","INSERT","INTO","UPDATE","DELETE","CREATE","DROP","ALTER","TABLE","VIEW","INDEX","ORDER","BY","GROUP","HAVING","UNION","ALL","DISTINCT","AS","SET","VALUES","NULL","NOT","IN","BETWEEN","LIKE","IS","EXISTS","CASE","WHEN","THEN","ELSE","END","LIMIT","OFFSET"],n=0,i=0,s=[],o=new Set;for(let c of r){let u=new RegExp(`\\b${c}\\b`,"gi"),E=an(t,u);for(let d of E){if(o.has(d.index))continue;o.add(d.index);let f=d[0],T;f===f.toUpperCase()?(n++,T="UPPER"):f===f.toLowerCase()?(i++,T="lower"):T="Mixed",s.push({keyword:f,index:d.index,type:T})}}let a=n>=i,l=a?"UPPER":"lower";for(let c of s)c.type==="Mixed"?e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' has mixed casing (expected ${a?"UPPERCASE":"lowercase"})`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length}):c.type!==l&&e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' should be ${a?"UPPERCASE":"lowercase"}`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length});return e}},pj={id:"NZ008",name:"Truncate Table",description:"TRUNCATE removes all data and cannot be rolled back - use with caution",defaultSeverity:nr.DiagnosticSeverity.Warning,check(t){let e=[],n=an(t,/\bTRUNCATE\s+(TABLE\s+)?[\w."]+/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+8});return e}},Rj={id:"NZ009",name:"Or In Where Clause",description:"Multiple OR conditions may prevent index usage - consider UNION for better performance",defaultSeverity:nr.DiagnosticSeverity.Hint,check(t){let e=[],n=an(t,/\bWHERE\b/gi);for(let i of n){let s=t.substring(i.index),o=s.search(/\b(GROUP\s+BY|ORDER\s+BY|HAVING|LIMIT|UNION|;)/i),a=o>=0?s.substring(0,o):s,l=an(a,/\bOR\b/gi);if(l.length>=2){let c=l[0];e.push({ruleId:this.id,message:`${this.id}: ${this.description} (${l.length} OR conditions found)`,severity:this.defaultSeverity,startOffset:i.index+c.index,endOffset:i.index+c.index+2})}}return e}},Aj={id:"NZ010",name:"Missing Table Alias",description:"Consider using table aliases in JOINs for better readability",defaultSeverity:nr.DiagnosticSeverity.Information,check(t){let e=[],n=an(t,/\bJOIN\s+([\w."]+)\s+ON\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: Table '${i[1]}' in JOIN has no alias - ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},_j={id:"NZ011",name:"CTAS Missing Distribution",description:"CREATE TABLE AS SELECT should specify explicit data distribution",defaultSeverity:nr.DiagnosticSeverity.Warning,check(t){let e=[],n=an(t,/\bCREATE\s+TABLE\s+(?:(?:IF\s+NOT\s+EXISTS\s+)?[\w."]+\s+)?AS\s+(?:\(\s*)?SELECT\b/gi);for(let i of n){let s=t.length;for(let u=i.index;u<t.length;u++)if(t[u]===";"&&!gR(t,u)){s=u;break}let o=t.substring(i.index,s),l=/\bDISTRIBUTE\s+ON\b/i.exec(o),c=!1;l&&(gR(t,i.index+l.index)||(c=!0)),c||e.push({ruleId:this.id,message:`${this.id}: ${this.description} - Add 'DISTRIBUTE ON (...)' or 'DISTRIBUTE ON RANDOM'`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}return e}},Ny=[uj,Ej,fj,dj,hj,Tj,Sj,pj,Rj,Aj,_j];var bR=class{constructor(){this.disposables=[];this.diagnosticCollection=qr.languages.createDiagnosticCollection("netezza-sql-linter")}activate(e){e.subscriptions.push(this.diagnosticCollection),this.disposables.push(qr.workspace.onDidOpenTextDocument(r=>{this.shouldLint(r)&&this.lintDocument(r)})),this.disposables.push(qr.workspace.onDidChangeTextDocument(r=>{this.shouldLint(r.document)&&this.lintDocument(r.document)})),this.disposables.push(qr.workspace.onDidCloseTextDocument(r=>{this.diagnosticCollection.delete(r.uri)})),this.disposables.push(qr.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("netezza.linter")&&this.lintAllOpenDocuments()})),e.subscriptions.push(...this.disposables),this.lintAllOpenDocuments()}shouldLint(e){return e.languageId==="sql"}getConfig(){let e=qr.workspace.getConfiguration("netezza.linter");return{enabled:e.get("enabled",!0),rules:e.get("rules",{})}}lintAllOpenDocuments(){for(let e of qr.workspace.textDocuments)this.shouldLint(e)&&this.lintDocument(e)}lintDocument(e){let r=this.getConfig();if(!r.enabled){this.diagnosticCollection.delete(e.uri);return}let n=e.getText(),i=this.lintSql(n,r.rules),s=this.issuesToDiagnostics(e,i);this.diagnosticCollection.set(e.uri,s)}lintSql(e,r={}){let n=[];for(let i of Ny){let s=r[i.id],o=s!==void 0?Iy(s):i.defaultSeverity;if(o===null)continue;let a=i.check(e);for(let l of a)n.push({...l,severity:o})}return n}issuesToDiagnostics(e,r){return r.map(n=>{let i=e.positionAt(n.startOffset),s=e.positionAt(n.endOffset),o=new qr.Range(i,s),a=new qr.Diagnostic(o,n.message,n.severity);return a.source="Netezza SQL Linter",a.code=n.ruleId,a})}dispose(){this.diagnosticCollection.dispose();for(let e of this.disposables)e.dispose()}},CR;function Ij(){return CR||(CR=new bR),CR}function Oy(t){let e=Ij();return e.activate(t),e}var so=Z(require("vscode"));io();var Bc=class{static{this.providedCodeActionKinds=[so.CodeActionKind.QuickFix]}provideCodeActions(e,r,n,i){let s=[];for(let o of n.diagnostics)if(o.code==="NZ011"){let a=this.createDistributeOnRandomFix(e,o);a&&s.push(a)}return s}createDistributeOnRandomFix(e,r){let n=new so.CodeAction("Add DISTRIBUTE ON RANDOM",so.CodeActionKind.QuickFix);n.diagnostics=[r],n.isPreferred=!0;let i=e.offsetAt(r.range.start),s=e.getText(),o=Dr.getStatementAtPosition(s,i);if(o)return n.edit=new so.WorkspaceEdit,n.edit.insert(e.uri,e.positionAt(o.end)," DISTRIBUTE ON RANDOM"),n}};var Fc=Z(require("vscode"));function Yr(t){return`${t.dbName}.${t.schema}.${t.label}`}async function Yn(t,e){return await t.getConnection(e||t.getActiveConnectionName()||"")?!0:(Fc.window.showErrorMessage("No database connection"),!1)}async function ir(t,e){return Fc.window.withProgress({location:Fc.ProgressLocation.Notification,title:t,cancellable:!1},e)}function yR(t){return t.replace(/'/g,"''")}function LR(t){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t.trim())}var sr=Z(require("vscode"));Rr();function my(t){let{context:e,connectionManager:r,schemaProvider:n}=t;return[sr.commands.registerCommand("netezza.copySelectAll",async i=>{if(i&&i.label&&i.dbName&&i.schema){let s=`SELECT * FROM ${i.dbName}.${i.schema}.${i.label} LIMIT 1000;`,o=await sr.window.showQuickPick([{label:"Open in Editor",description:"Open SQL in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy SQL to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the SQL?"});if(o)if(o.value==="editor"){let a=await sr.workspace.openTextDocument({content:s,language:"sql"});await sr.window.showTextDocument(a)}else await sr.env.clipboard.writeText(s),sr.window.showInformationMessage("Copied to clipboard")}}),sr.commands.registerCommand("netezza.copyDrop",async i=>{if(i&&i.label&&i.dbName&&i.schema&&i.objType){let s=Yr(i),o=`DROP ${i.objType} ${s};`;if(await sr.window.showWarningMessage(`Are you sure you want to delete ${i.objType.toLowerCase()} "${s}"?`,{modal:!0},"Yes, delete","Cancel")==="Yes, delete")try{await ir(`Deleting ${i.objType.toLowerCase()} ${s}...`,async()=>{await K(e,o,!0,i.connectionName,r)}),sr.window.showInformationMessage(`Deleted ${i.objType.toLowerCase()}: ${s}`),n.refresh()}catch(l){let c=l instanceof Error?l.message:String(l);sr.window.showErrorMessage(`Error during deletion: ${c}`)}}}),sr.commands.registerCommand("netezza.copyName",i=>{if(i&&i.label&&i.dbName&&i.schema){let s=Yr(i);sr.env.clipboard.writeText(s),sr.window.showInformationMessage("Copied to clipboard")}})]}var Fe=Z(require("vscode"));Rr();function gy(t){let{context:e,connectionManager:r,metadataCache:n,schemaProvider:i}=t;return[Fe.commands.registerCommand("netezza.grantPermissions",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType){let o=Yr(s),a=await Fe.window.showQuickPick([{label:"SELECT",description:"Privileges to read data"},{label:"INSERT",description:"Privileges to insert data"},{label:"UPDATE",description:"Privileges to update data"},{label:"DELETE",description:"Privileges to delete data"},{label:"ALL",description:"All privileges (SELECT, INSERT, UPDATE, DELETE)"},{label:"LIST",description:"Privileges to list objects"}],{placeHolder:"Select privilege type"});if(!a)return;let l=await Fe.window.showInputBox({prompt:"Enter user or group name",placeHolder:"e.g. SOME_USER or GROUP_NAME",validateInput:E=>!E||E.trim().length===0?"User/group name cannot be empty":LR(E)?null:"Invalid user/group name"});if(!l)return;let c=`GRANT ${a.label} ON ${o} TO ${l.trim().toUpperCase()};`;if(await Fe.window.showInformationMessage(`Execute: ${c}`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute"){if(!await Yn(r))return;try{await ir(`Granting ${a.label} on ${o}...`,async()=>{await K(e,c,!0,s.connectionName,r)}),Fe.window.showInformationMessage(`Granted ${a.label} on ${o} to ${l.trim().toUpperCase()}`)}catch(E){let d=E instanceof Error?E.message:String(E);Fe.window.showErrorMessage(`Error granting privileges: ${d}`)}}}}),Fe.commands.registerCommand("netezza.addTableComment",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=await Fe.window.showInputBox({prompt:"Enter comment for table",placeHolder:"e.g. Table contains customer data",value:s.objectDescription||""});if(a===void 0)return;let l=`COMMENT ON TABLE ${o} IS '${yR(a)}';`;try{if(!await Yn(r))return;await K(e,l,!0,s.connectionName,r),Fe.window.showInformationMessage(`Comment added to table: ${o}`),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);Fe.window.showErrorMessage(`Error adding comment: ${u}`)}}}),Fe.commands.registerCommand("netezza.addColumnComment",async s=>{if(s&&s.label&&s.dbName&&s.parentName){let o=s.label.split(" ")[0],a=s.parentName,l=s.schema||"ADMIN",c=`${s.dbName}.${l}.${a}.${o}`,u=await Fe.window.showInputBox({prompt:`Enter comment for column "${o}"`,placeHolder:"e.g. Customer ID from CRM",value:s.objectDescription||""});if(u===void 0)return;let E=`COMMENT ON COLUMN ${c} IS '${yR(u)}';`;try{if(!await Yn(r))return;await K(e,E,!0,s.connectionName,r),Fe.window.showInformationMessage(`Comment added to column: ${o}`),i.refresh()}catch(d){let f=d instanceof Error?d.message:String(d);Fe.window.showErrorMessage(`Error adding comment: ${f}`)}}}),Fe.commands.registerCommand("netezza.truncateTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=`TRUNCATE TABLE ${o};`;if(await Fe.window.showWarningMessage(`\u26A0\uFE0F WARNING: Are you sure you want to delete ALL data from the table "${o}"?

${a}

This operation is IRREVERSIBLE!`,{modal:!0},"Yes, delete all data","Cancel")==="Yes, delete all data"){if(!await Yn(r))return;try{await ir(`Clearing table ${o}...`,async()=>{await K(e,a,!0,s.connectionName,r)}),Fe.window.showInformationMessage(`Table cleared: ${o}`)}catch(c){let u=c instanceof Error?c.message:String(c);Fe.window.showErrorMessage(`Error clearing table: ${u}`)}}}}),Fe.commands.registerCommand("netezza.addPrimaryKey",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=await Fe.window.showInputBox({prompt:"Enter primary key constraint name",placeHolder:`e.g. PK_${s.label}`,value:`PK_${s.label}`,validateInput:d=>!d||d.trim().length===0?"Constraint name cannot be empty":LR(d)?null:"Invalid constraint name"});if(!a)return;let l=await Fe.window.showInputBox({prompt:"Enter primary key column names (comma separated)",placeHolder:"e.g. COL1, COL2 or ID",validateInput:d=>!d||d.trim().length===0?"You must provide at least one column":null});if(!l)return;let c=l.split(",").map(d=>d.trim().toUpperCase()).join(", "),u=`ALTER TABLE ${o} ADD CONSTRAINT ${a.trim().toUpperCase()} PRIMARY KEY (${c});`;if(await Fe.window.showInformationMessage(`Add primary key to table "${o}"?

${u}`,{modal:!0},"Yes, add","Cancel")==="Yes, add"){if(!await Yn(r))return;try{await ir(`Adding primary key to ${o}...`,async()=>{await K(e,u,!0,s.connectionName,r)}),Fe.window.showInformationMessage(`Primary key added: ${a.trim().toUpperCase()}`),i.refresh()}catch(d){let f=d instanceof Error?d.message:String(d);Fe.window.showErrorMessage(`Error adding primary key: ${f}`)}}}}),Fe.commands.registerCommand("netezza.changeOwner",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=await Fe.window.showInputBox({prompt:"Enter new owner name",placeHolder:"e.g. USER_NAME or GROUP_NAME"});if(!a)return;let l=`ALTER TABLE ${o} OWNER TO ${a.trim()};`;try{if(!await Yn(r))return;await K(e,l,!0,s.connectionName,r),Fe.window.showInformationMessage(`Owner changed to ${a} for ${o}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);Fe.window.showErrorMessage(`Error changing owner: ${u}`)}}}),Fe.commands.registerCommand("netezza.renameTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=Yr(s),a=await Fe.window.showInputBox({prompt:"Enter new table name",placeHolder:"NewTableName",value:s.label});if(!a||a===s.label)return;let l=`ALTER TABLE ${o} RENAME TO ${a.trim()};`;try{if(!await Yn(r))return;await K(e,l,!0,s.connectionName,r),Fe.window.showInformationMessage(`Table renamed to ${a}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);Fe.window.showErrorMessage(`Error renaming table: ${u}`)}}})]}var ze=Z(require("vscode"));Rr();function xy(t){let{context:e,connectionManager:r}=t;return[ze.commands.registerCommand("netezza.groomTable",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=Yr(n),s=await ze.window.showQuickPick([{label:"RECORDS ALL",description:"Groom all records (reclaim space from deleted rows)"},{label:"RECORDS READY",description:"Groom only ready records"},{label:"PAGES ALL",description:"Groom all pages (reorganize data pages)"},{label:"PAGES START",description:"Groom pages from start"},{label:"VERSIONS",description:"Groom versions (clean up old row versions)"}],{placeHolder:"Select GROOM mode"});if(!s)return;let o=await ze.window.showQuickPick([{label:"DEFAULT",description:"Use default backupset",value:"DEFAULT"},{label:"NONE",description:"No backupset",value:"NONE"},{label:"Custom",description:"Specify custom backupset ID",value:"CUSTOM"}],{placeHolder:"Select RECLAIM BACKUPSET option"});if(!o)return;let a=o.value;if(o.value==="CUSTOM"){let u=await ze.window.showInputBox({prompt:"Enter backupset ID",placeHolder:"e.g. 12345",validateInput:E=>!E||E.trim().length===0?"Backupset ID cannot be empty":/^\d+$/.test(E.trim())?null:"Backupset ID must be a number"});if(!u)return;a=u.trim()}let l=`GROOM TABLE ${i} ${s.label} RECLAIM BACKUPSET ${a};`;if(await ze.window.showWarningMessage(`Execute GROOM on table "${i}"?

${l}

Warning: This operation may be time-consuming for large tables.`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{let u=Date.now();await ir(`GROOM TABLE ${i} (${s.label})...`,async()=>{await K(e,l,!0,n.connectionName,r)});let E=((Date.now()-u)/1e3).toFixed(1);ze.window.showInformationMessage(`GROOM completed successfully (${E}s): ${i}`)}catch(u){let E=u instanceof Error?u.message:String(u);ze.window.showErrorMessage(`Error during GROOM: ${E}`)}}}),ze.commands.registerCommand("netezza.generateStatistics",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=Yr(n),s=`GENERATE EXPRESS STATISTICS ON ${i};`;if(await ze.window.showInformationMessage(`Generate statistics for table "${i}"?

${s}`,{modal:!0},"Yes, generate","Cancel")==="Yes, generate")try{let a=Date.now();await ir(`Generating statistics for ${i}...`,async()=>{await K(e,s,!0,n.connectionName,r)});let l=((Date.now()-a)/1e3).toFixed(1);ze.window.showInformationMessage(`Statistics generated successfully (${l}s): ${i}`)}catch(a){let l=a instanceof Error?a.message:String(a);ze.window.showErrorMessage(`Error generating statistics: ${l}`)}}}),ze.commands.registerCommand("netezza.checkSkew",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=Yr(n),s=`SELECT datasliceid, count(*) as row_count FROM ${i} GROUP BY 1 ORDER BY 1;`;if(await ze.window.showInformationMessage(`Check skew for "${i}"?

This will run: ${s}

Note: This may be slow on very large tables.`,{modal:!0},"Yes, check skew","Cancel")==="Yes, check skew"){let a=await ze.workspace.openTextDocument({content:`-- Check Skew for ${i}
${s}`,language:"sql"});await ze.window.showTextDocument(a),ze.commands.executeCommand("netezza.runQuery")}}}),ze.commands.registerCommand("netezza.recreateTable",async n=>{if(!n||!n.label||!n.dbName||!n.schema||!n.objType||n.objType!=="TABLE"){ze.window.showErrorMessage("Invalid object selected for Recreate Table");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){ze.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=await ze.window.showInputBox({prompt:"Enter temporary table name (Optional)",placeHolder:"Leave empty to auto-generate timestamped name",value:""});if(s!==void 0)try{await ir(`Generating Recreate Script for ${n.label}...`,async()=>{let{generateRecreateTableScript:o}=await Promise.resolve().then(()=>(My(),Py)),a=await o(i,n.dbName,n.schema,n.label,s||void 0);if(a.success&&a.sqlScript){let l=await ze.workspace.openTextDocument({content:a.sqlScript,language:"sql"});await ze.window.showTextDocument(l),ze.window.showInformationMessage(`Recreate script generated for ${n.label}`)}else throw new Error(a.error||"Script generation failed")})}catch(o){let a=o instanceof Error?o.message:String(o);ze.window.showErrorMessage(`Error generating recreate script: ${a}`)}})]}var Ie=Z(require("vscode"));Rr();function By(t){let{context:e,connectionManager:r}=t;return[Ie.commands.registerCommand("netezza.createDDL",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){Ie.window.showErrorMessage("Invalid object selected for DDL generation");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){Ie.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}await ir(`Generating DDL for ${n.objType} ${n.label}...`,async()=>{let{generateDDL:s}=await Promise.resolve().then(()=>(Wc(),PR)),o=await s(i,n.dbName,n.schema,n.label,n.objType);if(o.success&&o.ddlCode){let a=await Ie.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the DDL code?"});if(a)if(a.value==="editor"){let l=await Ie.workspace.openTextDocument({content:o.ddlCode,language:"sql"});await Ie.window.showTextDocument(l),Ie.window.showInformationMessage(`DDL code generated for ${n.objType} ${n.label}`)}else a.value==="clipboard"&&(await Ie.env.clipboard.writeText(o.ddlCode),Ie.window.showInformationMessage("DDL code copied to clipboard"))}else throw new Error(o.error||"DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);Ie.window.showErrorMessage(`Error generating DDL: ${s}`)}}),Ie.commands.registerCommand("netezza.compareSchema",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){Ie.window.showErrorMessage("Invalid object selected for comparison");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){Ie.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=n.objType,o=`${n.dbName}.${n.schema}.${n.label}`,a=[];if(await ir(`Loading ${s}s for comparison...`,async()=>{let c=s==="PROCEDURE"?"OBJTYPE = 'PROCEDURE'":s==="VIEW"?"OBJTYPE = 'VIEW'":"OBJTYPE = 'TABLE'",u=s==="PROCEDURE"?`SELECT DISTINCT SCHEMA, PROCEDURESIGNATURE AS OBJNAME FROM ${n.dbName}.._V_PROCEDURE WHERE DATABASE = '${n.dbName.toUpperCase()}' ORDER BY SCHEMA, PROCEDURESIGNATURE`:`SELECT SCHEMA, OBJNAME FROM ${n.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${n.dbName.toUpperCase()}' AND ${c} ORDER BY SCHEMA, OBJNAME`,E=await K(e,u,!0,n.connectionName,r);if(E&&!E.startsWith("Query executed successfully")){let d=JSON.parse(E);for(let f of d){let T=f.OBJNAME,h=f.SCHEMA;`${n.dbName}.${h}.${T}`.toUpperCase()!==o.toUpperCase()&&a.push({label:T,description:`${n.dbName}.${h}`,db:n.dbName,schema:h,name:T})}}}),a.length===0){Ie.window.showWarningMessage(`No other ${s}s found to compare with.`);return}let l=await Ie.window.showQuickPick(a,{placeHolder:`Select ${s} to compare with ${n.label}`,matchOnDescription:!0});if(!l)return;await ir(`Comparing ${n.label} with ${l.label}...`,async()=>{if(s==="PROCEDURE"){let{compareProcedures:c}=await Promise.resolve().then(()=>(xR(),MR)),{SchemaCompareView:u}=await Promise.resolve().then(()=>(BR(),UR)),E=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,E,"procedure")}else{let{compareTableStructures:c}=await Promise.resolve().then(()=>(xR(),MR)),{SchemaCompareView:u}=await Promise.resolve().then(()=>(BR(),UR)),E=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,E,"table")}}),Ie.window.showInformationMessage(`Comparison complete: ${n.label} \u2194 ${l.label}`)}catch(i){let s=i instanceof Error?i.message:String(i);Ie.window.showErrorMessage(`Error comparing objects: ${s}`)}}),Ie.commands.registerCommand("netezza.batchExportDDL",async n=>{try{if(!n||!n.contextValue){Ie.window.showErrorMessage("Invalid node selected for batch DDL export");return}let i=n.contextValue==="database",s=n.contextValue.startsWith("typeGroup:");if(!i&&!s){Ie.window.showErrorMessage("Batch DDL export is only available on database or object type nodes");return}let o=await r.getConnection(r.getActiveConnectionName()||"");if(!o){Ie.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let a=n.dbName||n.label,l=s?[n.objType||n.contextValue.replace("typeGroup:","")]:void 0;await ir(i?`Exporting all DDL for database ${a}...`:`Exporting ${l?.[0]} DDL for ${a}...`,async()=>{let{generateBatchDDL:c}=await Promise.resolve().then(()=>(Wc(),PR)),u=await c({connectionDetails:o,database:a,objectTypes:l});if(u.success&&u.ddlCode){let E=await Ie.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Save to File",description:"Save DDL code to a .sql file",value:"file"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:`${u.objectCount} objects found. How would you like to access the DDL code?`});if(E)if(E.value==="editor"){let d=await Ie.workspace.openTextDocument({content:u.ddlCode,language:"sql"});await Ie.window.showTextDocument(d),Ie.window.showInformationMessage(`DDL exported: ${u.objectCount} objects`)}else if(E.value==="file"){let d=i?`${a}_all_ddl.sql`:`${a}_${l?.[0]?.toLowerCase()||"objects"}_ddl.sql`,f=await Ie.window.showSaveDialog({defaultUri:Ie.Uri.file(d),filters:{"SQL Files":["sql"]}});f&&(await Ie.workspace.fs.writeFile(f,Buffer.from(u.ddlCode,"utf8")),Ie.window.showInformationMessage(`DDL saved to ${f.fsPath}`))}else E.value==="clipboard"&&(await Ie.env.clipboard.writeText(u.ddlCode),Ie.window.showInformationMessage(`DDL copied: ${u.objectCount} objects`));u.errors.length>0&&Ie.window.showWarningMessage(`Batch DDL completed with ${u.errors.length} error(s). Check the generated file for details.`)}else throw new Error(u.errors.join(", ")||"Batch DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);Ie.window.showErrorMessage(`Error exporting DDL: ${s}`)}})]}var Kr=Z(require("vscode"));Rr();function qy(t){let{context:e,connectionManager:r}=t;return[Kr.commands.registerCommand("netezza.showERD",async n=>{try{if(!n||!n.contextValue||!n.contextValue.startsWith("typeGroup:")){Kr.window.showErrorMessage("Please right-click on a TABLE type group to show ERD");return}let i=n.dbName||n.label,s=n.connectionName;if(!s){Kr.window.showErrorMessage("No connection selected");return}let o=`SELECT DISTINCT SCHEMA FROM ${i}.._V_TABLE ORDER BY SCHEMA`,a=await K(e,o,!0,s,r);if(!a){Kr.window.showErrorMessage("Could not retrieve schemas");return}let l=JSON.parse(a);if(l.length===0){Kr.window.showWarningMessage("No tables found in this database");return}let c;if(l.length===1)c=l[0].SCHEMA;else{let d=l.map(T=>({label:T.SCHEMA,description:`${i}.${T.SCHEMA}`})),f=await Kr.window.showQuickPick(d,{placeHolder:"Select schema to show ERD for"});if(!f)return;c=f.label}let u=0,E=0;await ir(`Building ERD for ${i}.${c}...`,async()=>{let{buildERDData:d}=await Promise.resolve().then(()=>(Wy(),Hy)),{ERDView:f}=await Promise.resolve().then(()=>($y(),Yy)),T=await d(e,r,s,i,c);u=T.tables.length,E=T.relationships.length,f.createOrShow(e.extensionUri,T)}),Kr.window.showInformationMessage(`ERD generated: ${u} tables, ${E} relationships`)}catch(i){let s=i instanceof Error?i.message:String(i);Kr.window.showErrorMessage(`Error generating ERD: ${s}`)}}),Kr.commands.registerCommand("netezza.showSessionMonitor",async()=>{try{if(!await Yn(r)){Kr.window.showErrorMessage("Please connect to a Netezza database first.");return}let{SessionMonitorView:n}=await Promise.resolve().then(()=>(ky(),Vy));n.createOrShow(e.extensionUri,e,r)}catch(n){let i=n instanceof Error?n.message:String(n);Kr.window.showErrorMessage(`Error opening Session Monitor: ${i}`)}})]}var At=Z(require("vscode"));Rr();function Xy(t){let{context:e,connectionManager:r,metadataCache:n,schemaTreeView:i}=t;return[At.commands.registerCommand("netezza.revealInSchema",async s=>{let o=At.window.setStatusBarMessage(`$(loading~spin) Revealing ${s.name} in schema...`);try{let a,l=At.window.activeTextEditor;if(l&&l.document.languageId==="sql"&&(a=r.getConnectionForExecution(l.document.uri.toString())),a||(a=s.connectionName),a||(a=r.getActiveConnectionName()||void 0),!a){o.dispose(),At.window.showWarningMessage("No active connection. Please select a connection first.");return}let c=s.name,u=s.objType;if(u==="COLUMN"){if(!s.parent){o.dispose(),At.window.showWarningMessage("Cannot find column without parent table");return}c=s.parent}if(s.database){let f=n.findObjectWithType(a,s.database,s.schema,c);if(f){let T=new Xt(f.name,At.TreeItemCollapsibleState.Collapsed,`netezza:${f.objType}`,s.database,f.objType,f.schema||s.schema,f.objId,void 0,a);await i.reveal(T,{select:!0,focus:!0,expand:!0}),o.dispose(),At.window.setStatusBarMessage(`$(check) Found ${c} in ${s.database}.${f.schema||s.schema} (cached)`,3e3);return}else n.hasConnectionPrefetchTriggered(a)||n.triggerConnectionPrefetch(a,async T=>K(e,T,!0,a,r))}if(!await r.getConnection(a)){o.dispose(),At.window.showWarningMessage("Not connected to database and object not found in cache.");return}let d=s.database||await r.getCurrentDatabase(a);if(d){let f=u&&u!=="COLUMN"?`AND UPPER(OBJTYPE) = UPPER('${u}')`:"",T=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",h=`
                        SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                        FROM ${d}.._V_OBJECT_DATA 
                        WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                        AND DBNAME = '${d}'
                        ${f}
                        ${T}
                        LIMIT 1
                    `;try{let S=await K(e,h,!0,a,r);if(S){let p=[];if(S==="Query executed successfully (no results)."||S.startsWith("Query executed successfully")?p=[]:p=JSON.parse(S),p.length>0){let I=p[0];if(I.OBJTYPE==="PROCEDURE")try{let A=`SELECT PROCEDURESIGNATURE FROM ${d}.._V_PROCEDURE WHERE OBJID = ${I.OBJID}`,O=await K(e,A,!0,a,r);if(O){let L=JSON.parse(O);L.length>0&&L[0].PROCEDURESIGNATURE&&(I.OBJNAME=L[0].PROCEDURESIGNATURE)}}catch(A){console.warn("Failed to resolve procedure signature:",A)}let R=new Xt(I.OBJNAME,At.TreeItemCollapsibleState.Collapsed,`netezza:${I.OBJTYPE}`,d,I.OBJTYPE,I.SCHEMA,I.OBJID,void 0,a);await i.reveal(R,{select:!0,focus:!0,expand:!0}),o.dispose(),At.window.setStatusBarMessage(`$(check) Found ${c} in ${d}.${I.SCHEMA}`,3e3);return}}}catch(S){console.log(`Error searching in ${d}:`,S)}}if(!d){let f=await K(e,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,a,r);if(f){let T=JSON.parse(f);for(let h of T){let S=h.DATABASE;try{let p=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",I=`
                                    SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                                    FROM ${S}.._V_OBJECT_DATA 
                                    WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                                    AND DBNAME = '${S}'
                                    ${p}
                                    LIMIT 1
                                `,R=await K(e,I,!0,a,r);if(R){let A=[];if(R==="Query executed successfully (no results)."||R.startsWith("Query executed successfully")?A=[]:A=JSON.parse(R),A.length>0){let O=A[0];if(O.OBJTYPE==="PROCEDURE")try{let N=`SELECT PROCEDURESIGNATURE FROM ${S}.._V_PROCEDURE WHERE OBJID = ${O.OBJID}`,D=await K(e,N,!0,a,r);if(D){let y=JSON.parse(D);y.length>0&&y[0].PROCEDURESIGNATURE&&(O.OBJNAME=y[0].PROCEDURESIGNATURE)}}catch(N){console.warn("Failed to resolve procedure signature:",N)}let L=new Xt(O.OBJNAME,At.TreeItemCollapsibleState.Collapsed,`netezza:${O.OBJTYPE}`,S,O.OBJTYPE,O.SCHEMA,O.OBJID,void 0,a);await i.reveal(L,{select:!0,focus:!0,expand:!0}),o.dispose(),At.window.setStatusBarMessage(`$(check) Found ${c} in ${S}.${O.SCHEMA}`,3e3);return}}}catch(p){console.log(`Error searching in ${S}:`,p)}}}}o.dispose(),At.window.showWarningMessage(`Could not find ${u||"object"} ${c}`)}catch(a){o.dispose();let l=a instanceof Error?a.message:String(a);At.window.showErrorMessage(`Error revealing item: ${l}`)}}),At.commands.registerCommand("netezza.showQueryHistory",()=>{At.commands.executeCommand("netezza.queryHistory.focus")}),At.commands.registerCommand("netezza.clearQueryHistory",async()=>{let{QueryHistoryManager:s}=await Promise.resolve().then(()=>(wf(),cy)),o=new s(e);await At.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await o.clearHistory(),At.window.showInformationMessage("Query history cleared"))})]}function td(t){return[...my(t),...gy(t),...xy(t),...By(t),...qy(t),...Xy(t)]}var ee=Z(require("vscode")),Zq=Z(require("path")),qS=Z(require("os"));function GE(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}function eX(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[ee.commands.registerCommand("netezza.exportToXlsb",async()=>{let i=ee.window.activeTextEditor;if(!i){ee.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){ee.window.showWarningMessage("No SQL query to export");return}let a=await ee.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),E=await r.getConnection(u||"");if(!E)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Exporting to XLSB...",cancellable:!1},async d=>{let{exportQueryToXlsb:f}=await Promise.resolve().then(()=>(Sa(),Ta)),T=await f(E,o,a.fsPath,!1,h=>{d.report({message:h}),n.appendLine(`[XLSB Export] ${h}`)});if(!T.success)throw new Error(T.message)}),GE(n,"Export to XLSB",l),ee.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);ee.window.showErrorMessage(`Error exporting to XLSB: ${u}`)}}),ee.commands.registerCommand("netezza.exportToCsv",async()=>{let i=ee.window.activeTextEditor;if(!i){ee.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){ee.window.showWarningMessage("No SQL query to export");return}let a=await ee.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export to CSV"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),E=await r.getConnection(u||"");if(!E)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Exporting to CSV...",cancellable:!1},async d=>{let{exportToCsv:f}=await Promise.resolve().then(()=>(Qq(),Jq));await f(e,E,o,a.fsPath,d)}),GE(n,"Export to CSV",l),ee.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);ee.window.showErrorMessage(`Error exporting to CSV: ${u}`)}}),ee.commands.registerCommand("netezza.copyXlsbToClipboard",async()=>{let i=ee.window.activeTextEditor;if(!i){ee.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){ee.window.showWarningMessage("No SQL query to export");return}try{let a=i.document.uri.toString(),l=r.getConnectionForExecution(a),c=await r.getConnection(l||"");if(!c)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let u=Date.now();if(await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Exporting to XLSB and copying to clipboard...",cancellable:!1},async d=>{let{exportQueryToXlsb:f,getTempFilePath:T}=await Promise.resolve().then(()=>(Sa(),Ta)),h=T(),S=await f(c,o,h,!0,p=>{d.report({message:p}),n.appendLine(`[XLSB Clipboard] ${p}`)});if(!S.success)throw new Error(S.message);if(!S.details?.clipboard_success)throw new Error("Failed to copy file to clipboard")}),GE(n,"Copy XLSB to Clipboard",u),await ee.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let d=qS.tmpdir();await ee.env.openExternal(ee.Uri.file(d))}}catch(a){let l=a instanceof Error?a.message:String(a);ee.window.showErrorMessage(`Error copying XLSB to clipboard: ${l}`)}}),ee.commands.registerCommand("netezza.exportToXlsbAndOpen",async()=>{let i=ee.window.activeTextEditor;if(!i){ee.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){ee.window.showWarningMessage("No SQL query to export");return}let a=await ee.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB and Open"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),E=await r.getConnection(u||"");if(!E)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Exporting to XLSB and opening...",cancellable:!1},async d=>{let{exportQueryToXlsb:f}=await Promise.resolve().then(()=>(Sa(),Ta)),T=await f(E,o,a.fsPath,!1,h=>{d.report({message:h}),n.appendLine(`[XLSB Export] ${h}`)});if(!T.success)throw new Error(T.message)}),GE(n,"Export to XLSB and Open",l),await ee.env.openExternal(a),ee.window.showInformationMessage(`Results exported and opened: ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);ee.window.showErrorMessage(`Error exporting to XLSB: ${u}`)}}),ee.commands.registerCommand("netezza.exportCurrentResultToXlsbAndOpen",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){ee.window.showErrorMessage("No data to export");return}let o=i;if(Array.isArray(i)&&i.length>1){let E=await ee.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!E)return;if(E==="Export Active Result Only"){let d=i.find(f=>f.isActive);d?o=[d]:o=[i[0]]}}let a=new Date().toISOString().replace(/[:.]/g,"-"),l=Zq.join(qS.tmpdir(),`netezza_results_${a}.xlsb`),c=Date.now();await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Creating Excel file...",cancellable:!1},async E=>{let{exportCsvToXlsb:d}=await Promise.resolve().then(()=>(Sa(),Ta)),f=await d(o,l,!1,{source:"Query Results Panel",sql:s},T=>{E.report({message:T}),n.appendLine(`[CSV to XLSB] ${T}`)});if(!f.success)throw new Error(f.message)});let u=Date.now()-c;n.appendLine(`[${new Date().toLocaleTimeString()}] Export Current Result to Excel completed in ${u}ms`),await ee.env.openExternal(ee.Uri.file(l)),ee.window.showInformationMessage(`Results exported and opened: ${l}`)}catch(o){let a=o instanceof Error?o.message:String(o);ee.window.showErrorMessage(`Error exporting to Excel: ${a}`)}}),ee.commands.registerCommand("netezza.copyCurrentResultToXlsbClipboard",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){ee.window.showErrorMessage("No data to copy");return}let o=i;if(Array.isArray(i)&&i.length>1){let E=await ee.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!E)return;if(E==="Export Active Result Only"){let d=i.find(f=>f.isActive);d?o=[d]:o=[i[0]]}}let{getTempFilePath:a}=await Promise.resolve().then(()=>(Sa(),Ta)),l=a(),c=Date.now();if(await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Copying to clipboard as Excel...",cancellable:!1},async E=>{let{exportCsvToXlsb:d}=await Promise.resolve().then(()=>(Sa(),Ta)),f=await d(o,l,!0,{source:"Query Results Panel",sql:s},T=>{E.report({message:T}),n.appendLine(`[Clipboard XLSB] ${T}`)});if(!f.success)throw new Error(f.message)}),GE(n,"Copy Result as Excel",c),await ee.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let E=qS.tmpdir();await ee.env.openExternal(ee.Uri.file(E))}}catch(o){let a=o instanceof Error?o.message:String(o);ee.window.showErrorMessage(`Error copying to Excel: ${a}`)}})]}var Oe=Z(require("vscode")),d6=Z(require("path"));Rr();function E6(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}async function f6(t,e,r){try{let i=await K(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,e,r);if(i){let s=JSON.parse(i);if(s&&s.length>0){let o=s[0].CURRENT_CATALOG||"SYSTEM",a=s[0].CURRENT_SCHEMA||"ADMIN",c=new Date().toISOString().slice(0,10).replace(/-/g,""),u=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${o}.${a}.IMPORT_${c}_${u}`}}}catch(n){Oe.window.showErrorMessage(`Error getting current database/schema: ${n instanceof Error?n.message:String(n)}`)}return null}function h6(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[Oe.commands.registerCommand("netezza.importClipboard",async()=>{try{let s=Oe.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnection(o||"");if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await Oe.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:d=>!d||d.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(d.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(l===void 0)return;let c;if(!l||l.trim().length===0){let d=await f6(e,o,r);if(!d)return;c=d,Oe.window.showInformationMessage(`Auto-generated table name: ${c}`)}else c=l.trim();let u=await Oe.window.showQuickPick([{label:"Auto-detect",description:"Automatically detect clipboard format (text or Excel XML)",value:null},{label:"Excel XML Spreadsheet",description:"Force Excel XML format processing",value:"XML Spreadsheet"},{label:"Plain Text",description:"Force plain text processing with delimiter detection",value:"TEXT"}],{placeHolder:"Select clipboard data format"});if(!u)return;let E=Date.now();await Oe.window.withProgress({location:Oe.ProgressLocation.Notification,title:"Importing clipboard data...",cancellable:!1},async d=>{let{importClipboardDataToNetezza:f}=await Promise.resolve().then(()=>(u6(),c6)),T=await f(c,a,u.value,{},h=>{d.report({message:h}),n.appendLine(`[Clipboard Import] ${h}`)});if(!T.success)throw new Error(T.message);T.details&&(n.appendLine(`[Clipboard Import] Rows processed: ${T.details.rowsProcessed}`),n.appendLine(`[Clipboard Import] Columns: ${T.details.columns}`),n.appendLine(`[Clipboard Import] Format: ${T.details.format}`))}),E6(n,"Import Clipboard Data",E),Oe.window.showInformationMessage(`Clipboard data imported successfully to table: ${c}`,"Copy Table Name").then(d=>{d==="Copy Table Name"&&(Oe.env.clipboard.writeText(c),Oe.window.showInformationMessage("Table name copied to clipboard"))})}catch(i){Oe.window.showErrorMessage(`Error importing clipboard data: ${i instanceof Error?i.message:String(i)}`)}}),Oe.commands.registerCommand("netezza.importData",async()=>{try{let s=Oe.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnection(o||"");if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await Oe.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Data Files":["csv","txt","xlsx","xlsb","json"],"CSV Files":["csv"],"Excel Files":["xlsx","xlsb"],"Text Files":["txt"],"JSON Files":["json"],"All Files":["*"]},openLabel:"Select file to import"});if(!l||l.length===0)return;let c=l[0].fsPath,u=await Oe.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:T=>!T||T.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(T.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(u===void 0)return;let E;if(!u||u.trim().length===0){let T=await f6(e,o,r);if(!T)return;E=T,Oe.window.showInformationMessage(`Auto-generated table name: ${E}`)}else E=u.trim();let d=await Oe.window.showQuickPick([{label:"Default Import",description:"Use default settings",value:{}},{label:"Custom Options",description:"Configure import settings (coming soon)",value:null}],{placeHolder:"Select import options"});if(!d)return;if(d.value===null){Oe.window.showInformationMessage("Custom options will be available in future version");return}let f=Date.now();await Oe.window.withProgress({location:Oe.ProgressLocation.Notification,title:"Importing data...",cancellable:!1},async T=>{let{importDataToNetezza:h}=await Promise.resolve().then(()=>(wC(),a6)),S=await h(c,E,a,p=>{T.report({message:p}),n.appendLine(`[Import] ${p}`)});if(!S.success)throw new Error(S.message);S.details&&(n.appendLine(`[Import] Rows processed: ${S.details.rowsProcessed}`),n.appendLine(`[Import] Columns: ${S.details.columns}`),n.appendLine(`[Import] Delimiter: ${S.details.detectedDelimiter}`))}),E6(n,"Import Data",f),Oe.window.showInformationMessage(`Data imported successfully to table: ${E}`,"Copy Table Name").then(T=>{T==="Copy Table Name"&&(Oe.env.clipboard.writeText(E),Oe.window.showInformationMessage("Table name copied to clipboard"))})}catch(i){Oe.window.showErrorMessage(`Error importing data: ${i instanceof Error?i.message:String(i)}`)}}),Oe.commands.registerCommand("netezza.smartPaste",async()=>{try{let i=Oe.window.activeTextEditor;if(!i)return;let o=Oe.workspace.getConfiguration("netezza").get("pythonPath")||"python",a=d6.join(e.extensionPath,"python","check_clipboard_format.py"),l=require("child_process");if(await new Promise(u=>{let E=l.spawn(o,[a]);E.on("close",d=>{u(d===1)}),E.on("error",()=>{u(!1)})})){let u=await Oe.window.showQuickPick([{label:"\u{1F4CA} import to Netezza table",description:'Detected "XML Spreadsheet" format - import data to database',value:"import"},{label:"\u{1F4DD} Paste as text",description:"Paste clipboard content as plain text",value:"paste"}],{placeHolder:'Detected "XML Spreadsheet" format in clipboard - choose an action'});if(u?.value==="import")Oe.commands.executeCommand("netezza.importClipboard");else if(u?.value==="paste"){let E=await Oe.env.clipboard.readText(),d=i.selection;await i.edit(f=>{f.replace(d,E)})}}else{let u=await Oe.env.clipboard.readText(),E=i.selection;await i.edit(d=>{d.replace(E,u)})}}catch(i){Oe.window.showErrorMessage(`Error during paste: ${i instanceof Error?i.message:String(i)}`)}})]}var ce=Z(require("vscode"));Rr();io();function PC(t){return t&&(t.includes(" ")?`"${t.replace(/"/g,'\\"')}"`:t)}function ls(t,e,r){let i=/[ \\/]/.test(t)?`& ${PC(t)}`:t,s=PC(e),o=r.map(a=>PC(a)).join(" ");return`${i} ${s}${o?" "+o:""}`.trim()}function S4(t){let{context:e,connectionManager:r,resultPanelProvider:n}=t;return[ce.commands.registerCommand("netezza.runQuery",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.getText(),l=s.uri.toString(),c=[];if(o.isEmpty){let E=s.offsetAt(o.active),d=Dr.getStatementAtPosition(a,E);if(d){c=[d.sql];let f=s.positionAt(d.start),T=s.positionAt(d.end);i.selection=new ce.Selection(f,T)}else{ce.window.showWarningMessage("No SQL statement found at cursor");return}}else{let E=s.getText(o);if(!E.trim()){ce.window.showWarningMessage("No SQL query selected");return}/^\s*CREATE\s+(OR\s+REPLACE\s+)?PROCEDURE\b/i.test(E)?c=[E]:c=Dr.splitStatements(E)}if(c.length===0)return;let u=c.length===1?c[0].trim():null;if(u){let E=u.split(/\s+/),d=E[0]||"",f=/python(\.exe)?$/i.test(d)&&E.length>=2&&E[1].toLowerCase().endsWith(".py"),T=d.toLowerCase().endsWith(".py");if(f||T){let S=ce.workspace.getConfiguration("netezza").get("pythonPath")||"python",p="";if(f){let R=E[0],A=E[1],O=E.slice(2);p=ls(R,A,O)}else{let R=d,A=E.slice(1);p=ls(S,R,A)}let I=ce.window.createTerminal({name:"Netezza: Script"});I.show(!0),I.sendText(p,!0),ce.window.showInformationMessage(`Running script: ${p}`);return}}try{n.startExecution(l);let E=ce.workspace.getConfiguration("netezza"),d=E.get("enableStreaming",!1),f=E.get("streamingChunkSize",5e3);d?await Ty(e,c,r,l,T=>n.log(l,T),(T,h,S)=>{n.appendStreamingChunk(l,T,h,S)},f):await Mc(e,c,r,l,T=>n.log(l,T),T=>n.updateResults(T,l,!0)),n.finalizeExecution(l),ce.commands.executeCommand("netezza.results.focus")}catch(E){let d=E instanceof Error?E.message:String(E);n.finalizeExecution(l),n.log(l,`Error: ${d}`),ce.window.showErrorMessage(`Error executing query: ${d}`)}}),ce.commands.registerCommand("netezza.runQueryBatch",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.uri.toString(),l;if(o.isEmpty?l=s.getText():l=s.getText(o),!l.trim()){ce.window.showWarningMessage("No SQL query to execute");return}let u=l.trim().split(/\s+/),E=u[0]||"",d=/python(\.exe)?$/i.test(E)&&u.length>=2&&u[1].toLowerCase().endsWith(".py"),f=E.toLowerCase().endsWith(".py");if(d||f){let h=ce.workspace.getConfiguration("netezza").get("pythonPath")||"python",S="";if(d){let I=u[0],R=u[1],A=u.slice(2);S=ls(I,R,A)}else{let I=E,R=u.slice(1);S=ls(h,I,R)}let p=ce.window.createTerminal({name:"Netezza: Script"});p.show(!0),p.sendText(S,!0),ce.window.showInformationMessage(`Running script: ${S}`);return}try{n.startExecution(a),await Mc(e,[l],r,a,T=>n.log(a,T),T=>n.updateResults(T,a,!0)),n.finalizeExecution(a),ce.commands.executeCommand("netezza.results.focus")}catch(T){let h=T instanceof Error?T.message:String(T);n.finalizeExecution(a),n.log(a,`Error: ${h}`),ce.window.showErrorMessage(`Error executing query: ${h}`)}}),ce.commands.registerCommand("netezza.explainQuery",async()=>{await T4(e,r,!1)}),ce.commands.registerCommand("netezza.explainQueryVerbose",async()=>{await T4(e,r,!0)}),ce.commands.registerCommand("netezza.formatSQL",async()=>{let i=ce.window.activeTextEditor;if(!i){ce.window.showErrorMessage("No active editor");return}if(i.document.languageId!=="sql"&&i.document.languageId!=="mssql"){ce.window.showWarningMessage("Format SQL is only available for SQL files");return}let s=ce.workspace.getConfiguration("netezza"),o=s.get("formatSQL.tabWidth",4),a=s.get("formatSQL.keywordCase","upper"),l=i.selection,c=l.isEmpty?i.document.getText():i.document.getText(l);try{let{format:u}=await Promise.resolve().then(()=>(l4(),a4)),E="__NZ_DOUBLE_DOT__",d=c.replace(/\.\.(?=[a-zA-Z_])/g,`.${E}.`),T=u(d,{language:"sql",tabWidth:o,keywordCase:a,linesBetweenQueries:2}).replace(new RegExp(`\\.\\s*${E}\\s*\\.`,"g"),"..");await i.edit(h=>{if(l.isEmpty){let S=new ce.Range(i.document.positionAt(0),i.document.positionAt(i.document.getText().length));h.replace(S,T)}else h.replace(l,T)}),ce.window.showInformationMessage("SQL formatted successfully")}catch(u){let E=u instanceof Error?u.message:String(u);E.includes("Parse error")?ce.window.showErrorMessage("SQL formatting failed: The SQL contains syntax not supported by the formatter. Try selecting a simpler portion of the SQL to format."):ce.window.showErrorMessage(`Format SQL failed: ${E}`)}})]}async function T4(t,e,r){let n=ce.window.activeTextEditor;if(!n){ce.window.showErrorMessage("No active editor found");return}let i=n.document,s=n.selection,o;if(!s.isEmpty)o=i.getText(s);else{let c=n.selection.active,u=i.offsetAt(c),E=i.getText(),d=Dr.getStatementAtPosition(E,u);d?o=E.substring(d.start,d.end):o=i.getText()}if(!o.trim()){ce.window.showWarningMessage("No SQL query to explain");return}let a=o.trim();a.toUpperCase().startsWith("EXPLAIN")&&(a=a.replace(/^EXPLAIN\s+(?:VERBOSE\s+)?/i,""));let l=r?`EXPLAIN VERBOSE ${a}`:`EXPLAIN ${a}`;try{let c=i.uri.toString(),u=e.getConnectionForExecution(c);if(!u){ce.window.showErrorMessage("No database connection. Please connect first.");return}await ce.window.withProgress({location:ce.ProgressLocation.Notification,title:"Generating query plan...",cancellable:!1},async()=>{let E=await hy(t,l,u,e,c);if(E&&E.trim()){let{parseExplainOutput:d,ExplainPlanView:f}=await Promise.resolve().then(()=>(h4(),d4)),T=d(E);f.createOrShow(t.extensionUri,T,a)}else ce.window.showWarningMessage("No explain output received")})}catch(c){let u=c instanceof Error?c.message:String(c);ce.window.showErrorMessage(`Error generating query plan: ${u}`)}}var Es=Z(require("vscode"));function F0(t,e){let r=e.getKeepConnectionOpen();t.text=r?"\u{1F517} Keep Connection ON":"\u26D3\uFE0F\u200D\u{1F4A5} Keep Connection OFF",t.tooltip=r?"Keep Connection Open: ENABLED - Click to disable":"Keep Connection Open: DISABLED - Click to enable",t.backgroundColor=r?new Es.ThemeColor("statusBarItem.prominentBackground"):void 0}function p4(t,e){let r=Es.window.createStatusBarItem(Es.StatusBarAlignment.Right,100);return r.command="netezza.toggleKeepConnectionOpen",F0(r,e),r.show(),t.subscriptions.push(r),r}function R4(t,e){let r=Es.window.createStatusBarItem(Es.StatusBarAlignment.Left,100);return r.command="netezza.selectConnectionForTab",r.tooltip="Click to select connection for this SQL tab",t.subscriptions.push(r),{statusBarItem:r,updateFn:()=>{let i=Es.window.activeTextEditor;if(i&&i.document.languageId==="sql"){let s=i.document.uri.toString(),o=e.getConnectionForExecution(s);o?(r.text=`$(database) ${o}`,r.show()):(r.text="$(database) Select Connection",r.show())}else r.hide()}}}var je=Z(require("vscode"));io();var A4=/(^|\s)(?:[A-Za-z]:\\|\\|\/)?[\w.\-\\/]+\.py\b|(^|\s)python(?:\.exe)?\s+[^\n]*\.py\b/i,Yp=class{constructor(){this._onDidChange=new je.EventEmitter;this.onDidChangeCodeLenses=this._onDidChange.event}provideCodeLenses(e){let r=[];for(let n=0;n<e.lineCount;n++){let i=e.lineAt(n);if(A4.test(i.text)){let s=i.range,o={title:"Run as script",command:"netezza.runScriptFromLens",arguments:[e.uri,s]};r.push(new je.CodeLens(s,o))}}return r}refresh(){this._onDidChange.fire()}};function _4(){return je.window.createTextEditorDecorationType({backgroundColor:new je.ThemeColor("editor.rangeHighlightBackground"),borderRadius:"3px"})}function I4(){return je.window.createTextEditorDecorationType({backgroundColor:"rgba(5, 115, 201, 0.10)",isWholeLine:!1,rangeBehavior:je.DecorationRangeBehavior.ClosedClosed})}function G0(t,e){let r=e||je.window.activeTextEditor;if(!r)return;let n=r.document,i=[];for(let s=0;s<n.lineCount;s++){let o=n.lineAt(s);A4.test(o.text)&&i.push({range:o.range,hoverMessage:"Python script invocation"})}r.setDecorations(t,i)}function Wp(t,e){if(!je.workspace.getConfiguration("netezza").get("highlightActiveStatement",!0)||!e||e.document.languageId!=="sql"&&e.document.languageId!=="mssql"){e&&e.setDecorations(t,[]);return}try{let i=e.document,s=e.selection.active,o=i.offsetAt(s),a=i.getText(),l=Dr.getStatementAtPosition(a,o);if(l){let c=i.positionAt(l.start),u=i.positionAt(l.end),E=new je.Range(c,u);e.setDecorations(t,[E])}else e.setDecorations(t,[])}catch(i){console.error("Error updating SQL highlight:",i)}}function N4(t,e,r){t.subscriptions.push(je.window.onDidChangeActiveTextEditor(()=>G0(e)),je.workspace.onDidChangeTextDocument(n=>{je.window.activeTextEditor&&n.document===je.window.activeTextEditor.document&&G0(e,je.window.activeTextEditor)})),t.subscriptions.push(je.window.onDidChangeTextEditorSelection(n=>{Wp(r,n.textEditor)}),je.window.onDidChangeActiveTextEditor(n=>{Wp(r,n)}),je.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration("netezza.highlightActiveStatement")&&Wp(r,je.window.activeTextEditor)})),G0(e,je.window.activeTextEditor),Wp(r,je.window.activeTextEditor)}var Fn=Z(require("vscode")),_ye=new Map([["SX","SELECT"],["WX","WHERE"],["GX","GROUP BY"],["HX","HAVING"],["OX","ORDER BY"],["FX","FROM"],["JX","JOIN"],["LX","LIMIT"],["IX","INSERT INTO"],["UX","UPDATE"],["DX","DELETE FROM"],["CX","CREATE TABLE"]]);function O4(t){let e=Fn.workspace.onDidChangeTextDocument(async r=>{if(r.document.languageId!=="sql"&&r.document.languageId!=="mssql"||r.contentChanges.length!==1)return;let n=r.contentChanges[0];if(n.text!==" ")return;let i=Fn.window.activeTextEditor;if(!i||i.document!==r.document)return;let o=r.document.lineAt(n.range.start.line).text;for(let[a,l]of _ye)if(new RegExp(`\\b${a}\\s$`,"i").test(o)){let u=o.toUpperCase().lastIndexOf(a.toUpperCase());if(u>=0){let E=new Fn.Position(n.range.start.line,u),d=new Fn.Position(n.range.start.line,u+a.length+1);await i.edit(f=>{f.replace(new Fn.Range(E,d),l+" ")}),["SELECT","FROM","JOIN"].includes(l)&&setTimeout(()=>{Fn.commands.executeCommand("editor.action.triggerSuggest")},100);break}}});t.subscriptions.push(e)}var m4=[{id:"mtxr.sqltools",name:"SQLTools"},{id:"ms-mssql.mssql",name:"Microsoft SQL Server"},{id:"oracle.oracledevtools",name:"Oracle Developer Tools"},{id:"cweijan.vscode-mysql-client2",name:"MySQL"},{id:"ckolkman.vscode-postgres",name:"PostgreSQL"}];async function Iye(t){let e=re.workspace.getConfiguration("netezza");if(!e.get("showConflictWarnings",!0))return;let n=[];for(let a of m4)re.extensions.getExtension(a.id)&&n.push(a.name);let s=re.extensions.all.filter(a=>{let l=a.packageJSON;if(!l||a.id==="krzysztof-d.justybaselite-netezza"||m4.some(d=>d.id===a.id))return!1;let c=l.activationEvents?.some(d=>d.includes("onLanguage:sql")||d.includes("onLanguage:mssql")),u=l.contributes?.languages?.some(d=>d.id==="sql"||d.extensions?.includes(".sql"));return(l.displayName||"")==="SQL Language Basics"?!1:c||u}).map(a=>a.packageJSON.displayName||a.id),o=[...n,...s];if(o.length>0){let a=o.length===1?`SQL extension detected "${o[0]}" which may cause conflicts (e.g. duplicate keybindings F5, Ctrl+Enter).`:`SQL extensions detected which may cause conflicts: ${o.join(", ")}. Some functions (e.g. F5, Ctrl+Enter) may be duplicated.`;await re.window.showWarningMessage(a,"OK","Do not show again")==="Do not show again"&&await e.update("showConflictWarnings",!1,re.ConfigurationTarget.Global)}}async function Nye(t){console.log("Netezza extension: Activating..."),Iye(t);let e=new Ci(t),r=new Kf(t);await r.initialize();let n=new vf(t,e,r),i=new xc(t.extensionUri);t.subscriptions.push({dispose:()=>{e.closeAllPersistentConnections()}});let s=re.window.createOutputChannel("Netezza"),o=p4(t,e),{updateFn:a}=R4(t,e);a(),e.onDidChangeActiveConnection(R=>{a(),R&&!r.hasConnectionPrefetchTriggered(R)&&r.triggerConnectionPrefetch(R,A=>K(t,A,!0,R,e))}),e.onDidChangeConnections(a),e.onDidChangeDocumentConnection(R=>{a();let A=e.getDocumentConnection(R);A&&!r.hasConnectionPrefetchTriggered(A)&&r.triggerConnectionPrefetch(A,O=>K(t,O,!0,A,e))}),re.window.onDidChangeActiveTextEditor(a),console.log("Netezza extension: Registering SchemaSearchProvider...");let l=new vc(t.extensionUri,t,r,e);console.log("Netezza extension: Registering QueryHistoryView...");let c=new Uc(t.extensionUri,t),u=re.window.createTreeView("netezza.schema",{treeDataProvider:n,showCollapseAll:!0});t.subscriptions.push(re.window.registerWebviewViewProvider(xc.viewType,i),re.window.registerWebviewViewProvider(vc.viewType,l),re.window.registerWebviewViewProvider(Uc.viewType,c));let E=_4(),d=I4();N4(t,E,d);let f=new Yp;t.subscriptions.push(re.languages.registerCodeLensProvider({scheme:"file"},f)),t.subscriptions.push(re.window.onDidChangeActiveTextEditor(R=>{if(R&&R.document){let A=R.document.uri.toString();i.setActiveSource(A)}}));let T=td({context:t,connectionManager:e,metadataCache:r,schemaProvider:n,schemaTreeView:u});t.subscriptions.push(...T);let h=eX({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...h);let S=h6({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...S);let p=S4({context:t,connectionManager:e,resultPanelProvider:i});t.subscriptions.push(...p),t.subscriptions.push(re.commands.registerCommand("netezza.viewEditData",R=>{Yf.createOrShow(t.extensionUri,R,t,e)}),re.commands.registerCommand("netezza.createProcedure",async R=>{let A=R;if(!A||!A.dbName){re.window.showErrorMessage("Invalid selection. Select a Procedure folder.");return}let O=await re.window.showInputBox({prompt:"Enter new procedure name",placeHolder:"NEW_PROCEDURE",value:"NEW_PROCEDURE"});if(O===void 0)return;let L=O.trim()||"NEW_PROCEDURE",D=`CREATE OR REPLACE PROCEDURE ${A.dbName}.SCHEMA.${L}(INTEGER)
RETURNS INTEGER
EXECUTE AS CALLER
LANGUAGE NZPLSQL AS
BEGIN_PROC
DECLARE
    arg1 ALIAS FOR $1;
BEGIN
    -- YOUR CODE GOES HERE
    
    EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE EXCEPTION  'Procedure failed: %', sqlerrm;
        --RAISE NOTICE 'Caught error, continuing %', sqlerrm;

END;
END_PROC;`,y=await re.workspace.openTextDocument({content:D,language:"sql"});await re.window.showTextDocument(y)}),re.commands.registerCommand("netezza.toggleKeepConnectionOpen",()=>{let R=e.getKeepConnectionOpen();e.setKeepConnectionOpen(!R),F0(o,e);let A=!R;re.window.showInformationMessage(A?"Keep connection open: ENABLED - connection will remain open after queries":"Keep connection open: DISABLED - connection will be closed after each query")}),re.commands.registerCommand("netezza.cancelQuery",async()=>{await Ey()}),re.commands.registerCommand("netezza.selectActiveConnection",async()=>{let R=await e.getConnections();if(R.length===0){re.window.showWarningMessage("No connections configured. Please connect first.");return}let A=await re.window.showQuickPick(R.map(O=>O.name),{placeHolder:"Select Active Connection"});A&&(await e.setActiveConnection(A),re.window.showInformationMessage(`Active connection set to: ${A}`))}),re.commands.registerCommand("netezza.selectConnectionForTab",async()=>{let R=re.window.activeTextEditor;if(!R||R.document.languageId!=="sql"){re.window.showWarningMessage("This command is only available for SQL files");return}let A=await e.getConnections();if(A.length===0){re.window.showWarningMessage("No connections configured. Please connect first.");return}let O=R.document.uri.toString(),L=e.getDocumentConnection(O)||e.getActiveConnectionName(),N=A.map(y=>({label:y.name,description:L===y.name?"$(check) Currently selected":`${y.host}:${y.port}/${y.database}`,name:y.name})),D=await re.window.showQuickPick(N,{placeHolder:"Select connection for this SQL tab"});D&&(e.setDocumentConnection(O,D.name),re.window.showInformationMessage(`Connection for this tab set to: ${D.name}`))}),re.commands.registerCommand("netezza.openLogin",()=>{xf.createOrShow(t.extensionUri,e)}),re.commands.registerCommand("netezza.refreshSchema",async()=>{await r.clearCache(),n.refresh(),re.window.showInformationMessage("Schema refreshed (Cache cleared)")}),re.commands.registerCommand("netezza.jumpToSchema",async()=>{let R=re.window.activeTextEditor;if(!R)return;let A=R.document,O=R.selection,L=A.offsetAt(O.active),N=Dr.getObjectAtPosition(A.getText(),L);N?re.commands.executeCommand("netezza.revealInSchema",N):re.window.showWarningMessage("No object found at cursor")}),re.commands.registerCommand("netezza.runScriptFromLens",async(R,A)=>{try{let O=await re.workspace.openTextDocument(R),L=O.getText(A).trim()||O.lineAt(A.start.line).text.trim();if(!L){re.window.showWarningMessage("No script command found");return}let N=L.split(/\s+/),D=N[0]||"",y=/python(\.exe)?$/i.test(D)&&N.length>=2&&N[1].toLowerCase().endsWith(".py"),P=D.toLowerCase().endsWith(".py"),B=re.workspace.getConfiguration("netezza").get("pythonPath")||"python",G="";if(y){let j=N[0],ne=N[1],X=N.slice(2);G=ls(j,ne,X)}else if(P){let j=D,ne=N.slice(1);G=ls(B,j,ne)}else G=ls(B,"",N);let k=re.window.createTerminal({name:"Netezza: Script"});k.show(!0),k.sendText(G,!0),re.window.showInformationMessage(`Running script: ${G}`)}catch(O){let L=O instanceof Error?O.message:String(O);re.window.showErrorMessage(`Error running script: ${L}`)}}),re.commands.registerCommand("netezza.clearAutocompleteCache",async()=>{await re.window.showWarningMessage("Are you sure you want to clear the autocomplete cache? This will remove all cached databases, schemas, tables, and columns.",{modal:!0},"Clear Cache")==="Clear Cache"&&(await r.clearCache(),re.window.showInformationMessage("Autocomplete cache cleared successfully. Cache will be rebuilt on next use."))}),re.commands.registerCommand("netezza.copySelection",()=>{i.triggerCopySelection()})),t.subscriptions.push(re.languages.registerDocumentLinkProvider({language:"sql"},new Gf),re.languages.registerFoldingRangeProvider({language:"sql"},new Hf));let I=new Ff(t,r,e);t.subscriptions.push(re.languages.registerCompletionItemProvider(["sql","mssql"],I,"."," ")),O4(t),Oy(t),t.subscriptions.push(re.languages.registerCodeActionsProvider(["sql","netezza-sql"],new Bc,{providedCodeActionKinds:Bc.providedCodeActionKinds})),console.log("Netezza extension: Activation complete.")}function Oye(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

archiver/lib/error.js:
archiver/lib/core.js:
  (**
   * Archiver Core
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

zip-stream/index.js:
  (**
   * ZipStream
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
   * @copyright (c) 2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/zip.js:
  (**
   * ZIP Format Plugin
   *
   * @module plugins/zip
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/tar.js:
  (**
   * TAR Format Plugin
   *
   * @module plugins/tar
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/json.js:
  (**
   * JSON Format Plugin
   *
   * @module plugins/json
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/index.js:
  (**
   * Archiver Vending
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)
*/
