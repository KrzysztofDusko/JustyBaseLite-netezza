"use strict";var WW=Object.create;var uf=Object.defineProperty;var jW=Object.getOwnPropertyDescriptor;var zW=Object.getOwnPropertyNames;var HW=Object.getPrototypeOf,VW=Object.prototype.hasOwnProperty;var yn=(t,e)=>()=>(t&&(e=t(t=0)),e);var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),mn=(t,e)=>{for(var r in e)uf(t,r,{get:e[r],enumerable:!0})},Yx=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zW(e))!VW.call(t,i)&&i!==r&&uf(t,i,{get:()=>e[i],enumerable:!(n=jW(e,i))||n.enumerable});return t};var Ye=(t,e,r)=>(r=t!=null?WW(HW(t)):{},Yx(e||!t||!t.__esModule?uf(r,"default",{value:t,enumerable:!0}):r,t)),GW=t=>Yx(uf({},"__esModule",{value:!0}),t);var V0=x((Ebe,Jx)=>{"use strict";var H0=class{static readInt32(e,r=0){return e.readInt32BE(r)}static readInt16(e,r=0){return e.readInt16BE(r)}static writeInt32(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt32BE(r,n);else{let i=Buffer.allocUnsafe(4);i.writeInt32BE(r,0),e.write(i)}}static writeInt16(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt16BE(r,n);else{let i=Buffer.allocUnsafe(2);i.writeInt16BE(r,0),e.write(i)}}};Jx.exports=H0});var ff=x((Sbe,Kx)=>{"use strict";var YW={AuthenticationRequest:82,ErrorResponse:69,NoticeResponse:78,BackendKeyData:75,ReadyForQuery:90,RowDescription:84,RowDescriptionStandard:88,DataRow:68,CommandComplete:67,EmptyQueryResponse:73,RowStandard:89,CopyInResponse:71,CopyOutResponse:72,CopyDone:99,CopyData:100},JW={NzTypeRecAddr:1,NzTypeDouble:2,NzTypeInt:3,NzTypeFloat:4,NzTypeMoney:5,NzTypeDate:6,NzTypeNumeric:7,NzTypeTime:8,NzTypeTimestamp:9,NzTypeInterval:10,NzTypeTimeTz:11,NzTypeBool:12,NzTypeInt1:13,NzTypeBinary:14,NzTypeChar:15,NzTypeVarChar:16,NzDEPR_Text:17,NzTypeUnknown:18,NzTypeInt2:19,NzTypeInt8:20,NzTypeVarFixedChar:21,NzTypeGeometry:22,NzTypeVarBinary:23,NzDEPR_Blob:24,NzTypeNChar:25,NzTypeNVarChar:26,NzDEPR_NText:27,NzTypeJson:30,NzTypeJsonb:31,NzTypeJsonpath:32,NzTypeLastEntry:33,NzTypeIntvsAbsTimeFIX:39},KW={CP_VERSION_2:2,CP_VERSION_3:3,CP_VERSION_4:4,CP_VERSION_5:5,CP_VERSION_6:6},XW={HSV2_CLIENT_BEGIN:1,HSV2_DB:2,HSV2_USER:3,HSV2_OPTIONS:4,HSV2_REMOTE_PID:6,HSV2_CLIENT_TYPE:8,HSV2_PROTOCOL:9,HSV2_SSL_NEGOTIATE:11,HSV2_SSL_CONNECT:12,HSV2_APPNAME:13,HSV2_CLIENT_OS:14,HSV2_CLIENT_HOST_NAME:15,HSV2_CLIENT_OS_USER:16,HSV2_64BIT_VARLENA_ENABLED:17,HSV2_CLIENT_DONE:1e3},ZW={DATA:1,ERROR:2,DONE:3};Kx.exports={BackendMessageCode:YW,NzType:JW,ProtocolVersion:KW,HandshakeCode:XW,ExtabSock:ZW}});var Zx=x((xbe,Xx)=>{var Fo=1e3,Bo=Fo*60,ko=Bo*60,ms=ko*24,QW=ms*7,e4=ms*365.25;Xx.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return t4(t);if(r==="number"&&isFinite(t))return e.long?n4(t):r4(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function t4(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*e4;case"weeks":case"week":case"w":return r*QW;case"days":case"day":case"d":return r*ms;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ko;case"minutes":case"minute":case"mins":case"min":case"m":return r*Bo;case"seconds":case"second":case"secs":case"sec":case"s":return r*Fo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function r4(t){var e=Math.abs(t);return e>=ms?Math.round(t/ms)+"d":e>=ko?Math.round(t/ko)+"h":e>=Bo?Math.round(t/Bo)+"m":e>=Fo?Math.round(t/Fo)+"s":t+"ms"}function n4(t){var e=Math.abs(t);return e>=ms?df(t,e,ms,"day"):e>=ko?df(t,e,ko,"hour"):e>=Bo?df(t,e,Bo,"minute"):e>=Fo?df(t,e,Fo,"second"):t+" ms"}function df(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var G0=x((vbe,Qx)=>{function i4(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=Zx(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,h=null,f,g;function p(...m){if(!p.enabled)return;let y=p,S=Number(new Date),b=S-(d||S);y.diff=b,y.prev=d,y.curr=S,d=S,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let w=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(O,C)=>{if(O==="%%")return"%";w++;let B=r.formatters[C];if(typeof B=="function"){let N=m[w];O=B.call(y,N),m.splice(w,1),w--}return O}),r.formatArgs.call(y,m),(y.log||r.log).apply(y,m)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(f!==r.namespaces&&(f=r.namespaces,g=r.enabled(u)),g),set:m=>{h=m}}),typeof r.init=="function"&&r.init(p),p}function n(u,d){let h=r(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let h of d)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function s(u,d){let h=0,f=0,g=-1,p=0;for(;h<u.length;)if(f<d.length&&(d[f]===u[h]||d[f]==="*"))d[f]==="*"?(g=f,p=h,f++):(h++,f++);else if(g!==-1)f=g+1,p++,h=p;else return!1;for(;f<d.length&&d[f]==="*";)f++;return f===d.length}function o(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function a(u){for(let d of r.skips)if(s(u,d))return!1;for(let d of r.names)if(s(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Qx.exports=i4});var ev=x((Cr,hf)=>{Cr.formatArgs=o4;Cr.save=a4;Cr.load=l4;Cr.useColors=s4;Cr.storage=c4();Cr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Cr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s4(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o4(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+hf.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Cr.log=console.debug||console.log||(()=>{});function a4(t){try{t?Cr.storage.setItem("debug",t):Cr.storage.removeItem("debug")}catch{}}function l4(){let t;try{t=Cr.storage.getItem("debug")||Cr.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function c4(){try{return localStorage}catch{}}hf.exports=G0()(Cr);var{formatters:u4}=hf.exports;u4.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var rv=x((Tbe,tv)=>{"use strict";tv.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var sv=x((Rbe,iv)=>{"use strict";var f4=require("os"),nv=require("tty"),qr=rv(),{env:Ut}=process,Oi;qr("no-color")||qr("no-colors")||qr("color=false")||qr("color=never")?Oi=0:(qr("color")||qr("colors")||qr("color=true")||qr("color=always"))&&(Oi=1);"FORCE_COLOR"in Ut&&(Ut.FORCE_COLOR==="true"?Oi=1:Ut.FORCE_COLOR==="false"?Oi=0:Oi=Ut.FORCE_COLOR.length===0?1:Math.min(parseInt(Ut.FORCE_COLOR,10),3));function Y0(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function J0(t,e){if(Oi===0)return 0;if(qr("color=16m")||qr("color=full")||qr("color=truecolor"))return 3;if(qr("color=256"))return 2;if(t&&!e&&Oi===void 0)return 0;let r=Oi||0;if(Ut.TERM==="dumb")return r;if(process.platform==="win32"){let n=f4.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Ut)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Ut)||Ut.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Ut)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ut.TEAMCITY_VERSION)?1:0;if(Ut.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ut){let n=parseInt((Ut.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ut.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ut.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ut.TERM)||"COLORTERM"in Ut?1:r}function d4(t){let e=J0(t,t&&t.isTTY);return Y0(e)}iv.exports={supportsColor:d4,stdout:Y0(J0(!0,nv.isatty(1))),stderr:Y0(J0(!0,nv.isatty(2)))}});var av=x((Wt,gf)=>{var h4=require("tty"),pf=require("util");Wt.init=_4;Wt.log=m4;Wt.formatArgs=g4;Wt.save=b4;Wt.load=w4;Wt.useColors=p4;Wt.destroy=pf.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Wt.colors=[6,2,3,4,5,1];try{let t=sv();t&&(t.stderr||t).level>=2&&(Wt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Wt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function p4(){return"colors"in Wt.inspectOpts?!!Wt.inspectOpts.colors:h4.isatty(process.stderr.fd)}function g4(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+gf.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=y4()+e+" "+t[0]}function y4(){return Wt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function m4(...t){return process.stderr.write(pf.formatWithOptions(Wt.inspectOpts,...t)+`
`)}function b4(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function w4(){return process.env.DEBUG}function _4(t){t.inspectOpts={};let e=Object.keys(Wt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Wt.inspectOpts[e[r]]}gf.exports=G0()(Wt);var{formatters:ov}=gf.exports;ov.o=function(t){return this.inspectOpts.colors=this.useColors,pf.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};ov.O=function(t){return this.inspectOpts.colors=this.useColors,pf.inspect(t,this.inspectOpts)}});var X0=x((Abe,K0)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?K0.exports=ev():K0.exports=av()});var cv=x((Cbe,lv)=>{"use strict";var E4=require("crypto"),ie=V0(),{BackendMessageCode:bs,HandshakeCode:we,ProtocolVersion:Xn}=ff(),Nt=X0()("nz:handshake"),Z0=class{constructor(e,r,n,i={}){this._socket=e,this._stream=r,this._host=n,this._options=i,this._hsVersion=-1,this._protocol1=-1,this._protocol2=-1,this._guardiumClientOS=process.platform,this._guardiumClientOSUser=process.env.USERNAME||process.env.USER||"unknown",this._guardiumAppName="scJs-Driver",this._guardiumClientHostName=require("os").hostname(),this.NPSCLIENT_TYPE_DOTNET=11}async startup(e,r,n){if(!await this.connHandshakeNegotiate())throw new Error("Handshake negotiation unsuccessful");if(Nt("Sending handshake info"),!await this.connSendHandshakeInfo(e,r))throw new Error("Error in ConnSendHandshakeInfo");if(!await this.connAuthenticate(n))throw new Error("Error in ConnAuthenticate");if(!await this.connConnectionComplete())throw new Error("Error in ConnConnectionComplete");return this._stream}async _readExactly(e){return new Promise((r,n)=>{let i=this._stream.read(e);i?r(i):this._stream.once("readable",()=>{let s=this._stream.read(e);s&&r(s)})})}async readBytes(e){for(;;){let r=this._stream.read(e);if(r!==null)return r;await new Promise(n=>this._stream.once("readable",n))}}async readByte(){return(await this.readBytes(1))[0]}async connHandshakeNegotiate(){let e=Xn.CP_VERSION_6;for(;;){Nt(`Sending version: ${e}`),ie.writeInt32(this._stream,8),ie.writeInt16(this._stream,we.HSV2_CLIENT_BEGIN),ie.writeInt16(this._stream,e);let r=await this.readByte();if(Nt(`Got response: ${String.fromCharCode(r)}`),r===78)return this._hsVersion=e,this._protocol2=0,!0;if(r===77){let n=await this.readByte(),i=String.fromCharCode(n);i==="2"?e=Xn.CP_VERSION_2:i==="3"?e=Xn.CP_VERSION_3:i==="4"?e=Xn.CP_VERSION_4:i==="5"&&(e=Xn.CP_VERSION_5)}else return!1}}async connSendHandshakeInfo(e,r){return await this.connSendDatabase(e)?(await this.connSecureSession(),this.connSetNextDataProtocol(this._protocol1,this._protocol2),this._hsVersion===Xn.CP_VERSION_6||this._hsVersion===Xn.CP_VERSION_4?this.connSendHandshakeVersion4(this._hsVersion,r):this.connSendHandshakeVersion2(this._hsVersion,r)):!1}async connSendDatabase(e){let r=Buffer.from(e,"utf8"),n=6+r.length+1;return ie.writeInt32(this._stream,n),ie.writeInt16(this._stream,we.HSV2_DB),this._stream.write(r),this._stream.write(Buffer.from([0])),await this.readByte()===78}async connSecureSession(){let r=0,n=this._options.securityLevel;n==="OnlyUnsecuredSession"?r=1:n==="PreferredSecuredSession"?r=2:n==="OnlySecuredSession"&&(r=3),ie.writeInt32(this._stream,10),ie.writeInt16(this._stream,we.HSV2_SSL_NEGOTIATE),ie.writeInt32(this._stream,r);let i=await this.readByte();if(i===78){if(this._options.securityLevel==="OnlySecuredSession")throw new Error("Server refused secure session, but OnlySecuredSession was requested.");return!0}if(i===83){Nt("Upgrading to SSL...");let s=Buffer.alloc(6);s.writeInt32BE(6,0),s.writeInt16BE(we.HSV2_SSL_CONNECT,4),await new Promise(l=>{this._stream.write(s)?l():this._stream.once("drain",l)}),this._socket.removeAllListeners("data"),this._socket.removeAllListeners("readable");let o=require("tls"),a={socket:this._socket,rejectUnauthorized:!1};if(this._options.sslCerFilePath){this._options.rejectUnauthorized===!1?a.rejectUnauthorized=!1:a.rejectUnauthorized=!0;try{let l=require("fs");a.ca=l.readFileSync(this._options.sslCerFilePath)}catch(l){throw Nt("Failed to load cert file",l),l}}return new Promise((l,c)=>{let u=o.connect(a,()=>{Nt("SSL Connected"),this._stream=u,this._stream.on("error",d=>{Nt("Secure Stream Error",d)}),this.readByte().then(d=>{d===78?l(!0):c(new Error(`SSL Handshake failed: Unexpected response ${String.fromCharCode(d)}`))}).catch(d=>{Nt("Failed to read SSL confirmation",d),c(d)})});u.on("error",d=>{Nt("SSL Connection Error",d),c(d)})})}return!1}connSetNextDataProtocol(e,r){return this._protocol2===0&&(this._protocol2=5),this._protocol1=3,!0}async connSendHandshakeVersion4(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,we.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=we.HSV2_APPNAME;for(;s!==0;){if(await this.readByte()!==78)return!1;switch(s){case we.HSV2_APPNAME:await this.sendStringOption(s,this._guardiumAppName),s=we.HSV2_CLIENT_OS;break;case we.HSV2_CLIENT_OS:await this.sendStringOption(s,this._guardiumClientOS),s=we.HSV2_CLIENT_HOST_NAME;break;case we.HSV2_CLIENT_HOST_NAME:await this.sendStringOption(s,this._guardiumClientHostName),s=we.HSV2_CLIENT_OS_USER;break;case we.HSV2_CLIENT_OS_USER:await this.sendStringOption(s,this._guardiumClientOSUser),s=we.HSV2_PROTOCOL;break;case we.HSV2_PROTOCOL:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,this._protocol1),ie.writeInt16(this._stream,this._protocol2),s=we.HSV2_REMOTE_PID;break;case we.HSV2_REMOTE_PID:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt32(this._stream,process.pid),s=we.HSV2_CLIENT_TYPE;break;case we.HSV2_CLIENT_TYPE:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,11),e>=5?s=we.HSV2_64BIT_VARLENA_ENABLED:s=we.HSV2_CLIENT_DONE;break;case we.HSV2_64BIT_VARLENA_ENABLED:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,1),s=we.HSV2_CLIENT_DONE;break;case we.HSV2_CLIENT_DONE:return i=6,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),s=0,!0}}return!1}async connSendHandshakeVersion2(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,we.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=we.HSV2_PROTOCOL;for(;s!==0;){Nt(`Waiting for response in v2 loop. Info: ${s}`);let o=await this.readByte();if(Nt(`Got response: ${String.fromCharCode(o)}`),o===78)switch(s){case we.HSV2_PROTOCOL:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,this._protocol1),ie.writeInt16(this._stream,this._protocol2),s=we.HSV2_REMOTE_PID;break;case we.HSV2_REMOTE_PID:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt32(this._stream,process.pid),s=we.HSV2_CLIENT_TYPE;break;case we.HSV2_OPTIONS:s=we.HSV2_CLIENT_TYPE;break;case we.HSV2_CLIENT_TYPE:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,11),e===Xn.CP_VERSION_5||e===Xn.CP_VERSION_6?s=we.HSV2_64BIT_VARLENA_ENABLED:s=we.HSV2_CLIENT_DONE;break;case we.HSV2_64BIT_VARLENA_ENABLED:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,1),s=we.HSV2_CLIENT_DONE;break;case we.HSV2_CLIENT_DONE:return i=6,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),s=0,!0}else throw o===bs.ErrorResponse?new Error("Handshake V2 Failed: ErrorResponse from backend"):new Error(`Handshake V2 Failed: Unexpected response ${String.fromCharCode(o)}`)}return!1}async sendStringOption(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,e),this._stream.write(n),this._stream.write(Buffer.from([0]))}async connAuthenticate(e){if(await this.readByte()!==bs.AuthenticationRequest)return!1;let n=ie.readInt32(await this.readBytes(4));if(Nt(`Auth request: ${n}`),n===0)return!0;if(n===3){let i=Buffer.from(e,"utf8"),s=4+i.length+1;return ie.writeInt32(this._stream,s),this._stream.write(i),this._stream.write(Buffer.from([0])),!0}if(n===5){let i=await this.readBytes(2),s=Buffer.from(e,"utf8"),a=E4.createHash("md5").update(Buffer.concat([i,s])).digest("base64").replace(/=+$/,""),l=Buffer.from(a,"utf8"),c=4+l.length+1;return ie.writeInt32(this._stream,c),this._stream.write(l),this._stream.write(Buffer.from([0])),!0}return!1}async readString(){let e=[];for(;;){let r=await this.readByte();if(r===0)break;e.push(r)}return Buffer.from(e).toString("utf8")}async connConnectionComplete(){for(;;){let e=await this.readByte();if(Nt(`Resp: ${String.fromCharCode(e)} (0x${e.toString(16)})`),e===bs.AuthenticationRequest){let n=ie.readInt32(await this.readBytes(4));Nt(`Auth req in complete: ${n}`);continue}if(e===bs.ErrorResponse){let n=await this.readBytes(4),i=ie.readInt32(n);if(i<0||i>1e8){let o=n.toString("utf8");throw o+=await this.readString(),new Error(`Backend Error: ${o}`)}let s=await this.readBytes(i-4);throw new Error(`Backend Error: ${s.toString()}`)}let r=await this.readBytes(4);if(Nt(`Skipped 4 bytes: ${r.toString("hex")}`),e===bs.BackendKeyData){let n=await this.readBytes(4);Nt(`KeyData Padding: ${n.toString("hex")}`);let i=ie.readInt32(await this.readBytes(4)),s=ie.readInt32(await this.readBytes(4));Nt(`KeyData: PID=${i} Key=${s}`),this.backendProcessId=i,this.backendSecretKey=s;continue}if(e===bs.ReadyForQuery)return Nt("ReadyForQuery"),!0;if(e===bs.NoticeResponse){let n=ie.readInt32(await this.readBytes(4)),i=await this.readBytes(n);Nt(`Notice: ${i.toString()}`);continue}}}};lv.exports=Z0});var fv=x((Ibe,uv)=>{"use strict";var Q0=class{constructor(e){this.connection=e,this.commandText="",this.parameters=[],this._recordsAffected=-1,this.commandTimeout=e.commandTimeout!==void 0?e.commandTimeout:30}async execute(){return this.connection.execute(this,!1)}async executeNonQuery(){return await this.connection.execute(this,!1),this._recordsAffected}async executeReader(){return this.connection.executeReader(this)}async cancel(){return this.connection.cancel()}};uv.exports=Q0});var hv=x((Dbe,dv)=>{"use strict";var{NzType:Nbe}=ff(),eg=class{constructor(e,r,n,i,s){this.command=e,this.generator=r,this.columnDescriptions=n||[],this.releaseCallback=i,this.currentRow=null,this.closed=!1,this._initNameIndex(),this._pendingColumns=null,this._isFinished=!1,this._nextItem=s,this._hasRows=!!(this._nextItem&&this._nextItem.type==="DataRow")}get hasRows(){return this._hasRows}_initNameIndex(){if(this._nameIndex={},this.columnDescriptions)for(let e=0;e<this.columnDescriptions.length;e++)this._nameIndex[this.columnDescriptions[e].name.toLowerCase()]=e}_markFinished(){this._isFinished=!0,this._nextItem=null,this._hasRows=!1,this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}async nextResult(){if(this._pendingColumns){for(this.columnDescriptions=this._pendingColumns,this._pendingColumns=null,this._initNameIndex(),this.currentRow=null;;){let e=await this.generator.next();if(e.done){this._nextItem=null,this._hasRows=!1;break}let r=e.value;if(r.type!=="RowDescriptionStandard")if(r.type==="DataRow"){this._nextItem=r,this._hasRows=!0;break}else if(r.type==="CommandComplete"){this._nextItem=r,this._hasRows=!1;break}else{this._nextItem=r,this._hasRows=!1;break}}return!0}if(this.closed||this._isFinished)return!1;for(;;){let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),!1;let r=e.value;if(r.type==="RowDescription"){this.columnDescriptions=r.columns,this._initNameIndex(),this.currentRow=null;continue}if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;this.columnDescriptions.length===0&&n&&n.description&&(this.columnDescriptions=n.description,this._initNameIndex()),this.currentRow=null;continue}if(r.type==="DataRow")return this._nextItem=r,this._hasRows=!0,!0;if(r.type!=="CommandComplete"){if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");if(r.type==="ReadyForQuery")return this._markFinished(),!1}}}getSchemaTable(){if(!this.columnDescriptions)return[];let e=[];for(let r=0;r<this.columnDescriptions.length;r++){let n=this.columnDescriptions[r],i={ColumnName:n.name,ColumnOrdinal:r+1,ColumnSize:-1,NumericPrecision:0,NumericScale:0,DataType:String,ProviderType:n.typeOid,AllowDBNull:!0,IsReadOnly:!0,IsLong:!1},s=n.typeMod,o=n.typeOid,a={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700},l=16;switch(o){case a.Bool:i.DataType=Boolean,i.ColumnSize=1;break;case a.Int2:i.DataType=Number,i.ColumnSize=2;break;case a.Int4:i.DataType=Number,i.ColumnSize=4;break;case a.Int8:i.DataType=Number,i.ColumnSize=8;break;case 700:case 701:i.DataType=Number,i.ColumnSize=o===701?8:4,i.NumericPrecision=o===701?53:24;break;case a.Numeric:if(i.DataType=Number,s>l){let c=s-l>>16,u=s-l&65535;i.NumericPrecision=c,i.NumericScale=u,i.ColumnSize=Math.floor(c/2)+1,i.ColumnSize<n.typeLen&&n.typeLen>0&&(i.ColumnSize=n.typeLen)}else i.ColumnSize=n.typeLen;break;case a.Date:case a.Timestamp:case a.TimestampTz:case a.Time:case a.TimeTz:i.DataType=Date,(o===a.Time||o===a.TimeTz)&&(i.DataType=Object),i.ColumnSize=n.typeLen;break;case a.Char:case a.BpChar:case a.VarChar:case a.Text:case a.Name:case a.ShowDate:i.DataType=String,s>l?i.ColumnSize=s-l:(i.ColumnSize=-1,n.typeLen>0&&(i.ColumnSize=n.typeLen)),i.ColumnSize>8e3&&(i.IsLong=!0);break;default:i.DataType=String,i.ColumnSize=n.typeLen;break}e.push(i)}return{Rows:e,Columns:{Count:e.length}}}getTypeName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);let n=this.columnDescriptions[e].typeOid,i={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700,Float4:700,Float8:701};switch(n){case i.Bool:return"BOOL";case i.Bytea:return"BYTEA";case i.Char:return"CHAR";case i.Name:return"NAME";case i.Int8:return"INT8";case i.Int2:return"INT2";case i.Int4:return"INT4";case i.Text:return"TEXT";case i.BpChar:return"CHAR";case i.VarChar:return"VARCHAR";case i.Date:return"DATE";case i.Time:return"TIME";case i.Timestamp:return"TIMESTAMP";case i.TimestampTz:return"TIMESTAMPTZ";case i.Interval:return"INTERVAL";case i.TimeTz:return"TIMETZ";case i.Numeric:return"NUMERIC";case i.Float4:return"FLOAT4";case i.Float8:return"FLOAT8";case 2530:return"DATE";case 15:return"CHAR";case 16:return"BOOL";default:return`UNKNOWN(${n})`}}async read(){if(this.closed||this._isFinished||this._pendingColumns)return!1;let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),this.currentRow=null,!1;let r=e.value;if(r.type==="DataRow")return this.currentRow=r.row,!0;if(r.type==="RowDescription")return this._pendingColumns=r.columns,this.currentRow=null,!1;if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;return this._pendingColumns=n&&n.description?n.description:this.columnDescriptions,this.currentRow=null,!1}if(r.type==="CommandComplete")return this.currentRow=null,this.read();if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");return r.type==="ReadyForQuery"?(this._markFinished(),this.currentRow=null,!1):this.read()}getValue(e){return this._validateOrdinal(e),this.currentRow[e]}getValueByName(e){let r=this.getOrdinal(e);return this.getValue(r)}getName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);return this.columnDescriptions[e].name}getOrdinal(e){let r=this._nameIndex[e.toLowerCase()];if(r===void 0)throw new Error(`Column '${e}' not found`);return r}get fieldCount(){return this.columnDescriptions?.length||0}get FieldCount(){return this.fieldCount}isDBNull(e){return this._validateOrdinal(e),this.currentRow[e]===null}getBoolean(e){let r=this.getValue(e);return r===null?!1:typeof r=="boolean"?r:typeof r=="string"?r.toLowerCase()==="t"||r==="1"||r.toLowerCase()==="true":!!r}getByte(e){let r=this.getValue(e);return r===null?0:Number(r)&255}getInt16(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt32(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt64(e){let r=this.getValue(e);return r===null?0:typeof r=="bigint"?r:Number(r)}getFloat(e){let r=this.getValue(e);return r===null?0:Number(r)}getDouble(e){let r=this.getValue(e);return r===null?0:Number(r)}getDecimal(e){let r=this.getValue(e);return r===null?0:typeof r=="string"?r:Number(r)}getString(e){let r=this.getValue(e);return r===null?null:typeof r=="string"?r:r.toString?r.toString():String(r)}getDateTime(e){let r=this.getValue(e);return r===null?null:r instanceof Date?r:new Date(r)}getTimeSpan(e){let r=this.getValue(e);if(r===null)return null;if(typeof r=="object"&&"hours"in r)return r;if(typeof r=="string"){let n=r.split(":");if(n.length>=2){let i=(n[2]||"0").split(".");return{hours:parseInt(n[0],10),minutes:parseInt(n[1],10),seconds:parseInt(i[0],10),microseconds:i.length>1?parseInt(i[1].padEnd(6,"0"),10):0,toString(){return r}}}}return r}getRowObject(){if(!this.currentRow)return null;let e={};for(let r=0;r<this.columnDescriptions.length;r++)e[this.columnDescriptions[r].name]=this.currentRow[r];return e}getValues(){return this.currentRow?[...this.currentRow]:[]}async close(){if(!this.closed){if(this.closed=!0,!this._isFinished&&this.generator)try{for await(let e of this.generator)if(e.type==="ReadyForQuery")break}catch{}this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}}get isClosed(){return this.closed}_validateOrdinal(e){if(!this.currentRow)throw new Error("No current row. Did you call read()?");if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`)}async*[Symbol.asyncIterator](){for(;await this.read();)yield this.getRowObject()}};dv.exports=eg});var gv=x((Obe,pv)=>{"use strict";var tg=class{constructor(){this.version=null,this.nullsAllowed=null,this.sizeWord=null,this.sizeWordSize=null,this.numFixedFields=null,this.numVaryingFields=null,this.fixedFieldsSize=0,this.maxRecordSize=null,this.numFields=0,this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[],this.dateStyle=null,this.euroDates=null}clear(){this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[]}parse(e,r){this.clear();let n=0;this.version=e.readInt32BE(n),n+=4,this.nullsAllowed=e.readInt32BE(n),n+=4,this.sizeWord=e.readInt32BE(n),n+=4,this.sizeWordSize=e.readInt32BE(n),n+=4,this.numFixedFields=e.readInt32BE(n),n+=4,this.numVaryingFields=e.readInt32BE(n),n+=4,this.fixedFieldsSize=e.readInt32BE(n),n+=4,this.maxRecordSize=e.readInt32BE(n),n+=4,this.numFields=e.readInt32BE(n),n+=4;let i=3,s=39;for(let o=0;o<this.numFields;o++){let a=e.readInt32BE(n);a===i&&r?.description?.[o]?.typeOid===702&&(a=s),this.fieldType.push(a),this.fieldSize.push(e.readInt32BE(n+4)),this.fieldTrueSize.push(e.readInt32BE(n+8)),this.fieldOffset.push(e.readInt32BE(n+12)),this.fieldPhysField.push(e.readInt32BE(n+16)),this.fieldLogField.push(e.readInt32BE(n+20)),this.fieldNullAllowed.push(e.readInt32BE(n+24)!==0),this.fieldFixedSize.push(e.readInt32BE(n+28)),this.fieldSpringField.push(e.readInt32BE(n+32)),n+=36}this.dateStyle=e.readInt32BE(n),n+=4,this.euroDates=e.readInt32BE(n)}getFieldPrecision(e){return this.fieldSize[e]>>8&127}getFieldScale(e){return this.fieldSize[e]&255}getNumericDigitCount(e){return Math.floor(this.fieldTrueSize[e]/4)}};pv.exports=tg});var bv=x((Lbe,mv)=>{"use strict";var rg=Date.UTC(2e3,0,1);function S4(t){let e=t.readBigInt64LE(0),r=Number(e/1000n);return new Date(rg+r)}function x4(t){let r=t.readInt32LE(0)*24*60*60*1e3;return new Date(rg+r)}function ng(t){let e=t.readBigInt64LE(0),r=Number(e/1000000n),n=Number(e%1000000n),i=Math.floor(r/3600),s=Math.floor(r%3600/60),o=r%60;return{hours:i,minutes:s,seconds:o,microseconds:n,toString(){let a=String(i).padStart(2,"0"),l=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");if(n>0){let u=String(n).padStart(6,"0");return`${a}:${l}:${c}.${u}`}return`${a}:${l}:${c}`}}}function v4(t){if(!t)return null;let e=t.split(":"),r=parseInt(e[0],10)||0,n=parseInt(e[1],10)||0,i=(e[2]||"0").split("."),s=parseInt(i[0],10)||0,o=0;return i.length>1&&(o=parseInt(i[1].substring(0,6).padEnd(6,"0"),10)),{hours:r,minutes:n,seconds:s,microseconds:o,toString(){return t}}}function T4(t){let e=t.readBigInt64LE(0),r=t.readInt32LE(8),n=ng(t);if(r===0)return n.toString();let i=Math.floor(r/12),s=r%12;return i>0?`${i} years ${s} mons ${n.toString()}`:`${s} mons ${n.toString()}`}function R4(t,e){let r=ng(t),n=t.readInt32LE(e-4),i=n<0?"+":"-",s=Math.abs(n),o=Math.floor(s/3600),a=Math.floor(s%3600/60),l=s%60,c=String(o).padStart(2,"0");return l!==0?c+=":"+String(a).padStart(2,"0")+":"+String(l).padStart(2,"0"):a!==0&&(c+=":"+String(a).padStart(2,"0")),`${r.toString()}${i}${c}`}function A4(t){let e=t.readInt32LE(0);return new Date(e*1e3)}var $o=4,Il=38,yv=2147483648;function C4(t,e,r,n){let i=e<=9?1:e<=18?2:4,s=[];for(let f=0;f<i;f++)s.push(t.readUInt32LE(f*4));let o=(s[0]&yv)!==0?4294967295:0,a=new Array($o).fill(o);for(let f=$o-n,g=0;f<$o;f++,g++)a[f]=s[g];let l=(a[0]&yv)!==0;l&&N4(a);let c=new Array(Il).fill(0);for(let f=0;f<Il;f++)c[Il-f-1]=I4(a);let u="",d=!0;for(let f=0;f<Il;f++)f<Il-r-1&&d&&c[f]===0||(d=!1,u+=String(c[f]));if(u===""&&(u="0"),r!==0){let f=u.slice(0,-r)||"0",g=u.slice(-r).padStart(r,"0");u=f+"."+g}l&&(u="-"+u);let h=parseFloat(u);return e<=15&&u===String(h)?h:u}function I4(t){let e=0;for(let r=0;r<$o;r++){let n=t[r]+e*4294967296;n!==0?(t[r]=Math.floor(n/10),e=n%10):(t[r]=0,e=0)}return e}function N4(t){for(let r=0;r<$o;r++)t[r]=~t[r]>>>0;let e=1;for(let r=$o-1;r>=0&&e;r--){let n=t[r]+e;t[r]=n>>>0,e=n>4294967295?1:0}}mv.exports={toDateTimeFrom8Bytes:S4,toDateTimeFrom4Bytes:x4,timeRecvFloat:ng,parseTimeString:v4,intervalRecvFloat:T4,timetzOutput:R4,timestampRecvInt:A4,getCsNumeric:C4,POSTGRES_EPOCH_MS:rg}});var Sv=x((Mbe,Ev)=>{"use strict";var wv="utf8",_v="latin1";function D4(t,e,r){return r+e>t.length&&(r=t.length-e),t.toString(wv,e,e+r)}function O4(t,e,r){return r+e>t.length&&(r=t.length-e),t.toString(_v,e,e+r)}function L4(t,e,r){return t.toString("ascii",e,e+r)}function M4(t,e){return t[e]===116}function P4(t,e,r){let n=t.toString("ascii",e,e+r);return parseInt(n,10)}function F4(t,e,r){let n=t.toString("ascii",e,e+r);return parseInt(n,10)}function B4(t,e,r){let n=t.toString("ascii",e,e+r);return parseInt(n,10)}function k4(t,e,r){let n=t.toString("ascii",e,e+r),i=parseInt(n,10);return i>Number.MAX_SAFE_INTEGER||i<Number.MIN_SAFE_INTEGER?BigInt(n):i}function $4(t,e,r){let n=t.toString("ascii",e,e+r);return parseFloat(n)}function q4(t,e,r){let n=t.toString("ascii",e,e+r);return parseFloat(n)}function U4(t,e,r){let n=t.toString("ascii",e,e+r),i=parseFloat(n);return n.includes(".")&&n.length>15?n:i}function W4(t,e,r){return t.toString("ascii",e,e+r)}function j4(t,e,r){let n=t.toString("ascii",e,e+r);try{let i=parseInt(n.substring(0,4),10),s=parseInt(n.substring(5,7),10)-1,o=parseInt(n.substring(8,10),10);return new Date(Date.UTC(i,s,o))}catch{return new Date(0)}}function z4(t,e,r){let n=t.toString("ascii",e,e+r),i=parseInt(n.substring(0,2),10),s=parseInt(n.substring(3,5),10),a=n.substring(6).split("."),l=parseInt(a[0],10),c=a.length>1?parseInt(a[1].padEnd(6,"0").substring(0,6),10):0;return{hours:i,minutes:s,seconds:l,microseconds:c,toString(){let u=String(i).padStart(2,"0"),d=String(s).padStart(2,"0"),h=String(l).padStart(2,"0");if(c>0){let f=String(c).padStart(6,"0");return`${u}:${d}:${h}.${f}`}return`${u}:${d}:${h}`}}}function H4(t,e,r){let n=t.toString("ascii",e,e+r);return new Date(n)}function V4(t,e){let n=t.readDoubleLE(e);return new Date((946684800+n)*1e3)}function G4(t,e,r){if(r!==16)throw new Error("UUID must be exactly 16 bytes");let n=t.toString("hex",e,e+16);return`${n.substr(0,8)}-${n.substr(8,4)}-${n.substr(12,4)}-${n.substr(16,4)}-${n.substr(20,12)}`}Ev.exports={CLIENT_ENCODING:wv,CHAR_VARCHAR_ENCODING:_v,textRecv:D4,textRecvLatin1:O4,byteaRecv:L4,boolRecv:M4,byteRecv:P4,int2Recv:F4,int4Recv:B4,int8Recv:k4,float4Recv:$4,float8Recv:q4,numericIn:U4,intervalRecv:W4,dateIn:j4,timeIn:z4,timestampIn:H4,timestampRecvFloat:V4,uuidRecv:G4}});var en=x((Fbe,vv)=>{"use strict";var xv=require("net"),Y4=require("events"),J4=cv(),yt=V0(),K4=fv(),X4=hv(),Z4=gv(),{BackendMessageCode:Li,NzType:jt,ExtabSock:ws}=ff(),_s=bv(),Pbe=Sv(),ue=X0()("nz:connection"),ig=require("fs"),sg=class extends Y4{constructor(e){super(),this.config=e,this._socket=null,this._stream=null,this._backendProcessId=0,this._backendSecretKey=0,this._commandNumber=-1,this._connected=!1,this._rowDescription=null,this._rows=[],this._tupdesc=new Z4,this._tmpBuffer=Buffer.alloc(65536),this._intBuf=Buffer.allocUnsafe(65536),this._intBufStart=0,this._intBufEnd=0,this.commandTimeout=30,this._executing=!1}async connect(){return new Promise((e,r)=>{if(!this.config.host)return r(new Error("Host is required"));this._socket=new xv.Socket,this._socket.connect(this.config.port||5480,this.config.host,async()=>{ue("Socket connected"),this._socket.setNoDelay(!0),this._stream=this._socket;let n=new J4(this._socket,this._stream,this.config.host,this.config);try{this._stream=await n.startup(this.config.database,this.config.user,this.config.password),this._connected=!0,this._backendProcessId=n.backendProcessId,this._backendSecretKey=n.backendSecretKey,e()}catch(i){this._socket.destroy(),r(i)}}),this._socket.on("error",n=>{ue("Socket error",n),this._connected?this.emit("error",n):r(n)}),this._socket.on("close",()=>{ue("Socket closed"),this._connected=!1,this.emit("close")})})}async cancel(){if(!(!this._backendProcessId||!this._backendSecretKey))return new Promise((e,r)=>{let n=new xv.Socket;n.on("error",i=>{ue("Cancel socket error",i),r(i)}),n.connect(this.config.port||5480,this.config.host,()=>{let i=Buffer.alloc(16);yt.writeInt32(i,16,0),yt.writeInt32(i,80877102,4),yt.writeInt32(i,this._backendProcessId,8),yt.writeInt32(i,this._backendSecretKey,12),n.write(i,()=>{}),n.on("close",e),n.on("end",e),n.on("error",s=>{ue("Cancel socket error during wait",s),e()})})})}close(){this._socket&&(this._socket.end(),this._socket.destroy())}createCommand(e){let r=new K4(this);return r.commandText=e,r}async beginTransaction(){let e=this.createCommand("BEGIN");await this.execute(e)}async commit(){let e=this.createCommand("COMMIT");await this.execute(e)}async rollback(){let e=this.createCommand("ROLLBACK");await this.execute(e)}async _readBytes(e){if(this._intBufEnd-this._intBufStart>=e){let r=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+e));return this._intBufStart+=e,r}return this._readBytesSlow(e)}async _readBytesSlow(e){if(e>this._intBuf.length){let n=[],i=this._intBufEnd-this._intBufStart;i>0&&(n.push(Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufEnd))),this._intBufStart=0,this._intBufEnd=0);let s=e-i;for(;s>0;){let o=this._stream.read();o!==null?o.length<=s?(n.push(o),s-=o.length):(n.push(o.slice(0,s)),this._feedBuffer(o.slice(s)),s=0):await this._waitForReadable()}return Buffer.concat(n,e)}if(this._intBuf.length-this._intBufStart<e){let n=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=n}for(;this._intBufEnd-this._intBufStart<e;){let n=this._stream.read();if(n!==null){let i=this._intBuf.length-this._intBufEnd;n.length<=i?(n.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=n.length):(n.copy(this._intBuf,this._intBufEnd,0,i),this._intBufEnd+=i,this._stream.unshift(n.slice(i)))}else await this._waitForReadable()}let r=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+e));return this._intBufStart+=e,r}async _waitForReadable(){if(!this._socket||this._socket.destroyed)throw new Error("Socket closed or destroyed during read");return new Promise((e,r)=>{let n=()=>{this._stream.removeListener("readable",i),this._stream.removeListener("close",s),this._stream.removeListener("error",o),this._stream.removeListener("end",s)},i=()=>{n(),e()},s=()=>{n(),r(new Error("Socket closed/ended during read"))},o=a=>{n(),r(a)};this._stream.once("readable",i),this._stream.once("close",s),this._stream.once("end",s),this._stream.once("error",o)})}_feedBuffer(e){this._stream.unshift(e)}async _readInt32(){await this._ensureBufferData(4);let e=this._intBuf.readInt32BE(this._intBufStart);return this._intBufStart+=4,e}async _readInt16(){await this._ensureBufferData(2);let e=this._intBuf.readInt16BE(this._intBufStart);return this._intBufStart+=2,e}async _readByte(){await this._ensureBufferData(1);let e=this._intBuf[this._intBufStart];return this._intBufStart+=1,e}async _ensureBufferData(e){if(!(this._intBufEnd-this._intBufStart>=e)){if(this._intBuf.length-this._intBufStart<e){let r=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=r}for(;this._intBufEnd-this._intBufStart<e;){let r=this._stream.read();if(r!==null){let n=this._intBuf.length-this._intBufEnd;r.length<=n?(r.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=r.length):(r.copy(this._intBuf,this._intBufEnd,0,n),this._intBufEnd+=n,this._stream.unshift(r.slice(n)))}else await this._waitForReadable()}}}async execute(e,r=!1){let n=e.commandTimeout;if(!n||n<=0)return this._doExecute(e,r);let i,s=this._doExecute(e,r),o=new Promise((a,l)=>{i=setTimeout(async()=>{ue("Command timeout triggered");try{await this.cancel(),l(new Error("Command execution timeout"))}catch(c){l(new Error("Command execution timeout (Cancel failed: "+c.message+")"))}},n*1e3)});try{return await Promise.race([s,o])}catch(a){throw a.message&&a.message.includes("Command execution timeout")&&s.catch(()=>{}),a}finally{clearTimeout(i)}}async _doExecute(e){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{ue("Executing:",e.commandText),this._preExecution(e.commandText);let r=null;for await(let n of this._responseGenerator(e))n.type==="ErrorResponse"&&(r=new Error("Netezza Error: "+n.message));if(r)throw r;return!0}finally{this._executing=!1}}async executeReader(e){let r=e.commandTimeout||this.commandTimeout;if(!r||r<=0)return this._doExecuteReader(e);let n,i=this._doExecuteReader(e),s=new Promise((o,a)=>{n=setTimeout(async()=>{ue("Command timeout triggered");try{await this.cancel(),a(new Error("Command execution timeout"))}catch(l){a(new Error("Command execution timeout (Cancel failed: "+l.message+")"))}},r*1e3)});try{return await Promise.race([i,s])}catch(o){throw o.message&&o.message.includes("Command execution timeout")&&i.catch(()=>{}),o}finally{clearTimeout(n)}}async _doExecuteReader(e){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{ue("Executing Reader:",e.commandText),this._preExecution(e.commandText);let r=this._responseGenerator(e),n=[],i=await r.next(),s=null,o=null;for(;!i.done;){let a=i.value;if(a.type==="RowDescription")n=a.columns;else if(a.type==="RowDescriptionStandard"){let l=a.desc;if(l&&l.numFields>0&&n.length===0){let c=e._preparedStatement;c&&c.description&&(n=c.description)}}else if(a.type==="DataRow"||a.type==="CommandComplete"||a.type==="ReadyForQuery"){if(!s&&n.length>0){o=a;break}}else a.type==="ErrorResponse"&&(s=new Error("Netezza Error: "+a.message));i=await r.next()}if(s)throw this._executing=!1,s;return new X4(e,r,n,async()=>{this._executing=!1},o)}catch(r){throw this._executing=!1,r}}_preExecution(e){let r=Buffer.from(e,"utf8"),n=Buffer.allocUnsafe(5+r.length+1);n[0]=80,this._commandNumber!==-1?(this._commandNumber++,n.writeInt32BE(this._commandNumber,1)):(n[1]=255,n[2]=255,n[3]=255,n[4]=255),this._commandNumber>1e5&&(this._commandNumber=1),r.copy(n,5),n[5+r.length]=0,this._stream.write(n)}async*_responseGenerator(e){this._rows=[],this._rowDescription=null;let r=!1;for(;!r;){let n=await this._readByte();for(;n===0;)n=await this._readByte();if(n===117){await this._handleExternalTableExportStart();continue}if(n===85){await this._handleExternalTableExportData();continue}if(n===108){await this._handleExternalTableImport();continue}if(n===120){await this._readBytes(4),ue("Error operation cancel (Ext Tbl)");continue}if(n===101){await this._readBytes(4);let s=yt.readInt32(await this._readBytes(4)),o=(await this._readBytes(s-1)).toString("utf8");await this._readBytes(1);let a=[],l=(await this._readBytes(1))[0];for(a.push(l);l=(await this._readBytes(1))[0],l!==0;)a.push(l);let c=yt.readInt32(await this._readBytes(4));await this._consumeExternalTableLogData();continue}let i=await this._readBytes(4);if(n===Li.CommandComplete){let s=await this._readInt32(),o=await this._readBytes(s);ue("CommandComplete:",o.toString("utf8")),yield{type:"CommandComplete",text:o.toString("utf8")};continue}if(n===Li.ReadyForQuery){r=!0,yield{type:"ReadyForQuery"};continue}if(n===76){r=!0;continue}if(!(n===48||n===65)){if(n===80){let s=await this._readInt32();await this._readBytes(s);continue}if(n===Li.ErrorResponse){let s=await this._readInt32();yield{type:"ErrorResponse",message:(await this._readBytes(s)).toString("utf8")};continue}if(n===Li.RowDescription){let s=await this._readInt32(),o=await this._readBytes(s);this._parseRowDescription(o,e),yield{type:"RowDescription",columns:this._rowDescription};continue}if(n===Li.DataRow){let s=await this._readInt32(),o=await this._readBytes(s);yield{type:"DataRow",row:this._parseDataRow(o)};continue}if(n===Li.RowDescriptionStandard){let s=await this._readInt32(),o=await this._readBytes(s);this._tupdesc.parse(o,e._preparedStatement),yield{type:"RowDescriptionStandard",desc:this._tupdesc};continue}if(n===Li.RowStandard){yield{type:"DataRow",row:await this._resReadDbosTuple(e)};continue}if(n===Li.NoticeResponse){let s=await this._readInt32(),a=(await this._readBytes(s)).toString("utf8").replace(/\0/g,"").trim();this.emit("notice",{message:a});continue}ue("Unknown message:","0x"+n.toString(16));try{let s=await this._readInt32();s>0&&s<1e7&&await this._readBytes(s)}catch{}}}}async _consumeExternalTableLogData(){for(;;){let e=await this._readBytes(4),r=yt.readInt32(e);if(r===0)return;let n=await this._readBytes(r);ue("ExtLog Content:",n.toString("utf8"))}}async _handleExternalTableExportStart(){await this._readBytes(4),await this._readBytes(10),await this._readBytes(16);let e=yt.readInt32(await this._readBytes(4)),n=(await this._readBytes(e)).toString("utf8");ue("ExternalTable Export Start. File:",n);try{this._exportStream=ig.createWriteStream(n),this._exportStream.on("error",s=>{ue("Export Stream Error:",s)});let i=Buffer.alloc(4);await new Promise(s=>this._stream.write(i,s))}catch(i){ue("Error opening export file:",i);let s=Buffer.alloc(4);yt.writeInt32(s,1,0),this._stream.write(s)}}async _handleExternalTableExportData(){ue("Handle Export Data: Skipping 8 bytes...");let e=await this._readBytes(4);ue("Skipped 4:",e.toString("hex"));let r=await this._readBytes(4);ue("Skipped 4 (2):",r.toString("hex")),await this._consumeExternalTableData(this._exportStream),this._exportStream=null}async _consumeExternalTableData(e){for(ue("Entering Consume Loop");;){ue("Reading status...");let r=await this._readBytes(4),n=yt.readInt32(r);if(ue("ExtTab Status:",n),n===ws.DATA){let i=yt.readInt32(await this._readBytes(4));ue("Block Length:",i);let s=await this._readBytes(i);e&&e.write(s)}else if(n===ws.DONE){ue("ExternalTable Data Done"),e&&await new Promise(i=>{if(ue("Waiting for writeStream finish..."),e.writableFinished)return ue("Stream already finished"),i();let s=setTimeout(()=>{ue("Stream finish timeout! Destroying..."),e.destroy(),i()},5e3),o=()=>{ue("Stream finished event"),clearTimeout(s),l(),i()},a=c=>{ue("Stream error on end:",c),clearTimeout(s),l(),i()},l=()=>{e.removeListener("finish",o),e.removeListener("error",a)};e.on("finish",o),e.on("error",a),e.end()});return}else if(n===ws.ERROR){let i=yt.readInt16(await this._readBytes(2)),s=(await this._readBytes(i)).toString("utf8");ue("ExternalTable Data Error:",s),e&&e.end();return}else{ue("Unknown ExtTab Status:",n),e&&e.end();return}}}async _handleExternalTableImport(){await this._readBytes(8);let e=[],r=(await this._readBytes(1))[0];for(e.push(r);r!==0;)r=(await this._readBytes(1))[0],r!==0&&e.push(r);let n=Buffer.from(e).toString("utf8");ue("ExternalTable Import Start. File:",n);let i=yt.readInt32(await this._readBytes(4));ue("Host Version:",i);let s=Buffer.alloc(4);yt.writeInt32(s,1,0),await new Promise(c=>this._stream.write(s,c)),ue("Sent Client Version");let o=yt.readInt32(await this._readBytes(4)),a=yt.readInt32(await this._readBytes(4));if(ue("ExtTab Import Config:",{hostVersion:i,format:o,bufSize:a}),!ig.existsSync(n)){ue("Import file not found:",n);let c=Buffer.alloc(4);yt.writeInt32(c,ws.ERROR,0),this._stream.write(c);return}let l=ig.createReadStream(n,{highWaterMark:a||65536});await new Promise((c,u)=>{l.on("data",d=>{let h=Buffer.alloc(8);yt.writeInt32(h,ws.DATA,0),yt.writeInt32(h,d.length,4),this._stream.write(h),this._stream.write(d)}),l.on("end",()=>{ue("Import Stream End");let d=Buffer.alloc(4);yt.writeInt32(d,ws.DONE,0),this._stream.write(d),c()}),l.on("error",d=>{ue("Import Stream Error:",d);let h=Buffer.alloc(4);yt.writeInt32(h,ws.ERROR,0),this._stream.write(h);let f=d.message||"Error",g=Buffer.alloc(2);g.writeInt16BE(f.length),this._stream.write(g),this._stream.write(Buffer.from(f,"utf8")),u(d)})})}_parseRowDescription(e,r){ue("parseRowDescription data length:",e.length,"hex:",e.toString("hex").substring(0,100));let n=0;if(e.length<2){ue("Data too short for row description");return}let i=e.readInt16BE(n);n+=2,ue("Column count:",i),this._rowDescription=[];for(let s=0;s<i&&n<e.length;s++){let o=n;for(;n<e.length&&e[n]!==0;)n++;let a=e.toString("utf8",o,n);if(n++,n+11>e.length){ue("Not enough data for column",s,"at offset",n,"need 11 more, have",e.length-n);break}let l=e.readInt32BE(n);n+=4;let c=e.readInt16BE(n);n+=2;let u=e.readInt32BE(n);n+=4;let d=e[n];n+=1,this._rowDescription.push({name:a,typeOid:l,typeLen:c,typeMod:u,format:d}),ue("Column",s,":",a,"typeOid:",l,"typeLen:",c)}r&&(r._preparedStatement={description:this._rowDescription})}_parseDataRow(e){let r=this._rowDescription.length,i=Math.ceil(r/8),s=[];for(let o=0;o<r;o++){let a=e[Math.floor(o/8)],l=7-o%8;if(!((a&1<<l)!==0)){s.push(null);continue}let u=e.readInt32BE(i);i+=4;let d=u-4;if(d<=0){s.push(null);continue}let f=this._rowDescription[o]?.typeOid,g=e.toString("utf8",i,i+d);f===1083?s.push(_s.parseTimeString(g)):s.push(g),i+=d}return s}async _resReadDbosTuple(e){let r=this._tupdesc.numFields;await this._readBytes(4);let n=yt.readInt32(await this._readBytes(4)),i=await this._readBytes(n),s=new Array(r);for(let o=0;o<r;o++){if(this._columnIsNull(i,o)){s[o]=null;continue}let a=this._cTableFieldAt(i,o),l=this._tupdesc.fieldType[o],c=this._tupdesc.fieldSize[o];s[o]=this._parseFieldByType(a,l,c,o)}return s}_parseFieldByType(e,r,n,i){switch(r){case jt.NzTypeChar:return e.toString("latin1",0,n).trimEnd();case jt.NzTypeNChar:case jt.NzTypeNVarChar:{let s=e.readInt16LE(0)-2;return e.toString("utf8",2,2+s)}case jt.NzTypeVarChar:case jt.NzTypeVarFixedChar:{let s=e.readInt16LE(0)-2;return e.toString("latin1",2,2+s)}case jt.NzTypeInt8:return e.readBigInt64LE(0);case jt.NzTypeInt:return e.readInt32LE(0);case jt.NzTypeInt2:return e.readInt16LE(0);case jt.NzTypeInt1:return e.readInt8(0);case jt.NzTypeDouble:return e.readDoubleLE(0);case jt.NzTypeFloat:return e.readFloatLE(0);case jt.NzTypeDate:return _s.toDateTimeFrom4Bytes(e);case jt.NzTypeTime:return _s.timeRecvFloat(e);case jt.NzTypeInterval:return _s.intervalRecvFloat(e);case jt.NzTypeTimeTz:return _s.timetzOutput(e,n);case jt.NzTypeTimestamp:return _s.toDateTimeFrom8Bytes(e);case jt.NzTypeBool:return e[0]===1;case jt.NzTypeNumeric:{let s=this._tupdesc.getFieldPrecision(i),o=this._tupdesc.getFieldScale(i),a=this._tupdesc.getNumericDigitCount(i);return _s.getCsNumeric(e,s,o,a)}default:return e.toString("utf8",0,n)}}_columnIsNull(e,r){if(!this._tupdesc.nullsAllowed)return!1;let n=this._tupdesc.fieldPhysField[r];return(e[2+Math.floor(n/8)]&1<<n%8)!==0}_cTableFieldAt(e,r){if(this._tupdesc.fieldFixedSize[r]!==0)return e.slice(this._tupdesc.fieldOffset[r]);let n=e.slice(this._tupdesc.fixedFieldsSize);for(let i=0;i<this._tupdesc.fieldOffset[r];i++){let s=n.readInt16LE(0);n=n.slice(s%2===0?s:s+1)}return n}};vv.exports=sg});var yf,Es,og=yn(()=>{"use strict";yf=Ye(require("vscode")),Es=class t{constructor(e){this.context=e;this._connections={};this._activeConnectionName=null;this._documentConnections=new Map;this._persistentConnections=new Map;this._keepConnectionOpen=!1;this._onDidChangeConnections=new yf.EventEmitter;this.onDidChangeConnections=this._onDidChangeConnections.event;this._onDidChangeActiveConnection=new yf.EventEmitter;this.onDidChangeActiveConnection=this._onDidChangeActiveConnection.event;this._onDidChangeDocumentConnection=new yf.EventEmitter;this.onDidChangeDocumentConnection=this._onDidChangeDocumentConnection.event;this._loadingPromise=this.loadConnections()}static{this.SERVICE_NAME="netezza-vscode-connections"}static{this.ACTIVE_CONN_KEY="netezza-active-connection"}async loadConnections(){this._activeConnectionName=this.context.globalState.get(t.ACTIVE_CONN_KEY)||null;let e=await this.context.secrets.get(t.SERVICE_NAME);if(e)try{this._connections=JSON.parse(e)}catch(r){console.error("Failed to parse connections:",r),this._connections={}}else{let r=await this.context.secrets.get("netezza-vscode");if(r)try{let n=JSON.parse(r);if(n&&n.host){let i=`Default (${n.host})`;this._connections={[i]:{...n,name:i}},this._activeConnectionName=i,await this.saveConnectionsToStorage()}}catch{}}this._onDidChangeConnections.fire()}async ensureLoaded(){await this._loadingPromise}async saveConnectionsToStorage(){await this.context.secrets.store(t.SERVICE_NAME,JSON.stringify(this._connections)),this._activeConnectionName?await this.context.globalState.update(t.ACTIVE_CONN_KEY,this._activeConnectionName):await this.context.globalState.update(t.ACTIVE_CONN_KEY,void 0)}async saveConnection(e){if(await this.ensureLoaded(),!e.name)throw new Error("Connection name is required");this._connections[e.name]=e,this._activeConnectionName||await this.setActiveConnection(e.name),await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}async deleteConnection(e){if(await this.ensureLoaded(),this._connections[e]){if(await this.closePersistentConnection(e),delete this._connections[e],this._activeConnectionName===e){let r=Object.keys(this._connections);await this.setActiveConnection(r.length>0?r[0]:null)}await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}}async getConnections(){return await this.ensureLoaded(),Object.values(this._connections)}async getConnection(e){return await this.ensureLoaded(),this._connections[e]}async setActiveConnection(e){await this.ensureLoaded(),this._activeConnectionName=e,await this.context.globalState.update(t.ACTIVE_CONN_KEY,e),this._onDidChangeActiveConnection.fire(e)}getActiveConnectionName(){return this._activeConnectionName}async getConnectionString(e){await this.ensureLoaded();let r=e||this._activeConnectionName;if(!r)return null;let n=this._connections[r];if(!n)return console.error(`[ConnectionManager] Connection '${r}' not found in registry. Available keys: ${Object.keys(this._connections).join(", ")}`),null;let i=n.dbType||"NetezzaSQL";return i==="NetezzaSQL"?`DRIVER={NetezzaSQL};SERVER=${n.host};PORT=${n.port};DATABASE=${n.database};UID=${n.user};PWD=${n.password};`:`DRIVER={${i}};SERVER=${n.host};PORT=${n.port};DATABASE=${n.database};UID=${n.user};PWD=${n.password};`}async getCurrentDatabase(e){await this.ensureLoaded();let r=e||this._activeConnectionName;return r&&this._connections[r]?.database||null}setKeepConnectionOpen(e){this._keepConnectionOpen=e,e||this.closeAllPersistentConnections()}getKeepConnectionOpen(){return this._keepConnectionOpen}async getPersistentConnection(e){let r=e||this._activeConnectionName;if(!r)throw new Error("No connection selected");if(!await this.getConnectionString(r))throw new Error(`Connection '${r}' not found or invalid`);let i=this._persistentConnections.get(r);if(!i){let s=en(),o=this._connections[r],a={host:o.host,port:o.port||5480,database:o.database,user:o.user,password:o.password},l=new s(a);await l.connect(),i=l,this._persistentConnections.set(r,i)}return i}async closePersistentConnection(e){let r=this._persistentConnections.get(e);if(r){try{await r.close()}catch(n){console.error(`Error closing connection ${e}:`,n)}this._persistentConnections.delete(e)}}async closeAllPersistentConnections(){for(let e of this._persistentConnections.keys())await this.closePersistentConnection(e)}dispose(){this.closeAllPersistentConnections()}getDocumentConnection(e){return this._documentConnections.get(e)}setDocumentConnection(e,r){this._documentConnections.set(e,r),this._onDidChangeDocumentConnection.fire(e)}clearDocumentConnection(e){this._documentConnections.delete(e),this._onDidChangeDocumentConnection.fire(e)}getConnectionForExecution(e){if(e){let r=this._documentConnections.get(e);if(r)return r}return this._activeConnectionName||void 0}}});var Rv={};mn(Rv,{QueryHistoryManager:()=>wr});var Tv,Ur,ag,wr,mf=yn(()=>{"use strict";Tv=Ye(require("vscode")),Ur=Ye(require("fs")),ag=Ye(require("path")),wr=class t{constructor(e){this.context=e;this.cache=[];this.initialized=!1;if(this.context.globalStorageUri){this.historyFilePath=Tv.Uri.joinPath(this.context.globalStorageUri,"query-history.json").fsPath;try{Ur.existsSync(this.context.globalStorageUri.fsPath)||Ur.mkdirSync(this.context.globalStorageUri.fsPath,{recursive:!0})}catch(r){console.error("[QueryHistoryManager] Error creating storage directory:",r)}}this.initialize()}static{this.STORAGE_KEY="queryHistory"}static{this.MAX_ENTRIES=5e4}static{this.CLEANUP_KEEP=4e4}static{this.STORAGE_VERSION=1}async initialize(){try{let e=!1;if(this.historyFilePath&&Ur.existsSync(this.historyFilePath))try{let r=await Ur.promises.readFile(this.historyFilePath,"utf-8");if(!r||!r.trim())console.log("[QueryHistoryManager] File is empty, starting fresh"),this.cache=[],e=!0;else{let n=JSON.parse(r);n&&n.entries&&(this.cache=n.entries,e=!0)}}catch(r){console.warn("[QueryHistoryManager] Corrupted history file, resetting:",r),this.cache=[],e=!0;try{await this.saveToStorage(),console.log("[QueryHistoryManager] Reset corrupted file to empty state")}catch(n){console.error("[QueryHistoryManager] Failed to reset file:",n)}}if(!e){let r=this.context.globalState.get(t.STORAGE_KEY);r&&r.entries&&(this.cache=r.entries,console.log(`\u2705 Migrated ${this.cache.length} entries from globalState`),await this.saveToStorage(),await this.context.globalState.update(t.STORAGE_KEY,void 0))}!e&&this.cache.length===0&&await this.migrateFromLegacyStorage(),this.initialized=!0}catch(e){console.error("\u274C Error initializing query history:",e),this.cache=[],this.initialized=!0}}async migrateFromLegacyStorage(){try{let e=this.context.globalStorageUri.fsPath,r=ag.join(e,"query-history.db");Ur.existsSync(r)&&console.log("\u26A0\uFE0F SQLite database found but migration not implemented");let n=ag.join(e,"query-history-archive.json");if(Ur.existsSync(n))try{let i=Ur.readFileSync(n,"utf8");if(i.trim()){let s=JSON.parse(i);this.cache.push(...s),await this.saveToStorage(),console.log(`\u2705 Migrated archive with ${s.length} entries`)}}catch{}}catch(e){console.error("Error during migration:",e)}}async saveToStorage(){if(this.historyFilePath)try{let e={entries:this.cache,version:t.STORAGE_VERSION};await Ur.promises.writeFile(this.historyFilePath,JSON.stringify(e),"utf-8")}catch(e){console.error("Error saving to storage:",e)}}async addEntry(e,r,n,i,s,o,a){try{this.initialized||await this.initialize();let l=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,c=Date.now(),u={id:l,host:e,database:r,schema:n,query:i.trim(),timestamp:c,connectionName:s,is_favorite:!1,tags:o||"",description:a||""};this.cache.unshift(u),this.cache.length>t.MAX_ENTRIES&&(this.cache=this.cache.slice(0,t.CLEANUP_KEEP),console.log(`Cleaned up old entries, keeping ${t.CLEANUP_KEEP} newest`)),await this.saveToStorage()}catch(l){console.error("Error adding query to history:",l)}}async getHistory(){return this.initialized||await this.initialize(),[...this.cache]}async deleteEntry(e){try{this.cache=this.cache.filter(r=>r.id!==e),await this.saveToStorage()}catch(r){console.error("Error deleting entry:",r)}}async clearHistory(){try{this.cache=[],await this.saveToStorage(),console.log("All query history cleared")}catch(e){console.error("Error clearing history:",e)}}async getStats(){try{let e=this.cache.length,r=JSON.stringify(this.cache).length,n=parseFloat((r/(1024*1024)).toFixed(2));return{activeEntries:e,archivedEntries:0,totalEntries:e,activeFileSizeMB:n,archiveFileSizeMB:0,totalFileSizeMB:n}}catch(e){return console.error("Error getting stats:",e),{activeEntries:0,archivedEntries:0,totalEntries:0,activeFileSizeMB:0,archiveFileSizeMB:0,totalFileSizeMB:0}}}async toggleFavorite(e){try{let r=this.cache.find(n=>n.id===e);r&&(r.is_favorite=!r.is_favorite,await this.saveToStorage())}catch(r){console.error("Error toggling favorite:",r)}}async updateEntry(e,r,n){try{let i=this.cache.find(s=>s.id===e);i&&(r!==void 0&&(i.tags=r),n!==void 0&&(i.description=n),await this.saveToStorage())}catch(i){console.error("Error updating entry:",i)}}async getFavorites(){return this.initialized||await this.initialize(),this.cache.filter(e=>e.is_favorite)}async getByTag(e){return this.initialized||await this.initialize(),this.cache.filter(r=>r.tags?.toLowerCase().includes(e.toLowerCase()))}async getAllTags(){this.initialized||await this.initialize();let e=new Set;return this.cache.forEach(r=>{r.tags&&r.tags.split(",").forEach(i=>{let s=i.trim();s&&e.add(s)})}),Array.from(e).sort()}async searchAll(e){this.initialized||await this.initialize();let r=e.toLowerCase();return this.cache.filter(n=>n.query.toLowerCase().includes(r)||n.host.toLowerCase().includes(r)||n.database.toLowerCase().includes(r)||n.schema.toLowerCase().includes(r)||n.tags?.toLowerCase().includes(r)||n.description?.toLowerCase().includes(r))}async getFilteredHistory(e,r,n,i){this.initialized||await this.initialize();let s=this.cache.filter(o=>!(e&&o.host!==e||r&&o.database!==r||n&&o.schema!==n));return i&&(s=s.slice(0,i)),s}async getArchivedHistory(){return[]}async clearArchive(){}close(){console.log("Query history manager closed")}}});var Mv={};mn(Mv,{clearCurrentSession:()=>bf,getCurrentSessionConnectionName:()=>cg,getCurrentSessionId:()=>lg,runQueriesSequentially:()=>Nl,runQuery:()=>be,runQueryRaw:()=>Lv});function lg(){return Av}function cg(){return Cv}function bf(){Av=null,Cv=void 0}function Iv(t){let e=new Set;if(!t)return e;for(let r of t.matchAll(/\$\{([A-Za-z0-9_]+)\}/g))r[1]&&e.add(r[1]);return e}function Nv(t){if(!t)return{sql:"",setValues:{}};let e=t.split(/\r?\n/),r=[],n={};for(let i of e){let s=i.match(/^\s*@SET\s+([A-Za-z0-9_]+)\s*=\s*(.+)$/i);if(s){let o=s[2].trim();o.endsWith(";")&&(o=o.slice(0,-1).trim());let a=o.match(/^'(.*)'$/s)||o.match(/^"(.*)"$/s);a&&(o=a[1]),n[s[1]]=o}else r.push(i)}return{sql:r.join(`
`),setValues:n}}async function Dv(t,e,r){let n={};if(t.size===0)return n;if(e){let s=Array.from(t).filter(o=>!(r&&r[o]!==void 0));if(s.length>0)throw new Error("Query contains variables but silent mode is enabled; cannot prompt for values. Missing: "+s.join(", "));for(let o of t)n[o]=r[o];return n}let i=[];for(let s of t)r&&r[s]!==void 0?n[s]=r[s]:i.push(s);for(let s of i){let o=await Ss.window.showInputBox({prompt:`Enter value for ${s}`,placeHolder:"",value:r&&r[s]?r[s]:void 0,ignoreFocusOut:!0});if(o===void 0)throw new Error("Variable input cancelled by user");n[s]=o}return n}function Ov(t,e){return t.replace(/\$\{([A-Za-z0-9_]+)\}/g,(r,n)=>e[n]??"")}async function Lv(t,e,r=!1,n,i,s){let o=n||new Es(t),a=o.getKeepConnectionOpen(),l;r||(l=Ss.window.createOutputChannel("Netezza SQL"),l.show(!0),l.appendLine("Executing query..."),i&&l.appendLine(`Target Connection: ${i}`));try{let c=Nv(e),u=c.sql,d=c.setValues,h=Iv(u);if(h.size>0){let y=await Dv(h,r,d);u=Ov(u,y)}let f,g=!0,p="",m=i;if(!m&&s&&(m=o.getConnectionForExecution(s)),m||(m=o.getActiveConnectionName()||void 0),!m)throw new Error("No connection selected");if(a)f=await o.getPersistentConnection(m),g=!1;else{let y=en(),S=await o.getConnection(m);if(!S)throw new Error(`Connection '${m}' not found`);let b={host:S.host,port:S.port||5480,database:S.database,user:S.user,password:S.password};f=new y(b),await f.connect()}l&&f.on("notice",y=>{l.appendLine(`NOTICE: ${y.message}`)});try{let S=Ss.workspace.getConfiguration("netezza").get("queryTimeout",1800),b=f.createCommand(u);b.commandTimeout=S;let w=await b.executeReader(),I=[],O=[],C,B=2e5,N=0,L=!1;for(;await w.read();){if(I.length===0)for(let ee=0;ee<w.fieldCount;ee++)I.push({name:w.getName(ee),type:w.getTypeName(ee)});let j=[];for(let ee=0;ee<w.fieldCount;ee++)j.push(w.getValue(ee));if(O.push(j),N++,N>=B){L=!0;break}}let $="unknown",Y=await o.getConnection(m);return Y&&new wr(t).addEntry(Y.host,Y.database,$,e,m).catch(ee=>console.error("History log error:",ee)),I.length>0?(l&&l.appendLine("Query completed."),{columns:I,data:O,rowsAffected:C,limitReached:L,sql:u}):(l&&l.appendLine("Query executed successfully (no results)."),{columns:[],data:[],rowsAffected:C,message:"Query executed successfully (no results).",sql:u})}finally{g&&await f.close()}}catch(c){let u=`Error: ${c.message||c}`;throw l&&l.appendLine(u),new Error(u)}}async function be(t,e,r=!1,n,i,s){try{let o=await Lv(t,e,r,i,n,s);if(o.data&&o.data.length>0){let a=o.data.map(c=>{let u={};return o.columns.forEach((d,h)=>{u[d.name]=c[h]}),u});return JSON.stringify(a,(c,u)=>typeof u=="bigint"?u>=Number.MIN_SAFE_INTEGER&&u<=Number.MAX_SAFE_INTEGER?Number(u):u.toString():u,2)}else if(o.message)return o.message;return}catch(o){throw o}}async function Nl(t,e,r,n){let i=r||new Es(t),s=i.getKeepConnectionOpen(),o=Ss.window.createOutputChannel("Netezza SQL");o.show(!0),o.appendLine(`Executing ${e.length} queries sequentially...`);let a=[],l=r?r.getConnectionForExecution(n):void 0;if(l||(l=i.getActiveConnectionName()||void 0),!l)throw o.appendLine("Error: No connection selected"),new Error("No connection selected");try{let c,u=!0,d=await i.getConnection(l);if(!d)throw new Error(`Connection '${l}' not found`);if(s)c=await i.getPersistentConnection(l),u=!1;else{let h=en(),f={host:d.host,port:d.port||5480,database:d.database,user:d.user,password:d.password};c=new h(f),await c.connect()}c.on("notice",h=>{o.appendLine(`NOTICE: ${h.message}`)});try{let h="unknown",f=new wr(t),g=l;for(let p=0;p<e.length;p++){let m=e[p];o.appendLine(`Executing query ${p+1}/${e.length}...`);try{let y=Nv(m),S=y.sql,b=y.setValues,w=Iv(S);if(w.size>0){let B=await Dv(w,!1,b);S=Ov(S,B)}let O=Ss.workspace.getConfiguration("netezza").get("queryTimeout",1800),C=await Q4(c,S,2e5,O);if(f.addEntry(d.host,d.database,h,m,g).catch(B=>{console.error("Failed to log query to history:",B)}),C&&Array.isArray(C)&&C.columns){let B=C.columns;a.push({columns:B,data:C,rowsAffected:C.count,limitReached:C.limitReached,sql:S})}else a.push({columns:[],data:[],rowsAffected:C?.count,message:"Query executed successfully",sql:S})}catch(y){let S=`Error: ${y.message}`;throw o.appendLine(`Error in query ${p+1}: ${S}`),new Error(S)}}o.appendLine("All queries completed.")}finally{bf(),u&&await c.close()}}catch(c){let u=`Error: ${c.message}`;throw o.appendLine(u),new Error(u)}return a}async function Q4(t,e,r,n){let i=t.createCommand(e);n&&n>0&&(i.commandTimeout=n);let s=await i.executeReader(),o=[],a=[],l=0;for(;await s.read();){if(o.length===0)for(let u=0;u<s.fieldCount;u++)o.push({name:s.getName(u),type:s.getTypeName(u)});let c=[];for(let u=0;u<s.fieldCount;u++)c.push(s.getValue(u));if(a.push(c),l++,l>=r){a.limitReached=!0;break}}return o.length>0&&(a.columns=o),a}var Ss,Av,Cv,xs=yn(()=>{"use strict";Ss=Ye(require("vscode"));og();mf();Av=null});var _f={};mn(_f,{SchemaItem:()=>_r,SchemaProvider:()=>Dl});var Ee,Dl,_r,Ol=yn(()=>{"use strict";Ee=Ye(require("vscode"));xs();Dl=class{constructor(e,r,n){this.context=e;this.connectionManager=r;this.metadataCache=n;this._onDidChangeTreeData=new Ee.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.connectionManager.onDidChangeConnections(()=>this.refresh())}refresh(){this._onDidChangeTreeData.fire()}triggerDatabasePrefetch(e,r){this.metadataCache.hasConnectionPrefetchTriggered(e)||(console.log(`[SchemaProvider] Triggering connection prefetch for: ${e}`),this.metadataCache.triggerConnectionPrefetch(e,async n=>{try{return await be(this.context,n,!0,e,this.connectionManager)}catch(i){console.error("[SchemaProvider] Prefetch query error:",i);return}}))}getTreeItem(e){return e}getParent(e){if(e.contextValue!=="serverInstance"){if(e.contextValue==="database")return new _r(e.connectionName,Ee.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,e.connectionName,void 0);if(e.contextValue.startsWith("typeGroup"))return new _r(e.dbName,Ee.TreeItemCollapsibleState.Collapsed,"database",e.dbName,void 0,void 0,void 0,void 0,e.connectionName);if(e.contextValue.startsWith("netezza:"))return new _r(e.objType,Ee.TreeItemCollapsibleState.Collapsed,`typeGroup:${e.objType}`,e.dbName,e.objType,void 0,void 0,void 0,e.connectionName)}}async getChildren(e){if(e){if(e.contextValue==="serverInstance"){if(!e.connectionName)return[];let r=this.metadataCache.getDatabases(e.connectionName);if(r)return r.map(n=>new _r(n.label||n.DATABASE,Ee.TreeItemCollapsibleState.Collapsed,"database",n.label||n.DATABASE,void 0,void 0,void 0,void 0,e.connectionName));try{let n=await be(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e.connectionName,this.connectionManager);if(!n)return[];let i=JSON.parse(n),s=i.map(o=>({label:o.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e.connectionName,s),i.map(o=>new _r(o.DATABASE,Ee.TreeItemCollapsibleState.Collapsed,"database",o.DATABASE,void 0,void 0,void 0,void 0,e.connectionName))}catch(n){return Ee.window.showErrorMessage(`Failed to load databases for ${e.connectionName}: ${n}`),[]}}else if(e.contextValue==="database"){if(e.connectionName&&e.dbName&&this.triggerDatabasePrefetch(e.connectionName,e.dbName),e.connectionName&&e.dbName){let r=this.metadataCache.getTypeGroups(e.connectionName,e.dbName);if(r&&r.length>0)return r.map(n=>new _r(n,Ee.TreeItemCollapsibleState.Collapsed,`typeGroup:${n}`,e.dbName,n,void 0,void 0,void 0,e.connectionName))}try{let r=`SELECT DISTINCT OBJTYPE FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' ORDER BY OBJTYPE`,n=await be(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName){let s=i.map(o=>o.OBJTYPE);this.metadataCache.setTypeGroups(e.connectionName,e.dbName,s)}return i.map(s=>new _r(s.OBJTYPE,Ee.TreeItemCollapsibleState.Collapsed,`typeGroup:${s.OBJTYPE}`,e.dbName,s.OBJTYPE,void 0,void 0,void 0,e.connectionName))}catch(r){return Ee.window.showErrorMessage("Failed to load object types: "+r),[]}}else if(e.contextValue.startsWith("typeGroup")){if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW"||e.objType==="EXTERNAL TABLE")){let r=this.metadataCache.getObjectsWithSchema(e.connectionName,e.dbName);if(r&&r.length>0){let n=e.objType,i=r.filter(s=>{let o=s.item;return o.objType?o.objType===n:n==="VIEW"?o.kind===18:n==="TABLE"?o.kind!==18&&o.detail!=="EXTERNAL TABLE":n==="EXTERNAL TABLE"?o.detail==="EXTERNAL TABLE"||o.detail?.startsWith("EXTERNAL TABLE"):!1});if(i.length>0)return i.map(s=>new _r(typeof s.item.label=="string"?s.item.label:s.item.label?.label||"unknown",Ee.TreeItemCollapsibleState.Collapsed,`netezza:${e.objType}`,e.dbName,e.objType,s.schema,s.objId,void 0,e.connectionName))}}try{let r;e.objType==="PROCEDURE"?r=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA, OBJID::INT AS OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_PROCEDURE WHERE DATABASE = '${e.dbName}' ORDER BY PROCEDURESIGNATURE`:r=`SELECT OBJNAME, SCHEMA, OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' AND OBJTYPE = '${e.objType}' ORDER BY OBJNAME`;let n=await be(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW")){let s=new Map;for(let o of i){let a=o.SCHEMA?`${e.dbName}.${o.SCHEMA}`:`${e.dbName}..`;s.has(a)||s.set(a,{tables:[],idMap:new Map});let l=s.get(a);l.tables.push({label:o.OBJNAME,kind:e.objType==="VIEW"?18:7,detail:o.SCHEMA?e.objType:`${e.objType} (${o.SCHEMA})`,sortText:o.OBJNAME});let c=o.SCHEMA?`${e.dbName}.${o.SCHEMA}.${o.OBJNAME}`:`${e.dbName}..${o.OBJNAME}`;l.idMap.set(c,o.OBJID)}for(let[o,a]of s);}return i.map(s=>{let a=["TABLE","VIEW","EXTERNAL TABLE","SYSTEM VIEW","SYSTEM TABLE"].includes(e.objType||"");return new _r(s.OBJNAME,a?Ee.TreeItemCollapsibleState.Collapsed:Ee.TreeItemCollapsibleState.None,`netezza:${e.objType}`,e.dbName,e.objType,s.SCHEMA,s.OBJID,s.DESCRIPTION,e.connectionName)})}catch(r){return Ee.window.showErrorMessage("Failed to load objects: "+r),[]}}else if(e.contextValue.startsWith("netezza:")){let r=e.label,n=e.schema,i=e.dbName;if(e.connectionName&&i){let s=`${i}.${n||""}.${r}`,o=this.metadataCache.getColumns(e.connectionName,s);if(o)return o.map(a=>new _r(a.detail?`${a.label} (${a.detail})`:a.label,Ee.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,a.documentation||"",e.connectionName,r))}if(!e.connectionName||!i)return[];try{let s;if(e.objId)s=`SELECT 
                            X.ATTNAME
                            , X.FORMAT_TYPE
                            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
                            , X.COLDEFAULT
                            , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
                        FROM
                            ${i}.._V_RELATION_COLUMN X
                        WHERE
                            X.OBJID = ${e.objId}
                        ORDER BY 
                            X.ATTNUM`;else{let u=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"";s=`SELECT 
                            X.ATTNAME
                            , X.FORMAT_TYPE
                            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
                            , X.COLDEFAULT
                            , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
                        FROM
                            ${i}.._V_RELATION_COLUMN X
                        INNER JOIN
                            ${i}.._V_OBJECT_DATA O ON X.OBJID = O.OBJID
                        WHERE
                            UPPER(O.OBJNAME) = UPPER('${r}')
                            AND UPPER(O.DBNAME) = UPPER('${i}')
                            ${u}
                        ORDER BY 
                            X.ATTNUM`}let o=await be(this.context,s,!0,e.connectionName,this.connectionManager),a=JSON.parse(o||"[]"),l=`${i}.${n||""}.${r}`,c=a.map(u=>({label:u.ATTNAME,kind:5,detail:u.FORMAT_TYPE,documentation:u.DESCRIPTION}));return this.metadataCache.setColumns(e.connectionName,l,c),a.map(u=>new _r(`${u.ATTNAME} (${u.FORMAT_TYPE})`,Ee.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,u.DESCRIPTION,e.connectionName,r))}catch(s){return Ee.window.showErrorMessage("Failed to load columns: "+s),[]}}}else{let r=await this.connectionManager.getConnections(),n=Ee.Uri.file(this.context.asAbsolutePath("netezza_icon64.png"));return r.map(i=>new _r(i.name,Ee.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,i.name,void 0,n))}return[]}},_r=class extends Ee.TreeItem{constructor(r,n,i,s,o,a,l,c,u,d,h){super(r,n);this.label=r;this.collapsibleState=n;this.contextValue=i;this.dbName=s;this.objType=o;this.schema=a;this.objId=l;this.objectDescription=c;this.connectionName=u;this.parentName=d;let f=this.label;u&&(f+=`
[Server: ${u}]`),c&&c.trim()&&(f+=`

${c.trim()}`),a&&i.startsWith("netezza:")&&(f+=`

Schema: ${a}`),this.tooltip=f,this.description=a?`(${a})`:"";let g=[u||"global",i,s||"",a||"",o||"",d||"",r];this.id=g.join("|"),h?this.iconPath=h:i==="serverInstance"?this.iconPath=new Ee.ThemeIcon("server"):i==="database"?this.iconPath=new Ee.ThemeIcon("database"):i.startsWith("typeGroup")?this.iconPath=new Ee.ThemeIcon("folder"):i.startsWith("netezza:")?this.iconPath=this.getIconForType(o):i==="column"&&(this.iconPath=new Ee.ThemeIcon("symbol-field"))}getIconForType(r){switch(r){case"TABLE":return new Ee.ThemeIcon("table");case"VIEW":return new Ee.ThemeIcon("eye");case"PROCEDURE":return new Ee.ThemeIcon("gear");case"FUNCTION":return new Ee.ThemeIcon("symbol-function");case"AGGREGATE":return new Ee.ThemeIcon("symbol-operator");case"EXTERNAL TABLE":return new Ee.ThemeIcon("server");default:return new Ee.ThemeIcon("file")}}}});var Pv={};mn(Pv,{generateDDL:()=>uj,getColumns:()=>Bl,getDistributionInfo:()=>If,getKeysInfo:()=>Df,getOrganizeInfo:()=>Nf,getTableComment:()=>Of,getTableOwner:()=>ug,quoteNameIfNeeded:()=>Se});async function tn(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function Se(t){return!t||/^[A-Z_][A-Z0-9_]*$/i.test(t)&&t===t.toUpperCase()?t:`"${t.replace(/"/g,'""')}"`}async function Bl(t,e,r,n){let i=`
        SELECT 
            X.OBJID::INT AS OBJID
            , X.ATTNAME
            , X.DESCRIPTION
            , X.FORMAT_TYPE AS FULL_TYPE
            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
            , X.COLDEFAULT
        FROM
            ${e.toUpperCase()}.._V_RELATION_COLUMN X
        INNER JOIN
            ${e.toUpperCase()}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
        WHERE
            X.TYPE IN ('TABLE','VIEW','EXTERNAL TABLE', 'SEQUENCE','SYSTEM VIEW','SYSTEM TABLE')
            AND X.OBJID NOT IN (4,5)
            AND D.SCHEMA = '${r.toUpperCase()}'
            AND D.OBJNAME = '${n.toUpperCase()}'
        ORDER BY 
            X.OBJID, X.ATTNUM
    `,s=await tn(t,i),o=[];for(let a of s){let l=!1,c=a.ATTNOTNULL;if(typeof c=="boolean")l=c;else if(typeof c=="number")l=c!==0;else if(typeof c=="string"){let u=c.trim().toLowerCase();l=u==="t"||u==="true"||u==="1"||u==="yes"}o.push({name:a.ATTNAME,description:a.DESCRIPTION||null,fullTypeName:a.FULL_TYPE,notNull:l,defaultValue:a.COLDEFAULT||null})}return o}async function If(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_DIST_MAP
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY DISTSEQNO
        `;return(await tn(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function Nf(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_ORGANIZE_COLUMN
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY ORGSEQNO
        `;return(await tn(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function Df(t,e,r,n){let i=`
        SELECT 
            X.SCHEMA
            , X.RELATION
            , X.CONSTRAINTNAME
            , X.CONTYPE
            , X.ATTNAME
            , X.PKDATABASE
            , X.PKSCHEMA
            , X.PKRELATION
            , X.PKATTNAME
            , X.UPDT_TYPE
            , X.DEL_TYPE
        FROM 
            ${e.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.OBJID NOT IN (4,5)
            AND X.SCHEMA = '${r.toUpperCase()}'
            AND X.RELATION = '${n.toUpperCase()}'
        ORDER BY
            X.SCHEMA, X.RELATION, X.CONSEQ
    `,s=new Map;try{let o=await tn(t,i);for(let a of o){let l=a.CONSTRAINTNAME;if(!s.has(l)){let u={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};s.set(l,{type:u[a.CONTYPE]||"UNKNOWN",typeChar:a.CONTYPE,columns:[],pkDatabase:a.PKDATABASE||null,pkSchema:a.PKSCHEMA||null,pkRelation:a.PKRELATION||null,pkColumns:[],updateType:a.UPDT_TYPE||"NO ACTION",deleteType:a.DEL_TYPE||"NO ACTION"})}let c=s.get(l);c.columns.push(a.ATTNAME),a.PKATTNAME&&c.pkColumns.push(a.PKATTNAME)}}catch(o){console.warn("Cannot retrieve keys info:",o)}return s}async function Of(t,e,r,n){try{let i=`
            SELECT DESCRIPTION
            FROM ${e.toUpperCase()}.._V_OBJECT_DATA
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND OBJNAME = '${n.toUpperCase()}'
                AND OBJTYPE = 'TABLE'
        `,s=await tn(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{try{let i=`
                SELECT DESCRIPTION
                FROM ${e.toUpperCase()}.._V_OBJECT_DATA
                WHERE SCHEMA = '${r.toUpperCase()}'
                    AND OBJNAME = '${n.toUpperCase()}'
            `,s=await tn(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{}}return null}async function ug(t,e,r,n){try{let i=`
            SELECT OWNER
            FROM ${e.toUpperCase()}.._V_TABLE
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
        `,s=await tn(t,i);if(s.length>0&&s[0].OWNER)return s[0].OWNER}catch{}return null}async function nj(t,e,r,n){let i=await Bl(t,e,r,n);if(i.length===0)throw new Error(`Table ${e}.${r}.${n} not found or has no columns`);let s=await If(t,e,r,n),o=await Nf(t,e,r,n),a=await Df(t,e,r,n),l=await Of(t,e,r,n),c=Se(e),u=Se(r),d=Se(n),h=[];h.push(`CREATE TABLE ${c}.${u}.${d}`),h.push("(");let f=[];for(let g of i){let m=`    ${Se(g.name)} ${g.fullTypeName}`;g.notNull&&(m+=" NOT NULL"),g.defaultValue!==null&&(m+=` DEFAULT ${g.defaultValue}`),f.push(m)}if(h.push(f.join(`,
`)),s.length>0){let g=s.map(p=>Se(p));h.push(`)
DISTRIBUTE ON (${g.join(", ")})`)}else h.push(`)
DISTRIBUTE ON RANDOM`);if(o.length>0){let g=o.map(p=>Se(p));h.push(`ORGANIZE ON (${g.join(", ")})`)}h.push(";"),h.push("");for(let[g,p]of a){let m=Se(g),y=p.columns.map(S=>Se(S));if(p.typeChar==="f"){let S=p.pkColumns.filter(b=>b).map(b=>Se(b));S.length>0&&h.push(`ALTER TABLE ${c}.${u}.${d} ADD CONSTRAINT ${m} ${p.type} (${y.join(", ")}) REFERENCES ${p.pkDatabase}.${p.pkSchema}.${p.pkRelation} (${S.join(", ")}) ON DELETE ${p.deleteType} ON UPDATE ${p.updateType};`)}else(p.typeChar==="p"||p.typeChar==="u")&&h.push(`ALTER TABLE ${c}.${u}.${d} ADD CONSTRAINT ${m} ${p.type} (${y.join(", ")});`)}if(l){let g=l.replace(/'/g,"''");h.push(""),h.push(`COMMENT ON TABLE ${c}.${u}.${d} IS '${g}';`)}for(let g of i)if(g.description){let p=Se(g.name),m=g.description.replace(/'/g,"''");h.push(`COMMENT ON COLUMN ${c}.${u}.${d}.${p} IS '${m}';`)}return h.join(`
`)}async function ij(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            VIEWNAME,
            DEFINITION,
            OBJID::INT
        FROM ${e.toUpperCase()}.._V_VIEW
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND VIEWNAME = '${n.toUpperCase()}'
    `,o=await tn(t,i);if(o.length===0)throw new Error(`View ${e}.${r}.${n} not found`);let a=o[0],l=Se(e),c=Se(r),u=Se(n),d=[];return d.push(`CREATE OR REPLACE VIEW ${l}.${c}.${u} AS`),d.push(a.DEFINITION||""),d.join(`
`)}function sj(t){if(!t)return t;let e=t.trim().toUpperCase();return e==="CHARACTER VARYING"?"CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER VARYING"?"NATIONAL CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER"?"NATIONAL CHARACTER(ANY)":e==="CHARACTER"?"CHARACTER(ANY)":t}async function oj(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            OBJID::INT,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS,
            NULL AS LANGUAGE
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
        ORDER BY 1, 2, 3
    `,o=await tn(t,i);if(o.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,procedureSource:a.PROCEDURESOURCE,objId:a.OBJID,returns:sj(a.RETURNS),executeAsOwner:!!a.EXECUTEDASOWNER,description:a.DESCRIPTION||null,procedureSignature:a.PROCEDURESIGNATURE,procedureName:a.PROCEDURE,arguments:a.ARGUMENTS||null},c=Se(e),u=Se(r),d=Se(l.procedureName),h=[],f=`CREATE OR REPLACE PROCEDURE ${c}.${u}.${d}`;if(l.arguments){let g=l.arguments.trim();g.startsWith("(")&&g.endsWith(")")?f+=g:f+=`(${g})`}else f+="()";if(h.push(f),h.push(`RETURNS ${l.returns}`),l.executeAsOwner?h.push("EXECUTE AS OWNER"):h.push("EXECUTE AS CALLER"),h.push("LANGUAGE NZPLSQL AS"),h.push("BEGIN_PROC"),h.push(l.procedureSource),h.push("END_PROC;"),l.description){let g=l.description.replace(/'/g,"''");h.push(`COMMENT ON PROCEDURE ${d} IS '${g}';`)}return h.join(`
`)}async function aj(t,e,r,n){let i=`
        SELECT 
            E1.SCHEMA,
            E1.TABLENAME,
            E2.EXTOBJNAME,
            E2.OBJID::INT,
            E1.DELIM,
            E1.ENCODING,
            E1.TIMESTYLE,
            E1.REMOTESOURCE,
            E1.SKIPROWS,
            E1.MAXERRORS,
            E1.ESCAPE,
            E1.LOGDIR,
            E1.DECIMALDELIM,
            E1.QUOTEDVALUE,
            E1.NULLVALUE,
            E1.CRINSTRING,
            E1.TRUNCSTRING,
            E1.CTRLCHARS,
            E1.IGNOREZERO,
            E1.TIMEEXTRAZEROS,
            E1.Y2BASE,
            E1.FILLRECORD,
            E1.COMPRESS,
            E1.INCLUDEHEADER,
            E1.LFINSTRING,
            E1.DATESTYLE,
            E1.DATEDELIM,
            E1.TIMEDELIM,
            E1.BOOLSTYLE,
            E1.FORMAT,
            E1.SOCKETBUFSIZE,
            E1.RECORDDELIM,
            E1.MAXROWS,
            E1.REQUIREQUOTES,
            E1.RECORDLENGTH,
            E1.DATETIMEDELIM,
            E1.REJECTFILE
        FROM 
            ${e.toUpperCase()}.._V_EXTERNAL E1
            JOIN ${e.toUpperCase()}.._V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE
                AND E1.SCHEMA = E2.SCHEMA
                AND E1.TABLENAME = E2.TABLENAME
        WHERE 
            E1.DATABASE = '${e.toUpperCase()}'
            AND E1.SCHEMA = '${r.toUpperCase()}'
            AND E1.TABLENAME = '${n.toUpperCase()}'
    `,o=await tn(t,i);if(o.length===0)throw new Error(`External table ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,tableName:a.TABLENAME,dataObject:a.EXTOBJNAME||null,delimiter:a.DELIM||null,encoding:a.ENCODING||null,timeStyle:a.TIMESTYLE||null,remoteSource:a.REMOTESOURCE||null,skipRows:a.SKIPROWS||null,maxErrors:a.MAXERRORS||null,escapeChar:a.ESCAPE||null,logDir:a.LOGDIR||null,decimalDelim:a.DECIMALDELIM||null,quotedValue:a.QUOTEDVALUE||null,nullValue:a.NULLVALUE||null,crInString:a.CRINSTRING??null,truncString:a.TRUNCSTRING??null,ctrlChars:a.CTRLCHARS??null,ignoreZero:a.IGNOREZERO??null,timeExtraZeros:a.TIMEEXTRAZEROS??null,y2Base:a.Y2BASE||null,fillRecord:a.FILLRECORD??null,compress:a.COMPRESS||null,includeHeader:a.INCLUDEHEADER??null,lfInString:a.LFINSTRING??null,dateStyle:a.DATESTYLE||null,dateDelim:a.DATEDELIM||null,timeDelim:a.TIMEDELIM||null,boolStyle:a.BOOLSTYLE||null,format:a.FORMAT||null,socketBufSize:a.SOCKETBUFSIZE||null,recordDelim:a.RECORDDELIM?String(a.RECORDDELIM).replace(/\r/g,"\\r").replace(/\n/g,"\\n"):null,maxRows:a.MAXROWS||null,requireQuotes:a.REQUIREQUOTES??null,recordLength:a.RECORDLENGTH||null,dateTimeDelim:a.DATETIMEDELIM||null,rejectFile:a.REJECTFILE||null},c=await Bl(t,e,r,n),u=Se(e),d=Se(r),h=Se(n),f=[];f.push(`CREATE EXTERNAL TABLE ${u}.${d}.${h}`),f.push("(");let g=c.map(p=>{let m=`    ${Se(p.name)} ${p.fullTypeName}`;return p.notNull&&(m+=" NOT NULL"),m});return f.push(g.join(`,
`)),f.push(")"),f.push("USING"),f.push("("),l.dataObject!==null&&f.push(`    DATAOBJECT('${l.dataObject}')`),l.delimiter!==null&&f.push(`    DELIMITER '${l.delimiter}'`),l.encoding!==null&&f.push(`    ENCODING '${l.encoding}'`),l.timeStyle!==null&&f.push(`    TIMESTYLE '${l.timeStyle}'`),l.remoteSource!==null&&f.push(`    REMOTESOURCE '${l.remoteSource}'`),l.maxErrors!==null&&f.push(`    MAXERRORS ${l.maxErrors}`),l.escapeChar!==null&&f.push(`    ESCAPECHAR '${l.escapeChar}'`),l.decimalDelim!==null&&f.push(`    DECIMALDELIM '${l.decimalDelim}'`),l.logDir!==null&&f.push(`    LOGDIR '${l.logDir}'`),l.quotedValue!==null&&f.push(`    QUOTEDVALUE '${l.quotedValue}'`),l.nullValue!==null&&f.push(`    NULLVALUE '${l.nullValue}'`),l.crInString!==null&&f.push(`    CRINSTRING ${l.crInString}`),l.truncString!==null&&f.push(`    TRUNCSTRING ${l.truncString}`),l.ctrlChars!==null&&f.push(`    CTRLCHARS ${l.ctrlChars}`),l.ignoreZero!==null&&f.push(`    IGNOREZERO ${l.ignoreZero}`),l.timeExtraZeros!==null&&f.push(`    TIMEEXTRAZEROS ${l.timeExtraZeros}`),l.y2Base!==null&&f.push(`    Y2BASE ${l.y2Base}`),l.fillRecord!==null&&f.push(`    FILLRECORD ${l.fillRecord}`),l.compress!==null&&f.push(`    COMPRESS ${l.compress}`),l.includeHeader!==null&&f.push(`    INCLUDEHEADER ${l.includeHeader}`),l.lfInString!==null&&f.push(`    LFINSTRING ${l.lfInString}`),l.dateStyle!==null&&f.push(`    DATESTYLE '${l.dateStyle}'`),l.dateDelim!==null&&f.push(`    DATEDELIM '${l.dateDelim}'`),l.timeDelim!==null&&f.push(`    TIMEDELIM '${l.timeDelim}'`),l.boolStyle!==null&&f.push(`    BOOLSTYLE '${l.boolStyle}'`),l.format!==null&&f.push(`    FORMAT '${l.format}'`),l.socketBufSize!==null&&f.push(`    SOCKETBUFSIZE ${l.socketBufSize}`),l.recordDelim!==null&&f.push(`    RECORDDELIM '${l.recordDelim}'`),l.maxRows!==null&&f.push(`    MAXROWS ${l.maxRows}`),l.requireQuotes!==null&&f.push(`    REQUIREQUOTES ${l.requireQuotes}`),l.recordLength!==null&&f.push(`    RECORDLENGTH ${l.recordLength}`),l.dateTimeDelim!==null&&f.push(`    DATETIMEDELIM '${l.dateTimeDelim}'`),l.rejectFile!==null&&f.push(`    REJECTFILE '${l.rejectFile}'`),f.push(");"),f.join(`
`)}async function lj(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            OWNER,
            SYNONYM_NAME,
            REFOBJNAME,
            DESCRIPTION
        FROM ${e.toUpperCase()}.._V_SYNONYM
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND SYNONYM_NAME = '${n.toUpperCase()}'
    `,o=await tn(t,i);if(o.length===0)throw new Error(`Synonym ${e}.${r}.${n} not found`);let a=o[0],l=Se(e),c=Se(a.OWNER||r),u=Se(n),d=a.REFOBJNAME,h=[];if(h.push(`CREATE SYNONYM ${l}.${c}.${u} FOR ${d};`),a.DESCRIPTION){let f=a.DESCRIPTION.replace(/'/g,"''");h.push(`COMMENT ON SYNONYM ${u} IS '${f}';`)}return h.join(`
`)}function cj(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function uj(t,e,r,n,i){let s=null;try{let o=cj(t);o.port||(o.port=5480);let a=en();s=new a(o),await s.connect();let l=i.toUpperCase();return l==="TABLE"?{success:!0,ddlCode:await nj(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="VIEW"?{success:!0,ddlCode:await ij(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="PROCEDURE"?{success:!0,ddlCode:await oj(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="EXTERNAL TABLE"?{success:!0,ddlCode:await aj(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:l==="SYNONYM"?{success:!0,ddlCode:await lj(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:{success:!0,ddlCode:`-- DDL generation for ${i} not yet implemented
-- Object: ${e}.${r}.${n}
-- Type: ${i}
--
-- This feature can be extended to support:
-- - FUNCTION: Query _V_FUNCTION system table
-- - AGGREGATE: Query _V_AGGREGATE system table
`,objectInfo:{database:e,schema:r,objectName:n,objectType:i},note:`${i} DDL generation not yet implemented`}}catch(o){return{success:!1,error:`DDL generation error: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}var fg=yn(()=>{"use strict"});var Fv={};mn(Fv,{generateRecreateTableScript:()=>dj});function fj(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function dj(t,e,r,n,i){let s=null;try{let o=fj(t);o.port||(o.port=5480);let a=en();s=new a(o),await s.connect();let l=await Bl(s,e,r,n);if(l.length===0)return{success:!1,error:`Table ${e}.${r}.${n} not found or has no columns`};let c=await If(s,e,r,n),u=await Nf(s,e,r,n),d=await Df(s,e,r,n),h=await Of(s,e,r,n),f=await ug(s,e,r,n),g=Se(e),p=Se(r),m=Se(n),y=new Date().toISOString().replace(/[-:T.]/g,"").substring(0,14),S=Math.random().toString(36).substring(2,7).toUpperCase(),b=i||`${n}_${y}_NEW`,w=Se(b),I=`${n}_${y}_BACKUP_${S}`,O=Se(I),C=[];C.push(`-- Recreate Table Script for ${g}.${p}.${m}`),C.push(`-- Generated at ${new Date().toISOString()}`),C.push(""),C.push("-- 1. Create new table with desired structure"),C.push(`CREATE TABLE ${g}.${p}.${w}`),C.push("(");let B=[];for(let L of l){let Y=`    ${Se(L.name)} ${L.fullTypeName}`;L.notNull&&(Y+=" NOT NULL"),L.defaultValue!==null&&(Y+=` DEFAULT ${L.defaultValue}`),B.push(Y)}if(C.push(B.join(`,
`)),c.length>0){let L=c.map($=>Se($));C.push(`)
DISTRIBUTE ON (${L.join(", ")})`)}else C.push(`)
DISTRIBUTE ON RANDOM`);if(u.length>0){let L=u.map($=>Se($));C.push(`ORGANIZE ON (${L.join(", ")})`)}if(C.push(";"),C.push(""),C.push("-- 2. Copy data from original table"),C.push(`INSERT INTO ${g}.${p}.${w} SELECT * FROM ${g}.${p}.${m};`),C.push(""),C.push("-- 3. Copy privileges from original table"),C.push(`ALTER TABLE ${g}.${p}.${w} SET PRIVILEGES TO ${g}.${p}.${m};`),C.push(""),C.push("-- 4. Swap tables: Rename Original to Backup, New to Original"),C.push(`ALTER TABLE ${g}.${p}.${m} RENAME TO ${O};`),C.push(`ALTER TABLE ${g}.${p}.${w} RENAME TO ${m};`),C.push(""),f&&(C.push("-- 5. Restore Owner"),C.push(`ALTER TABLE ${g}.${p}.${m} OWNER TO ${f};`),C.push("")),C.push("-- 6. Drop Backup Table (Optional - Comment out if you want to keep it)"),C.push(`DROP TABLE ${g}.${p}.${O};`),C.push(""),d.size>0){C.push("-- 7. Restore Constraints");for(let[L,$]of d){let Y=Se(L),j=$.columns.map(le=>Se(le)),ee="";if($.typeChar==="f"){let le=$.pkColumns.filter(fe=>fe).map(fe=>Se(fe));le.length>0&&(ee=`ALTER TABLE ${g}.${p}.${m} ADD CONSTRAINT ${Y} ${$.type} (${j.join(", ")}) REFERENCES ${$.pkDatabase}.${$.pkSchema}.${$.pkRelation} (${le.join(", ")}) ON DELETE ${$.deleteType} ON UPDATE ${$.updateType};`)}else($.typeChar==="p"||$.typeChar==="u")&&(ee=`ALTER TABLE ${g}.${p}.${m} ADD CONSTRAINT ${Y} ${$.type} (${j.join(", ")});`);ee&&C.push(ee)}C.push("")}if(h){let L=h.replace(/'/g,"''");C.push("-- 8. Restore Comments"),C.push(`COMMENT ON TABLE ${g}.${p}.${m} IS '${L}';`)}let N=[];for(let L of l)if(L.description){let $=Se(L.name),Y=L.description.replace(/'/g,"''");N.push(`COMMENT ON COLUMN ${g}.${p}.${m}.${$} IS '${Y}';`)}return N.length>0&&(h||C.push("-- 8. Restore Comments"),C.push(N.join(`
`)),C.push("")),C.push("-- 9. Generate Statistics"),C.push(`GENERATE EXPRESS STATISTICS ON ${g}.${p}.${m};`),{success:!0,sqlScript:C.join(`
`)}}catch(o){return{success:!1,error:`Error generating recreate script: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}var Bv=yn(()=>{"use strict";fg()});var $v=x((owe,kv)=>{var hj=typeof process=="object"&&process&&process.platform==="win32";kv.exports=hj?{sep:"\\"}:{sep:"/"}});var dg=x((awe,jv)=>{"use strict";jv.exports=Uv;function Uv(t,e,r){t instanceof RegExp&&(t=qv(t,r)),e instanceof RegExp&&(e=qv(e,r));var n=Wv(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function qv(t,e){var r=e.match(t);return r?r[0]:null}Uv.range=Wv;function Wv(t,e,r){var n,i,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(t,u+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}});var Xv=x((lwe,Kv)=>{var zv=dg();Kv.exports=yj;var Hv="\0SLASH"+Math.random()+"\0",Vv="\0OPEN"+Math.random()+"\0",pg="\0CLOSE"+Math.random()+"\0",Gv="\0COMMA"+Math.random()+"\0",Yv="\0PERIOD"+Math.random()+"\0";function hg(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function pj(t){return t.split("\\\\").join(Hv).split("\\{").join(Vv).split("\\}").join(pg).split("\\,").join(Gv).split("\\.").join(Yv)}function gj(t){return t.split(Hv).join("\\").split(Vv).join("{").split(pg).join("}").split(Gv).join(",").split(Yv).join(".")}function Jv(t){if(!t)return[""];var e=[],r=zv("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Jv(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function yj(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),kl(pj(t),!0).map(gj)):[]}function mj(t){return"{"+t+"}"}function bj(t){return/^-?0\d/.test(t)}function wj(t,e){return t<=e}function _j(t,e){return t>=e}function kl(t,e){var r=[],n=zv("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?kl(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+pg+n.post,kl(t)):[t];var h;if(u)h=n.body.split(/\.\./);else if(h=Jv(n.body),h.length===1&&(h=kl(h[0],!1).map(mj),h.length===1))return s.map(function(L){return n.pre+h[0]+L});var f;if(u){var g=hg(h[0]),p=hg(h[1]),m=Math.max(h[0].length,h[1].length),y=h.length==3?Math.abs(hg(h[2])):1,S=wj,b=p<g;b&&(y*=-1,S=_j);var w=h.some(bj);f=[];for(var I=g;S(I,p);I+=y){var O;if(c)O=String.fromCharCode(I),O==="\\"&&(O="");else if(O=String(I),w){var C=m-O.length;if(C>0){var B=new Array(C+1).join("0");I<0?O="-"+B+O.slice(1):O=B+O}}f.push(O)}}else{f=[];for(var N=0;N<h.length;N++)f.push.apply(f,kl(h[N],!1))}for(var N=0;N<f.length;N++)for(var o=0;o<s.length;o++){var a=i+f[N]+s[o];(!e||u||a)&&r.push(a)}}return r}});var nT=x((uwe,wg)=>{var Or=wg.exports=(t,e,r={})=>(Lf(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Uo(e,r).match(t));wg.exports=Or;var mg=$v();Or.sep=mg.sep;var rn=Symbol("globstar **");Or.GLOBSTAR=rn;var Ej=Xv(),Zv={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},bg="[^/]",gg=bg+"*?",Sj="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",xj="(?:(?!(?:\\/|^)\\.).)*?",tT=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),Qv=tT("().*{}+?[]^$\\!"),vj=tT("[.("),eT=/\/+/;Or.filter=(t,e={})=>(r,n,i)=>Or(r,t,e);var Mi=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};Or.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Or;let e=Or,r=(n,i,s)=>e(n,i,Mi(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,Mi(t,s))}},r.Minimatch.defaults=n=>e.defaults(Mi(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,Mi(t,i)),r.defaults=n=>e.defaults(Mi(t,n)),r.makeRe=(n,i)=>e.makeRe(n,Mi(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,Mi(t,i)),r.match=(n,i,s)=>e.match(n,i,Mi(t,s)),r};Or.braceExpand=(t,e)=>rT(t,e);var rT=(t,e={})=>(Lf(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Ej(t)),Tj=1024*64,Lf=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Tj)throw new TypeError("pattern is too long")},yg=Symbol("subparse");Or.makeRe=(t,e)=>new Uo(t,e||{}).makeRe();Or.match=(t,e,r={})=>{let n=new Uo(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var Rj=t=>t.replace(/\\(.)/g,"$1"),Aj=t=>t.replace(/\\([^-\]])/g,"$1"),Cj=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ij=t=>t.replace(/[[\]\\]/g,"\\$&"),Uo=class{constructor(e,r){Lf(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(eT)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,l=r.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=r[o],u=e[s];if(this.debug(r,c,u),c===!1)return!1;if(c===rn){this.debug("GLOBSTAR",[r,c,u]);var d=s,h=o+1;if(h===l){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;d<a;){var f=e[d];if(this.debug(`
globstar while`,e,d,r,h,f),this.matchOne(e.slice(d),r.slice(h),n))return this.debug("globstar found match!",d,a,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,d,r,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,h),d===a))}var g;if(typeof c=="string"?(g=u===c,this.debug("string match",c,u,g)):(g=u.match(c),this.debug("pattern match",c,u,g)),!g)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return rT(this.pattern,this.options)}parse(e,r){Lf(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return rn;if(e==="")return"";let i="",s=!1,o=!1,a=[],l=[],c,u=!1,d=-1,h=-1,f,g,p,m=e.charAt(0)===".",y=n.dot||m,S=()=>m?"":y?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=C=>C.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=()=>{if(c){switch(c){case"*":i+=gg,s=!0;break;case"?":i+=bg,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let C=0,B;C<e.length&&(B=e.charAt(C));C++){if(this.debug("%s	%s %s %j",e,C,i,B),o){if(B==="/")return!1;Qv[B]&&(i+="\\"),i+=B,o=!1;continue}switch(B){case"/":return!1;case"\\":if(u&&e.charAt(C+1)==="-"){i+=B;continue}w(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,C,i,B),u){this.debug("  in class"),B==="!"&&C===h+1&&(B="^"),i+=B;continue}this.debug("call clearStateChar %j",c),w(),c=B,n.noext&&w();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}let N={type:c,start:C-1,reStart:i.length,open:Zv[c].open,close:Zv[c].close};this.debug(this.pattern,"	",N),a.push(N),i+=N.open,N.start===0&&N.type!=="!"&&(m=!0,i+=b(e.slice(C+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let N=a[a.length-1];if(u||!N){i+="\\)";continue}a.pop(),w(),s=!0,g=N,i+=g.close,g.type==="!"&&l.push(Object.assign(g,{reEnd:i.length}));continue}case"|":{let N=a[a.length-1];if(u||!N){i+="\\|";continue}w(),i+="|",N.start===0&&N.type!=="!"&&(m=!0,i+=b(e.slice(C+1)));continue}case"[":if(w(),u){i+="\\"+B;continue}u=!0,h=C,d=i.length,i+=B;continue;case"]":if(C===h+1||!u){i+="\\"+B;continue}f=e.substring(h+1,C);try{RegExp("["+Ij(Aj(f))+"]"),i+=B}catch{i=i.substring(0,d)+"(?:$.)"}s=!0,u=!1;continue;default:w(),Qv[B]&&!(B==="^"&&u)&&(i+="\\"),i+=B;break}}for(u&&(f=e.slice(h+1),p=this.parse(f,yg),i=i.substring(0,d)+"\\["+p[0],s=s||p[1]),g=a.pop();g;g=a.pop()){let C;C=i.slice(g.reStart+g.open.length),this.debug("setting tail",i,g),C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,(N,L,$)=>($||($="\\"),L+L+$+"|")),this.debug(`tail=%j
   %s`,C,C,g,i);let B=g.type==="*"?gg:g.type==="?"?bg:"\\"+g.type;s=!0,i=i.slice(0,g.reStart)+B+"\\("+C}w(),o&&(i+="\\\\");let I=vj[i.charAt(0)];for(let C=l.length-1;C>-1;C--){let B=l[C],N=i.slice(0,B.reStart),L=i.slice(B.reStart,B.reEnd-8),$=i.slice(B.reEnd),Y=i.slice(B.reEnd-8,B.reEnd)+$,j=N.split(")").length,ee=N.split("(").length-j,le=$;for(let Oe=0;Oe<ee;Oe++)le=le.replace(/\)[+*?]?/,"");$=le;let fe=$===""&&r!==yg?"(?:$|\\/)":"";i=N+L+$+fe+Y}if(i!==""&&s&&(i="(?=.)"+i),I&&(i=S()+i),r===yg)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return Rj(e);let O=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",O),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?gg:r.dot?Sj:xj,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?Cj(a):a===rn?rn:a._src).reduce((a,l)=>(a[a.length-1]===rn&&l===rn||a.push(l),a),[]),o.forEach((a,l)=>{a!==rn||o[l-1]===rn||(l===0?o.length>1?o[l+1]="(?:\\/|"+n+"\\/)?"+o[l+1]:o[l]=n:l===o.length-1?o[l-1]+="(?:\\/|"+n+")?":(o[l-1]+="(?:\\/|\\/"+n+"\\/)"+o[l+1],o[l+1]=rn))}),o.filter(a=>a!==rn).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;mg.sep!=="/"&&(e=e.split(mg.sep).join("/")),e=e.split(eT),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],l=e;if(n.matchBase&&a.length===1&&(l=[s]),this.matchOne(l,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Or.defaults(e).Minimatch}};Or.Minimatch=Uo});var lT=x((fwe,aT)=>{aT.exports=oT;var Eg=require("fs"),{EventEmitter:Nj}=require("events"),{Minimatch:_g}=nT(),{resolve:Dj}=require("path");function Oj(t,e){return new Promise((r,n)=>{Eg.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function iT(t,e){return new Promise((r,n)=>{(e?Eg.stat:Eg.lstat)(t,(s,o)=>{if(s)switch(s.code){case"ENOENT":r(e?iT(t,!1):null);break;default:r(null);break}else r(o)})})}async function*sT(t,e,r,n,i,s){let o=await Oj(e+t,s);for(let a of o){let l=a.name;l===void 0&&(l=a,n=!0);let c=t+"/"+l,u=c.slice(1),d=e+"/"+u,h=null;(n||r)&&(h=await iT(d,r)),!h&&a.name!==void 0&&(h=a),h===null&&(h={isDirectory:()=>!1}),h.isDirectory()?i(u)||(yield{relative:u,absolute:d,stats:h},yield*sT(c,e,r,n,i,!1)):yield{relative:u,absolute:d,stats:h}}}async function*Lj(t,e,r,n){yield*sT("",t,e,r,n,!0)}function Mj(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var Mf=class extends Nj{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=Mj(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new _g(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new _g(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new _g(s,{dot:!0}))}this.iterator=Lj(Dj(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function oT(t,e,r){return new Mf(t,e,r)}oT.ReaddirGlob=Mf});var uT=x((Pf,cT)=>{(function(t,e){typeof Pf=="object"&&typeof cT<"u"?e(Pf):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(Pf,(function(t){"use strict";function e(R,...E){return(...A)=>R(...E,...A)}function r(R){return function(...E){var A=E.pop();return R.call(this,E,A)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,s=typeof process=="object"&&typeof process.nextTick=="function";function o(R){setTimeout(R,0)}function a(R){return(E,...A)=>R(()=>E(...A))}var l;n?l=queueMicrotask:i?l=setImmediate:s?l=process.nextTick:l=o;var c=a(l);function u(R){return f(R)?function(...E){let A=E.pop(),D=R.apply(this,E);return d(D,A)}:r(function(E,A){var D;try{D=R.apply(this,E)}catch(M){return A(M)}if(D&&typeof D.then=="function")return d(D,A);A(null,D)})}function d(R,E){return R.then(A=>{h(E,null,A)},A=>{h(E,A&&(A instanceof Error||A.message)?A:new Error(A))})}function h(R,E,A){try{R(E,A)}catch(D){c(M=>{throw M},D)}}function f(R){return R[Symbol.toStringTag]==="AsyncFunction"}function g(R){return R[Symbol.toStringTag]==="AsyncGenerator"}function p(R){return typeof R[Symbol.asyncIterator]=="function"}function m(R){if(typeof R!="function")throw new Error("expected a function");return f(R)?u(R):R}function y(R,E){if(E||(E=R.length),!E)throw new Error("arity is undefined");function A(...D){return typeof D[E-1]=="function"?R.apply(this,D):new Promise((M,F)=>{D[E-1]=(q,...U)=>{if(q)return F(q);M(U.length>1?U:U[0])},R.apply(this,D)})}return A}function S(R){return function(A,...D){return y(function(F){var q=this;return R(A,(U,H)=>{m(U).apply(q,D.concat(H))},F)})}}function b(R,E,A,D){E=E||[];var M=[],F=0,q=m(A);return R(E,(U,H,re)=>{var Le=F++;q(U,(ke,Pe)=>{M[Le]=Pe,re(ke)})},U=>{D(U,M)})}function w(R){return R&&typeof R.length=="number"&&R.length>=0&&R.length%1===0}let I={};function O(R){function E(...A){if(R!==null){var D=R;R=null,D.apply(this,A)}}return Object.assign(E,R),E}function C(R){return R[Symbol.iterator]&&R[Symbol.iterator]()}function B(R){var E=-1,A=R.length;return function(){return++E<A?{value:R[E],key:E}:null}}function N(R){var E=-1;return function(){var D=R.next();return D.done?null:(E++,{value:D.value,key:E})}}function L(R){var E=R?Object.keys(R):[],A=-1,D=E.length;return function M(){var F=E[++A];return F==="__proto__"?M():A<D?{value:R[F],key:F}:null}}function $(R){if(w(R))return B(R);var E=C(R);return E?N(E):L(R)}function Y(R){return function(...E){if(R===null)throw new Error("Callback was already called.");var A=R;R=null,A.apply(this,E)}}function j(R,E,A,D){let M=!1,F=!1,q=!1,U=0,H=0;function re(){U>=E||q||M||(q=!0,R.next().then(({value:Pe,done:kr})=>{if(!(F||M)){if(q=!1,kr){M=!0,U<=0&&D(null);return}U++,A(Pe,H,Le),H++,re()}}).catch(ke))}function Le(Pe,kr){if(U-=1,!F){if(Pe)return ke(Pe);if(Pe===!1){M=!0,F=!0;return}if(kr===I||M&&U<=0)return M=!0,D(null);re()}}function ke(Pe){F||(q=!1,M=!0,D(Pe))}re()}var ee=R=>(E,A,D)=>{if(D=O(D),R<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!E)return D(null);if(g(E))return j(E,R,A,D);if(p(E))return j(E[Symbol.asyncIterator](),R,A,D);var M=$(E),F=!1,q=!1,U=0,H=!1;function re(ke,Pe){if(!q)if(U-=1,ke)F=!0,D(ke);else if(ke===!1)F=!0,q=!0;else{if(Pe===I||F&&U<=0)return F=!0,D(null);H||Le()}}function Le(){for(H=!0;U<R&&!F;){var ke=M();if(ke===null){F=!0,U<=0&&D(null);return}U+=1,A(ke.value,ke.key,Y(re))}H=!1}Le()};function le(R,E,A,D){return ee(E)(R,m(A),D)}var fe=y(le,4);function Oe(R,E,A){A=O(A);var D=0,M=0,{length:F}=R,q=!1;F===0&&A(null);function U(H,re){H===!1&&(q=!0),q!==!0&&(H?A(H):(++M===F||re===I)&&A(null))}for(;D<F;D++)E(R[D],D,Y(U))}function Et(R,E,A){return fe(R,1/0,E,A)}function Ve(R,E,A){var D=w(R)?Oe:Et;return D(R,m(E),A)}var T=y(Ve,3);function P(R,E,A){return b(T,R,E,A)}var k=y(P,3),z=S(k);function W(R,E,A){return fe(R,1,E,A)}var V=y(W,3);function J(R,E,A){return b(V,R,E,A)}var G=y(J,3),X=S(G);let ne=Symbol("promiseCallback");function Z(){let R,E;function A(D,...M){if(D)return E(D);R(M.length>1?M:M[0])}return A[ne]=new Promise((D,M)=>{R=D,E=M}),A}function de(R,E,A){typeof E!="number"&&(A=E,E=null),A=O(A||Z());var D=Object.keys(R).length;if(!D)return A(null);E||(E=D);var M={},F=0,q=!1,U=!1,H=Object.create(null),re=[],Le=[],ke={};Object.keys(R).forEach(te=>{var oe=R[te];if(!Array.isArray(oe)){Pe(te,[oe]),Le.push(te);return}var Fe=oe.slice(0,oe.length-1),nt=Fe.length;if(nt===0){Pe(te,oe),Le.push(te);return}ke[te]=nt,Fe.forEach(qt=>{if(!R[qt])throw new Error("async.auto task `"+te+"` has a non-existent dependency `"+qt+"` in "+Fe.join(", "));Mo(qt,()=>{nt--,nt===0&&Pe(te,oe)})})}),$e(),kr();function Pe(te,oe){re.push(()=>Al(te,oe))}function kr(){if(!q){if(re.length===0&&F===0)return A(null,M);for(;re.length&&F<E;){var te=re.shift();te()}}}function Mo(te,oe){var Fe=H[te];Fe||(Fe=H[te]=[]),Fe.push(oe)}function gs(te){var oe=H[te]||[];oe.forEach(Fe=>Fe()),kr()}function Al(te,oe){if(!U){var Fe=Y((qt,...$r)=>{if(F--,qt===!1){q=!0;return}if($r.length<2&&([$r]=$r),qt){var Po={};if(Object.keys(M).forEach(ys=>{Po[ys]=M[ys]}),Po[te]=$r,U=!0,H=Object.create(null),q)return;A(qt,Po)}else M[te]=$r,gs(te)});F++;var nt=m(oe[oe.length-1]);oe.length>1?nt(M,Fe):nt(Fe)}}function $e(){for(var te,oe=0;Le.length;)te=Le.pop(),oe++,se(te).forEach(Fe=>{--ke[Fe]===0&&Le.push(Fe)});if(oe!==D)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function se(te){var oe=[];return Object.keys(R).forEach(Fe=>{let nt=R[Fe];Array.isArray(nt)&&nt.indexOf(te)>=0&&oe.push(Fe)}),oe}return A[ne]}var ce=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,Ue=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,Je=/,/,Ct=/(=.+)?(\s*)$/;function ar(R){let E="",A=0,D=R.indexOf("*/");for(;A<R.length;)if(R[A]==="/"&&R[A+1]==="/"){let M=R.indexOf(`
`,A);A=M===-1?R.length:M}else if(D!==-1&&R[A]==="/"&&R[A+1]==="*"){let M=R.indexOf("*/",A);M!==-1?(A=M+2,D=R.indexOf("*/",A)):(E+=R[A],A++)}else E+=R[A],A++;return E}function It(R){let E=ar(R.toString()),A=E.match(ce);if(A||(A=E.match(Ue)),!A)throw new Error(`could not parse args in autoInject
Source:
`+E);let[,D]=A;return D.replace(/\s/g,"").split(Je).map(M=>M.replace(Ct,"").trim())}function hs(R,E){var A={};return Object.keys(R).forEach(D=>{var M=R[D],F,q=f(M),U=!q&&M.length===1||q&&M.length===0;if(Array.isArray(M))F=[...M],M=F.pop(),A[D]=F.concat(F.length>0?H:M);else if(U)A[D]=M;else{if(F=It(M),M.length===0&&!q&&F.length===0)throw new Error("autoInject task functions require explicit parameters.");q||F.pop(),A[D]=F.concat(H)}function H(re,Le){var ke=F.map(Pe=>re[Pe]);ke.push(Le),m(M)(...ke)}}),de(A,E)}class ps{constructor(){this.head=this.tail=null,this.length=0}removeLink(E){return E.prev?E.prev.next=E.next:this.head=E.next,E.next?E.next.prev=E.prev:this.tail=E.prev,E.prev=E.next=null,this.length-=1,E}empty(){for(;this.head;)this.shift();return this}insertAfter(E,A){A.prev=E,A.next=E.next,E.next?E.next.prev=A:this.tail=A,E.next=A,this.length+=1}insertBefore(E,A){A.prev=E.prev,A.next=E,E.prev?E.prev.next=A:this.head=A,E.prev=A,this.length+=1}unshift(E){this.head?this.insertBefore(this.head,E):No(this,E)}push(E){this.tail?this.insertAfter(this.tail,E):No(this,E)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var E=this.head;E;)yield E.data,E=E.next}remove(E){for(var A=this.head;A;){var{next:D}=A;E(A)&&this.removeLink(A),A=D}return this}}function No(R,E){R.length=1,R.head=R.tail=E}function Do(R,E,A){if(E==null)E=1;else if(E===0)throw new RangeError("Concurrency must not be zero");var D=m(R),M=0,F=[];let q={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function U(se,te){q[se].push(te)}function H(se,te){let oe=(...Fe)=>{re(se,oe),te(...Fe)};q[se].push(oe)}function re(se,te){if(!se)return Object.keys(q).forEach(oe=>q[oe]=[]);if(!te)return q[se]=[];q[se]=q[se].filter(oe=>oe!==te)}function Le(se,...te){q[se].forEach(oe=>oe(...te))}var ke=!1;function Pe(se,te,oe,Fe){if(Fe!=null&&typeof Fe!="function")throw new Error("task callback must be a function");$e.started=!0;var nt,qt;function $r(ys,...Cl){if(ys)return oe?qt(ys):nt();if(Cl.length<=1)return nt(Cl[0]);nt(Cl)}var Po=$e._createTaskItem(se,oe?$r:Fe||$r);if(te?$e._tasks.unshift(Po):$e._tasks.push(Po),ke||(ke=!0,c(()=>{ke=!1,$e.process()})),oe||!Fe)return new Promise((ys,Cl)=>{nt=ys,qt=Cl})}function kr(se){return function(te,...oe){M-=1;for(var Fe=0,nt=se.length;Fe<nt;Fe++){var qt=se[Fe],$r=F.indexOf(qt);$r===0?F.shift():$r>0&&F.splice($r,1),qt.callback(te,...oe),te!=null&&Le("error",te,qt.data)}M<=$e.concurrency-$e.buffer&&Le("unsaturated"),$e.idle()&&Le("drain"),$e.process()}}function Mo(se){return se.length===0&&$e.idle()?(c(()=>Le("drain")),!0):!1}let gs=se=>te=>{if(!te)return new Promise((oe,Fe)=>{H(se,(nt,qt)=>{if(nt)return Fe(nt);oe(qt)})});re(se),U(se,te)};var Al=!1,$e={_tasks:new ps,_createTaskItem(se,te){return{data:se,callback:te}},*[Symbol.iterator](){yield*$e._tasks[Symbol.iterator]()},concurrency:E,payload:A,buffer:E/4,started:!1,paused:!1,push(se,te){return Array.isArray(se)?Mo(se)?void 0:se.map(oe=>Pe(oe,!1,!1,te)):Pe(se,!1,!1,te)},pushAsync(se,te){return Array.isArray(se)?Mo(se)?void 0:se.map(oe=>Pe(oe,!1,!0,te)):Pe(se,!1,!0,te)},kill(){re(),$e._tasks.empty()},unshift(se,te){return Array.isArray(se)?Mo(se)?void 0:se.map(oe=>Pe(oe,!0,!1,te)):Pe(se,!0,!1,te)},unshiftAsync(se,te){return Array.isArray(se)?Mo(se)?void 0:se.map(oe=>Pe(oe,!0,!0,te)):Pe(se,!0,!0,te)},remove(se){$e._tasks.remove(se)},process(){if(!Al){for(Al=!0;!$e.paused&&M<$e.concurrency&&$e._tasks.length;){var se=[],te=[],oe=$e._tasks.length;$e.payload&&(oe=Math.min(oe,$e.payload));for(var Fe=0;Fe<oe;Fe++){var nt=$e._tasks.shift();se.push(nt),F.push(nt),te.push(nt.data)}M+=1,$e._tasks.length===0&&Le("empty"),M===$e.concurrency&&Le("saturated");var qt=Y(kr(se));D(te,qt)}Al=!1}},length(){return $e._tasks.length},running(){return M},workersList(){return F},idle(){return $e._tasks.length+M===0},pause(){$e.paused=!0},resume(){$e.paused!==!1&&($e.paused=!1,c($e.process))}};return Object.defineProperties($e,{saturated:{writable:!1,value:gs("saturated")},unsaturated:{writable:!1,value:gs("unsaturated")},empty:{writable:!1,value:gs("empty")},drain:{writable:!1,value:gs("drain")},error:{writable:!1,value:gs("error")}}),$e}function Oo(R,E){return Do(R,1,E)}function fx(R,E,A){return Do(R,E,A)}function nW(R,E,A,D){D=O(D);var M=m(A);return V(R,(F,q,U)=>{M(E,F,(H,re)=>{E=re,U(H)})},F=>D(F,E))}var Di=y(nW,4);function k0(...R){var E=R.map(m);return function(...A){var D=this,M=A[A.length-1];return typeof M=="function"?A.pop():M=Z(),Di(E,A,(F,q,U)=>{q.apply(D,F.concat((H,...re)=>{U(H,re)}))},(F,q)=>M(F,...q)),M[ne]}}function dx(...R){return k0(...R.reverse())}function iW(R,E,A,D){return b(ee(E),R,A,D)}var Sl=y(iW,4);function sW(R,E,A,D){var M=m(A);return Sl(R,E,(F,q)=>{M(F,(U,...H)=>U?q(U):q(U,H))},(F,q)=>{for(var U=[],H=0;H<q.length;H++)q[H]&&(U=U.concat(...q[H]));return D(F,U)})}var Lo=y(sW,4);function oW(R,E,A){return Lo(R,1/0,E,A)}var qu=y(oW,3);function aW(R,E,A){return Lo(R,1,E,A)}var Uu=y(aW,3);function hx(...R){return function(...E){var A=E.pop();return A(null,...R)}}function Kn(R,E){return(A,D,M,F)=>{var q=!1,U;let H=m(M);A(D,(re,Le,ke)=>{H(re,(Pe,kr)=>{if(Pe||Pe===!1)return ke(Pe);if(R(kr)&&!U)return q=!0,U=E(!0,re),ke(null,I);ke()})},re=>{if(re)return F(re);F(null,q?U:E(!1))})}}function lW(R,E,A){return Kn(D=>D,(D,M)=>M)(T,R,E,A)}var Wu=y(lW,3);function cW(R,E,A,D){return Kn(M=>M,(M,F)=>F)(ee(E),R,A,D)}var ju=y(cW,4);function uW(R,E,A){return Kn(D=>D,(D,M)=>M)(ee(1),R,E,A)}var zu=y(uW,3);function px(R){return(E,...A)=>m(E)(...A,(D,...M)=>{typeof console=="object"&&(D?console.error&&console.error(D):console[R]&&M.forEach(F=>console[R](F)))})}var gx=px("dir");function fW(R,E,A){A=Y(A);var D=m(R),M=m(E),F;function q(H,...re){if(H)return A(H);H!==!1&&(F=re,M(...re,U))}function U(H,re){if(H)return A(H);if(H!==!1){if(!re)return A(null,...F);D(q)}}return U(null,!0)}var xl=y(fW,3);function yx(R,E,A){let D=m(E);return xl(R,(...M)=>{let F=M.pop();D(...M,(q,U)=>F(q,!U))},A)}function mx(R){return(E,A,D)=>R(E,D)}function dW(R,E,A){return T(R,mx(m(E)),A)}var Hu=y(dW,3);function hW(R,E,A,D){return ee(E)(R,mx(m(A)),D)}var vl=y(hW,4);function pW(R,E,A){return vl(R,1,E,A)}var Tl=y(pW,3);function $0(R){return f(R)?R:function(...E){var A=E.pop(),D=!0;E.push((...M)=>{D?c(()=>A(...M)):A(...M)}),R.apply(this,E),D=!1}}function gW(R,E,A){return Kn(D=>!D,D=>!D)(T,R,E,A)}var Vu=y(gW,3);function yW(R,E,A,D){return Kn(M=>!M,M=>!M)(ee(E),R,A,D)}var Gu=y(yW,4);function mW(R,E,A){return Kn(D=>!D,D=>!D)(V,R,E,A)}var Yu=y(mW,3);function bW(R,E,A,D){var M=new Array(E.length);R(E,(F,q,U)=>{A(F,(H,re)=>{M[q]=!!re,U(H)})},F=>{if(F)return D(F);for(var q=[],U=0;U<E.length;U++)M[U]&&q.push(E[U]);D(null,q)})}function wW(R,E,A,D){var M=[];R(E,(F,q,U)=>{A(F,(H,re)=>{if(H)return U(H);re&&M.push({index:q,value:F}),U(H)})},F=>{if(F)return D(F);D(null,M.sort((q,U)=>q.index-U.index).map(q=>q.value))})}function Ju(R,E,A,D){var M=w(E)?bW:wW;return M(R,E,m(A),D)}function _W(R,E,A){return Ju(T,R,E,A)}var Ku=y(_W,3);function EW(R,E,A,D){return Ju(ee(E),R,A,D)}var Xu=y(EW,4);function SW(R,E,A){return Ju(V,R,E,A)}var Zu=y(SW,3);function xW(R,E){var A=Y(E),D=m($0(R));function M(F){if(F)return A(F);F!==!1&&D(M)}return M()}var bx=y(xW,2);function vW(R,E,A,D){var M=m(A);return Sl(R,E,(F,q)=>{M(F,(U,H)=>U?q(U):q(U,{key:H,val:F}))},(F,q)=>{for(var U={},{hasOwnProperty:H}=Object.prototype,re=0;re<q.length;re++)if(q[re]){var{key:Le}=q[re],{val:ke}=q[re];H.call(U,Le)?U[Le].push(ke):U[Le]=[ke]}return D(F,U)})}var Qu=y(vW,4);function wx(R,E,A){return Qu(R,1/0,E,A)}function _x(R,E,A){return Qu(R,1,E,A)}var Ex=px("log");function TW(R,E,A,D){D=O(D);var M={},F=m(A);return ee(E)(R,(q,U,H)=>{F(q,U,(re,Le)=>{if(re)return H(re);M[U]=Le,H(re)})},q=>D(q,M))}var ef=y(TW,4);function Sx(R,E,A){return ef(R,1/0,E,A)}function xx(R,E,A){return ef(R,1,E,A)}function vx(R,E=A=>A){var A=Object.create(null),D=Object.create(null),M=m(R),F=r((q,U)=>{var H=E(...q);H in A?c(()=>U(null,...A[H])):H in D?D[H].push(U):(D[H]=[U],M(...q,(re,...Le)=>{re||(A[H]=Le);var ke=D[H];delete D[H];for(var Pe=0,kr=ke.length;Pe<kr;Pe++)ke[Pe](re,...Le)}))});return F.memo=A,F.unmemoized=R,F}var tf;s?tf=process.nextTick:i?tf=setImmediate:tf=o;var Tx=a(tf),q0=y((R,E,A)=>{var D=w(E)?[]:{};R(E,(M,F,q)=>{m(M)((U,...H)=>{H.length<2&&([H]=H),D[F]=H,q(U)})},M=>A(M,D))},3);function Rx(R,E){return q0(T,R,E)}function Ax(R,E,A){return q0(ee(E),R,A)}function U0(R,E){var A=m(R);return Do((D,M)=>{A(D[0],M)},E,1)}class RW{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(E){let A;for(;E>0&&W0(this.heap[E],this.heap[A=Cx(E)]);){let D=this.heap[E];this.heap[E]=this.heap[A],this.heap[A]=D,E=A}}percDown(E){let A;for(;(A=AW(E))<this.heap.length&&(A+1<this.heap.length&&W0(this.heap[A+1],this.heap[A])&&(A=A+1),!W0(this.heap[E],this.heap[A]));){let D=this.heap[E];this.heap[E]=this.heap[A],this.heap[A]=D,E=A}}push(E){E.pushCount=++this.pushCount,this.heap.push(E),this.percUp(this.heap.length-1)}unshift(E){return this.heap.push(E)}shift(){let[E]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),E}toArray(){return[...this]}*[Symbol.iterator](){for(let E=0;E<this.heap.length;E++)yield this.heap[E].data}remove(E){let A=0;for(let D=0;D<this.heap.length;D++)E(this.heap[D])||(this.heap[A]=this.heap[D],A++);this.heap.splice(A);for(let D=Cx(this.heap.length-1);D>=0;D--)this.percDown(D);return this}}function AW(R){return(R<<1)+1}function Cx(R){return(R+1>>1)-1}function W0(R,E){return R.priority!==E.priority?R.priority<E.priority:R.pushCount<E.pushCount}function Ix(R,E){var A=U0(R,E),{push:D,pushAsync:M}=A;A._tasks=new RW,A._createTaskItem=({data:q,priority:U},H)=>({data:q,priority:U,callback:H});function F(q,U){return Array.isArray(q)?q.map(H=>({data:H,priority:U})):{data:q,priority:U}}return A.push=function(q,U=0,H){return D(F(q,U),H)},A.pushAsync=function(q,U=0,H){return M(F(q,U),H)},delete A.unshift,delete A.unshiftAsync,A}function CW(R,E){if(E=O(E),!Array.isArray(R))return E(new TypeError("First argument to race must be an array of functions"));if(!R.length)return E();for(var A=0,D=R.length;A<D;A++)m(R[A])(E)}var Nx=y(CW,2);function rf(R,E,A,D){var M=[...R].reverse();return Di(M,E,A,D)}function nf(R){var E=m(R);return r(function(D,M){return D.push((F,...q)=>{let U={};if(F&&(U.error=F),q.length>0){var H=q;q.length<=1&&([H]=q),U.value=H}M(null,U)}),E.apply(this,D)})}function Dx(R){var E;return Array.isArray(R)?E=R.map(nf):(E={},Object.keys(R).forEach(A=>{E[A]=nf.call(this,R[A])})),E}function j0(R,E,A,D){let M=m(A);return Ju(R,E,(F,q)=>{M(F,(U,H)=>{q(U,!H)})},D)}function IW(R,E,A){return j0(T,R,E,A)}var Ox=y(IW,3);function NW(R,E,A,D){return j0(ee(E),R,A,D)}var Lx=y(NW,4);function DW(R,E,A){return j0(V,R,E,A)}var Mx=y(DW,3);function Px(R){return function(){return R}}let z0=5,Fx=0;function sf(R,E,A){var D={times:z0,intervalFunc:Px(Fx)};if(arguments.length<3&&typeof R=="function"?(A=E||Z(),E=R):(OW(D,R),A=A||Z()),typeof E!="function")throw new Error("Invalid arguments for async.retry");var M=m(E),F=1;function q(){M((U,...H)=>{U!==!1&&(U&&F++<D.times&&(typeof D.errorFilter!="function"||D.errorFilter(U))?setTimeout(q,D.intervalFunc(F-1)):A(U,...H))})}return q(),A[ne]}function OW(R,E){if(typeof E=="object")R.times=+E.times||z0,R.intervalFunc=typeof E.interval=="function"?E.interval:Px(+E.interval||Fx),R.errorFilter=E.errorFilter;else if(typeof E=="number"||typeof E=="string")R.times=+E||z0;else throw new Error("Invalid arguments for async.retry")}function Bx(R,E){E||(E=R,R=null);let A=R&&R.arity||E.length;f(E)&&(A+=1);var D=m(E);return r((M,F)=>{(M.length<A-1||F==null)&&(M.push(F),F=Z());function q(U){D(...M,U)}return R?sf(R,q,F):sf(q,F),F[ne]})}function kx(R,E){return q0(V,R,E)}function LW(R,E,A){return Kn(Boolean,D=>D)(T,R,E,A)}var of=y(LW,3);function MW(R,E,A,D){return Kn(Boolean,M=>M)(ee(E),R,A,D)}var af=y(MW,4);function PW(R,E,A){return Kn(Boolean,D=>D)(V,R,E,A)}var lf=y(PW,3);function FW(R,E,A){var D=m(E);return k(R,(F,q)=>{D(F,(U,H)=>{if(U)return q(U);q(U,{value:F,criteria:H})})},(F,q)=>{if(F)return A(F);A(null,q.sort(M).map(U=>U.value))});function M(F,q){var U=F.criteria,H=q.criteria;return U<H?-1:U>H?1:0}}var $x=y(FW,3);function qx(R,E,A){var D=m(R);return r((M,F)=>{var q=!1,U;function H(){var re=R.name||"anonymous",Le=new Error('Callback function "'+re+'" timed out.');Le.code="ETIMEDOUT",A&&(Le.info=A),q=!0,F(Le)}M.push((...re)=>{q||(F(...re),clearTimeout(U))}),U=setTimeout(H,E),D(...M)})}function BW(R){for(var E=Array(R);R--;)E[R]=R;return E}function cf(R,E,A,D){var M=m(A);return Sl(BW(R),E,M,D)}function Ux(R,E,A){return cf(R,1/0,E,A)}function Wx(R,E,A){return cf(R,1,E,A)}function jx(R,E,A,D){arguments.length<=3&&typeof E=="function"&&(D=A,A=E,E=Array.isArray(R)?[]:{}),D=O(D||Z());var M=m(A);return T(R,(F,q,U)=>{M(E,F,q,U)},F=>D(F,E)),D[ne]}function kW(R,E){var A=null,D;return Tl(R,(M,F)=>{m(M)((q,...U)=>{if(q===!1)return F(q);U.length<2?[D]=U:D=U,A=q,F(q?null:{})})},()=>E(A,D))}var zx=y(kW);function Hx(R){return(...E)=>(R.unmemoized||R)(...E)}function $W(R,E,A){A=Y(A);var D=m(E),M=m(R),F=[];function q(H,...re){if(H)return A(H);F=re,H!==!1&&M(U)}function U(H,re){if(H)return A(H);if(H!==!1){if(!re)return A(null,...F);D(q)}}return M(U)}var Rl=y($W,3);function Vx(R,E,A){let D=m(R);return Rl(M=>D((F,q)=>M(F,!q)),E,A)}function qW(R,E){if(E=O(E),!Array.isArray(R))return E(new Error("First argument to waterfall must be an array of functions"));if(!R.length)return E();var A=0;function D(F){var q=m(R[A++]);q(...F,Y(M))}function M(F,...q){if(F!==!1){if(F||A===R.length)return E(F,...q);D(q)}}D([])}var Gx=y(qW),UW={apply:e,applyEach:z,applyEachSeries:X,asyncify:u,auto:de,autoInject:hs,cargo:Oo,cargoQueue:fx,compose:dx,concat:qu,concatLimit:Lo,concatSeries:Uu,constant:hx,detect:Wu,detectLimit:ju,detectSeries:zu,dir:gx,doUntil:yx,doWhilst:xl,each:Hu,eachLimit:vl,eachOf:T,eachOfLimit:fe,eachOfSeries:V,eachSeries:Tl,ensureAsync:$0,every:Vu,everyLimit:Gu,everySeries:Yu,filter:Ku,filterLimit:Xu,filterSeries:Zu,forever:bx,groupBy:wx,groupByLimit:Qu,groupBySeries:_x,log:Ex,map:k,mapLimit:Sl,mapSeries:G,mapValues:Sx,mapValuesLimit:ef,mapValuesSeries:xx,memoize:vx,nextTick:Tx,parallel:Rx,parallelLimit:Ax,priorityQueue:Ix,queue:U0,race:Nx,reduce:Di,reduceRight:rf,reflect:nf,reflectAll:Dx,reject:Ox,rejectLimit:Lx,rejectSeries:Mx,retry:sf,retryable:Bx,seq:k0,series:kx,setImmediate:c,some:of,someLimit:af,someSeries:lf,sortBy:$x,timeout:qx,times:Ux,timesLimit:cf,timesSeries:Wx,transform:jx,tryEach:zx,unmemoize:Hx,until:Vx,waterfall:Gx,whilst:Rl,all:Vu,allLimit:Gu,allSeries:Yu,any:of,anyLimit:af,anySeries:lf,find:Wu,findLimit:ju,findSeries:zu,flatMap:qu,flatMapLimit:Lo,flatMapSeries:Uu,forEach:Hu,forEachSeries:Tl,forEachLimit:vl,forEachOf:T,forEachOfSeries:V,forEachOfLimit:fe,inject:Di,foldl:Di,foldr:rf,select:Ku,selectLimit:Xu,selectSeries:Zu,wrapSync:u,during:Rl,doDuring:xl};t.all=Vu,t.allLimit=Gu,t.allSeries=Yu,t.any=of,t.anyLimit=af,t.anySeries=lf,t.apply=e,t.applyEach=z,t.applyEachSeries=X,t.asyncify=u,t.auto=de,t.autoInject=hs,t.cargo=Oo,t.cargoQueue=fx,t.compose=dx,t.concat=qu,t.concatLimit=Lo,t.concatSeries=Uu,t.constant=hx,t.default=UW,t.detect=Wu,t.detectLimit=ju,t.detectSeries=zu,t.dir=gx,t.doDuring=xl,t.doUntil=yx,t.doWhilst=xl,t.during=Rl,t.each=Hu,t.eachLimit=vl,t.eachOf=T,t.eachOfLimit=fe,t.eachOfSeries=V,t.eachSeries=Tl,t.ensureAsync=$0,t.every=Vu,t.everyLimit=Gu,t.everySeries=Yu,t.filter=Ku,t.filterLimit=Xu,t.filterSeries=Zu,t.find=Wu,t.findLimit=ju,t.findSeries=zu,t.flatMap=qu,t.flatMapLimit=Lo,t.flatMapSeries=Uu,t.foldl=Di,t.foldr=rf,t.forEach=Hu,t.forEachLimit=vl,t.forEachOf=T,t.forEachOfLimit=fe,t.forEachOfSeries=V,t.forEachSeries=Tl,t.forever=bx,t.groupBy=wx,t.groupByLimit=Qu,t.groupBySeries=_x,t.inject=Di,t.log=Ex,t.map=k,t.mapLimit=Sl,t.mapSeries=G,t.mapValues=Sx,t.mapValuesLimit=ef,t.mapValuesSeries=xx,t.memoize=vx,t.nextTick=Tx,t.parallel=Rx,t.parallelLimit=Ax,t.priorityQueue=Ix,t.queue=U0,t.race=Nx,t.reduce=Di,t.reduceRight=rf,t.reflect=nf,t.reflectAll=Dx,t.reject=Ox,t.rejectLimit=Lx,t.rejectSeries=Mx,t.retry=sf,t.retryable=Bx,t.select=Ku,t.selectLimit=Xu,t.selectSeries=Zu,t.seq=k0,t.series=kx,t.setImmediate=c,t.some=of,t.someLimit=af,t.someSeries=lf,t.sortBy=$x,t.timeout=qx,t.times=Ux,t.timesLimit=cf,t.timesSeries=Wx,t.transform=jx,t.tryEach=zx,t.unmemoize=Hx,t.until=Vx,t.waterfall=Gx,t.whilst=Rl,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})}))});var dT=x((dwe,fT)=>{var Pi=require("constants"),Pj=process.cwd,Ff=null,Fj=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Ff||(Ff=Pj.call(process)),Ff};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Sg=process.chdir,process.chdir=function(t){Ff=null,Sg.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Sg));var Sg;fT.exports=Bj;function Bj(t){Pi.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,d,h){h&&process.nextTick(h)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,d,h,f){f&&process.nextTick(f)},t.lchownSync=function(){}),Fj==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:(function(u){function d(h,f,g){var p=Date.now(),m=0;u(h,f,function y(S){if(S&&(S.code==="EACCES"||S.code==="EPERM"||S.code==="EBUSY")&&Date.now()-p<6e4){setTimeout(function(){t.stat(f,function(b,w){b&&b.code==="ENOENT"?u(h,f,y):g(S)})},m),m<100&&(m+=10);return}g&&g(S)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,u),d})(t.rename)),t.read=typeof t.read!="function"?t.read:(function(u){function d(h,f,g,p,m,y){var S;if(y&&typeof y=="function"){var b=0;S=function(w,I,O){if(w&&w.code==="EAGAIN"&&b<10)return b++,u.call(t,h,f,g,p,m,S);y.apply(this,arguments)}}return u.call(t,h,f,g,p,m,S)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,u),d})(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:(function(u){return function(d,h,f,g,p){for(var m=0;;)try{return u.call(t,d,h,f,g,p)}catch(y){if(y.code==="EAGAIN"&&m<10){m++;continue}throw y}}})(t.readSync);function e(u){u.lchmod=function(d,h,f){u.open(d,Pi.O_WRONLY|Pi.O_SYMLINK,h,function(g,p){if(g){f&&f(g);return}u.fchmod(p,h,function(m){u.close(p,function(y){f&&f(m||y)})})})},u.lchmodSync=function(d,h){var f=u.openSync(d,Pi.O_WRONLY|Pi.O_SYMLINK,h),g=!0,p;try{p=u.fchmodSync(f,h),g=!1}finally{if(g)try{u.closeSync(f)}catch{}else u.closeSync(f)}return p}}function r(u){Pi.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(d,h,f,g){u.open(d,Pi.O_SYMLINK,function(p,m){if(p){g&&g(p);return}u.futimes(m,h,f,function(y){u.close(m,function(S){g&&g(y||S)})})})},u.lutimesSync=function(d,h,f){var g=u.openSync(d,Pi.O_SYMLINK),p,m=!0;try{p=u.futimesSync(g,h,f),m=!1}finally{if(m)try{u.closeSync(g)}catch{}else u.closeSync(g)}return p}):u.futimes&&(u.lutimes=function(d,h,f,g){g&&process.nextTick(g)},u.lutimesSync=function(){})}function n(u){return u&&function(d,h,f){return u.call(t,d,h,function(g){c(g)&&(g=null),f&&f.apply(this,arguments)})}}function i(u){return u&&function(d,h){try{return u.call(t,d,h)}catch(f){if(!c(f))throw f}}}function s(u){return u&&function(d,h,f,g){return u.call(t,d,h,f,function(p){c(p)&&(p=null),g&&g.apply(this,arguments)})}}function o(u){return u&&function(d,h,f){try{return u.call(t,d,h,f)}catch(g){if(!c(g))throw g}}}function a(u){return u&&function(d,h,f){typeof h=="function"&&(f=h,h=null);function g(p,m){m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),f&&f.apply(this,arguments)}return h?u.call(t,d,h,g):u.call(t,d,g)}}function l(u){return u&&function(d,h){var f=h?u.call(t,d,h):u.call(t,d);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function c(u){if(!u||u.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var gT=x((hwe,pT)=>{var hT=require("stream").Stream;pT.exports=kj;function kj(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);hT.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,d){if(u){s.emit("error",u),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);hT.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var mT=x((pwe,yT)=>{"use strict";yT.exports=qj;var $j=Object.getPrototypeOf||function(t){return t.__proto__};function qj(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:$j(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var Rg=x((gwe,Tg)=>{var lt=require("fs"),Uj=dT(),Wj=gT(),jj=mT(),Bf=require("util"),Xt,$f;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Xt=Symbol.for("graceful-fs.queue"),$f=Symbol.for("graceful-fs.previous")):(Xt="___graceful-fs.queue",$f="___graceful-fs.previous");function zj(){}function _T(t,e){Object.defineProperty(t,Xt,{get:function(){return e}})}var vs=zj;Bf.debuglog?vs=Bf.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(vs=function(){var t=Bf.format.apply(Bf,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});lt[Xt]||(bT=global[Xt]||[],_T(lt,bT),lt.close=(function(t){function e(r,n){return t.call(lt,r,function(i){i||wT(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,$f,{value:t}),e})(lt.close),lt.closeSync=(function(t){function e(r){t.apply(lt,arguments),wT()}return Object.defineProperty(e,$f,{value:t}),e})(lt.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){vs(lt[Xt]),require("assert").equal(lt[Xt].length,0)}));var bT;global[Xt]||_T(global,lt[Xt]);Tg.exports=xg(jj(lt));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!lt.__patched&&(Tg.exports=xg(lt),lt.__patched=!0);function xg(t){Uj(t),t.gracefulify=xg,t.createReadStream=I,t.createWriteStream=O;var e=t.readFile;t.readFile=r;function r(N,L,$){return typeof L=="function"&&($=L,L=null),Y(N,L,$);function Y(j,ee,le,fe){return e(j,ee,function(Oe){Oe&&(Oe.code==="EMFILE"||Oe.code==="ENFILE")?Wo([Y,[j,ee,le],Oe,fe||Date.now(),Date.now()]):typeof le=="function"&&le.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(N,L,$,Y){return typeof $=="function"&&(Y=$,$=null),j(N,L,$,Y);function j(ee,le,fe,Oe,Et){return n(ee,le,fe,function(Ve){Ve&&(Ve.code==="EMFILE"||Ve.code==="ENFILE")?Wo([j,[ee,le,fe,Oe],Ve,Et||Date.now(),Date.now()]):typeof Oe=="function"&&Oe.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(N,L,$,Y){return typeof $=="function"&&(Y=$,$=null),j(N,L,$,Y);function j(ee,le,fe,Oe,Et){return s(ee,le,fe,function(Ve){Ve&&(Ve.code==="EMFILE"||Ve.code==="ENFILE")?Wo([j,[ee,le,fe,Oe],Ve,Et||Date.now(),Date.now()]):typeof Oe=="function"&&Oe.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(N,L,$,Y){return typeof $=="function"&&(Y=$,$=0),j(N,L,$,Y);function j(ee,le,fe,Oe,Et){return a(ee,le,fe,function(Ve){Ve&&(Ve.code==="EMFILE"||Ve.code==="ENFILE")?Wo([j,[ee,le,fe,Oe],Ve,Et||Date.now(),Date.now()]):typeof Oe=="function"&&Oe.apply(this,arguments)})}}var c=t.readdir;t.readdir=d;var u=/^v[0-5]\./;function d(N,L,$){typeof L=="function"&&($=L,L=null);var Y=u.test(process.version)?function(le,fe,Oe,Et){return c(le,j(le,fe,Oe,Et))}:function(le,fe,Oe,Et){return c(le,fe,j(le,fe,Oe,Et))};return Y(N,L,$);function j(ee,le,fe,Oe){return function(Et,Ve){Et&&(Et.code==="EMFILE"||Et.code==="ENFILE")?Wo([Y,[ee,le,fe],Et,Oe||Date.now(),Date.now()]):(Ve&&Ve.sort&&Ve.sort(),typeof fe=="function"&&fe.call(this,Et,Ve))}}}if(process.version.substr(0,4)==="v0.8"){var h=Wj(t);y=h.ReadStream,b=h.WriteStream}var f=t.ReadStream;f&&(y.prototype=Object.create(f.prototype),y.prototype.open=S);var g=t.WriteStream;g&&(b.prototype=Object.create(g.prototype),b.prototype.open=w),Object.defineProperty(t,"ReadStream",{get:function(){return y},set:function(N){y=N},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return b},set:function(N){b=N},enumerable:!0,configurable:!0});var p=y;Object.defineProperty(t,"FileReadStream",{get:function(){return p},set:function(N){p=N},enumerable:!0,configurable:!0});var m=b;Object.defineProperty(t,"FileWriteStream",{get:function(){return m},set:function(N){m=N},enumerable:!0,configurable:!0});function y(N,L){return this instanceof y?(f.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function S(){var N=this;B(N.path,N.flags,N.mode,function(L,$){L?(N.autoClose&&N.destroy(),N.emit("error",L)):(N.fd=$,N.emit("open",$),N.read())})}function b(N,L){return this instanceof b?(g.apply(this,arguments),this):b.apply(Object.create(b.prototype),arguments)}function w(){var N=this;B(N.path,N.flags,N.mode,function(L,$){L?(N.destroy(),N.emit("error",L)):(N.fd=$,N.emit("open",$))})}function I(N,L){return new t.ReadStream(N,L)}function O(N,L){return new t.WriteStream(N,L)}var C=t.open;t.open=B;function B(N,L,$,Y){return typeof $=="function"&&(Y=$,$=null),j(N,L,$,Y);function j(ee,le,fe,Oe,Et){return C(ee,le,fe,function(Ve,T){Ve&&(Ve.code==="EMFILE"||Ve.code==="ENFILE")?Wo([j,[ee,le,fe,Oe],Ve,Et||Date.now(),Date.now()]):typeof Oe=="function"&&Oe.apply(this,arguments)})}}return t}function Wo(t){vs("ENQUEUE",t[0].name,t[1]),lt[Xt].push(t),vg()}var kf;function wT(){for(var t=Date.now(),e=0;e<lt[Xt].length;++e)lt[Xt][e].length>2&&(lt[Xt][e][3]=t,lt[Xt][e][4]=t);vg()}function vg(){if(clearTimeout(kf),kf=void 0,lt[Xt].length!==0){var t=lt[Xt].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)vs("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){vs("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(vs("RETRY",e.name,r),e.apply(null,r.concat([i]))):lt[Xt].push(t)}kf===void 0&&(kf=setTimeout(vg,0))}}});var qf=x((ywe,ET)=>{"use strict";var bn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";bn.writable=t=>bn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";bn.readable=t=>bn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";bn.duplex=t=>bn.writable(t)&&bn.readable(t);bn.transform=t=>bn.duplex(t)&&typeof t._transform=="function";ET.exports=bn});var $l=x((mwe,Ag)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Ag.exports={nextTick:Hj}:Ag.exports=process;function Hj(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var xT=x((bwe,ST)=>{var Vj={}.toString;ST.exports=Array.isArray||function(t){return Vj.call(t)=="[object Array]"}});var Cg=x((wwe,vT)=>{vT.exports=require("stream")});var ql=x((Ig,RT)=>{var Uf=require("buffer"),Qn=Uf.Buffer;function TT(t,e){for(var r in t)e[r]=t[r]}Qn.from&&Qn.alloc&&Qn.allocUnsafe&&Qn.allocUnsafeSlow?RT.exports=Uf:(TT(Uf,Ig),Ig.Buffer=jo);function jo(t,e,r){return Qn(t,e,r)}TT(Qn,jo);jo.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Qn(t,e,r)};jo.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Qn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};jo.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Qn(t)};jo.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Uf.SlowBuffer(t)}});var zo=x(lr=>{function Gj(t){return Array.isArray?Array.isArray(t):Wf(t)==="[object Array]"}lr.isArray=Gj;function Yj(t){return typeof t=="boolean"}lr.isBoolean=Yj;function Jj(t){return t===null}lr.isNull=Jj;function Kj(t){return t==null}lr.isNullOrUndefined=Kj;function Xj(t){return typeof t=="number"}lr.isNumber=Xj;function Zj(t){return typeof t=="string"}lr.isString=Zj;function Qj(t){return typeof t=="symbol"}lr.isSymbol=Qj;function ez(t){return t===void 0}lr.isUndefined=ez;function tz(t){return Wf(t)==="[object RegExp]"}lr.isRegExp=tz;function rz(t){return typeof t=="object"&&t!==null}lr.isObject=rz;function nz(t){return Wf(t)==="[object Date]"}lr.isDate=nz;function iz(t){return Wf(t)==="[object Error]"||t instanceof Error}lr.isError=iz;function sz(t){return typeof t=="function"}lr.isFunction=sz;function oz(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}lr.isPrimitive=oz;lr.isBuffer=require("buffer").Buffer.isBuffer;function Wf(t){return Object.prototype.toString.call(t)}});var AT=x((Ewe,Ng)=>{typeof Object.create=="function"?Ng.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ng.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Ho=x((Swe,Og)=>{try{if(Dg=require("util"),typeof Dg.inherits!="function")throw"";Og.exports=Dg.inherits}catch{Og.exports=AT()}var Dg});var IT=x((xwe,Lg)=>{"use strict";function az(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var CT=ql().Buffer,Ul=require("util");function lz(t,e,r){t.copy(e,r)}Lg.exports=(function(){function t(){az(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return CT.alloc(0);for(var n=CT.allocUnsafe(r>>>0),i=this.head,s=0;i;)lz(i.data,n,s),s+=i.data.length,i=i.next;return n},t})();Ul&&Ul.inspect&&Ul.inspect.custom&&(Lg.exports.prototype[Ul.inspect.custom]=function(){var t=Ul.inspect({length:this.length});return this.constructor.name+" "+t})});var Mg=x((vwe,NT)=>{"use strict";var jf=$l();function cz(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,jf.nextTick(zf,this,t)):jf.nextTick(zf,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,jf.nextTick(zf,r,s)):jf.nextTick(zf,r,s):e&&e(s)}),this)}function uz(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function zf(t,e){t.emit("error",e)}NT.exports={destroy:cz,undestroy:uz}});var OT=x((Twe,DT)=>{DT.exports=require("util").deprecate});var Fg=x((Rwe,qT)=>{"use strict";var Ts=$l();qT.exports=At;function MT(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Cz(e,t)}}var fz=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:Ts.nextTick,Vo;At.WritableState=jl;var PT=Object.create(zo());PT.inherits=Ho();var dz={deprecate:OT()},FT=Cg(),Vf=ql().Buffer,hz=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function pz(t){return Vf.from(t)}function gz(t){return Vf.isBuffer(t)||t instanceof hz}var BT=Mg();PT.inherits(At,FT);function yz(){}function jl(t,e){Vo=Vo||Rs(),t=t||{};var r=e instanceof Vo;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){xz(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new MT(this)}jl.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(jl.prototype,"buffer",{get:dz.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Hf;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Hf=Function.prototype[Symbol.hasInstance],Object.defineProperty(At,Symbol.hasInstance,{value:function(t){return Hf.call(this,t)?!0:this!==At?!1:t&&t._writableState instanceof jl}})):Hf=function(t){return t instanceof this};function At(t){if(Vo=Vo||Rs(),!Hf.call(At,this)&&!(this instanceof Vo))return new At(t);this._writableState=new jl(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),FT.call(this)}At.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function mz(t,e){var r=new Error("write after end");t.emit("error",r),Ts.nextTick(e,r)}function bz(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),Ts.nextTick(n,s),i=!1),i}At.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&gz(t);return s&&!Vf.isBuffer(t)&&(t=pz(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=yz),n.ended?mz(this,r):(s||bz(this,n,t,r))&&(n.pendingcb++,i=_z(this,n,s,t,e,r)),i};At.prototype.cork=function(){var t=this._writableState;t.corked++};At.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&kT(this,t))};At.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function wz(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Vf.from(e,r)),e}Object.defineProperty(At.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _z(t,e,r,n,i,s){if(!r){var o=wz(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Pg(t,e,!1,a,n,i,s);return l}function Pg(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Ez(t,e,r,n,i){--e.pendingcb,r?(Ts.nextTick(i,n),Ts.nextTick(Wl,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Wl(t,e))}function Sz(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function xz(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(Sz(r),e)Ez(t,r,n,e,i);else{var s=$T(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&kT(t,r),n?fz(LT,t,r,s,i):LT(t,r,s,i)}}function LT(t,e,r,n){r||vz(t,e),e.pendingcb--,n(),Wl(t,e)}function vz(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function kT(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,Pg(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new MT(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,d=e.objectMode?1:l.length;if(Pg(t,e,!1,d,l,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}At.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};At.prototype._writev=null;At.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Az(this,n,r)};function $T(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Tz(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Wl(t,e)})}function Rz(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,Ts.nextTick(Tz,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Wl(t,e){var r=$T(e);return r&&(Rz(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function Az(t,e,r){e.ending=!0,Wl(t,e),r&&(e.finished?Ts.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Cz(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(At.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});At.prototype.destroy=BT.destroy;At.prototype._undestroy=BT.undestroy;At.prototype._destroy=function(t,e){this.end(),e(t)}});var Rs=x((Awe,zT)=>{"use strict";var UT=$l(),Iz=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};zT.exports=ei;var WT=Object.create(zo());WT.inherits=Ho();var jT=$g(),kg=Fg();WT.inherits(ei,jT);for(Bg=Iz(kg.prototype),Gf=0;Gf<Bg.length;Gf++)Yf=Bg[Gf],ei.prototype[Yf]||(ei.prototype[Yf]=kg.prototype[Yf]);var Bg,Yf,Gf;function ei(t){if(!(this instanceof ei))return new ei(t);jT.call(this,t),kg.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Nz)}Object.defineProperty(ei.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Nz(){this.allowHalfOpen||this._writableState.ended||UT.nextTick(Dz,this)}function Dz(t){t.end()}Object.defineProperty(ei.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});ei.prototype._destroy=function(t,e){this.push(null),this.end(),UT.nextTick(e,t)}});var Wg=x(VT=>{"use strict";var Ug=ql().Buffer,HT=Ug.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Oz(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Lz(t){var e=Oz(t);if(typeof e!="string"&&(Ug.isEncoding===HT||!HT(t)))throw new Error("Unknown encoding: "+t);return e||t}VT.StringDecoder=zl;function zl(t){this.encoding=Lz(t);var e;switch(this.encoding){case"utf16le":this.text=$z,this.end=qz,e=4;break;case"utf8":this.fillLast=Fz,e=4;break;case"base64":this.text=Uz,this.end=Wz,e=3;break;default:this.write=jz,this.end=zz;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ug.allocUnsafe(e)}zl.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};zl.prototype.end=kz;zl.prototype.text=Bz;zl.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function qg(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Mz(t,e,r){var n=e.length-1;if(n<r)return 0;var i=qg(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=qg(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=qg(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Pz(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Fz(t){var e=this.lastTotal-this.lastNeed,r=Pz(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Bz(t,e){var r=Mz(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function kz(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function $z(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function qz(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Uz(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Wz(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function jz(t){return t.toString(this.encoding)}function zz(t){return t&&t.length?this.write(t):""}});var $g=x((Nwe,iR)=>{"use strict";var Yo=$l();iR.exports=Ke;var Hz=xT(),Hl;Ke.ReadableState=QT;var Iwe=require("events").EventEmitter,KT=function(t,e){return t.listeners(e).length},Gg=Cg(),Vl=ql().Buffer,Vz=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Gz(t){return Vl.from(t)}function Yz(t){return Vl.isBuffer(t)||t instanceof Vz}var XT=Object.create(zo());XT.inherits=Ho();var jg=require("util"),We=void 0;jg&&jg.debuglog?We=jg.debuglog("stream"):We=function(){};var Jz=IT(),ZT=Mg(),Go;XT.inherits(Ke,Gg);var zg=["error","close","destroy","pause","resume"];function Kz(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Hz(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function QT(t,e){Hl=Hl||Rs(),t=t||{};var r=e instanceof Hl;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Jz,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Go||(Go=Wg().StringDecoder),this.decoder=new Go(t.encoding),this.encoding=t.encoding)}function Ke(t){if(Hl=Hl||Rs(),!(this instanceof Ke))return new Ke(t);this._readableState=new QT(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Gg.call(this)}Object.defineProperty(Ke.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Ke.prototype.destroy=ZT.destroy;Ke.prototype._undestroy=ZT.undestroy;Ke.prototype._destroy=function(t,e){this.push(null),e(t)};Ke.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Vl.from(t,e),e=""),n=!0),eR(this,t,e,!1,n)};Ke.prototype.unshift=function(t){return eR(this,t,null,!0,!1)};function eR(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,e8(t,s);else{var o;i||(o=Xz(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Vl.prototype&&(e=Gz(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):Hg(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?Hg(t,s,e,!1):tR(t,s)):Hg(t,s,e,!1))):n||(s.reading=!1)}return Zz(s)}function Hg(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Jf(t)),tR(t,e)}function Xz(t,e){var r;return!Yz(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Zz(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Ke.prototype.isPaused=function(){return this._readableState.flowing===!1};Ke.prototype.setEncoding=function(t){return Go||(Go=Wg().StringDecoder),this._readableState.decoder=new Go(t),this._readableState.encoding=t,this};var GT=8388608;function Qz(t){return t>=GT?t=GT:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function YT(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Qz(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Ke.prototype.read=function(t){We("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return We("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Vg(this):Jf(this),null;if(t=YT(t,e),t===0&&e.ended)return e.length===0&&Vg(this),null;var n=e.needReadable;We("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,We("length less than watermark",n)),e.ended||e.reading?(n=!1,We("reading or ended",n)):n&&(We("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=YT(r,e)));var i;return t>0?i=rR(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Vg(this)),i!==null&&this.emit("data",i),i};function e8(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Jf(t)}}function Jf(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(We("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Yo.nextTick(JT,t):JT(t))}function JT(t){We("emit readable"),t.emit("readable"),Yg(t)}function tR(t,e){e.readingMore||(e.readingMore=!0,Yo.nextTick(t8,t,e))}function t8(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(We("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Ke.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Ke.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,We("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:m;n.endEmitted?Yo.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,S){We("onunpipe"),y===r&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,u())}function a(){We("onend"),t.end()}var l=r8(r);t.on("drain",l);var c=!1;function u(){We("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var d=!1;r.on("data",h);function h(y){We("ondata"),d=!1;var S=t.write(y);S===!1&&!d&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&nR(n.pipes,t)!==-1)&&!c&&(We("false write response, pause",n.awaitDrain),n.awaitDrain++,d=!0),r.pause())}function f(y){We("onerror",y),m(),t.removeListener("error",f),KT(t,"error")===0&&t.emit("error",y)}Kz(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){We("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){We("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(We("pipe resume"),r.resume()),t};function r8(t){return function(){var e=t._readableState;We("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&KT(t,"data")&&(e.flowing=!0,Yg(t))}}Ke.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=nR(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Ke.prototype.on=function(t,e){var r=Gg.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Jf(this):Yo.nextTick(n8,this))}return r};Ke.prototype.addListener=Ke.prototype.on;function n8(t){We("readable nexttick read 0"),t.read(0)}Ke.prototype.resume=function(){var t=this._readableState;return t.flowing||(We("resume"),t.flowing=!0,i8(this,t)),this};function i8(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Yo.nextTick(s8,t,e))}function s8(t,e){e.reading||(We("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Yg(t),e.flowing&&!e.reading&&t.read(0)}Ke.prototype.pause=function(){return We("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(We("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Yg(t){var e=t._readableState;for(We("flow",e.flowing);e.flowing&&t.read()!==null;);}Ke.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(We("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(We("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(o){return function(){return t[o].apply(t,arguments)}})(i));for(var s=0;s<zg.length;s++)t.on(zg[s],this.emit.bind(this,zg[s]));return this._read=function(o){We("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Ke.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Ke._fromList=rR;function rR(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=o8(t,e.buffer,e.decoder),r}function o8(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?a8(t,e):l8(t,e),n}function a8(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function l8(t,e){var r=Vl.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function Vg(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Yo.nextTick(c8,e,t))}function c8(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function nR(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Jg=x((Dwe,aR)=>{"use strict";aR.exports=ti;var Kf=Rs(),oR=Object.create(zo());oR.inherits=Ho();oR.inherits(ti,Kf);function u8(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ti(t){if(!(this instanceof ti))return new ti(t);Kf.call(this,t),this._transformState={afterTransform:u8.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",f8)}function f8(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){sR(t,e,r)}):sR(this,null,null)}ti.prototype.push=function(t,e){return this._transformState.needTransform=!1,Kf.prototype.push.call(this,t,e)};ti.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};ti.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ti.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ti.prototype._destroy=function(t,e){var r=this;Kf.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function sR(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var fR=x((Owe,uR)=>{"use strict";uR.exports=Gl;var lR=Jg(),cR=Object.create(zo());cR.inherits=Ho();cR.inherits(Gl,lR);function Gl(t){if(!(this instanceof Gl))return new Gl(t);lR.call(this,t)}Gl.prototype._transform=function(t,e,r){r(null,t)}});var dR=x((Zt,Xf)=>{var wn=require("stream");process.env.READABLE_STREAM==="disable"&&wn?(Xf.exports=wn,Zt=Xf.exports=wn.Readable,Zt.Readable=wn.Readable,Zt.Writable=wn.Writable,Zt.Duplex=wn.Duplex,Zt.Transform=wn.Transform,Zt.PassThrough=wn.PassThrough,Zt.Stream=wn):(Zt=Xf.exports=$g(),Zt.Stream=wn||Zt,Zt.Readable=Zt,Zt.Writable=Fg(),Zt.Duplex=Rs(),Zt.Transform=Jg(),Zt.PassThrough=fR())});var pR=x((Lwe,hR)=>{hR.exports=dR().PassThrough});var bR=x((Mwe,mR)=>{var gR=require("util"),ed=pR();mR.exports={Readable:Zf,Writable:Qf};gR.inherits(Zf,ed);gR.inherits(Qf,ed);function yR(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function Zf(t,e){if(!(this instanceof Zf))return new Zf(t,e);ed.call(this,e),yR(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function Qf(t,e){if(!(this instanceof Qf))return new Qf(t,e);ed.call(this,e),yR(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var Kg=x((Pwe,wR)=>{wR.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")}});var Xg=x((Fwe,_R)=>{function d8(t){return t}_R.exports=d8});var SR=x((Bwe,ER)=>{function h8(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}ER.exports=h8});var TR=x((kwe,vR)=>{var p8=SR(),xR=Math.max;function g8(t,e,r){return e=xR(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=xR(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),p8(t,this,a)}}vR.exports=g8});var AR=x(($we,RR)=>{function y8(t){return function(){return t}}RR.exports=y8});var Zg=x((qwe,CR)=>{var m8=typeof global=="object"&&global&&global.Object===Object&&global;CR.exports=m8});var Jo=x((Uwe,IR)=>{var b8=Zg(),w8=typeof self=="object"&&self&&self.Object===Object&&self,_8=b8||w8||Function("return this")();IR.exports=_8});var td=x((Wwe,NR)=>{var E8=Jo(),S8=E8.Symbol;NR.exports=S8});var MR=x((jwe,LR)=>{var DR=td(),OR=Object.prototype,x8=OR.hasOwnProperty,v8=OR.toString,Yl=DR?DR.toStringTag:void 0;function T8(t){var e=x8.call(t,Yl),r=t[Yl];try{t[Yl]=void 0;var n=!0}catch{}var i=v8.call(t);return n&&(e?t[Yl]=r:delete t[Yl]),i}LR.exports=T8});var FR=x((zwe,PR)=>{var R8=Object.prototype,A8=R8.toString;function C8(t){return A8.call(t)}PR.exports=C8});var Jl=x((Hwe,$R)=>{var BR=td(),I8=MR(),N8=FR(),D8="[object Null]",O8="[object Undefined]",kR=BR?BR.toStringTag:void 0;function L8(t){return t==null?t===void 0?O8:D8:kR&&kR in Object(t)?I8(t):N8(t)}$R.exports=L8});var Kl=x((Vwe,qR)=>{function M8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}qR.exports=M8});var Qg=x((Gwe,UR)=>{var P8=Jl(),F8=Kl(),B8="[object AsyncFunction]",k8="[object Function]",$8="[object GeneratorFunction]",q8="[object Proxy]";function U8(t){if(!F8(t))return!1;var e=P8(t);return e==k8||e==$8||e==B8||e==q8}UR.exports=U8});var jR=x((Ywe,WR)=>{var W8=Jo(),j8=W8["__core-js_shared__"];WR.exports=j8});var VR=x((Jwe,HR)=>{var ey=jR(),zR=(function(){var t=/[^.]+$/.exec(ey&&ey.keys&&ey.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function z8(t){return!!zR&&zR in t}HR.exports=z8});var YR=x((Kwe,GR)=>{var H8=Function.prototype,V8=H8.toString;function G8(t){if(t!=null){try{return V8.call(t)}catch{}try{return t+""}catch{}}return""}GR.exports=G8});var KR=x((Xwe,JR)=>{var Y8=Qg(),J8=VR(),K8=Kl(),X8=YR(),Z8=/[\\^$.*+?()[\]{}|]/g,Q8=/^\[object .+?Constructor\]$/,eH=Function.prototype,tH=Object.prototype,rH=eH.toString,nH=tH.hasOwnProperty,iH=RegExp("^"+rH.call(nH).replace(Z8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sH(t){if(!K8(t)||J8(t))return!1;var e=Y8(t)?iH:Q8;return e.test(X8(t))}JR.exports=sH});var ZR=x((Zwe,XR)=>{function oH(t,e){return t?.[e]}XR.exports=oH});var Xl=x((Qwe,QR)=>{var aH=KR(),lH=ZR();function cH(t,e){var r=lH(t,e);return aH(r)?r:void 0}QR.exports=cH});var tA=x((e_e,eA)=>{var uH=Xl(),fH=(function(){try{var t=uH(Object,"defineProperty");return t({},"",{}),t}catch{}})();eA.exports=fH});var iA=x((t_e,nA)=>{var dH=AR(),rA=tA(),hH=Xg(),pH=rA?function(t,e){return rA(t,"toString",{configurable:!0,enumerable:!1,value:dH(e),writable:!0})}:hH;nA.exports=pH});var oA=x((r_e,sA)=>{var gH=800,yH=16,mH=Date.now;function bH(t){var e=0,r=0;return function(){var n=mH(),i=yH-(n-r);if(r=n,i>0){if(++e>=gH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}sA.exports=bH});var lA=x((n_e,aA)=>{var wH=iA(),_H=oA(),EH=_H(wH);aA.exports=EH});var rd=x((i_e,cA)=>{var SH=Xg(),xH=TR(),vH=lA();function TH(t,e){return vH(xH(t,e,SH),t+"")}cA.exports=TH});var nd=x((s_e,uA)=>{function RH(t,e){return t===e||t!==t&&e!==e}uA.exports=RH});var ty=x((o_e,fA)=>{var AH=9007199254740991;function CH(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=AH}fA.exports=CH});var id=x((a_e,dA)=>{var IH=Qg(),NH=ty();function DH(t){return t!=null&&NH(t.length)&&!IH(t)}dA.exports=DH});var ry=x((l_e,hA)=>{var OH=9007199254740991,LH=/^(?:0|[1-9]\d*)$/;function MH(t,e){var r=typeof t;return e=e??OH,!!e&&(r=="number"||r!="symbol"&&LH.test(t))&&t>-1&&t%1==0&&t<e}hA.exports=MH});var gA=x((c_e,pA)=>{var PH=nd(),FH=id(),BH=ry(),kH=Kl();function $H(t,e,r){if(!kH(r))return!1;var n=typeof e;return(n=="number"?FH(r)&&BH(e,r.length):n=="string"&&e in r)?PH(r[e],t):!1}pA.exports=$H});var mA=x((u_e,yA)=>{function qH(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}yA.exports=qH});var Ko=x((f_e,bA)=>{function UH(t){return t!=null&&typeof t=="object"}bA.exports=UH});var _A=x((d_e,wA)=>{var WH=Jl(),jH=Ko(),zH="[object Arguments]";function HH(t){return jH(t)&&WH(t)==zH}wA.exports=HH});var ny=x((h_e,xA)=>{var EA=_A(),VH=Ko(),SA=Object.prototype,GH=SA.hasOwnProperty,YH=SA.propertyIsEnumerable,JH=EA((function(){return arguments})())?EA:function(t){return VH(t)&&GH.call(t,"callee")&&!YH.call(t,"callee")};xA.exports=JH});var iy=x((p_e,vA)=>{var KH=Array.isArray;vA.exports=KH});var RA=x((g_e,TA)=>{function XH(){return!1}TA.exports=XH});var NA=x((Zl,Xo)=>{var ZH=Jo(),QH=RA(),IA=typeof Zl=="object"&&Zl&&!Zl.nodeType&&Zl,AA=IA&&typeof Xo=="object"&&Xo&&!Xo.nodeType&&Xo,e5=AA&&AA.exports===IA,CA=e5?ZH.Buffer:void 0,t5=CA?CA.isBuffer:void 0,r5=t5||QH;Xo.exports=r5});var OA=x((y_e,DA)=>{var n5=Jl(),i5=ty(),s5=Ko(),o5="[object Arguments]",a5="[object Array]",l5="[object Boolean]",c5="[object Date]",u5="[object Error]",f5="[object Function]",d5="[object Map]",h5="[object Number]",p5="[object Object]",g5="[object RegExp]",y5="[object Set]",m5="[object String]",b5="[object WeakMap]",w5="[object ArrayBuffer]",_5="[object DataView]",E5="[object Float32Array]",S5="[object Float64Array]",x5="[object Int8Array]",v5="[object Int16Array]",T5="[object Int32Array]",R5="[object Uint8Array]",A5="[object Uint8ClampedArray]",C5="[object Uint16Array]",I5="[object Uint32Array]",Xe={};Xe[E5]=Xe[S5]=Xe[x5]=Xe[v5]=Xe[T5]=Xe[R5]=Xe[A5]=Xe[C5]=Xe[I5]=!0;Xe[o5]=Xe[a5]=Xe[w5]=Xe[l5]=Xe[_5]=Xe[c5]=Xe[u5]=Xe[f5]=Xe[d5]=Xe[h5]=Xe[p5]=Xe[g5]=Xe[y5]=Xe[m5]=Xe[b5]=!1;function N5(t){return s5(t)&&i5(t.length)&&!!Xe[n5(t)]}DA.exports=N5});var sy=x((m_e,LA)=>{function D5(t){return function(e){return t(e)}}LA.exports=D5});var PA=x((Ql,Zo)=>{var O5=Zg(),MA=typeof Ql=="object"&&Ql&&!Ql.nodeType&&Ql,ec=MA&&typeof Zo=="object"&&Zo&&!Zo.nodeType&&Zo,L5=ec&&ec.exports===MA,oy=L5&&O5.process,M5=(function(){try{var t=ec&&ec.require&&ec.require("util").types;return t||oy&&oy.binding&&oy.binding("util")}catch{}})();Zo.exports=M5});var $A=x((b_e,kA)=>{var P5=OA(),F5=sy(),FA=PA(),BA=FA&&FA.isTypedArray,B5=BA?F5(BA):P5;kA.exports=B5});var UA=x((w_e,qA)=>{var k5=mA(),$5=ny(),q5=iy(),U5=NA(),W5=ry(),j5=$A(),z5=Object.prototype,H5=z5.hasOwnProperty;function V5(t,e){var r=q5(t),n=!r&&$5(t),i=!r&&!n&&U5(t),s=!r&&!n&&!i&&j5(t),o=r||n||i||s,a=o?k5(t.length,String):[],l=a.length;for(var c in t)(e||H5.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||W5(c,l)))&&a.push(c);return a}qA.exports=V5});var jA=x((__e,WA)=>{var G5=Object.prototype;function Y5(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||G5;return t===r}WA.exports=Y5});var HA=x((E_e,zA)=>{function J5(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}zA.exports=J5});var GA=x((S_e,VA)=>{var K5=Kl(),X5=jA(),Z5=HA(),Q5=Object.prototype,eV=Q5.hasOwnProperty;function tV(t){if(!K5(t))return Z5(t);var e=X5(t),r=[];for(var n in t)n=="constructor"&&(e||!eV.call(t,n))||r.push(n);return r}VA.exports=tV});var JA=x((x_e,YA)=>{var rV=UA(),nV=GA(),iV=id();function sV(t){return iV(t)?rV(t,!0):nV(t)}YA.exports=sV});var ZA=x((v_e,XA)=>{var oV=rd(),aV=nd(),lV=gA(),cV=JA(),KA=Object.prototype,uV=KA.hasOwnProperty,fV=oV(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&lV(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=cV(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||aV(u,KA[c])&&!uV.call(t,c))&&(t[c]=s[c])}return t});XA.exports=fV});var it=x((T_e,QA)=>{"use strict";var ay=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};QA.exports={AggregateError:ay,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var ly=x((R_e,eC)=>{"use strict";eC.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var cr=x((A_e,nC)=>{"use strict";var{format:dV,inspect:sd}=ly(),{AggregateError:hV}=it(),pV=globalThis.AggregateError||hV,gV=Symbol("kIsNodeError"),yV=["string","function","number","object","Function","Object","boolean","bigint","symbol"],mV=/^([A-Z][a-z0-9]*)+$/,bV="__node_internal_",od={};function As(t,e){if(!t)throw new od.ERR_INTERNAL_ASSERTION(e)}function tC(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function wV(t,e,r){if(typeof e=="function")return As(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return As(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:dV(e,...r)}function Qt(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(wV(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[gV]=!0,od[t]=n}function rC(t){let e=bV+t.name;return Object.defineProperty(t,"name",{value:e}),t}function _V(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new pV([e,t],e.message);return r.code=e.code,r}return t||e}var cy=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new od.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Qt("ERR_ASSERTION","%s",Error);Qt("ERR_INVALID_ARG_TYPE",(t,e,r)=>{As(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)As(typeof l=="string","All expected entries have to be of type string"),yV.includes(l)?i.push(l.toLowerCase()):mV.test(l)?s.push(l):(As(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=sd(r,{depth:-1});n+=`. Received ${l}`}}else{let l=sd(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);Qt("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=sd(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Qt("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Qt("ERR_MISSING_ARGS",(...t)=>{As(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Qt("ERR_OUT_OF_RANGE",(t,e,r)=>{As(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=tC(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=tC(n)),n+="n"}else n=sd(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Qt("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Qt("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Qt("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Qt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Qt("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Qt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Qt("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Qt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Qt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Qt("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Qt("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);nC.exports={AbortError:cy,aggregateTwoErrors:rC(_V),hideStackFrames:rC,codes:od}});var hC=x((nc,rc)=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});var cC=new WeakMap,uy=new WeakMap;function Ze(t){let e=cC.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function iC(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function Qo(t,e){cC.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,uC(i))}}Qo.prototype={get type(){return Ze(this).event.type},get target(){return Ze(this).eventTarget},get currentTarget(){return Ze(this).currentTarget},composedPath(){let t=Ze(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Ze(this).eventPhase},stopPropagation(){let t=Ze(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=Ze(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!Ze(this).event.bubbles},get cancelable(){return!!Ze(this).event.cancelable},preventDefault(){iC(Ze(this))},get defaultPrevented(){return Ze(this).canceled},get composed(){return!!Ze(this).event.composed},get timeStamp(){return Ze(this).timeStamp},get srcElement(){return Ze(this).eventTarget},get cancelBubble(){return Ze(this).stopped},set cancelBubble(t){if(!t)return;let e=Ze(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!Ze(this).canceled},set returnValue(t){t||iC(Ze(this))},initEvent(){}};Object.defineProperty(Qo.prototype,"constructor",{value:Qo,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Qo.prototype,window.Event.prototype),uy.set(window.Event.prototype,Qo));function uC(t){return{get(){return Ze(this).event[t]},set(e){Ze(this).event[t]=e},configurable:!0,enumerable:!0}}function EV(t){return{value(){let e=Ze(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function SV(t,e){let r=Object.keys(e);if(r.length===0)return t;function n(i,s){t.call(this,i,s)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in t.prototype)){let a=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(n.prototype,s,a?EV(s):uC(s))}}return n}function fC(t){if(t==null||t===Object.prototype)return Qo;let e=uy.get(t);return e==null&&(e=SV(fC(Object.getPrototypeOf(t)),t),uy.set(t,e)),e}function xV(t,e){let r=fC(Object.getPrototypeOf(e));return new r(t,e)}function vV(t){return Ze(t).immediateStopped}function TV(t,e){Ze(t).eventPhase=e}function RV(t,e){Ze(t).currentTarget=e}function sC(t,e){Ze(t).passiveListener=e}var dC=new WeakMap,oC=1,aC=2,ad=3;function ld(t){return t!==null&&typeof t=="object"}function tc(t){let e=dC.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function AV(t){return{get(){let r=tc(this).get(t);for(;r!=null;){if(r.listenerType===ad)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!ld(e)&&(e=null);let r=tc(this),n=null,i=r.get(t);for(;i!=null;)i.listenerType===ad?n!==null?n.next=i.next:i.next!==null?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(e!==null){let s={listener:e,listenerType:ad,passive:!1,once:!1,next:null};n===null?r.set(t,s):n.next=s}},configurable:!0,enumerable:!0}}function fy(t,e){Object.defineProperty(t,`on${e}`,AV(e))}function lC(t){function e(){nn.call(this)}e.prototype=Object.create(nn.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)fy(e.prototype,t[r]);return e}function nn(){if(this instanceof nn){dC.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return lC(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return lC(t)}throw new TypeError("Cannot call a class as a function")}nn.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!ld(e))throw new TypeError("'listener' should be a function or an object.");let n=tc(this),i=ld(r),o=(i?!!r.capture:!!r)?oC:aC,a={listener:e,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},l=n.get(t);if(l===void 0){n.set(t,a);return}let c=null;for(;l!=null;){if(l.listener===e&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(t,e,r){if(e==null)return;let n=tc(this),s=(ld(r)?!!r.capture:!!r)?oC:aC,o=null,a=n.get(t);for(;a!=null;){if(a.listener===e&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?n.set(t,a.next):n.delete(t);return}o=a,a=a.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=tc(this),r=t.type,n=e.get(r);if(n==null)return!0;let i=xV(this,t),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?e.set(r,n.next):e.delete(r):s=n,sC(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else n.listenerType!==ad&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(vV(i))break;n=n.next}return sC(i,null),TV(i,0),RV(i,null),!i.defaultPrevented}};Object.defineProperty(nn.prototype,"constructor",{value:nn,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(nn.prototype,window.EventTarget.prototype);nc.defineEventAttribute=fy;nc.EventTarget=nn;nc.default=nn;rc.exports=nn;rc.exports.EventTarget=rc.exports.default=nn;rc.exports.defineEventAttribute=fy});var xt=x((sc,ic)=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var dy=hC(),Fi=class extends dy.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=cd.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};dy.defineEventAttribute(Fi.prototype,"abort");function CV(){let t=Object.create(Fi.prototype);return dy.EventTarget.call(t),cd.set(t,!1),t}function IV(t){cd.get(t)===!1&&(cd.set(t,!0),t.dispatchEvent({type:"abort"}))}var cd=new WeakMap;Object.defineProperties(Fi.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fi.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var Bi=class{constructor(){gC.set(this,CV())}get signal(){return pC(this)}abort(){IV(pC(this))}},gC=new WeakMap;function pC(t){let e=gC.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(Bi.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bi.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});sc.AbortController=Bi;sc.AbortSignal=Fi;sc.default=Bi;ic.exports=Bi;ic.exports.AbortController=ic.exports.default=Bi;ic.exports.AbortSignal=Fi});var Er=x((C_e,py)=>{"use strict";var NV=require("buffer"),{format:DV,inspect:OV}=ly(),{codes:{ERR_INVALID_ARG_TYPE:hy}}=cr(),{kResistStopPropagation:LV,AggregateError:MV,SymbolDispose:PV}=it(),FV=globalThis.AbortSignal||xt().AbortSignal,BV=globalThis.AbortController||xt().AbortController,kV=Object.getPrototypeOf(async function(){}).constructor,yC=globalThis.Blob||NV.Blob,$V=typeof yC<"u"?function(e){return e instanceof yC}:function(e){return!1},mC=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new hy(e,"AbortSignal",t)},qV=(t,e)=>{if(typeof t!="function")throw new hy(e,"Function",t)};py.exports={AggregateError:MV,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:DV,inspect:OV,types:{isAsyncFunction(t){return t instanceof kV},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:$V,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new hy("signal","AbortSignal",e);mC(e,"signal"),qV(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[LV]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[PV](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:FV.any||function(e){if(e.length===1)return e[0];let r=new BV,n=()=>r.abort();return e.forEach(i=>{mC(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};py.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ta=x((I_e,AC)=>{"use strict";var{ArrayIsArray:yy,ArrayPrototypeIncludes:EC,ArrayPrototypeJoin:SC,ArrayPrototypeMap:UV,NumberIsInteger:my,NumberIsNaN:WV,NumberMAX_SAFE_INTEGER:jV,NumberMIN_SAFE_INTEGER:zV,NumberParseInt:HV,ObjectPrototypeHasOwnProperty:VV,RegExpPrototypeExec:xC,String:GV,StringPrototypeToUpperCase:YV,StringPrototypeTrim:JV}=it(),{hideStackFrames:Wr,codes:{ERR_SOCKET_BAD_PORT:KV,ERR_INVALID_ARG_TYPE:ur,ERR_INVALID_ARG_VALUE:ea,ERR_OUT_OF_RANGE:Cs,ERR_UNKNOWN_SIGNAL:bC}}=cr(),{normalizeEncoding:XV}=Er(),{isAsyncFunction:ZV,isArrayBufferView:QV}=Er().types,wC={};function eG(t){return t===(t|0)}function tG(t){return t===t>>>0}var rG=/^[0-7]+$/,nG="must be a 32-bit unsigned integer or an octal string";function iG(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(xC(rG,t)===null)throw new ea(e,t,nG);t=HV(t,8)}return vC(t,e),t}var sG=Wr((t,e,r=zV,n=jV)=>{if(typeof t!="number")throw new ur(e,"number",t);if(!my(t))throw new Cs(e,"an integer",t);if(t<r||t>n)throw new Cs(e,`>= ${r} && <= ${n}`,t)}),oG=Wr((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new ur(e,"number",t);if(!my(t))throw new Cs(e,"an integer",t);if(t<r||t>n)throw new Cs(e,`>= ${r} && <= ${n}`,t)}),vC=Wr((t,e,r=!1)=>{if(typeof t!="number")throw new ur(e,"number",t);if(!my(t))throw new Cs(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Cs(e,`>= ${n} && <= ${i}`,t)});function by(t,e){if(typeof t!="string")throw new ur(e,"string",t)}function aG(t,e,r=void 0,n){if(typeof t!="number")throw new ur(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&WV(t))throw new Cs(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var lG=Wr((t,e,r)=>{if(!EC(r,t)){let i="must be one of: "+SC(UV(r,s=>typeof s=="string"?`'${s}'`:GV(s)),", ");throw new ea(e,t,i)}});function TC(t,e){if(typeof t!="boolean")throw new ur(e,"boolean",t)}function gy(t,e,r){return t==null||!VV(t,e)?r:t[e]}var cG=Wr((t,e,r=null)=>{let n=gy(r,"allowArray",!1),i=gy(r,"allowFunction",!1);if(!gy(r,"nullable",!1)&&t===null||!n&&yy(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new ur(e,"Object",t)}),uG=Wr((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new ur(e,"a dictionary",t)}),ud=Wr((t,e,r=0)=>{if(!yy(t))throw new ur(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new ea(e,t,n)}});function fG(t,e){ud(t,e);for(let r=0;r<t.length;r++)by(t[r],`${e}[${r}]`)}function dG(t,e){ud(t,e);for(let r=0;r<t.length;r++)TC(t[r],`${e}[${r}]`)}function hG(t,e){ud(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new ur(i,"AbortSignal",n);RC(n,i)}}function pG(t,e="signal"){if(by(t,e),wC[t]===void 0)throw wC[YV(t)]!==void 0?new bC(t+" (signals must use all capital letters)"):new bC(t)}var gG=Wr((t,e="buffer")=>{if(!QV(t))throw new ur(e,["Buffer","TypedArray","DataView"],t)});function yG(t,e){let r=XV(e),n=t.length;if(r==="hex"&&n%2!==0)throw new ea("encoding",e,`is invalid for data of length ${n}`)}function mG(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&JV(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new KV(e,t,r);return t|0}var RC=Wr((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ur(e,"AbortSignal",t)}),bG=Wr((t,e)=>{if(typeof t!="function")throw new ur(e,"Function",t)}),wG=Wr((t,e)=>{if(typeof t!="function"||ZV(t))throw new ur(e,"Function",t)}),_G=Wr((t,e)=>{if(t!==void 0)throw new ur(e,"undefined",t)});function EG(t,e,r){if(!EC(r,t))throw new ur(e,`('${SC(r,"|")}')`,t)}var SG=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function _C(t,e){if(typeof t>"u"||!xC(SG,t))throw new ea(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function xG(t){if(typeof t=="string")return _C(t,"hints"),t;if(yy(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];_C(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new ea("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}AC.exports={isInt32:eG,isUint32:tG,parseFileMode:iG,validateArray:ud,validateStringArray:fG,validateBooleanArray:dG,validateAbortSignalArray:hG,validateBoolean:TC,validateBuffer:gG,validateDictionary:uG,validateEncoding:yG,validateFunction:bG,validateInt32:oG,validateInteger:sG,validateNumber:aG,validateObject:cG,validateOneOf:lG,validatePlainFunction:wG,validatePort:mG,validateSignalName:pG,validateString:by,validateUint32:vC,validateUndefined:_G,validateUnion:EG,validateAbortSignal:RC,validateLinkHeaderValue:xG}});var ze=x((N_e,CC)=>{CC.exports=global.process});var En=x((D_e,jC)=>{"use strict";var{SymbolAsyncIterator:IC,SymbolIterator:NC,SymbolFor:Is}=it(),DC=Is("nodejs.stream.destroyed"),OC=Is("nodejs.stream.errored"),wy=Is("nodejs.stream.readable"),_y=Is("nodejs.stream.writable"),LC=Is("nodejs.stream.disturbed"),vG=Is("nodejs.webstream.isClosedPromise"),TG=Is("nodejs.webstream.controllerErrorFunction");function fd(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function dd(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function RG(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function _n(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function MC(t){return!!(t&&!_n(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function PC(t){return!!(t&&!_n(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function FC(t){return!!(t&&!_n(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function AG(t){return MC(t)||PC(t)||FC(t)}function CG(t,e){return t==null?!1:e===!0?typeof t[IC]=="function":e===!1?typeof t[NC]=="function":typeof t[IC]=="function"||typeof t[NC]=="function"}function hd(t){if(!_n(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[DC]||n!=null&&n.destroyed)}function BC(t){if(!dd(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function IG(t,e){if(!dd(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function NG(t){if(!fd(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function kC(t,e){if(!fd(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function $C(t){return t&&t[wy]!=null?t[wy]:typeof t?.readable!="boolean"?null:hd(t)?!1:fd(t)&&t.readable&&!kC(t)}function qC(t){return t&&t[_y]!=null?t[_y]:typeof t?.writable!="boolean"?null:hd(t)?!1:dd(t)&&t.writable&&!BC(t)}function DG(t,e){return _n(t)?hd(t)?!0:!(e?.readable!==!1&&$C(t)||e?.writable!==!1&&qC(t)):null}function OG(t){var e,r;return _n(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function LG(t){var e,r;return _n(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function MG(t){if(!_n(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&UC(t)?t._closed:null}function UC(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function WC(t){return typeof t._sent100=="boolean"&&UC(t)}function PG(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function FG(t){if(!_n(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&WC(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function BG(t){var e;return!!(t&&((e=t[LC])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function kG(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[OC])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}jC.exports={isDestroyed:hd,kIsDestroyed:DC,isDisturbed:BG,kIsDisturbed:LC,isErrored:kG,kIsErrored:OC,isReadable:$C,kIsReadable:wy,kIsClosedPromise:vG,kControllerErrorFunction:TG,kIsWritable:_y,isClosed:MG,isDuplexNodeStream:RG,isFinished:DG,isIterable:CG,isReadableNodeStream:fd,isReadableStream:MC,isReadableEnded:NG,isReadableFinished:kC,isReadableErrored:LG,isNodeStream:_n,isWebStream:AG,isWritable:qC,isWritableNodeStream:dd,isWritableStream:PC,isWritableEnded:BC,isWritableFinished:IG,isWritableErrored:OG,isServerRequest:PG,isServerResponse:WC,willEmitClose:FG,isTransformStream:FC}});var ri=x((O_e,Ty)=>{"use strict";var ki=ze(),{AbortError:ZC,codes:$G}=cr(),{ERR_INVALID_ARG_TYPE:qG,ERR_STREAM_PREMATURE_CLOSE:zC}=$G,{kEmptyObject:Sy,once:xy}=Er(),{validateAbortSignal:UG,validateFunction:WG,validateObject:jG,validateBoolean:zG}=ta(),{Promise:HG,PromisePrototypeThen:VG,SymbolDispose:QC}=it(),{isClosed:GG,isReadable:HC,isReadableNodeStream:Ey,isReadableStream:YG,isReadableFinished:VC,isReadableErrored:GC,isWritable:YC,isWritableNodeStream:JC,isWritableStream:JG,isWritableFinished:KC,isWritableErrored:XC,isNodeStream:KG,willEmitClose:XG,kIsClosedPromise:ZG}=En(),ra;function QG(t){return t.setHeader&&typeof t.abort=="function"}var vy=()=>{};function eI(t,e,r){var n,i;if(arguments.length===2?(r=e,e=Sy):e==null?e=Sy:jG(e,"options"),WG(r,"callback"),UG(e.signal,"options.signal"),r=xy(r),YG(t)||JG(t))return e7(t,e,r);if(!KG(t))throw new qG("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:Ey(t),o=(i=e.writable)!==null&&i!==void 0?i:JC(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||h()},u=XG(t)&&Ey(t)===s&&JC(t)===o,d=KC(t,!1),h=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=VC(t,!1),g=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},p=I=>{r.call(t,I)},m=GG(t),y=()=>{m=!0;let I=XC(t)||GC(t);if(I&&typeof I!="boolean")return r.call(t,I);if(s&&!f&&Ey(t,!0)&&!VC(t,!1))return r.call(t,new zC);if(o&&!d&&!KC(t,!1))return r.call(t,new zC);r.call(t)},S=()=>{m=!0;let I=XC(t)||GC(t);if(I&&typeof I!="boolean")return r.call(t,I);r.call(t)},b=()=>{t.req.on("finish",h)};QG(t)?(t.on("complete",h),u||t.on("abort",y),t.req?b():t.on("request",b)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",g),t.on("finish",h),e.error!==!1&&t.on("error",p),t.on("close",y),m?ki.nextTick(y):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||ki.nextTick(S):(!s&&(!u||HC(t))&&(d||YC(t)===!1)||!o&&(!u||YC(t))&&(f||HC(t)===!1)||l&&t.req&&t.aborted)&&ki.nextTick(S);let w=()=>{r=vy,t.removeListener("aborted",y),t.removeListener("complete",h),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",g),t.removeListener("error",p),t.removeListener("close",y)};if(e.signal&&!m){let I=()=>{let O=r;w(),O.call(t,new ZC(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)ki.nextTick(I);else{ra=ra||Er().addAbortListener;let O=ra(e.signal,I),C=r;r=xy((...B)=>{O[QC](),C.apply(t,B)})}}return w}function e7(t,e,r){let n=!1,i=vy;if(e.signal)if(i=()=>{n=!0,r.call(t,new ZC(void 0,{cause:e.signal.reason}))},e.signal.aborted)ki.nextTick(i);else{ra=ra||Er().addAbortListener;let o=ra(e.signal,i),a=r;r=xy((...l)=>{o[QC](),a.apply(t,l)})}let s=(...o)=>{n||ki.nextTick(()=>r.apply(t,o))};return VG(t[ZG].promise,s,s),vy}function t7(t,e){var r;let n=!1;return e===null&&(e=Sy),(r=e)!==null&&r!==void 0&&r.cleanup&&(zG(e.cleanup,"cleanup"),n=e.cleanup),new HG((i,s)=>{let o=eI(t,e,a=>{n&&o(),a?s(a):i()})})}Ty.exports=eI;Ty.exports.finished=t7});var Ns=x((L_e,lI)=>{"use strict";var Sn=ze(),{aggregateTwoErrors:r7,codes:{ERR_MULTIPLE_CALLBACK:n7},AbortError:i7}=cr(),{Symbol:nI}=it(),{kIsDestroyed:s7,isDestroyed:o7,isFinished:a7,isServerRequest:l7}=En(),iI=nI("kDestroy"),Ry=nI("kConstruct");function sI(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function c7(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(sI(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?tI(this,t,e):this.once(iI,function(s){tI(this,r7(s,t),e)}),this)}function tI(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;sI(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Sn.nextTick(u7,t,s):Sn.nextTick(oI,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function u7(t,e){Ay(t,e),oI(t)}function oI(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Ay(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function f7(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Cy(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Sn.nextTick(Ay,t,e):Ay(t,e))}function d7(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Ry,e),!(t.listenerCount(Ry)>1)&&Sn.nextTick(h7,t)}function h7(t){let e=!1;function r(n){if(e){Cy(t,n??new n7);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(iI,n):n?Cy(t,n,!0):Sn.nextTick(p7,t)}try{t._construct(n=>{Sn.nextTick(r,n)})}catch(n){Sn.nextTick(r,n)}}function p7(t){t.emit(Ry)}function rI(t){return t?.setHeader&&typeof t.abort=="function"}function aI(t){t.emit("close")}function g7(t,e){t.emit("error",e),Sn.nextTick(aI,t)}function y7(t,e){!t||o7(t)||(!e&&!a7(t)&&(e=new i7),l7(t)?(t.socket=null,t.destroy(e)):rI(t)?t.abort():rI(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Sn.nextTick(g7,t,e):Sn.nextTick(aI,t),t.destroyed||(t[s7]=!0))}lI.exports={construct:d7,destroyer:y7,destroy:c7,undestroy:f7,errorOrDestroy:Cy}});var yd=x((M_e,uI)=>{"use strict";var{ArrayIsArray:m7,ObjectSetPrototypeOf:cI}=it(),{EventEmitter:pd}=require("events");function gd(t){pd.call(this,t)}cI(gd.prototype,pd.prototype);cI(gd,pd);gd.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),pd.listenerCount(this,"error")===0&&this.emit("error",u)}Iy(r,"error",l),Iy(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Iy(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):m7(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}uI.exports={Stream:gd,prependListener:Iy}});var oc=x((P_e,md)=>{"use strict";var{SymbolDispose:b7}=it(),{AbortError:fI,codes:w7}=cr(),{isNodeStream:dI,isWebStream:_7,kControllerErrorFunction:E7}=En(),S7=ri(),{ERR_INVALID_ARG_TYPE:hI}=w7,Ny,x7=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new hI(e,"AbortSignal",t)};md.exports.addAbortSignal=function(e,r){if(x7(e,"signal"),!dI(r)&&!_7(r))throw new hI("stream",["ReadableStream","WritableStream","Stream"],r);return md.exports.addAbortSignalNoValidate(e,r)};md.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=dI(e)?()=>{e.destroy(new fI(void 0,{cause:t.reason}))}:()=>{e[E7](new fI(void 0,{cause:t.reason}))};if(t.aborted)r();else{Ny=Ny||Er().addAbortListener;let n=Ny(t,r);S7(e,n[b7])}return e}});var yI=x((B_e,gI)=>{"use strict";var{StringPrototypeSlice:pI,SymbolIterator:v7,TypedArrayPrototypeSet:bd,Uint8Array:T7}=it(),{Buffer:Dy}=require("buffer"),{inspect:R7}=Er();gI.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Dy.alloc(0);let r=Dy.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)bd(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[v7](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=pI(s,0,e),this.head=n,n.data=pI(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Dy.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)bd(r,o,n-e),e-=o.length;else{e===o.length?(bd(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(bd(r,new T7(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return R7(this,{...r,depth:0,customInspect:!1})}}});var ac=x((k_e,_I)=>{"use strict";var{MathFloor:A7,NumberIsInteger:C7}=it(),{validateInteger:I7}=ta(),{ERR_INVALID_ARG_VALUE:N7}=cr().codes,mI=16*1024,bI=16;function D7(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function wI(t){return t?bI:mI}function O7(t,e){I7(e,"value",0),t?bI=e:mI=e}function L7(t,e,r,n){let i=D7(e,n,r);if(i!=null){if(!C7(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new N7(s,i)}return A7(i)}return wI(t.objectMode)}_I.exports={getHighWaterMark:L7,getDefaultHighWaterMark:wI,setDefaultHighWaterMark:O7}});var xI=x((Oy,SI)=>{var wd=require("buffer"),xn=wd.Buffer;function EI(t,e){for(var r in t)e[r]=t[r]}xn.from&&xn.alloc&&xn.allocUnsafe&&xn.allocUnsafeSlow?SI.exports=wd:(EI(wd,Oy),Oy.Buffer=Ds);function Ds(t,e,r){return xn(t,e,r)}Ds.prototype=Object.create(xn.prototype);EI(xn,Ds);Ds.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return xn(t,e,r)};Ds.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=xn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ds.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return xn(t)};Ds.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return wd.SlowBuffer(t)}});var cc=x(TI=>{"use strict";var My=xI().Buffer,vI=My.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function M7(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function P7(t){var e=M7(t);if(typeof e!="string"&&(My.isEncoding===vI||!vI(t)))throw new Error("Unknown encoding: "+t);return e||t}TI.StringDecoder=lc;function lc(t){this.encoding=P7(t);var e;switch(this.encoding){case"utf16le":this.text=U7,this.end=W7,e=4;break;case"utf8":this.fillLast=k7,e=4;break;case"base64":this.text=j7,this.end=z7,e=3;break;default:this.write=H7,this.end=V7;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=My.allocUnsafe(e)}lc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};lc.prototype.end=q7;lc.prototype.text=$7;lc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Ly(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function F7(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Ly(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Ly(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Ly(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function B7(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function k7(t){var e=this.lastTotal-this.lastNeed,r=B7(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function $7(t,e){var r=F7(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function q7(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function U7(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function W7(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function j7(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function z7(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function H7(t){return t.toString(this.encoding)}function V7(t){return t&&t.length?this.write(t):""}});var Py=x((q_e,II)=>{"use strict";var RI=ze(),{PromisePrototypeThen:G7,SymbolAsyncIterator:AI,SymbolIterator:CI}=it(),{Buffer:Y7}=require("buffer"),{ERR_INVALID_ARG_TYPE:J7,ERR_STREAM_NULL_VALUES:K7}=cr().codes;function X7(t,e,r){let n;if(typeof e=="string"||e instanceof Y7)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[AI])i=!0,n=e[AI]();else if(e&&e[CI])i=!1,n=e[CI]();else throw new J7("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){G7(a(c),()=>RI.nextTick(u,c),d=>RI.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:h,done:f}=await n.throw(c);if(await h,f)return}if(typeof n.return=="function"){let{value:h}=await n.return();await h}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new K7;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}II.exports=X7});var fc=x((U_e,GI)=>{"use strict";var sn=ze(),{ArrayPrototypeIndexOf:Z7,NumberIsInteger:Q7,NumberIsNaN:e9,NumberParseInt:t9,ObjectDefineProperties:jy,ObjectKeys:r9,ObjectSetPrototypeOf:OI,Promise:LI,SafeSet:n9,SymbolAsyncDispose:i9,SymbolAsyncIterator:s9,Symbol:o9}=it();GI.exports=pe;pe.ReadableState=xd;var{EventEmitter:a9}=require("events"),{Stream:$i,prependListener:l9}=yd(),{Buffer:Fy}=require("buffer"),{addAbortSignal:c9}=oc(),MI=ri(),Ae=Er().debuglog("stream",t=>{Ae=t}),u9=yI(),sa=Ns(),{getHighWaterMark:f9,getDefaultHighWaterMark:d9}=ac(),{aggregateTwoErrors:NI,codes:{ERR_INVALID_ARG_TYPE:h9,ERR_METHOD_NOT_IMPLEMENTED:p9,ERR_OUT_OF_RANGE:g9,ERR_STREAM_PUSH_AFTER_EOF:y9,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:m9},AbortError:b9}=cr(),{validateObject:w9}=ta(),Os=o9("kPaused"),{StringDecoder:PI}=cc(),_9=Py();OI(pe.prototype,$i.prototype);OI(pe,$i);var By=()=>{},{errorOrDestroy:na}=sa,ia=1,E9=2,FI=4,uc=8,BI=16,_d=32,Ed=64,kI=128,S9=256,x9=512,v9=1024,Uy=2048,Wy=4096,T9=8192,R9=16384,A9=32768,$I=65536,C9=1<<17,I9=1<<18;function Dt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}jy(xd.prototype,{objectMode:Dt(ia),ended:Dt(E9),endEmitted:Dt(FI),reading:Dt(uc),constructed:Dt(BI),sync:Dt(_d),needReadable:Dt(Ed),emittedReadable:Dt(kI),readableListening:Dt(S9),resumeScheduled:Dt(x9),errorEmitted:Dt(v9),emitClose:Dt(Uy),autoDestroy:Dt(Wy),destroyed:Dt(T9),closed:Dt(R9),closeEmitted:Dt(A9),multiAwaitDrain:Dt($I),readingMore:Dt(C9),dataEmitted:Dt(I9)});function xd(t,e,r){typeof r!="boolean"&&(r=e instanceof vn()),this.state=Uy|Wy|BI|_d,t&&t.objectMode&&(this.state|=ia),r&&t&&t.readableObjectMode&&(this.state|=ia),this.highWaterMark=t?f9(this,t,"readableHighWaterMark",r):d9(!1),this.buffer=new u9,this.length=0,this.pipes=[],this.flowing=null,this[Os]=null,t&&t.emitClose===!1&&(this.state&=~Uy),t&&t.autoDestroy===!1&&(this.state&=~Wy),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new PI(t.encoding),this.encoding=t.encoding)}function pe(t){if(!(this instanceof pe))return new pe(t);let e=this instanceof vn();this._readableState=new xd(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&c9(t.signal,this)),$i.call(this,t),sa.construct(this,()=>{this._readableState.needReadable&&Sd(this,this._readableState)})}pe.prototype.destroy=sa.destroy;pe.prototype._undestroy=sa.undestroy;pe.prototype._destroy=function(t,e){e(t)};pe.prototype[a9.captureRejectionSymbol]=function(t){this.destroy(t)};pe.prototype[i9]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new b9,this.destroy(t)),new LI((e,r)=>MI(this,n=>n&&n!==t?r(n):e(null)))};pe.prototype.push=function(t,e){return qI(this,t,e,!1)};pe.prototype.unshift=function(t,e){return qI(this,t,e,!0)};function qI(t,e,r,n){Ae("readableAddChunk",e);let i=t._readableState,s;if((i.state&ia)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=Fy.from(e,r).toString(i.encoding):(e=Fy.from(e,r),r=""))):e instanceof Fy?r="":$i._isUint8Array(e)?(e=$i._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new h9("chunk",["string","Buffer","Uint8Array"],e))),s)na(t,s);else if(e===null)i.state&=~uc,O9(t,i);else if((i.state&ia)!==0||e&&e.length>0)if(n)if((i.state&FI)!==0)na(t,new m9);else{if(i.destroyed||i.errored)return!1;ky(t,i,e,!0)}else if(i.ended)na(t,new y9);else{if(i.destroyed||i.errored)return!1;i.state&=~uc,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?ky(t,i,e,!1):Sd(t,i)):ky(t,i,e,!1)}else n||(i.state&=~uc,Sd(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function ky(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&$I)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&Ed)!==0&&vd(t)),Sd(t,e)}pe.prototype.isPaused=function(){let t=this._readableState;return t[Os]===!0||t.flowing===!1};pe.prototype.setEncoding=function(t){let e=new PI(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var N9=1073741824;function D9(t){if(t>N9)throw new g9("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function DI(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&ia)!==0?1:e9(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}pe.prototype.read=function(t){Ae("read",t),t===void 0?t=NaN:Q7(t)||(t=t9(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=D9(t)),t!==0&&(e.state&=~kI),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ae("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?$y(this):vd(this),null;if(t=DI(t,e),t===0&&e.ended)return e.length===0&&$y(this),null;let n=(e.state&Ed)!==0;if(Ae("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ae("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Ae("reading, ended or constructing",n);else if(n){Ae("do read"),e.state|=uc|_d,e.length===0&&(e.state|=Ed);try{this._read(e.highWaterMark)}catch(s){na(this,s)}e.state&=~_d,e.reading||(t=DI(r,e))}let i;return t>0?i=HI(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&$y(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function O9(t,e){if(Ae("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?vd(t):(e.needReadable=!1,e.emittedReadable=!0,UI(t))}}function vd(t){let e=t._readableState;Ae("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ae("emitReadable",e.flowing),e.emittedReadable=!0,sn.nextTick(UI,t))}function UI(t){let e=t._readableState;Ae("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,jI(t)}function Sd(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,sn.nextTick(L9,t,e))}function L9(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Ae("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}pe.prototype._read=function(t){throw new p9("_read()")};pe.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new n9(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Ae("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==sn.stdout&&t!==sn.stderr?a:m;n.endEmitted?sn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,S){Ae("onunpipe"),y===r&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,u())}function a(){Ae("onend"),t.end()}let l,c=!1;function u(){Ae("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Ae("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Ae("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=M9(r,t),t.on("drain",l))}r.on("data",h);function h(y){Ae("ondata");let S=t.write(y);Ae("dest.write",S),S===!1&&d()}function f(y){if(Ae("onerror",y),m(),t.removeListener("error",f),t.listenerCount("error")===0){let S=t._writableState||t._readableState;S&&!S.errorEmitted?na(t,y):t.emit("error",y)}}l9(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){Ae("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){Ae("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Ae("pipe resume"),r.resume()),t};function M9(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Ae("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Ae("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}pe.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Z7(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};pe.prototype.on=function(t,e){let r=$i.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ae("on readable",n.length,n.reading),n.length?vd(this):n.reading||sn.nextTick(P9,this)),r};pe.prototype.addListener=pe.prototype.on;pe.prototype.removeListener=function(t,e){let r=$i.prototype.removeListener.call(this,t,e);return t==="readable"&&sn.nextTick(WI,this),r};pe.prototype.off=pe.prototype.removeListener;pe.prototype.removeAllListeners=function(t){let e=$i.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&sn.nextTick(WI,this),e};function WI(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Os]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function P9(t){Ae("readable nexttick read 0"),t.read(0)}pe.prototype.resume=function(){let t=this._readableState;return t.flowing||(Ae("resume"),t.flowing=!t.readableListening,F9(this,t)),t[Os]=!1,this};function F9(t,e){e.resumeScheduled||(e.resumeScheduled=!0,sn.nextTick(B9,t,e))}function B9(t,e){Ae("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),jI(t),e.flowing&&!e.reading&&t.read(0)}pe.prototype.pause=function(){return Ae("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Os]=!0,this};function jI(t){let e=t._readableState;for(Ae("flow",e.flowing);e.flowing&&t.read()!==null;);}pe.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{na(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=r9(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};pe.prototype[s9]=function(){return zI(this)};pe.prototype.iterator=function(t){return t!==void 0&&w9(t,"options"),zI(this,t)};function zI(t,e){typeof t.read!="function"&&(t=pe.wrap(t,{objectMode:!0}));let r=k9(t,e);return r.stream=t,r}async function*k9(t,e){let r=By;function n(o){this===t?(r(),r=By):r=o}t.on("readable",n);let i,s=MI(t,{writable:!1},o=>{i=o?NI(i,o):null,r(),r=By});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new LI(n)}}}catch(o){throw i=NI(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?sa.destroyer(t,null):(t.off("readable",n),s())}}jy(pe.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});jy(xd.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Os]!==!1},set(t){this[Os]=!!t}}});pe._fromList=HI;function HI(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function $y(t){let e=t._readableState;Ae("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,sn.nextTick($9,e,t))}function $9(t,e){if(Ae("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)sn.nextTick(q9,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function q9(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}pe.from=function(t,e){return _9(pe,t,e)};var qy;function VI(){return qy===void 0&&(qy={}),qy}pe.fromWeb=function(t,e){return VI().newStreamReadableFromReadableStream(t,e)};pe.toWeb=function(t,e){return VI().newReadableStreamFromStreamReadable(t,e)};pe.wrap=function(t,e){var r,n;return new pe({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){sa.destroyer(t,i),s(i)}}).wrap(t)}});var Id=x((W_e,s1)=>{"use strict";var Ls=ze(),{ArrayPrototypeSlice:KI,Error:U9,FunctionPrototypeSymbolHasInstance:XI,ObjectDefineProperty:ZI,ObjectDefineProperties:W9,ObjectSetPrototypeOf:QI,StringPrototypeToLowerCase:j9,Symbol:z9,SymbolHasInstance:H9}=it();s1.exports=ct;ct.WritableState=pc;var{EventEmitter:V9}=require("events"),dc=yd().Stream,{Buffer:Td}=require("buffer"),Cd=Ns(),{addAbortSignal:G9}=oc(),{getHighWaterMark:Y9,getDefaultHighWaterMark:J9}=ac(),{ERR_INVALID_ARG_TYPE:K9,ERR_METHOD_NOT_IMPLEMENTED:X9,ERR_MULTIPLE_CALLBACK:e1,ERR_STREAM_CANNOT_PIPE:Z9,ERR_STREAM_DESTROYED:hc,ERR_STREAM_ALREADY_FINISHED:Q9,ERR_STREAM_NULL_VALUES:eY,ERR_STREAM_WRITE_AFTER_END:tY,ERR_UNKNOWN_ENCODING:t1}=cr().codes,{errorOrDestroy:oa}=Cd;QI(ct.prototype,dc.prototype);QI(ct,dc);function Vy(){}var aa=z9("kOnFinished");function pc(t,e,r){typeof r!="boolean"&&(r=e instanceof vn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Y9(this,t,"writableHighWaterMark",r):J9(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=nY.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Ad(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[aa]=[]}function Ad(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}pc.prototype.getBuffer=function(){return KI(this.buffered,this.bufferedIndex)};ZI(pc.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ct(t){let e=this instanceof vn();if(!e&&!XI(ct,this))return new ct(t);this._writableState=new pc(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&G9(t.signal,this)),dc.call(this,t),Cd.construct(this,()=>{let r=this._writableState;r.writing||Yy(this,r),Jy(this,r)})}ZI(ct,H9,{__proto__:null,value:function(t){return XI(this,t)?!0:this!==ct?!1:t&&t._writableState instanceof pc}});ct.prototype.pipe=function(){oa(this,new Z9)};function r1(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Td.isEncoding(r))throw new t1(r);typeof n!="function"&&(n=Vy)}if(e===null)throw new eY;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Td.from(e,r),r="buffer");else if(e instanceof Td)r="buffer";else if(dc._isUint8Array(e))e=dc._uint8ArrayToBuffer(e),r="buffer";else throw new K9("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new tY:i.destroyed&&(s=new hc("write")),s?(Ls.nextTick(n,s),oa(t,s,!0),s):(i.pendingcb++,rY(t,i,e,r,n))}ct.prototype.write=function(t,e,r){return r1(this,t,e,r)===!0};ct.prototype.cork=function(){this._writableState.corked++};ct.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Yy(this,t))};ct.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=j9(e)),!Td.isEncoding(e))throw new t1(e);return this._writableState.defaultEncoding=e,this};function rY(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Vy&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function YI(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new hc("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function JI(t,e,r,n){--e.pendingcb,n(r),Gy(e),oa(t,r)}function nY(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){oa(t,new e1);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Ls.nextTick(JI,t,r,e,i):JI(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&Yy(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Ls.nextTick(iY,r.afterWriteTickInfo)):n1(t,r,1,i))}function iY({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,n1(t,e,r,n)}function n1(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Gy(e),Jy(t,e)}function Gy(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new hc("write"))}let r=t[aa].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new hc("end"))}Ad(t)}function Yy(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Vy:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:KI(r,o);l.allBuffers=e.allBuffers,YI(t,e,!0,e.length,l,"",a),Ad(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;YI(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Ad(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ct.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new X9("_write()")};ct.prototype._writev=null;ct.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=r1(this,t,e);s instanceof U9&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Jy(this,n,!0),n.ended=!0):n.finished?i=new Q9("end"):n.destroyed&&(i=new hc("end"))),typeof r=="function"&&(i||n.finished?Ls.nextTick(r,i):n[aa].push(r)),this};function Rd(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function sY(t,e){let r=!1;function n(i){if(r){oa(t,i??e1());return}if(r=!0,e.pendingcb--,i){let s=e[aa].splice(0);for(let o=0;o<s.length;o++)s[o](i);oa(t,i,e.sync)}else Rd(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Ls.nextTick(Hy,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function oY(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,sY(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Jy(t,e,r){Rd(e)&&(oY(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Ls.nextTick((n,i)=>{Rd(i)?Hy(n,i):i.pendingcb--},t,e)):Rd(e)&&(e.pendingcb++,Hy(t,e))))}function Hy(t,e){e.pendingcb--,e.finished=!0;let r=e[aa].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}W9(ct.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var aY=Cd.destroy;ct.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[aa].length)&&Ls.nextTick(Gy,r),aY.call(this,t,e),this};ct.prototype._undestroy=Cd.undestroy;ct.prototype._destroy=function(t,e){e(t)};ct.prototype[V9.captureRejectionSymbol]=function(t){this.destroy(t)};var zy;function i1(){return zy===void 0&&(zy={}),zy}ct.fromWeb=function(t,e){return i1().newStreamWritableFromWritableStream(t,e)};ct.toWeb=function(t){return i1().newWritableStreamFromStreamWritable(t)}});var _1=x((j_e,w1)=>{var Ky=ze(),lY=require("buffer"),{isReadable:cY,isWritable:uY,isIterable:o1,isNodeStream:fY,isReadableNodeStream:a1,isWritableNodeStream:l1,isDuplexNodeStream:dY,isReadableStream:c1,isWritableStream:u1}=En(),f1=ri(),{AbortError:m1,codes:{ERR_INVALID_ARG_TYPE:hY,ERR_INVALID_RETURN_VALUE:d1}}=cr(),{destroyer:ca}=Ns(),pY=vn(),b1=fc(),gY=Id(),{createDeferredPromise:h1}=Er(),p1=Py(),g1=globalThis.Blob||lY.Blob,yY=typeof g1<"u"?function(e){return e instanceof g1}:function(e){return!1},mY=globalThis.AbortController||xt().AbortController,{FunctionPrototypeCall:y1}=it(),qi=class extends pY{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};w1.exports=function t(e,r){if(dY(e))return e;if(a1(e))return la({readable:e});if(l1(e))return la({writable:e});if(fY(e))return la({writable:!1,readable:!1});if(c1(e))return la({readable:b1.fromWeb(e)});if(u1(e))return la({writable:gY.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=bY(e);if(o1(i))return p1(qi,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=y1(l,i,d=>{if(d!=null)throw new d1("nully","body",d)},d=>{ca(c,d)});return c=new qi({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,Ky.nextTick(d,null)}catch(h){Ky.nextTick(d,h)}})},destroy:a})}throw new d1("Iterable, AsyncIterable or AsyncFunction",r,i)}if(yY(e))return t(e.arrayBuffer());if(o1(e))return p1(qi,e,{objectMode:!0,writable:!1});if(c1(e?.readable)&&u1(e?.writable))return qi.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?a1(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?l1(e?.writable)?e?.writable:t(e.writable):void 0;return la({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return y1(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{ca(i,s)}),i=new qi({objectMode:!0,writable:!1,read(){}})}throw new hY(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function bY(t){let{promise:e,resolve:r}=h1(),n=new mY,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(Ky.nextTick(c),l)return;if(i.aborted)throw new m1(void 0,{cause:i.reason});({promise:e,resolve:r}=h1()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function la(t){let e=t.readable&&typeof t.readable.read!="function"?b1.wrap(t.readable):t.readable,r=t.writable,n=!!cY(e),i=!!uY(r),s,o,a,l,c;function u(d){let h=l;l=null,h?h(d):d&&c.destroy(d)}return c=new qi({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(f1(r,d=>{i=!1,d&&ca(e,d),u(d)}),c._write=function(d,h,f){r.write(d,h)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(f1(e,d=>{n=!1,d&&ca(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,h){!d&&l!==null&&(d=new m1),a=null,s=null,o=null,l===null?h(d):(l=h,ca(r,d),ca(e,d))},c}});var vn=x((z_e,x1)=>{"use strict";var{ObjectDefineProperties:wY,ObjectGetOwnPropertyDescriptor:ni,ObjectKeys:_Y,ObjectSetPrototypeOf:E1}=it();x1.exports=on;var Qy=fc(),jr=Id();E1(on.prototype,Qy.prototype);E1(on,Qy);{let t=_Y(jr.prototype);for(let e=0;e<t.length;e++){let r=t[e];on.prototype[r]||(on.prototype[r]=jr.prototype[r])}}function on(t){if(!(this instanceof on))return new on(t);Qy.call(this,t),jr.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}wY(on.prototype,{writable:{__proto__:null,...ni(jr.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ni(jr.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ni(jr.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ni(jr.prototype,"writableBuffer")},writableLength:{__proto__:null,...ni(jr.prototype,"writableLength")},writableFinished:{__proto__:null,...ni(jr.prototype,"writableFinished")},writableCorked:{__proto__:null,...ni(jr.prototype,"writableCorked")},writableEnded:{__proto__:null,...ni(jr.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ni(jr.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Xy;function S1(){return Xy===void 0&&(Xy={}),Xy}on.fromWeb=function(t,e){return S1().newStreamDuplexFromReadableWritablePair(t,e)};on.toWeb=function(t){return S1().newReadableWritablePairFromDuplex(t)};var Zy;on.from=function(t){return Zy||(Zy=_1()),Zy(t,"body")}});var rm=x((H_e,T1)=>{"use strict";var{ObjectSetPrototypeOf:v1,Symbol:EY}=it();T1.exports=ii;var{ERR_METHOD_NOT_IMPLEMENTED:SY}=cr().codes,tm=vn(),{getHighWaterMark:xY}=ac();v1(ii.prototype,tm.prototype);v1(ii,tm);var gc=EY("kCallback");function ii(t){if(!(this instanceof ii))return new ii(t);let e=t?xY(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),tm.call(this,t),this._readableState.sync=!1,this[gc]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",vY)}function em(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function vY(){this._final!==em&&em.call(this)}ii.prototype._final=em;ii.prototype._transform=function(t,e,r){throw new SY("_transform()")};ii.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[gc]=r})};ii.prototype._read=function(){if(this[gc]){let t=this[gc];this[gc]=null,t()}}});var im=x((V_e,A1)=>{"use strict";var{ObjectSetPrototypeOf:R1}=it();A1.exports=ua;var nm=rm();R1(ua.prototype,nm.prototype);R1(ua,nm);function ua(t){if(!(this instanceof ua))return new ua(t);nm.call(this,t)}ua.prototype._transform=function(t,e,r){r(null,t)}});var Ld=x((G_e,O1)=>{var yc=ze(),{ArrayIsArray:TY,Promise:RY,SymbolAsyncIterator:AY,SymbolDispose:CY}=it(),Od=ri(),{once:IY}=Er(),NY=Ns(),C1=vn(),{aggregateTwoErrors:DY,codes:{ERR_INVALID_ARG_TYPE:hm,ERR_INVALID_RETURN_VALUE:sm,ERR_MISSING_ARGS:OY,ERR_STREAM_DESTROYED:LY,ERR_STREAM_PREMATURE_CLOSE:MY},AbortError:PY}=cr(),{validateFunction:FY,validateAbortSignal:BY}=ta(),{isIterable:Ms,isReadable:om,isReadableNodeStream:Dd,isNodeStream:I1,isTransformStream:fa,isWebStream:kY,isReadableStream:am,isReadableFinished:$Y}=En(),qY=globalThis.AbortController||xt().AbortController,lm,cm,um;function N1(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Od(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,NY.destroyer(t,s||new LY("pipe")))},cleanup:i}}function UY(t){return FY(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function fm(t){if(Ms(t))return t;if(Dd(t))return WY(t);throw new hm("val",["Readable","Iterable","AsyncIterable"],t)}async function*WY(t){cm||(cm=fc()),yield*cm.prototype[AY].call(t)}async function Nd(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new RY((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Od(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?DY(i,c):c)}finally{l(),e.off("drain",o)}}async function dm(t,e,r,{end:n}){fa(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function jY(...t){return D1(t,IY(UY(t)))}function D1(t,e,r){if(t.length===1&&TY(t[0])&&(t=t[0]),t.length<2)throw new OY("streams");let n=new qY,i=n.signal,s=r?.signal,o=[];BY(s,"options.signal");function a(){g(new PY)}um=um||Er().addAbortListener;let l;s&&(l=um(s,a));let c,u,d=[],h=0;function f(b){g(b,--h===0)}function g(b,w){var I;if(b&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=b),!(!c&&!w)){for(;d.length;)d.shift()(c);(I=l)===null||I===void 0||I[CY](),n.abort(),w&&(c||o.forEach(O=>O()),yc.nextTick(e,c,u))}}let p;for(let b=0;b<t.length;b++){let w=t[b],I=b<t.length-1,O=b>0,C=I||r?.end!==!1,B=b===t.length-1;if(I1(w)){let N=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(L)};var S=N;if(C){let{destroy:L,cleanup:$}=N1(w,I,O);d.push(L),om(w)&&B&&o.push($)}w.on("error",N),om(w)&&B&&o.push(()=>{w.removeListener("error",N)})}if(b===0)if(typeof w=="function"){if(p=w({signal:i}),!Ms(p))throw new sm("Iterable, AsyncIterable or Stream","source",p)}else Ms(w)||Dd(w)||fa(w)?p=w:p=C1.from(w);else if(typeof w=="function"){if(fa(p)){var m;p=fm((m=p)===null||m===void 0?void 0:m.readable)}else p=fm(p);if(p=w(p,{signal:i}),I){if(!Ms(p,!0))throw new sm("AsyncIterable",`transform[${b-1}]`,p)}else{var y;lm||(lm=im());let N=new lm({objectMode:!0}),L=(y=p)===null||y===void 0?void 0:y.then;if(typeof L=="function")h++,L.call(p,j=>{u=j,j!=null&&N.write(j),C&&N.end(),yc.nextTick(f)},j=>{N.destroy(j),yc.nextTick(f,j)});else if(Ms(p,!0))h++,Nd(p,N,f,{end:C});else if(am(p)||fa(p)){let j=p.readable||p;h++,Nd(j,N,f,{end:C})}else throw new sm("AsyncIterable or Promise","destination",p);p=N;let{destroy:$,cleanup:Y}=N1(p,!1,!0);d.push($),B&&o.push(Y)}}else if(I1(w)){if(Dd(p)){h+=2;let N=zY(p,w,f,{end:C});om(w)&&B&&o.push(N)}else if(fa(p)||am(p)){let N=p.readable||p;h++,Nd(N,w,f,{end:C})}else if(Ms(p))h++,Nd(p,w,f,{end:C});else throw new hm("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else if(kY(w)){if(Dd(p))h++,dm(fm(p),w,f,{end:C});else if(am(p)||Ms(p))h++,dm(p,w,f,{end:C});else if(fa(p))h++,dm(p.readable,w,f,{end:C});else throw new hm("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else p=C1.from(w)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&yc.nextTick(a),p}function zY(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new MY)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;$Y(t)?yc.nextTick(o):t.once("end",o)}else r();return Od(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Od(e,{readable:!1,writable:!0},r)}O1.exports={pipelineImpl:D1,pipeline:jY}});var gm=x((Y_e,k1)=>{"use strict";var{pipeline:HY}=Ld(),Md=vn(),{destroyer:VY}=Ns(),{isNodeStream:Pd,isReadable:L1,isWritable:M1,isWebStream:pm,isTransformStream:Ps,isWritableStream:P1,isReadableStream:F1}=En(),{AbortError:GY,codes:{ERR_INVALID_ARG_VALUE:B1,ERR_MISSING_ARGS:YY}}=cr(),JY=ri();k1.exports=function(...e){if(e.length===0)throw new YY("streams");if(e.length===1)return Md.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Md.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Md.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Pd(e[f])&&!pm(e[f]))){if(f<e.length-1&&!(L1(e[f])||F1(e[f])||Ps(e[f])))throw new B1(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(M1(e[f])||P1(e[f])||Ps(e[f])))throw new B1(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let g=o;o=null,g?g(f):f?a.destroy(f):!h&&!d&&a.destroy()}let c=e[0],u=HY(e,l),d=!!(M1(c)||P1(c)||Ps(c)),h=!!(L1(u)||F1(u)||Ps(u));if(a=new Md({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:h}),d){if(Pd(c))a._write=function(g,p,m){c.write(g,p)?m():n=m},a._final=function(g){c.end(),i=g},c.on("drain",function(){if(n){let g=n;n=null,g()}});else if(pm(c)){let p=(Ps(c)?c.writable:c).getWriter();a._write=async function(m,y,S){try{await p.ready,p.write(m).catch(()=>{}),S()}catch(b){S(b)}},a._final=async function(m){try{await p.ready,p.close().catch(()=>{}),i=m}catch(y){m(y)}}}let f=Ps(u)?u.readable:u;JY(f,()=>{if(i){let g=i;i=null,g()}})}if(h){if(Pd(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(pm(u)){let g=(Ps(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:p,done:m}=await g.read();if(!a.push(p))return;if(m){a.push(null);return}}catch{return}}}}return a._destroy=function(f,g){!f&&o!==null&&(f=new GY),s=null,n=null,i=null,o===null?g(f):(o=g,Pd(u)&&VY(u,f))},a}});var Y1=x((J_e,bm)=>{"use strict";var KY=globalThis.AbortController||xt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:XY,ERR_INVALID_ARG_TYPE:mc,ERR_MISSING_ARGS:ZY,ERR_OUT_OF_RANGE:QY},AbortError:Tn}=cr(),{validateAbortSignal:Fs,validateInteger:$1,validateObject:Bs}=ta(),eJ=it().Symbol("kWeak"),tJ=it().Symbol("kResistStopPropagation"),{finished:rJ}=ri(),nJ=gm(),{addAbortSignalNoValidate:iJ}=oc(),{isWritable:sJ,isNodeStream:oJ}=En(),{deprecate:aJ}=Er(),{ArrayPrototypePush:lJ,Boolean:cJ,MathFloor:q1,Number:uJ,NumberIsNaN:fJ,Promise:U1,PromiseReject:W1,PromiseResolve:dJ,PromisePrototypeThen:j1,Symbol:H1}=it(),Fd=H1("kEmpty"),z1=H1("kEof");function hJ(t,e){if(e!=null&&Bs(e,"options"),e?.signal!=null&&Fs(e.signal,"options.signal"),oJ(t)&&!sJ(t))throw new XY("stream",t,"must be writable");let r=nJ(this,t);return e!=null&&e.signal&&iJ(e.signal,r),r}function Bd(t,e){if(typeof t!="function")throw new mc("fn",["Function","AsyncFunction"],t);e!=null&&Bs(e,"options"),e?.signal!=null&&Fs(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=q1(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=q1(e.highWaterMark)),$1(r,"options.concurrency",1),$1(n,"options.highWaterMark",0),n+=r,async function*(){let s=Er().AbortSignalAny([e?.signal].filter(cJ)),o=this,a=[],l={signal:s},c,u,d=!1,h=0;function f(){d=!0,g()}function g(){h-=1,p()}function p(){u&&!d&&h<r&&a.length<n&&(u(),u=null)}async function m(){try{for await(let y of o){if(d)return;if(s.aborted)throw new Tn;try{if(y=t(y,l),y===Fd)continue;y=dJ(y)}catch(S){y=W1(S)}h+=1,j1(y,g,f),a.push(y),c&&(c(),c=null),!d&&(a.length>=n||h>=r)&&await new U1(S=>{u=S})}a.push(z1)}catch(y){let S=W1(y);j1(S,g,f),a.push(S)}finally{d=!0,c&&(c(),c=null)}}m();try{for(;;){for(;a.length>0;){let y=await a[0];if(y===z1)return;if(s.aborted)throw new Tn;y!==Fd&&(yield y),a.shift(),p()}await new U1(y=>{c=y})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function pJ(t=void 0){return t!=null&&Bs(t,"options"),t?.signal!=null&&Fs(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Tn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function V1(t,e=void 0){for await(let r of mm.call(this,t,e))return!0;return!1}async function gJ(t,e=void 0){if(typeof t!="function")throw new mc("fn",["Function","AsyncFunction"],t);return!await V1.call(this,async(...r)=>!await t(...r),e)}async function yJ(t,e){for await(let r of mm.call(this,t,e))return r}async function mJ(t,e){if(typeof t!="function")throw new mc("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Fd}for await(let n of Bd.call(this,r,e));}function mm(t,e){if(typeof t!="function")throw new mc("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Fd}return Bd.call(this,r,e)}var ym=class extends ZY{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function bJ(t,e,r){var n;if(typeof t!="function")throw new mc("reducer",["Function","AsyncFunction"],t);r!=null&&Bs(r,"options"),r?.signal!=null&&Fs(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Tn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await rJ(this.destroy(c)),c}let s=new KY,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[eJ]:this,[tJ]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Tn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new ym}finally{s.abort()}return e}async function wJ(t){t!=null&&Bs(t,"options"),t?.signal!=null&&Fs(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Tn(void 0,{cause:t.signal.reason});lJ(e,n)}return e}function _J(t,e){let r=Bd.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function G1(t){if(t=uJ(t),fJ(t))return 0;if(t<0)throw new QY("number",">= 0",t);return t}function EJ(t,e=void 0){return e!=null&&Bs(e,"options"),e?.signal!=null&&Fs(e.signal,"options.signal"),t=G1(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Tn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Tn;t--<=0&&(yield s)}}.call(this)}function SJ(t,e=void 0){return e!=null&&Bs(e,"options"),e?.signal!=null&&Fs(e.signal,"options.signal"),t=G1(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Tn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Tn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}bm.exports.streamReturningOperators={asIndexedPairs:aJ(pJ,"readable.asIndexedPairs will be removed in a future version."),drop:EJ,filter:mm,flatMap:_J,map:Bd,take:SJ,compose:hJ};bm.exports.promiseReturningOperators={every:gJ,forEach:mJ,reduce:bJ,toArray:wJ,some:V1,find:yJ}});var wm=x((K_e,J1)=>{"use strict";var{ArrayPrototypePop:xJ,Promise:vJ}=it(),{isIterable:TJ,isNodeStream:RJ,isWebStream:AJ}=En(),{pipelineImpl:CJ}=Ld(),{finished:IJ}=ri();_m();function NJ(...t){return new vJ((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!RJ(s)&&!TJ(s)&&!AJ(s)){let o=xJ(t);n=o.signal,i=o.end}CJ(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}J1.exports={finished:IJ,pipeline:NJ}});var _m=x((X_e,iN)=>{"use strict";var{Buffer:DJ}=require("buffer"),{ObjectDefineProperty:si,ObjectKeys:Z1,ReflectApply:Q1}=it(),{promisify:{custom:eN}}=Er(),{streamReturningOperators:K1,promiseReturningOperators:X1}=Y1(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:tN}}=cr(),OJ=gm(),{setDefaultHighWaterMark:LJ,getDefaultHighWaterMark:MJ}=ac(),{pipeline:rN}=Ld(),{destroyer:PJ}=Ns(),nN=ri(),Em=wm(),bc=En(),Qe=iN.exports=yd().Stream;Qe.isDestroyed=bc.isDestroyed;Qe.isDisturbed=bc.isDisturbed;Qe.isErrored=bc.isErrored;Qe.isReadable=bc.isReadable;Qe.isWritable=bc.isWritable;Qe.Readable=fc();for(let t of Z1(K1)){let r=function(...n){if(new.target)throw tN();return Qe.Readable.from(Q1(e,this,n))},e=K1[t];si(r,"name",{__proto__:null,value:e.name}),si(r,"length",{__proto__:null,value:e.length}),si(Qe.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of Z1(X1)){let r=function(...n){if(new.target)throw tN();return Q1(e,this,n)},e=X1[t];si(r,"name",{__proto__:null,value:e.name}),si(r,"length",{__proto__:null,value:e.length}),si(Qe.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}Qe.Writable=Id();Qe.Duplex=vn();Qe.Transform=rm();Qe.PassThrough=im();Qe.pipeline=rN;var{addAbortSignal:FJ}=oc();Qe.addAbortSignal=FJ;Qe.finished=nN;Qe.destroy=PJ;Qe.compose=OJ;Qe.setDefaultHighWaterMark=LJ;Qe.getDefaultHighWaterMark=MJ;si(Qe,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Em}});si(rN,eN,{__proto__:null,enumerable:!0,get(){return Em.pipeline}});si(nN,eN,{__proto__:null,enumerable:!0,get(){return Em.finished}});Qe.Stream=Qe;Qe._isUint8Array=function(e){return e instanceof Uint8Array};Qe._uint8ArrayToBuffer=function(e){return DJ.from(e.buffer,e.byteOffset,e.byteLength)}});var sN=x((Z_e,xe)=>{"use strict";var Ot=require("stream");if(Ot&&process.env.READABLE_STREAM==="disable"){let t=Ot.promises;xe.exports._uint8ArrayToBuffer=Ot._uint8ArrayToBuffer,xe.exports._isUint8Array=Ot._isUint8Array,xe.exports.isDisturbed=Ot.isDisturbed,xe.exports.isErrored=Ot.isErrored,xe.exports.isReadable=Ot.isReadable,xe.exports.Readable=Ot.Readable,xe.exports.Writable=Ot.Writable,xe.exports.Duplex=Ot.Duplex,xe.exports.Transform=Ot.Transform,xe.exports.PassThrough=Ot.PassThrough,xe.exports.addAbortSignal=Ot.addAbortSignal,xe.exports.finished=Ot.finished,xe.exports.destroy=Ot.destroy,xe.exports.pipeline=Ot.pipeline,xe.exports.compose=Ot.compose,Object.defineProperty(Ot,"promises",{configurable:!0,enumerable:!0,get(){return t}}),xe.exports.Stream=Ot.Stream}else{let t=_m(),e=wm(),r=t.Readable.destroy;xe.exports=t.Readable,xe.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,xe.exports._isUint8Array=t._isUint8Array,xe.exports.isDisturbed=t.isDisturbed,xe.exports.isErrored=t.isErrored,xe.exports.isReadable=t.isReadable,xe.exports.Readable=t.Readable,xe.exports.Writable=t.Writable,xe.exports.Duplex=t.Duplex,xe.exports.Transform=t.Transform,xe.exports.PassThrough=t.PassThrough,xe.exports.addAbortSignal=t.addAbortSignal,xe.exports.finished=t.finished,xe.exports.destroy=t.destroy,xe.exports.destroy=r,xe.exports.pipeline=t.pipeline,xe.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),xe.exports.Stream=t.Stream}xe.exports.default=xe.exports});var aN=x((Q_e,oN)=>{function BJ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}oN.exports=BJ});var fN=x((eEe,uN)=>{var lN=td(),kJ=ny(),$J=iy(),cN=lN?lN.isConcatSpreadable:void 0;function qJ(t){return $J(t)||kJ(t)||!!(cN&&t&&t[cN])}uN.exports=qJ});var kd=x((tEe,hN)=>{var UJ=aN(),WJ=fN();function dN(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=WJ),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?dN(a,e-1,r,n,i):UJ(i,a):n||(i[i.length]=a)}return i}hN.exports=dN});var gN=x((rEe,pN)=>{var jJ=kd();function zJ(t){var e=t==null?0:t.length;return e?jJ(t,1):[]}pN.exports=zJ});var wc=x((nEe,yN)=>{var HJ=Xl(),VJ=HJ(Object,"create");yN.exports=VJ});var wN=x((iEe,bN)=>{var mN=wc();function GJ(){this.__data__=mN?mN(null):{},this.size=0}bN.exports=GJ});var EN=x((sEe,_N)=>{function YJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}_N.exports=YJ});var xN=x((oEe,SN)=>{var JJ=wc(),KJ="__lodash_hash_undefined__",XJ=Object.prototype,ZJ=XJ.hasOwnProperty;function QJ(t){var e=this.__data__;if(JJ){var r=e[t];return r===KJ?void 0:r}return ZJ.call(e,t)?e[t]:void 0}SN.exports=QJ});var TN=x((aEe,vN)=>{var eK=wc(),tK=Object.prototype,rK=tK.hasOwnProperty;function nK(t){var e=this.__data__;return eK?e[t]!==void 0:rK.call(e,t)}vN.exports=nK});var AN=x((lEe,RN)=>{var iK=wc(),sK="__lodash_hash_undefined__";function oK(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=iK&&e===void 0?sK:e,this}RN.exports=oK});var IN=x((cEe,CN)=>{var aK=wN(),lK=EN(),cK=xN(),uK=TN(),fK=AN();function da(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}da.prototype.clear=aK;da.prototype.delete=lK;da.prototype.get=cK;da.prototype.has=uK;da.prototype.set=fK;CN.exports=da});var DN=x((uEe,NN)=>{function dK(){this.__data__=[],this.size=0}NN.exports=dK});var _c=x((fEe,ON)=>{var hK=nd();function pK(t,e){for(var r=t.length;r--;)if(hK(t[r][0],e))return r;return-1}ON.exports=pK});var MN=x((dEe,LN)=>{var gK=_c(),yK=Array.prototype,mK=yK.splice;function bK(t){var e=this.__data__,r=gK(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():mK.call(e,r,1),--this.size,!0}LN.exports=bK});var FN=x((hEe,PN)=>{var wK=_c();function _K(t){var e=this.__data__,r=wK(e,t);return r<0?void 0:e[r][1]}PN.exports=_K});var kN=x((pEe,BN)=>{var EK=_c();function SK(t){return EK(this.__data__,t)>-1}BN.exports=SK});var qN=x((gEe,$N)=>{var xK=_c();function vK(t,e){var r=this.__data__,n=xK(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}$N.exports=vK});var WN=x((yEe,UN)=>{var TK=DN(),RK=MN(),AK=FN(),CK=kN(),IK=qN();function ha(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ha.prototype.clear=TK;ha.prototype.delete=RK;ha.prototype.get=AK;ha.prototype.has=CK;ha.prototype.set=IK;UN.exports=ha});var zN=x((mEe,jN)=>{var NK=Xl(),DK=Jo(),OK=NK(DK,"Map");jN.exports=OK});var GN=x((bEe,VN)=>{var HN=IN(),LK=WN(),MK=zN();function PK(){this.size=0,this.__data__={hash:new HN,map:new(MK||LK),string:new HN}}VN.exports=PK});var JN=x((wEe,YN)=>{function FK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}YN.exports=FK});var Ec=x((_Ee,KN)=>{var BK=JN();function kK(t,e){var r=t.__data__;return BK(e)?r[typeof e=="string"?"string":"hash"]:r.map}KN.exports=kK});var ZN=x((EEe,XN)=>{var $K=Ec();function qK(t){var e=$K(this,t).delete(t);return this.size-=e?1:0,e}XN.exports=qK});var eD=x((SEe,QN)=>{var UK=Ec();function WK(t){return UK(this,t).get(t)}QN.exports=WK});var rD=x((xEe,tD)=>{var jK=Ec();function zK(t){return jK(this,t).has(t)}tD.exports=zK});var iD=x((vEe,nD)=>{var HK=Ec();function VK(t,e){var r=HK(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}nD.exports=VK});var oD=x((TEe,sD)=>{var GK=GN(),YK=ZN(),JK=eD(),KK=rD(),XK=iD();function pa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pa.prototype.clear=GK;pa.prototype.delete=YK;pa.prototype.get=JK;pa.prototype.has=KK;pa.prototype.set=XK;sD.exports=pa});var lD=x((REe,aD)=>{var ZK="__lodash_hash_undefined__";function QK(t){return this.__data__.set(t,ZK),this}aD.exports=QK});var uD=x((AEe,cD)=>{function eX(t){return this.__data__.has(t)}cD.exports=eX});var Sm=x((CEe,fD)=>{var tX=oD(),rX=lD(),nX=uD();function $d(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new tX;++e<r;)this.add(t[e])}$d.prototype.add=$d.prototype.push=rX;$d.prototype.has=nX;fD.exports=$d});var hD=x((IEe,dD)=>{function iX(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}dD.exports=iX});var gD=x((NEe,pD)=>{function sX(t){return t!==t}pD.exports=sX});var mD=x((DEe,yD)=>{function oX(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}yD.exports=oX});var wD=x((OEe,bD)=>{var aX=hD(),lX=gD(),cX=mD();function uX(t,e,r){return e===e?cX(t,e,r):aX(t,lX,r)}bD.exports=uX});var xm=x((LEe,_D)=>{var fX=wD();function dX(t,e){var r=t==null?0:t.length;return!!r&&fX(t,e,0)>-1}_D.exports=dX});var vm=x((MEe,ED)=>{function hX(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}ED.exports=hX});var xD=x((PEe,SD)=>{function pX(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}SD.exports=pX});var Tm=x((FEe,vD)=>{function gX(t,e){return t.has(e)}vD.exports=gX});var RD=x((BEe,TD)=>{var yX=Sm(),mX=xm(),bX=vm(),wX=xD(),_X=sy(),EX=Tm(),SX=200;function xX(t,e,r,n){var i=-1,s=mX,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;r&&(e=wX(e,_X(r))),n?(s=bX,o=!1):e.length>=SX&&(s=EX,o=!1,e=new yX(e));e:for(;++i<a;){var u=t[i],d=r==null?u:r(u);if(u=n||u!==0?u:0,o&&d===d){for(var h=c;h--;)if(e[h]===d)continue e;l.push(u)}else s(e,d,n)||l.push(u)}return l}TD.exports=xX});var Rm=x((kEe,AD)=>{var vX=id(),TX=Ko();function RX(t){return TX(t)&&vX(t)}AD.exports=RX});var ND=x(($Ee,ID)=>{var AX=RD(),CX=kd(),IX=rd(),CD=Rm(),NX=IX(function(t,e){return CD(t)?AX(t,CX(e,1,CD,!0)):[]});ID.exports=NX});var OD=x((qEe,DD)=>{var DX=Xl(),OX=Jo(),LX=DX(OX,"Set");DD.exports=LX});var MD=x((UEe,LD)=>{function MX(){}LD.exports=MX});var Am=x((WEe,PD)=>{function PX(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}PD.exports=PX});var BD=x((jEe,FD)=>{var Cm=OD(),FX=MD(),BX=Am(),kX=1/0,$X=Cm&&1/BX(new Cm([,-0]))[1]==kX?function(t){return new Cm(t)}:FX;FD.exports=$X});var $D=x((zEe,kD)=>{var qX=Sm(),UX=xm(),WX=vm(),jX=Tm(),zX=BD(),HX=Am(),VX=200;function GX(t,e,r){var n=-1,i=UX,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=WX;else if(s>=VX){var c=e?null:zX(t);if(c)return HX(c);o=!1,i=jX,l=new qX}else l=e?[]:a;e:for(;++n<s;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,r)||(l!==a&&l.push(d),a.push(u))}return a}kD.exports=GX});var UD=x((HEe,qD)=>{var YX=kd(),JX=rd(),KX=$D(),XX=Rm(),ZX=JX(function(t){return KX(YX(t,1,XX,!0))});qD.exports=ZX});var jD=x((VEe,WD)=>{function QX(t,e){return function(r){return t(e(r))}}WD.exports=QX});var HD=x((GEe,zD)=>{var eZ=jD(),tZ=eZ(Object.getPrototypeOf,Object);zD.exports=tZ});var YD=x((YEe,GD)=>{var rZ=Jl(),nZ=HD(),iZ=Ko(),sZ="[object Object]",oZ=Function.prototype,aZ=Object.prototype,VD=oZ.toString,lZ=aZ.hasOwnProperty,cZ=VD.call(Object);function uZ(t){if(!iZ(t)||rZ(t)!=sZ)return!1;var e=nZ(t);if(e===null)return!0;var r=lZ.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&VD.call(r)==cZ}GD.exports=uZ});var rO=x((JEe,tO)=>{var JD=dg();tO.exports=hZ;var KD="\0SLASH"+Math.random()+"\0",XD="\0OPEN"+Math.random()+"\0",Nm="\0CLOSE"+Math.random()+"\0",ZD="\0COMMA"+Math.random()+"\0",QD="\0PERIOD"+Math.random()+"\0";function Im(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function fZ(t){return t.split("\\\\").join(KD).split("\\{").join(XD).split("\\}").join(Nm).split("\\,").join(ZD).split("\\.").join(QD)}function dZ(t){return t.split(KD).join("\\").split(XD).join("{").split(Nm).join("}").split(ZD).join(",").split(QD).join(".")}function eO(t){if(!t)return[""];var e=[],r=JD("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=eO(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function hZ(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Sc(fZ(t),!0).map(dZ)):[]}function pZ(t){return"{"+t+"}"}function gZ(t){return/^-?0\d/.test(t)}function yZ(t,e){return t<=e}function mZ(t,e){return t>=e}function Sc(t,e){var r=[],n=JD("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Sc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+Nm+n.post,Sc(t)):[t];var h;if(u)h=n.body.split(/\.\./);else if(h=eO(n.body),h.length===1&&(h=Sc(h[0],!1).map(pZ),h.length===1))return s.map(function(L){return n.pre+h[0]+L});var f;if(u){var g=Im(h[0]),p=Im(h[1]),m=Math.max(h[0].length,h[1].length),y=h.length==3?Math.abs(Im(h[2])):1,S=yZ,b=p<g;b&&(y*=-1,S=mZ);var w=h.some(gZ);f=[];for(var I=g;S(I,p);I+=y){var O;if(c)O=String.fromCharCode(I),O==="\\"&&(O="");else if(O=String(I),w){var C=m-O.length;if(C>0){var B=new Array(C+1).join("0");I<0?O="-"+B+O.slice(1):O=B+O}}f.push(O)}}else{f=[];for(var N=0;N<h.length;N++)f.push.apply(f,Sc(h[N],!1))}for(var N=0;N<f.length;N++)for(var o=0;o<s.length;o++){var a=i+f[N]+s[o];(!e||u||a)&&r.push(a)}}return r}});var nO=x(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.assertValidPattern=void 0;var bZ=1024*64,wZ=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>bZ)throw new TypeError("pattern is too long")};qd.assertValidPattern=wZ});var sO=x(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.parseClass=void 0;var _Z={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},xc=t=>t.replace(/[[\]\\-]/g,"\\$&"),EZ=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),iO=t=>t.join(""),SZ=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,d="";e:for(;s<t.length;){let p=t.charAt(s);if((p==="!"||p==="^")&&s===r+1){c=!0,s++;continue}if(p==="]"&&o&&!l){u=s+1;break}if(o=!0,p==="\\"&&!l){l=!0,s++;continue}if(p==="["&&!l){for(let[m,[y,S,b]]of Object.entries(_Z))if(t.startsWith(m,s)){if(d)return["$.",!1,t.length-r,!0];s+=m.length,b?i.push(y):n.push(y),a=a||S;continue e}}if(l=!1,d){p>d?n.push(xc(d)+"-"+xc(p)):p===d&&n.push(xc(p)),d="",s++;continue}if(t.startsWith("-]",s+1)){n.push(xc(p+"-")),s+=2;continue}if(t.startsWith("-",s+1)){d=p,s+=2;continue}n.push(xc(p)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let p=n[0].length===2?n[0].slice(-1):n[0];return[EZ(p),!1,u-r,!1]}let h="["+(c?"^":"")+iO(n)+"]",f="["+(c?"":"^")+iO(i)+"]";return[n.length&&i.length?"("+h+"|"+f+")":n.length?h:f,a,u-r,!0]};Ud.parseClass=SZ});var jd=x(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.unescape=void 0;var xZ=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Wd.unescape=xZ});var Lm=x(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.AST=void 0;var vZ=sO(),zd=jd(),TZ=new Set(["!","?","+","*","@"]),oO=t=>TZ.has(t),RZ="(?!(?:^|/)\\.\\.?(?:$|/))",Hd="(?!\\.)",AZ=new Set(["[","."]),CZ=new Set(["..","."]),IZ=new Set("().*{}+?[]^$\\!"),NZ=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Om="[^/]",aO=Om+"*?",lO=Om+"+?",Dm=class t{type;#e;#t;#s=!1;#n=[];#o;#_;#c;#f=!1;#a;#l;#i=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#o=r,this.#e=this.#o?this.#o.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#c=this.#e===this?[]:this.#e.#c,e==="!"&&!this.#e.#f&&this.#c.push(this),this.#_=this.#o?this.#o.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#y(){if(this!==this.#e)throw new Error("should only call on root");if(this.#f)return this;this.toString(),this.#f=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let r=e,n=r.#o;for(;n;){for(let i=r.#_+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#o}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#o===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#f&&this.#o?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#o?.isStart())return!1;if(this.#_===0)return!0;let e=this.#o;for(let r=0;r<this.#_;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let e=this.#o?this.#o.#n.length:0;return this.#_===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#m(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let f=n,g="";for(;f<e.length;){let p=e.charAt(f++);if(s||p==="\\"){s=!s,g+=p;continue}if(o){f===a+1?(p==="^"||p==="!")&&(l=!0):p==="]"&&!(f===a+2&&l)&&(o=!1),g+=p;continue}else if(p==="["){o=!0,a=f,l=!1,g+=p;continue}if(!i.noext&&oO(p)&&e.charAt(f)==="("){r.push(g),g="";let m=new t(p,r);f=t.#m(e,m,f,i),r.push(m);continue}g+=p}return r.push(g),f}let c=n+1,u=new t(null,r),d=[],h="";for(;c<e.length;){let f=e.charAt(c++);if(s||f==="\\"){s=!s,h+=f;continue}if(o){c===a+1?(f==="^"||f==="!")&&(l=!0):f==="]"&&!(c===a+2&&l)&&(o=!1),h+=f;continue}else if(f==="["){o=!0,a=c,l=!1,h+=f;continue}if(oO(f)&&e.charAt(c)==="("){u.push(h),h="";let g=new t(f,u);u.push(g),c=t.#m(e,g,c,i);continue}if(f==="|"){u.push(h),h="",d.push(u),u=new t(null,r);continue}if(f===")")return h===""&&r.#n.length===0&&(r.#i=!0),u.push(h),h="",r.push(...d,u),c;h+=f}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],c}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#m(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#a}toRegExpSource(e){let r=e??!!this.#a.dot;if(this.#e===this&&this.#y(),!this.type){let l=this.isStart()&&this.isEnd(),c=this.#n.map(f=>{let[g,p,m,y]=typeof f=="string"?t.#d(f,this.#t,l):f.toRegExpSource(e);return this.#t=this.#t||m,this.#s=this.#s||y,g}).join(""),u="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&CZ.has(this.#n[0]))){let g=AZ,p=r&&g.has(c.charAt(0))||c.startsWith("\\.")&&g.has(c.charAt(2))||c.startsWith("\\.\\.")&&g.has(c.charAt(4)),m=!r&&!e&&g.has(c.charAt(0));u=p?RZ:m?Hd:""}let d="";return this.isEnd()&&this.#e.#f&&this.#o?.type==="!"&&(d="(?:$|\\/)"),[u+c+d,(0,zd.unescape)(c),this.#t=!!this.#t,this.#s]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#h(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,(0,zd.unescape)(this.toString()),!1,!1]}let o=!n||e||r||!Hd?"":this.#h(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#i)a=(this.isStart()&&!r?Hd:"")+lO;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?Hd:"")+aO+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+l}return[a,(0,zd.unescape)(s),this.#t=!!this.#t,this.#s]}#h(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#d(e,r,n=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(i){i=!1,s+=(IZ.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[c,u,d,h]=(0,vZ.parseClass)(e,a);if(d){s+=c,o=o||u,a+=d-1,r=r||h;continue}}if(l==="*"){n&&e==="*"?s+=lO:s+=aO,r=!0;continue}if(l==="?"){s+=Om,r=!0;continue}s+=NZ(l)}return[s,(0,zd.unescape)(e),!!r,o]}};Vd.AST=Dm});var Mm=x(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.escape=void 0;var DZ=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");Gd.escape=DZ});var Ui=x(Q=>{"use strict";var OZ=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Q,"__esModule",{value:!0});Q.unescape=Q.escape=Q.AST=Q.Minimatch=Q.match=Q.makeRe=Q.braceExpand=Q.defaults=Q.filter=Q.GLOBSTAR=Q.sep=Q.minimatch=void 0;var LZ=OZ(rO()),Yd=nO(),fO=Lm(),MZ=Mm(),PZ=jd(),FZ=(t,e,r={})=>((0,Yd.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new ks(e,r).match(t));Q.minimatch=FZ;var BZ=/^\*+([^+@!?\*\[\(]*)$/,kZ=t=>e=>!e.startsWith(".")&&e.endsWith(t),$Z=t=>e=>e.endsWith(t),qZ=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),UZ=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),WZ=/^\*+\.\*+$/,jZ=t=>!t.startsWith(".")&&t.includes("."),zZ=t=>t!=="."&&t!==".."&&t.includes("."),HZ=/^\.\*+$/,VZ=t=>t!=="."&&t!==".."&&t.startsWith("."),GZ=/^\*+$/,YZ=t=>t.length!==0&&!t.startsWith("."),JZ=t=>t.length!==0&&t!=="."&&t!=="..",KZ=/^\?+([^+@!?\*\[\(]*)?$/,XZ=([t,e=""])=>{let r=dO([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},ZZ=([t,e=""])=>{let r=hO([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},QZ=([t,e=""])=>{let r=hO([t]);return e?n=>r(n)&&n.endsWith(e):r},eQ=([t,e=""])=>{let r=dO([t]);return e?n=>r(n)&&n.endsWith(e):r},dO=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},hO=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},pO=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",cO={win32:{sep:"\\"},posix:{sep:"/"}};Q.sep=pO==="win32"?cO.win32.sep:cO.posix.sep;Q.minimatch.sep=Q.sep;Q.GLOBSTAR=Symbol("globstar **");Q.minimatch.GLOBSTAR=Q.GLOBSTAR;var tQ="[^/]",rQ=tQ+"*?",nQ="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",iQ="(?:(?!(?:\\/|^)\\.).)*?",sQ=(t,e={})=>r=>(0,Q.minimatch)(r,t,e);Q.filter=sQ;Q.minimatch.filter=Q.filter;var zr=(t,e={})=>Object.assign({},t,e),oQ=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Q.minimatch;let e=Q.minimatch;return Object.assign((n,i,s={})=>e(n,i,zr(t,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,zr(t,s))}static defaults(i){return e.defaults(zr(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,zr(t,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,zr(t,s))}},unescape:(n,i={})=>e.unescape(n,zr(t,i)),escape:(n,i={})=>e.escape(n,zr(t,i)),filter:(n,i={})=>e.filter(n,zr(t,i)),defaults:n=>e.defaults(zr(t,n)),makeRe:(n,i={})=>e.makeRe(n,zr(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,zr(t,i)),match:(n,i,s={})=>e.match(n,i,zr(t,s)),sep:e.sep,GLOBSTAR:Q.GLOBSTAR})};Q.defaults=oQ;Q.minimatch.defaults=Q.defaults;var aQ=(t,e={})=>((0,Yd.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,LZ.default)(t));Q.braceExpand=aQ;Q.minimatch.braceExpand=Q.braceExpand;var lQ=(t,e={})=>new ks(t,e).makeRe();Q.makeRe=lQ;Q.minimatch.makeRe=Q.makeRe;var cQ=(t,e,r={})=>{let n=new ks(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};Q.match=cQ;Q.minimatch.match=Q.match;var uO=/[?*]|[+@!]\(.*?\)|\[|\]/,uQ=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ks=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,Yd.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||pO,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!uO.test(s[2]))&&!uO.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let o=i;for(;n[o+1]==="**";)o++;o>i&&n.splice(i+1,o-i);let a=n[i+1],l=n[i+2],c=n[i+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",e.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let a=n[o];o===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let o=n[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])o.push(a==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])o.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])o.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),i++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let p=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),m=!p&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),y=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),S=!y&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),b=m?3:p?0:void 0,w=S?3:y?0:void 0;if(typeof b=="number"&&typeof w=="number"){let[I,O]=[e[b],r[w]];I.toLowerCase()===O.toLowerCase()&&(r[w]=I,w>b?r=r.slice(w):b>w&&(e=e.slice(b)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],d=e[o];if(this.debug(r,u,d),u===!1)return!1;if(u===Q.GLOBSTAR){this.debug("GLOBSTAR",[r,u,d]);var h=o,f=a+1;if(f===c){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;h<l;){var g=e[h];if(this.debug(`
globstar while`,e,h,r,f,g),this.matchOne(e.slice(h),r.slice(f),n))return this.debug("globstar found match!",h,l,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",e,h,r,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,h,r,f),h===l))}let p;if(typeof u=="string"?(p=d===u,this.debug("string match",u,d,p)):(p=u.test(d),this.debug("pattern match",u,d,p)),!p)return!1}if(o===l&&a===c)return!0;if(o===l)return n;if(a===c)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,Q.braceExpand)(this.pattern,this.options)}parse(e){(0,Yd.assertValidPattern)(e);let r=this.options;if(e==="**")return Q.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(GZ))?i=r.dot?JZ:YZ:(n=e.match(BZ))?i=(r.nocase?r.dot?UZ:qZ:r.dot?$Z:kZ)(n[1]):(n=e.match(KZ))?i=(r.nocase?r.dot?ZZ:XZ:r.dot?QZ:eQ)(n):(n=e.match(WZ))?i=r.dot?zZ:jZ:(n=e.match(HZ))&&(i=VZ);let s=fO.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?rQ:r.dot?nQ:iQ,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let d of u.flags.split(""))i.add(d);return typeof u=="string"?uQ(u):u===Q.GLOBSTAR?Q.GLOBSTAR:u._src});return c.forEach((u,d)=>{let h=c[d+1],f=c[d-1];u!==Q.GLOBSTAR||f===Q.GLOBSTAR||(f===void 0?h!==void 0&&h!==Q.GLOBSTAR?c[d+1]="(?:\\/|"+n+"\\/)?"+h:c[d]=n:h===void 0?c[d-1]=f+"(?:\\/|"+n+")?":h!==Q.GLOBSTAR&&(c[d-1]=f+"(?:\\/|\\/"+n+"\\/)"+h,c[d+1]=Q.GLOBSTAR))}),c.filter(u=>u!==Q.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let l=s[a],c=i;if(n.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Q.minimatch.defaults(e).Minimatch}};Q.Minimatch=ks;var fQ=Lm();Object.defineProperty(Q,"AST",{enumerable:!0,get:function(){return fQ.AST}});var dQ=Mm();Object.defineProperty(Q,"escape",{enumerable:!0,get:function(){return dQ.escape}});var hQ=jd();Object.defineProperty(Q,"unescape",{enumerable:!0,get:function(){return hQ.unescape}});Q.minimatch.AST=fO.AST;Q.minimatch.Minimatch=ks;Q.minimatch.escape=MZ.escape;Q.minimatch.unescape=PZ.unescape});var wO=x(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.LRUCache=void 0;var ga=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,yO=new Set,Pm=typeof process=="object"&&process?process:{},mO=(t,e,r,n)=>{typeof Pm.emitWarning=="function"?Pm.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},Jd=globalThis.AbortController,gO=globalThis.AbortSignal;if(typeof Jd>"u"){gO=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},Jd=class{constructor(){e()}signal=new gO;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=Pm.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,mO("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var pQ=t=>!yO.has(t),Wi=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),bO=t=>Wi(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?ya:null:null,ya=class extends Array{constructor(e){super(e),this.fill(0)}},Fm=class t{heap;length;static#e=!1;static create(e){let r=bO(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Bm=class t{#e;#t;#s;#n;#o;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#f;#a;#l;#i;#y;#m;#h;#d;#x;#g;#v;#T;#w;#E;#S;#p;static unsafeExposeInternals(e){return{starts:e.#T,ttls:e.#w,sizes:e.#v,keyMap:e.#a,keyList:e.#l,valList:e.#i,next:e.#y,prev:e.#m,get head(){return e.#h},get tail(){return e.#d},free:e.#x,isBackgroundFetch:r=>e.#u(r),backgroundFetch:(r,n,i,s)=>e.#k(r,n,i,s),moveToTail:r=>e.#q(r),indexes:r=>e.#A(r),rindexes:r=>e.#C(r),isStale:r=>e.#b(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#f}get size(){return this.#c}get fetchMethod(){return this.#o}get memoMethod(){return this.#_}get dispose(){return this.#s}get disposeAfter(){return this.#n}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:d,noUpdateTTL:h,maxSize:f=0,maxEntrySize:g=0,sizeCalculation:p,fetchMethod:m,memoMethod:y,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:I,ignoreFetchAbort:O}=e;if(r!==0&&!Wi(r))throw new TypeError("max option must be a nonnegative integer");let C=r?bO(r):Array;if(!C)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=f,this.maxEntrySize=g||this.#t,this.sizeCalculation=p,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#_=y,m!==void 0&&typeof m!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=m,this.#S=!!m,this.#a=new Map,this.#l=new Array(r).fill(void 0),this.#i=new Array(r).fill(void 0),this.#y=new C(r),this.#m=new C(r),this.#h=0,this.#d=0,this.#x=Fm.create(r),this.#c=0,this.#f=0,typeof c=="function"&&(this.#s=c),typeof u=="function"?(this.#n=u,this.#g=[]):(this.#n=void 0,this.#g=void 0),this.#E=!!this.#s,this.#p=!!this.#n,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!I,this.ignoreFetchAbort=!!O,this.maxEntrySize!==0){if(this.#t!==0&&!Wi(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Wi(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#N()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Wi(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Wi(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#I()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let B="LRU_CACHE_UNBOUNDED";pQ(B)&&(yO.add(B),mO("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",B,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#I(){let e=new ya(this.#e),r=new ya(this.#e);this.#w=e,this.#T=r,this.#O=(s,o,a=ga.now())=>{if(r[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#b(s)&&this.#D(this.#l[s],"expire")},o+1);l.unref&&l.unref()}},this.#R=s=>{r[s]=e[s]!==0?ga.now():0},this.#r=(s,o)=>{if(e[o]){let a=e[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=n||i();let c=s.now-l;s.remainingTTL=a-c}};let n=0,i=()=>{let s=ga.now();if(this.ttlResolution>0){n=s;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#a.get(s);if(o===void 0)return 0;let a=e[o],l=r[o];if(!a||!l)return 1/0;let c=(n||i())-l;return a-c},this.#b=s=>{let o=r[s],a=e[s];return!!a&&!!o&&(n||i())-o>a}}#R=()=>{};#r=()=>{};#O=()=>{};#b=()=>!1;#N(){let e=new ya(this.#e);this.#f=0,this.#v=e,this.#L=r=>{this.#f-=e[r],e[r]=0},this.#P=(r,n,i,s)=>{if(this.#u(n))return 0;if(!Wi(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!Wi(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#M=(r,n,i)=>{if(e[r]=n,this.#t){let s=this.#t-e[r];for(;this.#f>s;)this.#B(!0)}this.#f+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#f)}}#L=e=>{};#M=(e,r,n)=>{};#P=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#A({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#d;!(!this.#F(r)||((e||!this.#b(r))&&(yield r),r===this.#h));)r=this.#m[r]}*#C({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#h;!(!this.#F(r)||((e||!this.#b(r))&&(yield r),r===this.#d));)r=this.#y[r]}#F(e){return e!==void 0&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#A())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*rentries(){for(let e of this.#C())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*keys(){for(let e of this.#A()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*rkeys(){for(let e of this.#C()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*values(){for(let e of this.#A())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}*rvalues(){for(let e of this.#C())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#A()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.#l[n],this))return this.get(this.#l[n],r)}}forEach(e,r=this){for(let n of this.#A()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}rforEach(e,r=this){for(let n of this.#C()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}purgeStale(){let e=!1;for(let r of this.#C({allowStale:!0}))this.#b(r)&&(this.#D(this.#l[r],"expire"),e=!0);return e}info(e){let r=this.#a.get(e);if(r===void 0)return;let n=this.#i[r],i=this.#u(n)?n.__staleWhileFetching:n;if(i===void 0)return;let s={value:i};if(this.#w&&this.#T){let o=this.#w[r],a=this.#T[r];if(o&&a){let l=o-(ga.now()-a);s.ttl=l,s.start=Date.now()}}return this.#v&&(s.size=this.#v[r]),s}dump(){let e=[];for(let r of this.#A({allowStale:!0})){let n=this.#l[r],i=this.#i[r],s=this.#u(i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;let o={value:s};if(this.#w&&this.#T){o.ttl=this.#w[r];let a=ga.now()-this.#T[r];o.start=Math.floor(Date.now()-a)}this.#v&&(o.size=this.#v[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=ga.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n,{noUpdateTTL:c=this.noUpdateTTL}=n,u=this.#P(e,r,n.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let d=this.#c===0?void 0:this.#a.get(e);if(d===void 0)d=this.#c===0?this.#d:this.#x.length!==0?this.#x.pop():this.#c===this.#e?this.#B(!1):this.#c,this.#l[d]=e,this.#i[d]=r,this.#a.set(e,d),this.#y[this.#d]=d,this.#m[d]=this.#d,this.#d=d,this.#c++,this.#M(d,u,l),l&&(l.set="add"),c=!1;else{this.#q(d);let h=this.#i[d];if(r!==h){if(this.#S&&this.#u(h)){h.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:f}=h;f!==void 0&&!o&&(this.#E&&this.#s?.(f,e,"set"),this.#p&&this.#g?.push([f,e,"set"]))}else o||(this.#E&&this.#s?.(h,e,"set"),this.#p&&this.#g?.push([h,e,"set"]));if(this.#L(d),this.#M(d,u,l),this.#i[d]=r,l){l.set="replace";let f=h&&this.#u(h)?h.__staleWhileFetching:h;f!==void 0&&(l.oldValue=f)}}else l&&(l.set="update")}if(i!==0&&!this.#w&&this.#I(),this.#w&&(c||this.#O(d,i,s),l&&this.#r(l,d)),!o&&this.#p&&this.#g){let h=this.#g,f;for(;f=h?.shift();)this.#n?.(...f)}return this}pop(){try{for(;this.#c;){let e=this.#i[this.#h];if(this.#B(!0),this.#u(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#p&&this.#g){let e=this.#g,r;for(;r=e?.shift();)this.#n?.(...r)}}}#B(e){let r=this.#h,n=this.#l[r],i=this.#i[r];return this.#S&&this.#u(i)?i.__abortController.abort(new Error("evicted")):(this.#E||this.#p)&&(this.#E&&this.#s?.(i,n,"evict"),this.#p&&this.#g?.push([i,n,"evict"])),this.#L(r),e&&(this.#l[r]=void 0,this.#i[r]=void 0,this.#x.push(r)),this.#c===1?(this.#h=this.#d=0,this.#x.length=0):this.#h=this.#y[r],this.#a.delete(n),this.#c--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=this.#a.get(e);if(s!==void 0){let o=this.#i[s];if(this.#u(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(s))i&&(i.has="stale",this.#r(i,s));else return n&&this.#R(s),i&&(i.has="hit",this.#r(i,s)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i===void 0||!n&&this.#b(i))return;let s=this.#i[i];return this.#u(s)?s.__staleWhileFetching:s}#k(e,r,n,i){let s=r===void 0?void 0:this.#i[r];if(this.#u(s))return s;let o=new Jd,{signal:a}=n;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:n,context:i},c=(p,m=!1)=>{let{aborted:y}=o.signal,S=n.ignoreFetchAbort&&p!==void 0;if(n.status&&(y&&!m?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,S&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),y&&!S&&!m)return d(o.signal.reason);let b=f;return this.#i[r]===f&&(p===void 0?b.__staleWhileFetching?this.#i[r]=b.__staleWhileFetching:this.#D(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,p,l.options))),p},u=p=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=p),d(p)),d=p=>{let{aborted:m}=o.signal,y=m&&n.allowStaleOnFetchAbort,S=y||n.allowStaleOnFetchRejection,b=S||n.noDeleteOnFetchRejection,w=f;if(this.#i[r]===f&&(!b||w.__staleWhileFetching===void 0?this.#D(e,"fetch"):y||(this.#i[r]=w.__staleWhileFetching)),S)return n.status&&w.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),w.__staleWhileFetching;if(w.__returned===w)throw p},h=(p,m)=>{let y=this.#o?.(e,s,l);y&&y instanceof Promise&&y.then(S=>p(S===void 0?void 0:S),m),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(p(void 0),n.allowStaleOnFetchAbort&&(p=S=>c(S,!0)))})};n.status&&(n.status.fetchDispatched=!0);let f=new Promise(h).then(c,u),g=Object.assign(f,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,g,{...l.options,status:void 0}),r=this.#a.get(e)):this.#i[r]=g,g}#u(e){if(!this.#S)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Jd}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:p,forceRefresh:m=!1,status:y,signal:S}=r;if(!this.#S)return y&&(y.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:y});let b={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:g,ignoreFetchAbort:f,status:y,signal:S},w=this.#a.get(e);if(w===void 0){y&&(y.fetch="miss");let I=this.#k(e,w,b,p);return I.__returned=I}else{let I=this.#i[w];if(this.#u(I)){let L=n&&I.__staleWhileFetching!==void 0;return y&&(y.fetch="inflight",L&&(y.returnedStale=!0)),L?I.__staleWhileFetching:I.__returned=I}let O=this.#b(w);if(!m&&!O)return y&&(y.fetch="hit"),this.#q(w),i&&this.#R(w),y&&this.#r(y,w),I;let C=this.#k(e,w,b,p),N=C.__staleWhileFetching!==void 0&&n;return y&&(y.fetch=O?"stale":"refresh",N&&O&&(y.returnedStale=!0)),N?C.__staleWhileFetching:C.__returned=C}}async forceFetch(e,r={}){let n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){let n=this.#_;if(!n)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:s,...o}=r,a=this.get(e,o);if(!s&&a!==void 0)return a;let l=n(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#a.get(e);if(a!==void 0){let l=this.#i[a],c=this.#u(l);return o&&this.#r(o,a),this.#b(a)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(this.#q(a),i&&this.#R(a),l))}else o&&(o.get="miss")}#$(e,r){this.#m[r]=e,this.#y[e]=r}#q(e){e!==this.#d&&(e===this.#h?this.#h=this.#y[e]:this.#$(this.#m[e],this.#y[e]),this.#$(this.#d,e),this.#d=e)}delete(e){return this.#D(e,"delete")}#D(e,r){let n=!1;if(this.#c!==0){let i=this.#a.get(e);if(i!==void 0)if(n=!0,this.#c===1)this.#U(r);else{this.#L(i);let s=this.#i[i];if(this.#u(s)?s.__abortController.abort(new Error("deleted")):(this.#E||this.#p)&&(this.#E&&this.#s?.(s,e,r),this.#p&&this.#g?.push([s,e,r])),this.#a.delete(e),this.#l[i]=void 0,this.#i[i]=void 0,i===this.#d)this.#d=this.#m[i];else if(i===this.#h)this.#h=this.#y[i];else{let o=this.#m[i];this.#y[o]=this.#y[i];let a=this.#y[i];this.#m[a]=this.#m[i]}this.#c--,this.#x.push(i)}}if(this.#p&&this.#g?.length){let i=this.#g,s;for(;s=i?.shift();)this.#n?.(...s)}return n}clear(){return this.#U("delete")}#U(e){for(let r of this.#C({allowStale:!0})){let n=this.#i[r];if(this.#u(n))n.__abortController.abort(new Error("deleted"));else{let i=this.#l[r];this.#E&&this.#s?.(n,i,e),this.#p&&this.#g?.push([n,i,e])}}if(this.#a.clear(),this.#i.fill(void 0),this.#l.fill(void 0),this.#w&&this.#T&&(this.#w.fill(0),this.#T.fill(0)),this.#v&&this.#v.fill(0),this.#h=0,this.#d=0,this.#x.length=0,this.#f=0,this.#c=0,this.#p&&this.#g){let r=this.#g,n;for(;n=r?.shift();)this.#n?.(...n)}}};Kd.LRUCache=Bm});var NO=x(IO=>{"use strict";var _O=typeof process=="object"&&process?process:{stdout:null,stderr:null},gQ=require("events"),EO=require("stream"),yQ=require("string_decoder"),SO=yQ.StringDecoder,oi=Symbol("EOF"),ai=Symbol("maybeEmitEnd"),ji=Symbol("emittedEnd"),Xd=Symbol("emittingEnd"),vc=Symbol("emittedError"),Zd=Symbol("closed"),xO=Symbol("read"),Qd=Symbol("flush"),vO=Symbol("flushChunk"),Nr=Symbol("encoding"),li=Symbol("decoder"),eh=Symbol("flowing"),Tc=Symbol("paused"),ma=Symbol("resume"),vt=Symbol("buffer"),Rn=Symbol("pipes"),Vt=Symbol("bufferLength"),km=Symbol("bufferPush"),$m=Symbol("bufferShift"),er=Symbol("objectMode"),Tt=Symbol("destroyed"),qm=Symbol("error"),Um=Symbol("emitData"),TO=Symbol("emitEnd"),Wm=Symbol("emitEnd2"),ci=Symbol("async"),jm=Symbol("abort"),th=Symbol("aborted"),$s=Symbol("signal"),Rc=t=>Promise.resolve().then(t),CO=global._MP_NO_ITERATOR_SYMBOLS_!=="1",RO=CO&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),AO=CO&&Symbol.iterator||Symbol("iterator not implemented"),mQ=t=>t==="end"||t==="finish"||t==="prefinish",bQ=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,wQ=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),rh=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[ma](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},zm=class extends rh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},Hm=class t extends EO{constructor(e){super(),this[eh]=!1,this[Tc]=!1,this[Rn]=[],this[vt]=[],this[er]=e&&e.objectMode||!1,this[er]?this[Nr]=null:this[Nr]=e&&e.encoding||null,this[Nr]==="buffer"&&(this[Nr]=null),this[ci]=e&&!!e.async||!1,this[li]=this[Nr]?new SO(this[Nr]):null,this[oi]=!1,this[ji]=!1,this[Xd]=!1,this[Zd]=!1,this[vc]=null,this.writable=!0,this.readable=!0,this[Vt]=0,this[Tt]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[vt]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Rn]}),this[$s]=e&&e.signal,this[th]=!1,this[$s]&&(this[$s].addEventListener("abort",()=>this[jm]()),this[$s].aborted&&this[jm]())}get bufferLength(){return this[Vt]}get encoding(){return this[Nr]}set encoding(e){if(this[er])throw new Error("cannot set encoding in objectMode");if(this[Nr]&&e!==this[Nr]&&(this[li]&&this[li].lastNeed||this[Vt]))throw new Error("cannot change encoding");this[Nr]!==e&&(this[li]=e?new SO(e):null,this[vt].length&&(this[vt]=this[vt].map(r=>this[li].write(r)))),this[Nr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[er]}set objectMode(e){this[er]=this[er]||!!e}get async(){return this[ci]}set async(e){this[ci]=this[ci]||!!e}[jm](){this[th]=!0,this.emit("abort",this[$s].reason),this.destroy(this[$s].reason)}get aborted(){return this[th]}set aborted(e){}write(e,r,n){if(this[th])return!1;if(this[oi])throw new Error("write after end");if(this[Tt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[ci]?Rc:s=>s();return!this[er]&&!Buffer.isBuffer(e)&&(wQ(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):bQ(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[er]?(this.flowing&&this[Vt]!==0&&this[Qd](!0),this.flowing?this.emit("data",e):this[km](e),this[Vt]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Nr]&&!this[li].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Nr]&&(e=this[li].write(e)),this.flowing&&this[Vt]!==0&&this[Qd](!0),this.flowing?this.emit("data",e):this[km](e),this[Vt]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[Vt]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Tt])return null;if(this[Vt]===0||e===0||e>this[Vt])return this[ai](),null;this[er]&&(e=null),this[vt].length>1&&!this[er]&&(this.encoding?this[vt]=[this[vt].join("")]:this[vt]=[Buffer.concat(this[vt],this[Vt])]);let r=this[xO](e||null,this[vt][0]);return this[ai](),r}[xO](e,r){return e===r.length||e===null?this[$m]():(this[vt][0]=r.slice(e),r=r.slice(0,e),this[Vt]-=e),this.emit("data",r),!this[vt].length&&!this[oi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[oi]=!0,this.writable=!1,(this.flowing||!this[Tc])&&this[ai](),this}[ma](){this[Tt]||(this[Tc]=!1,this[eh]=!0,this.emit("resume"),this[vt].length?this[Qd]():this[oi]?this[ai]():this.emit("drain"))}resume(){return this[ma]()}pause(){this[eh]=!1,this[Tc]=!0}get destroyed(){return this[Tt]}get flowing(){return this[eh]}get paused(){return this[Tc]}[km](e){this[er]?this[Vt]+=1:this[Vt]+=e.length,this[vt].push(e)}[$m](){return this[er]?this[Vt]-=1:this[Vt]-=this[vt][0].length,this[vt].shift()}[Qd](e){do;while(this[vO](this[$m]())&&this[vt].length);!e&&!this[vt].length&&!this[oi]&&this.emit("drain")}[vO](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[Tt])return;let n=this[ji];return r=r||{},e===_O.stdout||e===_O.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Rn].push(r.proxyErrors?new zm(this,e,r):new rh(this,e,r)),this[ci]?Rc(()=>this[ma]()):this[ma]()),e}unpipe(e){let r=this[Rn].find(n=>n.dest===e);r&&(this[Rn].splice(this[Rn].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[Rn].length&&!this.flowing?this[ma]():e==="readable"&&this[Vt]!==0?super.emit("readable"):mQ(e)&&this[ji]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[vc]&&(this[ci]?Rc(()=>r.call(this,this[vc])):r.call(this,this[vc])),n}get emittedEnd(){return this[ji]}[ai](){!this[Xd]&&!this[ji]&&!this[Tt]&&this[vt].length===0&&this[oi]&&(this[Xd]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Zd]&&this.emit("close"),this[Xd]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Tt&&this[Tt])return;if(e==="data")return!this[er]&&!r?!1:this[ci]?Rc(()=>this[Um](r)):this[Um](r);if(e==="end")return this[TO]();if(e==="close"){if(this[Zd]=!0,!this[ji]&&!this[Tt])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[vc]=r,super.emit(qm,r);let s=!this[$s]||this.listeners("error").length?super.emit("error",r):!1;return this[ai](),s}else if(e==="resume"){let s=super.emit("resume");return this[ai](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[ai](),i}[Um](e){for(let n of this[Rn])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[ai](),r}[TO](){this[ji]||(this[ji]=!0,this.readable=!1,this[ci]?Rc(()=>this[Wm]()):this[Wm]())}[Wm](){if(this[li]){let r=this[li].end();if(r){for(let n of this[Rn])n.dest.write(r);super.emit("data",r)}}for(let r of this[Rn])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[er]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[er]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[er]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[er]?Promise.reject(new Error("cannot concat in objectMode")):this[Nr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Tt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[RO](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[oi])return r();let s=null,o=null,a=d=>{this.removeListener("data",l),this.removeListener("end",c),this.removeListener(Tt,u),r(),o(d)},l=d=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(Tt,u),this.pause(),s({value:d,done:!!this[oi]})},c=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(Tt,u),r(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,h)=>{o=h,s=d,this.once(Tt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[RO](){return this}}}[AO](){let e=!1,r=()=>(this.pause(),this.removeListener(qm,r),this.removeListener(Tt,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(qm,r),this.once(Tt,r),{next:n,throw:r,return:r,[AO](){return this}}}destroy(e){return this[Tt]?(e?this.emit("error",e):this.emit(Tt),this):(this[Tt]=!0,this[vt].length=0,this[Vt]=0,typeof this.close=="function"&&!this[Zd]&&this.close(),e?this.emit("error",e):this.emit(Tt),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof EO||e instanceof gQ&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};IO.Minipass=Hm});var HO=x(je=>{"use strict";var _Q=je&&je.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),EQ=je&&je.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),SQ=je&&je.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_Q(e,t,r);return EQ(e,t),e};Object.defineProperty(je,"__esModule",{value:!0});je.PathScurry=je.Path=je.PathScurryDarwin=je.PathScurryPosix=je.PathScurryWin32=je.PathScurryBase=je.PathPosix=je.PathWin32=je.PathBase=je.ChildrenCache=je.ResolveCache=void 0;var FO=wO(),ah=require("node:path"),xQ=require("node:url"),Cc=require("fs"),vQ=SQ(require("node:fs")),TQ=Cc.realpathSync.native,nh=require("node:fs/promises"),DO=NO(),Ic={lstatSync:Cc.lstatSync,readdir:Cc.readdir,readdirSync:Cc.readdirSync,readlinkSync:Cc.readlinkSync,realpathSync:TQ,promises:{lstat:nh.lstat,readdir:nh.readdir,readlink:nh.readlink,realpath:nh.realpath}},BO=t=>!t||t===Ic||t===vQ?Ic:{...Ic,...t,promises:{...Ic.promises,...t.promises||{}}},kO=/^\\\\\?\\([a-z]:)\\?$/i,RQ=t=>t.replace(/\//g,"\\").replace(kO,"$1\\"),AQ=/[\\\/]/,Vr=0,$O=1,qO=2,An=4,UO=6,WO=8,qs=10,jO=12,Hr=15,Ac=~Hr,Vm=16,OO=32,Nc=64,an=128,ih=256,oh=512,LO=Nc|an|oh,CQ=1023,Gm=t=>t.isFile()?WO:t.isDirectory()?An:t.isSymbolicLink()?qs:t.isCharacterDevice()?qO:t.isBlockDevice()?UO:t.isSocket()?jO:t.isFIFO()?$O:Vr,MO=new Map,Dc=t=>{let e=MO.get(t);if(e)return e;let r=t.normalize("NFKD");return MO.set(t,r),r},PO=new Map,sh=t=>{let e=PO.get(t);if(e)return e;let r=Dc(t.toLowerCase());return PO.set(t,r),r},Oc=class extends FO.LRUCache{constructor(){super({max:256})}};je.ResolveCache=Oc;var lh=class extends FO.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}};je.ChildrenCache=lh;var zO=Symbol("PathScurry setAsCwd"),tr=class{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#s;get mode(){return this.#s}#n;get nlink(){return this.#n}#o;get uid(){return this.#o}#_;get gid(){return this.#_}#c;get rdev(){return this.#c}#f;get blksize(){return this.#f}#a;get ino(){return this.#a}#l;get size(){return this.#l}#i;get blocks(){return this.#i}#y;get atimeMs(){return this.#y}#m;get mtimeMs(){return this.#m}#h;get ctimeMs(){return this.#h}#d;get birthtimeMs(){return this.#d}#x;get atime(){return this.#x}#g;get mtime(){return this.#g}#v;get ctime(){return this.#v}#T;get birthtime(){return this.#T}#w;#E;#S;#p;#I;#R;#r;#O;#b;#N;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=Vr,n,i,s,o,a){this.name=e,this.#w=s?sh(e):Dc(e),this.#r=r&CQ,this.nocase=s,this.roots=i,this.root=n||this,this.#O=o,this.#S=a.fullpath,this.#I=a.relative,this.#R=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=BO(a.fs)}depth(){return this.#E!==void 0?this.#E:this.parent?this.#E=this.parent.depth()+1:this.#E=0}childrenCache(){return this.#O}resolve(e){if(!e)return this;let r=this.getRootString(e),i=e.substring(r.length).split(this.splitSep);return r?this.getRoot(r).#L(i):this.#L(i)}#L(e){let r=this;for(let n of e)r=r.child(n);return r}children(){let e=this.#O.get(this);if(e)return e;let r=Object.assign([],{provisional:0});return this.#O.set(this,r),this.#r&=~Vm,r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let n=this.children(),i=this.nocase?sh(e):Dc(e);for(let l of n)if(l.#w===i)return l;let s=this.parent?this.sep:"",o=this.#S?this.#S+s+e:void 0,a=this.newChild(e,Vr,{...r,parent:this,fullpath:o});return this.canReaddir()||(a.#r|=an),n.push(a),a}relative(){if(this.isCWD)return"";if(this.#I!==void 0)return this.#I;let e=this.name,r=this.parent;if(!r)return this.#I=this.name;let n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#R!==void 0)return this.#R;let e=this.name,r=this.parent;if(!r)return this.#R=this.fullpathPosix();let n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#S!==void 0)return this.#S;let e=this.name,r=this.parent;if(!r)return this.#S=this.name;let i=r.fullpath()+(r.parent?this.sep:"")+e;return this.#S=i}fullpathPosix(){if(this.#p!==void 0)return this.#p;if(this.sep==="/")return this.#p=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#p=`//?/${i}`:this.#p=i}let e=this.parent,r=e.fullpathPosix(),n=r+(!r||!e.parent?"":"/")+this.name;return this.#p=n}isUnknown(){return(this.#r&Hr)===Vr}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&Hr)===WO}isDirectory(){return(this.#r&Hr)===An}isCharacterDevice(){return(this.#r&Hr)===qO}isBlockDevice(){return(this.#r&Hr)===UO}isFIFO(){return(this.#r&Hr)===$O}isSocket(){return(this.#r&Hr)===jO}isSymbolicLink(){return(this.#r&qs)===qs}lstatCached(){return this.#r&OO?this:void 0}readlinkCached(){return this.#b}realpathCached(){return this.#N}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#b)return!0;if(!this.parent)return!1;let e=this.#r&Hr;return!(e!==Vr&&e!==qs||this.#r&ih||this.#r&an)}calledReaddir(){return!!(this.#r&Vm)}isENOENT(){return!!(this.#r&an)}isNamed(e){return this.nocase?this.#w===sh(e):this.#w===Dc(e)}async readlink(){let e=this.#b;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=await this.#e.promises.readlink(this.fullpath()),n=(await this.parent.realpath())?.resolve(r);if(n)return this.#b=n}catch(r){this.#u(r.code);return}}readlinkSync(){let e=this.#b;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=this.#e.readlinkSync(this.fullpath()),n=this.parent.realpathSync()?.resolve(r);if(n)return this.#b=n}catch(r){this.#u(r.code);return}}#M(e){this.#r|=Vm;for(let r=e.provisional;r<e.length;r++){let n=e[r];n&&n.#P()}}#P(){this.#r&an||(this.#r=(this.#r|an)&Ac,this.#A())}#A(){let e=this.children();e.provisional=0;for(let r of e)r.#P()}#C(){this.#r|=oh,this.#F()}#F(){if(this.#r&Nc)return;let e=this.#r;(e&Hr)===An&&(e&=Ac),this.#r=e|Nc,this.#A()}#B(e=""){e==="ENOTDIR"||e==="EPERM"?this.#F():e==="ENOENT"?this.#P():this.children().provisional=0}#k(e=""){e==="ENOTDIR"?this.parent.#F():e==="ENOENT"&&this.#P()}#u(e=""){let r=this.#r;r|=ih,e==="ENOENT"&&(r|=an),(e==="EINVAL"||e==="UNKNOWN")&&(r&=Ac),this.#r=r,e==="ENOTDIR"&&this.parent&&this.parent.#F()}#$(e,r){return this.#D(e,r)||this.#q(e,r)}#q(e,r){let n=Gm(e),i=this.newChild(e.name,n,{parent:this}),s=i.#r&Hr;return s!==An&&s!==qs&&s!==Vr&&(i.#r|=Nc),r.unshift(i),r.provisional++,i}#D(e,r){for(let n=r.provisional;n<r.length;n++){let i=r[n];if((this.nocase?sh(e.name):Dc(e.name))===i.#w)return this.#U(e,i,n,r)}}#U(e,r,n,i){let s=r.name;return r.#r=r.#r&Ac|Gm(e),s!==e.name&&(r.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(r)),i.provisional++,r}async lstat(){if((this.#r&an)===0)try{return this.#H(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#k(e.code)}}lstatSync(){if((this.#r&an)===0)try{return this.#H(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#k(e.code)}}#H(e){let{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:d,ino:h,mode:f,mtime:g,mtimeMs:p,nlink:m,rdev:y,size:S,uid:b}=e;this.#x=r,this.#y=n,this.#T=i,this.#d=s,this.#f=o,this.#i=a,this.#v=l,this.#h=c,this.#t=u,this.#_=d,this.#a=h,this.#s=f,this.#g=g,this.#m=p,this.#n=m,this.#c=y,this.#l=S,this.#o=b;let w=Gm(e);this.#r=this.#r&Ac|w|OO,w!==Vr&&w!==An&&w!==qs&&(this.#r|=Nc)}#j=[];#z=!1;#V(e){this.#z=!1;let r=this.#j.slice();this.#j.length=0,r.forEach(n=>n(null,e))}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}let n=this.children();if(this.calledReaddir()){let s=n.slice(0,n.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(this.#j.push(e),this.#z)return;this.#z=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(s,o)=>{if(s)this.#B(s.code),n.provisional=0;else{for(let a of o)this.#$(a,n);this.#M(n)}this.#V(n.slice(0,n.provisional))})}#W;async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();if(this.#W)await this.#W;else{let n=()=>{};this.#W=new Promise(i=>n=i);try{for(let i of await this.#e.promises.readdir(r,{withFileTypes:!0}))this.#$(i,e);this.#M(e)}catch(i){this.#B(i.code),e.provisional=0}this.#W=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();try{for(let n of this.#e.readdirSync(r,{withFileTypes:!0}))this.#$(n,e);this.#M(e)}catch(n){this.#B(n.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#r&LO)return!1;let e=Hr&this.#r;return e===Vr||e===An||e===qs}shouldWalk(e,r){return(this.#r&An)===An&&!(this.#r&LO)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#N)return this.#N;if(!((oh|ih|an)&this.#r))try{let e=await this.#e.promises.realpath(this.fullpath());return this.#N=this.resolve(e)}catch{this.#C()}}realpathSync(){if(this.#N)return this.#N;if(!((oh|ih|an)&this.#r))try{let e=this.#e.realpathSync(this.fullpath());return this.#N=this.resolve(e)}catch{this.#C()}}[zO](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;let r=new Set([]),n=[],i=this;for(;i&&i.parent;)r.add(i),i.#I=n.join(this.sep),i.#R=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!r.has(i);)i.#I=void 0,i.#R=void 0,i=i.parent}};je.PathBase=tr;var Lc=class t extends tr{sep="\\";splitSep=AQ;constructor(e,r=Vr,n,i,s,o,a){super(e,r,n,i,s,o,a)}newChild(e,r=Vr,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return ah.win32.parse(e).root}getRoot(e){if(e=RQ(e.toUpperCase()),e===this.root.name)return this.root;for(let[r,n]of Object.entries(this.roots))if(this.sameRoot(e,r))return this.roots[e]=n;return this.roots[e]=new Fc(e,this).root}sameRoot(e,r=this.root.name){return e=e.toUpperCase().replace(/\//g,"\\").replace(kO,"$1\\"),e===r}};je.PathWin32=Lc;var Mc=class t extends tr{splitSep="/";sep="/";constructor(e,r=Vr,n,i,s,o,a){super(e,r,n,i,s,o,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=Vr,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};je.PathPosix=Mc;var Pc=class{root;rootPath;roots;cwd;#e;#t;#s;nocase;#n;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=Ic}={}){this.#n=BO(o),(e instanceof URL||e.startsWith("file://"))&&(e=(0,xQ.fileURLToPath)(e));let a=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new Oc,this.#t=new Oc,this.#s=new lh(s);let l=a.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#n),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,d=r.sep,h=this.rootPath,f=!1;for(let g of l){let p=u--;c=c.child(g,{relative:new Array(p).fill("..").join(d),relativePosix:new Array(p).fill("..").join("/"),fullpath:h+=(f?"":d)+g}),f=!0}this.cwd=c}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#s}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#e.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpath();return this.#e.set(r,i),i}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#t.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpathPosix();return this.#t.set(r,i),i}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n}=r;if(e.canReaddir()){let i=await e.readdir();return n?i:i.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0}=r;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map(i=>i.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e.withFileTypes,e=this.cwd);let n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e.withFileTypes,e=this.cwd);let n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e.withFileTypes,e=this.cwd);let n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e.withFileTypes,e=this.cwd);let n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set,c=(d,h)=>{l.add(d),d.readdirCB((f,g)=>{if(f)return h(f);let p=g.length;if(!p)return h();let m=()=>{--p===0&&h()};for(let y of g)(!s||s(y))&&a.push(n?y:y.fullpath()),i&&y.isSymbolicLink()?y.realpath().then(S=>S?.isUnknown()?S.lstat():S).then(S=>S?.shouldWalk(l,o)?c(S,m):m()):y.shouldWalk(l,o)?c(y,m):m()},!0)},u=e;return new Promise((d,h)=>{c(u,f=>{if(f)return h(f);d(a)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set([e]);for(let c of l){let u=c.readdirSync();for(let d of u){(!s||s(d))&&a.push(n?d:d.fullpath());let h=d;if(d.isSymbolicLink()){if(!(i&&(h=d.realpathSync())))continue;h.isUnknown()&&h.lstatSync()}h.shouldWalk(l,o)&&l.add(h)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r;(!s||s(e))&&(yield n?e:e.fullpath());let a=new Set([e]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield n?u:u.fullpath());let d=u;if(u.isSymbolicLink()){if(!(i&&(d=u.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(a,o)&&a.add(d)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new DO.Minipass({objectMode:!0});(!s||s(e))&&a.write(n?e:e.fullpath());let l=new Set,c=[e],u=0,d=()=>{let h=!1;for(;!h;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let g=(m,y,S=!1)=>{if(m)return a.emit("error",m);if(i&&!S){let b=[];for(let w of y)w.isSymbolicLink()&&b.push(w.realpath().then(I=>I?.isUnknown()?I.lstat():I));if(b.length){Promise.all(b).then(()=>g(null,y,!0));return}}for(let b of y)b&&(!s||s(b))&&(a.write(n?b:b.fullpath())||(h=!0));u--;for(let b of y){let w=b.realpathCached()||b;w.shouldWalk(l,o)&&c.push(w)}h&&!a.flowing?a.once("drain",d):p||d()},p=!0;f.readdirCB(g,!0),p=!1}};return d(),a}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof tr||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new DO.Minipass({objectMode:!0}),l=new Set;(!s||s(e))&&a.write(n?e:e.fullpath());let c=[e],u=0,d=()=>{let h=!1;for(;!h;){let f=c.shift();if(!f){u===0&&a.end();return}u++,l.add(f);let g=f.readdirSync();for(let p of g)(!s||s(p))&&(a.write(n?p:p.fullpath())||(h=!0));u--;for(let p of g){let m=p;if(p.isSymbolicLink()){if(!(i&&(m=p.realpathSync())))continue;m.isUnknown()&&m.lstatSync()}m.shouldWalk(l,o)&&c.push(m)}}h&&!a.flowing&&a.once("drain",d)};return d(),a}chdir(e=this.cwd){let r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[zO](r)}};je.PathScurryBase=Pc;var Fc=class extends Pc{sep="\\";constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,ah.win32,"\\",{...r,nocase:n}),this.nocase=n;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(e){return ah.win32.parse(e).root.toUpperCase()}newRoot(e){return new Lc(this.rootPath,An,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}};je.PathScurryWin32=Fc;var Bc=class extends Pc{sep="/";constructor(e=process.cwd(),r={}){let{nocase:n=!1}=r;super(e,ah.posix,"/",{...r,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new Mc(this.rootPath,An,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}};je.PathScurryPosix=Bc;var ch=class extends Bc{constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,{...r,nocase:n})}};je.PathScurryDarwin=ch;je.Path=process.platform==="win32"?Lc:Mc;je.PathScurry=process.platform==="win32"?Fc:process.platform==="darwin"?ch:Bc});var Jm=x(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.Pattern=void 0;var IQ=Ui(),NQ=t=>t.length>=1,DQ=t=>t.length>=1,Ym=class t{#e;#t;#s;length;#n;#o;#_;#c;#f;#a;#l=!0;constructor(e,r,n,i){if(!NQ(e))throw new TypeError("empty pattern list");if(!DQ(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=r,this.#s=n,this.#n=i,this.#s===0){if(this.isUNC()){let[s,o,a,l,...c]=this.#e,[u,d,h,f,...g]=this.#t;c[0]===""&&(c.shift(),g.shift());let p=[s,o,a,l,""].join("/"),m=[u,d,h,f,""].join("/");this.#e=[p,...c],this.#t=[m,...g],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...l]=this.#t;o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";this.#e=[c,...o],this.#t=[u,...l],this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]=="string"}isGlobstar(){return this.#e[this.#s]===IQ.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#_=this.#_||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new t(this.#e,this.#t,this.#s+1,this.#n),this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o.#c=this.#c,this.#o):this.#o=null}isUNC(){let e=this.#e;return this.#f!==void 0?this.#f:this.#f=this.#n==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3]}isDrive(){let e=this.#e;return this.#c!==void 0?this.#c:this.#c=this.#n==="win32"&&this.#s===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){let e=this.#e;return this.#a!==void 0?this.#a:this.#a=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){let e=this.#e[0];return typeof e=="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#l?!1:(this.#l=!1,!0)}};uh.Pattern=Ym});var XO=x(xr=>{"use strict";var OQ=xr&&xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xr,"__esModule",{value:!0});xr.Minipass=xr.isWritable=xr.isReadable=xr.isStream=void 0;var VO=typeof process=="object"&&process?process:{stdout:null,stderr:null},rb=require("node:events"),KO=OQ(require("node:stream")),LQ=require("node:string_decoder"),MQ=t=>!!t&&typeof t=="object"&&(t instanceof mh||t instanceof KO.default||(0,xr.isReadable)(t)||(0,xr.isWritable)(t));xr.isStream=MQ;var PQ=t=>!!t&&typeof t=="object"&&t instanceof rb.EventEmitter&&typeof t.pipe=="function"&&t.pipe!==KO.default.Writable.prototype.pipe;xr.isReadable=PQ;var FQ=t=>!!t&&typeof t=="object"&&t instanceof rb.EventEmitter&&typeof t.write=="function"&&typeof t.end=="function";xr.isWritable=FQ;var ui=Symbol("EOF"),fi=Symbol("maybeEmitEnd"),zi=Symbol("emittedEnd"),fh=Symbol("emittingEnd"),kc=Symbol("emittedError"),dh=Symbol("closed"),GO=Symbol("read"),hh=Symbol("flush"),YO=Symbol("flushChunk"),ln=Symbol("encoding"),ba=Symbol("decoder"),Gt=Symbol("flowing"),$c=Symbol("paused"),wa=Symbol("resume"),Yt=Symbol("buffer"),Sr=Symbol("pipes"),Jt=Symbol("bufferLength"),Km=Symbol("bufferPush"),ph=Symbol("bufferShift"),fr=Symbol("objectMode"),Rt=Symbol("destroyed"),Xm=Symbol("error"),Zm=Symbol("emitData"),JO=Symbol("emitEnd"),Qm=Symbol("emitEnd2"),Cn=Symbol("async"),eb=Symbol("abort"),gh=Symbol("aborted"),qc=Symbol("signal"),Us=Symbol("dataListeners"),Lr=Symbol("discarded"),Uc=t=>Promise.resolve().then(t),BQ=t=>t(),kQ=t=>t==="end"||t==="finish"||t==="prefinish",$Q=t=>t instanceof ArrayBuffer||!!t&&typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,qQ=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),yh=class{src;dest;opts;ondrain;constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[wa](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},tb=class extends yh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},UQ=t=>!!t.objectMode,WQ=t=>!t.objectMode&&!!t.encoding&&t.encoding!=="buffer",mh=class extends rb.EventEmitter{[Gt]=!1;[$c]=!1;[Sr]=[];[Yt]=[];[fr];[ln];[Cn];[ba];[ui]=!1;[zi]=!1;[fh]=!1;[dh]=!1;[kc]=null;[Jt]=0;[Rt]=!1;[qc];[gh]=!1;[Us]=0;[Lr]=!1;writable=!0;readable=!0;constructor(...e){let r=e[0]||{};if(super(),r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");UQ(r)?(this[fr]=!0,this[ln]=null):WQ(r)?(this[ln]=r.encoding,this[fr]=!1):(this[fr]=!1,this[ln]=null),this[Cn]=!!r.async,this[ba]=this[ln]?new LQ.StringDecoder(this[ln]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Yt]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Sr]});let{signal:n}=r;n&&(this[qc]=n,n.aborted?this[eb]():n.addEventListener("abort",()=>this[eb]()))}get bufferLength(){return this[Jt]}get encoding(){return this[ln]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[fr]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Cn]}set async(e){this[Cn]=this[Cn]||!!e}[eb](){this[gh]=!0,this.emit("abort",this[qc]?.reason),this.destroy(this[qc]?.reason)}get aborted(){return this[gh]}set aborted(e){}write(e,r,n){if(this[gh])return!1;if(this[ui])throw new Error("write after end");if(this[Rt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Cn]?Uc:BQ;if(!this[fr]&&!Buffer.isBuffer(e)){if(qQ(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if($Q(e))e=Buffer.from(e);else if(typeof e!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[fr]?(this[Gt]&&this[Jt]!==0&&this[hh](!0),this[Gt]?this.emit("data",e):this[Km](e),this[Jt]!==0&&this.emit("readable"),n&&i(n),this[Gt]):e.length?(typeof e=="string"&&!(r===this[ln]&&!this[ba]?.lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[ln]&&(e=this[ba].write(e)),this[Gt]&&this[Jt]!==0&&this[hh](!0),this[Gt]?this.emit("data",e):this[Km](e),this[Jt]!==0&&this.emit("readable"),n&&i(n),this[Gt]):(this[Jt]!==0&&this.emit("readable"),n&&i(n),this[Gt])}read(e){if(this[Rt])return null;if(this[Lr]=!1,this[Jt]===0||e===0||e&&e>this[Jt])return this[fi](),null;this[fr]&&(e=null),this[Yt].length>1&&!this[fr]&&(this[Yt]=[this[ln]?this[Yt].join(""):Buffer.concat(this[Yt],this[Jt])]);let r=this[GO](e||null,this[Yt][0]);return this[fi](),r}[GO](e,r){if(this[fr])this[ph]();else{let n=r;e===n.length||e===null?this[ph]():typeof n=="string"?(this[Yt][0]=n.slice(e),r=n.slice(0,e),this[Jt]-=e):(this[Yt][0]=n.subarray(e),r=n.subarray(0,e),this[Jt]-=e)}return this.emit("data",r),!this[Yt].length&&!this[ui]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r="utf8"),e!==void 0&&this.write(e,r),n&&this.once("end",n),this[ui]=!0,this.writable=!1,(this[Gt]||!this[$c])&&this[fi](),this}[wa](){this[Rt]||(!this[Us]&&!this[Sr].length&&(this[Lr]=!0),this[$c]=!1,this[Gt]=!0,this.emit("resume"),this[Yt].length?this[hh]():this[ui]?this[fi]():this.emit("drain"))}resume(){return this[wa]()}pause(){this[Gt]=!1,this[$c]=!0,this[Lr]=!1}get destroyed(){return this[Rt]}get flowing(){return this[Gt]}get paused(){return this[$c]}[Km](e){this[fr]?this[Jt]+=1:this[Jt]+=e.length,this[Yt].push(e)}[ph](){return this[fr]?this[Jt]-=1:this[Jt]-=this[Yt][0].length,this[Yt].shift()}[hh](e=!1){do;while(this[YO](this[ph]())&&this[Yt].length);!e&&!this[Yt].length&&!this[ui]&&this.emit("drain")}[YO](e){return this.emit("data",e),this[Gt]}pipe(e,r){if(this[Rt])return e;this[Lr]=!1;let n=this[zi];return r=r||{},e===VO.stdout||e===VO.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Sr].push(r.proxyErrors?new tb(this,e,r):new yh(this,e,r)),this[Cn]?Uc(()=>this[wa]()):this[wa]()),e}unpipe(e){let r=this[Sr].find(n=>n.dest===e);r&&(this[Sr].length===1?(this[Gt]&&this[Us]===0&&(this[Gt]=!1),this[Sr]=[]):this[Sr].splice(this[Sr].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);if(e==="data")this[Lr]=!1,this[Us]++,!this[Sr].length&&!this[Gt]&&this[wa]();else if(e==="readable"&&this[Jt]!==0)super.emit("readable");else if(kQ(e)&&this[zi])super.emit(e),this.removeAllListeners(e);else if(e==="error"&&this[kc]){let i=r;this[Cn]?Uc(()=>i.call(this,this[kc])):i.call(this,this[kc])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){let n=super.off(e,r);return e==="data"&&(this[Us]=this.listeners("data").length,this[Us]===0&&!this[Lr]&&!this[Sr].length&&(this[Gt]=!1)),n}removeAllListeners(e){let r=super.removeAllListeners(e);return(e==="data"||e===void 0)&&(this[Us]=0,!this[Lr]&&!this[Sr].length&&(this[Gt]=!1)),r}get emittedEnd(){return this[zi]}[fi](){!this[fh]&&!this[zi]&&!this[Rt]&&this[Yt].length===0&&this[ui]&&(this[fh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[dh]&&this.emit("close"),this[fh]=!1)}emit(e,...r){let n=r[0];if(e!=="error"&&e!=="close"&&e!==Rt&&this[Rt])return!1;if(e==="data")return!this[fr]&&!n?!1:this[Cn]?(Uc(()=>this[Zm](n)),!0):this[Zm](n);if(e==="end")return this[JO]();if(e==="close"){if(this[dh]=!0,!this[zi]&&!this[Rt])return!1;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[kc]=n,super.emit(Xm,n);let s=!this[qc]||this.listeners("error").length?super.emit("error",n):!1;return this[fi](),s}else if(e==="resume"){let s=super.emit("resume");return this[fi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,...r);return this[fi](),i}[Zm](e){for(let n of this[Sr])n.dest.write(e)===!1&&this.pause();let r=this[Lr]?!1:super.emit("data",e);return this[fi](),r}[JO](){return this[zi]?!1:(this[zi]=!0,this.readable=!1,this[Cn]?(Uc(()=>this[Qm]()),!0):this[Qm]())}[Qm](){if(this[ba]){let r=this[ba].end();if(r){for(let n of this[Sr])n.dest.write(r);this[Lr]||super.emit("data",r)}}for(let r of this[Sr])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){let e=Object.assign([],{dataLength:0});this[fr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[fr]||(e.dataLength+=n.length)}),await r,e}async concat(){if(this[fr])throw new Error("cannot concat in objectMode");let e=await this.collect();return this[ln]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise((e,r)=>{this.on(Rt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[Symbol.asyncIterator](){this[Lr]=!1;let e=!1,r=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ui])return r();let s,o,a=d=>{this.off("data",l),this.off("end",c),this.off(Rt,u),r(),o(d)},l=d=>{this.off("error",a),this.off("end",c),this.off(Rt,u),this.pause(),s({value:d,done:!!this[ui]})},c=()=>{this.off("error",a),this.off("data",l),this.off(Rt,u),r(),s({done:!0,value:void 0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,h)=>{o=h,s=d,this.once(Rt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Lr]=!1;let e=!1,r=()=>(this.pause(),this.off(Xm,r),this.off(Rt,r),this.off("end",r),e=!0,{done:!0,value:void 0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{done:!1,value:i}};return this.once("end",r),this.once(Xm,r),this.once(Rt,r),{next:n,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(e){if(this[Rt])return e?this.emit("error",e):this.emit(Rt),this;this[Rt]=!0,this[Lr]=!0,this[Yt].length=0,this[Jt]=0;let r=this;return typeof r.close=="function"&&!this[dh]&&r.close(),e?this.emit("error",e):this.emit(Rt),this}static get isStream(){return xr.isStream}};xr.Minipass=mh});var ib=x(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.Ignore=void 0;var ZO=Ui(),jQ=Jm(),zQ=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",nb=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:o=zQ}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of e)this.add(a)}add(e){let r=new ZO.Minimatch(e,this.mmopts);for(let n=0;n<r.set.length;n++){let i=r.set[n],s=r.globParts[n];if(!i||!s)throw new Error("invalid pattern object");for(;i[0]==="."&&s[0]===".";)i.shift(),s.shift();let o=new jQ.Pattern(i,s,0,this.platform),a=new ZO.Minimatch(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){let r=e.fullpath(),n=`${r}/`,i=e.relative()||".",s=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(n))return!0;return!1}childrenIgnored(e){let r=e.fullpath()+"/",n=(e.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(n))return!0;for(let i of this.absoluteChildren)if(i.match(r))return!0;return!1}};bh.Ignore=nb});var eL=x(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.Processor=In.SubWalks=In.MatchRecord=In.HasWalkedCache=void 0;var QO=Ui(),wh=class t{store;constructor(e=new Map){this.store=e}copy(){return new t(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){let n=e.fullpath(),i=this.store.get(n);i?i.add(r.globString()):this.store.set(n,new Set([r.globString()]))}};In.HasWalkedCache=wh;var _h=class{store=new Map;add(e,r,n){let i=(r?2:0)|(n?1:0),s=this.store.get(e);this.store.set(e,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}};In.MatchRecord=_h;var Eh=class{store=new Map;add(e,r){if(!e.canReaddir())return;let n=this.store.get(e);n?n.find(i=>i.globString()===r.globString())||n.push(r):this.store.set(e,[r])}get(e){let r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}};In.SubWalks=Eh;var sb=class t{hasWalkedCache;matches=new _h;subwalks=new Eh;patterns;follow;dot;opts;constructor(e,r){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new wh}processPatterns(e,r){this.patterns=r;let n=r.map(i=>[e,i]);for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let d=s.rest();if(d)s=d;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)i=i.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof l=="string"){let d=l===".."||l===""||l===".";this.matches.add(i.resolve(l),a,d);continue}else if(l===QO.GLOBSTAR){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let d=c?.pattern(),h=c?.rest();if(!c||(d===""||d===".")&&!h)this.matches.add(i,a,d===""||d===".");else if(d===".."){let f=i.parent||i;h?this.hasWalkedCache.hasWalked(f,h)||this.subwalks.add(f,h):this.matches.add(f,a,!0)}}else l instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(e,r){let n=this.subwalks.get(e),i=this.child();for(let s of r)for(let o of n){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===QO.GLOBSTAR?i.testGlobstar(s,o,c,a):l instanceof RegExp?i.testRegExp(s,l,c,a):i.testString(s,l,c,a)}return i}testGlobstar(e,r,n,i){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(n&&r.checkFollowGlobstar()?this.subwalks.add(e,n):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),n){let s=n.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,n.rest(),i);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,n)}else s instanceof RegExp&&this.testRegExp(e,s,n.rest(),i)}}testRegExp(e,r,n,i){r.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,r,n,i){e.isNamed(r)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}};In.Processor=sb});var nL=x(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.GlobStream=Hi.GlobWalker=Hi.GlobUtil=void 0;var HQ=XO(),tL=ib(),rL=eL(),VQ=(t,e)=>typeof t=="string"?new tL.Ignore([t],e):Array.isArray(t)?new tL.Ignore(t,e):t,Wc=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#s;signal;maxDepth;includeChildMatches;constructor(e,r,n){if(this.patterns=e,this.path=r,this.opts=n,this.#s=!n.posix&&n.platform==="win32"?"\\":"/",this.includeChildMatches=n.includeChildMatches!==!1,(n.ignore||!this.includeChildMatches)&&(this.#t=VQ(n.ignore??[],n),!this.includeChildMatches&&typeof this.#t.add!="function")){let i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#n(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#o(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#n(e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#n(e))return;if(!this.includeChildMatches&&this.#t?.add){let s=`${e.relativePosix()}/**`;this.#t.add(s)}let n=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);let i=this.opts.mark&&e.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){let s=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(s+i)}else{let s=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(s?o+s+i:"."+i)}}async match(e,r,n){let i=await this.matchCheck(e,n);i&&this.matchFinish(i,r)}matchSync(e,r,n){let i=this.matchCheckSync(e,n);i&&this.matchFinish(i,r)}walkCB(e,r,n){this.signal?.aborted&&n(),this.walkCB2(e,r,new rL.Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,n,o):a.readdirCB((c,u)=>this.walkCB3(a,u,n,o),!0)}o()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of n.subwalks.entries())s++,this.walkCB2(a,l,n.child(),o);o()}walkCBSync(e,r,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,r,new rL.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,n,o)}o()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let[a,l]of n.subwalks.entries())s++,this.walkCB2Sync(a,l,n.child(),o);o()}};Hi.GlobUtil=Wc;var ob=class extends Wc{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,r)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?r(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};Hi.GlobWalker=ob;var ab=class extends Wc{results;constructor(e,r,n){super(e,r,n),this.results=new HQ.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let e=this.path;return e.isUnknown()?e.lstat().then(()=>{this.walkCB(e,this.patterns,()=>this.results.end())}):this.walkCB(e,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};Hi.GlobStream=ab});var cb=x(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.Glob=void 0;var GQ=Ui(),YQ=require("node:url"),Sh=HO(),JQ=Jm(),xh=nL(),KQ=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",lb=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,YQ.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=e,this.platform=r.platform||KQ,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?Sh.PathScurryWin32:r.platform==="darwin"?Sh.PathScurryDarwin:r.platform?Sh.PathScurryPosix:Sh.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let n=this.platform==="darwin"||this.platform==="win32",i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new GQ.Minimatch(l,i)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new JQ.Pattern(l,u,0,this.platform)})}async walk(){return[...await new xh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new xh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new xh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new xh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};vh.Glob=lb});var ub=x(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.hasMagic=void 0;var XQ=Ui(),ZQ=(t,e={})=>{Array.isArray(t)||(t=[t]);for(let r of t)if(new XQ.Minimatch(r,e).hasMagic())return!0;return!1};Th.hasMagic=ZQ});var aL=x(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.glob=Ce.sync=Ce.iterate=Ce.iterateSync=Ce.stream=Ce.streamSync=Ce.Ignore=Ce.hasMagic=Ce.Glob=Ce.unescape=Ce.escape=void 0;Ce.globStreamSync=jc;Ce.globStream=fb;Ce.globSync=db;Ce.globIterateSync=zc;Ce.globIterate=hb;var iL=Ui(),Ws=cb(),QQ=ub(),oL=Ui();Object.defineProperty(Ce,"escape",{enumerable:!0,get:function(){return oL.escape}});Object.defineProperty(Ce,"unescape",{enumerable:!0,get:function(){return oL.unescape}});var eee=cb();Object.defineProperty(Ce,"Glob",{enumerable:!0,get:function(){return eee.Glob}});var tee=ub();Object.defineProperty(Ce,"hasMagic",{enumerable:!0,get:function(){return tee.hasMagic}});var ree=ib();Object.defineProperty(Ce,"Ignore",{enumerable:!0,get:function(){return ree.Ignore}});function jc(t,e={}){return new Ws.Glob(t,e).streamSync()}function fb(t,e={}){return new Ws.Glob(t,e).stream()}function db(t,e={}){return new Ws.Glob(t,e).walkSync()}async function sL(t,e={}){return new Ws.Glob(t,e).walk()}function zc(t,e={}){return new Ws.Glob(t,e).iterateSync()}function hb(t,e={}){return new Ws.Glob(t,e).iterate()}Ce.streamSync=jc;Ce.stream=Object.assign(fb,{sync:jc});Ce.iterateSync=zc;Ce.iterate=Object.assign(hb,{sync:zc});Ce.sync=Object.assign(db,{stream:jc,iterate:zc});Ce.glob=Object.assign(sL,{glob:sL,globSync:db,sync:Ce.sync,globStream:fb,stream:Ce.stream,globStreamSync:jc,streamSync:Ce.streamSync,globIterate:hb,iterate:Ce.iterate,globIterateSync:zc,iterateSync:Ce.iterateSync,Glob:Ws.Glob,hasMagic:QQ.hasMagic,escape:iL.escape,unescape:iL.unescape});Ce.glob.glob=Ce.glob});var fL=x((mSe,uL)=>{var cL=Rg(),_a=require("path"),pb=gN(),nee=ND(),iee=UD(),see=YD(),oee=aL(),js=uL.exports={},lL=/[\/\\]/g,aee=function(t,e){var r=[];return pb(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=nee(r,s):r=iee(r,s)}),r};js.exists=function(){var t=_a.join.apply(_a,arguments);return cL.existsSync(t)};js.expand=function(...t){var e=see(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=aee(r,function(i){return oee.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=_a.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):cL.statSync(i)[e.filter]()}catch{return!1}})),n};js.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return _a.join(s||"",o)}},r);var n=[],i={};return js.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=_a.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=_a.join(r.cwd,s)),a=a.replace(lL,"/"),s=s.replace(lL,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};js.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=pb(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return js.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?pb(o):[o],s.result=js.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var Ea=x((wSe,pL)=>{var gb=Rg(),dL=require("path"),lee=qf(),cee=bR(),hL=Kg(),uee=ZA(),bSe=require("stream").Stream,fee=sN().PassThrough,Mr=pL.exports={};Mr.file=fL();Mr.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};Mr.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};Mr.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},uee(...n)};Mr.isStream=function(t){return lee(t)};Mr.lazyReadStream=function(t){return new cee.Readable(function(){return gb.createReadStream(t)})};Mr.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):Mr.isStream(t)?t.pipe(new fee):t};Mr.sanitizePath=function(t){return hL(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};Mr.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};Mr.unixifyPath=function(t){return hL(t,!1).replace(/^\w+:/,"")};Mr.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),gb.readdir(t,function(i,s){var o=0,a,l;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);l=dL.join(t,a),gb.stat(l,function(u,d){n.push({path:l,relative:dL.relative(e,l).replace(/\\/g,"/"),stats:d}),d&&d.isDirectory()?Mr.walkdir(l,e,function(h,f){if(h)return r(h);f.forEach(function(g){n.push(g)}),c()}):c()})})()})}});var bL=x((yL,mL)=>{var dee=require("util"),hee={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function gL(t,e){Error.captureStackTrace(this,this.constructor),this.message=hee[t]||t,this.code=t,this.data=e}dee.inherits(gL,Error);yL=mL.exports=gL});var st=x((_Se,wL)=>{"use strict";var yb=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};wL.exports={AggregateError:yb,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var mb=x((ESe,_L)=>{"use strict";_L.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var dr=x((SSe,xL)=>{"use strict";var{format:pee,inspect:Rh}=mb(),{AggregateError:gee}=st(),yee=globalThis.AggregateError||gee,mee=Symbol("kIsNodeError"),bee=["string","function","number","object","Function","Object","boolean","bigint","symbol"],wee=/^([A-Z][a-z0-9]*)+$/,_ee="__node_internal_",Ah={};function zs(t,e){if(!t)throw new Ah.ERR_INTERNAL_ASSERTION(e)}function EL(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Eee(t,e,r){if(typeof e=="function")return zs(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return zs(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:pee(e,...r)}function rr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Eee(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[mee]=!0,Ah[t]=n}function SL(t){let e=_ee+t.name;return Object.defineProperty(t,"name",{value:e}),t}function See(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new yee([e,t],e.message);return r.code=e.code,r}return t||e}var bb=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Ah.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};rr("ERR_ASSERTION","%s",Error);rr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{zs(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)zs(typeof l=="string","All expected entries have to be of type string"),bee.includes(l)?i.push(l.toLowerCase()):wee.test(l)?s.push(l):(zs(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Rh(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Rh(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);rr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Rh(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);rr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);rr("ERR_MISSING_ARGS",(...t)=>{zs(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);rr("ERR_OUT_OF_RANGE",(t,e,r)=>{zs(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=EL(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=EL(n)),n+="n"}else n=Rh(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);rr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);rr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);rr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);rr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);rr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);rr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);rr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);rr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);rr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);rr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);rr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);xL.exports={AbortError:bb,aggregateTwoErrors:SL(See),hideStackFrames:SL,codes:Ah}});var vr=x((xSe,_b)=>{"use strict";var xee=require("buffer"),{format:vee,inspect:Tee}=mb(),{codes:{ERR_INVALID_ARG_TYPE:wb}}=dr(),{kResistStopPropagation:Ree,AggregateError:Aee,SymbolDispose:Cee}=st(),Iee=globalThis.AbortSignal||xt().AbortSignal,Nee=globalThis.AbortController||xt().AbortController,Dee=Object.getPrototypeOf(async function(){}).constructor,vL=globalThis.Blob||xee.Blob,Oee=typeof vL<"u"?function(e){return e instanceof vL}:function(e){return!1},TL=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new wb(e,"AbortSignal",t)},Lee=(t,e)=>{if(typeof t!="function")throw new wb(e,"Function",t)};_b.exports={AggregateError:Aee,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:vee,inspect:Tee,types:{isAsyncFunction(t){return t instanceof Dee},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Oee,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new wb("signal","AbortSignal",e);TL(e,"signal"),Lee(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Ree]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Cee](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Iee.any||function(e){if(e.length===1)return e[0];let r=new Nee,n=()=>r.abort();return e.forEach(i=>{TL(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};_b.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var xa=x((vSe,PL)=>{"use strict";var{ArrayIsArray:Sb,ArrayPrototypeIncludes:IL,ArrayPrototypeJoin:NL,ArrayPrototypeMap:Mee,NumberIsInteger:xb,NumberIsNaN:Pee,NumberMAX_SAFE_INTEGER:Fee,NumberMIN_SAFE_INTEGER:Bee,NumberParseInt:kee,ObjectPrototypeHasOwnProperty:$ee,RegExpPrototypeExec:DL,String:qee,StringPrototypeToUpperCase:Uee,StringPrototypeTrim:Wee}=st(),{hideStackFrames:Gr,codes:{ERR_SOCKET_BAD_PORT:jee,ERR_INVALID_ARG_TYPE:hr,ERR_INVALID_ARG_VALUE:Sa,ERR_OUT_OF_RANGE:Hs,ERR_UNKNOWN_SIGNAL:RL}}=dr(),{normalizeEncoding:zee}=vr(),{isAsyncFunction:Hee,isArrayBufferView:Vee}=vr().types,AL={};function Gee(t){return t===(t|0)}function Yee(t){return t===t>>>0}var Jee=/^[0-7]+$/,Kee="must be a 32-bit unsigned integer or an octal string";function Xee(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(DL(Jee,t)===null)throw new Sa(e,t,Kee);t=kee(t,8)}return OL(t,e),t}var Zee=Gr((t,e,r=Bee,n=Fee)=>{if(typeof t!="number")throw new hr(e,"number",t);if(!xb(t))throw new Hs(e,"an integer",t);if(t<r||t>n)throw new Hs(e,`>= ${r} && <= ${n}`,t)}),Qee=Gr((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new hr(e,"number",t);if(!xb(t))throw new Hs(e,"an integer",t);if(t<r||t>n)throw new Hs(e,`>= ${r} && <= ${n}`,t)}),OL=Gr((t,e,r=!1)=>{if(typeof t!="number")throw new hr(e,"number",t);if(!xb(t))throw new Hs(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Hs(e,`>= ${n} && <= ${i}`,t)});function vb(t,e){if(typeof t!="string")throw new hr(e,"string",t)}function ete(t,e,r=void 0,n){if(typeof t!="number")throw new hr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Pee(t))throw new Hs(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var tte=Gr((t,e,r)=>{if(!IL(r,t)){let i="must be one of: "+NL(Mee(r,s=>typeof s=="string"?`'${s}'`:qee(s)),", ");throw new Sa(e,t,i)}});function LL(t,e){if(typeof t!="boolean")throw new hr(e,"boolean",t)}function Eb(t,e,r){return t==null||!$ee(t,e)?r:t[e]}var rte=Gr((t,e,r=null)=>{let n=Eb(r,"allowArray",!1),i=Eb(r,"allowFunction",!1);if(!Eb(r,"nullable",!1)&&t===null||!n&&Sb(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new hr(e,"Object",t)}),nte=Gr((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new hr(e,"a dictionary",t)}),Ch=Gr((t,e,r=0)=>{if(!Sb(t))throw new hr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Sa(e,t,n)}});function ite(t,e){Ch(t,e);for(let r=0;r<t.length;r++)vb(t[r],`${e}[${r}]`)}function ste(t,e){Ch(t,e);for(let r=0;r<t.length;r++)LL(t[r],`${e}[${r}]`)}function ote(t,e){Ch(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new hr(i,"AbortSignal",n);ML(n,i)}}function ate(t,e="signal"){if(vb(t,e),AL[t]===void 0)throw AL[Uee(t)]!==void 0?new RL(t+" (signals must use all capital letters)"):new RL(t)}var lte=Gr((t,e="buffer")=>{if(!Vee(t))throw new hr(e,["Buffer","TypedArray","DataView"],t)});function cte(t,e){let r=zee(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Sa("encoding",e,`is invalid for data of length ${n}`)}function ute(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Wee(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new jee(e,t,r);return t|0}var ML=Gr((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new hr(e,"AbortSignal",t)}),fte=Gr((t,e)=>{if(typeof t!="function")throw new hr(e,"Function",t)}),dte=Gr((t,e)=>{if(typeof t!="function"||Hee(t))throw new hr(e,"Function",t)}),hte=Gr((t,e)=>{if(t!==void 0)throw new hr(e,"undefined",t)});function pte(t,e,r){if(!IL(r,t))throw new hr(e,`('${NL(r,"|")}')`,t)}var gte=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function CL(t,e){if(typeof t>"u"||!DL(gte,t))throw new Sa(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function yte(t){if(typeof t=="string")return CL(t,"hints"),t;if(Sb(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];CL(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Sa("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}PL.exports={isInt32:Gee,isUint32:Yee,parseFileMode:Xee,validateArray:Ch,validateStringArray:ite,validateBooleanArray:ste,validateAbortSignalArray:ote,validateBoolean:LL,validateBuffer:lte,validateDictionary:nte,validateEncoding:cte,validateFunction:fte,validateInt32:Qee,validateInteger:Zee,validateNumber:ete,validateObject:rte,validateOneOf:tte,validatePlainFunction:dte,validatePort:ute,validateSignalName:ate,validateString:vb,validateUint32:OL,validateUndefined:hte,validateUnion:pte,validateAbortSignal:ML,validateLinkHeaderValue:yte}});var Dn=x((TSe,KL)=>{"use strict";var{SymbolAsyncIterator:FL,SymbolIterator:BL,SymbolFor:Vs}=st(),kL=Vs("nodejs.stream.destroyed"),$L=Vs("nodejs.stream.errored"),Tb=Vs("nodejs.stream.readable"),Rb=Vs("nodejs.stream.writable"),qL=Vs("nodejs.stream.disturbed"),mte=Vs("nodejs.webstream.isClosedPromise"),bte=Vs("nodejs.webstream.controllerErrorFunction");function Ih(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Nh(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function wte(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Nn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function UL(t){return!!(t&&!Nn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function WL(t){return!!(t&&!Nn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function jL(t){return!!(t&&!Nn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function _te(t){return UL(t)||WL(t)||jL(t)}function Ete(t,e){return t==null?!1:e===!0?typeof t[FL]=="function":e===!1?typeof t[BL]=="function":typeof t[FL]=="function"||typeof t[BL]=="function"}function Dh(t){if(!Nn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[kL]||n!=null&&n.destroyed)}function zL(t){if(!Nh(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Ste(t,e){if(!Nh(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function xte(t){if(!Ih(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function HL(t,e){if(!Ih(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function VL(t){return t&&t[Tb]!=null?t[Tb]:typeof t?.readable!="boolean"?null:Dh(t)?!1:Ih(t)&&t.readable&&!HL(t)}function GL(t){return t&&t[Rb]!=null?t[Rb]:typeof t?.writable!="boolean"?null:Dh(t)?!1:Nh(t)&&t.writable&&!zL(t)}function vte(t,e){return Nn(t)?Dh(t)?!0:!(e?.readable!==!1&&VL(t)||e?.writable!==!1&&GL(t)):null}function Tte(t){var e,r;return Nn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Rte(t){var e,r;return Nn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Ate(t){if(!Nn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&YL(t)?t._closed:null}function YL(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function JL(t){return typeof t._sent100=="boolean"&&YL(t)}function Cte(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Ite(t){if(!Nn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&JL(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Nte(t){var e;return!!(t&&((e=t[qL])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Dte(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[$L])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}KL.exports={isDestroyed:Dh,kIsDestroyed:kL,isDisturbed:Nte,kIsDisturbed:qL,isErrored:Dte,kIsErrored:$L,isReadable:VL,kIsReadable:Tb,kIsClosedPromise:mte,kControllerErrorFunction:bte,kIsWritable:Rb,isClosed:Ate,isDuplexNodeStream:wte,isFinished:vte,isIterable:Ete,isReadableNodeStream:Ih,isReadableStream:UL,isReadableEnded:xte,isReadableFinished:HL,isReadableErrored:Rte,isNodeStream:Nn,isWebStream:_te,isWritable:GL,isWritableNodeStream:Nh,isWritableStream:WL,isWritableEnded:zL,isWritableFinished:Ste,isWritableErrored:Tte,isServerRequest:Cte,isServerResponse:JL,willEmitClose:Ite,isTransformStream:jL}});var di=x((RSe,Db)=>{"use strict";var Vi=ze(),{AbortError:sM,codes:Ote}=dr(),{ERR_INVALID_ARG_TYPE:Lte,ERR_STREAM_PREMATURE_CLOSE:XL}=Ote,{kEmptyObject:Cb,once:Ib}=vr(),{validateAbortSignal:Mte,validateFunction:Pte,validateObject:Fte,validateBoolean:Bte}=xa(),{Promise:kte,PromisePrototypeThen:$te,SymbolDispose:oM}=st(),{isClosed:qte,isReadable:ZL,isReadableNodeStream:Ab,isReadableStream:Ute,isReadableFinished:QL,isReadableErrored:eM,isWritable:tM,isWritableNodeStream:rM,isWritableStream:Wte,isWritableFinished:nM,isWritableErrored:iM,isNodeStream:jte,willEmitClose:zte,kIsClosedPromise:Hte}=Dn(),va;function Vte(t){return t.setHeader&&typeof t.abort=="function"}var Nb=()=>{};function aM(t,e,r){var n,i;if(arguments.length===2?(r=e,e=Cb):e==null?e=Cb:Fte(e,"options"),Pte(r,"callback"),Mte(e.signal,"options.signal"),r=Ib(r),Ute(t)||Wte(t))return Gte(t,e,r);if(!jte(t))throw new Lte("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:Ab(t),o=(i=e.writable)!==null&&i!==void 0?i:rM(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||h()},u=zte(t)&&Ab(t)===s&&rM(t)===o,d=nM(t,!1),h=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=QL(t,!1),g=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},p=I=>{r.call(t,I)},m=qte(t),y=()=>{m=!0;let I=iM(t)||eM(t);if(I&&typeof I!="boolean")return r.call(t,I);if(s&&!f&&Ab(t,!0)&&!QL(t,!1))return r.call(t,new XL);if(o&&!d&&!nM(t,!1))return r.call(t,new XL);r.call(t)},S=()=>{m=!0;let I=iM(t)||eM(t);if(I&&typeof I!="boolean")return r.call(t,I);r.call(t)},b=()=>{t.req.on("finish",h)};Vte(t)?(t.on("complete",h),u||t.on("abort",y),t.req?b():t.on("request",b)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",g),t.on("finish",h),e.error!==!1&&t.on("error",p),t.on("close",y),m?Vi.nextTick(y):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Vi.nextTick(S):(!s&&(!u||ZL(t))&&(d||tM(t)===!1)||!o&&(!u||tM(t))&&(f||ZL(t)===!1)||l&&t.req&&t.aborted)&&Vi.nextTick(S);let w=()=>{r=Nb,t.removeListener("aborted",y),t.removeListener("complete",h),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",g),t.removeListener("error",p),t.removeListener("close",y)};if(e.signal&&!m){let I=()=>{let O=r;w(),O.call(t,new sM(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Vi.nextTick(I);else{va=va||vr().addAbortListener;let O=va(e.signal,I),C=r;r=Ib((...B)=>{O[oM](),C.apply(t,B)})}}return w}function Gte(t,e,r){let n=!1,i=Nb;if(e.signal)if(i=()=>{n=!0,r.call(t,new sM(void 0,{cause:e.signal.reason}))},e.signal.aborted)Vi.nextTick(i);else{va=va||vr().addAbortListener;let o=va(e.signal,i),a=r;r=Ib((...l)=>{o[oM](),a.apply(t,l)})}let s=(...o)=>{n||Vi.nextTick(()=>r.apply(t,o))};return $te(t[Hte].promise,s,s),Nb}function Yte(t,e){var r;let n=!1;return e===null&&(e=Cb),(r=e)!==null&&r!==void 0&&r.cleanup&&(Bte(e.cleanup,"cleanup"),n=e.cleanup),new kte((i,s)=>{let o=aM(t,e,a=>{n&&o(),a?s(a):i()})})}Db.exports=aM;Db.exports.finished=Yte});var Gs=x((ASe,gM)=>{"use strict";var On=ze(),{aggregateTwoErrors:Jte,codes:{ERR_MULTIPLE_CALLBACK:Kte},AbortError:Xte}=dr(),{Symbol:uM}=st(),{kIsDestroyed:Zte,isDestroyed:Qte,isFinished:ere,isServerRequest:tre}=Dn(),fM=uM("kDestroy"),Ob=uM("kConstruct");function dM(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function rre(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(dM(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?lM(this,t,e):this.once(fM,function(s){lM(this,Jte(s,t),e)}),this)}function lM(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;dM(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?On.nextTick(nre,t,s):On.nextTick(hM,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function nre(t,e){Lb(t,e),hM(t)}function hM(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Lb(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function ire(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Mb(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?On.nextTick(Lb,t,e):Lb(t,e))}function sre(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Ob,e),!(t.listenerCount(Ob)>1)&&On.nextTick(ore,t)}function ore(t){let e=!1;function r(n){if(e){Mb(t,n??new Kte);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(fM,n):n?Mb(t,n,!0):On.nextTick(are,t)}try{t._construct(n=>{On.nextTick(r,n)})}catch(n){On.nextTick(r,n)}}function are(t){t.emit(Ob)}function cM(t){return t?.setHeader&&typeof t.abort=="function"}function pM(t){t.emit("close")}function lre(t,e){t.emit("error",e),On.nextTick(pM,t)}function cre(t,e){!t||Qte(t)||(!e&&!ere(t)&&(e=new Xte),tre(t)?(t.socket=null,t.destroy(e)):cM(t)?t.abort():cM(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?On.nextTick(lre,t,e):On.nextTick(pM,t),t.destroyed||(t[Zte]=!0))}gM.exports={construct:sre,destroyer:cre,destroy:rre,undestroy:ire,errorOrDestroy:Mb}});var Mh=x((CSe,mM)=>{"use strict";var{ArrayIsArray:ure,ObjectSetPrototypeOf:yM}=st(),{EventEmitter:Oh}=require("events");function Lh(t){Oh.call(this,t)}yM(Lh.prototype,Oh.prototype);yM(Lh,Oh);Lh.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),Oh.listenerCount(this,"error")===0&&this.emit("error",u)}Pb(r,"error",l),Pb(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Pb(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):ure(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}mM.exports={Stream:Lh,prependListener:Pb}});var Hc=x((ISe,Ph)=>{"use strict";var{SymbolDispose:fre}=st(),{AbortError:bM,codes:dre}=dr(),{isNodeStream:wM,isWebStream:hre,kControllerErrorFunction:pre}=Dn(),gre=di(),{ERR_INVALID_ARG_TYPE:_M}=dre,Fb,yre=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new _M(e,"AbortSignal",t)};Ph.exports.addAbortSignal=function(e,r){if(yre(e,"signal"),!wM(r)&&!hre(r))throw new _M("stream",["ReadableStream","WritableStream","Stream"],r);return Ph.exports.addAbortSignalNoValidate(e,r)};Ph.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=wM(e)?()=>{e.destroy(new bM(void 0,{cause:t.reason}))}:()=>{e[pre](new bM(void 0,{cause:t.reason}))};if(t.aborted)r();else{Fb=Fb||vr().addAbortListener;let n=Fb(t,r);gre(e,n[fre])}return e}});var xM=x((DSe,SM)=>{"use strict";var{StringPrototypeSlice:EM,SymbolIterator:mre,TypedArrayPrototypeSet:Fh,Uint8Array:bre}=st(),{Buffer:Bb}=require("buffer"),{inspect:wre}=vr();SM.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Bb.alloc(0);let r=Bb.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Fh(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[mre](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=EM(s,0,e),this.head=n,n.data=EM(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Bb.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)Fh(r,o,n-e),e-=o.length;else{e===o.length?(Fh(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(Fh(r,new bre(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return wre(this,{...r,depth:0,customInspect:!1})}}});var Vc=x((OSe,AM)=>{"use strict";var{MathFloor:_re,NumberIsInteger:Ere}=st(),{validateInteger:Sre}=xa(),{ERR_INVALID_ARG_VALUE:xre}=dr().codes,vM=16*1024,TM=16;function vre(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function RM(t){return t?TM:vM}function Tre(t,e){Sre(e,"value",0),t?TM=e:vM=e}function Rre(t,e,r,n){let i=vre(e,n,r);if(i!=null){if(!Ere(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new xre(s,i)}return _re(i)}return RM(t.objectMode)}AM.exports={getHighWaterMark:Rre,getDefaultHighWaterMark:RM,setDefaultHighWaterMark:Tre}});var kb=x((LSe,DM)=>{"use strict";var CM=ze(),{PromisePrototypeThen:Are,SymbolAsyncIterator:IM,SymbolIterator:NM}=st(),{Buffer:Cre}=require("buffer"),{ERR_INVALID_ARG_TYPE:Ire,ERR_STREAM_NULL_VALUES:Nre}=dr().codes;function Dre(t,e,r){let n;if(typeof e=="string"||e instanceof Cre)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[IM])i=!0,n=e[IM]();else if(e&&e[NM])i=!1,n=e[NM]();else throw new Ire("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Are(a(c),()=>CM.nextTick(u,c),d=>CM.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:h,done:f}=await n.throw(c);if(await h,f)return}if(typeof n.return=="function"){let{value:h}=await n.return();await h}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Nre;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}DM.exports=Dre});var Yc=x((MSe,JM)=>{"use strict";var cn=ze(),{ArrayPrototypeIndexOf:Ore,NumberIsInteger:Lre,NumberIsNaN:Mre,NumberParseInt:Pre,ObjectDefineProperties:Vb,ObjectKeys:Fre,ObjectSetPrototypeOf:MM,Promise:PM,SafeSet:Bre,SymbolAsyncDispose:kre,SymbolAsyncIterator:$re,Symbol:qre}=st();JM.exports=ge;ge.ReadableState=qh;var{EventEmitter:Ure}=require("events"),{Stream:Gi,prependListener:Wre}=Mh(),{Buffer:$b}=require("buffer"),{addAbortSignal:jre}=Hc(),FM=di(),Ie=vr().debuglog("stream",t=>{Ie=t}),zre=xM(),Aa=Gs(),{getHighWaterMark:Hre,getDefaultHighWaterMark:Vre}=Vc(),{aggregateTwoErrors:OM,codes:{ERR_INVALID_ARG_TYPE:Gre,ERR_METHOD_NOT_IMPLEMENTED:Yre,ERR_OUT_OF_RANGE:Jre,ERR_STREAM_PUSH_AFTER_EOF:Kre,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Xre},AbortError:Zre}=dr(),{validateObject:Qre}=xa(),Ys=qre("kPaused"),{StringDecoder:BM}=cc(),ene=kb();MM(ge.prototype,Gi.prototype);MM(ge,Gi);var qb=()=>{},{errorOrDestroy:Ta}=Aa,Ra=1,tne=2,kM=4,Gc=8,$M=16,Bh=32,kh=64,qM=128,rne=256,nne=512,ine=1024,zb=2048,Hb=4096,sne=8192,one=16384,ane=32768,UM=65536,lne=1<<17,cne=1<<18;function Lt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}Vb(qh.prototype,{objectMode:Lt(Ra),ended:Lt(tne),endEmitted:Lt(kM),reading:Lt(Gc),constructed:Lt($M),sync:Lt(Bh),needReadable:Lt(kh),emittedReadable:Lt(qM),readableListening:Lt(rne),resumeScheduled:Lt(nne),errorEmitted:Lt(ine),emitClose:Lt(zb),autoDestroy:Lt(Hb),destroyed:Lt(sne),closed:Lt(one),closeEmitted:Lt(ane),multiAwaitDrain:Lt(UM),readingMore:Lt(lne),dataEmitted:Lt(cne)});function qh(t,e,r){typeof r!="boolean"&&(r=e instanceof Ln()),this.state=zb|Hb|$M|Bh,t&&t.objectMode&&(this.state|=Ra),r&&t&&t.readableObjectMode&&(this.state|=Ra),this.highWaterMark=t?Hre(this,t,"readableHighWaterMark",r):Vre(!1),this.buffer=new zre,this.length=0,this.pipes=[],this.flowing=null,this[Ys]=null,t&&t.emitClose===!1&&(this.state&=~zb),t&&t.autoDestroy===!1&&(this.state&=~Hb),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new BM(t.encoding),this.encoding=t.encoding)}function ge(t){if(!(this instanceof ge))return new ge(t);let e=this instanceof Ln();this._readableState=new qh(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&jre(t.signal,this)),Gi.call(this,t),Aa.construct(this,()=>{this._readableState.needReadable&&$h(this,this._readableState)})}ge.prototype.destroy=Aa.destroy;ge.prototype._undestroy=Aa.undestroy;ge.prototype._destroy=function(t,e){e(t)};ge.prototype[Ure.captureRejectionSymbol]=function(t){this.destroy(t)};ge.prototype[kre]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Zre,this.destroy(t)),new PM((e,r)=>FM(this,n=>n&&n!==t?r(n):e(null)))};ge.prototype.push=function(t,e){return WM(this,t,e,!1)};ge.prototype.unshift=function(t,e){return WM(this,t,e,!0)};function WM(t,e,r,n){Ie("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ra)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=$b.from(e,r).toString(i.encoding):(e=$b.from(e,r),r=""))):e instanceof $b?r="":Gi._isUint8Array(e)?(e=Gi._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Gre("chunk",["string","Buffer","Uint8Array"],e))),s)Ta(t,s);else if(e===null)i.state&=~Gc,dne(t,i);else if((i.state&Ra)!==0||e&&e.length>0)if(n)if((i.state&kM)!==0)Ta(t,new Xre);else{if(i.destroyed||i.errored)return!1;Ub(t,i,e,!0)}else if(i.ended)Ta(t,new Kre);else{if(i.destroyed||i.errored)return!1;i.state&=~Gc,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?Ub(t,i,e,!1):$h(t,i)):Ub(t,i,e,!1)}else n||(i.state&=~Gc,$h(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function Ub(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&UM)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&kh)!==0&&Uh(t)),$h(t,e)}ge.prototype.isPaused=function(){let t=this._readableState;return t[Ys]===!0||t.flowing===!1};ge.prototype.setEncoding=function(t){let e=new BM(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var une=1073741824;function fne(t){if(t>une)throw new Jre("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function LM(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ra)!==0?1:Mre(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}ge.prototype.read=function(t){Ie("read",t),t===void 0?t=NaN:Lre(t)||(t=Pre(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=fne(t)),t!==0&&(e.state&=~qM),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ie("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Wb(this):Uh(this),null;if(t=LM(t,e),t===0&&e.ended)return e.length===0&&Wb(this),null;let n=(e.state&kh)!==0;if(Ie("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ie("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Ie("reading, ended or constructing",n);else if(n){Ie("do read"),e.state|=Gc|Bh,e.length===0&&(e.state|=kh);try{this._read(e.highWaterMark)}catch(s){Ta(this,s)}e.state&=~Bh,e.reading||(t=LM(r,e))}let i;return t>0?i=GM(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Wb(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function dne(t,e){if(Ie("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Uh(t):(e.needReadable=!1,e.emittedReadable=!0,jM(t))}}function Uh(t){let e=t._readableState;Ie("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ie("emitReadable",e.flowing),e.emittedReadable=!0,cn.nextTick(jM,t))}function jM(t){let e=t._readableState;Ie("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,HM(t)}function $h(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,cn.nextTick(hne,t,e))}function hne(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Ie("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ge.prototype._read=function(t){throw new Yre("_read()")};ge.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Bre(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Ie("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==cn.stdout&&t!==cn.stderr?a:m;n.endEmitted?cn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,S){Ie("onunpipe"),y===r&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,u())}function a(){Ie("onend"),t.end()}let l,c=!1;function u(){Ie("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Ie("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Ie("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=pne(r,t),t.on("drain",l))}r.on("data",h);function h(y){Ie("ondata");let S=t.write(y);Ie("dest.write",S),S===!1&&d()}function f(y){if(Ie("onerror",y),m(),t.removeListener("error",f),t.listenerCount("error")===0){let S=t._writableState||t._readableState;S&&!S.errorEmitted?Ta(t,y):t.emit("error",y)}}Wre(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){Ie("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){Ie("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Ie("pipe resume"),r.resume()),t};function pne(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Ie("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Ie("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}ge.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Ore(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};ge.prototype.on=function(t,e){let r=Gi.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ie("on readable",n.length,n.reading),n.length?Uh(this):n.reading||cn.nextTick(gne,this)),r};ge.prototype.addListener=ge.prototype.on;ge.prototype.removeListener=function(t,e){let r=Gi.prototype.removeListener.call(this,t,e);return t==="readable"&&cn.nextTick(zM,this),r};ge.prototype.off=ge.prototype.removeListener;ge.prototype.removeAllListeners=function(t){let e=Gi.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&cn.nextTick(zM,this),e};function zM(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Ys]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function gne(t){Ie("readable nexttick read 0"),t.read(0)}ge.prototype.resume=function(){let t=this._readableState;return t.flowing||(Ie("resume"),t.flowing=!t.readableListening,yne(this,t)),t[Ys]=!1,this};function yne(t,e){e.resumeScheduled||(e.resumeScheduled=!0,cn.nextTick(mne,t,e))}function mne(t,e){Ie("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),HM(t),e.flowing&&!e.reading&&t.read(0)}ge.prototype.pause=function(){return Ie("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ys]=!0,this};function HM(t){let e=t._readableState;for(Ie("flow",e.flowing);e.flowing&&t.read()!==null;);}ge.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Ta(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Fre(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};ge.prototype[$re]=function(){return VM(this)};ge.prototype.iterator=function(t){return t!==void 0&&Qre(t,"options"),VM(this,t)};function VM(t,e){typeof t.read!="function"&&(t=ge.wrap(t,{objectMode:!0}));let r=bne(t,e);return r.stream=t,r}async function*bne(t,e){let r=qb;function n(o){this===t?(r(),r=qb):r=o}t.on("readable",n);let i,s=FM(t,{writable:!1},o=>{i=o?OM(i,o):null,r(),r=qb});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new PM(n)}}}catch(o){throw i=OM(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Aa.destroyer(t,null):(t.off("readable",n),s())}}Vb(ge.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Vb(qh.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Ys]!==!1},set(t){this[Ys]=!!t}}});ge._fromList=GM;function GM(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Wb(t){let e=t._readableState;Ie("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,cn.nextTick(wne,e,t))}function wne(t,e){if(Ie("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)cn.nextTick(_ne,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function _ne(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}ge.from=function(t,e){return ene(ge,t,e)};var jb;function YM(){return jb===void 0&&(jb={}),jb}ge.fromWeb=function(t,e){return YM().newStreamReadableFromReadableStream(t,e)};ge.toWeb=function(t,e){return YM().newReadableStreamFromStreamReadable(t,e)};ge.wrap=function(t,e){var r,n;return new ge({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Aa.destroyer(t,i),s(i)}}).wrap(t)}});var Vh=x((PSe,aP)=>{"use strict";var Js=ze(),{ArrayPrototypeSlice:ZM,Error:Ene,FunctionPrototypeSymbolHasInstance:QM,ObjectDefineProperty:eP,ObjectDefineProperties:Sne,ObjectSetPrototypeOf:tP,StringPrototypeToLowerCase:xne,Symbol:vne,SymbolHasInstance:Tne}=st();aP.exports=ut;ut.WritableState=Xc;var{EventEmitter:Rne}=require("events"),Jc=Mh().Stream,{Buffer:Wh}=require("buffer"),Hh=Gs(),{addAbortSignal:Ane}=Hc(),{getHighWaterMark:Cne,getDefaultHighWaterMark:Ine}=Vc(),{ERR_INVALID_ARG_TYPE:Nne,ERR_METHOD_NOT_IMPLEMENTED:Dne,ERR_MULTIPLE_CALLBACK:rP,ERR_STREAM_CANNOT_PIPE:One,ERR_STREAM_DESTROYED:Kc,ERR_STREAM_ALREADY_FINISHED:Lne,ERR_STREAM_NULL_VALUES:Mne,ERR_STREAM_WRITE_AFTER_END:Pne,ERR_UNKNOWN_ENCODING:nP}=dr().codes,{errorOrDestroy:Ca}=Hh;tP(ut.prototype,Jc.prototype);tP(ut,Jc);function Jb(){}var Ia=vne("kOnFinished");function Xc(t,e,r){typeof r!="boolean"&&(r=e instanceof Ln()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Cne(this,t,"writableHighWaterMark",r):Ine(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Bne.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,zh(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ia]=[]}function zh(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Xc.prototype.getBuffer=function(){return ZM(this.buffered,this.bufferedIndex)};eP(Xc.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ut(t){let e=this instanceof Ln();if(!e&&!QM(ut,this))return new ut(t);this._writableState=new Xc(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Ane(t.signal,this)),Jc.call(this,t),Hh.construct(this,()=>{let r=this._writableState;r.writing||Xb(this,r),Zb(this,r)})}eP(ut,Tne,{__proto__:null,value:function(t){return QM(this,t)?!0:this!==ut?!1:t&&t._writableState instanceof Xc}});ut.prototype.pipe=function(){Ca(this,new One)};function iP(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Wh.isEncoding(r))throw new nP(r);typeof n!="function"&&(n=Jb)}if(e===null)throw new Mne;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Wh.from(e,r),r="buffer");else if(e instanceof Wh)r="buffer";else if(Jc._isUint8Array(e))e=Jc._uint8ArrayToBuffer(e),r="buffer";else throw new Nne("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Pne:i.destroyed&&(s=new Kc("write")),s?(Js.nextTick(n,s),Ca(t,s,!0),s):(i.pendingcb++,Fne(t,i,e,r,n))}ut.prototype.write=function(t,e,r){return iP(this,t,e,r)===!0};ut.prototype.cork=function(){this._writableState.corked++};ut.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Xb(this,t))};ut.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=xne(e)),!Wh.isEncoding(e))throw new nP(e);return this._writableState.defaultEncoding=e,this};function Fne(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Jb&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function KM(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Kc("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function XM(t,e,r,n){--e.pendingcb,n(r),Kb(e),Ca(t,r)}function Bne(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Ca(t,new rP);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Js.nextTick(XM,t,r,e,i):XM(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&Xb(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Js.nextTick(kne,r.afterWriteTickInfo)):sP(t,r,1,i))}function kne({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,sP(t,e,r,n)}function sP(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Kb(e),Zb(t,e)}function Kb(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Kc("write"))}let r=t[Ia].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Kc("end"))}zh(t)}function Xb(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Jb:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:ZM(r,o);l.allBuffers=e.allBuffers,KM(t,e,!0,e.length,l,"",a),zh(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;KM(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?zh(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ut.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Dne("_write()")};ut.prototype._writev=null;ut.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=iP(this,t,e);s instanceof Ene&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Zb(this,n,!0),n.ended=!0):n.finished?i=new Lne("end"):n.destroyed&&(i=new Kc("end"))),typeof r=="function"&&(i||n.finished?Js.nextTick(r,i):n[Ia].push(r)),this};function jh(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function $ne(t,e){let r=!1;function n(i){if(r){Ca(t,i??rP());return}if(r=!0,e.pendingcb--,i){let s=e[Ia].splice(0);for(let o=0;o<s.length;o++)s[o](i);Ca(t,i,e.sync)}else jh(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Js.nextTick(Yb,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function qne(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,$ne(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Zb(t,e,r){jh(e)&&(qne(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Js.nextTick((n,i)=>{jh(i)?Yb(n,i):i.pendingcb--},t,e)):jh(e)&&(e.pendingcb++,Yb(t,e))))}function Yb(t,e){e.pendingcb--,e.finished=!0;let r=e[Ia].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Sne(ut.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Une=Hh.destroy;ut.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Ia].length)&&Js.nextTick(Kb,r),Une.call(this,t,e),this};ut.prototype._undestroy=Hh.undestroy;ut.prototype._destroy=function(t,e){e(t)};ut.prototype[Rne.captureRejectionSymbol]=function(t){this.destroy(t)};var Gb;function oP(){return Gb===void 0&&(Gb={}),Gb}ut.fromWeb=function(t,e){return oP().newStreamWritableFromWritableStream(t,e)};ut.toWeb=function(t){return oP().newWritableStreamFromStreamWritable(t)}});var SP=x((FSe,EP)=>{var Qb=ze(),Wne=require("buffer"),{isReadable:jne,isWritable:zne,isIterable:lP,isNodeStream:Hne,isReadableNodeStream:cP,isWritableNodeStream:uP,isDuplexNodeStream:Vne,isReadableStream:fP,isWritableStream:dP}=Dn(),hP=di(),{AbortError:wP,codes:{ERR_INVALID_ARG_TYPE:Gne,ERR_INVALID_RETURN_VALUE:pP}}=dr(),{destroyer:Da}=Gs(),Yne=Ln(),_P=Yc(),Jne=Vh(),{createDeferredPromise:gP}=vr(),yP=kb(),mP=globalThis.Blob||Wne.Blob,Kne=typeof mP<"u"?function(e){return e instanceof mP}:function(e){return!1},Xne=globalThis.AbortController||xt().AbortController,{FunctionPrototypeCall:bP}=st(),Yi=class extends Yne{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};EP.exports=function t(e,r){if(Vne(e))return e;if(cP(e))return Na({readable:e});if(uP(e))return Na({writable:e});if(Hne(e))return Na({writable:!1,readable:!1});if(fP(e))return Na({readable:_P.fromWeb(e)});if(dP(e))return Na({writable:Jne.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Zne(e);if(lP(i))return yP(Yi,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=bP(l,i,d=>{if(d!=null)throw new pP("nully","body",d)},d=>{Da(c,d)});return c=new Yi({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,Qb.nextTick(d,null)}catch(h){Qb.nextTick(d,h)}})},destroy:a})}throw new pP("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Kne(e))return t(e.arrayBuffer());if(lP(e))return yP(Yi,e,{objectMode:!0,writable:!1});if(fP(e?.readable)&&dP(e?.writable))return Yi.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?cP(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?uP(e?.writable)?e?.writable:t(e.writable):void 0;return Na({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return bP(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Da(i,s)}),i=new Yi({objectMode:!0,writable:!1,read(){}})}throw new Gne(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Zne(t){let{promise:e,resolve:r}=gP(),n=new Xne,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(Qb.nextTick(c),l)return;if(i.aborted)throw new wP(void 0,{cause:i.reason});({promise:e,resolve:r}=gP()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Na(t){let e=t.readable&&typeof t.readable.read!="function"?_P.wrap(t.readable):t.readable,r=t.writable,n=!!jne(e),i=!!zne(r),s,o,a,l,c;function u(d){let h=l;l=null,h?h(d):d&&c.destroy(d)}return c=new Yi({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(hP(r,d=>{i=!1,d&&Da(e,d),u(d)}),c._write=function(d,h,f){r.write(d,h)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(hP(e,d=>{n=!1,d&&Da(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,h){!d&&l!==null&&(d=new wP),a=null,s=null,o=null,l===null?h(d):(l=h,Da(r,d),Da(e,d))},c}});var Ln=x((BSe,TP)=>{"use strict";var{ObjectDefineProperties:Qne,ObjectGetOwnPropertyDescriptor:hi,ObjectKeys:eie,ObjectSetPrototypeOf:xP}=st();TP.exports=un;var rw=Yc(),Yr=Vh();xP(un.prototype,rw.prototype);xP(un,rw);{let t=eie(Yr.prototype);for(let e=0;e<t.length;e++){let r=t[e];un.prototype[r]||(un.prototype[r]=Yr.prototype[r])}}function un(t){if(!(this instanceof un))return new un(t);rw.call(this,t),Yr.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Qne(un.prototype,{writable:{__proto__:null,...hi(Yr.prototype,"writable")},writableHighWaterMark:{__proto__:null,...hi(Yr.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...hi(Yr.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...hi(Yr.prototype,"writableBuffer")},writableLength:{__proto__:null,...hi(Yr.prototype,"writableLength")},writableFinished:{__proto__:null,...hi(Yr.prototype,"writableFinished")},writableCorked:{__proto__:null,...hi(Yr.prototype,"writableCorked")},writableEnded:{__proto__:null,...hi(Yr.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...hi(Yr.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var ew;function vP(){return ew===void 0&&(ew={}),ew}un.fromWeb=function(t,e){return vP().newStreamDuplexFromReadableWritablePair(t,e)};un.toWeb=function(t){return vP().newReadableWritablePairFromDuplex(t)};var tw;un.from=function(t){return tw||(tw=SP()),tw(t,"body")}});var sw=x((kSe,AP)=>{"use strict";var{ObjectSetPrototypeOf:RP,Symbol:tie}=st();AP.exports=pi;var{ERR_METHOD_NOT_IMPLEMENTED:rie}=dr().codes,iw=Ln(),{getHighWaterMark:nie}=Vc();RP(pi.prototype,iw.prototype);RP(pi,iw);var Zc=tie("kCallback");function pi(t){if(!(this instanceof pi))return new pi(t);let e=t?nie(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),iw.call(this,t),this._readableState.sync=!1,this[Zc]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",iie)}function nw(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function iie(){this._final!==nw&&nw.call(this)}pi.prototype._final=nw;pi.prototype._transform=function(t,e,r){throw new rie("_transform()")};pi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Zc]=r})};pi.prototype._read=function(){if(this[Zc]){let t=this[Zc];this[Zc]=null,t()}}});var aw=x(($Se,IP)=>{"use strict";var{ObjectSetPrototypeOf:CP}=st();IP.exports=Oa;var ow=sw();CP(Oa.prototype,ow.prototype);CP(Oa,ow);function Oa(t){if(!(this instanceof Oa))return new Oa(t);ow.call(this,t)}Oa.prototype._transform=function(t,e,r){r(null,t)}});var Kh=x((qSe,MP)=>{var Qc=ze(),{ArrayIsArray:sie,Promise:oie,SymbolAsyncIterator:aie,SymbolDispose:lie}=st(),Jh=di(),{once:cie}=vr(),uie=Gs(),NP=Ln(),{aggregateTwoErrors:fie,codes:{ERR_INVALID_ARG_TYPE:yw,ERR_INVALID_RETURN_VALUE:lw,ERR_MISSING_ARGS:die,ERR_STREAM_DESTROYED:hie,ERR_STREAM_PREMATURE_CLOSE:pie},AbortError:gie}=dr(),{validateFunction:yie,validateAbortSignal:mie}=xa(),{isIterable:Ks,isReadable:cw,isReadableNodeStream:Yh,isNodeStream:DP,isTransformStream:La,isWebStream:bie,isReadableStream:uw,isReadableFinished:wie}=Dn(),_ie=globalThis.AbortController||xt().AbortController,fw,dw,hw;function OP(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Jh(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,uie.destroyer(t,s||new hie("pipe")))},cleanup:i}}function Eie(t){return yie(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function pw(t){if(Ks(t))return t;if(Yh(t))return Sie(t);throw new yw("val",["Readable","Iterable","AsyncIterable"],t)}async function*Sie(t){dw||(dw=Yc()),yield*dw.prototype[aie].call(t)}async function Gh(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new oie((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Jh(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?fie(i,c):c)}finally{l(),e.off("drain",o)}}async function gw(t,e,r,{end:n}){La(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function xie(...t){return LP(t,cie(Eie(t)))}function LP(t,e,r){if(t.length===1&&sie(t[0])&&(t=t[0]),t.length<2)throw new die("streams");let n=new _ie,i=n.signal,s=r?.signal,o=[];mie(s,"options.signal");function a(){g(new gie)}hw=hw||vr().addAbortListener;let l;s&&(l=hw(s,a));let c,u,d=[],h=0;function f(b){g(b,--h===0)}function g(b,w){var I;if(b&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=b),!(!c&&!w)){for(;d.length;)d.shift()(c);(I=l)===null||I===void 0||I[lie](),n.abort(),w&&(c||o.forEach(O=>O()),Qc.nextTick(e,c,u))}}let p;for(let b=0;b<t.length;b++){let w=t[b],I=b<t.length-1,O=b>0,C=I||r?.end!==!1,B=b===t.length-1;if(DP(w)){let N=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(L)};var S=N;if(C){let{destroy:L,cleanup:$}=OP(w,I,O);d.push(L),cw(w)&&B&&o.push($)}w.on("error",N),cw(w)&&B&&o.push(()=>{w.removeListener("error",N)})}if(b===0)if(typeof w=="function"){if(p=w({signal:i}),!Ks(p))throw new lw("Iterable, AsyncIterable or Stream","source",p)}else Ks(w)||Yh(w)||La(w)?p=w:p=NP.from(w);else if(typeof w=="function"){if(La(p)){var m;p=pw((m=p)===null||m===void 0?void 0:m.readable)}else p=pw(p);if(p=w(p,{signal:i}),I){if(!Ks(p,!0))throw new lw("AsyncIterable",`transform[${b-1}]`,p)}else{var y;fw||(fw=aw());let N=new fw({objectMode:!0}),L=(y=p)===null||y===void 0?void 0:y.then;if(typeof L=="function")h++,L.call(p,j=>{u=j,j!=null&&N.write(j),C&&N.end(),Qc.nextTick(f)},j=>{N.destroy(j),Qc.nextTick(f,j)});else if(Ks(p,!0))h++,Gh(p,N,f,{end:C});else if(uw(p)||La(p)){let j=p.readable||p;h++,Gh(j,N,f,{end:C})}else throw new lw("AsyncIterable or Promise","destination",p);p=N;let{destroy:$,cleanup:Y}=OP(p,!1,!0);d.push($),B&&o.push(Y)}}else if(DP(w)){if(Yh(p)){h+=2;let N=vie(p,w,f,{end:C});cw(w)&&B&&o.push(N)}else if(La(p)||uw(p)){let N=p.readable||p;h++,Gh(N,w,f,{end:C})}else if(Ks(p))h++,Gh(p,w,f,{end:C});else throw new yw("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else if(bie(w)){if(Yh(p))h++,gw(pw(p),w,f,{end:C});else if(uw(p)||Ks(p))h++,gw(p,w,f,{end:C});else if(La(p))h++,gw(p.readable,w,f,{end:C});else throw new yw("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else p=NP.from(w)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Qc.nextTick(a),p}function vie(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new pie)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;wie(t)?Qc.nextTick(o):t.once("end",o)}else r();return Jh(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Jh(e,{readable:!1,writable:!0},r)}MP.exports={pipelineImpl:LP,pipeline:xie}});var bw=x((USe,qP)=>{"use strict";var{pipeline:Tie}=Kh(),Xh=Ln(),{destroyer:Rie}=Gs(),{isNodeStream:Zh,isReadable:PP,isWritable:FP,isWebStream:mw,isTransformStream:Xs,isWritableStream:BP,isReadableStream:kP}=Dn(),{AbortError:Aie,codes:{ERR_INVALID_ARG_VALUE:$P,ERR_MISSING_ARGS:Cie}}=dr(),Iie=di();qP.exports=function(...e){if(e.length===0)throw new Cie("streams");if(e.length===1)return Xh.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Xh.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Xh.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Zh(e[f])&&!mw(e[f]))){if(f<e.length-1&&!(PP(e[f])||kP(e[f])||Xs(e[f])))throw new $P(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(FP(e[f])||BP(e[f])||Xs(e[f])))throw new $P(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let g=o;o=null,g?g(f):f?a.destroy(f):!h&&!d&&a.destroy()}let c=e[0],u=Tie(e,l),d=!!(FP(c)||BP(c)||Xs(c)),h=!!(PP(u)||kP(u)||Xs(u));if(a=new Xh({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:h}),d){if(Zh(c))a._write=function(g,p,m){c.write(g,p)?m():n=m},a._final=function(g){c.end(),i=g},c.on("drain",function(){if(n){let g=n;n=null,g()}});else if(mw(c)){let p=(Xs(c)?c.writable:c).getWriter();a._write=async function(m,y,S){try{await p.ready,p.write(m).catch(()=>{}),S()}catch(b){S(b)}},a._final=async function(m){try{await p.ready,p.close().catch(()=>{}),i=m}catch(y){m(y)}}}let f=Xs(u)?u.readable:u;Iie(f,()=>{if(i){let g=i;i=null,g()}})}if(h){if(Zh(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(mw(u)){let g=(Xs(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:p,done:m}=await g.read();if(!a.push(p))return;if(m){a.push(null);return}}catch{return}}}}return a._destroy=function(f,g){!f&&o!==null&&(f=new Aie),s=null,n=null,i=null,o===null?g(f):(o=g,Zh(u)&&Rie(u,f))},a}});var KP=x((WSe,Ew)=>{"use strict";var Nie=globalThis.AbortController||xt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Die,ERR_INVALID_ARG_TYPE:eu,ERR_MISSING_ARGS:Oie,ERR_OUT_OF_RANGE:Lie},AbortError:Mn}=dr(),{validateAbortSignal:Zs,validateInteger:UP,validateObject:Qs}=xa(),Mie=st().Symbol("kWeak"),Pie=st().Symbol("kResistStopPropagation"),{finished:Fie}=di(),Bie=bw(),{addAbortSignalNoValidate:kie}=Hc(),{isWritable:$ie,isNodeStream:qie}=Dn(),{deprecate:Uie}=vr(),{ArrayPrototypePush:Wie,Boolean:jie,MathFloor:WP,Number:zie,NumberIsNaN:Hie,Promise:jP,PromiseReject:zP,PromiseResolve:Vie,PromisePrototypeThen:HP,Symbol:GP}=st(),Qh=GP("kEmpty"),VP=GP("kEof");function Gie(t,e){if(e!=null&&Qs(e,"options"),e?.signal!=null&&Zs(e.signal,"options.signal"),qie(t)&&!$ie(t))throw new Die("stream",t,"must be writable");let r=Bie(this,t);return e!=null&&e.signal&&kie(e.signal,r),r}function ep(t,e){if(typeof t!="function")throw new eu("fn",["Function","AsyncFunction"],t);e!=null&&Qs(e,"options"),e?.signal!=null&&Zs(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=WP(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=WP(e.highWaterMark)),UP(r,"options.concurrency",1),UP(n,"options.highWaterMark",0),n+=r,async function*(){let s=vr().AbortSignalAny([e?.signal].filter(jie)),o=this,a=[],l={signal:s},c,u,d=!1,h=0;function f(){d=!0,g()}function g(){h-=1,p()}function p(){u&&!d&&h<r&&a.length<n&&(u(),u=null)}async function m(){try{for await(let y of o){if(d)return;if(s.aborted)throw new Mn;try{if(y=t(y,l),y===Qh)continue;y=Vie(y)}catch(S){y=zP(S)}h+=1,HP(y,g,f),a.push(y),c&&(c(),c=null),!d&&(a.length>=n||h>=r)&&await new jP(S=>{u=S})}a.push(VP)}catch(y){let S=zP(y);HP(S,g,f),a.push(S)}finally{d=!0,c&&(c(),c=null)}}m();try{for(;;){for(;a.length>0;){let y=await a[0];if(y===VP)return;if(s.aborted)throw new Mn;y!==Qh&&(yield y),a.shift(),p()}await new jP(y=>{c=y})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function Yie(t=void 0){return t!=null&&Qs(t,"options"),t?.signal!=null&&Zs(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Mn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function YP(t,e=void 0){for await(let r of _w.call(this,t,e))return!0;return!1}async function Jie(t,e=void 0){if(typeof t!="function")throw new eu("fn",["Function","AsyncFunction"],t);return!await YP.call(this,async(...r)=>!await t(...r),e)}async function Kie(t,e){for await(let r of _w.call(this,t,e))return r}async function Xie(t,e){if(typeof t!="function")throw new eu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Qh}for await(let n of ep.call(this,r,e));}function _w(t,e){if(typeof t!="function")throw new eu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Qh}return ep.call(this,r,e)}var ww=class extends Oie{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Zie(t,e,r){var n;if(typeof t!="function")throw new eu("reducer",["Function","AsyncFunction"],t);r!=null&&Qs(r,"options"),r?.signal!=null&&Zs(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Mn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Fie(this.destroy(c)),c}let s=new Nie,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Mie]:this,[Pie]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Mn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new ww}finally{s.abort()}return e}async function Qie(t){t!=null&&Qs(t,"options"),t?.signal!=null&&Zs(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Mn(void 0,{cause:t.signal.reason});Wie(e,n)}return e}function ese(t,e){let r=ep.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function JP(t){if(t=zie(t),Hie(t))return 0;if(t<0)throw new Lie("number",">= 0",t);return t}function tse(t,e=void 0){return e!=null&&Qs(e,"options"),e?.signal!=null&&Zs(e.signal,"options.signal"),t=JP(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Mn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Mn;t--<=0&&(yield s)}}.call(this)}function rse(t,e=void 0){return e!=null&&Qs(e,"options"),e?.signal!=null&&Zs(e.signal,"options.signal"),t=JP(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Mn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Mn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}Ew.exports.streamReturningOperators={asIndexedPairs:Uie(Yie,"readable.asIndexedPairs will be removed in a future version."),drop:tse,filter:_w,flatMap:ese,map:ep,take:rse,compose:Gie};Ew.exports.promiseReturningOperators={every:Jie,forEach:Xie,reduce:Zie,toArray:Qie,some:YP,find:Kie}});var Sw=x((jSe,XP)=>{"use strict";var{ArrayPrototypePop:nse,Promise:ise}=st(),{isIterable:sse,isNodeStream:ose,isWebStream:ase}=Dn(),{pipelineImpl:lse}=Kh(),{finished:cse}=di();xw();function use(...t){return new ise((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!ose(s)&&!sse(s)&&!ase(s)){let o=nse(t);n=o.signal,i=o.end}lse(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}XP.exports={finished:cse,pipeline:use}});var xw=x((zSe,oF)=>{"use strict";var{Buffer:fse}=require("buffer"),{ObjectDefineProperty:gi,ObjectKeys:eF,ReflectApply:tF}=st(),{promisify:{custom:rF}}=vr(),{streamReturningOperators:ZP,promiseReturningOperators:QP}=KP(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:nF}}=dr(),dse=bw(),{setDefaultHighWaterMark:hse,getDefaultHighWaterMark:pse}=Vc(),{pipeline:iF}=Kh(),{destroyer:gse}=Gs(),sF=di(),vw=Sw(),tu=Dn(),et=oF.exports=Mh().Stream;et.isDestroyed=tu.isDestroyed;et.isDisturbed=tu.isDisturbed;et.isErrored=tu.isErrored;et.isReadable=tu.isReadable;et.isWritable=tu.isWritable;et.Readable=Yc();for(let t of eF(ZP)){let r=function(...n){if(new.target)throw nF();return et.Readable.from(tF(e,this,n))},e=ZP[t];gi(r,"name",{__proto__:null,value:e.name}),gi(r,"length",{__proto__:null,value:e.length}),gi(et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of eF(QP)){let r=function(...n){if(new.target)throw nF();return tF(e,this,n)},e=QP[t];gi(r,"name",{__proto__:null,value:e.name}),gi(r,"length",{__proto__:null,value:e.length}),gi(et.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}et.Writable=Vh();et.Duplex=Ln();et.Transform=sw();et.PassThrough=aw();et.pipeline=iF;var{addAbortSignal:yse}=Hc();et.addAbortSignal=yse;et.finished=sF;et.destroy=gse;et.compose=dse;et.setDefaultHighWaterMark=hse;et.getDefaultHighWaterMark=pse;gi(et,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return vw}});gi(iF,rF,{__proto__:null,enumerable:!0,get(){return vw.pipeline}});gi(sF,rF,{__proto__:null,enumerable:!0,get(){return vw.finished}});et.Stream=et;et._isUint8Array=function(e){return e instanceof Uint8Array};et._uint8ArrayToBuffer=function(e){return fse.from(e.buffer,e.byteOffset,e.byteLength)}});var Tw=x((HSe,ve)=>{"use strict";var Mt=require("stream");if(Mt&&process.env.READABLE_STREAM==="disable"){let t=Mt.promises;ve.exports._uint8ArrayToBuffer=Mt._uint8ArrayToBuffer,ve.exports._isUint8Array=Mt._isUint8Array,ve.exports.isDisturbed=Mt.isDisturbed,ve.exports.isErrored=Mt.isErrored,ve.exports.isReadable=Mt.isReadable,ve.exports.Readable=Mt.Readable,ve.exports.Writable=Mt.Writable,ve.exports.Duplex=Mt.Duplex,ve.exports.Transform=Mt.Transform,ve.exports.PassThrough=Mt.PassThrough,ve.exports.addAbortSignal=Mt.addAbortSignal,ve.exports.finished=Mt.finished,ve.exports.destroy=Mt.destroy,ve.exports.pipeline=Mt.pipeline,ve.exports.compose=Mt.compose,Object.defineProperty(Mt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),ve.exports.Stream=Mt.Stream}else{let t=xw(),e=Sw(),r=t.Readable.destroy;ve.exports=t.Readable,ve.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,ve.exports._isUint8Array=t._isUint8Array,ve.exports.isDisturbed=t.isDisturbed,ve.exports.isErrored=t.isErrored,ve.exports.isReadable=t.isReadable,ve.exports.Readable=t.Readable,ve.exports.Writable=t.Writable,ve.exports.Duplex=t.Duplex,ve.exports.Transform=t.Transform,ve.exports.PassThrough=t.PassThrough,ve.exports.addAbortSignal=t.addAbortSignal,ve.exports.finished=t.finished,ve.exports.destroy=t.destroy,ve.exports.destroy=r,ve.exports.pipeline=t.pipeline,ve.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),ve.exports.Stream=t.Stream}ve.exports.default=ve.exports});var fF=x((VSe,uF)=>{var Cw=require("fs"),lF=lT(),aF=uT(),Rw=require("path"),Pn=Ea(),mse=require("util").inherits,mt=bL(),cF=Tw().Transform,Aw=process.platform==="win32",qe=function(t,e){if(!(this instanceof qe))return new qe(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=Pn.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),cF.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=aF.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=aF.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};mse(qe,cF);qe.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};qe.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof Cw.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};qe.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};qe.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};qe.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};qe.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new mt("NOENDMETHOD"))};qe.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};qe.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};qe.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};qe.prototype._normalizeEntryData=function(t,e){t=Pn.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=Pn.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?Aw?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(Aw?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,Aw&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=Pn.dateify(t.date),t};qe.prototype._onModuleError=function(t){this.emit("error",t)};qe.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};qe.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};qe.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}Cw.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};qe.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};qe.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};qe.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=Pn.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=Pn.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=Pn.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=Cw.readlinkSync(t.filepath),n=Rw.dirname(t.filepath);t.data.type="symlink",t.data.linkname=Rw.relative(n,Rw.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new mt("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new mt("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new mt("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};qe.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};qe.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new mt("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new mt("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new mt("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=Pn.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(Pn.isStream(t))e.sourceType="stream";else return this.emit("error",new mt("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};qe.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new mt("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new mt("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function o(c){this.emit("error",c)}function a(c){l.pause();var u=!1,d=Object.assign({},r);d.name=c.relative,d.prefix=e,d.stats=c.stat,d.callback=l.resume.bind(l);try{if(n){if(d=n(d),d===!1)u=!0;else if(typeof d!="object")throw new mt("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(h){this.emit("error",h);return}if(u){l.resume();return}this._append(c.absolute,d)}var l=lF(t,i);return l.on("error",o.bind(this)),l.on("match",a.bind(this)),l.on("end",s.bind(this)),this};qe.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new mt("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new mt("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};qe.prototype.glob=function(t,e,r){this._pending++,e=Pn.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(a){this.emit("error",a)}function s(a){o.pause();var l=Object.assign({},r);l.callback=o.resume.bind(o),l.stats=a.stat,l.name=a.relative,this._append(a.absolute,l)}var o=lF(e.cwd||".",e);return o.on("error",i.bind(this)),o.on("match",s.bind(this)),o.on("end",n.bind(this)),this};qe.prototype.finalize=function(){if(this._state.aborted){var t=new mt("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new mt("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(o){s=!0,i(o)})})};qe.prototype.setFormat=function(t){return this._format?(this.emit("error",new mt("FORMATSET")),this):(this._format=t,this)};qe.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new mt("ABORTED")),this):this._state.module?(this.emit("error",new mt("MODULESET")),this):(this._module=t,this._modulePipe(),this)};qe.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new mt("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new mt("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new mt("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new mt("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};qe.prototype.pointer=function(){return this._pointer};qe.prototype.use=function(t){return this._streams.push(t),this};uF.exports=qe});var rp=x((GSe,dF)=>{var tp=dF.exports=function(){};tp.prototype.getName=function(){};tp.prototype.getSize=function(){};tp.prototype.getLastModifiedDate=function(){};tp.prototype.isDirectory=function(){}});var np=x((YSe,hF)=>{var Jr=hF.exports={};Jr.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};Jr.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};Jr.fromDosTime=function(t){return Jr.dosToDate(t.readUInt32LE(0))};Jr.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};Jr.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};Jr.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};Jr.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};Jr.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};Jr.toDosTime=function(t){return Jr.getLongBytes(Jr.dateToDos(t))}});var Iw=x((JSe,wF)=>{var pF=np(),gF=8,yF=1,bse=4,wse=2,mF=64,bF=2048,nr=wF.exports=function(){return this instanceof nr?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new nr};nr.prototype.encode=function(){return pF.getShortBytes((this.descriptor?gF:0)|(this.utf8?bF:0)|(this.encryption?yF:0)|(this.strongEncryption?mF:0))};nr.prototype.parse=function(t,e){var r=pF.getShortBytesValue(t,e),n=new nr;return n.useDataDescriptor((r&gF)!==0),n.useUTF8ForNames((r&bF)!==0),n.useStrongEncryption((r&mF)!==0),n.useEncryption((r&yF)!==0),n.setSlidingDictionarySize((r&wse)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&bse)!==0?3:2),n};nr.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};nr.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};nr.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};nr.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};nr.prototype.useDataDescriptor=function(t){this.descriptor=t};nr.prototype.usesDataDescriptor=function(){return this.descriptor};nr.prototype.useEncryption=function(t){this.encryption=t};nr.prototype.usesEncryption=function(){return this.encryption};nr.prototype.useStrongEncryption=function(t){this.strongEncryption=t};nr.prototype.usesStrongEncryption=function(){return this.strongEncryption};nr.prototype.useUTF8ForNames=function(t){this.utf8=t};nr.prototype.usesUTF8ForNames=function(){return this.utf8}});var EF=x((KSe,_F)=>{_F.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var Nw=x((XSe,SF)=>{SF.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var Dw=x((ZSe,AF)=>{var _se=require("util").inherits,Ese=Kg(),vF=rp(),TF=Iw(),xF=EF(),Tr=Nw(),RF=np(),_e=AF.exports=function(t){if(!(this instanceof _e))return new _e(t);vF.call(this),this.platform=Tr.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new TF,this.crc=0,this.time=-1,this.minver=Tr.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};_se(_e,vF);_e.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};_e.prototype.getComment=function(){return this.comment!==null?this.comment:""};_e.prototype.getCompressedSize=function(){return this.csize};_e.prototype.getCrc=function(){return this.crc};_e.prototype.getExternalAttributes=function(){return this.exattr};_e.prototype.getExtra=function(){return this.extra!==null?this.extra:Tr.EMPTY};_e.prototype.getGeneralPurposeBit=function(){return this.gpb};_e.prototype.getInternalAttributes=function(){return this.inattr};_e.prototype.getLastModifiedDate=function(){return this.getTime()};_e.prototype.getLocalFileDataExtra=function(){return this.getExtra()};_e.prototype.getMethod=function(){return this.method};_e.prototype.getName=function(){return this.name};_e.prototype.getPlatform=function(){return this.platform};_e.prototype.getSize=function(){return this.size};_e.prototype.getTime=function(){return this.time!==-1?RF.dosToDate(this.time):-1};_e.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};_e.prototype.getUnixMode=function(){return this.platform!==Tr.PLATFORM_UNIX?0:this.getExternalAttributes()>>Tr.SHORT_SHIFT&Tr.SHORT_MASK};_e.prototype.getVersionNeededToExtract=function(){return this.minver};_e.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};_e.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};_e.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};_e.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};_e.prototype.setExtra=function(t){this.extra=t};_e.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof TF))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};_e.prototype.setInternalAttributes=function(t){this.inattr=t};_e.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};_e.prototype.setName=function(t,e=!1){t=Ese(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};_e.prototype.setPlatform=function(t){this.platform=t};_e.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};_e.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=RF.dateToDos(t,e)};_e.prototype.setUnixMode=function(t){t|=this.isDirectory()?Tr.S_IFDIR:Tr.S_IFREG;var e=0;e|=t<<Tr.SHORT_SHIFT|(this.isDirectory()?Tr.S_DOS_D:Tr.S_DOS_A),this.setExternalAttributes(e),this.mode=t&Tr.MODE_MASK,this.platform=Tr.PLATFORM_UNIX};_e.prototype.setVersionNeededToExtract=function(t){this.minver=t};_e.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};_e.prototype.isUnixSymlink=function(){return(this.getUnixMode()&xF.FILE_TYPE_FLAG)===xF.LINK_FLAG};_e.prototype.isZip64=function(){return this.csize>Tr.ZIP64_MAGIC||this.size>Tr.ZIP64_MAGIC}});var ot=x((QSe,CF)=>{"use strict";var Ow=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};CF.exports={AggregateError:Ow,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var Lw=x((exe,IF)=>{"use strict";IF.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var pr=x((txe,OF)=>{"use strict";var{format:Sse,inspect:ip}=Lw(),{AggregateError:xse}=ot(),vse=globalThis.AggregateError||xse,Tse=Symbol("kIsNodeError"),Rse=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Ase=/^([A-Z][a-z0-9]*)+$/,Cse="__node_internal_",sp={};function eo(t,e){if(!t)throw new sp.ERR_INTERNAL_ASSERTION(e)}function NF(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Ise(t,e,r){if(typeof e=="function")return eo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return eo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Sse(e,...r)}function ir(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(Ise(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Tse]=!0,sp[t]=n}function DF(t){let e=Cse+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Nse(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new vse([e,t],e.message);return r.code=e.code,r}return t||e}var Mw=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new sp.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ir("ERR_ASSERTION","%s",Error);ir("ERR_INVALID_ARG_TYPE",(t,e,r)=>{eo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)eo(typeof l=="string","All expected entries have to be of type string"),Rse.includes(l)?i.push(l.toLowerCase()):Ase.test(l)?s.push(l):(eo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=ip(r,{depth:-1});n+=`. Received ${l}`}}else{let l=ip(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);ir("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=ip(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);ir("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);ir("ERR_MISSING_ARGS",(...t)=>{eo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);ir("ERR_OUT_OF_RANGE",(t,e,r)=>{eo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=NF(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=NF(n)),n+="n"}else n=ip(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);ir("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ir("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ir("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ir("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ir("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ir("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ir("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ir("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ir("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ir("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ir("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);OF.exports={AbortError:Mw,aggregateTwoErrors:DF(Nse),hideStackFrames:DF,codes:sp}});var Rr=x((rxe,Fw)=>{"use strict";var Dse=require("buffer"),{format:Ose,inspect:Lse}=Lw(),{codes:{ERR_INVALID_ARG_TYPE:Pw}}=pr(),{kResistStopPropagation:Mse,AggregateError:Pse,SymbolDispose:Fse}=ot(),Bse=globalThis.AbortSignal||xt().AbortSignal,kse=globalThis.AbortController||xt().AbortController,$se=Object.getPrototypeOf(async function(){}).constructor,LF=globalThis.Blob||Dse.Blob,qse=typeof LF<"u"?function(e){return e instanceof LF}:function(e){return!1},MF=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Pw(e,"AbortSignal",t)},Use=(t,e)=>{if(typeof t!="function")throw new Pw(e,"Function",t)};Fw.exports={AggregateError:Pse,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:Ose,inspect:Lse,types:{isAsyncFunction(t){return t instanceof $se},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:qse,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new Pw("signal","AbortSignal",e);MF(e,"signal"),Use(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[Mse]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Fse](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Bse.any||function(e){if(e.length===1)return e[0];let r=new kse,n=()=>r.abort();return e.forEach(i=>{MF(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};Fw.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Pa=x((nxe,zF)=>{"use strict";var{ArrayIsArray:kw,ArrayPrototypeIncludes:kF,ArrayPrototypeJoin:$F,ArrayPrototypeMap:Wse,NumberIsInteger:$w,NumberIsNaN:jse,NumberMAX_SAFE_INTEGER:zse,NumberMIN_SAFE_INTEGER:Hse,NumberParseInt:Vse,ObjectPrototypeHasOwnProperty:Gse,RegExpPrototypeExec:qF,String:Yse,StringPrototypeToUpperCase:Jse,StringPrototypeTrim:Kse}=ot(),{hideStackFrames:Kr,codes:{ERR_SOCKET_BAD_PORT:Xse,ERR_INVALID_ARG_TYPE:gr,ERR_INVALID_ARG_VALUE:Ma,ERR_OUT_OF_RANGE:to,ERR_UNKNOWN_SIGNAL:PF}}=pr(),{normalizeEncoding:Zse}=Rr(),{isAsyncFunction:Qse,isArrayBufferView:eoe}=Rr().types,FF={};function toe(t){return t===(t|0)}function roe(t){return t===t>>>0}var noe=/^[0-7]+$/,ioe="must be a 32-bit unsigned integer or an octal string";function soe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(qF(noe,t)===null)throw new Ma(e,t,ioe);t=Vse(t,8)}return UF(t,e),t}var ooe=Kr((t,e,r=Hse,n=zse)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!$w(t))throw new to(e,"an integer",t);if(t<r||t>n)throw new to(e,`>= ${r} && <= ${n}`,t)}),aoe=Kr((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!$w(t))throw new to(e,"an integer",t);if(t<r||t>n)throw new to(e,`>= ${r} && <= ${n}`,t)}),UF=Kr((t,e,r=!1)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!$w(t))throw new to(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new to(e,`>= ${n} && <= ${i}`,t)});function qw(t,e){if(typeof t!="string")throw new gr(e,"string",t)}function loe(t,e,r=void 0,n){if(typeof t!="number")throw new gr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&jse(t))throw new to(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var coe=Kr((t,e,r)=>{if(!kF(r,t)){let i="must be one of: "+$F(Wse(r,s=>typeof s=="string"?`'${s}'`:Yse(s)),", ");throw new Ma(e,t,i)}});function WF(t,e){if(typeof t!="boolean")throw new gr(e,"boolean",t)}function Bw(t,e,r){return t==null||!Gse(t,e)?r:t[e]}var uoe=Kr((t,e,r=null)=>{let n=Bw(r,"allowArray",!1),i=Bw(r,"allowFunction",!1);if(!Bw(r,"nullable",!1)&&t===null||!n&&kw(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new gr(e,"Object",t)}),foe=Kr((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new gr(e,"a dictionary",t)}),op=Kr((t,e,r=0)=>{if(!kw(t))throw new gr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Ma(e,t,n)}});function doe(t,e){op(t,e);for(let r=0;r<t.length;r++)qw(t[r],`${e}[${r}]`)}function hoe(t,e){op(t,e);for(let r=0;r<t.length;r++)WF(t[r],`${e}[${r}]`)}function poe(t,e){op(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new gr(i,"AbortSignal",n);jF(n,i)}}function goe(t,e="signal"){if(qw(t,e),FF[t]===void 0)throw FF[Jse(t)]!==void 0?new PF(t+" (signals must use all capital letters)"):new PF(t)}var yoe=Kr((t,e="buffer")=>{if(!eoe(t))throw new gr(e,["Buffer","TypedArray","DataView"],t)});function moe(t,e){let r=Zse(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Ma("encoding",e,`is invalid for data of length ${n}`)}function boe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Kse(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Xse(e,t,r);return t|0}var jF=Kr((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new gr(e,"AbortSignal",t)}),woe=Kr((t,e)=>{if(typeof t!="function")throw new gr(e,"Function",t)}),_oe=Kr((t,e)=>{if(typeof t!="function"||Qse(t))throw new gr(e,"Function",t)}),Eoe=Kr((t,e)=>{if(t!==void 0)throw new gr(e,"undefined",t)});function Soe(t,e,r){if(!kF(r,t))throw new gr(e,`('${$F(r,"|")}')`,t)}var xoe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function BF(t,e){if(typeof t>"u"||!qF(xoe,t))throw new Ma(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function voe(t){if(typeof t=="string")return BF(t,"hints"),t;if(kw(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];BF(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Ma("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}zF.exports={isInt32:toe,isUint32:roe,parseFileMode:soe,validateArray:op,validateStringArray:doe,validateBooleanArray:hoe,validateAbortSignalArray:poe,validateBoolean:WF,validateBuffer:yoe,validateDictionary:foe,validateEncoding:moe,validateFunction:woe,validateInt32:aoe,validateInteger:ooe,validateNumber:loe,validateObject:uoe,validateOneOf:coe,validatePlainFunction:_oe,validatePort:boe,validateSignalName:goe,validateString:qw,validateUint32:UF,validateUndefined:Eoe,validateUnion:Soe,validateAbortSignal:jF,validateLinkHeaderValue:voe}});var Bn=x((ixe,sB)=>{"use strict";var{SymbolAsyncIterator:HF,SymbolIterator:VF,SymbolFor:ro}=ot(),GF=ro("nodejs.stream.destroyed"),YF=ro("nodejs.stream.errored"),Uw=ro("nodejs.stream.readable"),Ww=ro("nodejs.stream.writable"),JF=ro("nodejs.stream.disturbed"),Toe=ro("nodejs.webstream.isClosedPromise"),Roe=ro("nodejs.webstream.controllerErrorFunction");function ap(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function lp(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Aoe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Fn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function KF(t){return!!(t&&!Fn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function XF(t){return!!(t&&!Fn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function ZF(t){return!!(t&&!Fn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Coe(t){return KF(t)||XF(t)||ZF(t)}function Ioe(t,e){return t==null?!1:e===!0?typeof t[HF]=="function":e===!1?typeof t[VF]=="function":typeof t[HF]=="function"||typeof t[VF]=="function"}function cp(t){if(!Fn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[GF]||n!=null&&n.destroyed)}function QF(t){if(!lp(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Noe(t,e){if(!lp(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Doe(t){if(!ap(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function eB(t,e){if(!ap(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function tB(t){return t&&t[Uw]!=null?t[Uw]:typeof t?.readable!="boolean"?null:cp(t)?!1:ap(t)&&t.readable&&!eB(t)}function rB(t){return t&&t[Ww]!=null?t[Ww]:typeof t?.writable!="boolean"?null:cp(t)?!1:lp(t)&&t.writable&&!QF(t)}function Ooe(t,e){return Fn(t)?cp(t)?!0:!(e?.readable!==!1&&tB(t)||e?.writable!==!1&&rB(t)):null}function Loe(t){var e,r;return Fn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Moe(t){var e,r;return Fn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Poe(t){if(!Fn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&nB(t)?t._closed:null}function nB(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function iB(t){return typeof t._sent100=="boolean"&&nB(t)}function Foe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Boe(t){if(!Fn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&iB(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function koe(t){var e;return!!(t&&((e=t[JF])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function $oe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[YF])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}sB.exports={isDestroyed:cp,kIsDestroyed:GF,isDisturbed:koe,kIsDisturbed:JF,isErrored:$oe,kIsErrored:YF,isReadable:tB,kIsReadable:Uw,kIsClosedPromise:Toe,kControllerErrorFunction:Roe,kIsWritable:Ww,isClosed:Poe,isDuplexNodeStream:Aoe,isFinished:Ooe,isIterable:Ioe,isReadableNodeStream:ap,isReadableStream:KF,isReadableEnded:Doe,isReadableFinished:eB,isReadableErrored:Moe,isNodeStream:Fn,isWebStream:Coe,isWritable:rB,isWritableNodeStream:lp,isWritableStream:XF,isWritableEnded:QF,isWritableFinished:Noe,isWritableErrored:Loe,isServerRequest:Foe,isServerResponse:iB,willEmitClose:Boe,isTransformStream:ZF}});var yi=x((sxe,Gw)=>{"use strict";var Ji=ze(),{AbortError:pB,codes:qoe}=pr(),{ERR_INVALID_ARG_TYPE:Uoe,ERR_STREAM_PREMATURE_CLOSE:oB}=qoe,{kEmptyObject:zw,once:Hw}=Rr(),{validateAbortSignal:Woe,validateFunction:joe,validateObject:zoe,validateBoolean:Hoe}=Pa(),{Promise:Voe,PromisePrototypeThen:Goe,SymbolDispose:gB}=ot(),{isClosed:Yoe,isReadable:aB,isReadableNodeStream:jw,isReadableStream:Joe,isReadableFinished:lB,isReadableErrored:cB,isWritable:uB,isWritableNodeStream:fB,isWritableStream:Koe,isWritableFinished:dB,isWritableErrored:hB,isNodeStream:Xoe,willEmitClose:Zoe,kIsClosedPromise:Qoe}=Bn(),Fa;function eae(t){return t.setHeader&&typeof t.abort=="function"}var Vw=()=>{};function yB(t,e,r){var n,i;if(arguments.length===2?(r=e,e=zw):e==null?e=zw:zoe(e,"options"),joe(r,"callback"),Woe(e.signal,"options.signal"),r=Hw(r),Joe(t)||Koe(t))return tae(t,e,r);if(!Xoe(t))throw new Uoe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:jw(t),o=(i=e.writable)!==null&&i!==void 0?i:fB(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||h()},u=Zoe(t)&&jw(t)===s&&fB(t)===o,d=dB(t,!1),h=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=lB(t,!1),g=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},p=I=>{r.call(t,I)},m=Yoe(t),y=()=>{m=!0;let I=hB(t)||cB(t);if(I&&typeof I!="boolean")return r.call(t,I);if(s&&!f&&jw(t,!0)&&!lB(t,!1))return r.call(t,new oB);if(o&&!d&&!dB(t,!1))return r.call(t,new oB);r.call(t)},S=()=>{m=!0;let I=hB(t)||cB(t);if(I&&typeof I!="boolean")return r.call(t,I);r.call(t)},b=()=>{t.req.on("finish",h)};eae(t)?(t.on("complete",h),u||t.on("abort",y),t.req?b():t.on("request",b)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",g),t.on("finish",h),e.error!==!1&&t.on("error",p),t.on("close",y),m?Ji.nextTick(y):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Ji.nextTick(S):(!s&&(!u||aB(t))&&(d||uB(t)===!1)||!o&&(!u||uB(t))&&(f||aB(t)===!1)||l&&t.req&&t.aborted)&&Ji.nextTick(S);let w=()=>{r=Vw,t.removeListener("aborted",y),t.removeListener("complete",h),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",g),t.removeListener("error",p),t.removeListener("close",y)};if(e.signal&&!m){let I=()=>{let O=r;w(),O.call(t,new pB(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ji.nextTick(I);else{Fa=Fa||Rr().addAbortListener;let O=Fa(e.signal,I),C=r;r=Hw((...B)=>{O[gB](),C.apply(t,B)})}}return w}function tae(t,e,r){let n=!1,i=Vw;if(e.signal)if(i=()=>{n=!0,r.call(t,new pB(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ji.nextTick(i);else{Fa=Fa||Rr().addAbortListener;let o=Fa(e.signal,i),a=r;r=Hw((...l)=>{o[gB](),a.apply(t,l)})}let s=(...o)=>{n||Ji.nextTick(()=>r.apply(t,o))};return Goe(t[Qoe].promise,s,s),Vw}function rae(t,e){var r;let n=!1;return e===null&&(e=zw),(r=e)!==null&&r!==void 0&&r.cleanup&&(Hoe(e.cleanup,"cleanup"),n=e.cleanup),new Voe((i,s)=>{let o=yB(t,e,a=>{n&&o(),a?s(a):i()})})}Gw.exports=yB;Gw.exports.finished=rae});var no=x((oxe,vB)=>{"use strict";var kn=ze(),{aggregateTwoErrors:nae,codes:{ERR_MULTIPLE_CALLBACK:iae},AbortError:sae}=pr(),{Symbol:wB}=ot(),{kIsDestroyed:oae,isDestroyed:aae,isFinished:lae,isServerRequest:cae}=Bn(),_B=wB("kDestroy"),Yw=wB("kConstruct");function EB(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function uae(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(EB(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?mB(this,t,e):this.once(_B,function(s){mB(this,nae(s,t),e)}),this)}function mB(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;EB(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?kn.nextTick(fae,t,s):kn.nextTick(SB,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function fae(t,e){Jw(t,e),SB(t)}function SB(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Jw(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function dae(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Kw(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?kn.nextTick(Jw,t,e):Jw(t,e))}function hae(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Yw,e),!(t.listenerCount(Yw)>1)&&kn.nextTick(pae,t)}function pae(t){let e=!1;function r(n){if(e){Kw(t,n??new iae);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(_B,n):n?Kw(t,n,!0):kn.nextTick(gae,t)}try{t._construct(n=>{kn.nextTick(r,n)})}catch(n){kn.nextTick(r,n)}}function gae(t){t.emit(Yw)}function bB(t){return t?.setHeader&&typeof t.abort=="function"}function xB(t){t.emit("close")}function yae(t,e){t.emit("error",e),kn.nextTick(xB,t)}function mae(t,e){!t||aae(t)||(!e&&!lae(t)&&(e=new sae),cae(t)?(t.socket=null,t.destroy(e)):bB(t)?t.abort():bB(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?kn.nextTick(yae,t,e):kn.nextTick(xB,t),t.destroyed||(t[oae]=!0))}vB.exports={construct:hae,destroyer:mae,destroy:uae,undestroy:dae,errorOrDestroy:Kw}});var dp=x((axe,RB)=>{"use strict";var{ArrayIsArray:bae,ObjectSetPrototypeOf:TB}=ot(),{EventEmitter:up}=require("events");function fp(t){up.call(this,t)}TB(fp.prototype,up.prototype);TB(fp,up);fp.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),up.listenerCount(this,"error")===0&&this.emit("error",u)}Xw(r,"error",l),Xw(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Xw(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):bae(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}RB.exports={Stream:fp,prependListener:Xw}});var ru=x((lxe,hp)=>{"use strict";var{SymbolDispose:wae}=ot(),{AbortError:AB,codes:_ae}=pr(),{isNodeStream:CB,isWebStream:Eae,kControllerErrorFunction:Sae}=Bn(),xae=yi(),{ERR_INVALID_ARG_TYPE:IB}=_ae,Zw,vae=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new IB(e,"AbortSignal",t)};hp.exports.addAbortSignal=function(e,r){if(vae(e,"signal"),!CB(r)&&!Eae(r))throw new IB("stream",["ReadableStream","WritableStream","Stream"],r);return hp.exports.addAbortSignalNoValidate(e,r)};hp.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=CB(e)?()=>{e.destroy(new AB(void 0,{cause:t.reason}))}:()=>{e[Sae](new AB(void 0,{cause:t.reason}))};if(t.aborted)r();else{Zw=Zw||Rr().addAbortListener;let n=Zw(t,r);xae(e,n[wae])}return e}});var OB=x((uxe,DB)=>{"use strict";var{StringPrototypeSlice:NB,SymbolIterator:Tae,TypedArrayPrototypeSet:pp,Uint8Array:Rae}=ot(),{Buffer:Qw}=require("buffer"),{inspect:Aae}=Rr();DB.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Qw.alloc(0);let r=Qw.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)pp(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Tae](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=NB(s,0,e),this.head=n,n.data=NB(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Qw.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)pp(r,o,n-e),e-=o.length;else{e===o.length?(pp(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(pp(r,new Rae(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Aae(this,{...r,depth:0,customInspect:!1})}}});var nu=x((fxe,FB)=>{"use strict";var{MathFloor:Cae,NumberIsInteger:Iae}=ot(),{validateInteger:Nae}=Pa(),{ERR_INVALID_ARG_VALUE:Dae}=pr().codes,LB=16*1024,MB=16;function Oae(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function PB(t){return t?MB:LB}function Lae(t,e){Nae(e,"value",0),t?MB=e:LB=e}function Mae(t,e,r,n){let i=Oae(e,n,r);if(i!=null){if(!Iae(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Dae(s,i)}return Cae(i)}return PB(t.objectMode)}FB.exports={getHighWaterMark:Mae,getDefaultHighWaterMark:PB,setDefaultHighWaterMark:Lae}});var e_=x((dxe,qB)=>{"use strict";var BB=ze(),{PromisePrototypeThen:Pae,SymbolAsyncIterator:kB,SymbolIterator:$B}=ot(),{Buffer:Fae}=require("buffer"),{ERR_INVALID_ARG_TYPE:Bae,ERR_STREAM_NULL_VALUES:kae}=pr().codes;function $ae(t,e,r){let n;if(typeof e=="string"||e instanceof Fae)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[kB])i=!0,n=e[kB]();else if(e&&e[$B])i=!1,n=e[$B]();else throw new Bae("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Pae(a(c),()=>BB.nextTick(u,c),d=>BB.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:h,done:f}=await n.throw(c);if(await h,f)return}if(typeof n.return=="function"){let{value:h}=await n.return();await h}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new kae;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}qB.exports=$ae});var su=x((hxe,i2)=>{"use strict";var fn=ze(),{ArrayPrototypeIndexOf:qae,NumberIsInteger:Uae,NumberIsNaN:Wae,NumberParseInt:jae,ObjectDefineProperties:l_,ObjectKeys:zae,ObjectSetPrototypeOf:jB,Promise:zB,SafeSet:Hae,SymbolAsyncDispose:Vae,SymbolAsyncIterator:Gae,Symbol:Yae}=ot();i2.exports=ye;ye.ReadableState=bp;var{EventEmitter:Jae}=require("events"),{Stream:Ki,prependListener:Kae}=dp(),{Buffer:t_}=require("buffer"),{addAbortSignal:Xae}=ru(),HB=yi(),Ne=Rr().debuglog("stream",t=>{Ne=t}),Zae=OB(),$a=no(),{getHighWaterMark:Qae,getDefaultHighWaterMark:ele}=nu(),{aggregateTwoErrors:UB,codes:{ERR_INVALID_ARG_TYPE:tle,ERR_METHOD_NOT_IMPLEMENTED:rle,ERR_OUT_OF_RANGE:nle,ERR_STREAM_PUSH_AFTER_EOF:ile,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:sle},AbortError:ole}=pr(),{validateObject:ale}=Pa(),io=Yae("kPaused"),{StringDecoder:VB}=cc(),lle=e_();jB(ye.prototype,Ki.prototype);jB(ye,Ki);var r_=()=>{},{errorOrDestroy:Ba}=$a,ka=1,cle=2,GB=4,iu=8,YB=16,gp=32,yp=64,JB=128,ule=256,fle=512,dle=1024,o_=2048,a_=4096,hle=8192,ple=16384,gle=32768,KB=65536,yle=1<<17,mle=1<<18;function Pt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}l_(bp.prototype,{objectMode:Pt(ka),ended:Pt(cle),endEmitted:Pt(GB),reading:Pt(iu),constructed:Pt(YB),sync:Pt(gp),needReadable:Pt(yp),emittedReadable:Pt(JB),readableListening:Pt(ule),resumeScheduled:Pt(fle),errorEmitted:Pt(dle),emitClose:Pt(o_),autoDestroy:Pt(a_),destroyed:Pt(hle),closed:Pt(ple),closeEmitted:Pt(gle),multiAwaitDrain:Pt(KB),readingMore:Pt(yle),dataEmitted:Pt(mle)});function bp(t,e,r){typeof r!="boolean"&&(r=e instanceof $n()),this.state=o_|a_|YB|gp,t&&t.objectMode&&(this.state|=ka),r&&t&&t.readableObjectMode&&(this.state|=ka),this.highWaterMark=t?Qae(this,t,"readableHighWaterMark",r):ele(!1),this.buffer=new Zae,this.length=0,this.pipes=[],this.flowing=null,this[io]=null,t&&t.emitClose===!1&&(this.state&=~o_),t&&t.autoDestroy===!1&&(this.state&=~a_),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new VB(t.encoding),this.encoding=t.encoding)}function ye(t){if(!(this instanceof ye))return new ye(t);let e=this instanceof $n();this._readableState=new bp(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Xae(t.signal,this)),Ki.call(this,t),$a.construct(this,()=>{this._readableState.needReadable&&mp(this,this._readableState)})}ye.prototype.destroy=$a.destroy;ye.prototype._undestroy=$a.undestroy;ye.prototype._destroy=function(t,e){e(t)};ye.prototype[Jae.captureRejectionSymbol]=function(t){this.destroy(t)};ye.prototype[Vae]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new ole,this.destroy(t)),new zB((e,r)=>HB(this,n=>n&&n!==t?r(n):e(null)))};ye.prototype.push=function(t,e){return XB(this,t,e,!1)};ye.prototype.unshift=function(t,e){return XB(this,t,e,!0)};function XB(t,e,r,n){Ne("readableAddChunk",e);let i=t._readableState,s;if((i.state&ka)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=t_.from(e,r).toString(i.encoding):(e=t_.from(e,r),r=""))):e instanceof t_?r="":Ki._isUint8Array(e)?(e=Ki._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new tle("chunk",["string","Buffer","Uint8Array"],e))),s)Ba(t,s);else if(e===null)i.state&=~iu,_le(t,i);else if((i.state&ka)!==0||e&&e.length>0)if(n)if((i.state&GB)!==0)Ba(t,new sle);else{if(i.destroyed||i.errored)return!1;n_(t,i,e,!0)}else if(i.ended)Ba(t,new ile);else{if(i.destroyed||i.errored)return!1;i.state&=~iu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?n_(t,i,e,!1):mp(t,i)):n_(t,i,e,!1)}else n||(i.state&=~iu,mp(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function n_(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&KB)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&yp)!==0&&wp(t)),mp(t,e)}ye.prototype.isPaused=function(){let t=this._readableState;return t[io]===!0||t.flowing===!1};ye.prototype.setEncoding=function(t){let e=new VB(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var ble=1073741824;function wle(t){if(t>ble)throw new nle("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function WB(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&ka)!==0?1:Wae(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}ye.prototype.read=function(t){Ne("read",t),t===void 0?t=NaN:Uae(t)||(t=jae(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=wle(t)),t!==0&&(e.state&=~JB),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ne("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?i_(this):wp(this),null;if(t=WB(t,e),t===0&&e.ended)return e.length===0&&i_(this),null;let n=(e.state&yp)!==0;if(Ne("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ne("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Ne("reading, ended or constructing",n);else if(n){Ne("do read"),e.state|=iu|gp,e.length===0&&(e.state|=yp);try{this._read(e.highWaterMark)}catch(s){Ba(this,s)}e.state&=~gp,e.reading||(t=WB(r,e))}let i;return t>0?i=r2(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&i_(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function _le(t,e){if(Ne("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?wp(t):(e.needReadable=!1,e.emittedReadable=!0,ZB(t))}}function wp(t){let e=t._readableState;Ne("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ne("emitReadable",e.flowing),e.emittedReadable=!0,fn.nextTick(ZB,t))}function ZB(t){let e=t._readableState;Ne("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,e2(t)}function mp(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,fn.nextTick(Ele,t,e))}function Ele(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Ne("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ye.prototype._read=function(t){throw new rle("_read()")};ye.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Hae(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Ne("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==fn.stdout&&t!==fn.stderr?a:m;n.endEmitted?fn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,S){Ne("onunpipe"),y===r&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,u())}function a(){Ne("onend"),t.end()}let l,c=!1;function u(){Ne("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Ne("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Ne("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Sle(r,t),t.on("drain",l))}r.on("data",h);function h(y){Ne("ondata");let S=t.write(y);Ne("dest.write",S),S===!1&&d()}function f(y){if(Ne("onerror",y),m(),t.removeListener("error",f),t.listenerCount("error")===0){let S=t._writableState||t._readableState;S&&!S.errorEmitted?Ba(t,y):t.emit("error",y)}}Kae(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){Ne("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){Ne("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Ne("pipe resume"),r.resume()),t};function Sle(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Ne("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Ne("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}ye.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=qae(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};ye.prototype.on=function(t,e){let r=Ki.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ne("on readable",n.length,n.reading),n.length?wp(this):n.reading||fn.nextTick(xle,this)),r};ye.prototype.addListener=ye.prototype.on;ye.prototype.removeListener=function(t,e){let r=Ki.prototype.removeListener.call(this,t,e);return t==="readable"&&fn.nextTick(QB,this),r};ye.prototype.off=ye.prototype.removeListener;ye.prototype.removeAllListeners=function(t){let e=Ki.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&fn.nextTick(QB,this),e};function QB(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[io]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function xle(t){Ne("readable nexttick read 0"),t.read(0)}ye.prototype.resume=function(){let t=this._readableState;return t.flowing||(Ne("resume"),t.flowing=!t.readableListening,vle(this,t)),t[io]=!1,this};function vle(t,e){e.resumeScheduled||(e.resumeScheduled=!0,fn.nextTick(Tle,t,e))}function Tle(t,e){Ne("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),e2(t),e.flowing&&!e.reading&&t.read(0)}ye.prototype.pause=function(){return Ne("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ne("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[io]=!0,this};function e2(t){let e=t._readableState;for(Ne("flow",e.flowing);e.flowing&&t.read()!==null;);}ye.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Ba(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=zae(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};ye.prototype[Gae]=function(){return t2(this)};ye.prototype.iterator=function(t){return t!==void 0&&ale(t,"options"),t2(this,t)};function t2(t,e){typeof t.read!="function"&&(t=ye.wrap(t,{objectMode:!0}));let r=Rle(t,e);return r.stream=t,r}async function*Rle(t,e){let r=r_;function n(o){this===t?(r(),r=r_):r=o}t.on("readable",n);let i,s=HB(t,{writable:!1},o=>{i=o?UB(i,o):null,r(),r=r_});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new zB(n)}}}catch(o){throw i=UB(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?$a.destroyer(t,null):(t.off("readable",n),s())}}l_(ye.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});l_(bp.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[io]!==!1},set(t){this[io]=!!t}}});ye._fromList=r2;function r2(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function i_(t){let e=t._readableState;Ne("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,fn.nextTick(Ale,e,t))}function Ale(t,e){if(Ne("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)fn.nextTick(Cle,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Cle(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}ye.from=function(t,e){return lle(ye,t,e)};var s_;function n2(){return s_===void 0&&(s_={}),s_}ye.fromWeb=function(t,e){return n2().newStreamReadableFromReadableStream(t,e)};ye.toWeb=function(t,e){return n2().newReadableStreamFromStreamReadable(t,e)};ye.wrap=function(t,e){var r,n;return new ye({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){$a.destroyer(t,i),s(i)}}).wrap(t)}});var vp=x((pxe,y2)=>{"use strict";var so=ze(),{ArrayPrototypeSlice:a2,Error:Ile,FunctionPrototypeSymbolHasInstance:l2,ObjectDefineProperty:c2,ObjectDefineProperties:Nle,ObjectSetPrototypeOf:u2,StringPrototypeToLowerCase:Dle,Symbol:Ole,SymbolHasInstance:Lle}=ot();y2.exports=ft;ft.WritableState=lu;var{EventEmitter:Mle}=require("events"),ou=dp().Stream,{Buffer:_p}=require("buffer"),xp=no(),{addAbortSignal:Ple}=ru(),{getHighWaterMark:Fle,getDefaultHighWaterMark:Ble}=nu(),{ERR_INVALID_ARG_TYPE:kle,ERR_METHOD_NOT_IMPLEMENTED:$le,ERR_MULTIPLE_CALLBACK:f2,ERR_STREAM_CANNOT_PIPE:qle,ERR_STREAM_DESTROYED:au,ERR_STREAM_ALREADY_FINISHED:Ule,ERR_STREAM_NULL_VALUES:Wle,ERR_STREAM_WRITE_AFTER_END:jle,ERR_UNKNOWN_ENCODING:d2}=pr().codes,{errorOrDestroy:qa}=xp;u2(ft.prototype,ou.prototype);u2(ft,ou);function f_(){}var Ua=Ole("kOnFinished");function lu(t,e,r){typeof r!="boolean"&&(r=e instanceof $n()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Fle(this,t,"writableHighWaterMark",r):Ble(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Hle.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Sp(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ua]=[]}function Sp(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}lu.prototype.getBuffer=function(){return a2(this.buffered,this.bufferedIndex)};c2(lu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ft(t){let e=this instanceof $n();if(!e&&!l2(ft,this))return new ft(t);this._writableState=new lu(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Ple(t.signal,this)),ou.call(this,t),xp.construct(this,()=>{let r=this._writableState;r.writing||h_(this,r),p_(this,r)})}c2(ft,Lle,{__proto__:null,value:function(t){return l2(this,t)?!0:this!==ft?!1:t&&t._writableState instanceof lu}});ft.prototype.pipe=function(){qa(this,new qle)};function h2(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!_p.isEncoding(r))throw new d2(r);typeof n!="function"&&(n=f_)}if(e===null)throw new Wle;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=_p.from(e,r),r="buffer");else if(e instanceof _p)r="buffer";else if(ou._isUint8Array(e))e=ou._uint8ArrayToBuffer(e),r="buffer";else throw new kle("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new jle:i.destroyed&&(s=new au("write")),s?(so.nextTick(n,s),qa(t,s,!0),s):(i.pendingcb++,zle(t,i,e,r,n))}ft.prototype.write=function(t,e,r){return h2(this,t,e,r)===!0};ft.prototype.cork=function(){this._writableState.corked++};ft.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||h_(this,t))};ft.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Dle(e)),!_p.isEncoding(e))throw new d2(e);return this._writableState.defaultEncoding=e,this};function zle(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==f_&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function s2(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new au("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function o2(t,e,r,n){--e.pendingcb,n(r),d_(e),qa(t,r)}function Hle(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){qa(t,new f2);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?so.nextTick(o2,t,r,e,i):o2(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&h_(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},so.nextTick(Vle,r.afterWriteTickInfo)):p2(t,r,1,i))}function Vle({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,p2(t,e,r,n)}function p2(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&d_(e),p_(t,e)}function d_(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new au("write"))}let r=t[Ua].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new au("end"))}Sp(t)}function h_(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?f_:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:a2(r,o);l.allBuffers=e.allBuffers,s2(t,e,!0,e.length,l,"",a),Sp(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;s2(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Sp(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ft.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new $le("_write()")};ft.prototype._writev=null;ft.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=h2(this,t,e);s instanceof Ile&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,p_(this,n,!0),n.ended=!0):n.finished?i=new Ule("end"):n.destroyed&&(i=new au("end"))),typeof r=="function"&&(i||n.finished?so.nextTick(r,i):n[Ua].push(r)),this};function Ep(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Gle(t,e){let r=!1;function n(i){if(r){qa(t,i??f2());return}if(r=!0,e.pendingcb--,i){let s=e[Ua].splice(0);for(let o=0;o<s.length;o++)s[o](i);qa(t,i,e.sync)}else Ep(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,so.nextTick(u_,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Yle(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Gle(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function p_(t,e,r){Ep(e)&&(Yle(t,e),e.pendingcb===0&&(r?(e.pendingcb++,so.nextTick((n,i)=>{Ep(i)?u_(n,i):i.pendingcb--},t,e)):Ep(e)&&(e.pendingcb++,u_(t,e))))}function u_(t,e){e.pendingcb--,e.finished=!0;let r=e[Ua].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Nle(ft.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Jle=xp.destroy;ft.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Ua].length)&&so.nextTick(d_,r),Jle.call(this,t,e),this};ft.prototype._undestroy=xp.undestroy;ft.prototype._destroy=function(t,e){e(t)};ft.prototype[Mle.captureRejectionSymbol]=function(t){this.destroy(t)};var c_;function g2(){return c_===void 0&&(c_={}),c_}ft.fromWeb=function(t,e){return g2().newStreamWritableFromWritableStream(t,e)};ft.toWeb=function(t){return g2().newWritableStreamFromStreamWritable(t)}});var D2=x((gxe,N2)=>{var g_=ze(),Kle=require("buffer"),{isReadable:Xle,isWritable:Zle,isIterable:m2,isNodeStream:Qle,isReadableNodeStream:b2,isWritableNodeStream:w2,isDuplexNodeStream:ece,isReadableStream:_2,isWritableStream:E2}=Bn(),S2=yi(),{AbortError:C2,codes:{ERR_INVALID_ARG_TYPE:tce,ERR_INVALID_RETURN_VALUE:x2}}=pr(),{destroyer:ja}=no(),rce=$n(),I2=su(),nce=vp(),{createDeferredPromise:v2}=Rr(),T2=e_(),R2=globalThis.Blob||Kle.Blob,ice=typeof R2<"u"?function(e){return e instanceof R2}:function(e){return!1},sce=globalThis.AbortController||xt().AbortController,{FunctionPrototypeCall:A2}=ot(),Xi=class extends rce{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};N2.exports=function t(e,r){if(ece(e))return e;if(b2(e))return Wa({readable:e});if(w2(e))return Wa({writable:e});if(Qle(e))return Wa({writable:!1,readable:!1});if(_2(e))return Wa({readable:I2.fromWeb(e)});if(E2(e))return Wa({writable:nce.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=oce(e);if(m2(i))return T2(Xi,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=A2(l,i,d=>{if(d!=null)throw new x2("nully","body",d)},d=>{ja(c,d)});return c=new Xi({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,g_.nextTick(d,null)}catch(h){g_.nextTick(d,h)}})},destroy:a})}throw new x2("Iterable, AsyncIterable or AsyncFunction",r,i)}if(ice(e))return t(e.arrayBuffer());if(m2(e))return T2(Xi,e,{objectMode:!0,writable:!1});if(_2(e?.readable)&&E2(e?.writable))return Xi.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?b2(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?w2(e?.writable)?e?.writable:t(e.writable):void 0;return Wa({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return A2(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{ja(i,s)}),i=new Xi({objectMode:!0,writable:!1,read(){}})}throw new tce(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function oce(t){let{promise:e,resolve:r}=v2(),n=new sce,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(g_.nextTick(c),l)return;if(i.aborted)throw new C2(void 0,{cause:i.reason});({promise:e,resolve:r}=v2()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Wa(t){let e=t.readable&&typeof t.readable.read!="function"?I2.wrap(t.readable):t.readable,r=t.writable,n=!!Xle(e),i=!!Zle(r),s,o,a,l,c;function u(d){let h=l;l=null,h?h(d):d&&c.destroy(d)}return c=new Xi({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(S2(r,d=>{i=!1,d&&ja(e,d),u(d)}),c._write=function(d,h,f){r.write(d,h)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(S2(e,d=>{n=!1,d&&ja(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,h){!d&&l!==null&&(d=new C2),a=null,s=null,o=null,l===null?h(d):(l=h,ja(r,d),ja(e,d))},c}});var $n=x((yxe,M2)=>{"use strict";var{ObjectDefineProperties:ace,ObjectGetOwnPropertyDescriptor:mi,ObjectKeys:lce,ObjectSetPrototypeOf:O2}=ot();M2.exports=dn;var b_=su(),Xr=vp();O2(dn.prototype,b_.prototype);O2(dn,b_);{let t=lce(Xr.prototype);for(let e=0;e<t.length;e++){let r=t[e];dn.prototype[r]||(dn.prototype[r]=Xr.prototype[r])}}function dn(t){if(!(this instanceof dn))return new dn(t);b_.call(this,t),Xr.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}ace(dn.prototype,{writable:{__proto__:null,...mi(Xr.prototype,"writable")},writableHighWaterMark:{__proto__:null,...mi(Xr.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...mi(Xr.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...mi(Xr.prototype,"writableBuffer")},writableLength:{__proto__:null,...mi(Xr.prototype,"writableLength")},writableFinished:{__proto__:null,...mi(Xr.prototype,"writableFinished")},writableCorked:{__proto__:null,...mi(Xr.prototype,"writableCorked")},writableEnded:{__proto__:null,...mi(Xr.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...mi(Xr.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var y_;function L2(){return y_===void 0&&(y_={}),y_}dn.fromWeb=function(t,e){return L2().newStreamDuplexFromReadableWritablePair(t,e)};dn.toWeb=function(t){return L2().newReadableWritablePairFromDuplex(t)};var m_;dn.from=function(t){return m_||(m_=D2()),m_(t,"body")}});var E_=x((mxe,F2)=>{"use strict";var{ObjectSetPrototypeOf:P2,Symbol:cce}=ot();F2.exports=bi;var{ERR_METHOD_NOT_IMPLEMENTED:uce}=pr().codes,__=$n(),{getHighWaterMark:fce}=nu();P2(bi.prototype,__.prototype);P2(bi,__);var cu=cce("kCallback");function bi(t){if(!(this instanceof bi))return new bi(t);let e=t?fce(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),__.call(this,t),this._readableState.sync=!1,this[cu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",dce)}function w_(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function dce(){this._final!==w_&&w_.call(this)}bi.prototype._final=w_;bi.prototype._transform=function(t,e,r){throw new uce("_transform()")};bi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[cu]=r})};bi.prototype._read=function(){if(this[cu]){let t=this[cu];this[cu]=null,t()}}});var x_=x((bxe,k2)=>{"use strict";var{ObjectSetPrototypeOf:B2}=ot();k2.exports=za;var S_=E_();B2(za.prototype,S_.prototype);B2(za,S_);function za(t){if(!(this instanceof za))return new za(t);S_.call(this,t)}za.prototype._transform=function(t,e,r){r(null,t)}});var Cp=x((wxe,j2)=>{var uu=ze(),{ArrayIsArray:hce,Promise:pce,SymbolAsyncIterator:gce,SymbolDispose:yce}=ot(),Ap=yi(),{once:mce}=Rr(),bce=no(),$2=$n(),{aggregateTwoErrors:wce,codes:{ERR_INVALID_ARG_TYPE:O_,ERR_INVALID_RETURN_VALUE:v_,ERR_MISSING_ARGS:_ce,ERR_STREAM_DESTROYED:Ece,ERR_STREAM_PREMATURE_CLOSE:Sce},AbortError:xce}=pr(),{validateFunction:vce,validateAbortSignal:Tce}=Pa(),{isIterable:oo,isReadable:T_,isReadableNodeStream:Rp,isNodeStream:q2,isTransformStream:Ha,isWebStream:Rce,isReadableStream:R_,isReadableFinished:Ace}=Bn(),Cce=globalThis.AbortController||xt().AbortController,A_,C_,I_;function U2(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Ap(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,bce.destroyer(t,s||new Ece("pipe")))},cleanup:i}}function Ice(t){return vce(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function N_(t){if(oo(t))return t;if(Rp(t))return Nce(t);throw new O_("val",["Readable","Iterable","AsyncIterable"],t)}async function*Nce(t){C_||(C_=su()),yield*C_.prototype[gce].call(t)}async function Tp(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new pce((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Ap(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?wce(i,c):c)}finally{l(),e.off("drain",o)}}async function D_(t,e,r,{end:n}){Ha(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Dce(...t){return W2(t,mce(Ice(t)))}function W2(t,e,r){if(t.length===1&&hce(t[0])&&(t=t[0]),t.length<2)throw new _ce("streams");let n=new Cce,i=n.signal,s=r?.signal,o=[];Tce(s,"options.signal");function a(){g(new xce)}I_=I_||Rr().addAbortListener;let l;s&&(l=I_(s,a));let c,u,d=[],h=0;function f(b){g(b,--h===0)}function g(b,w){var I;if(b&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=b),!(!c&&!w)){for(;d.length;)d.shift()(c);(I=l)===null||I===void 0||I[yce](),n.abort(),w&&(c||o.forEach(O=>O()),uu.nextTick(e,c,u))}}let p;for(let b=0;b<t.length;b++){let w=t[b],I=b<t.length-1,O=b>0,C=I||r?.end!==!1,B=b===t.length-1;if(q2(w)){let N=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(L)};var S=N;if(C){let{destroy:L,cleanup:$}=U2(w,I,O);d.push(L),T_(w)&&B&&o.push($)}w.on("error",N),T_(w)&&B&&o.push(()=>{w.removeListener("error",N)})}if(b===0)if(typeof w=="function"){if(p=w({signal:i}),!oo(p))throw new v_("Iterable, AsyncIterable or Stream","source",p)}else oo(w)||Rp(w)||Ha(w)?p=w:p=$2.from(w);else if(typeof w=="function"){if(Ha(p)){var m;p=N_((m=p)===null||m===void 0?void 0:m.readable)}else p=N_(p);if(p=w(p,{signal:i}),I){if(!oo(p,!0))throw new v_("AsyncIterable",`transform[${b-1}]`,p)}else{var y;A_||(A_=x_());let N=new A_({objectMode:!0}),L=(y=p)===null||y===void 0?void 0:y.then;if(typeof L=="function")h++,L.call(p,j=>{u=j,j!=null&&N.write(j),C&&N.end(),uu.nextTick(f)},j=>{N.destroy(j),uu.nextTick(f,j)});else if(oo(p,!0))h++,Tp(p,N,f,{end:C});else if(R_(p)||Ha(p)){let j=p.readable||p;h++,Tp(j,N,f,{end:C})}else throw new v_("AsyncIterable or Promise","destination",p);p=N;let{destroy:$,cleanup:Y}=U2(p,!1,!0);d.push($),B&&o.push(Y)}}else if(q2(w)){if(Rp(p)){h+=2;let N=Oce(p,w,f,{end:C});T_(w)&&B&&o.push(N)}else if(Ha(p)||R_(p)){let N=p.readable||p;h++,Tp(N,w,f,{end:C})}else if(oo(p))h++,Tp(p,w,f,{end:C});else throw new O_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else if(Rce(w)){if(Rp(p))h++,D_(N_(p),w,f,{end:C});else if(R_(p)||oo(p))h++,D_(p,w,f,{end:C});else if(Ha(p))h++,D_(p.readable,w,f,{end:C});else throw new O_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else p=$2.from(w)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&uu.nextTick(a),p}function Oce(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Sce)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;Ace(t)?uu.nextTick(o):t.once("end",o)}else r();return Ap(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Ap(e,{readable:!1,writable:!0},r)}j2.exports={pipelineImpl:W2,pipeline:Dce}});var M_=x((_xe,J2)=>{"use strict";var{pipeline:Lce}=Cp(),Ip=$n(),{destroyer:Mce}=no(),{isNodeStream:Np,isReadable:z2,isWritable:H2,isWebStream:L_,isTransformStream:ao,isWritableStream:V2,isReadableStream:G2}=Bn(),{AbortError:Pce,codes:{ERR_INVALID_ARG_VALUE:Y2,ERR_MISSING_ARGS:Fce}}=pr(),Bce=yi();J2.exports=function(...e){if(e.length===0)throw new Fce("streams");if(e.length===1)return Ip.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Ip.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=Ip.from(e[f])}for(let f=0;f<e.length;++f)if(!(!Np(e[f])&&!L_(e[f]))){if(f<e.length-1&&!(z2(e[f])||G2(e[f])||ao(e[f])))throw new Y2(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(H2(e[f])||V2(e[f])||ao(e[f])))throw new Y2(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let g=o;o=null,g?g(f):f?a.destroy(f):!h&&!d&&a.destroy()}let c=e[0],u=Lce(e,l),d=!!(H2(c)||V2(c)||ao(c)),h=!!(z2(u)||G2(u)||ao(u));if(a=new Ip({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:h}),d){if(Np(c))a._write=function(g,p,m){c.write(g,p)?m():n=m},a._final=function(g){c.end(),i=g},c.on("drain",function(){if(n){let g=n;n=null,g()}});else if(L_(c)){let p=(ao(c)?c.writable:c).getWriter();a._write=async function(m,y,S){try{await p.ready,p.write(m).catch(()=>{}),S()}catch(b){S(b)}},a._final=async function(m){try{await p.ready,p.close().catch(()=>{}),i=m}catch(y){m(y)}}}let f=ao(u)?u.readable:u;Bce(f,()=>{if(i){let g=i;i=null,g()}})}if(h){if(Np(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(L_(u)){let g=(ao(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:p,done:m}=await g.read();if(!a.push(p))return;if(m){a.push(null);return}}catch{return}}}}return a._destroy=function(f,g){!f&&o!==null&&(f=new Pce),s=null,n=null,i=null,o===null?g(f):(o=g,Np(u)&&Mce(u,f))},a}});var sk=x((Exe,B_)=>{"use strict";var kce=globalThis.AbortController||xt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:$ce,ERR_INVALID_ARG_TYPE:fu,ERR_MISSING_ARGS:qce,ERR_OUT_OF_RANGE:Uce},AbortError:qn}=pr(),{validateAbortSignal:lo,validateInteger:K2,validateObject:co}=Pa(),Wce=ot().Symbol("kWeak"),jce=ot().Symbol("kResistStopPropagation"),{finished:zce}=yi(),Hce=M_(),{addAbortSignalNoValidate:Vce}=ru(),{isWritable:Gce,isNodeStream:Yce}=Bn(),{deprecate:Jce}=Rr(),{ArrayPrototypePush:Kce,Boolean:Xce,MathFloor:X2,Number:Zce,NumberIsNaN:Qce,Promise:Z2,PromiseReject:Q2,PromiseResolve:eue,PromisePrototypeThen:ek,Symbol:rk}=ot(),Dp=rk("kEmpty"),tk=rk("kEof");function tue(t,e){if(e!=null&&co(e,"options"),e?.signal!=null&&lo(e.signal,"options.signal"),Yce(t)&&!Gce(t))throw new $ce("stream",t,"must be writable");let r=Hce(this,t);return e!=null&&e.signal&&Vce(e.signal,r),r}function Op(t,e){if(typeof t!="function")throw new fu("fn",["Function","AsyncFunction"],t);e!=null&&co(e,"options"),e?.signal!=null&&lo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=X2(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=X2(e.highWaterMark)),K2(r,"options.concurrency",1),K2(n,"options.highWaterMark",0),n+=r,async function*(){let s=Rr().AbortSignalAny([e?.signal].filter(Xce)),o=this,a=[],l={signal:s},c,u,d=!1,h=0;function f(){d=!0,g()}function g(){h-=1,p()}function p(){u&&!d&&h<r&&a.length<n&&(u(),u=null)}async function m(){try{for await(let y of o){if(d)return;if(s.aborted)throw new qn;try{if(y=t(y,l),y===Dp)continue;y=eue(y)}catch(S){y=Q2(S)}h+=1,ek(y,g,f),a.push(y),c&&(c(),c=null),!d&&(a.length>=n||h>=r)&&await new Z2(S=>{u=S})}a.push(tk)}catch(y){let S=Q2(y);ek(S,g,f),a.push(S)}finally{d=!0,c&&(c(),c=null)}}m();try{for(;;){for(;a.length>0;){let y=await a[0];if(y===tk)return;if(s.aborted)throw new qn;y!==Dp&&(yield y),a.shift(),p()}await new Z2(y=>{c=y})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function rue(t=void 0){return t!=null&&co(t,"options"),t?.signal!=null&&lo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new qn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function nk(t,e=void 0){for await(let r of F_.call(this,t,e))return!0;return!1}async function nue(t,e=void 0){if(typeof t!="function")throw new fu("fn",["Function","AsyncFunction"],t);return!await nk.call(this,async(...r)=>!await t(...r),e)}async function iue(t,e){for await(let r of F_.call(this,t,e))return r}async function sue(t,e){if(typeof t!="function")throw new fu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Dp}for await(let n of Op.call(this,r,e));}function F_(t,e){if(typeof t!="function")throw new fu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Dp}return Op.call(this,r,e)}var P_=class extends qce{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function oue(t,e,r){var n;if(typeof t!="function")throw new fu("reducer",["Function","AsyncFunction"],t);r!=null&&co(r,"options"),r?.signal!=null&&lo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new qn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await zce(this.destroy(c)),c}let s=new kce,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Wce]:this,[jce]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new qn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new P_}finally{s.abort()}return e}async function aue(t){t!=null&&co(t,"options"),t?.signal!=null&&lo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new qn(void 0,{cause:t.signal.reason});Kce(e,n)}return e}function lue(t,e){let r=Op.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function ik(t){if(t=Zce(t),Qce(t))return 0;if(t<0)throw new Uce("number",">= 0",t);return t}function cue(t,e=void 0){return e!=null&&co(e,"options"),e?.signal!=null&&lo(e.signal,"options.signal"),t=ik(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new qn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new qn;t--<=0&&(yield s)}}.call(this)}function uue(t,e=void 0){return e!=null&&co(e,"options"),e?.signal!=null&&lo(e.signal,"options.signal"),t=ik(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new qn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new qn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}B_.exports.streamReturningOperators={asIndexedPairs:Jce(rue,"readable.asIndexedPairs will be removed in a future version."),drop:cue,filter:F_,flatMap:lue,map:Op,take:uue,compose:tue};B_.exports.promiseReturningOperators={every:nue,forEach:sue,reduce:oue,toArray:aue,some:nk,find:iue}});var k_=x((Sxe,ok)=>{"use strict";var{ArrayPrototypePop:fue,Promise:due}=ot(),{isIterable:hue,isNodeStream:pue,isWebStream:gue}=Bn(),{pipelineImpl:yue}=Cp(),{finished:mue}=yi();$_();function bue(...t){return new due((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!pue(s)&&!hue(s)&&!gue(s)){let o=fue(t);n=o.signal,i=o.end}yue(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}ok.exports={finished:mue,pipeline:bue}});var $_=x((xxe,gk)=>{"use strict";var{Buffer:wue}=require("buffer"),{ObjectDefineProperty:wi,ObjectKeys:ck,ReflectApply:uk}=ot(),{promisify:{custom:fk}}=Rr(),{streamReturningOperators:ak,promiseReturningOperators:lk}=sk(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:dk}}=pr(),_ue=M_(),{setDefaultHighWaterMark:Eue,getDefaultHighWaterMark:Sue}=nu(),{pipeline:hk}=Cp(),{destroyer:xue}=no(),pk=yi(),q_=k_(),du=Bn(),tt=gk.exports=dp().Stream;tt.isDestroyed=du.isDestroyed;tt.isDisturbed=du.isDisturbed;tt.isErrored=du.isErrored;tt.isReadable=du.isReadable;tt.isWritable=du.isWritable;tt.Readable=su();for(let t of ck(ak)){let r=function(...n){if(new.target)throw dk();return tt.Readable.from(uk(e,this,n))},e=ak[t];wi(r,"name",{__proto__:null,value:e.name}),wi(r,"length",{__proto__:null,value:e.length}),wi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of ck(lk)){let r=function(...n){if(new.target)throw dk();return uk(e,this,n)},e=lk[t];wi(r,"name",{__proto__:null,value:e.name}),wi(r,"length",{__proto__:null,value:e.length}),wi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}tt.Writable=vp();tt.Duplex=$n();tt.Transform=E_();tt.PassThrough=x_();tt.pipeline=hk;var{addAbortSignal:vue}=ru();tt.addAbortSignal=vue;tt.finished=pk;tt.destroy=xue;tt.compose=_ue;tt.setDefaultHighWaterMark=Eue;tt.getDefaultHighWaterMark=Sue;wi(tt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return q_}});wi(hk,fk,{__proto__:null,enumerable:!0,get(){return q_.pipeline}});wi(pk,fk,{__proto__:null,enumerable:!0,get(){return q_.finished}});tt.Stream=tt;tt._isUint8Array=function(e){return e instanceof Uint8Array};tt._uint8ArrayToBuffer=function(e){return wue.from(e.buffer,e.byteOffset,e.byteLength)}});var U_=x((vxe,Te)=>{"use strict";var Ft=require("stream");if(Ft&&process.env.READABLE_STREAM==="disable"){let t=Ft.promises;Te.exports._uint8ArrayToBuffer=Ft._uint8ArrayToBuffer,Te.exports._isUint8Array=Ft._isUint8Array,Te.exports.isDisturbed=Ft.isDisturbed,Te.exports.isErrored=Ft.isErrored,Te.exports.isReadable=Ft.isReadable,Te.exports.Readable=Ft.Readable,Te.exports.Writable=Ft.Writable,Te.exports.Duplex=Ft.Duplex,Te.exports.Transform=Ft.Transform,Te.exports.PassThrough=Ft.PassThrough,Te.exports.addAbortSignal=Ft.addAbortSignal,Te.exports.finished=Ft.finished,Te.exports.destroy=Ft.destroy,Te.exports.pipeline=Ft.pipeline,Te.exports.compose=Ft.compose,Object.defineProperty(Ft,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Te.exports.Stream=Ft.Stream}else{let t=$_(),e=k_(),r=t.Readable.destroy;Te.exports=t.Readable,Te.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Te.exports._isUint8Array=t._isUint8Array,Te.exports.isDisturbed=t.isDisturbed,Te.exports.isErrored=t.isErrored,Te.exports.isReadable=t.isReadable,Te.exports.Readable=t.Readable,Te.exports.Writable=t.Writable,Te.exports.Duplex=t.Duplex,Te.exports.Transform=t.Transform,Te.exports.PassThrough=t.PassThrough,Te.exports.addAbortSignal=t.addAbortSignal,Te.exports.finished=t.finished,Te.exports.destroy=t.destroy,Te.exports.destroy=r,Te.exports.pipeline=t.pipeline,Te.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Te.exports.Stream=t.Stream}Te.exports.default=Te.exports});var W_=x((Rxe,yk)=>{var Txe=require("stream").Stream,Tue=U_().PassThrough,Rue=qf(),Aue=yk.exports={};Aue.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(Rue(t)&&!t._readableState){var e=new Tue;return t.pipe(e),e}return t}});var z_=x((Axe,mk)=>{var Cue=require("util").inherits,Iue=qf(),j_=U_().Transform,Nue=rp(),Due=W_(),Pr=mk.exports=function(t){if(!(this instanceof Pr))return new Pr(t);j_.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};Cue(Pr,j_);Pr.prototype._appendBuffer=function(t,e,r){};Pr.prototype._appendStream=function(t,e,r){};Pr.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};Pr.prototype._finish=function(t){};Pr.prototype._normalizeEntry=function(t){};Pr.prototype._transform=function(t,e,r){r(null,t)};Pr.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof Nue)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=Due.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(Iue(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};Pr.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};Pr.prototype.getBytesWritten=function(){return this.offset};Pr.prototype.write=function(t,e){return t&&(this.offset+=t.length),j_.prototype.write.call(this,t,e)}});var Lp=x(H_=>{var bk;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof H_=="object"?t(H_):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(bk={}):t(bk={})})(function(t){t.version="1.2.2";function e(){for(var C=0,B=new Array(256),N=0;N!=256;++N)C=N,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,B[N]=C;return typeof Int32Array<"u"?new Int32Array(B):B}var r=e();function n(C){var B=0,N=0,L=0,$=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)$[L]=C[L];for(L=0;L!=256;++L)for(N=C[L],B=256+L;B<4096;B+=256)N=$[B]=N>>>8^C[N&255];var Y=[];for(L=1;L!=16;++L)Y[L-1]=typeof Int32Array<"u"?$.subarray(L*256,L*256+256):$.slice(L*256,L*256+256);return Y}var i=n(r),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],g=i[9],p=i[10],m=i[11],y=i[12],S=i[13],b=i[14];function w(C,B){for(var N=B^-1,L=0,$=C.length;L<$;)N=N>>>8^r[(N^C.charCodeAt(L++))&255];return~N}function I(C,B){for(var N=B^-1,L=C.length-15,$=0;$<L;)N=b[C[$++]^N&255]^S[C[$++]^N>>8&255]^y[C[$++]^N>>16&255]^m[C[$++]^N>>>24]^p[C[$++]]^g[C[$++]]^f[C[$++]]^h[C[$++]]^d[C[$++]]^u[C[$++]]^c[C[$++]]^l[C[$++]]^a[C[$++]]^o[C[$++]]^s[C[$++]]^r[C[$++]];for(L+=15;$<L;)N=N>>>8^r[(N^C[$++])&255];return~N}function O(C,B){for(var N=B^-1,L=0,$=C.length,Y=0,j=0;L<$;)Y=C.charCodeAt(L++),Y<128?N=N>>>8^r[(N^Y)&255]:Y<2048?(N=N>>>8^r[(N^(192|Y>>6&31))&255],N=N>>>8^r[(N^(128|Y&63))&255]):Y>=55296&&Y<57344?(Y=(Y&1023)+64,j=C.charCodeAt(L++)&1023,N=N>>>8^r[(N^(240|Y>>8&7))&255],N=N>>>8^r[(N^(128|Y>>2&63))&255],N=N>>>8^r[(N^(128|j>>6&15|(Y&3)<<4))&255],N=N>>>8^r[(N^(128|j&63))&255]):(N=N>>>8^r[(N^(224|Y>>12&15))&255],N=N>>>8^r[(N^(128|Y>>6&63))&255],N=N>>>8^r[(N^(128|Y&63))&255]);return~N}t.table=r,t.bstr=w,t.buf=I,t.str=O})});var at=x((Ixe,wk)=>{"use strict";var V_=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};wk.exports={AggregateError:V_,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var G_=x((Nxe,_k)=>{"use strict";_k.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var yr=x((Dxe,xk)=>{"use strict";var{format:Oue,inspect:Mp}=G_(),{AggregateError:Lue}=at(),Mue=globalThis.AggregateError||Lue,Pue=Symbol("kIsNodeError"),Fue=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Bue=/^([A-Z][a-z0-9]*)+$/,kue="__node_internal_",Pp={};function uo(t,e){if(!t)throw new Pp.ERR_INTERNAL_ASSERTION(e)}function Ek(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $ue(t,e,r){if(typeof e=="function")return uo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return uo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Oue(e,...r)}function sr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super($ue(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Pue]=!0,Pp[t]=n}function Sk(t){let e=kue+t.name;return Object.defineProperty(t,"name",{value:e}),t}function que(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Mue([e,t],e.message);return r.code=e.code,r}return t||e}var Y_=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Pp.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};sr("ERR_ASSERTION","%s",Error);sr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{uo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)uo(typeof l=="string","All expected entries have to be of type string"),Fue.includes(l)?i.push(l.toLowerCase()):Bue.test(l)?s.push(l):(uo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=Mp(r,{depth:-1});n+=`. Received ${l}`}}else{let l=Mp(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);sr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Mp(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);sr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);sr("ERR_MISSING_ARGS",(...t)=>{uo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);sr("ERR_OUT_OF_RANGE",(t,e,r)=>{uo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=Ek(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=Ek(n)),n+="n"}else n=Mp(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);sr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);sr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);sr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);sr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);sr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);sr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);sr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);sr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);sr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);sr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);sr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);xk.exports={AbortError:Y_,aggregateTwoErrors:Sk(que),hideStackFrames:Sk,codes:Pp}});var Ar=x((Oxe,K_)=>{"use strict";var Uue=require("buffer"),{format:Wue,inspect:jue}=G_(),{codes:{ERR_INVALID_ARG_TYPE:J_}}=yr(),{kResistStopPropagation:zue,AggregateError:Hue,SymbolDispose:Vue}=at(),Gue=globalThis.AbortSignal||xt().AbortSignal,Yue=globalThis.AbortController||xt().AbortController,Jue=Object.getPrototypeOf(async function(){}).constructor,vk=globalThis.Blob||Uue.Blob,Kue=typeof vk<"u"?function(e){return e instanceof vk}:function(e){return!1},Tk=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new J_(e,"AbortSignal",t)},Xue=(t,e)=>{if(typeof t!="function")throw new J_(e,"Function",t)};K_.exports={AggregateError:Hue,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:Wue,inspect:jue,types:{isAsyncFunction(t){return t instanceof Jue},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Kue,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new J_("signal","AbortSignal",e);Tk(e,"signal"),Xue(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[zue]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Vue](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Gue.any||function(e){if(e.length===1)return e[0];let r=new Yue,n=()=>r.abort();return e.forEach(i=>{Tk(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};K_.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Ga=x((Lxe,Pk)=>{"use strict";var{ArrayIsArray:Z_,ArrayPrototypeIncludes:Ik,ArrayPrototypeJoin:Nk,ArrayPrototypeMap:Zue,NumberIsInteger:Q_,NumberIsNaN:Que,NumberMAX_SAFE_INTEGER:efe,NumberMIN_SAFE_INTEGER:tfe,NumberParseInt:rfe,ObjectPrototypeHasOwnProperty:nfe,RegExpPrototypeExec:Dk,String:ife,StringPrototypeToUpperCase:sfe,StringPrototypeTrim:ofe}=at(),{hideStackFrames:Zr,codes:{ERR_SOCKET_BAD_PORT:afe,ERR_INVALID_ARG_TYPE:mr,ERR_INVALID_ARG_VALUE:Va,ERR_OUT_OF_RANGE:fo,ERR_UNKNOWN_SIGNAL:Rk}}=yr(),{normalizeEncoding:lfe}=Ar(),{isAsyncFunction:cfe,isArrayBufferView:ufe}=Ar().types,Ak={};function ffe(t){return t===(t|0)}function dfe(t){return t===t>>>0}var hfe=/^[0-7]+$/,pfe="must be a 32-bit unsigned integer or an octal string";function gfe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(Dk(hfe,t)===null)throw new Va(e,t,pfe);t=rfe(t,8)}return Ok(t,e),t}var yfe=Zr((t,e,r=tfe,n=efe)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!Q_(t))throw new fo(e,"an integer",t);if(t<r||t>n)throw new fo(e,`>= ${r} && <= ${n}`,t)}),mfe=Zr((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!Q_(t))throw new fo(e,"an integer",t);if(t<r||t>n)throw new fo(e,`>= ${r} && <= ${n}`,t)}),Ok=Zr((t,e,r=!1)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!Q_(t))throw new fo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new fo(e,`>= ${n} && <= ${i}`,t)});function eE(t,e){if(typeof t!="string")throw new mr(e,"string",t)}function bfe(t,e,r=void 0,n){if(typeof t!="number")throw new mr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Que(t))throw new fo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var wfe=Zr((t,e,r)=>{if(!Ik(r,t)){let i="must be one of: "+Nk(Zue(r,s=>typeof s=="string"?`'${s}'`:ife(s)),", ");throw new Va(e,t,i)}});function Lk(t,e){if(typeof t!="boolean")throw new mr(e,"boolean",t)}function X_(t,e,r){return t==null||!nfe(t,e)?r:t[e]}var _fe=Zr((t,e,r=null)=>{let n=X_(r,"allowArray",!1),i=X_(r,"allowFunction",!1);if(!X_(r,"nullable",!1)&&t===null||!n&&Z_(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new mr(e,"Object",t)}),Efe=Zr((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new mr(e,"a dictionary",t)}),Fp=Zr((t,e,r=0)=>{if(!Z_(t))throw new mr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Va(e,t,n)}});function Sfe(t,e){Fp(t,e);for(let r=0;r<t.length;r++)eE(t[r],`${e}[${r}]`)}function xfe(t,e){Fp(t,e);for(let r=0;r<t.length;r++)Lk(t[r],`${e}[${r}]`)}function vfe(t,e){Fp(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new mr(i,"AbortSignal",n);Mk(n,i)}}function Tfe(t,e="signal"){if(eE(t,e),Ak[t]===void 0)throw Ak[sfe(t)]!==void 0?new Rk(t+" (signals must use all capital letters)"):new Rk(t)}var Rfe=Zr((t,e="buffer")=>{if(!ufe(t))throw new mr(e,["Buffer","TypedArray","DataView"],t)});function Afe(t,e){let r=lfe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Va("encoding",e,`is invalid for data of length ${n}`)}function Cfe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&ofe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new afe(e,t,r);return t|0}var Mk=Zr((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new mr(e,"AbortSignal",t)}),Ife=Zr((t,e)=>{if(typeof t!="function")throw new mr(e,"Function",t)}),Nfe=Zr((t,e)=>{if(typeof t!="function"||cfe(t))throw new mr(e,"Function",t)}),Dfe=Zr((t,e)=>{if(t!==void 0)throw new mr(e,"undefined",t)});function Ofe(t,e,r){if(!Ik(r,t))throw new mr(e,`('${Nk(r,"|")}')`,t)}var Lfe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ck(t,e){if(typeof t>"u"||!Dk(Lfe,t))throw new Va(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Mfe(t){if(typeof t=="string")return Ck(t,"hints"),t;if(Z_(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];Ck(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Va("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Pk.exports={isInt32:ffe,isUint32:dfe,parseFileMode:gfe,validateArray:Fp,validateStringArray:Sfe,validateBooleanArray:xfe,validateAbortSignalArray:vfe,validateBoolean:Lk,validateBuffer:Rfe,validateDictionary:Efe,validateEncoding:Afe,validateFunction:Ife,validateInt32:mfe,validateInteger:yfe,validateNumber:bfe,validateObject:_fe,validateOneOf:wfe,validatePlainFunction:Nfe,validatePort:Cfe,validateSignalName:Tfe,validateString:eE,validateUint32:Ok,validateUndefined:Dfe,validateUnion:Ofe,validateAbortSignal:Mk,validateLinkHeaderValue:Mfe}});var Wn=x((Mxe,Kk)=>{"use strict";var{SymbolAsyncIterator:Fk,SymbolIterator:Bk,SymbolFor:ho}=at(),kk=ho("nodejs.stream.destroyed"),$k=ho("nodejs.stream.errored"),tE=ho("nodejs.stream.readable"),rE=ho("nodejs.stream.writable"),qk=ho("nodejs.stream.disturbed"),Pfe=ho("nodejs.webstream.isClosedPromise"),Ffe=ho("nodejs.webstream.controllerErrorFunction");function Bp(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function kp(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Bfe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Un(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function Uk(t){return!!(t&&!Un(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Wk(t){return!!(t&&!Un(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function jk(t){return!!(t&&!Un(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function kfe(t){return Uk(t)||Wk(t)||jk(t)}function $fe(t,e){return t==null?!1:e===!0?typeof t[Fk]=="function":e===!1?typeof t[Bk]=="function":typeof t[Fk]=="function"||typeof t[Bk]=="function"}function $p(t){if(!Un(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[kk]||n!=null&&n.destroyed)}function zk(t){if(!kp(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function qfe(t,e){if(!kp(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Ufe(t){if(!Bp(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Hk(t,e){if(!Bp(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function Vk(t){return t&&t[tE]!=null?t[tE]:typeof t?.readable!="boolean"?null:$p(t)?!1:Bp(t)&&t.readable&&!Hk(t)}function Gk(t){return t&&t[rE]!=null?t[rE]:typeof t?.writable!="boolean"?null:$p(t)?!1:kp(t)&&t.writable&&!zk(t)}function Wfe(t,e){return Un(t)?$p(t)?!0:!(e?.readable!==!1&&Vk(t)||e?.writable!==!1&&Gk(t)):null}function jfe(t){var e,r;return Un(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function zfe(t){var e,r;return Un(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Hfe(t){if(!Un(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Yk(t)?t._closed:null}function Yk(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Jk(t){return typeof t._sent100=="boolean"&&Yk(t)}function Vfe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Gfe(t){if(!Un(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&Jk(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Yfe(t){var e;return!!(t&&((e=t[qk])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Jfe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[$k])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}Kk.exports={isDestroyed:$p,kIsDestroyed:kk,isDisturbed:Yfe,kIsDisturbed:qk,isErrored:Jfe,kIsErrored:$k,isReadable:Vk,kIsReadable:tE,kIsClosedPromise:Pfe,kControllerErrorFunction:Ffe,kIsWritable:rE,isClosed:Hfe,isDuplexNodeStream:Bfe,isFinished:Wfe,isIterable:$fe,isReadableNodeStream:Bp,isReadableStream:Uk,isReadableEnded:Ufe,isReadableFinished:Hk,isReadableErrored:zfe,isNodeStream:Un,isWebStream:kfe,isWritable:Gk,isWritableNodeStream:kp,isWritableStream:Wk,isWritableEnded:zk,isWritableFinished:qfe,isWritableErrored:jfe,isServerRequest:Vfe,isServerResponse:Jk,willEmitClose:Gfe,isTransformStream:jk}});var _i=x((Pxe,aE)=>{"use strict";var Zi=ze(),{AbortError:s$,codes:Kfe}=yr(),{ERR_INVALID_ARG_TYPE:Xfe,ERR_STREAM_PREMATURE_CLOSE:Xk}=Kfe,{kEmptyObject:iE,once:sE}=Ar(),{validateAbortSignal:Zfe,validateFunction:Qfe,validateObject:ede,validateBoolean:tde}=Ga(),{Promise:rde,PromisePrototypeThen:nde,SymbolDispose:o$}=at(),{isClosed:ide,isReadable:Zk,isReadableNodeStream:nE,isReadableStream:sde,isReadableFinished:Qk,isReadableErrored:e$,isWritable:t$,isWritableNodeStream:r$,isWritableStream:ode,isWritableFinished:n$,isWritableErrored:i$,isNodeStream:ade,willEmitClose:lde,kIsClosedPromise:cde}=Wn(),Ya;function ude(t){return t.setHeader&&typeof t.abort=="function"}var oE=()=>{};function a$(t,e,r){var n,i;if(arguments.length===2?(r=e,e=iE):e==null?e=iE:ede(e,"options"),Qfe(r,"callback"),Zfe(e.signal,"options.signal"),r=sE(r),sde(t)||ode(t))return fde(t,e,r);if(!ade(t))throw new Xfe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:nE(t),o=(i=e.writable)!==null&&i!==void 0?i:r$(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||h()},u=lde(t)&&nE(t)===s&&r$(t)===o,d=n$(t,!1),h=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||f)&&r.call(t)},f=Qk(t,!1),g=()=>{f=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},p=I=>{r.call(t,I)},m=ide(t),y=()=>{m=!0;let I=i$(t)||e$(t);if(I&&typeof I!="boolean")return r.call(t,I);if(s&&!f&&nE(t,!0)&&!Qk(t,!1))return r.call(t,new Xk);if(o&&!d&&!n$(t,!1))return r.call(t,new Xk);r.call(t)},S=()=>{m=!0;let I=i$(t)||e$(t);if(I&&typeof I!="boolean")return r.call(t,I);r.call(t)},b=()=>{t.req.on("finish",h)};ude(t)?(t.on("complete",h),u||t.on("abort",y),t.req?b():t.on("request",b)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",g),t.on("finish",h),e.error!==!1&&t.on("error",p),t.on("close",y),m?Zi.nextTick(y):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Zi.nextTick(S):(!s&&(!u||Zk(t))&&(d||t$(t)===!1)||!o&&(!u||t$(t))&&(f||Zk(t)===!1)||l&&t.req&&t.aborted)&&Zi.nextTick(S);let w=()=>{r=oE,t.removeListener("aborted",y),t.removeListener("complete",h),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",g),t.removeListener("error",p),t.removeListener("close",y)};if(e.signal&&!m){let I=()=>{let O=r;w(),O.call(t,new s$(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Zi.nextTick(I);else{Ya=Ya||Ar().addAbortListener;let O=Ya(e.signal,I),C=r;r=sE((...B)=>{O[o$](),C.apply(t,B)})}}return w}function fde(t,e,r){let n=!1,i=oE;if(e.signal)if(i=()=>{n=!0,r.call(t,new s$(void 0,{cause:e.signal.reason}))},e.signal.aborted)Zi.nextTick(i);else{Ya=Ya||Ar().addAbortListener;let o=Ya(e.signal,i),a=r;r=sE((...l)=>{o[o$](),a.apply(t,l)})}let s=(...o)=>{n||Zi.nextTick(()=>r.apply(t,o))};return nde(t[cde].promise,s,s),oE}function dde(t,e){var r;let n=!1;return e===null&&(e=iE),(r=e)!==null&&r!==void 0&&r.cleanup&&(tde(e.cleanup,"cleanup"),n=e.cleanup),new rde((i,s)=>{let o=a$(t,e,a=>{n&&o(),a?s(a):i()})})}aE.exports=a$;aE.exports.finished=dde});var po=x((Fxe,g$)=>{"use strict";var jn=ze(),{aggregateTwoErrors:hde,codes:{ERR_MULTIPLE_CALLBACK:pde},AbortError:gde}=yr(),{Symbol:u$}=at(),{kIsDestroyed:yde,isDestroyed:mde,isFinished:bde,isServerRequest:wde}=Wn(),f$=u$("kDestroy"),lE=u$("kConstruct");function d$(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function _de(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(d$(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?l$(this,t,e):this.once(f$,function(s){l$(this,hde(s,t),e)}),this)}function l$(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;d$(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?jn.nextTick(Ede,t,s):jn.nextTick(h$,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function Ede(t,e){cE(t,e),h$(t)}function h$(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function cE(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Sde(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function uE(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?jn.nextTick(cE,t,e):cE(t,e))}function xde(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(lE,e),!(t.listenerCount(lE)>1)&&jn.nextTick(vde,t)}function vde(t){let e=!1;function r(n){if(e){uE(t,n??new pde);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(f$,n):n?uE(t,n,!0):jn.nextTick(Tde,t)}try{t._construct(n=>{jn.nextTick(r,n)})}catch(n){jn.nextTick(r,n)}}function Tde(t){t.emit(lE)}function c$(t){return t?.setHeader&&typeof t.abort=="function"}function p$(t){t.emit("close")}function Rde(t,e){t.emit("error",e),jn.nextTick(p$,t)}function Ade(t,e){!t||mde(t)||(!e&&!bde(t)&&(e=new gde),wde(t)?(t.socket=null,t.destroy(e)):c$(t)?t.abort():c$(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?jn.nextTick(Rde,t,e):jn.nextTick(p$,t),t.destroyed||(t[yde]=!0))}g$.exports={construct:xde,destroyer:Ade,destroy:_de,undestroy:Sde,errorOrDestroy:uE}});var Wp=x((Bxe,m$)=>{"use strict";var{ArrayIsArray:Cde,ObjectSetPrototypeOf:y$}=at(),{EventEmitter:qp}=require("events");function Up(t){qp.call(this,t)}y$(Up.prototype,qp.prototype);y$(Up,qp);Up.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),qp.listenerCount(this,"error")===0&&this.emit("error",u)}fE(r,"error",l),fE(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function fE(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Cde(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}m$.exports={Stream:Up,prependListener:fE}});var hu=x((kxe,jp)=>{"use strict";var{SymbolDispose:Ide}=at(),{AbortError:b$,codes:Nde}=yr(),{isNodeStream:w$,isWebStream:Dde,kControllerErrorFunction:Ode}=Wn(),Lde=_i(),{ERR_INVALID_ARG_TYPE:_$}=Nde,dE,Mde=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new _$(e,"AbortSignal",t)};jp.exports.addAbortSignal=function(e,r){if(Mde(e,"signal"),!w$(r)&&!Dde(r))throw new _$("stream",["ReadableStream","WritableStream","Stream"],r);return jp.exports.addAbortSignalNoValidate(e,r)};jp.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=w$(e)?()=>{e.destroy(new b$(void 0,{cause:t.reason}))}:()=>{e[Ode](new b$(void 0,{cause:t.reason}))};if(t.aborted)r();else{dE=dE||Ar().addAbortListener;let n=dE(t,r);Lde(e,n[Ide])}return e}});var x$=x((qxe,S$)=>{"use strict";var{StringPrototypeSlice:E$,SymbolIterator:Pde,TypedArrayPrototypeSet:zp,Uint8Array:Fde}=at(),{Buffer:hE}=require("buffer"),{inspect:Bde}=Ar();S$.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return hE.alloc(0);let r=hE.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)zp(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Pde](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=E$(s,0,e),this.head=n,n.data=E$(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=hE.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)zp(r,o,n-e),e-=o.length;else{e===o.length?(zp(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(zp(r,new Fde(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Bde(this,{...r,depth:0,customInspect:!1})}}});var pu=x((Uxe,A$)=>{"use strict";var{MathFloor:kde,NumberIsInteger:$de}=at(),{validateInteger:qde}=Ga(),{ERR_INVALID_ARG_VALUE:Ude}=yr().codes,v$=16*1024,T$=16;function Wde(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function R$(t){return t?T$:v$}function jde(t,e){qde(e,"value",0),t?T$=e:v$=e}function zde(t,e,r,n){let i=Wde(e,n,r);if(i!=null){if(!$de(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Ude(s,i)}return kde(i)}return R$(t.objectMode)}A$.exports={getHighWaterMark:zde,getDefaultHighWaterMark:R$,setDefaultHighWaterMark:jde}});var pE=x((Wxe,D$)=>{"use strict";var C$=ze(),{PromisePrototypeThen:Hde,SymbolAsyncIterator:I$,SymbolIterator:N$}=at(),{Buffer:Vde}=require("buffer"),{ERR_INVALID_ARG_TYPE:Gde,ERR_STREAM_NULL_VALUES:Yde}=yr().codes;function Jde(t,e,r){let n;if(typeof e=="string"||e instanceof Vde)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[I$])i=!0,n=e[I$]();else if(e&&e[N$])i=!1,n=e[N$]();else throw new Gde("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Hde(a(c),()=>C$.nextTick(u,c),d=>C$.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:h,done:f}=await n.throw(c);if(await h,f)return}if(typeof n.return=="function"){let{value:h}=await n.return();await h}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Yde;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}D$.exports=Jde});var yu=x((jxe,J$)=>{"use strict";var hn=ze(),{ArrayPrototypeIndexOf:Kde,NumberIsInteger:Xde,NumberIsNaN:Zde,NumberParseInt:Qde,ObjectDefineProperties:SE,ObjectKeys:ehe,ObjectSetPrototypeOf:M$,Promise:P$,SafeSet:the,SymbolAsyncDispose:rhe,SymbolAsyncIterator:nhe,Symbol:ihe}=at();J$.exports=me;me.ReadableState=Yp;var{EventEmitter:she}=require("events"),{Stream:Qi,prependListener:ohe}=Wp(),{Buffer:gE}=require("buffer"),{addAbortSignal:ahe}=hu(),F$=_i(),De=Ar().debuglog("stream",t=>{De=t}),lhe=x$(),Xa=po(),{getHighWaterMark:che,getDefaultHighWaterMark:uhe}=pu(),{aggregateTwoErrors:O$,codes:{ERR_INVALID_ARG_TYPE:fhe,ERR_METHOD_NOT_IMPLEMENTED:dhe,ERR_OUT_OF_RANGE:hhe,ERR_STREAM_PUSH_AFTER_EOF:phe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ghe},AbortError:yhe}=yr(),{validateObject:mhe}=Ga(),go=ihe("kPaused"),{StringDecoder:B$}=cc(),bhe=pE();M$(me.prototype,Qi.prototype);M$(me,Qi);var yE=()=>{},{errorOrDestroy:Ja}=Xa,Ka=1,whe=2,k$=4,gu=8,$$=16,Hp=32,Vp=64,q$=128,_he=256,Ehe=512,She=1024,_E=2048,EE=4096,xhe=8192,vhe=16384,The=32768,U$=65536,Rhe=1<<17,Ahe=1<<18;function Bt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}SE(Yp.prototype,{objectMode:Bt(Ka),ended:Bt(whe),endEmitted:Bt(k$),reading:Bt(gu),constructed:Bt($$),sync:Bt(Hp),needReadable:Bt(Vp),emittedReadable:Bt(q$),readableListening:Bt(_he),resumeScheduled:Bt(Ehe),errorEmitted:Bt(She),emitClose:Bt(_E),autoDestroy:Bt(EE),destroyed:Bt(xhe),closed:Bt(vhe),closeEmitted:Bt(The),multiAwaitDrain:Bt(U$),readingMore:Bt(Rhe),dataEmitted:Bt(Ahe)});function Yp(t,e,r){typeof r!="boolean"&&(r=e instanceof zn()),this.state=_E|EE|$$|Hp,t&&t.objectMode&&(this.state|=Ka),r&&t&&t.readableObjectMode&&(this.state|=Ka),this.highWaterMark=t?che(this,t,"readableHighWaterMark",r):uhe(!1),this.buffer=new lhe,this.length=0,this.pipes=[],this.flowing=null,this[go]=null,t&&t.emitClose===!1&&(this.state&=~_E),t&&t.autoDestroy===!1&&(this.state&=~EE),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new B$(t.encoding),this.encoding=t.encoding)}function me(t){if(!(this instanceof me))return new me(t);let e=this instanceof zn();this._readableState=new Yp(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&ahe(t.signal,this)),Qi.call(this,t),Xa.construct(this,()=>{this._readableState.needReadable&&Gp(this,this._readableState)})}me.prototype.destroy=Xa.destroy;me.prototype._undestroy=Xa.undestroy;me.prototype._destroy=function(t,e){e(t)};me.prototype[she.captureRejectionSymbol]=function(t){this.destroy(t)};me.prototype[rhe]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new yhe,this.destroy(t)),new P$((e,r)=>F$(this,n=>n&&n!==t?r(n):e(null)))};me.prototype.push=function(t,e){return W$(this,t,e,!1)};me.prototype.unshift=function(t,e){return W$(this,t,e,!0)};function W$(t,e,r,n){De("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ka)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=gE.from(e,r).toString(i.encoding):(e=gE.from(e,r),r=""))):e instanceof gE?r="":Qi._isUint8Array(e)?(e=Qi._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new fhe("chunk",["string","Buffer","Uint8Array"],e))),s)Ja(t,s);else if(e===null)i.state&=~gu,Nhe(t,i);else if((i.state&Ka)!==0||e&&e.length>0)if(n)if((i.state&k$)!==0)Ja(t,new ghe);else{if(i.destroyed||i.errored)return!1;mE(t,i,e,!0)}else if(i.ended)Ja(t,new phe);else{if(i.destroyed||i.errored)return!1;i.state&=~gu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?mE(t,i,e,!1):Gp(t,i)):mE(t,i,e,!1)}else n||(i.state&=~gu,Gp(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function mE(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&U$)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&Vp)!==0&&Jp(t)),Gp(t,e)}me.prototype.isPaused=function(){let t=this._readableState;return t[go]===!0||t.flowing===!1};me.prototype.setEncoding=function(t){let e=new B$(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Che=1073741824;function Ihe(t){if(t>Che)throw new hhe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function L$(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ka)!==0?1:Zde(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}me.prototype.read=function(t){De("read",t),t===void 0?t=NaN:Xde(t)||(t=Qde(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Ihe(t)),t!==0&&(e.state&=~q$),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return De("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?bE(this):Jp(this),null;if(t=L$(t,e),t===0&&e.ended)return e.length===0&&bE(this),null;let n=(e.state&Vp)!==0;if(De("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,De("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,De("reading, ended or constructing",n);else if(n){De("do read"),e.state|=gu|Hp,e.length===0&&(e.state|=Vp);try{this._read(e.highWaterMark)}catch(s){Ja(this,s)}e.state&=~Hp,e.reading||(t=L$(r,e))}let i;return t>0?i=G$(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&bE(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function Nhe(t,e){if(De("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Jp(t):(e.needReadable=!1,e.emittedReadable=!0,j$(t))}}function Jp(t){let e=t._readableState;De("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(De("emitReadable",e.flowing),e.emittedReadable=!0,hn.nextTick(j$,t))}function j$(t){let e=t._readableState;De("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,H$(t)}function Gp(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,hn.nextTick(Dhe,t,e))}function Dhe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(De("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}me.prototype._read=function(t){throw new dhe("_read()")};me.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new the(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),De("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==hn.stdout&&t!==hn.stderr?a:m;n.endEmitted?hn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,S){De("onunpipe"),y===r&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,u())}function a(){De("onend"),t.end()}let l,c=!1;function u(){De("cleanup"),t.removeListener("close",g),t.removeListener("finish",p),l&&t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",h),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(De("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(De("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=Ohe(r,t),t.on("drain",l))}r.on("data",h);function h(y){De("ondata");let S=t.write(y);De("dest.write",S),S===!1&&d()}function f(y){if(De("onerror",y),m(),t.removeListener("error",f),t.listenerCount("error")===0){let S=t._writableState||t._readableState;S&&!S.errorEmitted?Ja(t,y):t.emit("error",y)}}ohe(t,"error",f);function g(){t.removeListener("finish",p),m()}t.once("close",g);function p(){De("onfinish"),t.removeListener("close",g),m()}t.once("finish",p);function m(){De("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(De("pipe resume"),r.resume()),t};function Ohe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(De("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(De("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}me.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Kde(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};me.prototype.on=function(t,e){let r=Qi.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,De("on readable",n.length,n.reading),n.length?Jp(this):n.reading||hn.nextTick(Lhe,this)),r};me.prototype.addListener=me.prototype.on;me.prototype.removeListener=function(t,e){let r=Qi.prototype.removeListener.call(this,t,e);return t==="readable"&&hn.nextTick(z$,this),r};me.prototype.off=me.prototype.removeListener;me.prototype.removeAllListeners=function(t){let e=Qi.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&hn.nextTick(z$,this),e};function z$(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[go]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Lhe(t){De("readable nexttick read 0"),t.read(0)}me.prototype.resume=function(){let t=this._readableState;return t.flowing||(De("resume"),t.flowing=!t.readableListening,Mhe(this,t)),t[go]=!1,this};function Mhe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,hn.nextTick(Phe,t,e))}function Phe(t,e){De("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),H$(t),e.flowing&&!e.reading&&t.read(0)}me.prototype.pause=function(){return De("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(De("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[go]=!0,this};function H$(t){let e=t._readableState;for(De("flow",e.flowing);e.flowing&&t.read()!==null;);}me.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Ja(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=ehe(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};me.prototype[nhe]=function(){return V$(this)};me.prototype.iterator=function(t){return t!==void 0&&mhe(t,"options"),V$(this,t)};function V$(t,e){typeof t.read!="function"&&(t=me.wrap(t,{objectMode:!0}));let r=Fhe(t,e);return r.stream=t,r}async function*Fhe(t,e){let r=yE;function n(o){this===t?(r(),r=yE):r=o}t.on("readable",n);let i,s=F$(t,{writable:!1},o=>{i=o?O$(i,o):null,r(),r=yE});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new P$(n)}}}catch(o){throw i=O$(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Xa.destroyer(t,null):(t.off("readable",n),s())}}SE(me.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});SE(Yp.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[go]!==!1},set(t){this[go]=!!t}}});me._fromList=G$;function G$(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function bE(t){let e=t._readableState;De("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,hn.nextTick(Bhe,e,t))}function Bhe(t,e){if(De("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)hn.nextTick(khe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function khe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}me.from=function(t,e){return bhe(me,t,e)};var wE;function Y$(){return wE===void 0&&(wE={}),wE}me.fromWeb=function(t,e){return Y$().newStreamReadableFromReadableStream(t,e)};me.toWeb=function(t,e){return Y$().newReadableStreamFromStreamReadable(t,e)};me.wrap=function(t,e){var r,n;return new me({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Xa.destroyer(t,i),s(i)}}).wrap(t)}});var e0=x((zxe,aq)=>{"use strict";var yo=ze(),{ArrayPrototypeSlice:Z$,Error:$he,FunctionPrototypeSymbolHasInstance:Q$,ObjectDefineProperty:eq,ObjectDefineProperties:qhe,ObjectSetPrototypeOf:tq,StringPrototypeToLowerCase:Uhe,Symbol:Whe,SymbolHasInstance:jhe}=at();aq.exports=dt;dt.WritableState=wu;var{EventEmitter:zhe}=require("events"),mu=Wp().Stream,{Buffer:Kp}=require("buffer"),Qp=po(),{addAbortSignal:Hhe}=hu(),{getHighWaterMark:Vhe,getDefaultHighWaterMark:Ghe}=pu(),{ERR_INVALID_ARG_TYPE:Yhe,ERR_METHOD_NOT_IMPLEMENTED:Jhe,ERR_MULTIPLE_CALLBACK:rq,ERR_STREAM_CANNOT_PIPE:Khe,ERR_STREAM_DESTROYED:bu,ERR_STREAM_ALREADY_FINISHED:Xhe,ERR_STREAM_NULL_VALUES:Zhe,ERR_STREAM_WRITE_AFTER_END:Qhe,ERR_UNKNOWN_ENCODING:nq}=yr().codes,{errorOrDestroy:Za}=Qp;tq(dt.prototype,mu.prototype);tq(dt,mu);function TE(){}var Qa=Whe("kOnFinished");function wu(t,e,r){typeof r!="boolean"&&(r=e instanceof zn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Vhe(this,t,"writableHighWaterMark",r):Ghe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=tpe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Zp(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Qa]=[]}function Zp(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}wu.prototype.getBuffer=function(){return Z$(this.buffered,this.bufferedIndex)};eq(wu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function dt(t){let e=this instanceof zn();if(!e&&!Q$(dt,this))return new dt(t);this._writableState=new wu(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Hhe(t.signal,this)),mu.call(this,t),Qp.construct(this,()=>{let r=this._writableState;r.writing||AE(this,r),CE(this,r)})}eq(dt,jhe,{__proto__:null,value:function(t){return Q$(this,t)?!0:this!==dt?!1:t&&t._writableState instanceof wu}});dt.prototype.pipe=function(){Za(this,new Khe)};function iq(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Kp.isEncoding(r))throw new nq(r);typeof n!="function"&&(n=TE)}if(e===null)throw new Zhe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Kp.from(e,r),r="buffer");else if(e instanceof Kp)r="buffer";else if(mu._isUint8Array(e))e=mu._uint8ArrayToBuffer(e),r="buffer";else throw new Yhe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Qhe:i.destroyed&&(s=new bu("write")),s?(yo.nextTick(n,s),Za(t,s,!0),s):(i.pendingcb++,epe(t,i,e,r,n))}dt.prototype.write=function(t,e,r){return iq(this,t,e,r)===!0};dt.prototype.cork=function(){this._writableState.corked++};dt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||AE(this,t))};dt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Uhe(e)),!Kp.isEncoding(e))throw new nq(e);return this._writableState.defaultEncoding=e,this};function epe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==TE&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function K$(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new bu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function X$(t,e,r,n){--e.pendingcb,n(r),RE(e),Za(t,r)}function tpe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Za(t,new rq);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?yo.nextTick(X$,t,r,e,i):X$(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&AE(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},yo.nextTick(rpe,r.afterWriteTickInfo)):sq(t,r,1,i))}function rpe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,sq(t,e,r,n)}function sq(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&RE(e),CE(t,e)}function RE(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new bu("write"))}let r=t[Qa].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new bu("end"))}Zp(t)}function AE(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?TE:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:Z$(r,o);l.allBuffers=e.allBuffers,K$(t,e,!0,e.length,l,"",a),Zp(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;K$(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Zp(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}dt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Jhe("_write()")};dt.prototype._writev=null;dt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=iq(this,t,e);s instanceof $he&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,CE(this,n,!0),n.ended=!0):n.finished?i=new Xhe("end"):n.destroyed&&(i=new bu("end"))),typeof r=="function"&&(i||n.finished?yo.nextTick(r,i):n[Qa].push(r)),this};function Xp(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function npe(t,e){let r=!1;function n(i){if(r){Za(t,i??rq());return}if(r=!0,e.pendingcb--,i){let s=e[Qa].splice(0);for(let o=0;o<s.length;o++)s[o](i);Za(t,i,e.sync)}else Xp(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,yo.nextTick(vE,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function ipe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,npe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function CE(t,e,r){Xp(e)&&(ipe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,yo.nextTick((n,i)=>{Xp(i)?vE(n,i):i.pendingcb--},t,e)):Xp(e)&&(e.pendingcb++,vE(t,e))))}function vE(t,e){e.pendingcb--,e.finished=!0;let r=e[Qa].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}qhe(dt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var spe=Qp.destroy;dt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Qa].length)&&yo.nextTick(RE,r),spe.call(this,t,e),this};dt.prototype._undestroy=Qp.undestroy;dt.prototype._destroy=function(t,e){e(t)};dt.prototype[zhe.captureRejectionSymbol]=function(t){this.destroy(t)};var xE;function oq(){return xE===void 0&&(xE={}),xE}dt.fromWeb=function(t,e){return oq().newStreamWritableFromWritableStream(t,e)};dt.toWeb=function(t){return oq().newWritableStreamFromStreamWritable(t)}});var Sq=x((Hxe,Eq)=>{var IE=ze(),ope=require("buffer"),{isReadable:ape,isWritable:lpe,isIterable:lq,isNodeStream:cpe,isReadableNodeStream:cq,isWritableNodeStream:uq,isDuplexNodeStream:upe,isReadableStream:fq,isWritableStream:dq}=Wn(),hq=_i(),{AbortError:wq,codes:{ERR_INVALID_ARG_TYPE:fpe,ERR_INVALID_RETURN_VALUE:pq}}=yr(),{destroyer:tl}=po(),dpe=zn(),_q=yu(),hpe=e0(),{createDeferredPromise:gq}=Ar(),yq=pE(),mq=globalThis.Blob||ope.Blob,ppe=typeof mq<"u"?function(e){return e instanceof mq}:function(e){return!1},gpe=globalThis.AbortController||xt().AbortController,{FunctionPrototypeCall:bq}=at(),es=class extends dpe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};Eq.exports=function t(e,r){if(upe(e))return e;if(cq(e))return el({readable:e});if(uq(e))return el({writable:e});if(cpe(e))return el({writable:!1,readable:!1});if(fq(e))return el({readable:_q.fromWeb(e)});if(dq(e))return el({writable:hpe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=ype(e);if(lq(i))return yq(es,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=bq(l,i,d=>{if(d!=null)throw new pq("nully","body",d)},d=>{tl(c,d)});return c=new es({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,IE.nextTick(d,null)}catch(h){IE.nextTick(d,h)}})},destroy:a})}throw new pq("Iterable, AsyncIterable or AsyncFunction",r,i)}if(ppe(e))return t(e.arrayBuffer());if(lq(e))return yq(es,e,{objectMode:!0,writable:!1});if(fq(e?.readable)&&dq(e?.writable))return es.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?cq(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?uq(e?.writable)?e?.writable:t(e.writable):void 0;return el({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return bq(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{tl(i,s)}),i=new es({objectMode:!0,writable:!1,read(){}})}throw new fpe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function ype(t){let{promise:e,resolve:r}=gq(),n=new gpe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(IE.nextTick(c),l)return;if(i.aborted)throw new wq(void 0,{cause:i.reason});({promise:e,resolve:r}=gq()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function el(t){let e=t.readable&&typeof t.readable.read!="function"?_q.wrap(t.readable):t.readable,r=t.writable,n=!!ape(e),i=!!lpe(r),s,o,a,l,c;function u(d){let h=l;l=null,h?h(d):d&&c.destroy(d)}return c=new es({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(hq(r,d=>{i=!1,d&&tl(e,d),u(d)}),c._write=function(d,h,f){r.write(d,h)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(hq(e,d=>{n=!1,d&&tl(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,h){!d&&l!==null&&(d=new wq),a=null,s=null,o=null,l===null?h(d):(l=h,tl(r,d),tl(e,d))},c}});var zn=x((Vxe,Tq)=>{"use strict";var{ObjectDefineProperties:mpe,ObjectGetOwnPropertyDescriptor:Ei,ObjectKeys:bpe,ObjectSetPrototypeOf:xq}=at();Tq.exports=pn;var OE=yu(),Qr=e0();xq(pn.prototype,OE.prototype);xq(pn,OE);{let t=bpe(Qr.prototype);for(let e=0;e<t.length;e++){let r=t[e];pn.prototype[r]||(pn.prototype[r]=Qr.prototype[r])}}function pn(t){if(!(this instanceof pn))return new pn(t);OE.call(this,t),Qr.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}mpe(pn.prototype,{writable:{__proto__:null,...Ei(Qr.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Ei(Qr.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Ei(Qr.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Ei(Qr.prototype,"writableBuffer")},writableLength:{__proto__:null,...Ei(Qr.prototype,"writableLength")},writableFinished:{__proto__:null,...Ei(Qr.prototype,"writableFinished")},writableCorked:{__proto__:null,...Ei(Qr.prototype,"writableCorked")},writableEnded:{__proto__:null,...Ei(Qr.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Ei(Qr.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var NE;function vq(){return NE===void 0&&(NE={}),NE}pn.fromWeb=function(t,e){return vq().newStreamDuplexFromReadableWritablePair(t,e)};pn.toWeb=function(t){return vq().newReadableWritablePairFromDuplex(t)};var DE;pn.from=function(t){return DE||(DE=Sq()),DE(t,"body")}});var PE=x((Gxe,Aq)=>{"use strict";var{ObjectSetPrototypeOf:Rq,Symbol:wpe}=at();Aq.exports=Si;var{ERR_METHOD_NOT_IMPLEMENTED:_pe}=yr().codes,ME=zn(),{getHighWaterMark:Epe}=pu();Rq(Si.prototype,ME.prototype);Rq(Si,ME);var _u=wpe("kCallback");function Si(t){if(!(this instanceof Si))return new Si(t);let e=t?Epe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),ME.call(this,t),this._readableState.sync=!1,this[_u]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Spe)}function LE(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Spe(){this._final!==LE&&LE.call(this)}Si.prototype._final=LE;Si.prototype._transform=function(t,e,r){throw new _pe("_transform()")};Si.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[_u]=r})};Si.prototype._read=function(){if(this[_u]){let t=this[_u];this[_u]=null,t()}}});var BE=x((Yxe,Iq)=>{"use strict";var{ObjectSetPrototypeOf:Cq}=at();Iq.exports=rl;var FE=PE();Cq(rl.prototype,FE.prototype);Cq(rl,FE);function rl(t){if(!(this instanceof rl))return new rl(t);FE.call(this,t)}rl.prototype._transform=function(t,e,r){r(null,t)}});var i0=x((Jxe,Mq)=>{var Eu=ze(),{ArrayIsArray:xpe,Promise:vpe,SymbolAsyncIterator:Tpe,SymbolDispose:Rpe}=at(),n0=_i(),{once:Ape}=Ar(),Cpe=po(),Nq=zn(),{aggregateTwoErrors:Ipe,codes:{ERR_INVALID_ARG_TYPE:VE,ERR_INVALID_RETURN_VALUE:kE,ERR_MISSING_ARGS:Npe,ERR_STREAM_DESTROYED:Dpe,ERR_STREAM_PREMATURE_CLOSE:Ope},AbortError:Lpe}=yr(),{validateFunction:Mpe,validateAbortSignal:Ppe}=Ga(),{isIterable:mo,isReadable:$E,isReadableNodeStream:r0,isNodeStream:Dq,isTransformStream:nl,isWebStream:Fpe,isReadableStream:qE,isReadableFinished:Bpe}=Wn(),kpe=globalThis.AbortController||xt().AbortController,UE,WE,jE;function Oq(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=n0(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Cpe.destroyer(t,s||new Dpe("pipe")))},cleanup:i}}function $pe(t){return Mpe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function zE(t){if(mo(t))return t;if(r0(t))return qpe(t);throw new VE("val",["Readable","Iterable","AsyncIterable"],t)}async function*qpe(t){WE||(WE=yu()),yield*WE.prototype[Tpe].call(t)}async function t0(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new vpe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=n0(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?Ipe(i,c):c)}finally{l(),e.off("drain",o)}}async function HE(t,e,r,{end:n}){nl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Upe(...t){return Lq(t,Ape($pe(t)))}function Lq(t,e,r){if(t.length===1&&xpe(t[0])&&(t=t[0]),t.length<2)throw new Npe("streams");let n=new kpe,i=n.signal,s=r?.signal,o=[];Ppe(s,"options.signal");function a(){g(new Lpe)}jE=jE||Ar().addAbortListener;let l;s&&(l=jE(s,a));let c,u,d=[],h=0;function f(b){g(b,--h===0)}function g(b,w){var I;if(b&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=b),!(!c&&!w)){for(;d.length;)d.shift()(c);(I=l)===null||I===void 0||I[Rpe](),n.abort(),w&&(c||o.forEach(O=>O()),Eu.nextTick(e,c,u))}}let p;for(let b=0;b<t.length;b++){let w=t[b],I=b<t.length-1,O=b>0,C=I||r?.end!==!1,B=b===t.length-1;if(Dq(w)){let N=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&f(L)};var S=N;if(C){let{destroy:L,cleanup:$}=Oq(w,I,O);d.push(L),$E(w)&&B&&o.push($)}w.on("error",N),$E(w)&&B&&o.push(()=>{w.removeListener("error",N)})}if(b===0)if(typeof w=="function"){if(p=w({signal:i}),!mo(p))throw new kE("Iterable, AsyncIterable or Stream","source",p)}else mo(w)||r0(w)||nl(w)?p=w:p=Nq.from(w);else if(typeof w=="function"){if(nl(p)){var m;p=zE((m=p)===null||m===void 0?void 0:m.readable)}else p=zE(p);if(p=w(p,{signal:i}),I){if(!mo(p,!0))throw new kE("AsyncIterable",`transform[${b-1}]`,p)}else{var y;UE||(UE=BE());let N=new UE({objectMode:!0}),L=(y=p)===null||y===void 0?void 0:y.then;if(typeof L=="function")h++,L.call(p,j=>{u=j,j!=null&&N.write(j),C&&N.end(),Eu.nextTick(f)},j=>{N.destroy(j),Eu.nextTick(f,j)});else if(mo(p,!0))h++,t0(p,N,f,{end:C});else if(qE(p)||nl(p)){let j=p.readable||p;h++,t0(j,N,f,{end:C})}else throw new kE("AsyncIterable or Promise","destination",p);p=N;let{destroy:$,cleanup:Y}=Oq(p,!1,!0);d.push($),B&&o.push(Y)}}else if(Dq(w)){if(r0(p)){h+=2;let N=Wpe(p,w,f,{end:C});$E(w)&&B&&o.push(N)}else if(nl(p)||qE(p)){let N=p.readable||p;h++,t0(N,w,f,{end:C})}else if(mo(p))h++,t0(p,w,f,{end:C});else throw new VE("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else if(Fpe(w)){if(r0(p))h++,HE(zE(p),w,f,{end:C});else if(qE(p)||mo(p))h++,HE(p,w,f,{end:C});else if(nl(p))h++,HE(p.readable,w,f,{end:C});else throw new VE("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=w}else p=Nq.from(w)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Eu.nextTick(a),p}function Wpe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Ope)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;Bpe(t)?Eu.nextTick(o):t.once("end",o)}else r();return n0(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),n0(e,{readable:!1,writable:!0},r)}Mq.exports={pipelineImpl:Lq,pipeline:Upe}});var YE=x((Kxe,qq)=>{"use strict";var{pipeline:jpe}=i0(),s0=zn(),{destroyer:zpe}=po(),{isNodeStream:o0,isReadable:Pq,isWritable:Fq,isWebStream:GE,isTransformStream:bo,isWritableStream:Bq,isReadableStream:kq}=Wn(),{AbortError:Hpe,codes:{ERR_INVALID_ARG_VALUE:$q,ERR_MISSING_ARGS:Vpe}}=yr(),Gpe=_i();qq.exports=function(...e){if(e.length===0)throw new Vpe("streams");if(e.length===1)return s0.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=s0.from(e[0])),typeof e[e.length-1]=="function"){let f=e.length-1;e[f]=s0.from(e[f])}for(let f=0;f<e.length;++f)if(!(!o0(e[f])&&!GE(e[f]))){if(f<e.length-1&&!(Pq(e[f])||kq(e[f])||bo(e[f])))throw new $q(`streams[${f}]`,r[f],"must be readable");if(f>0&&!(Fq(e[f])||Bq(e[f])||bo(e[f])))throw new $q(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let g=o;o=null,g?g(f):f?a.destroy(f):!h&&!d&&a.destroy()}let c=e[0],u=jpe(e,l),d=!!(Fq(c)||Bq(c)||bo(c)),h=!!(Pq(u)||kq(u)||bo(u));if(a=new s0({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:h}),d){if(o0(c))a._write=function(g,p,m){c.write(g,p)?m():n=m},a._final=function(g){c.end(),i=g},c.on("drain",function(){if(n){let g=n;n=null,g()}});else if(GE(c)){let p=(bo(c)?c.writable:c).getWriter();a._write=async function(m,y,S){try{await p.ready,p.write(m).catch(()=>{}),S()}catch(b){S(b)}},a._final=async function(m){try{await p.ready,p.close().catch(()=>{}),i=m}catch(y){m(y)}}}let f=bo(u)?u.readable:u;Gpe(f,()=>{if(i){let g=i;i=null,g()}})}if(h){if(o0(u))u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}};else if(GE(u)){let g=(bo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:p,done:m}=await g.read();if(!a.push(p))return;if(m){a.push(null);return}}catch{return}}}}return a._destroy=function(f,g){!f&&o!==null&&(f=new Hpe),s=null,n=null,i=null,o===null?g(f):(o=g,o0(u)&&zpe(u,f))},a}});var Kq=x((Xxe,XE)=>{"use strict";var Ype=globalThis.AbortController||xt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Jpe,ERR_INVALID_ARG_TYPE:Su,ERR_MISSING_ARGS:Kpe,ERR_OUT_OF_RANGE:Xpe},AbortError:Hn}=yr(),{validateAbortSignal:wo,validateInteger:Uq,validateObject:_o}=Ga(),Zpe=at().Symbol("kWeak"),Qpe=at().Symbol("kResistStopPropagation"),{finished:e0e}=_i(),t0e=YE(),{addAbortSignalNoValidate:r0e}=hu(),{isWritable:n0e,isNodeStream:i0e}=Wn(),{deprecate:s0e}=Ar(),{ArrayPrototypePush:o0e,Boolean:a0e,MathFloor:Wq,Number:l0e,NumberIsNaN:c0e,Promise:jq,PromiseReject:zq,PromiseResolve:u0e,PromisePrototypeThen:Hq,Symbol:Gq}=at(),a0=Gq("kEmpty"),Vq=Gq("kEof");function f0e(t,e){if(e!=null&&_o(e,"options"),e?.signal!=null&&wo(e.signal,"options.signal"),i0e(t)&&!n0e(t))throw new Jpe("stream",t,"must be writable");let r=t0e(this,t);return e!=null&&e.signal&&r0e(e.signal,r),r}function l0(t,e){if(typeof t!="function")throw new Su("fn",["Function","AsyncFunction"],t);e!=null&&_o(e,"options"),e?.signal!=null&&wo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Wq(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=Wq(e.highWaterMark)),Uq(r,"options.concurrency",1),Uq(n,"options.highWaterMark",0),n+=r,async function*(){let s=Ar().AbortSignalAny([e?.signal].filter(a0e)),o=this,a=[],l={signal:s},c,u,d=!1,h=0;function f(){d=!0,g()}function g(){h-=1,p()}function p(){u&&!d&&h<r&&a.length<n&&(u(),u=null)}async function m(){try{for await(let y of o){if(d)return;if(s.aborted)throw new Hn;try{if(y=t(y,l),y===a0)continue;y=u0e(y)}catch(S){y=zq(S)}h+=1,Hq(y,g,f),a.push(y),c&&(c(),c=null),!d&&(a.length>=n||h>=r)&&await new jq(S=>{u=S})}a.push(Vq)}catch(y){let S=zq(y);Hq(S,g,f),a.push(S)}finally{d=!0,c&&(c(),c=null)}}m();try{for(;;){for(;a.length>0;){let y=await a[0];if(y===Vq)return;if(s.aborted)throw new Hn;y!==a0&&(yield y),a.shift(),p()}await new jq(y=>{c=y})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function d0e(t=void 0){return t!=null&&_o(t,"options"),t?.signal!=null&&wo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Hn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function Yq(t,e=void 0){for await(let r of KE.call(this,t,e))return!0;return!1}async function h0e(t,e=void 0){if(typeof t!="function")throw new Su("fn",["Function","AsyncFunction"],t);return!await Yq.call(this,async(...r)=>!await t(...r),e)}async function p0e(t,e){for await(let r of KE.call(this,t,e))return r}async function g0e(t,e){if(typeof t!="function")throw new Su("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),a0}for await(let n of l0.call(this,r,e));}function KE(t,e){if(typeof t!="function")throw new Su("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:a0}return l0.call(this,r,e)}var JE=class extends Kpe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function y0e(t,e,r){var n;if(typeof t!="function")throw new Su("reducer",["Function","AsyncFunction"],t);r!=null&&_o(r,"options"),r?.signal!=null&&wo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Hn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await e0e(this.destroy(c)),c}let s=new Ype,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Zpe]:this,[Qpe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Hn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new JE}finally{s.abort()}return e}async function m0e(t){t!=null&&_o(t,"options"),t?.signal!=null&&wo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Hn(void 0,{cause:t.signal.reason});o0e(e,n)}return e}function b0e(t,e){let r=l0.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function Jq(t){if(t=l0e(t),c0e(t))return 0;if(t<0)throw new Xpe("number",">= 0",t);return t}function w0e(t,e=void 0){return e!=null&&_o(e,"options"),e?.signal!=null&&wo(e.signal,"options.signal"),t=Jq(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Hn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Hn;t--<=0&&(yield s)}}.call(this)}function _0e(t,e=void 0){return e!=null&&_o(e,"options"),e?.signal!=null&&wo(e.signal,"options.signal"),t=Jq(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Hn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Hn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}XE.exports.streamReturningOperators={asIndexedPairs:s0e(d0e,"readable.asIndexedPairs will be removed in a future version."),drop:w0e,filter:KE,flatMap:b0e,map:l0,take:_0e,compose:f0e};XE.exports.promiseReturningOperators={every:h0e,forEach:g0e,reduce:y0e,toArray:m0e,some:Yq,find:p0e}});var ZE=x((Zxe,Xq)=>{"use strict";var{ArrayPrototypePop:E0e,Promise:S0e}=at(),{isIterable:x0e,isNodeStream:v0e,isWebStream:T0e}=Wn(),{pipelineImpl:R0e}=i0(),{finished:A0e}=_i();QE();function C0e(...t){return new S0e((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!v0e(s)&&!x0e(s)&&!T0e(s)){let o=E0e(t);n=o.signal,i=o.end}R0e(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}Xq.exports={finished:A0e,pipeline:C0e}});var QE=x((Qxe,oU)=>{"use strict";var{Buffer:I0e}=require("buffer"),{ObjectDefineProperty:xi,ObjectKeys:eU,ReflectApply:tU}=at(),{promisify:{custom:rU}}=Ar(),{streamReturningOperators:Zq,promiseReturningOperators:Qq}=Kq(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:nU}}=yr(),N0e=YE(),{setDefaultHighWaterMark:D0e,getDefaultHighWaterMark:O0e}=pu(),{pipeline:iU}=i0(),{destroyer:L0e}=po(),sU=_i(),eS=ZE(),xu=Wn(),rt=oU.exports=Wp().Stream;rt.isDestroyed=xu.isDestroyed;rt.isDisturbed=xu.isDisturbed;rt.isErrored=xu.isErrored;rt.isReadable=xu.isReadable;rt.isWritable=xu.isWritable;rt.Readable=yu();for(let t of eU(Zq)){let r=function(...n){if(new.target)throw nU();return rt.Readable.from(tU(e,this,n))},e=Zq[t];xi(r,"name",{__proto__:null,value:e.name}),xi(r,"length",{__proto__:null,value:e.length}),xi(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of eU(Qq)){let r=function(...n){if(new.target)throw nU();return tU(e,this,n)},e=Qq[t];xi(r,"name",{__proto__:null,value:e.name}),xi(r,"length",{__proto__:null,value:e.length}),xi(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}rt.Writable=e0();rt.Duplex=zn();rt.Transform=PE();rt.PassThrough=BE();rt.pipeline=iU;var{addAbortSignal:M0e}=hu();rt.addAbortSignal=M0e;rt.finished=sU;rt.destroy=L0e;rt.compose=N0e;rt.setDefaultHighWaterMark=D0e;rt.getDefaultHighWaterMark=O0e;xi(rt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return eS}});xi(iU,rU,{__proto__:null,enumerable:!0,get(){return eS.pipeline}});xi(sU,rU,{__proto__:null,enumerable:!0,get(){return eS.finished}});rt.Stream=rt;rt._isUint8Array=function(e){return e instanceof Uint8Array};rt._uint8ArrayToBuffer=function(e){return I0e.from(e.buffer,e.byteOffset,e.byteLength)}});var aU=x((eve,Re)=>{"use strict";var kt=require("stream");if(kt&&process.env.READABLE_STREAM==="disable"){let t=kt.promises;Re.exports._uint8ArrayToBuffer=kt._uint8ArrayToBuffer,Re.exports._isUint8Array=kt._isUint8Array,Re.exports.isDisturbed=kt.isDisturbed,Re.exports.isErrored=kt.isErrored,Re.exports.isReadable=kt.isReadable,Re.exports.Readable=kt.Readable,Re.exports.Writable=kt.Writable,Re.exports.Duplex=kt.Duplex,Re.exports.Transform=kt.Transform,Re.exports.PassThrough=kt.PassThrough,Re.exports.addAbortSignal=kt.addAbortSignal,Re.exports.finished=kt.finished,Re.exports.destroy=kt.destroy,Re.exports.pipeline=kt.pipeline,Re.exports.compose=kt.compose,Object.defineProperty(kt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Re.exports.Stream=kt.Stream}else{let t=QE(),e=ZE(),r=t.Readable.destroy;Re.exports=t.Readable,Re.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Re.exports._isUint8Array=t._isUint8Array,Re.exports.isDisturbed=t.isDisturbed,Re.exports.isErrored=t.isErrored,Re.exports.isReadable=t.isReadable,Re.exports.Readable=t.Readable,Re.exports.Writable=t.Writable,Re.exports.Duplex=t.Duplex,Re.exports.Transform=t.Transform,Re.exports.PassThrough=t.PassThrough,Re.exports.addAbortSignal=t.addAbortSignal,Re.exports.finished=t.finished,Re.exports.destroy=t.destroy,Re.exports.destroy=r,Re.exports.pipeline=t.pipeline,Re.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Re.exports.Stream=t.Stream}Re.exports.default=Re.exports});var cU=x((tve,lU)=>{"use strict";var{Transform:P0e}=aU(),F0e=Lp(),tS=class extends P0e{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=F0e.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};lU.exports=tS});var fU=x((rve,uU)=>{"use strict";var{DeflateRaw:B0e}=require("zlib"),k0e=Lp(),rS=class extends B0e{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=k0e.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};uU.exports=rS});var nS=x((nve,dU)=>{"use strict";dU.exports={CRC32Stream:cU(),DeflateCRC32Stream:fU()}});var gU=x((ave,pU)=>{var $0e=require("util").inherits,q0e=Lp(),{CRC32Stream:U0e}=nS(),{DeflateCRC32Stream:W0e}=nS(),hU=z_(),ive=Dw(),sve=Iw(),he=Nw(),ove=W_(),ae=np(),Kt=pU.exports=function(t){if(!(this instanceof Kt))return new Kt(t);t=this.options=this._defaults(t),hU.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};$0e(Kt,hU);Kt.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};Kt.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(he.METHOD_STORED);var n=t.getMethod();if(n===he.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(q0e.buf(e)>>>0)),this._writeLocalFileHeader(t),n===he.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===he.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};Kt.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(he.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};Kt.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=he.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};Kt.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};Kt.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(he.METHOD_DEFLATED),t.getMethod()===he.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(he.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};Kt.prototype._smartStream=function(t,e){var r=t.getMethod()===he.METHOD_DEFLATED,n=r?new W0e(this.options.zlib):new U0e,i=null;function s(){var o=n.digest().readUInt32BE(0);t.setCrc(o),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(o){i=o}),n.pipe(this,{end:!1}),n};Kt.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=he.ZIP64_MAGIC_SHORT,e=he.ZIP64_MAGIC,r=he.ZIP64_MAGIC),this.write(ae.getLongBytes(he.SIG_EOCD)),this.write(he.SHORT_ZERO),this.write(he.SHORT_ZERO),this.write(ae.getShortBytes(t)),this.write(ae.getShortBytes(t)),this.write(ae.getLongBytes(e)),this.write(ae.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(ae.getShortBytes(i)),this.write(n)};Kt.prototype._writeCentralDirectoryZip64=function(){this.write(ae.getLongBytes(he.SIG_ZIP64_EOCD)),this.write(ae.getEightBytes(44)),this.write(ae.getShortBytes(he.MIN_VERSION_ZIP64)),this.write(ae.getShortBytes(he.MIN_VERSION_ZIP64)),this.write(he.LONG_ZERO),this.write(he.LONG_ZERO),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._archive.centralLength)),this.write(ae.getEightBytes(this._archive.centralOffset)),this.write(ae.getLongBytes(he.SIG_ZIP64_EOCD_LOC)),this.write(he.LONG_ZERO),this.write(ae.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(ae.getLongBytes(1))};Kt.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>he.ZIP64_MAGIC){i=he.ZIP64_MAGIC,s=he.ZIP64_MAGIC,n=he.ZIP64_MAGIC,t.setVersionNeededToExtract(he.MIN_VERSION_ZIP64);var o=Buffer.concat([ae.getShortBytes(he.ZIP64_EXTRA_ID),ae.getShortBytes(24),ae.getEightBytes(t.getSize()),ae.getEightBytes(t.getCompressedSize()),ae.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(ae.getLongBytes(he.SIG_CFH)),this.write(ae.getShortBytes(t.getPlatform()<<8|he.VERSION_MADEBY)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(s)),this.write(ae.getLongBytes(i));var a=t.getName(),l=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(ae.getShortBytes(a.length)),this.write(ae.getShortBytes(c.length)),this.write(ae.getShortBytes(l.length)),this.write(he.SHORT_ZERO),this.write(ae.getShortBytes(t.getInternalAttributes())),this.write(ae.getLongBytes(t.getExternalAttributes())),this.write(ae.getLongBytes(n)),this.write(a),this.write(c),this.write(l)};Kt.prototype._writeDataDescriptor=function(t){this.write(ae.getLongBytes(he.SIG_DD)),this.write(ae.getLongBytes(t.getCrc())),t.isZip64()?(this.write(ae.getEightBytes(t.getCompressedSize())),this.write(ae.getEightBytes(t.getSize()))):(this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize())))};Kt.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(he.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(ae.getLongBytes(he.SIG_LFH)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(he.LONG_ZERO),this.write(he.LONG_ZERO),this.write(he.LONG_ZERO)):(this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize()))),this.write(ae.getShortBytes(n.length)),this.write(ae.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};Kt.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};Kt.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>he.ZIP64_MAGIC_SHORT||this._archive.centralLength>he.ZIP64_MAGIC||this._archive.centralOffset>he.ZIP64_MAGIC};Kt.prototype.setComment=function(t){this._archive.comment=t}});var iS=x((lve,yU)=>{yU.exports={ArchiveEntry:rp(),ZipArchiveEntry:Dw(),ArchiveOutputStream:z_(),ZipArchiveOutputStream:gU()}});var bU=x((cve,mU)=>{var j0e=require("util").inherits,oS=iS().ZipArchiveOutputStream,z0e=iS().ZipArchiveEntry,sS=Ea(),il=mU.exports=function(t){if(!(this instanceof il))return new il(t);t=this.options=t||{},t.zlib=t.zlib||{},oS.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};j0e(il,oS);il.prototype._normalizeFileData=function(t){t=sS.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=sS.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=sS.dateify(t.date),t};il.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new z0e(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),oS.prototype.entry.call(this,n,t,r)};il.prototype.finalize=function(){this.finish()}});var _U=x((uve,wU)=>{var H0e=bU(),V0e=Ea(),ts=function(t){if(!(this instanceof ts))return new ts(t);t=this.options=V0e.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new H0e(t)};ts.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};ts.prototype.finalize=function(){this.engine.finalize()};ts.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};ts.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};ts.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};wU.exports=ts});var SU=x((fve,EU)=>{EU.exports=require("events")});var vU=x((hve,xU)=>{xU.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var aS=x((gve,RU)=>{var TU=vU();RU.exports=class{constructor(e){this.hwm=e||16,this.head=new TU(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new TU(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var sl=x((yve,AU)=>{function G0e(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function Y0e(t){return Buffer.isEncoding(t)}function J0e(t,e,r){return Buffer.alloc(t,e,r)}function K0e(t){return Buffer.allocUnsafe(t)}function X0e(t){return Buffer.allocUnsafeSlow(t)}function Z0e(t,e){return Buffer.byteLength(t,e)}function Q0e(t,e){return Buffer.compare(t,e)}function ege(t,e){return Buffer.concat(t,e)}function tge(t,e,r,n,i){return Ge(t).copy(e,r,n,i)}function rge(t,e){return Ge(t).equals(e)}function nge(t,e,r,n,i){return Ge(t).fill(e,r,n,i)}function ige(t,e,r){return Buffer.from(t,e,r)}function sge(t,e,r,n){return Ge(t).includes(e,r,n)}function oge(t,e,r,n){return Ge(t).indexOf(e,r,n)}function age(t,e,r,n){return Ge(t).lastIndexOf(e,r,n)}function lge(t){return Ge(t).swap16()}function cge(t){return Ge(t).swap32()}function uge(t){return Ge(t).swap64()}function Ge(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function fge(t,e,r,n){return Ge(t).toString(e,r,n)}function dge(t,e,r,n,i){return Ge(t).write(e,r,n,i)}function hge(t,e){return Ge(t).readDoubleBE(e)}function pge(t,e){return Ge(t).readDoubleLE(e)}function gge(t,e){return Ge(t).readFloatBE(e)}function yge(t,e){return Ge(t).readFloatLE(e)}function mge(t,e){return Ge(t).readInt32BE(e)}function bge(t,e){return Ge(t).readInt32LE(e)}function wge(t,e){return Ge(t).readUInt32BE(e)}function _ge(t,e){return Ge(t).readUInt32LE(e)}function Ege(t,e,r){return Ge(t).writeDoubleBE(e,r)}function Sge(t,e,r){return Ge(t).writeDoubleLE(e,r)}function xge(t,e,r){return Ge(t).writeFloatBE(e,r)}function vge(t,e,r){return Ge(t).writeFloatLE(e,r)}function Tge(t,e,r){return Ge(t).writeInt32BE(e,r)}function Rge(t,e,r){return Ge(t).writeInt32LE(e,r)}function Age(t,e,r){return Ge(t).writeUInt32BE(e,r)}function Cge(t,e,r){return Ge(t).writeUInt32LE(e,r)}AU.exports={isBuffer:G0e,isEncoding:Y0e,alloc:J0e,allocUnsafe:K0e,allocUnsafeSlow:X0e,byteLength:Z0e,compare:Q0e,concat:ege,copy:tge,equals:rge,fill:nge,from:ige,includes:sge,indexOf:oge,lastIndexOf:age,swap16:lge,swap32:cge,swap64:uge,toBuffer:Ge,toString:fge,write:dge,readDoubleBE:hge,readDoubleLE:pge,readFloatBE:gge,readFloatLE:yge,readInt32BE:mge,readInt32LE:bge,readUInt32BE:wge,readUInt32LE:_ge,writeDoubleBE:Ege,writeDoubleLE:Sge,writeFloatBE:xge,writeFloatLE:vge,writeInt32BE:Tge,writeInt32LE:Rge,writeUInt32BE:Age,writeUInt32LE:Cge}});var IU=x((bve,CU)=>{var Ige=sl();CU.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return Ige.toString(e,this.encoding)}flush(){return""}}});var DU=x((_ve,NU)=>{var Nge=sl();NU.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return Nge.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){let s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="\uFFFD");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="\uFFFD";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){let e=this.bytesNeeded>0?"\uFFFD":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}});var LU=x((Sve,OU)=>{var Dge=IU(),Oge=DU();OU.exports=class{constructor(e="utf8"){switch(this.encoding=Lge(e),this.encoding){case"utf8":this.decoder=new Oge;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new Dge(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function Lge(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}});var xS=x((xve,r6)=>{var{EventEmitter:Mge}=SU(),p0=new Error("Stream was destroyed"),lS=new Error("Premature close"),$U=aS(),Pge=LU(),cS=typeof queueMicrotask>"u"?t=>global.process.nextTick(t):queueMicrotask,ht=(1<<29)-1,Vn=1,yS=2,Eo=4,vu=8,qU=ht^Vn,Fge=ht^yS,Iu=16,ol=32,cl=64,ns=128,Nu=256,mS=512,So=1024,uS=2048,bS=4096,wS=8192,gn=16384,rs=32768,g0=65536,xo=131072,UU=Nu|mS,Bge=Iu|g0,kge=cl|Iu,$ge=bS|ns,_S=Nu|xo,qge=ht^Iu,Uge=ht^cl,Wge=ht^(cl|g0),MU=ht^g0,jge=ht^Nu,zge=ht^(ns|wS),Hge=ht^So,PU=ht^UU,WU=ht^rs,Vge=ht^ol,jU=ht^xo,Gge=ht^_S,vi=1<<18,ll=2<<18,Du=4<<18,vo=8<<18,Ou=16<<18,is=32<<18,fS=64<<18,al=128<<18,ES=256<<18,To=512<<18,y0=1024<<18,Yge=ht^(vi|ES),zU=ht^Du,Jge=ht^(vi|To),Kge=ht^Ou,Xge=ht^vo,HU=ht^al,Zge=ht^ll,VU=ht^y0,Tu=Iu|vi,GU=ht^Tu,SS=gn|is,Gn=Eo|vu|yS,Fr=Gn|Vn,YU=Gn|SS,Qge=zU&Uge,m0=al|rs,eye=m0&GU,JU=Fr|eye,tye=Fr|So|gn,FU=Fr|gn|ns,rye=Fr|So|ns,nye=Fr|bS|ns|wS,iye=Fr|Iu|So|gn|g0|xo,sye=Gn|So|gn,oye=ol|Fr|rs|cl,aye=rs|Vn,lye=Fr|To|is,cye=vo|Ou,KU=vo|vi,uye=vo|Ou|Fr|vi,BU=Fr|vi|vo|y0,fye=Du|vi,dye=vi|ES,hye=Fr|To|KU|is,pye=Ou|Gn|To|is,gye=ll|Fr|al|Du,yye=To|is|Gn,c0=Symbol.asyncIterator||Symbol("asyncIterator"),u0=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new $U,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||t6,this.map=i||n,this.afterWrite=wye.bind(this),this.afterUpdateNextTick=Sye.bind(this)}get ended(){return(this.stream._duplexState&is)!==0}push(e){return(this.stream._duplexState&yye)!==0?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=vo,!0):(this.stream._duplexState|=cye,!1))}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=Xge),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|To)&zU}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&BU)===KU;)n.push(i._writableState.shift());if((i._duplexState&Fr)!==0)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=ll;do{for(;(e._duplexState&BU)===vo;){let r=this.shift();e._duplexState|=dye,e._write(r,this.afterWrite)}(e._duplexState&fye)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=Zge}updateNonPrimary(){let e=this.stream;if((e._duplexState&hye)===To){e._duplexState=e._duplexState|vi,e._final(bye.bind(this));return}if((e._duplexState&Gn)===Eo){(e._duplexState&m0)===0&&(e._duplexState|=Tu,e._destroy(XU.bind(this)));return}(e._duplexState&JU)===Vn&&(e._duplexState=(e._duplexState|Tu)&qU,e._open(ZU.bind(this)))}continueUpdate(){return(this.stream._duplexState&al)===0?!1:(this.stream._duplexState&=HU,!0)}updateCallback(){(this.stream._duplexState&gye)===Du?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&al)===0&&(this.stream._duplexState|=al,(this.stream._duplexState&ll)===0&&cS(this.afterUpdateNextTick))}},dS=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new $U,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=o||s||t6,this.map=i||n,this.pipeTo=null,this.afterRead=_ye.bind(this),this.afterUpdateNextTick=Eye.bind(this)}get ended(){return(this.stream._duplexState&gn)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=mS,this.pipeTo=e,this.pipeline=new pS(this.stream,e,r),r&&this.stream.on("error",kU),Cu(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",kU),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",mye.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|So)&Wge,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=MU,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|ns)&MU,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=zge),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&FU)===ns){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=PU),(e._duplexState&uS)!==0&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=xo,this.updateNextTick()),null}drain(){let e=this.stream;for(;(e._duplexState&FU)===ns&&(e._duplexState&UU)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=PU),(e._duplexState&uS)!==0&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=ol;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&iye)===xo;)e._duplexState|=Bge,e._read(this.afterRead),this.drain();(e._duplexState&nye)===$ge&&(e._duplexState|=wS,e.emit("readable")),(e._duplexState&kge)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=Vge}updateNonPrimary(){let e=this.stream;if((e._duplexState&rye)===So&&(e._duplexState=(e._duplexState|gn)&Hge,e.emit("end"),(e._duplexState&YU)===SS&&(e._duplexState|=Eo),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&Gn)===Eo){(e._duplexState&m0)===0&&(e._duplexState|=Tu,e._destroy(XU.bind(this)));return}(e._duplexState&JU)===Vn&&(e._duplexState=(e._duplexState|Tu)&qU,e._open(ZU.bind(this)))}continueUpdate(){return(this.stream._duplexState&rs)===0?!1:(this.stream._duplexState&=WU,!0)}updateCallback(){(this.stream._duplexState&oye)===cl?this.update():this.updateNextTick()}updateNextTickIfOpen(){(this.stream._duplexState&aye)===0&&(this.stream._duplexState|=rs,(this.stream._duplexState&ol)===0&&cS(this.afterUpdateNextTick))}updateNextTick(){(this.stream._duplexState&rs)===0&&(this.stream._duplexState|=rs,(this.stream._duplexState&ol)===0&&cS(this.afterUpdateNextTick))}},hS=class{constructor(e){this.data=null,this.afterTransform=vye.bind(e),this.afterFinal=null}},pS=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&gn)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&gn)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function mye(){this.stream._duplexState|=mS,this.updateCallback()}function bye(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&Gn)===0&&(e._duplexState|=is,e.emit("finish")),(e._duplexState&YU)===SS&&(e._duplexState|=Eo),e._duplexState&=Jge,(e._duplexState&ll)===0?this.update():this.updateNextTick()}function XU(t){let e=this.stream;!t&&this.error!==p0&&(t=this.error),t&&e.emit("error",t),e._duplexState|=vu,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function wye(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=Yge,this.drains!==null&&xye(this.drains),(e._duplexState&uye)===Ou&&(e._duplexState&=Kge,(e._duplexState&fS)===fS&&e.emit("drain")),this.updateCallback()}function _ye(t){t&&this.stream.destroy(t),this.stream._duplexState&=qge,this.readAhead===!1&&(this.stream._duplexState&Nu)===0&&(this.stream._duplexState&=jU),this.updateCallback()}function Eye(){(this.stream._duplexState&ol)===0&&(this.stream._duplexState&=WU,this.update())}function Sye(){(this.stream._duplexState&ll)===0&&(this.stream._duplexState&=HU,this.update())}function xye(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function ZU(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&Eo)===0&&((e._duplexState&tye)===0&&(e._duplexState|=cl),(e._duplexState&lye)===0&&(e._duplexState|=Du),e.emit("open")),e._duplexState&=GU,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function vye(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}function Tye(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=uS|_S,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=bS,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=fS,this._writableState.updateNextTick())}var Ru=class extends Mge{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Pye.bind(this))),this.on("newListener",Tye)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&vu)!==0}get destroying(){return(this._duplexState&Gn)!==0}destroy(e){(this._duplexState&Gn)===0&&(e||(e=p0),this._duplexState=(this._duplexState|Eo)&Qge,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=yS,this._predestroy(),this._duplexState&=Fge,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},f0=class t extends Ru{constructor(e){super(e),this._duplexState|=Vn|is|xo,this._readableState=new dS(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=jU),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){let r=new Pge(e),n=this._readableState.map||Cye;return this._readableState.map=i,this;function i(s){let o=r.push(s);return o===""&&(s.byteLength!==0||r.remaining>0)?null:n(o)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=_S,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?Gge:jge,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(Oye(e))return e;if(e[c0])return this._fromAsyncIterator(e[c0](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&sye)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&Nu)===0}[c0](){let e=this,r=null,n=null,i=null;return this.on("error",c=>{r=c}),this.on("readable",s),this.on("close",o),{[c0](){return this},next(){return new Promise(function(c,u){n=c,i=u;let d=e.read();d!==null?a(d):(e._duplexState&vu)!==0&&a(null)})},return(){return l(null)},throw(c){return l(c)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(c){i!==null&&(r?i(r):c===null&&(e._duplexState&gn)===0?i(p0):n({value:c,done:c===null}),i=n=null)}function l(c){return e.destroy(c),new Promise((u,d)=>{if(e._duplexState&vu)return u({value:void 0,done:!0});e.once("close",function(){c?d(c):u({value:void 0,done:!0})})})}}},d0=class extends Ru{constructor(e){super(e),this._duplexState|=Vn|gn,this._writableState=new u0(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=y0}uncork(){this._duplexState&=VU,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&pye)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,i=(Fye(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&ES?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Au=class extends f0{constructor(e){super(e),this._duplexState=Vn|this._duplexState&xo,this._writableState=new u0(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=y0}uncork(){this._duplexState&=VU,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},h0=class extends Au{constructor(e){super(e),this._transformState=new hS(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(Rye.bind(this))}},gS=class extends h0{};function Rye(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function Aye(...t){return new Promise((e,r)=>QU(...t,n=>{if(n)return r(n);e()}))}function QU(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let c=1;c<r.length;c++)s=r[c],Cu(i)?i.pipe(s,l):(a(i,!0,c>1,l),i.pipe(s)),i=s;if(n){let c=!1,u=Cu(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",d=>{o===null&&(o=d)}),s.on("finish",()=>{c=!0,u||n(o)}),u&&s.on("close",()=>n(o||(c?null:lS)))}return s;function a(c,u,d,h){c.on("error",h),c.on("close",f);function f(){if(u&&c._readableState&&!c._readableState.ended||d&&c._writableState&&!c._writableState.ended)return h(lS)}}function l(c){if(!(!c||o)){o=c;for(let u of r)u.destroy(c)}}}function Cye(t){return t}function e6(t){return!!t._readableState||!!t._writableState}function Cu(t){return typeof t._duplexState=="number"&&e6(t)}function Iye(t){return!!t._readableState&&t._readableState.ended}function Nye(t){return!!t._writableState&&t._writableState.ended}function Dye(t,e={}){let r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===p0?null:r}function Oye(t){return Cu(t)&&t.readable}function Lye(t){return(t._duplexState&Vn)!==Vn||(t._duplexState&m0)!==0}function Mye(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function t6(t){return Mye(t)?t.byteLength:1024}function kU(){}function Pye(){this.destroy(new Error("Stream aborted."))}function Fye(t){return t._writev!==d0.prototype._writev&&t._writev!==Au.prototype._writev}r6.exports={pipeline:QU,pipelinePromise:Aye,isStream:e6,isStreamx:Cu,isEnded:Iye,isFinished:Nye,isDisturbed:Lye,getStreamError:Dye,Stream:Ru,Writable:d0,Readable:f0,Duplex:Au,Transform:h0,PassThrough:gS}});var RS=x(fl=>{var Be=sl(),Bye="0000000000000000000",kye="7777777777777777777",b0=48,n6=Be.from([117,115,116,97,114,0]),$ye=Be.from([b0,b0]),qye=Be.from([117,115,116,97,114,32]),Uye=Be.from([32,0]),Wye=4095,Lu=257,TS=263;fl.decodeLongPath=function(e,r){return ul(e,0,e.length,r)};fl.encodePax=function(e){let r="";e.name&&(r+=vS(" path="+e.name+`
`)),e.linkname&&(r+=vS(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=vS(" "+i+"="+n[i]+`
`);return Be.from(r)};fl.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(Be.toString(e.subarray(0,n)),10);if(!i)return r;let s=Be.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};fl.encode=function(e){let r=Be.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),Be.byteLength(n)!==n.length)return null;for(;Be.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return Be.byteLength(n)>100||Be.byteLength(i)>155||e.linkname&&Be.byteLength(e.linkname)>100?null:(Be.write(r,n),Be.write(r,os(e.mode&Wye,6),100),Be.write(r,os(e.uid,6),108),Be.write(r,os(e.gid,6),116),Jye(e.size,r,124),Be.write(r,os(e.mtime.getTime()/1e3|0,11),136),r[156]=b0+Gye(e.type),e.linkname&&Be.write(r,e.linkname,157),Be.copy(n6,r,Lu),Be.copy($ye,r,TS),e.uname&&Be.write(r,e.uname,265),e.gname&&Be.write(r,e.gname,297),Be.write(r,os(e.devmajor||0,6),329),Be.write(r,os(e.devminor||0,6),337),i&&Be.write(r,i,345),Be.write(r,os(s6(r),6),148),r)};fl.decode=function(e,r,n){let i=e[156]===0?0:e[156]-b0,s=ul(e,0,100,r),o=ss(e,100,8),a=ss(e,108,8),l=ss(e,116,8),c=ss(e,124,12),u=ss(e,136,12),d=Vye(i),h=e[157]===0?null:ul(e,157,100,r),f=ul(e,265,32),g=ul(e,297,32),p=ss(e,329,8),m=ss(e,337,8),y=s6(e);if(y===256)return null;if(y!==ss(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(jye(e))e[345]&&(s=ul(e,345,155,r)+"/"+s);else if(!zye(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:l,size:c,mtime:new Date(1e3*u),type:d,linkname:h,uname:f,gname:g,devmajor:p,devminor:m,pax:null}};function jye(t){return Be.equals(n6,t.subarray(Lu,Lu+6))}function zye(t){return Be.equals(qye,t.subarray(Lu,Lu+6))&&Be.equals(Uye,t.subarray(TS,TS+2))}function Hye(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function Vye(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function Gye(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function i6(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function s6(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function os(t,e){return t=t.toString(8),t.length>e?kye.slice(0,e)+" ":Bye.slice(0,e-t.length)+t+" "}function Yye(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function Jye(t,e,r){t.toString(8).length>11?Yye(t,e,r):Be.write(e,os(t,11),r)}function Kye(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function ss(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return Kye(t);{for(;e<t.length&&t[e]===32;)e++;let n=Hye(i6(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(Be.toString(t.subarray(e,n)),8)}}function ul(t,e,r,n){return Be.toString(t.subarray(e,i6(t,0,e,e+r)),n)}function vS(t){let e=Be.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var u6=x((Tve,c6)=>{var{Writable:Xye,Readable:Zye,getStreamError:o6}=xS(),Qye=aS(),a6=sl(),dl=RS(),eme=a6.alloc(0),CS=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new Qye,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return eme;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return a6.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},IS=class extends Zye{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(o6(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=l6(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},NS=class extends Xye{constructor(e){super(e),e||(e={}),this._buffer=new CS,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=AS,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=dl.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=dl.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=dl.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=dl.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?dl.decodePax(e):Object.assign({},this._paxGlobal,dl.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=l6(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new IS(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=AS,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(o6(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",c),this.on("error",h=>{e=h}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(l)},return(){return d(null)},throw(h){return d(h)}};function a(h){if(!s)return;let f=s;s=null,f(h)}function l(h,f){if(e)return f(e);if(i){h({value:i,done:!1}),i=null;return}r=h,n=f,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function c(h,f,g){s=g,f.on("error",AS),r?(r({value:f,done:!1}),r=n=null):i=f}function u(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function d(h){return o.destroy(h),a(h),new Promise((f,g)=>{if(o.destroyed)return f({value:void 0,done:!0});o.once("close",function(){h?g(h):f({value:void 0,done:!0})})})}}};c6.exports=function(e){return new NS(e)};function AS(){}function l6(t){return t&=511,t&&512-t}});var d6=x((Rve,DS)=>{var f6={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{DS.exports=require("fs").constants||f6}catch{DS.exports=f6}});var m6=x((Ave,y6)=>{var{Readable:tme,Writable:rme,getStreamError:h6}=xS(),Ro=sl(),hl=d6(),w0=RS(),nme=493,ime=420,p6=Ro.alloc(1024),LS=class extends rme{constructor(e,r,n){super({mapWritable:ome,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?Ro.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?Ro.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),g6(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return h6(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},MS=class extends tme{constructor(e){super(e),this._drain=OS,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=OS),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=sme(e.mode)),e.mode||(e.mode=e.type==="directory"?nme:ime),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=Ro.from(r));let i=new LS(this,e,n);return Ro.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(p6),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=w0.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=w0.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(w0.encode(n)),this.push(r),g6(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(w0.encode(n))}_doDrain(){let e=this._drain;this._drain=OS,e()}_predestroy(){let e=h6(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};y6.exports=function(e){return new MS(e)};function sme(t){switch(t&hl.S_IFMT){case hl.S_IFBLK:return"block-device";case hl.S_IFCHR:return"character-device";case hl.S_IFDIR:return"directory";case hl.S_IFIFO:return"fifo";case hl.S_IFLNK:return"symlink"}return"file"}function OS(){}function g6(t,e){e&=511,e&&t.push(p6.subarray(0,512-e))}function ome(t){return Ro.isBuffer(t)?t:Ro.from(t)}});var b6=x(PS=>{PS.extract=u6();PS.pack=m6()});var E6=x((Ive,_6)=>{var ame=require("zlib"),lme=b6(),w6=Ea(),Ti=function(t){if(!(this instanceof Ti))return new Ti(t);t=this.options=w6.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=lme.pack(t),this.compressor=!1,t.gzip&&(this.compressor=ame.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};Ti.prototype._onCompressorError=function(t){this.engine.emit("error",t)};Ti.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(o,a){if(o){r(o);return}n.engine.entry(e,a,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(o){r(o,e)});t.pipe(s)}else e.sourceType==="stream"&&w6.collectStream(t,i)};Ti.prototype.finalize=function(){this.engine.finalize()};Ti.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Ti.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};Ti.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};_6.exports=Ti});var v6=x((Nve,x6)=>{"use strict";function cme(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ume=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function S6(t){if(Buffer.isBuffer(t))return t;if(typeof t=="number")return Buffer.alloc(t);if(typeof t=="string")return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function fme(t){let e=S6(4);return e.writeInt32BE(t,0),e}function FS(t,e){t=S6(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~~e^-1;for(var n=0;n<t.length;n++)r=ume[(r^t[n])&255]^r>>>8;return r^-1}function BS(){return fme(FS.apply(null,arguments))}BS.signed=function(){return FS.apply(null,arguments)};BS.unsigned=function(){return FS.apply(null,arguments)>>>0};var dme=BS,hme=cme(dme);x6.exports=hme});var C6=x((Dve,A6)=>{var pme=require("util").inherits,T6=Tw().Transform,gme=v6(),R6=Ea(),as=function(t){if(!(this instanceof as))return new as(t);t=this.options=R6.defaults(t,{}),T6.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};pme(as,T6);as.prototype._transform=function(t,e,r){r(null,t)};as.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};as.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,o){if(s){r(s);return}e.size=o.length||0,e.crc32=gme.unsigned(o),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&R6.collectStream(t,i)};as.prototype.finalize=function(){this._writeStringified(),this.end()};A6.exports=as});var N6=x((Ove,I6)=>{var yme=fF(),Mu={},ls=function(t,e){return ls.create(t,e)};ls.create=function(t,e){if(Mu[t]){var r=new yme(t,e);return r.setFormat(t),r.setModule(new Mu[t](e)),r}else throw new Error("create("+t+"): format not registered")};ls.registerFormat=function(t,e){if(Mu[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");Mu[t]=e};ls.isRegisteredFormat=function(t){return!!Mu[t]};ls.registerFormat("zip",_U());ls.registerFormat("tar",E6());ls.registerFormat("json",C6());I6.exports=ls});var O6=x((Lve,D6)=>{"use strict";var{Buffer:pl}=require("buffer"),kS=class{constructor(e=65536){this.chunkSize=e,this.chunks=[],this.currentBuffer=pl.alloc(e),this.cursor=0}_ensureCapacity(e){this.cursor+e>this.chunkSize&&this._flush()}_flush(){this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=pl.alloc(this.chunkSize),this.cursor=0)}write(e){let r=e.length,n=0;for(;r>0;){let i=this.chunkSize-this.cursor;i===0&&(this._flush(),i=this.chunkSize);let s=Math.min(r,i);e.copy(this.currentBuffer,this.cursor,n,n+s),this.cursor+=s,n+=s,r-=s}}writeByte(e){this._ensureCapacity(1),this.currentBuffer[this.cursor]=e,this.cursor++}writeInt32LE(e){this._ensureCapacity(4),this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeDoubleLE(e){this._ensureCapacity(8),this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeString(e){let r=pl.byteLength(e,"utf8");if(this.cursor+r<=this.chunkSize){this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8");return}this._flush(),r>this.chunkSize?this.chunks.push(pl.from(e,"utf8")):this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8")}writeUtf16LE(e){let r=e.length*2;if(this.cursor+r<=this.chunkSize){for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}return}if(this._flush(),r>this.chunkSize)this.chunks.push(pl.from(e,"utf16le"));else for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}}getChunks(){return this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=pl.alloc(this.chunkSize),this.cursor=0),this.chunks}reset(){this.chunks=[],this.cursor=0}};D6.exports=kS});var F6=x((Mve,P6)=>{"use strict";var mme=require("fs"),bme=N6(),{Readable:L6}=require("stream"),M6=O6(),wme=/[\\\/*?\[\]:]/g,$S=class{constructor(e){this.filePath=e,this.output=mme.createWriteStream(e),this.archive=bme("zip"),this.archive.pipe(this.output),this.sheetCount=0,this.sheetList=[],this.sstDic=new Map,this.sstCntUnique=0,this.sstCntAll=0,this.colWidths=[],this._autofilterIsOn=!1,this._oaEpoch=Date.UTC(1899,11,30),this._sheet1Bytes=Buffer.from([129,1,0,147,1,23,203,4,2,0,64,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,148,1,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,1,0,137,1,30,220,3,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,100,0,0,0,0,0,0,0,0,0,0,0,152,1,36,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,1,0,134,1,0,37,6,1,0,2,14,0,128,149,8,2,5,0,38,0,229,3,12,255,255,255,255,8,0,44,1,0,0,0,0,145,1,0,37,6,1,0,2,14,0,128,128,8,2,5,0,38,0,0,25,0,0,0,0,0,0,0,0,44,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,7,12,0,0,0,0,0,0,0,0,0,0,0,0,146,1,0,151,4,66,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,221,3,2,16,0,220,3,48,102,102,102,102,102,102,230,63,102,102,102,102,102,102,230,63,0,0,0,0,0,0,232,63,0,0,0,0,0,0,232,63,51,51,51,51,51,51,211,63,51,51,51,51,51,51,211,63,37,6,1,0,0,16,0,128,128,24,16,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,38,0,130,1,0]),this._workbookBinStart=Buffer.from([131,1,0,128,1,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,120,0,108,0,1,0,0,0,55,0,1,0,0,0,54,0,5,0,0,0,50,0,52,0,51,0,50,0,54,0,153,1,12,32,0,1,0,0,0,0,0,0,0,0,0,37,6,1,0,3,15,0,128,151,16,52,24,0,0,0,67,0,58,0,92,0,115,0,113,0,108,0,115,0,92,0,84,0,101,0,115,0,116,0,121,0,90,0,97,0,112,0,105,0,115,0,117,0,88,0,108,0,115,0,98,0,92,0,38,0,37,6,1,0,0,16,0,128,129,24,130,1,0,0,0,0,0,0,0,0,47,0,0,0,49,0,51,0,95,0,110,0,99,0,114,0,58,0,49,0,95,0,123,0,49,0,54,0,53,0,48,0,56,0,68,0,54,0,57,0,45,0,67,0,70,0,56,0,55,0,45,0,52,0,55,0,54,0,57,0,45,0,56,0,52,0,53,0,54,0,45,0,68,0,52,0,65,0,52,0,48,0,49,0,49,0,51,0,49,0,53,0,54,0,55,0,125,0,47,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,135,1,0,37,6,1,0,2,16,0,128,128,24,16,0,0,0,0,13,0,0,0,255,255,255,255,0,0,0,0,38,0,158,1,29,0,0,0,0,158,22,0,0,180,105,0,0,232,38,0,0,88,2,0,0,0,0,0,0,0,0,0,0,120,136,1,0,143,1,0]),this._workbookBinMiddle=Buffer.from([144,1,0]),this._workbookBinEnd=Buffer.from([157,1,26,53,234,2,0,1,0,0,0,100,0,0,0,252,169,241,210,77,98,80,63,1,0,0,0,106,0,155,1,1,0,35,4,3,15,0,0,171,16,1,1,36,0,132,1,0]),this._stylesBin=Buffer.from([150,2,0,231,4,4,2,0,0,0,44,44,164,0,19,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,92,0,32,0,104,0,104,0,58,0,109,0,109,0,44,30,166,0,12,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,232,4,0,227,4,4,1,0,0,0,43,39,220,0,0,0,144,1,0,0,0,2,0,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,43,39,220,0,1,0,188,2,0,0,0,2,238,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,37,6,1,0,2,14,0,128,129,8,0,38,0,228,4,0,219,4,4,2,0,0,0,45,68,0,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,68,17,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,4,0,229,4,4,1,0,0,0,46,51,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,230,4,0,242,4,4,1,0,0,0,47,16,255,255,0,0,0,0,0,0,0,0,0,0,16,16,0,0,243,4,0,233,4,4,4,0,0,0,47,16,0,0,0,0,0,0,0,0,0,0,0,0,16,16,0,0,47,16,0,0,164,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,166,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,0,1,1,0,0,0,0,0,0,0,16,16,0,0,234,4,0,235,4,4,1,0,0,0,37,6,1,0,2,17,0,128,128,24,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,48,28,0,0,0,0,1,0,0,0,8,0,0,0,78,0,111,0,114,0,109,0,97,0,108,0,110,0,121,0,236,4,0,249,3,4,0,0,0,0,250,3,0,252,3,80,0,0,0,0,17,0,0,0,84,0,97,0,98,0,108,0,101,0,83,0,116,0,121,0,108,0,101,0,77,0,101,0,100,0,105,0,117,0,109,0,50,0,17,0,0,0,80,0,105,0,118,0,111,0,116,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,54,0,253,3,0,35,4,2,14,0,0,235,8,0,246,8,42,0,0,0,0,17,0,0,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,247,8,0,236,8,0,36,0,35,4,3,15,0,0,176,16,0,178,16,50,0,0,0,0,21,0,0,0,84,0,105,0,109,0,101,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,179,16,0,177,16,0,36,0,151,2,0]),this._binaryIndexBin=Buffer.from([42,24,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,2,0]),this._rRkIntegerLowerLimit=-1<<29,this._rRkIntegerUpperLimit=(1<<29)-1,this._autoFilterStartBytes=Buffer.from([161,1,16]),this._autoFilterEndBytes=Buffer.from([162,1,0]),this._stickHeaderA1bytes=Buffer.from([151,1,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,1,0,0,0,0,0,0,0,2,0,0,0,3]),this._magicFilterExcel2016Fix0=Buffer.from([225,2,0,229,2,0,234,2]),this._magicFilterExcel2016Fix1=Buffer.from([39,70,33,0,0,0,0,255,0,0,0,15,0,0,0,95,0,70,0,105,0,108,0,116,0,101,0,114,0,68,0,97,0,116,0,97,0,98,0,97,0,115,0,101,0,15,0,0,0,59,255,0]),this._magicFilterExcel2016Fix2=Buffer.from([0,0,0,0,255,255,255,255])}_sanitizeSheetName(e){if(!e||typeof e!="string")return`Sheet${this.sheetCount+1}`;let r=e.replace(wme,"_");return r.length>31&&(r=r.substring(0,31)),r.trim().length===0&&(r=`Sheet${this.sheetCount+1}`),r}addSheet(e,r=!1){let n=this._sanitizeSheetName(e);this.sheetCount++,this.sheetList.push({name:n,pathInArchive:`xl/worksheets/sheet${this.sheetCount}.bin`,hidden:r,nameInArchive:`sheet${this.sheetCount}.bin`,sheetId:this.sheetCount,filterHeaderRange:null})}writeSheet(e,r=null,n=!0){let i=new M6,s=0;if(e.length>0?s=e[0].length:r&&(s=r.length),this.colWidths=new Array(s).fill(-1),r)for(let u=0;u<s;u++){let h=1.25*(r[u]?r[u].length:0)+2;h>80&&(h=80),this.colWidths[u]<h&&(this.colWidths[u]=h)}for(let u=0;u<Math.min(e.length,100);u++){let d=e[u];for(let h=0;h<d.length;h++){let f=d[h],p=1.25*(f?f.toString().length:0)+2;p>80&&(p=80),this.colWidths[h]<p&&(this.colWidths[h]=p)}}let o=Buffer.from(this._sheet1Bytes),a=0,l=s;o.writeInt32LE(a,40),o.writeInt32LE(l,44),this.sheetCount!==1&&(o[54]=156),i.write(o.subarray(0,84)),n&&r&&i.write(this._stickHeaderA1bytes),i.write(o.subarray(84,159)),i.writeByte(134),i.writeByte(3);for(let u=a;u<l;u++){i.writeByte(0),i.writeByte(60),i.writeByte(18),i.writeInt32LE(u),i.writeInt32LE(u);let d=this.colWidths[u]>0?Math.floor(this.colWidths[u]):10;i.writeByte(0),i.writeByte(Math.max(0,Math.min(255,d))),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(2)}i.writeByte(0),i.writeByte(135),i.writeByte(3),i.writeByte(0),i.write(o.subarray(159,175)),i.write(Buffer.from([38,0]));let c=0;if(r){this.createRowHeader(i,c,a,l);for(let u=0;u<r.length;u++)this.writeString(i,r[u],u,!0);c++}for(let u=0;u<e.length;u++){this.createRowHeader(i,c,a,l);let d=e[u];for(let h=0;h<d.length;h++){let f=d[h];f!=null&&(typeof f=="number"?Number.isInteger(f)?f>=this._rRkIntegerLowerLimit&&f<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(i,f,h):this.writeDouble(i,f,h):this.writeDouble(i,f,h):typeof f=="bigint"?this.writeString(i,f.toString(),h):typeof f=="boolean"?this.writeBool(i,f,h):f instanceof Date?this.writeDateTime(i,f,h):this.writeString(i,f.toString(),h))}c++}if(i.write(o.subarray(218,290)),n&&r){this._autofilterIsOn=!0;let u=0,d=e.length+1;i.write(this._autoFilterStartBytes);let h=Buffer.alloc(8);h.writeInt32LE(0,0),h.writeInt32LE(d-1,4),i.write(h);let f=Buffer.alloc(8);f.writeInt32LE(a,0),f.writeInt32LE(l-1,4),i.write(f),i.write(this._autoFilterEndBytes);let g=this.sheetList[this.sheetCount-1];g.filterData={startRow:0,endRow:e.length,startColumn:a,endColumn:l-1}}i.write(o.subarray(290)),this.archive.append(L6.from(i.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive})}_getColumnLetter(e){if(e<26)return String.fromCharCode(65+e);if(e<702){let r=Math.floor(e/26)-1,n=e%26;return String.fromCharCode(65+r)+String.fromCharCode(65+n)}return"A"}createRowHeader(e,r,n,i){e.writeByte(0),e.writeByte(25),e.writeInt32LE(r),e.writeInt32LE(0),e.writeByte(44),e.writeByte(1),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(1),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeInt32LE(n),e.writeInt32LE(i)}writeRkNumberInteger(e,r,n,i=0){e.writeByte(2),e.writeByte(12),e.writeInt32LE(n),e.writeByte(i),e.writeByte(0),e.writeByte(0),e.writeByte(0);let s=r<<2|2;e.writeInt32LE(s)}writeDouble(e,r,n,i=0){e.writeByte(5),e.writeByte(16),e.writeInt32LE(n),e.writeByte(i),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeDoubleLE(r)}writeBool(e,r,n){e.writeByte(4),e.writeByte(9),e.writeInt32LE(n),e.writeInt32LE(0),e.writeByte(r?1:0)}writeDateTime(e,r,n){let i=r.getTimezoneOffset()*6e4,s=(r.getTime()-i-this._oaEpoch)/864e5;this.writeDouble(e,s,n,1)}writeString(e,r,n,i=!1){let s;this.sstDic.has(r)?s=this.sstDic.get(r):(s=this.sstCntUnique,this.sstDic.set(r,s),this.sstCntUnique++),this.sstCntAll++,e.writeByte(7),e.writeByte(12),e.writeInt32LE(n),e.writeByte(i?3:0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeInt32LE(s)}saveSst(){let e=new M6;e.writeByte(159),e.writeByte(1),e.writeByte(8),e.writeInt32LE(this.sstCntUnique),e.writeInt32LE(this.sstCntAll);for(let[r,n]of this.sstDic){let i=r.length;e.writeByte(19);let s=5+2*i;if(s>=128){e.writeByte(128+s%128);let o=s>>7;o>=256?e.writeByte(128+o%128):e.writeByte(o),e.writeByte(s>>14),s>>14>0&&e.writeByte(0)}else e.writeByte(s&255),e.writeByte(s>>8&255);e.writeInt32LE(i),e.writeUtf16LE(r)}e.writeByte(160),e.writeByte(1),e.writeByte(0),this.archive.append(L6.from(e.getChunks()),{name:"xl/sharedStrings.bin"})}_writeFilterDefinedName(e,r,n){let i=r.filterData,s=r.sheetId-1,o=Buffer.alloc(this._magicFilterExcel2016Fix1.length);this._magicFilterExcel2016Fix1.copy(o);let a=this._magicFilterExcel2016Fix1.length-2;o[7]=s,o[a]=n,e.push(o);let l=Buffer.alloc(8);l.writeInt32LE(i.startRow,0),l.writeInt32LE(i.endRow,4),e.push(l);let c=Buffer.alloc(4);c.writeInt16LE(i.startColumn,0),c.writeInt16LE(i.endColumn,2),e.push(c),e.push(this._magicFilterExcel2016Fix2)}finalize(){return new Promise((e,r)=>{try{this.saveSst(),this.archive.append(this._stylesBin,{name:"xl/styles.bin"});let n=[];n.push(this._workbookBinStart);for(let a of this.sheetList){let l=`rId${a.sheetId}`,c=16+a.name.length*2+l.length*2,u=Buffer.alloc(3+c);u[0]=156,u[1]=1,u[2]=c;let d=3;u.writeInt32LE(a.hidden?1:0,d),d+=4,u.writeInt32LE(a.sheetId,d),d+=4,u.writeInt32LE(l.length,d),d+=4;for(let h=0;h<l.length;h++){let f=l.charCodeAt(h);u[d++]=f&255,u[d++]=f>>8&255}u.writeInt32LE(a.name.length,d),d+=4;for(let h=0;h<a.name.length;h++){let f=a.name.charCodeAt(h);u[d++]=f&255,u[d++]=f>>8&255}n.push(u)}if(n.push(this._workbookBinMiddle),this._autofilterIsOn){let a=this.sheetList.filter(c=>c.filterData),l=a.length;if(l>0){n.push(this._magicFilterExcel2016Fix0);let c=16+(l-1)*12,u=Buffer.from([c,l,0,0,0]);n.push(u);for(let d=0;d<l;d++){let h=a[d].sheetId-1,f=Buffer.alloc(12);f.writeInt32LE(0,0),f[4]=h,f[8]=h,n.push(f)}n.push(Buffer.from([226,2,0]));for(let d=0;d<l;d++){let h=a[d];this._writeFilterDefinedName(n,h,d)}}}n.push(this._workbookBinEnd),this.archive.append(Buffer.concat(n),{name:"xl/workbook.bin"});for(let a of this.sheetList)this.archive.append(this._binaryIndexBin,{name:`xl/worksheets/binaryIndex${a.sheetId}.bin`});let i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default Extension="bin" ContentType="application/vnd.ms-excel.sheet.binary.macroEnabled.main"/>
<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>
<Default Extension="xml" ContentType="application/xml"/>`;for(let a of this.sheetList)i+=`<Override PartName="/${a.pathInArchive}" ContentType="application/vnd.ms-excel.worksheet"/>`,i+=`<Override PartName="/xl/worksheets/binaryIndex${a.sheetId}.bin" ContentType="application/vnd.ms-excel.binIndexWs"/>`;i+=`<Override PartName="/xl/styles.bin" ContentType="application/vnd.ms-excel.styles"/>
<Override PartName="/xl/sharedStrings.bin" ContentType="application/vnd.ms-excel.sharedStrings"/>
</Types>`,this.archive.append(i,{name:"[Content_Types].xml"});let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`;for(let a of this.sheetList){let l=`rId${a.sheetId}`;s+=`<Relationship Id="${l}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/${a.nameInArchive}"/>`}s+=`<Relationship Id="rId${this.sheetList.length+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.bin"/>
<Relationship Id="rId${this.sheetList.length+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.bin"/>
</Relationships>`,this.archive.append(s,{name:"xl/_rels/workbook.bin.rels"}),this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.bin"/>
</Relationships>`,{name:"_rels/.rels"});for(let a of this.sheetList){let l=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.microsoft.com/office/2006/relationships/xlBinaryIndex" Target="binaryIndex${a.sheetId}.bin"/>
</Relationships>`;this.archive.append(l,{name:`xl/worksheets/_rels/${a.nameInArchive}.rels`})}this.output.on("close",()=>e()),this.archive.on("error",a=>r(a)),this.archive.finalize()}catch(n){r(n)}})}};P6.exports=$S});var Ao={};mn(Ao,{copyFileToClipboard:()=>US,exportCsvToXlsb:()=>Sme,exportQueryToXlsb:()=>Eme,getTempFilePath:()=>xme});function _me(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function Eme(t,e,r,n=!1,i){let s=null;try{i&&i("Connecting to database...");let o=_me(t);o.port||(o.port=5480);let a=en();s=new a(o),await s.connect(),i&&i("Executing query...");let c=await s.createCommand(e).executeReader(),u=[];for(let b=0;b<c.fieldCount;b++)u.push(c.getName(b));let d=u.length;i&&(i(`Query returned ${d} columns`),i("Reading rows..."));let h=[],f=0;for(;await c.read();){let b=[];for(let w=0;w<c.fieldCount;w++)b.push(c.getValue(w));h.push(b),f++}i&&i(`Writing ${f.toLocaleString()} rows to XLSB: ${r}`);let g=new k6(r);g.addSheet("Query Results"),g.writeSheet(h,u),g.addSheet("SQL Code");let p=[["SQL Query:"],...e.split(`
`).map(b=>[b])];g.writeSheet(p,null,!1),await g.finalize();let y=qS.statSync(r).size/(1024*1024);i&&(i("XLSB file created successfully (via XlsbWriter)"),i(`  - Rows: ${f.toLocaleString()}`),i(`  - Columns: ${d}`),i(`  - File size: ${y.toFixed(1)} MB`),i(`  - Location: ${r}`));let S={success:!0,message:`Successfully exported ${f} rows to ${r}`,details:{rows_exported:f,columns:d,file_size_mb:parseFloat(y.toFixed(1)),file_path:r}};if(n){i&&i("Copying to clipboard...");let b=await US(r);S.details&&(S.details.clipboard_success=b)}return S}catch(o){return{success:!1,message:`Export error: ${o.message||o}`}}finally{if(s)try{await s.close()}catch{}}}async function Sme(t,e,r=!1,n,i){try{i&&i("Reading CSV content...");let s=m=>{let y=[],S=0,b=!1;for(let I=0;I<m.length;I++)if(m[I]==='"')b=!b;else if(m[I]===","&&!b){let O=m.substring(S,I);O.startsWith('"')&&O.endsWith('"')&&(O=O.slice(1,-1).replace(/""/g,'"')),y.push(O),S=I+1}let w=m.substring(S);return w.startsWith('"')&&w.endsWith('"')&&(w=w.slice(1,-1).replace(/""/g,'"')),y.push(w),y},o=t.split(/\r?\n/),a=[];for(let m of o)m.trim()&&a.push(s(m));if(a.length===0)return{success:!1,message:"CSV content is empty"};let l=a[0],c=a.slice(1),u=c.length,d=l.length;i&&i(`Writing ${u.toLocaleString()} rows to XLSB: ${e}`);let h=new k6(e);if(h.addSheet("CSV Data"),h.writeSheet(c,l),n?.sql){h.addSheet("SQL");let m=[["SQL Query:"],...n.sql.split(`
`).map(y=>[y])];h.writeSheet(m,null,!1)}else{let m=n?.source||"Clipboard";h.addSheet("CSV Source");let y=[["CSV Source:"],[m]];h.writeSheet(y,null,!1)}await h.finalize();let g=qS.statSync(e).size/(1024*1024);i&&(i("XLSB file created successfully (via XlsbWriter)"),i(`  - Rows: ${u.toLocaleString()}`),i(`  - Columns: ${d}`),i(`  - File size: ${g.toFixed(1)} MB`),i(`  - Location: ${e}`));let p={success:!0,message:`Successfully exported ${u} rows from CSV to ${e}`,details:{rows_exported:u,columns:d,file_size_mb:parseFloat(g.toFixed(1)),file_path:e}};if(r){i&&i("Copying to clipboard...");let m=await US(e);p.details&&(p.details.clipboard_success=m)}return p}catch(s){return{success:!1,message:`Export error: ${s.message||s}`}}}async function US(t){return _0.platform()!=="win32"?(console.error("Clipboard file copy is only supported on Windows"),!1):new Promise(e=>{try{let r=gl.normalize(gl.resolve(t)),n=`Set-Clipboard -Path "${r.replace(/"/g,'`"')}"`,i=(0,B6.spawn)("powershell.exe",["-NoProfile","-NonInteractive","-Command",n]),s="";i.stderr.on("data",o=>{s+=o.toString()}),i.on("close",o=>{o!==0?(console.error(`PowerShell clipboard copy failed: ${s}`),e(!1)):(console.log(`File copied to clipboard: ${r}`),e(!0))}),i.on("error",o=>{console.error(`Error spawning PowerShell: ${o.message}`),e(!1)})}catch(r){console.error(`Error copying file to clipboard: ${r.message}`),e(!1)}})}function xme(){let t=_0.tmpdir(),r=`netezza_export_${Date.now()}.xlsb`;return gl.join(t,r)}var qS,gl,_0,B6,k6,Co=yn(()=>{"use strict";qS=Ye(require("fs")),gl=Ye(require("path")),_0=Ye(require("os")),B6=require("child_process"),k6=F6()});var U6={};mn(U6,{exportToCsv:()=>Tme});function vme(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function Tme(t,e,r,n,i){let s=null;try{i&&i.report({message:"Connecting to database..."});let o=vme(e);o.port||(o.port=5480);let a=en();s=new a(o),await s.connect(),i&&i.report({message:"Executing query..."});let c=await s.createCommand(r).executeReader();i&&i.report({message:"Writing to CSV..."});let u=q6.createWriteStream(n,{encoding:"utf8",highWaterMark:64*1024}),d=[];for(let p=0;p<c.fieldCount;p++)d.push(c.getName(p));d.length>0&&u.write(d.map($6).join(",")+`
`);let h=0,f=[],g=500;for(;await c.read();){h++;let p=[];for(let m=0;m<c.fieldCount;m++)p.push($6(c.getValue(m)));if(f.push(p.join(",")),f.length>=g){let m=u.write(f.join(`
`)+`
`);f=[],m||await new Promise(y=>u.once("drain",y)),i&&h%1e3===0&&i.report({message:`Processed ${h} rows...`})}}f.length>0&&u.write(f.join(`
`)+`
`),u.end(),await new Promise((p,m)=>{u.on("finish",p),u.on("error",m)}),i&&i.report({message:`Completed: ${h} rows exported`})}finally{if(s)try{await s.close()}catch(o){console.error("Error closing connection:",o)}}}function $6(t){if(t==null)return"";let e="";return typeof t=="bigint"?t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?e=Number(t).toString():e=t.toString():t instanceof Date?e=t.toISOString():typeof t=="object"&&Buffer.isBuffer(t)?e=t.toString("hex"):typeof t=="object"?e=JSON.stringify(t):e=String(t),e.includes('"')||e.includes(",")||e.includes(`
`)||e.includes("\r")?`"${e.replace(/"/g,'""')}"`:e}var q6,W6=yn(()=>{"use strict";q6=Ye(require("fs"))});var V6=x((Pve,H6)=>{H6.exports=E0;function E0(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}E0.prototype.go=function(t){this.pending<this.max?z6(this,t):this.waiting.push(t)};E0.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};E0.prototype.hold=function(){return j6(this)};function j6(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)z6(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function z6(t,e){e(j6(t))}});var Y6=x(Fu=>{var Pu=require("fs"),S0=require("util"),WS=require("stream"),G6=WS.Readable,jS=WS.Writable,Rme=WS.PassThrough,Ame=V6(),x0=require("events").EventEmitter;Fu.createFromBuffer=Cme;Fu.createFromFd=Ime;Fu.BufferSlicer=Ai;Fu.FdSlicer=Ri;S0.inherits(Ri,x0);function Ri(t,e){e=e||{},x0.call(this),this.fd=t,this.pend=new Ame,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}Ri.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(o){Pu.read(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};Ri.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(o){Pu.write(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};Ri.prototype.createReadStream=function(t){return new v0(this,t)};Ri.prototype.createWriteStream=function(t){return new T0(this,t)};Ri.prototype.ref=function(){this.refCount+=1};Ri.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&Pu.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};S0.inherits(v0,G6);function v0(t,e){e=e||{},G6.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}v0.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=Buffer.allocUnsafe(r);Pu.read(e.context.fd,i,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(i.slice(0,o))),n()})})}};v0.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};S0.inherits(T0,jS);function T0(t,e){e=e||{},jS.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}T0.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();Pu.write(n.context.fd,t,0,t.length,n.pos,function(o,a){o?(n.destroy(),s(),r(o)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),s(),r())})})}};T0.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};S0.inherits(Ai,x0);function Ai(t,e){x0.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}Ai.prototype.read=function(t,e,r,n,i){if(!(0<=e&&e<=t.length))throw new RangeError("offset outside buffer: 0 <= "+e+" <= "+t.length);if(n<0)throw new RangeError("position is negative: "+n);if(e+r>t.length&&(r=t.length-e),n+r>this.buffer.length&&(r=this.buffer.length-n),r<=0){setImmediate(function(){i(null,0)});return}this.buffer.copy(t,e,n,n+r),setImmediate(function(){i(null,r)})};Ai.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};Ai.prototype.createReadStream=function(t){t=t||{};var e=new Rme(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};Ai.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new jS(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var o=r.pos+n.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};Ai.prototype.ref=function(){this.refCount+=1};Ai.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Cme(t,e){return new Ai(t,e)}function Ime(t,e){return new Ri(t,e)}});var X6=x((Bve,K6)=>{var cs=require("buffer").Buffer,zS=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(zS=new Int32Array(zS));function J6(t){if(cs.isBuffer(t))return t;var e=typeof cs.alloc=="function"&&typeof cs.from=="function";if(typeof t=="number")return e?cs.alloc(t):new cs(t);if(typeof t=="string")return e?cs.from(t):new cs(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Nme(t){var e=J6(4);return e.writeInt32BE(t,0),e}function HS(t,e){t=J6(t),cs.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=zS[(r^t[n])&255]^r>>>8;return r^-1}function VS(){return Nme(HS.apply(null,arguments))}VS.signed=function(){return HS.apply(null,arguments)};VS.unsigned=function(){return HS.apply(null,arguments)>>>0};K6.exports=VS});var a3=x(Br=>{var GS=require("fs"),Dme=require("zlib"),Z6=Y6(),Ome=X6(),C0=require("util"),I0=require("events").EventEmitter,Q6=require("stream").Transform,JS=require("stream").PassThrough,Lme=require("stream").Writable;Br.open=Mme;Br.fromFd=e3;Br.fromBuffer=Pme;Br.fromRandomAccessReader=KS;Br.dosDateTimeToDate=n3;Br.getFileNameLowLevel=i3;Br.validateFileName=s3;Br.parseExtraFields=o3;Br.ZipFile=Jn;Br.Entry=Bu;Br.LocalFileHeader=r3;Br.RandomAccessReader=us;function Mme(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=A0),GS.open(t,"r",function(n,i){if(n)return r(n);e3(i,e,function(s,o){s&&GS.close(i,A0),r(s,o)})})}function e3(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=A0),GS.fstat(t,function(n,i){if(n)return r(n);var s=Z6.createFromFd(t,{autoClose:!0});KS(s,i.size,e,r)})}function Pme(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=Z6.createFromBuffer(t,{maxChunkSize:65536});KS(n,t.length,e,r)}function KS(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=A0),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=20,a=65535,l=Math.min(o+s+a,e),c=Ci(l),u=e-c.length;ml(t,c,0,l,u,function(d){if(d)return n(d);for(var h=l-s;h>=0;h-=1)if(c.readUInt32LE(h)===101010256){var f=c.subarray(h),g=f.readUInt16LE(4),p=f.readUInt16LE(10),m=f.readUInt32LE(16),y=f.readUInt16LE(20),S=f.length-s;if(y!==S)return n(new Error("Invalid comment length. Expected: "+S+". Found: "+y+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK\u263A\u263B` in the comment?"));var b=i?R0(f.subarray(22),!1):f.subarray(22);if(h-o>=0&&c.readUInt32LE(h-o)===117853008){var w=c.subarray(h-o,h-o+o),I=yl(w,8),O=Ci(56);return ml(t,O,0,O.length,I,function(C){return C?n(C):O.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(g=O.readUInt32LE(16),g!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+g)):(p=yl(O,32),m=yl(O,48),n(null,new Jn(t,m,e,p,b,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))))})}return g!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+g)):n(null,new Jn(t,m,e,p,b,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))}n(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}C0.inherits(Jn,I0);function Jn(t,e,r,n,i,s,o,a,l,c){var u=this;I0.call(u),u.reader=t,u.reader.on("error",function(d){t3(u,d)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=n,u.comment=i,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!o,u.decodeStrings=!!a,u.validateEntrySizes=!!l,u.strictFileNames=!!c,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Jn.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function Yn(t,e){t.autoClose&&t.close(),t3(t,e)}function t3(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Jn.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Jn.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=Ci(46);ml(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return Yn(t,r);if(!t.emittedError){var n=new Bu,i=e.readUInt32LE(0);if(i!==33639248)return Yn(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return Yn(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=Ci(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),ml(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return Yn(t,s);if(!t.emittedError){n.fileNameRaw=e.subarray(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength;n.extraFieldRaw=e.subarray(n.fileNameLength,o),n.fileCommentRaw=e.subarray(o,o+n.fileCommentLength);try{n.extraFields=o3(n.extraFieldRaw)}catch(p){return Yn(t,p)}if(t.decodeStrings){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileComment=R0(n.fileCommentRaw,a),n.fileName=i3(n.generalPurposeBitFlag,n.fileNameRaw,n.extraFields,t.strictFileNames);var l=s3(n.fileName);if(l!=null)return Yn(t,new Error(l))}else n.fileComment=n.fileCommentRaw,n.fileName=n.fileNameRaw;n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1;for(var c=0;c<n.extraFields.length;c++){var u=n.extraFields[c];if(u.id===1){var d=u.data,h=0;if(n.uncompressedSize===4294967295){if(h+8>d.length)return Yn(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=yl(d,h),h+=8}if(n.compressedSize===4294967295){if(h+8>d.length)return Yn(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=yl(d,h),h+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(h+8>d.length)return Yn(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=yl(d,h),h+=8}break}}if(t.validateEntrySizes&&n.compressionMethod===0){var f=n.uncompressedSize;if(n.isEncrypted()&&(f+=12),n.compressedSize!==f){var g="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return Yn(t,new Error(g))}}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};Jn.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null&&(r=e,e=null),e==null)e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));var o;if(t.compressionMethod===0)o=!1;else if(t.compressionMethod===8)o=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));n.readLocalFileHeader(t,{minimal:!0},function(a,l){if(a)return r(a);n.openReadStreamLowLevel(l.fileDataStart,t.compressedSize,i,s,o,t.uncompressedSize,r)})};Jn.prototype.openReadStreamLowLevel=function(t,e,r,n,i,s,o){var a=this,l=t+e,c=a.reader.createReadStream({start:t+r,end:t+n}),u=c;if(i){var d=!1,h=Dme.createInflateRaw();c.on("error",function(f){setImmediate(function(){d||h.emit("error",f)})}),c.pipe(h),a.validateEntrySizes?(u=new ku(s),h.on("error",function(f){setImmediate(function(){d||u.emit("error",f)})}),h.pipe(u)):u=h,YS(u,function(){d=!0,h!==u&&h.unpipe(u),c.unpipe(h),c.destroy()})}o(null,u)};Jn.prototype.readLocalFileHeader=function(t,e,r){var n=this;r==null&&(r=e,e=null),e==null&&(e={}),n.reader.ref();var i=Ci(30);ml(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader,function(s){try{if(s)return r(s);var o=i.readUInt32LE(0);if(o!==67324752)return r(new Error("invalid local file header signature: 0x"+o.toString(16)));var a=i.readUInt16LE(26),l=i.readUInt16LE(28),c=t.relativeOffsetOfLocalHeader+30+a+l;if(c+t.compressedSize>n.fileSize)return r(new Error("file data overflows file bounds: "+c+" + "+t.compressedSize+" > "+n.fileSize));if(e.minimal)return r(null,{fileDataStart:c});var u=new r3;u.fileDataStart=c,u.versionNeededToExtract=i.readUInt16LE(4),u.generalPurposeBitFlag=i.readUInt16LE(6),u.compressionMethod=i.readUInt16LE(8),u.lastModFileTime=i.readUInt16LE(10),u.lastModFileDate=i.readUInt16LE(12),u.crc32=i.readUInt32LE(14),u.compressedSize=i.readUInt32LE(18),u.uncompressedSize=i.readUInt32LE(22),u.fileNameLength=a,u.extraFieldLength=l,i=Ci(a+l),n.reader.ref(),ml(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader+30,function(d){try{return d?r(d):(u.fileName=i.subarray(0,a),u.extraField=i.subarray(a),r(null,u))}finally{n.reader.unref()}})}finally{n.reader.unref()}})};function Bu(){}Bu.prototype.getLastModDate=function(t){if(t==null&&(t={}),!t.forceDosFormat)for(var e=0;e<this.extraFields.length;e++){var r=this.extraFields[e];if(r.id===21589){var n=r.data;if(n.length<5)continue;var i=n[0],s=1;if(!(i&s))continue;var o=n.readInt32LE(1);return new Date(o*1e3)}else if(r.id===10)for(var n=r.data,a=4;a<n.length+4;){var l=n.readUInt16LE(a);a+=2;var c=n.readUInt16LE(a);if(a+=2,l!==1){a+=c;continue}if(c<8||a+c>n.length)break;var u=4294967296*n.readInt32LE(a+4)+n.readUInt32LE(a),d=u/1e4-116444736e5;return new Date(d)}}return n3(this.lastModFileDate,this.lastModFileTime,t.timezone)};Bu.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Bu.prototype.isCompressed=function(){return this.compressionMethod===8};function r3(){}function n3(t,e,r){var n=t&31,i=(t>>5&15)-1,s=(t>>9&127)+1980,o=0,a=(e&31)*2,l=e>>5&63,c=e>>11&31;if(r==null||r==="local")return new Date(s,i,n,c,l,a,o);if(r==="UTC")return new Date(Date.UTC(s,i,n,c,l,a,o));throw new Error("unrecognized options.timezone: "+options.timezone)}function i3(t,e,r,n){for(var i=null,s=0;s<r.length;s++){var o=r[s];if(o.id===28789){if(o.data.length<6||o.data.readUInt8(0)!==1)continue;var a=o.data.readUInt32LE(1);if(Ome.unsigned(e)!==a)continue;i=R0(o.data.subarray(5),!0);break}}if(i==null){var l=(t&2048)!==0;i=R0(e,l)}return n||(i=i.replace(/\\/g,"/")),i}function s3(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function o3(t){for(var e=[],r=0;r<t.length-3;){var n=t.readUInt16LE(r+0),i=t.readUInt16LE(r+2),s=r+4,o=s+i;if(o>t.length)throw new Error("extra field length exceeds extra field buffer size");var a=t.subarray(s,o);e.push({id:n,data:a}),r=o}return e}function ml(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,Ci(0))});t.read(e,r,n,i,function(o,a){if(o)return s(o);if(a<n)return s(new Error("unexpected EOF"));s()})}C0.inherits(ku,Q6);function ku(t){Q6.call(this),this.actualByteCount=0,this.expectedByteCount=t}ku.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};ku.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};C0.inherits(us,I0);function us(){I0.call(this),this.refCount=0}us.prototype.ref=function(){this.refCount+=1};us.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};us.prototype.createReadStream=function(t){t==null&&(t={});var e=t.start,r=t.end;if(e===r){var n=new JS;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,o=new N0(this);i.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),YS(o,function(){i.unpipe(o),o.unref(),i.destroy()});var a=new ku(r-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),YS(a,function(){s=!0,o.unpipe(a),o.destroy()}),i.pipe(o).pipe(a)};us.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};us.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),o=new Lme,a=0;o._write=function(l,c,u){l.copy(t,e+a,0,l.length),a+=l.length,u()},o.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(o)};us.prototype.close=function(t){setImmediate(t)};C0.inherits(N0,JS);function N0(t){JS.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}N0.prototype._flush=function(t){this.unref(),t()};N0.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var Fme="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function R0(t,e){if(e)return t.toString("utf8");for(var r="",n=0;n<t.length;n++)r+=Fme[t[n]];return r}function yl(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var Ci;typeof Buffer.allocUnsafe=="function"?Ci=function(t){return Buffer.allocUnsafe(t)}:Ci=function(t){return new Buffer(t)};function YS(t,e){typeof t.destroy=="function"?t._destroy=function(r,n){e(),n?.(r)}:t.destroy=e}function A0(t){if(t)throw t}});var ZS=x(($ve,l3)=>{"use strict";var XS=class{constructor(){this.fieldCount=0,this.rowCount=0,this.actualSheetName="",this.resultsCount=0,this._oaEpoch=Date.UTC(1899,11,30)}async open(e,r=!0,n=!1){throw new Error("Method 'open' must be implemented.")}async close(){}read(){throw new Error("Method 'read' must be implemented.")}getSheetNames(){throw new Error("Method 'getSheetNames' must be implemented.")}getValue(e){throw new Error("Method 'getValue' must be implemented.")}dispose(){}getDateTimeFromOaDate(e){let r=e*864e5+this._oaEpoch;return new Date(r)}};l3.exports=XS});var u3=x((qve,c3)=>{"use strict";var Bme=a3(),kme=ZS(),QS=class extends kme{constructor(){super(),this.zipfile=null,this.sharedStrings=[],this.styles=[],this.sheetNames=[],this.sheets=[],this._currentSheetIndex=-1,this._sheetXml=null,this._xmlPos=0,this._currentRow=[],this.fieldCount=0}async open(e,r=!0){return new Promise((n,i)=>{Bme.open(e,{lazyEntries:!0,autoClose:!1},async(s,o)=>{if(s)return i(s);this.zipfile=o,this.entries=new Map,o.on("entry",a=>{this.entries.set(a.fileName,a),o.readEntry()}),o.on("end",async()=>{try{let a=await this._readZipEntryContent("xl/_rels/workbook.xml.rels"),l={};if(a){let d=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,h;for(;(h=d.exec(a))!==null;)l[h[1]]=h[2];for(let f in l){let g=l[f];g.startsWith("/")&&(g=g.substring(1)),!g.startsWith("xl/")&&!g.startsWith("worksheets/")&&!g.startsWith("theme/")&&!g.startsWith("styles")&&g.startsWith("sharedStrings")}}let c=await this._readZipEntryContent("xl/workbook.xml");if(c){let d=/<sheet[^>]*name="([^"]*)"[^>]*sheetId="([^"]*)"[^>]*r:id="([^"]*)"/g,h;for(;(h=d.exec(c))!==null;){let f=this._unescapeXml(h[1]),g=h[2],p=h[3],y=l[p];y.startsWith("xl/")||(y="xl/"+y),this.sheetNames.push(f),this.sheets.push({name:f,sheetId:g,rId:p,path:y})}}if(r){let d=await this._readZipEntryContent("xl/sharedStrings.xml");d&&this._parseSharedStrings(d)}let u=await this._readZipEntryContent("xl/styles.xml");u&&this._parseStyles(u),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1,n()}catch(a){i(a)}}),o.readEntry()})})}async close(){this.zipfile&&this.zipfile.close()}async _readZipEntryContent(e){let r=this.entries.get(e);return r?new Promise((n,i)=>{this.zipfile.openReadStream(r,(s,o)=>{if(s)return i(s);let a=[];o.on("data",l=>a.push(l)),o.on("end",()=>{n(Buffer.concat(a).toString("utf8"))}),o.on("error",i)})}):null}_unescapeXml(e){return e?e.indexOf("&")===-1?e:e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):""}_parseSharedStrings(e){let r=0;for(;;){let n=e.indexOf("<si>",r);if(n===-1)break;let i=e.indexOf("</si>",n);if(i===-1)break;let s=e.substring(n,i),o="",a=0;for(;;){let l=s.indexOf("<t",a);if(l===-1)break;let c=s.indexOf(">",l),u=s.indexOf("</t>",c);if(u===-1)break;o+=s.substring(c+1,u),a=u+4}this.sharedStrings.push(this._unescapeXml(o)),r=i+5}}_parseStyles(e){let r=/<numFmt\s+[^>]*numFmtId="(\d+)"[^>]*formatCode="([^"]*)"/g,n;for(this.customDateFormats=new Set;(n=r.exec(e))!==null;){let s=parseInt(n[1]),o=n[2];(o.toLowerCase().includes("yy")||o.toLowerCase().includes("mm")||o.toLowerCase().includes("dd")||o.toLowerCase().includes("h:mm"))&&this.customDateFormats.add(s)}this.xfIdToNumFmtId=[];let i=e.indexOf("<cellXfs");if(i!==-1){let s=e.indexOf("</cellXfs>",i);if(s!==-1){let o=e.substring(i,s),a=/<xf\s+[^>]*numFmtId="(\d+)"/g;for(;(n=a.exec(o))!==null;){let l=parseInt(n[1]);this.xfIdToNumFmtId.push(l)}}}}getSheetNames(){return this.sheetNames}async read(){return this._currentSheetIndex===-1&&(this._currentSheetIndex=0,await this._initSheet(this._currentSheetIndex)),!!this._readNextRow()}async _initSheet(e){if(e>=this.sheets.length)return;let r=this.sheets[e];this.actualSheetName=r.name,this._sheetXml=await this._readZipEntryContent(r.path),this._sheetXml||(this._sheetXml=""),this._xmlPos=0;let n=this._sheetXml.indexOf("<sheetData>");n!==-1&&(this._xmlPos=n+11)}_readNextRow(){if(!this._sheetXml)return!1;let e=this._sheetXml.indexOf("<row",this._xmlPos);if(e===-1)return!1;let r=this._sheetXml.indexOf("</row>",e);return r===-1?!1:(this._xmlPos=r+6,this._parseRowByIndex(e,r),!0)}_parseRowByIndex(e,r){this._currentRow=[];let n=this._sheetXml,i=n.indexOf(">",e)+1;for(;i<r;){let s=n.indexOf("<c",i);if(s===-1||s>=r)break;let o=n.indexOf(">",s),a=-1,l="n",c=0,u=s+2;for(;u<o;){for(;n.charCodeAt(u)<=32&&u<o;)u++;if(u>=o)break;let f=u;for(;n.charCodeAt(u)!==61&&u<o;)u++;let g=n.substring(f,u);if(u++,n.charCodeAt(u)===34){u++;let p=u;for(;n.charCodeAt(u)!==34&&u<o;)u++;let m=n.substring(p,u);if(u++,g==="r"){let y=0;for(;y<m.length&&m.charCodeAt(y)>=65;)y++;a=this._columnLetterToIndex(m.substring(0,y))}else g==="t"?l=m:g==="s"&&(c=parseInt(m,10))}}let d=null;if(n.charCodeAt(o-1)===47)i=o+1;else{let f=n.indexOf("</c>",o),g=f!==-1&&f<r?f:r,p=n.indexOf("<v>",o);if(p!==-1&&p<g){let m=p+3,y=n.indexOf("</v>",m);y!==-1&&y<g&&(d=n.substring(m,y))}else if(l==="inlineStr"){let m=n.indexOf("<t",o);if(m!==-1&&m<g){let y=n.indexOf(">",m)+1,S=n.indexOf("</t>",y);S!==-1&&S<g&&(d=n.substring(y,S))}}i=g+4}let h=null;if(d!==null){if(l==="s"){let f=parseInt(d,10);h=this.sharedStrings[f]}else if(l==="b")h=d==="1"||d==="true";else if(l==="inlineStr")h=this._unescapeXml(d);else if((l==="n"||l==="")&&(h=parseFloat(d),c>0&&this.xfIdToNumFmtId)){let f=0;if(c<this.xfIdToNumFmtId.length&&(f=this.xfIdToNumFmtId[c]),f>=14&&f<=22||f>=45&&f<=47||this.customDateFormats&&this.customDateFormats.has(f))try{h=this.getDateTimeFromOaDate(h)}catch{}}}a!==-1&&(this._currentRow[a]=h,a>=this.fieldCount&&(this.fieldCount=a+1))}}_columnLetterToIndex(e){let r=0,n=e.length;for(let i=0;i<n;i++)r+=(e.charCodeAt(i)-64)*Math.pow(26,n-i-1);return r-1}getValue(e){return e<0||e>=this._currentRow.length?null:this._currentRow[e]}};c3.exports=QS});var ex=x((Uve,f3)=>{f3.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var D0=x(h3=>{var d3={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function $me(t){return function(...e){return e.length&&(t=t.replace(/\{(\d)\}/g,(r,n)=>e[n]||"")),new Error("ADM-ZIP: "+t)}}for(let t of Object.keys(d3))h3[t]=$me(d3[t])});var b3=x((jve,m3)=>{var qme=require("fs"),$t=require("path"),p3=ex(),Ume=D0(),Wme=typeof process=="object"&&process.platform==="win32",g3=t=>typeof t=="object"&&t!==null,y3=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function bt(t){this.sep=$t.sep,this.fs=qme,g3(t)&&g3(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}m3.exports=bt;bt.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw Ume.FILE_IN_THE_WAY(`"${i}"`)}})}r(t)};bt.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=$t.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};bt.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,l){if(o&&l.isDirectory())return i(!1);var c=$t.dirname(t);s.fs.exists(c,function(u){u||s.makeDir(c),s.fs.open(t,"w",438,function(d,h){d?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(f,g){s.fs.write(g,e,0,e.length,0,function(){s.fs.close(g,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):h?s.fs.write(h,e,0,e.length,0,function(){s.fs.close(h,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};bt.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){let l=$t.join(n,a),c=e.fs.statSync(l);(!i||i.test(l))&&o.push($t.normalize(l)+(c.isDirectory()?e.sep:"")),c.isDirectory()&&s&&(o=o.concat(r(l,i,s)))}),o}return r(t,void 0,!0)};bt.prototype.findFilesAsync=function(t,e){let r=this,n=[];r.fs.readdir(t,function(i,s){if(i)return e(i);let o=s.length;if(!o)return e(null,n);s.forEach(function(a){a=$t.join(t,a),r.fs.stat(a,function(l,c){if(l)return e(l);c&&(n.push($t.normalize(a)+(c.isDirectory()?r.sep:"")),c.isDirectory()?r.findFilesAsync(a,function(u,d){if(u)return e(u);n=n.concat(d),--o||e(null,n)}):--o||e(null,n))})})})};bt.prototype.getAttributes=function(){};bt.prototype.setAttributes=function(){};bt.crc32update=function(t,e){return y3[(t^e)&255]^t>>>8};bt.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8"));let e=t.length,r=-1;for(let n=0;n<e;)r=bt.crc32update(r,t[n++]);return~r>>>0};bt.methodToString=function(t){switch(t){case p3.STORED:return"STORED ("+t+")";case p3.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};bt.canonical=function(t){if(!t)return"";let e=$t.posix.normalize("/"+t.split("\\").join("/"));return $t.join(".",e)};bt.zipnamefix=function(t){if(!t)return"";let e=$t.posix.normalize("/"+t.split("\\").join("/"));return $t.posix.join(".",e)};bt.findLast=function(t,e){if(!Array.isArray(t))throw new TypeError("arr is not array");let r=t.length>>>0;for(let n=r-1;n>=0;n--)if(e(t[n],n,t))return t[n]};bt.sanitize=function(t,e){t=$t.resolve($t.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=$t.normalize($t.join(t,r.slice(n,i).join($t.sep)));if(s.indexOf(t)===0)return s}return $t.normalize($t.join(t,$t.basename(e)))};bt.toBuffer=function(e,r){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?r(e):Buffer.alloc(0)};bt.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};bt.fromDOS2Date=function(t){return new Date((t>>25&127)+1980,Math.max((t>>21&15)-1,0),Math.max(t>>16&31,1),t>>11&31,t>>5&63,(t&31)<<1)};bt.fromDate2DOS=function(t){let e=0,r=0;return t.getFullYear()>1979&&(e=(t.getFullYear()-1980&127)<<9|t.getMonth()+1<<5|t.getDate(),r=t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1),e<<16|r};bt.isWin=Wme;bt.crcTable=y3});var _3=x((zve,w3)=>{var jme=require("path");w3.exports=function(t,{fs:e}){var r=t||"",n=s(),i=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&e.existsSync(r)?(i=e.statSync(r),n.directory=i.isDirectory(),n.mtime=i.mtime,n.atime=i.atime,n.executable=(73&i.mode)!==0,n.readonly=(128&i.mode)===0,n.hidden=jme.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var S3=x((Hve,E3)=>{E3.exports={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}});var wl=x((Vve,bl)=>{bl.exports=b3();bl.exports.Constants=ex();bl.exports.Errors=D0();bl.exports.FileAttr=_3();bl.exports.decoder=S3()});var v3=x((Gve,x3)=>{var fs=wl(),K=fs.Constants;x3.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,l=0,c=0,u=0,d=0,h=0,f=0,g=0;t|=fs.isWin?2560:768,r|=K.FLG_EFS;let p={extraLen:0},m=b=>Math.max(0,b)>>>0,y=b=>Math.max(0,b)&65535,S=b=>Math.max(0,b)&255;return i=fs.fromDate2DOS(new Date),{get made(){return t},set made(b){t=b},get version(){return e},set version(b){e=b},get flags(){return r},set flags(b){r=b},get flags_efs(){return(r&K.FLG_EFS)>0},set flags_efs(b){b?r|=K.FLG_EFS:r&=~K.FLG_EFS},get flags_desc(){return(r&K.FLG_DESC)>0},set flags_desc(b){b?r|=K.FLG_DESC:r&=~K.FLG_DESC},get method(){return n},set method(b){switch(b){case K.STORED:this.version=10;case K.DEFLATED:default:this.version=20}n=b},get time(){return fs.fromDOS2Date(this.timeval)},set time(b){this.timeval=fs.fromDate2DOS(b)},get timeval(){return i},set timeval(b){i=m(b)},get timeHighByte(){return S(i>>>8)},get crc(){return s},set crc(b){s=m(b)},get compressedSize(){return o},set compressedSize(b){o=m(b)},get size(){return a},set size(b){a=m(b)},get fileNameLength(){return l},set fileNameLength(b){l=b},get extraLength(){return c},set extraLength(b){c=b},get extraLocalLength(){return p.extraLen},set extraLocalLength(b){p.extraLen=b},get commentLength(){return u},set commentLength(b){u=b},get diskNumStart(){return d},set diskNumStart(b){d=m(b)},get inAttr(){return h},set inAttr(b){h=m(b)},get attr(){return f},set attr(b){f=m(b)},get fileAttr(){return(f||0)>>16&4095},get offset(){return g},set offset(b){g=m(b)},get encrypted(){return(r&K.FLG_ENC)===K.FLG_ENC},get centralHeaderSize(){return K.CENHDR+l+c+u},get realDataOffset(){return g+K.LOCHDR+p.fnameLen+p.extraLen},get localHeader(){return p},loadLocalHeaderFromBinary:function(b){var w=b.slice(g,g+K.LOCHDR);if(w.readUInt32LE(0)!==K.LOCSIG)throw fs.Errors.INVALID_LOC();p.version=w.readUInt16LE(K.LOCVER),p.flags=w.readUInt16LE(K.LOCFLG),p.method=w.readUInt16LE(K.LOCHOW),p.time=w.readUInt32LE(K.LOCTIM),p.crc=w.readUInt32LE(K.LOCCRC),p.compressedSize=w.readUInt32LE(K.LOCSIZ),p.size=w.readUInt32LE(K.LOCLEN),p.fnameLen=w.readUInt16LE(K.LOCNAM),p.extraLen=w.readUInt16LE(K.LOCEXT);let I=g+K.LOCHDR+p.fnameLen,O=I+p.extraLen;return b.slice(I,O)},loadFromBinary:function(b){if(b.length!==K.CENHDR||b.readUInt32LE(0)!==K.CENSIG)throw fs.Errors.INVALID_CEN();t=b.readUInt16LE(K.CENVEM),e=b.readUInt16LE(K.CENVER),r=b.readUInt16LE(K.CENFLG),n=b.readUInt16LE(K.CENHOW),i=b.readUInt32LE(K.CENTIM),s=b.readUInt32LE(K.CENCRC),o=b.readUInt32LE(K.CENSIZ),a=b.readUInt32LE(K.CENLEN),l=b.readUInt16LE(K.CENNAM),c=b.readUInt16LE(K.CENEXT),u=b.readUInt16LE(K.CENCOM),d=b.readUInt16LE(K.CENDSK),h=b.readUInt16LE(K.CENATT),f=b.readUInt32LE(K.CENATX),g=b.readUInt32LE(K.CENOFF)},localHeaderToBinary:function(){var b=Buffer.alloc(K.LOCHDR);return b.writeUInt32LE(K.LOCSIG,0),b.writeUInt16LE(e,K.LOCVER),b.writeUInt16LE(r,K.LOCFLG),b.writeUInt16LE(n,K.LOCHOW),b.writeUInt32LE(i,K.LOCTIM),b.writeUInt32LE(s,K.LOCCRC),b.writeUInt32LE(o,K.LOCSIZ),b.writeUInt32LE(a,K.LOCLEN),b.writeUInt16LE(l,K.LOCNAM),b.writeUInt16LE(p.extraLen,K.LOCEXT),b},centralHeaderToBinary:function(){var b=Buffer.alloc(K.CENHDR+l+c+u);return b.writeUInt32LE(K.CENSIG,0),b.writeUInt16LE(t,K.CENVEM),b.writeUInt16LE(e,K.CENVER),b.writeUInt16LE(r,K.CENFLG),b.writeUInt16LE(n,K.CENHOW),b.writeUInt32LE(i,K.CENTIM),b.writeUInt32LE(s,K.CENCRC),b.writeUInt32LE(o,K.CENSIZ),b.writeUInt32LE(a,K.CENLEN),b.writeUInt16LE(l,K.CENNAM),b.writeUInt16LE(c,K.CENEXT),b.writeUInt16LE(u,K.CENCOM),b.writeUInt16LE(d,K.CENDSK),b.writeUInt16LE(h,K.CENATT),b.writeUInt32LE(f,K.CENATX),b.writeUInt32LE(g,K.CENOFF),b},toJSON:function(){let b=function(w){return w+" bytes"};return{made:t,version:e,flags:r,method:fs.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:b(o),size:b(a),fileNameLength:b(l),extraLength:b(c),commentLength:b(u),diskNumStart:d,inAttr:h,attr:f,offset:g,centralHeaderSize:b(K.CENHDR+l+c+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var R3=x((Yve,T3)=>{var _l=wl(),pt=_l.Constants;T3.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return pt.ENDHDR+i},loadFromBinary:function(s){if((s.length!==pt.ENDHDR||s.readUInt32LE(0)!==pt.ENDSIG)&&(s.length<pt.ZIP64HDR||s.readUInt32LE(0)!==pt.ZIP64SIG))throw _l.Errors.INVALID_END();s.readUInt32LE(0)===pt.ENDSIG?(t=s.readUInt16LE(pt.ENDSUB),e=s.readUInt16LE(pt.ENDTOT),r=s.readUInt32LE(pt.ENDSIZ),n=s.readUInt32LE(pt.ENDOFF),i=s.readUInt16LE(pt.ENDCOM)):(t=_l.readBigUInt64LE(s,pt.ZIP64SUB),e=_l.readBigUInt64LE(s,pt.ZIP64TOT),r=_l.readBigUInt64LE(s,pt.ZIP64SIZE),n=_l.readBigUInt64LE(s,pt.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(pt.ENDHDR+i);return s.writeUInt32LE(pt.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,pt.ENDSUB),s.writeUInt16LE(e,pt.ENDTOT),s.writeUInt32LE(r,pt.ENDSIZ),s.writeUInt32LE(n,pt.ENDOFF),s.writeUInt16LE(i,pt.ENDCOM),s.fill(" ",pt.ENDHDR),s},toJSON:function(){let s=function(o,a){let l=o.toString(16).toUpperCase();for(;l.length<a;)l="0"+l;return"0x"+l};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var rx=x(tx=>{tx.EntryHeader=v3();tx.MainHeader=R3()});var C3=x((Kve,A3)=>{A3.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),l=0;a.fill(0);for(var c=0;c<s.length;c++){var u=s[c];u.copy(a,l),l+=u.length}n&&n(a)}),i.end(t)}}}});var N3=x((Xve,I3)=>{var zme=+(process.versions?process.versions.node:"").split(".")[0]||0;I3.exports=function(t,e){var r=require("zlib");let n=zme>=15&&e>0?{maxOutputLength:e}:{};return{inflate:function(){return r.inflateRawSync(t,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],a=0;s.on("data",function(l){o.push(l),a+=l.length}),s.on("end",function(){var l=Buffer.alloc(a),c=0;l.fill(0);for(var u=0;u<o.length;u++){var d=o[u];d.copy(l,c),c+=d.length}i&&i(l)}),s.end(t)}}}});var P3=x((Zve,M3)=>{"use strict";var{randomFillSync:D3}=require("crypto"),Hme=D0(),Vme=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=e>>>1^3988292384:e>>>=1;return e>>>0}),L3=(t,e)=>Math.imul(t,e)>>>0,O3=(t,e)=>Vme[(t^e)&255]^t>>>8,$u=()=>typeof D3=="function"?D3(Buffer.alloc(12)):$u.node();$u.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var O0={genSalt:$u};function L0(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}L0.prototype.updateKeys=function(t){let e=this.keys;return e[0]=O3(e[0],t),e[1]+=e[0]&255,e[1]=L3(e[1],134775813)+1,e[2]=O3(e[2],e[1]>>>24),t};L0.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return L3(t,t^1)>>8&255};function Gme(t){let e=new L0(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function Yme(t){let e=new L0(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function Jme(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=Gme(r),i=n(t.slice(0,12)),s=(e.flags&8)===8?e.timeHighByte:e.crc>>>24;if(i[11]!==s)throw Hme.WRONG_PASSWORD();return n(t.slice(12))}function Kme(t){Buffer.isBuffer(t)&&t.length>=12?O0.genSalt=function(){return t.slice(0,12)}:t==="node"?O0.genSalt=$u.node:O0.genSalt=$u}function Xme(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=Yme(r),s=O0.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}M3.exports={decrypt:Jme,encrypt:Xme,_salter:Kme}});var F3=x(M0=>{M0.Deflater=C3();M0.Inflater=N3();M0.ZipCrypto=P3()});var ix=x((eTe,B3)=>{var He=wl(),Zme=rx(),wt=He.Constants,nx=F3();B3.exports=function(t,e){var r=new Zme.EntryHeader,n=Buffer.alloc(0),i=Buffer.alloc(0),s=!1,o=null,a=Buffer.alloc(0),l=Buffer.alloc(0),c=!0;let u=t,d=typeof u.decoder=="object"?u.decoder:He.decoder;c=d.hasOwnProperty("efs")?d.efs:!1;function h(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(l=r.loadLocalHeaderFromBinary(e),e.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(b){if(r.flags_desc){let w={},I=r.realDataOffset+r.compressedSize;if(e.readUInt32LE(I)==wt.LOCSIG||e.readUInt32LE(I)==wt.CENSIG)throw He.Errors.DESCRIPTOR_NOT_EXIST();if(e.readUInt32LE(I)==wt.EXTSIG)w.crc=e.readUInt32LE(I+wt.EXTCRC),w.compressedSize=e.readUInt32LE(I+wt.EXTSIZ),w.size=e.readUInt32LE(I+wt.EXTLEN);else if(e.readUInt16LE(I+12)===19280)w.crc=e.readUInt32LE(I+wt.EXTCRC-4),w.compressedSize=e.readUInt32LE(I+wt.EXTSIZ-4),w.size=e.readUInt32LE(I+wt.EXTLEN-4);else throw He.Errors.DESCRIPTOR_UNKNOWN();if(w.compressedSize!==r.compressedSize||w.size!==r.size||w.crc!==r.crc)throw He.Errors.DESCRIPTOR_FAULTY();if(He.crc32(b)!==w.crc)return!1}else if(He.crc32(b)!==r.localHeader.crc)return!1;return!0}function g(b,w,I){if(typeof w>"u"&&typeof b=="string"&&(I=b,b=void 0),s)return b&&w&&w(Buffer.alloc(0),He.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var O=h();if(O.length===0)return b&&w&&w(O),O;if(r.encrypted){if(typeof I!="string"&&!Buffer.isBuffer(I))throw He.Errors.INVALID_PASS_PARAM();O=nx.ZipCrypto.decrypt(O,r,I)}var C=Buffer.alloc(r.size);switch(r.method){case He.Constants.STORED:if(O.copy(C),f(C))return b&&w&&w(C),C;throw b&&w&&w(C,He.Errors.BAD_CRC()),He.Errors.BAD_CRC();case He.Constants.DEFLATED:var B=new nx.Inflater(O,r.size);if(b)B.inflateAsync(function(N){N.copy(N,0),w&&(f(N)?w(N):w(N,He.Errors.BAD_CRC()))});else{if(B.inflate(C).copy(C,0),!f(C))throw He.Errors.BAD_CRC(`"${d.decode(n)}"`);return C}break;default:throw b&&w&&w(Buffer.alloc(0),He.Errors.UNKNOWN_METHOD()),He.Errors.UNKNOWN_METHOD()}}function p(b,w){if((!o||!o.length)&&Buffer.isBuffer(e))return b&&w&&w(h()),h();if(o.length&&!s){var I;switch(r.method){case He.Constants.STORED:return r.compressedSize=r.size,I=Buffer.alloc(o.length),o.copy(I),b&&w&&w(I),I;default:case He.Constants.DEFLATED:var O=new nx.Deflater(o);if(b)O.deflateAsync(function(B){I=Buffer.alloc(B.length),r.compressedSize=B.length,B.copy(I),w&&w(I)});else{var C=O.deflate();return r.compressedSize=C.length,C}O=null;break}}else if(b&&w)w(Buffer.alloc(0));else return Buffer.alloc(0)}function m(b,w){return(b.readUInt32LE(w+4)<<4)+b.readUInt32LE(w)}function y(b){try{for(var w=0,I,O,C;w+4<b.length;)I=b.readUInt16LE(w),w+=2,O=b.readUInt16LE(w),w+=2,C=b.slice(w,w+O),w+=O,wt.ID_ZIP64===I&&S(C)}catch{throw He.Errors.EXTRA_FIELD_PARSE_ERROR()}}function S(b){var w,I,O,C;b.length>=wt.EF_ZIP64_SCOMP&&(w=m(b,wt.EF_ZIP64_SUNCOMP),r.size===wt.EF_ZIP64_OR_32&&(r.size=w)),b.length>=wt.EF_ZIP64_RHO&&(I=m(b,wt.EF_ZIP64_SCOMP),r.compressedSize===wt.EF_ZIP64_OR_32&&(r.compressedSize=I)),b.length>=wt.EF_ZIP64_DSN&&(O=m(b,wt.EF_ZIP64_RHO),r.offset===wt.EF_ZIP64_OR_32&&(r.offset=O)),b.length>=wt.EF_ZIP64_DSN+4&&(C=b.readUInt32LE(wt.EF_ZIP64_DSN),r.diskNumStart===wt.EF_ZIP64_OR_16&&(r.diskNumStart=C))}return{get entryName(){return d.decode(n)},get rawEntryName(){return n},set entryName(b){n=He.toBuffer(b,d.encode);var w=n[n.length-1];s=w===47||w===92,r.fileNameLength=n.length},get efs(){return typeof c=="function"?c(this.entryName):c},get extra(){return a},set extra(b){a=b,r.extraLength=b.length,y(b)},get comment(){return d.decode(i)},set comment(b){if(i=He.toBuffer(b,d.encode),r.commentLength=i.length,i.length>65535)throw He.Errors.COMMENT_TOO_LONG()},get name(){var b=d.decode(n);return s?b.substr(b.length-1).split("/").pop():b.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return p(!1,null)},getCompressedDataAsync:function(b){p(!0,b)},setData:function(b){o=He.toBuffer(b,He.decoder.encode),!s&&o.length?(r.size=o.length,r.method=He.Constants.DEFLATED,r.crc=He.crc32(b),r.changed=!0):r.method=He.Constants.STORED},getData:function(b){return r.changed?o:g(!1,null,b)},getDataAsync:function(b,w){r.changed?b(o):g(!0,b,w)},set attr(b){r.attr=b},get attr(){return r.attr},set header(b){r.loadFromBinary(b)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=a.length;var b=r.centralHeaderToBinary(),w=He.Constants.CENHDR;return n.copy(b,w),w+=n.length,a.copy(b,w),w+=r.extraLength,i.copy(b,w),b},packLocalHeader:function(){let b=0;r.flags_efs=this.efs,r.extraLocalLength=l.length;let w=r.localHeaderToBinary(),I=Buffer.alloc(w.length+n.length+r.extraLocalLength);return w.copy(I,b),b+=w.length,n.copy(I,b),b+=n.length,l.copy(I,b),b+=l.length,I},toJSON:function(){let b=function(w){return"<"+(w&&w.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:b(e),data:b(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var q3=x((tTe,$3)=>{var k3=ix(),Qme=rx(),or=wl();$3.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new Qme.MainHeader,o=!1,a=null;let l=new Set,c=e,{noSort:u,decoder:d}=c;t?g(c.readEntries):o=!0;function h(){let m=new Set;for(let y of Object.keys(n)){let S=y.split("/");if(S.pop(),!!S.length)for(let b=0;b<S.length;b++){let w=S.slice(0,b+1).join("/")+"/";m.add(w)}}for(let y of m)if(!(y in n)){let S=new k3(c);S.entryName=y,S.attr=16,S.temporary=!0,r.push(S),n[S.entryName]=S,l.add(S)}}function f(){if(o=!0,n={},s.diskEntries>(t.length-s.offset)/or.Constants.CENHDR)throw or.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(s.diskEntries);for(var m=s.offset,y=0;y<r.length;y++){var S=m,b=new k3(c,t);b.header=t.slice(S,S+=or.Constants.CENHDR),b.entryName=t.slice(S,S+=b.header.fileNameLength),b.header.extraLength&&(b.extra=t.slice(S,S+=b.header.extraLength)),b.header.commentLength&&(b.comment=t.slice(S,S+b.header.commentLength)),m+=b.header.centralHeaderSize,r[y]=b,n[b.entryName]=b}l.clear(),h()}function g(m){var y=t.length-or.Constants.ENDHDR,S=Math.max(0,y-65535),b=S,w=t.length,I=-1,O=0;for(typeof c.trailingSpace=="boolean"&&c.trailingSpace&&(S=0),y;y>=b;y--)if(t[y]===80){if(t.readUInt32LE(y)===or.Constants.ENDSIG){I=y,O=y,w=y+or.Constants.ENDHDR,b=y-or.Constants.END64HDR;continue}if(t.readUInt32LE(y)===or.Constants.END64SIG){b=S;continue}if(t.readUInt32LE(y)===or.Constants.ZIP64SIG){I=y,w=y+or.readBigUInt64LE(t,y+or.Constants.ZIP64SIZE)+or.Constants.ZIP64LEAD;break}}if(I==-1)throw or.Errors.INVALID_FORMAT();s.loadFromBinary(t.slice(I,w)),s.commentLength&&(i=t.slice(O+or.Constants.ENDHDR)),m&&f()}function p(){r.length>1&&!u&&r.sort((m,y)=>m.entryName.toLowerCase().localeCompare(y.entryName.toLowerCase()))}return{get entries(){return o||f(),r.filter(m=>!l.has(m))},get comment(){return d.decode(i)},set comment(m){i=or.toBuffer(m,d.encode),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(m){this.entries.forEach(m)},getEntry:function(m){return o||f(),n[m]||null},setEntry:function(m){o||f(),r.push(m),n[m.entryName]=m,s.totalEntries=r.length},deleteFile:function(m,y=!0){o||f();let S=n[m];this.getEntryChildren(S,y).map(w=>w.entryName).forEach(this.deleteEntry)},deleteEntry:function(m){o||f();let y=n[m],S=r.indexOf(y);S>=0&&(r.splice(S,1),delete n[m],s.totalEntries=r.length)},getEntryChildren:function(m,y=!0){if(o||f(),typeof m=="object")if(m.isDirectory&&y){let S=[],b=m.entryName;for(let w of r)w.entryName.startsWith(b)&&S.push(w);return S}else return[m];return[]},getChildCount:function(m){if(m&&m.isDirectory){let y=this.getEntryChildren(m);return y.includes(m)?y.length-1:y.length}return 0},compressToBuffer:function(){o||f(),p();let m=[],y=[],S=0,b=0;s.size=0,s.offset=0;let w=0;for(let C of this.entries){let B=C.getCompressedData();C.header.offset=b;let N=C.packLocalHeader(),L=N.length+B.length;b+=L,m.push(N),m.push(B);let $=C.packCentralHeader();y.push($),s.size+=$.length,S+=L+$.length,w++}S+=s.mainHeaderSize,s.offset=b,s.totalEntries=w,b=0;let I=Buffer.alloc(S);for(let C of m)C.copy(I,b),b+=C.length;for(let C of y)C.copy(I,b),b+=C.length;let O=s.toBinary();return i&&i.copy(O,or.Constants.ENDHDR),O.copy(I,b),t=I,o=!1,I},toAsyncBuffer:function(m,y,S,b){try{o||f(),p();let w=[],I=[],O=0,C=0,B=0;s.size=0,s.offset=0;let N=function(L){if(L.length>0){let $=L.shift(),Y=$.entryName+$.extra.toString();S&&S(Y),$.getCompressedDataAsync(function(j){b&&b(Y),$.header.offset=C;let ee=$.packLocalHeader(),le=ee.length+j.length;C+=le,w.push(ee),w.push(j);let fe=$.packCentralHeader();I.push(fe),s.size+=fe.length,O+=le+fe.length,B++,N(L)})}else{O+=s.mainHeaderSize,s.offset=C,s.totalEntries=B,C=0;let $=Buffer.alloc(O);w.forEach(function(j){j.copy($,C),C+=j.length}),I.forEach(function(j){j.copy($,C),C+=j.length});let Y=s.toBinary();i&&i.copy(Y,or.Constants.ENDHDR),Y.copy($,C),t=$,o=!1,m($)}};N(Array.from(this.entries))}catch(w){y(w)}}}}});var j3=x((rTe,W3)=>{var gt=wl(),_t=require("path"),ebe=ix(),tbe=q3(),Io=(...t)=>gt.findLast(t,e=>typeof e=="boolean"),U3=(...t)=>gt.findLast(t,e=>typeof e=="string"),rbe=(...t)=>gt.findLast(t,e=>typeof e=="function"),nbe={noSort:!1,readEntries:!1,method:gt.Constants.NONE,fs:null};W3.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),nbe);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=gt.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new gt(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=gt.decoder),t&&typeof t=="string")if(i.fs.existsSync(t))n.method=gt.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw gt.Errors.INVALID_FILENAME();let s=new tbe(r,n),{canonical:o,sanitize:a,zipnamefix:l}=gt;function c(f){if(f&&s){var g;if(typeof f=="string"&&(g=s.getEntry(_t.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(g=s.getEntry(f.entryName)),g)return g}return null}function u(f){let{join:g,normalize:p,sep:m}=_t.posix;return g(".",p(m+f.split("\\").join(m)+m))}function d(f){return f instanceof RegExp?(function(g){return function(p){return g.test(p)}})(f):typeof f!="function"?()=>!0:f}let h=(f,g)=>{let p=g.slice(-1);return p=p===i.sep?i.sep:"",_t.relative(f,g)+p};return{readFile:function(f,g){var p=c(f);return p&&p.getData(g)||null},childCount:function(f){let g=c(f);if(g)return s.getChildCount(g)},readFileAsync:function(f,g){var p=c(f);p?p.getDataAsync(g):g(null,"getEntry failed for:"+f)},readAsText:function(f,g){var p=c(f);if(p){var m=p.getData();if(m&&m.length)return m.toString(g||"utf8")}return""},readAsTextAsync:function(f,g,p){var m=c(f);m?m.getDataAsync(function(y,S){if(S){g(y,S);return}y&&y.length?g(y.toString(p||"utf8")):g("")}):g("")},deleteFile:function(f,g=!0){var p=c(f);p&&s.deleteFile(p.entryName,g)},deleteEntry:function(f){var g=c(f);g&&s.deleteEntry(g.entryName)},addZipComment:function(f){s.comment=f},getZipComment:function(){return s.comment||""},addZipEntryComment:function(f,g){var p=c(f);p&&(p.comment=g)},getZipEntryComment:function(f){var g=c(f);return g&&g.comment||""},updateFile:function(f,g){var p=c(f);p&&p.setData(g)},addLocalFile:function(f,g,p,m){if(i.fs.existsSync(f)){g=g?u(g):"";let y=_t.win32.basename(_t.win32.normalize(f));g+=p||y;let S=i.fs.statSync(f),b=S.isFile()?i.fs.readFileSync(f):Buffer.alloc(0);S.isDirectory()&&(g+=i.sep),this.addFile(g,b,m,S)}else throw gt.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,g){f=typeof f=="object"?f:{localPath:f};let p=_t.resolve(f.localPath),{comment:m}=f,{zipPath:y,zipName:S}=f,b=this;i.fs.stat(p,function(w,I){if(w)return g(w,!1);y=y?u(y):"";let O=_t.win32.basename(_t.win32.normalize(p));if(y+=S||O,I.isFile())i.fs.readFile(p,function(C,B){return C?g(C,!1):(b.addFile(y,B,m,I),setImmediate(g,void 0,!0))});else if(I.isDirectory())return y+=i.sep,b.addFile(y,Buffer.alloc(0),m,I),setImmediate(g,void 0,!0)})},addLocalFolder:function(f,g,p){if(p=d(p),g=g?u(g):"",f=_t.normalize(f),i.fs.existsSync(f)){let m=i.findFiles(f),y=this;if(m.length)for(let S of m){let b=_t.join(g,h(f,S));p(b)&&y.addLocalFile(S,_t.dirname(b))}}else throw gt.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,g,p,m){m=d(m),p=p?u(p):"",f=_t.normalize(f);var y=this;i.fs.open(f,"r",function(S){if(S&&S.code==="ENOENT")g(void 0,gt.Errors.FILE_NOT_FOUND(f));else if(S)g(void 0,S);else{var b=i.findFiles(f),w=-1,I=function(){if(w+=1,w<b.length){var O=b[w],C=h(f,O).split("\\").join("/");C=C.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),m(C)?i.fs.stat(O,function(B,N){B&&g(void 0,B),N.isFile()?i.fs.readFile(O,function(L,$){L?g(void 0,L):(y.addFile(p+C,$,"",N),I())}):(y.addFile(p+C+"/",Buffer.alloc(0),"",N),I())}):process.nextTick(()=>{I()})}else g(!0,void 0)};I()}})},addLocalFolderAsync2:function(f,g){let p=this;f=typeof f=="object"?f:{localPath:f},localPath=_t.resolve(u(f.localPath));let{zipPath:m,filter:y,namefix:S}=f;y instanceof RegExp?y=(function(I){return function(O){return I.test(O)}})(y):typeof y!="function"&&(y=function(){return!0}),m=m?u(m):"",S=="latin1"&&(S=I=>I.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof S!="function"&&(S=I=>I);let b=I=>_t.join(m,S(h(localPath,I))),w=I=>_t.win32.basename(_t.win32.normalize(S(I)));i.fs.open(localPath,"r",function(I){I&&I.code==="ENOENT"?g(void 0,gt.Errors.FILE_NOT_FOUND(localPath)):I?g(void 0,I):i.findFilesAsync(localPath,function(O,C){if(O)return g(O);C=C.filter(B=>y(b(B))),C.length||g(void 0,!1),setImmediate(C.reverse().reduce(function(B,N){return function(L,$){if(L||$===!1)return setImmediate(B,L,!1);p.addLocalFileAsync({localPath:N,zipPath:_t.dirname(b(N)),zipName:w(N)},B)}},g))})})},addLocalFolderPromise:function(f,g){return new Promise((p,m)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},g),(y,S)=>{y&&m(y),S&&p(this)})})},addFile:function(f,g,p,m){f=l(f);let y=c(f),S=y!=null;S||(y=new ebe(n),y.entryName=f),y.comment=p||"";let b=typeof m=="object"&&m instanceof i.fs.Stats;b&&(y.header.time=m.mtime);var w=y.isDirectory?16:0;let I=y.isDirectory?16384:32768;return b?I|=4095&m.mode:typeof m=="number"?I|=4095&m:I|=y.isDirectory?493:420,w=(w|I<<16)>>>0,y.attr=w,y.setData(g),S||s.setEntry(y),y},getEntries:function(f){return s.password=f,s?s.entries:[]},getEntry:function(f){return c(f)},getEntryCount:function(){return s.getEntryCount()},forEach:function(f){return s.forEach(f)},extractEntryTo:function(f,g,p,m,y,S){m=Io(!1,m),y=Io(!1,y),p=Io(!0,p),S=U3(y,S);var b=c(f);if(!b)throw gt.Errors.NO_ENTRY();var w=o(b.entryName),I=a(g,S&&!b.isDirectory?S:p?w:_t.basename(w));if(b.isDirectory){var O=s.getEntryChildren(b);return O.forEach(function(N){if(N.isDirectory)return;var L=N.getData();if(!L)throw gt.Errors.CANT_EXTRACT_FILE();var $=o(N.entryName),Y=a(g,p?$:_t.basename($));let j=y?N.header.fileAttr:void 0;i.writeFileTo(Y,L,m,j)}),!0}var C=b.getData(s.password);if(!C)throw gt.Errors.CANT_EXTRACT_FILE();if(i.fs.existsSync(I)&&!m)throw gt.Errors.CANT_OVERRIDE();let B=y?f.header.fileAttr:void 0;return i.writeFileTo(I,C,m,B),!0},test:function(f){if(!s)return!1;for(var g in s.entries)try{if(g.isDirectory)continue;var p=s.entries[g].getData(f);if(!p)return!1}catch{return!1}return!0},extractAllTo:function(f,g,p,m){if(p=Io(!1,p),m=U3(p,m),g=Io(!1,g),!s)throw gt.Errors.NO_ZIP();s.entries.forEach(function(y){var S=a(f,o(y.entryName));if(y.isDirectory){i.makeDir(S);return}var b=y.getData(m);if(!b)throw gt.Errors.CANT_EXTRACT_FILE();let w=p?y.header.fileAttr:void 0;i.writeFileTo(S,b,g,w);try{i.fs.utimesSync(S,y.header.time,y.header.time)}catch{throw gt.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,g,p,m){if(m=rbe(g,p,m),p=Io(!1,p),g=Io(!1,g),!m)return new Promise((I,O)=>{this.extractAllToAsync(f,g,p,function(C){C?O(C):I(this)})});if(!s){m(gt.Errors.NO_ZIP());return}f=_t.resolve(f);let y=I=>a(f,_t.normalize(o(I.entryName))),S=(I,O)=>new Error(I+': "'+O+'"'),b=[],w=[];s.entries.forEach(I=>{I.isDirectory?b.push(I):w.push(I)});for(let I of b){let O=y(I),C=p?I.header.fileAttr:void 0;try{i.makeDir(O),C&&i.fs.chmodSync(O,C),i.fs.utimesSync(O,I.header.time,I.header.time)}catch{m(S("Unable to create folder",O))}}w.reverse().reduce(function(I,O){return function(C){if(C)I(C);else{let B=_t.normalize(o(O.entryName)),N=a(f,B);O.getDataAsync(function(L,$){if($)I($);else if(!L)I(gt.Errors.CANT_EXTRACT_FILE());else{let Y=p?O.header.fileAttr:void 0;i.writeFileToAsync(N,L,g,Y,function(j){j||I(S("Unable to write file",N)),i.fs.utimes(N,O.header.time,O.header.time,function(ee){ee?I(S("Unable to set times",N)):I()})})}})}}},m)()},writeZip:function(f,g){if(arguments.length===1&&typeof f=="function"&&(g=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var p=s.compressToBuffer();if(p){var m=i.writeFileTo(f,p,!0);typeof g=="function"&&g(m?null:new Error("failed"),"")}}},writeZipPromise:function(f,g){let{overwrite:p,perm:m}=Object.assign({overwrite:!0},g);return new Promise((y,S)=>{!f&&n.filename&&(f=n.filename),f||S("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(b=>{let w=I=>I?y(I):S("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(f,b,p,m,w)},S)})},toBufferPromise:function(){return new Promise((f,g)=>{s.toAsyncBuffer(f,g)})},toBuffer:function(f,g,p,m){return typeof f=="function"?(s.toAsyncBuffer(f,g,p,m),null):s.compressToBuffer()}}}});var H3=x((iTe,z3)=>{"use strict";var{TextDecoder:nTe}=require("util"),sx=class{constructor(e){if(!Buffer.isBuffer(e))throw new Error("BiffReaderWriter expects a Buffer");this.buffer=e,this.pos=0,this.length=e.length,this._isSheet=!1,this._workbookId=0,this._recId=null,this._workbookName=null,this._inCellXf=!1,this._inCellStyleXf=!1,this._inNumberFormat=!1,this._parentCellStyleXf=0,this._numberFormatIndex=0,this._format=0,this._formatString=null,this._sharedStringValue=null,this._sharedStringUniqueCount=0,this._cellType=0,this._intValue=0,this._doubleVal=0,this._boolValue=!1,this._stringValue=null,this._columnNum=-1,this._xfIndex=0,this._readCell=!1,this._rowIndex=-1,this._tempBuf=Buffer.alloc(128),this._xfIndexToNumFmtId=[],this._customNumFmts=new Set}_tryReadVariableValue(){if(this.pos>=this.length)return null;let e=this.buffer[this.pos++],r=(e&127)>>>0;if((e&128)===0)return r;if(this.pos>=this.length)return null;let n=this.buffer[this.pos++];if(r=((n&127)<<7|r)>>>0,(n&128)===0)return r;if(this.pos>=this.length)return null;let i=this.buffer[this.pos++];return r=((i&127)<<14|r)>>>0,(i&128)===0?r:this.pos>=this.length?null:(r=((this.buffer[this.pos++]&127)<<21|r)>>>0,r)}_getDWord(e,r){return e.readUInt32LE(r)}_getInt32(e,r){return e.readInt32LE(r)}_getWord(e,r){return e.readUInt16LE(r)}_getString(e,r,n){let i=r,s=r+n*2;return s>e.length?"":e.toString("utf16le",i,s)}_getNullableString(e,r){let n=this._getDWord(e,r.val);if(r.val+=4,n===4294967295)return null;let i=this._getString(e,r.val,n);return r.val+=n*2,i}readWorkbook(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);if(this.pos+=r,this._isSheet=!1,e===156){this._workbookId=this._getDWord(i,4);let s={val:8};this._recId=this._getNullableString(i,s);let o=this._getDWord(i,s.val);this._workbookName=this._getString(i,s.val+4,o),this._isSheet=!0}return!0}readSharedStrings(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);if(this.pos+=r,this._sharedStringValue=null,e===19){let s=this._getDWord(i,1);this._sharedStringValue=this._getString(i,5,s)}else e===159&&(this._sharedStringUniqueCount=this._getDWord(i,4));return!0}readStyles(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);this.pos+=r;let s=617,o=618,a=626,l=627,c=615,u=616,d=47,h=44;switch(e){case s:this._inCellXf=!0;break;case o:this._inCellXf=!1;break;case a:this._inCellStyleXf=!0;break;case l:this._inCellStyleXf=!1;break;case c:this._inNumberFormat=!0;break;case u:this._inNumberFormat=!1;break;case d:this._inCellXf&&(this._parentCellStyleXf=this._getWord(i,0),this._numberFormatIndex=this._getWord(i,2),this._xfIndexToNumFmtId.push(this._numberFormatIndex));break;case h:if(this._inNumberFormat){this._format=this._getWord(i,0);let f=this._getDWord(i,2);this._formatString=this._getString(i,6,f);let g=this._formatString.toLowerCase();(g.includes("yy")||g.includes("mm")||g.includes("dd")||g.includes("h:mm"))&&this._customNumFmts.add(this._format)}break}return!0}_getRkNumber(e,r){let n=e[r],i=0;if((n&2)!==0)i=e.readInt32LE(r)>>2;else{let o=e.readInt32LE(r)&4294967292,a=Buffer.alloc(8);a.writeInt32LE(0,0),a.writeInt32LE(o,4),i=a.readDoubleLE(0)}return(n&1)!==0&&(i/=100),i}readWorksheet(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;let i=this.buffer.subarray(n,n+r);this.pos+=r,this._readCell=!1,this._columnNum=-1;let s=0,o=1,a=2,l=3,c=4,u=5,d=6,h=7,f=8,g=9,p=10,m=11;switch(e){case s:this._rowIndex=this._getInt32(i,0);break;case o:case l:case m:this._readCell=!0,this._cellType=0;break;case a:this._doubleVal=this._getRkNumber(i,8),this._readCell=!0,this._cellType=3;break;case c:case p:this._boolValue=i[8]===1,this._readCell=!0,this._cellType=4;break;case g:case u:this._doubleVal=i.readDoubleLE(8),this._readCell=!0,this._cellType=3;break;case d:case f:{let y=this._getDWord(i,8);this._stringValue=this._getString(i,12,y),this._readCell=!0,this._cellType=5;break}case h:this._intValue=this._getDWord(i,8),this._readCell=!0,this._cellType=2;break}return this._readCell&&(this._columnNum=this._getDWord(i,0),this._xfIndex=this._getDWord(i,4)&16777215),!0}};z3.exports=sx});var G3=x((sTe,V3)=>{"use strict";var ibe=j3(),sbe=ZS(),P0=H3(),ox=class extends sbe{constructor(){super(),this.zip=null,this.sharedStrings=[],this.styles=[],this.sheetNames=[],this.sheets=[],this._currentSheetIndex=-1,this._reader=null,this._currentRow=[],this._pendingRowIndex=-1,this._eof=!1}open(e,r=!0){this.zip=new ibe(e);let n=this.zip.getEntry("xl/workbook.bin");if(n){let o=n.getData(),a=new P0(o);for(;a.readWorkbook();)if(a._isSheet){let l=a._workbookName,c=a._recId;this.sheetNames.push(l),this.sheets.push({name:l,rId:c,path:null})}}let i=this.zip.getEntry("xl/_rels/workbook.bin.rels");if(i){let o=i.getData().toString("utf8"),a=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,l,c={};for(;(l=a.exec(o))!==null;)c[l[1]]=l[2];for(let u of this.sheets){let d=c[u.rId];d&&(d.startsWith("/")&&(d=d.substring(1)),d.startsWith("xl/")||(d="xl/"+d),u.path=d)}}if(r){let o="xl/sharedStrings.bin";this.zip.getEntry(o)&&this._readSharedStrings(o)}let s="xl/styles.bin";this.zip.getEntry(s)&&this._readStyles(s),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1}_readSharedStrings(e){let r=this.zip.getEntry(e);if(!r)return;let n=new P0(r.getData());for(;n.readSharedStrings();)n._sharedStringValue!==null&&this.sharedStrings.push(n._sharedStringValue)}_readStyles(e){let r=this.zip.getEntry(e);if(!r)return;let n=new P0(r.getData());for(;n.readStyles(););this.xfIdToNumFmtId=n._xfIndexToNumFmtId,this.customDateFormats=n._customNumFmts}getSheetNames(){return this.sheetNames}read(){if(this._currentSheetIndex===-1&&(this._currentSheetIndex=0,!this._initSheet(0))||this._eof)return!1;for(this._currentRow=[];;){if(!this._reader.readWorksheet())return this._eof=!0,!0;if(this._reader._rowIndex!==-1&&this._reader._rowIndex!==this._pendingRowIndex){let r=this._pendingRowIndex;return this._pendingRowIndex=this._reader._rowIndex,!0}if(this._reader._readCell){let r=this._reader._columnNum,n=null;switch(this._reader._cellType){case 2:n=this.sharedStrings[this._reader._intValue];break;case 3:n=this._reader._doubleVal;let i=this._reader._xfIndex,s=0;if(this.xfIdToNumFmtId&&i<this.xfIdToNumFmtId.length&&(s=this.xfIdToNumFmtId[i]),s>=14&&s<=22||s>=45&&s<=47||this.customDateFormats&&this.customDateFormats.has(s))try{n=this.getDateTimeFromOaDate(n)}catch{}break;case 4:n=this._reader._boolValue;break;case 5:n=this._reader._stringValue;break;default:n=null}this._currentRow[r]=n,r>=this.fieldCount&&(this.fieldCount=r+1)}}}_initSheet(e){if(e>=this.sheets.length)return!1;let r=this.sheets[e],n=this.zip.getEntry(r.path);if(!n)return!1;for(this._reader=new P0(n.getData()),this._eof=!1,this._pendingRowIndex=-1;this._reader.readWorksheet();)if(this._reader._rowIndex!==-1)return this._pendingRowIndex=this._reader._rowIndex,!0;return this._eof=!0,!1}getValue(e){return e<0||e>=this._currentRow.length?null:this._currentRow[e]}};V3.exports=ox});var J3=x((oTe,Y3)=>{"use strict";var obe=u3(),abe=G3(),lbe=require("path"),ax=class{static create(e){let r=lbe.extname(e).toLowerCase();if(r===".xlsx")return new obe;if(r===".xlsb")return new abe;throw new Error(`Unsupported extension: ${r}`)}};Y3.exports=ax});var K3={};mn(K3,{ColumnTypeChooser:()=>El,NetezzaDataType:()=>Ii,NetezzaImporter:()=>F0,importDataToNetezza:()=>ube});function cbe(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}async function ube(t,e,r,n,i){let s=Date.now(),o=null;try{if(!t||!br.existsSync(t))return{success:!1,message:`Source file not found: ${t}`};if(!e)return{success:!1,message:"Target table name is required"};if(!r)return{success:!1,message:"Connection string is required"};let l=br.statSync(t).size,c=ds.extname(t).toLowerCase(),u=[".csv",".txt",".xlsx",".xlsb"];if(!u.includes(c))return{success:!1,message:`Unsupported file format: ${c}. Supported: ${u.join(", ")}`};i?.("Starting import process..."),i?.(`  Source file: ${t}`),i?.(`  Target table: ${e}`),i?.(`  File size: ${l.toLocaleString()} bytes`),i?.(`  File format: ${c}`);let d=new F0(t,e,r);await d.analyzeDataTypes(i),i?.("Using file-based import...");let h=await d.createDataFile(i),f=d.generateCreateTableSql();i?.("Generated SQL:"),i?.(f),i?.("Connecting to Netezza...");let g=cbe(r);g.port||(g.port=5480);let p=en();o=new p(g),await o.connect();try{i?.("Executing CREATE TABLE with EXTERNAL data..."),await o.createCommand(f).execute(),i?.("Import completed successfully")}finally{await o.close();try{br.existsSync(h)&&(br.unlinkSync(h),i?.("Temporary data file cleaned up"))}catch(y){i?.(`Warning: Could not clean up temp file: ${y.message}`)}}let m=(Date.now()-s)/1e3;return{success:!0,message:"Import completed successfully",details:{sourceFile:t,targetTable:e,fileSize:l,format:c,rowsProcessed:d.getRowsCount(),rowsInserted:d.getRowsCount(),processingTime:`${m.toFixed(1)}s`,columns:d.getSqlHeaders().length,detectedDelimiter:d.getCsvDelimiter()}}}catch(a){let l=(Date.now()-s)/1e3;return{success:!1,message:`Import failed: ${a.message}`,details:{processingTime:`${l.toFixed(1)}s`}}}finally{if(o&&o._connected)try{await o.close()}catch{}}}var br,ds,lx,Ii,El,F0,cx=yn(()=>{"use strict";br=Ye(require("fs")),ds=Ye(require("path"));try{lx=J3()}catch(t){console.error("ExcelHelpers/ReaderFactory module not available",t)}Ii=class{constructor(e,r,n,i){this.dbType=e;this.precision=r;this.scale=n;this.length=i}toString(){return["BIGINT","DATE","DATETIME"].includes(this.dbType)?this.dbType:this.dbType==="NUMERIC"?`${this.dbType}(${this.precision},${this.scale})`:this.dbType==="NVARCHAR"?`${this.dbType}(${this.length})`:`TODO !!! ${this.dbType}`}},El=class{constructor(){this.decimalDelimInCsv=".";this.firstTime=!0;this.currentType=new Ii("BIGINT")}getType(e){let r=this.currentType.dbType,n=e.length;if(r==="BIGINT"&&/^\d+$/.test(e)&&n<15)return this.firstTime=!1,new Ii("BIGINT");let i=(e.match(new RegExp(`\\${this.decimalDelimInCsv}`,"g"))||[]).length;if(["BIGINT","NUMERIC"].includes(r)&&i<=1){let o=e.replace(this.decimalDelimInCsv,"");if(/^\d+$/.test(o)&&n<15&&(!o.startsWith("0")||i>0))return this.firstTime=!1,new Ii("NUMERIC",16,6)}if((r==="DATE"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=8&&n<=10){let o=e.split("-");if(o.length===3&&o.every(a=>/^\d+$/.test(a)))try{let a=new Date(parseInt(o[0]),parseInt(o[1])-1,parseInt(o[2]));if(!isNaN(a.getTime()))return this.firstTime=!1,new Ii("DATE")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=12&&n<=20){let o=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})[\s|T](\d{2}):(\d{2})(:?(\d{2}))?$/);if(o)try{let a=o[7]?parseInt(o[7]):0,l=new Date(parseInt(o[1]),parseInt(o[2])-1,parseInt(o[3]),parseInt(o[4]),parseInt(o[5]),a);if(!isNaN(l.getTime()))return this.firstTime=!1,new Ii("DATETIME")}catch{}}let s=Math.max(n+5,20);return this.currentType.length!==void 0&&s<this.currentType.length&&(s=this.currentType.length),this.firstTime=!1,new Ii("NVARCHAR",void 0,void 0,s)}refreshCurrentType(e){return this.currentType=this.getType(e),this.currentType}},F0=class{constructor(e,r,n,i){this.delimiter="	";this.delimiterPlain="\\t";this.recordDelim=`
`;this.recordDelimPlain="\\n";this.escapechar="\\";this.csvDelimiter=",";this.excelData=[];this.isExcelFile=!1;this.sqlHeaders=[];this.dataTypes=[];this.rowsCount=0;this.valuesToEscape=[];this.filePath=e,this.targetTable=r,this.connectionString=n,this.logDir=i||ds.join(ds.dirname(e),"netezza_logs");let s=ds.extname(e).toLowerCase();this.isExcelFile=[".xlsx",".xlsb"].includes(s);let o=Math.floor(Math.random()*1e3);this.pipeName=`\\\\.\\pipe\\NETEZZA_IMPORT_${o}`,this.valuesToEscape=[this.escapechar,this.recordDelim,"\r",this.delimiter],br.existsSync(this.logDir)||br.mkdirSync(this.logDir,{recursive:!0})}detectCsvDelimiter(){let r=br.readFileSync(this.filePath,"utf-8").split(`
`)[0]||"";r.startsWith("\uFEFF")&&(r=r.slice(1));let n=[";","	","|",","],i={};for(let o of n)i[o]=(r.match(new RegExp(o==="|"?"\\|":o,"g"))||[]).length;let s=Math.max(...Object.values(i));s>0&&(this.csvDelimiter=Object.keys(i).find(o=>i[o]===s)||",")}cleanColumnName(e){let r=String(e).trim();return r=r.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!r||/^\d/.test(r))&&(r="COL_"+r),r}parseCsvLine(e){let r=[],n="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];o==='"'?i&&e[s+1]==='"'?(n+='"',s++):i=!i:o===this.csvDelimiter&&!i?(r.push(n),n=""):n+=o}return r.push(n),r}async readExcelFile(e){if(!lx)throw new Error("ReaderFactory module not available");e?.("Reading Excel file...");let r=lx.create(this.filePath);await r.open(this.filePath);let n=[],i=o=>{if(o==null)return"";if(o instanceof Date){let a=l=>l<10?"0"+l:l;return`${o.getFullYear()}-${a(o.getMonth()+1)}-${a(o.getDate())} ${a(o.getHours())}:${a(o.getMinutes())}:${a(o.getSeconds())}`}return String(o)},s=0;for(;await r.read();){let o=[],a=r._currentRow;if(a&&Array.isArray(a))for(let l=0;l<a.length;l++)o.push(i(a[l]));n.push(o),s++,s%1e4===0&&e?.(`Processed ${s.toLocaleString()} rows...`)}return typeof r.close=="function"&&await r.close(),e?.(`Excel file loaded: ${n.length} rows`),n}async analyzeDataTypes(e){e?.("Analyzing data types...");let r;if(this.isExcelFile)this.excelData=await this.readExcelFile(e),r=this.excelData;else{this.detectCsvDelimiter();let i=br.readFileSync(this.filePath,"utf-8");i.startsWith("\uFEFF")&&(i=i.slice(1));let s=i.split(/\r?\n/);r=[];for(let o of s)o.trim()&&r.push(this.parseCsvLine(o))}if(!r||r.length===0)throw new Error("No data found in file");let n=[];this.sqlHeaders=r[0].map(i=>this.cleanColumnName(i||"COLUMN"));for(let i=0;i<r[0].length;i++)n.push(new El);for(let i=1;i<r.length;i++){let s=r[i];for(let o=0;o<s.length;o++)o<n.length&&s[o]&&s[o].trim()&&n[o].refreshCurrentType(s[o].trim());i%1e4===0&&e?.(`Analyzed ${i.toLocaleString()} rows...`)}return this.rowsCount=r.length-1,e?.(`Analysis complete: ${this.rowsCount.toLocaleString()} rows`),this.dataTypes=n,n}escapeValue(e){let r=String(e).trim();for(let n of this.valuesToEscape)r=r.split(n).join(`${this.escapechar}${n}`);return r}formatValue(e,r){let n=this.escapeValue(e);return r<this.dataTypes.length&&this.dataTypes[r].currentType.dbType==="DATETIME"&&(n=n.replace("T"," ")),n}generateCreateTableSql(){let e=[];for(let n=0;n<this.sqlHeaders.length;n++){let i=this.sqlHeaders[n],s=this.dataTypes[n];e.push(`        ${i} ${s.currentType.toString()}`)}let r=this.logDir.replace(/\\/g,"/");return`CREATE TABLE ${this.targetTable} AS 
(
    SELECT * FROM EXTERNAL '${this.pipeName}'
    (
${e.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${this.delimiterPlain}'
        RecordDelim '${this.recordDelimPlain}'
        ESCAPECHAR '${this.escapechar}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${r}'
    )
) DISTRIBUTE ON RANDOM;`}async createDataFile(e){let r=ds.join(this.logDir,`netezza_import_data_${Math.floor(Math.random()*1e3)}.txt`);e?.(`Creating temporary data file: ${r}`);try{let n;if(this.isExcelFile){if(!this.excelData||this.excelData.length===0)throw new Error("Excel data not loaded. Call analyzeDataTypes first.");n=this.excelData.slice(1)}else{let s=br.readFileSync(this.filePath,"utf-8");s.startsWith("\uFEFF")&&(s=s.slice(1));let o=s.split(/\r?\n/);n=[];let a=!0;for(let l of o)if(l.trim()){if(a){a=!1;continue}n.push(this.parseCsvLine(l))}}let i=[];for(let s=0;s<n.length;s++){let a=n[s].map((l,c)=>this.formatValue(l||"",c));i.push(a.join(this.delimiter)),(s+1)%1e4===0&&e?.(`Processed ${(s+1).toLocaleString()} rows...`)}return br.writeFileSync(r,i.join(this.recordDelim),"utf-8"),this.pipeName=r.replace(/\\/g,"/"),e?.(`Data file created: ${this.pipeName}`),r}catch(n){throw new Error(`Error creating data file: ${n.message}`)}}getRowsCount(){return this.rowsCount}getSqlHeaders(){return this.sqlHeaders}getCsvDelimiter(){return this.csvDelimiter}}});var Z3={};mn(Z3,{ClipboardDataProcessor:()=>B0,importClipboardDataToNetezza:()=>gbe});function fbe(t){let e=t.split(";"),r={};for(let n of e){let i=n.indexOf("=");if(i>0){let s=n.substring(0,i).trim().toUpperCase(),o=n.substring(i+1).trim();s==="SERVER"?r.host=o:s==="PORT"?r.port=parseInt(o):s==="DATABASE"?r.database=o:s==="UID"?r.user=o:s==="PWD"&&(r.password=o)}}return r}function dbe(t){let e=String(t).trim();return e=e.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!e||/^\d/.test(e))&&(e="COL_"+e),e}function hbe(t,e,r){let n=String(t).trim();for(let i of r)n=n.split(i).join(`${e}${i}`);return n}function pbe(t,e,r,n,i){let s=hbe(t,n,i);return e<r.length&&r[e].currentType.dbType==="DATETIME"&&(s=s.replace("T"," ")),s}async function gbe(t,e,r,n,i){let s=Date.now(),o=null,a=null;try{if(!t)return{success:!1,message:"Target table name is required"};if(!e)return{success:!1,message:"Connection string is required"};i?.("Starting clipboard import process..."),i?.(`  Target table: ${t}`),i?.(`  Format preference: ${r||"auto-detect"}`);let l=new B0,[c,u]=await l.processClipboardData(r,i);if(!c||!c.length)return{success:!1,message:"No data found in clipboard"};if(c.length<2)return{success:!1,message:"Clipboard data must contain at least headers and one data row"};i?.(`  Detected format: ${u}`),i?.(`  Rows: ${c.length}`),i?.(`  Columns: ${c[0].length}`);let d=c[0].map(j=>dbe(j)),h=c.slice(1);i?.("Analyzing clipboard data types...");let f=d.map(()=>new El);for(let j=0;j<h.length;j++){let ee=h[j];for(let le=0;le<ee.length;le++)le<f.length&&ee[le]&&ee[le].trim()&&f[le].refreshCurrentType(ee[le].trim());(j+1)%1e3===0&&i?.(`Analyzed ${(j+1).toLocaleString()} rows...`)}i?.(`Analysis complete: ${h.length.toLocaleString()} data rows`);let g=ux.join(require("os").tmpdir(),"netezza_clipboard_logs");Ni.existsSync(g)||Ni.mkdirSync(g,{recursive:!0});let p="	",m="\\t",y=`
`,S="\\n",b="\\",w=[b,y,"\r",p];o=ux.join(g,`netezza_clipboard_import_${Math.floor(Math.random()*1e3)}.txt`),i?.(`Creating temporary data file: ${o}`);let I=[];for(let j=0;j<h.length;j++){let le=h[j].map((fe,Oe)=>pbe(fe,Oe,f,b,w));I.push(le.join(p)),(j+1)%1e3===0&&i?.(`Processed ${(j+1).toLocaleString()} rows...`)}Ni.writeFileSync(o,I.join(y),"utf-8");let O=o.replace(/\\/g,"/");i?.(`Data file created: ${O}`);let C=[];for(let j=0;j<d.length;j++)C.push(`        ${d[j]} ${f[j].currentType.toString()}`);let B=g.replace(/\\/g,"/"),N=`CREATE TABLE ${t} AS 
(
    SELECT * FROM EXTERNAL '${O}'
    (
${C.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${m}'
        RecordDelim '${S}'
        ESCAPECHAR '${b}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${B}'
    )
) DISTRIBUTE ON RANDOM;`;i?.("Generated SQL:"),i?.(N),i?.("Connecting to Netezza...");let L=fbe(e);L.port||(L.port=5480);let $=en();a=new $(L),await a.connect();try{i?.("Executing CREATE TABLE with EXTERNAL clipboard data..."),await a.createCommand(N).execute(),i?.("Clipboard import completed successfully")}finally{await a.close()}let Y=(Date.now()-s)/1e3;return{success:!0,message:"Clipboard import completed successfully",details:{targetTable:t,format:u,rowsProcessed:h.length,rowsInserted:h.length,processingTime:`${Y.toFixed(1)}s`,columns:d.length,detectedDelimiter:p}}}catch(l){let c=(Date.now()-s)/1e3;return{success:!1,message:`Clipboard import failed: ${l.message}`,details:{processingTime:`${c.toFixed(1)}s`}}}finally{if(a&&a._connected)try{await a.close()}catch{}if(o&&Ni.existsSync(o))try{Ni.unlinkSync(o),i?.("Temporary clipboard data file cleaned up")}catch(l){i?.(`Warning: Could not clean up temp file: ${l.message}`)}}}var Ni,ux,X3,B0,Q3=yn(()=>{"use strict";Ni=Ye(require("fs")),ux=Ye(require("path")),X3=Ye(require("vscode"));cx();B0=class{constructor(){this.processedData=[]}processXmlSpreadsheet(e,r){r?.("Processing XML Spreadsheet data...");let n=[],i=0,s=[],o=0,a=e.match(/ExpandedColumnCount="(\d+)"/);a&&(i=parseInt(a[1]),r?.(`Table has ${i} columns`));let l=e.match(/ExpandedRowCount="(\d+)"/);l&&r?.(`Table has ${l[1]} rows`);let c=/<Row[^>]*>([\s\S]*?)<\/Row>/gi,u;for(;(u=c.exec(e))!==null;){let d=u[1];s=new Array(i).fill("");let h=/<Cell(?:\s+[^>]*ss:Index="(\d+)")?[^>]*>[\s\S]*?<Data[^>]*>([^<]*)<\/Data>[\s\S]*?<\/Cell>|<Cell(?:\s+[^>]*ss:Index="(\d+)")?[^>]*\/>/gi,f,g=0,p=/<Cell(?:[^>]*ss:Index="(\d+)")?[^>]*>(?:[\s\S]*?<Data[^>]*(?:\s+ss:Type="([^"]*)")?[^>]*>([^<]*)<\/Data>)?[\s\S]*?<\/Cell>/gi;for(;(f=p.exec(d))!==null;){f[1]&&(g=parseInt(f[1])-1);let m=f[2]||"",y=f[3]||"";m==="Boolean"&&(y=y==="0"?"False":"True"),g<i&&(s[g]=y),g++}s.some(m=>m.trim())&&n.push([...s]),o++,o%1e4===0&&r?.(`Analyzed ${o.toLocaleString()} rows...`)}return r?.(`XML processing complete: ${n.length} rows, ${i} columns`),this.processedData=n,n}processTextData(e,r){if(r?.("Processing text data..."),!e.trim())return[];let n=e.split(`
`);for(;n.length&&!n[n.length-1].trim();)n.pop();if(!n.length)return[];let i=["	",",",";","|"],s={};for(let c of i){let u=[];for(let d of n.slice(0,Math.min(5,n.length)))if(d.trim()){let h=d.split(c);u.push(h.length)}if(u.length){let d=u.reduce((f,g)=>f+g,0)/u.length,h=u.reduce((f,g)=>f+Math.pow(g-d,2),0)/u.length;s[c]=[d,-h]}}let o="	";Object.keys(s).length&&(o=Object.keys(s).reduce((c,u)=>{let[d,h]=s[c]||[0,0],[f,g]=s[u];return f>d||f===d&&g>h?u:c},"	")),r?.(`Auto-detected delimiter: '${o==="	"?"\\t":o}'`);let a=[],l=0;for(let c of n)if(c.trim()){let u=c.split(o).map(d=>d.trim());a.push(u),l=Math.max(l,u.length)}for(let c of a)for(;c.length<l;)c.push("");return r?.(`Text processing complete: ${a.length} rows, ${l} columns`),this.processedData=a,a}async getClipboardText(){return await X3.env.clipboard.readText()}async processClipboardData(e,r){r?.("Getting clipboard data...");let n=await this.getClipboardText();if(!n)throw new Error("No data found in clipboard");r?.(`Data size: ${n.length} characters`);let i="TEXT";e==="XML Spreadsheet"||!e&&n.includes("<Workbook")&&n.includes("<Worksheet")?i="XML Spreadsheet":e==="TEXT"&&(i="TEXT"),r?.(`Detected format: ${i}`);let s;return i==="XML Spreadsheet"?s=this.processXmlSpreadsheet(n,r):s=this.processTextData(n,r),r?.(`Processed ${s.length} rows`),s.length&&r?.(`Columns per row: ${s[0].length}`),[s,i]}}});var wbe={};mn(wbe,{activate:()=>mbe,deactivate:()=>bbe});module.exports=GW(wbe);var v=Ye(require("vscode"));xs();og();var Dr=Ye(require("vscode")),wf=class t{constructor(e,r,n){this.extensionUri=r;this.connectionManager=n;this._disposables=[];this._panel=e,this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.html=this._getHtmlForWebview(this._panel.webview),this._panel.webview.onDidReceiveMessage(async i=>{switch(i.command){case"save":try{await this.connectionManager.saveConnection(i.data),Dr.window.showInformationMessage(`Connection '${i.data.name}' saved and activated!`),this.sendConnectionsToWebview()}catch(s){Dr.window.showErrorMessage(`Error saving: ${s.message}`)}return;case"delete":try{await Dr.window.showWarningMessage(`Are you sure you want to delete '${i.name}'?`,{modal:!0},"Yes","No")==="Yes"&&(await this.connectionManager.deleteConnection(i.name),Dr.window.showInformationMessage(`Connection '${i.name}' deleted.`),this.sendConnectionsToWebview())}catch(s){Dr.window.showErrorMessage(`Error deleting: ${s.message}`)}return;case"loadConnections":this.sendConnectionsToWebview();return}},null,this._disposables)}async sendConnectionsToWebview(){let e=await this.connectionManager.getConnections(),r=this.connectionManager.getActiveConnectionName();await this._panel.webview.postMessage({command:"updateConnections",connections:e,activeName:r})}static createOrShow(e,r){let n=Dr.window.activeTextEditor?Dr.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n);return}let i=Dr.window.createWebviewPanel("netezzaLogin","Connect to Netezza",n||Dr.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getHtmlForWebview(e){let r=e.asWebviewUri(Dr.Uri.joinPath(this.extensionUri,"netezza_icon64.png"));return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Connect to Netezza</title>
            <style>
                :root {
                    --container-paddding: 20px;
                    --input-padding-vertical: 6px;
                    --input-padding-horizontal: 8px;
                    --input-margin-vertical: 4px;
                    --input-margin-horizontal: 0;
                }
                body {
                    font-family: var(--vscode-font-family);
                    padding: 0;
                    margin: 0;
                    color: var(--vscode-foreground);
                    background-color: var(--vscode-editor-background);
                    display: flex;
                    height: 100vh;
                    overflow: hidden;
                }
                
                /* Sidebar */
                .sidebar {
                    width: 260px;
                    background-color: var(--vscode-sideBar-background);
                    border-right: 1px solid var(--vscode-panel-border);
                    display: flex;
                    flex-direction: column;
                    flex-shrink: 0;
                    user-select: none;
                }
                .sidebar-header {
                    padding: 10px 15px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    background-color: var(--vscode-sideBarSectionHeader-background);
                }
                .sidebar-title {
                    font-weight: bold;
                    font-size: 11px;
                    text-transform: uppercase;
                    color: var(--vscode-sideBarTitle-foreground);
                }
                .connection-list {
                    flex: 1;
                    overflow-y: auto;
                    padding: 0;
                }
                .connection-item {
                    padding: 8px 15px;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    border-left: 3px solid transparent;
                    color: var(--vscode-sideBar-foreground);
                }
                .connection-item:hover {
                    background-color: var(--vscode-list-hoverBackground);
                }
                .connection-item.active {
                    background-color: var(--vscode-list-activeSelectionBackground);
                    color: var(--vscode-list-activeSelectionForeground);
                    border-left-color: var(--vscode-focusBorder);
                }
                .connection-item .name {
                    flex: 1;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                .connection-item .status {
                    font-size: 0.8em;
                    margin-left: 5px;
                    opacity: 0.7;
                }

                /* Main Content */
                .main {
                    flex: 1;
                    padding: 40px;
                    overflow-y: auto;
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                }
                .form-container {
                    width: 100%;
                    max-width: 500px;
                    background-color: var(--vscode-editorWidget-background);
                    border: 1px solid var(--vscode-widget-border);
                    padding: 30px;
                    border-radius: 4px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
                
                h2 {
                    margin-top: 0;
                    margin-bottom: 25px;
                    font-size: 1.4em;
                    font-weight: 500;
                    padding-bottom: 10px;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .form-group {
                    margin-bottom: 18px;
                }
                .form-row {
                    display: flex;
                    gap: 15px;
                }
                .form-col {
                    flex: 1;
                }

                label {
                    display: block;
                    margin-bottom: 6px;
                    font-weight: 600;
                    font-size: 12px;
                    color: var(--vscode-input-placeholderForeground);
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }

                input, select {
                    width: 100%;
                    padding: 8px 10px;
                    box-sizing: border-box;
                    background: var(--vscode-input-background);
                    color: var(--vscode-input-foreground);
                    border: 1px solid var(--vscode-input-border);
                    border-radius: 2px;
                    font-family: inherit;
                    font-size: 13px;
                }
                input:focus, select:focus {
                    border-color: var(--vscode-focusBorder);
                    outline: 1px solid var(--vscode-focusBorder);
                }
                
                /* Buttons */
                .actions {
                    margin-top: 30px;
                    display: flex;
                    gap: 12px;
                    padding-top: 20px;
                    border-top: 1px solid var(--vscode-panel-border);
                }
                button {
                    background: var(--vscode-button-background);
                    color: var(--vscode-button-foreground);
                    padding: 8px 16px;
                    border: none;
                    cursor: pointer;
                    border-radius: 2px;
                    font-size: 13px;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                button:hover {
                    background: var(--vscode-button-hoverBackground);
                }
                button.secondary {
                    background: var(--vscode-button-secondaryBackground);
                    color: var(--vscode-button-secondaryForeground);
                }
                button.secondary:hover {
                    background: var(--vscode-button-secondaryHoverBackground);
                }
                button.danger {
                    background: var(--vscode-errorForeground);
                    color: white;
                }
                button.icon-btn {
                    padding: 4px;
                    background: transparent;
                    color: var(--vscode-icon-foreground);
                }
                button.icon-btn:hover {
                    background: var(--vscode-toolbar-hoverBackground);
                }

                .icon-img {
                    width: 16px;
                    height: 16px;
                    object-fit: contain;
                }
                .logo-header {
                    width: 32px;
                    height: 32px;
                    margin-right: 10px;
                }

            </style>
        </head>
        <body>
            <div class="sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-title">Saved Connections</span>
                    <button class="icon-btn" id="btnNew" title="New Connection">
                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14 7v1H8v6H7V8H1V7h6V1h1v6h6z"/></svg>
                    </button>
                </div>
                <div id="connectionList" class="connection-list"></div>
            </div>
            
            <div class="main">
                <div class="form-container">
                    <h2 id="formTitle">
                        <img src="${r}" class="logo-header" />
                        New Connection
                    </h2>
                    
                    <div class="form-group">
                        <label for="name">Connection Name</label>
                        <input type="text" id="name" placeholder="Friendly name (e.g. Production)">
                    </div>

                    <div class="form-group">
                        <label for="dbType">
                            Database Type 
                            <img src="${r}" class="icon-img" />
                        </label>
                        <select id="dbType">
                            <option value="NetezzaSQL">NetezzaSQL</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="host">Host</label>
                                <input type="text" id="host" placeholder="Hostname or IP">
                            </div>
                        </div>
                        <div class="form-col" style="flex: 0 0 80px;">
                            <div class="form-group">
                                <label for="port">Port</label>
                                <input type="number" id="port" value="5480">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="database">
                            Database
                        </label>
                        <input type="text" id="database" placeholder="Database name" value="system">
                    </div>

                    <div class="form-row">
                         <div class="form-col">
                            <div class="form-group">
                                <label for="user">User</label>
                                <input type="text" id="user" placeholder="Username">
                            </div>
                         </div>
                         <div class="form-col">
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" id="password" placeholder="Password">
                            </div>
                         </div>
                    </div>
                    
                    <div class="actions">
                        <button id="btnSave" onclick="save()">Save & Connect</button>
                        <button id="btnDelete" class="danger" onclick="del()" style="display: none;">Delete</button>
                    </div>
                </div>
            </div>

            <script>
                const vscode = acquireVsCodeApi();
                let connections = [];
                let activeName = null;
                let currentEditName = null;
                const iconSrc = "${r}";

                // Load initial data
                window.addEventListener('message', event => {
                    const message = event.data;
                    switch (message.command) {
                        case 'updateConnections':
                            connections = message.connections;
                            activeName = message.activeName;
                            renderList();
                            break;
                    }
                });
                
                vscode.postMessage({ command: 'loadConnections' });

                document.getElementById('btnNew').addEventListener('click', () => {
                    clearForm();
                });

                function renderList() {
                    const list = document.getElementById('connectionList');
                    list.innerHTML = '';
                    
                    connections.forEach(conn => {
                        const div = document.createElement('div');
                        div.className = 'connection-item';
                        if (conn.name === currentEditName) {
                             div.classList.add('active');
                        }
                        
                        div.innerHTML = \`<span class="name"><img src="\${iconSrc}" class="icon-img"> \${conn.name}</span>\`;
                        if (conn.name === activeName) {
                            div.innerHTML += \`<span class="status">\u25CF</span>\`;
                            div.title = 'Active Connection';
                        }
                        
                        div.onclick = () => loadForm(conn);
                        list.appendChild(div);
                    });
                }

                function loadForm(conn) {
                    currentEditName = conn.name;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> Edit Connection\`;
                    document.getElementById('name').value = conn.name;
                    document.getElementById('dbType').value = conn.dbType || 'NetezzaSQL';
                    document.getElementById('host').value = conn.host;
                    document.getElementById('port').value = conn.port;
                    document.getElementById('database').value = conn.database;
                    document.getElementById('user').value = conn.user;
                    document.getElementById('password').value = conn.password || ''; 
                    
                    document.getElementById('btnDelete').style.display = 'block';
                    renderList();
                }

                function clearForm() {
                    currentEditName = null;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> New Connection\`;
                    document.getElementById('name').value = '';
                    document.getElementById('dbType').value = 'NetezzaSQL';
                    document.getElementById('host').value = '';
                    document.getElementById('port').value = '5480';
                    document.getElementById('database').value = 'system';
                    document.getElementById('user').value = '';
                    document.getElementById('password').value = '';
                    
                    document.getElementById('btnDelete').style.display = 'none';
                    renderList();
                }

                function save() {
                    const name = document.getElementById('name').value;
                    if (!name) {
                        return; // Add validation UI?
                    }
                    
                    const data = {
                        name: name,
                        dbType: document.getElementById('dbType').value,
                        host: document.getElementById('host').value,
                        port: parseInt(document.getElementById('port').value),
                        database: document.getElementById('database').value,
                        user: document.getElementById('user').value,
                        password: document.getElementById('password').value
                    };
                    
                    vscode.postMessage({
                        command: 'save',
                        data: data
                    });
                }

                function del() {
                    if (currentEditName) {
                        vscode.postMessage({
                            command: 'delete',
                            name: currentEditName
                        });
                    }
                }
            </script>
        </body>
        </html>`}};Ol();var St=Ye(require("vscode"));var Ir=Ye(require("vscode")),Ef=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(i=>{switch(i.command){case"alert":Ir.window.showErrorMessage(i.text);return;case"info":Ir.window.showInformationMessage(i.text);return}},null,this._disposables)}static{this.viewType="netezza.analysisPanel"}static createOrShow(e,r){let n=Ir.window.activeTextEditor?Ir.ViewColumn.Beside:void 0,i=Ir.window.createWebviewPanel(t.viewType,"Data Analysis",n||Ir.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Ir.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(i,e,r)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){let r=this._panel.webview;this._panel.title="Data Analysis",this._panel.webview.html=this._getHtmlForWebview(r,e)}_getHtmlForWebview(e,r){let n=Ir.Uri.joinPath(this._extensionUri,"media","analysisPanel.js"),i=e.asWebviewUri(n),s=Ir.Uri.joinPath(this._extensionUri,"media","analysisPanel.css"),o=e.asWebviewUri(s),a=e.asWebviewUri(Ir.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),l=e.asWebviewUri(Ir.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),c=ej();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}'; font-src ${e.cspSource};">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${o}" rel="stylesheet">

            <title>Data Analysis</title>
        </head>
        <body>
            <div id="app">
                <div class="sidebar">
                    <div class="section">
                        <h3>Fields</h3>
                        <div id="fieldList" class="field-list"></div>
                    </div>
                </div>
                <div class="main-content">
                    <div class="filter-section" style="margin-bottom: 15px; display: flex; gap: 10px; align-items: center;">
                        <label for="dataFilter" style="font-weight: bold;">Filter:</label>
                        <input type="text" id="dataFilter" placeholder="Type to filter data..." style="flex: 1; padding: 6px 10px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); border-radius: 4px;">
                        <button id="applyFilter" style="padding: 6px 12px; cursor: pointer;">Apply</button>
                        <button id="clearFilter" style="padding: 6px 12px; cursor: pointer;">Clear</button>
                    </div>
                    <div class="config-zones">
                        <div class="zone-container">
                            <h4>Rows</h4>
                            <div id="rowsZone" class="drop-zone" data-zone="rows"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Columns</h4>
                            <div id="colsZone" class="drop-zone" data-zone="cols"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Values</h4>
                            <div id="valuesZone" class="drop-zone" data-zone="values"></div>
                        </div>
                    </div>
                    <div class="pivot-grid-container">
                        <div id="pivotGrid"></div>
                    </div>
                    <div class="chart-container" style="margin-top: 20px;">
                        <div class="chart-header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <h4 style="margin: 0;">Chart</h4>
                            <select id="chartType" style="padding: 4px;">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                            </select>
                        </div>
                        <canvas id="pivotChart" width="600" height="300" style="background: var(--vscode-editor-background); border: 1px solid var(--vscode-panel-border); border-radius: 4px;"></canvas>
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${a}"></script>
            <script nonce="${c}" src="${l}"></script>
            <script nonce="${c}">
                // Pass initial data to the script
                window.initialData = ${JSON.stringify(r)};
                window.TableCore = TableCore;
                window.VirtualCore = VirtualCore;
            </script>
            <script nonce="${c}" src="${i}"></script>
        </body>
        </html>`}};function ej(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Ll=class{constructor(e){this._resultsMap=new Map;this._pinnedSources=new Set;this._pinnedResults=new Map;this._resultIdCounter=0;this._extensionUri=e}static{this.viewType="netezza.results"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[St.Uri.joinPath(this._extensionUri,"media")]},e.webview.html=this._getHtmlForWebview(),e.webview.onDidReceiveMessage(i=>{switch(i.command){case"analyze":Ef.createOrShow(this._extensionUri,i.data);return;case"exportCsv":this.exportCsv(i.data);return;case"openInExcel":this.openInExcel(i.data,i.sql);return;case"copyAsExcel":this.copyAsExcel(i.data,i.sql);return;case"switchSource":this._activeSourceUri=i.sourceUri,this._updateWebview();return;case"togglePin":this._pinnedSources.has(i.sourceUri)?this._pinnedSources.delete(i.sourceUri):this._pinnedSources.add(i.sourceUri),this._updateWebview();return;case"toggleResultPin":this._toggleResultPin(i.sourceUri,i.resultSetIndex);return;case"switchToPinnedResult":this._switchToPinnedResult(i.resultId);return;case"unpinResult":this._pinnedResults.delete(i.resultId),this._updateWebview();return;case"closeSource":this.closeSource(i.sourceUri);return;case"copyToClipboard":St.env.clipboard.writeText(i.text),St.window.showInformationMessage("Copied to clipboard");return;case"info":St.window.showInformationMessage(i.text);return;case"error":St.window.showErrorMessage(i.text);return}})}setActiveSource(e){this._resultsMap.has(e)&&this._activeSourceUri!==e&&(this._activeSourceUri=e,this._updateWebview())}updateResults(e,r,n=!1){this._resultsMap.has(r)||this._pinnedSources.add(r);let i=[];Array.isArray(e)?i=e:i=[e];let s=this._resultsMap.get(r)||[],o=Array.from(this._pinnedResults.entries()).filter(([u,d])=>d.sourceUri===r).sort((u,d)=>u[1].resultSetIndex-d[1].resultSetIndex),a=[],l=[];o.forEach(([u,d])=>{d.resultSetIndex<s.length&&(a.push(s[d.resultSetIndex]),l.push([u,d]))});let c=Date.now();i.forEach(u=>{u.executionTimestamp=c}),a.push(...i),l.forEach(([u,d],h)=>{let f=this._pinnedResults.get(u);f&&(f.resultSetIndex=h)}),n||Array.from(this._resultsMap.keys()).filter(d=>d!==r&&!this._pinnedSources.has(d)).forEach(d=>{this._resultsMap.delete(d),Array.from(this._pinnedResults.entries()).filter(([f,g])=>g.sourceUri===d).map(([f,g])=>f).forEach(f=>this._pinnedResults.delete(f))}),this._resultsMap.set(r,a),this._activeSourceUri=r,this._view?(this._updateWebview(),this._view.show?.(!0)):St.window.showInformationMessage('Query completed. Please open "Query Results" panel to view data.')}_updateWebview(){this._view&&(this._view.webview.html=this._getHtmlForWebview())}_toggleResultPin(e,r){let n=Array.from(this._pinnedResults.entries()).find(([i,s])=>s.sourceUri===e&&s.resultSetIndex===r);if(n)this._pinnedResults.delete(n[0]);else{let i=`result_${++this._resultIdCounter}`,s=Date.now(),a=`${e.split(/[\\/]/).pop()||e} - Result ${r+1}`;this._pinnedResults.set(i,{sourceUri:e,resultSetIndex:r,timestamp:s,label:a})}this._updateWebview()}_switchToPinnedResult(e){let r=this._pinnedResults.get(e);r&&(this._activeSourceUri=r.sourceUri,this._updateWebview(),this._view&&this._view.webview.postMessage({command:"switchToResultSet",resultSetIndex:r.resultSetIndex}))}async exportCsv(e){let r=await St.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export"});r&&(await St.workspace.fs.writeFile(r,Buffer.from(e)),St.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async openInExcel(e,r){St.commands.executeCommand("netezza.exportCurrentResultToXlsbAndOpen",e,r)}async copyAsExcel(e,r){St.commands.executeCommand("netezza.copyCurrentResultToXlsbClipboard",e,r)}closeSource(e){if(this._resultsMap.has(e)){if(this._resultsMap.delete(e),this._pinnedSources.delete(e),Array.from(this._pinnedResults.entries()).filter(([n,i])=>i.sourceUri===e).map(([n,i])=>n).forEach(n=>this._pinnedResults.delete(n)),this._activeSourceUri===e){let n=Array.from(this._resultsMap.keys());this._activeSourceUri=n.length>0?n[0]:void 0}this._updateWebview()}}_getHtmlForWebview(){if(!this._view)return"";let{scriptUri:e,virtualUri:r,mainScriptUri:n,styleUri:i,workerUri:s}=this._getScriptUris(),o=this._prepareViewData();return this._buildHtmlDocument(e,r,n,i,o,s)}_getScriptUris(){return{scriptUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),virtualUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),mainScriptUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","resultPanel.js")),workerUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","searchWorker.js")),styleUri:this._view.webview.asWebviewUri(St.Uri.joinPath(this._extensionUri,"media","resultPanel.css"))}}_prepareViewData(){let e=Array.from(this._resultsMap.keys()),r=Array.from(this._pinnedSources),n=Array.from(this._pinnedResults.entries()).map(([a,l])=>({id:a,...l})),i=this._activeSourceUri&&this._resultsMap.has(this._activeSourceUri)?this._activeSourceUri:e.length>0?e[0]:null,s=i?this._resultsMap.get(i):[],o=(a,l)=>typeof l=="bigint"?l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l):l.toString():l;return{sourcesJson:JSON.stringify(e),pinnedSourcesJson:JSON.stringify(r),pinnedResultsJson:JSON.stringify(n),activeSourceJson:JSON.stringify(i),resultSetsJson:JSON.stringify(s,o)}}_buildHtmlDocument(e,r,n,i,s,o){let a=this._view.webview.cspSource,l={eye:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 3c-3 0-6 2.5-6 5s3 5 6 5 6-2.5 6-5-3-5-6-5zm0 9c-2.5 0-4.5-2-4.5-4S5.5 4 8 4s4.5 2 4.5 4-2 4.5-4.5 4.5z"/><circle cx="8" cy="8" r="2"/></svg>',excel:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/></svg>',copy:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4 4h7v2H4V4zm0 4h7v2H4V8zm0 4h7v2H4v-2zM2 1h12v14H2V1zm1 1v12h10V2H3z"/></svg>',csv:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13 2H6L2 6v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-1 11H4V7h3V4h5v9z"/></svg>',checkAll:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13.485 1.929l1.414 1.414-9.9 9.9-4.243-4.242 1.415-1.415 2.828 2.829z"/></svg>',clear:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 7.293l4.146-4.147.708.708L8.707 8l4.147 4.146-.708.708L8 8.707l-4.146 4.147-.708-.708L7.293 8 3.146 3.854l.708-.708L8 7.293z"/></svg>'};return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src ${a} 'unsafe-inline'; worker-src ${a} blob:; connect-src ${a}; style-src ${a} 'unsafe-inline';">
            <title>Query Results</title>
            <script src="${e}"></script>
            <script src="${r}"></script>
            <link rel="stylesheet" href="${i}">
        </head>
        <body>
            <div id="sourceTabs" class="source-tabs"></div>
            <div id="resultSetTabs" class="result-set-tabs" style="display: none;"></div>
            
            <div class="controls">
                <input type="text" id="globalFilter" placeholder="Filter..." onkeyup="onFilterChanged()" style="background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); padding: 4px;">
                <button onclick="toggleRowView()" title="Toggle Row View">${l.eye} Row View</button>
                <button onclick="openInExcel()" title="Open results in Excel">${l.excel} Excel</button>
                <button onclick="copyAsExcel()" title="Copy results as Excel to clipboard">${l.excel} Excel Copy</button>
                <button onclick="exportToCsv()" title="Export results to CSV">${l.csv} CSV</button>
                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 4px;"></div>
                <button onclick="selectAll()" title="Select all rows">${l.checkAll} Select All</button>
                <button onclick="copySelection(false)" title="Copy selected cells to clipboard">${l.copy} Copy</button>
                <button onclick="copySelection(true)" title="Copy selected cells with headers">${l.copy} Copy w/ Headers</button>
                <button onclick="clearAllFilters()" title="Clear all column filters">${l.clear} Clear Filters</button>
                <span id="rowCountInfo" style="margin-left: auto; font-size: 12px; opacity: 0.8;"></span>
            </div>

            <div id="groupingPanel" class="grouping-panel" ondragover="onDragOverGroup(event)" ondragleave="onDragLeaveGroup(event)" ondrop="onDropGroup(event)">
                <span style="opacity: 0.5;">Drag headers here to group</span>
            </div>

            <div id="mainSplitView" class="main-split-view">
                <div id="gridContainer"></div>
                <div id="rowViewPanel" class="row-view-panel">
                    <div class="row-view-header">
                        <span>Row Details & Comparison</span>
                        <span class="row-view-close" onclick="toggleRowView()">\xD7</span>
                    </div>
                    <div id="rowViewContent" class="row-view-content">
                        <div class="row-view-placeholder">Select 1 or 2 rows to view details or compare</div>
                    </div>
                </div>
            </div>
            
            <script>
                const vscode = acquireVsCodeApi();
                window.sources = ${s.sourcesJson};
                window.pinnedSources = new Set(${s.pinnedSourcesJson});
                window.pinnedResults = ${s.pinnedResultsJson};
                window.activeSource = ${s.activeSourceJson};
                window.resultSets = ${s.resultSetsJson};
                
                let grids = [];
                let activeGridIndex = window.resultSets && window.resultSets.length > 0 ? window.resultSets.length - 1 : 0;
                const workerUri = "${o}";
            </script>
            <script src="${n}"></script>
            <script>
                // Initialize on load
                init();
            </script>
        </body>
        </html>`}};var Me=Ye(require("vscode"));xs();var Sf=class{constructor(e,r,n){this.context=e;this.metadataCache=r;this.connectionManager=n}async provideCompletionItems(e,r,n,i){let s=e.getText(),o=this.stripComments(s),a=this.parseLocalDefinitions(o),l=e.lineAt(r).text.substr(0,r.character),c=l.toUpperCase(),u=r.line>0?e.lineAt(r.line-1).text:"",d=u.toUpperCase(),h=this.connectionManager.getConnectionForExecution(e.uri.toString());if(h||(h=this.connectionManager.getActiveConnectionName()||void 0),h&&!this.metadataCache.hasConnectionPrefetchTriggered(h)&&this.metadataCache.triggerConnectionPrefetch(h,b=>be(this.context,b,!0,h,this.connectionManager)),/(FROM|JOIN)\s+$/.test(c)){let b=await this.getDatabases(h);return[...a.map(I=>{let O=new Me.CompletionItem(I.name,Me.CompletionItemKind.Class);return O.detail=I.type,O}),...b]}if(/(?:FROM|JOIN)\s*$/i.test(u)&&/^\s*[a-zA-Z0-9_]*$/.test(l)){let b=await this.getDatabases(h);return[...a.map(I=>{let O=new Me.CompletionItem(I.name,Me.CompletionItemKind.Class);return O.detail=I.type,O}),...b]}let f=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\s*$/i);if(f){let b=f[1],w=await this.getSchemas(h,b);return new Me.CompletionList(w,!1)}let g=l.match(/^\s*([a-zA-Z0-9_]+)\.\s*$/i);if(g&&/(?:FROM|JOIN)\s*$/i.test(u)){let b=g[1],w=await this.getSchemas(h,b);return new Me.CompletionList(w,!1)}let p=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.$/i);if(p){let b=p[1],w=p[2];return this.getTables(h,b,w)}let m=l.match(/^\s*([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.\s*$/i);if(m&&/(?:FROM|JOIN)\s*$/i.test(u)){let b=m[1],w=m[2];return this.getTables(h,b,w)}let y=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\.$/i);if(y){let b=y[1];return this.getTables(h,b,void 0)}let S=l.match(/^\s*([a-zA-Z0-9_]+)\.\.\s*$/i);if(S&&/(?:FROM|JOIN)\s*$/i.test(u)){let b=S[1];return this.getTables(h,b,void 0)}if(l.trim().endsWith(".")){let b=l.trim().split(/[\s.]+/),w=l.match(/([a-zA-Z0-9_]+)\.$/);if(w){let I=w[1],O=this.findAlias(o,I);if(O){let B=a.find(N=>N.name.toUpperCase()===O.table.toUpperCase());return B?B.columns.map(N=>{let L=new Me.CompletionItem(N,Me.CompletionItemKind.Field);return L.detail="Local Column",L}):this.getColumns(h,O.db,O.schema,O.table)}let C=a.find(B=>B.name.toUpperCase()===I.toUpperCase());if(C)return C.columns.map(B=>{let N=new Me.CompletionItem(B,Me.CompletionItemKind.Field);return N.detail="Local Column",N})}}return this.getKeywords()}stripComments(e){let r=e.replace(/--.*$/gm,"");return r=r.replace(/\/\*[\s\S]*?\*\//g,""),r}parseLocalDefinitions(e){let r=[],n=/CREATE\s+TABLE\s+([a-zA-Z0-9_]+)\s+AS\s*\(/gi,i;for(;(i=n.exec(e))!==null;){let a=i[1],l=i.index+i[0].length,c=this.extractBalancedParenthesisContent(e,l);if(c){let u=this.extractColumnsFromQuery(c);r.push({name:a,type:"Temp Table",columns:u})}}let s=/\bWITH\s+/gi;for(;(i=s.exec(e))!==null;){let a=i.index+i[0].length;for(;;){let l=/^\s*([a-zA-Z0-9_]+)\s+AS\s*\(/i,c=e.substring(a),u=c.match(l);if(!u)break;let d=u[1],h=a+u[0].length,f=c.indexOf("(",u.index+u[1].length),g=a+f,p=this.extractBalancedParenthesisContent(e,g+1);if(p){let m=this.extractColumnsFromQuery(p);r.push({name:d,type:"CTE",columns:m}),a=g+1+p.length+1;let y=/^\s*,/,S=e.substring(a);if(y.test(S)){let b=S.match(y);a+=b[0].length}else break}else break}}let o=/\bJOIN\s+\(/gi;for(;(i=o.exec(e))!==null;){let a=i.index+i[0].length,l=this.extractBalancedParenthesisContent(e,a);if(l&&/^\s*SELECT\b/i.test(l)){let c=a+l.length+1,d=e.substring(c).match(/^\s+(?:AS\s+)?([a-zA-Z0-9_]+)/i);if(d){let h=d[1],f=this.extractColumnsFromQuery(l);r.push({name:h,type:"Subquery",columns:f})}}}return r}extractBalancedParenthesisContent(e,r){let n=1,i=r;for(;i<e.length;i++)if(e[i]==="("?n++:e[i]===")"&&n--,n===0)return e.substring(r,i);return null}extractColumnsFromQuery(e){let r=e.match(/^\s*SELECT\s+/i);if(!r)return[];let n="",i=0,s=-1,o=r[0].length;for(let c=o;c<e.length;c++)if(e[c]==="("?i++:e[c]===")"&&i--,i===0&&e.substr(c).match(/^\s+FROM\b/i)){s=c;break}s!==-1?n=e.substring(o,s):n=e.substring(o);let a=[],l="";i=0;for(let c=0;c<n.length;c++){let u=n[c];u==="("?i++:u===")"&&i--,u===","&&i===0?(a.push(l.trim()),l=""):l+=u}return l.trim()&&a.push(l.trim()),a.map(c=>{let u=c.match(/\s+AS\s+([a-zA-Z0-9_]+)$/i);if(u)return u[1];let d=c.match(/\s+([a-zA-Z0-9_]+)$/i);if(d)return d[1];let h=c.split(".");return h[h.length-1]})}getKeywords(){return["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","DROP","TABLE","VIEW","DATABASE","JOIN","INNER","LEFT","RIGHT","OUTER","ON","AND","OR","NOT","NULL","IS","IN","BETWEEN","LIKE","AS","DISTINCT","CASE","WHEN","THEN","ELSE","END","WITH","UNION","ALL"].map(r=>{let n=new Me.CompletionItem(r,Me.CompletionItemKind.Keyword);return n.detail="SQL Keyword",n})}async getDatabases(e){if(!e)return[];let r=this.metadataCache.getDatabases(e);if(r)return r.map(n=>{if(n instanceof Me.CompletionItem)return n;let i=new Me.CompletionItem(n.label,n.kind);return i.detail=n.detail,i});try{let i=await be(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e,this.connectionManager);if(!i)return[];let o=JSON.parse(i).map(a=>{let l=new Me.CompletionItem(a.DATABASE,Me.CompletionItemKind.Module);return l.detail="Database",l});return this.metadataCache.setDatabases(e,o),o}catch(n){return console.error(n),[]}}async getSchemas(e,r){if(!e)return[];let n=this.metadataCache.getSchemas(e,r);if(n)return n.map(s=>{if(s instanceof Me.CompletionItem)return s;let o=new Me.CompletionItem(s.label,s.kind);return o.detail=s.detail,o.insertText=s.insertText,o.sortText=s.sortText,o.filterText=s.filterText,o});let i=Me.window.setStatusBarMessage(`Fetching schemas for ${r}...`);try{let s=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,o=await be(this.context,s,!0,e,this.connectionManager);if(!o)return[];let l=JSON.parse(o).filter(c=>c.SCHEMA!=null&&c.SCHEMA!=="").map(c=>{let u=c.SCHEMA,d=new Me.CompletionItem(u,Me.CompletionItemKind.Folder);return d.detail=`Schema in ${r}`,d.insertText=u,d.sortText=u,d.filterText=u,d});return this.metadataCache.setSchemas(e,r,l),l}catch(s){return console.error("[SqlCompletion] Error in getSchemas:",s),[]}finally{i.dispose()}}async getTables(e,r,n){if(!e)return[];let i=n?`${r}.${n}`:`${r}..`,s=n?this.metadataCache.getTables(e,i):this.metadataCache.getTables(e,i)||this.metadataCache.getTablesAllSchemas(e,r);if(s)return s.map(l=>{if(l instanceof Me.CompletionItem)return l;let c=new Me.CompletionItem(l.label,l.kind);return c.detail=l.detail,c.sortText=l.sortText,c});let o=n?`Fetching tables for ${r}.${n}...`:`Fetching tables for ${r}...`,a=Me.window.setStatusBarMessage(o);try{let l="";n?l=`SELECT OBJNAME, OBJID FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND UPPER(SCHEMA) = UPPER('${n}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`:l=`SELECT OBJNAME, OBJID, SCHEMA FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`;let c=await be(this.context,l,!0,e,this.connectionManager);if(!c)return[];let u=JSON.parse(c),d=new Map,h=u.map(f=>{let g=new Me.CompletionItem(f.OBJNAME,Me.CompletionItemKind.Class);return g.detail=n?"Table":`Table (${f.SCHEMA})`,g.sortText=f.OBJNAME,n?d.set(`${r}.${n}.${f.OBJNAME}`,f.OBJID):f.SCHEMA&&d.set(`${r}.${f.SCHEMA}.${f.OBJNAME}`,f.OBJID),g});return this.metadataCache.setTables(e,i,h,d),h}catch(l){return console.error(l),[]}finally{a.dispose()}}async getColumns(e,r,n,i){if(!e)return[];let s,o=r?`${r}..`:"",a=n&&r?`${r}.${n}.${i}`:r?`${r}..${i}`:void 0;a&&(s=this.metadataCache.findTableId(e,a));let l=`${r||"CURRENT"}.${n||""}.${i}`,c=this.metadataCache.getColumns(e,l);if(c)return c.map(d=>{if(d instanceof Me.CompletionItem)return d;let h=new Me.CompletionItem(d.label,d.kind);return h.detail=d.detail,h});let u=Me.window.setStatusBarMessage(`Fetching columns for ${i}...`);try{let d="";if(s)d=`SELECT ATTNAME, FORMAT_TYPE FROM ${o}_V_RELATION_COLUMN WHERE OBJID = ${s} ORDER BY ATTNUM`;else{let p=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",m=r?`AND UPPER(O.DBNAME) = UPPER('${r}')`:"";d=`
                    SELECT C.ATTNAME, C.FORMAT_TYPE 
                    FROM ${o}_V_RELATION_COLUMN C
                    JOIN ${o}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) = UPPER('${i}') ${p} ${m}
                    ORDER BY C.ATTNUM
                `}let h=await be(this.context,d,!0,e,this.connectionManager);if(!h)return[];let g=JSON.parse(h).map(p=>{let m=new Me.CompletionItem(p.ATTNAME,Me.CompletionItemKind.Field);return m.detail=p.FORMAT_TYPE,m});if(this.metadataCache.setColumns(e,l,g),r){let p=this.context,m=this.metadataCache;setTimeout(async()=>{try{await m.prefetchColumnsForSchema(e,r,n,y=>be(p,y,!0,e,this.connectionManager))}catch(y){console.error("[SqlCompletion] Background column prefetch error:",y)}},100)}return g}catch(d){return console.error(d),[]}finally{u.dispose()}}findAlias(e,r){let n=new RegExp(`([a-zA-Z0-9_\\.]+) (?:AS\\s+)?${r}\\b`,"gi"),i=new Set(["SELECT","WHERE","GROUP","ORDER","HAVING","LIMIT","ON","AND","OR","NOT","CASE","WHEN","THEN","ELSE","END","JOIN","LEFT","RIGHT","INNER","OUTER","CROSS","FULL","UNION","EXCEPT","INTERSECT","FROM","UPDATE","DELETE","INSERT","INTO","VALUES","SET"]),s;for(;(s=n.exec(e))!==null;){let o=s[1];if(i.has(o.toUpperCase()))continue;let a=o.split(".");return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{table:a[1],schema:a[0]}:{table:a[0]}}return null}};var Ml=Ye(require("vscode"));xs();var Pl=class{constructor(e,r,n,i){this._extensionUri=e;this.context=r;this.metadataCache=n;this.connectionManager=i;this.currentSearchId=0}static{this.viewType="netezza.search"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"search":await this.search(i.value);break;case"navigate":Ml.commands.executeCommand("netezza.revealInSchema",i);break}})}async search(e){if(!e||e.length<2)return;let r,n=Ml.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=Ml.window.setStatusBarMessage(`$(loading~spin) Searching for "${e}"...`),o=new Set;if(this._view){let u=this.metadataCache.search(e,r);if(u.length>0){let d=[];u.forEach(h=>{let f=`${h.name.toUpperCase().trim()}|${h.type.toUpperCase().trim()}|${(h.parent||"").toUpperCase().trim()}`;o.has(f)||(o.add(f),d.push({NAME:h.name,SCHEMA:h.schema,DATABASE:h.database,TYPE:h.type,PARENT:h.parent||"",DESCRIPTION:"Result from Cache",MATCH_TYPE:"NAME",connectionName:r}))}),d.sort((h,f)=>{let g=p=>p==="COLUMN"?2:1;return g(f.TYPE)-g(h.TYPE)?g(h.TYPE)-g(f.TYPE):h.NAME.localeCompare(f.NAME)}),d.length>0&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:d,append:!1})}else i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});this.metadataCache.hasAllObjectsPrefetchTriggered(r)||this.metadataCache.prefetchAllObjects(r,async d=>be(this.context,d,!0,r,this.connectionManager))}let l=`%${e.replace(/'/g,"''").toUpperCase()}%`,c=`
            SELECT * FROM (
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(OBJNAME) LIKE '${l}'
                UNION ALL
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'DESC' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(DESCRIPTION) LIKE '${l}' AND UPPER(OBJNAME) NOT LIKE '${l}'
                UNION ALL
                SELECT 2 AS PRIORITY, C.ATTNAME AS NAME, O.SCHEMA, O.DBNAME AS DATABASE, 'COLUMN' AS TYPE, O.OBJNAME AS PARENT,
                       COALESCE(C.DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_RELATION_COLUMN C
                JOIN _V_OBJECT_DATA O ON C.OBJID = O.OBJID
                WHERE UPPER(C.ATTNAME) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, V.VIEWNAME AS NAME, V.SCHEMA, V.DATABASE, 'VIEW' AS TYPE, '' AS PARENT, 
                       'Found in view definition' AS DESCRIPTION, 'DEFINITION' AS MATCH_TYPE
                FROM _V_VIEW V
                WHERE UPPER(V.DEFINITION) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, P.PROCEDURE AS NAME, P.SCHEMA, P.DATABASE, 'PROCEDURE' AS TYPE, '' AS PARENT, 
                       'Found in procedure source' AS DESCRIPTION, 'SOURCE' AS MATCH_TYPE
                FROM _V_PROCEDURE P
                WHERE UPPER(P.PROCEDURESOURCE) LIKE '${l}'
                UNION ALL
                SELECT 3 AS PRIORITY, E1.TABLENAME AS NAME, E1.SCHEMA, E1.DATABASE, 'EXTERNAL TABLE' AS TYPE, '' AS PARENT,
                       COALESCE(E2.EXTOBJNAME, '') AS DESCRIPTION, 'DATAOBJECT' AS MATCH_TYPE
                FROM _V_EXTERNAL E1
                JOIN _V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE AND E1.SCHEMA = E2.SCHEMA AND E1.TABLENAME = E2.TABLENAME
                WHERE UPPER(E2.EXTOBJNAME) LIKE '${l}'
            ) AS R
            ORDER BY PRIORITY, NAME
            LIMIT 100
        `;try{let u=await be(this.context,c,!0,r,this.connectionManager);if(i!==this.currentSearchId){s.dispose();return}if(u){let d=[];u==="Query executed successfully (no results)."||u.startsWith("Query executed successfully")?d=[]:d=JSON.parse(u);let h=[];d.forEach(f=>{let g=`${f.NAME.toUpperCase().trim()}|${f.TYPE.toUpperCase().trim()}|${(f.PARENT||"").toUpperCase().trim()}`;o.has(g)||(h.push({NAME:f.NAME,SCHEMA:f.SCHEMA,DATABASE:f.DATABASE,TYPE:f.TYPE,PARENT:f.PARENT,DESCRIPTION:f.DESCRIPTION,MATCH_TYPE:f.MATCH_TYPE,connectionName:r}),o.add(g))}),h.length>0&&this._view&&this._view.webview.postMessage({type:"results",data:h,append:!0})}}catch(u){console.error("Search error:",u),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:u.message})}finally{s.dispose()}}_getHtmlForWebview(e){return`<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Schema Search</title>
        <style>
            body { 
                font-family: var(--vscode-font-family); 
                padding: 0; 
                margin: 0;
                color: var(--vscode-foreground); 
                display: flex;
                flex-direction: column;
                height: 100vh;
                overflow: hidden;
            }
            .search-box { 
                display: flex; 
                gap: 5px; 
                padding: 10px;
                flex-shrink: 0;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            input { flex-grow: 1; padding: 5px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); }
            button {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: 6px;
                background-color: var(--vscode-button-secondaryBackground);
                color: var(--vscode-button-secondaryForeground);
                border: 1px solid var(--vscode-contrastBorder, transparent);
                padding: 4px 10px;
                cursor: pointer;
                border-radius: 2px;
                font-family: var(--vscode-font-family);
                font-size: 12px;
                line-height: 18px;
            }
            button:hover { background-color: var(--vscode-button-secondaryHoverBackground); }
            button.primary { background-color: var(--vscode-button-background); color: var(--vscode-button-foreground); }
            button.primary:hover { background-color: var(--vscode-button-hoverBackground); }
            #status { padding: 5px 10px; flex-shrink: 0; }
            .results { 
                list-style: none; 
                padding: 0; 
                margin: 0; 
                flex-grow: 1; 
                overflow-y: auto; 
            }
            .result-item { padding: 8px 10px; border-bottom: 1px solid var(--vscode-panel-border); display: flex; flex-direction: column; cursor: pointer; position: relative; }
            .result-item:hover { background: var(--vscode-list-hoverBackground); }
            .item-header { display: flex; justify-content: space-between; font-weight: bold; }
            .item-details { font-size: 0.9em; opacity: 0.8; display: flex; gap: 10px; }
            .type-badge { font-size: 0.8em; background: var(--vscode-badge-background); color: var(--vscode-badge-foreground); padding: 2px 5px; border-radius: 3px; }
            .tooltip { position: absolute; background: var(--vscode-editorHoverWidget-background); color: var(--vscode-editorHoverWidget-foreground); border: 1px solid var(--vscode-editorHoverWidget-border); padding: 8px; border-radius: 4px; font-size: 0.9em; max-width: 300px; word-wrap: break-word; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.2s, visibility 0.2s; pointer-events: none; }
            .result-item:hover .tooltip { opacity: 1; visibility: visible; }
            .tooltip.top { bottom: 100%; left: 0; margin-bottom: 5px; }
            .tooltip.bottom { top: 100%; left: 0; margin-top: 5px; }
            .cache-badge { background-color: var(--vscode-charts-green); color: white; padding: 1px 4px; border-radius: 2px; font-size: 0.7em; margin-left: 5px; }
            .spinner {
                border: 2px solid transparent;
                border-top: 2px solid var(--vscode-progressBar-background);
                border-radius: 50%;
                width: 14px;
                height: 14px;
                animation: spin 1s linear infinite;
                display: inline-block;
                vertical-align: middle;
                margin-right: 8px;
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        </style>
    </head>
    <body>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search tables, columns, view definitions, procedure source..." />
            <button id="searchBtn" class="primary">Search</button>
        </div>
        <div id="status"></div>
        <ul class="results" id="resultsList"></ul>

        <script>
            try {
            const vscode = acquireVsCodeApi();
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const resultsList = document.getElementById('resultsList');
            const status = document.getElementById('status');

            searchBtn.addEventListener('click', () => {
                const term = searchInput.value;
                if (term) {
                    status.innerHTML = '<span class="spinner"></span> Searching...';
                    vscode.postMessage({ type: 'search', value: term });
                }
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchBtn.click();
                }
            });

            window.addEventListener('message', event => {
                const message = event.data;
                switch (message.type) {
                    case 'results':
                        status.textContent = '';
                        renderResults(message.data, message.append);
                        break;
                    case 'error':
                        status.textContent = 'Error: ' + message.message;
                        break;
                }
            });

            function renderResults(data, append) {
                if (!append) {
                    resultsList.innerHTML = '';
                }

                if (!data || data.length === 0) {
                    if (!append && resultsList.children.length === 0) {
                        status.textContent = 'No results found.';
                    }
                    return;
                }

                data.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'result-item';

                    const parentInfo = item.PARENT ? \`Parent: \${item.PARENT}\` : '';
                    const schemaInfo = item.SCHEMA ? \`Schema: \${item.SCHEMA}\` : '';
                    const databaseInfo = item.DATABASE ? \`Database: \${item.DATABASE}\` : '';
                    const description = item.DESCRIPTION && item.DESCRIPTION.trim() ? item.DESCRIPTION : '';
                    
                    // Add match type indicator
                    const matchTypeInfo = item.MATCH_TYPE === 'DEFINITION' ? 'Match in view definition' :
                                        item.MATCH_TYPE === 'SOURCE' ? 'Match in procedure source' :
                                        item.MATCH_TYPE === 'NAME' ? 'Match in name' : '';
                    
                    li.innerHTML = \`
                        <div class="item-header">
                            <span>\${item.NAME}</span>
                            <span class="type-badge">\${item.TYPE}</span>
                        </div>
                        <div class="item-details">
                            <span>\${databaseInfo}</span>
                            <span>\${schemaInfo}</span>
                            <span>\${parentInfo}</span>
                            \${matchTypeInfo ? \`<span style="font-style: italic; color: var(--vscode-descriptionForeground);">\${matchTypeInfo}</span>\` : ''}
                        </div>
                        \${description ? \`<div class="tooltip bottom">\${description}</div>\` : ''}
                    \`;
                    
                    // Add double-click handler to navigate to schema tree
                    li.addEventListener('dblclick', () => {
                        vscode.postMessage({ 
                            type: 'navigate', 
                            name: item.NAME,
                            schema: item.SCHEMA,
                            database: item.DATABASE,
                            objType: item.TYPE,
                            parent: item.PARENT,
                            connectionName: item.connectionName // Pass back connection name
                        });
                    });
                    
                    resultsList.appendChild(li);
                });
            }
            } catch (e) {
                document.body.innerHTML = '<pre style="color:red;">Error loading Schema Search: ' + e.message + '\\n' + e.stack + '</pre>';
            }
        </script>
    </body>
    </html>`}};var Zn=class{static splitStatements(e){let r=[],n="",i=!1,s=!1,o=!1,a=!1,l=0;for(;l<e.length;){let c=e[l],u=l+1<e.length?e[l+1]:"";if(o)c===`
`&&(o=!1);else if(a){if(c==="*"&&u==="/"){a=!1,n+=c+u,l++,l++;continue}}else if(i)c==="'"&&e[l-1]!=="\\"&&(i=!1);else if(s)c==='"'&&e[l-1]!=="\\"&&(s=!1);else if(c==="-"&&u==="-")o=!0;else if(c==="/"&&u==="*")a=!0;else if(c==="'")i=!0;else if(c==='"')s=!0;else if(c===";"){n.trim()&&r.push(n.trim()),n="",l++;continue}n+=c,l++}return n.trim()&&r.push(n.trim()),r}static getStatementAtPosition(e,r){let n=0,i=e.length,s=!1,o=!1,a=!1,l=!1,c=-1;for(let d=0;d<r;d++){let h=e[d],f=d+1<e.length?e[d+1]:"";a?h===`
`&&(a=!1):l?h==="*"&&f==="/"&&(l=!1,d++):s?h==="'"&&e[d-1]!=="\\"&&(s=!1):o?h==='"'&&e[d-1]!=="\\"&&(o=!1):h==="-"&&f==="-"?a=!0:h==="/"&&f==="*"?l=!0:h==="'"?s=!0:h==='"'?o=!0:h===";"&&(c=d)}n=c+1,s=!1,o=!1,a=!1,l=!1;for(let d=n;d<e.length;d++){let h=e[d],f=d+1<e.length?e[d+1]:"";if(a)h===`
`&&(a=!1);else if(l)h==="*"&&f==="/"&&(l=!1,d++);else if(s)h==="'"&&e[d-1]!=="\\"&&(s=!1);else if(o)h==='"'&&e[d-1]!=="\\"&&(o=!1);else if(h==="-"&&f==="-")a=!0;else if(h==="/"&&f==="*")l=!0;else if(h==="'")s=!0;else if(h==='"')o=!0;else if(h===";"){i=d;break}}let u=e.substring(n,i).trim();return u?{sql:u,start:n,end:i}:null}static getObjectAtPosition(e,r){let n=c=>/[a-zA-Z0-9_."]/i.test(c),i=r;for(;i>0&&n(e[i-1]);)i--;let s=r;for(;s<e.length&&n(e[s]);)s++;let o=e.substring(i,s);if(!o)return null;let a=c=>c?c.replace(/"/g,""):void 0;if(o.includes("..")){let c=o.split("..");if(c.length===2)return{database:a(c[0]),name:a(c[1])}}let l=o.split(".");return l.length===1?{name:a(l[0])}:l.length===2?{schema:a(l[0]),name:a(l[1])}:l.length===3?{database:a(l[0]),schema:a(l[1]),name:a(l[2])}:null}};var qo=Ye(require("vscode"));var xf=class{provideDocumentLinks(e,r){let n=[],i=e.getText(),s=/[a-zA-Z0-9_"]+(\.[a-zA-Z0-9_"]*)+/g,o;for(;(o=s.exec(i))!==null;){let a=e.positionAt(o.index),l=e.positionAt(o.index+o[0].length),c=new qo.Range(a,l),u=Zn.getObjectAtPosition(i,o.index+Math.floor(o[0].length/2));if(u){if(o[0].split(".").length===2&&!u.database&&this.isLikelyAliasReference(i,o.index))continue;let f={name:u.name,schema:u.schema,database:u.database},g=qo.Uri.parse(`command:netezza.revealInSchema?${encodeURIComponent(JSON.stringify(f))}`),p=new qo.DocumentLink(c,g);p.tooltip=`Reveal ${u.name} in Schema`,n.push(p)}}return n}isLikelyAliasReference(e,r){let i=e.substring(Math.max(0,r-200),r).replace(/--[^\n]*/g,"").replace(/\/\*[\s\S]*?\*\//g,"").toUpperCase();return/(?:FROM|JOIN)\s+[a-zA-Z0-9_"]*$/i.test(i)?!1:!!i.match(/\b(SELECT|WHERE|ON|HAVING|ORDER\s+BY|GROUP\s+BY|AND|OR|SET|VALUES)\b(?!.*\b(?:FROM|JOIN)\b)/)}};var Tf=Ye(require("vscode")),vf=class{provideFoldingRanges(e,r,n){let i=[],s=[],o=/^\s*--\s*REGION\b/i,a=/^\s*--\s*ENDREGION\b/i;for(let l=0;l<e.lineCount;l++){let u=e.lineAt(l).text;if(o.test(u))s.push(l);else if(a.test(u)&&s.length>0){let d=s.pop();i.push(new Tf.FoldingRange(d,l,Tf.FoldingRangeKind.Region))}}return i}};var zt=Ye(require("vscode"));mf();var Fl=class{constructor(e,r){this._extensionUri=e;this._context=r}static{this.viewType="netezza.queryHistory"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),this.sendHistoryToWebview(),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"refresh":this.refresh();break;case"clearAll":await this.clearAllHistory();break;case"deleteEntry":await this.deleteEntry(i.id,i.query);break;case"copyQuery":await zt.env.clipboard.writeText(i.query),zt.window.showInformationMessage("Query copied to clipboard");break;case"executeQuery":await this.executeQuery(i.query);break;case"getHistory":await this.sendHistoryToWebview();break;case"toggleFavorite":await this.toggleFavorite(i.id);break;case"updateEntry":await this.updateEntry(i.id,i.tags,i.description);break;case"requestEdit":await this.requestEdit(i.id);break;case"requestTagFilter":await this.requestTagFilter(i.tags);break;case"showFavoritesOnly":await this.sendFavoritesToWebview();break;case"filterByTag":await this.sendFilteredByTagToWebview(i.tag);break}})}refresh(){this._view&&this.sendHistoryToWebview()}async sendHistoryToWebview(){if(!this._view)return;let e=new wr(this._context),r=await e.getHistory(),n=await e.getStats();console.log("QueryHistoryView: sending history to webview, entries=",r.length),this._view.webview.postMessage({type:"historyData",history:r,stats:n})}async clearAllHistory(){await zt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await new wr(this._context).clearHistory(),this.refresh(),zt.window.showInformationMessage("Query history cleared"))}async deleteEntry(e,r){let n=r?`: ${r.substring(0,50)}${r.length>50?"...":""}`:"";await zt.window.showWarningMessage(`Are you sure you want to delete this query${n}?`,{modal:!0},"Delete")==="Delete"&&(await new wr(this._context).deleteEntry(e),this.refresh())}async executeQuery(e){let r=await zt.workspace.openTextDocument({content:e,language:"sql"});await zt.window.showTextDocument(r)}async toggleFavorite(e){await new wr(this._context).toggleFavorite(e),this.refresh()}async updateEntry(e,r,n){await new wr(this._context).updateEntry(e,r,n),this.refresh(),zt.window.showInformationMessage("Entry updated successfully")}async requestEdit(e){let i=(await new wr(this._context).getHistory()).find(a=>a.id===e);if(!i){zt.window.showErrorMessage("Entry not found");return}let s=await zt.window.showInputBox({prompt:"Enter tags (comma separated)",value:i.tags||"",placeHolder:"tag1, tag2, tag3"});if(s===void 0)return;let o=await zt.window.showInputBox({prompt:"Enter description",value:i.description||"",placeHolder:"Description for this query"});o!==void 0&&await this.updateEntry(e,s,o)}async requestTagFilter(e){if(e.length===1)await this.sendFilteredByTagToWebview(e[0]);else if(e.length>1){let r=await zt.window.showQuickPick(e,{placeHolder:"Filter by which tag?"});r&&await this.sendFilteredByTagToWebview(r)}}async sendFavoritesToWebview(){if(!this._view)return;let e=new wr(this._context),r=await e.getFavorites(),n=await e.getStats();this._view.webview.postMessage({type:"historyData",history:r,stats:n,filter:"favorites"})}async sendFilteredByTagToWebview(e){if(!this._view)return;let r=new wr(this._context),n=await r.getByTag(e),i=await r.getStats();this._view.webview.postMessage({type:"historyData",history:n,stats:i,filter:`tag: ${e}`})}_getHtmlForWebview(e){let r=tj(),n=e.asWebviewUri(zt.Uri.joinPath(this._extensionUri,"media","queryHistory.css")),i=e.asWebviewUri(zt.Uri.joinPath(this._extensionUri,"media","queryHistory.js"));return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src ${e.cspSource};">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Query History</title>
    <link href="${n}" rel="stylesheet">
</head>
<body>
    <div class="toolbar">
        <div class="toolbar-top">
            <input type="search" id="searchInput" placeholder="Search queries..." />
            <span class="stats" id="stats">Loading...</span>
        </div>
        <div class="toolbar-buttons">
            <button class="secondary" id="showAllBtn">\u{1F4DC} All</button>
            <button class="secondary" id="showFavoritesBtn">\u2B50 Favorites</button>
            <button class="secondary" id="refreshBtn">\u21BB Refresh</button>
            <button class="secondary" id="clearAllBtn">\u{1F5D1}\uFE0F Clear All</button>
        </div>
    </div>
    <div class="history-container" id="historyContainer">
        <div class="empty-state">
            <div class="empty-state-icon">\u{1F4DC}</div>
            <div>No query history yet</div>
        </div>
    </div>

    <script src="${i}"></script>
</body>
</html>`}};function tj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Ht=Ye(require("vscode"));xs();var Rf=class t{static{this.viewType="netezza.editData"}static async createOrShow(e,r,n,i){if(!r||!r.label||!r.dbName||!r.schema){Ht.window.showErrorMessage("Invalid table selection");return}let s=r.label,o=r.schema,l=`${r.dbName}.${o}.${s}`,c=Ht.window.createWebviewPanel(t.viewType,`Edit: ${s}`,Ht.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Ht.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});c.webview.html=this._getHtmlForWebview(c.webview,e,l),this._loadData(c,l,r.connectionName,n,i),c.webview.onDidReceiveMessage(async u=>{switch(u.command){case"save":await this._handleSave(c,u.changes,l,r.connectionName,n,i);break;case"refresh":this._loadData(c,l,r.connectionName,n,i);break;case"error":Ht.window.showErrorMessage(u.text);break;case"info":Ht.window.showInformationMessage(u.text);break}})}static async _loadData(e,r,n,i,s){try{let o=`SELECT ROWID, * FROM ${r} LIMIT 50000`;e.webview.postMessage({command:"setLoading",loading:!0});let a=await be(i,o,!0,n,s);if(!a){e.webview.postMessage({command:"setData",data:[],columns:[]});return}let l=[];if(typeof a=="string")try{l=JSON.parse(a)}catch{if(a.startsWith("Query executed"))l=[];else throw new Error("Failed to parse result data")}let c=[];l.length>0&&(c=Object.keys(l[0])),e.webview.postMessage({command:"setData",data:l,columns:c})}catch(o){Ht.window.showErrorMessage(`Failed to load data: ${o.message}`),e.webview.postMessage({command:"setError",text:o.message})}finally{e.webview.postMessage({command:"setLoading",loading:!1})}}static async _handleSave(e,r,n,i,s,o){let a=[];if(r.deletes&&r.deletes.length>0){let l=r.deletes.join(",");a.push(`DELETE FROM ${n} WHERE ROWID IN (${l});`)}if(r.updates&&r.updates.length>0)for(let l of r.updates){let c=[];for(let[u,d]of Object.entries(l.changes))u!=="ROWID"&&c.push(`${u} = ${this._formatValue(d)}`);c.length>0&&a.push(`UPDATE ${n} SET ${c.join(", ")} WHERE ROWID = ${l.rowId};`)}if(r.inserts&&r.inserts.length>0)for(let l of r.inserts){let c=Object.keys(l).filter(d=>d!=="ROWID");if(c.length===0)continue;let u=c.map(d=>this._formatValue(l[d]));a.push(`INSERT INTO ${n} (${c.join(", ")}) VALUES (${u.join(", ")});`)}if(a.length===0){Ht.window.showInformationMessage("No changes to save.");return}try{await Nl(s,["BEGIN;",...a,"COMMIT;"],o),Ht.window.showInformationMessage(`Successfully executed ${a.length} changes.`),this._loadData(e,n,i,s,o)}catch(l){Ht.window.showErrorMessage(`Failed to save changes: ${l.message}`)}}static _formatValue(e){return e==null||e===""?"NULL":typeof e=="number"?e.toString():typeof e=="boolean"?e?"TRUE":"FALSE":`'${String(e).replace(/'/g,"''")}'`}static _getHtmlForWebview(e,r,n){let i=e.asWebviewUri(Ht.Uri.joinPath(r,"media","tanstack-table-core.js")),s=e.asWebviewUri(Ht.Uri.joinPath(r,"media","tanstack-virtual-core.js")),o=e.asWebviewUri(Ht.Uri.joinPath(r,"media","editDataPanel.js")),a=e.asWebviewUri(Ht.Uri.joinPath(r,"media","editDataPanel.css")),l=e.asWebviewUri(Ht.Uri.joinPath(r,"media","codicon.css")),c=rj();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}';">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${a}" rel="stylesheet">
            <script nonce="${c}" src="${i}"></script>
            <script nonce="${c}" src="${s}"></script>
            <title>Edit Data: ${n}</title>
        </head>
        <body>
            <div class="toolbar">
                <span class="title">${n}</span>
                <span id="status" class="status"></span>
                <div class="actions">
                    <button id="refreshBtn">Refresh</button>
                    <button id="addRowBtn">Add Row</button>
                    <button id="saveBtn" class="primary">Save Changes</button>
                </div>
            </div>
            <div id="gridContainer" class="grid-container"></div>
            
            <script nonce="${c}" src="${o}"></script>
        </body>
        </html>`}};function rj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Cf=Ye(require("vscode")),Af=class{constructor(e){this.context=e;this.dbCache=new Map;this.schemaCache=new Map;this.tableCache=new Map;this.columnCache=new Map;this.tableIdMap=new Map;this.typeGroupCache=new Map;this.CACHE_TTL=14400*1e3;this.savePending=!1;this.columnPrefetchInProgress=new Set;this.allObjectsPrefetchTriggeredSet=new Set;this.connectionPrefetchTriggered=new Set;this.connectionPrefetchInProgress=new Set;if(this.context.storageUri){this.cacheFilePath=Cf.Uri.joinPath(this.context.storageUri,"schema-cache.json").fsPath;try{this.ensureStorageDir()}catch(r){console.error("[MetadataCache] Error creating storage directory:",r)}}}async ensureStorageDir(){if(this.context.storageUri)try{await Cf.workspace.fs.createDirectory(this.context.storageUri)}catch{}}async initialize(){try{let e=["sqlCompletion.dbCache","sqlCompletion.schemaCache","sqlCompletion.tableCache","sqlCompletion.columnCache","sqlCompletion.tableIdMap"];for(let r of e)this.context.workspaceState.get(r)!==void 0&&await this.context.workspaceState.update(r,void 0)}catch(e){console.error("[MetadataCache] Error cleaning up legacy workspace state:",e)}if(this.cacheFilePath)try{let e=require("fs");if(e.existsSync(this.cacheFilePath)){let r=await e.promises.readFile(this.cacheFilePath,"utf-8"),n=JSON.parse(r),i=Date.now();if(n.dbCache)for(let[s,o]of Object.entries(n.dbCache))i-o.timestamp<this.CACHE_TTL&&this.dbCache.set(s,o);if(n.schemaCache)for(let[s,o]of Object.entries(n.schemaCache))i-o.timestamp<this.CACHE_TTL&&this.schemaCache.set(s,o);if(n.tableCache)for(let[s,o]of Object.entries(n.tableCache))i-o.timestamp<this.CACHE_TTL&&this.tableCache.set(s,o);if(n.tableIdMap)for(let[s,o]of Object.entries(n.tableIdMap))(this.tableCache.has(s)||i-o.timestamp<this.CACHE_TTL)&&this.tableIdMap.set(s,{data:new Map(Object.entries(o.data)),timestamp:o.timestamp});if(n.columnCache)for(let[s,o]of Object.entries(n.columnCache))i-o.timestamp<this.CACHE_TTL&&this.columnCache.set(s,o)}}catch(e){console.error("[MetadataCache] Error loading cache from disk:",e)}}scheduleSave(e){this.savePending||(this.savePending=!0,this.saveTimeoutId=setTimeout(()=>this.flushSave(),2e3))}async flushSave(){if(this.savePending=!1,!!this.cacheFilePath)try{let e=require("fs"),r=s=>{let o={};return s.forEach((a,l)=>{o[l]=a}),o},n=s=>{let o={};return s.forEach((a,l)=>{let c={};a.data.forEach((u,d)=>{c[d]=u}),o[l]={data:c,timestamp:a.timestamp}}),o},i={dbCache:r(this.dbCache),schemaCache:r(this.schemaCache),tableCache:r(this.tableCache),columnCache:r(this.columnCache),tableIdMap:n(this.tableIdMap)};await e.promises.writeFile(this.cacheFilePath,JSON.stringify(i),"utf-8")}catch(e){console.error("[MetadataCache] Error saving cache to disk:",e)}}async clearCache(){if(this.saveTimeoutId&&(clearTimeout(this.saveTimeoutId),this.saveTimeoutId=void 0),this.savePending=!1,this.dbCache.clear(),this.schemaCache.clear(),this.tableCache.clear(),this.columnCache.clear(),this.tableIdMap.clear(),this.typeGroupCache.clear(),this.cacheFilePath)try{let e=require("fs");e.existsSync(this.cacheFilePath)&&await e.promises.unlink(this.cacheFilePath)}catch(e){console.error("[MetadataCache] Error clearing cache file:",e)}}getDatabases(e){return this.dbCache.get(e)?.data}setDatabases(e,r){this.dbCache.set(e,{data:r,timestamp:Date.now()}),this.scheduleSave("db")}getSchemas(e,r){let n=`${e}|${r}`;return this.schemaCache.get(n)?.data}setSchemas(e,r,n){let i=`${e}|${r}`;this.schemaCache.set(i,{data:n,timestamp:Date.now()}),this.scheduleSave("schema")}getTables(e,r){let n=`${e}|${r}`;return this.tableCache.get(n)?.data}getTablesAllSchemas(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n))for(let l of a.data){let c=typeof l.label=="string"?l.label:l.label?.label;c&&!s.has(c.toUpperCase())&&(s.add(c.toUpperCase()),i.push(l))}return i.length>0?i:void 0}setTables(e,r,n,i){let s=Date.now(),o=`${e}|${r}`;this.tableCache.set(o,{data:n,timestamp:s}),this.tableIdMap.set(o,{data:i,timestamp:s}),this.scheduleSave("table")}getObjectsWithSchema(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n)||o===`${e}|${r}..`){let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),d=(u.length>1?u[1]:"")||"",h=this.tableIdMap.get(o);for(let f of a.data){let g=typeof f.label=="string"?f.label:f.label?.label,p=`${d}.${g}`;if(g&&!s.has(p)){s.add(p);let m;if(h){let y=d?`${r}.${d}.${g}`:`${r}..${g}`;m=h.data.get(y)}i.push({item:f,schema:d,objId:m})}}}return i}getColumns(e,r){let n=`${e}|${r}`;return this.columnCache.get(n)?.data}setColumns(e,r,n){let i=`${e}|${r}`;this.columnCache.set(i,{data:n,timestamp:Date.now()}),this.scheduleSave("column")}findTableId(e,r){let n=`${e}|`;for(let[i,s]of this.tableIdMap)if(i.startsWith(n)){let o=s.data.get(r);if(o!==void 0)return o}}getTypeGroups(e,r){let n=`${e}|${r}`;return this.typeGroupCache.get(n)?.data}setTypeGroups(e,r,n){let i=`${e}|${r}`;this.typeGroupCache.set(i,{data:n,timestamp:Date.now()})}findObjectWithType(e,r,n,i){let s=`${e}|`,o=i.toUpperCase();for(let[a,l]of this.tableCache){if(!a.startsWith(s))continue;let c=a.split("|");if(c.length<2)continue;let d=c[1].split("."),h=d[0],f=d.length>1?d[1]:void 0;if(h.toUpperCase()===r.toUpperCase()&&!(n!==void 0&&n!==""&&f?.toUpperCase()!==n.toUpperCase()))for(let g of l.data){let p=typeof g.label=="string"?g.label:g.label?.label;if(p?.toUpperCase()===o){let m=g.objType||(g.kind===18?"VIEW":"TABLE"),y=f?`${h}.${f}.${p}`:`${h}..${p}`,S=a,w=this.tableIdMap.get(S)?.data.get(y);if(w!==void 0)return{objId:w,objType:m,schema:f||"",name:p||i}}}}}search(e,r){let n=[],i=e.toLowerCase(),s=o=>r?o.startsWith(`${r}|`):!0;for(let[o,a]of this.tableCache){if(!s(o))continue;let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),d=u[0],h=u.length>1?u[1]:void 0;for(let f of a.data){let g=typeof f.label=="string"?f.label:f.label.label;if(g&&g.toLowerCase().includes(i)){let p=f.objType||(f.kind===18?"VIEW":"TABLE");n.push({name:g,type:p,database:d,schema:h||(f.detail&&f.detail.includes("(")?f.detail.match(/\((.*?)\)/)?.[1]:void 0)})}}}for(let[o,a]of this.columnCache){if(!s(o))continue;let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),d=u[0],h=u[1],f=u[2];for(let g of a.data){let p=typeof g.label=="string"?g.label:g.label.label;p&&p.toLowerCase().includes(i)&&n.push({name:p,type:"COLUMN",database:d,schema:h,parent:f})}}return n}async prefetchColumnsForSchema(e,r,n,i){let s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;if(this.columnPrefetchInProgress.has(o))return;let a=this.getTables(e,s);if(!(!a||a.length===0)){this.columnPrefetchInProgress.add(o);try{let l=[];for(let u of a){let d=typeof u.label=="string"?u.label:u.label?.label;if(!d)continue;let h=`${r}.${n||""}.${d}`;this.getColumns(e,h)||l.push(d)}if(l.length===0)return;let c=10;for(let u=0;u<l.length;u+=c){let h=l.slice(u,u+c).map(m=>`'${m}'`).join(","),f=`${r}..`,g=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",p=`
                    SELECT O.OBJNAME AS TABLENAME, C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                    FROM ${f}_V_RELATION_COLUMN C
                    JOIN ${f}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) IN (${h.toUpperCase()}) 
                    ${g}
                    AND UPPER(O.DBNAME) = UPPER('${r}')
                    ORDER BY O.OBJNAME, C.ATTNUM
                `;try{let m=await i(p);if(m){let y=JSON.parse(m),S=new Map;for(let b of y){let w=b.TABLENAME;S.has(w)||S.set(w,[]),S.get(w).push({label:b.ATTNAME,kind:5,detail:b.FORMAT_TYPE})}for(let[b,w]of S){let I=`${r}.${n||""}.${b}`;this.setColumns(e,I,w)}}}catch(m){console.error("[MetadataCache] Error fetching batch columns:",m)}}}finally{this.columnPrefetchInProgress.delete(o)}}}async prefetchAllObjects(e,r){let n=`ALL_OBJECTS|${e}`;if(!this.allObjectsPrefetchTriggeredSet.has(n)){this.allObjectsPrefetchTriggeredSet.add(n),console.log(`[MetadataCache] Starting background prefetch of all objects for search (Connection: ${e})`);try{let s=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME 
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE = 'TABLE' 
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!s)return;let o=JSON.parse(s),a=new Map;for(let l of o){let c=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}`:`${l.DBNAME}..`;a.has(c)||a.set(c,{tables:[],idMap:new Map});let u=a.get(c);u.tables.push({label:l.OBJNAME,kind:7,detail:l.SCHEMA?"Table":`Table (${l.SCHEMA})`,sortText:l.OBJNAME});let d=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}.${l.OBJNAME}`:`${l.DBNAME}..${l.OBJNAME}`;u.idMap.set(d,l.OBJID)}for(let[l,c]of a)this.setTables(e,l,c.tables,c.idMap);console.log(`[MetadataCache] Prefetched tables for ${a.size} schema(s) on ${e}`)}catch(i){console.error("[MetadataCache] Error in prefetchAllObjects:",i)}}}invalidateSchema(e,r,n){let i=`${e}|`,s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;this.tableCache.has(o)&&(this.tableCache.delete(o),this.tableIdMap.delete(o),this.scheduleSave("table"),console.log(`[MetadataCache] Invalidated cache for ${o}`))}hasAllObjectsPrefetchTriggered(e){return this.allObjectsPrefetchTriggeredSet.has(`ALL_OBJECTS|${e}`)}hasConnectionPrefetchTriggered(e){return this.connectionPrefetchTriggered.has(e)}triggerConnectionPrefetch(e,r){this.connectionPrefetchTriggered.has(e)||this.connectionPrefetchInProgress.has(e)||(this.connectionPrefetchInProgress.add(e),console.log(`[MetadataCache] Starting eager prefetch for connection: ${e}`),this.executeConnectionPrefetch(e,r).catch(n=>console.error("[MetadataCache] Connection prefetch error:",n)).finally(()=>{this.connectionPrefetchInProgress.delete(e),this.connectionPrefetchTriggered.add(e),console.log(`[MetadataCache] Completed eager prefetch for connection: ${e}`)}))}async executeConnectionPrefetch(e,r){let n=await this.prefetchDatabases(e,r);if(!(!n||n.length===0)){for(let i of n)await this.prefetchSchemasForDb(e,i,r),await new Promise(s=>setTimeout(s,50));await this.prefetchAllTablesAndViews(e,r),await this.prefetchAllColumnsForConnection(e,r)}}async prefetchDatabases(e,r){if(this.getDatabases(e))return this.getDatabases(e)?.map(i=>typeof i.label=="string"?i.label:i.label?.label).filter(Boolean)||[];try{let i=await r("SELECT DATABASE FROM system.._v_database ORDER BY DATABASE");if(!i)return[];let s=JSON.parse(i),o=s.map(a=>({label:a.DATABASE,kind:9,detail:"Database"}));return this.setDatabases(e,o),s.map(a=>a.DATABASE)}catch(n){return console.error("[MetadataCache] prefetchDatabases error:",n),[]}}async prefetchSchemasForDb(e,r,n){if(!this.getSchemas(e,r))try{let i=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,s=await n(i);if(!s)return;let a=JSON.parse(s).filter(l=>l.SCHEMA!=null&&l.SCHEMA!=="").map(l=>({label:l.SCHEMA,kind:19,detail:`Schema in ${r}`,insertText:l.SCHEMA,sortText:l.SCHEMA,filterText:l.SCHEMA}));this.setSchemas(e,r,a)}catch(i){console.error(`[MetadataCache] prefetchSchemasForDb error for ${r}:`,i)}}async prefetchAllTablesAndViews(e,r){try{let i=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!i)return;let s=JSON.parse(i),o=new Map;for(let a of s){let l=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}`:`${a.DBNAME}..`;o.has(l)||o.set(l,{tables:[],idMap:new Map});let c=o.get(l),u=7;a.OBJTYPE==="VIEW"&&(u=18),a.OBJTYPE==="EXTERNAL TABLE"&&(u=6),c.tables.push({label:a.OBJNAME,kind:a.OBJTYPE==="VIEW"?18:7,detail:a.SCHEMA?a.OBJTYPE:`${a.OBJTYPE} (${a.SCHEMA})`,sortText:a.OBJNAME,objType:a.OBJTYPE});let d=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}.${a.OBJNAME}`:`${a.DBNAME}..${a.OBJNAME}`;c.idMap.set(d,a.OBJID)}for(let[a,l]of o)this.getTables(e,a)||this.setTables(e,a,l.tables,l.idMap);console.log(`[MetadataCache] Prefetched tables/views for ${o.size} schema(s)`)}catch(n){console.error("[MetadataCache] prefetchAllTablesAndViews error:",n)}}async prefetchAllColumnsForConnection(e,r){try{let n=`${e}|`,i=[];for(let[a,l]of this.tableCache){if(!a.startsWith(n))continue;let c=a.split("|");if(c.length<2)continue;let d=c[1].split("."),h=d[0],f=d.length>1?d[1]:"";for(let g of l.data){let p=typeof g.label=="string"?g.label:g.label.label;p&&i.push({schema:f,name:p,db:h})}}if(i.length===0)return;let s=50,o=0;for(let a=0;a<i.length;a+=s){let l=i.slice(a,a+s),c=new Map;for(let u of l)c.has(u.db)||c.set(u.db,[]),c.get(u.db).push(u);for(let[u,d]of c){let h=d.map(g=>`(UPPER(O.SCHEMA) = UPPER('${g.schema}') AND UPPER(O.OBJNAME) = UPPER('${g.name}'))`).join(" OR "),f=`
                        SELECT O.OBJNAME AS TABLENAME, O.SCHEMA, O.DBNAME, 
                               C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                        FROM ${u}.._V_RELATION_COLUMN C
                        JOIN ${u}.._V_OBJECT_DATA O ON C.OBJID = O.OBJID
                        WHERE O.DBNAME = '${u}' 
                        AND (${h})
                        ORDER BY O.SCHEMA, O.OBJNAME, C.ATTNUM
                    `;try{let g=await r(f);if(g){let p=JSON.parse(g),m=new Map;for(let y of p){let S=`${y.DBNAME}.${y.SCHEMA||""}.${y.TABLENAME}`;m.has(S)||m.set(S,[]),m.get(S).push({label:y.ATTNAME,kind:5,detail:y.FORMAT_TYPE})}for(let[y,S]of m)this.getColumns(e,y)||(this.setColumns(e,y,S),o++)}}catch(g){console.error(`[MetadataCache] Error fetching batch columns for DB ${u}:`,g)}}await new Promise(u=>setTimeout(u,10))}console.log(`[MetadataCache] Prefetched columns for ${o} tables/views (Batched)`)}catch(n){console.error("[MetadataCache] prefetchAllColumnsForConnection error:",n)}}};var rW=Ye(require("path"));function eW(t,e){let r=e.getKeepConnectionOpen();t.text=r?"\u{1F517} Keep Connection ON":"\u26D3\uFE0F\u200D\u{1F4A5} Keep Connection OFF",t.tooltip=r?"Keep Connection Open: ENABLED - Click to disable":"Keep Connection Open: DISABLED - Click to enable",t.backgroundColor=r?new v.ThemeColor("statusBarItem.prominentBackground"):void 0}var tW=[{id:"mtxr.sqltools",name:"SQLTools"},{id:"ms-mssql.mssql",name:"Microsoft SQL Server"},{id:"oracle.oracledevtools",name:"Oracle Developer Tools"},{id:"cweijan.vscode-mysql-client2",name:"MySQL"},{id:"ckolkman.vscode-postgres",name:"PostgreSQL"}];async function ybe(t){let e=v.workspace.getConfiguration("netezza");if(!e.get("showConflictWarnings",!0))return;let n=[];for(let a of tW)v.extensions.getExtension(a.id)&&n.push(a.name);let s=v.extensions.all.filter(a=>{let l=a.packageJSON;if(!l||a.id==="krzysztof-d.justybaselite-netezza"||tW.some(h=>h.id===a.id))return!1;let c=l.activationEvents?.some(h=>h.includes("onLanguage:sql")||h.includes("onLanguage:mssql")),u=l.contributes?.languages?.some(h=>h.id==="sql"||h.extensions?.includes(".sql"));return(l.displayName||"")==="SQL Language Basics"?!1:c||u}).map(a=>a.packageJSON.displayName||a.id),o=[...n,...s];if(o.length>0){let a=o.length===1?`SQL extension detected "${o[0]}" which may cause conflicts (e.g. duplicate keybindings F5, Ctrl+Enter).`:`SQL extensions detected which may cause conflicts: ${o.join(", ")}. Some functions (e.g. F5, Ctrl+Enter) may be duplicated.`;await v.window.showWarningMessage(a,"OK","Do not show again")==="Do not show again"&&await e.update("showConflictWarnings",!1,v.ConfigurationTarget.Global)}}async function mbe(t){console.log("Netezza extension: Activating..."),ybe(t),t.subscriptions.push({dispose:()=>{e.closeAllPersistentConnections()}});let e=new Es(t),r=new Af(t);await r.initialize();let n=new Dl(t,e,r),i=new Ll(t.extensionUri),s=v.window.createStatusBarItem(v.StatusBarAlignment.Left,100);s.command="netezza.selectConnectionForTab",s.tooltip="Click to select connection for this SQL tab",t.subscriptions.push(s);let o=()=>{let T=v.window.activeTextEditor;if(T&&T.document.languageId==="sql"){let P=T.document.uri.toString(),k=e.getConnectionForExecution(P);k?(s.text=`$(database) ${k}`,s.show()):(s.text="$(database) Select Connection",s.show())}else s.hide()};o(),e.onDidChangeActiveConnection(T=>{o(),T&&!r.hasConnectionPrefetchTriggered(T)&&r.triggerConnectionPrefetch(T,P=>be(t,P,!0,T,e))}),e.onDidChangeConnections(o),e.onDidChangeDocumentConnection(T=>{o();let P=e.getDocumentConnection(T);P&&!r.hasConnectionPrefetchTriggered(P)&&r.triggerConnectionPrefetch(P,k=>be(t,k,!0,P,e))}),v.window.onDidChangeActiveTextEditor(o);let a=v.window.createStatusBarItem(v.StatusBarAlignment.Right,100);a.command="netezza.toggleKeepConnectionOpen",eW(a,e),a.show(),t.subscriptions.push(a),console.log("Netezza extension: Registering SchemaSearchProvider...");let l=new Pl(t.extensionUri,t,r,e);console.log("Netezza extension: Registering QueryHistoryView...");let c=new Fl(t.extensionUri,t),u=v.window.createTreeView("netezza.schema",{treeDataProvider:n,showCollapseAll:!0});t.subscriptions.push(v.window.registerWebviewViewProvider(Ll.viewType,i),v.window.registerWebviewViewProvider(Pl.viewType,l),v.window.registerWebviewViewProvider(Fl.viewType,c));let d=/(^|\s)(?:[A-Za-z]:\\|\\|\/)?[\w.\-\\\/]+\.py\b|(^|\s)python(?:\.exe)?\s+[^\n]*\.py\b/i;function h(T){return T&&(T.includes(" ")?`"${T.replace(/"/g,'\\"')}"`:T)}function f(T,P,k){let W=/[ \\/]/.test(T)?`& ${h(T)}`:T,V=h(P),J=k.map(G=>h(G)).join(" ");return`${W} ${V}${J?" "+J:""}`.trim()}class g{constructor(){this._onDidChange=new v.EventEmitter;this.onDidChangeCodeLenses=this._onDidChange.event}provideCodeLenses(P){let k=[];for(let z=0;z<P.lineCount;z++){let W=P.lineAt(z);if(d.test(W.text)){let V=W.range,J={title:"Run as script",command:"netezza.runScriptFromLens",arguments:[P.uri,V]};k.push(new v.CodeLens(V,J))}}return k}refresh(){this._onDidChange.fire()}}let p=new g;t.subscriptions.push(v.languages.registerCodeLensProvider({scheme:"file"},p));let m=v.window.createTextEditorDecorationType({backgroundColor:new v.ThemeColor("editor.rangeHighlightBackground"),borderRadius:"3px"});function y(T){let P=T||v.window.activeTextEditor;if(!P)return;let k=P.document,z=[];for(let W=0;W<k.lineCount;W++){let V=k.lineAt(W);d.test(V.text)&&z.push({range:V.range,hoverMessage:"Python script invocation"})}P.setDecorations(m,z)}t.subscriptions.push(v.window.onDidChangeActiveTextEditor(()=>y()),v.workspace.onDidChangeTextDocument(T=>{v.window.activeTextEditor&&T.document===v.window.activeTextEditor.document&&y(v.window.activeTextEditor)})),t.subscriptions.push(v.commands.registerCommand("netezza.runScriptFromLens",async(T,P)=>{try{let k=await v.workspace.openTextDocument(T),z=k.getText(P).trim()||k.lineAt(P.start.line).text.trim();if(!z){v.window.showWarningMessage("No script command found");return}let W=z.split(/\s+/),V=W[0]||"",J=/python(\\.exe)?$/i.test(V)&&W.length>=2&&W[1].toLowerCase().endsWith(".py"),G=V.toLowerCase().endsWith(".py"),ne=v.workspace.getConfiguration("netezza").get("pythonPath")||"python",Z="";if(J){let ce=W[0],Ue=W[1],Je=W.slice(2);Z=f(ce,Ue,Je)}else if(G){let ce=V,Ue=W.slice(1);Z=f(ne,ce,Ue)}else Z=f(ne,"",W);let de=v.window.createTerminal({name:"Netezza: Script"});de.show(!0),de.sendText(Z,!0),v.window.showInformationMessage(`Running script: ${Z}`)}catch(k){v.window.showErrorMessage(`Error running script: ${k.message}`)}})),y(v.window.activeTextEditor);let S=v.window.createTextEditorDecorationType({backgroundColor:"rgba(5, 115, 201, 0.10)",isWholeLine:!1,rangeBehavior:v.DecorationRangeBehavior.ClosedClosed});function b(T){if(!v.workspace.getConfiguration("netezza").get("highlightActiveStatement",!0)||!T||T.document.languageId!=="sql"&&T.document.languageId!=="mssql"){T&&T.setDecorations(S,[]);return}try{let z=T.document,W=T.selection.active,V=z.offsetAt(W),J=z.getText(),G=Zn.getStatementAtPosition(J,V);if(G){let X=z.positionAt(G.start),ne=z.positionAt(G.end),Z=new v.Range(X,ne);T.setDecorations(S,[Z])}else T.setDecorations(S,[])}catch(z){console.error("Error updating SQL highlight:",z)}}t.subscriptions.push(v.window.onDidChangeTextEditorSelection(T=>{b(T.textEditor)}),v.window.onDidChangeActiveTextEditor(T=>{b(T)}),v.workspace.onDidChangeConfiguration(T=>{T.affectsConfiguration("netezza.highlightActiveStatement")&&b(v.window.activeTextEditor)})),b(v.window.activeTextEditor),t.subscriptions.push(v.window.onDidChangeActiveTextEditor(T=>{if(T&&T.document){let P=T.document.uri.toString();i.setActiveSource(P)}})),t.subscriptions.push(v.commands.registerCommand("netezza.viewEditData",T=>{Rf.createOrShow(t.extensionUri,T,t,e)})),t.subscriptions.push(v.commands.registerCommand("netezza.createProcedure",async T=>{if(!T||!T.dbName){v.window.showErrorMessage("Invalid selection. Select a Procedure folder.");return}let P=await v.window.showInputBox({prompt:"Enter new procedure name",placeHolder:"NEW_PROCEDURE",value:"NEW_PROCEDURE"});if(P===void 0)return;let k=P.trim()||"NEW_PROCEDURE",W=`CREATE OR REPLACE PROCEDURE ${T.dbName}.SCHEMA.${k}(INTEGER)
RETURNS INTEGER
EXECUTE AS CALLER
LANGUAGE NZPLSQL AS
BEGIN_PROC
DECLARE
    arg1 ALIAS FOR $1;
BEGIN
    -- YOUR CODE GOES HERE
    
    EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE EXCEPTION  'Procedure failed: %', sqlerrm;
        --RAISE NOTICE 'Caught error, continuing %', sqlerrm;

END;
END_PROC;`,V=await v.workspace.openTextDocument({content:W,language:"sql"});await v.window.showTextDocument(V)})),t.subscriptions.push(v.commands.registerCommand("netezza.toggleKeepConnectionOpen",()=>{let T=e.getKeepConnectionOpen();e.setKeepConnectionOpen(!T),eW(a,e);let P=!T;v.window.showInformationMessage(P?"Keep connection open: ENABLED - connection will remain open after queries":"Keep connection open: DISABLED - connection will be closed after each query")}),v.commands.registerCommand("netezza.dropCurrentSession",async()=>{let T=lg(),P=cg();if(!T){v.window.showWarningMessage("No active session to drop. Run a query first.");return}if(await v.window.showWarningMessage(`Are you sure you want to drop session ${T}? This will kill the current running query.`,{modal:!0},"Yes, drop session","Cancel")==="Yes, drop session")try{let z=await e.getConnection(P);if(!z){v.window.showErrorMessage("No connection available to execute DROP SESSION");return}let W=en(),V={host:z.host,port:z.port||5480,database:z.database,user:z.user,password:z.password},J=new W(V);await J.connect();try{await J.createCommand(`DROP SESSION ${T}`).execute(),v.window.showInformationMessage(`Session ${T} dropped successfully.`),bf()}finally{await J.close()}}catch(z){v.window.showErrorMessage(`Failed to drop session: ${z.message}`)}}),v.commands.registerCommand("netezza.selectActiveConnection",async()=>{let T=await e.getConnections();if(T.length===0){v.window.showWarningMessage("No connections configured. Please connect first.");return}let P=await v.window.showQuickPick(T.map(k=>k.name),{placeHolder:"Select Active Connection"});P&&(await e.setActiveConnection(P),v.window.showInformationMessage(`Active connection set to: ${P}`))}),v.commands.registerCommand("netezza.selectConnectionForTab",async()=>{let T=v.window.activeTextEditor;if(!T||T.document.languageId!=="sql"){v.window.showWarningMessage("This command is only available for SQL files");return}let P=await e.getConnections();if(P.length===0){v.window.showWarningMessage("No connections configured. Please connect first.");return}let k=T.document.uri.toString(),z=e.getDocumentConnection(k)||e.getActiveConnectionName(),W=P.map(J=>({label:J.name,description:z===J.name?"$(check) Currently selected":`${J.host}:${J.port}/${J.database}`,detail:(z===J.name,void 0),name:J.name})),V=await v.window.showQuickPick(W,{placeHolder:"Select connection for this SQL tab"});V&&(e.setDocumentConnection(k,V.name),v.window.showInformationMessage(`Connection for this tab set to: ${V.name}`))}),v.commands.registerCommand("netezza.openLogin",()=>{wf.createOrShow(t.extensionUri,e)}),v.commands.registerCommand("netezza.refreshSchema",async()=>{await r.clearCache(),n.refresh(),v.window.showInformationMessage("Schema refreshed (Cache cleared)")}),v.commands.registerCommand("netezza.copySelectAll",async T=>{if(T&&T.label&&T.dbName&&T.schema){let P=`SELECT * FROM ${T.dbName}.${T.schema}.${T.label} LIMIT 1000;`,k=await v.window.showQuickPick([{label:"Open in Editor",description:"Open SQL in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy SQL to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the SQL?"});if(k)if(k.value==="editor"){let z=await v.workspace.openTextDocument({content:P,language:"sql"});await v.window.showTextDocument(z)}else await v.env.clipboard.writeText(P),v.window.showInformationMessage("Copied to clipboard")}}),v.commands.registerCommand("netezza.copyDrop",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType){let P=`${T.dbName}.${T.schema}.${T.label}`,k=`DROP ${T.objType} ${P};`;if(await v.window.showWarningMessage(`Are you sure you want to delete ${T.objType.toLowerCase()} "${P}"?`,{modal:!0},"Yes, delete","Cancel")==="Yes, delete")try{if(!await e.getConnectionString()){v.window.showErrorMessage("No database connection");return}await v.window.withProgress({location:v.ProgressLocation.Notification,title:`Deleting ${T.objType.toLowerCase()} ${P}...`,cancellable:!1},async V=>{await be(t,k,!0,T.connectionName,e)}),v.window.showInformationMessage(`Deleted ${T.objType.toLowerCase()}: ${P}`),n.refresh()}catch(W){v.window.showErrorMessage(`Error during deletion: ${W.message}`)}}}),v.commands.registerCommand("netezza.copyName",T=>{if(T&&T.label&&T.dbName&&T.schema){let P=`${T.dbName}.${T.schema}.${T.label}`;v.env.clipboard.writeText(P),v.window.showInformationMessage("Copied to clipboard")}}),v.commands.registerCommand("netezza.grantPermissions",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType){let P=`${T.dbName}.${T.schema}.${T.label}`,k=await v.window.showQuickPick([{label:"SELECT",description:"Privileges to read data"},{label:"INSERT",description:"Privileges to insert data"},{label:"UPDATE",description:"Privileges to update data"},{label:"DELETE",description:"Privileges to delete data"},{label:"ALL",description:"All privileges (SELECT, INSERT, UPDATE, DELETE)"},{label:"LIST",description:"Privileges to list objects"}],{placeHolder:"Select privilege type"});if(!k)return;let z=await v.window.showInputBox({prompt:"Enter user or group name",placeHolder:"e.g. SOME_USER or GROUP_NAME",validateInput:J=>!J||J.trim().length===0?"User/group name cannot be empty":/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(J.trim())?null:"Invalid user/group name"});if(!z)return;let W=`GRANT ${k.label} ON ${P} TO ${z.trim().toUpperCase()};`;if(await v.window.showInformationMessage(`Execute: ${W}`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{if(!await e.getConnectionString()){v.window.showErrorMessage("No database connection");return}await v.window.withProgress({location:v.ProgressLocation.Notification,title:`Granting ${k.label} on ${P}...`,cancellable:!1},async G=>{await be(t,W,!0,T.connectionName,e)}),v.window.showInformationMessage(`Granted ${k.label} on ${P} to ${z.trim().toUpperCase()}`)}catch(J){v.window.showErrorMessage(`Error granting privileges: ${J.message}`)}}}),v.commands.registerCommand("netezza.groomTable",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType==="TABLE"){let P=`${T.dbName}.${T.schema}.${T.label}`,k=await v.window.showQuickPick([{label:"RECORDS ALL",description:"Groom all records (reclaim space from deleted rows)"},{label:"RECORDS READY",description:"Groom only ready records"},{label:"PAGES ALL",description:"Groom all pages (reorganize data pages)"},{label:"PAGES START",description:"Groom pages from start"},{label:"VERSIONS",description:"Groom versions (clean up old row versions)"}],{placeHolder:"Select GROOM mode"});if(!k)return;let z=await v.window.showQuickPick([{label:"DEFAULT",description:"Use default backupset",value:"DEFAULT"},{label:"NONE",description:"No backupset",value:"NONE"},{label:"Custom",description:"Specify custom backupset ID",value:"CUSTOM"}],{placeHolder:"Select RECLAIM BACKUPSET option"});if(!z)return;let W=z.value;if(z.value==="CUSTOM"){let G=await v.window.showInputBox({prompt:"Enter backupset ID",placeHolder:"e.g. 12345",validateInput:X=>!X||X.trim().length===0?"Backupset ID cannot be empty":/^\d+$/.test(X.trim())?null:"Backupset ID must be a number"});if(!G)return;W=G.trim()}let V=`GROOM TABLE ${P} ${k.label} RECLAIM BACKUPSET ${W};`;if(await v.window.showWarningMessage(`Execute GROOM on table "${P}"?

${V}

Warning: This operation may be time-consuming for large tables.`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{if(!await e.getConnectionString()){v.window.showErrorMessage("No database connection");return}let X=Date.now();await v.window.withProgress({location:v.ProgressLocation.Notification,title:`GROOM TABLE ${P} (${k.label})...`,cancellable:!1},async Z=>{await be(t,V,!0,T.connectionName,e)});let ne=((Date.now()-X)/1e3).toFixed(1);v.window.showInformationMessage(`GROOM completed successfully (${ne}s): ${P}`)}catch(G){v.window.showErrorMessage(`Error during GROOM: ${G.message}`)}}}),v.commands.registerCommand("netezza.addTableComment",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType==="TABLE"){let P=`${T.dbName}.${T.schema}.${T.label}`,k=await v.window.showInputBox({prompt:"Enter comment for table",placeHolder:"e.g. Table contains customer data",value:T.objectDescription||""});if(k===void 0)return;let z=`COMMENT ON TABLE ${P} IS '${k.replace(/'/g,"''")}';`;try{if(!await e.getConnectionString()){v.window.showErrorMessage("No database connection");return}await be(t,z,!0,T.connectionName,e),v.window.showInformationMessage(`Comment added to table: ${P}`),n.refresh()}catch(W){v.window.showErrorMessage(`Error adding comment: ${W.message}`)}}}),v.commands.registerCommand("netezza.generateStatistics",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType==="TABLE"){let P=`${T.dbName}.${T.schema}.${T.label}`,k=`GENERATE EXPRESS STATISTICS ON ${P};`;if(await v.window.showInformationMessage(`Generate statistics for table "${P}"?

${k}`,{modal:!0},"Yes, generate","Cancel")==="Yes, generate")try{if(!await e.getConnectionString()){v.window.showErrorMessage("No database connection");return}let V=Date.now();await v.window.withProgress({location:v.ProgressLocation.Notification,title:`Generating statistics for ${P}...`,cancellable:!1},async G=>{await be(t,k,!0,T.connectionName,e)});let J=((Date.now()-V)/1e3).toFixed(1);v.window.showInformationMessage(`Statistics generated successfully (${J}s): ${P}`)}catch(W){v.window.showErrorMessage(`Error generating statistics: ${W.message}`)}}}),v.commands.registerCommand("netezza.truncateTable",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType==="TABLE"){let P=`${T.dbName}.${T.schema}.${T.label}`,k=`TRUNCATE TABLE ${P};`;if(await v.window.showWarningMessage(`\u26A0\uFE0F WARNING: Are you sure you want to delete ALL data from the table "${P}"?

${k}

This operation is IRREVERSIBLE!`,{modal:!0},"Yes, delete all data","Cancel")==="Yes, delete all data")try{if(!await e.getConnectionString()){v.window.showErrorMessage("No database connection");return}await v.window.withProgress({location:v.ProgressLocation.Notification,title:`Clearing table ${P}...`,cancellable:!1},async V=>{await be(t,k,!0,T.connectionName,e)}),v.window.showInformationMessage(`Table cleared: ${P}`)}catch(W){v.window.showErrorMessage(`Error clearing table: ${W.message}`)}}}),v.commands.registerCommand("netezza.addPrimaryKey",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType==="TABLE"){let P=`${T.dbName}.${T.schema}.${T.label}`,k=await v.window.showInputBox({prompt:"Enter primary key constraint name",placeHolder:`e.g. PK_${T.label}`,value:`PK_${T.label}`,validateInput:G=>!G||G.trim().length===0?"Constraint name cannot be empty":/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(G.trim())?null:"Invalid constraint name"});if(!k)return;let z=await v.window.showInputBox({prompt:"Enter primary key column names (comma separated)",placeHolder:"e.g. COL1, COL2 or ID",validateInput:G=>!G||G.trim().length===0?"You must provide at least one column":null});if(!z)return;let W=z.split(",").map(G=>G.trim().toUpperCase()).join(", "),V=`ALTER TABLE ${P} ADD CONSTRAINT ${k.trim().toUpperCase()} PRIMARY KEY (${W});`;if(await v.window.showInformationMessage(`Add primary key to table "${P}"?

${V}`,{modal:!0},"Yes, add","Cancel")==="Yes, add")try{if(!await e.getConnectionString()){v.window.showErrorMessage("No database connection");return}await v.window.withProgress({location:v.ProgressLocation.Notification,title:`Adding primary key to ${P}...`,cancellable:!1},async X=>{await be(t,V,!0,T.connectionName,e)}),v.window.showInformationMessage(`Primary key added: ${k.trim().toUpperCase()}`),n.refresh()}catch(G){v.window.showErrorMessage(`Error adding primary key: ${G.message}`)}}}),v.commands.registerCommand("netezza.createDDL",async T=>{try{if(!T||!T.label||!T.dbName||!T.schema||!T.objType){v.window.showErrorMessage("Invalid object selected for DDL generation");return}let P=await e.getConnectionString();if(!P){v.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}await v.window.withProgress({location:v.ProgressLocation.Notification,title:`Generating DDL for ${T.objType} ${T.label}...`,cancellable:!1},async()=>{let{generateDDL:k}=await Promise.resolve().then(()=>(fg(),Pv)),z=await k(P,T.dbName,T.schema,T.label,T.objType);if(z.success&&z.ddlCode){let W=await v.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the DDL code?"});if(W)if(W.value==="editor"){let V=await v.workspace.openTextDocument({content:z.ddlCode,language:"sql"});await v.window.showTextDocument(V),v.window.showInformationMessage(`DDL code generated for ${T.objType} ${T.label}`)}else W.value==="clipboard"&&(await v.env.clipboard.writeText(z.ddlCode),v.window.showInformationMessage("DDL code copied to clipboard"))}else throw new Error(z.error||"DDL generation failed")})}catch(P){v.window.showErrorMessage(`Error generating DDL: ${P.message}`)}}),v.commands.registerCommand("netezza.recreateTable",async T=>{try{if(!T||!T.label||!T.dbName||!T.schema||!T.objType||T.objType!=="TABLE"){v.window.showErrorMessage("Invalid object selected for Recreate Table");return}let P=await e.getConnectionString();if(!P){v.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let k=await v.window.showInputBox({prompt:"Enter temporary table name (Optional)",placeHolder:"Leave empty to auto-generate timestamped name",value:""});if(k===void 0)return;await v.window.withProgress({location:v.ProgressLocation.Notification,title:`Generating Recreate Script for ${T.label}...`,cancellable:!1},async()=>{let{generateRecreateTableScript:z}=await Promise.resolve().then(()=>(Bv(),Fv)),W=await z(P,T.dbName,T.schema,T.label,k||void 0);if(W.success&&W.sqlScript){let V=await v.workspace.openTextDocument({content:W.sqlScript,language:"sql"});await v.window.showTextDocument(V),v.window.showInformationMessage(`Recreate script generated for ${T.label}`)}else throw new Error(W.error||"Script generation failed")})}catch(P){v.window.showErrorMessage(`Error generating recreate script: ${P.message}`)}}),v.commands.registerCommand("netezza.checkSkew",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType==="TABLE"){let P=`${T.dbName}.${T.schema}.${T.label}`,k=`SELECT datasliceid, count(*) as row_count FROM ${P} GROUP BY 1 ORDER BY 1;`;if(await v.window.showInformationMessage(`Check skew for "${P}"?

This will run: ${k}

Note: This may be slow on very large tables.`,{modal:!0},"Yes, check skew","Cancel")==="Yes, check skew"){let W=await v.workspace.openTextDocument({content:`-- Check Skew for ${P}
${k}`,language:"sql"});await v.window.showTextDocument(W),v.commands.executeCommand("netezza.runQuery")}}}),v.commands.registerCommand("netezza.changeOwner",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType==="TABLE"){let P=`${T.dbName}.${T.schema}.${T.label}`,k=await v.window.showInputBox({prompt:"Enter new owner name",placeHolder:"e.g. USER_NAME or GROUP_NAME"});if(!k)return;let z=`ALTER TABLE ${P} OWNER TO ${k.trim()};`;try{if(!await e.getConnectionString()){v.window.showErrorMessage("No database connection");return}await be(t,z,!0,T.connectionName,e),v.window.showInformationMessage(`Owner changed to ${k} for ${P}`),r.invalidateSchema(T.connectionName,T.dbName,T.schema),n.refresh()}catch(W){v.window.showErrorMessage(`Error changing owner: ${W.message}`)}}}),v.commands.registerCommand("netezza.renameTable",async T=>{if(T&&T.label&&T.dbName&&T.schema&&T.objType==="TABLE"){let P=`${T.dbName}.${T.schema}.${T.label}`,k=await v.window.showInputBox({prompt:"Enter new table name",placeHolder:"NewTableName",value:T.label});if(!k||k===T.label)return;let z=`ALTER TABLE ${P} RENAME TO ${k.trim()};`;try{if(!await e.getConnectionString()){v.window.showErrorMessage("No database connection");return}await be(t,z,!0,T.connectionName,e),v.window.showInformationMessage(`Table renamed to ${k}`),r.invalidateSchema(T.connectionName,T.dbName,T.schema),n.refresh()}catch(W){v.window.showErrorMessage(`Error renaming table: ${W.message}`)}}}),v.commands.registerCommand("netezza.revealInSchema",async T=>{let P=v.window.setStatusBarMessage(`$(loading~spin) Revealing ${T.name} in schema...`);try{let k,z=v.window.activeTextEditor;if(z&&z.document.languageId==="sql"&&(k=e.getConnectionForExecution(z.document.uri.toString())),k||(k=T.connectionName),k||(k=e.getActiveConnectionName()||void 0),!k){P.dispose(),v.window.showWarningMessage("No active connection. Please select a connection first.");return}let W=T.name,V=T.objType,J=V?[V]:["TABLE","VIEW","EXTERNAL TABLE","PROCEDURE","FUNCTION","SEQUENCE","SYNONYM"];if(V==="COLUMN"){if(!T.parent){P.dispose(),v.window.showWarningMessage("Cannot find column without parent table");return}W=T.parent}if(T.database){let ne=r.findObjectWithType(k,T.database,T.schema,W);if(ne){let{SchemaItem:Z}=await Promise.resolve().then(()=>(Ol(),_f)),de=new Z(ne.name,v.TreeItemCollapsibleState.Collapsed,`netezza:${ne.objType}`,T.database,ne.objType,ne.schema||T.schema,ne.objId,void 0,k);await u.reveal(de,{select:!0,focus:!0,expand:!0}),P.dispose(),v.window.setStatusBarMessage(`$(check) Found ${W} in ${T.database}.${ne.schema||T.schema} (cached)`,3e3);return}else r.hasConnectionPrefetchTriggered(k)||r.triggerConnectionPrefetch(k,async Z=>be(t,Z,!0,k,e))}if(!await e.getConnectionString(k)){P.dispose(),v.window.showWarningMessage("Not connected to database and object not found in cache.");return}let X=T.database||await e.getCurrentDatabase(k);if(X){let ne=V&&V!=="COLUMN"?`AND UPPER(OBJTYPE) = UPPER('${V}')`:"",Z=T.schema?`AND UPPER(SCHEMA) = UPPER('${T.schema.replace(/'/g,"''")}')`:"",de=`
                        SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                        FROM ${X}.._V_OBJECT_DATA 
                        WHERE UPPER(OBJNAME) = UPPER('${W.replace(/'/g,"''")}') 
                        AND DBNAME = '${X}'
                        ${ne}
                        ${Z}
                        LIMIT 1
                    `;try{let ce=await be(t,de,!0,k,e);if(ce){let Ue=[];if(ce==="Query executed successfully (no results)."||ce.startsWith("Query executed successfully")?Ue=[]:Ue=JSON.parse(ce),Ue.length>0){let Je=Ue[0];if(Je.OBJTYPE==="PROCEDURE")try{let It=`SELECT PROCEDURESIGNATURE FROM ${X}.._V_PROCEDURE WHERE OBJID = ${Je.OBJID}`,hs=await be(t,It,!0,k,e);if(hs){let ps=JSON.parse(hs);ps.length>0&&ps[0].PROCEDURESIGNATURE&&(Je.OBJNAME=ps[0].PROCEDURESIGNATURE)}}catch(It){console.warn("Failed to resolve procedure signature:",It)}let{SchemaItem:Ct}=await Promise.resolve().then(()=>(Ol(),_f)),ar=new Ct(Je.OBJNAME,v.TreeItemCollapsibleState.Collapsed,`netezza:${Je.OBJTYPE}`,X,Je.OBJTYPE,Je.SCHEMA,Je.OBJID,void 0,k);await u.reveal(ar,{select:!0,focus:!0,expand:!0}),P.dispose(),v.window.setStatusBarMessage(`$(check) Found ${W} in ${X}.${Je.SCHEMA}`,3e3);return}}}catch(ce){console.log(`Error searching in ${X}:`,ce)}}if(!X){let ne=await be(t,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,k,e);if(ne){let Z=JSON.parse(ne);for(let de of Z){let ce=de.DATABASE;try{let Ue=T.schema?`AND UPPER(SCHEMA) = UPPER('${T.schema.replace(/'/g,"''")}')`:"",Je=`
                                    SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                                    FROM ${ce}.._V_OBJECT_DATA 
                                    WHERE UPPER(OBJNAME) = UPPER('${W.replace(/'/g,"''")}') 
                                    AND DBNAME = '${ce}'
                                    ${Ue}
                                    LIMIT 1
                                `,Ct=await be(t,Je,!0,k,e);if(Ct){let ar=[];if(Ct==="Query executed successfully (no results)."||Ct.startsWith("Query executed successfully")?ar=[]:ar=JSON.parse(Ct),ar.length>0){let It=ar[0];if(It.OBJTYPE==="PROCEDURE")try{let No=`SELECT PROCEDURESIGNATURE FROM ${ce}.._V_PROCEDURE WHERE OBJID = ${It.OBJID}`,Do=await be(t,No,!0,k,e);if(Do){let Oo=JSON.parse(Do);Oo.length>0&&Oo[0].PROCEDURESIGNATURE&&(It.OBJNAME=Oo[0].PROCEDURESIGNATURE)}}catch(No){console.warn("Failed to resolve procedure signature:",No)}let{SchemaItem:hs}=await Promise.resolve().then(()=>(Ol(),_f)),ps=new hs(It.OBJNAME,v.TreeItemCollapsibleState.Collapsed,`netezza:${It.OBJTYPE}`,ce,It.OBJTYPE,It.SCHEMA,It.OBJID,void 0,k);await u.reveal(ps,{select:!0,focus:!0,expand:!0}),P.dispose(),v.window.setStatusBarMessage(`$(check) Found ${W} in ${ce}.${It.SCHEMA}`,3e3);return}}}catch(Ue){console.log(`Error searching in ${ce}:`,Ue)}}}}P.dispose(),v.window.showWarningMessage(`Could not find ${V||"object"} ${W}`)}catch(k){P.dispose(),v.window.showErrorMessage(`Error revealing item: ${k.message}`)}}),v.commands.registerCommand("netezza.showQueryHistory",()=>{v.commands.executeCommand("netezza.queryHistory.focus")}),v.commands.registerCommand("netezza.clearQueryHistory",async()=>{let{QueryHistoryManager:T}=await Promise.resolve().then(()=>(mf(),Rv)),P=new T(t);await v.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await P.clearHistory(),c.refresh(),v.window.showInformationMessage("Query history cleared"))})),t.subscriptions.push(v.languages.registerDocumentLinkProvider({language:"sql"},new xf)),t.subscriptions.push(v.languages.registerFoldingRangeProvider({language:"sql"},new vf)),t.subscriptions.push(v.commands.registerCommand("netezza.jumpToSchema",async()=>{let T=v.window.activeTextEditor;if(!T)return;let P=T.document,k=T.selection,z=P.offsetAt(k.active),W=Zn.getObjectAtPosition(P.getText(),z);W?v.commands.executeCommand("netezza.revealInSchema",W):v.window.showWarningMessage("No object found at cursor")}));let w=v.commands.registerCommand("netezza.runQuery",async()=>{let T=v.window.activeTextEditor;if(!T){v.window.showErrorMessage("No active editor found");return}let P=T.document,k=T.selection,z=P.getText(),W=P.uri.toString(),V=[];if(k.isEmpty){let G=P.offsetAt(k.active),X=Zn.getStatementAtPosition(z,G);if(X){V=[X.sql];let ne=P.positionAt(X.start),Z=P.positionAt(X.end);T.selection=new v.Selection(ne,Z)}else{v.window.showWarningMessage("No SQL statement found at cursor");return}}else{let G=P.getText(k);if(!G.trim()){v.window.showWarningMessage("No SQL query selected");return}/^\s*CREATE\s+(OR\s+REPLACE\s+)?PROCEDURE\b/i.test(G)?V=[G]:V=Zn.splitStatements(G)}if(V.length===0)return;let J=V.length===1?V[0].trim():null;if(J){let G=J.split(/\s+/),X=G[0]||"",ne=/python(\.exe)?$/i.test(X)&&G.length>=2&&G[1].toLowerCase().endsWith(".py"),Z=X.toLowerCase().endsWith(".py");if(ne||Z){let ce=v.workspace.getConfiguration("netezza").get("pythonPath")||"python",Ue="";if(ne){let Ct=G[0],ar=G[1],It=G.slice(2);Ue=f(Ct,ar,It)}else{let Ct=X,ar=G.slice(1);Ue=f(ce,Ct,ar)}let Je=v.window.createTerminal({name:"Netezza: Script"});Je.show(!0),Je.sendText(Ue,!0),v.window.showInformationMessage(`Running script: ${Ue}`);return}}try{let G=await Nl(t,V,e,W);i.updateResults(G,W,!1),v.commands.executeCommand("netezza.results.focus")}catch(G){v.window.showErrorMessage(`Error executing query: ${G.message}`)}}),I=v.commands.registerCommand("netezza.runQueryBatch",async()=>{let T=v.window.activeTextEditor;if(!T){v.window.showErrorMessage("No active editor found");return}let P=T.document,k=T.selection,z=P.uri.toString(),W;if(k.isEmpty?W=P.getText():W=P.getText(k),!W.trim()){v.window.showWarningMessage("No SQL query to execute");return}let J=W.trim().split(/\s+/),G=J[0]||"",X=/python(\.exe)?$/i.test(G)&&J.length>=2&&J[1].toLowerCase().endsWith(".py"),ne=G.toLowerCase().endsWith(".py");if(X||ne){let de=v.workspace.getConfiguration("netezza").get("pythonPath")||"python",ce="";if(X){let Je=J[0],Ct=J[1],ar=J.slice(2);ce=f(Je,Ct,ar)}else{let Je=G,Ct=J.slice(1);ce=f(de,Je,Ct)}let Ue=v.window.createTerminal({name:"Netezza: Script"});Ue.show(!0),Ue.sendText(ce,!0),v.window.showInformationMessage(`Running script: ${ce}`);return}try{let{runQueryRaw:Z}=await Promise.resolve().then(()=>(xs(),Mv)),de=await Z(t,W,!1,e,void 0,z);de&&(i.updateResults([de],z,!1),v.commands.executeCommand("netezza.results.focus"))}catch(Z){v.window.showErrorMessage(`Error executing query: ${Z.message}`)}});t.subscriptions.push(I);let O=v.window.createOutputChannel("Netezza"),C=(T,P)=>{let k=Date.now()-P;O.appendLine(`[${new Date().toLocaleTimeString()}] ${T} completed in ${k}ms`),O.show(!0)},B=v.commands.registerCommand("netezza.exportToXlsb",async()=>{let T=v.window.activeTextEditor;if(!T){v.window.showErrorMessage("No active editor found");return}let P=T.selection,k=P.isEmpty?T.document.getText():T.document.getText(P);if(!k.trim()){v.window.showWarningMessage("No SQL query to export");return}let z=await v.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB"});if(!z)return;let W=Date.now();try{let V=T.document.uri.toString(),J=e.getConnectionForExecution(V),G=await e.getConnectionString(J);if(!G)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await v.window.withProgress({location:v.ProgressLocation.Notification,title:"Exporting to XLSB...",cancellable:!1},async X=>{let{exportQueryToXlsb:ne}=await Promise.resolve().then(()=>(Co(),Ao)),Z=await ne(G,k,z.fsPath,!1,de=>{X.report({message:de}),O.appendLine(`[XLSB Export] ${de}`)});if(!Z.success)throw new Error(Z.message)}),C("Export to XLSB",W),v.window.showInformationMessage(`Results exported to ${z.fsPath}`)}catch(V){v.window.showErrorMessage(`Error exporting to XLSB: ${V.message}`)}}),N=v.commands.registerCommand("netezza.exportToCsv",async()=>{let T=v.window.activeTextEditor;if(!T){v.window.showErrorMessage("No active editor found");return}let P=T.selection,k=P.isEmpty?T.document.getText():T.document.getText(P);if(!k.trim()){v.window.showWarningMessage("No SQL query to export");return}let z=await v.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export to CSV"});if(!z)return;let W=Date.now();try{let V=T.document.uri.toString(),J=e.getConnectionForExecution(V),G=await e.getConnectionString(J);if(!G)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await v.window.withProgress({location:v.ProgressLocation.Notification,title:"Exporting to CSV...",cancellable:!1},async X=>{let{exportToCsv:ne}=await Promise.resolve().then(()=>(W6(),U6));await ne(t,G,k,z.fsPath,X)}),C("Export to CSV",W),v.window.showInformationMessage(`Results exported to ${z.fsPath}`)}catch(V){v.window.showErrorMessage(`Error exporting to CSV: ${V.message}`)}}),L=v.commands.registerCommand("netezza.copyXlsbToClipboard",async()=>{let T=v.window.activeTextEditor;if(!T){v.window.showErrorMessage("No active editor found");return}let P=T.selection,k=P.isEmpty?T.document.getText():T.document.getText(P);if(!k.trim()){v.window.showWarningMessage("No SQL query to export");return}try{let z=T.document.uri.toString(),W=e.getConnectionForExecution(z),V=await e.getConnectionString(W);if(!V)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let J=Date.now();if(await v.window.withProgress({location:v.ProgressLocation.Notification,title:"Exporting to XLSB and copying to clipboard...",cancellable:!1},async X=>{let{exportQueryToXlsb:ne,getTempFilePath:Z}=await Promise.resolve().then(()=>(Co(),Ao)),de=Z(),ce=await ne(V,k,de,!0,Ue=>{X.report({message:Ue}),O.appendLine(`[XLSB Clipboard] ${Ue}`)});if(!ce.success)throw new Error(ce.message);if(!ce.details?.clipboard_success)throw new Error("Failed to copy file to clipboard")}),C("Copy XLSB to Clipboard",J),await v.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let X=require("os").tmpdir();await v.env.openExternal(v.Uri.file(X))}}catch(z){v.window.showErrorMessage(`Error copying XLSB to clipboard: ${z.message}`)}}),$=v.commands.registerCommand("netezza.exportToXlsbAndOpen",async()=>{let T=v.window.activeTextEditor;if(!T){v.window.showErrorMessage("No active editor found");return}let P=T.selection,k=P.isEmpty?T.document.getText():T.document.getText(P);if(!k.trim()){v.window.showWarningMessage("No SQL query to export");return}let z=await v.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB and Open"});if(!z)return;let W=Date.now();try{let V=T.document.uri.toString(),J=e.getConnectionForExecution(V),G=await e.getConnectionString(J);if(!G)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await v.window.withProgress({location:v.ProgressLocation.Notification,title:"Exporting to XLSB and opening...",cancellable:!1},async X=>{let{exportQueryToXlsb:ne}=await Promise.resolve().then(()=>(Co(),Ao)),Z=await ne(G,k,z.fsPath,!1,de=>{X.report({message:de}),O.appendLine(`[XLSB Export] ${de}`)});if(!Z.success)throw new Error(Z.message)}),C("Export to XLSB and Open",W),await v.env.openExternal(z),v.window.showInformationMessage(`Results exported and opened: ${z.fsPath}`)}catch(V){v.window.showErrorMessage(`Error exporting to XLSB: ${V.message}`)}}),Y=v.commands.registerCommand("netezza.importClipboard",async()=>{try{let P=v.window.activeTextEditor?.document?.uri?.toString(),k=e.getConnectionForExecution(P),z=await e.getConnectionString(k);if(!z)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let W=await v.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:X=>!X||X.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(X.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(W===void 0)return;let V;if(!W||W.trim().length===0)try{let ne=await be(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,k,e);if(ne){let Z=JSON.parse(ne);if(Z&&Z.length>0){let de=Z[0].CURRENT_CATALOG||"SYSTEM",ce=Z[0].CURRENT_SCHEMA||"ADMIN",Je=new Date().toISOString().slice(0,10).replace(/-/g,""),Ct=Math.floor(Math.random()*1e4).toString().padStart(4,"0");V=`${de}.${ce}.IMPORT_${Je}_${Ct}`,v.window.showInformationMessage(`Auto-generated table name: ${V}`)}else throw new Error("Could not determine current database/schema")}else throw new Error("Could not determine current database/schema")}catch(X){v.window.showErrorMessage(`Error getting current database/schema: ${X.message}`);return}else V=W.trim();let J=await v.window.showQuickPick([{label:"Auto-detect",description:"Automatically detect clipboard format (text or Excel XML)",value:null},{label:"Excel XML Spreadsheet",description:"Force Excel XML format processing",value:"XML Spreadsheet"},{label:"Plain Text",description:"Force plain text processing with delimiter detection",value:"TEXT"}],{placeHolder:"Select clipboard data format"});if(!J)return;let G=Date.now();await v.window.withProgress({location:v.ProgressLocation.Notification,title:"Importing clipboard data...",cancellable:!1},async X=>{let{importClipboardDataToNetezza:ne}=await Promise.resolve().then(()=>(Q3(),Z3)),Z=await ne(V,z,J.value,{},de=>{X.report({message:de}),O.appendLine(`[Clipboard Import] ${de}`)});if(!Z.success)throw new Error(Z.message);Z.details&&(O.appendLine(`[Clipboard Import] Rows processed: ${Z.details.rowsProcessed}`),O.appendLine(`[Clipboard Import] Columns: ${Z.details.columns}`),O.appendLine(`[Clipboard Import] Format: ${Z.details.format}`))}),C("Import Clipboard Data",G),v.window.showInformationMessage(`Clipboard data imported successfully to table: ${V}`)}catch(T){v.window.showErrorMessage(`Error importing clipboard data: ${T.message}`)}}),j=v.commands.registerCommand("netezza.importData",async()=>{try{let P=v.window.activeTextEditor?.document?.uri?.toString(),k=e.getConnectionForExecution(P),z=await e.getConnectionString(k);if(!z)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let W=await v.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Data Files":["csv","txt","xlsx","xlsb","json"],"CSV Files":["csv"],"Excel Files":["xlsx","xlsb"],"Text Files":["txt"],"JSON Files":["json"],"All Files":["*"]},openLabel:"Select file to import"});if(!W||W.length===0)return;let V=W[0].fsPath,J=await v.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:Z=>!Z||Z.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(Z.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(J===void 0)return;let G;if(!J||J.trim().length===0)try{let de=await be(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,k,e);if(de){let ce=JSON.parse(de);if(ce&&ce.length>0){let Ue=ce[0].CURRENT_CATALOG||"SYSTEM",Je=ce[0].CURRENT_SCHEMA||"ADMIN",ar=new Date().toISOString().slice(0,10).replace(/-/g,""),It=Math.floor(Math.random()*1e4).toString().padStart(4,"0");G=`${Ue}.${Je}.IMPORT_${ar}_${It}`,v.window.showInformationMessage(`Auto-generated table name: ${G}`)}else throw new Error("Could not determine current database/schema")}else throw new Error("Could not determine current database/schema")}catch(Z){v.window.showErrorMessage(`Error getting current database/schema: ${Z.message}`);return}else G=J.trim();let X=await v.window.showQuickPick([{label:"Default Import",description:"Use default settings",value:{}},{label:"Custom Options",description:"Configure import settings (coming soon)",value:null}],{placeHolder:"Select import options"});if(!X)return;if(X.value===null){v.window.showInformationMessage("Custom options will be available in future version");return}let ne=Date.now();await v.window.withProgress({location:v.ProgressLocation.Notification,title:"Importing data...",cancellable:!1},async Z=>{let{importDataToNetezza:de}=await Promise.resolve().then(()=>(cx(),K3)),ce=await de(V,G,z,X.value||{},Ue=>{Z.report({message:Ue}),O.appendLine(`[Import] ${Ue}`)});if(!ce.success)throw new Error(ce.message);ce.details&&(O.appendLine(`[Import] Rows processed: ${ce.details.rowsProcessed}`),O.appendLine(`[Import] Columns: ${ce.details.columns}`),O.appendLine(`[Import] Delimiter: ${ce.details.detectedDelimiter}`))}),C("Import Data",ne),v.window.showInformationMessage(`Data imported successfully to table: ${G}`)}catch(T){v.window.showErrorMessage(`Error importing data: ${T.message}`)}}),ee=v.commands.registerCommand("netezza.exportCurrentResultToXlsbAndOpen",async(T,P)=>{try{if(!T){v.window.showErrorMessage("No data to export");return}let k=require("os"),z=require("path"),W=new Date().toISOString().replace(/[:.]/g,"-"),V=z.join(k.tmpdir(),`netezza_results_${W}.xlsb`),J=Date.now();await v.window.withProgress({location:v.ProgressLocation.Notification,title:"Creating Excel file...",cancellable:!1},async X=>{let{exportCsvToXlsb:ne}=await Promise.resolve().then(()=>(Co(),Ao)),Z=await ne(T,V,!1,{source:"Query Results Panel",sql:P},de=>{X.report({message:de}),O.appendLine(`[CSV to XLSB] ${de}`)});if(!Z.success)throw new Error(Z.message)});let G=Date.now()-J;O.appendLine(`[${new Date().toLocaleTimeString()}] Export Current Result to Excel completed in ${G}ms`),await v.env.openExternal(v.Uri.file(V)),v.window.showInformationMessage(`Results exported and opened: ${V}`)}catch(k){v.window.showErrorMessage(`Error exporting to Excel: ${k.message}`)}}),le=v.commands.registerCommand("netezza.copyCurrentResultToXlsbClipboard",async(T,P)=>{try{if(!T){v.window.showErrorMessage("No data to copy");return}let{getTempFilePath:k}=await Promise.resolve().then(()=>(Co(),Ao)),z=k(),W=Date.now();await v.window.withProgress({location:v.ProgressLocation.Notification,title:"Copying to clipboard as Excel...",cancellable:!1},async J=>{let{exportCsvToXlsb:G}=await Promise.resolve().then(()=>(Co(),Ao)),X=await G(T,z,!0,{source:"Query Results Panel",sql:P},ne=>{J.report({message:ne}),O.appendLine(`[CSV to Clipboard] ${ne}`)});if(!X.success)throw new Error(X.message);if(!X.details?.clipboard_success)throw new Error("Failed to copy file to clipboard")});let V=Date.now()-W;O.appendLine(`[${new Date().toLocaleTimeString()}] Copy Current Result to Clipboard completed in ${V}ms`),v.window.showInformationMessage("Results copied to clipboard as Excel table! You can paste in Excel or Explorer.")}catch(k){v.window.showErrorMessage(`Error copying to clipboard: ${k.message}`)}});t.subscriptions.push(w),t.subscriptions.push(B),t.subscriptions.push(N),t.subscriptions.push(L),t.subscriptions.push($),t.subscriptions.push(ee),t.subscriptions.push(le),t.subscriptions.push(Y),t.subscriptions.push(j);let fe=v.workspace.onWillSaveTextDocument(async T=>{}),Oe=v.commands.registerCommand("netezza.smartPaste",async()=>{try{let T=v.window.activeTextEditor;if(!T)return;let k=v.workspace.getConfiguration("netezza").get("pythonPath")||"python",z=rW.join(t.extensionPath,"python","check_clipboard_format.py"),W=require("child_process");if(await new Promise(J=>{let G=W.spawn(k,[z]);G.on("close",X=>{J(X===1)}),G.on("error",()=>{J(!1)})})){let J=await v.window.showQuickPick([{label:"\u{1F4CA} import to Netezza table",description:'Detected "XML Spreadsheet" format - import data to database',value:"import"},{label:"\u{1F4DD} Paste as text",description:"Paste clipboard content as plain text",value:"paste"}],{placeHolder:'Detected "XML Spreadsheet" format in clipboard - choose an action'});if(J?.value==="import")v.commands.executeCommand("netezza.importClipboard");else if(J?.value==="paste"){let G=await v.env.clipboard.readText(),X=T.selection;await T.edit(ne=>{ne.replace(X,G)})}}else{let J=await v.env.clipboard.readText(),G=T.selection;await T.edit(X=>{X.replace(G,J)})}}catch(T){v.window.showErrorMessage(`Error during paste: ${T.message}`)}}),Et=v.workspace.onDidChangeTextDocument(async T=>{if(T.document.languageId!=="sql"&&T.document.languageId!=="mssql"||T.contentChanges.length!==1)return;let P=T.contentChanges[0];if(P.text!==" ")return;let k=v.window.activeTextEditor;if(!k||k.document!==T.document)return;let W=T.document.lineAt(P.range.start.line).text,V=new Map([["SX","SELECT"],["WX","WHERE"],["GX","GROUP BY"],["HX","HAVING"],["OX","ORDER BY"],["FX","FROM"],["JX","JOIN"],["LX","LIMIT"],["IX","INSERT INTO"],["UX","UPDATE"],["DX","DELETE FROM"],["CX","CREATE TABLE"]]);for(let[J,G]of V)if(new RegExp(`\\b${J}\\s$`,"i").test(W)){let ne=W.toUpperCase().lastIndexOf(J.toUpperCase());if(ne>=0){let Z=new v.Position(P.range.start.line,ne),de=new v.Position(P.range.start.line,ne+J.length+1);await k.edit(ce=>{ce.replace(new v.Range(Z,de),G+" ")}),["SELECT","FROM","JOIN"].includes(G)&&setTimeout(()=>{v.commands.executeCommand("editor.action.triggerSuggest")},100);break}}});t.subscriptions.push(Oe),t.subscriptions.push(Et);let Ve=new Sf(t,r,e);t.subscriptions.push(v.languages.registerCompletionItemProvider(["sql","mssql"],Ve,"."," ")),t.subscriptions.push(v.commands.registerCommand("netezza.clearAutocompleteCache",async()=>{await v.window.showWarningMessage("Are you sure you want to clear the autocomplete cache? This will remove all cached databases, schemas, tables, and columns.",{modal:!0},"Clear Cache")==="Clear Cache"&&(await r.clearCache(),v.window.showInformationMessage("Autocomplete cache cleared successfully. Cache will be rebuilt on next use."))}))}function bbe(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

archiver/lib/error.js:
archiver/lib/core.js:
  (**
   * Archiver Core
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

zip-stream/index.js:
  (**
   * ZipStream
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
   * @copyright (c) 2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/zip.js:
  (**
   * ZIP Format Plugin
   *
   * @module plugins/zip
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/tar.js:
  (**
   * TAR Format Plugin
   *
   * @module plugins/tar
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/json.js:
  (**
   * JSON Format Plugin
   *
   * @module plugins/json
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/index.js:
  (**
   * Archiver Vending
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)
*/
