"use strict";var kz=Object.create;var IE=Object.defineProperty;var Vz=Object.getOwnPropertyDescriptor;var qz=Object.getOwnPropertyNames;var Xz=Object.getPrototypeOf,jz=Object.prototype.hasOwnProperty;var Y=(t,e)=>()=>(t&&(e=t(t=0)),e);var O=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Pt=(t,e)=>{for(var r in e)IE(t,r,{get:e[r],enumerable:!0})},$y=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qz(e))!jz.call(t,i)&&i!==r&&IE(t,i,{get:()=>e[i],enumerable:!(n=Vz(e,i))||n.enumerable});return t};var j=(t,e,r)=>(r=t!=null?kz(Xz(t)):{},$y(e||!t||!t.__esModule?IE(r,"default",{value:t,enumerable:!0}):r,t)),mE=t=>$y(IE({},"__esModule",{value:!0}),t);var ir,xt,Wn,Ie,Es,uR=Y(()=>{"use strict";ir={AuthenticationRequest:82,ErrorResponse:69,NoticeResponse:78,BackendKeyData:75,ReadyForQuery:90,RowDescription:84,RowDescriptionStandard:88,DataRow:68,CommandComplete:67,EmptyQueryResponse:73,RowStandard:89,CopyInResponse:71,CopyOutResponse:72,CopyDone:99,CopyData:100},xt={NzTypeRecAddr:1,NzTypeDouble:2,NzTypeInt:3,NzTypeFloat:4,NzTypeMoney:5,NzTypeDate:6,NzTypeNumeric:7,NzTypeTime:8,NzTypeTimestamp:9,NzTypeInterval:10,NzTypeTimeTz:11,NzTypeBool:12,NzTypeInt1:13,NzTypeBinary:14,NzTypeChar:15,NzTypeVarChar:16,NzDEPR_Text:17,NzTypeUnknown:18,NzTypeInt2:19,NzTypeInt8:20,NzTypeVarFixedChar:21,NzTypeGeometry:22,NzTypeVarBinary:23,NzDEPR_Blob:24,NzTypeNChar:25,NzTypeNVarChar:26,NzDEPR_NText:27,NzTypeJson:30,NzTypeJsonb:31,NzTypeJsonpath:32,NzTypeLastEntry:33,NzTypeIntvsAbsTimeFIX:39},Wn={CP_VERSION_2:2,CP_VERSION_3:3,CP_VERSION_4:4,CP_VERSION_5:5,CP_VERSION_6:6},Ie={HSV2_CLIENT_BEGIN:1,HSV2_DB:2,HSV2_USER:3,HSV2_OPTIONS:4,HSV2_REMOTE_PID:6,HSV2_CLIENT_TYPE:8,HSV2_PROTOCOL:9,HSV2_SSL_NEGOTIATE:11,HSV2_SSL_CONNECT:12,HSV2_APPNAME:13,HSV2_CLIENT_OS:14,HSV2_CLIENT_HOST_NAME:15,HSV2_CLIENT_OS_USER:16,HSV2_64BIT_VARLENA_ENABLED:17,HSV2_CLIENT_DONE:1e3},Es={DATA:1,ERROR:2,DONE:3}});function qy(t){let e=t.readBigInt64LE(0),r=Number(e/1000n);return new Date(Vy+r)}function Xy(t){let r=t.readInt32LE(0)*24*60*60*1e3;return new Date(Vy+r)}function NE(t){let e=t.readBigInt64LE(0),r=Number(e/1000000n),n=Number(e%1000000n),i=Math.floor(r/3600),s=Math.floor(r%3600/60),o=r%60;return{hours:i,minutes:s,seconds:o,microseconds:n,toString(){let a=String(i).padStart(2,"0"),l=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");if(n>0){let u=String(n).padStart(6,"0");return`${a}:${l}:${c}.${u}`}return`${a}:${l}:${c}`}}}function jy(t){if(!t)return null;let e=t.split(":"),r=parseInt(e[0],10)||0,n=parseInt(e[1],10)||0,i=(e[2]||"0").split("."),s=parseInt(i[0],10)||0,o=0;return i.length>1&&(o=parseInt(i[1].substring(0,6).padEnd(6,"0"),10)),{hours:r,minutes:n,seconds:s,microseconds:o,toString(){return t}}}function Ky(t){let e=t.readBigInt64LE(0),r=t.readInt32LE(8),n=NE(t);if(r===0)return n.toString();let i=Math.floor(r/12),s=r%12;return i>0?`${i} years ${s} mons ${n.toString()}`:`${s} mons ${n.toString()}`}function zy(t,e){let r=NE(t),n=t.readInt32LE(e-4),i=n<0?"+":"-",s=Math.abs(n),o=Math.floor(s/3600),a=Math.floor(s%3600/60),l=s%60,c=String(o).padStart(2,"0");return l!==0?c+=":"+String(a).padStart(2,"0")+":"+String(l).padStart(2,"0"):a!==0&&(c+=":"+String(a).padStart(2,"0")),`${r.toString()}${i}${c}`}function Jy(t,e,r,n){let i=e<=9?1:e<=18?2:4,s=[];for(let E=0;E<i;E++)s.push(t.readUInt32LE(E*4));let o=(s[0]&ky)!==0?4294967295:0,a=new Array(ya).fill(o);for(let E=ya-n,T=0;E<ya;E++,T++)a[E]=s[T];let l=(a[0]&ky)!==0;l&&zz(a);let c=new Array(yc).fill(0);for(let E=0;E<yc;E++)c[yc-E-1]=Kz(a);let u="",d=!0;for(let E=0;E<yc;E++)E<yc-r-1&&d&&c[E]===0||(d=!1,u+=String(c[E]));if(u===""&&(u="0"),r!==0){let E=u.slice(0,-r)||"0",T=u.slice(-r).padStart(r,"0");u=E+"."+T}l&&(u="-"+u);let f=parseFloat(u);return e<=15&&u===String(f)?f:u}function Kz(t){let e=0;for(let r=0;r<ya;r++){let n=t[r]+e*4294967296;n!==0?(t[r]=Math.floor(n/10),e=n%10):(t[r]=0,e=0)}return e}function zz(t){for(let r=0;r<ya;r++)t[r]=~t[r]>>>0;let e=1;for(let r=ya-1;r>=0&&e;r--){let n=t[r]+e;t[r]=n>>>0,e=n>4294967295?1:0}}var Vy,ya,yc,ky,Qy=Y(()=>{"use strict";Vy=Date.UTC(2e3,0,1);ya=4,yc=38,ky=2147483648});var ER=O((Q0e,Zy)=>{"use strict";var dR=class{static readInt32(e,r=0){return e.readInt32BE(r)}static readInt16(e,r=0){return e.readInt16BE(r)}static writeInt32(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt32BE(r,n);else{let i=Buffer.allocUnsafe(4);i.writeInt32BE(r,0),e.write(i)}}static writeInt16(e,r,n=0){if(Buffer.isBuffer(e))e.writeInt16BE(r,n);else{let i=Buffer.allocUnsafe(2);i.writeInt16BE(r,0),e.write(i)}}};Zy.exports=dR});var t0=O((Z0e,e0)=>{var wa=1e3,La=wa*60,Da=La*60,to=Da*24,Qz=to*7,Zz=to*365.25;e0.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return e4(t);if(r==="number"&&isFinite(t))return e.long?r4(t):t4(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function e4(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Zz;case"weeks":case"week":case"w":return r*Qz;case"days":case"day":case"d":return r*to;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Da;case"minutes":case"minute":case"mins":case"min":case"m":return r*La;case"seconds":case"second":case"secs":case"sec":case"s":return r*wa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function t4(t){var e=Math.abs(t);return e>=to?Math.round(t/to)+"d":e>=Da?Math.round(t/Da)+"h":e>=La?Math.round(t/La)+"m":e>=wa?Math.round(t/wa)+"s":t+"ms"}function r4(t){var e=Math.abs(t);return e>=to?gE(t,e,to,"day"):e>=Da?gE(t,e,Da,"hour"):e>=La?gE(t,e,La,"minute"):e>=wa?gE(t,e,wa,"second"):t+" ms"}function gE(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var fR=O((ewe,r0)=>{function n4(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=t0(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,f=null,E,T;function h(...p){if(!h.enabled)return;let S=h,I=Number(new Date),R=I-(d||I);S.diff=R,S.prev=d,S.curr=I,d=I,p[0]=r.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let A=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(w,m)=>{if(w==="%%")return"%";A++;let D=r.formatters[m];if(typeof D=="function"){let y=p[A];w=D.call(S,y),p.splice(A,1),A--}return w}),r.formatArgs.call(S,p),(S.log||r.log).apply(S,p)}return h.namespace=u,h.useColors=r.useColors(),h.color=r.selectColor(u),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(E!==r.namespaces&&(E=r.namespaces,T=r.enabled(u)),T),set:p=>{f=p}}),typeof r.init=="function"&&r.init(h),h}function n(u,d){let f=r(this.namespace+(typeof d>"u"?":":d)+u);return f.log=this.log,f}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let f of d)f[0]==="-"?r.skips.push(f.slice(1)):r.names.push(f)}function s(u,d){let f=0,E=0,T=-1,h=0;for(;f<u.length;)if(E<d.length&&(d[E]===u[f]||d[E]==="*"))d[E]==="*"?(T=E,h=f,E++):(f++,E++);else if(T!==-1)E=T+1,h++,f=h;else return!1;for(;E<d.length&&d[E]==="*";)E++;return E===d.length}function o(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function a(u){for(let d of r.skips)if(s(u,d))return!1;for(let d of r.names)if(s(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}r0.exports=n4});var n0=O((Hr,OE)=>{Hr.formatArgs=s4;Hr.save=o4;Hr.load=a4;Hr.useColors=i4;Hr.storage=l4();Hr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Hr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i4(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s4(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+OE.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Hr.log=console.debug||console.log||(()=>{});function o4(t){try{t?Hr.storage.setItem("debug",t):Hr.storage.removeItem("debug")}catch{}}function a4(){let t;try{t=Hr.storage.getItem("debug")||Hr.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function l4(){try{return localStorage}catch{}}OE.exports=fR()(Hr);var{formatters:c4}=OE.exports;c4.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var s0=O((twe,i0)=>{"use strict";i0.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var l0=O((rwe,a0)=>{"use strict";var u4=require("os"),o0=require("tty"),nn=s0(),{env:qt}=process,fs;nn("no-color")||nn("no-colors")||nn("color=false")||nn("color=never")?fs=0:(nn("color")||nn("colors")||nn("color=true")||nn("color=always"))&&(fs=1);"FORCE_COLOR"in qt&&(qt.FORCE_COLOR==="true"?fs=1:qt.FORCE_COLOR==="false"?fs=0:fs=qt.FORCE_COLOR.length===0?1:Math.min(parseInt(qt.FORCE_COLOR,10),3));function hR(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function TR(t,e){if(fs===0)return 0;if(nn("color=16m")||nn("color=full")||nn("color=truecolor"))return 3;if(nn("color=256"))return 2;if(t&&!e&&fs===void 0)return 0;let r=fs||0;if(qt.TERM==="dumb")return r;if(process.platform==="win32"){let n=u4.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in qt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in qt)||qt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in qt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(qt.TEAMCITY_VERSION)?1:0;if(qt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in qt){let n=parseInt((qt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(qt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(qt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(qt.TERM)||"COLORTERM"in qt?1:r}function d4(t){let e=TR(t,t&&t.isTTY);return hR(e)}a0.exports={supportsColor:d4,stdout:hR(TR(!0,o0.isatty(1))),stderr:hR(TR(!0,o0.isatty(2)))}});var u0=O((Xt,bE)=>{var E4=require("tty"),CE=require("util");Xt.init=A4;Xt.log=p4;Xt.formatArgs=h4;Xt.save=S4;Xt.load=R4;Xt.useColors=f4;Xt.destroy=CE.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Xt.colors=[6,2,3,4,5,1];try{let t=l0();t&&(t.stderr||t).level>=2&&(Xt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Xt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function f4(){return"colors"in Xt.inspectOpts?!!Xt.inspectOpts.colors:E4.isatty(process.stderr.fd)}function h4(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+bE.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=T4()+e+" "+t[0]}function T4(){return Xt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function p4(...t){return process.stderr.write(CE.formatWithOptions(Xt.inspectOpts,...t)+`
`)}function S4(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function R4(){return process.env.DEBUG}function A4(t){t.inspectOpts={};let e=Object.keys(Xt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Xt.inspectOpts[e[r]]}bE.exports=fR()(Xt);var{formatters:c0}=bE.exports;c0.o=function(t){return this.inspectOpts.colors=this.useColors,CE.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};c0.O=function(t){return this.inspectOpts.colors=this.useColors,CE.inspect(t,this.inspectOpts)}});var SR=O((nwe,pR)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?pR.exports=n0():pR.exports=u0()});var p0=O((swe,T0)=>{"use strict";var d0=j(require("crypto")),E0=j(require("os")),f0=j(require("tls")),h0=j(require("fs"));uR();var ie=ER(),Mt=SR()("nz:handshake"),RR=class{constructor(e,r,n,i={}){this._hsVersion=-1;this._protocol1=-1;this._protocol2=-1;this.NPSCLIENT_TYPE_DOTNET=11;this.backendProcessId=0;this.backendSecretKey=0;this._socket=e,this._stream=r,this._host=n,this._options=i,this._guardiumClientOS=process.platform,this._guardiumClientOSUser=process.env.USERNAME||process.env.USER||"unknown",this._guardiumAppName="scJs-Driver",this._guardiumClientHostName=E0.hostname()}async startup(e,r,n){if(!await this.connHandshakeNegotiate())throw new Error("Handshake negotiation unsuccessful");if(Mt("Sending handshake info"),!await this.connSendHandshakeInfo(e,r))throw new Error("Error in ConnSendHandshakeInfo");if(!await this.connAuthenticate(n))throw new Error("Error in ConnAuthenticate");if(!await this.connConnectionComplete())throw new Error("Error in ConnConnectionComplete");return this._stream}async _readExactly(e){return new Promise((r,n)=>{let i=this._stream.read(e);i?r(i):this._stream.once("readable",()=>{let s=this._stream.read(e);s&&r(s)})})}async readBytes(e){for(;;){let r=this._stream.read(e);if(r!==null)return r;await new Promise(n=>this._stream.once("readable",n))}}async readByte(){return(await this.readBytes(1))[0]}async connHandshakeNegotiate(){let e=Wn.CP_VERSION_6;for(;;){Mt(`Sending version: ${e}`),ie.writeInt32(this._stream,8),ie.writeInt16(this._stream,Ie.HSV2_CLIENT_BEGIN),ie.writeInt16(this._stream,e);let r=await this.readByte();if(Mt(`Got response: ${String.fromCharCode(r)}`),r===78)return this._hsVersion=e,this._protocol2=0,!0;if(r===77){let n=await this.readByte(),i=String.fromCharCode(n);i==="2"?e=Wn.CP_VERSION_2:i==="3"?e=Wn.CP_VERSION_3:i==="4"?e=Wn.CP_VERSION_4:i==="5"&&(e=Wn.CP_VERSION_5)}else return!1}}async connSendHandshakeInfo(e,r){return await this.connSendDatabase(e)?(await this.connSecureSession(),this.connSetNextDataProtocol(this._protocol1,this._protocol2),this._hsVersion===Wn.CP_VERSION_6||this._hsVersion===Wn.CP_VERSION_4?this.connSendHandshakeVersion4(this._hsVersion,r):this.connSendHandshakeVersion2(this._hsVersion,r)):!1}async connSendDatabase(e){let r=Buffer.from(e,"utf8"),n=6+r.length+1;return ie.writeInt32(this._stream,n),ie.writeInt16(this._stream,Ie.HSV2_DB),this._stream.write(r),this._stream.write(Buffer.from([0])),await this.readByte()===78}async connSecureSession(){let r=0,n=this._options.securityLevel;n==="OnlyUnsecuredSession"?r=1:n==="PreferredSecuredSession"?r=2:n==="OnlySecuredSession"&&(r=3),ie.writeInt32(this._stream,10),ie.writeInt16(this._stream,Ie.HSV2_SSL_NEGOTIATE),ie.writeInt32(this._stream,r);let i=await this.readByte();if(i===78){if(this._options.securityLevel==="OnlySecuredSession")throw new Error("Server refused secure session, but OnlySecuredSession was requested.");return!0}if(i===83){Mt("Upgrading to SSL...");let s=Buffer.alloc(6);s.writeInt32BE(6,0),s.writeInt16BE(Ie.HSV2_SSL_CONNECT,4),await new Promise(a=>{this._stream.write(s)?a():this._stream.once("drain",a)}),this._socket.removeAllListeners("data"),this._socket.removeAllListeners("readable");let o={socket:this._socket,rejectUnauthorized:!1};if(this._options.sslCerFilePath){this._options.rejectUnauthorized===!1?o.rejectUnauthorized=!1:o.rejectUnauthorized=!0;try{o.ca=h0.readFileSync(this._options.sslCerFilePath)}catch(a){throw Mt("Failed to load cert file",a),a}}return new Promise((a,l)=>{let c=f0.connect(o,()=>{Mt("SSL Connected"),this._stream=c,this._stream.on("error",u=>{Mt("Secure Stream Error",u)}),this.readByte().then(u=>{u===78?a(!0):l(new Error(`SSL Handshake failed: Unexpected response ${String.fromCharCode(u)}`))}).catch(u=>{Mt("Failed to read SSL confirmation",u),l(u)})});c.on("error",u=>{Mt("SSL Connection Error",u),l(u)})})}return!1}connSetNextDataProtocol(e,r){return this._protocol2===0&&(this._protocol2=5),this._protocol1=3,!0}async connSendHandshakeVersion4(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,Ie.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=Ie.HSV2_APPNAME;for(;s!==0;){if(await this.readByte()!==78)return!1;switch(s){case Ie.HSV2_APPNAME:await this.sendStringOption(s,this._guardiumAppName),s=Ie.HSV2_CLIENT_OS;break;case Ie.HSV2_CLIENT_OS:await this.sendStringOption(s,this._guardiumClientOS),s=Ie.HSV2_CLIENT_HOST_NAME;break;case Ie.HSV2_CLIENT_HOST_NAME:await this.sendStringOption(s,this._guardiumClientHostName),s=Ie.HSV2_CLIENT_OS_USER;break;case Ie.HSV2_CLIENT_OS_USER:await this.sendStringOption(s,this._guardiumClientOSUser),s=Ie.HSV2_PROTOCOL;break;case Ie.HSV2_PROTOCOL:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,this._protocol1),ie.writeInt16(this._stream,this._protocol2),s=Ie.HSV2_REMOTE_PID;break;case Ie.HSV2_REMOTE_PID:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt32(this._stream,process.pid),s=Ie.HSV2_CLIENT_TYPE;break;case Ie.HSV2_CLIENT_TYPE:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,11),e>=5?s=Ie.HSV2_64BIT_VARLENA_ENABLED:s=Ie.HSV2_CLIENT_DONE;break;case Ie.HSV2_64BIT_VARLENA_ENABLED:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,1),s=Ie.HSV2_CLIENT_DONE;break;case Ie.HSV2_CLIENT_DONE:return i=6,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),s=0,!0}}return!1}async connSendHandshakeVersion2(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,Ie.HSV2_USER),this._stream.write(n),this._stream.write(Buffer.from([0]));let s=Ie.HSV2_PROTOCOL;for(;s!==0;){Mt(`Waiting for response in v2 loop. Info: ${s}`);let o=await this.readByte();if(Mt(`Got response: ${String.fromCharCode(o)}`),o===78)switch(s){case Ie.HSV2_PROTOCOL:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,this._protocol1),ie.writeInt16(this._stream,this._protocol2),s=Ie.HSV2_REMOTE_PID;break;case Ie.HSV2_REMOTE_PID:i=10,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt32(this._stream,process.pid),s=Ie.HSV2_CLIENT_TYPE;break;case Ie.HSV2_OPTIONS:s=Ie.HSV2_CLIENT_TYPE;break;case Ie.HSV2_CLIENT_TYPE:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,11),e===Wn.CP_VERSION_5||e===Wn.CP_VERSION_6?s=Ie.HSV2_64BIT_VARLENA_ENABLED:s=Ie.HSV2_CLIENT_DONE;break;case Ie.HSV2_64BIT_VARLENA_ENABLED:i=8,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),ie.writeInt16(this._stream,1),s=Ie.HSV2_CLIENT_DONE;break;case Ie.HSV2_CLIENT_DONE:return i=6,ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,s),s=0,!0}else throw o===ir.ErrorResponse?new Error("Handshake V2 Failed: ErrorResponse from backend"):new Error(`Handshake V2 Failed: Unexpected response ${String.fromCharCode(o)}`)}return!1}async sendStringOption(e,r){let n=Buffer.from(r,"utf8"),i=6+n.length+1;ie.writeInt32(this._stream,i),ie.writeInt16(this._stream,e),this._stream.write(n),this._stream.write(Buffer.from([0]))}async connAuthenticate(e){if(await this.readByte()!==ir.AuthenticationRequest)return!1;let n=ie.readInt32(await this.readBytes(4));if(Mt(`Auth request: ${n}`),n===0)return!0;if(n===3){let i=Buffer.from(e,"utf8"),s=4+i.length+1;return ie.writeInt32(this._stream,s),this._stream.write(i),this._stream.write(Buffer.from([0])),!0}if(n===5){let i=await this.readBytes(2),s=Buffer.from(e,"utf8"),a=d0.createHash("md5").update(Buffer.concat([i,s])).digest("base64").replace(/=+$/,""),l=Buffer.from(a,"utf8"),c=4+l.length+1;return ie.writeInt32(this._stream,c),this._stream.write(l),this._stream.write(Buffer.from([0])),!0}return!1}async readString(){let e=[];for(;;){let r=await this.readByte();if(r===0)break;e.push(r)}return Buffer.from(e).toString("utf8")}async connConnectionComplete(){for(;;){let e=await this.readByte();if(Mt(`Resp: ${String.fromCharCode(e)} (0x${e.toString(16)})`),e===ir.AuthenticationRequest){let n=ie.readInt32(await this.readBytes(4));Mt(`Auth req in complete: ${n}`);continue}if(e===ir.ErrorResponse){let n=await this.readBytes(4),i=ie.readInt32(n);if(i<0||i>1e8){let o=n.toString("utf8");throw o+=await this.readString(),new Error(`Backend Error: ${o}`)}let s=await this.readBytes(i-4);throw new Error(`Backend Error: ${s.toString()}`)}let r=await this.readBytes(4);if(Mt(`Skipped 4 bytes: ${r.toString("hex")}`),e===ir.BackendKeyData){let n=await this.readBytes(4);Mt(`KeyData Padding: ${n.toString("hex")}`);let i=ie.readInt32(await this.readBytes(4)),s=ie.readInt32(await this.readBytes(4));Mt(`KeyData: PID=${i} Key=${s}`),this.backendProcessId=i,this.backendSecretKey=s;continue}if(e===ir.ReadyForQuery)return Mt("ReadyForQuery"),!0;if(e===ir.NoticeResponse){let n=ie.readInt32(await this.readBytes(4)),i=await this.readBytes(n);Mt(`Notice: ${i.toString()}`);continue}}}};T0.exports=RR});var R0=O((owe,S0)=>{"use strict";var AR=class{constructor(e){this.connection=e,this.commandText="",this.parameters=[],this._recordsAffected=-1,this.commandTimeout=e.commandTimeout!==void 0?e.commandTimeout:30}async execute(){return this.connection.execute(this,!1)}async executeNonQuery(){return await this.connection.execute(this,!1),this._recordsAffected}async executeReader(){return this.connection.executeReader(this)}async cancel(){return this.connection.cancel()}};S0.exports=AR});var _0=O((awe,A0)=>{"use strict";var Te={Bool:16,Bytea:17,Char:18,Name:19,Int8:20,Int2:21,Int4:23,Text:25,ShowDate:2530,BpChar:1042,VarChar:1043,Date:1082,Time:1083,Timestamp:1114,TimestampTz:1184,Interval:1186,TimeTz:1266,Numeric:1700,Float4:700,Float8:701},wc=16,_R=class{constructor(e,r,n,i,s){this.currentRow=null;this.closed=!1;this._nameIndex={};this._pendingColumns=null;this._isFinished=!1;this.command=e,this.generator=r,this.columnDescriptions=n||[],this.releaseCallback=i,this._initNameIndex(),this._nextItem=s,this._hasRows=!!(this._nextItem&&this._nextItem.type==="DataRow")}get hasRows(){return this._hasRows}_initNameIndex(){if(this._nameIndex={},this.columnDescriptions)for(let e=0;e<this.columnDescriptions.length;e++)this._nameIndex[this.columnDescriptions[e].name.toLowerCase()]=e}_markFinished(){this._isFinished=!0,this._nextItem=null,this._hasRows=!1,this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}async nextResult(){if(this._pendingColumns){for(this.columnDescriptions=this._pendingColumns,this._pendingColumns=null,this._initNameIndex(),this.currentRow=null;;){let e=await this.generator.next();if(e.done){this._nextItem=null,this._hasRows=!1;break}let r=e.value;if(r.type!=="RowDescriptionStandard")if(r.type==="DataRow"){this._nextItem=r,this._hasRows=!0;break}else if(r.type==="CommandComplete"){this._nextItem=r,this._hasRows=!1;break}else{this._nextItem=r,this._hasRows=!1;break}}return!0}if(this.closed||this._isFinished)return!1;for(;;){let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),!1;let r=e.value;if(r.type==="RowDescription"){this.columnDescriptions=r.columns,this._initNameIndex(),this.currentRow=null;continue}if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;this.columnDescriptions.length===0&&n&&n.description&&(this.columnDescriptions=n.description,this._initNameIndex()),this.currentRow=null;continue}if(r.type==="DataRow")return this._nextItem=r,this._hasRows=!0,!0;if(r.type!=="CommandComplete"){if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");if(r.type==="ReadyForQuery")return this._markFinished(),!1}}}getSchemaTable(){if(!this.columnDescriptions)return[];let e=[];for(let r=0;r<this.columnDescriptions.length;r++){let n=this.columnDescriptions[r],i={ColumnName:n.name,ColumnOrdinal:r+1,ColumnSize:-1,NumericPrecision:0,NumericScale:0,DataType:String,ProviderType:n.typeOid,AllowDBNull:!0,IsReadOnly:!0,IsLong:!1},s=n.typeMod,o=n.typeOid;switch(o){case Te.Bool:i.DataType=Boolean,i.ColumnSize=1;break;case Te.Int2:i.DataType=Number,i.ColumnSize=2;break;case Te.Int4:i.DataType=Number,i.ColumnSize=4;break;case Te.Int8:i.DataType=Number,i.ColumnSize=8;break;case Te.Float4:case Te.Float8:i.DataType=Number,i.ColumnSize=o===Te.Float8?8:4,i.NumericPrecision=o===Te.Float8?53:24;break;case Te.Numeric:if(i.DataType=Number,s>wc){let a=s-wc>>16,l=s-wc&65535;i.NumericPrecision=a,i.NumericScale=l,i.ColumnSize=Math.floor(a/2)+1,i.ColumnSize<n.typeLen&&n.typeLen>0&&(i.ColumnSize=n.typeLen)}else i.ColumnSize=n.typeLen;break;case Te.Date:case Te.Timestamp:case Te.TimestampTz:case Te.Time:case Te.TimeTz:i.DataType=Date,(o===Te.Time||o===Te.TimeTz)&&(i.DataType=Object),i.ColumnSize=n.typeLen;break;case Te.Char:case Te.BpChar:case Te.VarChar:case Te.Text:case Te.Name:case Te.ShowDate:i.DataType=String,s>wc?i.ColumnSize=s-wc:(i.ColumnSize=-1,n.typeLen>0&&(i.ColumnSize=n.typeLen)),i.ColumnSize>8e3&&(i.IsLong=!0);break;default:i.DataType=String,i.ColumnSize=n.typeLen;break}e.push(i)}return{Rows:e,Columns:{Count:e.length}}}getTypeName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);let n=this.columnDescriptions[e].typeOid;switch(n){case Te.Bool:return"BOOL";case Te.Bytea:return"BYTEA";case Te.Char:return"CHAR";case Te.Name:return"NAME";case Te.Int8:return"INT8";case Te.Int2:return"INT2";case Te.Int4:return"INT4";case Te.Text:return"TEXT";case Te.BpChar:return"CHAR";case Te.VarChar:return"VARCHAR";case Te.Date:return"DATE";case Te.Time:return"TIME";case Te.Timestamp:return"TIMESTAMP";case Te.TimestampTz:return"TIMESTAMPTZ";case Te.Interval:return"INTERVAL";case Te.TimeTz:return"TIMETZ";case Te.Numeric:return"NUMERIC";case Te.Float4:return"FLOAT4";case Te.Float8:return"FLOAT8";case 2530:return"DATE";case 15:return"CHAR";case 16:return"BOOL";default:return`UNKNOWN(${n})`}}async read(){if(this.closed||this._isFinished||this._pendingColumns)return!1;let e;if(this._nextItem?(e={value:this._nextItem,done:!1},this._nextItem=null):e=await this.generator.next(),e.done)return this._markFinished(),this.currentRow=null,!1;let r=e.value;if(r.type==="DataRow")return this.currentRow=r.row,!0;if(r.type==="RowDescription")return this._pendingColumns=r.columns,this.currentRow=null,!1;if(r.type==="RowDescriptionStandard"){let n=this.command?._preparedStatement;return this._pendingColumns=n&&n.description?n.description:this.columnDescriptions,this.currentRow=null,!1}if(r.type==="CommandComplete")return this.currentRow=null,this.read();if(r.type==="ErrorResponse")throw new Error(r.message||"Unknown Netezza Error");return r.type==="ReadyForQuery"?(this._markFinished(),this.currentRow=null,!1):this.read()}getValue(e){return this._validateOrdinal(e),this.currentRow[e]}getValueByName(e){let r=this.getOrdinal(e);return this.getValue(r)}getName(e){if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`);return this.columnDescriptions[e].name}getOrdinal(e){let r=this._nameIndex[e.toLowerCase()];if(r===void 0)throw new Error(`Column '${e}' not found`);return r}get fieldCount(){return this.columnDescriptions?.length||0}get FieldCount(){return this.fieldCount}isDBNull(e){return this._validateOrdinal(e),this.currentRow[e]===null}getBoolean(e){let r=this.getValue(e);return r===null?!1:typeof r=="boolean"?r:typeof r=="string"?r.toLowerCase()==="t"||r==="1"||r.toLowerCase()==="true":!!r}getByte(e){let r=this.getValue(e);return r===null?0:Number(r)&255}getInt16(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt32(e){let r=this.getValue(e);return r===null?0:Number(r)}getInt64(e){let r=this.getValue(e);return r===null?0:typeof r=="bigint"?r:Number(r)}getFloat(e){let r=this.getValue(e);return r===null?0:Number(r)}getDouble(e){let r=this.getValue(e);return r===null?0:Number(r)}getDecimal(e){let r=this.getValue(e);return r===null?0:typeof r=="string"?r:Number(r)}getString(e){let r=this.getValue(e);return r===null?null:typeof r=="string"?r:r.toString?r.toString():String(r)}getDateTime(e){let r=this.getValue(e);return r===null?null:r instanceof Date?r:new Date(r)}getTimeSpan(e){let r=this.getValue(e);if(r===null)return null;if(typeof r=="object"&&"hours"in r)return r;if(typeof r=="string"){let n=r.split(":");if(n.length>=2){let i=(n[2]||"0").split(".");return{hours:parseInt(n[0],10),minutes:parseInt(n[1],10),seconds:parseInt(i[0],10),microseconds:i.length>1?parseInt(i[1].padEnd(6,"0"),10):0,toString(){return r}}}}return r}getRowObject(){if(!this.currentRow)return null;let e={};for(let r=0;r<this.columnDescriptions.length;r++)e[this.columnDescriptions[r].name]=this.currentRow[r];return e}getValues(){return this.currentRow?[...this.currentRow]:[]}async close(){if(!this.closed){if(this.closed=!0,!this._isFinished&&this.generator)try{for await(let e of this.generator)if(e.type==="ReadyForQuery")break}catch{}this.releaseCallback&&(this.releaseCallback(),this.releaseCallback=null)}}get isClosed(){return this.closed}_validateOrdinal(e){if(!this.currentRow)throw new Error("No current row. Did you call read()?");if(e<0||e>=this.columnDescriptions.length)throw new Error(`Column ordinal ${e} is out of range`)}async*[Symbol.asyncIterator](){for(;await this.read();)yield this.getRowObject()}};A0.exports=_R});var m0=O((lwe,I0)=>{"use strict";var IR=class{constructor(){this.version=null;this.nullsAllowed=null;this.sizeWord=null;this.sizeWordSize=null;this.numFixedFields=null;this.numVaryingFields=null;this.fixedFieldsSize=0;this.maxRecordSize=null;this.numFields=0;this.fieldType=[];this.fieldSize=[];this.fieldTrueSize=[];this.fieldOffset=[];this.fieldPhysField=[];this.fieldLogField=[];this.fieldNullAllowed=[];this.fieldFixedSize=[];this.fieldSpringField=[];this.dateStyle=null;this.euroDates=null}clear(){this.fieldType=[],this.fieldSize=[],this.fieldTrueSize=[],this.fieldOffset=[],this.fieldPhysField=[],this.fieldLogField=[],this.fieldNullAllowed=[],this.fieldFixedSize=[],this.fieldSpringField=[]}parse(e,r){this.clear();let n=0;this.version=e.readInt32BE(n),n+=4,this.nullsAllowed=e.readInt32BE(n),n+=4,this.sizeWord=e.readInt32BE(n),n+=4,this.sizeWordSize=e.readInt32BE(n),n+=4,this.numFixedFields=e.readInt32BE(n),n+=4,this.numVaryingFields=e.readInt32BE(n),n+=4,this.fixedFieldsSize=e.readInt32BE(n),n+=4,this.maxRecordSize=e.readInt32BE(n),n+=4,this.numFields=e.readInt32BE(n),n+=4;let i=3,s=39;for(let o=0;o<this.numFields;o++){let a=e.readInt32BE(n);a===i&&r?.description?.[o]?.typeOid===702&&(a=s),this.fieldType.push(a),this.fieldSize.push(e.readInt32BE(n+4)),this.fieldTrueSize.push(e.readInt32BE(n+8)),this.fieldOffset.push(e.readInt32BE(n+12)),this.fieldPhysField.push(e.readInt32BE(n+16)),this.fieldLogField.push(e.readInt32BE(n+20)),this.fieldNullAllowed.push(e.readInt32BE(n+24)!==0),this.fieldFixedSize.push(e.readInt32BE(n+28)),this.fieldSpringField.push(e.readInt32BE(n+32)),n+=36}this.dateStyle=e.readInt32BE(n),n+=4,this.euroDates=e.readInt32BE(n)}getFieldPrecision(e){return this.fieldSize[e]>>8&127}getFieldScale(e){return this.fieldSize[e]&255}getNumericDigitCount(e){return Math.floor(this.fieldTrueSize[e]/4)}};I0.exports=IR});var jt=O((uwe,g0)=>{"use strict";var mR=j(require("net")),hs=j(require("fs")),N0=require("events");uR();Qy();var _4=p0(),At=ER(),I4=R0(),m4=_0(),N4=m0(),de=SR()("nz:connection"),NR=class t extends N0.EventEmitter{constructor(r){super();this._socket=null;this._stream=null;this._backendProcessId=0;this._backendSecretKey=0;this._commandNumber=-1;this._connected=!1;this._rowDescription=null;this._rows=[];this._tupdesc=new N4;this._tmpBuffer=Buffer.alloc(65536);this._intBuf=Buffer.allocUnsafe(65536);this._intBufStart=0;this._intBufEnd=0;this.commandTimeout=30;this.connectionTimeout=30;this._executing=!1;this._exportStream=null;this.config=r,r.connectionTimeout!==void 0&&(this.connectionTimeout=r.connectionTimeout)}static{this._streamRegistry=new Map}static registerImportStream(r,n){this._streamRegistry.set(r,n)}static unregisterImportStream(r){this._streamRegistry.delete(r)}async connect(){return new Promise((r,n)=>{if(!this.config.host)return n(new Error("Host is required"));let i=!1,s;this.connectionTimeout>0&&(s=setTimeout(()=>{i=!0,de("Connection timeout triggered after",this.connectionTimeout,"seconds"),this._socket&&this._socket.destroy(),n(new Error(`Connection timeout after ${this.connectionTimeout} seconds`))},this.connectionTimeout*1e3));let o=()=>{s&&(clearTimeout(s),s=void 0)};this._socket=new mR.Socket,this._socket.connect(this.config.port||5480,this.config.host,async()=>{if(i)return;de("Socket connected"),this._socket.setNoDelay(!0),this._stream=this._socket;let a=new _4(this._socket,this._stream,this.config.host,this.config);try{if(this._stream=await a.startup(this.config.database,this.config.user,this.config.password),i)return;o(),this._connected=!0,this._backendProcessId=a.backendProcessId,this._backendSecretKey=a.backendSecretKey,r()}catch(l){o(),this._socket.destroy(),n(l)}}),this._socket.on("error",a=>{de("Socket error",a),o(),this._connected?this.emit("error",a):n(a)}),this._socket.on("close",()=>{de("Socket closed"),o(),this._connected=!1,this.emit("close")})})}async cancel(){if(!(!this._backendProcessId||!this._backendSecretKey))return new Promise((r,n)=>{let i=new mR.Socket;i.on("error",s=>{de("Cancel socket error",s),n(s)}),i.connect(this.config.port||5480,this.config.host,()=>{let s=Buffer.alloc(16);At.writeInt32(s,16,0),At.writeInt32(s,80877102,4),At.writeInt32(s,this._backendProcessId,8),At.writeInt32(s,this._backendSecretKey,12),i.write(s,()=>{}),i.on("close",()=>r()),i.on("end",()=>r()),i.on("error",()=>r())})})}close(){this._socket&&(this._socket.end(),this._socket.destroy())}createCommand(r){let n=new I4(this);return r&&(n.commandText=r),n}async beginTransaction(){let r=this.createCommand("BEGIN");await this.execute(r)}async commit(){let r=this.createCommand("COMMIT");await this.execute(r)}async rollback(){let r=this.createCommand("ROLLBACK");await this.execute(r)}async _readBytes(r){if(this._intBufEnd-this._intBufStart>=r){let n=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+r));return this._intBufStart+=r,n}return this._readBytesSlow(r)}async _readBytesSlow(r){if(r>this._intBuf.length){let i=[],s=this._intBufEnd-this._intBufStart;s>0&&(i.push(Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufEnd))),this._intBufStart=0,this._intBufEnd=0);let o=r-s;for(;o>0;){let a=this._stream.read();a!==null?a.length<=o?(i.push(a),o-=a.length):(i.push(a.slice(0,o)),this._feedBuffer(a.slice(o)),o=0):await this._waitForReadable()}return Buffer.concat(i,r)}if(this._intBuf.length-this._intBufStart<r){let i=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=i}for(;this._intBufEnd-this._intBufStart<r;){let i=this._stream.read();if(i!==null){let s=this._intBuf.length-this._intBufEnd;i.length<=s?(i.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=i.length):(i.copy(this._intBuf,this._intBufEnd,0,s),this._intBufEnd+=s,this._stream.unshift(i.slice(s)))}else await this._waitForReadable()}let n=Buffer.from(this._intBuf.subarray(this._intBufStart,this._intBufStart+r));return this._intBufStart+=r,n}async _waitForReadable(){if(!this._socket||this._socket.destroyed)throw new Error("Socket closed or destroyed during read");return new Promise((r,n)=>{let i=()=>{this._stream.removeListener("readable",s),this._stream.removeListener("close",o),this._stream.removeListener("error",a),this._stream.removeListener("end",o)},s=()=>{i(),r()},o=()=>{i(),n(new Error("Socket closed/ended during read"))},a=l=>{i(),n(l)};this._stream.once("readable",s),this._stream.once("close",o),this._stream.once("end",o),this._stream.once("error",a)})}_feedBuffer(r){this._stream.unshift(r)}async _readInt32(){await this._ensureBufferData(4);let r=this._intBuf.readInt32BE(this._intBufStart);return this._intBufStart+=4,r}async _readInt16(){await this._ensureBufferData(2);let r=this._intBuf.readInt16BE(this._intBufStart);return this._intBufStart+=2,r}async _readByte(){await this._ensureBufferData(1);let r=this._intBuf[this._intBufStart];return this._intBufStart+=1,r}async _ensureBufferData(r){if(!(this._intBufEnd-this._intBufStart>=r)){if(this._intBuf.length-this._intBufStart<r){let n=this._intBufEnd-this._intBufStart;this._intBuf.copy(this._intBuf,0,this._intBufStart,this._intBufEnd),this._intBufStart=0,this._intBufEnd=n}for(;this._intBufEnd-this._intBufStart<r;){let n=this._stream.read();if(n!==null){let i=this._intBuf.length-this._intBufEnd;n.length<=i?(n.copy(this._intBuf,this._intBufEnd),this._intBufEnd+=n.length):(n.copy(this._intBuf,this._intBufEnd,0,i),this._intBufEnd+=i,this._stream.unshift(n.slice(i)))}else await this._waitForReadable()}}}async execute(r,n=!1){let i=r.commandTimeout;if(!i||i<=0)return this._doExecute(r);let s,o=this._doExecute(r),a=new Promise((l,c)=>{s=setTimeout(async()=>{de("Command timeout triggered");try{await this.cancel(),c(new Error("Command execution timeout"))}catch(u){c(new Error("Command execution timeout (Cancel failed: "+u.message+")"))}},i*1e3)});try{return await Promise.race([o,a])}catch(l){throw l.message&&l.message.includes("Command execution timeout")&&o.catch(()=>{}),l}finally{clearTimeout(s)}}async _doExecute(r){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{de("Executing:",r.commandText),this._preExecution(r.commandText);let n=null;for await(let i of this._responseGenerator(r))i.type==="ErrorResponse"&&(n=new Error("Netezza Error: "+i.message));if(n)throw n;return!0}finally{this._executing=!1}}async executeReader(r){let n=r.commandTimeout||this.commandTimeout;if(!n||n<=0)return this._doExecuteReader(r);let i,s=this._doExecuteReader(r),o=new Promise((a,l)=>{i=setTimeout(async()=>{de("Command timeout triggered");try{await this.cancel(),l(new Error("Command execution timeout"))}catch(c){l(new Error("Command execution timeout (Cancel failed: "+c.message+")"))}},n*1e3)});try{return await Promise.race([s,o])}catch(a){throw a.message&&a.message.includes("Command execution timeout")&&s.catch(()=>{}),a}finally{clearTimeout(i)}}async _doExecuteReader(r){if(this._executing)throw new Error("Connection is already executing a command");this._executing=!0;try{de("Executing Reader:",r.commandText),this._preExecution(r.commandText);let n=this._responseGenerator(r),i=[],s=await n.next(),o=null,a=null;for(;!s.done;){let l=s.value;if(l.type==="RowDescription")i=l.columns;else if(l.type==="RowDescriptionStandard"){let c=l.desc;if(c&&c.numFields>0&&i.length===0){let u=r._preparedStatement;u&&u.description&&(i=u.description)}}else if(l.type==="DataRow"||l.type==="CommandComplete"||l.type==="ReadyForQuery"){if(!o&&i.length>0){a=l;break}}else l.type==="ErrorResponse"&&(o=new Error("Netezza Error: "+l.message));s=await n.next()}if(o)throw this._executing=!1,o;return new m4(r,n,i,()=>{this._executing=!1},a)}catch(n){throw this._executing=!1,n}}_preExecution(r){let n=Buffer.from(r,"utf8"),i=Buffer.allocUnsafe(5+n.length+1);i[0]=80,this._commandNumber!==-1?(this._commandNumber++,i.writeInt32BE(this._commandNumber,1)):(i[1]=255,i[2]=255,i[3]=255,i[4]=255),this._commandNumber>1e5&&(this._commandNumber=1),n.copy(i,5),i[5+n.length]=0,this._stream.write(i)}async*_responseGenerator(r){this._rows=[],this._rowDescription=null;let n=!1;for(;!n;){let i=await this._readByte();for(;i===0;)i=await this._readByte();if(i===117){await this._handleExternalTableExportStart();continue}if(i===85){await this._handleExternalTableExportData();continue}if(i===108){await this._handleExternalTableImport();continue}if(i===120){await this._readBytes(4),de("Error operation cancel (Ext Tbl)");continue}if(i===101){await this._readBytes(4);let o=At.readInt32(await this._readBytes(4)),a=(await this._readBytes(o-1)).toString("utf8");await this._readBytes(1);let l=[],c=(await this._readBytes(1))[0];for(l.push(c);c=(await this._readBytes(1))[0],c!==0;)l.push(c);let u=At.readInt32(await this._readBytes(4));await this._consumeExternalTableLogData();continue}let s=await this._readBytes(4);if(i===ir.CommandComplete){let o=await this._readInt32(),a=await this._readBytes(o);de("CommandComplete:",a.toString("utf8")),yield{type:"CommandComplete",text:a.toString("utf8")};continue}if(i===ir.ReadyForQuery){n=!0,yield{type:"ReadyForQuery"};continue}if(i===76){n=!0;continue}if(!(i===48||i===65)){if(i===80){let o=await this._readInt32();await this._readBytes(o);continue}if(i===ir.ErrorResponse){let o=await this._readInt32();yield{type:"ErrorResponse",message:(await this._readBytes(o)).toString("utf8")};continue}if(i===ir.RowDescription){let o=await this._readInt32(),a=await this._readBytes(o);this._parseRowDescription(a,r),yield{type:"RowDescription",columns:this._rowDescription};continue}if(i===ir.DataRow){let o=await this._readInt32(),a=await this._readBytes(o);yield{type:"DataRow",row:this._parseDataRow(a)};continue}if(i===ir.RowDescriptionStandard){let o=await this._readInt32(),a=await this._readBytes(o);this._tupdesc.parse(a,r._preparedStatement),yield{type:"RowDescriptionStandard",desc:this._tupdesc};continue}if(i===ir.RowStandard){yield{type:"DataRow",row:await this._resReadDbosTuple(r)};continue}if(i===ir.NoticeResponse){let o=await this._readInt32(),l=(await this._readBytes(o)).toString("utf8").replace(/\0/g,"").trim();this.emit("notice",{message:l});continue}de("Unknown message:","0x"+i.toString(16));try{let o=await this._readInt32();o>0&&o<1e7&&await this._readBytes(o)}catch{}}}}async _consumeExternalTableLogData(){for(;;){let r=await this._readBytes(4),n=At.readInt32(r);if(n===0)return;let i=await this._readBytes(n);de("ExtLog Content:",i.toString("utf8"))}}async _handleExternalTableExportStart(){await this._readBytes(4),await this._readBytes(10),await this._readBytes(16);let r=At.readInt32(await this._readBytes(4)),i=(await this._readBytes(r)).toString("utf8");de("ExternalTable Export Start. File:",i);try{this._exportStream=hs.createWriteStream(i),this._exportStream.on("error",o=>{de("Export Stream Error:",o)});let s=Buffer.alloc(4);await new Promise(o=>this._stream.write(s,()=>o()))}catch(s){de("Error opening export file:",s);let o=Buffer.alloc(4);At.writeInt32(o,1,0),this._stream.write(o)}}async _handleExternalTableExportData(){de("Handle Export Data: Skipping 8 bytes...");let r=await this._readBytes(4);de("Skipped 4:",r.toString("hex"));let n=await this._readBytes(4);de("Skipped 4 (2):",n.toString("hex")),await this._consumeExternalTableData(this._exportStream),this._exportStream=null}async _consumeExternalTableData(r){for(de("Entering Consume Loop");;){de("Reading status...");let n=await this._readBytes(4),i=At.readInt32(n);if(de("ExtTab Status:",i),i===Es.DATA){let s=At.readInt32(await this._readBytes(4));de("Block Length:",s);let o=await this._readBytes(s);r&&r.write(o)}else if(i===Es.DONE){de("ExternalTable Data Done"),r&&await new Promise(s=>{if(de("Waiting for writeStream finish..."),r.writableFinished)return de("Stream already finished"),s();let o=setTimeout(()=>{de("Stream finish timeout! Destroying..."),r.destroy(),s()},5e3),a=()=>{de("Stream finished event"),clearTimeout(o),c(),s()},l=u=>{de("Stream error on end:",u),clearTimeout(o),c(),s()},c=()=>{r.removeListener("finish",a),r.removeListener("error",l)};r.on("finish",a),r.on("error",l),r.end()});return}else if(i===Es.ERROR){let s=At.readInt16(await this._readBytes(2)),o=(await this._readBytes(s)).toString("utf8");de("ExternalTable Data Error:",o),r&&r.end();return}else{de("Unknown ExtTab Status:",i),r&&r.end();return}}}async _handleExternalTableImport(){await this._readBytes(8);let r=[],n=(await this._readBytes(1))[0];for(r.push(n);n!==0;)n=(await this._readBytes(1))[0],n!==0&&r.push(n);let i=Buffer.from(r).toString("utf8");de("ExternalTable Import Start. File:",i);let s=At.readInt32(await this._readBytes(4));de("Host Version:",s);let o=Buffer.alloc(4);At.writeInt32(o,1,0),await new Promise(f=>this._stream.write(o,()=>f())),de("Sent Client Version");let a=At.readInt32(await this._readBytes(4)),l=At.readInt32(await this._readBytes(4));if(de("ExtTab Import Config:",{hostVersion:s,format:a,bufSize:l}),t._streamRegistry.has(i))de("Using virtual import stream for:",i);else if(!hs.existsSync(i)){de("Import file not found:",i);let f=Buffer.alloc(4);At.writeInt32(f,Es.ERROR,0),this._stream.write(f);return}let c=0,u;t._streamRegistry.has(i)?(u=t._streamRegistry.get(i),c=u.byteLength||0):(c=hs.statSync(i).size,u=hs.createReadStream(i,{highWaterMark:l||65536}));let d=0;await new Promise((f,E)=>{u.on("data",T=>{let h=Buffer.isBuffer(T)?T:Buffer.from(T),p=Buffer.alloc(8);At.writeInt32(p,Es.DATA,0),At.writeInt32(p,h.length,4),this._stream.write(p),this._stream.write(h),d+=h.length,this.emit("importProgress",{bytesSent:d,totalSize:c,percentComplete:c>0?Math.round(d/c*100):0})}),u.on("end",()=>{de("Import Stream End");let T=Buffer.alloc(4);At.writeInt32(T,Es.DONE,0),this._stream.write(T),f()}),u.on("error",T=>{de("Import Stream Error:",T);let h=Buffer.alloc(4);At.writeInt32(h,Es.ERROR,0),this._stream.write(h);let p=T.message||"Error",S=Buffer.alloc(2);S.writeInt16BE(p.length),this._stream.write(S),this._stream.write(Buffer.from(p,"utf8")),E(T)})})}_parseRowDescription(r,n){de("parseRowDescription data length:",r.length,"hex:",r.toString("hex").substring(0,100));let i=0;if(r.length<2){de("Data too short for row description");return}let s=r.readInt16BE(i);i+=2,de("Column count:",s),this._rowDescription=[];for(let o=0;o<s&&i<r.length;o++){let a=i;for(;i<r.length&&r[i]!==0;)i++;let l=r.toString("utf8",a,i);if(i++,i+11>r.length){de("Not enough data for column",o,"at offset",i,"need 11 more, have",r.length-i);break}let c=r.readInt32BE(i);i+=4;let u=r.readInt16BE(i);i+=2;let d=r.readInt32BE(i);i+=4;let f=r[i];i+=1,this._rowDescription.push({name:l,typeOid:c,typeLen:u,typeMod:d,format:f}),de("Column",o,":",l,"typeOid:",c,"typeLen:",u)}n&&(n._preparedStatement={description:this._rowDescription})}_parseDataRow(r){let n=this._rowDescription.length,s=Math.ceil(n/8),o=[];for(let a=0;a<n;a++){let l=r[Math.floor(a/8)],c=7-a%8;if(!((l&1<<c)!==0)){o.push(null);continue}let d=r.readInt32BE(s);s+=4;let f=d-4;if(f<=0){o.push(null);continue}let T=this._rowDescription[a]?.typeOid,h=r.toString("utf8",s,s+f);T===1083?o.push(jy(h)):o.push(h),s+=f}return o}async _resReadDbosTuple(r){let n=this._tupdesc.numFields;await this._readBytes(4);let i=At.readInt32(await this._readBytes(4)),s=await this._readBytes(i),o=new Array(n);for(let a=0;a<n;a++){if(this._columnIsNull(s,a)){o[a]=null;continue}let l=this._cTableFieldAt(s,a),c=this._tupdesc.fieldType[a],u=this._tupdesc.fieldSize[a];o[a]=this._parseFieldByType(l,c,u,a)}return o}_parseFieldByType(r,n,i,s){switch(n){case xt.NzTypeChar:return r.toString("latin1",0,i).trimEnd();case xt.NzTypeNChar:case xt.NzTypeNVarChar:{let o=r.readInt16LE(0)-2;return r.toString("utf8",2,2+o)}case xt.NzTypeVarChar:case xt.NzTypeVarFixedChar:{let o=r.readInt16LE(0)-2;return r.toString("latin1",2,2+o)}case xt.NzTypeInt8:return r.readBigInt64LE(0);case xt.NzTypeInt:return r.readInt32LE(0);case xt.NzTypeInt2:return r.readInt16LE(0);case xt.NzTypeInt1:return r.readInt8(0);case xt.NzTypeDouble:return r.readDoubleLE(0);case xt.NzTypeFloat:return r.readFloatLE(0);case xt.NzTypeDate:return Xy(r);case xt.NzTypeTime:return NE(r);case xt.NzTypeInterval:return Ky(r);case xt.NzTypeTimeTz:return zy(r,i);case xt.NzTypeTimestamp:return qy(r);case xt.NzTypeBool:return r[0]===1;case xt.NzTypeNumeric:{let o=this._tupdesc.getFieldPrecision(s),a=this._tupdesc.getFieldScale(s),l=this._tupdesc.getNumericDigitCount(s);return Jy(r,o,a,l)}default:return r.toString("utf8",0,i)}}_columnIsNull(r,n){if(!this._tupdesc.nullsAllowed)return!1;let i=this._tupdesc.fieldPhysField[n];return(r[2+Math.floor(i/8)]&1<<i%8)!==0}_cTableFieldAt(r,n){if(this._tupdesc.fieldFixedSize[n]!==0)return r.slice(this._tupdesc.fieldOffset[n]);let i=r.slice(this._tupdesc.fixedFieldsSize);for(let s=0;s<this._tupdesc.fieldOffset[n];s++){let o=i.readInt16LE(0);i=i.slice(o%2===0?o:o+1)}return i}};g0.exports=NR});var yE,Ci,gR=Y(()=>{"use strict";yE=j(require("vscode")),Ci=class t{constructor(e){this.context=e;this._connections={};this._activeConnectionName=null;this._documentConnections=new Map;this._persistentConnections=new Map;this._keepConnectionOpen=!1;this._onDidChangeConnections=new yE.EventEmitter;this.onDidChangeConnections=this._onDidChangeConnections.event;this._onDidChangeActiveConnection=new yE.EventEmitter;this.onDidChangeActiveConnection=this._onDidChangeActiveConnection.event;this._onDidChangeDocumentConnection=new yE.EventEmitter;this.onDidChangeDocumentConnection=this._onDidChangeDocumentConnection.event;this._loadingPromise=this.loadConnections()}static{this.SERVICE_NAME="netezza-vscode-connections"}static{this.ACTIVE_CONN_KEY="netezza-active-connection"}async loadConnections(){this._activeConnectionName=this.context.globalState.get(t.ACTIVE_CONN_KEY)||null;let e=await this.context.secrets.get(t.SERVICE_NAME);if(e)try{this._connections=JSON.parse(e)}catch(r){console.error("Failed to parse connections:",r),this._connections={}}else{let r=await this.context.secrets.get("netezza-vscode");if(r)try{let n=JSON.parse(r);if(n&&n.host){let i=`Default (${n.host})`;this._connections={[i]:{...n,name:i}},this._activeConnectionName=i,await this.saveConnectionsToStorage()}}catch{}}this._onDidChangeConnections.fire()}async ensureLoaded(){await this._loadingPromise}async saveConnectionsToStorage(){await this.context.secrets.store(t.SERVICE_NAME,JSON.stringify(this._connections)),this._activeConnectionName?await this.context.globalState.update(t.ACTIVE_CONN_KEY,this._activeConnectionName):await this.context.globalState.update(t.ACTIVE_CONN_KEY,void 0)}async saveConnection(e){if(await this.ensureLoaded(),!e.name)throw new Error("Connection name is required");this._connections[e.name]=e,this._activeConnectionName||await this.setActiveConnection(e.name),await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}async deleteConnection(e){if(await this.ensureLoaded(),this._connections[e]){if(await this.closePersistentConnection(e),delete this._connections[e],this._activeConnectionName===e){let r=Object.keys(this._connections);await this.setActiveConnection(r.length>0?r[0]:null)}await this.saveConnectionsToStorage(),this._onDidChangeConnections.fire()}}async getConnections(){return await this.ensureLoaded(),Object.values(this._connections)}async getConnection(e){return await this.ensureLoaded(),this._connections[e]}async setActiveConnection(e){await this.ensureLoaded(),this._activeConnectionName=e,await this.context.globalState.update(t.ACTIVE_CONN_KEY,e),this._onDidChangeActiveConnection.fire(e)}getActiveConnectionName(){return this._activeConnectionName}async getCurrentDatabase(e){await this.ensureLoaded();let r=e||this._activeConnectionName;return r&&this._connections[r]?.database||null}setKeepConnectionOpen(e){this._keepConnectionOpen=e,e||this.closeAllPersistentConnections()}getKeepConnectionOpen(){return this._keepConnectionOpen}async getPersistentConnection(e){let r=e||this._activeConnectionName;if(!r)throw new Error("No connection selected");let n=await this.getConnection(r);if(!n)throw new Error(`Connection '${r}' not found or invalid`);let i=this._persistentConnections.get(r);if(!i){let s=jt(),o={host:n.host,port:n.port||5480,database:n.database,user:n.user,password:n.password},a=new s(o);await a.connect(),i=a,this._persistentConnections.set(r,i)}return i}async closePersistentConnection(e){let r=this._persistentConnections.get(e);if(r){try{await r.close()}catch(n){console.error(`Error closing connection ${e}:`,n)}this._persistentConnections.delete(e)}}async closeAllPersistentConnections(){for(let e of this._persistentConnections.keys())await this.closePersistentConnection(e)}dispose(){this.closeAllPersistentConnections()}getDocumentConnection(e){return this._documentConnections.get(e)}setDocumentConnection(e,r){this._documentConnections.set(e,r),this._onDidChangeDocumentConnection.fire(e)}clearDocumentConnection(e){this._documentConnections.delete(e),this._onDidChangeDocumentConnection.fire(e)}getConnectionForExecution(e){if(e){let r=this._documentConnections.get(e);if(r)return r}return this._activeConnectionName||void 0}}});var C0={};Pt(C0,{QueryHistoryManager:()=>Rr});var O0,sn,CR,Rr,wE=Y(()=>{"use strict";O0=j(require("vscode")),sn=j(require("fs")),CR=j(require("path")),Rr=class t{constructor(e){this.context=e;this.cache=[];this.initialized=!1;if(this.context.globalStorageUri){this.historyFilePath=O0.Uri.joinPath(this.context.globalStorageUri,"query-history.json").fsPath;try{sn.existsSync(this.context.globalStorageUri.fsPath)||sn.mkdirSync(this.context.globalStorageUri.fsPath,{recursive:!0})}catch(r){console.error("[QueryHistoryManager] Error creating storage directory:",r)}}this.initialize()}static{this.STORAGE_KEY="queryHistory"}static{this.MAX_ENTRIES=5e4}static{this.CLEANUP_KEEP=4e4}static{this.STORAGE_VERSION=1}async initialize(){try{let e=!1;if(this.historyFilePath&&sn.existsSync(this.historyFilePath))try{let r=await sn.promises.readFile(this.historyFilePath,"utf-8");if(!r||!r.trim())console.log("[QueryHistoryManager] File is empty, starting fresh"),this.cache=[],e=!0;else{let n=JSON.parse(r);n&&n.entries&&(this.cache=n.entries,e=!0)}}catch(r){console.warn("[QueryHistoryManager] Corrupted history file, resetting:",r),this.cache=[],e=!0;try{await this.saveToStorage(),console.log("[QueryHistoryManager] Reset corrupted file to empty state")}catch(n){console.error("[QueryHistoryManager] Failed to reset file:",n)}}if(!e){let r=this.context.globalState.get(t.STORAGE_KEY);r&&r.entries&&(this.cache=r.entries,console.log(`\u2705 Migrated ${this.cache.length} entries from globalState`),await this.saveToStorage(),await this.context.globalState.update(t.STORAGE_KEY,void 0))}!e&&this.cache.length===0&&await this.migrateFromLegacyStorage(),this.initialized=!0}catch(e){console.error("\u274C Error initializing query history:",e),this.cache=[],this.initialized=!0}}async migrateFromLegacyStorage(){try{let e=this.context.globalStorageUri.fsPath,r=CR.join(e,"query-history.db");sn.existsSync(r)&&console.log("\u26A0\uFE0F SQLite database found but migration not implemented");let n=CR.join(e,"query-history-archive.json");if(sn.existsSync(n))try{let i=sn.readFileSync(n,"utf8");if(i.trim()){let s=JSON.parse(i);this.cache.push(...s),await this.saveToStorage(),console.log(`\u2705 Migrated archive with ${s.length} entries`)}}catch{}}catch(e){console.error("Error during migration:",e)}}async saveToStorage(){if(this.historyFilePath)try{let e={entries:this.cache,version:t.STORAGE_VERSION};await sn.promises.writeFile(this.historyFilePath,JSON.stringify(e),"utf-8")}catch(e){console.error("Error saving to storage:",e)}}async addEntry(e,r,n,i,s,o,a){try{this.initialized||await this.initialize();let l=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,c=Date.now(),u={id:l,host:e,database:r,schema:n,query:i.trim(),timestamp:c,connectionName:s,is_favorite:!1,tags:o||"",description:a||""};this.cache.unshift(u),this.cache.length>t.MAX_ENTRIES&&(this.cache=this.cache.slice(0,t.CLEANUP_KEEP),console.log(`Cleaned up old entries, keeping ${t.CLEANUP_KEEP} newest`)),await this.saveToStorage()}catch(l){console.error("Error adding query to history:",l)}}async getHistory(){return this.initialized||await this.initialize(),[...this.cache]}async deleteEntry(e){try{this.initialized||await this.initialize(),this.cache=this.cache.filter(r=>r.id!==e),await this.saveToStorage()}catch(r){console.error("Error deleting entry:",r)}}async clearHistory(){try{this.initialized||await this.initialize(),this.cache=[],await this.saveToStorage(),console.log("All query history cleared")}catch(e){console.error("Error clearing history:",e)}}async getStats(){try{let e=this.cache.length,r=JSON.stringify(this.cache).length,n=parseFloat((r/(1024*1024)).toFixed(2));return{activeEntries:e,archivedEntries:0,totalEntries:e,activeFileSizeMB:n,archiveFileSizeMB:0,totalFileSizeMB:n}}catch(e){return console.error("Error getting stats:",e),{activeEntries:0,archivedEntries:0,totalEntries:0,activeFileSizeMB:0,archiveFileSizeMB:0,totalFileSizeMB:0}}}async toggleFavorite(e){try{this.initialized||await this.initialize();let r=this.cache.find(n=>n.id===e);r&&(r.is_favorite=!r.is_favorite,await this.saveToStorage())}catch(r){console.error("Error toggling favorite:",r)}}async updateEntry(e,r,n){try{this.initialized||await this.initialize();let i=this.cache.find(s=>s.id===e);i&&(r!==void 0&&(i.tags=r),n!==void 0&&(i.description=n),await this.saveToStorage())}catch(i){console.error("Error updating entry:",i)}}async getFavorites(){return this.initialized||await this.initialize(),this.cache.filter(e=>e.is_favorite)}async getByTag(e){return this.initialized||await this.initialize(),this.cache.filter(r=>r.tags?.toLowerCase().includes(e.toLowerCase()))}async getAllTags(){this.initialized||await this.initialize();let e=new Set;return this.cache.forEach(r=>{r.tags&&r.tags.split(",").forEach(i=>{let s=i.trim();s&&e.add(s)})}),Array.from(e).sort()}async searchAll(e){this.initialized||await this.initialize();let r=e.toLowerCase();return this.cache.filter(n=>n.query.toLowerCase().includes(r)||n.host.toLowerCase().includes(r)||n.database.toLowerCase().includes(r)||n.schema.toLowerCase().includes(r)||n.tags?.toLowerCase().includes(r)||n.description?.toLowerCase().includes(r))}async getFilteredHistory(e,r,n,i){this.initialized||await this.initialize();let s=this.cache.filter(o=>!(e&&o.host!==e||r&&o.database!==r||n&&o.schema!==n));return i&&(s=s.slice(0,i)),s}async getArchivedHistory(){return[]}async clearArchive(){}close(){console.log("Query history manager closed")}}});function LE(t){let e=new Set;if(!t)return e;for(let r of t.matchAll(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g))r[1]&&e.add(r[1]);for(let r of t.matchAll(/\$([A-Za-z_][A-Za-z0-9_]*)(?!\s*\})/g)){let n=r[0],i=r.index;if(i>0&&t[i-1]==="{")continue;let s=i+n.length;s<t.length&&t[s]==="}"||r[1]&&e.add(r[1])}return e}function DE(t){if(!t)return{sql:"",setValues:{}};let e=t.split(/\r?\n/),r=[],n={};for(let i of e){let s=i.match(/^\s*@SET\s+([A-Za-z0-9_]+)\s*=\s*(.+)$/i);if(s){let o=s[2].trim();o.endsWith(";")&&(o=o.slice(0,-1).trim());let a=o.match(/^'(.*)'$/s)||o.match(/^"(.*)"$/s);a&&(o=a[1]),n[s[1]]=o}else r.push(i)}return{sql:r.join(`
`),setValues:n}}function PE(t,e){let r=t.replace(/\$\{([A-Za-z_][A-Za-z0-9_]*)\}/g,(i,s)=>e[s]??""),n=Object.keys(e).sort((i,s)=>s.length-i.length);for(let i of n)if(/^[A-Za-z_]/.test(i)){let s=new RegExp(`\\$${i}(?![A-Za-z0-9_])`,"g");r=r.replace(s,e[i]??"")}return r}var b0=Y(()=>{"use strict"});async function y0(){let t=Lr.window.activeTextEditor;if(!t){Lr.window.showWarningMessage("No active editor to cancel query for.");return}let e=t.document.uri.toString(),r=bi.get(e);if(r)try{await r.cancel(),Lr.window.showInformationMessage("Cancellation request sent.")}catch(n){let i=n instanceof Error?n.message:String(n);Lr.window.showErrorMessage(`Failed to cancel query: ${i}`)}else Lr.window.showInformationMessage("No active query found for this tab.")}async function bR(t,e,r){let n={};if(t.size===0)return n;if(e){let s=Array.from(t).filter(o=>!(r&&r[o]!==void 0));if(s.length>0)throw new Error("Query contains variables but silent mode is enabled; cannot prompt for values. Missing: "+s.join(", "));for(let o of t)n[o]=r[o];return n}let i=[];for(let s of t)r&&r[s]!==void 0?n[s]=r[s]:i.push(s);for(let s of i){let o=await Lr.window.showInputBox({prompt:`Enter value for ${s}`,placeHolder:"",value:r&&r[s]?r[s]:void 0,ignoreFocusOut:!0});if(o===void 0)throw new Error("Variable input cancelled by user");n[s]=o}return n}function g4(t,e){let r;return!t&&!e&&(r=Lr.window.createOutputChannel("Netezza SQL"),r.show(!0)),{outputChannel:r,logCallback:e}}function Lc(t,e){t.outputChannel&&t.outputChannel.appendLine(e),t.logCallback&&t.logCallback(e)}async function O4(t,e){let r=DE(t),n=r.sql,i=r.setValues,s=LE(n);if(s.size>0){let o=await bR(s,e,i);n=PE(n,o)}return n}function w0(t,e,r){let n=e;if(!n&&r&&(n=t.getConnectionForExecution(r)),n||(n=t.getActiveConnectionName()||void 0),!n)throw new Error("No connection selected");return n}async function L0(t,e,r){if(r)return{connection:await t.getPersistentConnection(e),shouldCloseConnection:!1};{let n=jt(),i=await t.getConnection(e);if(!i)throw new Error(`Connection '${e}' not found`);let s={host:i.host,port:i.port||5480,database:i.database,user:i.user,password:i.password},o=new n(s);return await o.connect(),{connection:o,shouldCloseConnection:!0}}}async function yR(t,e){let r=Date.now(),n=1e4;try{let i=!1;do{for(;await t.read();)if(Date.now()-r>n){i=!0;break}if(i)break;if(Date.now()-r>n){i=!0;break}}while(await t.nextResult());i&&console.warn(`consumeRestAndCancel timed out after ${n}ms, forcing cancel`),await e.cancel()}catch(i){console.warn("Failed to cancel command after limit reached:",i)}}async function C4(t,e,r,n){let i=t.createCommand(e);i.commandTimeout=r,n&&bi.set(n,i);try{let s=await i.executeReader(),o=[],a=[],l=2e5,c=0,u=!1;for(;await s.read();){if(o.length===0)for(let f=0;f<s.fieldCount;f++)o.push({name:s.getName(f),type:s.getTypeName(f)});let d=[];for(let f=0;f<s.fieldCount;f++)d.push(s.getValue(f));if(a.push(d),c++,c>=l){u=!0,await yR(s,i);break}}return{columns:o,data:a,limitReached:u}}finally{n&&bi.delete(n)}}async function b4(t,e,r,n){let i="unknown",s=await e.getConnection(r);s&&new Rr(t).addEntry(s.host,s.database,i,n,r).catch(a=>console.error("History log error:",a))}async function y4(t,e,r=!1,n,i,s,o){let a=n||new Ci(t),l=a.getKeepConnectionOpen(),c=g4(r,o);Lc(c,"Executing query..."),i&&Lc(c,`Target Connection: ${i}`);try{let u=await O4(e,r),d=w0(a,i,s),{connection:f,shouldCloseConnection:E}=await L0(a,d,l);if(c.outputChannel){let T=h=>{let p=h;c.outputChannel.appendLine(`NOTICE: ${p.message}`)};f.on("notice",T)}try{let h=Lr.workspace.getConfiguration("netezza").get("queryTimeout",1800),{columns:p,data:S,limitReached:I}=await C4(f,u,h,s);return await b4(t,a,d,e),p.length>0?(Lc(c,"Query completed."),{columns:p,data:S,rowsAffected:void 0,limitReached:I,sql:u}):(Lc(c,"Query executed successfully (no results)."),{columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully (no results).",sql:u})}finally{E&&f&&await f.close()}}catch(u){let f=`Error: ${u.message||String(u)}`;throw Lc(c,f),new Error(f)}}async function K(t,e,r=!1,n,i,s){let o=await y4(t,e,r,i,n,s);if(o.data&&o.data.length>0){let a=o.data.map(c=>{let u={};return o.columns.forEach((d,f)=>{u[d.name]=c[f]}),u});return JSON.stringify(a,(c,u)=>typeof u=="bigint"?u>=Number.MIN_SAFE_INTEGER&&u<=Number.MAX_SAFE_INTEGER?Number(u):u.toString():u,2)}else if(o.message)return o.message}async function D0(t,e,r,n,i){let s=n||new Ci(t),o=s.getKeepConnectionOpen(),a=[],l=w0(s,r,i),{connection:c,shouldCloseConnection:u}=await L0(s,l,o);try{let d=f=>{let E=f;a.push(E.message)};c.on("notice",d);try{let E=Lr.workspace.getConfiguration("netezza").get("queryTimeout",1800),T=c.createCommand(e);T.commandTimeout=E,i&&bi.set(i,T);try{let h=await T.executeReader();for(;await h.read(););}finally{i&&bi.delete(i)}}finally{c.removeListener("notice",d)}}finally{u&&c&&await c.close()}return a.join(`
`)}async function Dc(t,e,r,n,i,s){let o=r||new Ci(t),a=o.getKeepConnectionOpen(),l;i||(l=Lr.window.createOutputChannel("Netezza SQL"),l.show(!0),l.appendLine(`Executing ${e.length} queries sequentially...`));let c=[],u=r?r.getConnectionForExecution(n):void 0;if(u||(u=o.getActiveConnectionName()||void 0),!u)throw l&&l.appendLine("Error: No connection selected"),i&&i("Error: No connection selected"),new Error("No connection selected");try{let d,f=!0,E=await o.getConnection(u);if(!E)throw new Error(`Connection '${u}' not found`);if(a)d=await o.getPersistentConnection(u),f=!1;else{let T=jt(),h={host:E.host,port:E.port||5480,database:E.database,user:E.user,password:E.password};d=new T(h),await d.connect()}d.on("notice",T=>{let h=T;l&&l.appendLine(`NOTICE: ${h.message}`),i&&i(`NOTICE: ${h.message}`)});try{let T="unknown";try{let I=await d.createCommand("SELECT CURRENT_SID").executeReader();if(await I.read()){let R=I.getValue(0);R!==void 0&&i&&i(`Connected. Session ID: ${R}`)}await I.close()}catch(S){console.debug("Could not retrieve session ID:",S),i&&i("Connected.")}let h=new Rr(t),p=u;for(let S=0;S<e.length;S++){let I=e[S],R=`Executing query ${S+1}/${e.length}...`;l&&l.appendLine(R),i&&i(R);try{let A=DE(I),N=A.sql,w=A.setValues,m=LE(N);if(m.size>0){let V=await bR(m,!1,w);N=PE(N,V)}let y=Lr.workspace.getConfiguration("netezza").get("queryTimeout",1800),P=Date.now(),{results:M,error:B}=await w4(d,N,2e5,y,n),G=Date.now()-P;if(i&&i(`Executed query ${S+1}/${e.length} in ${G}ms`),h.addEntry(E.host,E.database,T,I,p).catch(V=>{console.error("Failed to log query to history:",V)}),M&&M.length>0)for(let V of M)V.columns.length>0?c.push({columns:V.columns,data:V.rows,rowsAffected:void 0,limitReached:V.limitReached,sql:N}):c.push({columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully",sql:N});if(s&&M&&M.length>0){let V=[];for(let J of M)J.columns.length>0?V.push({columns:J.columns,data:J.rows,rowsAffected:void 0,limitReached:J.limitReached,sql:N}):V.push({columns:[],data:[],rowsAffected:void 0,message:"Query executed successfully",sql:N});s(V)}if(B)throw B}catch(A){let N=A instanceof Error?A.message:String(A);throw l&&l.appendLine(`Error in query ${S+1}: ${N}`),new Error(N)}}l&&l.appendLine("All queries completed.")}finally{f&&await d.close()}}catch(d){let E=`Error: ${d.message||String(d)}`;throw l&&l.appendLine(E),i&&i(E),new Error(E)}return c}async function w4(t,e,r,n,i){let s=t.createCommand(e);n&&n>0&&(s.commandTimeout=n),i&&bi.set(i,s);try{let o=await s.executeReader(),a=[],l=!0,c;try{do{let u=[],d=[],f=0,E=!1;for(;await o.read();){if(u.length===0)for(let T=0;T<o.fieldCount;T++)u.push({name:o.getName(T),type:o.getTypeName(T)});if(f<r){let T=[];for(let h=0;h<o.fieldCount;h++)T.push(o.getValue(h));d.push(T),f++}if(f>=r){E=!0,await yR(o,s);break}}a.push({columns:u,rows:d,limitReached:E}),l=await o.nextResult()}while(l)}catch(u){c=u instanceof Error?u:new Error(String(u))}return{results:a,error:c}}finally{i&&bi.delete(i)}}async function L4(t,e,r,n,i,s,o){let a=t.createCommand(e);i&&i>0&&(a.commandTimeout=i),s&&bi.set(s,a);try{let l=await a.executeReader(),c,u=0,d=!1;try{let f=[],E=[],T=!0;for(;await l.read();){if(f.length===0)for(let p=0;p<l.fieldCount;p++)f.push({name:l.getName(p),type:l.getTypeName(p)});let h=[];for(let p=0;p<l.fieldCount;p++)h.push(l.getValue(p));if(E.push(h),u++,E.length>=n&&(o({columns:T?f:[],rows:E,isFirstChunk:T,isLastChunk:!1,totalRowsSoFar:u,limitReached:!1}),E=[],T=!1),u>=r){d=!0,await yR(l,a);break}}o({columns:T?f:[],rows:E,isFirstChunk:T,isLastChunk:!0,totalRowsSoFar:u,limitReached:d})}catch(f){c=f instanceof Error?f:new Error(String(f))}return{totalRows:u,limitReached:d,error:c}}finally{s&&bi.delete(s)}}async function P0(t,e,r,n,i,s,o=5e3){let a=r||new Ci(t),l=a.getKeepConnectionOpen(),c;i||(c=Lr.window.createOutputChannel("Netezza SQL"),c.show(!0),c.appendLine(`Executing ${e.length} queries with streaming...`));let u=r?r.getConnectionForExecution(n):void 0;if(u||(u=a.getActiveConnectionName()||void 0),!u){let d="Error: No connection selected";throw c&&c.appendLine(d),i&&i(d),new Error("No connection selected")}try{let d=await a.getConnection(u);if(!d)throw new Error(`Connection '${u}' not found`);let f,E=!0;if(l)f=await a.getPersistentConnection(u),E=!1;else{let T=jt(),h={host:d.host,port:d.port||5480,database:d.database,user:d.user,password:d.password};f=new T(h),await f.connect()}f.on("notice",T=>{let h=T;c&&c.appendLine(`NOTICE: ${h.message}`),i&&i(`NOTICE: ${h.message}`)});try{try{let S=await f.createCommand("SELECT CURRENT_SID").executeReader();if(await S.read()){let I=S.getValue(0);I!==void 0&&i&&i(`Connected. Session ID: ${I}`)}await S.close()}catch(p){console.debug("Could not retrieve session ID:",p),i&&i("Connected.")}let T=new Rr(t),h="unknown";for(let p=0;p<e.length;p++){let S=e[p],I=`Executing query ${p+1}/${e.length}...`;c&&c.appendLine(I),i&&i(I);try{let R=DE(S),A=R.sql,N=R.setValues,w=LE(A);if(w.size>0){let V=await bR(w,!1,N);A=PE(A,V)}let D=Lr.workspace.getConfiguration("netezza").get("queryTimeout",1800),y=Date.now(),{totalRows:P,limitReached:M,error:B}=await L4(f,A,2e5,o,D,n,V=>{s&&s(p,V,A)}),G=Date.now()-y;if(i&&i(`Query ${p+1}/${e.length}: ${P} rows in ${G}ms${M?" (limit reached)":""}`),T.addEntry(d.host,d.database,h,S,u).catch(V=>console.error("Failed to log query to history:",V)),B)throw B}catch(R){let A=R instanceof Error?R.message:String(R);throw c&&c.appendLine(`Error in query ${p+1}: ${A}`),new Error(A)}}c&&c.appendLine("All queries completed.")}finally{E&&await f.close()}}catch(d){let E=`Error: ${d.message||String(d)}`;throw c&&c.appendLine(E),i&&i(E),new Error(E)}}var Lr,bi,Ar=Y(()=>{"use strict";Lr=j(require("vscode"));gR();wE();b0();bi=new Map});var v0={};Pt(v0,{SqlParser:()=>Dr});var Dr,no=Y(()=>{"use strict";Dr=class{static splitStatements(e){let r=[],n="",i=!1,s=!1,o=!1,a=!1,l=0;for(;l<e.length;){let c=e[l],u=l+1<e.length?e[l+1]:"";if(o)c===`
`&&(o=!1);else if(a){if(c==="*"&&u==="/"){a=!1,n+=c+u,l++,l++;continue}}else if(i)c==="'"&&e[l-1]!=="\\"&&(i=!1);else if(s)c==='"'&&e[l-1]!=="\\"&&(s=!1);else if(c==="-"&&u==="-")o=!0;else if(c==="/"&&u==="*")a=!0;else if(c==="'")i=!0;else if(c==='"')s=!0;else if(c===";"){n.trim()&&r.push(n.trim()),n="",l++;continue}n+=c,l++}return n.trim()&&r.push(n.trim()),r}static getStatementAtPosition(e,r){let n=0,i=e.length,s=!1,o=!1,a=!1,l=!1,c=-1;for(let d=0;d<r;d++){let f=e[d],E=d+1<e.length?e[d+1]:"";a?f===`
`&&(a=!1):l?f==="*"&&E==="/"&&(l=!1,d++):s?f==="'"&&e[d-1]!=="\\"&&(s=!1):o?f==='"'&&e[d-1]!=="\\"&&(o=!1):f==="-"&&E==="-"?a=!0:f==="/"&&E==="*"?l=!0:f==="'"?s=!0:f==='"'?o=!0:f===";"&&(c=d)}n=c+1,s=!1,o=!1,a=!1,l=!1;for(let d=n;d<e.length;d++){let f=e[d],E=d+1<e.length?e[d+1]:"";if(a)f===`
`&&(a=!1);else if(l)f==="*"&&E==="/"&&(l=!1,d++);else if(s)f==="'"&&e[d-1]!=="\\"&&(s=!1);else if(o)f==='"'&&e[d-1]!=="\\"&&(o=!1);else if(f==="-"&&E==="-")a=!0;else if(f==="/"&&E==="*")l=!0;else if(f==="'")s=!0;else if(f==='"')o=!0;else if(f===";"){i=d;break}}let u=e.substring(n,i).trim();return u?{sql:u,start:n,end:i}:null}static getObjectAtPosition(e,r){let n=c=>/[a-zA-Z0-9_."]/i.test(c),i=r;for(;i>0&&n(e[i-1]);)i--;let s=r;for(;s<e.length&&n(e[s]);)s++;let o=e.substring(i,s);if(!o)return null;let a=c=>c?c.replace(/"/g,""):void 0;if(o.includes("..")){let c=o.split("..");if(c.length===2)return{database:a(c[0]),name:a(c[1])}}let l=o.split(".");return l.length===1?{name:a(l[0])}:l.length===2?{schema:a(l[0]),name:a(l[1])}:l.length===3?{database:a(l[0]),schema:a(l[1]),name:a(l[2])}:null}}});var q0={};Pt(q0,{exportToCsv:()=>FR});async function FR(t,e,r,n,i,s){let o=null;try{i&&i.report({message:"Connecting to database..."});let a={host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password},l=jt();o=new l(a),await o.connect(),i&&i.report({message:"Executing query..."});let c=o.createCommand(r);s&&(c.commandTimeout=s);let u=await c.executeReader();i&&i.report({message:"Writing to CSV..."});let d=V0.createWriteStream(n,{encoding:"utf8",highWaterMark:64*1024}),f=[];for(let p=0;p<u.fieldCount;p++)f.push(u.getName(p));f.length>0&&d.write(f.map(k0).join(",")+`
`);let E=0,T=[],h=500;for(;await u.read();){E++;let p=[];for(let S=0;S<u.fieldCount;S++)p.push(k0(u.getValue(S)));if(T.push(p.join(",")),T.length>=h){let S=d.write(T.join(`
`)+`
`);T=[],S||await new Promise(I=>d.once("drain",I)),i&&E%1e3===0&&i.report({message:`Processed ${E} rows...`})}}T.length>0&&d.write(T.join(`
`)+`
`),d.end(),await new Promise((p,S)=>{d.on("finish",p),d.on("error",S)}),i&&i.report({message:`Completed: ${E} rows exported`})}finally{if(o)try{await o.close()}catch(a){console.error("Error closing connection:",a)}}}function k0(t){if(t==null)return"";let e="";return typeof t=="bigint"?t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?e=Number(t).toString():e=t.toString():t instanceof Date?e=t.toISOString():typeof t=="object"&&Buffer.isBuffer(t)?e=t.toString("hex"):typeof t=="object"?e=JSON.stringify(t):e=String(t),e.includes('"')||e.includes(",")||e.includes(`
`)||e.includes("\r")?`"${e.replace(/"/g,'""')}"`:e}var V0,GR=Y(()=>{"use strict";V0=j(require("fs"))});var j0=O((_Le,X0)=>{var K4=typeof process=="object"&&process&&process.platform==="win32";X0.exports=K4?{sep:"\\"}:{sep:"/"}});var HR=O((ILe,Q0)=>{"use strict";Q0.exports=z0;function z0(t,e,r){t instanceof RegExp&&(t=K0(t,r)),e instanceof RegExp&&(e=K0(e,r));var n=J0(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function K0(t,e){var r=e.match(t);return r?r[0]:null}z0.range=J0;function J0(t,e,r){var n,i,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(t,u+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}});var ow=O((mLe,sw)=>{var Z0=HR();sw.exports=Q4;var ew="\0SLASH"+Math.random()+"\0",tw="\0OPEN"+Math.random()+"\0",YR="\0CLOSE"+Math.random()+"\0",rw="\0COMMA"+Math.random()+"\0",nw="\0PERIOD"+Math.random()+"\0";function WR(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function z4(t){return t.split("\\\\").join(ew).split("\\{").join(tw).split("\\}").join(YR).split("\\,").join(rw).split("\\.").join(nw)}function J4(t){return t.split(ew).join("\\").split(tw).join("{").split(YR).join("}").split(rw).join(",").split(nw).join(".")}function iw(t){if(!t)return[""];var e=[],r=Z0("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=iw(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Q4(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Bc(z4(t),!0).map(J4)):[]}function Z4(t){return"{"+t+"}"}function e8(t){return/^-?0\d/.test(t)}function t8(t,e){return t<=e}function r8(t,e){return t>=e}function Bc(t,e){var r=[],n=Z0("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Bc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+YR+n.post,Bc(t)):[t];var f;if(u)f=n.body.split(/\.\./);else if(f=iw(n.body),f.length===1&&(f=Bc(f[0],!1).map(Z4),f.length===1))return s.map(function(P){return n.pre+f[0]+P});var E;if(u){var T=WR(f[0]),h=WR(f[1]),p=Math.max(f[0].length,f[1].length),S=f.length==3?Math.abs(WR(f[2])):1,I=t8,R=h<T;R&&(S*=-1,I=r8);var A=f.some(e8);E=[];for(var N=T;I(N,h);N+=S){var w;if(c)w=String.fromCharCode(N),w==="\\"&&(w="");else if(w=String(N),A){var m=p-w.length;if(m>0){var D=new Array(m+1).join("0");N<0?w="-"+D+w.slice(1):w=D+w}}E.push(w)}}else{E=[];for(var y=0;y<f.length;y++)E.push.apply(E,Bc(f[y],!1))}for(var y=0;y<E.length;y++)for(var o=0;o<s.length;o++){var a=i+E[y]+s[o];(!e||u||a)&&r.push(a)}}return r}});var Ew=O((gLe,XR)=>{var qr=XR.exports=(t,e,r={})=>(ef(e),!r.nocomment&&e.charAt(0)==="#"?!1:new xa(e,r).match(t));XR.exports=qr;var VR=j0();qr.sep=VR.sep;var Nn=Symbol("globstar **");qr.GLOBSTAR=Nn;var n8=ow(),aw={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qR="[^/]",$R=qR+"*?",i8="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",s8="(?:(?!(?:\\/|^)\\.).)*?",uw=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),lw=uw("().*{}+?[]^$\\!"),o8=uw("[.("),cw=/\/+/;qr.filter=(t,e={})=>(r,n,i)=>qr(r,t,e);var ps=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};qr.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return qr;let e=qr,r=(n,i,s)=>e(n,i,ps(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,ps(t,s))}},r.Minimatch.defaults=n=>e.defaults(ps(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,ps(t,i)),r.defaults=n=>e.defaults(ps(t,n)),r.makeRe=(n,i)=>e.makeRe(n,ps(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,ps(t,i)),r.match=(n,i,s)=>e.match(n,i,ps(t,s)),r};qr.braceExpand=(t,e)=>dw(t,e);var dw=(t,e={})=>(ef(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:n8(t)),a8=1024*64,ef=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>a8)throw new TypeError("pattern is too long")},kR=Symbol("subparse");qr.makeRe=(t,e)=>new xa(t,e||{}).makeRe();qr.match=(t,e,r={})=>{let n=new xa(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var l8=t=>t.replace(/\\(.)/g,"$1"),c8=t=>t.replace(/\\([^-\]])/g,"$1"),u8=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),d8=t=>t.replace(/[[\]\\]/g,"\\$&"),xa=class{constructor(e,r){ef(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(cw)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,l=r.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=r[o],u=e[s];if(this.debug(r,c,u),c===!1)return!1;if(c===Nn){this.debug("GLOBSTAR",[r,c,u]);var d=s,f=o+1;if(f===l){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;d<a;){var E=e[d];if(this.debug(`
globstar while`,e,d,r,f,E),this.matchOne(e.slice(d),r.slice(f),n))return this.debug("globstar found match!",d,a,E),!0;if(E==="."||E===".."||!i.dot&&E.charAt(0)==="."){this.debug("dot detected!",e,d,r,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,f),d===a))}var T;if(typeof c=="string"?(T=u===c,this.debug("string match",c,u,T)):(T=u.match(c),this.debug("pattern match",c,u,T)),!T)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return dw(this.pattern,this.options)}parse(e,r){ef(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return Nn;if(e==="")return"";let i="",s=!1,o=!1,a=[],l=[],c,u=!1,d=-1,f=-1,E,T,h,p=e.charAt(0)===".",S=n.dot||p,I=()=>p?"":S?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",R=m=>m.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",A=()=>{if(c){switch(c){case"*":i+=$R,s=!0;break;case"?":i+=qR,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let m=0,D;m<e.length&&(D=e.charAt(m));m++){if(this.debug("%s	%s %s %j",e,m,i,D),o){if(D==="/")return!1;lw[D]&&(i+="\\"),i+=D,o=!1;continue}switch(D){case"/":return!1;case"\\":if(u&&e.charAt(m+1)==="-"){i+=D;continue}A(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,m,i,D),u){this.debug("  in class"),D==="!"&&m===f+1&&(D="^"),i+=D;continue}this.debug("call clearStateChar %j",c),A(),c=D,n.noext&&A();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}let y={type:c,start:m-1,reStart:i.length,open:aw[c].open,close:aw[c].close};this.debug(this.pattern,"	",y),a.push(y),i+=y.open,y.start===0&&y.type!=="!"&&(p=!0,i+=R(e.slice(m+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let y=a[a.length-1];if(u||!y){i+="\\)";continue}a.pop(),A(),s=!0,T=y,i+=T.close,T.type==="!"&&l.push(Object.assign(T,{reEnd:i.length}));continue}case"|":{let y=a[a.length-1];if(u||!y){i+="\\|";continue}A(),i+="|",y.start===0&&y.type!=="!"&&(p=!0,i+=R(e.slice(m+1)));continue}case"[":if(A(),u){i+="\\"+D;continue}u=!0,f=m,d=i.length,i+=D;continue;case"]":if(m===f+1||!u){i+="\\"+D;continue}E=e.substring(f+1,m);try{RegExp("["+d8(c8(E))+"]"),i+=D}catch{i=i.substring(0,d)+"(?:$.)"}s=!0,u=!1;continue;default:A(),lw[D]&&!(D==="^"&&u)&&(i+="\\"),i+=D;break}}for(u&&(E=e.slice(f+1),h=this.parse(E,kR),i=i.substring(0,d)+"\\["+h[0],s=s||h[1]),T=a.pop();T;T=a.pop()){let m;m=i.slice(T.reStart+T.open.length),this.debug("setting tail",i,T),m=m.replace(/((?:\\{2}){0,64})(\\?)\|/g,(y,P,M)=>(M||(M="\\"),P+P+M+"|")),this.debug(`tail=%j
   %s`,m,m,T,i);let D=T.type==="*"?$R:T.type==="?"?qR:"\\"+T.type;s=!0,i=i.slice(0,T.reStart)+D+"\\("+m}A(),o&&(i+="\\\\");let N=o8[i.charAt(0)];for(let m=l.length-1;m>-1;m--){let D=l[m],y=i.slice(0,D.reStart),P=i.slice(D.reStart,D.reEnd-8),M=i.slice(D.reEnd),B=i.slice(D.reEnd-8,D.reEnd)+M,G=y.split(")").length,V=y.split("(").length-G,J=M;for(let re=0;re<V;re++)J=J.replace(/\)[+*?]?/,"");M=J;let ne=M===""&&r!==kR?"(?:$|\\/)":"";i=y+P+M+ne+B}if(i!==""&&s&&(i="(?=.)"+i),N&&(i=I()+i),r===kR)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return l8(e);let w=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",w),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?$R:r.dot?i8:s8,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?u8(a):a===Nn?Nn:a._src).reduce((a,l)=>(a[a.length-1]===Nn&&l===Nn||a.push(l),a),[]),o.forEach((a,l)=>{a!==Nn||o[l-1]===Nn||(l===0?o.length>1?o[l+1]="(?:\\/|"+n+"\\/)?"+o[l+1]:o[l]=n:l===o.length-1?o[l-1]+="(?:\\/|"+n+")?":(o[l-1]+="(?:\\/|\\/"+n+"\\/)"+o[l+1],o[l+1]=Nn))}),o.filter(a=>a!==Nn).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;VR.sep!=="/"&&(e=e.split(VR.sep).join("/")),e=e.split(cw),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],l=e;if(n.matchBase&&a.length===1&&(l=[s]),this.matchOne(l,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return qr.defaults(e).Minimatch}};qr.Minimatch=xa});var Sw=O((OLe,pw)=>{pw.exports=Tw;var KR=require("fs"),{EventEmitter:E8}=require("events"),{Minimatch:jR}=Ew(),{resolve:f8}=require("path");function h8(t,e){return new Promise((r,n)=>{KR.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function fw(t,e){return new Promise((r,n)=>{(e?KR.stat:KR.lstat)(t,(s,o)=>{if(s)switch(s.code){case"ENOENT":r(e?fw(t,!1):null);break;default:r(null);break}else r(o)})})}async function*hw(t,e,r,n,i,s){let o=await h8(e+t,s);for(let a of o){let l=a.name;l===void 0&&(l=a,n=!0);let c=t+"/"+l,u=c.slice(1),d=e+"/"+u,f=null;(n||r)&&(f=await fw(d,r)),!f&&a.name!==void 0&&(f=a),f===null&&(f={isDirectory:()=>!1}),f.isDirectory()?i(u)||(yield{relative:u,absolute:d,stats:f},yield*hw(c,e,r,n,i,!1)):yield{relative:u,absolute:d,stats:f}}}async function*T8(t,e,r,n){yield*hw("",t,e,r,n,!0)}function p8(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var tf=class extends E8{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=p8(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new jR(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new jR(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new jR(s,{dot:!0}))}this.iterator=T8(f8(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function Tw(t,e,r){return new tf(t,e,r)}Tw.ReaddirGlob=tf});var Aw=O((rf,Rw)=>{(function(t,e){typeof rf=="object"&&typeof Rw<"u"?e(rf):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(rf,(function(t){"use strict";function e(C,...g){return(...b)=>C(...g,...b)}function r(C){return function(...g){var b=g.pop();return C.call(this,g,b)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,s=typeof process=="object"&&typeof process.nextTick=="function";function o(C){setTimeout(C,0)}function a(C){return(g,...b)=>C(()=>g(...b))}var l;n?l=queueMicrotask:i?l=setImmediate:s?l=process.nextTick:l=o;var c=a(l);function u(C){return E(C)?function(...g){let b=g.pop(),L=C.apply(this,g);return d(L,b)}:r(function(g,b){var L;try{L=C.apply(this,g)}catch(v){return b(v)}if(L&&typeof L.then=="function")return d(L,b);b(null,L)})}function d(C,g){return C.then(b=>{f(g,null,b)},b=>{f(g,b&&(b instanceof Error||b.message)?b:new Error(b))})}function f(C,g,b){try{C(g,b)}catch(L){c(v=>{throw v},L)}}function E(C){return C[Symbol.toStringTag]==="AsyncFunction"}function T(C){return C[Symbol.toStringTag]==="AsyncGenerator"}function h(C){return typeof C[Symbol.asyncIterator]=="function"}function p(C){if(typeof C!="function")throw new Error("expected a function");return E(C)?u(C):C}function S(C,g){if(g||(g=C.length),!g)throw new Error("arity is undefined");function b(...L){return typeof L[g-1]=="function"?C.apply(this,L):new Promise((v,U)=>{L[g-1]=(F,...H)=>{if(F)return U(F);v(H.length>1?H:H[0])},C.apply(this,L)})}return b}function I(C){return function(b,...L){return S(function(U){var F=this;return C(b,(H,k)=>{p(H).apply(F,L.concat(k))},U)})}}function R(C,g,b,L){g=g||[];var v=[],U=0,F=p(b);return C(g,(H,k,te)=>{var Me=U++;F(H,(We,Ue)=>{v[Me]=Ue,te(We)})},H=>{L(H,v)})}function A(C){return C&&typeof C.length=="number"&&C.length>=0&&C.length%1===0}let N={};function w(C){function g(...b){if(C!==null){var L=C;C=null,L.apply(this,b)}}return Object.assign(g,C),g}function m(C){return C[Symbol.iterator]&&C[Symbol.iterator]()}function D(C){var g=-1,b=C.length;return function(){return++g<b?{value:C[g],key:g}:null}}function y(C){var g=-1;return function(){var L=C.next();return L.done?null:(g++,{value:L.value,key:g})}}function P(C){var g=C?Object.keys(C):[],b=-1,L=g.length;return function v(){var U=g[++b];return U==="__proto__"?v():b<L?{value:C[U],key:U}:null}}function M(C){if(A(C))return D(C);var g=m(C);return g?y(g):P(C)}function B(C){return function(...g){if(C===null)throw new Error("Callback was already called.");var b=C;C=null,b.apply(this,g)}}function G(C,g,b,L){let v=!1,U=!1,F=!1,H=0,k=0;function te(){H>=g||F||v||(F=!0,C.next().then(({value:Ue,done:tn})=>{if(!(U||v)){if(F=!1,tn){v=!0,H<=0&&L(null);return}H++,b(Ue,k,Me),k++,te()}}).catch(We))}function Me(Ue,tn){if(H-=1,!U){if(Ue)return We(Ue);if(Ue===!1){v=!0,U=!0;return}if(tn===N||v&&H<=0)return v=!0,L(null);te()}}function We(Ue){U||(F=!1,v=!0,L(Ue))}te()}var V=C=>(g,b,L)=>{if(L=w(L),C<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!g)return L(null);if(T(g))return G(g,C,b,L);if(h(g))return G(g[Symbol.asyncIterator](),C,b,L);var v=M(g),U=!1,F=!1,H=0,k=!1;function te(We,Ue){if(!F)if(H-=1,We)U=!0,L(We);else if(We===!1)U=!0,F=!0;else{if(Ue===N||U&&H<=0)return U=!0,L(null);k||Me()}}function Me(){for(k=!0;H<C&&!U;){var We=v();if(We===null){U=!0,H<=0&&L(null);return}H+=1,b(We.value,We.key,B(te))}k=!1}Me()};function J(C,g,b,L){return V(g)(C,p(b),L)}var ne=S(J,4);function re(C,g,b){b=w(b);var L=0,v=0,{length:U}=C,F=!1;U===0&&b(null);function H(k,te){k===!1&&(F=!0),F!==!0&&(k?b(k):(++v===U||te===N)&&b(null))}for(;L<U;L++)g(C[L],L,B(H))}function ve(C,g,b){return ne(C,1/0,g,b)}function fe(C,g,b){var L=A(C)?re:ve;return L(C,p(g),b)}var Gr=S(fe,3);function KK(C,g,b){return R(Gr,C,g,b)}var Jd=S(KK,3),ty=I(Jd);function zK(C,g,b){return ne(C,1,g,b)}var In=S(zK,3);function JK(C,g,b){return R(In,C,g,b)}var eR=S(JK,3),ry=I(eR);let Na=Symbol("promiseCallback");function ga(){let C,g;function b(L,...v){if(L)return g(L);C(v.length>1?v:v[0])}return b[Na]=new Promise((L,v)=>{C=L,g=v}),b}function tR(C,g,b){typeof g!="number"&&(b=g,g=null),b=w(b||ga());var L=Object.keys(C).length;if(!L)return b(null);g||(g=L);var v={},U=0,F=!1,H=!1,k=Object.create(null),te=[],Me=[],We={};Object.keys(C).forEach(Z=>{var oe=C[Z];if(!Array.isArray(oe)){Ue(Z,[oe]),Me.push(Z);return}var Be=oe.slice(0,oe.length-1),st=Be.length;if(st===0){Ue(Z,oe),Me.push(Z);return}We[Z]=st,Be.forEach(Vt=>{if(!C[Vt])throw new Error("async.auto task `"+Z+"` has a non-existent dependency `"+Vt+"` in "+Be.join(", "));Ca(Vt,()=>{st--,st===0&&Ue(Z,oe)})})}),Ye(),tn();function Ue(Z,oe){te.push(()=>Cc(Z,oe))}function tn(){if(!F){if(te.length===0&&U===0)return b(null,v);for(;te.length&&U<g;){var Z=te.shift();Z()}}}function Ca(Z,oe){var Be=k[Z];Be||(Be=k[Z]=[]),Be.push(oe)}function Zs(Z){var oe=k[Z]||[];oe.forEach(Be=>Be()),tn()}function Cc(Z,oe){if(!H){var Be=B((Vt,...rn)=>{if(U--,Vt===!1){F=!0;return}if(rn.length<2&&([rn]=rn),Vt){var ba={};if(Object.keys(v).forEach(eo=>{ba[eo]=v[eo]}),ba[Z]=rn,H=!0,k=Object.create(null),F)return;b(Vt,ba)}else v[Z]=rn,Zs(Z)});U++;var st=p(oe[oe.length-1]);oe.length>1?st(v,Be):st(Be)}}function Ye(){for(var Z,oe=0;Me.length;)Z=Me.pop(),oe++,se(Z).forEach(Be=>{--We[Be]===0&&Me.push(Be)});if(oe!==L)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function se(Z){var oe=[];return Object.keys(C).forEach(Be=>{let st=C[Be];Array.isArray(st)&&st.indexOf(Z)>=0&&oe.push(Be)}),oe}return b[Na]}var QK=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,ZK=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,ez=/,/,tz=/(=.+)?(\s*)$/;function rz(C){let g="",b=0,L=C.indexOf("*/");for(;b<C.length;)if(C[b]==="/"&&C[b+1]==="/"){let v=C.indexOf(`
`,b);b=v===-1?C.length:v}else if(L!==-1&&C[b]==="/"&&C[b+1]==="*"){let v=C.indexOf("*/",b);v!==-1?(b=v+2,L=C.indexOf("*/",b)):(g+=C[b],b++)}else g+=C[b],b++;return g}function nz(C){let g=rz(C.toString()),b=g.match(QK);if(b||(b=g.match(ZK)),!b)throw new Error(`could not parse args in autoInject
Source:
`+g);let[,L]=b;return L.replace(/\s/g,"").split(ez).map(v=>v.replace(tz,"").trim())}function ny(C,g){var b={};return Object.keys(C).forEach(L=>{var v=C[L],U,F=E(v),H=!F&&v.length===1||F&&v.length===0;if(Array.isArray(v))U=[...v],v=U.pop(),b[L]=U.concat(U.length>0?k:v);else if(H)b[L]=v;else{if(U=nz(v),v.length===0&&!F&&U.length===0)throw new Error("autoInject task functions require explicit parameters.");F||U.pop(),b[L]=U.concat(k)}function k(te,Me){var We=U.map(Ue=>te[Ue]);We.push(Me),p(v)(...We)}}),tR(b,g)}class iz{constructor(){this.head=this.tail=null,this.length=0}removeLink(g){return g.prev?g.prev.next=g.next:this.head=g.next,g.next?g.next.prev=g.prev:this.tail=g.prev,g.prev=g.next=null,this.length-=1,g}empty(){for(;this.head;)this.shift();return this}insertAfter(g,b){b.prev=g,b.next=g.next,g.next?g.next.prev=b:this.tail=b,g.next=b,this.length+=1}insertBefore(g,b){b.prev=g.prev,b.next=g,g.prev?g.prev.next=b:this.head=b,g.prev=b,this.length+=1}unshift(g){this.head?this.insertBefore(this.head,g):iy(this,g)}push(g){this.tail?this.insertAfter(this.tail,g):iy(this,g)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var g=this.head;g;)yield g.data,g=g.next}remove(g){for(var b=this.head;b;){var{next:L}=b;g(b)&&this.removeLink(b),b=L}return this}}function iy(C,g){C.length=1,C.head=C.tail=g}function rR(C,g,b){if(g==null)g=1;else if(g===0)throw new RangeError("Concurrency must not be zero");var L=p(C),v=0,U=[];let F={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function H(se,Z){F[se].push(Z)}function k(se,Z){let oe=(...Be)=>{te(se,oe),Z(...Be)};F[se].push(oe)}function te(se,Z){if(!se)return Object.keys(F).forEach(oe=>F[oe]=[]);if(!Z)return F[se]=[];F[se]=F[se].filter(oe=>oe!==Z)}function Me(se,...Z){F[se].forEach(oe=>oe(...Z))}var We=!1;function Ue(se,Z,oe,Be){if(Be!=null&&typeof Be!="function")throw new Error("task callback must be a function");Ye.started=!0;var st,Vt;function rn(eo,...bc){if(eo)return oe?Vt(eo):st();if(bc.length<=1)return st(bc[0]);st(bc)}var ba=Ye._createTaskItem(se,oe?rn:Be||rn);if(Z?Ye._tasks.unshift(ba):Ye._tasks.push(ba),We||(We=!0,c(()=>{We=!1,Ye.process()})),oe||!Be)return new Promise((eo,bc)=>{st=eo,Vt=bc})}function tn(se){return function(Z,...oe){v-=1;for(var Be=0,st=se.length;Be<st;Be++){var Vt=se[Be],rn=U.indexOf(Vt);rn===0?U.shift():rn>0&&U.splice(rn,1),Vt.callback(Z,...oe),Z!=null&&Me("error",Z,Vt.data)}v<=Ye.concurrency-Ye.buffer&&Me("unsaturated"),Ye.idle()&&Me("drain"),Ye.process()}}function Ca(se){return se.length===0&&Ye.idle()?(c(()=>Me("drain")),!0):!1}let Zs=se=>Z=>{if(!Z)return new Promise((oe,Be)=>{k(se,(st,Vt)=>{if(st)return Be(st);oe(Vt)})});te(se),H(se,Z)};var Cc=!1,Ye={_tasks:new iz,_createTaskItem(se,Z){return{data:se,callback:Z}},*[Symbol.iterator](){yield*Ye._tasks[Symbol.iterator]()},concurrency:g,payload:b,buffer:g/4,started:!1,paused:!1,push(se,Z){return Array.isArray(se)?Ca(se)?void 0:se.map(oe=>Ue(oe,!1,!1,Z)):Ue(se,!1,!1,Z)},pushAsync(se,Z){return Array.isArray(se)?Ca(se)?void 0:se.map(oe=>Ue(oe,!1,!0,Z)):Ue(se,!1,!0,Z)},kill(){te(),Ye._tasks.empty()},unshift(se,Z){return Array.isArray(se)?Ca(se)?void 0:se.map(oe=>Ue(oe,!0,!1,Z)):Ue(se,!0,!1,Z)},unshiftAsync(se,Z){return Array.isArray(se)?Ca(se)?void 0:se.map(oe=>Ue(oe,!0,!0,Z)):Ue(se,!0,!0,Z)},remove(se){Ye._tasks.remove(se)},process(){if(!Cc){for(Cc=!0;!Ye.paused&&v<Ye.concurrency&&Ye._tasks.length;){var se=[],Z=[],oe=Ye._tasks.length;Ye.payload&&(oe=Math.min(oe,Ye.payload));for(var Be=0;Be<oe;Be++){var st=Ye._tasks.shift();se.push(st),U.push(st),Z.push(st.data)}v+=1,Ye._tasks.length===0&&Me("empty"),v===Ye.concurrency&&Me("saturated");var Vt=B(tn(se));L(Z,Vt)}Cc=!1}},length(){return Ye._tasks.length},running(){return v},workersList(){return U},idle(){return Ye._tasks.length+v===0},pause(){Ye.paused=!0},resume(){Ye.paused!==!1&&(Ye.paused=!1,c(Ye.process))}};return Object.defineProperties(Ye,{saturated:{writable:!1,value:Zs("saturated")},unsaturated:{writable:!1,value:Zs("unsaturated")},empty:{writable:!1,value:Zs("empty")},drain:{writable:!1,value:Zs("drain")},error:{writable:!1,value:Zs("error")}}),Ye}function sy(C,g){return rR(C,1,g)}function oy(C,g,b){return rR(C,g,b)}function sz(C,g,b,L){L=w(L);var v=p(b);return In(C,(U,F,H)=>{v(g,U,(k,te)=>{g=te,H(k)})},U=>L(U,g))}var ds=S(sz,4);function nR(...C){var g=C.map(p);return function(...b){var L=this,v=b[b.length-1];return typeof v=="function"?b.pop():v=ga(),ds(g,b,(U,F,H)=>{F.apply(L,U.concat((k,...te)=>{H(k,te)}))},(U,F)=>v(U,...F)),v[Na]}}function ay(...C){return nR(...C.reverse())}function oz(C,g,b,L){return R(V(g),C,b,L)}var Ic=S(oz,4);function az(C,g,b,L){var v=p(b);return Ic(C,g,(U,F)=>{v(U,(H,...k)=>H?F(H):F(H,k))},(U,F)=>{for(var H=[],k=0;k<F.length;k++)F[k]&&(H=H.concat(...F[k]));return L(U,H)})}var Oa=S(az,4);function lz(C,g,b){return Oa(C,1/0,g,b)}var Qd=S(lz,3);function cz(C,g,b){return Oa(C,1,g,b)}var Zd=S(cz,3);function ly(...C){return function(...g){var b=g.pop();return b(null,...C)}}function Oi(C,g){return(b,L,v,U)=>{var F=!1,H;let k=p(v);b(L,(te,Me,We)=>{k(te,(Ue,tn)=>{if(Ue||Ue===!1)return We(Ue);if(C(tn)&&!H)return F=!0,H=g(!0,te),We(null,N);We()})},te=>{if(te)return U(te);U(null,F?H:g(!1))})}}function uz(C,g,b){return Oi(L=>L,(L,v)=>v)(Gr,C,g,b)}var eE=S(uz,3);function dz(C,g,b,L){return Oi(v=>v,(v,U)=>U)(V(g),C,b,L)}var tE=S(dz,4);function Ez(C,g,b){return Oi(L=>L,(L,v)=>v)(V(1),C,g,b)}var rE=S(Ez,3);function cy(C){return(g,...b)=>p(g)(...b,(L,...v)=>{typeof console=="object"&&(L?console.error&&console.error(L):console[C]&&v.forEach(U=>console[C](U)))})}var uy=cy("dir");function fz(C,g,b){b=B(b);var L=p(C),v=p(g),U;function F(k,...te){if(k)return b(k);k!==!1&&(U=te,v(...te,H))}function H(k,te){if(k)return b(k);if(k!==!1){if(!te)return b(null,...U);L(F)}}return H(null,!0)}var mc=S(fz,3);function dy(C,g,b){let L=p(g);return mc(C,(...v)=>{let U=v.pop();L(...v,(F,H)=>U(F,!H))},b)}function Ey(C){return(g,b,L)=>C(g,L)}function hz(C,g,b){return Gr(C,Ey(p(g)),b)}var nE=S(hz,3);function Tz(C,g,b,L){return V(g)(C,Ey(p(b)),L)}var Nc=S(Tz,4);function pz(C,g,b){return Nc(C,1,g,b)}var gc=S(pz,3);function iR(C){return E(C)?C:function(...g){var b=g.pop(),L=!0;g.push((...v)=>{L?c(()=>b(...v)):b(...v)}),C.apply(this,g),L=!1}}function Sz(C,g,b){return Oi(L=>!L,L=>!L)(Gr,C,g,b)}var iE=S(Sz,3);function Rz(C,g,b,L){return Oi(v=>!v,v=>!v)(V(g),C,b,L)}var sE=S(Rz,4);function Az(C,g,b){return Oi(L=>!L,L=>!L)(In,C,g,b)}var oE=S(Az,3);function _z(C,g,b,L){var v=new Array(g.length);C(g,(U,F,H)=>{b(U,(k,te)=>{v[F]=!!te,H(k)})},U=>{if(U)return L(U);for(var F=[],H=0;H<g.length;H++)v[H]&&F.push(g[H]);L(null,F)})}function Iz(C,g,b,L){var v=[];C(g,(U,F,H)=>{b(U,(k,te)=>{if(k)return H(k);te&&v.push({index:F,value:U}),H(k)})},U=>{if(U)return L(U);L(null,v.sort((F,H)=>F.index-H.index).map(F=>F.value))})}function aE(C,g,b,L){var v=A(g)?_z:Iz;return v(C,g,p(b),L)}function mz(C,g,b){return aE(Gr,C,g,b)}var lE=S(mz,3);function Nz(C,g,b,L){return aE(V(g),C,b,L)}var cE=S(Nz,4);function gz(C,g,b){return aE(In,C,g,b)}var uE=S(gz,3);function Oz(C,g){var b=B(g),L=p(iR(C));function v(U){if(U)return b(U);U!==!1&&L(v)}return v()}var fy=S(Oz,2);function Cz(C,g,b,L){var v=p(b);return Ic(C,g,(U,F)=>{v(U,(H,k)=>H?F(H):F(H,{key:k,val:U}))},(U,F)=>{for(var H={},{hasOwnProperty:k}=Object.prototype,te=0;te<F.length;te++)if(F[te]){var{key:Me}=F[te],{val:We}=F[te];k.call(H,Me)?H[Me].push(We):H[Me]=[We]}return L(U,H)})}var dE=S(Cz,4);function hy(C,g,b){return dE(C,1/0,g,b)}function Ty(C,g,b){return dE(C,1,g,b)}var py=cy("log");function bz(C,g,b,L){L=w(L);var v={},U=p(b);return V(g)(C,(F,H,k)=>{U(F,H,(te,Me)=>{if(te)return k(te);v[H]=Me,k(te)})},F=>L(F,v))}var EE=S(bz,4);function Sy(C,g,b){return EE(C,1/0,g,b)}function Ry(C,g,b){return EE(C,1,g,b)}function Ay(C,g=b=>b){var b=Object.create(null),L=Object.create(null),v=p(C),U=r((F,H)=>{var k=g(...F);k in b?c(()=>H(null,...b[k])):k in L?L[k].push(H):(L[k]=[H],v(...F,(te,...Me)=>{te||(b[k]=Me);var We=L[k];delete L[k];for(var Ue=0,tn=We.length;Ue<tn;Ue++)We[Ue](te,...Me)}))});return U.memo=b,U.unmemoized=C,U}var fE;s?fE=process.nextTick:i?fE=setImmediate:fE=o;var _y=a(fE),sR=S((C,g,b)=>{var L=A(g)?[]:{};C(g,(v,U,F)=>{p(v)((H,...k)=>{k.length<2&&([k]=k),L[U]=k,F(H)})},v=>b(v,L))},3);function Iy(C,g){return sR(Gr,C,g)}function my(C,g,b){return sR(V(g),C,b)}function oR(C,g){var b=p(C);return rR((L,v)=>{b(L[0],v)},g,1)}class yz{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(g){let b;for(;g>0&&aR(this.heap[g],this.heap[b=Ny(g)]);){let L=this.heap[g];this.heap[g]=this.heap[b],this.heap[b]=L,g=b}}percDown(g){let b;for(;(b=wz(g))<this.heap.length&&(b+1<this.heap.length&&aR(this.heap[b+1],this.heap[b])&&(b=b+1),!aR(this.heap[g],this.heap[b]));){let L=this.heap[g];this.heap[g]=this.heap[b],this.heap[b]=L,g=b}}push(g){g.pushCount=++this.pushCount,this.heap.push(g),this.percUp(this.heap.length-1)}unshift(g){return this.heap.push(g)}shift(){let[g]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),g}toArray(){return[...this]}*[Symbol.iterator](){for(let g=0;g<this.heap.length;g++)yield this.heap[g].data}remove(g){let b=0;for(let L=0;L<this.heap.length;L++)g(this.heap[L])||(this.heap[b]=this.heap[L],b++);this.heap.splice(b);for(let L=Ny(this.heap.length-1);L>=0;L--)this.percDown(L);return this}}function wz(C){return(C<<1)+1}function Ny(C){return(C+1>>1)-1}function aR(C,g){return C.priority!==g.priority?C.priority<g.priority:C.pushCount<g.pushCount}function gy(C,g){var b=oR(C,g),{push:L,pushAsync:v}=b;b._tasks=new yz,b._createTaskItem=({data:F,priority:H},k)=>({data:F,priority:H,callback:k});function U(F,H){return Array.isArray(F)?F.map(k=>({data:k,priority:H})):{data:F,priority:H}}return b.push=function(F,H=0,k){return L(U(F,H),k)},b.pushAsync=function(F,H=0,k){return v(U(F,H),k)},delete b.unshift,delete b.unshiftAsync,b}function Lz(C,g){if(g=w(g),!Array.isArray(C))return g(new TypeError("First argument to race must be an array of functions"));if(!C.length)return g();for(var b=0,L=C.length;b<L;b++)p(C[b])(g)}var Oy=S(Lz,2);function hE(C,g,b,L){var v=[...C].reverse();return ds(v,g,b,L)}function TE(C){var g=p(C);return r(function(L,v){return L.push((U,...F)=>{let H={};if(U&&(H.error=U),F.length>0){var k=F;F.length<=1&&([k]=F),H.value=k}v(null,H)}),g.apply(this,L)})}function Cy(C){var g;return Array.isArray(C)?g=C.map(TE):(g={},Object.keys(C).forEach(b=>{g[b]=TE.call(this,C[b])})),g}function lR(C,g,b,L){let v=p(b);return aE(C,g,(U,F)=>{v(U,(H,k)=>{F(H,!k)})},L)}function Dz(C,g,b){return lR(Gr,C,g,b)}var by=S(Dz,3);function Pz(C,g,b,L){return lR(V(g),C,b,L)}var yy=S(Pz,4);function xz(C,g,b){return lR(In,C,g,b)}var wy=S(xz,3);function Ly(C){return function(){return C}}let cR=5,Dy=0;function pE(C,g,b){var L={times:cR,intervalFunc:Ly(Dy)};if(arguments.length<3&&typeof C=="function"?(b=g||ga(),g=C):(Mz(L,C),b=b||ga()),typeof g!="function")throw new Error("Invalid arguments for async.retry");var v=p(g),U=1;function F(){v((H,...k)=>{H!==!1&&(H&&U++<L.times&&(typeof L.errorFilter!="function"||L.errorFilter(H))?setTimeout(F,L.intervalFunc(U-1)):b(H,...k))})}return F(),b[Na]}function Mz(C,g){if(typeof g=="object")C.times=+g.times||cR,C.intervalFunc=typeof g.interval=="function"?g.interval:Ly(+g.interval||Dy),C.errorFilter=g.errorFilter;else if(typeof g=="number"||typeof g=="string")C.times=+g||cR;else throw new Error("Invalid arguments for async.retry")}function Py(C,g){g||(g=C,C=null);let b=C&&C.arity||g.length;E(g)&&(b+=1);var L=p(g);return r((v,U)=>{(v.length<b-1||U==null)&&(v.push(U),U=ga());function F(H){L(...v,H)}return C?pE(C,F,U):pE(F,U),U[Na]})}function xy(C,g){return sR(In,C,g)}function vz(C,g,b){return Oi(Boolean,L=>L)(Gr,C,g,b)}var SE=S(vz,3);function Uz(C,g,b,L){return Oi(Boolean,v=>v)(V(g),C,b,L)}var RE=S(Uz,4);function Bz(C,g,b){return Oi(Boolean,L=>L)(In,C,g,b)}var AE=S(Bz,3);function Fz(C,g,b){var L=p(g);return Jd(C,(U,F)=>{L(U,(H,k)=>{if(H)return F(H);F(H,{value:U,criteria:k})})},(U,F)=>{if(U)return b(U);b(null,F.sort(v).map(H=>H.value))});function v(U,F){var H=U.criteria,k=F.criteria;return H<k?-1:H>k?1:0}}var My=S(Fz,3);function vy(C,g,b){var L=p(C);return r((v,U)=>{var F=!1,H;function k(){var te=C.name||"anonymous",Me=new Error('Callback function "'+te+'" timed out.');Me.code="ETIMEDOUT",b&&(Me.info=b),F=!0,U(Me)}v.push((...te)=>{F||(U(...te),clearTimeout(H))}),H=setTimeout(k,g),L(...v)})}function Gz(C){for(var g=Array(C);C--;)g[C]=C;return g}function _E(C,g,b,L){var v=p(b);return Ic(Gz(C),g,v,L)}function Uy(C,g,b){return _E(C,1/0,g,b)}function By(C,g,b){return _E(C,1,g,b)}function Fy(C,g,b,L){arguments.length<=3&&typeof g=="function"&&(L=b,b=g,g=Array.isArray(C)?[]:{}),L=w(L||ga());var v=p(b);return Gr(C,(U,F,H)=>{v(g,U,F,H)},U=>L(U,g)),L[Na]}function Hz(C,g){var b=null,L;return gc(C,(v,U)=>{p(v)((F,...H)=>{if(F===!1)return U(F);H.length<2?[L]=H:L=H,b=F,U(F?null:{})})},()=>g(b,L))}var Gy=S(Hz);function Hy(C){return(...g)=>(C.unmemoized||C)(...g)}function Wz(C,g,b){b=B(b);var L=p(g),v=p(C),U=[];function F(k,...te){if(k)return b(k);U=te,k!==!1&&v(H)}function H(k,te){if(k)return b(k);if(k!==!1){if(!te)return b(null,...U);L(F)}}return v(H)}var Oc=S(Wz,3);function Wy(C,g,b){let L=p(C);return Oc(v=>L((U,F)=>v(U,!F)),g,b)}function Yz(C,g){if(g=w(g),!Array.isArray(C))return g(new Error("First argument to waterfall must be an array of functions"));if(!C.length)return g();var b=0;function L(U){var F=p(C[b++]);F(...U,B(v))}function v(U,...F){if(U!==!1){if(U||b===C.length)return g(U,...F);L(F)}}L([])}var Yy=S(Yz),$z={apply:e,applyEach:ty,applyEachSeries:ry,asyncify:u,auto:tR,autoInject:ny,cargo:sy,cargoQueue:oy,compose:ay,concat:Qd,concatLimit:Oa,concatSeries:Zd,constant:ly,detect:eE,detectLimit:tE,detectSeries:rE,dir:uy,doUntil:dy,doWhilst:mc,each:nE,eachLimit:Nc,eachOf:Gr,eachOfLimit:ne,eachOfSeries:In,eachSeries:gc,ensureAsync:iR,every:iE,everyLimit:sE,everySeries:oE,filter:lE,filterLimit:cE,filterSeries:uE,forever:fy,groupBy:hy,groupByLimit:dE,groupBySeries:Ty,log:py,map:Jd,mapLimit:Ic,mapSeries:eR,mapValues:Sy,mapValuesLimit:EE,mapValuesSeries:Ry,memoize:Ay,nextTick:_y,parallel:Iy,parallelLimit:my,priorityQueue:gy,queue:oR,race:Oy,reduce:ds,reduceRight:hE,reflect:TE,reflectAll:Cy,reject:by,rejectLimit:yy,rejectSeries:wy,retry:pE,retryable:Py,seq:nR,series:xy,setImmediate:c,some:SE,someLimit:RE,someSeries:AE,sortBy:My,timeout:vy,times:Uy,timesLimit:_E,timesSeries:By,transform:Fy,tryEach:Gy,unmemoize:Hy,until:Wy,waterfall:Yy,whilst:Oc,all:iE,allLimit:sE,allSeries:oE,any:SE,anyLimit:RE,anySeries:AE,find:eE,findLimit:tE,findSeries:rE,flatMap:Qd,flatMapLimit:Oa,flatMapSeries:Zd,forEach:nE,forEachSeries:gc,forEachLimit:Nc,forEachOf:Gr,forEachOfSeries:In,forEachOfLimit:ne,inject:ds,foldl:ds,foldr:hE,select:lE,selectLimit:cE,selectSeries:uE,wrapSync:u,during:Oc,doDuring:mc};t.all=iE,t.allLimit=sE,t.allSeries=oE,t.any=SE,t.anyLimit=RE,t.anySeries=AE,t.apply=e,t.applyEach=ty,t.applyEachSeries=ry,t.asyncify=u,t.auto=tR,t.autoInject=ny,t.cargo=sy,t.cargoQueue=oy,t.compose=ay,t.concat=Qd,t.concatLimit=Oa,t.concatSeries=Zd,t.constant=ly,t.default=$z,t.detect=eE,t.detectLimit=tE,t.detectSeries=rE,t.dir=uy,t.doDuring=mc,t.doUntil=dy,t.doWhilst=mc,t.during=Oc,t.each=nE,t.eachLimit=Nc,t.eachOf=Gr,t.eachOfLimit=ne,t.eachOfSeries=In,t.eachSeries=gc,t.ensureAsync=iR,t.every=iE,t.everyLimit=sE,t.everySeries=oE,t.filter=lE,t.filterLimit=cE,t.filterSeries=uE,t.find=eE,t.findLimit=tE,t.findSeries=rE,t.flatMap=Qd,t.flatMapLimit=Oa,t.flatMapSeries=Zd,t.foldl=ds,t.foldr=hE,t.forEach=nE,t.forEachLimit=Nc,t.forEachOf=Gr,t.forEachOfLimit=ne,t.forEachOfSeries=In,t.forEachSeries=gc,t.forever=fy,t.groupBy=hy,t.groupByLimit=dE,t.groupBySeries=Ty,t.inject=ds,t.log=py,t.map=Jd,t.mapLimit=Ic,t.mapSeries=eR,t.mapValues=Sy,t.mapValuesLimit=EE,t.mapValuesSeries=Ry,t.memoize=Ay,t.nextTick=_y,t.parallel=Iy,t.parallelLimit=my,t.priorityQueue=gy,t.queue=oR,t.race=Oy,t.reduce=ds,t.reduceRight=hE,t.reflect=TE,t.reflectAll=Cy,t.reject=by,t.rejectLimit=yy,t.rejectSeries=wy,t.retry=pE,t.retryable=Py,t.select=lE,t.selectLimit=cE,t.selectSeries=uE,t.seq=nR,t.series=xy,t.setImmediate=c,t.some=SE,t.someLimit=RE,t.someSeries=AE,t.sortBy=My,t.timeout=vy,t.times=Uy,t.timesLimit=_E,t.timesSeries=By,t.transform=Fy,t.tryEach=Gy,t.unmemoize=Hy,t.until=Wy,t.waterfall=Yy,t.whilst=Oc,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})}))});var Iw=O((CLe,_w)=>{var Ss=require("constants"),S8=process.cwd,nf=null,R8=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return nf||(nf=S8.call(process)),nf};try{process.cwd()}catch{}typeof process.chdir=="function"&&(zR=process.chdir,process.chdir=function(t){nf=null,zR.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,zR));var zR;_w.exports=A8;function A8(t){Ss.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,d,f){f&&process.nextTick(f)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,d,f,E){E&&process.nextTick(E)},t.lchownSync=function(){}),R8==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:(function(u){function d(f,E,T){var h=Date.now(),p=0;u(f,E,function S(I){if(I&&(I.code==="EACCES"||I.code==="EPERM"||I.code==="EBUSY")&&Date.now()-h<6e4){setTimeout(function(){t.stat(E,function(R,A){R&&R.code==="ENOENT"?u(f,E,S):T(I)})},p),p<100&&(p+=10);return}T&&T(I)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,u),d})(t.rename)),t.read=typeof t.read!="function"?t.read:(function(u){function d(f,E,T,h,p,S){var I;if(S&&typeof S=="function"){var R=0;I=function(A,N,w){if(A&&A.code==="EAGAIN"&&R<10)return R++,u.call(t,f,E,T,h,p,I);S.apply(this,arguments)}}return u.call(t,f,E,T,h,p,I)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,u),d})(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:(function(u){return function(d,f,E,T,h){for(var p=0;;)try{return u.call(t,d,f,E,T,h)}catch(S){if(S.code==="EAGAIN"&&p<10){p++;continue}throw S}}})(t.readSync);function e(u){u.lchmod=function(d,f,E){u.open(d,Ss.O_WRONLY|Ss.O_SYMLINK,f,function(T,h){if(T){E&&E(T);return}u.fchmod(h,f,function(p){u.close(h,function(S){E&&E(p||S)})})})},u.lchmodSync=function(d,f){var E=u.openSync(d,Ss.O_WRONLY|Ss.O_SYMLINK,f),T=!0,h;try{h=u.fchmodSync(E,f),T=!1}finally{if(T)try{u.closeSync(E)}catch{}else u.closeSync(E)}return h}}function r(u){Ss.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(d,f,E,T){u.open(d,Ss.O_SYMLINK,function(h,p){if(h){T&&T(h);return}u.futimes(p,f,E,function(S){u.close(p,function(I){T&&T(S||I)})})})},u.lutimesSync=function(d,f,E){var T=u.openSync(d,Ss.O_SYMLINK),h,p=!0;try{h=u.futimesSync(T,f,E),p=!1}finally{if(p)try{u.closeSync(T)}catch{}else u.closeSync(T)}return h}):u.futimes&&(u.lutimes=function(d,f,E,T){T&&process.nextTick(T)},u.lutimesSync=function(){})}function n(u){return u&&function(d,f,E){return u.call(t,d,f,function(T){c(T)&&(T=null),E&&E.apply(this,arguments)})}}function i(u){return u&&function(d,f){try{return u.call(t,d,f)}catch(E){if(!c(E))throw E}}}function s(u){return u&&function(d,f,E,T){return u.call(t,d,f,E,function(h){c(h)&&(h=null),T&&T.apply(this,arguments)})}}function o(u){return u&&function(d,f,E){try{return u.call(t,d,f,E)}catch(T){if(!c(T))throw T}}}function a(u){return u&&function(d,f,E){typeof f=="function"&&(E=f,f=null);function T(h,p){p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),E&&E.apply(this,arguments)}return f?u.call(t,d,f,T):u.call(t,d,T)}}function l(u){return u&&function(d,f){var E=f?u.call(t,d,f):u.call(t,d);return E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),E}}function c(u){if(!u||u.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var gw=O((bLe,Nw)=>{var mw=require("stream").Stream;Nw.exports=_8;function _8(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);mw.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,d){if(u){s.emit("error",u),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);mw.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Cw=O((yLe,Ow)=>{"use strict";Ow.exports=m8;var I8=Object.getPrototypeOf||function(t){return t.__proto__};function m8(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:I8(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var eA=O((wLe,ZR)=>{var dt=require("fs"),N8=Iw(),g8=gw(),O8=Cw(),sf=require("util"),or,af;typeof Symbol=="function"&&typeof Symbol.for=="function"?(or=Symbol.for("graceful-fs.queue"),af=Symbol.for("graceful-fs.previous")):(or="___graceful-fs.queue",af="___graceful-fs.previous");function C8(){}function ww(t,e){Object.defineProperty(t,or,{get:function(){return e}})}var so=C8;sf.debuglog?so=sf.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(so=function(){var t=sf.format.apply(sf,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});dt[or]||(bw=global[or]||[],ww(dt,bw),dt.close=(function(t){function e(r,n){return t.call(dt,r,function(i){i||yw(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,af,{value:t}),e})(dt.close),dt.closeSync=(function(t){function e(r){t.apply(dt,arguments),yw()}return Object.defineProperty(e,af,{value:t}),e})(dt.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){so(dt[or]),require("assert").equal(dt[or].length,0)}));var bw;global[or]||ww(global,dt[or]);ZR.exports=JR(O8(dt));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!dt.__patched&&(ZR.exports=JR(dt),dt.__patched=!0);function JR(t){N8(t),t.gracefulify=JR,t.createReadStream=N,t.createWriteStream=w;var e=t.readFile;t.readFile=r;function r(y,P,M){return typeof P=="function"&&(M=P,P=null),B(y,P,M);function B(G,V,J,ne){return e(G,V,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?Ma([B,[G,V,J],re,ne||Date.now(),Date.now()]):typeof J=="function"&&J.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(y,P,M,B){return typeof M=="function"&&(B=M,M=null),G(y,P,M,B);function G(V,J,ne,re,ve){return n(V,J,ne,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Ma([G,[V,J,ne,re],fe,ve||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(y,P,M,B){return typeof M=="function"&&(B=M,M=null),G(y,P,M,B);function G(V,J,ne,re,ve){return s(V,J,ne,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Ma([G,[V,J,ne,re],fe,ve||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(y,P,M,B){return typeof M=="function"&&(B=M,M=0),G(y,P,M,B);function G(V,J,ne,re,ve){return a(V,J,ne,function(fe){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Ma([G,[V,J,ne,re],fe,ve||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var c=t.readdir;t.readdir=d;var u=/^v[0-5]\./;function d(y,P,M){typeof P=="function"&&(M=P,P=null);var B=u.test(process.version)?function(J,ne,re,ve){return c(J,G(J,ne,re,ve))}:function(J,ne,re,ve){return c(J,ne,G(J,ne,re,ve))};return B(y,P,M);function G(V,J,ne,re){return function(ve,fe){ve&&(ve.code==="EMFILE"||ve.code==="ENFILE")?Ma([B,[V,J,ne],ve,re||Date.now(),Date.now()]):(fe&&fe.sort&&fe.sort(),typeof ne=="function"&&ne.call(this,ve,fe))}}}if(process.version.substr(0,4)==="v0.8"){var f=g8(t);S=f.ReadStream,R=f.WriteStream}var E=t.ReadStream;E&&(S.prototype=Object.create(E.prototype),S.prototype.open=I);var T=t.WriteStream;T&&(R.prototype=Object.create(T.prototype),R.prototype.open=A),Object.defineProperty(t,"ReadStream",{get:function(){return S},set:function(y){S=y},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return R},set:function(y){R=y},enumerable:!0,configurable:!0});var h=S;Object.defineProperty(t,"FileReadStream",{get:function(){return h},set:function(y){h=y},enumerable:!0,configurable:!0});var p=R;Object.defineProperty(t,"FileWriteStream",{get:function(){return p},set:function(y){p=y},enumerable:!0,configurable:!0});function S(y,P){return this instanceof S?(E.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function I(){var y=this;D(y.path,y.flags,y.mode,function(P,M){P?(y.autoClose&&y.destroy(),y.emit("error",P)):(y.fd=M,y.emit("open",M),y.read())})}function R(y,P){return this instanceof R?(T.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function A(){var y=this;D(y.path,y.flags,y.mode,function(P,M){P?(y.destroy(),y.emit("error",P)):(y.fd=M,y.emit("open",M))})}function N(y,P){return new t.ReadStream(y,P)}function w(y,P){return new t.WriteStream(y,P)}var m=t.open;t.open=D;function D(y,P,M,B){return typeof M=="function"&&(B=M,M=null),G(y,P,M,B);function G(V,J,ne,re,ve){return m(V,J,ne,function(fe,Gr){fe&&(fe.code==="EMFILE"||fe.code==="ENFILE")?Ma([G,[V,J,ne,re],fe,ve||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}return t}function Ma(t){so("ENQUEUE",t[0].name,t[1]),dt[or].push(t),QR()}var of;function yw(){for(var t=Date.now(),e=0;e<dt[or].length;++e)dt[or][e].length>2&&(dt[or][e][3]=t,dt[or][e][4]=t);QR()}function QR(){if(clearTimeout(of),of=void 0,dt[or].length!==0){var t=dt[or].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)so("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){so("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(so("RETRY",e.name,r),e.apply(null,r.concat([i]))):dt[or].push(t)}of===void 0&&(of=setTimeout(QR,0))}}});var lf=O((LLe,Lw)=>{"use strict";var Yn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Yn.writable=t=>Yn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Yn.readable=t=>Yn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Yn.duplex=t=>Yn.writable(t)&&Yn.readable(t);Yn.transform=t=>Yn.duplex(t)&&typeof t._transform=="function";Lw.exports=Yn});var Fc=O((DLe,tA)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?tA.exports={nextTick:b8}:tA.exports=process;function b8(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var Pw=O((PLe,Dw)=>{var y8={}.toString;Dw.exports=Array.isArray||function(t){return y8.call(t)=="[object Array]"}});var rA=O((xLe,xw)=>{xw.exports=require("stream")});var Gc=O((nA,vw)=>{var cf=require("buffer"),yi=cf.Buffer;function Mw(t,e){for(var r in t)e[r]=t[r]}yi.from&&yi.alloc&&yi.allocUnsafe&&yi.allocUnsafeSlow?vw.exports=cf:(Mw(cf,nA),nA.Buffer=va);function va(t,e,r){return yi(t,e,r)}Mw(yi,va);va.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return yi(t,e,r)};va.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=yi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};va.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return yi(t)};va.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return cf.SlowBuffer(t)}});var Ua=O(_r=>{function w8(t){return Array.isArray?Array.isArray(t):uf(t)==="[object Array]"}_r.isArray=w8;function L8(t){return typeof t=="boolean"}_r.isBoolean=L8;function D8(t){return t===null}_r.isNull=D8;function P8(t){return t==null}_r.isNullOrUndefined=P8;function x8(t){return typeof t=="number"}_r.isNumber=x8;function M8(t){return typeof t=="string"}_r.isString=M8;function v8(t){return typeof t=="symbol"}_r.isSymbol=v8;function U8(t){return t===void 0}_r.isUndefined=U8;function B8(t){return uf(t)==="[object RegExp]"}_r.isRegExp=B8;function F8(t){return typeof t=="object"&&t!==null}_r.isObject=F8;function G8(t){return uf(t)==="[object Date]"}_r.isDate=G8;function H8(t){return uf(t)==="[object Error]"||t instanceof Error}_r.isError=H8;function W8(t){return typeof t=="function"}_r.isFunction=W8;function Y8(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}_r.isPrimitive=Y8;_r.isBuffer=require("buffer").Buffer.isBuffer;function uf(t){return Object.prototype.toString.call(t)}});var Uw=O((vLe,iA)=>{typeof Object.create=="function"?iA.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:iA.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Ba=O((ULe,oA)=>{try{if(sA=require("util"),typeof sA.inherits!="function")throw"";oA.exports=sA.inherits}catch{oA.exports=Uw()}var sA});var Fw=O((BLe,aA)=>{"use strict";function $8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Bw=Gc().Buffer,Hc=require("util");function k8(t,e,r){t.copy(e,r)}aA.exports=(function(){function t(){$8(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return Bw.alloc(0);for(var n=Bw.allocUnsafe(r>>>0),i=this.head,s=0;i;)k8(i.data,n,s),s+=i.data.length,i=i.next;return n},t})();Hc&&Hc.inspect&&Hc.inspect.custom&&(aA.exports.prototype[Hc.inspect.custom]=function(){var t=Hc.inspect({length:this.length});return this.constructor.name+" "+t})});var lA=O((FLe,Gw)=>{"use strict";var df=Fc();function V8(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,df.nextTick(Ef,this,t)):df.nextTick(Ef,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,df.nextTick(Ef,r,s)):df.nextTick(Ef,r,s):e&&e(s)}),this)}function q8(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ef(t,e){t.emit("error",e)}Gw.exports={destroy:V8,undestroy:q8}});var Ww=O((GLe,Hw)=>{Hw.exports=require("util").deprecate});var uA=O((HLe,Kw)=>{"use strict";var oo=Fc();Kw.exports=Dt;function $w(t){var e=this;this.next=null,this.entry=null,this.finish=function(){uJ(e,t)}}var X8=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:oo.nextTick,Fa;Dt.WritableState=Yc;var kw=Object.create(Ua());kw.inherits=Ba();var j8={deprecate:Ww()},Vw=rA(),hf=Gc().Buffer,K8=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function z8(t){return hf.from(t)}function J8(t){return hf.isBuffer(t)||t instanceof K8}var qw=lA();kw.inherits(Dt,Vw);function Q8(){}function Yc(t,e){Fa=Fa||ao(),t=t||{};var r=e instanceof Fa;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){sJ(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new $w(this)}Yc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Yc.prototype,"buffer",{get:j8.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ff;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ff=Function.prototype[Symbol.hasInstance],Object.defineProperty(Dt,Symbol.hasInstance,{value:function(t){return ff.call(this,t)?!0:this!==Dt?!1:t&&t._writableState instanceof Yc}})):ff=function(t){return t instanceof this};function Dt(t){if(Fa=Fa||ao(),!ff.call(Dt,this)&&!(this instanceof Fa))return new Dt(t);this._writableState=new Yc(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Vw.call(this)}Dt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Z8(t,e){var r=new Error("write after end");t.emit("error",r),oo.nextTick(e,r)}function eJ(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),oo.nextTick(n,s),i=!1),i}Dt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&J8(t);return s&&!hf.isBuffer(t)&&(t=z8(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Q8),n.ended?Z8(this,r):(s||eJ(this,n,t,r))&&(n.pendingcb++,i=rJ(this,n,s,t,e,r)),i};Dt.prototype.cork=function(){var t=this._writableState;t.corked++};Dt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Xw(this,t))};Dt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function tJ(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=hf.from(e,r)),e}Object.defineProperty(Dt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function rJ(t,e,r,n,i,s){if(!r){var o=tJ(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else cA(t,e,!1,a,n,i,s);return l}function cA(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function nJ(t,e,r,n,i){--e.pendingcb,r?(oo.nextTick(i,n),oo.nextTick(Wc,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Wc(t,e))}function iJ(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function sJ(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(iJ(r),e)nJ(t,r,n,e,i);else{var s=jw(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Xw(t,r),n?X8(Yw,t,r,s,i):Yw(t,r,s,i)}}function Yw(t,e,r,n){r||oJ(t,e),e.pendingcb--,n(),Wc(t,e)}function oJ(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Xw(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,cA(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new $w(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,d=e.objectMode?1:l.length;if(cA(t,e,!1,d,l,c,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Dt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Dt.prototype._writev=null;Dt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||cJ(this,n,r)};function jw(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function aJ(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Wc(t,e)})}function lJ(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,oo.nextTick(aJ,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Wc(t,e){var r=jw(e);return r&&(lJ(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function cJ(t,e,r){e.ending=!0,Wc(t,e),r&&(e.finished?oo.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function uJ(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Dt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Dt.prototype.destroy=qw.destroy;Dt.prototype._undestroy=qw.undestroy;Dt.prototype._destroy=function(t,e){this.end(),e(t)}});var ao=O((WLe,Zw)=>{"use strict";var zw=Fc(),dJ=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Zw.exports=wi;var Jw=Object.create(Ua());Jw.inherits=Ba();var Qw=fA(),EA=uA();Jw.inherits(wi,Qw);for(dA=dJ(EA.prototype),Tf=0;Tf<dA.length;Tf++)pf=dA[Tf],wi.prototype[pf]||(wi.prototype[pf]=EA.prototype[pf]);var dA,pf,Tf;function wi(t){if(!(this instanceof wi))return new wi(t);Qw.call(this,t),EA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",EJ)}Object.defineProperty(wi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function EJ(){this.allowHalfOpen||this._writableState.ended||zw.nextTick(fJ,this)}function fJ(t){t.end()}Object.defineProperty(wi.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});wi.prototype._destroy=function(t,e){this.push(null),this.end(),zw.nextTick(e,t)}});var pA=O(tL=>{"use strict";var TA=Gc().Buffer,eL=TA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function hJ(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function TJ(t){var e=hJ(t);if(typeof e!="string"&&(TA.isEncoding===eL||!eL(t)))throw new Error("Unknown encoding: "+t);return e||t}tL.StringDecoder=$c;function $c(t){this.encoding=TJ(t);var e;switch(this.encoding){case"utf16le":this.text=IJ,this.end=mJ,e=4;break;case"utf8":this.fillLast=RJ,e=4;break;case"base64":this.text=NJ,this.end=gJ,e=3;break;default:this.write=OJ,this.end=CJ;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=TA.allocUnsafe(e)}$c.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};$c.prototype.end=_J;$c.prototype.text=AJ;$c.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function hA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function pJ(t,e,r){var n=e.length-1;if(n<r)return 0;var i=hA(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=hA(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=hA(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function SJ(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function RJ(t){var e=this.lastTotal-this.lastNeed,r=SJ(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function AJ(t,e){var r=pJ(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function _J(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function IJ(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function mJ(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function NJ(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function gJ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function OJ(t){return t.toString(this.encoding)}function CJ(t){return t&&t.length?this.write(t):""}});var fA=O((kLe,fL)=>{"use strict";var Ha=Fc();fL.exports=Qe;var bJ=Pw(),kc;Qe.ReadableState=lL;var $Le=require("events").EventEmitter,sL=function(t,e){return t.listeners(e).length},IA=rA(),Vc=Gc().Buffer,yJ=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function wJ(t){return Vc.from(t)}function LJ(t){return Vc.isBuffer(t)||t instanceof yJ}var oL=Object.create(Ua());oL.inherits=Ba();var SA=require("util"),Ve=void 0;SA&&SA.debuglog?Ve=SA.debuglog("stream"):Ve=function(){};var DJ=Fw(),aL=lA(),Ga;oL.inherits(Qe,IA);var RA=["error","close","destroy","pause","resume"];function PJ(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):bJ(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function lL(t,e){kc=kc||ao(),t=t||{};var r=e instanceof kc;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new DJ,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ga||(Ga=pA().StringDecoder),this.decoder=new Ga(t.encoding),this.encoding=t.encoding)}function Qe(t){if(kc=kc||ao(),!(this instanceof Qe))return new Qe(t);this._readableState=new lL(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),IA.call(this)}Object.defineProperty(Qe.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Qe.prototype.destroy=aL.destroy;Qe.prototype._undestroy=aL.undestroy;Qe.prototype._destroy=function(t,e){this.push(null),e(t)};Qe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Vc.from(t,e),e=""),n=!0),cL(this,t,e,!1,n)};Qe.prototype.unshift=function(t){return cL(this,t,null,!0,!1)};function cL(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,UJ(t,s);else{var o;i||(o=xJ(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Vc.prototype&&(e=wJ(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):AA(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?AA(t,s,e,!1):uL(t,s)):AA(t,s,e,!1))):n||(s.reading=!1)}return MJ(s)}function AA(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Sf(t)),uL(t,e)}function xJ(t,e){var r;return!LJ(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function MJ(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Qe.prototype.isPaused=function(){return this._readableState.flowing===!1};Qe.prototype.setEncoding=function(t){return Ga||(Ga=pA().StringDecoder),this._readableState.decoder=new Ga(t),this._readableState.encoding=t,this};var rL=8388608;function vJ(t){return t>=rL?t=rL:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function nL(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=vJ(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Qe.prototype.read=function(t){Ve("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ve("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?_A(this):Sf(this),null;if(t=nL(t,e),t===0&&e.ended)return e.length===0&&_A(this),null;var n=e.needReadable;Ve("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ve("length less than watermark",n)),e.ended||e.reading?(n=!1,Ve("reading or ended",n)):n&&(Ve("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=nL(r,e)));var i;return t>0?i=dL(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&_A(this)),i!==null&&this.emit("data",i),i};function UJ(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Sf(t)}}function Sf(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ve("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Ha.nextTick(iL,t):iL(t))}function iL(t){Ve("emit readable"),t.emit("readable"),mA(t)}function uL(t,e){e.readingMore||(e.readingMore=!0,Ha.nextTick(BJ,t,e))}function BJ(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ve("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Qe.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Qe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ve("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:p;n.endEmitted?Ha.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,I){Ve("onunpipe"),S===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){Ve("onend"),t.end()}var l=FJ(r);t.on("drain",l);var c=!1;function u(){Ve("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var d=!1;r.on("data",f);function f(S){Ve("ondata"),d=!1;var I=t.write(S);I===!1&&!d&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&EL(n.pipes,t)!==-1)&&!c&&(Ve("false write response, pause",n.awaitDrain),n.awaitDrain++,d=!0),r.pause())}function E(S){Ve("onerror",S),p(),t.removeListener("error",E),sL(t,"error")===0&&t.emit("error",S)}PJ(t,"error",E);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){Ve("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){Ve("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ve("pipe resume"),r.resume()),t};function FJ(t){return function(){var e=t._readableState;Ve("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&sL(t,"data")&&(e.flowing=!0,mA(t))}}Qe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=EL(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Qe.prototype.on=function(t,e){var r=IA.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Sf(this):Ha.nextTick(GJ,this))}return r};Qe.prototype.addListener=Qe.prototype.on;function GJ(t){Ve("readable nexttick read 0"),t.read(0)}Qe.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ve("resume"),t.flowing=!0,HJ(this,t)),this};function HJ(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ha.nextTick(WJ,t,e))}function WJ(t,e){e.reading||(Ve("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),mA(t),e.flowing&&!e.reading&&t.read(0)}Qe.prototype.pause=function(){return Ve("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ve("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function mA(t){var e=t._readableState;for(Ve("flow",e.flowing);e.flowing&&t.read()!==null;);}Qe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ve("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ve("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(o){return function(){return t[o].apply(t,arguments)}})(i));for(var s=0;s<RA.length;s++)t.on(RA[s],this.emit.bind(this,RA[s]));return this._read=function(o){Ve("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Qe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Qe._fromList=dL;function dL(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=YJ(t,e.buffer,e.decoder),r}function YJ(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?$J(t,e):kJ(t,e),n}function $J(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function kJ(t,e){var r=Vc.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function _A(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Ha.nextTick(VJ,e,t))}function VJ(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function EL(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var NA=O((VLe,pL)=>{"use strict";pL.exports=Li;var Rf=ao(),TL=Object.create(Ua());TL.inherits=Ba();TL.inherits(Li,Rf);function qJ(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Li(t){if(!(this instanceof Li))return new Li(t);Rf.call(this,t),this._transformState={afterTransform:qJ.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",XJ)}function XJ(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){hL(t,e,r)}):hL(this,null,null)}Li.prototype.push=function(t,e){return this._transformState.needTransform=!1,Rf.prototype.push.call(this,t,e)};Li.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Li.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Li.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Li.prototype._destroy=function(t,e){var r=this;Rf.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function hL(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var _L=O((qLe,AL)=>{"use strict";AL.exports=qc;var SL=NA(),RL=Object.create(Ua());RL.inherits=Ba();RL.inherits(qc,SL);function qc(t){if(!(this instanceof qc))return new qc(t);SL.call(this,t)}qc.prototype._transform=function(t,e,r){r(null,t)}});var IL=O((ar,Af)=>{var $n=require("stream");process.env.READABLE_STREAM==="disable"&&$n?(Af.exports=$n,ar=Af.exports=$n.Readable,ar.Readable=$n.Readable,ar.Writable=$n.Writable,ar.Duplex=$n.Duplex,ar.Transform=$n.Transform,ar.PassThrough=$n.PassThrough,ar.Stream=$n):(ar=Af.exports=fA(),ar.Stream=$n||ar,ar.Readable=ar,ar.Writable=uA(),ar.Duplex=ao(),ar.Transform=NA(),ar.PassThrough=_L())});var NL=O((XLe,mL)=>{mL.exports=IL().PassThrough});var bL=O((jLe,CL)=>{var gL=require("util"),mf=NL();CL.exports={Readable:_f,Writable:If};gL.inherits(_f,mf);gL.inherits(If,mf);function OL(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function _f(t,e){if(!(this instanceof _f))return new _f(t,e);mf.call(this,e),OL(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function If(t,e){if(!(this instanceof If))return new If(t,e);mf.call(this,e),OL(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var gA=O((KLe,yL)=>{yL.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")}});var OA=O((zLe,wL)=>{function jJ(t){return t}wL.exports=jJ});var DL=O((JLe,LL)=>{function KJ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}LL.exports=KJ});var ML=O((QLe,xL)=>{var zJ=DL(),PL=Math.max;function JJ(t,e,r){return e=PL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=PL(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),zJ(t,this,a)}}xL.exports=JJ});var UL=O((ZLe,vL)=>{function QJ(t){return function(){return t}}vL.exports=QJ});var CA=O((eDe,BL)=>{var ZJ=typeof global=="object"&&global&&global.Object===Object&&global;BL.exports=ZJ});var Wa=O((tDe,FL)=>{var e5=CA(),t5=typeof self=="object"&&self&&self.Object===Object&&self,r5=e5||t5||Function("return this")();FL.exports=r5});var Nf=O((rDe,GL)=>{var n5=Wa(),i5=n5.Symbol;GL.exports=i5});var $L=O((nDe,YL)=>{var HL=Nf(),WL=Object.prototype,s5=WL.hasOwnProperty,o5=WL.toString,Xc=HL?HL.toStringTag:void 0;function a5(t){var e=s5.call(t,Xc),r=t[Xc];try{t[Xc]=void 0;var n=!0}catch{}var i=o5.call(t);return n&&(e?t[Xc]=r:delete t[Xc]),i}YL.exports=a5});var VL=O((iDe,kL)=>{var l5=Object.prototype,c5=l5.toString;function u5(t){return c5.call(t)}kL.exports=u5});var jc=O((sDe,jL)=>{var qL=Nf(),d5=$L(),E5=VL(),f5="[object Null]",h5="[object Undefined]",XL=qL?qL.toStringTag:void 0;function T5(t){return t==null?t===void 0?h5:f5:XL&&XL in Object(t)?d5(t):E5(t)}jL.exports=T5});var Kc=O((oDe,KL)=>{function p5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}KL.exports=p5});var bA=O((aDe,zL)=>{var S5=jc(),R5=Kc(),A5="[object AsyncFunction]",_5="[object Function]",I5="[object GeneratorFunction]",m5="[object Proxy]";function N5(t){if(!R5(t))return!1;var e=S5(t);return e==_5||e==I5||e==A5||e==m5}zL.exports=N5});var QL=O((lDe,JL)=>{var g5=Wa(),O5=g5["__core-js_shared__"];JL.exports=O5});var tD=O((cDe,eD)=>{var yA=QL(),ZL=(function(){var t=/[^.]+$/.exec(yA&&yA.keys&&yA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function C5(t){return!!ZL&&ZL in t}eD.exports=C5});var nD=O((uDe,rD)=>{var b5=Function.prototype,y5=b5.toString;function w5(t){if(t!=null){try{return y5.call(t)}catch{}try{return t+""}catch{}}return""}rD.exports=w5});var sD=O((dDe,iD)=>{var L5=bA(),D5=tD(),P5=Kc(),x5=nD(),M5=/[\\^$.*+?()[\]{}|]/g,v5=/^\[object .+?Constructor\]$/,U5=Function.prototype,B5=Object.prototype,F5=U5.toString,G5=B5.hasOwnProperty,H5=RegExp("^"+F5.call(G5).replace(M5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function W5(t){if(!P5(t)||D5(t))return!1;var e=L5(t)?H5:v5;return e.test(x5(t))}iD.exports=W5});var aD=O((EDe,oD)=>{function Y5(t,e){return t?.[e]}oD.exports=Y5});var zc=O((fDe,lD)=>{var $5=sD(),k5=aD();function V5(t,e){var r=k5(t,e);return $5(r)?r:void 0}lD.exports=V5});var uD=O((hDe,cD)=>{var q5=zc(),X5=(function(){try{var t=q5(Object,"defineProperty");return t({},"",{}),t}catch{}})();cD.exports=X5});var fD=O((TDe,ED)=>{var j5=UL(),dD=uD(),K5=OA(),z5=dD?function(t,e){return dD(t,"toString",{configurable:!0,enumerable:!1,value:j5(e),writable:!0})}:K5;ED.exports=z5});var TD=O((pDe,hD)=>{var J5=800,Q5=16,Z5=Date.now;function eQ(t){var e=0,r=0;return function(){var n=Z5(),i=Q5-(n-r);if(r=n,i>0){if(++e>=J5)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}hD.exports=eQ});var SD=O((SDe,pD)=>{var tQ=fD(),rQ=TD(),nQ=rQ(tQ);pD.exports=nQ});var gf=O((RDe,RD)=>{var iQ=OA(),sQ=ML(),oQ=SD();function aQ(t,e){return oQ(sQ(t,e,iQ),t+"")}RD.exports=aQ});var Of=O((ADe,AD)=>{function lQ(t,e){return t===e||t!==t&&e!==e}AD.exports=lQ});var wA=O((_De,_D)=>{var cQ=9007199254740991;function uQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cQ}_D.exports=uQ});var Cf=O((IDe,ID)=>{var dQ=bA(),EQ=wA();function fQ(t){return t!=null&&EQ(t.length)&&!dQ(t)}ID.exports=fQ});var LA=O((mDe,mD)=>{var hQ=9007199254740991,TQ=/^(?:0|[1-9]\d*)$/;function pQ(t,e){var r=typeof t;return e=e??hQ,!!e&&(r=="number"||r!="symbol"&&TQ.test(t))&&t>-1&&t%1==0&&t<e}mD.exports=pQ});var gD=O((NDe,ND)=>{var SQ=Of(),RQ=Cf(),AQ=LA(),_Q=Kc();function IQ(t,e,r){if(!_Q(r))return!1;var n=typeof e;return(n=="number"?RQ(r)&&AQ(e,r.length):n=="string"&&e in r)?SQ(r[e],t):!1}ND.exports=IQ});var CD=O((gDe,OD)=>{function mQ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}OD.exports=mQ});var Ya=O((ODe,bD)=>{function NQ(t){return t!=null&&typeof t=="object"}bD.exports=NQ});var wD=O((CDe,yD)=>{var gQ=jc(),OQ=Ya(),CQ="[object Arguments]";function bQ(t){return OQ(t)&&gQ(t)==CQ}yD.exports=bQ});var DA=O((bDe,PD)=>{var LD=wD(),yQ=Ya(),DD=Object.prototype,wQ=DD.hasOwnProperty,LQ=DD.propertyIsEnumerable,DQ=LD((function(){return arguments})())?LD:function(t){return yQ(t)&&wQ.call(t,"callee")&&!LQ.call(t,"callee")};PD.exports=DQ});var PA=O((yDe,xD)=>{var PQ=Array.isArray;xD.exports=PQ});var vD=O((wDe,MD)=>{function xQ(){return!1}MD.exports=xQ});var GD=O((Jc,$a)=>{var MQ=Wa(),vQ=vD(),FD=typeof Jc=="object"&&Jc&&!Jc.nodeType&&Jc,UD=FD&&typeof $a=="object"&&$a&&!$a.nodeType&&$a,UQ=UD&&UD.exports===FD,BD=UQ?MQ.Buffer:void 0,BQ=BD?BD.isBuffer:void 0,FQ=BQ||vQ;$a.exports=FQ});var WD=O((LDe,HD)=>{var GQ=jc(),HQ=wA(),WQ=Ya(),YQ="[object Arguments]",$Q="[object Array]",kQ="[object Boolean]",VQ="[object Date]",qQ="[object Error]",XQ="[object Function]",jQ="[object Map]",KQ="[object Number]",zQ="[object Object]",JQ="[object RegExp]",QQ="[object Set]",ZQ="[object String]",e9="[object WeakMap]",t9="[object ArrayBuffer]",r9="[object DataView]",n9="[object Float32Array]",i9="[object Float64Array]",s9="[object Int8Array]",o9="[object Int16Array]",a9="[object Int32Array]",l9="[object Uint8Array]",c9="[object Uint8ClampedArray]",u9="[object Uint16Array]",d9="[object Uint32Array]",Ze={};Ze[n9]=Ze[i9]=Ze[s9]=Ze[o9]=Ze[a9]=Ze[l9]=Ze[c9]=Ze[u9]=Ze[d9]=!0;Ze[YQ]=Ze[$Q]=Ze[t9]=Ze[kQ]=Ze[r9]=Ze[VQ]=Ze[qQ]=Ze[XQ]=Ze[jQ]=Ze[KQ]=Ze[zQ]=Ze[JQ]=Ze[QQ]=Ze[ZQ]=Ze[e9]=!1;function E9(t){return WQ(t)&&HQ(t.length)&&!!Ze[GQ(t)]}HD.exports=E9});var xA=O((DDe,YD)=>{function f9(t){return function(e){return t(e)}}YD.exports=f9});var kD=O((Qc,ka)=>{var h9=CA(),$D=typeof Qc=="object"&&Qc&&!Qc.nodeType&&Qc,Zc=$D&&typeof ka=="object"&&ka&&!ka.nodeType&&ka,T9=Zc&&Zc.exports===$D,MA=T9&&h9.process,p9=(function(){try{var t=Zc&&Zc.require&&Zc.require("util").types;return t||MA&&MA.binding&&MA.binding("util")}catch{}})();ka.exports=p9});var jD=O((PDe,XD)=>{var S9=WD(),R9=xA(),VD=kD(),qD=VD&&VD.isTypedArray,A9=qD?R9(qD):S9;XD.exports=A9});var zD=O((xDe,KD)=>{var _9=CD(),I9=DA(),m9=PA(),N9=GD(),g9=LA(),O9=jD(),C9=Object.prototype,b9=C9.hasOwnProperty;function y9(t,e){var r=m9(t),n=!r&&I9(t),i=!r&&!n&&N9(t),s=!r&&!n&&!i&&O9(t),o=r||n||i||s,a=o?_9(t.length,String):[],l=a.length;for(var c in t)(e||b9.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||g9(c,l)))&&a.push(c);return a}KD.exports=y9});var QD=O((MDe,JD)=>{var w9=Object.prototype;function L9(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||w9;return t===r}JD.exports=L9});var eP=O((vDe,ZD)=>{function D9(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}ZD.exports=D9});var rP=O((UDe,tP)=>{var P9=Kc(),x9=QD(),M9=eP(),v9=Object.prototype,U9=v9.hasOwnProperty;function B9(t){if(!P9(t))return M9(t);var e=x9(t),r=[];for(var n in t)n=="constructor"&&(e||!U9.call(t,n))||r.push(n);return r}tP.exports=B9});var iP=O((BDe,nP)=>{var F9=zD(),G9=rP(),H9=Cf();function W9(t){return H9(t)?F9(t,!0):G9(t)}nP.exports=W9});var aP=O((FDe,oP)=>{var Y9=gf(),$9=Of(),k9=gD(),V9=iP(),sP=Object.prototype,q9=sP.hasOwnProperty,X9=Y9(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&k9(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=V9(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||$9(u,sP[c])&&!q9.call(t,c))&&(t[c]=s[c])}return t});oP.exports=X9});var ot=O((GDe,lP)=>{"use strict";var vA=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};lP.exports={AggregateError:vA,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var UA=O((HDe,cP)=>{"use strict";cP.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Ir=O((WDe,EP)=>{"use strict";var{format:j9,inspect:bf}=UA(),{AggregateError:K9}=ot(),z9=globalThis.AggregateError||K9,J9=Symbol("kIsNodeError"),Q9=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Z9=/^([A-Z][a-z0-9]*)+$/,e7="__node_internal_",yf={};function lo(t,e){if(!t)throw new yf.ERR_INTERNAL_ASSERTION(e)}function uP(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function t7(t,e,r){if(typeof e=="function")return lo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return lo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:j9(e,...r)}function lr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(t7(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[J9]=!0,yf[t]=n}function dP(t){let e=e7+t.name;return Object.defineProperty(t,"name",{value:e}),t}function r7(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new z9([e,t],e.message);return r.code=e.code,r}return t||e}var BA=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new yf.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};lr("ERR_ASSERTION","%s",Error);lr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{lo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)lo(typeof l=="string","All expected entries have to be of type string"),Q9.includes(l)?i.push(l.toLowerCase()):Z9.test(l)?s.push(l):(lo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=bf(r,{depth:-1});n+=`. Received ${l}`}}else{let l=bf(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);lr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=bf(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);lr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);lr("ERR_MISSING_ARGS",(...t)=>{lo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);lr("ERR_OUT_OF_RANGE",(t,e,r)=>{lo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=uP(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=uP(n)),n+="n"}else n=bf(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);lr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);lr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);lr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);lr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);lr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);lr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);lr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);lr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);lr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);lr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);lr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);EP.exports={AbortError:BA,aggregateTwoErrors:dP(r7),hideStackFrames:dP,codes:yf}});var mP=O((ru,tu)=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});var RP=new WeakMap,FA=new WeakMap;function et(t){let e=RP.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function fP(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function Va(t,e){RP.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(e);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,AP(i))}}Va.prototype={get type(){return et(this).event.type},get target(){return et(this).eventTarget},get currentTarget(){return et(this).currentTarget},composedPath(){let t=et(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return et(this).eventPhase},stopPropagation(){let t=et(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=et(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!et(this).event.bubbles},get cancelable(){return!!et(this).event.cancelable},preventDefault(){fP(et(this))},get defaultPrevented(){return et(this).canceled},get composed(){return!!et(this).event.composed},get timeStamp(){return et(this).timeStamp},get srcElement(){return et(this).eventTarget},get cancelBubble(){return et(this).stopped},set cancelBubble(t){if(!t)return;let e=et(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!et(this).canceled},set returnValue(t){t||fP(et(this))},initEvent(){}};Object.defineProperty(Va.prototype,"constructor",{value:Va,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Va.prototype,window.Event.prototype),FA.set(window.Event.prototype,Va));function AP(t){return{get(){return et(this).event[t]},set(e){et(this).event[t]=e},configurable:!0,enumerable:!0}}function n7(t){return{value(){let e=et(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function i7(t,e){let r=Object.keys(e);if(r.length===0)return t;function n(i,s){t.call(this,i,s)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in t.prototype)){let a=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(n.prototype,s,a?n7(s):AP(s))}}return n}function _P(t){if(t==null||t===Object.prototype)return Va;let e=FA.get(t);return e==null&&(e=i7(_P(Object.getPrototypeOf(t)),t),FA.set(t,e)),e}function s7(t,e){let r=_P(Object.getPrototypeOf(e));return new r(t,e)}function o7(t){return et(t).immediateStopped}function a7(t,e){et(t).eventPhase=e}function l7(t,e){et(t).currentTarget=e}function hP(t,e){et(t).passiveListener=e}var IP=new WeakMap,TP=1,pP=2,wf=3;function Lf(t){return t!==null&&typeof t=="object"}function eu(t){let e=IP.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function c7(t){return{get(){let r=eu(this).get(t);for(;r!=null;){if(r.listenerType===wf)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!Lf(e)&&(e=null);let r=eu(this),n=null,i=r.get(t);for(;i!=null;)i.listenerType===wf?n!==null?n.next=i.next:i.next!==null?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(e!==null){let s={listener:e,listenerType:wf,passive:!1,once:!1,next:null};n===null?r.set(t,s):n.next=s}},configurable:!0,enumerable:!0}}function GA(t,e){Object.defineProperty(t,`on${e}`,c7(e))}function SP(t){function e(){gn.call(this)}e.prototype=Object.create(gn.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)GA(e.prototype,t[r]);return e}function gn(){if(this instanceof gn){IP.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return SP(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return SP(t)}throw new TypeError("Cannot call a class as a function")}gn.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!Lf(e))throw new TypeError("'listener' should be a function or an object.");let n=eu(this),i=Lf(r),o=(i?!!r.capture:!!r)?TP:pP,a={listener:e,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},l=n.get(t);if(l===void 0){n.set(t,a);return}let c=null;for(;l!=null;){if(l.listener===e&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(t,e,r){if(e==null)return;let n=eu(this),s=(Lf(r)?!!r.capture:!!r)?TP:pP,o=null,a=n.get(t);for(;a!=null;){if(a.listener===e&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?n.set(t,a.next):n.delete(t);return}o=a,a=a.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let e=eu(this),r=t.type,n=e.get(r);if(n==null)return!0;let i=s7(this,t),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?e.set(r,n.next):e.delete(r):s=n,hP(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else n.listenerType!==wf&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(o7(i))break;n=n.next}return hP(i,null),a7(i,0),l7(i,null),!i.defaultPrevented}};Object.defineProperty(gn.prototype,"constructor",{value:gn,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(gn.prototype,window.EventTarget.prototype);ru.defineEventAttribute=GA;ru.EventTarget=gn;ru.default=gn;tu.exports=gn;tu.exports.EventTarget=tu.exports.default=gn;tu.exports.defineEventAttribute=GA});var Ct=O((iu,nu)=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});var HA=mP(),Rs=class extends HA.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=Df.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};HA.defineEventAttribute(Rs.prototype,"abort");function u7(){let t=Object.create(Rs.prototype);return HA.EventTarget.call(t),Df.set(t,!1),t}function d7(t){Df.get(t)===!1&&(Df.set(t,!0),t.dispatchEvent({type:"abort"}))}var Df=new WeakMap;Object.defineProperties(Rs.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Rs.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var As=class{constructor(){gP.set(this,u7())}get signal(){return NP(this)}abort(){d7(NP(this))}},gP=new WeakMap;function NP(t){let e=gP.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(As.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(As.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});iu.AbortController=As;iu.AbortSignal=Rs;iu.default=As;nu.exports=As;nu.exports.AbortController=nu.exports.default=As;nu.exports.AbortSignal=Rs});var Pr=O((YDe,YA)=>{"use strict";var E7=require("buffer"),{format:f7,inspect:h7}=UA(),{codes:{ERR_INVALID_ARG_TYPE:WA}}=Ir(),{kResistStopPropagation:T7,AggregateError:p7,SymbolDispose:S7}=ot(),R7=globalThis.AbortSignal||Ct().AbortSignal,A7=globalThis.AbortController||Ct().AbortController,_7=Object.getPrototypeOf(async function(){}).constructor,OP=globalThis.Blob||E7.Blob,I7=typeof OP<"u"?function(e){return e instanceof OP}:function(e){return!1},CP=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new WA(e,"AbortSignal",t)},m7=(t,e)=>{if(typeof t!="function")throw new WA(e,"Function",t)};YA.exports={AggregateError:p7,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:f7,inspect:h7,types:{isAsyncFunction(t){return t instanceof _7},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:I7,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new WA("signal","AbortSignal",e);CP(e,"signal"),m7(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[T7]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[S7](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:R7.any||function(e){if(e.length===1)return e[0];let r=new A7,n=()=>r.abort();return e.forEach(i=>{CP(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};YA.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Xa=O(($De,UP)=>{"use strict";var{ArrayIsArray:kA,ArrayPrototypeIncludes:LP,ArrayPrototypeJoin:DP,ArrayPrototypeMap:N7,NumberIsInteger:VA,NumberIsNaN:g7,NumberMAX_SAFE_INTEGER:O7,NumberMIN_SAFE_INTEGER:C7,NumberParseInt:b7,ObjectPrototypeHasOwnProperty:y7,RegExpPrototypeExec:PP,String:w7,StringPrototypeToUpperCase:L7,StringPrototypeTrim:D7}=ot(),{hideStackFrames:an,codes:{ERR_SOCKET_BAD_PORT:P7,ERR_INVALID_ARG_TYPE:mr,ERR_INVALID_ARG_VALUE:qa,ERR_OUT_OF_RANGE:co,ERR_UNKNOWN_SIGNAL:bP}}=Ir(),{normalizeEncoding:x7}=Pr(),{isAsyncFunction:M7,isArrayBufferView:v7}=Pr().types,yP={};function U7(t){return t===(t|0)}function B7(t){return t===t>>>0}var F7=/^[0-7]+$/,G7="must be a 32-bit unsigned integer or an octal string";function H7(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(PP(F7,t)===null)throw new qa(e,t,G7);t=b7(t,8)}return xP(t,e),t}var W7=an((t,e,r=C7,n=O7)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!VA(t))throw new co(e,"an integer",t);if(t<r||t>n)throw new co(e,`>= ${r} && <= ${n}`,t)}),Y7=an((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!VA(t))throw new co(e,"an integer",t);if(t<r||t>n)throw new co(e,`>= ${r} && <= ${n}`,t)}),xP=an((t,e,r=!1)=>{if(typeof t!="number")throw new mr(e,"number",t);if(!VA(t))throw new co(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new co(e,`>= ${n} && <= ${i}`,t)});function qA(t,e){if(typeof t!="string")throw new mr(e,"string",t)}function $7(t,e,r=void 0,n){if(typeof t!="number")throw new mr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&g7(t))throw new co(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var k7=an((t,e,r)=>{if(!LP(r,t)){let i="must be one of: "+DP(N7(r,s=>typeof s=="string"?`'${s}'`:w7(s)),", ");throw new qa(e,t,i)}});function MP(t,e){if(typeof t!="boolean")throw new mr(e,"boolean",t)}function $A(t,e,r){return t==null||!y7(t,e)?r:t[e]}var V7=an((t,e,r=null)=>{let n=$A(r,"allowArray",!1),i=$A(r,"allowFunction",!1);if(!$A(r,"nullable",!1)&&t===null||!n&&kA(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new mr(e,"Object",t)}),q7=an((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new mr(e,"a dictionary",t)}),Pf=an((t,e,r=0)=>{if(!kA(t))throw new mr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new qa(e,t,n)}});function X7(t,e){Pf(t,e);for(let r=0;r<t.length;r++)qA(t[r],`${e}[${r}]`)}function j7(t,e){Pf(t,e);for(let r=0;r<t.length;r++)MP(t[r],`${e}[${r}]`)}function K7(t,e){Pf(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new mr(i,"AbortSignal",n);vP(n,i)}}function z7(t,e="signal"){if(qA(t,e),yP[t]===void 0)throw yP[L7(t)]!==void 0?new bP(t+" (signals must use all capital letters)"):new bP(t)}var J7=an((t,e="buffer")=>{if(!v7(t))throw new mr(e,["Buffer","TypedArray","DataView"],t)});function Q7(t,e){let r=x7(e),n=t.length;if(r==="hex"&&n%2!==0)throw new qa("encoding",e,`is invalid for data of length ${n}`)}function Z7(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&D7(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new P7(e,t,r);return t|0}var vP=an((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new mr(e,"AbortSignal",t)}),eZ=an((t,e)=>{if(typeof t!="function")throw new mr(e,"Function",t)}),tZ=an((t,e)=>{if(typeof t!="function"||M7(t))throw new mr(e,"Function",t)}),rZ=an((t,e)=>{if(t!==void 0)throw new mr(e,"undefined",t)});function nZ(t,e,r){if(!LP(r,t))throw new mr(e,`('${DP(r,"|")}')`,t)}var iZ=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function wP(t,e){if(typeof t>"u"||!PP(iZ,t))throw new qa(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function sZ(t){if(typeof t=="string")return wP(t,"hints"),t;if(kA(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];wP(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new qa("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}UP.exports={isInt32:U7,isUint32:B7,parseFileMode:H7,validateArray:Pf,validateStringArray:X7,validateBooleanArray:j7,validateAbortSignalArray:K7,validateBoolean:MP,validateBuffer:J7,validateDictionary:q7,validateEncoding:Q7,validateFunction:eZ,validateInt32:Y7,validateInteger:W7,validateNumber:$7,validateObject:V7,validateOneOf:k7,validatePlainFunction:tZ,validatePort:Z7,validateSignalName:z7,validateString:qA,validateUint32:xP,validateUndefined:rZ,validateUnion:nZ,validateAbortSignal:vP,validateLinkHeaderValue:sZ}});var Xe=O((kDe,BP)=>{BP.exports=global.process});var Vn=O((VDe,QP)=>{"use strict";var{SymbolAsyncIterator:FP,SymbolIterator:GP,SymbolFor:uo}=ot(),HP=uo("nodejs.stream.destroyed"),WP=uo("nodejs.stream.errored"),XA=uo("nodejs.stream.readable"),jA=uo("nodejs.stream.writable"),YP=uo("nodejs.stream.disturbed"),oZ=uo("nodejs.webstream.isClosedPromise"),aZ=uo("nodejs.webstream.controllerErrorFunction");function xf(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Mf(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function lZ(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function kn(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function $P(t){return!!(t&&!kn(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function kP(t){return!!(t&&!kn(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function VP(t){return!!(t&&!kn(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function cZ(t){return $P(t)||kP(t)||VP(t)}function uZ(t,e){return t==null?!1:e===!0?typeof t[FP]=="function":e===!1?typeof t[GP]=="function":typeof t[FP]=="function"||typeof t[GP]=="function"}function vf(t){if(!kn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[HP]||n!=null&&n.destroyed)}function qP(t){if(!Mf(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function dZ(t,e){if(!Mf(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function EZ(t){if(!xf(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function XP(t,e){if(!xf(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function jP(t){return t&&t[XA]!=null?t[XA]:typeof t?.readable!="boolean"?null:vf(t)?!1:xf(t)&&t.readable&&!XP(t)}function KP(t){return t&&t[jA]!=null?t[jA]:typeof t?.writable!="boolean"?null:vf(t)?!1:Mf(t)&&t.writable&&!qP(t)}function fZ(t,e){return kn(t)?vf(t)?!0:!(e?.readable!==!1&&jP(t)||e?.writable!==!1&&KP(t)):null}function hZ(t){var e,r;return kn(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function TZ(t){var e,r;return kn(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function pZ(t){if(!kn(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&zP(t)?t._closed:null}function zP(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function JP(t){return typeof t._sent100=="boolean"&&zP(t)}function SZ(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function RZ(t){if(!kn(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&JP(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function AZ(t){var e;return!!(t&&((e=t[YP])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function _Z(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[WP])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}QP.exports={isDestroyed:vf,kIsDestroyed:HP,isDisturbed:AZ,kIsDisturbed:YP,isErrored:_Z,kIsErrored:WP,isReadable:jP,kIsReadable:XA,kIsClosedPromise:oZ,kControllerErrorFunction:aZ,kIsWritable:jA,isClosed:pZ,isDuplexNodeStream:lZ,isFinished:fZ,isIterable:uZ,isReadableNodeStream:xf,isReadableStream:$P,isReadableEnded:EZ,isReadableFinished:XP,isReadableErrored:TZ,isNodeStream:kn,isWebStream:cZ,isWritable:KP,isWritableNodeStream:Mf,isWritableStream:kP,isWritableEnded:qP,isWritableFinished:dZ,isWritableErrored:hZ,isServerRequest:SZ,isServerResponse:JP,willEmitClose:RZ,isTransformStream:VP}});var Di=O((qDe,ZA)=>{"use strict";var _s=Xe(),{AbortError:ax,codes:IZ}=Ir(),{ERR_INVALID_ARG_TYPE:mZ,ERR_STREAM_PREMATURE_CLOSE:ZP}=IZ,{kEmptyObject:zA,once:JA}=Pr(),{validateAbortSignal:NZ,validateFunction:gZ,validateObject:OZ,validateBoolean:CZ}=Xa(),{Promise:bZ,PromisePrototypeThen:yZ,SymbolDispose:lx}=ot(),{isClosed:wZ,isReadable:ex,isReadableNodeStream:KA,isReadableStream:LZ,isReadableFinished:tx,isReadableErrored:rx,isWritable:nx,isWritableNodeStream:ix,isWritableStream:DZ,isWritableFinished:sx,isWritableErrored:ox,isNodeStream:PZ,willEmitClose:xZ,kIsClosedPromise:MZ}=Vn(),ja;function vZ(t){return t.setHeader&&typeof t.abort=="function"}var QA=()=>{};function cx(t,e,r){var n,i;if(arguments.length===2?(r=e,e=zA):e==null?e=zA:OZ(e,"options"),gZ(r,"callback"),NZ(e.signal,"options.signal"),r=JA(r),LZ(t)||DZ(t))return UZ(t,e,r);if(!PZ(t))throw new mZ("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:KA(t),o=(i=e.writable)!==null&&i!==void 0?i:ix(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||f()},u=xZ(t)&&KA(t)===s&&ix(t)===o,d=sx(t,!1),f=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||E)&&r.call(t)},E=tx(t,!1),T=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},h=N=>{r.call(t,N)},p=wZ(t),S=()=>{p=!0;let N=ox(t)||rx(t);if(N&&typeof N!="boolean")return r.call(t,N);if(s&&!E&&KA(t,!0)&&!tx(t,!1))return r.call(t,new ZP);if(o&&!d&&!sx(t,!1))return r.call(t,new ZP);r.call(t)},I=()=>{p=!0;let N=ox(t)||rx(t);if(N&&typeof N!="boolean")return r.call(t,N);r.call(t)},R=()=>{t.req.on("finish",f)};vZ(t)?(t.on("complete",f),u||t.on("abort",S),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",f),e.error!==!1&&t.on("error",h),t.on("close",S),p?_s.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||_s.nextTick(I):(!s&&(!u||ex(t))&&(d||nx(t)===!1)||!o&&(!u||nx(t))&&(E||ex(t)===!1)||l&&t.req&&t.aborted)&&_s.nextTick(I);let A=()=>{r=QA,t.removeListener("aborted",S),t.removeListener("complete",f),t.removeListener("abort",S),t.removeListener("request",R),t.req&&t.req.removeListener("finish",f),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!p){let N=()=>{let w=r;A(),w.call(t,new ax(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)_s.nextTick(N);else{ja=ja||Pr().addAbortListener;let w=ja(e.signal,N),m=r;r=JA((...D)=>{w[lx](),m.apply(t,D)})}}return A}function UZ(t,e,r){let n=!1,i=QA;if(e.signal)if(i=()=>{n=!0,r.call(t,new ax(void 0,{cause:e.signal.reason}))},e.signal.aborted)_s.nextTick(i);else{ja=ja||Pr().addAbortListener;let o=ja(e.signal,i),a=r;r=JA((...l)=>{o[lx](),a.apply(t,l)})}let s=(...o)=>{n||_s.nextTick(()=>r.apply(t,o))};return yZ(t[MZ].promise,s,s),QA}function BZ(t,e){var r;let n=!1;return e===null&&(e=zA),(r=e)!==null&&r!==void 0&&r.cleanup&&(CZ(e.cleanup,"cleanup"),n=e.cleanup),new bZ((i,s)=>{let o=cx(t,e,a=>{n&&o(),a?s(a):i()})})}ZA.exports=cx;ZA.exports.finished=BZ});var Eo=O((XDe,Sx)=>{"use strict";var qn=Xe(),{aggregateTwoErrors:FZ,codes:{ERR_MULTIPLE_CALLBACK:GZ},AbortError:HZ}=Ir(),{Symbol:Ex}=ot(),{kIsDestroyed:WZ,isDestroyed:YZ,isFinished:$Z,isServerRequest:kZ}=Vn(),fx=Ex("kDestroy"),e_=Ex("kConstruct");function hx(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function VZ(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(hx(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?ux(this,t,e):this.once(fx,function(s){ux(this,FZ(s,t),e)}),this)}function ux(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;hx(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?qn.nextTick(qZ,t,s):qn.nextTick(Tx,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function qZ(t,e){t_(t,e),Tx(t)}function Tx(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function t_(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function XZ(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function r_(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?qn.nextTick(t_,t,e):t_(t,e))}function jZ(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(e_,e),!(t.listenerCount(e_)>1)&&qn.nextTick(KZ,t)}function KZ(t){let e=!1;function r(n){if(e){r_(t,n??new GZ);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(fx,n):n?r_(t,n,!0):qn.nextTick(zZ,t)}try{t._construct(n=>{qn.nextTick(r,n)})}catch(n){qn.nextTick(r,n)}}function zZ(t){t.emit(e_)}function dx(t){return t?.setHeader&&typeof t.abort=="function"}function px(t){t.emit("close")}function JZ(t,e){t.emit("error",e),qn.nextTick(px,t)}function QZ(t,e){!t||YZ(t)||(!e&&!$Z(t)&&(e=new HZ),kZ(t)?(t.socket=null,t.destroy(e)):dx(t)?t.abort():dx(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?qn.nextTick(JZ,t,e):qn.nextTick(px,t),t.destroyed||(t[WZ]=!0))}Sx.exports={construct:jZ,destroyer:QZ,destroy:VZ,undestroy:XZ,errorOrDestroy:r_}});var Ff=O((jDe,Ax)=>{"use strict";var{ArrayIsArray:ZZ,ObjectSetPrototypeOf:Rx}=ot(),{EventEmitter:Uf}=require("events");function Bf(t){Uf.call(this,t)}Rx(Bf.prototype,Uf.prototype);Rx(Bf,Uf);Bf.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),Uf.listenerCount(this,"error")===0&&this.emit("error",u)}n_(r,"error",l),n_(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function n_(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):ZZ(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}Ax.exports={Stream:Bf,prependListener:n_}});var su=O((KDe,Gf)=>{"use strict";var{SymbolDispose:eee}=ot(),{AbortError:_x,codes:tee}=Ir(),{isNodeStream:Ix,isWebStream:ree,kControllerErrorFunction:nee}=Vn(),iee=Di(),{ERR_INVALID_ARG_TYPE:mx}=tee,i_,see=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new mx(e,"AbortSignal",t)};Gf.exports.addAbortSignal=function(e,r){if(see(e,"signal"),!Ix(r)&&!ree(r))throw new mx("stream",["ReadableStream","WritableStream","Stream"],r);return Gf.exports.addAbortSignalNoValidate(e,r)};Gf.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=Ix(e)?()=>{e.destroy(new _x(void 0,{cause:t.reason}))}:()=>{e[nee](new _x(void 0,{cause:t.reason}))};if(t.aborted)r();else{i_=i_||Pr().addAbortListener;let n=i_(t,r);iee(e,n[eee])}return e}});var Ox=O((JDe,gx)=>{"use strict";var{StringPrototypeSlice:Nx,SymbolIterator:oee,TypedArrayPrototypeSet:Hf,Uint8Array:aee}=ot(),{Buffer:s_}=require("buffer"),{inspect:lee}=Pr();gx.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return s_.alloc(0);let r=s_.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Hf(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[oee](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=Nx(s,0,e),this.head=n,n.data=Nx(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=s_.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)Hf(r,o,n-e),e-=o.length;else{e===o.length?(Hf(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(Hf(r,new aee(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return lee(this,{...r,depth:0,customInspect:!1})}}});var ou=O((QDe,wx)=>{"use strict";var{MathFloor:cee,NumberIsInteger:uee}=ot(),{validateInteger:dee}=Xa(),{ERR_INVALID_ARG_VALUE:Eee}=Ir().codes,Cx=16*1024,bx=16;function fee(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function yx(t){return t?bx:Cx}function hee(t,e){dee(e,"value",0),t?bx=e:Cx=e}function Tee(t,e,r,n){let i=fee(e,n,r);if(i!=null){if(!uee(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Eee(s,i)}return cee(i)}return yx(t.objectMode)}wx.exports={getHighWaterMark:Tee,getDefaultHighWaterMark:yx,setDefaultHighWaterMark:hee}});var Px=O((o_,Dx)=>{var Wf=require("buffer"),Xn=Wf.Buffer;function Lx(t,e){for(var r in t)e[r]=t[r]}Xn.from&&Xn.alloc&&Xn.allocUnsafe&&Xn.allocUnsafeSlow?Dx.exports=Wf:(Lx(Wf,o_),o_.Buffer=fo);function fo(t,e,r){return Xn(t,e,r)}fo.prototype=Object.create(Xn.prototype);Lx(Xn,fo);fo.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Xn(t,e,r)};fo.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Xn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};fo.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Xn(t)};fo.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Wf.SlowBuffer(t)}});var lu=O(Mx=>{"use strict";var l_=Px().Buffer,xx=l_.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function pee(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function See(t){var e=pee(t);if(typeof e!="string"&&(l_.isEncoding===xx||!xx(t)))throw new Error("Unknown encoding: "+t);return e||t}Mx.StringDecoder=au;function au(t){this.encoding=See(t);var e;switch(this.encoding){case"utf16le":this.text=Nee,this.end=gee,e=4;break;case"utf8":this.fillLast=_ee,e=4;break;case"base64":this.text=Oee,this.end=Cee,e=3;break;default:this.write=bee,this.end=yee;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=l_.allocUnsafe(e)}au.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};au.prototype.end=mee;au.prototype.text=Iee;au.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function a_(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Ree(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a_(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=a_(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=a_(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Aee(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function _ee(t){var e=this.lastTotal-this.lastNeed,r=Aee(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Iee(t,e){var r=Ree(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function mee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Nee(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function gee(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Oee(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Cee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function bee(t){return t.toString(this.encoding)}function yee(t){return t&&t.length?this.write(t):""}});var c_=O((ePe,Fx)=>{"use strict";var vx=Xe(),{PromisePrototypeThen:wee,SymbolAsyncIterator:Ux,SymbolIterator:Bx}=ot(),{Buffer:Lee}=require("buffer"),{ERR_INVALID_ARG_TYPE:Dee,ERR_STREAM_NULL_VALUES:Pee}=Ir().codes;function xee(t,e,r){let n;if(typeof e=="string"||e instanceof Lee)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[Ux])i=!0,n=e[Ux]();else if(e&&e[Bx])i=!1,n=e[Bx]();else throw new Dee("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){wee(a(c),()=>vx.nextTick(u,c),d=>vx.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:f,done:E}=await n.throw(c);if(await f,E)return}if(typeof n.return=="function"){let{value:f}=await n.return();await f}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Pee;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}Fx.exports=xee});var uu=O((tPe,rM)=>{"use strict";var On=Xe(),{ArrayPrototypeIndexOf:Mee,NumberIsInteger:vee,NumberIsNaN:Uee,NumberParseInt:Bee,ObjectDefineProperties:S_,ObjectKeys:Fee,ObjectSetPrototypeOf:Wx,Promise:Yx,SafeSet:Gee,SymbolAsyncDispose:Hee,SymbolAsyncIterator:Wee,Symbol:Yee}=ot();rM.exports=Se;Se.ReadableState=Vf;var{EventEmitter:$ee}=require("events"),{Stream:Is,prependListener:kee}=Ff(),{Buffer:u_}=require("buffer"),{addAbortSignal:Vee}=su(),$x=Di(),we=Pr().debuglog("stream",t=>{we=t}),qee=Ox(),Ja=Eo(),{getHighWaterMark:Xee,getDefaultHighWaterMark:jee}=ou(),{aggregateTwoErrors:Gx,codes:{ERR_INVALID_ARG_TYPE:Kee,ERR_METHOD_NOT_IMPLEMENTED:zee,ERR_OUT_OF_RANGE:Jee,ERR_STREAM_PUSH_AFTER_EOF:Qee,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Zee},AbortError:ete}=Ir(),{validateObject:tte}=Xa(),ho=Yee("kPaused"),{StringDecoder:kx}=lu(),rte=c_();Wx(Se.prototype,Is.prototype);Wx(Se,Is);var d_=()=>{},{errorOrDestroy:Ka}=Ja,za=1,nte=2,Vx=4,cu=8,qx=16,Yf=32,$f=64,Xx=128,ite=256,ste=512,ote=1024,T_=2048,p_=4096,ate=8192,lte=16384,cte=32768,jx=65536,ute=1<<17,dte=1<<18;function vt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}S_(Vf.prototype,{objectMode:vt(za),ended:vt(nte),endEmitted:vt(Vx),reading:vt(cu),constructed:vt(qx),sync:vt(Yf),needReadable:vt($f),emittedReadable:vt(Xx),readableListening:vt(ite),resumeScheduled:vt(ste),errorEmitted:vt(ote),emitClose:vt(T_),autoDestroy:vt(p_),destroyed:vt(ate),closed:vt(lte),closeEmitted:vt(cte),multiAwaitDrain:vt(jx),readingMore:vt(ute),dataEmitted:vt(dte)});function Vf(t,e,r){typeof r!="boolean"&&(r=e instanceof jn()),this.state=T_|p_|qx|Yf,t&&t.objectMode&&(this.state|=za),r&&t&&t.readableObjectMode&&(this.state|=za),this.highWaterMark=t?Xee(this,t,"readableHighWaterMark",r):jee(!1),this.buffer=new qee,this.length=0,this.pipes=[],this.flowing=null,this[ho]=null,t&&t.emitClose===!1&&(this.state&=~T_),t&&t.autoDestroy===!1&&(this.state&=~p_),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new kx(t.encoding),this.encoding=t.encoding)}function Se(t){if(!(this instanceof Se))return new Se(t);let e=this instanceof jn();this._readableState=new Vf(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Vee(t.signal,this)),Is.call(this,t),Ja.construct(this,()=>{this._readableState.needReadable&&kf(this,this._readableState)})}Se.prototype.destroy=Ja.destroy;Se.prototype._undestroy=Ja.undestroy;Se.prototype._destroy=function(t,e){e(t)};Se.prototype[$ee.captureRejectionSymbol]=function(t){this.destroy(t)};Se.prototype[Hee]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new ete,this.destroy(t)),new Yx((e,r)=>$x(this,n=>n&&n!==t?r(n):e(null)))};Se.prototype.push=function(t,e){return Kx(this,t,e,!1)};Se.prototype.unshift=function(t,e){return Kx(this,t,e,!0)};function Kx(t,e,r,n){we("readableAddChunk",e);let i=t._readableState,s;if((i.state&za)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=u_.from(e,r).toString(i.encoding):(e=u_.from(e,r),r=""))):e instanceof u_?r="":Is._isUint8Array(e)?(e=Is._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new Kee("chunk",["string","Buffer","Uint8Array"],e))),s)Ka(t,s);else if(e===null)i.state&=~cu,hte(t,i);else if((i.state&za)!==0||e&&e.length>0)if(n)if((i.state&Vx)!==0)Ka(t,new Zee);else{if(i.destroyed||i.errored)return!1;E_(t,i,e,!0)}else if(i.ended)Ka(t,new Qee);else{if(i.destroyed||i.errored)return!1;i.state&=~cu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?E_(t,i,e,!1):kf(t,i)):E_(t,i,e,!1)}else n||(i.state&=~cu,kf(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function E_(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&jx)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&$f)!==0&&qf(t)),kf(t,e)}Se.prototype.isPaused=function(){let t=this._readableState;return t[ho]===!0||t.flowing===!1};Se.prototype.setEncoding=function(t){let e=new kx(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Ete=1073741824;function fte(t){if(t>Ete)throw new Jee("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function Hx(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&za)!==0?1:Uee(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Se.prototype.read=function(t){we("read",t),t===void 0?t=NaN:vee(t)||(t=Bee(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=fte(t)),t!==0&&(e.state&=~Xx),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return we("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?f_(this):qf(this),null;if(t=Hx(t,e),t===0&&e.ended)return e.length===0&&f_(this),null;let n=(e.state&$f)!==0;if(we("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,we("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,we("reading, ended or constructing",n);else if(n){we("do read"),e.state|=cu|Yf,e.length===0&&(e.state|=$f);try{this._read(e.highWaterMark)}catch(s){Ka(this,s)}e.state&=~Yf,e.reading||(t=Hx(r,e))}let i;return t>0?i=eM(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&f_(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function hte(t,e){if(we("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?qf(t):(e.needReadable=!1,e.emittedReadable=!0,zx(t))}}function qf(t){let e=t._readableState;we("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(we("emitReadable",e.flowing),e.emittedReadable=!0,On.nextTick(zx,t))}function zx(t){let e=t._readableState;we("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Qx(t)}function kf(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,On.nextTick(Tte,t,e))}function Tte(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(we("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Se.prototype._read=function(t){throw new zee("_read()")};Se.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Gee(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),we("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==On.stdout&&t!==On.stderr?a:p;n.endEmitted?On.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,I){we("onunpipe"),S===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){we("onend"),t.end()}let l,c=!1;function u(){we("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(we("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(we("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=pte(r,t),t.on("drain",l))}r.on("data",f);function f(S){we("ondata");let I=t.write(S);we("dest.write",I),I===!1&&d()}function E(S){if(we("onerror",S),p(),t.removeListener("error",E),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?Ka(t,S):t.emit("error",S)}}kee(t,"error",E);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){we("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){we("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(we("pipe resume"),r.resume()),t};function pte(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(we("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(we("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Se.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Mee(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Se.prototype.on=function(t,e){let r=Is.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,we("on readable",n.length,n.reading),n.length?qf(this):n.reading||On.nextTick(Ste,this)),r};Se.prototype.addListener=Se.prototype.on;Se.prototype.removeListener=function(t,e){let r=Is.prototype.removeListener.call(this,t,e);return t==="readable"&&On.nextTick(Jx,this),r};Se.prototype.off=Se.prototype.removeListener;Se.prototype.removeAllListeners=function(t){let e=Is.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&On.nextTick(Jx,this),e};function Jx(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[ho]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Ste(t){we("readable nexttick read 0"),t.read(0)}Se.prototype.resume=function(){let t=this._readableState;return t.flowing||(we("resume"),t.flowing=!t.readableListening,Rte(this,t)),t[ho]=!1,this};function Rte(t,e){e.resumeScheduled||(e.resumeScheduled=!0,On.nextTick(Ate,t,e))}function Ate(t,e){we("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Qx(t),e.flowing&&!e.reading&&t.read(0)}Se.prototype.pause=function(){return we("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(we("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ho]=!0,this};function Qx(t){let e=t._readableState;for(we("flow",e.flowing);e.flowing&&t.read()!==null;);}Se.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Ka(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Fee(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Se.prototype[Wee]=function(){return Zx(this)};Se.prototype.iterator=function(t){return t!==void 0&&tte(t,"options"),Zx(this,t)};function Zx(t,e){typeof t.read!="function"&&(t=Se.wrap(t,{objectMode:!0}));let r=_te(t,e);return r.stream=t,r}async function*_te(t,e){let r=d_;function n(o){this===t?(r(),r=d_):r=o}t.on("readable",n);let i,s=$x(t,{writable:!1},o=>{i=o?Gx(i,o):null,r(),r=d_});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new Yx(n)}}}catch(o){throw i=Gx(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Ja.destroyer(t,null):(t.off("readable",n),s())}}S_(Se.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});S_(Vf.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ho]!==!1},set(t){this[ho]=!!t}}});Se._fromList=eM;function eM(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function f_(t){let e=t._readableState;we("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,On.nextTick(Ite,e,t))}function Ite(t,e){if(we("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)On.nextTick(mte,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function mte(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Se.from=function(t,e){return rte(Se,t,e)};var h_;function tM(){return h_===void 0&&(h_={}),h_}Se.fromWeb=function(t,e){return tM().newStreamReadableFromReadableStream(t,e)};Se.toWeb=function(t,e){return tM().newReadableStreamFromStreamReadable(t,e)};Se.wrap=function(t,e){var r,n;return new Se({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Ja.destroyer(t,i),s(i)}}).wrap(t)}});var Jf=O((rPe,hM)=>{"use strict";var To=Xe(),{ArrayPrototypeSlice:sM,Error:Nte,FunctionPrototypeSymbolHasInstance:oM,ObjectDefineProperty:aM,ObjectDefineProperties:gte,ObjectSetPrototypeOf:lM,StringPrototypeToLowerCase:Ote,Symbol:Cte,SymbolHasInstance:bte}=ot();hM.exports=Et;Et.WritableState=fu;var{EventEmitter:yte}=require("events"),du=Ff().Stream,{Buffer:Xf}=require("buffer"),zf=Eo(),{addAbortSignal:wte}=su(),{getHighWaterMark:Lte,getDefaultHighWaterMark:Dte}=ou(),{ERR_INVALID_ARG_TYPE:Pte,ERR_METHOD_NOT_IMPLEMENTED:xte,ERR_MULTIPLE_CALLBACK:cM,ERR_STREAM_CANNOT_PIPE:Mte,ERR_STREAM_DESTROYED:Eu,ERR_STREAM_ALREADY_FINISHED:vte,ERR_STREAM_NULL_VALUES:Ute,ERR_STREAM_WRITE_AFTER_END:Bte,ERR_UNKNOWN_ENCODING:uM}=Ir().codes,{errorOrDestroy:Qa}=zf;lM(Et.prototype,du.prototype);lM(Et,du);function __(){}var Za=Cte("kOnFinished");function fu(t,e,r){typeof r!="boolean"&&(r=e instanceof jn()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Lte(this,t,"writableHighWaterMark",r):Dte(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Gte.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Kf(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Za]=[]}function Kf(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}fu.prototype.getBuffer=function(){return sM(this.buffered,this.bufferedIndex)};aM(fu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Et(t){let e=this instanceof jn();if(!e&&!oM(Et,this))return new Et(t);this._writableState=new fu(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&wte(t.signal,this)),du.call(this,t),zf.construct(this,()=>{let r=this._writableState;r.writing||m_(this,r),N_(this,r)})}aM(Et,bte,{__proto__:null,value:function(t){return oM(this,t)?!0:this!==Et?!1:t&&t._writableState instanceof fu}});Et.prototype.pipe=function(){Qa(this,new Mte)};function dM(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Xf.isEncoding(r))throw new uM(r);typeof n!="function"&&(n=__)}if(e===null)throw new Ute;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Xf.from(e,r),r="buffer");else if(e instanceof Xf)r="buffer";else if(du._isUint8Array(e))e=du._uint8ArrayToBuffer(e),r="buffer";else throw new Pte("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Bte:i.destroyed&&(s=new Eu("write")),s?(To.nextTick(n,s),Qa(t,s,!0),s):(i.pendingcb++,Fte(t,i,e,r,n))}Et.prototype.write=function(t,e,r){return dM(this,t,e,r)===!0};Et.prototype.cork=function(){this._writableState.corked++};Et.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||m_(this,t))};Et.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Ote(e)),!Xf.isEncoding(e))throw new uM(e);return this._writableState.defaultEncoding=e,this};function Fte(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==__&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function nM(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Eu("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function iM(t,e,r,n){--e.pendingcb,n(r),I_(e),Qa(t,r)}function Gte(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Qa(t,new cM);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?To.nextTick(iM,t,r,e,i):iM(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&m_(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},To.nextTick(Hte,r.afterWriteTickInfo)):EM(t,r,1,i))}function Hte({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,EM(t,e,r,n)}function EM(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&I_(e),N_(t,e)}function I_(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Eu("write"))}let r=t[Za].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Eu("end"))}Kf(t)}function m_(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?__:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:sM(r,o);l.allBuffers=e.allBuffers,nM(t,e,!0,e.length,l,"",a),Kf(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;nM(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?Kf(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}Et.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new xte("_write()")};Et.prototype._writev=null;Et.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=dM(this,t,e);s instanceof Nte&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,N_(this,n,!0),n.ended=!0):n.finished?i=new vte("end"):n.destroyed&&(i=new Eu("end"))),typeof r=="function"&&(i||n.finished?To.nextTick(r,i):n[Za].push(r)),this};function jf(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Wte(t,e){let r=!1;function n(i){if(r){Qa(t,i??cM());return}if(r=!0,e.pendingcb--,i){let s=e[Za].splice(0);for(let o=0;o<s.length;o++)s[o](i);Qa(t,i,e.sync)}else jf(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,To.nextTick(A_,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Yte(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Wte(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function N_(t,e,r){jf(e)&&(Yte(t,e),e.pendingcb===0&&(r?(e.pendingcb++,To.nextTick((n,i)=>{jf(i)?A_(n,i):i.pendingcb--},t,e)):jf(e)&&(e.pendingcb++,A_(t,e))))}function A_(t,e){e.pendingcb--,e.finished=!0;let r=e[Za].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}gte(Et.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var $te=zf.destroy;Et.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Za].length)&&To.nextTick(I_,r),$te.call(this,t,e),this};Et.prototype._undestroy=zf.undestroy;Et.prototype._destroy=function(t,e){e(t)};Et.prototype[yte.captureRejectionSymbol]=function(t){this.destroy(t)};var R_;function fM(){return R_===void 0&&(R_={}),R_}Et.fromWeb=function(t,e){return fM().newStreamWritableFromWritableStream(t,e)};Et.toWeb=function(t){return fM().newWritableStreamFromStreamWritable(t)}});var wM=O((nPe,yM)=>{var g_=Xe(),kte=require("buffer"),{isReadable:Vte,isWritable:qte,isIterable:TM,isNodeStream:Xte,isReadableNodeStream:pM,isWritableNodeStream:SM,isDuplexNodeStream:jte,isReadableStream:RM,isWritableStream:AM}=Vn(),_M=Di(),{AbortError:CM,codes:{ERR_INVALID_ARG_TYPE:Kte,ERR_INVALID_RETURN_VALUE:IM}}=Ir(),{destroyer:tl}=Eo(),zte=jn(),bM=uu(),Jte=Jf(),{createDeferredPromise:mM}=Pr(),NM=c_(),gM=globalThis.Blob||kte.Blob,Qte=typeof gM<"u"?function(e){return e instanceof gM}:function(e){return!1},Zte=globalThis.AbortController||Ct().AbortController,{FunctionPrototypeCall:OM}=ot(),ms=class extends zte{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};yM.exports=function t(e,r){if(jte(e))return e;if(pM(e))return el({readable:e});if(SM(e))return el({writable:e});if(Xte(e))return el({writable:!1,readable:!1});if(RM(e))return el({readable:bM.fromWeb(e)});if(AM(e))return el({writable:Jte.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=ere(e);if(TM(i))return NM(ms,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=OM(l,i,d=>{if(d!=null)throw new IM("nully","body",d)},d=>{tl(c,d)});return c=new ms({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,g_.nextTick(d,null)}catch(f){g_.nextTick(d,f)}})},destroy:a})}throw new IM("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Qte(e))return t(e.arrayBuffer());if(TM(e))return NM(ms,e,{objectMode:!0,writable:!1});if(RM(e?.readable)&&AM(e?.writable))return ms.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?pM(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?SM(e?.writable)?e?.writable:t(e.writable):void 0;return el({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return OM(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{tl(i,s)}),i=new ms({objectMode:!0,writable:!1,read(){}})}throw new Kte(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function ere(t){let{promise:e,resolve:r}=mM(),n=new Zte,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(g_.nextTick(c),l)return;if(i.aborted)throw new CM(void 0,{cause:i.reason});({promise:e,resolve:r}=mM()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function el(t){let e=t.readable&&typeof t.readable.read!="function"?bM.wrap(t.readable):t.readable,r=t.writable,n=!!Vte(e),i=!!qte(r),s,o,a,l,c;function u(d){let f=l;l=null,f?f(d):d&&c.destroy(d)}return c=new ms({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(_M(r,d=>{i=!1,d&&tl(e,d),u(d)}),c._write=function(d,f,E){r.write(d,f)?E():s=E},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(_M(e,d=>{n=!1,d&&tl(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,f){!d&&l!==null&&(d=new CM),a=null,s=null,o=null,l===null?f(d):(l=f,tl(r,d),tl(e,d))},c}});var jn=O((iPe,PM)=>{"use strict";var{ObjectDefineProperties:tre,ObjectGetOwnPropertyDescriptor:Pi,ObjectKeys:rre,ObjectSetPrototypeOf:LM}=ot();PM.exports=Cn;var b_=uu(),ln=Jf();LM(Cn.prototype,b_.prototype);LM(Cn,b_);{let t=rre(ln.prototype);for(let e=0;e<t.length;e++){let r=t[e];Cn.prototype[r]||(Cn.prototype[r]=ln.prototype[r])}}function Cn(t){if(!(this instanceof Cn))return new Cn(t);b_.call(this,t),ln.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}tre(Cn.prototype,{writable:{__proto__:null,...Pi(ln.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Pi(ln.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Pi(ln.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Pi(ln.prototype,"writableBuffer")},writableLength:{__proto__:null,...Pi(ln.prototype,"writableLength")},writableFinished:{__proto__:null,...Pi(ln.prototype,"writableFinished")},writableCorked:{__proto__:null,...Pi(ln.prototype,"writableCorked")},writableEnded:{__proto__:null,...Pi(ln.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Pi(ln.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var O_;function DM(){return O_===void 0&&(O_={}),O_}Cn.fromWeb=function(t,e){return DM().newStreamDuplexFromReadableWritablePair(t,e)};Cn.toWeb=function(t){return DM().newReadableWritablePairFromDuplex(t)};var C_;Cn.from=function(t){return C_||(C_=wM()),C_(t,"body")}});var L_=O((sPe,MM)=>{"use strict";var{ObjectSetPrototypeOf:xM,Symbol:nre}=ot();MM.exports=xi;var{ERR_METHOD_NOT_IMPLEMENTED:ire}=Ir().codes,w_=jn(),{getHighWaterMark:sre}=ou();xM(xi.prototype,w_.prototype);xM(xi,w_);var hu=nre("kCallback");function xi(t){if(!(this instanceof xi))return new xi(t);let e=t?sre(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),w_.call(this,t),this._readableState.sync=!1,this[hu]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",ore)}function y_(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function ore(){this._final!==y_&&y_.call(this)}xi.prototype._final=y_;xi.prototype._transform=function(t,e,r){throw new ire("_transform()")};xi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[hu]=r})};xi.prototype._read=function(){if(this[hu]){let t=this[hu];this[hu]=null,t()}}});var P_=O((oPe,UM)=>{"use strict";var{ObjectSetPrototypeOf:vM}=ot();UM.exports=rl;var D_=L_();vM(rl.prototype,D_.prototype);vM(rl,D_);function rl(t){if(!(this instanceof rl))return new rl(t);D_.call(this,t)}rl.prototype._transform=function(t,e,r){r(null,t)}});var th=O((aPe,WM)=>{var Tu=Xe(),{ArrayIsArray:are,Promise:lre,SymbolAsyncIterator:cre,SymbolDispose:ure}=ot(),eh=Di(),{once:dre}=Pr(),Ere=Eo(),BM=jn(),{aggregateTwoErrors:fre,codes:{ERR_INVALID_ARG_TYPE:W_,ERR_INVALID_RETURN_VALUE:x_,ERR_MISSING_ARGS:hre,ERR_STREAM_DESTROYED:Tre,ERR_STREAM_PREMATURE_CLOSE:pre},AbortError:Sre}=Ir(),{validateFunction:Rre,validateAbortSignal:Are}=Xa(),{isIterable:po,isReadable:M_,isReadableNodeStream:Zf,isNodeStream:FM,isTransformStream:nl,isWebStream:_re,isReadableStream:v_,isReadableFinished:Ire}=Vn(),mre=globalThis.AbortController||Ct().AbortController,U_,B_,F_;function GM(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=eh(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Ere.destroyer(t,s||new Tre("pipe")))},cleanup:i}}function Nre(t){return Rre(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function G_(t){if(po(t))return t;if(Zf(t))return gre(t);throw new W_("val",["Readable","Iterable","AsyncIterable"],t)}async function*gre(t){B_||(B_=uu()),yield*B_.prototype[cre].call(t)}async function Qf(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new lre((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=eh(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?fre(i,c):c)}finally{l(),e.off("drain",o)}}async function H_(t,e,r,{end:n}){nl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Ore(...t){return HM(t,dre(Nre(t)))}function HM(t,e,r){if(t.length===1&&are(t[0])&&(t=t[0]),t.length<2)throw new hre("streams");let n=new mre,i=n.signal,s=r?.signal,o=[];Are(s,"options.signal");function a(){T(new Sre)}F_=F_||Pr().addAbortListener;let l;s&&(l=F_(s,a));let c,u,d=[],f=0;function E(R){T(R,--f===0)}function T(R,A){var N;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;d.length;)d.shift()(c);(N=l)===null||N===void 0||N[ure](),n.abort(),A&&(c||o.forEach(w=>w()),Tu.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],N=R<t.length-1,w=R>0,m=N||r?.end!==!1,D=R===t.length-1;if(FM(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&E(P)};var I=y;if(m){let{destroy:P,cleanup:M}=GM(A,N,w);d.push(P),M_(A)&&D&&o.push(M)}A.on("error",y),M_(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!po(h))throw new x_("Iterable, AsyncIterable or Stream","source",h)}else po(A)||Zf(A)||nl(A)?h=A:h=BM.from(A);else if(typeof A=="function"){if(nl(h)){var p;h=G_((p=h)===null||p===void 0?void 0:p.readable)}else h=G_(h);if(h=A(h,{signal:i}),N){if(!po(h,!0))throw new x_("AsyncIterable",`transform[${R-1}]`,h)}else{var S;U_||(U_=P_());let y=new U_({objectMode:!0}),P=(S=h)===null||S===void 0?void 0:S.then;if(typeof P=="function")f++,P.call(h,G=>{u=G,G!=null&&y.write(G),m&&y.end(),Tu.nextTick(E)},G=>{y.destroy(G),Tu.nextTick(E,G)});else if(po(h,!0))f++,Qf(h,y,E,{end:m});else if(v_(h)||nl(h)){let G=h.readable||h;f++,Qf(G,y,E,{end:m})}else throw new x_("AsyncIterable or Promise","destination",h);h=y;let{destroy:M,cleanup:B}=GM(h,!1,!0);d.push(M),D&&o.push(B)}}else if(FM(A)){if(Zf(h)){f+=2;let y=Cre(h,A,E,{end:m});M_(A)&&D&&o.push(y)}else if(nl(h)||v_(h)){let y=h.readable||h;f++,Qf(y,A,E,{end:m})}else if(po(h))f++,Qf(h,A,E,{end:m});else throw new W_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(_re(A)){if(Zf(h))f++,H_(G_(h),A,E,{end:m});else if(v_(h)||po(h))f++,H_(h,A,E,{end:m});else if(nl(h))f++,H_(h.readable,A,E,{end:m});else throw new W_("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=BM.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Tu.nextTick(a),h}function Cre(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new pre)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;Ire(t)?Tu.nextTick(o):t.once("end",o)}else r();return eh(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),eh(e,{readable:!1,writable:!0},r)}WM.exports={pipelineImpl:HM,pipeline:Ore}});var $_=O((lPe,XM)=>{"use strict";var{pipeline:bre}=th(),rh=jn(),{destroyer:yre}=Eo(),{isNodeStream:nh,isReadable:YM,isWritable:$M,isWebStream:Y_,isTransformStream:So,isWritableStream:kM,isReadableStream:VM}=Vn(),{AbortError:wre,codes:{ERR_INVALID_ARG_VALUE:qM,ERR_MISSING_ARGS:Lre}}=Ir(),Dre=Di();XM.exports=function(...e){if(e.length===0)throw new Lre("streams");if(e.length===1)return rh.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=rh.from(e[0])),typeof e[e.length-1]=="function"){let E=e.length-1;e[E]=rh.from(e[E])}for(let E=0;E<e.length;++E)if(!(!nh(e[E])&&!Y_(e[E]))){if(E<e.length-1&&!(YM(e[E])||VM(e[E])||So(e[E])))throw new qM(`streams[${E}]`,r[E],"must be readable");if(E>0&&!($M(e[E])||kM(e[E])||So(e[E])))throw new qM(`streams[${E}]`,r[E],"must be writable")}let n,i,s,o,a;function l(E){let T=o;o=null,T?T(E):E?a.destroy(E):!f&&!d&&a.destroy()}let c=e[0],u=bre(e,l),d=!!($M(c)||kM(c)||So(c)),f=!!(YM(u)||VM(u)||So(u));if(a=new rh({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:f}),d){if(nh(c))a._write=function(T,h,p){c.write(T,h)?p():n=p},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(Y_(c)){let h=(So(c)?c.writable:c).getWriter();a._write=async function(p,S,I){try{await h.ready,h.write(p).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(p){try{await h.ready,h.close().catch(()=>{}),i=p}catch(S){p(S)}}}let E=So(u)?u.readable:u;Dre(E,()=>{if(i){let T=i;i=null,T()}})}if(f){if(nh(u))u.on("readable",function(){if(s){let E=s;s=null,E()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let E=u.read();if(E===null){s=a._read;return}if(!a.push(E))return}};else if(Y_(u)){let T=(So(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:p}=await T.read();if(!a.push(h))return;if(p){a.push(null);return}}catch{return}}}}return a._destroy=function(E,T){!E&&o!==null&&(E=new wre),s=null,n=null,i=null,o===null?T(E):(o=T,nh(u)&&yre(u,E))},a}});var nv=O((cPe,q_)=>{"use strict";var Pre=globalThis.AbortController||Ct().AbortController,{codes:{ERR_INVALID_ARG_VALUE:xre,ERR_INVALID_ARG_TYPE:pu,ERR_MISSING_ARGS:Mre,ERR_OUT_OF_RANGE:vre},AbortError:Kn}=Ir(),{validateAbortSignal:Ro,validateInteger:jM,validateObject:Ao}=Xa(),Ure=ot().Symbol("kWeak"),Bre=ot().Symbol("kResistStopPropagation"),{finished:Fre}=Di(),Gre=$_(),{addAbortSignalNoValidate:Hre}=su(),{isWritable:Wre,isNodeStream:Yre}=Vn(),{deprecate:$re}=Pr(),{ArrayPrototypePush:kre,Boolean:Vre,MathFloor:KM,Number:qre,NumberIsNaN:Xre,Promise:zM,PromiseReject:JM,PromiseResolve:jre,PromisePrototypeThen:QM,Symbol:ev}=ot(),ih=ev("kEmpty"),ZM=ev("kEof");function Kre(t,e){if(e!=null&&Ao(e,"options"),e?.signal!=null&&Ro(e.signal,"options.signal"),Yre(t)&&!Wre(t))throw new xre("stream",t,"must be writable");let r=Gre(this,t);return e!=null&&e.signal&&Hre(e.signal,r),r}function sh(t,e){if(typeof t!="function")throw new pu("fn",["Function","AsyncFunction"],t);e!=null&&Ao(e,"options"),e?.signal!=null&&Ro(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=KM(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=KM(e.highWaterMark)),jM(r,"options.concurrency",1),jM(n,"options.highWaterMark",0),n+=r,async function*(){let s=Pr().AbortSignalAny([e?.signal].filter(Vre)),o=this,a=[],l={signal:s},c,u,d=!1,f=0;function E(){d=!0,T()}function T(){f-=1,h()}function h(){u&&!d&&f<r&&a.length<n&&(u(),u=null)}async function p(){try{for await(let S of o){if(d)return;if(s.aborted)throw new Kn;try{if(S=t(S,l),S===ih)continue;S=jre(S)}catch(I){S=JM(I)}f+=1,QM(S,T,E),a.push(S),c&&(c(),c=null),!d&&(a.length>=n||f>=r)&&await new zM(I=>{u=I})}a.push(ZM)}catch(S){let I=JM(S);QM(I,T,E),a.push(I)}finally{d=!0,c&&(c(),c=null)}}p();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===ZM)return;if(s.aborted)throw new Kn;S!==ih&&(yield S),a.shift(),h()}await new zM(S=>{c=S})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function zre(t=void 0){return t!=null&&Ao(t,"options"),t?.signal!=null&&Ro(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Kn({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function tv(t,e=void 0){for await(let r of V_.call(this,t,e))return!0;return!1}async function Jre(t,e=void 0){if(typeof t!="function")throw new pu("fn",["Function","AsyncFunction"],t);return!await tv.call(this,async(...r)=>!await t(...r),e)}async function Qre(t,e){for await(let r of V_.call(this,t,e))return r}async function Zre(t,e){if(typeof t!="function")throw new pu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),ih}for await(let n of sh.call(this,r,e));}function V_(t,e){if(typeof t!="function")throw new pu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:ih}return sh.call(this,r,e)}var k_=class extends Mre{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ene(t,e,r){var n;if(typeof t!="function")throw new pu("reducer",["Function","AsyncFunction"],t);r!=null&&Ao(r,"options"),r?.signal!=null&&Ro(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Kn(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Fre(this.destroy(c)),c}let s=new Pre,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Ure]:this,[Bre]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Kn;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new k_}finally{s.abort()}return e}async function tne(t){t!=null&&Ao(t,"options"),t?.signal!=null&&Ro(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Kn(void 0,{cause:t.signal.reason});kre(e,n)}return e}function rne(t,e){let r=sh.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function rv(t){if(t=qre(t),Xre(t))return 0;if(t<0)throw new vre("number",">= 0",t);return t}function nne(t,e=void 0){return e!=null&&Ao(e,"options"),e?.signal!=null&&Ro(e.signal,"options.signal"),t=rv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Kn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Kn;t--<=0&&(yield s)}}.call(this)}function ine(t,e=void 0){return e!=null&&Ao(e,"options"),e?.signal!=null&&Ro(e.signal,"options.signal"),t=rv(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Kn;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Kn;if(t-- >0&&(yield s),t<=0)return}}.call(this)}q_.exports.streamReturningOperators={asIndexedPairs:$re(zre,"readable.asIndexedPairs will be removed in a future version."),drop:nne,filter:V_,flatMap:rne,map:sh,take:ine,compose:Kre};q_.exports.promiseReturningOperators={every:Jre,forEach:Zre,reduce:ene,toArray:tne,some:tv,find:Qre}});var X_=O((uPe,iv)=>{"use strict";var{ArrayPrototypePop:sne,Promise:one}=ot(),{isIterable:ane,isNodeStream:lne,isWebStream:cne}=Vn(),{pipelineImpl:une}=th(),{finished:dne}=Di();j_();function Ene(...t){return new one((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!lne(s)&&!ane(s)&&!cne(s)){let o=sne(t);n=o.signal,i=o.end}une(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}iv.exports={finished:dne,pipeline:Ene}});var j_=O((dPe,fv)=>{"use strict";var{Buffer:fne}=require("buffer"),{ObjectDefineProperty:Mi,ObjectKeys:av,ReflectApply:lv}=ot(),{promisify:{custom:cv}}=Pr(),{streamReturningOperators:sv,promiseReturningOperators:ov}=nv(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:uv}}=Ir(),hne=$_(),{setDefaultHighWaterMark:Tne,getDefaultHighWaterMark:pne}=ou(),{pipeline:dv}=th(),{destroyer:Sne}=Eo(),Ev=Di(),K_=X_(),Su=Vn(),tt=fv.exports=Ff().Stream;tt.isDestroyed=Su.isDestroyed;tt.isDisturbed=Su.isDisturbed;tt.isErrored=Su.isErrored;tt.isReadable=Su.isReadable;tt.isWritable=Su.isWritable;tt.Readable=uu();for(let t of av(sv)){let r=function(...n){if(new.target)throw uv();return tt.Readable.from(lv(e,this,n))},e=sv[t];Mi(r,"name",{__proto__:null,value:e.name}),Mi(r,"length",{__proto__:null,value:e.length}),Mi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of av(ov)){let r=function(...n){if(new.target)throw uv();return lv(e,this,n)},e=ov[t];Mi(r,"name",{__proto__:null,value:e.name}),Mi(r,"length",{__proto__:null,value:e.length}),Mi(tt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}tt.Writable=Jf();tt.Duplex=jn();tt.Transform=L_();tt.PassThrough=P_();tt.pipeline=dv;var{addAbortSignal:Rne}=su();tt.addAbortSignal=Rne;tt.finished=Ev;tt.destroy=Sne;tt.compose=hne;tt.setDefaultHighWaterMark=Tne;tt.getDefaultHighWaterMark=pne;Mi(tt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return K_}});Mi(dv,cv,{__proto__:null,enumerable:!0,get(){return K_.pipeline}});Mi(Ev,cv,{__proto__:null,enumerable:!0,get(){return K_.finished}});tt.Stream=tt;tt._isUint8Array=function(e){return e instanceof Uint8Array};tt._uint8ArrayToBuffer=function(e){return fne.from(e.buffer,e.byteOffset,e.byteLength)}});var hv=O((EPe,Oe)=>{"use strict";var Ut=require("stream");if(Ut&&process.env.READABLE_STREAM==="disable"){let t=Ut.promises;Oe.exports._uint8ArrayToBuffer=Ut._uint8ArrayToBuffer,Oe.exports._isUint8Array=Ut._isUint8Array,Oe.exports.isDisturbed=Ut.isDisturbed,Oe.exports.isErrored=Ut.isErrored,Oe.exports.isReadable=Ut.isReadable,Oe.exports.Readable=Ut.Readable,Oe.exports.Writable=Ut.Writable,Oe.exports.Duplex=Ut.Duplex,Oe.exports.Transform=Ut.Transform,Oe.exports.PassThrough=Ut.PassThrough,Oe.exports.addAbortSignal=Ut.addAbortSignal,Oe.exports.finished=Ut.finished,Oe.exports.destroy=Ut.destroy,Oe.exports.pipeline=Ut.pipeline,Oe.exports.compose=Ut.compose,Object.defineProperty(Ut,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Oe.exports.Stream=Ut.Stream}else{let t=j_(),e=X_(),r=t.Readable.destroy;Oe.exports=t.Readable,Oe.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Oe.exports._isUint8Array=t._isUint8Array,Oe.exports.isDisturbed=t.isDisturbed,Oe.exports.isErrored=t.isErrored,Oe.exports.isReadable=t.isReadable,Oe.exports.Readable=t.Readable,Oe.exports.Writable=t.Writable,Oe.exports.Duplex=t.Duplex,Oe.exports.Transform=t.Transform,Oe.exports.PassThrough=t.PassThrough,Oe.exports.addAbortSignal=t.addAbortSignal,Oe.exports.finished=t.finished,Oe.exports.destroy=t.destroy,Oe.exports.destroy=r,Oe.exports.pipeline=t.pipeline,Oe.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Oe.exports.Stream=t.Stream}Oe.exports.default=Oe.exports});var pv=O((fPe,Tv)=>{function Ane(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}Tv.exports=Ane});var _v=O((hPe,Av)=>{var Sv=Nf(),_ne=DA(),Ine=PA(),Rv=Sv?Sv.isConcatSpreadable:void 0;function mne(t){return Ine(t)||_ne(t)||!!(Rv&&t&&t[Rv])}Av.exports=mne});var oh=O((TPe,mv)=>{var Nne=pv(),gne=_v();function Iv(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=gne),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?Iv(a,e-1,r,n,i):Nne(i,a):n||(i[i.length]=a)}return i}mv.exports=Iv});var gv=O((pPe,Nv)=>{var One=oh();function Cne(t){var e=t==null?0:t.length;return e?One(t,1):[]}Nv.exports=Cne});var Ru=O((SPe,Ov)=>{var bne=zc(),yne=bne(Object,"create");Ov.exports=yne});var yv=O((RPe,bv)=>{var Cv=Ru();function wne(){this.__data__=Cv?Cv(null):{},this.size=0}bv.exports=wne});var Lv=O((APe,wv)=>{function Lne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}wv.exports=Lne});var Pv=O((_Pe,Dv)=>{var Dne=Ru(),Pne="__lodash_hash_undefined__",xne=Object.prototype,Mne=xne.hasOwnProperty;function vne(t){var e=this.__data__;if(Dne){var r=e[t];return r===Pne?void 0:r}return Mne.call(e,t)?e[t]:void 0}Dv.exports=vne});var Mv=O((IPe,xv)=>{var Une=Ru(),Bne=Object.prototype,Fne=Bne.hasOwnProperty;function Gne(t){var e=this.__data__;return Une?e[t]!==void 0:Fne.call(e,t)}xv.exports=Gne});var Uv=O((mPe,vv)=>{var Hne=Ru(),Wne="__lodash_hash_undefined__";function Yne(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Hne&&e===void 0?Wne:e,this}vv.exports=Yne});var Fv=O((NPe,Bv)=>{var $ne=yv(),kne=Lv(),Vne=Pv(),qne=Mv(),Xne=Uv();function il(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}il.prototype.clear=$ne;il.prototype.delete=kne;il.prototype.get=Vne;il.prototype.has=qne;il.prototype.set=Xne;Bv.exports=il});var Hv=O((gPe,Gv)=>{function jne(){this.__data__=[],this.size=0}Gv.exports=jne});var Au=O((OPe,Wv)=>{var Kne=Of();function zne(t,e){for(var r=t.length;r--;)if(Kne(t[r][0],e))return r;return-1}Wv.exports=zne});var $v=O((CPe,Yv)=>{var Jne=Au(),Qne=Array.prototype,Zne=Qne.splice;function eie(t){var e=this.__data__,r=Jne(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Zne.call(e,r,1),--this.size,!0}Yv.exports=eie});var Vv=O((bPe,kv)=>{var tie=Au();function rie(t){var e=this.__data__,r=tie(e,t);return r<0?void 0:e[r][1]}kv.exports=rie});var Xv=O((yPe,qv)=>{var nie=Au();function iie(t){return nie(this.__data__,t)>-1}qv.exports=iie});var Kv=O((wPe,jv)=>{var sie=Au();function oie(t,e){var r=this.__data__,n=sie(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}jv.exports=oie});var Jv=O((LPe,zv)=>{var aie=Hv(),lie=$v(),cie=Vv(),uie=Xv(),die=Kv();function sl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}sl.prototype.clear=aie;sl.prototype.delete=lie;sl.prototype.get=cie;sl.prototype.has=uie;sl.prototype.set=die;zv.exports=sl});var Zv=O((DPe,Qv)=>{var Eie=zc(),fie=Wa(),hie=Eie(fie,"Map");Qv.exports=hie});var rU=O((PPe,tU)=>{var eU=Fv(),Tie=Jv(),pie=Zv();function Sie(){this.size=0,this.__data__={hash:new eU,map:new(pie||Tie),string:new eU}}tU.exports=Sie});var iU=O((xPe,nU)=>{function Rie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}nU.exports=Rie});var _u=O((MPe,sU)=>{var Aie=iU();function _ie(t,e){var r=t.__data__;return Aie(e)?r[typeof e=="string"?"string":"hash"]:r.map}sU.exports=_ie});var aU=O((vPe,oU)=>{var Iie=_u();function mie(t){var e=Iie(this,t).delete(t);return this.size-=e?1:0,e}oU.exports=mie});var cU=O((UPe,lU)=>{var Nie=_u();function gie(t){return Nie(this,t).get(t)}lU.exports=gie});var dU=O((BPe,uU)=>{var Oie=_u();function Cie(t){return Oie(this,t).has(t)}uU.exports=Cie});var fU=O((FPe,EU)=>{var bie=_u();function yie(t,e){var r=bie(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}EU.exports=yie});var TU=O((GPe,hU)=>{var wie=rU(),Lie=aU(),Die=cU(),Pie=dU(),xie=fU();function ol(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ol.prototype.clear=wie;ol.prototype.delete=Lie;ol.prototype.get=Die;ol.prototype.has=Pie;ol.prototype.set=xie;hU.exports=ol});var SU=O((HPe,pU)=>{var Mie="__lodash_hash_undefined__";function vie(t){return this.__data__.set(t,Mie),this}pU.exports=vie});var AU=O((WPe,RU)=>{function Uie(t){return this.__data__.has(t)}RU.exports=Uie});var z_=O((YPe,_U)=>{var Bie=TU(),Fie=SU(),Gie=AU();function ah(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Bie;++e<r;)this.add(t[e])}ah.prototype.add=ah.prototype.push=Fie;ah.prototype.has=Gie;_U.exports=ah});var mU=O(($Pe,IU)=>{function Hie(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}IU.exports=Hie});var gU=O((kPe,NU)=>{function Wie(t){return t!==t}NU.exports=Wie});var CU=O((VPe,OU)=>{function Yie(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}OU.exports=Yie});var yU=O((qPe,bU)=>{var $ie=mU(),kie=gU(),Vie=CU();function qie(t,e,r){return e===e?Vie(t,e,r):$ie(t,kie,r)}bU.exports=qie});var J_=O((XPe,wU)=>{var Xie=yU();function jie(t,e){var r=t==null?0:t.length;return!!r&&Xie(t,e,0)>-1}wU.exports=jie});var Q_=O((jPe,LU)=>{function Kie(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}LU.exports=Kie});var PU=O((KPe,DU)=>{function zie(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}DU.exports=zie});var Z_=O((zPe,xU)=>{function Jie(t,e){return t.has(e)}xU.exports=Jie});var vU=O((JPe,MU)=>{var Qie=z_(),Zie=J_(),ese=Q_(),tse=PU(),rse=xA(),nse=Z_(),ise=200;function sse(t,e,r,n){var i=-1,s=Zie,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;r&&(e=tse(e,rse(r))),n?(s=ese,o=!1):e.length>=ise&&(s=nse,o=!1,e=new Qie(e));e:for(;++i<a;){var u=t[i],d=r==null?u:r(u);if(u=n||u!==0?u:0,o&&d===d){for(var f=c;f--;)if(e[f]===d)continue e;l.push(u)}else s(e,d,n)||l.push(u)}return l}MU.exports=sse});var eI=O((QPe,UU)=>{var ose=Cf(),ase=Ya();function lse(t){return ase(t)&&ose(t)}UU.exports=lse});var GU=O((ZPe,FU)=>{var cse=vU(),use=oh(),dse=gf(),BU=eI(),Ese=dse(function(t,e){return BU(t)?cse(t,use(e,1,BU,!0)):[]});FU.exports=Ese});var WU=O((exe,HU)=>{var fse=zc(),hse=Wa(),Tse=fse(hse,"Set");HU.exports=Tse});var $U=O((txe,YU)=>{function pse(){}YU.exports=pse});var tI=O((rxe,kU)=>{function Sse(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}kU.exports=Sse});var qU=O((nxe,VU)=>{var rI=WU(),Rse=$U(),Ase=tI(),_se=1/0,Ise=rI&&1/Ase(new rI([,-0]))[1]==_se?function(t){return new rI(t)}:Rse;VU.exports=Ise});var jU=O((ixe,XU)=>{var mse=z_(),Nse=J_(),gse=Q_(),Ose=Z_(),Cse=qU(),bse=tI(),yse=200;function wse(t,e,r){var n=-1,i=Nse,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=gse;else if(s>=yse){var c=e?null:Cse(t);if(c)return bse(c);o=!1,i=Ose,l=new mse}else l=e?[]:a;e:for(;++n<s;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,r)||(l!==a&&l.push(d),a.push(u))}return a}XU.exports=wse});var zU=O((sxe,KU)=>{var Lse=oh(),Dse=gf(),Pse=jU(),xse=eI(),Mse=Dse(function(t){return Pse(Lse(t,1,xse,!0))});KU.exports=Mse});var QU=O((oxe,JU)=>{function vse(t,e){return function(r){return t(e(r))}}JU.exports=vse});var eB=O((axe,ZU)=>{var Use=QU(),Bse=Use(Object.getPrototypeOf,Object);ZU.exports=Bse});var nB=O((lxe,rB)=>{var Fse=jc(),Gse=eB(),Hse=Ya(),Wse="[object Object]",Yse=Function.prototype,$se=Object.prototype,tB=Yse.toString,kse=$se.hasOwnProperty,Vse=tB.call(Object);function qse(t){if(!Hse(t)||Fse(t)!=Wse)return!1;var e=Gse(t);if(e===null)return!0;var r=kse.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&tB.call(r)==Vse}rB.exports=qse});var dB=O((cxe,uB)=>{var iB=HR();uB.exports=Kse;var sB="\0SLASH"+Math.random()+"\0",oB="\0OPEN"+Math.random()+"\0",iI="\0CLOSE"+Math.random()+"\0",aB="\0COMMA"+Math.random()+"\0",lB="\0PERIOD"+Math.random()+"\0";function nI(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Xse(t){return t.split("\\\\").join(sB).split("\\{").join(oB).split("\\}").join(iI).split("\\,").join(aB).split("\\.").join(lB)}function jse(t){return t.split(sB).join("\\").split(oB).join("{").split(iI).join("}").split(aB).join(",").split(lB).join(".")}function cB(t){if(!t)return[""];var e=[],r=iB("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=cB(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Kse(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Iu(Xse(t),!0).map(jse)):[]}function zse(t){return"{"+t+"}"}function Jse(t){return/^-?0\d/.test(t)}function Qse(t,e){return t<=e}function Zse(t,e){return t>=e}function Iu(t,e){var r=[],n=iB("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Iu(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+iI+n.post,Iu(t)):[t];var f;if(u)f=n.body.split(/\.\./);else if(f=cB(n.body),f.length===1&&(f=Iu(f[0],!1).map(zse),f.length===1))return s.map(function(P){return n.pre+f[0]+P});var E;if(u){var T=nI(f[0]),h=nI(f[1]),p=Math.max(f[0].length,f[1].length),S=f.length==3?Math.abs(nI(f[2])):1,I=Qse,R=h<T;R&&(S*=-1,I=Zse);var A=f.some(Jse);E=[];for(var N=T;I(N,h);N+=S){var w;if(c)w=String.fromCharCode(N),w==="\\"&&(w="");else if(w=String(N),A){var m=p-w.length;if(m>0){var D=new Array(m+1).join("0");N<0?w="-"+D+w.slice(1):w=D+w}}E.push(w)}}else{E=[];for(var y=0;y<f.length;y++)E.push.apply(E,Iu(f[y],!1))}for(var y=0;y<E.length;y++)for(var o=0;o<s.length;o++){var a=i+E[y]+s[o];(!e||u||a)&&r.push(a)}}return r}});var EB=O(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.assertValidPattern=void 0;var eoe=1024*64,toe=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>eoe)throw new TypeError("pattern is too long")};lh.assertValidPattern=toe});var hB=O(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.parseClass=void 0;var roe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},mu=t=>t.replace(/[[\]\\-]/g,"\\$&"),noe=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),fB=t=>t.join(""),ioe=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,o=!1,a=!1,l=!1,c=!1,u=r,d="";e:for(;s<t.length;){let h=t.charAt(s);if((h==="!"||h==="^")&&s===r+1){c=!0,s++;continue}if(h==="]"&&o&&!l){u=s+1;break}if(o=!0,h==="\\"&&!l){l=!0,s++;continue}if(h==="["&&!l){for(let[p,[S,I,R]]of Object.entries(roe))if(t.startsWith(p,s)){if(d)return["$.",!1,t.length-r,!0];s+=p.length,R?i.push(S):n.push(S),a=a||I;continue e}}if(l=!1,d){h>d?n.push(mu(d)+"-"+mu(h)):h===d&&n.push(mu(h)),d="",s++;continue}if(t.startsWith("-]",s+1)){n.push(mu(h+"-")),s+=2;continue}if(t.startsWith("-",s+1)){d=h,s+=2;continue}n.push(mu(h)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let h=n[0].length===2?n[0].slice(-1):n[0];return[noe(h),!1,u-r,!1]}let f="["+(c?"^":"")+fB(n)+"]",E="["+(c?"":"^")+fB(i)+"]";return[n.length&&i.length?"("+f+"|"+E+")":n.length?f:E,a,u-r,!0]};ch.parseClass=ioe});var dh=O(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.unescape=void 0;var soe=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");uh.unescape=soe});var aI=O(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.AST=void 0;var ooe=hB(),Eh=dh(),aoe=new Set(["!","?","+","*","@"]),TB=t=>aoe.has(t),loe="(?!(?:^|/)\\.\\.?(?:$|/))",fh="(?!\\.)",coe=new Set(["[","."]),uoe=new Set(["..","."]),doe=new Set("().*{}+?[]^$\\!"),Eoe=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),oI="[^/]",pB=oI+"*?",SB=oI+"+?",sI=class t{type;#e;#t;#s=!1;#n=[];#o;#_;#c;#d=!1;#a;#l;#i=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#o=r,this.#e=this.#o?this.#o.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#c=this.#e===this?[]:this.#e.#c,e==="!"&&!this.#e.#d&&this.#c.push(this),this.#_=this.#o?this.#o.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#p(){if(this!==this.#e)throw new Error("should only call on root");if(this.#d)return this;this.toString(),this.#d=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let r=e,n=r.#o;for(;n;){for(let i=r.#_+1;!n.type&&i<n.#n.length;i++)for(let s of e.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#o}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#o===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#d&&this.#o?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#o?.isStart())return!1;if(this.#_===0)return!0;let e=this.#o;for(let r=0;r<this.#_;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let e=this.#o?this.#o.#n.length:0;return this.#_===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#S(e,r,n,i){let s=!1,o=!1,a=-1,l=!1;if(r.type===null){let E=n,T="";for(;E<e.length;){let h=e.charAt(E++);if(s||h==="\\"){s=!s,T+=h;continue}if(o){E===a+1?(h==="^"||h==="!")&&(l=!0):h==="]"&&!(E===a+2&&l)&&(o=!1),T+=h;continue}else if(h==="["){o=!0,a=E,l=!1,T+=h;continue}if(!i.noext&&TB(h)&&e.charAt(E)==="("){r.push(T),T="";let p=new t(h,r);E=t.#S(e,p,E,i),r.push(p);continue}T+=h}return r.push(T),E}let c=n+1,u=new t(null,r),d=[],f="";for(;c<e.length;){let E=e.charAt(c++);if(s||E==="\\"){s=!s,f+=E;continue}if(o){c===a+1?(E==="^"||E==="!")&&(l=!0):E==="]"&&!(c===a+2&&l)&&(o=!1),f+=E;continue}else if(E==="["){o=!0,a=c,l=!1,f+=E;continue}if(TB(E)&&e.charAt(c)==="("){u.push(f),f="";let T=new t(E,u);u.push(T),c=t.#S(e,T,c,i);continue}if(E==="|"){u.push(f),f="",d.push(u),u=new t(null,r);continue}if(E===")")return f===""&&r.#n.length===0&&(r.#i=!0),u.push(f),f="",r.push(...d,u),c;f+=E}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],c}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#S(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}get options(){return this.#a}toRegExpSource(e){let r=e??!!this.#a.dot;if(this.#e===this&&this.#p(),!this.type){let l=this.isStart()&&this.isEnd(),c=this.#n.map(E=>{let[T,h,p,S]=typeof E=="string"?t.#E(E,this.#t,l):E.toRegExpSource(e);return this.#t=this.#t||p,this.#s=this.#s||S,T}).join(""),u="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&uoe.has(this.#n[0]))){let T=coe,h=r&&T.has(c.charAt(0))||c.startsWith("\\.")&&T.has(c.charAt(2))||c.startsWith("\\.\\.")&&T.has(c.charAt(4)),p=!r&&!e&&T.has(c.charAt(0));u=h?loe:p?fh:""}let d="";return this.isEnd()&&this.#e.#d&&this.#o?.type==="!"&&(d="(?:$|\\/)"),[u+c+d,(0,Eh.unescape)(c),this.#t=!!this.#t,this.#s]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#f(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let l=this.toString();return this.#n=[l],this.type=null,this.#t=void 0,[l,(0,Eh.unescape)(this.toString()),!1,!1]}let o=!n||e||r||!fh?"":this.#f(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let a="";if(this.type==="!"&&this.#i)a=(this.isStart()&&!r?fh:"")+SB;else{let l=this.type==="!"?"))"+(this.isStart()&&!r&&!e?fh:"")+pB+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=i+s+l}return[a,(0,Eh.unescape)(s),this.#t=!!this.#t,this.#s]}#f(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,o]=r.toRegExpSource(e);return this.#s=this.#s||o,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#E(e,r,n=!1){let i=!1,s="",o=!1;for(let a=0;a<e.length;a++){let l=e.charAt(a);if(i){i=!1,s+=(doe.has(l)?"\\":"")+l;continue}if(l==="\\"){a===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){let[c,u,d,f]=(0,ooe.parseClass)(e,a);if(d){s+=c,o=o||u,a+=d-1,r=r||f;continue}}if(l==="*"){n&&e==="*"?s+=SB:s+=pB,r=!0;continue}if(l==="?"){s+=oI,r=!0;continue}s+=Eoe(l)}return[s,(0,Eh.unescape)(e),!!r,o]}};hh.AST=sI});var lI=O(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.escape=void 0;var foe=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");Th.escape=foe});var Ns=O(Q=>{"use strict";var hoe=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Q,"__esModule",{value:!0});Q.unescape=Q.escape=Q.AST=Q.Minimatch=Q.match=Q.makeRe=Q.braceExpand=Q.defaults=Q.filter=Q.GLOBSTAR=Q.sep=Q.minimatch=void 0;var Toe=hoe(dB()),ph=EB(),_B=aI(),poe=lI(),Soe=dh(),Roe=(t,e,r={})=>((0,ph.assertValidPattern)(e),!r.nocomment&&e.charAt(0)==="#"?!1:new _o(e,r).match(t));Q.minimatch=Roe;var Aoe=/^\*+([^+@!?\*\[\(]*)$/,_oe=t=>e=>!e.startsWith(".")&&e.endsWith(t),Ioe=t=>e=>e.endsWith(t),moe=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),Noe=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),goe=/^\*+\.\*+$/,Ooe=t=>!t.startsWith(".")&&t.includes("."),Coe=t=>t!=="."&&t!==".."&&t.includes("."),boe=/^\.\*+$/,yoe=t=>t!=="."&&t!==".."&&t.startsWith("."),woe=/^\*+$/,Loe=t=>t.length!==0&&!t.startsWith("."),Doe=t=>t.length!==0&&t!=="."&&t!=="..",Poe=/^\?+([^+@!?\*\[\(]*)?$/,xoe=([t,e=""])=>{let r=IB([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Moe=([t,e=""])=>{let r=mB([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},voe=([t,e=""])=>{let r=mB([t]);return e?n=>r(n)&&n.endsWith(e):r},Uoe=([t,e=""])=>{let r=IB([t]);return e?n=>r(n)&&n.endsWith(e):r},IB=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},mB=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},NB=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",RB={win32:{sep:"\\"},posix:{sep:"/"}};Q.sep=NB==="win32"?RB.win32.sep:RB.posix.sep;Q.minimatch.sep=Q.sep;Q.GLOBSTAR=Symbol("globstar **");Q.minimatch.GLOBSTAR=Q.GLOBSTAR;var Boe="[^/]",Foe=Boe+"*?",Goe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Hoe="(?:(?!(?:\\/|^)\\.).)*?",Woe=(t,e={})=>r=>(0,Q.minimatch)(r,t,e);Q.filter=Woe;Q.minimatch.filter=Q.filter;var cn=(t,e={})=>Object.assign({},t,e),Yoe=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Q.minimatch;let e=Q.minimatch;return Object.assign((n,i,s={})=>e(n,i,cn(t,s)),{Minimatch:class extends e.Minimatch{constructor(i,s={}){super(i,cn(t,s))}static defaults(i){return e.defaults(cn(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,s,o={}){super(i,s,cn(t,o))}static fromGlob(i,s={}){return e.AST.fromGlob(i,cn(t,s))}},unescape:(n,i={})=>e.unescape(n,cn(t,i)),escape:(n,i={})=>e.escape(n,cn(t,i)),filter:(n,i={})=>e.filter(n,cn(t,i)),defaults:n=>e.defaults(cn(t,n)),makeRe:(n,i={})=>e.makeRe(n,cn(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,cn(t,i)),match:(n,i,s={})=>e.match(n,i,cn(t,s)),sep:e.sep,GLOBSTAR:Q.GLOBSTAR})};Q.defaults=Yoe;Q.minimatch.defaults=Q.defaults;var $oe=(t,e={})=>((0,ph.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,Toe.default)(t));Q.braceExpand=$oe;Q.minimatch.braceExpand=Q.braceExpand;var koe=(t,e={})=>new _o(t,e).makeRe();Q.makeRe=koe;Q.minimatch.makeRe=Q.makeRe;var Voe=(t,e,r={})=>{let n=new _o(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};Q.match=Voe;Q.minimatch.match=Q.match;var AB=/[?*]|[+@!]\(.*?\)|\[|\]/,qoe=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),_o=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){(0,ph.assertValidPattern)(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||NB,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=s[0]===""&&s[1]===""&&(s[2]==="?"||!AB.test(s[2]))&&!AB.test(s[3]),c=/^[a-z]:/i.test(s[0]);if(l)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(c)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(l=>this.parse(l))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let o=this.set[s];o[0]===""&&o[1]===""&&this.globParts[s][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let s=e[i];i===1&&s===""&&e[0]===""||(s==="."||s==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let o=i;for(;n[o+1]==="**";)o++;o>i&&n.splice(i+1,o-i);let a=n[i+1],l=n[i+2],c=n[i+3];if(a!==".."||!l||l==="."||l===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",e.push(u),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<n.length-1;o++){let a=n[o];o===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(o,1),o--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let o=n[s-1];if(o&&o!=="."&&o!==".."&&o!=="**"){r=!0;let l=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...l),n.length===0&&n.push(""),s-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(i){e[r]=[],e[n]=i;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,s=0,o=[],a="";for(;i<e.length&&s<r.length;)if(e[i]===r[s])o.push(a==="b"?r[s]:e[i]),i++,s++;else if(n&&e[i]==="**"&&r[s]===e[i+1])o.push(e[i]),i++;else if(n&&r[s]==="**"&&e[i]===r[s+1])o.push(r[s]),s++;else if(e[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(a==="b")return!1;a="a",o.push(e[i]),i++,s++}else if(r[s]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",o.push(r[s]),i++,s++}else return!1;return e.length===r.length&&o}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let h=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),p=!h&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),S=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),I=!S&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),R=p?3:h?0:void 0,A=I?3:S?0:void 0;if(typeof R=="number"&&typeof A=="number"){let[N,w]=[e[R],r[A]];N.toLowerCase()===w.toLowerCase()&&(r[A]=N,A>R?r=r.slice(A):R>A&&(e=e.slice(R)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var u=r[a],d=e[o];if(this.debug(r,u,d),u===!1)return!1;if(u===Q.GLOBSTAR){this.debug("GLOBSTAR",[r,u,d]);var f=o,E=a+1;if(E===c){for(this.debug("** at the end");o<l;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;f<l;){var T=e[f];if(this.debug(`
globstar while`,e,f,r,E,T),this.matchOne(e.slice(f),r.slice(E),n))return this.debug("globstar found match!",f,l,T),!0;if(T==="."||T===".."||!i.dot&&T.charAt(0)==="."){this.debug("dot detected!",e,f,r,E);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,f,r,E),f===l))}let h;if(typeof u=="string"?(h=d===u,this.debug("string match",u,d,h)):(h=u.test(d),this.debug("pattern match",u,d,h)),!h)return!1}if(o===l&&a===c)return!0;if(o===l)return n;if(a===c)return o===l-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return(0,Q.braceExpand)(this.pattern,this.options)}parse(e){(0,ph.assertValidPattern)(e);let r=this.options;if(e==="**")return Q.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(woe))?i=r.dot?Doe:Loe:(n=e.match(Aoe))?i=(r.nocase?r.dot?Noe:moe:r.dot?Ioe:_oe)(n[1]):(n=e.match(Poe))?i=(r.nocase?r.dot?Moe:xoe:r.dot?voe:Uoe)(n):(n=e.match(goe))?i=r.dot?Coe:Ooe:(n=e.match(boe))&&(i=yoe);let s=_B.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Foe:r.dot?Goe:Hoe,i=new Set(r.nocase?["i"]:[]),s=e.map(l=>{let c=l.map(u=>{if(u instanceof RegExp)for(let d of u.flags.split(""))i.add(d);return typeof u=="string"?qoe(u):u===Q.GLOBSTAR?Q.GLOBSTAR:u._src});return c.forEach((u,d)=>{let f=c[d+1],E=c[d-1];u!==Q.GLOBSTAR||E===Q.GLOBSTAR||(E===void 0?f!==void 0&&f!==Q.GLOBSTAR?c[d+1]="(?:\\/|"+n+"\\/)?"+f:c[d]=n:f===void 0?c[d-1]=E+"(?:\\/|"+n+")?":f!==Q.GLOBSTAR&&(c[d-1]=E+"(?:\\/|\\/"+n+"\\/)"+f,c[d+1]=Q.GLOBSTAR))}),c.filter(u=>u!==Q.GLOBSTAR).join("/")}).join("|"),[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let a=i.length-2;!o&&a>=0;a--)o=i[a];for(let a=0;a<s.length;a++){let l=s[a],c=i;if(n.matchBase&&l.length===1&&(c=[o]),this.matchOne(c,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Q.minimatch.defaults(e).Minimatch}};Q.Minimatch=_o;var Xoe=aI();Object.defineProperty(Q,"AST",{enumerable:!0,get:function(){return Xoe.AST}});var joe=lI();Object.defineProperty(Q,"escape",{enumerable:!0,get:function(){return joe.escape}});var Koe=dh();Object.defineProperty(Q,"unescape",{enumerable:!0,get:function(){return Koe.unescape}});Q.minimatch.AST=_B.AST;Q.minimatch.Minimatch=_o;Q.minimatch.escape=poe.escape;Q.minimatch.unescape=Soe.unescape});var yB=O(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.LRUCache=void 0;var al=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,OB=new Set,cI=typeof process=="object"&&process?process:{},CB=(t,e,r,n)=>{typeof cI.emitWarning=="function"?cI.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},Sh=globalThis.AbortController,gB=globalThis.AbortSignal;if(typeof Sh>"u"){gB=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},Sh=class{constructor(){e()}signal=new gB;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=cI.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,CB("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var zoe=t=>!OB.has(t),gs=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),bB=t=>gs(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?ll:null:null,ll=class extends Array{constructor(e){super(e),this.fill(0)}},uI=class t{heap;length;static#e=!1;static create(e){let r=bB(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},dI=class t{#e;#t;#s;#n;#o;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#d;#a;#l;#i;#p;#S;#f;#E;#N;#T;#g;#O;#A;#I;#m;#h;static unsafeExposeInternals(e){return{starts:e.#O,ttls:e.#A,sizes:e.#g,keyMap:e.#a,keyList:e.#l,valList:e.#i,next:e.#p,prev:e.#S,get head(){return e.#f},get tail(){return e.#E},free:e.#N,isBackgroundFetch:r=>e.#u(r),backgroundFetch:(r,n,i,s)=>e.#F(r,n,i,s),moveToTail:r=>e.#H(r),indexes:r=>e.#b(r),rindexes:r=>e.#y(r),isStale:r=>e.#R(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#d}get size(){return this.#c}get fetchMethod(){return this.#o}get memoMethod(){return this.#_}get dispose(){return this.#s}get disposeAfter(){return this.#n}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:d,noUpdateTTL:f,maxSize:E=0,maxEntrySize:T=0,sizeCalculation:h,fetchMethod:p,memoMethod:S,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:R,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:N,ignoreFetchAbort:w}=e;if(r!==0&&!gs(r))throw new TypeError("max option must be a nonnegative integer");let m=r?bB(r):Array;if(!m)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=E,this.maxEntrySize=T||this.#t,this.sizeCalculation=h,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#_=S,p!==void 0&&typeof p!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=p,this.#m=!!p,this.#a=new Map,this.#l=new Array(r).fill(void 0),this.#i=new Array(r).fill(void 0),this.#p=new m(r),this.#S=new m(r),this.#f=0,this.#E=0,this.#N=uI.create(r),this.#c=0,this.#d=0,typeof c=="function"&&(this.#s=c),typeof u=="function"?(this.#n=u,this.#T=[]):(this.#n=void 0,this.#T=void 0),this.#I=!!this.#s,this.#h=!!this.#n,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!I,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!N,this.ignoreFetchAbort=!!w,this.maxEntrySize!==0){if(this.#t!==0&&!gs(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!gs(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#L()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!R,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=gs(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!gs(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#w()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let D="LRU_CACHE_UNBOUNDED";zoe(D)&&(OB.add(D),CB("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#w(){let e=new ll(this.#e),r=new ll(this.#e);this.#A=e,this.#O=r,this.#P=(s,o,a=al.now())=>{if(r[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#R(s)&&this.#D(this.#l[s],"expire")},o+1);l.unref&&l.unref()}},this.#C=s=>{r[s]=e[s]!==0?al.now():0},this.#r=(s,o)=>{if(e[o]){let a=e[o],l=r[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=n||i();let c=s.now-l;s.remainingTTL=a-c}};let n=0,i=()=>{let s=al.now();if(this.ttlResolution>0){n=s;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#a.get(s);if(o===void 0)return 0;let a=e[o],l=r[o];if(!a||!l)return 1/0;let c=(n||i())-l;return a-c},this.#R=s=>{let o=r[s],a=e[s];return!!a&&!!o&&(n||i())-o>a}}#C=()=>{};#r=()=>{};#P=()=>{};#R=()=>!1;#L(){let e=new ll(this.#e);this.#d=0,this.#g=e,this.#x=r=>{this.#d-=e[r],e[r]=0},this.#v=(r,n,i,s)=>{if(this.#u(n))return 0;if(!gs(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!gs(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#M=(r,n,i)=>{if(e[r]=n,this.#t){let s=this.#t-e[r];for(;this.#d>s;)this.#B(!0)}this.#d+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#d)}}#x=e=>{};#M=(e,r,n)=>{};#v=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#b({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#E;!(!this.#U(r)||((e||!this.#R(r))&&(yield r),r===this.#f));)r=this.#S[r]}*#y({allowStale:e=this.allowStale}={}){if(this.#c)for(let r=this.#f;!(!this.#U(r)||((e||!this.#R(r))&&(yield r),r===this.#E));)r=this.#p[r]}#U(e){return e!==void 0&&this.#a.get(this.#l[e])===e}*entries(){for(let e of this.#b())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*rentries(){for(let e of this.#y())this.#i[e]!==void 0&&this.#l[e]!==void 0&&!this.#u(this.#i[e])&&(yield[this.#l[e],this.#i[e]])}*keys(){for(let e of this.#b()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*rkeys(){for(let e of this.#y()){let r=this.#l[e];r!==void 0&&!this.#u(this.#i[e])&&(yield r)}}*values(){for(let e of this.#b())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}*rvalues(){for(let e of this.#y())this.#i[e]!==void 0&&!this.#u(this.#i[e])&&(yield this.#i[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#b()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.#l[n],this))return this.get(this.#l[n],r)}}forEach(e,r=this){for(let n of this.#b()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}rforEach(e,r=this){for(let n of this.#y()){let i=this.#i[n],s=this.#u(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,this.#l[n],this)}}purgeStale(){let e=!1;for(let r of this.#y({allowStale:!0}))this.#R(r)&&(this.#D(this.#l[r],"expire"),e=!0);return e}info(e){let r=this.#a.get(e);if(r===void 0)return;let n=this.#i[r],i=this.#u(n)?n.__staleWhileFetching:n;if(i===void 0)return;let s={value:i};if(this.#A&&this.#O){let o=this.#A[r],a=this.#O[r];if(o&&a){let l=o-(al.now()-a);s.ttl=l,s.start=Date.now()}}return this.#g&&(s.size=this.#g[r]),s}dump(){let e=[];for(let r of this.#b({allowStale:!0})){let n=this.#l[r],i=this.#i[r],s=this.#u(i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;let o={value:s};if(this.#A&&this.#O){o.ttl=this.#A[r];let a=al.now()-this.#O[r];o.start=Math.floor(Date.now()-a)}this.#g&&(o.size=this.#g[r]),e.unshift([n,o])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=al.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=n,{noUpdateTTL:c=this.noUpdateTTL}=n,u=this.#v(e,r,n.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let d=this.#c===0?void 0:this.#a.get(e);if(d===void 0)d=this.#c===0?this.#E:this.#N.length!==0?this.#N.pop():this.#c===this.#e?this.#B(!1):this.#c,this.#l[d]=e,this.#i[d]=r,this.#a.set(e,d),this.#p[this.#E]=d,this.#S[d]=this.#E,this.#E=d,this.#c++,this.#M(d,u,l),l&&(l.set="add"),c=!1;else{this.#H(d);let f=this.#i[d];if(r!==f){if(this.#m&&this.#u(f)){f.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:E}=f;E!==void 0&&!o&&(this.#I&&this.#s?.(E,e,"set"),this.#h&&this.#T?.push([E,e,"set"]))}else o||(this.#I&&this.#s?.(f,e,"set"),this.#h&&this.#T?.push([f,e,"set"]));if(this.#x(d),this.#M(d,u,l),this.#i[d]=r,l){l.set="replace";let E=f&&this.#u(f)?f.__staleWhileFetching:f;E!==void 0&&(l.oldValue=E)}}else l&&(l.set="update")}if(i!==0&&!this.#A&&this.#w(),this.#A&&(c||this.#P(d,i,s),l&&this.#r(l,d)),!o&&this.#h&&this.#T){let f=this.#T,E;for(;E=f?.shift();)this.#n?.(...E)}return this}pop(){try{for(;this.#c;){let e=this.#i[this.#f];if(this.#B(!0),this.#u(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#h&&this.#T){let e=this.#T,r;for(;r=e?.shift();)this.#n?.(...r)}}}#B(e){let r=this.#f,n=this.#l[r],i=this.#i[r];return this.#m&&this.#u(i)?i.__abortController.abort(new Error("evicted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(i,n,"evict"),this.#h&&this.#T?.push([i,n,"evict"])),this.#x(r),e&&(this.#l[r]=void 0,this.#i[r]=void 0,this.#N.push(r)),this.#c===1?(this.#f=this.#E=0,this.#N.length=0):this.#f=this.#p[r],this.#a.delete(n),this.#c--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=this.#a.get(e);if(s!==void 0){let o=this.#i[s];if(this.#u(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#R(s))i&&(i.has="stale",this.#r(i,s));else return n&&this.#C(s),i&&(i.has="hit",this.#r(i,s)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i===void 0||!n&&this.#R(i))return;let s=this.#i[i];return this.#u(s)?s.__staleWhileFetching:s}#F(e,r,n,i){let s=r===void 0?void 0:this.#i[r];if(this.#u(s))return s;let o=new Sh,{signal:a}=n;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:n,context:i},c=(h,p=!1)=>{let{aborted:S}=o.signal,I=n.ignoreFetchAbort&&h!==void 0;if(n.status&&(S&&!p?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,I&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),S&&!I&&!p)return d(o.signal.reason);let R=E;return this.#i[r]===E&&(h===void 0?R.__staleWhileFetching?this.#i[r]=R.__staleWhileFetching:this.#D(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,h,l.options))),h},u=h=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=h),d(h)),d=h=>{let{aborted:p}=o.signal,S=p&&n.allowStaleOnFetchAbort,I=S||n.allowStaleOnFetchRejection,R=I||n.noDeleteOnFetchRejection,A=E;if(this.#i[r]===E&&(!R||A.__staleWhileFetching===void 0?this.#D(e,"fetch"):S||(this.#i[r]=A.__staleWhileFetching)),I)return n.status&&A.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),A.__staleWhileFetching;if(A.__returned===A)throw h},f=(h,p)=>{let S=this.#o?.(e,s,l);S&&S instanceof Promise&&S.then(I=>h(I===void 0?void 0:I),p),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(h(void 0),n.allowStaleOnFetchAbort&&(h=I=>c(I,!0)))})};n.status&&(n.status.fetchDispatched=!0);let E=new Promise(f).then(c,u),T=Object.assign(E,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,T,{...l.options,status:void 0}),r=this.#a.get(e)):this.#i[r]=T,T}#u(e){if(!this.#m)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Sh}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:f=this.allowStaleOnFetchRejection,ignoreFetchAbort:E=this.ignoreFetchAbort,allowStaleOnFetchAbort:T=this.allowStaleOnFetchAbort,context:h,forceRefresh:p=!1,status:S,signal:I}=r;if(!this.#m)return S&&(S.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:S});let R={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:f,allowStaleOnFetchAbort:T,ignoreFetchAbort:E,status:S,signal:I},A=this.#a.get(e);if(A===void 0){S&&(S.fetch="miss");let N=this.#F(e,A,R,h);return N.__returned=N}else{let N=this.#i[A];if(this.#u(N)){let P=n&&N.__staleWhileFetching!==void 0;return S&&(S.fetch="inflight",P&&(S.returnedStale=!0)),P?N.__staleWhileFetching:N.__returned=N}let w=this.#R(A);if(!p&&!w)return S&&(S.fetch="hit"),this.#H(A),i&&this.#C(A),S&&this.#r(S,A),N;let m=this.#F(e,A,R,h),y=m.__staleWhileFetching!==void 0&&n;return S&&(S.fetch=w?"stale":"refresh",y&&w&&(S.returnedStale=!0)),y?m.__staleWhileFetching:m.__returned=m}}async forceFetch(e,r={}){let n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){let n=this.#_;if(!n)throw new Error("no memoMethod provided to constructor");let{context:i,forceRefresh:s,...o}=r,a=this.get(e,o);if(!s&&a!==void 0)return a;let l=n(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,a=this.#a.get(e);if(a!==void 0){let l=this.#i[a],c=this.#u(l);return o&&this.#r(o,a),this.#R(a)?(o&&(o.get="stale"),c?(o&&n&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),o&&n&&(o.returnedStale=!0),n?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(this.#H(a),i&&this.#C(a),l))}else o&&(o.get="miss")}#G(e,r){this.#S[r]=e,this.#p[e]=r}#H(e){e!==this.#E&&(e===this.#f?this.#f=this.#p[e]:this.#G(this.#S[e],this.#p[e]),this.#G(this.#E,e),this.#E=e)}delete(e){return this.#D(e,"delete")}#D(e,r){let n=!1;if(this.#c!==0){let i=this.#a.get(e);if(i!==void 0)if(n=!0,this.#c===1)this.#W(r);else{this.#x(i);let s=this.#i[i];if(this.#u(s)?s.__abortController.abort(new Error("deleted")):(this.#I||this.#h)&&(this.#I&&this.#s?.(s,e,r),this.#h&&this.#T?.push([s,e,r])),this.#a.delete(e),this.#l[i]=void 0,this.#i[i]=void 0,i===this.#E)this.#E=this.#S[i];else if(i===this.#f)this.#f=this.#p[i];else{let o=this.#S[i];this.#p[o]=this.#p[i];let a=this.#p[i];this.#S[a]=this.#S[i]}this.#c--,this.#N.push(i)}}if(this.#h&&this.#T?.length){let i=this.#T,s;for(;s=i?.shift();)this.#n?.(...s)}return n}clear(){return this.#W("delete")}#W(e){for(let r of this.#y({allowStale:!0})){let n=this.#i[r];if(this.#u(n))n.__abortController.abort(new Error("deleted"));else{let i=this.#l[r];this.#I&&this.#s?.(n,i,e),this.#h&&this.#T?.push([n,i,e])}}if(this.#a.clear(),this.#i.fill(void 0),this.#l.fill(void 0),this.#A&&this.#O&&(this.#A.fill(0),this.#O.fill(0)),this.#g&&this.#g.fill(0),this.#f=0,this.#E=0,this.#N.length=0,this.#d=0,this.#c=0,this.#h&&this.#T){let r=this.#T,n;for(;n=r?.shift();)this.#n?.(...n)}}};Rh.LRUCache=dI});var GB=O(FB=>{"use strict";var wB=typeof process=="object"&&process?process:{stdout:null,stderr:null},Joe=require("events"),LB=require("stream"),Qoe=require("string_decoder"),DB=Qoe.StringDecoder,vi=Symbol("EOF"),Ui=Symbol("maybeEmitEnd"),Os=Symbol("emittedEnd"),Ah=Symbol("emittingEnd"),Nu=Symbol("emittedError"),_h=Symbol("closed"),PB=Symbol("read"),Ih=Symbol("flush"),xB=Symbol("flushChunk"),Yr=Symbol("encoding"),Bi=Symbol("decoder"),mh=Symbol("flowing"),gu=Symbol("paused"),cl=Symbol("resume"),bt=Symbol("buffer"),zn=Symbol("pipes"),Jt=Symbol("bufferLength"),EI=Symbol("bufferPush"),fI=Symbol("bufferShift"),cr=Symbol("objectMode"),yt=Symbol("destroyed"),hI=Symbol("error"),TI=Symbol("emitData"),MB=Symbol("emitEnd"),pI=Symbol("emitEnd2"),Fi=Symbol("async"),SI=Symbol("abort"),Nh=Symbol("aborted"),Io=Symbol("signal"),Ou=t=>Promise.resolve().then(t),BB=global._MP_NO_ITERATOR_SYMBOLS_!=="1",vB=BB&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),UB=BB&&Symbol.iterator||Symbol("iterator not implemented"),Zoe=t=>t==="end"||t==="finish"||t==="prefinish",eae=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,tae=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),gh=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[cl](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},RI=class extends gh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},AI=class t extends LB{constructor(e){super(),this[mh]=!1,this[gu]=!1,this[zn]=[],this[bt]=[],this[cr]=e&&e.objectMode||!1,this[cr]?this[Yr]=null:this[Yr]=e&&e.encoding||null,this[Yr]==="buffer"&&(this[Yr]=null),this[Fi]=e&&!!e.async||!1,this[Bi]=this[Yr]?new DB(this[Yr]):null,this[vi]=!1,this[Os]=!1,this[Ah]=!1,this[_h]=!1,this[Nu]=null,this.writable=!0,this.readable=!0,this[Jt]=0,this[yt]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[bt]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[zn]}),this[Io]=e&&e.signal,this[Nh]=!1,this[Io]&&(this[Io].addEventListener("abort",()=>this[SI]()),this[Io].aborted&&this[SI]())}get bufferLength(){return this[Jt]}get encoding(){return this[Yr]}set encoding(e){if(this[cr])throw new Error("cannot set encoding in objectMode");if(this[Yr]&&e!==this[Yr]&&(this[Bi]&&this[Bi].lastNeed||this[Jt]))throw new Error("cannot change encoding");this[Yr]!==e&&(this[Bi]=e?new DB(e):null,this[bt].length&&(this[bt]=this[bt].map(r=>this[Bi].write(r)))),this[Yr]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[cr]}set objectMode(e){this[cr]=this[cr]||!!e}get async(){return this[Fi]}set async(e){this[Fi]=this[Fi]||!!e}[SI](){this[Nh]=!0,this.emit("abort",this[Io].reason),this.destroy(this[Io].reason)}get aborted(){return this[Nh]}set aborted(e){}write(e,r,n){if(this[Nh])return!1;if(this[vi])throw new Error("write after end");if(this[yt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Fi]?Ou:s=>s();return!this[cr]&&!Buffer.isBuffer(e)&&(tae(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):eae(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[cr]?(this.flowing&&this[Jt]!==0&&this[Ih](!0),this.flowing?this.emit("data",e):this[EI](e),this[Jt]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Yr]&&!this[Bi].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Yr]&&(e=this[Bi].write(e)),this.flowing&&this[Jt]!==0&&this[Ih](!0),this.flowing?this.emit("data",e):this[EI](e),this[Jt]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[Jt]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[yt])return null;if(this[Jt]===0||e===0||e>this[Jt])return this[Ui](),null;this[cr]&&(e=null),this[bt].length>1&&!this[cr]&&(this.encoding?this[bt]=[this[bt].join("")]:this[bt]=[Buffer.concat(this[bt],this[Jt])]);let r=this[PB](e||null,this[bt][0]);return this[Ui](),r}[PB](e,r){return e===r.length||e===null?this[fI]():(this[bt][0]=r.slice(e),r=r.slice(0,e),this[Jt]-=e),this.emit("data",r),!this[bt].length&&!this[vi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[vi]=!0,this.writable=!1,(this.flowing||!this[gu])&&this[Ui](),this}[cl](){this[yt]||(this[gu]=!1,this[mh]=!0,this.emit("resume"),this[bt].length?this[Ih]():this[vi]?this[Ui]():this.emit("drain"))}resume(){return this[cl]()}pause(){this[mh]=!1,this[gu]=!0}get destroyed(){return this[yt]}get flowing(){return this[mh]}get paused(){return this[gu]}[EI](e){this[cr]?this[Jt]+=1:this[Jt]+=e.length,this[bt].push(e)}[fI](){return this[cr]?this[Jt]-=1:this[Jt]-=this[bt][0].length,this[bt].shift()}[Ih](e){do;while(this[xB](this[fI]())&&this[bt].length);!e&&!this[bt].length&&!this[vi]&&this.emit("drain")}[xB](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[yt])return;let n=this[Os];return r=r||{},e===wB.stdout||e===wB.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[zn].push(r.proxyErrors?new RI(this,e,r):new gh(this,e,r)),this[Fi]?Ou(()=>this[cl]()):this[cl]()),e}unpipe(e){let r=this[zn].find(n=>n.dest===e);r&&(this[zn].splice(this[zn].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[zn].length&&!this.flowing?this[cl]():e==="readable"&&this[Jt]!==0?super.emit("readable"):Zoe(e)&&this[Os]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Nu]&&(this[Fi]?Ou(()=>r.call(this,this[Nu])):r.call(this,this[Nu])),n}get emittedEnd(){return this[Os]}[Ui](){!this[Ah]&&!this[Os]&&!this[yt]&&this[bt].length===0&&this[vi]&&(this[Ah]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_h]&&this.emit("close"),this[Ah]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==yt&&this[yt])return;if(e==="data")return!this[cr]&&!r?!1:this[Fi]?Ou(()=>this[TI](r)):this[TI](r);if(e==="end")return this[MB]();if(e==="close"){if(this[_h]=!0,!this[Os]&&!this[yt])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Nu]=r,super.emit(hI,r);let s=!this[Io]||this.listeners("error").length?super.emit("error",r):!1;return this[Ui](),s}else if(e==="resume"){let s=super.emit("resume");return this[Ui](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[Ui](),i}[TI](e){for(let n of this[zn])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[Ui](),r}[MB](){this[Os]||(this[Os]=!0,this.readable=!1,this[Fi]?Ou(()=>this[pI]()):this[pI]())}[pI](){if(this[Bi]){let r=this[Bi].end();if(r){for(let n of this[zn])n.dest.write(r);super.emit("data",r)}}for(let r of this[zn])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[cr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[cr]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[cr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[cr]?Promise.reject(new Error("cannot concat in objectMode")):this[Yr]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(yt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[vB](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[vi])return r();let s=null,o=null,a=d=>{this.removeListener("data",l),this.removeListener("end",c),this.removeListener(yt,u),r(),o(d)},l=d=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(yt,u),this.pause(),s({value:d,done:!!this[vi]})},c=()=>{this.removeListener("error",a),this.removeListener("data",l),this.removeListener(yt,u),r(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,f)=>{o=f,s=d,this.once(yt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[vB](){return this}}}[UB](){let e=!1,r=()=>(this.pause(),this.removeListener(hI,r),this.removeListener(yt,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(hI,r),this.once(yt,r),{next:n,throw:r,return:r,[UB](){return this}}}destroy(e){return this[yt]?(e?this.emit("error",e):this.emit(yt),this):(this[yt]=!0,this[bt].length=0,this[Jt]=0,typeof this.close=="function"&&!this[_h]&&this.close(),e?this.emit("error",e):this.emit(yt),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof LB||e instanceof Joe&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};FB.Minipass=AI});var eF=O(qe=>{"use strict";var rae=qe&&qe.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),nae=qe&&qe.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),iae=qe&&qe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rae(e,t,r);return nae(e,t),e};Object.defineProperty(qe,"__esModule",{value:!0});qe.PathScurry=qe.Path=qe.PathScurryDarwin=qe.PathScurryPosix=qe.PathScurryWin32=qe.PathScurryBase=qe.PathPosix=qe.PathWin32=qe.PathBase=qe.ChildrenCache=qe.ResolveCache=void 0;var VB=yB(),wh=require("node:path"),sae=require("node:url"),bu=require("fs"),oae=iae(require("node:fs")),aae=bu.realpathSync.native,Oh=require("node:fs/promises"),HB=GB(),yu={lstatSync:bu.lstatSync,readdir:bu.readdir,readdirSync:bu.readdirSync,readlinkSync:bu.readlinkSync,realpathSync:aae,promises:{lstat:Oh.lstat,readdir:Oh.readdir,readlink:Oh.readlink,realpath:Oh.realpath}},qB=t=>!t||t===yu||t===oae?yu:{...yu,...t,promises:{...yu.promises,...t.promises||{}}},XB=/^\\\\\?\\([a-z]:)\\?$/i,lae=t=>t.replace(/\//g,"\\").replace(XB,"$1\\"),cae=/[\\\/]/,dn=0,jB=1,KB=2,Jn=4,zB=6,JB=8,mo=10,QB=12,un=15,Cu=~un,_I=16,WB=32,wu=64,bn=128,Ch=256,yh=512,YB=wu|bn|yh,uae=1023,II=t=>t.isFile()?JB:t.isDirectory()?Jn:t.isSymbolicLink()?mo:t.isCharacterDevice()?KB:t.isBlockDevice()?zB:t.isSocket()?QB:t.isFIFO()?jB:dn,$B=new Map,Lu=t=>{let e=$B.get(t);if(e)return e;let r=t.normalize("NFKD");return $B.set(t,r),r},kB=new Map,bh=t=>{let e=kB.get(t);if(e)return e;let r=Lu(t.toLowerCase());return kB.set(t,r),r},Du=class extends VB.LRUCache{constructor(){super({max:256})}};qe.ResolveCache=Du;var Lh=class extends VB.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}};qe.ChildrenCache=Lh;var ZB=Symbol("PathScurry setAsCwd"),ur=class{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#s;get mode(){return this.#s}#n;get nlink(){return this.#n}#o;get uid(){return this.#o}#_;get gid(){return this.#_}#c;get rdev(){return this.#c}#d;get blksize(){return this.#d}#a;get ino(){return this.#a}#l;get size(){return this.#l}#i;get blocks(){return this.#i}#p;get atimeMs(){return this.#p}#S;get mtimeMs(){return this.#S}#f;get ctimeMs(){return this.#f}#E;get birthtimeMs(){return this.#E}#N;get atime(){return this.#N}#T;get mtime(){return this.#T}#g;get ctime(){return this.#g}#O;get birthtime(){return this.#O}#A;#I;#m;#h;#w;#C;#r;#P;#R;#L;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,r=dn,n,i,s,o,a){this.name=e,this.#A=s?bh(e):Lu(e),this.#r=r&uae,this.nocase=s,this.roots=i,this.root=n||this,this.#P=o,this.#m=a.fullpath,this.#w=a.relative,this.#C=a.relativePosix,this.parent=a.parent,this.parent?this.#e=this.parent.#e:this.#e=qB(a.fs)}depth(){return this.#I!==void 0?this.#I:this.parent?this.#I=this.parent.depth()+1:this.#I=0}childrenCache(){return this.#P}resolve(e){if(!e)return this;let r=this.getRootString(e),i=e.substring(r.length).split(this.splitSep);return r?this.getRoot(r).#x(i):this.#x(i)}#x(e){let r=this;for(let n of e)r=r.child(n);return r}children(){let e=this.#P.get(this);if(e)return e;let r=Object.assign([],{provisional:0});return this.#P.set(this,r),this.#r&=~_I,r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;let n=this.children(),i=this.nocase?bh(e):Lu(e);for(let l of n)if(l.#A===i)return l;let s=this.parent?this.sep:"",o=this.#m?this.#m+s+e:void 0,a=this.newChild(e,dn,{...r,parent:this,fullpath:o});return this.canReaddir()||(a.#r|=bn),n.push(a),a}relative(){if(this.isCWD)return"";if(this.#w!==void 0)return this.#w;let e=this.name,r=this.parent;if(!r)return this.#w=this.name;let n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#C!==void 0)return this.#C;let e=this.name,r=this.parent;if(!r)return this.#C=this.fullpathPosix();let n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(this.#m!==void 0)return this.#m;let e=this.name,r=this.parent;if(!r)return this.#m=this.name;let i=r.fullpath()+(r.parent?this.sep:"")+e;return this.#m=i}fullpathPosix(){if(this.#h!==void 0)return this.#h;if(this.sep==="/")return this.#h=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#h=`//?/${i}`:this.#h=i}let e=this.parent,r=e.fullpathPosix(),n=r+(!r||!e.parent?"":"/")+this.name;return this.#h=n}isUnknown(){return(this.#r&un)===dn}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#r&un)===JB}isDirectory(){return(this.#r&un)===Jn}isCharacterDevice(){return(this.#r&un)===KB}isBlockDevice(){return(this.#r&un)===zB}isFIFO(){return(this.#r&un)===jB}isSocket(){return(this.#r&un)===QB}isSymbolicLink(){return(this.#r&mo)===mo}lstatCached(){return this.#r&WB?this:void 0}readlinkCached(){return this.#R}realpathCached(){return this.#L}readdirCached(){let e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#R)return!0;if(!this.parent)return!1;let e=this.#r&un;return!(e!==dn&&e!==mo||this.#r&Ch||this.#r&bn)}calledReaddir(){return!!(this.#r&_I)}isENOENT(){return!!(this.#r&bn)}isNamed(e){return this.nocase?this.#A===bh(e):this.#A===Lu(e)}async readlink(){let e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=await this.#e.promises.readlink(this.fullpath()),n=(await this.parent.realpath())?.resolve(r);if(n)return this.#R=n}catch(r){this.#u(r.code);return}}readlinkSync(){let e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{let r=this.#e.readlinkSync(this.fullpath()),n=this.parent.realpathSync()?.resolve(r);if(n)return this.#R=n}catch(r){this.#u(r.code);return}}#M(e){this.#r|=_I;for(let r=e.provisional;r<e.length;r++){let n=e[r];n&&n.#v()}}#v(){this.#r&bn||(this.#r=(this.#r|bn)&Cu,this.#b())}#b(){let e=this.children();e.provisional=0;for(let r of e)r.#v()}#y(){this.#r|=yh,this.#U()}#U(){if(this.#r&wu)return;let e=this.#r;(e&un)===Jn&&(e&=Cu),this.#r=e|wu,this.#b()}#B(e=""){e==="ENOTDIR"||e==="EPERM"?this.#U():e==="ENOENT"?this.#v():this.children().provisional=0}#F(e=""){e==="ENOTDIR"?this.parent.#U():e==="ENOENT"&&this.#v()}#u(e=""){let r=this.#r;r|=Ch,e==="ENOENT"&&(r|=bn),(e==="EINVAL"||e==="UNKNOWN")&&(r&=Cu),this.#r=r,e==="ENOTDIR"&&this.parent&&this.parent.#U()}#G(e,r){return this.#D(e,r)||this.#H(e,r)}#H(e,r){let n=II(e),i=this.newChild(e.name,n,{parent:this}),s=i.#r&un;return s!==Jn&&s!==mo&&s!==dn&&(i.#r|=wu),r.unshift(i),r.provisional++,i}#D(e,r){for(let n=r.provisional;n<r.length;n++){let i=r[n];if((this.nocase?bh(e.name):Lu(e.name))===i.#A)return this.#W(e,i,n,r)}}#W(e,r,n,i){let s=r.name;return r.#r=r.#r&Cu|II(e),s!==e.name&&(r.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(r)),i.provisional++,r}async lstat(){if((this.#r&bn)===0)try{return this.#V(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#F(e.code)}}lstatSync(){if((this.#r&bn)===0)try{return this.#V(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#F(e.code)}}#V(e){let{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:o,blocks:a,ctime:l,ctimeMs:c,dev:u,gid:d,ino:f,mode:E,mtime:T,mtimeMs:h,nlink:p,rdev:S,size:I,uid:R}=e;this.#N=r,this.#p=n,this.#O=i,this.#E=s,this.#d=o,this.#i=a,this.#g=l,this.#f=c,this.#t=u,this.#_=d,this.#a=f,this.#s=E,this.#T=T,this.#S=h,this.#n=p,this.#c=S,this.#l=I,this.#o=R;let A=II(e);this.#r=this.#r&Cu|A|WB,A!==dn&&A!==Jn&&A!==mo&&(this.#r|=wu)}#$=[];#k=!1;#q(e){this.#k=!1;let r=this.#$.slice();this.#$.length=0,r.forEach(n=>n(null,e))}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}let n=this.children();if(this.calledReaddir()){let s=n.slice(0,n.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(this.#$.push(e),this.#k)return;this.#k=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(s,o)=>{if(s)this.#B(s.code),n.provisional=0;else{for(let a of o)this.#G(a,n);this.#M(n)}this.#q(n.slice(0,n.provisional))})}#Y;async readdir(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();if(this.#Y)await this.#Y;else{let n=()=>{};this.#Y=new Promise(i=>n=i);try{for(let i of await this.#e.promises.readdir(r,{withFileTypes:!0}))this.#G(i,e);this.#M(e)}catch(i){this.#B(i.code),e.provisional=0}this.#Y=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];let e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);let r=this.fullpath();try{for(let n of this.#e.readdirSync(r,{withFileTypes:!0}))this.#G(n,e);this.#M(e)}catch(n){this.#B(n.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#r&YB)return!1;let e=un&this.#r;return e===dn||e===Jn||e===mo}shouldWalk(e,r){return(this.#r&Jn)===Jn&&!(this.#r&YB)&&!e.has(this)&&(!r||r(this))}async realpath(){if(this.#L)return this.#L;if(!((yh|Ch|bn)&this.#r))try{let e=await this.#e.promises.realpath(this.fullpath());return this.#L=this.resolve(e)}catch{this.#y()}}realpathSync(){if(this.#L)return this.#L;if(!((yh|Ch|bn)&this.#r))try{let e=this.#e.realpathSync(this.fullpath());return this.#L=this.resolve(e)}catch{this.#y()}}[ZB](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;let r=new Set([]),n=[],i=this;for(;i&&i.parent;)r.add(i),i.#w=n.join(this.sep),i.#C=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!r.has(i);)i.#w=void 0,i.#C=void 0,i=i.parent}};qe.PathBase=ur;var Pu=class t extends ur{sep="\\";splitSep=cae;constructor(e,r=dn,n,i,s,o,a){super(e,r,n,i,s,o,a)}newChild(e,r=dn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return wh.win32.parse(e).root}getRoot(e){if(e=lae(e.toUpperCase()),e===this.root.name)return this.root;for(let[r,n]of Object.entries(this.roots))if(this.sameRoot(e,r))return this.roots[e]=n;return this.roots[e]=new vu(e,this).root}sameRoot(e,r=this.root.name){return e=e.toUpperCase().replace(/\//g,"\\").replace(XB,"$1\\"),e===r}};qe.PathWin32=Pu;var xu=class t extends ur{splitSep="/";sep="/";constructor(e,r=dn,n,i,s,o,a){super(e,r,n,i,s,o,a)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,r=dn,n={}){return new t(e,r,this.root,this.roots,this.nocase,this.childrenCache(),n)}};qe.PathPosix=xu;var Mu=class{root;rootPath;roots;cwd;#e;#t;#s;nocase;#n;constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:o=yu}={}){this.#n=qB(o),(e instanceof URL||e.startsWith("file://"))&&(e=(0,sae.fileURLToPath)(e));let a=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#e=new Du,this.#t=new Du,this.#s=new Lh(s);let l=a.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#n),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1,d=r.sep,f=this.rootPath,E=!1;for(let T of l){let h=u--;c=c.child(T,{relative:new Array(h).fill("..").join(d),relativePosix:new Array(h).fill("..").join("/"),fullpath:f+=(E?"":d)+T}),E=!0}this.cwd=c}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#s}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#e.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpath();return this.#e.set(r,i),i}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){let o=e[s];if(!(!o||o===".")&&(r=r?`${o}/${r}`:o,this.isAbsolute(o)))break}let n=this.#t.get(r);if(n!==void 0)return n;let i=this.cwd.resolve(r).fullpathPosix();return this.#t.set(r,i),i}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n}=r;if(e.canReaddir()){let i=await e.readdir();return n?i:i.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0}=r;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map(i=>i.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e.withFileTypes,e=this.cwd);let n=await e.readlink();return r?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e.withFileTypes,e=this.cwd);let n=e.readlinkSync();return r?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e.withFileTypes,e=this.cwd);let n=await e.realpath();return r?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e.withFileTypes,e=this.cwd);let n=e.realpathSync();return r?n:n?.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set,c=(d,f)=>{l.add(d),d.readdirCB((E,T)=>{if(E)return f(E);let h=T.length;if(!h)return f();let p=()=>{--h===0&&f()};for(let S of T)(!s||s(S))&&a.push(n?S:S.fullpath()),i&&S.isSymbolicLink()?S.realpath().then(I=>I?.isUnknown()?I.lstat():I).then(I=>I?.shouldWalk(l,o)?c(I,p):p()):S.shouldWalk(l,o)?c(S,p):p()},!0)},u=e;return new Promise((d,f)=>{c(u,E=>{if(E)return f(E);d(a)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=[];(!s||s(e))&&a.push(n?e:e.fullpath());let l=new Set([e]);for(let c of l){let u=c.readdirSync();for(let d of u){(!s||s(d))&&a.push(n?d:d.fullpath());let f=d;if(d.isSymbolicLink()){if(!(i&&(f=d.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(l,o)&&l.add(f)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r;(!s||s(e))&&(yield n?e:e.fullpath());let a=new Set([e]);for(let l of a){let c=l.readdirSync();for(let u of c){(!s||s(u))&&(yield n?u:u.fullpath());let d=u;if(u.isSymbolicLink()){if(!(i&&(d=u.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(a,o)&&a.add(d)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new HB.Minipass({objectMode:!0});(!s||s(e))&&a.write(n?e:e.fullpath());let l=new Set,c=[e],u=0,d=()=>{let f=!1;for(;!f;){let E=c.shift();if(!E){u===0&&a.end();return}u++,l.add(E);let T=(p,S,I=!1)=>{if(p)return a.emit("error",p);if(i&&!I){let R=[];for(let A of S)A.isSymbolicLink()&&R.push(A.realpath().then(N=>N?.isUnknown()?N.lstat():N));if(R.length){Promise.all(R).then(()=>T(null,S,!0));return}}for(let R of S)R&&(!s||s(R))&&(a.write(n?R:R.fullpath())||(f=!0));u--;for(let R of S){let A=R.realpathCached()||R;A.shouldWalk(l,o)&&c.push(A)}f&&!a.flowing?a.once("drain",d):h||d()},h=!0;E.readdirCB(T,!0),h=!1}};return d(),a}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof ur||(r=e,e=this.cwd);let{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:o}=r,a=new HB.Minipass({objectMode:!0}),l=new Set;(!s||s(e))&&a.write(n?e:e.fullpath());let c=[e],u=0,d=()=>{let f=!1;for(;!f;){let E=c.shift();if(!E){u===0&&a.end();return}u++,l.add(E);let T=E.readdirSync();for(let h of T)(!s||s(h))&&(a.write(n?h:h.fullpath())||(f=!0));u--;for(let h of T){let p=h;if(h.isSymbolicLink()){if(!(i&&(p=h.realpathSync())))continue;p.isUnknown()&&p.lstatSync()}p.shouldWalk(l,o)&&c.push(p)}}f&&!a.flowing&&a.once("drain",d)};return d(),a}chdir(e=this.cwd){let r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[ZB](r)}};qe.PathScurryBase=Mu;var vu=class extends Mu{sep="\\";constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,wh.win32,"\\",{...r,nocase:n}),this.nocase=n;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(e){return wh.win32.parse(e).root.toUpperCase()}newRoot(e){return new Pu(this.rootPath,Jn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}};qe.PathScurryWin32=vu;var Uu=class extends Mu{sep="/";constructor(e=process.cwd(),r={}){let{nocase:n=!1}=r;super(e,wh.posix,"/",{...r,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new xu(this.rootPath,Jn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}};qe.PathScurryPosix=Uu;var Dh=class extends Uu{constructor(e=process.cwd(),r={}){let{nocase:n=!0}=r;super(e,{...r,nocase:n})}};qe.PathScurryDarwin=Dh;qe.Path=process.platform==="win32"?Pu:xu;qe.PathScurry=process.platform==="win32"?vu:process.platform==="darwin"?Dh:Uu});var NI=O(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.Pattern=void 0;var dae=Ns(),Eae=t=>t.length>=1,fae=t=>t.length>=1,mI=class t{#e;#t;#s;length;#n;#o;#_;#c;#d;#a;#l=!0;constructor(e,r,n,i){if(!Eae(e))throw new TypeError("empty pattern list");if(!fae(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=r,this.#s=n,this.#n=i,this.#s===0){if(this.isUNC()){let[s,o,a,l,...c]=this.#e,[u,d,f,E,...T]=this.#t;c[0]===""&&(c.shift(),T.shift());let h=[s,o,a,l,""].join("/"),p=[u,d,f,E,""].join("/");this.#e=[h,...c],this.#t=[p,...T],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[s,...o]=this.#e,[a,...l]=this.#t;o[0]===""&&(o.shift(),l.shift());let c=s+"/",u=a+"/";this.#e=[c,...o],this.#t=[u,...l],this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]=="string"}isGlobstar(){return this.#e[this.#s]===dae.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#_=this.#_||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new t(this.#e,this.#t,this.#s+1,this.#n),this.#o.#a=this.#a,this.#o.#d=this.#d,this.#o.#c=this.#c,this.#o):this.#o=null}isUNC(){let e=this.#e;return this.#d!==void 0?this.#d:this.#d=this.#n==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3]}isDrive(){let e=this.#e;return this.#c!==void 0?this.#c:this.#c=this.#n==="win32"&&this.#s===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){let e=this.#e;return this.#a!==void 0?this.#a:this.#a=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){let e=this.#e[0];return typeof e=="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#l?!1:(this.#l=!1,!0)}};Ph.Pattern=mI});var oF=O(Mr=>{"use strict";var hae=Mr&&Mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.Minipass=Mr.isWritable=Mr.isReadable=Mr.isStream=void 0;var tF=typeof process=="object"&&process?process:{stdout:null,stderr:null},LI=require("node:events"),sF=hae(require("node:stream")),Tae=require("node:string_decoder"),pae=t=>!!t&&typeof t=="object"&&(t instanceof Gh||t instanceof sF.default||(0,Mr.isReadable)(t)||(0,Mr.isWritable)(t));Mr.isStream=pae;var Sae=t=>!!t&&typeof t=="object"&&t instanceof LI.EventEmitter&&typeof t.pipe=="function"&&t.pipe!==sF.default.Writable.prototype.pipe;Mr.isReadable=Sae;var Rae=t=>!!t&&typeof t=="object"&&t instanceof LI.EventEmitter&&typeof t.write=="function"&&typeof t.end=="function";Mr.isWritable=Rae;var Gi=Symbol("EOF"),Hi=Symbol("maybeEmitEnd"),Cs=Symbol("emittedEnd"),xh=Symbol("emittingEnd"),Bu=Symbol("emittedError"),Mh=Symbol("closed"),rF=Symbol("read"),vh=Symbol("flush"),nF=Symbol("flushChunk"),yn=Symbol("encoding"),ul=Symbol("decoder"),Qt=Symbol("flowing"),Fu=Symbol("paused"),dl=Symbol("resume"),Zt=Symbol("buffer"),xr=Symbol("pipes"),er=Symbol("bufferLength"),gI=Symbol("bufferPush"),Uh=Symbol("bufferShift"),Nr=Symbol("objectMode"),wt=Symbol("destroyed"),OI=Symbol("error"),CI=Symbol("emitData"),iF=Symbol("emitEnd"),bI=Symbol("emitEnd2"),Qn=Symbol("async"),yI=Symbol("abort"),Bh=Symbol("aborted"),Gu=Symbol("signal"),No=Symbol("dataListeners"),Xr=Symbol("discarded"),Hu=t=>Promise.resolve().then(t),Aae=t=>t(),_ae=t=>t==="end"||t==="finish"||t==="prefinish",Iae=t=>t instanceof ArrayBuffer||!!t&&typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,mae=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Fh=class{src;dest;opts;ondrain;constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[dl](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},wI=class extends Fh{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},Nae=t=>!!t.objectMode,gae=t=>!t.objectMode&&!!t.encoding&&t.encoding!=="buffer",Gh=class extends LI.EventEmitter{[Qt]=!1;[Fu]=!1;[xr]=[];[Zt]=[];[Nr];[yn];[Qn];[ul];[Gi]=!1;[Cs]=!1;[xh]=!1;[Mh]=!1;[Bu]=null;[er]=0;[wt]=!1;[Gu];[Bh]=!1;[No]=0;[Xr]=!1;writable=!0;readable=!0;constructor(...e){let r=e[0]||{};if(super(),r.objectMode&&typeof r.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Nae(r)?(this[Nr]=!0,this[yn]=null):gae(r)?(this[yn]=r.encoding,this[Nr]=!1):(this[Nr]=!1,this[yn]=null),this[Qn]=!!r.async,this[ul]=this[yn]?new Tae.StringDecoder(this[yn]):null,r&&r.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Zt]}),r&&r.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[xr]});let{signal:n}=r;n&&(this[Gu]=n,n.aborted?this[yI]():n.addEventListener("abort",()=>this[yI]()))}get bufferLength(){return this[er]}get encoding(){return this[yn]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[Nr]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Qn]}set async(e){this[Qn]=this[Qn]||!!e}[yI](){this[Bh]=!0,this.emit("abort",this[Gu]?.reason),this.destroy(this[Gu]?.reason)}get aborted(){return this[Bh]}set aborted(e){}write(e,r,n){if(this[Bh])return!1;if(this[Gi])throw new Error("write after end");if(this[wt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[Qn]?Hu:Aae;if(!this[Nr]&&!Buffer.isBuffer(e)){if(mae(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(Iae(e))e=Buffer.from(e);else if(typeof e!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[Nr]?(this[Qt]&&this[er]!==0&&this[vh](!0),this[Qt]?this.emit("data",e):this[gI](e),this[er]!==0&&this.emit("readable"),n&&i(n),this[Qt]):e.length?(typeof e=="string"&&!(r===this[yn]&&!this[ul]?.lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[yn]&&(e=this[ul].write(e)),this[Qt]&&this[er]!==0&&this[vh](!0),this[Qt]?this.emit("data",e):this[gI](e),this[er]!==0&&this.emit("readable"),n&&i(n),this[Qt]):(this[er]!==0&&this.emit("readable"),n&&i(n),this[Qt])}read(e){if(this[wt])return null;if(this[Xr]=!1,this[er]===0||e===0||e&&e>this[er])return this[Hi](),null;this[Nr]&&(e=null),this[Zt].length>1&&!this[Nr]&&(this[Zt]=[this[yn]?this[Zt].join(""):Buffer.concat(this[Zt],this[er])]);let r=this[rF](e||null,this[Zt][0]);return this[Hi](),r}[rF](e,r){if(this[Nr])this[Uh]();else{let n=r;e===n.length||e===null?this[Uh]():typeof n=="string"?(this[Zt][0]=n.slice(e),r=n.slice(0,e),this[er]-=e):(this[Zt][0]=n.subarray(e),r=n.subarray(0,e),this[er]-=e)}return this.emit("data",r),!this[Zt].length&&!this[Gi]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r="utf8"),e!==void 0&&this.write(e,r),n&&this.once("end",n),this[Gi]=!0,this.writable=!1,(this[Qt]||!this[Fu])&&this[Hi](),this}[dl](){this[wt]||(!this[No]&&!this[xr].length&&(this[Xr]=!0),this[Fu]=!1,this[Qt]=!0,this.emit("resume"),this[Zt].length?this[vh]():this[Gi]?this[Hi]():this.emit("drain"))}resume(){return this[dl]()}pause(){this[Qt]=!1,this[Fu]=!0,this[Xr]=!1}get destroyed(){return this[wt]}get flowing(){return this[Qt]}get paused(){return this[Fu]}[gI](e){this[Nr]?this[er]+=1:this[er]+=e.length,this[Zt].push(e)}[Uh](){return this[Nr]?this[er]-=1:this[er]-=this[Zt][0].length,this[Zt].shift()}[vh](e=!1){do;while(this[nF](this[Uh]())&&this[Zt].length);!e&&!this[Zt].length&&!this[Gi]&&this.emit("drain")}[nF](e){return this.emit("data",e),this[Qt]}pipe(e,r){if(this[wt])return e;this[Xr]=!1;let n=this[Cs];return r=r||{},e===tF.stdout||e===tF.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[xr].push(r.proxyErrors?new wI(this,e,r):new Fh(this,e,r)),this[Qn]?Hu(()=>this[dl]()):this[dl]()),e}unpipe(e){let r=this[xr].find(n=>n.dest===e);r&&(this[xr].length===1?(this[Qt]&&this[No]===0&&(this[Qt]=!1),this[xr]=[]):this[xr].splice(this[xr].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);if(e==="data")this[Xr]=!1,this[No]++,!this[xr].length&&!this[Qt]&&this[dl]();else if(e==="readable"&&this[er]!==0)super.emit("readable");else if(_ae(e)&&this[Cs])super.emit(e),this.removeAllListeners(e);else if(e==="error"&&this[Bu]){let i=r;this[Qn]?Hu(()=>i.call(this,this[Bu])):i.call(this,this[Bu])}return n}removeListener(e,r){return this.off(e,r)}off(e,r){let n=super.off(e,r);return e==="data"&&(this[No]=this.listeners("data").length,this[No]===0&&!this[Xr]&&!this[xr].length&&(this[Qt]=!1)),n}removeAllListeners(e){let r=super.removeAllListeners(e);return(e==="data"||e===void 0)&&(this[No]=0,!this[Xr]&&!this[xr].length&&(this[Qt]=!1)),r}get emittedEnd(){return this[Cs]}[Hi](){!this[xh]&&!this[Cs]&&!this[wt]&&this[Zt].length===0&&this[Gi]&&(this[xh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Mh]&&this.emit("close"),this[xh]=!1)}emit(e,...r){let n=r[0];if(e!=="error"&&e!=="close"&&e!==wt&&this[wt])return!1;if(e==="data")return!this[Nr]&&!n?!1:this[Qn]?(Hu(()=>this[CI](n)),!0):this[CI](n);if(e==="end")return this[iF]();if(e==="close"){if(this[Mh]=!0,!this[Cs]&&!this[wt])return!1;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Bu]=n,super.emit(OI,n);let s=!this[Gu]||this.listeners("error").length?super.emit("error",n):!1;return this[Hi](),s}else if(e==="resume"){let s=super.emit("resume");return this[Hi](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,...r);return this[Hi](),i}[CI](e){for(let n of this[xr])n.dest.write(e)===!1&&this.pause();let r=this[Xr]?!1:super.emit("data",e);return this[Hi](),r}[iF](){return this[Cs]?!1:(this[Cs]=!0,this.readable=!1,this[Qn]?(Hu(()=>this[bI]()),!0):this[bI]())}[bI](){if(this[ul]){let r=this[ul].end();if(r){for(let n of this[xr])n.dest.write(r);this[Xr]||super.emit("data",r)}}for(let r of this[xr])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){let e=Object.assign([],{dataLength:0});this[Nr]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[Nr]||(e.dataLength+=n.length)}),await r,e}async concat(){if(this[Nr])throw new Error("cannot concat in objectMode");let e=await this.collect();return this[yn]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise((e,r)=>{this.on(wt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[Symbol.asyncIterator](){this[Xr]=!1;let e=!1,r=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Gi])return r();let s,o,a=d=>{this.off("data",l),this.off("end",c),this.off(wt,u),r(),o(d)},l=d=>{this.off("error",a),this.off("end",c),this.off(wt,u),this.pause(),s({value:d,done:!!this[Gi]})},c=()=>{this.off("error",a),this.off("data",l),this.off(wt,u),r(),s({done:!0,value:void 0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,f)=>{o=f,s=d,this.once(wt,u),this.once("error",a),this.once("end",c),this.once("data",l)})},throw:r,return:r,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Xr]=!1;let e=!1,r=()=>(this.pause(),this.off(OI,r),this.off(wt,r),this.off("end",r),e=!0,{done:!0,value:void 0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{done:!1,value:i}};return this.once("end",r),this.once(OI,r),this.once(wt,r),{next:n,throw:r,return:r,[Symbol.iterator](){return this}}}destroy(e){if(this[wt])return e?this.emit("error",e):this.emit(wt),this;this[wt]=!0,this[Xr]=!0,this[Zt].length=0,this[er]=0;let r=this;return typeof r.close=="function"&&!this[Mh]&&r.close(),e?this.emit("error",e):this.emit(wt),this}static get isStream(){return Mr.isStream}};Mr.Minipass=Gh});var PI=O(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.Ignore=void 0;var aF=Ns(),Oae=NI(),Cae=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",DI=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:o=Cae}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of e)this.add(a)}add(e){let r=new aF.Minimatch(e,this.mmopts);for(let n=0;n<r.set.length;n++){let i=r.set[n],s=r.globParts[n];if(!i||!s)throw new Error("invalid pattern object");for(;i[0]==="."&&s[0]===".";)i.shift(),s.shift();let o=new Oae.Pattern(i,s,0,this.platform),a=new aF.Minimatch(o.globString(),this.mmopts),l=s[s.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),l&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){let r=e.fullpath(),n=`${r}/`,i=e.relative()||".",s=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(s))return!0;for(let o of this.absolute)if(o.match(r)||o.match(n))return!0;return!1}childrenIgnored(e){let r=e.fullpath()+"/",n=(e.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(n))return!0;for(let i of this.absoluteChildren)if(i.match(r))return!0;return!1}};Hh.Ignore=DI});var cF=O(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.Processor=Zn.SubWalks=Zn.MatchRecord=Zn.HasWalkedCache=void 0;var lF=Ns(),Wh=class t{store;constructor(e=new Map){this.store=e}copy(){return new t(new Map(this.store))}hasWalked(e,r){return this.store.get(e.fullpath())?.has(r.globString())}storeWalked(e,r){let n=e.fullpath(),i=this.store.get(n);i?i.add(r.globString()):this.store.set(n,new Set([r.globString()]))}};Zn.HasWalkedCache=Wh;var Yh=class{store=new Map;add(e,r,n){let i=(r?2:0)|(n?1:0),s=this.store.get(e);this.store.set(e,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}};Zn.MatchRecord=Yh;var $h=class{store=new Map;add(e,r){if(!e.canReaddir())return;let n=this.store.get(e);n?n.find(i=>i.globString()===r.globString())||n.push(r):this.store.set(e,[r])}get(e){let r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}};Zn.SubWalks=$h;var xI=class t{hasWalkedCache;matches=new Yh;subwalks=new $h;patterns;follow;dot;opts;constructor(e,r){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new Wh}processPatterns(e,r){this.patterns=r;let n=r.map(i=>[e,i]);for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);let o=s.root(),a=s.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let d=s.rest();if(d)s=d;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)i=i.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof l=="string"){let d=l===".."||l===""||l===".";this.matches.add(i.resolve(l),a,d);continue}else if(l===lF.GLOBSTAR){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let d=c?.pattern(),f=c?.rest();if(!c||(d===""||d===".")&&!f)this.matches.add(i,a,d===""||d===".");else if(d===".."){let E=i.parent||i;f?this.hasWalkedCache.hasWalked(E,f)||this.subwalks.add(E,f):this.matches.add(E,a,!0)}}else l instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new t(this.opts,this.hasWalkedCache)}filterEntries(e,r){let n=this.subwalks.get(e),i=this.child();for(let s of r)for(let o of n){let a=o.isAbsolute(),l=o.pattern(),c=o.rest();l===lF.GLOBSTAR?i.testGlobstar(s,o,c,a):l instanceof RegExp?i.testRegExp(s,l,c,a):i.testString(s,l,c,a)}return i}testGlobstar(e,r,n,i){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(n&&r.checkFollowGlobstar()?this.subwalks.add(e,n):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),n){let s=n.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,n.rest(),i);else if(s===".."){let o=e.parent||e;this.subwalks.add(o,n)}else s instanceof RegExp&&this.testRegExp(e,s,n.rest(),i)}}testRegExp(e,r,n,i){r.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,r,n,i){e.isNamed(r)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}};Zn.Processor=xI});var EF=O(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.GlobStream=bs.GlobWalker=bs.GlobUtil=void 0;var bae=oF(),uF=PI(),dF=cF(),yae=(t,e)=>typeof t=="string"?new uF.Ignore([t],e):Array.isArray(t)?new uF.Ignore(t,e):t,Wu=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#s;signal;maxDepth;includeChildMatches;constructor(e,r,n){if(this.patterns=e,this.path=r,this.opts=n,this.#s=!n.posix&&n.platform==="win32"?"\\":"/",this.includeChildMatches=n.includeChildMatches!==!1,(n.ignore||!this.includeChildMatches)&&(this.#t=yae(n.ignore??[],n),!this.includeChildMatches&&typeof this.#t.add!="function")){let i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#n(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#o(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=await s.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#n(e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let o=s.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){if(this.#n(e))return;if(!this.includeChildMatches&&this.#t?.add){let s=`${e.relativePosix()}/**`;this.#t.add(s)}let n=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);let i=this.opts.mark&&e.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){let s=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(s+i)}else{let s=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!s.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(s?o+s+i:"."+i)}}async match(e,r,n){let i=await this.matchCheck(e,n);i&&this.matchFinish(i,r)}matchSync(e,r,n){let i=this.matchCheckSync(e,n);i&&this.matchFinish(i,r)}walkCB(e,r,n){this.signal?.aborted&&n(),this.walkCB2(e,r,new dF.Processor(this.opts),n)}walkCB2(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,n,o):a.readdirCB((c,u)=>this.walkCB3(a,u,n,o),!0)}o()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||(s++,this.match(a,l,c).then(()=>o()));for(let[a,l]of n.subwalks.entries())s++,this.walkCB2(a,l,n.child(),o);o()}walkCBSync(e,r,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,r,new dF.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){if(this.#o(e))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,n,i));return}n.processPatterns(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let a of n.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;s++;let l=a.readdirSync();this.walkCB3Sync(a,l,n,o)}o()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1,o=()=>{--s===0&&i()};for(let[a,l,c]of n.matches.entries())this.#n(a)||this.matchSync(a,l,c);for(let[a,l]of n.subwalks.entries())s++,this.walkCB2Sync(a,l,n.child(),o);o()}};bs.GlobUtil=Wu;var MI=class extends Wu{matches=new Set;constructor(e,r,n){super(e,r,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,r)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?r(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};bs.GlobWalker=MI;var vI=class extends Wu{results;constructor(e,r,n){super(e,r,n),this.results=new bae.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let e=this.path;return e.isUnknown()?e.lstat().then(()=>{this.walkCB(e,this.patterns,()=>this.results.end())}):this.walkCB(e,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};bs.GlobStream=vI});var BI=O(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.Glob=void 0;var wae=Ns(),Lae=require("node:url"),kh=eF(),Dae=NI(),Vh=EF(),Pae=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",UI=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,r){if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,Lae.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=e,this.platform=r.platform||Pae,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let l=r.platform==="win32"?kh.PathScurryWin32:r.platform==="darwin"?kh.PathScurryDarwin:r.platform?kh.PathScurryPosix:kh.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;let n=this.platform==="darwin"||this.platform==="win32",i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new wae.Minimatch(l,i)),[o,a]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=o.map((l,c)=>{let u=a[c];if(!u)throw new Error("invalid pattern object");return new Dae.Pattern(l,u,0,this.platform)})}async walk(){return[...await new Vh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new Vh.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new Vh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new Vh.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};qh.Glob=UI});var FI=O(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.hasMagic=void 0;var xae=Ns(),Mae=(t,e={})=>{Array.isArray(t)||(t=[t]);for(let r of t)if(new xae.Minimatch(r,e).hasMagic())return!0;return!1};Xh.hasMagic=Mae});var pF=O(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.glob=Le.sync=Le.iterate=Le.iterateSync=Le.stream=Le.streamSync=Le.Ignore=Le.hasMagic=Le.Glob=Le.unescape=Le.escape=void 0;Le.globStreamSync=Yu;Le.globStream=GI;Le.globSync=HI;Le.globIterateSync=$u;Le.globIterate=WI;var fF=Ns(),go=BI(),vae=FI(),TF=Ns();Object.defineProperty(Le,"escape",{enumerable:!0,get:function(){return TF.escape}});Object.defineProperty(Le,"unescape",{enumerable:!0,get:function(){return TF.unescape}});var Uae=BI();Object.defineProperty(Le,"Glob",{enumerable:!0,get:function(){return Uae.Glob}});var Bae=FI();Object.defineProperty(Le,"hasMagic",{enumerable:!0,get:function(){return Bae.hasMagic}});var Fae=PI();Object.defineProperty(Le,"Ignore",{enumerable:!0,get:function(){return Fae.Ignore}});function Yu(t,e={}){return new go.Glob(t,e).streamSync()}function GI(t,e={}){return new go.Glob(t,e).stream()}function HI(t,e={}){return new go.Glob(t,e).walkSync()}async function hF(t,e={}){return new go.Glob(t,e).walk()}function $u(t,e={}){return new go.Glob(t,e).iterateSync()}function WI(t,e={}){return new go.Glob(t,e).iterate()}Le.streamSync=Yu;Le.stream=Object.assign(GI,{sync:Yu});Le.iterateSync=$u;Le.iterate=Object.assign(WI,{sync:$u});Le.sync=Object.assign(HI,{stream:Yu,iterate:$u});Le.glob=Object.assign(hF,{glob:hF,globSync:HI,sync:Le.sync,globStream:GI,stream:Le.stream,globStreamSync:Yu,streamSync:Le.streamSync,globIterate:WI,iterate:Le.iterate,globIterateSync:$u,iterateSync:Le.iterateSync,Glob:go.Glob,hasMagic:vae.hasMagic,escape:fF.escape,unescape:fF.unescape});Le.glob.glob=Le.glob});var _F=O((Dxe,AF)=>{var RF=eA(),El=require("path"),YI=gv(),Gae=GU(),Hae=zU(),Wae=nB(),Yae=pF(),Oo=AF.exports={},SF=/[\/\\]/g,$ae=function(t,e){var r=[];return YI(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=Gae(r,s):r=Hae(r,s)}),r};Oo.exists=function(){var t=El.join.apply(El,arguments);return RF.existsSync(t)};Oo.expand=function(...t){var e=Wae(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=$ae(r,function(i){return Yae.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=El.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):RF.statSync(i)[e.filter]()}catch{return!1}})),n};Oo.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return El.join(s||"",o)}},r);var n=[],i={};return Oo.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=El.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=El.join(r.cwd,s)),a=a.replace(SF,"/"),s=s.replace(SF,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};Oo.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=YI(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return Oo.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?YI(o):[o],s.result=Oo.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var fl=O((xxe,NF)=>{var $I=eA(),IF=require("path"),kae=lf(),Vae=bL(),mF=gA(),qae=aP(),Pxe=require("stream").Stream,Xae=hv().PassThrough,jr=NF.exports={};jr.file=_F();jr.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};jr.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};jr.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},qae(...n)};jr.isStream=function(t){return kae(t)};jr.lazyReadStream=function(t){return new Vae.Readable(function(){return $I.createReadStream(t)})};jr.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):jr.isStream(t)?t.pipe(new Xae):t};jr.sanitizePath=function(t){return mF(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};jr.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};jr.unixifyPath=function(t){return mF(t,!1).replace(/^\w+:/,"")};jr.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),$I.readdir(t,function(i,s){var o=0,a,l;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);l=IF.join(t,a),$I.stat(l,function(u,d){n.push({path:l,relative:IF.relative(e,l).replace(/\\/g,"/"),stats:d}),d&&d.isDirectory()?jr.walkdir(l,e,function(f,E){if(f)return r(f);E.forEach(function(T){n.push(T)}),c()}):c()})})()})}});var bF=O((OF,CF)=>{var jae=require("util"),Kae={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function gF(t,e){Error.captureStackTrace(this,this.constructor),this.message=Kae[t]||t,this.code=t,this.data=e}jae.inherits(gF,Error);OF=CF.exports=gF});var at=O((Mxe,yF)=>{"use strict";var kI=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};yF.exports={AggregateError:kI,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var VI=O((vxe,wF)=>{"use strict";wF.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var gr=O((Uxe,PF)=>{"use strict";var{format:zae,inspect:jh}=VI(),{AggregateError:Jae}=at(),Qae=globalThis.AggregateError||Jae,Zae=Symbol("kIsNodeError"),ele=["string","function","number","object","Function","Object","boolean","bigint","symbol"],tle=/^([A-Z][a-z0-9]*)+$/,rle="__node_internal_",Kh={};function Co(t,e){if(!t)throw new Kh.ERR_INTERNAL_ASSERTION(e)}function LF(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function nle(t,e,r){if(typeof e=="function")return Co(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Co(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:zae(e,...r)}function dr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(nle(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Zae]=!0,Kh[t]=n}function DF(t){let e=rle+t.name;return Object.defineProperty(t,"name",{value:e}),t}function ile(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Qae([e,t],e.message);return r.code=e.code,r}return t||e}var qI=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Kh.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};dr("ERR_ASSERTION","%s",Error);dr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Co(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Co(typeof l=="string","All expected entries have to be of type string"),ele.includes(l)?i.push(l.toLowerCase()):tle.test(l)?s.push(l):(Co(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=jh(r,{depth:-1});n+=`. Received ${l}`}}else{let l=jh(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);dr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=jh(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);dr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);dr("ERR_MISSING_ARGS",(...t)=>{Co(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);dr("ERR_OUT_OF_RANGE",(t,e,r)=>{Co(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=LF(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=LF(n)),n+="n"}else n=jh(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);dr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);dr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);dr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);dr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);dr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);dr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);dr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);dr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);dr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);dr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);dr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);PF.exports={AbortError:qI,aggregateTwoErrors:DF(ile),hideStackFrames:DF,codes:Kh}});var vr=O((Bxe,jI)=>{"use strict";var sle=require("buffer"),{format:ole,inspect:ale}=VI(),{codes:{ERR_INVALID_ARG_TYPE:XI}}=gr(),{kResistStopPropagation:lle,AggregateError:cle,SymbolDispose:ule}=at(),dle=globalThis.AbortSignal||Ct().AbortSignal,Ele=globalThis.AbortController||Ct().AbortController,fle=Object.getPrototypeOf(async function(){}).constructor,xF=globalThis.Blob||sle.Blob,hle=typeof xF<"u"?function(e){return e instanceof xF}:function(e){return!1},MF=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new XI(e,"AbortSignal",t)},Tle=(t,e)=>{if(typeof t!="function")throw new XI(e,"Function",t)};jI.exports={AggregateError:cle,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:ole,inspect:ale,types:{isAsyncFunction(t){return t instanceof fle},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:hle,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new XI("signal","AbortSignal",e);MF(e,"signal"),Tle(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[lle]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[ule](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:dle.any||function(e){if(e.length===1)return e[0];let r=new Ele,n=()=>r.abort();return e.forEach(i=>{MF(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};jI.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Tl=O((Fxe,kF)=>{"use strict";var{ArrayIsArray:zI,ArrayPrototypeIncludes:FF,ArrayPrototypeJoin:GF,ArrayPrototypeMap:ple,NumberIsInteger:JI,NumberIsNaN:Sle,NumberMAX_SAFE_INTEGER:Rle,NumberMIN_SAFE_INTEGER:Ale,NumberParseInt:_le,ObjectPrototypeHasOwnProperty:Ile,RegExpPrototypeExec:HF,String:mle,StringPrototypeToUpperCase:Nle,StringPrototypeTrim:gle}=at(),{hideStackFrames:En,codes:{ERR_SOCKET_BAD_PORT:Ole,ERR_INVALID_ARG_TYPE:Or,ERR_INVALID_ARG_VALUE:hl,ERR_OUT_OF_RANGE:bo,ERR_UNKNOWN_SIGNAL:vF}}=gr(),{normalizeEncoding:Cle}=vr(),{isAsyncFunction:ble,isArrayBufferView:yle}=vr().types,UF={};function wle(t){return t===(t|0)}function Lle(t){return t===t>>>0}var Dle=/^[0-7]+$/,Ple="must be a 32-bit unsigned integer or an octal string";function xle(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(HF(Dle,t)===null)throw new hl(e,t,Ple);t=_le(t,8)}return WF(t,e),t}var Mle=En((t,e,r=Ale,n=Rle)=>{if(typeof t!="number")throw new Or(e,"number",t);if(!JI(t))throw new bo(e,"an integer",t);if(t<r||t>n)throw new bo(e,`>= ${r} && <= ${n}`,t)}),vle=En((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Or(e,"number",t);if(!JI(t))throw new bo(e,"an integer",t);if(t<r||t>n)throw new bo(e,`>= ${r} && <= ${n}`,t)}),WF=En((t,e,r=!1)=>{if(typeof t!="number")throw new Or(e,"number",t);if(!JI(t))throw new bo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new bo(e,`>= ${n} && <= ${i}`,t)});function QI(t,e){if(typeof t!="string")throw new Or(e,"string",t)}function Ule(t,e,r=void 0,n){if(typeof t!="number")throw new Or(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Sle(t))throw new bo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Ble=En((t,e,r)=>{if(!FF(r,t)){let i="must be one of: "+GF(ple(r,s=>typeof s=="string"?`'${s}'`:mle(s)),", ");throw new hl(e,t,i)}});function YF(t,e){if(typeof t!="boolean")throw new Or(e,"boolean",t)}function KI(t,e,r){return t==null||!Ile(t,e)?r:t[e]}var Fle=En((t,e,r=null)=>{let n=KI(r,"allowArray",!1),i=KI(r,"allowFunction",!1);if(!KI(r,"nullable",!1)&&t===null||!n&&zI(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Or(e,"Object",t)}),Gle=En((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Or(e,"a dictionary",t)}),zh=En((t,e,r=0)=>{if(!zI(t))throw new Or(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new hl(e,t,n)}});function Hle(t,e){zh(t,e);for(let r=0;r<t.length;r++)QI(t[r],`${e}[${r}]`)}function Wle(t,e){zh(t,e);for(let r=0;r<t.length;r++)YF(t[r],`${e}[${r}]`)}function Yle(t,e){zh(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new Or(i,"AbortSignal",n);$F(n,i)}}function $le(t,e="signal"){if(QI(t,e),UF[t]===void 0)throw UF[Nle(t)]!==void 0?new vF(t+" (signals must use all capital letters)"):new vF(t)}var kle=En((t,e="buffer")=>{if(!yle(t))throw new Or(e,["Buffer","TypedArray","DataView"],t)});function Vle(t,e){let r=Cle(e),n=t.length;if(r==="hex"&&n%2!==0)throw new hl("encoding",e,`is invalid for data of length ${n}`)}function qle(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&gle(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Ole(e,t,r);return t|0}var $F=En((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Or(e,"AbortSignal",t)}),Xle=En((t,e)=>{if(typeof t!="function")throw new Or(e,"Function",t)}),jle=En((t,e)=>{if(typeof t!="function"||ble(t))throw new Or(e,"Function",t)}),Kle=En((t,e)=>{if(t!==void 0)throw new Or(e,"undefined",t)});function zle(t,e,r){if(!FF(r,t))throw new Or(e,`('${GF(r,"|")}')`,t)}var Jle=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function BF(t,e){if(typeof t>"u"||!HF(Jle,t))throw new hl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Qle(t){if(typeof t=="string")return BF(t,"hints"),t;if(zI(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];BF(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new hl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}kF.exports={isInt32:wle,isUint32:Lle,parseFileMode:xle,validateArray:zh,validateStringArray:Hle,validateBooleanArray:Wle,validateAbortSignalArray:Yle,validateBoolean:YF,validateBuffer:kle,validateDictionary:Gle,validateEncoding:Vle,validateFunction:Xle,validateInt32:vle,validateInteger:Mle,validateNumber:Ule,validateObject:Fle,validateOneOf:Ble,validatePlainFunction:jle,validatePort:qle,validateSignalName:$le,validateString:QI,validateUint32:WF,validateUndefined:Kle,validateUnion:zle,validateAbortSignal:$F,validateLinkHeaderValue:Qle}});var ti=O((Gxe,s1)=>{"use strict";var{SymbolAsyncIterator:VF,SymbolIterator:qF,SymbolFor:yo}=at(),XF=yo("nodejs.stream.destroyed"),jF=yo("nodejs.stream.errored"),ZI=yo("nodejs.stream.readable"),em=yo("nodejs.stream.writable"),KF=yo("nodejs.stream.disturbed"),Zle=yo("nodejs.webstream.isClosedPromise"),ece=yo("nodejs.webstream.controllerErrorFunction");function Jh(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Qh(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function tce(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ei(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function zF(t){return!!(t&&!ei(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function JF(t){return!!(t&&!ei(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function QF(t){return!!(t&&!ei(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function rce(t){return zF(t)||JF(t)||QF(t)}function nce(t,e){return t==null?!1:e===!0?typeof t[VF]=="function":e===!1?typeof t[qF]=="function":typeof t[VF]=="function"||typeof t[qF]=="function"}function Zh(t){if(!ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[XF]||n!=null&&n.destroyed)}function ZF(t){if(!Qh(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function ice(t,e){if(!Qh(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function sce(t){if(!Jh(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function e1(t,e){if(!Jh(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function t1(t){return t&&t[ZI]!=null?t[ZI]:typeof t?.readable!="boolean"?null:Zh(t)?!1:Jh(t)&&t.readable&&!e1(t)}function r1(t){return t&&t[em]!=null?t[em]:typeof t?.writable!="boolean"?null:Zh(t)?!1:Qh(t)&&t.writable&&!ZF(t)}function oce(t,e){return ei(t)?Zh(t)?!0:!(e?.readable!==!1&&t1(t)||e?.writable!==!1&&r1(t)):null}function ace(t){var e,r;return ei(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function lce(t){var e,r;return ei(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function cce(t){if(!ei(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&n1(t)?t._closed:null}function n1(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function i1(t){return typeof t._sent100=="boolean"&&n1(t)}function uce(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function dce(t){if(!ei(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&i1(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Ece(t){var e;return!!(t&&((e=t[KF])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function fce(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[jF])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}s1.exports={isDestroyed:Zh,kIsDestroyed:XF,isDisturbed:Ece,kIsDisturbed:KF,isErrored:fce,kIsErrored:jF,isReadable:t1,kIsReadable:ZI,kIsClosedPromise:Zle,kControllerErrorFunction:ece,kIsWritable:em,isClosed:cce,isDuplexNodeStream:tce,isFinished:oce,isIterable:nce,isReadableNodeStream:Jh,isReadableStream:zF,isReadableEnded:sce,isReadableFinished:e1,isReadableErrored:lce,isNodeStream:ei,isWebStream:rce,isWritable:r1,isWritableNodeStream:Qh,isWritableStream:JF,isWritableEnded:ZF,isWritableFinished:ice,isWritableErrored:ace,isServerRequest:uce,isServerResponse:i1,willEmitClose:dce,isTransformStream:QF}});var Wi=O((Hxe,sm)=>{"use strict";var ys=Xe(),{AbortError:h1,codes:hce}=gr(),{ERR_INVALID_ARG_TYPE:Tce,ERR_STREAM_PREMATURE_CLOSE:o1}=hce,{kEmptyObject:rm,once:nm}=vr(),{validateAbortSignal:pce,validateFunction:Sce,validateObject:Rce,validateBoolean:Ace}=Tl(),{Promise:_ce,PromisePrototypeThen:Ice,SymbolDispose:T1}=at(),{isClosed:mce,isReadable:a1,isReadableNodeStream:tm,isReadableStream:Nce,isReadableFinished:l1,isReadableErrored:c1,isWritable:u1,isWritableNodeStream:d1,isWritableStream:gce,isWritableFinished:E1,isWritableErrored:f1,isNodeStream:Oce,willEmitClose:Cce,kIsClosedPromise:bce}=ti(),pl;function yce(t){return t.setHeader&&typeof t.abort=="function"}var im=()=>{};function p1(t,e,r){var n,i;if(arguments.length===2?(r=e,e=rm):e==null?e=rm:Rce(e,"options"),Sce(r,"callback"),pce(e.signal,"options.signal"),r=nm(r),Nce(t)||gce(t))return wce(t,e,r);if(!Oce(t))throw new Tce("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:tm(t),o=(i=e.writable)!==null&&i!==void 0?i:d1(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||f()},u=Cce(t)&&tm(t)===s&&d1(t)===o,d=E1(t,!1),f=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||E)&&r.call(t)},E=l1(t,!1),T=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},h=N=>{r.call(t,N)},p=mce(t),S=()=>{p=!0;let N=f1(t)||c1(t);if(N&&typeof N!="boolean")return r.call(t,N);if(s&&!E&&tm(t,!0)&&!l1(t,!1))return r.call(t,new o1);if(o&&!d&&!E1(t,!1))return r.call(t,new o1);r.call(t)},I=()=>{p=!0;let N=f1(t)||c1(t);if(N&&typeof N!="boolean")return r.call(t,N);r.call(t)},R=()=>{t.req.on("finish",f)};yce(t)?(t.on("complete",f),u||t.on("abort",S),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",f),e.error!==!1&&t.on("error",h),t.on("close",S),p?ys.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||ys.nextTick(I):(!s&&(!u||a1(t))&&(d||u1(t)===!1)||!o&&(!u||u1(t))&&(E||a1(t)===!1)||l&&t.req&&t.aborted)&&ys.nextTick(I);let A=()=>{r=im,t.removeListener("aborted",S),t.removeListener("complete",f),t.removeListener("abort",S),t.removeListener("request",R),t.req&&t.req.removeListener("finish",f),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!p){let N=()=>{let w=r;A(),w.call(t,new h1(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)ys.nextTick(N);else{pl=pl||vr().addAbortListener;let w=pl(e.signal,N),m=r;r=nm((...D)=>{w[T1](),m.apply(t,D)})}}return A}function wce(t,e,r){let n=!1,i=im;if(e.signal)if(i=()=>{n=!0,r.call(t,new h1(void 0,{cause:e.signal.reason}))},e.signal.aborted)ys.nextTick(i);else{pl=pl||vr().addAbortListener;let o=pl(e.signal,i),a=r;r=nm((...l)=>{o[T1](),a.apply(t,l)})}let s=(...o)=>{n||ys.nextTick(()=>r.apply(t,o))};return Ice(t[bce].promise,s,s),im}function Lce(t,e){var r;let n=!1;return e===null&&(e=rm),(r=e)!==null&&r!==void 0&&r.cleanup&&(Ace(e.cleanup,"cleanup"),n=e.cleanup),new _ce((i,s)=>{let o=p1(t,e,a=>{n&&o(),a?s(a):i()})})}sm.exports=p1;sm.exports.finished=Lce});var wo=O((Wxe,g1)=>{"use strict";var ri=Xe(),{aggregateTwoErrors:Dce,codes:{ERR_MULTIPLE_CALLBACK:Pce},AbortError:xce}=gr(),{Symbol:A1}=at(),{kIsDestroyed:Mce,isDestroyed:vce,isFinished:Uce,isServerRequest:Bce}=ti(),_1=A1("kDestroy"),om=A1("kConstruct");function I1(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function Fce(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(I1(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?S1(this,t,e):this.once(_1,function(s){S1(this,Dce(s,t),e)}),this)}function S1(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;I1(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?ri.nextTick(Gce,t,s):ri.nextTick(m1,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function Gce(t,e){am(t,e),m1(t)}function m1(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function am(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Hce(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function lm(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?ri.nextTick(am,t,e):am(t,e))}function Wce(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(om,e),!(t.listenerCount(om)>1)&&ri.nextTick(Yce,t)}function Yce(t){let e=!1;function r(n){if(e){lm(t,n??new Pce);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(_1,n):n?lm(t,n,!0):ri.nextTick($ce,t)}try{t._construct(n=>{ri.nextTick(r,n)})}catch(n){ri.nextTick(r,n)}}function $ce(t){t.emit(om)}function R1(t){return t?.setHeader&&typeof t.abort=="function"}function N1(t){t.emit("close")}function kce(t,e){t.emit("error",e),ri.nextTick(N1,t)}function Vce(t,e){!t||vce(t)||(!e&&!Uce(t)&&(e=new xce),Bce(t)?(t.socket=null,t.destroy(e)):R1(t)?t.abort():R1(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ri.nextTick(kce,t,e):ri.nextTick(N1,t),t.destroyed||(t[Mce]=!0))}g1.exports={construct:Wce,destroyer:Vce,destroy:Fce,undestroy:Hce,errorOrDestroy:lm}});var rT=O((Yxe,C1)=>{"use strict";var{ArrayIsArray:qce,ObjectSetPrototypeOf:O1}=at(),{EventEmitter:eT}=require("events");function tT(t){eT.call(this,t)}O1(tT.prototype,eT.prototype);O1(tT,eT);tT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),eT.listenerCount(this,"error")===0&&this.emit("error",u)}cm(r,"error",l),cm(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function cm(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):qce(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}C1.exports={Stream:tT,prependListener:cm}});var ku=O(($xe,nT)=>{"use strict";var{SymbolDispose:Xce}=at(),{AbortError:b1,codes:jce}=gr(),{isNodeStream:y1,isWebStream:Kce,kControllerErrorFunction:zce}=ti(),Jce=Wi(),{ERR_INVALID_ARG_TYPE:w1}=jce,um,Qce=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new w1(e,"AbortSignal",t)};nT.exports.addAbortSignal=function(e,r){if(Qce(e,"signal"),!y1(r)&&!Kce(r))throw new w1("stream",["ReadableStream","WritableStream","Stream"],r);return nT.exports.addAbortSignalNoValidate(e,r)};nT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=y1(e)?()=>{e.destroy(new b1(void 0,{cause:t.reason}))}:()=>{e[zce](new b1(void 0,{cause:t.reason}))};if(t.aborted)r();else{um=um||vr().addAbortListener;let n=um(t,r);Jce(e,n[Xce])}return e}});var P1=O((Vxe,D1)=>{"use strict";var{StringPrototypeSlice:L1,SymbolIterator:Zce,TypedArrayPrototypeSet:iT,Uint8Array:eue}=at(),{Buffer:dm}=require("buffer"),{inspect:tue}=vr();D1.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return dm.alloc(0);let r=dm.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)iT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Zce](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=L1(s,0,e),this.head=n,n.data=L1(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=dm.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)iT(r,o,n-e),e-=o.length;else{e===o.length?(iT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(iT(r,new eue(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return tue(this,{...r,depth:0,customInspect:!1})}}});var Vu=O((qxe,U1)=>{"use strict";var{MathFloor:rue,NumberIsInteger:nue}=at(),{validateInteger:iue}=Tl(),{ERR_INVALID_ARG_VALUE:sue}=gr().codes,x1=16*1024,M1=16;function oue(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function v1(t){return t?M1:x1}function aue(t,e){iue(e,"value",0),t?M1=e:x1=e}function lue(t,e,r,n){let i=oue(e,n,r);if(i!=null){if(!nue(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new sue(s,i)}return rue(i)}return v1(t.objectMode)}U1.exports={getHighWaterMark:lue,getDefaultHighWaterMark:v1,setDefaultHighWaterMark:aue}});var Em=O((Xxe,H1)=>{"use strict";var B1=Xe(),{PromisePrototypeThen:cue,SymbolAsyncIterator:F1,SymbolIterator:G1}=at(),{Buffer:uue}=require("buffer"),{ERR_INVALID_ARG_TYPE:due,ERR_STREAM_NULL_VALUES:Eue}=gr().codes;function fue(t,e,r){let n;if(typeof e=="string"||e instanceof uue)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[F1])i=!0,n=e[F1]();else if(e&&e[G1])i=!1,n=e[G1]();else throw new due("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){cue(a(c),()=>B1.nextTick(u,c),d=>B1.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:f,done:E}=await n.throw(c);if(await f,E)return}if(typeof n.return=="function"){let{value:f}=await n.return();await f}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Eue;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}H1.exports=fue});var Xu=O((jxe,iG)=>{"use strict";var wn=Xe(),{ArrayPrototypeIndexOf:hue,NumberIsInteger:Tue,NumberIsNaN:pue,NumberParseInt:Sue,ObjectDefineProperties:_m,ObjectKeys:Rue,ObjectSetPrototypeOf:$1,Promise:k1,SafeSet:Aue,SymbolAsyncDispose:_ue,SymbolAsyncIterator:Iue,Symbol:mue}=at();iG.exports=Re;Re.ReadableState=lT;var{EventEmitter:Nue}=require("events"),{Stream:ws,prependListener:gue}=rT(),{Buffer:fm}=require("buffer"),{addAbortSignal:Oue}=ku(),V1=Wi(),De=vr().debuglog("stream",t=>{De=t}),Cue=P1(),Al=wo(),{getHighWaterMark:bue,getDefaultHighWaterMark:yue}=Vu(),{aggregateTwoErrors:W1,codes:{ERR_INVALID_ARG_TYPE:wue,ERR_METHOD_NOT_IMPLEMENTED:Lue,ERR_OUT_OF_RANGE:Due,ERR_STREAM_PUSH_AFTER_EOF:Pue,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:xue},AbortError:Mue}=gr(),{validateObject:vue}=Tl(),Lo=mue("kPaused"),{StringDecoder:q1}=lu(),Uue=Em();$1(Re.prototype,ws.prototype);$1(Re,ws);var hm=()=>{},{errorOrDestroy:Sl}=Al,Rl=1,Bue=2,X1=4,qu=8,j1=16,sT=32,oT=64,K1=128,Fue=256,Gue=512,Hue=1024,Rm=2048,Am=4096,Wue=8192,Yue=16384,$ue=32768,z1=65536,kue=1<<17,Vue=1<<18;function Bt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}_m(lT.prototype,{objectMode:Bt(Rl),ended:Bt(Bue),endEmitted:Bt(X1),reading:Bt(qu),constructed:Bt(j1),sync:Bt(sT),needReadable:Bt(oT),emittedReadable:Bt(K1),readableListening:Bt(Fue),resumeScheduled:Bt(Gue),errorEmitted:Bt(Hue),emitClose:Bt(Rm),autoDestroy:Bt(Am),destroyed:Bt(Wue),closed:Bt(Yue),closeEmitted:Bt($ue),multiAwaitDrain:Bt(z1),readingMore:Bt(kue),dataEmitted:Bt(Vue)});function lT(t,e,r){typeof r!="boolean"&&(r=e instanceof ni()),this.state=Rm|Am|j1|sT,t&&t.objectMode&&(this.state|=Rl),r&&t&&t.readableObjectMode&&(this.state|=Rl),this.highWaterMark=t?bue(this,t,"readableHighWaterMark",r):yue(!1),this.buffer=new Cue,this.length=0,this.pipes=[],this.flowing=null,this[Lo]=null,t&&t.emitClose===!1&&(this.state&=~Rm),t&&t.autoDestroy===!1&&(this.state&=~Am),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new q1(t.encoding),this.encoding=t.encoding)}function Re(t){if(!(this instanceof Re))return new Re(t);let e=this instanceof ni();this._readableState=new lT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Oue(t.signal,this)),ws.call(this,t),Al.construct(this,()=>{this._readableState.needReadable&&aT(this,this._readableState)})}Re.prototype.destroy=Al.destroy;Re.prototype._undestroy=Al.undestroy;Re.prototype._destroy=function(t,e){e(t)};Re.prototype[Nue.captureRejectionSymbol]=function(t){this.destroy(t)};Re.prototype[_ue]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Mue,this.destroy(t)),new k1((e,r)=>V1(this,n=>n&&n!==t?r(n):e(null)))};Re.prototype.push=function(t,e){return J1(this,t,e,!1)};Re.prototype.unshift=function(t,e){return J1(this,t,e,!0)};function J1(t,e,r,n){De("readableAddChunk",e);let i=t._readableState,s;if((i.state&Rl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=fm.from(e,r).toString(i.encoding):(e=fm.from(e,r),r=""))):e instanceof fm?r="":ws._isUint8Array(e)?(e=ws._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new wue("chunk",["string","Buffer","Uint8Array"],e))),s)Sl(t,s);else if(e===null)i.state&=~qu,jue(t,i);else if((i.state&Rl)!==0||e&&e.length>0)if(n)if((i.state&X1)!==0)Sl(t,new xue);else{if(i.destroyed||i.errored)return!1;Tm(t,i,e,!0)}else if(i.ended)Sl(t,new Pue);else{if(i.destroyed||i.errored)return!1;i.state&=~qu,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?Tm(t,i,e,!1):aT(t,i)):Tm(t,i,e,!1)}else n||(i.state&=~qu,aT(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function Tm(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&z1)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&oT)!==0&&cT(t)),aT(t,e)}Re.prototype.isPaused=function(){let t=this._readableState;return t[Lo]===!0||t.flowing===!1};Re.prototype.setEncoding=function(t){let e=new q1(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var que=1073741824;function Xue(t){if(t>que)throw new Due("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function Y1(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Rl)!==0?1:pue(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Re.prototype.read=function(t){De("read",t),t===void 0?t=NaN:Tue(t)||(t=Sue(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Xue(t)),t!==0&&(e.state&=~K1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return De("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?pm(this):cT(this),null;if(t=Y1(t,e),t===0&&e.ended)return e.length===0&&pm(this),null;let n=(e.state&oT)!==0;if(De("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,De("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,De("reading, ended or constructing",n);else if(n){De("do read"),e.state|=qu|sT,e.length===0&&(e.state|=oT);try{this._read(e.highWaterMark)}catch(s){Sl(this,s)}e.state&=~sT,e.reading||(t=Y1(r,e))}let i;return t>0?i=rG(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&pm(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function jue(t,e){if(De("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?cT(t):(e.needReadable=!1,e.emittedReadable=!0,Q1(t))}}function cT(t){let e=t._readableState;De("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(De("emitReadable",e.flowing),e.emittedReadable=!0,wn.nextTick(Q1,t))}function Q1(t){let e=t._readableState;De("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,eG(t)}function aT(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,wn.nextTick(Kue,t,e))}function Kue(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(De("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Re.prototype._read=function(t){throw new Lue("_read()")};Re.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Aue(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),De("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==wn.stdout&&t!==wn.stderr?a:p;n.endEmitted?wn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,I){De("onunpipe"),S===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){De("onend"),t.end()}let l,c=!1;function u(){De("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(De("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(De("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=zue(r,t),t.on("drain",l))}r.on("data",f);function f(S){De("ondata");let I=t.write(S);De("dest.write",I),I===!1&&d()}function E(S){if(De("onerror",S),p(),t.removeListener("error",E),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?Sl(t,S):t.emit("error",S)}}gue(t,"error",E);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){De("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){De("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(De("pipe resume"),r.resume()),t};function zue(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(De("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(De("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Re.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=hue(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Re.prototype.on=function(t,e){let r=ws.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,De("on readable",n.length,n.reading),n.length?cT(this):n.reading||wn.nextTick(Jue,this)),r};Re.prototype.addListener=Re.prototype.on;Re.prototype.removeListener=function(t,e){let r=ws.prototype.removeListener.call(this,t,e);return t==="readable"&&wn.nextTick(Z1,this),r};Re.prototype.off=Re.prototype.removeListener;Re.prototype.removeAllListeners=function(t){let e=ws.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&wn.nextTick(Z1,this),e};function Z1(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Lo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Jue(t){De("readable nexttick read 0"),t.read(0)}Re.prototype.resume=function(){let t=this._readableState;return t.flowing||(De("resume"),t.flowing=!t.readableListening,Que(this,t)),t[Lo]=!1,this};function Que(t,e){e.resumeScheduled||(e.resumeScheduled=!0,wn.nextTick(Zue,t,e))}function Zue(t,e){De("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),eG(t),e.flowing&&!e.reading&&t.read(0)}Re.prototype.pause=function(){return De("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(De("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Lo]=!0,this};function eG(t){let e=t._readableState;for(De("flow",e.flowing);e.flowing&&t.read()!==null;);}Re.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Sl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Rue(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Re.prototype[Iue]=function(){return tG(this)};Re.prototype.iterator=function(t){return t!==void 0&&vue(t,"options"),tG(this,t)};function tG(t,e){typeof t.read!="function"&&(t=Re.wrap(t,{objectMode:!0}));let r=ede(t,e);return r.stream=t,r}async function*ede(t,e){let r=hm;function n(o){this===t?(r(),r=hm):r=o}t.on("readable",n);let i,s=V1(t,{writable:!1},o=>{i=o?W1(i,o):null,r(),r=hm});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new k1(n)}}}catch(o){throw i=W1(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Al.destroyer(t,null):(t.off("readable",n),s())}}_m(Re.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});_m(lT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Lo]!==!1},set(t){this[Lo]=!!t}}});Re._fromList=rG;function rG(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function pm(t){let e=t._readableState;De("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,wn.nextTick(tde,e,t))}function tde(t,e){if(De("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)wn.nextTick(rde,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function rde(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Re.from=function(t,e){return Uue(Re,t,e)};var Sm;function nG(){return Sm===void 0&&(Sm={}),Sm}Re.fromWeb=function(t,e){return nG().newStreamReadableFromReadableStream(t,e)};Re.toWeb=function(t,e){return nG().newReadableStreamFromStreamReadable(t,e)};Re.wrap=function(t,e){var r,n;return new Re({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Al.destroyer(t,i),s(i)}}).wrap(t)}});var hT=O((Kxe,pG)=>{"use strict";var Do=Xe(),{ArrayPrototypeSlice:aG,Error:nde,FunctionPrototypeSymbolHasInstance:lG,ObjectDefineProperty:cG,ObjectDefineProperties:ide,ObjectSetPrototypeOf:uG,StringPrototypeToLowerCase:sde,Symbol:ode,SymbolHasInstance:ade}=at();pG.exports=ft;ft.WritableState=zu;var{EventEmitter:lde}=require("events"),ju=rT().Stream,{Buffer:uT}=require("buffer"),fT=wo(),{addAbortSignal:cde}=ku(),{getHighWaterMark:ude,getDefaultHighWaterMark:dde}=Vu(),{ERR_INVALID_ARG_TYPE:Ede,ERR_METHOD_NOT_IMPLEMENTED:fde,ERR_MULTIPLE_CALLBACK:dG,ERR_STREAM_CANNOT_PIPE:hde,ERR_STREAM_DESTROYED:Ku,ERR_STREAM_ALREADY_FINISHED:Tde,ERR_STREAM_NULL_VALUES:pde,ERR_STREAM_WRITE_AFTER_END:Sde,ERR_UNKNOWN_ENCODING:EG}=gr().codes,{errorOrDestroy:_l}=fT;uG(ft.prototype,ju.prototype);uG(ft,ju);function Nm(){}var Il=ode("kOnFinished");function zu(t,e,r){typeof r!="boolean"&&(r=e instanceof ni()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?ude(this,t,"writableHighWaterMark",r):dde(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Ade.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ET(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Il]=[]}function ET(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}zu.prototype.getBuffer=function(){return aG(this.buffered,this.bufferedIndex)};cG(zu.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ft(t){let e=this instanceof ni();if(!e&&!lG(ft,this))return new ft(t);this._writableState=new zu(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&cde(t.signal,this)),ju.call(this,t),fT.construct(this,()=>{let r=this._writableState;r.writing||Om(this,r),Cm(this,r)})}cG(ft,ade,{__proto__:null,value:function(t){return lG(this,t)?!0:this!==ft?!1:t&&t._writableState instanceof zu}});ft.prototype.pipe=function(){_l(this,new hde)};function fG(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!uT.isEncoding(r))throw new EG(r);typeof n!="function"&&(n=Nm)}if(e===null)throw new pde;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=uT.from(e,r),r="buffer");else if(e instanceof uT)r="buffer";else if(ju._isUint8Array(e))e=ju._uint8ArrayToBuffer(e),r="buffer";else throw new Ede("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Sde:i.destroyed&&(s=new Ku("write")),s?(Do.nextTick(n,s),_l(t,s,!0),s):(i.pendingcb++,Rde(t,i,e,r,n))}ft.prototype.write=function(t,e,r){return fG(this,t,e,r)===!0};ft.prototype.cork=function(){this._writableState.corked++};ft.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Om(this,t))};ft.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=sde(e)),!uT.isEncoding(e))throw new EG(e);return this._writableState.defaultEncoding=e,this};function Rde(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Nm&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function sG(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Ku("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function oG(t,e,r,n){--e.pendingcb,n(r),gm(e),_l(t,r)}function Ade(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){_l(t,new dG);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Do.nextTick(oG,t,r,e,i):oG(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&Om(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Do.nextTick(_de,r.afterWriteTickInfo)):hG(t,r,1,i))}function _de({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,hG(t,e,r,n)}function hG(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&gm(e),Cm(t,e)}function gm(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Ku("write"))}let r=t[Il].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Ku("end"))}ET(t)}function Om(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Nm:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:aG(r,o);l.allBuffers=e.allBuffers,sG(t,e,!0,e.length,l,"",a),ET(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;sG(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?ET(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ft.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new fde("_write()")};ft.prototype._writev=null;ft.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=fG(this,t,e);s instanceof nde&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Cm(this,n,!0),n.ended=!0):n.finished?i=new Tde("end"):n.destroyed&&(i=new Ku("end"))),typeof r=="function"&&(i||n.finished?Do.nextTick(r,i):n[Il].push(r)),this};function dT(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Ide(t,e){let r=!1;function n(i){if(r){_l(t,i??dG());return}if(r=!0,e.pendingcb--,i){let s=e[Il].splice(0);for(let o=0;o<s.length;o++)s[o](i);_l(t,i,e.sync)}else dT(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Do.nextTick(mm,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function mde(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Ide(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Cm(t,e,r){dT(e)&&(mde(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Do.nextTick((n,i)=>{dT(i)?mm(n,i):i.pendingcb--},t,e)):dT(e)&&(e.pendingcb++,mm(t,e))))}function mm(t,e){e.pendingcb--,e.finished=!0;let r=e[Il].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}ide(ft.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Nde=fT.destroy;ft.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Il].length)&&Do.nextTick(gm,r),Nde.call(this,t,e),this};ft.prototype._undestroy=fT.undestroy;ft.prototype._destroy=function(t,e){e(t)};ft.prototype[lde.captureRejectionSymbol]=function(t){this.destroy(t)};var Im;function TG(){return Im===void 0&&(Im={}),Im}ft.fromWeb=function(t,e){return TG().newStreamWritableFromWritableStream(t,e)};ft.toWeb=function(t){return TG().newWritableStreamFromStreamWritable(t)}});var DG=O((zxe,LG)=>{var bm=Xe(),gde=require("buffer"),{isReadable:Ode,isWritable:Cde,isIterable:SG,isNodeStream:bde,isReadableNodeStream:RG,isWritableNodeStream:AG,isDuplexNodeStream:yde,isReadableStream:_G,isWritableStream:IG}=ti(),mG=Wi(),{AbortError:yG,codes:{ERR_INVALID_ARG_TYPE:wde,ERR_INVALID_RETURN_VALUE:NG}}=gr(),{destroyer:Nl}=wo(),Lde=ni(),wG=Xu(),Dde=hT(),{createDeferredPromise:gG}=vr(),OG=Em(),CG=globalThis.Blob||gde.Blob,Pde=typeof CG<"u"?function(e){return e instanceof CG}:function(e){return!1},xde=globalThis.AbortController||Ct().AbortController,{FunctionPrototypeCall:bG}=at(),Ls=class extends Lde{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};LG.exports=function t(e,r){if(yde(e))return e;if(RG(e))return ml({readable:e});if(AG(e))return ml({writable:e});if(bde(e))return ml({writable:!1,readable:!1});if(_G(e))return ml({readable:wG.fromWeb(e)});if(IG(e))return ml({writable:Dde.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Mde(e);if(SG(i))return OG(Ls,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=bG(l,i,d=>{if(d!=null)throw new NG("nully","body",d)},d=>{Nl(c,d)});return c=new Ls({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,bm.nextTick(d,null)}catch(f){bm.nextTick(d,f)}})},destroy:a})}throw new NG("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Pde(e))return t(e.arrayBuffer());if(SG(e))return OG(Ls,e,{objectMode:!0,writable:!1});if(_G(e?.readable)&&IG(e?.writable))return Ls.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?RG(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?AG(e?.writable)?e?.writable:t(e.writable):void 0;return ml({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return bG(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Nl(i,s)}),i=new Ls({objectMode:!0,writable:!1,read(){}})}throw new wde(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Mde(t){let{promise:e,resolve:r}=gG(),n=new xde,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(bm.nextTick(c),l)return;if(i.aborted)throw new yG(void 0,{cause:i.reason});({promise:e,resolve:r}=gG()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function ml(t){let e=t.readable&&typeof t.readable.read!="function"?wG.wrap(t.readable):t.readable,r=t.writable,n=!!Ode(e),i=!!Cde(r),s,o,a,l,c;function u(d){let f=l;l=null,f?f(d):d&&c.destroy(d)}return c=new Ls({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(mG(r,d=>{i=!1,d&&Nl(e,d),u(d)}),c._write=function(d,f,E){r.write(d,f)?E():s=E},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(mG(e,d=>{n=!1,d&&Nl(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,f){!d&&l!==null&&(d=new yG),a=null,s=null,o=null,l===null?f(d):(l=f,Nl(r,d),Nl(e,d))},c}});var ni=O((Jxe,MG)=>{"use strict";var{ObjectDefineProperties:vde,ObjectGetOwnPropertyDescriptor:Yi,ObjectKeys:Ude,ObjectSetPrototypeOf:PG}=at();MG.exports=Ln;var Lm=Xu(),fn=hT();PG(Ln.prototype,Lm.prototype);PG(Ln,Lm);{let t=Ude(fn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Ln.prototype[r]||(Ln.prototype[r]=fn.prototype[r])}}function Ln(t){if(!(this instanceof Ln))return new Ln(t);Lm.call(this,t),fn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}vde(Ln.prototype,{writable:{__proto__:null,...Yi(fn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Yi(fn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Yi(fn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Yi(fn.prototype,"writableBuffer")},writableLength:{__proto__:null,...Yi(fn.prototype,"writableLength")},writableFinished:{__proto__:null,...Yi(fn.prototype,"writableFinished")},writableCorked:{__proto__:null,...Yi(fn.prototype,"writableCorked")},writableEnded:{__proto__:null,...Yi(fn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Yi(fn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var ym;function xG(){return ym===void 0&&(ym={}),ym}Ln.fromWeb=function(t,e){return xG().newStreamDuplexFromReadableWritablePair(t,e)};Ln.toWeb=function(t){return xG().newReadableWritablePairFromDuplex(t)};var wm;Ln.from=function(t){return wm||(wm=DG()),wm(t,"body")}});var xm=O((Qxe,UG)=>{"use strict";var{ObjectSetPrototypeOf:vG,Symbol:Bde}=at();UG.exports=$i;var{ERR_METHOD_NOT_IMPLEMENTED:Fde}=gr().codes,Pm=ni(),{getHighWaterMark:Gde}=Vu();vG($i.prototype,Pm.prototype);vG($i,Pm);var Ju=Bde("kCallback");function $i(t){if(!(this instanceof $i))return new $i(t);let e=t?Gde(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Pm.call(this,t),this._readableState.sync=!1,this[Ju]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Hde)}function Dm(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Hde(){this._final!==Dm&&Dm.call(this)}$i.prototype._final=Dm;$i.prototype._transform=function(t,e,r){throw new Fde("_transform()")};$i.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Ju]=r})};$i.prototype._read=function(){if(this[Ju]){let t=this[Ju];this[Ju]=null,t()}}});var vm=O((Zxe,FG)=>{"use strict";var{ObjectSetPrototypeOf:BG}=at();FG.exports=gl;var Mm=xm();BG(gl.prototype,Mm.prototype);BG(gl,Mm);function gl(t){if(!(this instanceof gl))return new gl(t);Mm.call(this,t)}gl.prototype._transform=function(t,e,r){r(null,t)}});var RT=O((eMe,$G)=>{var Qu=Xe(),{ArrayIsArray:Wde,Promise:Yde,SymbolAsyncIterator:$de,SymbolDispose:kde}=at(),ST=Wi(),{once:Vde}=vr(),qde=wo(),GG=ni(),{aggregateTwoErrors:Xde,codes:{ERR_INVALID_ARG_TYPE:km,ERR_INVALID_RETURN_VALUE:Um,ERR_MISSING_ARGS:jde,ERR_STREAM_DESTROYED:Kde,ERR_STREAM_PREMATURE_CLOSE:zde},AbortError:Jde}=gr(),{validateFunction:Qde,validateAbortSignal:Zde}=Tl(),{isIterable:Po,isReadable:Bm,isReadableNodeStream:pT,isNodeStream:HG,isTransformStream:Ol,isWebStream:eEe,isReadableStream:Fm,isReadableFinished:tEe}=ti(),rEe=globalThis.AbortController||Ct().AbortController,Gm,Hm,Wm;function WG(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=ST(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,qde.destroyer(t,s||new Kde("pipe")))},cleanup:i}}function nEe(t){return Qde(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Ym(t){if(Po(t))return t;if(pT(t))return iEe(t);throw new km("val",["Readable","Iterable","AsyncIterable"],t)}async function*iEe(t){Hm||(Hm=Xu()),yield*Hm.prototype[$de].call(t)}async function TT(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new Yde((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=ST(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?Xde(i,c):c)}finally{l(),e.off("drain",o)}}async function $m(t,e,r,{end:n}){Ol(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function sEe(...t){return YG(t,Vde(nEe(t)))}function YG(t,e,r){if(t.length===1&&Wde(t[0])&&(t=t[0]),t.length<2)throw new jde("streams");let n=new rEe,i=n.signal,s=r?.signal,o=[];Zde(s,"options.signal");function a(){T(new Jde)}Wm=Wm||vr().addAbortListener;let l;s&&(l=Wm(s,a));let c,u,d=[],f=0;function E(R){T(R,--f===0)}function T(R,A){var N;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;d.length;)d.shift()(c);(N=l)===null||N===void 0||N[kde](),n.abort(),A&&(c||o.forEach(w=>w()),Qu.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],N=R<t.length-1,w=R>0,m=N||r?.end!==!1,D=R===t.length-1;if(HG(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&E(P)};var I=y;if(m){let{destroy:P,cleanup:M}=WG(A,N,w);d.push(P),Bm(A)&&D&&o.push(M)}A.on("error",y),Bm(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!Po(h))throw new Um("Iterable, AsyncIterable or Stream","source",h)}else Po(A)||pT(A)||Ol(A)?h=A:h=GG.from(A);else if(typeof A=="function"){if(Ol(h)){var p;h=Ym((p=h)===null||p===void 0?void 0:p.readable)}else h=Ym(h);if(h=A(h,{signal:i}),N){if(!Po(h,!0))throw new Um("AsyncIterable",`transform[${R-1}]`,h)}else{var S;Gm||(Gm=vm());let y=new Gm({objectMode:!0}),P=(S=h)===null||S===void 0?void 0:S.then;if(typeof P=="function")f++,P.call(h,G=>{u=G,G!=null&&y.write(G),m&&y.end(),Qu.nextTick(E)},G=>{y.destroy(G),Qu.nextTick(E,G)});else if(Po(h,!0))f++,TT(h,y,E,{end:m});else if(Fm(h)||Ol(h)){let G=h.readable||h;f++,TT(G,y,E,{end:m})}else throw new Um("AsyncIterable or Promise","destination",h);h=y;let{destroy:M,cleanup:B}=WG(h,!1,!0);d.push(M),D&&o.push(B)}}else if(HG(A)){if(pT(h)){f+=2;let y=oEe(h,A,E,{end:m});Bm(A)&&D&&o.push(y)}else if(Ol(h)||Fm(h)){let y=h.readable||h;f++,TT(y,A,E,{end:m})}else if(Po(h))f++,TT(h,A,E,{end:m});else throw new km("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(eEe(A)){if(pT(h))f++,$m(Ym(h),A,E,{end:m});else if(Fm(h)||Po(h))f++,$m(h,A,E,{end:m});else if(Ol(h))f++,$m(h.readable,A,E,{end:m});else throw new km("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=GG.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Qu.nextTick(a),h}function oEe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new zde)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;tEe(t)?Qu.nextTick(o):t.once("end",o)}else r();return ST(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),ST(e,{readable:!1,writable:!0},r)}$G.exports={pipelineImpl:YG,pipeline:sEe}});var qm=O((tMe,KG)=>{"use strict";var{pipeline:aEe}=RT(),AT=ni(),{destroyer:lEe}=wo(),{isNodeStream:_T,isReadable:kG,isWritable:VG,isWebStream:Vm,isTransformStream:xo,isWritableStream:qG,isReadableStream:XG}=ti(),{AbortError:cEe,codes:{ERR_INVALID_ARG_VALUE:jG,ERR_MISSING_ARGS:uEe}}=gr(),dEe=Wi();KG.exports=function(...e){if(e.length===0)throw new uEe("streams");if(e.length===1)return AT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=AT.from(e[0])),typeof e[e.length-1]=="function"){let E=e.length-1;e[E]=AT.from(e[E])}for(let E=0;E<e.length;++E)if(!(!_T(e[E])&&!Vm(e[E]))){if(E<e.length-1&&!(kG(e[E])||XG(e[E])||xo(e[E])))throw new jG(`streams[${E}]`,r[E],"must be readable");if(E>0&&!(VG(e[E])||qG(e[E])||xo(e[E])))throw new jG(`streams[${E}]`,r[E],"must be writable")}let n,i,s,o,a;function l(E){let T=o;o=null,T?T(E):E?a.destroy(E):!f&&!d&&a.destroy()}let c=e[0],u=aEe(e,l),d=!!(VG(c)||qG(c)||xo(c)),f=!!(kG(u)||XG(u)||xo(u));if(a=new AT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:f}),d){if(_T(c))a._write=function(T,h,p){c.write(T,h)?p():n=p},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(Vm(c)){let h=(xo(c)?c.writable:c).getWriter();a._write=async function(p,S,I){try{await h.ready,h.write(p).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(p){try{await h.ready,h.close().catch(()=>{}),i=p}catch(S){p(S)}}}let E=xo(u)?u.readable:u;dEe(E,()=>{if(i){let T=i;i=null,T()}})}if(f){if(_T(u))u.on("readable",function(){if(s){let E=s;s=null,E()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let E=u.read();if(E===null){s=a._read;return}if(!a.push(E))return}};else if(Vm(u)){let T=(xo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:p}=await T.read();if(!a.push(h))return;if(p){a.push(null);return}}catch{return}}}}return a._destroy=function(E,T){!E&&o!==null&&(E=new cEe),s=null,n=null,i=null,o===null?T(E):(o=T,_T(u)&&lEe(u,E))},a}});var sH=O((rMe,Km)=>{"use strict";var EEe=globalThis.AbortController||Ct().AbortController,{codes:{ERR_INVALID_ARG_VALUE:fEe,ERR_INVALID_ARG_TYPE:Zu,ERR_MISSING_ARGS:hEe,ERR_OUT_OF_RANGE:TEe},AbortError:ii}=gr(),{validateAbortSignal:Mo,validateInteger:zG,validateObject:vo}=Tl(),pEe=at().Symbol("kWeak"),SEe=at().Symbol("kResistStopPropagation"),{finished:REe}=Wi(),AEe=qm(),{addAbortSignalNoValidate:_Ee}=ku(),{isWritable:IEe,isNodeStream:mEe}=ti(),{deprecate:NEe}=vr(),{ArrayPrototypePush:gEe,Boolean:OEe,MathFloor:JG,Number:CEe,NumberIsNaN:bEe,Promise:QG,PromiseReject:ZG,PromiseResolve:yEe,PromisePrototypeThen:eH,Symbol:rH}=at(),IT=rH("kEmpty"),tH=rH("kEof");function wEe(t,e){if(e!=null&&vo(e,"options"),e?.signal!=null&&Mo(e.signal,"options.signal"),mEe(t)&&!IEe(t))throw new fEe("stream",t,"must be writable");let r=AEe(this,t);return e!=null&&e.signal&&_Ee(e.signal,r),r}function mT(t,e){if(typeof t!="function")throw new Zu("fn",["Function","AsyncFunction"],t);e!=null&&vo(e,"options"),e?.signal!=null&&Mo(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=JG(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=JG(e.highWaterMark)),zG(r,"options.concurrency",1),zG(n,"options.highWaterMark",0),n+=r,async function*(){let s=vr().AbortSignalAny([e?.signal].filter(OEe)),o=this,a=[],l={signal:s},c,u,d=!1,f=0;function E(){d=!0,T()}function T(){f-=1,h()}function h(){u&&!d&&f<r&&a.length<n&&(u(),u=null)}async function p(){try{for await(let S of o){if(d)return;if(s.aborted)throw new ii;try{if(S=t(S,l),S===IT)continue;S=yEe(S)}catch(I){S=ZG(I)}f+=1,eH(S,T,E),a.push(S),c&&(c(),c=null),!d&&(a.length>=n||f>=r)&&await new QG(I=>{u=I})}a.push(tH)}catch(S){let I=ZG(S);eH(I,T,E),a.push(I)}finally{d=!0,c&&(c(),c=null)}}p();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===tH)return;if(s.aborted)throw new ii;S!==IT&&(yield S),a.shift(),h()}await new QG(S=>{c=S})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function LEe(t=void 0){return t!=null&&vo(t,"options"),t?.signal!=null&&Mo(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ii({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function nH(t,e=void 0){for await(let r of jm.call(this,t,e))return!0;return!1}async function DEe(t,e=void 0){if(typeof t!="function")throw new Zu("fn",["Function","AsyncFunction"],t);return!await nH.call(this,async(...r)=>!await t(...r),e)}async function PEe(t,e){for await(let r of jm.call(this,t,e))return r}async function xEe(t,e){if(typeof t!="function")throw new Zu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),IT}for await(let n of mT.call(this,r,e));}function jm(t,e){if(typeof t!="function")throw new Zu("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:IT}return mT.call(this,r,e)}var Xm=class extends hEe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function MEe(t,e,r){var n;if(typeof t!="function")throw new Zu("reducer",["Function","AsyncFunction"],t);r!=null&&vo(r,"options"),r?.signal!=null&&Mo(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new ii(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await REe(this.destroy(c)),c}let s=new EEe,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[pEe]:this,[SEe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new ii;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new Xm}finally{s.abort()}return e}async function vEe(t){t!=null&&vo(t,"options"),t?.signal!=null&&Mo(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new ii(void 0,{cause:t.signal.reason});gEe(e,n)}return e}function UEe(t,e){let r=mT.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function iH(t){if(t=CEe(t),bEe(t))return 0;if(t<0)throw new TEe("number",">= 0",t);return t}function BEe(t,e=void 0){return e!=null&&vo(e,"options"),e?.signal!=null&&Mo(e.signal,"options.signal"),t=iH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ii;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ii;t--<=0&&(yield s)}}.call(this)}function FEe(t,e=void 0){return e!=null&&vo(e,"options"),e?.signal!=null&&Mo(e.signal,"options.signal"),t=iH(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ii;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ii;if(t-- >0&&(yield s),t<=0)return}}.call(this)}Km.exports.streamReturningOperators={asIndexedPairs:NEe(LEe,"readable.asIndexedPairs will be removed in a future version."),drop:BEe,filter:jm,flatMap:UEe,map:mT,take:FEe,compose:wEe};Km.exports.promiseReturningOperators={every:DEe,forEach:xEe,reduce:MEe,toArray:vEe,some:nH,find:PEe}});var zm=O((nMe,oH)=>{"use strict";var{ArrayPrototypePop:GEe,Promise:HEe}=at(),{isIterable:WEe,isNodeStream:YEe,isWebStream:$Ee}=ti(),{pipelineImpl:kEe}=RT(),{finished:VEe}=Wi();Jm();function qEe(...t){return new HEe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!YEe(s)&&!WEe(s)&&!$Ee(s)){let o=GEe(t);n=o.signal,i=o.end}kEe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}oH.exports={finished:VEe,pipeline:qEe}});var Jm=O((iMe,TH)=>{"use strict";var{Buffer:XEe}=require("buffer"),{ObjectDefineProperty:ki,ObjectKeys:cH,ReflectApply:uH}=at(),{promisify:{custom:dH}}=vr(),{streamReturningOperators:aH,promiseReturningOperators:lH}=sH(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:EH}}=gr(),jEe=qm(),{setDefaultHighWaterMark:KEe,getDefaultHighWaterMark:zEe}=Vu(),{pipeline:fH}=RT(),{destroyer:JEe}=wo(),hH=Wi(),Qm=zm(),ed=ti(),rt=TH.exports=rT().Stream;rt.isDestroyed=ed.isDestroyed;rt.isDisturbed=ed.isDisturbed;rt.isErrored=ed.isErrored;rt.isReadable=ed.isReadable;rt.isWritable=ed.isWritable;rt.Readable=Xu();for(let t of cH(aH)){let r=function(...n){if(new.target)throw EH();return rt.Readable.from(uH(e,this,n))},e=aH[t];ki(r,"name",{__proto__:null,value:e.name}),ki(r,"length",{__proto__:null,value:e.length}),ki(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of cH(lH)){let r=function(...n){if(new.target)throw EH();return uH(e,this,n)},e=lH[t];ki(r,"name",{__proto__:null,value:e.name}),ki(r,"length",{__proto__:null,value:e.length}),ki(rt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}rt.Writable=hT();rt.Duplex=ni();rt.Transform=xm();rt.PassThrough=vm();rt.pipeline=fH;var{addAbortSignal:QEe}=ku();rt.addAbortSignal=QEe;rt.finished=hH;rt.destroy=JEe;rt.compose=jEe;rt.setDefaultHighWaterMark=KEe;rt.getDefaultHighWaterMark=zEe;ki(rt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Qm}});ki(fH,dH,{__proto__:null,enumerable:!0,get(){return Qm.pipeline}});ki(hH,dH,{__proto__:null,enumerable:!0,get(){return Qm.finished}});rt.Stream=rt;rt._isUint8Array=function(e){return e instanceof Uint8Array};rt._uint8ArrayToBuffer=function(e){return XEe.from(e.buffer,e.byteOffset,e.byteLength)}});var Zm=O((sMe,Ce)=>{"use strict";var Ft=require("stream");if(Ft&&process.env.READABLE_STREAM==="disable"){let t=Ft.promises;Ce.exports._uint8ArrayToBuffer=Ft._uint8ArrayToBuffer,Ce.exports._isUint8Array=Ft._isUint8Array,Ce.exports.isDisturbed=Ft.isDisturbed,Ce.exports.isErrored=Ft.isErrored,Ce.exports.isReadable=Ft.isReadable,Ce.exports.Readable=Ft.Readable,Ce.exports.Writable=Ft.Writable,Ce.exports.Duplex=Ft.Duplex,Ce.exports.Transform=Ft.Transform,Ce.exports.PassThrough=Ft.PassThrough,Ce.exports.addAbortSignal=Ft.addAbortSignal,Ce.exports.finished=Ft.finished,Ce.exports.destroy=Ft.destroy,Ce.exports.pipeline=Ft.pipeline,Ce.exports.compose=Ft.compose,Object.defineProperty(Ft,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Ce.exports.Stream=Ft.Stream}else{let t=Jm(),e=zm(),r=t.Readable.destroy;Ce.exports=t.Readable,Ce.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Ce.exports._isUint8Array=t._isUint8Array,Ce.exports.isDisturbed=t.isDisturbed,Ce.exports.isErrored=t.isErrored,Ce.exports.isReadable=t.isReadable,Ce.exports.Readable=t.Readable,Ce.exports.Writable=t.Writable,Ce.exports.Duplex=t.Duplex,Ce.exports.Transform=t.Transform,Ce.exports.PassThrough=t.PassThrough,Ce.exports.addAbortSignal=t.addAbortSignal,Ce.exports.finished=t.finished,Ce.exports.destroy=t.destroy,Ce.exports.destroy=r,Ce.exports.pipeline=t.pipeline,Ce.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Ce.exports.Stream=t.Stream}Ce.exports.default=Ce.exports});var _H=O((oMe,AH)=>{var rN=require("fs"),SH=Sw(),pH=Aw(),eN=require("path"),si=fl(),ZEe=require("util").inherits,_t=bF(),RH=Zm().Transform,tN=process.platform==="win32",$e=function(t,e){if(!(this instanceof $e))return new $e(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=si.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),RH.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=pH.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=pH.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};ZEe($e,RH);$e.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};$e.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof rN.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};$e.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};$e.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};$e.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};$e.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new _t("NOENDMETHOD"))};$e.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};$e.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};$e.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};$e.prototype._normalizeEntryData=function(t,e){t=si.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=si.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?tN?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(tN?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,tN&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=si.dateify(t.date),t};$e.prototype._onModuleError=function(t){this.emit("error",t)};$e.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};$e.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};$e.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}rN.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};$e.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};$e.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};$e.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=si.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=si.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=si.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=rN.readlinkSync(t.filepath),n=eN.dirname(t.filepath);t.data.type="symlink",t.data.linkname=eN.relative(n,eN.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new _t("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new _t("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new _t("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};$e.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};$e.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new _t("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new _t("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new _t("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=si.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(si.isStream(t))e.sourceType="stream";else return this.emit("error",new _t("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};$e.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new _t("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new _t("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function o(c){this.emit("error",c)}function a(c){l.pause();var u=!1,d=Object.assign({},r);d.name=c.relative,d.prefix=e,d.stats=c.stat,d.callback=l.resume.bind(l);try{if(n){if(d=n(d),d===!1)u=!0;else if(typeof d!="object")throw new _t("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(f){this.emit("error",f);return}if(u){l.resume();return}this._append(c.absolute,d)}var l=SH(t,i);return l.on("error",o.bind(this)),l.on("match",a.bind(this)),l.on("end",s.bind(this)),this};$e.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new _t("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new _t("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};$e.prototype.glob=function(t,e,r){this._pending++,e=si.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(a){this.emit("error",a)}function s(a){o.pause();var l=Object.assign({},r);l.callback=o.resume.bind(o),l.stats=a.stat,l.name=a.relative,this._append(a.absolute,l)}var o=SH(e.cwd||".",e);return o.on("error",i.bind(this)),o.on("match",s.bind(this)),o.on("end",n.bind(this)),this};$e.prototype.finalize=function(){if(this._state.aborted){var t=new _t("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new _t("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(o){s=!0,i(o)})})};$e.prototype.setFormat=function(t){return this._format?(this.emit("error",new _t("FORMATSET")),this):(this._format=t,this)};$e.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new _t("ABORTED")),this):this._state.module?(this.emit("error",new _t("MODULESET")),this):(this._module=t,this._modulePipe(),this)};$e.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new _t("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new _t("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new _t("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new _t("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};$e.prototype.pointer=function(){return this._pointer};$e.prototype.use=function(t){return this._streams.push(t),this};AH.exports=$e});var gT=O((aMe,IH)=>{var NT=IH.exports=function(){};NT.prototype.getName=function(){};NT.prototype.getSize=function(){};NT.prototype.getLastModifiedDate=function(){};NT.prototype.isDirectory=function(){}});var OT=O((lMe,mH)=>{var hn=mH.exports={};hn.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};hn.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};hn.fromDosTime=function(t){return hn.dosToDate(t.readUInt32LE(0))};hn.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};hn.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};hn.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};hn.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};hn.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};hn.toDosTime=function(t){return hn.getLongBytes(hn.dateToDos(t))}});var nN=O((cMe,yH)=>{var NH=OT(),gH=8,OH=1,efe=4,tfe=2,CH=64,bH=2048,Er=yH.exports=function(){return this instanceof Er?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new Er};Er.prototype.encode=function(){return NH.getShortBytes((this.descriptor?gH:0)|(this.utf8?bH:0)|(this.encryption?OH:0)|(this.strongEncryption?CH:0))};Er.prototype.parse=function(t,e){var r=NH.getShortBytesValue(t,e),n=new Er;return n.useDataDescriptor((r&gH)!==0),n.useUTF8ForNames((r&bH)!==0),n.useStrongEncryption((r&CH)!==0),n.useEncryption((r&OH)!==0),n.setSlidingDictionarySize((r&tfe)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&efe)!==0?3:2),n};Er.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};Er.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};Er.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};Er.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};Er.prototype.useDataDescriptor=function(t){this.descriptor=t};Er.prototype.usesDataDescriptor=function(){return this.descriptor};Er.prototype.useEncryption=function(t){this.encryption=t};Er.prototype.usesEncryption=function(){return this.encryption};Er.prototype.useStrongEncryption=function(t){this.strongEncryption=t};Er.prototype.usesStrongEncryption=function(){return this.strongEncryption};Er.prototype.useUTF8ForNames=function(t){this.utf8=t};Er.prototype.usesUTF8ForNames=function(){return this.utf8}});var LH=O((uMe,wH)=>{wH.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var iN=O((dMe,DH)=>{DH.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var sN=O((EMe,UH)=>{var rfe=require("util").inherits,nfe=gA(),xH=gT(),MH=nN(),PH=LH(),Ur=iN(),vH=OT(),me=UH.exports=function(t){if(!(this instanceof me))return new me(t);xH.call(this),this.platform=Ur.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new MH,this.crc=0,this.time=-1,this.minver=Ur.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};rfe(me,xH);me.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};me.prototype.getComment=function(){return this.comment!==null?this.comment:""};me.prototype.getCompressedSize=function(){return this.csize};me.prototype.getCrc=function(){return this.crc};me.prototype.getExternalAttributes=function(){return this.exattr};me.prototype.getExtra=function(){return this.extra!==null?this.extra:Ur.EMPTY};me.prototype.getGeneralPurposeBit=function(){return this.gpb};me.prototype.getInternalAttributes=function(){return this.inattr};me.prototype.getLastModifiedDate=function(){return this.getTime()};me.prototype.getLocalFileDataExtra=function(){return this.getExtra()};me.prototype.getMethod=function(){return this.method};me.prototype.getName=function(){return this.name};me.prototype.getPlatform=function(){return this.platform};me.prototype.getSize=function(){return this.size};me.prototype.getTime=function(){return this.time!==-1?vH.dosToDate(this.time):-1};me.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};me.prototype.getUnixMode=function(){return this.platform!==Ur.PLATFORM_UNIX?0:this.getExternalAttributes()>>Ur.SHORT_SHIFT&Ur.SHORT_MASK};me.prototype.getVersionNeededToExtract=function(){return this.minver};me.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};me.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};me.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};me.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};me.prototype.setExtra=function(t){this.extra=t};me.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof MH))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};me.prototype.setInternalAttributes=function(t){this.inattr=t};me.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};me.prototype.setName=function(t,e=!1){t=nfe(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};me.prototype.setPlatform=function(t){this.platform=t};me.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};me.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=vH.dateToDos(t,e)};me.prototype.setUnixMode=function(t){t|=this.isDirectory()?Ur.S_IFDIR:Ur.S_IFREG;var e=0;e|=t<<Ur.SHORT_SHIFT|(this.isDirectory()?Ur.S_DOS_D:Ur.S_DOS_A),this.setExternalAttributes(e),this.mode=t&Ur.MODE_MASK,this.platform=Ur.PLATFORM_UNIX};me.prototype.setVersionNeededToExtract=function(t){this.minver=t};me.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};me.prototype.isUnixSymlink=function(){return(this.getUnixMode()&PH.FILE_TYPE_FLAG)===PH.LINK_FLAG};me.prototype.isZip64=function(){return this.csize>Ur.ZIP64_MAGIC||this.size>Ur.ZIP64_MAGIC}});var lt=O((fMe,BH)=>{"use strict";var oN=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};BH.exports={AggregateError:oN,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var aN=O((hMe,FH)=>{"use strict";FH.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var Cr=O((TMe,WH)=>{"use strict";var{format:ife,inspect:CT}=aN(),{AggregateError:sfe}=lt(),ofe=globalThis.AggregateError||sfe,afe=Symbol("kIsNodeError"),lfe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],cfe=/^([A-Z][a-z0-9]*)+$/,ufe="__node_internal_",bT={};function Uo(t,e){if(!t)throw new bT.ERR_INTERNAL_ASSERTION(e)}function GH(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function dfe(t,e,r){if(typeof e=="function")return Uo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return Uo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:ife(e,...r)}function fr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(dfe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[afe]=!0,bT[t]=n}function HH(t){let e=ufe+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Efe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new ofe([e,t],e.message);return r.code=e.code,r}return t||e}var lN=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new bT.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};fr("ERR_ASSERTION","%s",Error);fr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Uo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)Uo(typeof l=="string","All expected entries have to be of type string"),lfe.includes(l)?i.push(l.toLowerCase()):cfe.test(l)?s.push(l):(Uo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=CT(r,{depth:-1});n+=`. Received ${l}`}}else{let l=CT(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);fr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=CT(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);fr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);fr("ERR_MISSING_ARGS",(...t)=>{Uo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);fr("ERR_OUT_OF_RANGE",(t,e,r)=>{Uo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=GH(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=GH(n)),n+="n"}else n=CT(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);fr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);fr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);fr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);fr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);fr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);fr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);fr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);fr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);fr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);fr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);fr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);WH.exports={AbortError:lN,aggregateTwoErrors:HH(Efe),hideStackFrames:HH,codes:bT}});var Br=O((pMe,uN)=>{"use strict";var ffe=require("buffer"),{format:hfe,inspect:Tfe}=aN(),{codes:{ERR_INVALID_ARG_TYPE:cN}}=Cr(),{kResistStopPropagation:pfe,AggregateError:Sfe,SymbolDispose:Rfe}=lt(),Afe=globalThis.AbortSignal||Ct().AbortSignal,_fe=globalThis.AbortController||Ct().AbortController,Ife=Object.getPrototypeOf(async function(){}).constructor,YH=globalThis.Blob||ffe.Blob,mfe=typeof YH<"u"?function(e){return e instanceof YH}:function(e){return!1},$H=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new cN(e,"AbortSignal",t)},Nfe=(t,e)=>{if(typeof t!="function")throw new cN(e,"Function",t)};uN.exports={AggregateError:Sfe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:hfe,inspect:Tfe,types:{isAsyncFunction(t){return t instanceof Ife},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:mfe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new cN("signal","AbortSignal",e);$H(e,"signal"),Nfe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[pfe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[Rfe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Afe.any||function(e){if(e.length===1)return e[0];let r=new _fe,n=()=>r.abort();return e.forEach(i=>{$H(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};uN.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var bl=O((SMe,ZH)=>{"use strict";var{ArrayIsArray:EN,ArrayPrototypeIncludes:XH,ArrayPrototypeJoin:jH,ArrayPrototypeMap:gfe,NumberIsInteger:fN,NumberIsNaN:Ofe,NumberMAX_SAFE_INTEGER:Cfe,NumberMIN_SAFE_INTEGER:bfe,NumberParseInt:yfe,ObjectPrototypeHasOwnProperty:wfe,RegExpPrototypeExec:KH,String:Lfe,StringPrototypeToUpperCase:Dfe,StringPrototypeTrim:Pfe}=lt(),{hideStackFrames:Tn,codes:{ERR_SOCKET_BAD_PORT:xfe,ERR_INVALID_ARG_TYPE:br,ERR_INVALID_ARG_VALUE:Cl,ERR_OUT_OF_RANGE:Bo,ERR_UNKNOWN_SIGNAL:kH}}=Cr(),{normalizeEncoding:Mfe}=Br(),{isAsyncFunction:vfe,isArrayBufferView:Ufe}=Br().types,VH={};function Bfe(t){return t===(t|0)}function Ffe(t){return t===t>>>0}var Gfe=/^[0-7]+$/,Hfe="must be a 32-bit unsigned integer or an octal string";function Wfe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(KH(Gfe,t)===null)throw new Cl(e,t,Hfe);t=yfe(t,8)}return zH(t,e),t}var Yfe=Tn((t,e,r=bfe,n=Cfe)=>{if(typeof t!="number")throw new br(e,"number",t);if(!fN(t))throw new Bo(e,"an integer",t);if(t<r||t>n)throw new Bo(e,`>= ${r} && <= ${n}`,t)}),$fe=Tn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new br(e,"number",t);if(!fN(t))throw new Bo(e,"an integer",t);if(t<r||t>n)throw new Bo(e,`>= ${r} && <= ${n}`,t)}),zH=Tn((t,e,r=!1)=>{if(typeof t!="number")throw new br(e,"number",t);if(!fN(t))throw new Bo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Bo(e,`>= ${n} && <= ${i}`,t)});function hN(t,e){if(typeof t!="string")throw new br(e,"string",t)}function kfe(t,e,r=void 0,n){if(typeof t!="number")throw new br(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Ofe(t))throw new Bo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Vfe=Tn((t,e,r)=>{if(!XH(r,t)){let i="must be one of: "+jH(gfe(r,s=>typeof s=="string"?`'${s}'`:Lfe(s)),", ");throw new Cl(e,t,i)}});function JH(t,e){if(typeof t!="boolean")throw new br(e,"boolean",t)}function dN(t,e,r){return t==null||!wfe(t,e)?r:t[e]}var qfe=Tn((t,e,r=null)=>{let n=dN(r,"allowArray",!1),i=dN(r,"allowFunction",!1);if(!dN(r,"nullable",!1)&&t===null||!n&&EN(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new br(e,"Object",t)}),Xfe=Tn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new br(e,"a dictionary",t)}),yT=Tn((t,e,r=0)=>{if(!EN(t))throw new br(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Cl(e,t,n)}});function jfe(t,e){yT(t,e);for(let r=0;r<t.length;r++)hN(t[r],`${e}[${r}]`)}function Kfe(t,e){yT(t,e);for(let r=0;r<t.length;r++)JH(t[r],`${e}[${r}]`)}function zfe(t,e){yT(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new br(i,"AbortSignal",n);QH(n,i)}}function Jfe(t,e="signal"){if(hN(t,e),VH[t]===void 0)throw VH[Dfe(t)]!==void 0?new kH(t+" (signals must use all capital letters)"):new kH(t)}var Qfe=Tn((t,e="buffer")=>{if(!Ufe(t))throw new br(e,["Buffer","TypedArray","DataView"],t)});function Zfe(t,e){let r=Mfe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Cl("encoding",e,`is invalid for data of length ${n}`)}function ehe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Pfe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new xfe(e,t,r);return t|0}var QH=Tn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new br(e,"AbortSignal",t)}),the=Tn((t,e)=>{if(typeof t!="function")throw new br(e,"Function",t)}),rhe=Tn((t,e)=>{if(typeof t!="function"||vfe(t))throw new br(e,"Function",t)}),nhe=Tn((t,e)=>{if(t!==void 0)throw new br(e,"undefined",t)});function ihe(t,e,r){if(!XH(r,t))throw new br(e,`('${jH(r,"|")}')`,t)}var she=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function qH(t,e){if(typeof t>"u"||!KH(she,t))throw new Cl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ohe(t){if(typeof t=="string")return qH(t,"hints"),t;if(EN(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];qH(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Cl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}ZH.exports={isInt32:Bfe,isUint32:Ffe,parseFileMode:Wfe,validateArray:yT,validateStringArray:jfe,validateBooleanArray:Kfe,validateAbortSignalArray:zfe,validateBoolean:JH,validateBuffer:Qfe,validateDictionary:Xfe,validateEncoding:Zfe,validateFunction:the,validateInt32:$fe,validateInteger:Yfe,validateNumber:kfe,validateObject:qfe,validateOneOf:Vfe,validatePlainFunction:rhe,validatePort:ehe,validateSignalName:Jfe,validateString:hN,validateUint32:zH,validateUndefined:nhe,validateUnion:ihe,validateAbortSignal:QH,validateLinkHeaderValue:ohe}});var ai=O((RMe,hW)=>{"use strict";var{SymbolAsyncIterator:eW,SymbolIterator:tW,SymbolFor:Fo}=lt(),rW=Fo("nodejs.stream.destroyed"),nW=Fo("nodejs.stream.errored"),TN=Fo("nodejs.stream.readable"),pN=Fo("nodejs.stream.writable"),iW=Fo("nodejs.stream.disturbed"),ahe=Fo("nodejs.webstream.isClosedPromise"),lhe=Fo("nodejs.webstream.controllerErrorFunction");function wT(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function LT(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function che(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function oi(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function sW(t){return!!(t&&!oi(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function oW(t){return!!(t&&!oi(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function aW(t){return!!(t&&!oi(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function uhe(t){return sW(t)||oW(t)||aW(t)}function dhe(t,e){return t==null?!1:e===!0?typeof t[eW]=="function":e===!1?typeof t[tW]=="function":typeof t[eW]=="function"||typeof t[tW]=="function"}function DT(t){if(!oi(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[rW]||n!=null&&n.destroyed)}function lW(t){if(!LT(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Ehe(t,e){if(!LT(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function fhe(t){if(!wT(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function cW(t,e){if(!wT(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function uW(t){return t&&t[TN]!=null?t[TN]:typeof t?.readable!="boolean"?null:DT(t)?!1:wT(t)&&t.readable&&!cW(t)}function dW(t){return t&&t[pN]!=null?t[pN]:typeof t?.writable!="boolean"?null:DT(t)?!1:LT(t)&&t.writable&&!lW(t)}function hhe(t,e){return oi(t)?DT(t)?!0:!(e?.readable!==!1&&uW(t)||e?.writable!==!1&&dW(t)):null}function The(t){var e,r;return oi(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function phe(t){var e,r;return oi(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function She(t){if(!oi(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&EW(t)?t._closed:null}function EW(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function fW(t){return typeof t._sent100=="boolean"&&EW(t)}function Rhe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Ahe(t){if(!oi(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&fW(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function _he(t){var e;return!!(t&&((e=t[iW])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Ihe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[nW])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}hW.exports={isDestroyed:DT,kIsDestroyed:rW,isDisturbed:_he,kIsDisturbed:iW,isErrored:Ihe,kIsErrored:nW,isReadable:uW,kIsReadable:TN,kIsClosedPromise:ahe,kControllerErrorFunction:lhe,kIsWritable:pN,isClosed:She,isDuplexNodeStream:che,isFinished:hhe,isIterable:dhe,isReadableNodeStream:wT,isReadableStream:sW,isReadableEnded:fhe,isReadableFinished:cW,isReadableErrored:phe,isNodeStream:oi,isWebStream:uhe,isWritable:dW,isWritableNodeStream:LT,isWritableStream:oW,isWritableEnded:lW,isWritableFinished:Ehe,isWritableErrored:The,isServerRequest:Rhe,isServerResponse:fW,willEmitClose:Ahe,isTransformStream:aW}});var Vi=O((AMe,IN)=>{"use strict";var Ds=Xe(),{AbortError:NW,codes:mhe}=Cr(),{ERR_INVALID_ARG_TYPE:Nhe,ERR_STREAM_PREMATURE_CLOSE:TW}=mhe,{kEmptyObject:RN,once:AN}=Br(),{validateAbortSignal:ghe,validateFunction:Ohe,validateObject:Che,validateBoolean:bhe}=bl(),{Promise:yhe,PromisePrototypeThen:whe,SymbolDispose:gW}=lt(),{isClosed:Lhe,isReadable:pW,isReadableNodeStream:SN,isReadableStream:Dhe,isReadableFinished:SW,isReadableErrored:RW,isWritable:AW,isWritableNodeStream:_W,isWritableStream:Phe,isWritableFinished:IW,isWritableErrored:mW,isNodeStream:xhe,willEmitClose:Mhe,kIsClosedPromise:vhe}=ai(),yl;function Uhe(t){return t.setHeader&&typeof t.abort=="function"}var _N=()=>{};function OW(t,e,r){var n,i;if(arguments.length===2?(r=e,e=RN):e==null?e=RN:Che(e,"options"),Ohe(r,"callback"),ghe(e.signal,"options.signal"),r=AN(r),Dhe(t)||Phe(t))return Bhe(t,e,r);if(!xhe(t))throw new Nhe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:SN(t),o=(i=e.writable)!==null&&i!==void 0?i:_W(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||f()},u=Mhe(t)&&SN(t)===s&&_W(t)===o,d=IW(t,!1),f=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||E)&&r.call(t)},E=SW(t,!1),T=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},h=N=>{r.call(t,N)},p=Lhe(t),S=()=>{p=!0;let N=mW(t)||RW(t);if(N&&typeof N!="boolean")return r.call(t,N);if(s&&!E&&SN(t,!0)&&!SW(t,!1))return r.call(t,new TW);if(o&&!d&&!IW(t,!1))return r.call(t,new TW);r.call(t)},I=()=>{p=!0;let N=mW(t)||RW(t);if(N&&typeof N!="boolean")return r.call(t,N);r.call(t)},R=()=>{t.req.on("finish",f)};Uhe(t)?(t.on("complete",f),u||t.on("abort",S),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",f),e.error!==!1&&t.on("error",h),t.on("close",S),p?Ds.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Ds.nextTick(I):(!s&&(!u||pW(t))&&(d||AW(t)===!1)||!o&&(!u||AW(t))&&(E||pW(t)===!1)||l&&t.req&&t.aborted)&&Ds.nextTick(I);let A=()=>{r=_N,t.removeListener("aborted",S),t.removeListener("complete",f),t.removeListener("abort",S),t.removeListener("request",R),t.req&&t.req.removeListener("finish",f),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!p){let N=()=>{let w=r;A(),w.call(t,new NW(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ds.nextTick(N);else{yl=yl||Br().addAbortListener;let w=yl(e.signal,N),m=r;r=AN((...D)=>{w[gW](),m.apply(t,D)})}}return A}function Bhe(t,e,r){let n=!1,i=_N;if(e.signal)if(i=()=>{n=!0,r.call(t,new NW(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ds.nextTick(i);else{yl=yl||Br().addAbortListener;let o=yl(e.signal,i),a=r;r=AN((...l)=>{o[gW](),a.apply(t,l)})}let s=(...o)=>{n||Ds.nextTick(()=>r.apply(t,o))};return whe(t[vhe].promise,s,s),_N}function Fhe(t,e){var r;let n=!1;return e===null&&(e=RN),(r=e)!==null&&r!==void 0&&r.cleanup&&(bhe(e.cleanup,"cleanup"),n=e.cleanup),new yhe((i,s)=>{let o=OW(t,e,a=>{n&&o(),a?s(a):i()})})}IN.exports=OW;IN.exports.finished=Fhe});var Go=O((_Me,xW)=>{"use strict";var li=Xe(),{aggregateTwoErrors:Ghe,codes:{ERR_MULTIPLE_CALLBACK:Hhe},AbortError:Whe}=Cr(),{Symbol:yW}=lt(),{kIsDestroyed:Yhe,isDestroyed:$he,isFinished:khe,isServerRequest:Vhe}=ai(),wW=yW("kDestroy"),mN=yW("kConstruct");function LW(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function qhe(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(LW(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?CW(this,t,e):this.once(wW,function(s){CW(this,Ghe(s,t),e)}),this)}function CW(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;LW(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?li.nextTick(Xhe,t,s):li.nextTick(DW,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function Xhe(t,e){NN(t,e),DW(t)}function DW(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function NN(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function jhe(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function gN(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?li.nextTick(NN,t,e):NN(t,e))}function Khe(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(mN,e),!(t.listenerCount(mN)>1)&&li.nextTick(zhe,t)}function zhe(t){let e=!1;function r(n){if(e){gN(t,n??new Hhe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(wW,n):n?gN(t,n,!0):li.nextTick(Jhe,t)}try{t._construct(n=>{li.nextTick(r,n)})}catch(n){li.nextTick(r,n)}}function Jhe(t){t.emit(mN)}function bW(t){return t?.setHeader&&typeof t.abort=="function"}function PW(t){t.emit("close")}function Qhe(t,e){t.emit("error",e),li.nextTick(PW,t)}function Zhe(t,e){!t||$he(t)||(!e&&!khe(t)&&(e=new Whe),Vhe(t)?(t.socket=null,t.destroy(e)):bW(t)?t.abort():bW(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?li.nextTick(Qhe,t,e):li.nextTick(PW,t),t.destroyed||(t[Yhe]=!0))}xW.exports={construct:Khe,destroyer:Zhe,destroy:qhe,undestroy:jhe,errorOrDestroy:gN}});var MT=O((IMe,vW)=>{"use strict";var{ArrayIsArray:eTe,ObjectSetPrototypeOf:MW}=lt(),{EventEmitter:PT}=require("events");function xT(t){PT.call(this,t)}MW(xT.prototype,PT.prototype);MW(xT,PT);xT.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),PT.listenerCount(this,"error")===0&&this.emit("error",u)}ON(r,"error",l),ON(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function ON(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):eTe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}vW.exports={Stream:xT,prependListener:ON}});var td=O((mMe,vT)=>{"use strict";var{SymbolDispose:tTe}=lt(),{AbortError:UW,codes:rTe}=Cr(),{isNodeStream:BW,isWebStream:nTe,kControllerErrorFunction:iTe}=ai(),sTe=Vi(),{ERR_INVALID_ARG_TYPE:FW}=rTe,CN,oTe=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new FW(e,"AbortSignal",t)};vT.exports.addAbortSignal=function(e,r){if(oTe(e,"signal"),!BW(r)&&!nTe(r))throw new FW("stream",["ReadableStream","WritableStream","Stream"],r);return vT.exports.addAbortSignalNoValidate(e,r)};vT.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=BW(e)?()=>{e.destroy(new UW(void 0,{cause:t.reason}))}:()=>{e[iTe](new UW(void 0,{cause:t.reason}))};if(t.aborted)r();else{CN=CN||Br().addAbortListener;let n=CN(t,r);sTe(e,n[tTe])}return e}});var WW=O((gMe,HW)=>{"use strict";var{StringPrototypeSlice:GW,SymbolIterator:aTe,TypedArrayPrototypeSet:UT,Uint8Array:lTe}=lt(),{Buffer:bN}=require("buffer"),{inspect:cTe}=Br();HW.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return bN.alloc(0);let r=bN.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)UT(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[aTe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=GW(s,0,e),this.head=n,n.data=GW(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=bN.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)UT(r,o,n-e),e-=o.length;else{e===o.length?(UT(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(UT(r,new lTe(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return cTe(this,{...r,depth:0,customInspect:!1})}}});var rd=O((OMe,VW)=>{"use strict";var{MathFloor:uTe,NumberIsInteger:dTe}=lt(),{validateInteger:ETe}=bl(),{ERR_INVALID_ARG_VALUE:fTe}=Cr().codes,YW=16*1024,$W=16;function hTe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function kW(t){return t?$W:YW}function TTe(t,e){ETe(e,"value",0),t?$W=e:YW=e}function pTe(t,e,r,n){let i=hTe(e,n,r);if(i!=null){if(!dTe(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new fTe(s,i)}return uTe(i)}return kW(t.objectMode)}VW.exports={getHighWaterMark:pTe,getDefaultHighWaterMark:kW,setDefaultHighWaterMark:TTe}});var yN=O((CMe,KW)=>{"use strict";var qW=Xe(),{PromisePrototypeThen:STe,SymbolAsyncIterator:XW,SymbolIterator:jW}=lt(),{Buffer:RTe}=require("buffer"),{ERR_INVALID_ARG_TYPE:ATe,ERR_STREAM_NULL_VALUES:_Te}=Cr().codes;function ITe(t,e,r){let n;if(typeof e=="string"||e instanceof RTe)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[XW])i=!0,n=e[XW]();else if(e&&e[jW])i=!1,n=e[jW]();else throw new ATe("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){STe(a(c),()=>qW.nextTick(u,c),d=>qW.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:f,done:E}=await n.throw(c);if(await f,E)return}if(typeof n.return=="function"){let{value:f}=await n.return();await f}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new _Te;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}KW.exports=ITe});var id=O((bMe,fY)=>{"use strict";var Dn=Xe(),{ArrayPrototypeIndexOf:mTe,NumberIsInteger:NTe,NumberIsNaN:gTe,NumberParseInt:OTe,ObjectDefineProperties:UN,ObjectKeys:CTe,ObjectSetPrototypeOf:QW,Promise:ZW,SafeSet:bTe,SymbolAsyncDispose:yTe,SymbolAsyncIterator:wTe,Symbol:LTe}=lt();fY.exports=Ae;Ae.ReadableState=HT;var{EventEmitter:DTe}=require("events"),{Stream:Ps,prependListener:PTe}=MT(),{Buffer:wN}=require("buffer"),{addAbortSignal:xTe}=td(),eY=Vi(),Pe=Br().debuglog("stream",t=>{Pe=t}),MTe=WW(),Dl=Go(),{getHighWaterMark:vTe,getDefaultHighWaterMark:UTe}=rd(),{aggregateTwoErrors:zW,codes:{ERR_INVALID_ARG_TYPE:BTe,ERR_METHOD_NOT_IMPLEMENTED:FTe,ERR_OUT_OF_RANGE:GTe,ERR_STREAM_PUSH_AFTER_EOF:HTe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:WTe},AbortError:YTe}=Cr(),{validateObject:$Te}=bl(),Ho=LTe("kPaused"),{StringDecoder:tY}=lu(),kTe=yN();QW(Ae.prototype,Ps.prototype);QW(Ae,Ps);var LN=()=>{},{errorOrDestroy:wl}=Dl,Ll=1,VTe=2,rY=4,nd=8,nY=16,BT=32,FT=64,iY=128,qTe=256,XTe=512,jTe=1024,MN=2048,vN=4096,KTe=8192,zTe=16384,JTe=32768,sY=65536,QTe=1<<17,ZTe=1<<18;function Gt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}UN(HT.prototype,{objectMode:Gt(Ll),ended:Gt(VTe),endEmitted:Gt(rY),reading:Gt(nd),constructed:Gt(nY),sync:Gt(BT),needReadable:Gt(FT),emittedReadable:Gt(iY),readableListening:Gt(qTe),resumeScheduled:Gt(XTe),errorEmitted:Gt(jTe),emitClose:Gt(MN),autoDestroy:Gt(vN),destroyed:Gt(KTe),closed:Gt(zTe),closeEmitted:Gt(JTe),multiAwaitDrain:Gt(sY),readingMore:Gt(QTe),dataEmitted:Gt(ZTe)});function HT(t,e,r){typeof r!="boolean"&&(r=e instanceof ci()),this.state=MN|vN|nY|BT,t&&t.objectMode&&(this.state|=Ll),r&&t&&t.readableObjectMode&&(this.state|=Ll),this.highWaterMark=t?vTe(this,t,"readableHighWaterMark",r):UTe(!1),this.buffer=new MTe,this.length=0,this.pipes=[],this.flowing=null,this[Ho]=null,t&&t.emitClose===!1&&(this.state&=~MN),t&&t.autoDestroy===!1&&(this.state&=~vN),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new tY(t.encoding),this.encoding=t.encoding)}function Ae(t){if(!(this instanceof Ae))return new Ae(t);let e=this instanceof ci();this._readableState=new HT(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&xTe(t.signal,this)),Ps.call(this,t),Dl.construct(this,()=>{this._readableState.needReadable&&GT(this,this._readableState)})}Ae.prototype.destroy=Dl.destroy;Ae.prototype._undestroy=Dl.undestroy;Ae.prototype._destroy=function(t,e){e(t)};Ae.prototype[DTe.captureRejectionSymbol]=function(t){this.destroy(t)};Ae.prototype[yTe]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new YTe,this.destroy(t)),new ZW((e,r)=>eY(this,n=>n&&n!==t?r(n):e(null)))};Ae.prototype.push=function(t,e){return oY(this,t,e,!1)};Ae.prototype.unshift=function(t,e){return oY(this,t,e,!0)};function oY(t,e,r,n){Pe("readableAddChunk",e);let i=t._readableState,s;if((i.state&Ll)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=wN.from(e,r).toString(i.encoding):(e=wN.from(e,r),r=""))):e instanceof wN?r="":Ps._isUint8Array(e)?(e=Ps._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new BTe("chunk",["string","Buffer","Uint8Array"],e))),s)wl(t,s);else if(e===null)i.state&=~nd,rpe(t,i);else if((i.state&Ll)!==0||e&&e.length>0)if(n)if((i.state&rY)!==0)wl(t,new WTe);else{if(i.destroyed||i.errored)return!1;DN(t,i,e,!0)}else if(i.ended)wl(t,new HTe);else{if(i.destroyed||i.errored)return!1;i.state&=~nd,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?DN(t,i,e,!1):GT(t,i)):DN(t,i,e,!1)}else n||(i.state&=~nd,GT(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function DN(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&sY)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&FT)!==0&&WT(t)),GT(t,e)}Ae.prototype.isPaused=function(){let t=this._readableState;return t[Ho]===!0||t.flowing===!1};Ae.prototype.setEncoding=function(t){let e=new tY(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var epe=1073741824;function tpe(t){if(t>epe)throw new GTe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function JW(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Ll)!==0?1:gTe(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Ae.prototype.read=function(t){Pe("read",t),t===void 0?t=NaN:NTe(t)||(t=OTe(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=tpe(t)),t!==0&&(e.state&=~iY),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Pe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?PN(this):WT(this),null;if(t=JW(t,e),t===0&&e.ended)return e.length===0&&PN(this),null;let n=(e.state&FT)!==0;if(Pe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Pe("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Pe("reading, ended or constructing",n);else if(n){Pe("do read"),e.state|=nd|BT,e.length===0&&(e.state|=FT);try{this._read(e.highWaterMark)}catch(s){wl(this,s)}e.state&=~BT,e.reading||(t=JW(r,e))}let i;return t>0?i=dY(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&PN(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function rpe(t,e){if(Pe("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?WT(t):(e.needReadable=!1,e.emittedReadable=!0,aY(t))}}function WT(t){let e=t._readableState;Pe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Pe("emitReadable",e.flowing),e.emittedReadable=!0,Dn.nextTick(aY,t))}function aY(t){let e=t._readableState;Pe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,cY(t)}function GT(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Dn.nextTick(npe,t,e))}function npe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Pe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Ae.prototype._read=function(t){throw new FTe("_read()")};Ae.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new bTe(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Pe("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==Dn.stdout&&t!==Dn.stderr?a:p;n.endEmitted?Dn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,I){Pe("onunpipe"),S===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){Pe("onend"),t.end()}let l,c=!1;function u(){Pe("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(Pe("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Pe("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=ipe(r,t),t.on("drain",l))}r.on("data",f);function f(S){Pe("ondata");let I=t.write(S);Pe("dest.write",I),I===!1&&d()}function E(S){if(Pe("onerror",S),p(),t.removeListener("error",E),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?wl(t,S):t.emit("error",S)}}PTe(t,"error",E);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){Pe("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){Pe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(Pe("pipe resume"),r.resume()),t};function ipe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Pe("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Pe("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Ae.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=mTe(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Ae.prototype.on=function(t,e){let r=Ps.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Pe("on readable",n.length,n.reading),n.length?WT(this):n.reading||Dn.nextTick(spe,this)),r};Ae.prototype.addListener=Ae.prototype.on;Ae.prototype.removeListener=function(t,e){let r=Ps.prototype.removeListener.call(this,t,e);return t==="readable"&&Dn.nextTick(lY,this),r};Ae.prototype.off=Ae.prototype.removeListener;Ae.prototype.removeAllListeners=function(t){let e=Ps.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&Dn.nextTick(lY,this),e};function lY(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Ho]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function spe(t){Pe("readable nexttick read 0"),t.read(0)}Ae.prototype.resume=function(){let t=this._readableState;return t.flowing||(Pe("resume"),t.flowing=!t.readableListening,ope(this,t)),t[Ho]=!1,this};function ope(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Dn.nextTick(ape,t,e))}function ape(t,e){Pe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),cY(t),e.flowing&&!e.reading&&t.read(0)}Ae.prototype.pause=function(){return Pe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ho]=!0,this};function cY(t){let e=t._readableState;for(Pe("flow",e.flowing);e.flowing&&t.read()!==null;);}Ae.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{wl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=CTe(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Ae.prototype[wTe]=function(){return uY(this)};Ae.prototype.iterator=function(t){return t!==void 0&&$Te(t,"options"),uY(this,t)};function uY(t,e){typeof t.read!="function"&&(t=Ae.wrap(t,{objectMode:!0}));let r=lpe(t,e);return r.stream=t,r}async function*lpe(t,e){let r=LN;function n(o){this===t?(r(),r=LN):r=o}t.on("readable",n);let i,s=eY(t,{writable:!1},o=>{i=o?zW(i,o):null,r(),r=LN});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new ZW(n)}}}catch(o){throw i=zW(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?Dl.destroyer(t,null):(t.off("readable",n),s())}}UN(Ae.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});UN(HT.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Ho]!==!1},set(t){this[Ho]=!!t}}});Ae._fromList=dY;function dY(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function PN(t){let e=t._readableState;Pe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Dn.nextTick(cpe,e,t))}function cpe(t,e){if(Pe("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Dn.nextTick(upe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function upe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Ae.from=function(t,e){return kTe(Ae,t,e)};var xN;function EY(){return xN===void 0&&(xN={}),xN}Ae.fromWeb=function(t,e){return EY().newStreamReadableFromReadableStream(t,e)};Ae.toWeb=function(t,e){return EY().newReadableStreamFromStreamReadable(t,e)};Ae.wrap=function(t,e){var r,n;return new Ae({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){Dl.destroyer(t,i),s(i)}}).wrap(t)}});var qT=O((yMe,OY)=>{"use strict";var Wo=Xe(),{ArrayPrototypeSlice:pY,Error:dpe,FunctionPrototypeSymbolHasInstance:SY,ObjectDefineProperty:RY,ObjectDefineProperties:Epe,ObjectSetPrototypeOf:AY,StringPrototypeToLowerCase:fpe,Symbol:hpe,SymbolHasInstance:Tpe}=lt();OY.exports=ht;ht.WritableState=ad;var{EventEmitter:ppe}=require("events"),sd=MT().Stream,{Buffer:YT}=require("buffer"),VT=Go(),{addAbortSignal:Spe}=td(),{getHighWaterMark:Rpe,getDefaultHighWaterMark:Ape}=rd(),{ERR_INVALID_ARG_TYPE:_pe,ERR_METHOD_NOT_IMPLEMENTED:Ipe,ERR_MULTIPLE_CALLBACK:_Y,ERR_STREAM_CANNOT_PIPE:mpe,ERR_STREAM_DESTROYED:od,ERR_STREAM_ALREADY_FINISHED:Npe,ERR_STREAM_NULL_VALUES:gpe,ERR_STREAM_WRITE_AFTER_END:Ope,ERR_UNKNOWN_ENCODING:IY}=Cr().codes,{errorOrDestroy:Pl}=VT;AY(ht.prototype,sd.prototype);AY(ht,sd);function GN(){}var xl=hpe("kOnFinished");function ad(t,e,r){typeof r!="boolean"&&(r=e instanceof ci()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?Rpe(this,t,"writableHighWaterMark",r):Ape(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=bpe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,kT(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[xl]=[]}function kT(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}ad.prototype.getBuffer=function(){return pY(this.buffered,this.bufferedIndex)};RY(ad.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ht(t){let e=this instanceof ci();if(!e&&!SY(ht,this))return new ht(t);this._writableState=new ad(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Spe(t.signal,this)),sd.call(this,t),VT.construct(this,()=>{let r=this._writableState;r.writing||WN(this,r),YN(this,r)})}RY(ht,Tpe,{__proto__:null,value:function(t){return SY(this,t)?!0:this!==ht?!1:t&&t._writableState instanceof ad}});ht.prototype.pipe=function(){Pl(this,new mpe)};function mY(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!YT.isEncoding(r))throw new IY(r);typeof n!="function"&&(n=GN)}if(e===null)throw new gpe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=YT.from(e,r),r="buffer");else if(e instanceof YT)r="buffer";else if(sd._isUint8Array(e))e=sd._uint8ArrayToBuffer(e),r="buffer";else throw new _pe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new Ope:i.destroyed&&(s=new od("write")),s?(Wo.nextTick(n,s),Pl(t,s,!0),s):(i.pendingcb++,Cpe(t,i,e,r,n))}ht.prototype.write=function(t,e,r){return mY(this,t,e,r)===!0};ht.prototype.cork=function(){this._writableState.corked++};ht.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||WN(this,t))};ht.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=fpe(e)),!YT.isEncoding(e))throw new IY(e);return this._writableState.defaultEncoding=e,this};function Cpe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==GN&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function hY(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new od("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function TY(t,e,r,n){--e.pendingcb,n(r),HN(e),Pl(t,r)}function bpe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Pl(t,new _Y);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Wo.nextTick(TY,t,r,e,i):TY(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&WN(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Wo.nextTick(ype,r.afterWriteTickInfo)):NY(t,r,1,i))}function ype({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,NY(t,e,r,n)}function NY(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&HN(e),YN(t,e)}function HN(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new od("write"))}let r=t[xl].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new od("end"))}kT(t)}function WN(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?GN:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:pY(r,o);l.allBuffers=e.allBuffers,hY(t,e,!0,e.length,l,"",a),kT(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;hY(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?kT(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}ht.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Ipe("_write()")};ht.prototype._writev=null;ht.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=mY(this,t,e);s instanceof dpe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,YN(this,n,!0),n.ended=!0):n.finished?i=new Npe("end"):n.destroyed&&(i=new od("end"))),typeof r=="function"&&(i||n.finished?Wo.nextTick(r,i):n[xl].push(r)),this};function $T(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function wpe(t,e){let r=!1;function n(i){if(r){Pl(t,i??_Y());return}if(r=!0,e.pendingcb--,i){let s=e[xl].splice(0);for(let o=0;o<s.length;o++)s[o](i);Pl(t,i,e.sync)}else $T(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Wo.nextTick(FN,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Lpe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,wpe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function YN(t,e,r){$T(e)&&(Lpe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Wo.nextTick((n,i)=>{$T(i)?FN(n,i):i.pendingcb--},t,e)):$T(e)&&(e.pendingcb++,FN(t,e))))}function FN(t,e){e.pendingcb--,e.finished=!0;let r=e[xl].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Epe(ht.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Dpe=VT.destroy;ht.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[xl].length)&&Wo.nextTick(HN,r),Dpe.call(this,t,e),this};ht.prototype._undestroy=VT.undestroy;ht.prototype._destroy=function(t,e){e(t)};ht.prototype[ppe.captureRejectionSymbol]=function(t){this.destroy(t)};var BN;function gY(){return BN===void 0&&(BN={}),BN}ht.fromWeb=function(t,e){return gY().newStreamWritableFromWritableStream(t,e)};ht.toWeb=function(t){return gY().newWritableStreamFromStreamWritable(t)}});var HY=O((wMe,GY)=>{var $N=Xe(),Ppe=require("buffer"),{isReadable:xpe,isWritable:Mpe,isIterable:CY,isNodeStream:vpe,isReadableNodeStream:bY,isWritableNodeStream:yY,isDuplexNodeStream:Upe,isReadableStream:wY,isWritableStream:LY}=ai(),DY=Vi(),{AbortError:BY,codes:{ERR_INVALID_ARG_TYPE:Bpe,ERR_INVALID_RETURN_VALUE:PY}}=Cr(),{destroyer:vl}=Go(),Fpe=ci(),FY=id(),Gpe=qT(),{createDeferredPromise:xY}=Br(),MY=yN(),vY=globalThis.Blob||Ppe.Blob,Hpe=typeof vY<"u"?function(e){return e instanceof vY}:function(e){return!1},Wpe=globalThis.AbortController||Ct().AbortController,{FunctionPrototypeCall:UY}=lt(),xs=class extends Fpe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};GY.exports=function t(e,r){if(Upe(e))return e;if(bY(e))return Ml({readable:e});if(yY(e))return Ml({writable:e});if(vpe(e))return Ml({writable:!1,readable:!1});if(wY(e))return Ml({readable:FY.fromWeb(e)});if(LY(e))return Ml({writable:Gpe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=Ype(e);if(CY(i))return MY(xs,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=UY(l,i,d=>{if(d!=null)throw new PY("nully","body",d)},d=>{vl(c,d)});return c=new xs({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,$N.nextTick(d,null)}catch(f){$N.nextTick(d,f)}})},destroy:a})}throw new PY("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Hpe(e))return t(e.arrayBuffer());if(CY(e))return MY(xs,e,{objectMode:!0,writable:!1});if(wY(e?.readable)&&LY(e?.writable))return xs.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?bY(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?yY(e?.writable)?e?.writable:t(e.writable):void 0;return Ml({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return UY(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{vl(i,s)}),i=new xs({objectMode:!0,writable:!1,read(){}})}throw new Bpe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Ype(t){let{promise:e,resolve:r}=xY(),n=new Wpe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if($N.nextTick(c),l)return;if(i.aborted)throw new BY(void 0,{cause:i.reason});({promise:e,resolve:r}=xY()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Ml(t){let e=t.readable&&typeof t.readable.read!="function"?FY.wrap(t.readable):t.readable,r=t.writable,n=!!xpe(e),i=!!Mpe(r),s,o,a,l,c;function u(d){let f=l;l=null,f?f(d):d&&c.destroy(d)}return c=new xs({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(DY(r,d=>{i=!1,d&&vl(e,d),u(d)}),c._write=function(d,f,E){r.write(d,f)?E():s=E},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(DY(e,d=>{n=!1,d&&vl(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,f){!d&&l!==null&&(d=new BY),a=null,s=null,o=null,l===null?f(d):(l=f,vl(r,d),vl(e,d))},c}});var ci=O((LMe,$Y)=>{"use strict";var{ObjectDefineProperties:$pe,ObjectGetOwnPropertyDescriptor:qi,ObjectKeys:kpe,ObjectSetPrototypeOf:WY}=lt();$Y.exports=Pn;var qN=id(),pn=qT();WY(Pn.prototype,qN.prototype);WY(Pn,qN);{let t=kpe(pn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Pn.prototype[r]||(Pn.prototype[r]=pn.prototype[r])}}function Pn(t){if(!(this instanceof Pn))return new Pn(t);qN.call(this,t),pn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}$pe(Pn.prototype,{writable:{__proto__:null,...qi(pn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...qi(pn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...qi(pn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...qi(pn.prototype,"writableBuffer")},writableLength:{__proto__:null,...qi(pn.prototype,"writableLength")},writableFinished:{__proto__:null,...qi(pn.prototype,"writableFinished")},writableCorked:{__proto__:null,...qi(pn.prototype,"writableCorked")},writableEnded:{__proto__:null,...qi(pn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...qi(pn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var kN;function YY(){return kN===void 0&&(kN={}),kN}Pn.fromWeb=function(t,e){return YY().newStreamDuplexFromReadableWritablePair(t,e)};Pn.toWeb=function(t){return YY().newReadableWritablePairFromDuplex(t)};var VN;Pn.from=function(t){return VN||(VN=HY()),VN(t,"body")}});var KN=O((DMe,VY)=>{"use strict";var{ObjectSetPrototypeOf:kY,Symbol:Vpe}=lt();VY.exports=Xi;var{ERR_METHOD_NOT_IMPLEMENTED:qpe}=Cr().codes,jN=ci(),{getHighWaterMark:Xpe}=rd();kY(Xi.prototype,jN.prototype);kY(Xi,jN);var ld=Vpe("kCallback");function Xi(t){if(!(this instanceof Xi))return new Xi(t);let e=t?Xpe(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),jN.call(this,t),this._readableState.sync=!1,this[ld]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",jpe)}function XN(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function jpe(){this._final!==XN&&XN.call(this)}Xi.prototype._final=XN;Xi.prototype._transform=function(t,e,r){throw new qpe("_transform()")};Xi.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[ld]=r})};Xi.prototype._read=function(){if(this[ld]){let t=this[ld];this[ld]=null,t()}}});var JN=O((PMe,XY)=>{"use strict";var{ObjectSetPrototypeOf:qY}=lt();XY.exports=Ul;var zN=KN();qY(Ul.prototype,zN.prototype);qY(Ul,zN);function Ul(t){if(!(this instanceof Ul))return new Ul(t);zN.call(this,t)}Ul.prototype._transform=function(t,e,r){r(null,t)}});var zT=O((xMe,QY)=>{var cd=Xe(),{ArrayIsArray:Kpe,Promise:zpe,SymbolAsyncIterator:Jpe,SymbolDispose:Qpe}=lt(),KT=Vi(),{once:Zpe}=Br(),eSe=Go(),jY=ci(),{aggregateTwoErrors:tSe,codes:{ERR_INVALID_ARG_TYPE:og,ERR_INVALID_RETURN_VALUE:QN,ERR_MISSING_ARGS:rSe,ERR_STREAM_DESTROYED:nSe,ERR_STREAM_PREMATURE_CLOSE:iSe},AbortError:sSe}=Cr(),{validateFunction:oSe,validateAbortSignal:aSe}=bl(),{isIterable:Yo,isReadable:ZN,isReadableNodeStream:jT,isNodeStream:KY,isTransformStream:Bl,isWebStream:lSe,isReadableStream:eg,isReadableFinished:cSe}=ai(),uSe=globalThis.AbortController||Ct().AbortController,tg,rg,ng;function zY(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=KT(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,eSe.destroyer(t,s||new nSe("pipe")))},cleanup:i}}function dSe(t){return oSe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function ig(t){if(Yo(t))return t;if(jT(t))return ESe(t);throw new og("val",["Readable","Iterable","AsyncIterable"],t)}async function*ESe(t){rg||(rg=id()),yield*rg.prototype[Jpe].call(t)}async function XT(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new zpe((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=KT(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?tSe(i,c):c)}finally{l(),e.off("drain",o)}}async function sg(t,e,r,{end:n}){Bl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function fSe(...t){return JY(t,Zpe(dSe(t)))}function JY(t,e,r){if(t.length===1&&Kpe(t[0])&&(t=t[0]),t.length<2)throw new rSe("streams");let n=new uSe,i=n.signal,s=r?.signal,o=[];aSe(s,"options.signal");function a(){T(new sSe)}ng=ng||Br().addAbortListener;let l;s&&(l=ng(s,a));let c,u,d=[],f=0;function E(R){T(R,--f===0)}function T(R,A){var N;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;d.length;)d.shift()(c);(N=l)===null||N===void 0||N[Qpe](),n.abort(),A&&(c||o.forEach(w=>w()),cd.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],N=R<t.length-1,w=R>0,m=N||r?.end!==!1,D=R===t.length-1;if(KY(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&E(P)};var I=y;if(m){let{destroy:P,cleanup:M}=zY(A,N,w);d.push(P),ZN(A)&&D&&o.push(M)}A.on("error",y),ZN(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!Yo(h))throw new QN("Iterable, AsyncIterable or Stream","source",h)}else Yo(A)||jT(A)||Bl(A)?h=A:h=jY.from(A);else if(typeof A=="function"){if(Bl(h)){var p;h=ig((p=h)===null||p===void 0?void 0:p.readable)}else h=ig(h);if(h=A(h,{signal:i}),N){if(!Yo(h,!0))throw new QN("AsyncIterable",`transform[${R-1}]`,h)}else{var S;tg||(tg=JN());let y=new tg({objectMode:!0}),P=(S=h)===null||S===void 0?void 0:S.then;if(typeof P=="function")f++,P.call(h,G=>{u=G,G!=null&&y.write(G),m&&y.end(),cd.nextTick(E)},G=>{y.destroy(G),cd.nextTick(E,G)});else if(Yo(h,!0))f++,XT(h,y,E,{end:m});else if(eg(h)||Bl(h)){let G=h.readable||h;f++,XT(G,y,E,{end:m})}else throw new QN("AsyncIterable or Promise","destination",h);h=y;let{destroy:M,cleanup:B}=zY(h,!1,!0);d.push(M),D&&o.push(B)}}else if(KY(A)){if(jT(h)){f+=2;let y=hSe(h,A,E,{end:m});ZN(A)&&D&&o.push(y)}else if(Bl(h)||eg(h)){let y=h.readable||h;f++,XT(y,A,E,{end:m})}else if(Yo(h))f++,XT(h,A,E,{end:m});else throw new og("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(lSe(A)){if(jT(h))f++,sg(ig(h),A,E,{end:m});else if(eg(h)||Yo(h))f++,sg(h,A,E,{end:m});else if(Bl(h))f++,sg(h.readable,A,E,{end:m});else throw new og("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=jY.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&cd.nextTick(a),h}function hSe(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new iSe)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;cSe(t)?cd.nextTick(o):t.once("end",o)}else r();return KT(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),KT(e,{readable:!1,writable:!0},r)}QY.exports={pipelineImpl:JY,pipeline:fSe}});var lg=O((MMe,i$)=>{"use strict";var{pipeline:TSe}=zT(),JT=ci(),{destroyer:pSe}=Go(),{isNodeStream:QT,isReadable:ZY,isWritable:e$,isWebStream:ag,isTransformStream:$o,isWritableStream:t$,isReadableStream:r$}=ai(),{AbortError:SSe,codes:{ERR_INVALID_ARG_VALUE:n$,ERR_MISSING_ARGS:RSe}}=Cr(),ASe=Vi();i$.exports=function(...e){if(e.length===0)throw new RSe("streams");if(e.length===1)return JT.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=JT.from(e[0])),typeof e[e.length-1]=="function"){let E=e.length-1;e[E]=JT.from(e[E])}for(let E=0;E<e.length;++E)if(!(!QT(e[E])&&!ag(e[E]))){if(E<e.length-1&&!(ZY(e[E])||r$(e[E])||$o(e[E])))throw new n$(`streams[${E}]`,r[E],"must be readable");if(E>0&&!(e$(e[E])||t$(e[E])||$o(e[E])))throw new n$(`streams[${E}]`,r[E],"must be writable")}let n,i,s,o,a;function l(E){let T=o;o=null,T?T(E):E?a.destroy(E):!f&&!d&&a.destroy()}let c=e[0],u=TSe(e,l),d=!!(e$(c)||t$(c)||$o(c)),f=!!(ZY(u)||r$(u)||$o(u));if(a=new JT({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:f}),d){if(QT(c))a._write=function(T,h,p){c.write(T,h)?p():n=p},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(ag(c)){let h=($o(c)?c.writable:c).getWriter();a._write=async function(p,S,I){try{await h.ready,h.write(p).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(p){try{await h.ready,h.close().catch(()=>{}),i=p}catch(S){p(S)}}}let E=$o(u)?u.readable:u;ASe(E,()=>{if(i){let T=i;i=null,T()}})}if(f){if(QT(u))u.on("readable",function(){if(s){let E=s;s=null,E()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let E=u.read();if(E===null){s=a._read;return}if(!a.push(E))return}};else if(ag(u)){let T=($o(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:p}=await T.read();if(!a.push(h))return;if(p){a.push(null);return}}catch{return}}}}return a._destroy=function(E,T){!E&&o!==null&&(E=new SSe),s=null,n=null,i=null,o===null?T(E):(o=T,QT(u)&&pSe(u,E))},a}});var h$=O((vMe,dg)=>{"use strict";var _Se=globalThis.AbortController||Ct().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ISe,ERR_INVALID_ARG_TYPE:ud,ERR_MISSING_ARGS:mSe,ERR_OUT_OF_RANGE:NSe},AbortError:ui}=Cr(),{validateAbortSignal:ko,validateInteger:s$,validateObject:Vo}=bl(),gSe=lt().Symbol("kWeak"),OSe=lt().Symbol("kResistStopPropagation"),{finished:CSe}=Vi(),bSe=lg(),{addAbortSignalNoValidate:ySe}=td(),{isWritable:wSe,isNodeStream:LSe}=ai(),{deprecate:DSe}=Br(),{ArrayPrototypePush:PSe,Boolean:xSe,MathFloor:o$,Number:MSe,NumberIsNaN:vSe,Promise:a$,PromiseReject:l$,PromiseResolve:USe,PromisePrototypeThen:c$,Symbol:d$}=lt(),ZT=d$("kEmpty"),u$=d$("kEof");function BSe(t,e){if(e!=null&&Vo(e,"options"),e?.signal!=null&&ko(e.signal,"options.signal"),LSe(t)&&!wSe(t))throw new ISe("stream",t,"must be writable");let r=bSe(this,t);return e!=null&&e.signal&&ySe(e.signal,r),r}function ep(t,e){if(typeof t!="function")throw new ud("fn",["Function","AsyncFunction"],t);e!=null&&Vo(e,"options"),e?.signal!=null&&ko(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=o$(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=o$(e.highWaterMark)),s$(r,"options.concurrency",1),s$(n,"options.highWaterMark",0),n+=r,async function*(){let s=Br().AbortSignalAny([e?.signal].filter(xSe)),o=this,a=[],l={signal:s},c,u,d=!1,f=0;function E(){d=!0,T()}function T(){f-=1,h()}function h(){u&&!d&&f<r&&a.length<n&&(u(),u=null)}async function p(){try{for await(let S of o){if(d)return;if(s.aborted)throw new ui;try{if(S=t(S,l),S===ZT)continue;S=USe(S)}catch(I){S=l$(I)}f+=1,c$(S,T,E),a.push(S),c&&(c(),c=null),!d&&(a.length>=n||f>=r)&&await new a$(I=>{u=I})}a.push(u$)}catch(S){let I=l$(S);c$(I,T,E),a.push(I)}finally{d=!0,c&&(c(),c=null)}}p();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===u$)return;if(s.aborted)throw new ui;S!==ZT&&(yield S),a.shift(),h()}await new a$(S=>{c=S})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function FSe(t=void 0){return t!=null&&Vo(t,"options"),t?.signal!=null&&ko(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ui({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function E$(t,e=void 0){for await(let r of ug.call(this,t,e))return!0;return!1}async function GSe(t,e=void 0){if(typeof t!="function")throw new ud("fn",["Function","AsyncFunction"],t);return!await E$.call(this,async(...r)=>!await t(...r),e)}async function HSe(t,e){for await(let r of ug.call(this,t,e))return r}async function WSe(t,e){if(typeof t!="function")throw new ud("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),ZT}for await(let n of ep.call(this,r,e));}function ug(t,e){if(typeof t!="function")throw new ud("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:ZT}return ep.call(this,r,e)}var cg=class extends mSe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function YSe(t,e,r){var n;if(typeof t!="function")throw new ud("reducer",["Function","AsyncFunction"],t);r!=null&&Vo(r,"options"),r?.signal!=null&&ko(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new ui(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await CSe(this.destroy(c)),c}let s=new _Se,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[gSe]:this,[OSe]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new ui;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new cg}finally{s.abort()}return e}async function $Se(t){t!=null&&Vo(t,"options"),t?.signal!=null&&ko(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new ui(void 0,{cause:t.signal.reason});PSe(e,n)}return e}function kSe(t,e){let r=ep.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function f$(t){if(t=MSe(t),vSe(t))return 0;if(t<0)throw new NSe("number",">= 0",t);return t}function VSe(t,e=void 0){return e!=null&&Vo(e,"options"),e?.signal!=null&&ko(e.signal,"options.signal"),t=f$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ui;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ui;t--<=0&&(yield s)}}.call(this)}function qSe(t,e=void 0){return e!=null&&Vo(e,"options"),e?.signal!=null&&ko(e.signal,"options.signal"),t=f$(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ui;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new ui;if(t-- >0&&(yield s),t<=0)return}}.call(this)}dg.exports.streamReturningOperators={asIndexedPairs:DSe(FSe,"readable.asIndexedPairs will be removed in a future version."),drop:VSe,filter:ug,flatMap:kSe,map:ep,take:qSe,compose:BSe};dg.exports.promiseReturningOperators={every:GSe,forEach:WSe,reduce:YSe,toArray:$Se,some:E$,find:HSe}});var Eg=O((UMe,T$)=>{"use strict";var{ArrayPrototypePop:XSe,Promise:jSe}=lt(),{isIterable:KSe,isNodeStream:zSe,isWebStream:JSe}=ai(),{pipelineImpl:QSe}=zT(),{finished:ZSe}=Vi();fg();function eRe(...t){return new jSe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!zSe(s)&&!KSe(s)&&!JSe(s)){let o=XSe(t);n=o.signal,i=o.end}QSe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}T$.exports={finished:ZSe,pipeline:eRe}});var fg=O((BMe,g$)=>{"use strict";var{Buffer:tRe}=require("buffer"),{ObjectDefineProperty:ji,ObjectKeys:R$,ReflectApply:A$}=lt(),{promisify:{custom:_$}}=Br(),{streamReturningOperators:p$,promiseReturningOperators:S$}=h$(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:I$}}=Cr(),rRe=lg(),{setDefaultHighWaterMark:nRe,getDefaultHighWaterMark:iRe}=rd(),{pipeline:m$}=zT(),{destroyer:sRe}=Go(),N$=Vi(),hg=Eg(),dd=ai(),nt=g$.exports=MT().Stream;nt.isDestroyed=dd.isDestroyed;nt.isDisturbed=dd.isDisturbed;nt.isErrored=dd.isErrored;nt.isReadable=dd.isReadable;nt.isWritable=dd.isWritable;nt.Readable=id();for(let t of R$(p$)){let r=function(...n){if(new.target)throw I$();return nt.Readable.from(A$(e,this,n))},e=p$[t];ji(r,"name",{__proto__:null,value:e.name}),ji(r,"length",{__proto__:null,value:e.length}),ji(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of R$(S$)){let r=function(...n){if(new.target)throw I$();return A$(e,this,n)},e=S$[t];ji(r,"name",{__proto__:null,value:e.name}),ji(r,"length",{__proto__:null,value:e.length}),ji(nt.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}nt.Writable=qT();nt.Duplex=ci();nt.Transform=KN();nt.PassThrough=JN();nt.pipeline=m$;var{addAbortSignal:oRe}=td();nt.addAbortSignal=oRe;nt.finished=N$;nt.destroy=sRe;nt.compose=rRe;nt.setDefaultHighWaterMark=nRe;nt.getDefaultHighWaterMark=iRe;ji(nt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return hg}});ji(m$,_$,{__proto__:null,enumerable:!0,get(){return hg.pipeline}});ji(N$,_$,{__proto__:null,enumerable:!0,get(){return hg.finished}});nt.Stream=nt;nt._isUint8Array=function(e){return e instanceof Uint8Array};nt._uint8ArrayToBuffer=function(e){return tRe.from(e.buffer,e.byteOffset,e.byteLength)}});var Tg=O((FMe,be)=>{"use strict";var Ht=require("stream");if(Ht&&process.env.READABLE_STREAM==="disable"){let t=Ht.promises;be.exports._uint8ArrayToBuffer=Ht._uint8ArrayToBuffer,be.exports._isUint8Array=Ht._isUint8Array,be.exports.isDisturbed=Ht.isDisturbed,be.exports.isErrored=Ht.isErrored,be.exports.isReadable=Ht.isReadable,be.exports.Readable=Ht.Readable,be.exports.Writable=Ht.Writable,be.exports.Duplex=Ht.Duplex,be.exports.Transform=Ht.Transform,be.exports.PassThrough=Ht.PassThrough,be.exports.addAbortSignal=Ht.addAbortSignal,be.exports.finished=Ht.finished,be.exports.destroy=Ht.destroy,be.exports.pipeline=Ht.pipeline,be.exports.compose=Ht.compose,Object.defineProperty(Ht,"promises",{configurable:!0,enumerable:!0,get(){return t}}),be.exports.Stream=Ht.Stream}else{let t=fg(),e=Eg(),r=t.Readable.destroy;be.exports=t.Readable,be.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,be.exports._isUint8Array=t._isUint8Array,be.exports.isDisturbed=t.isDisturbed,be.exports.isErrored=t.isErrored,be.exports.isReadable=t.isReadable,be.exports.Readable=t.Readable,be.exports.Writable=t.Writable,be.exports.Duplex=t.Duplex,be.exports.Transform=t.Transform,be.exports.PassThrough=t.PassThrough,be.exports.addAbortSignal=t.addAbortSignal,be.exports.finished=t.finished,be.exports.destroy=t.destroy,be.exports.destroy=r,be.exports.pipeline=t.pipeline,be.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),be.exports.Stream=t.Stream}be.exports.default=be.exports});var pg=O((HMe,O$)=>{var GMe=require("stream").Stream,aRe=Tg().PassThrough,lRe=lf(),cRe=O$.exports={};cRe.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(lRe(t)&&!t._readableState){var e=new aRe;return t.pipe(e),e}return t}});var Rg=O((WMe,C$)=>{var uRe=require("util").inherits,dRe=lf(),Sg=Tg().Transform,ERe=gT(),fRe=pg(),Kr=C$.exports=function(t){if(!(this instanceof Kr))return new Kr(t);Sg.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};uRe(Kr,Sg);Kr.prototype._appendBuffer=function(t,e,r){};Kr.prototype._appendStream=function(t,e,r){};Kr.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};Kr.prototype._finish=function(t){};Kr.prototype._normalizeEntry=function(t){};Kr.prototype._transform=function(t,e,r){r(null,t)};Kr.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof ERe)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=fRe.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(dRe(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};Kr.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};Kr.prototype.getBytesWritten=function(){return this.offset};Kr.prototype.write=function(t,e){return t&&(this.offset+=t.length),Sg.prototype.write.call(this,t,e)}});var tp=O(Ag=>{var b$;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof Ag=="object"?t(Ag):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(b$={}):t(b$={})})(function(t){t.version="1.2.2";function e(){for(var m=0,D=new Array(256),y=0;y!=256;++y)m=y,m=m&1?-306674912^m>>>1:m>>>1,m=m&1?-306674912^m>>>1:m>>>1,m=m&1?-306674912^m>>>1:m>>>1,m=m&1?-306674912^m>>>1:m>>>1,m=m&1?-306674912^m>>>1:m>>>1,m=m&1?-306674912^m>>>1:m>>>1,m=m&1?-306674912^m>>>1:m>>>1,m=m&1?-306674912^m>>>1:m>>>1,D[y]=m;return typeof Int32Array<"u"?new Int32Array(D):D}var r=e();function n(m){var D=0,y=0,P=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)M[P]=m[P];for(P=0;P!=256;++P)for(y=m[P],D=256+P;D<4096;D+=256)y=M[D]=y>>>8^m[y&255];var B=[];for(P=1;P!=16;++P)B[P-1]=typeof Int32Array<"u"?M.subarray(P*256,P*256+256):M.slice(P*256,P*256+256);return B}var i=n(r),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],E=i[8],T=i[9],h=i[10],p=i[11],S=i[12],I=i[13],R=i[14];function A(m,D){for(var y=D^-1,P=0,M=m.length;P<M;)y=y>>>8^r[(y^m.charCodeAt(P++))&255];return~y}function N(m,D){for(var y=D^-1,P=m.length-15,M=0;M<P;)y=R[m[M++]^y&255]^I[m[M++]^y>>8&255]^S[m[M++]^y>>16&255]^p[m[M++]^y>>>24]^h[m[M++]]^T[m[M++]]^E[m[M++]]^f[m[M++]]^d[m[M++]]^u[m[M++]]^c[m[M++]]^l[m[M++]]^a[m[M++]]^o[m[M++]]^s[m[M++]]^r[m[M++]];for(P+=15;M<P;)y=y>>>8^r[(y^m[M++])&255];return~y}function w(m,D){for(var y=D^-1,P=0,M=m.length,B=0,G=0;P<M;)B=m.charCodeAt(P++),B<128?y=y>>>8^r[(y^B)&255]:B<2048?(y=y>>>8^r[(y^(192|B>>6&31))&255],y=y>>>8^r[(y^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,G=m.charCodeAt(P++)&1023,y=y>>>8^r[(y^(240|B>>8&7))&255],y=y>>>8^r[(y^(128|B>>2&63))&255],y=y>>>8^r[(y^(128|G>>6&15|(B&3)<<4))&255],y=y>>>8^r[(y^(128|G&63))&255]):(y=y>>>8^r[(y^(224|B>>12&15))&255],y=y>>>8^r[(y^(128|B>>6&63))&255],y=y>>>8^r[(y^(128|B&63))&255]);return~y}t.table=r,t.bstr=A,t.buf=N,t.str=w})});var ct=O(($Me,y$)=>{"use strict";var _g=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};y$.exports={AggregateError:_g,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var Ig=O((kMe,w$)=>{"use strict";w$.exports={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}});var yr=O((VMe,P$)=>{"use strict";var{format:hRe,inspect:rp}=Ig(),{AggregateError:TRe}=ct(),pRe=globalThis.AggregateError||TRe,SRe=Symbol("kIsNodeError"),RRe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],ARe=/^([A-Z][a-z0-9]*)+$/,_Re="__node_internal_",np={};function qo(t,e){if(!t)throw new np.ERR_INTERNAL_ASSERTION(e)}function L$(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function IRe(t,e,r){if(typeof e=="function")return qo(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return qo(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:hRe(e,...r)}function hr(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(IRe(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[SRe]=!0,np[t]=n}function D$(t){let e=_Re+t.name;return Object.defineProperty(t,"name",{value:e}),t}function mRe(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new pRe([e,t],e.message);return r.code=e.code,r}return t||e}var mg=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new np.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};hr("ERR_ASSERTION","%s",Error);hr("ERR_INVALID_ARG_TYPE",(t,e,r)=>{qo(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of e)qo(typeof l=="string","All expected entries have to be of type string"),RRe.includes(l)?i.push(l.toLowerCase()):ARe.test(l)?s.push(l):(qo(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=rp(r,{depth:-1});n+=`. Received ${l}`}}else{let l=rp(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);hr("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=rp(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);hr("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);hr("ERR_MISSING_ARGS",(...t)=>{qo(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);hr("ERR_OUT_OF_RANGE",(t,e,r)=>{qo(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=L$(String(r));else if(typeof r=="bigint"){n=String(r);let i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=L$(n)),n+="n"}else n=rp(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);hr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);hr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);hr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);hr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);hr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);hr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);hr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);hr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);hr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);hr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);hr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);P$.exports={AbortError:mg,aggregateTwoErrors:D$(mRe),hideStackFrames:D$,codes:np}});var Fr=O((qMe,gg)=>{"use strict";var NRe=require("buffer"),{format:gRe,inspect:ORe}=Ig(),{codes:{ERR_INVALID_ARG_TYPE:Ng}}=yr(),{kResistStopPropagation:CRe,AggregateError:bRe,SymbolDispose:yRe}=ct(),wRe=globalThis.AbortSignal||Ct().AbortSignal,LRe=globalThis.AbortController||Ct().AbortController,DRe=Object.getPrototypeOf(async function(){}).constructor,x$=globalThis.Blob||NRe.Blob,PRe=typeof x$<"u"?function(e){return e instanceof x$}:function(e){return!1},M$=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Ng(e,"AbortSignal",t)},xRe=(t,e)=>{if(typeof t!="function")throw new Ng(e,"Function",t)};gg.exports={AggregateError:bRe,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format:gRe,inspect:ORe,types:{isAsyncFunction(t){return t instanceof DRe},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:PRe,deprecate(t,e){return t},addAbortListener:require("events").addAbortListener||function(e,r){if(e===void 0)throw new Ng("signal","AbortSignal",e);M$(e,"signal"),xRe(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[CRe]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[yRe](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:wRe.any||function(e){if(e.length===1)return e[0];let r=new LRe,n=()=>r.abort();return e.forEach(i=>{M$(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};gg.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Gl=O((XMe,k$)=>{"use strict";var{ArrayIsArray:Cg,ArrayPrototypeIncludes:F$,ArrayPrototypeJoin:G$,ArrayPrototypeMap:MRe,NumberIsInteger:bg,NumberIsNaN:vRe,NumberMAX_SAFE_INTEGER:URe,NumberMIN_SAFE_INTEGER:BRe,NumberParseInt:FRe,ObjectPrototypeHasOwnProperty:GRe,RegExpPrototypeExec:H$,String:HRe,StringPrototypeToUpperCase:WRe,StringPrototypeTrim:YRe}=ct(),{hideStackFrames:Sn,codes:{ERR_SOCKET_BAD_PORT:$Re,ERR_INVALID_ARG_TYPE:wr,ERR_INVALID_ARG_VALUE:Fl,ERR_OUT_OF_RANGE:Xo,ERR_UNKNOWN_SIGNAL:v$}}=yr(),{normalizeEncoding:kRe}=Fr(),{isAsyncFunction:VRe,isArrayBufferView:qRe}=Fr().types,U$={};function XRe(t){return t===(t|0)}function jRe(t){return t===t>>>0}var KRe=/^[0-7]+$/,zRe="must be a 32-bit unsigned integer or an octal string";function JRe(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(H$(KRe,t)===null)throw new Fl(e,t,zRe);t=FRe(t,8)}return W$(t,e),t}var QRe=Sn((t,e,r=BRe,n=URe)=>{if(typeof t!="number")throw new wr(e,"number",t);if(!bg(t))throw new Xo(e,"an integer",t);if(t<r||t>n)throw new Xo(e,`>= ${r} && <= ${n}`,t)}),ZRe=Sn((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new wr(e,"number",t);if(!bg(t))throw new Xo(e,"an integer",t);if(t<r||t>n)throw new Xo(e,`>= ${r} && <= ${n}`,t)}),W$=Sn((t,e,r=!1)=>{if(typeof t!="number")throw new wr(e,"number",t);if(!bg(t))throw new Xo(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Xo(e,`>= ${n} && <= ${i}`,t)});function yg(t,e){if(typeof t!="string")throw new wr(e,"string",t)}function eAe(t,e,r=void 0,n){if(typeof t!="number")throw new wr(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&vRe(t))throw new Xo(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var tAe=Sn((t,e,r)=>{if(!F$(r,t)){let i="must be one of: "+G$(MRe(r,s=>typeof s=="string"?`'${s}'`:HRe(s)),", ");throw new Fl(e,t,i)}});function Y$(t,e){if(typeof t!="boolean")throw new wr(e,"boolean",t)}function Og(t,e,r){return t==null||!GRe(t,e)?r:t[e]}var rAe=Sn((t,e,r=null)=>{let n=Og(r,"allowArray",!1),i=Og(r,"allowFunction",!1);if(!Og(r,"nullable",!1)&&t===null||!n&&Cg(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new wr(e,"Object",t)}),nAe=Sn((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new wr(e,"a dictionary",t)}),ip=Sn((t,e,r=0)=>{if(!Cg(t))throw new wr(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new Fl(e,t,n)}});function iAe(t,e){ip(t,e);for(let r=0;r<t.length;r++)yg(t[r],`${e}[${r}]`)}function sAe(t,e){ip(t,e);for(let r=0;r<t.length;r++)Y$(t[r],`${e}[${r}]`)}function oAe(t,e){ip(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new wr(i,"AbortSignal",n);$$(n,i)}}function aAe(t,e="signal"){if(yg(t,e),U$[t]===void 0)throw U$[WRe(t)]!==void 0?new v$(t+" (signals must use all capital letters)"):new v$(t)}var lAe=Sn((t,e="buffer")=>{if(!qRe(t))throw new wr(e,["Buffer","TypedArray","DataView"],t)});function cAe(t,e){let r=kRe(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Fl("encoding",e,`is invalid for data of length ${n}`)}function uAe(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&YRe(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new $Re(e,t,r);return t|0}var $$=Sn((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new wr(e,"AbortSignal",t)}),dAe=Sn((t,e)=>{if(typeof t!="function")throw new wr(e,"Function",t)}),EAe=Sn((t,e)=>{if(typeof t!="function"||VRe(t))throw new wr(e,"Function",t)}),fAe=Sn((t,e)=>{if(t!==void 0)throw new wr(e,"undefined",t)});function hAe(t,e,r){if(!F$(r,t))throw new wr(e,`('${G$(r,"|")}')`,t)}var TAe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function B$(t,e){if(typeof t>"u"||!H$(TAe,t))throw new Fl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function pAe(t){if(typeof t=="string")return B$(t,"hints"),t;if(Cg(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];B$(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new Fl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}k$.exports={isInt32:XRe,isUint32:jRe,parseFileMode:JRe,validateArray:ip,validateStringArray:iAe,validateBooleanArray:sAe,validateAbortSignalArray:oAe,validateBoolean:Y$,validateBuffer:lAe,validateDictionary:nAe,validateEncoding:cAe,validateFunction:dAe,validateInt32:ZRe,validateInteger:QRe,validateNumber:eAe,validateObject:rAe,validateOneOf:tAe,validatePlainFunction:EAe,validatePort:uAe,validateSignalName:aAe,validateString:yg,validateUint32:W$,validateUndefined:fAe,validateUnion:hAe,validateAbortSignal:$$,validateLinkHeaderValue:pAe}});var Ei=O((jMe,sk)=>{"use strict";var{SymbolAsyncIterator:V$,SymbolIterator:q$,SymbolFor:jo}=ct(),X$=jo("nodejs.stream.destroyed"),j$=jo("nodejs.stream.errored"),wg=jo("nodejs.stream.readable"),Lg=jo("nodejs.stream.writable"),K$=jo("nodejs.stream.disturbed"),SAe=jo("nodejs.webstream.isClosedPromise"),RAe=jo("nodejs.webstream.controllerErrorFunction");function sp(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function op(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function AAe(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function di(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function z$(t){return!!(t&&!di(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function J$(t){return!!(t&&!di(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function Q$(t){return!!(t&&!di(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function _Ae(t){return z$(t)||J$(t)||Q$(t)}function IAe(t,e){return t==null?!1:e===!0?typeof t[V$]=="function":e===!1?typeof t[q$]=="function":typeof t[V$]=="function"||typeof t[q$]=="function"}function ap(t){if(!di(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[X$]||n!=null&&n.destroyed)}function Z$(t){if(!op(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function mAe(t,e){if(!op(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function NAe(t){if(!sp(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function ek(t,e){if(!sp(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function tk(t){return t&&t[wg]!=null?t[wg]:typeof t?.readable!="boolean"?null:ap(t)?!1:sp(t)&&t.readable&&!ek(t)}function rk(t){return t&&t[Lg]!=null?t[Lg]:typeof t?.writable!="boolean"?null:ap(t)?!1:op(t)&&t.writable&&!Z$(t)}function gAe(t,e){return di(t)?ap(t)?!0:!(e?.readable!==!1&&tk(t)||e?.writable!==!1&&rk(t)):null}function OAe(t){var e,r;return di(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function CAe(t){var e,r;return di(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function bAe(t){if(!di(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&nk(t)?t._closed:null}function nk(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function ik(t){return typeof t._sent100=="boolean"&&nk(t)}function yAe(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function wAe(t){if(!di(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&ik(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function LAe(t){var e;return!!(t&&((e=t[K$])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function DAe(t){var e,r,n,i,s,o,a,l,c,u;return!!(t&&((e=(r=(n=(i=(s=(o=t[j$])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}sk.exports={isDestroyed:ap,kIsDestroyed:X$,isDisturbed:LAe,kIsDisturbed:K$,isErrored:DAe,kIsErrored:j$,isReadable:tk,kIsReadable:wg,kIsClosedPromise:SAe,kControllerErrorFunction:RAe,kIsWritable:Lg,isClosed:bAe,isDuplexNodeStream:AAe,isFinished:gAe,isIterable:IAe,isReadableNodeStream:sp,isReadableStream:z$,isReadableEnded:NAe,isReadableFinished:ek,isReadableErrored:CAe,isNodeStream:di,isWebStream:_Ae,isWritable:rk,isWritableNodeStream:op,isWritableStream:J$,isWritableEnded:Z$,isWritableFinished:mAe,isWritableErrored:OAe,isServerRequest:yAe,isServerResponse:ik,willEmitClose:wAe,isTransformStream:Q$}});var Ki=O((KMe,vg)=>{"use strict";var Ms=Xe(),{AbortError:hk,codes:PAe}=yr(),{ERR_INVALID_ARG_TYPE:xAe,ERR_STREAM_PREMATURE_CLOSE:ok}=PAe,{kEmptyObject:Pg,once:xg}=Fr(),{validateAbortSignal:MAe,validateFunction:vAe,validateObject:UAe,validateBoolean:BAe}=Gl(),{Promise:FAe,PromisePrototypeThen:GAe,SymbolDispose:Tk}=ct(),{isClosed:HAe,isReadable:ak,isReadableNodeStream:Dg,isReadableStream:WAe,isReadableFinished:lk,isReadableErrored:ck,isWritable:uk,isWritableNodeStream:dk,isWritableStream:YAe,isWritableFinished:Ek,isWritableErrored:fk,isNodeStream:$Ae,willEmitClose:kAe,kIsClosedPromise:VAe}=Ei(),Hl;function qAe(t){return t.setHeader&&typeof t.abort=="function"}var Mg=()=>{};function pk(t,e,r){var n,i;if(arguments.length===2?(r=e,e=Pg):e==null?e=Pg:UAe(e,"options"),vAe(r,"callback"),MAe(e.signal,"options.signal"),r=xg(r),WAe(t)||YAe(t))return XAe(t,e,r);if(!$Ae(t))throw new xAe("stream",["ReadableStream","WritableStream","Stream"],t);let s=(n=e.readable)!==null&&n!==void 0?n:Dg(t),o=(i=e.writable)!==null&&i!==void 0?i:dk(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||f()},u=kAe(t)&&Dg(t)===s&&dk(t)===o,d=Ek(t,!1),f=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||s))&&(!s||E)&&r.call(t)},E=lk(t,!1),T=()=>{E=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||o))&&(!o||d)&&r.call(t)},h=N=>{r.call(t,N)},p=HAe(t),S=()=>{p=!0;let N=fk(t)||ck(t);if(N&&typeof N!="boolean")return r.call(t,N);if(s&&!E&&Dg(t,!0)&&!lk(t,!1))return r.call(t,new ok);if(o&&!d&&!Ek(t,!1))return r.call(t,new ok);r.call(t)},I=()=>{p=!0;let N=fk(t)||ck(t);if(N&&typeof N!="boolean")return r.call(t,N);r.call(t)},R=()=>{t.req.on("finish",f)};qAe(t)?(t.on("complete",f),u||t.on("abort",S),t.req?R():t.on("request",R)):o&&!a&&(t.on("end",c),t.on("close",c)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",S),t.on("end",T),t.on("finish",f),e.error!==!1&&t.on("error",h),t.on("close",S),p?Ms.nextTick(S):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Ms.nextTick(I):(!s&&(!u||ak(t))&&(d||uk(t)===!1)||!o&&(!u||uk(t))&&(E||ak(t)===!1)||l&&t.req&&t.aborted)&&Ms.nextTick(I);let A=()=>{r=Mg,t.removeListener("aborted",S),t.removeListener("complete",f),t.removeListener("abort",S),t.removeListener("request",R),t.req&&t.req.removeListener("finish",f),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("end",T),t.removeListener("error",h),t.removeListener("close",S)};if(e.signal&&!p){let N=()=>{let w=r;A(),w.call(t,new hk(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ms.nextTick(N);else{Hl=Hl||Fr().addAbortListener;let w=Hl(e.signal,N),m=r;r=xg((...D)=>{w[Tk](),m.apply(t,D)})}}return A}function XAe(t,e,r){let n=!1,i=Mg;if(e.signal)if(i=()=>{n=!0,r.call(t,new hk(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ms.nextTick(i);else{Hl=Hl||Fr().addAbortListener;let o=Hl(e.signal,i),a=r;r=xg((...l)=>{o[Tk](),a.apply(t,l)})}let s=(...o)=>{n||Ms.nextTick(()=>r.apply(t,o))};return GAe(t[VAe].promise,s,s),Mg}function jAe(t,e){var r;let n=!1;return e===null&&(e=Pg),(r=e)!==null&&r!==void 0&&r.cleanup&&(BAe(e.cleanup,"cleanup"),n=e.cleanup),new FAe((i,s)=>{let o=pk(t,e,a=>{n&&o(),a?s(a):i()})})}vg.exports=pk;vg.exports.finished=jAe});var Ko=O((zMe,gk)=>{"use strict";var fi=Xe(),{aggregateTwoErrors:KAe,codes:{ERR_MULTIPLE_CALLBACK:zAe},AbortError:JAe}=yr(),{Symbol:Ak}=ct(),{kIsDestroyed:QAe,isDestroyed:ZAe,isFinished:e_e,isServerRequest:t_e}=Ei(),_k=Ak("kDestroy"),Ug=Ak("kConstruct");function Ik(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function r_e(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(Ik(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?Sk(this,t,e):this.once(_k,function(s){Sk(this,KAe(s,t),e)}),this)}function Sk(t,e,r){let n=!1;function i(s){if(n)return;n=!0;let o=t._readableState,a=t._writableState;Ik(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?fi.nextTick(n_e,t,s):fi.nextTick(mk,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function n_e(t,e){Bg(t,e),mk(t)}function mk(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Bg(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function i_e(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Fg(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?fi.nextTick(Bg,t,e):Bg(t,e))}function s_e(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Ug,e),!(t.listenerCount(Ug)>1)&&fi.nextTick(o_e,t)}function o_e(t){let e=!1;function r(n){if(e){Fg(t,n??new zAe);return}e=!0;let i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(_k,n):n?Fg(t,n,!0):fi.nextTick(a_e,t)}try{t._construct(n=>{fi.nextTick(r,n)})}catch(n){fi.nextTick(r,n)}}function a_e(t){t.emit(Ug)}function Rk(t){return t?.setHeader&&typeof t.abort=="function"}function Nk(t){t.emit("close")}function l_e(t,e){t.emit("error",e),fi.nextTick(Nk,t)}function c_e(t,e){!t||ZAe(t)||(!e&&!e_e(t)&&(e=new JAe),t_e(t)?(t.socket=null,t.destroy(e)):Rk(t)?t.abort():Rk(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?fi.nextTick(l_e,t,e):fi.nextTick(Nk,t),t.destroyed||(t[QAe]=!0))}gk.exports={construct:s_e,destroyer:c_e,destroy:r_e,undestroy:i_e,errorOrDestroy:Fg}});var up=O((JMe,Ck)=>{"use strict";var{ArrayIsArray:u_e,ObjectSetPrototypeOf:Ok}=ct(),{EventEmitter:lp}=require("events");function cp(t){lp.call(this,t)}Ok(cp.prototype,lp.prototype);Ok(cp,lp);cp.prototype.pipe=function(t,e){let r=this;function n(u){t.writable&&t.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(u){c(),lp.listenerCount(this,"error")===0&&this.emit("error",u)}Gg(r,"error",l),Gg(t,"error",l);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Gg(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):u_e(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}Ck.exports={Stream:cp,prependListener:Gg}});var Ed=O((QMe,dp)=>{"use strict";var{SymbolDispose:d_e}=ct(),{AbortError:bk,codes:E_e}=yr(),{isNodeStream:yk,isWebStream:f_e,kControllerErrorFunction:h_e}=Ei(),T_e=Ki(),{ERR_INVALID_ARG_TYPE:wk}=E_e,Hg,p_e=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new wk(e,"AbortSignal",t)};dp.exports.addAbortSignal=function(e,r){if(p_e(e,"signal"),!yk(r)&&!f_e(r))throw new wk("stream",["ReadableStream","WritableStream","Stream"],r);return dp.exports.addAbortSignalNoValidate(e,r)};dp.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=yk(e)?()=>{e.destroy(new bk(void 0,{cause:t.reason}))}:()=>{e[h_e](new bk(void 0,{cause:t.reason}))};if(t.aborted)r();else{Hg=Hg||Fr().addAbortListener;let n=Hg(t,r);T_e(e,n[d_e])}return e}});var Pk=O((eve,Dk)=>{"use strict";var{StringPrototypeSlice:Lk,SymbolIterator:S_e,TypedArrayPrototypeSet:Ep,Uint8Array:R_e}=ct(),{Buffer:Wg}=require("buffer"),{inspect:A_e}=Fr();Dk.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Wg.alloc(0);let r=Wg.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Ep(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[S_e](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=Lk(s,0,e),this.head=n,n.data=Lk(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Wg.allocUnsafe(e),n=e,i=this.head,s=0;do{let o=i.data;if(e>o.length)Ep(r,o,n-e),e-=o.length;else{e===o.length?(Ep(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(Ep(r,new R_e(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return A_e(this,{...r,depth:0,customInspect:!1})}}});var fd=O((tve,Uk)=>{"use strict";var{MathFloor:__e,NumberIsInteger:I_e}=ct(),{validateInteger:m_e}=Gl(),{ERR_INVALID_ARG_VALUE:N_e}=yr().codes,xk=16*1024,Mk=16;function g_e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function vk(t){return t?Mk:xk}function O_e(t,e){m_e(e,"value",0),t?Mk=e:xk=e}function C_e(t,e,r,n){let i=g_e(e,n,r);if(i!=null){if(!I_e(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new N_e(s,i)}return __e(i)}return vk(t.objectMode)}Uk.exports={getHighWaterMark:C_e,getDefaultHighWaterMark:vk,setDefaultHighWaterMark:O_e}});var Yg=O((rve,Hk)=>{"use strict";var Bk=Xe(),{PromisePrototypeThen:b_e,SymbolAsyncIterator:Fk,SymbolIterator:Gk}=ct(),{Buffer:y_e}=require("buffer"),{ERR_INVALID_ARG_TYPE:w_e,ERR_STREAM_NULL_VALUES:L_e}=yr().codes;function D_e(t,e,r){let n;if(typeof e=="string"||e instanceof y_e)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[Fk])i=!0,n=e[Fk]();else if(e&&e[Gk])i=!1,n=e[Gk]();else throw new w_e("iterable",["Iterable"],e);let s=new t({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){b_e(a(c),()=>Bk.nextTick(u,c),d=>Bk.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:f,done:E}=await n.throw(c);if(await f,E)return}if(typeof n.return=="function"){let{value:f}=await n.return();await f}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new L_e;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}Hk.exports=D_e});var Td=O((nve,iV)=>{"use strict";var xn=Xe(),{ArrayPrototypeIndexOf:P_e,NumberIsInteger:x_e,NumberIsNaN:M_e,NumberParseInt:v_e,ObjectDefineProperties:zg,ObjectKeys:U_e,ObjectSetPrototypeOf:$k,Promise:kk,SafeSet:B_e,SymbolAsyncDispose:F_e,SymbolAsyncIterator:G_e,Symbol:H_e}=ct();iV.exports=_e;_e.ReadableState=pp;var{EventEmitter:W_e}=require("events"),{Stream:vs,prependListener:Y_e}=up(),{Buffer:$g}=require("buffer"),{addAbortSignal:$_e}=Ed(),Vk=Ki(),xe=Fr().debuglog("stream",t=>{xe=t}),k_e=Pk(),$l=Ko(),{getHighWaterMark:V_e,getDefaultHighWaterMark:q_e}=fd(),{aggregateTwoErrors:Wk,codes:{ERR_INVALID_ARG_TYPE:X_e,ERR_METHOD_NOT_IMPLEMENTED:j_e,ERR_OUT_OF_RANGE:K_e,ERR_STREAM_PUSH_AFTER_EOF:z_e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:J_e},AbortError:Q_e}=yr(),{validateObject:Z_e}=Gl(),zo=H_e("kPaused"),{StringDecoder:qk}=lu(),eIe=Yg();$k(_e.prototype,vs.prototype);$k(_e,vs);var kg=()=>{},{errorOrDestroy:Wl}=$l,Yl=1,tIe=2,Xk=4,hd=8,jk=16,fp=32,hp=64,Kk=128,rIe=256,nIe=512,iIe=1024,jg=2048,Kg=4096,sIe=8192,oIe=16384,aIe=32768,zk=65536,lIe=1<<17,cIe=1<<18;function Wt(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}zg(pp.prototype,{objectMode:Wt(Yl),ended:Wt(tIe),endEmitted:Wt(Xk),reading:Wt(hd),constructed:Wt(jk),sync:Wt(fp),needReadable:Wt(hp),emittedReadable:Wt(Kk),readableListening:Wt(rIe),resumeScheduled:Wt(nIe),errorEmitted:Wt(iIe),emitClose:Wt(jg),autoDestroy:Wt(Kg),destroyed:Wt(sIe),closed:Wt(oIe),closeEmitted:Wt(aIe),multiAwaitDrain:Wt(zk),readingMore:Wt(lIe),dataEmitted:Wt(cIe)});function pp(t,e,r){typeof r!="boolean"&&(r=e instanceof hi()),this.state=jg|Kg|jk|fp,t&&t.objectMode&&(this.state|=Yl),r&&t&&t.readableObjectMode&&(this.state|=Yl),this.highWaterMark=t?V_e(this,t,"readableHighWaterMark",r):q_e(!1),this.buffer=new k_e,this.length=0,this.pipes=[],this.flowing=null,this[zo]=null,t&&t.emitClose===!1&&(this.state&=~jg),t&&t.autoDestroy===!1&&(this.state&=~Kg),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new qk(t.encoding),this.encoding=t.encoding)}function _e(t){if(!(this instanceof _e))return new _e(t);let e=this instanceof hi();this._readableState=new pp(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&$_e(t.signal,this)),vs.call(this,t),$l.construct(this,()=>{this._readableState.needReadable&&Tp(this,this._readableState)})}_e.prototype.destroy=$l.destroy;_e.prototype._undestroy=$l.undestroy;_e.prototype._destroy=function(t,e){e(t)};_e.prototype[W_e.captureRejectionSymbol]=function(t){this.destroy(t)};_e.prototype[F_e]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new Q_e,this.destroy(t)),new kk((e,r)=>Vk(this,n=>n&&n!==t?r(n):e(null)))};_e.prototype.push=function(t,e){return Jk(this,t,e,!1)};_e.prototype.unshift=function(t,e){return Jk(this,t,e,!0)};function Jk(t,e,r,n){xe("readableAddChunk",e);let i=t._readableState,s;if((i.state&Yl)===0&&(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=$g.from(e,r).toString(i.encoding):(e=$g.from(e,r),r=""))):e instanceof $g?r="":vs._isUint8Array(e)?(e=vs._uint8ArrayToBuffer(e),r=""):e!=null&&(s=new X_e("chunk",["string","Buffer","Uint8Array"],e))),s)Wl(t,s);else if(e===null)i.state&=~hd,EIe(t,i);else if((i.state&Yl)!==0||e&&e.length>0)if(n)if((i.state&Xk)!==0)Wl(t,new J_e);else{if(i.destroyed||i.errored)return!1;Vg(t,i,e,!0)}else if(i.ended)Wl(t,new z_e);else{if(i.destroyed||i.errored)return!1;i.state&=~hd,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?Vg(t,i,e,!1):Tp(t,i)):Vg(t,i,e,!1)}else n||(i.state&=~hd,Tp(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function Vg(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?((e.state&zk)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),(e.state&hp)!==0&&Sp(t)),Tp(t,e)}_e.prototype.isPaused=function(){let t=this._readableState;return t[zo]===!0||t.flowing===!1};_e.prototype.setEncoding=function(t){let e=new qk(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var uIe=1073741824;function dIe(t){if(t>uIe)throw new K_e("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function Yk(t,e){return t<=0||e.length===0&&e.ended?0:(e.state&Yl)!==0?1:M_e(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}_e.prototype.read=function(t){xe("read",t),t===void 0?t=NaN:x_e(t)||(t=v_e(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=dIe(t)),t!==0&&(e.state&=~Kk),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return xe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?qg(this):Sp(this),null;if(t=Yk(t,e),t===0&&e.ended)return e.length===0&&qg(this),null;let n=(e.state&hp)!==0;if(xe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,xe("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,xe("reading, ended or constructing",n);else if(n){xe("do read"),e.state|=hd|fp,e.length===0&&(e.state|=hp);try{this._read(e.highWaterMark)}catch(s){Wl(this,s)}e.state&=~fp,e.reading||(t=Yk(r,e))}let i;return t>0?i=rV(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&qg(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function EIe(t,e){if(xe("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Sp(t):(e.needReadable=!1,e.emittedReadable=!0,Qk(t))}}function Sp(t){let e=t._readableState;xe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(xe("emitReadable",e.flowing),e.emittedReadable=!0,xn.nextTick(Qk,t))}function Qk(t){let e=t._readableState;xe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,eV(t)}function Tp(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,xn.nextTick(fIe,t,e))}function fIe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(xe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}_e.prototype._read=function(t){throw new j_e("_read()")};_e.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new B_e(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),xe("pipe count=%d opts=%j",n.pipes.length,e);let s=(!e||e.end!==!1)&&t!==xn.stdout&&t!==xn.stderr?a:p;n.endEmitted?xn.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(S,I){xe("onunpipe"),S===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,u())}function a(){xe("onend"),t.end()}let l,c=!1;function u(){xe("cleanup"),t.removeListener("close",T),t.removeListener("finish",h),l&&t.removeListener("drain",l),t.removeListener("error",E),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),c=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===t?(xe("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(xe("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),l||(l=hIe(r,t),t.on("drain",l))}r.on("data",f);function f(S){xe("ondata");let I=t.write(S);xe("dest.write",I),I===!1&&d()}function E(S){if(xe("onerror",S),p(),t.removeListener("error",E),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?Wl(t,S):t.emit("error",S)}}Y_e(t,"error",E);function T(){t.removeListener("finish",h),p()}t.once("close",T);function h(){xe("onfinish"),t.removeListener("close",T),p()}t.once("finish",h);function p(){xe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?d():n.flowing||(xe("pipe resume"),r.resume()),t};function hIe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(xe("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(xe("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}_e.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=P_e(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};_e.prototype.on=function(t,e){let r=vs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,xe("on readable",n.length,n.reading),n.length?Sp(this):n.reading||xn.nextTick(TIe,this)),r};_e.prototype.addListener=_e.prototype.on;_e.prototype.removeListener=function(t,e){let r=vs.prototype.removeListener.call(this,t,e);return t==="readable"&&xn.nextTick(Zk,this),r};_e.prototype.off=_e.prototype.removeListener;_e.prototype.removeAllListeners=function(t){let e=vs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&xn.nextTick(Zk,this),e};function Zk(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[zo]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function TIe(t){xe("readable nexttick read 0"),t.read(0)}_e.prototype.resume=function(){let t=this._readableState;return t.flowing||(xe("resume"),t.flowing=!t.readableListening,pIe(this,t)),t[zo]=!1,this};function pIe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,xn.nextTick(SIe,t,e))}function SIe(t,e){xe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),eV(t),e.flowing&&!e.reading&&t.read(0)}_e.prototype.pause=function(){return xe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[zo]=!0,this};function eV(t){let e=t._readableState;for(xe("flow",e.flowing);e.flowing&&t.read()!==null;);}_e.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{Wl(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=U_e(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};_e.prototype[G_e]=function(){return tV(this)};_e.prototype.iterator=function(t){return t!==void 0&&Z_e(t,"options"),tV(this,t)};function tV(t,e){typeof t.read!="function"&&(t=_e.wrap(t,{objectMode:!0}));let r=RIe(t,e);return r.stream=t,r}async function*RIe(t,e){let r=kg;function n(o){this===t?(r(),r=kg):r=o}t.on("readable",n);let i,s=Vk(t,{writable:!1},o=>{i=o?Wk(i,o):null,r(),r=kg});try{for(;;){let o=t.destroyed?null:t.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new kk(n)}}}catch(o){throw i=Wk(i,o),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?$l.destroyer(t,null):(t.off("readable",n),s())}}zg(_e.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});zg(pp.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[zo]!==!1},set(t){this[zo]=!!t}}});_e._fromList=rV;function rV(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function qg(t){let e=t._readableState;xe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,xn.nextTick(AIe,e,t))}function AIe(t,e){if(xe("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)xn.nextTick(_Ie,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function _Ie(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}_e.from=function(t,e){return eIe(_e,t,e)};var Xg;function nV(){return Xg===void 0&&(Xg={}),Xg}_e.fromWeb=function(t,e){return nV().newStreamReadableFromReadableStream(t,e)};_e.toWeb=function(t,e){return nV().newReadableStreamFromStreamReadable(t,e)};_e.wrap=function(t,e){var r,n;return new _e({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,s){$l.destroyer(t,i),s(i)}}).wrap(t)}});var mp=O((ive,pV)=>{"use strict";var Jo=Xe(),{ArrayPrototypeSlice:aV,Error:IIe,FunctionPrototypeSymbolHasInstance:lV,ObjectDefineProperty:cV,ObjectDefineProperties:mIe,ObjectSetPrototypeOf:uV,StringPrototypeToLowerCase:NIe,Symbol:gIe,SymbolHasInstance:OIe}=ct();pV.exports=Tt;Tt.WritableState=Rd;var{EventEmitter:CIe}=require("events"),pd=up().Stream,{Buffer:Rp}=require("buffer"),Ip=Ko(),{addAbortSignal:bIe}=Ed(),{getHighWaterMark:yIe,getDefaultHighWaterMark:wIe}=fd(),{ERR_INVALID_ARG_TYPE:LIe,ERR_METHOD_NOT_IMPLEMENTED:DIe,ERR_MULTIPLE_CALLBACK:dV,ERR_STREAM_CANNOT_PIPE:PIe,ERR_STREAM_DESTROYED:Sd,ERR_STREAM_ALREADY_FINISHED:xIe,ERR_STREAM_NULL_VALUES:MIe,ERR_STREAM_WRITE_AFTER_END:vIe,ERR_UNKNOWN_ENCODING:EV}=yr().codes,{errorOrDestroy:kl}=Ip;uV(Tt.prototype,pd.prototype);uV(Tt,pd);function Zg(){}var Vl=gIe("kOnFinished");function Rd(t,e,r){typeof r!="boolean"&&(r=e instanceof hi()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?yIe(this,t,"writableHighWaterMark",r):wIe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=BIe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,_p(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Vl]=[]}function _p(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Rd.prototype.getBuffer=function(){return aV(this.buffered,this.bufferedIndex)};cV(Rd.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Tt(t){let e=this instanceof hi();if(!e&&!lV(Tt,this))return new Tt(t);this._writableState=new Rd(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&bIe(t.signal,this)),pd.call(this,t),Ip.construct(this,()=>{let r=this._writableState;r.writing||tO(this,r),rO(this,r)})}cV(Tt,OIe,{__proto__:null,value:function(t){return lV(this,t)?!0:this!==Tt?!1:t&&t._writableState instanceof Rd}});Tt.prototype.pipe=function(){kl(this,new PIe)};function fV(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Rp.isEncoding(r))throw new EV(r);typeof n!="function"&&(n=Zg)}if(e===null)throw new MIe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Rp.from(e,r),r="buffer");else if(e instanceof Rp)r="buffer";else if(pd._isUint8Array(e))e=pd._uint8ArrayToBuffer(e),r="buffer";else throw new LIe("chunk",["string","Buffer","Uint8Array"],e);let s;return i.ending?s=new vIe:i.destroyed&&(s=new Sd("write")),s?(Jo.nextTick(n,s),kl(t,s,!0),s):(i.pendingcb++,UIe(t,i,e,r,n))}Tt.prototype.write=function(t,e,r){return fV(this,t,e,r)===!0};Tt.prototype.cork=function(){this._writableState.corked++};Tt.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||tO(this,t))};Tt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=NIe(e)),!Rp.isEncoding(e))throw new EV(e);return this._writableState.defaultEncoding=e,this};function UIe(t,e,r,n,i){let s=e.objectMode?1:r.length;e.length+=s;let o=e.length<e.highWaterMark;return o||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Zg&&(e.allNoop=!1)):(e.writelen=s,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),o&&!e.errored&&!e.destroyed}function sV(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Sd("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function oV(t,e,r,n){--e.pendingcb,n(r),eO(e),kl(t,r)}function BIe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){kl(t,new dV);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Jo.nextTick(oV,t,r,e,i):oV(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&tO(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Jo.nextTick(FIe,r.afterWriteTickInfo)):hV(t,r,1,i))}function FIe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,hV(t,e,r,n)}function hV(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&eO(e),rO(t,e)}function eO(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:s,callback:o}=t.buffered[i],a=t.objectMode?1:s.length;t.length-=a,o((e=t.errored)!==null&&e!==void 0?e:new Sd("write"))}let r=t[Vl].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Sd("end"))}_p(t)}function tO(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,s=r.length-n;if(!s)return;let o=n;if(e.bufferProcessing=!0,s>1&&t._writev){e.pendingcb-=s-1;let a=e.allNoop?Zg:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=e.allNoop&&o===0?r:aV(r,o);l.allBuffers=e.allBuffers,sV(t,e,!0,e.length,l,"",a),_p(e)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;sV(t,e,!1,u,a,l,c)}while(o<r.length&&!e.writing);o===r.length?_p(e):o>256?(r.splice(0,o),e.bufferedIndex=0):e.bufferedIndex=o}e.bufferProcessing=!1}Tt.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new DIe("_write()")};Tt.prototype._writev=null;Tt.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let s=fV(this,t,e);s instanceof IIe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,rO(this,n,!0),n.ended=!0):n.finished?i=new xIe("end"):n.destroyed&&(i=new Sd("end"))),typeof r=="function"&&(i||n.finished?Jo.nextTick(r,i):n[Vl].push(r)),this};function Ap(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function GIe(t,e){let r=!1;function n(i){if(r){kl(t,i??dV());return}if(r=!0,e.pendingcb--,i){let s=e[Vl].splice(0);for(let o=0;o<s.length;o++)s[o](i);kl(t,i,e.sync)}else Ap(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Jo.nextTick(Qg,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function HIe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,GIe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function rO(t,e,r){Ap(e)&&(HIe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Jo.nextTick((n,i)=>{Ap(i)?Qg(n,i):i.pendingcb--},t,e)):Ap(e)&&(e.pendingcb++,Qg(t,e))))}function Qg(t,e){e.pendingcb--,e.finished=!0;let r=e[Vl].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}mIe(Tt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var WIe=Ip.destroy;Tt.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Vl].length)&&Jo.nextTick(eO,r),WIe.call(this,t,e),this};Tt.prototype._undestroy=Ip.undestroy;Tt.prototype._destroy=function(t,e){e(t)};Tt.prototype[CIe.captureRejectionSymbol]=function(t){this.destroy(t)};var Jg;function TV(){return Jg===void 0&&(Jg={}),Jg}Tt.fromWeb=function(t,e){return TV().newStreamWritableFromWritableStream(t,e)};Tt.toWeb=function(t){return TV().newWritableStreamFromStreamWritable(t)}});var DV=O((sve,LV)=>{var nO=Xe(),YIe=require("buffer"),{isReadable:$Ie,isWritable:kIe,isIterable:SV,isNodeStream:VIe,isReadableNodeStream:RV,isWritableNodeStream:AV,isDuplexNodeStream:qIe,isReadableStream:_V,isWritableStream:IV}=Ei(),mV=Ki(),{AbortError:yV,codes:{ERR_INVALID_ARG_TYPE:XIe,ERR_INVALID_RETURN_VALUE:NV}}=yr(),{destroyer:Xl}=Ko(),jIe=hi(),wV=Td(),KIe=mp(),{createDeferredPromise:gV}=Fr(),OV=Yg(),CV=globalThis.Blob||YIe.Blob,zIe=typeof CV<"u"?function(e){return e instanceof CV}:function(e){return!1},JIe=globalThis.AbortController||Ct().AbortController,{FunctionPrototypeCall:bV}=ct(),Us=class extends jIe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};LV.exports=function t(e,r){if(qIe(e))return e;if(RV(e))return ql({readable:e});if(AV(e))return ql({writable:e});if(VIe(e))return ql({writable:!1,readable:!1});if(_V(e))return ql({readable:wV.fromWeb(e)});if(IV(e))return ql({writable:KIe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:s,final:o,destroy:a}=QIe(e);if(SV(i))return OV(Us,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=bV(l,i,d=>{if(d!=null)throw new NV("nully","body",d)},d=>{Xl(c,d)});return c=new Us({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,nO.nextTick(d,null)}catch(f){nO.nextTick(d,f)}})},destroy:a})}throw new NV("Iterable, AsyncIterable or AsyncFunction",r,i)}if(zIe(e))return t(e.arrayBuffer());if(SV(e))return OV(Us,e,{objectMode:!0,writable:!1});if(_V(e?.readable)&&IV(e?.writable))return Us.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?RV(e?.readable)?e?.readable:t(e.readable):void 0,s=e!=null&&e.writable?AV(e?.writable)?e?.writable:t(e.writable):void 0;return ql({readable:i,writable:s})}let n=e?.then;if(typeof n=="function"){let i;return bV(n,e,s=>{s!=null&&i.push(s),i.push(null)},s=>{Xl(i,s)}),i=new Us({objectMode:!0,writable:!1,read(){}})}throw new XIe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function QIe(t){let{promise:e,resolve:r}=gV(),n=new JIe,i=n.signal;return{value:t((async function*(){for(;;){let o=e;e=null;let{chunk:a,done:l,cb:c}=await o;if(nO.nextTick(c),l)return;if(i.aborted)throw new yV(void 0,{cause:i.reason});({promise:e,resolve:r}=gV()),yield a}})(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function ql(t){let e=t.readable&&typeof t.readable.read!="function"?wV.wrap(t.readable):t.readable,r=t.writable,n=!!$Ie(e),i=!!kIe(r),s,o,a,l,c;function u(d){let f=l;l=null,f?f(d):d&&c.destroy(d)}return c=new Us({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(mV(r,d=>{i=!1,d&&Xl(e,d),u(d)}),c._write=function(d,f,E){r.write(d,f)?E():s=E},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(mV(e,d=>{n=!1,d&&Xl(e,d),u(d)}),e.on("readable",function(){if(a){let d=a;a=null,d()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,f){!d&&l!==null&&(d=new yV),a=null,s=null,o=null,l===null?f(d):(l=f,Xl(r,d),Xl(e,d))},c}});var hi=O((ove,MV)=>{"use strict";var{ObjectDefineProperties:ZIe,ObjectGetOwnPropertyDescriptor:zi,ObjectKeys:eme,ObjectSetPrototypeOf:PV}=ct();MV.exports=Mn;var oO=Td(),Rn=mp();PV(Mn.prototype,oO.prototype);PV(Mn,oO);{let t=eme(Rn.prototype);for(let e=0;e<t.length;e++){let r=t[e];Mn.prototype[r]||(Mn.prototype[r]=Rn.prototype[r])}}function Mn(t){if(!(this instanceof Mn))return new Mn(t);oO.call(this,t),Rn.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}ZIe(Mn.prototype,{writable:{__proto__:null,...zi(Rn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...zi(Rn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...zi(Rn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...zi(Rn.prototype,"writableBuffer")},writableLength:{__proto__:null,...zi(Rn.prototype,"writableLength")},writableFinished:{__proto__:null,...zi(Rn.prototype,"writableFinished")},writableCorked:{__proto__:null,...zi(Rn.prototype,"writableCorked")},writableEnded:{__proto__:null,...zi(Rn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...zi(Rn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var iO;function xV(){return iO===void 0&&(iO={}),iO}Mn.fromWeb=function(t,e){return xV().newStreamDuplexFromReadableWritablePair(t,e)};Mn.toWeb=function(t){return xV().newReadableWritablePairFromDuplex(t)};var sO;Mn.from=function(t){return sO||(sO=DV()),sO(t,"body")}});var cO=O((ave,UV)=>{"use strict";var{ObjectSetPrototypeOf:vV,Symbol:tme}=ct();UV.exports=Ji;var{ERR_METHOD_NOT_IMPLEMENTED:rme}=yr().codes,lO=hi(),{getHighWaterMark:nme}=fd();vV(Ji.prototype,lO.prototype);vV(Ji,lO);var Ad=tme("kCallback");function Ji(t){if(!(this instanceof Ji))return new Ji(t);let e=t?nme(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),lO.call(this,t),this._readableState.sync=!1,this[Ad]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",ime)}function aO(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function ime(){this._final!==aO&&aO.call(this)}Ji.prototype._final=aO;Ji.prototype._transform=function(t,e,r){throw new rme("_transform()")};Ji.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Ad]=r})};Ji.prototype._read=function(){if(this[Ad]){let t=this[Ad];this[Ad]=null,t()}}});var dO=O((lve,FV)=>{"use strict";var{ObjectSetPrototypeOf:BV}=ct();FV.exports=jl;var uO=cO();BV(jl.prototype,uO.prototype);BV(jl,uO);function jl(t){if(!(this instanceof jl))return new jl(t);uO.call(this,t)}jl.prototype._transform=function(t,e,r){r(null,t)}});var Cp=O((cve,$V)=>{var _d=Xe(),{ArrayIsArray:sme,Promise:ome,SymbolAsyncIterator:ame,SymbolDispose:lme}=ct(),Op=Ki(),{once:cme}=Fr(),ume=Ko(),GV=hi(),{aggregateTwoErrors:dme,codes:{ERR_INVALID_ARG_TYPE:_O,ERR_INVALID_RETURN_VALUE:EO,ERR_MISSING_ARGS:Eme,ERR_STREAM_DESTROYED:fme,ERR_STREAM_PREMATURE_CLOSE:hme},AbortError:Tme}=yr(),{validateFunction:pme,validateAbortSignal:Sme}=Gl(),{isIterable:Qo,isReadable:fO,isReadableNodeStream:gp,isNodeStream:HV,isTransformStream:Kl,isWebStream:Rme,isReadableStream:hO,isReadableFinished:Ame}=Ei(),_me=globalThis.AbortController||Ct().AbortController,TO,pO,SO;function WV(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Op(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,ume.destroyer(t,s||new fme("pipe")))},cleanup:i}}function Ime(t){return pme(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function RO(t){if(Qo(t))return t;if(gp(t))return mme(t);throw new _O("val",["Readable","Iterable","AsyncIterable"],t)}async function*mme(t){pO||(pO=Td()),yield*pO.prototype[ame].call(t)}async function Np(t,e,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new ome((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});e.on("drain",o);let l=Op(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();n&&(e.end(),await a()),r()}catch(c){r(i!==c?dme(i,c):c)}finally{l(),e.off("drain",o)}}async function AO(t,e,r,{end:n}){Kl(e)&&(e=e.writable);let i=e.getWriter();try{for await(let s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Nme(...t){return YV(t,cme(Ime(t)))}function YV(t,e,r){if(t.length===1&&sme(t[0])&&(t=t[0]),t.length<2)throw new Eme("streams");let n=new _me,i=n.signal,s=r?.signal,o=[];Sme(s,"options.signal");function a(){T(new Tme)}SO=SO||Fr().addAbortListener;let l;s&&(l=SO(s,a));let c,u,d=[],f=0;function E(R){T(R,--f===0)}function T(R,A){var N;if(R&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=R),!(!c&&!A)){for(;d.length;)d.shift()(c);(N=l)===null||N===void 0||N[lme](),n.abort(),A&&(c||o.forEach(w=>w()),_d.nextTick(e,c,u))}}let h;for(let R=0;R<t.length;R++){let A=t[R],N=R<t.length-1,w=R>0,m=N||r?.end!==!1,D=R===t.length-1;if(HV(A)){let y=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&E(P)};var I=y;if(m){let{destroy:P,cleanup:M}=WV(A,N,w);d.push(P),fO(A)&&D&&o.push(M)}A.on("error",y),fO(A)&&D&&o.push(()=>{A.removeListener("error",y)})}if(R===0)if(typeof A=="function"){if(h=A({signal:i}),!Qo(h))throw new EO("Iterable, AsyncIterable or Stream","source",h)}else Qo(A)||gp(A)||Kl(A)?h=A:h=GV.from(A);else if(typeof A=="function"){if(Kl(h)){var p;h=RO((p=h)===null||p===void 0?void 0:p.readable)}else h=RO(h);if(h=A(h,{signal:i}),N){if(!Qo(h,!0))throw new EO("AsyncIterable",`transform[${R-1}]`,h)}else{var S;TO||(TO=dO());let y=new TO({objectMode:!0}),P=(S=h)===null||S===void 0?void 0:S.then;if(typeof P=="function")f++,P.call(h,G=>{u=G,G!=null&&y.write(G),m&&y.end(),_d.nextTick(E)},G=>{y.destroy(G),_d.nextTick(E,G)});else if(Qo(h,!0))f++,Np(h,y,E,{end:m});else if(hO(h)||Kl(h)){let G=h.readable||h;f++,Np(G,y,E,{end:m})}else throw new EO("AsyncIterable or Promise","destination",h);h=y;let{destroy:M,cleanup:B}=WV(h,!1,!0);d.push(M),D&&o.push(B)}}else if(HV(A)){if(gp(h)){f+=2;let y=gme(h,A,E,{end:m});fO(A)&&D&&o.push(y)}else if(Kl(h)||hO(h)){let y=h.readable||h;f++,Np(y,A,E,{end:m})}else if(Qo(h))f++,Np(h,A,E,{end:m});else throw new _O("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else if(Rme(A)){if(gp(h))f++,AO(RO(h),A,E,{end:m});else if(hO(h)||Qo(h))f++,AO(h,A,E,{end:m});else if(Kl(h))f++,AO(h.readable,A,E,{end:m});else throw new _O("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=A}else h=GV.from(A)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&_d.nextTick(a),h}function gme(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new hme)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;Ame(t)?_d.nextTick(o):t.once("end",o)}else r();return Op(t,{readable:!0,writable:!1},o=>{let a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),Op(e,{readable:!1,writable:!0},r)}$V.exports={pipelineImpl:YV,pipeline:Nme}});var mO=O((uve,KV)=>{"use strict";var{pipeline:Ome}=Cp(),bp=hi(),{destroyer:Cme}=Ko(),{isNodeStream:yp,isReadable:kV,isWritable:VV,isWebStream:IO,isTransformStream:Zo,isWritableStream:qV,isReadableStream:XV}=Ei(),{AbortError:bme,codes:{ERR_INVALID_ARG_VALUE:jV,ERR_MISSING_ARGS:yme}}=yr(),wme=Ki();KV.exports=function(...e){if(e.length===0)throw new yme("streams");if(e.length===1)return bp.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=bp.from(e[0])),typeof e[e.length-1]=="function"){let E=e.length-1;e[E]=bp.from(e[E])}for(let E=0;E<e.length;++E)if(!(!yp(e[E])&&!IO(e[E]))){if(E<e.length-1&&!(kV(e[E])||XV(e[E])||Zo(e[E])))throw new jV(`streams[${E}]`,r[E],"must be readable");if(E>0&&!(VV(e[E])||qV(e[E])||Zo(e[E])))throw new jV(`streams[${E}]`,r[E],"must be writable")}let n,i,s,o,a;function l(E){let T=o;o=null,T?T(E):E?a.destroy(E):!f&&!d&&a.destroy()}let c=e[0],u=Ome(e,l),d=!!(VV(c)||qV(c)||Zo(c)),f=!!(kV(u)||XV(u)||Zo(u));if(a=new bp({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:f}),d){if(yp(c))a._write=function(T,h,p){c.write(T,h)?p():n=p},a._final=function(T){c.end(),i=T},c.on("drain",function(){if(n){let T=n;n=null,T()}});else if(IO(c)){let h=(Zo(c)?c.writable:c).getWriter();a._write=async function(p,S,I){try{await h.ready,h.write(p).catch(()=>{}),I()}catch(R){I(R)}},a._final=async function(p){try{await h.ready,h.close().catch(()=>{}),i=p}catch(S){p(S)}}}let E=Zo(u)?u.readable:u;wme(E,()=>{if(i){let T=i;i=null,T()}})}if(f){if(yp(u))u.on("readable",function(){if(s){let E=s;s=null,E()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let E=u.read();if(E===null){s=a._read;return}if(!a.push(E))return}};else if(IO(u)){let T=(Zo(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{let{value:h,done:p}=await T.read();if(!a.push(h))return;if(p){a.push(null);return}}catch{return}}}}return a._destroy=function(E,T){!E&&o!==null&&(E=new bme),s=null,n=null,i=null,o===null?T(E):(o=T,yp(u)&&Cme(u,E))},a}});var s2=O((dve,OO)=>{"use strict";var Lme=globalThis.AbortController||Ct().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Dme,ERR_INVALID_ARG_TYPE:Id,ERR_MISSING_ARGS:Pme,ERR_OUT_OF_RANGE:xme},AbortError:Ti}=yr(),{validateAbortSignal:ea,validateInteger:zV,validateObject:ta}=Gl(),Mme=ct().Symbol("kWeak"),vme=ct().Symbol("kResistStopPropagation"),{finished:Ume}=Ki(),Bme=mO(),{addAbortSignalNoValidate:Fme}=Ed(),{isWritable:Gme,isNodeStream:Hme}=Ei(),{deprecate:Wme}=Fr(),{ArrayPrototypePush:Yme,Boolean:$me,MathFloor:JV,Number:kme,NumberIsNaN:Vme,Promise:QV,PromiseReject:ZV,PromiseResolve:qme,PromisePrototypeThen:e2,Symbol:r2}=ct(),wp=r2("kEmpty"),t2=r2("kEof");function Xme(t,e){if(e!=null&&ta(e,"options"),e?.signal!=null&&ea(e.signal,"options.signal"),Hme(t)&&!Gme(t))throw new Dme("stream",t,"must be writable");let r=Bme(this,t);return e!=null&&e.signal&&Fme(e.signal,r),r}function Lp(t,e){if(typeof t!="function")throw new Id("fn",["Function","AsyncFunction"],t);e!=null&&ta(e,"options"),e?.signal!=null&&ea(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=JV(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=JV(e.highWaterMark)),zV(r,"options.concurrency",1),zV(n,"options.highWaterMark",0),n+=r,async function*(){let s=Fr().AbortSignalAny([e?.signal].filter($me)),o=this,a=[],l={signal:s},c,u,d=!1,f=0;function E(){d=!0,T()}function T(){f-=1,h()}function h(){u&&!d&&f<r&&a.length<n&&(u(),u=null)}async function p(){try{for await(let S of o){if(d)return;if(s.aborted)throw new Ti;try{if(S=t(S,l),S===wp)continue;S=qme(S)}catch(I){S=ZV(I)}f+=1,e2(S,T,E),a.push(S),c&&(c(),c=null),!d&&(a.length>=n||f>=r)&&await new QV(I=>{u=I})}a.push(t2)}catch(S){let I=ZV(S);e2(I,T,E),a.push(I)}finally{d=!0,c&&(c(),c=null)}}p();try{for(;;){for(;a.length>0;){let S=await a[0];if(S===t2)return;if(s.aborted)throw new Ti;S!==wp&&(yield S),a.shift(),h()}await new QV(S=>{c=S})}}finally{d=!0,u&&(u(),u=null)}}.call(this)}function jme(t=void 0){return t!=null&&ta(t,"options"),t?.signal!=null&&ea(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ti({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function n2(t,e=void 0){for await(let r of gO.call(this,t,e))return!0;return!1}async function Kme(t,e=void 0){if(typeof t!="function")throw new Id("fn",["Function","AsyncFunction"],t);return!await n2.call(this,async(...r)=>!await t(...r),e)}async function zme(t,e){for await(let r of gO.call(this,t,e))return r}async function Jme(t,e){if(typeof t!="function")throw new Id("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),wp}for await(let n of Lp.call(this,r,e));}function gO(t,e){if(typeof t!="function")throw new Id("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:wp}return Lp.call(this,r,e)}var NO=class extends Pme{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Qme(t,e,r){var n;if(typeof t!="function")throw new Id("reducer",["Function","AsyncFunction"],t);r!=null&&ta(r,"options"),r?.signal!=null&&ea(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Ti(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Ume(this.destroy(c)),c}let s=new Lme,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[Mme]:this,[vme]:!0};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Ti;i?e=await t(e,c,{signal:o}):(e=c,i=!0)}if(!a&&!i)throw new NO}finally{s.abort()}return e}async function Zme(t){t!=null&&ta(t,"options"),t?.signal!=null&&ea(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Ti(void 0,{cause:t.signal.reason});Yme(e,n)}return e}function eNe(t,e){let r=Lp.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function i2(t){if(t=kme(t),Vme(t))return 0;if(t<0)throw new xme("number",">= 0",t);return t}function tNe(t,e=void 0){return e!=null&&ta(e,"options"),e?.signal!=null&&ea(e.signal,"options.signal"),t=i2(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ti;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ti;t--<=0&&(yield s)}}.call(this)}function rNe(t,e=void 0){return e!=null&&ta(e,"options"),e?.signal!=null&&ea(e.signal,"options.signal"),t=i2(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ti;for await(let s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ti;if(t-- >0&&(yield s),t<=0)return}}.call(this)}OO.exports.streamReturningOperators={asIndexedPairs:Wme(jme,"readable.asIndexedPairs will be removed in a future version."),drop:tNe,filter:gO,flatMap:eNe,map:Lp,take:rNe,compose:Xme};OO.exports.promiseReturningOperators={every:Kme,forEach:Jme,reduce:Qme,toArray:Zme,some:n2,find:zme}});var CO=O((Eve,o2)=>{"use strict";var{ArrayPrototypePop:nNe,Promise:iNe}=ct(),{isIterable:sNe,isNodeStream:oNe,isWebStream:aNe}=Ei(),{pipelineImpl:lNe}=Cp(),{finished:cNe}=Ki();bO();function uNe(...t){return new iNe((e,r)=>{let n,i,s=t[t.length-1];if(s&&typeof s=="object"&&!oNe(s)&&!sNe(s)&&!aNe(s)){let o=nNe(t);n=o.signal,i=o.end}lNe(t,(o,a)=>{o?r(o):e(a)},{signal:n,end:i})})}o2.exports={finished:cNe,pipeline:uNe}});var bO=O((fve,T2)=>{"use strict";var{Buffer:dNe}=require("buffer"),{ObjectDefineProperty:Qi,ObjectKeys:c2,ReflectApply:u2}=ct(),{promisify:{custom:d2}}=Fr(),{streamReturningOperators:a2,promiseReturningOperators:l2}=s2(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:E2}}=yr(),ENe=mO(),{setDefaultHighWaterMark:fNe,getDefaultHighWaterMark:hNe}=fd(),{pipeline:f2}=Cp(),{destroyer:TNe}=Ko(),h2=Ki(),yO=CO(),md=Ei(),it=T2.exports=up().Stream;it.isDestroyed=md.isDestroyed;it.isDisturbed=md.isDisturbed;it.isErrored=md.isErrored;it.isReadable=md.isReadable;it.isWritable=md.isWritable;it.Readable=Td();for(let t of c2(a2)){let r=function(...n){if(new.target)throw E2();return it.Readable.from(u2(e,this,n))},e=a2[t];Qi(r,"name",{__proto__:null,value:e.name}),Qi(r,"length",{__proto__:null,value:e.length}),Qi(it.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of c2(l2)){let r=function(...n){if(new.target)throw E2();return u2(e,this,n)},e=l2[t];Qi(r,"name",{__proto__:null,value:e.name}),Qi(r,"length",{__proto__:null,value:e.length}),Qi(it.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}it.Writable=mp();it.Duplex=hi();it.Transform=cO();it.PassThrough=dO();it.pipeline=f2;var{addAbortSignal:pNe}=Ed();it.addAbortSignal=pNe;it.finished=h2;it.destroy=TNe;it.compose=ENe;it.setDefaultHighWaterMark=fNe;it.getDefaultHighWaterMark=hNe;Qi(it,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return yO}});Qi(f2,d2,{__proto__:null,enumerable:!0,get(){return yO.pipeline}});Qi(h2,d2,{__proto__:null,enumerable:!0,get(){return yO.finished}});it.Stream=it;it._isUint8Array=function(e){return e instanceof Uint8Array};it._uint8ArrayToBuffer=function(e){return dNe.from(e.buffer,e.byteOffset,e.byteLength)}});var p2=O((hve,ye)=>{"use strict";var Yt=require("stream");if(Yt&&process.env.READABLE_STREAM==="disable"){let t=Yt.promises;ye.exports._uint8ArrayToBuffer=Yt._uint8ArrayToBuffer,ye.exports._isUint8Array=Yt._isUint8Array,ye.exports.isDisturbed=Yt.isDisturbed,ye.exports.isErrored=Yt.isErrored,ye.exports.isReadable=Yt.isReadable,ye.exports.Readable=Yt.Readable,ye.exports.Writable=Yt.Writable,ye.exports.Duplex=Yt.Duplex,ye.exports.Transform=Yt.Transform,ye.exports.PassThrough=Yt.PassThrough,ye.exports.addAbortSignal=Yt.addAbortSignal,ye.exports.finished=Yt.finished,ye.exports.destroy=Yt.destroy,ye.exports.pipeline=Yt.pipeline,ye.exports.compose=Yt.compose,Object.defineProperty(Yt,"promises",{configurable:!0,enumerable:!0,get(){return t}}),ye.exports.Stream=Yt.Stream}else{let t=bO(),e=CO(),r=t.Readable.destroy;ye.exports=t.Readable,ye.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,ye.exports._isUint8Array=t._isUint8Array,ye.exports.isDisturbed=t.isDisturbed,ye.exports.isErrored=t.isErrored,ye.exports.isReadable=t.isReadable,ye.exports.Readable=t.Readable,ye.exports.Writable=t.Writable,ye.exports.Duplex=t.Duplex,ye.exports.Transform=t.Transform,ye.exports.PassThrough=t.PassThrough,ye.exports.addAbortSignal=t.addAbortSignal,ye.exports.finished=t.finished,ye.exports.destroy=t.destroy,ye.exports.destroy=r,ye.exports.pipeline=t.pipeline,ye.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),ye.exports.Stream=t.Stream}ye.exports.default=ye.exports});var R2=O((Tve,S2)=>{"use strict";var{Transform:SNe}=p2(),RNe=tp(),wO=class extends SNe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=RNe.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};S2.exports=wO});var _2=O((pve,A2)=>{"use strict";var{DeflateRaw:ANe}=require("zlib"),_Ne=tp(),LO=class extends ANe{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=_Ne.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};A2.exports=LO});var DO=O((Sve,I2)=>{"use strict";I2.exports={CRC32Stream:R2(),DeflateCRC32Stream:_2()}});var g2=O((Ive,N2)=>{var INe=require("util").inherits,mNe=tp(),{CRC32Stream:NNe}=DO(),{DeflateCRC32Stream:gNe}=DO(),m2=Rg(),Rve=sN(),Ave=nN(),pe=iN(),_ve=pg(),ae=OT(),tr=N2.exports=function(t){if(!(this instanceof tr))return new tr(t);t=this.options=this._defaults(t),m2.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};INe(tr,m2);tr.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};tr.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(pe.METHOD_STORED);var n=t.getMethod();if(n===pe.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(mNe.buf(e)>>>0)),this._writeLocalFileHeader(t),n===pe.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===pe.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};tr.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(pe.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};tr.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=pe.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};tr.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};tr.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(pe.METHOD_DEFLATED),t.getMethod()===pe.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(pe.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};tr.prototype._smartStream=function(t,e){var r=t.getMethod()===pe.METHOD_DEFLATED,n=r?new gNe(this.options.zlib):new NNe,i=null;function s(){var o=n.digest().readUInt32BE(0);t.setCrc(o),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(o){i=o}),n.pipe(this,{end:!1}),n};tr.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=pe.ZIP64_MAGIC_SHORT,e=pe.ZIP64_MAGIC,r=pe.ZIP64_MAGIC),this.write(ae.getLongBytes(pe.SIG_EOCD)),this.write(pe.SHORT_ZERO),this.write(pe.SHORT_ZERO),this.write(ae.getShortBytes(t)),this.write(ae.getShortBytes(t)),this.write(ae.getLongBytes(e)),this.write(ae.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(ae.getShortBytes(i)),this.write(n)};tr.prototype._writeCentralDirectoryZip64=function(){this.write(ae.getLongBytes(pe.SIG_ZIP64_EOCD)),this.write(ae.getEightBytes(44)),this.write(ae.getShortBytes(pe.MIN_VERSION_ZIP64)),this.write(ae.getShortBytes(pe.MIN_VERSION_ZIP64)),this.write(pe.LONG_ZERO),this.write(pe.LONG_ZERO),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._entries.length)),this.write(ae.getEightBytes(this._archive.centralLength)),this.write(ae.getEightBytes(this._archive.centralOffset)),this.write(ae.getLongBytes(pe.SIG_ZIP64_EOCD_LOC)),this.write(pe.LONG_ZERO),this.write(ae.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(ae.getLongBytes(1))};tr.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>pe.ZIP64_MAGIC){i=pe.ZIP64_MAGIC,s=pe.ZIP64_MAGIC,n=pe.ZIP64_MAGIC,t.setVersionNeededToExtract(pe.MIN_VERSION_ZIP64);var o=Buffer.concat([ae.getShortBytes(pe.ZIP64_EXTRA_ID),ae.getShortBytes(24),ae.getEightBytes(t.getSize()),ae.getEightBytes(t.getCompressedSize()),ae.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(ae.getLongBytes(pe.SIG_CFH)),this.write(ae.getShortBytes(t.getPlatform()<<8|pe.VERSION_MADEBY)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(s)),this.write(ae.getLongBytes(i));var a=t.getName(),l=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(ae.getShortBytes(a.length)),this.write(ae.getShortBytes(c.length)),this.write(ae.getShortBytes(l.length)),this.write(pe.SHORT_ZERO),this.write(ae.getShortBytes(t.getInternalAttributes())),this.write(ae.getLongBytes(t.getExternalAttributes())),this.write(ae.getLongBytes(n)),this.write(a),this.write(c),this.write(l)};tr.prototype._writeDataDescriptor=function(t){this.write(ae.getLongBytes(pe.SIG_DD)),this.write(ae.getLongBytes(t.getCrc())),t.isZip64()?(this.write(ae.getEightBytes(t.getCompressedSize())),this.write(ae.getEightBytes(t.getSize()))):(this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize())))};tr.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(pe.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(ae.getLongBytes(pe.SIG_LFH)),this.write(ae.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(ae.getShortBytes(r)),this.write(ae.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(pe.LONG_ZERO),this.write(pe.LONG_ZERO),this.write(pe.LONG_ZERO)):(this.write(ae.getLongBytes(t.getCrc())),this.write(ae.getLongBytes(t.getCompressedSize())),this.write(ae.getLongBytes(t.getSize()))),this.write(ae.getShortBytes(n.length)),this.write(ae.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};tr.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};tr.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>pe.ZIP64_MAGIC_SHORT||this._archive.centralLength>pe.ZIP64_MAGIC||this._archive.centralOffset>pe.ZIP64_MAGIC};tr.prototype.setComment=function(t){this._archive.comment=t}});var PO=O((mve,O2)=>{O2.exports={ArchiveEntry:gT(),ZipArchiveEntry:sN(),ArchiveOutputStream:Rg(),ZipArchiveOutputStream:g2()}});var b2=O((Nve,C2)=>{var ONe=require("util").inherits,MO=PO().ZipArchiveOutputStream,CNe=PO().ZipArchiveEntry,xO=fl(),zl=C2.exports=function(t){if(!(this instanceof zl))return new zl(t);t=this.options=t||{},t.zlib=t.zlib||{},MO.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};ONe(zl,MO);zl.prototype._normalizeFileData=function(t){t=xO.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=xO.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=xO.dateify(t.date),t};zl.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new CNe(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),MO.prototype.entry.call(this,n,t,r)};zl.prototype.finalize=function(){this.finish()}});var w2=O((gve,y2)=>{var bNe=b2(),yNe=fl(),Bs=function(t){if(!(this instanceof Bs))return new Bs(t);t=this.options=yNe.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new bNe(t)};Bs.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};Bs.prototype.finalize=function(){this.engine.finalize()};Bs.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Bs.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};Bs.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};y2.exports=Bs});var D2=O((Ove,L2)=>{L2.exports=require("events")});var x2=O((bve,P2)=>{P2.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var vO=O((wve,v2)=>{var M2=x2();v2.exports=class{constructor(e){this.hwm=e||16,this.head=new M2(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new M2(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var Jl=O((Lve,U2)=>{function wNe(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function LNe(t){return Buffer.isEncoding(t)}function DNe(t,e,r){return Buffer.alloc(t,e,r)}function PNe(t){return Buffer.allocUnsafe(t)}function xNe(t){return Buffer.allocUnsafeSlow(t)}function MNe(t,e){return Buffer.byteLength(t,e)}function vNe(t,e){return Buffer.compare(t,e)}function UNe(t,e){return Buffer.concat(t,e)}function BNe(t,e,r,n,i){return Ke(t).copy(e,r,n,i)}function FNe(t,e){return Ke(t).equals(e)}function GNe(t,e,r,n,i){return Ke(t).fill(e,r,n,i)}function HNe(t,e,r){return Buffer.from(t,e,r)}function WNe(t,e,r,n){return Ke(t).includes(e,r,n)}function YNe(t,e,r,n){return Ke(t).indexOf(e,r,n)}function $Ne(t,e,r,n){return Ke(t).lastIndexOf(e,r,n)}function kNe(t){return Ke(t).swap16()}function VNe(t){return Ke(t).swap32()}function qNe(t){return Ke(t).swap64()}function Ke(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function XNe(t,e,r,n){return Ke(t).toString(e,r,n)}function jNe(t,e,r,n,i){return Ke(t).write(e,r,n,i)}function KNe(t,e){return Ke(t).readDoubleBE(e)}function zNe(t,e){return Ke(t).readDoubleLE(e)}function JNe(t,e){return Ke(t).readFloatBE(e)}function QNe(t,e){return Ke(t).readFloatLE(e)}function ZNe(t,e){return Ke(t).readInt32BE(e)}function ege(t,e){return Ke(t).readInt32LE(e)}function tge(t,e){return Ke(t).readUInt32BE(e)}function rge(t,e){return Ke(t).readUInt32LE(e)}function nge(t,e,r){return Ke(t).writeDoubleBE(e,r)}function ige(t,e,r){return Ke(t).writeDoubleLE(e,r)}function sge(t,e,r){return Ke(t).writeFloatBE(e,r)}function oge(t,e,r){return Ke(t).writeFloatLE(e,r)}function age(t,e,r){return Ke(t).writeInt32BE(e,r)}function lge(t,e,r){return Ke(t).writeInt32LE(e,r)}function cge(t,e,r){return Ke(t).writeUInt32BE(e,r)}function uge(t,e,r){return Ke(t).writeUInt32LE(e,r)}U2.exports={isBuffer:wNe,isEncoding:LNe,alloc:DNe,allocUnsafe:PNe,allocUnsafeSlow:xNe,byteLength:MNe,compare:vNe,concat:UNe,copy:BNe,equals:FNe,fill:GNe,from:HNe,includes:WNe,indexOf:YNe,lastIndexOf:$Ne,swap16:kNe,swap32:VNe,swap64:qNe,toBuffer:Ke,toString:XNe,write:jNe,readDoubleBE:KNe,readDoubleLE:zNe,readFloatBE:JNe,readFloatLE:QNe,readInt32BE:ZNe,readInt32LE:ege,readUInt32BE:tge,readUInt32LE:rge,writeDoubleBE:nge,writeDoubleLE:ige,writeFloatBE:sge,writeFloatLE:oge,writeInt32BE:age,writeInt32LE:lge,writeUInt32BE:cge,writeUInt32LE:uge}});var F2=O((Pve,B2)=>{var dge=Jl();B2.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return dge.toString(e,this.encoding)}flush(){return""}}});var H2=O((Mve,G2)=>{var Ege=Jl();G2.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return Ege.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){let s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="\uFFFD");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="\uFFFD";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){let e=this.bytesNeeded>0?"\uFFFD":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}});var Y2=O((Uve,W2)=>{var fge=F2(),hge=H2();W2.exports=class{constructor(e="utf8"){switch(this.encoding=Tge(e),this.encoding){case"utf8":this.decoder=new hge;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new fge(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function Tge(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}});var JO=O((Bve,dq)=>{var{EventEmitter:pge}=D2(),Up=new Error("Stream was destroyed"),UO=new Error("Premature close"),j2=vO(),Sge=Y2(),BO=typeof queueMicrotask>"u"?t=>global.process.nextTick(t):queueMicrotask,pt=(1<<29)-1,pi=1,kO=2,ra=4,Nd=8,K2=pt^pi,Rge=pt^kO,yd=16,Ql=32,tc=64,Gs=128,wd=256,VO=512,na=1024,FO=2048,qO=4096,XO=8192,vn=16384,Fs=32768,Bp=65536,ia=131072,z2=wd|VO,Age=yd|Bp,_ge=tc|yd,Ige=qO|Gs,jO=wd|ia,mge=pt^yd,Nge=pt^tc,gge=pt^(tc|Bp),$2=pt^Bp,Oge=pt^wd,Cge=pt^(Gs|XO),bge=pt^na,k2=pt^z2,J2=pt^Fs,yge=pt^Ql,Q2=pt^ia,wge=pt^jO,Zi=1<<18,ec=2<<18,Ld=4<<18,sa=8<<18,Dd=16<<18,Hs=32<<18,GO=64<<18,Zl=128<<18,KO=256<<18,oa=512<<18,Fp=1024<<18,Lge=pt^(Zi|KO),Z2=pt^Ld,Dge=pt^(Zi|oa),Pge=pt^Dd,xge=pt^sa,eq=pt^Zl,Mge=pt^ec,tq=pt^Fp,gd=yd|Zi,rq=pt^gd,zO=vn|Hs,Si=ra|Nd|kO,zr=Si|pi,nq=Si|zO,vge=Z2&Nge,Gp=Zl|Fs,Uge=Gp&rq,iq=zr|Uge,Bge=zr|na|vn,V2=zr|vn|Gs,Fge=zr|na|Gs,Gge=zr|qO|Gs|XO,Hge=zr|yd|na|vn|Bp|ia,Wge=Si|na|vn,Yge=Ql|zr|Fs|tc,$ge=Fs|pi,kge=zr|oa|Hs,Vge=sa|Dd,sq=sa|Zi,qge=sa|Dd|zr|Zi,q2=zr|Zi|sa|Fp,Xge=Ld|Zi,jge=Zi|KO,Kge=zr|oa|sq|Hs,zge=Dd|Si|oa|Hs,Jge=ec|zr|Zl|Ld,Qge=oa|Hs|Si,Dp=Symbol.asyncIterator||Symbol("asyncIterator"),Pp=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new j2,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||uq,this.map=i||n,this.afterWrite=tOe.bind(this),this.afterUpdateNextTick=iOe.bind(this)}get ended(){return(this.stream._duplexState&Hs)!==0}push(e){return(this.stream._duplexState&Qge)!==0?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=sa,!0):(this.stream._duplexState|=Vge,!1))}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=xge),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|oa)&Z2}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&q2)===sq;)n.push(i._writableState.shift());if((i._duplexState&zr)!==0)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=ec;do{for(;(e._duplexState&q2)===sa;){let r=this.shift();e._duplexState|=jge,e._write(r,this.afterWrite)}(e._duplexState&Xge)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=Mge}updateNonPrimary(){let e=this.stream;if((e._duplexState&Kge)===oa){e._duplexState=e._duplexState|Zi,e._final(eOe.bind(this));return}if((e._duplexState&Si)===ra){(e._duplexState&Gp)===0&&(e._duplexState|=gd,e._destroy(oq.bind(this)));return}(e._duplexState&iq)===pi&&(e._duplexState=(e._duplexState|gd)&K2,e._open(aq.bind(this)))}continueUpdate(){return(this.stream._duplexState&Zl)===0?!1:(this.stream._duplexState&=eq,!0)}updateCallback(){(this.stream._duplexState&Jge)===Ld?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&Zl)===0&&(this.stream._duplexState|=Zl,(this.stream._duplexState&ec)===0&&BO(this.afterUpdateNextTick))}},HO=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new j2,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=o||s||uq,this.map=i||n,this.pipeTo=null,this.afterRead=rOe.bind(this),this.afterUpdateNextTick=nOe.bind(this)}get ended(){return(this.stream._duplexState&vn)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=VO,this.pipeTo=e,this.pipeline=new YO(this.stream,e,r),r&&this.stream.on("error",X2),bd(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",X2),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",Zge.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|na)&gge,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=$2,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|Gs)&$2,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=Cge),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&V2)===Gs){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=k2),(e._duplexState&FO)!==0&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=ia,this.updateNextTick()),null}drain(){let e=this.stream;for(;(e._duplexState&V2)===Gs&&(e._duplexState&z2)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=k2),(e._duplexState&FO)!==0&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=Ql;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&Hge)===ia;)e._duplexState|=Age,e._read(this.afterRead),this.drain();(e._duplexState&Gge)===Ige&&(e._duplexState|=XO,e.emit("readable")),(e._duplexState&_ge)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=yge}updateNonPrimary(){let e=this.stream;if((e._duplexState&Fge)===na&&(e._duplexState=(e._duplexState|vn)&bge,e.emit("end"),(e._duplexState&nq)===zO&&(e._duplexState|=ra),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&Si)===ra){(e._duplexState&Gp)===0&&(e._duplexState|=gd,e._destroy(oq.bind(this)));return}(e._duplexState&iq)===pi&&(e._duplexState=(e._duplexState|gd)&K2,e._open(aq.bind(this)))}continueUpdate(){return(this.stream._duplexState&Fs)===0?!1:(this.stream._duplexState&=J2,!0)}updateCallback(){(this.stream._duplexState&Yge)===tc?this.update():this.updateNextTick()}updateNextTickIfOpen(){(this.stream._duplexState&$ge)===0&&(this.stream._duplexState|=Fs,(this.stream._duplexState&Ql)===0&&BO(this.afterUpdateNextTick))}updateNextTick(){(this.stream._duplexState&Fs)===0&&(this.stream._duplexState|=Fs,(this.stream._duplexState&Ql)===0&&BO(this.afterUpdateNextTick))}},WO=class{constructor(e){this.data=null,this.afterTransform=oOe.bind(e),this.afterFinal=null}},YO=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&vn)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&vn)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function Zge(){this.stream._duplexState|=VO,this.updateCallback()}function eOe(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&Si)===0&&(e._duplexState|=Hs,e.emit("finish")),(e._duplexState&nq)===zO&&(e._duplexState|=ra),e._duplexState&=Dge,(e._duplexState&ec)===0?this.update():this.updateNextTick()}function oq(t){let e=this.stream;!t&&this.error!==Up&&(t=this.error),t&&e.emit("error",t),e._duplexState|=Nd,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function tOe(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=Lge,this.drains!==null&&sOe(this.drains),(e._duplexState&qge)===Dd&&(e._duplexState&=Pge,(e._duplexState&GO)===GO&&e.emit("drain")),this.updateCallback()}function rOe(t){t&&this.stream.destroy(t),this.stream._duplexState&=mge,this.readAhead===!1&&(this.stream._duplexState&wd)===0&&(this.stream._duplexState&=Q2),this.updateCallback()}function nOe(){(this.stream._duplexState&Ql)===0&&(this.stream._duplexState&=J2,this.update())}function iOe(){(this.stream._duplexState&ec)===0&&(this.stream._duplexState&=eq,this.update())}function sOe(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function aq(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&ra)===0&&((e._duplexState&Bge)===0&&(e._duplexState|=tc),(e._duplexState&kge)===0&&(e._duplexState|=Ld),e.emit("open")),e._duplexState&=rq,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function oOe(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}function aOe(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=FO|jO,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=qO,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=GO,this._writableState.updateNextTick())}var Od=class extends pge{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",SOe.bind(this))),this.on("newListener",aOe)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&Nd)!==0}get destroying(){return(this._duplexState&Si)!==0}destroy(e){(this._duplexState&Si)===0&&(e||(e=Up),this._duplexState=(this._duplexState|ra)&vge,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=kO,this._predestroy(),this._duplexState&=Rge,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},xp=class t extends Od{constructor(e){super(e),this._duplexState|=pi|Hs|ia,this._readableState=new HO(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=Q2),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){let r=new Sge(e),n=this._readableState.map||uOe;return this._readableState.map=i,this;function i(s){let o=r.push(s);return o===""&&(s.byteLength!==0||r.remaining>0)?null:n(o)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=jO,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?wge:Oge,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(hOe(e))return e;if(e[Dp])return this._fromAsyncIterator(e[Dp](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&Wge)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&wd)===0}[Dp](){let e=this,r=null,n=null,i=null;return this.on("error",c=>{r=c}),this.on("readable",s),this.on("close",o),{[Dp](){return this},next(){return new Promise(function(c,u){n=c,i=u;let d=e.read();d!==null?a(d):(e._duplexState&Nd)!==0&&a(null)})},return(){return l(null)},throw(c){return l(c)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(c){i!==null&&(r?i(r):c===null&&(e._duplexState&vn)===0?i(Up):n({value:c,done:c===null}),i=n=null)}function l(c){return e.destroy(c),new Promise((u,d)=>{if(e._duplexState&Nd)return u({value:void 0,done:!0});e.once("close",function(){c?d(c):u({value:void 0,done:!0})})})}}},Mp=class extends Od{constructor(e){super(e),this._duplexState|=pi|vn,this._writableState=new Pp(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=Fp}uncork(){this._duplexState&=tq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&zge)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,i=(ROe(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&KO?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Cd=class extends xp{constructor(e){super(e),this._duplexState=pi|this._duplexState&ia,this._writableState=new Pp(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=Fp}uncork(){this._duplexState&=tq,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},vp=class extends Cd{constructor(e){super(e),this._transformState=new WO(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(lOe.bind(this))}},$O=class extends vp{};function lOe(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function cOe(...t){return new Promise((e,r)=>lq(...t,n=>{if(n)return r(n);e()}))}function lq(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let c=1;c<r.length;c++)s=r[c],bd(i)?i.pipe(s,l):(a(i,!0,c>1,l),i.pipe(s)),i=s;if(n){let c=!1,u=bd(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",d=>{o===null&&(o=d)}),s.on("finish",()=>{c=!0,u||n(o)}),u&&s.on("close",()=>n(o||(c?null:UO)))}return s;function a(c,u,d,f){c.on("error",f),c.on("close",E);function E(){if(u&&c._readableState&&!c._readableState.ended||d&&c._writableState&&!c._writableState.ended)return f(UO)}}function l(c){if(!(!c||o)){o=c;for(let u of r)u.destroy(c)}}}function uOe(t){return t}function cq(t){return!!t._readableState||!!t._writableState}function bd(t){return typeof t._duplexState=="number"&&cq(t)}function dOe(t){return!!t._readableState&&t._readableState.ended}function EOe(t){return!!t._writableState&&t._writableState.ended}function fOe(t,e={}){let r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===Up?null:r}function hOe(t){return bd(t)&&t.readable}function TOe(t){return(t._duplexState&pi)!==pi||(t._duplexState&Gp)!==0}function pOe(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function uq(t){return pOe(t)?t.byteLength:1024}function X2(){}function SOe(){this.destroy(new Error("Stream aborted."))}function ROe(t){return t._writev!==Mp.prototype._writev&&t._writev!==Cd.prototype._writev}dq.exports={pipeline:lq,pipelinePromise:cOe,isStream:cq,isStreamx:bd,isEnded:dOe,isFinished:EOe,isDisturbed:TOe,getStreamError:fOe,Stream:Od,Writable:Mp,Readable:xp,Duplex:Cd,Transform:vp,PassThrough:$O}});var eC=O(nc=>{var Ge=Jl(),AOe="0000000000000000000",_Oe="7777777777777777777",Hp=48,Eq=Ge.from([117,115,116,97,114,0]),IOe=Ge.from([Hp,Hp]),mOe=Ge.from([117,115,116,97,114,32]),NOe=Ge.from([32,0]),gOe=4095,Pd=257,ZO=263;nc.decodeLongPath=function(e,r){return rc(e,0,e.length,r)};nc.encodePax=function(e){let r="";e.name&&(r+=QO(" path="+e.name+`
`)),e.linkname&&(r+=QO(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=QO(" "+i+"="+n[i]+`
`);return Ge.from(r)};nc.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(Ge.toString(e.subarray(0,n)),10);if(!i)return r;let s=Ge.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};nc.encode=function(e){let r=Ge.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),Ge.byteLength(n)!==n.length)return null;for(;Ge.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return Ge.byteLength(n)>100||Ge.byteLength(i)>155||e.linkname&&Ge.byteLength(e.linkname)>100?null:(Ge.write(r,n),Ge.write(r,Ys(e.mode&gOe,6),100),Ge.write(r,Ys(e.uid,6),108),Ge.write(r,Ys(e.gid,6),116),DOe(e.size,r,124),Ge.write(r,Ys(e.mtime.getTime()/1e3|0,11),136),r[156]=Hp+wOe(e.type),e.linkname&&Ge.write(r,e.linkname,157),Ge.copy(Eq,r,Pd),Ge.copy(IOe,r,ZO),e.uname&&Ge.write(r,e.uname,265),e.gname&&Ge.write(r,e.gname,297),Ge.write(r,Ys(e.devmajor||0,6),329),Ge.write(r,Ys(e.devminor||0,6),337),i&&Ge.write(r,i,345),Ge.write(r,Ys(hq(r),6),148),r)};nc.decode=function(e,r,n){let i=e[156]===0?0:e[156]-Hp,s=rc(e,0,100,r),o=Ws(e,100,8),a=Ws(e,108,8),l=Ws(e,116,8),c=Ws(e,124,12),u=Ws(e,136,12),d=yOe(i),f=e[157]===0?null:rc(e,157,100,r),E=rc(e,265,32),T=rc(e,297,32),h=Ws(e,329,8),p=Ws(e,337,8),S=hq(e);if(S===256)return null;if(S!==Ws(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(OOe(e))e[345]&&(s=rc(e,345,155,r)+"/"+s);else if(!COe(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:l,size:c,mtime:new Date(1e3*u),type:d,linkname:f,uname:E,gname:T,devmajor:h,devminor:p,pax:null}};function OOe(t){return Ge.equals(Eq,t.subarray(Pd,Pd+6))}function COe(t){return Ge.equals(mOe,t.subarray(Pd,Pd+6))&&Ge.equals(NOe,t.subarray(ZO,ZO+2))}function bOe(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function yOe(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function wOe(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function fq(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function hq(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function Ys(t,e){return t=t.toString(8),t.length>e?_Oe.slice(0,e)+" ":AOe.slice(0,e-t.length)+t+" "}function LOe(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function DOe(t,e,r){t.toString(8).length>11?LOe(t,e,r):Ge.write(e,Ys(t,11),r)}function POe(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function Ws(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return POe(t);{for(;e<t.length&&t[e]===32;)e++;let n=bOe(fq(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(Ge.toString(t.subarray(e,n)),8)}}function rc(t,e,r,n){return Ge.toString(t.subarray(e,fq(t,0,e,e+r)),n)}function QO(t){let e=Ge.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var Aq=O((Gve,Rq)=>{var{Writable:xOe,Readable:MOe,getStreamError:Tq}=JO(),vOe=vO(),pq=Jl(),ic=eC(),UOe=pq.alloc(0),rC=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new vOe,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return UOe;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return pq.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},nC=class extends MOe{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(Tq(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=Sq(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},iC=class extends xOe{constructor(e){super(e),e||(e={}),this._buffer=new rC,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=tC,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=ic.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=ic.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=ic.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=ic.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?ic.decodePax(e):Object.assign({},this._paxGlobal,ic.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=Sq(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new nC(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=tC,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(Tq(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",c),this.on("error",f=>{e=f}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(l)},return(){return d(null)},throw(f){return d(f)}};function a(f){if(!s)return;let E=s;s=null,E(f)}function l(f,E){if(e)return E(e);if(i){f({value:i,done:!1}),i=null;return}r=f,n=E,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function c(f,E,T){s=T,E.on("error",tC),r?(r({value:E,done:!1}),r=n=null):i=E}function u(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function d(f){return o.destroy(f),a(f),new Promise((E,T)=>{if(o.destroyed)return E({value:void 0,done:!0});o.once("close",function(){f?T(f):E({value:void 0,done:!0})})})}}};Rq.exports=function(e){return new iC(e)};function tC(){}function Sq(t){return t&=511,t&&512-t}});var Iq=O((Hve,sC)=>{var _q={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{sC.exports=require("fs").constants||_q}catch{sC.exports=_q}});var Cq=O((Wve,Oq)=>{var{Readable:BOe,Writable:FOe,getStreamError:mq}=JO(),aa=Jl(),sc=Iq(),Wp=eC(),GOe=493,HOe=420,Nq=aa.alloc(1024),aC=class extends FOe{constructor(e,r,n){super({mapWritable:YOe,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?aa.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?aa.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),gq(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return mq(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},lC=class extends BOe{constructor(e){super(e),this._drain=oC,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=oC),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=WOe(e.mode)),e.mode||(e.mode=e.type==="directory"?GOe:HOe),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=aa.from(r));let i=new aC(this,e,n);return aa.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(Nq),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=Wp.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=Wp.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(Wp.encode(n)),this.push(r),gq(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(Wp.encode(n))}_doDrain(){let e=this._drain;this._drain=oC,e()}_predestroy(){let e=mq(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};Oq.exports=function(e){return new lC(e)};function WOe(t){switch(t&sc.S_IFMT){case sc.S_IFBLK:return"block-device";case sc.S_IFCHR:return"character-device";case sc.S_IFDIR:return"directory";case sc.S_IFIFO:return"fifo";case sc.S_IFLNK:return"symlink"}return"file"}function oC(){}function gq(t,e){e&=511,e&&t.push(Nq.subarray(0,512-e))}function YOe(t){return aa.isBuffer(t)?t:aa.from(t)}});var bq=O(cC=>{cC.extract=Aq();cC.pack=Cq()});var Lq=O(($ve,wq)=>{var $Oe=require("zlib"),kOe=bq(),yq=fl(),es=function(t){if(!(this instanceof es))return new es(t);t=this.options=yq.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=kOe.pack(t),this.compressor=!1,t.gzip&&(this.compressor=$Oe.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};es.prototype._onCompressorError=function(t){this.engine.emit("error",t)};es.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(o,a){if(o){r(o);return}n.engine.entry(e,a,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(o){r(o,e)});t.pipe(s)}else e.sourceType==="stream"&&yq.collectStream(t,i)};es.prototype.finalize=function(){this.engine.finalize()};es.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};es.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};es.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};wq.exports=es});var xq=O((kve,Pq)=>{"use strict";function VOe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qOe=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Dq(t){if(Buffer.isBuffer(t))return t;if(typeof t=="number")return Buffer.alloc(t);if(typeof t=="string")return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function XOe(t){let e=Dq(4);return e.writeInt32BE(t,0),e}function uC(t,e){t=Dq(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~~e^-1;for(var n=0;n<t.length;n++)r=qOe[(r^t[n])&255]^r>>>8;return r^-1}function dC(){return XOe(uC.apply(null,arguments))}dC.signed=function(){return uC.apply(null,arguments)};dC.unsigned=function(){return uC.apply(null,arguments)>>>0};var jOe=dC,KOe=VOe(jOe);Pq.exports=KOe});var Bq=O((Vve,Uq)=>{var zOe=require("util").inherits,Mq=Zm().Transform,JOe=xq(),vq=fl(),$s=function(t){if(!(this instanceof $s))return new $s(t);t=this.options=vq.defaults(t,{}),Mq.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};zOe($s,Mq);$s.prototype._transform=function(t,e,r){r(null,t)};$s.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};$s.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,o){if(s){r(s);return}e.size=o.length||0,e.crc32=JOe.unsigned(o),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&vq.collectStream(t,i)};$s.prototype.finalize=function(){this._writeStringified(),this.end()};Uq.exports=$s});var Gq=O((qve,Fq)=>{var QOe=_H(),xd={},ks=function(t,e){return ks.create(t,e)};ks.create=function(t,e){if(xd[t]){var r=new QOe(t,e);return r.setFormat(t),r.setModule(new xd[t](e)),r}else throw new Error("create("+t+"): format not registered")};ks.registerFormat=function(t,e){if(xd[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");xd[t]=e};ks.isRegisteredFormat=function(t){return!!xd[t]};ks.registerFormat("zip",w2());ks.registerFormat("tar",Lq());ks.registerFormat("json",Bq());Fq.exports=ks});var la,oc,Hq=Y(()=>{"use strict";la=require("buffer"),oc=class{constructor(e=65536){this.chunkSize=e,this.chunks=[],this.currentBuffer=la.Buffer.alloc(e),this.cursor=0}ensureCapacity(e){this.cursor+e>this.chunkSize&&this._flush()}_ensureCapacity(e){this.ensureCapacity(e)}_flush(){this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=la.Buffer.alloc(this.chunkSize),this.cursor=0)}write(e){let r=e.length,n=0;for(;r>0;){let i=this.chunkSize-this.cursor;i===0&&(this._flush(),i=this.chunkSize);let s=Math.min(r,i);e.copy(this.currentBuffer,this.cursor,n,n+s),this.cursor+=s,n+=s,r-=s}}writeByte(e){this._ensureCapacity(1),this.currentBuffer[this.cursor]=e,this.cursor++}writeUnsafeByte(e){this.currentBuffer[this.cursor++]=e}writeInt32LE(e){this._ensureCapacity(4),this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeUnsafeInt32LE(e){this.currentBuffer.writeInt32LE(e,this.cursor),this.cursor+=4}writeDoubleLE(e){this._ensureCapacity(8),this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeUnsafeDoubleLE(e){this.currentBuffer.writeDoubleLE(e,this.cursor),this.cursor+=8}writeString(e){let r=la.Buffer.byteLength(e,"utf8");if(this.cursor+r<=this.chunkSize){this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8");return}this._flush(),r>this.chunkSize?this.chunks.push(la.Buffer.from(e,"utf8")):this.cursor+=this.currentBuffer.write(e,this.cursor,"utf8")}writeUtf16LE(e){let r=e.length*2;if(this.cursor+r<=this.chunkSize){for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}return}if(this._flush(),r>this.chunkSize)this.chunks.push(la.Buffer.from(e,"utf16le"));else for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);this.currentBuffer[this.cursor++]=i&255,this.currentBuffer[this.cursor++]=i>>8&255}}getChunks(){return this.cursor>0&&(this.chunks.push(this.currentBuffer.subarray(0,this.cursor)),this.currentBuffer=la.Buffer.alloc(this.chunkSize),this.cursor=0),this.chunks}reset(){this.chunks=[],this.cursor=0}}});var $q={};Pt($q,{XlsbWriter:()=>$p,default:()=>eCe});var Wq,Yq,Yp,ZOe,$p,eCe,kq=Y(()=>{"use strict";Wq=j(require("fs")),Yq=j(Gq()),Yp=require("stream");Hq();ZOe=/[\\/*?[\]:]/g,$p=class{constructor(e){this.sheetCount=0;this.sheetList=[];this.sstDic=new Map;this.sstCntUnique=0;this.sstCntAll=0;this.colWidths=[];this._autofilterIsOn=!1;this.currentSheetBuffer=null;this.currentSheetRowNum=0;this.currentSheetStartCol=0;this.currentSheetEndCol=0;this.currentSheetDoAutofilter=!1;this.isStreaming=!1;this.filePath=e,this.output=Wq.createWriteStream(e),this.archive=(0,Yq.default)("zip"),this.archive.pipe(this.output),this._oaEpoch=Date.UTC(1899,11,30),this._sheet1Bytes=Buffer.from([129,1,0,147,1,23,203,4,2,0,64,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,148,1,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,133,1,0,137,1,30,220,3,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,100,0,0,0,0,0,0,0,0,0,0,0,152,1,36,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,1,0,134,1,0,37,6,1,0,2,14,0,128,149,8,2,5,0,38,0,229,3,12,255,255,255,255,8,0,44,1,0,0,0,0,145,1,0,37,6,1,0,2,14,0,128,128,8,2,5,0,38,0,0,25,0,0,0,0,0,0,0,0,44,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,7,12,0,0,0,0,0,0,0,0,0,0,0,0,146,1,0,151,4,66,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,221,3,2,16,0,220,3,48,102,102,102,102,102,102,230,63,102,102,102,102,102,102,230,63,0,0,0,0,0,0,232,63,0,0,0,0,0,0,232,63,51,51,51,51,51,51,211,63,51,51,51,51,51,51,211,63,37,6,1,0,0,16,0,128,128,24,16,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,38,0,130,1,0]),this._workbookBinStart=Buffer.from([131,1,0,128,1,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,120,0,108,0,1,0,0,0,55,0,1,0,0,0,54,0,5,0,0,0,50,0,52,0,51,0,50,0,54,0,153,1,12,32,0,1,0,0,0,0,0,0,0,0,0,37,6,1,0,3,15,0,128,151,16,52,24,0,0,0,67,0,58,0,92,0,115,0,113,0,108,0,115,0,92,0,84,0,101,0,115,0,116,0,121,0,90,0,97,0,112,0,105,0,115,0,117,0,88,0,108,0,115,0,98,0,92,0,38,0,37,6,1,0,0,16,0,128,129,24,130,1,0,0,0,0,0,0,0,0,47,0,0,0,49,0,51,0,95,0,110,0,99,0,114,0,58,0,49,0,95,0,123,0,49,0,54,0,53,0,48,0,56,0,68,0,54,0,57,0,45,0,67,0,70,0,56,0,55,0,45,0,52,0,55,0,54,0,57,0,45,0,56,0,52,0,53,0,54,0,45,0,68,0,52,0,65,0,52,0,48,0,49,0,49,0,51,0,49,0,53,0,54,0,55,0,125,0,47,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,135,1,0,37,6,1,0,2,16,0,128,128,24,16,0,0,0,0,13,0,0,0,255,255,255,255,0,0,0,0,38,0,158,1,29,0,0,0,0,158,22,0,0,180,105,0,0,232,38,0,0,88,2,0,0,0,0,0,0,0,0,0,0,120,136,1,0,143,1,0]),this._workbookBinMiddle=Buffer.from([144,1,0]),this._workbookBinEnd=Buffer.from([157,1,26,53,234,2,0,1,0,0,0,100,0,0,0,252,169,241,210,77,98,80,63,1,0,0,0,106,0,155,1,1,0,35,4,3,15,0,0,171,16,1,1,36,0,132,1,0]),this._stylesBin=Buffer.from([150,2,0,231,4,4,2,0,0,0,44,44,164,0,19,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,92,0,32,0,104,0,104,0,58,0,109,0,109,0,44,30,166,0,12,0,0,0,121,0,121,0,121,0,121,0,92,0,45,0,109,0,109,0,92,0,45,0,100,0,100,0,232,4,0,227,4,4,1,0,0,0,43,39,220,0,0,0,144,1,0,0,0,2,0,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,43,39,220,0,1,0,188,2,0,0,0,2,238,0,7,1,0,0,0,0,0,255,2,7,0,0,0,67,0,97,0,108,0,105,0,98,0,114,0,105,0,37,6,1,0,2,14,0,128,129,8,0,38,0,228,4,0,219,4,4,2,0,0,0,45,68,0,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,68,17,0,0,0,3,64,0,0,0,0,0,255,3,65,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,4,0,229,4,4,1,0,0,0,46,51,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,230,4,0,242,4,4,1,0,0,0,47,16,255,255,0,0,0,0,0,0,0,0,0,0,16,16,0,0,243,4,0,233,4,4,4,0,0,0,47,16,0,0,0,0,0,0,0,0,0,0,0,0,16,16,0,0,47,16,0,0,164,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,166,0,0,0,0,0,0,0,0,0,16,16,1,0,47,16,0,0,0,1,1,0,0,0,0,0,0,0,16,16,0,0,234,4,0,235,4,4,1,0,0,0,37,6,1,0,2,17,0,128,128,24,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,48,28,0,0,0,0,1,0,0,0,8,0,0,0,78,0,111,0,114,0,109,0,97,0,108,0,110,0,121,0,236,4,0,249,3,4,0,0,0,0,250,3,0,252,3,80,0,0,0,0,17,0,0,0,84,0,97,0,98,0,108,0,101,0,83,0,116,0,121,0,108,0,101,0,77,0,101,0,100,0,105,0,117,0,109,0,50,0,17,0,0,0,80,0,105,0,118,0,111,0,116,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,54,0,253,3,0,35,4,2,14,0,0,235,8,0,246,8,42,0,0,0,0,17,0,0,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,247,8,0,236,8,0,36,0,35,4,3,15,0,0,176,16,0,178,16,50,0,0,0,0,21,0,0,0,84,0,105,0,109,0,101,0,83,0,108,0,105,0,99,0,101,0,114,0,83,0,116,0,121,0,108,0,101,0,76,0,105,0,103,0,104,0,116,0,49,0,179,16,0,177,16,0,36,0,151,2,0]),this._binaryIndexBin=Buffer.from([42,24,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,149,2,0]),this._rRkIntegerLowerLimit=-1<<29,this._rRkIntegerUpperLimit=(1<<29)-1,this._autoFilterStartBytes=Buffer.from([161,1,16]),this._autoFilterEndBytes=Buffer.from([162,1,0]),this._stickHeaderA1bytes=Buffer.from([151,1,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,63,1,0,0,0,0,0,0,0,2,0,0,0,3]),this._magicFilterExcel2016Fix0=Buffer.from([225,2,0,229,2,0,234,2]),this._magicFilterExcel2016Fix1=Buffer.from([39,70,33,0,0,0,0,255,0,0,0,15,0,0,0,95,0,70,0,105,0,108,0,116,0,101,0,114,0,68,0,97,0,116,0,97,0,98,0,97,0,115,0,101,0,15,0,0,0,59,255,0]),this._magicFilterExcel2016Fix2=Buffer.from([0,0,0,0,255,255,255,255])}_sanitizeSheetName(e){if(!e||typeof e!="string")return`Sheet${this.sheetCount+1}`;let r=e.replace(ZOe,"_");return r.length>31&&(r=r.substring(0,31)),r.trim().length===0&&(r=`Sheet${this.sheetCount+1}`),r}addSheet(e,r=!1){let n=this._sanitizeSheetName(e);this.sheetCount++,this.sheetList.push({name:n,pathInArchive:`xl/worksheets/sheet${this.sheetCount}.bin`,hidden:r,nameInArchive:`sheet${this.sheetCount}.bin`,sheetId:this.sheetCount,filterHeaderRange:null})}startSheet(e,r,n,i={}){if(this.isStreaming)throw new Error("Already in streaming mode. Call endSheet() first.");let{hidden:s=!1,doAutofilter:o=!0}=i;this.addSheet(e,s),this.isStreaming=!0,this.currentSheetBuffer=new oc,this.currentSheetRowNum=0,this.currentSheetStartCol=0,this.currentSheetEndCol=r,this.currentSheetDoAutofilter=o&&n!==void 0;let a=this.currentSheetBuffer;if(this.colWidths=new Array(r).fill(-1),n)for(let c=0;c<r;c++){let d=1.25*(n[c]?n[c].length:0)+2;d>80&&(d=80),this.colWidths[c]<d&&(this.colWidths[c]=d)}let l=Buffer.from(this._sheet1Bytes);l.writeInt32LE(this.currentSheetStartCol,40),l.writeInt32LE(this.currentSheetEndCol,44),this.sheetCount!==1&&(l[54]=156),a.write(l.subarray(0,84)),this.currentSheetDoAutofilter&&a.write(this._stickHeaderA1bytes),a.write(l.subarray(84,159)),a.writeByte(134),a.writeByte(3);for(let c=this.currentSheetStartCol;c<this.currentSheetEndCol;c++){a.writeByte(0),a.writeByte(60),a.writeByte(18),a.writeInt32LE(c),a.writeInt32LE(c);let u=this.colWidths[c]>0?Math.floor(this.colWidths[c]):10;a.writeByte(0),a.writeByte(Math.max(0,Math.min(255,u))),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(2)}if(a.writeByte(0),a.writeByte(135),a.writeByte(3),a.writeByte(0),a.write(l.subarray(159,175)),a.write(Buffer.from([38,0])),n){this.createRowHeader(a,this.currentSheetRowNum,this.currentSheetStartCol,this.currentSheetEndCol);for(let c=0;c<n.length;c++)this.writeString(a,n[c],c,!0);this.currentSheetRowNum++}}writeRow(e){if(!this.isStreaming||!this.currentSheetBuffer)throw new Error("Not in streaming mode. Call startSheet() first.");if(e.length!==this.currentSheetEndCol-this.currentSheetStartCol)throw new Error(`Row length mismatch. Expected ${this.currentSheetEndCol-this.currentSheetStartCol} columns, got ${e.length}`);let r=this.currentSheetBuffer;this.createRowHeader(r,this.currentSheetRowNum,this.currentSheetStartCol,this.currentSheetEndCol);for(let n=0;n<e.length;n++){let i=e[n];i!=null&&(typeof i=="number"?Number.isInteger(i)?i>=this._rRkIntegerLowerLimit&&i<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(r,i,n):this.writeDouble(r,i,n):this.writeDouble(r,i,n):typeof i=="bigint"?this.writeString(r,i.toString(),n):typeof i=="boolean"?this.writeBool(r,i,n):i instanceof Date?this.writeDateTime(r,i,n):this.writeString(r,i.toString(),n))}this.currentSheetRowNum++}endSheet(){if(!this.isStreaming||!this.currentSheetBuffer)throw new Error("Not in streaming mode. Call startSheet() first.");let e=this.currentSheetBuffer,r=Buffer.from(this._sheet1Bytes);if(e.write(r.subarray(218,290)),this.currentSheetDoAutofilter){this._autofilterIsOn=!0;let n=this.currentSheetRowNum;e.write(this._autoFilterStartBytes);let i=Buffer.alloc(8);i.writeInt32LE(0,0),i.writeInt32LE(n-1,4),e.write(i);let s=Buffer.alloc(8);s.writeInt32LE(this.currentSheetStartCol,0),s.writeInt32LE(this.currentSheetEndCol-1,4),e.write(s),e.write(this._autoFilterEndBytes);let o=this.sheetList[this.sheetCount-1];o.filterData={startRow:0,endRow:this.currentSheetRowNum-1,startColumn:this.currentSheetStartCol,endColumn:this.currentSheetEndCol-1}}e.write(r.subarray(290)),this.archive.append(Yp.Readable.from(e.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive}),this.isStreaming=!1,this.currentSheetBuffer=null,this.currentSheetRowNum=0,this.currentSheetStartCol=0,this.currentSheetEndCol=0,this.currentSheetDoAutofilter=!1}writeSheet(e,r=null,n=!0){let i=new oc,s=0;if(e.length>0?s=e[0].length:r&&(s=r.length),this.colWidths=new Array(s).fill(-1),r)for(let u=0;u<s;u++){let f=1.25*(r[u]?r[u].length:0)+2;f>80&&(f=80),this.colWidths[u]<f&&(this.colWidths[u]=f)}for(let u=0;u<Math.min(e.length,100);u++){let d=e[u];for(let f=0;f<d.length;f++){let E=d[f],h=1.25*(E?E.toString().length:0)+2;h>80&&(h=80),this.colWidths[f]<h&&(this.colWidths[f]=h)}}let o=Buffer.from(this._sheet1Bytes),a=0,l=s;o.writeInt32LE(a,40),o.writeInt32LE(l,44),this.sheetCount!==1&&(o[54]=156),i.write(o.subarray(0,84)),n&&r&&i.write(this._stickHeaderA1bytes),i.write(o.subarray(84,159)),i.writeByte(134),i.writeByte(3);for(let u=a;u<l;u++){i.writeByte(0),i.writeByte(60),i.writeByte(18),i.writeInt32LE(u),i.writeInt32LE(u);let d=this.colWidths[u]>0?Math.floor(this.colWidths[u]):10;i.writeByte(0),i.writeByte(Math.max(0,Math.min(255,d))),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(2)}i.writeByte(0),i.writeByte(135),i.writeByte(3),i.writeByte(0),i.write(o.subarray(159,175)),i.write(Buffer.from([38,0]));let c=0;if(r){this.createRowHeader(i,c,a,l);for(let u=0;u<r.length;u++)this.writeString(i,r[u],u,!0);c++}for(let u=0;u<e.length;u++){this.createRowHeader(i,c,a,l);let d=e[u];for(let f=0;f<d.length;f++){let E=d[f];E!=null&&(typeof E=="number"?Number.isInteger(E)?E>=this._rRkIntegerLowerLimit&&E<=this._rRkIntegerUpperLimit?this.writeRkNumberInteger(i,E,f):this.writeDouble(i,E,f):this.writeDouble(i,E,f):typeof E=="bigint"?this.writeString(i,E.toString(),f):typeof E=="boolean"?this.writeBool(i,E,f):E instanceof Date?this.writeDateTime(i,E,f):this.writeString(i,E.toString(),f))}c++}if(i.write(o.subarray(218,290)),n&&r){this._autofilterIsOn=!0;let u=e.length+1;i.write(this._autoFilterStartBytes);let d=Buffer.alloc(8);d.writeInt32LE(0,0),d.writeInt32LE(u-1,4),i.write(d);let f=Buffer.alloc(8);f.writeInt32LE(a,0),f.writeInt32LE(l-1,4),i.write(f),i.write(this._autoFilterEndBytes);let E=this.sheetList[this.sheetCount-1];E.filterData={startRow:0,endRow:e.length,startColumn:a,endColumn:l-1}}i.write(o.subarray(290)),this.archive.append(Yp.Readable.from(i.getChunks()),{name:this.sheetList[this.sheetCount-1].pathInArchive})}_getColumnLetter(e){if(e<26)return String.fromCharCode(65+e);if(e<702){let r=Math.floor(e/26)-1,n=e%26;return String.fromCharCode(65+r)+String.fromCharCode(65+n)}return"A"}createRowHeader(e,r,n,i){e.ensureCapacity(27),e.writeUnsafeByte(0),e.writeUnsafeByte(25),e.writeUnsafeInt32LE(r),e.writeUnsafeInt32LE(0),e.writeUnsafeByte(44),e.writeUnsafeByte(1),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(1),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeInt32LE(n),e.writeUnsafeInt32LE(i)}writeRkNumberInteger(e,r,n,i=0){e.ensureCapacity(14),e.writeUnsafeByte(2),e.writeUnsafeByte(12),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0);let s=r<<2|2;e.writeUnsafeInt32LE(s)}writeDouble(e,r,n,i=0){e.ensureCapacity(18),e.writeUnsafeByte(5),e.writeUnsafeByte(16),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeDoubleLE(r)}writeBool(e,r,n){e.ensureCapacity(13),e.writeUnsafeByte(4),e.writeUnsafeByte(9),e.writeUnsafeInt32LE(n),e.writeUnsafeInt32LE(0),e.writeUnsafeByte(r?1:0)}writeDateTime(e,r,n){let i=r.getTimezoneOffset()*6e4,s=(r.getTime()-i-this._oaEpoch)/864e5;this.writeDouble(e,s,n,1)}writeString(e,r,n,i=!1){let s;this.sstDic.has(r)?s=this.sstDic.get(r):(s=this.sstCntUnique,this.sstDic.set(r,s),this.sstCntUnique++),this.sstCntAll++,e.ensureCapacity(17),e.writeUnsafeByte(7),e.writeUnsafeByte(12),e.writeUnsafeInt32LE(n),e.writeUnsafeByte(i?3:0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeByte(0),e.writeUnsafeInt32LE(s)}saveSst(){let e=new oc;e.writeByte(159),e.writeByte(1),e.writeByte(8),e.writeInt32LE(this.sstCntUnique),e.writeInt32LE(this.sstCntAll);for(let[r]of this.sstDic){let n=r.length;e.writeByte(19);let i=5+2*n;if(i>=128){e.writeByte(128+i%128);let s=i>>7;s>=256?e.writeByte(128+s%128):e.writeByte(s),e.writeByte(i>>14),i>>14>0&&e.writeByte(0)}else e.writeByte(i&255),e.writeByte(i>>8&255);e.writeInt32LE(n),e.writeUtf16LE(r)}e.writeByte(160),e.writeByte(1),e.writeByte(0),this.archive.append(Yp.Readable.from(e.getChunks()),{name:"xl/sharedStrings.bin"})}_writeFilterDefinedName(e,r,n){let i=r.filterData,s=r.sheetId-1,o=Buffer.alloc(this._magicFilterExcel2016Fix1.length);this._magicFilterExcel2016Fix1.copy(o);let a=this._magicFilterExcel2016Fix1.length-2;o[7]=s,o[a]=n,e.push(o);let l=Buffer.alloc(8);l.writeInt32LE(i.startRow,0),l.writeInt32LE(i.endRow,4),e.push(l);let c=Buffer.alloc(4);c.writeInt16LE(i.startColumn,0),c.writeInt16LE(i.endColumn,2),e.push(c),e.push(this._magicFilterExcel2016Fix2)}finalize(){return new Promise((e,r)=>{try{this.saveSst(),this.archive.append(this._stylesBin,{name:"xl/styles.bin"});let n=[];n.push(this._workbookBinStart);for(let a of this.sheetList){let l=`rId${a.sheetId}`,c=16+a.name.length*2+l.length*2,u=Buffer.alloc(3+c);u[0]=156,u[1]=1,u[2]=c;let d=3;u.writeInt32LE(a.hidden?1:0,d),d+=4,u.writeInt32LE(a.sheetId,d),d+=4,u.writeInt32LE(l.length,d),d+=4;for(let f=0;f<l.length;f++){let E=l.charCodeAt(f);u[d++]=E&255,u[d++]=E>>8&255}u.writeInt32LE(a.name.length,d),d+=4;for(let f=0;f<a.name.length;f++){let E=a.name.charCodeAt(f);u[d++]=E&255,u[d++]=E>>8&255}n.push(u)}if(n.push(this._workbookBinMiddle),this._autofilterIsOn){let a=this.sheetList.filter(c=>c.filterData),l=a.length;if(l>0){n.push(this._magicFilterExcel2016Fix0);let c=16+(l-1)*12,u=Buffer.from([c,l,0,0,0]);n.push(u);for(let d=0;d<l;d++){let f=a[d].sheetId-1,E=Buffer.alloc(12);E.writeInt32LE(0,0),E[4]=f,E[8]=f,n.push(E)}n.push(Buffer.from([226,2,0]));for(let d=0;d<l;d++){let f=a[d];this._writeFilterDefinedName(n,f,d)}}}n.push(this._workbookBinEnd),this.archive.append(Buffer.concat(n),{name:"xl/workbook.bin"});for(let a of this.sheetList)this.archive.append(this._binaryIndexBin,{name:`xl/worksheets/binaryIndex${a.sheetId}.bin`});let i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default Extension="bin" ContentType="application/vnd.ms-excel.sheet.binary.macroEnabled.main"/>
<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>
<Default Extension="xml" ContentType="application/xml"/>`;for(let a of this.sheetList)i+=`<Override PartName="/${a.pathInArchive}" ContentType="application/vnd.ms-excel.worksheet"/>`,i+=`<Override PartName="/xl/worksheets/binaryIndex${a.sheetId}.bin" ContentType="application/vnd.ms-excel.binIndexWs"/>`;i+=`<Override PartName="/xl/styles.bin" ContentType="application/vnd.ms-excel.styles"/>
<Override PartName="/xl/sharedStrings.bin" ContentType="application/vnd.ms-excel.sharedStrings"/>
</Types>`,this.archive.append(i,{name:"[Content_Types].xml"});let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`;for(let a of this.sheetList){let l=`rId${a.sheetId}`;s+=`<Relationship Id="${l}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/${a.nameInArchive}"/>`}s+=`<Relationship Id="rId${this.sheetList.length+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.bin"/>
<Relationship Id="rId${this.sheetList.length+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.bin"/>
</Relationships>`,this.archive.append(s,{name:"xl/_rels/workbook.bin.rels"}),this.archive.append(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.bin"/>
</Relationships>`,{name:"_rels/.rels"});for(let a of this.sheetList){let l=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId1" Type="http://schemas.microsoft.com/office/2006/relationships/xlBinaryIndex" Target="binaryIndex${a.sheetId}.bin"/>
</Relationships>`;this.archive.append(l,{name:`xl/worksheets/_rels/${a.nameInArchive}.rels`})}this.output.on("close",()=>e()),this.archive.on("error",a=>r(a)),this.archive.finalize()}catch(n){r(n)}})}},eCe=$p});var ca={};Pt(ca,{copyFileToClipboard:()=>hC,exportCsvToXlsb:()=>rCe,exportQueryToXlsb:()=>fC,getTempFilePath:()=>nCe});function tCe(t){if(typeof t=="string"&&t.length>0&&/^-?\d+(\.\d+)?$/.test(t)){let e=parseFloat(t);if(Number.isFinite(e))return e}return t}function Xq(t){return t.map(tCe)}async function fC(t,e,r,n=!1,i,s){let o=null;try{i&&i("Connecting to database...");let a={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},l=jt();o=new l(a),await o.connect();let c=new qq(r),{SqlParser:u}=await Promise.resolve().then(()=>(no(),v0)),d=u.splitStatements(e),f=0,E=0;for(let I=0;I<d.length;I++){let R=d[I];if(!R.trim())continue;let A=d.length>1?`Result ${I+1}`:"Query Results";i&&i(`Executing query ${I+1}/${d.length}...`);try{let N=o.createCommand(R);s&&(N.commandTimeout=s);let w=await N.executeReader(),m=[];for(let P=0;P<w.fieldCount;P++)m.push(w.getName(P));let D=m.length;E=Math.max(E,D),c.startSheet(A,D,m,{doAutofilter:!0});let y=0;for(;await w.read();){let P=[];for(let M=0;M<w.fieldCount;M++)P.push(w.getValue(M));c.writeRow(Xq(P)),y++,y%1e4===0&&i&&i(`Streaming ${y.toLocaleString()} rows to "${A}"...`)}c.endSheet(),f+=y,i&&i(`Written ${y.toLocaleString()} rows to sheet "${A}"`)}catch(N){let w=N instanceof Error?N.message:String(N);c.startSheet(`Error ${I+1}`,1,["Error"],{doAutofilter:!1}),c.writeRow([`Error executing query: ${w}`]),c.endSheet()}}let T=e.split(`
`);c.startSheet("SQL Code",1,void 0,{doAutofilter:!1}),c.writeRow(["SQL Query:"]);for(let I of T)c.writeRow([I]);c.endSheet(),i&&i("Finalizing file..."),await c.finalize();let p=EC.statSync(r).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Total Rows: ${f.toLocaleString()}`),i(`  - File size: ${p.toFixed(1)} MB`),i(`  - Location: ${r}`));let S={success:!0,message:`Successfully exported ${f} rows to ${r}`,details:{rows_exported:f,columns:E,file_size_mb:parseFloat(p.toFixed(1)),file_path:r}};if(n){i&&i("Copying to clipboard...");let I=await hC(r);S.details&&(S.details.clipboard_success=I)}return S}catch(a){return{success:!1,message:`Export error: ${a instanceof Error?a.message:String(a)}`}}finally{if(o)try{await o.close()}catch{}}}async function rCe(t,e,r=!1,n={source:"Unknown"},i){try{i&&i("Initializing XLSB writer...");let s=new qq(e),o=0,a=0,l=[],c=(E,T)=>{let h=E.split(/\r?\n/),p=A=>{let N=[],w=0,m=!1;for(let y=0;y<A.length;y++)if(A[y]==='"')m=!m;else if(A[y]===","&&!m){let P=A.substring(w,y);P.startsWith('"')&&P.endsWith('"')&&(P=P.substring(1,P.length-1).replace(/""/g,'"')),N.push(P),w=y+1}let D=A.substring(w);return D.startsWith('"')&&D.endsWith('"')&&(D=D.substring(1,D.length-1).replace(/""/g,'"')),N.push(D),N},S=0;for(;S<h.length&&!h[S].trim();)S++;if(S>=h.length)return;let I=p(h[S]);if(I.length===0)return;a=Math.max(a,I.length),s.startSheet(T,I.length,I,{doAutofilter:!0});let R=0;for(let A=S+1;A<h.length;A++){let N=h[A];if(!N.trim())continue;let w=p(N);s.writeRow(Xq(w)),R++}s.endSheet(),o+=R};Array.isArray(t)?(i&&i(`Processing ${t.length} result sets...`),t.forEach((E,T)=>{let h=E.name||`Result ${T+1}`;i&&i(`Processing sheet "${h}"...`),c(E.csv,h),E.sql&&l.push({name:h,sql:E.sql})})):(i&&i("Reading CSV content..."),c(t,"Query Results"),n.sql?l.push({name:"Query Results",sql:n.sql}):n.source&&(s.startSheet("CSV Source",1,void 0,{doAutofilter:!1}),s.writeRow(["CSV Source:"]),s.writeRow([n.source]),s.endSheet())),l.length>0&&(s.startSheet("SQL Code",1,void 0,{doAutofilter:!1}),l.forEach(E=>{s.writeRow([`--- SQL for ${E.name} ---`]),E.sql.split(`
`).forEach(T=>{s.writeRow([T])}),s.writeRow([""])}),s.endSheet()),i&&i("Finalizing XLSB file..."),await s.finalize();let d=EC.statSync(e).size/(1024*1024);i&&(i("XLSB file created successfully"),i(`  - Rows: ${o.toLocaleString()}`),i(`  - File size: ${d.toFixed(1)} MB`));let f={success:!0,message:`Successfully exported ${o} rows to ${e}`,details:{rows_exported:o,columns:a,file_size_mb:parseFloat(d.toFixed(1)),file_path:e}};if(r){i&&i("Copying file to clipboard...");let E=await hC(e);f.details&&(f.details.clipboard_success=E)}return f}catch(s){return{success:!1,message:`Export failed: ${s instanceof Error?s.message:String(s)}`}}}async function hC(t){return kp.platform()!=="win32"?(console.error("Clipboard file copy is only supported on Windows"),!1):new Promise(e=>{try{let r=ac.normalize(ac.resolve(t)),n=`Set-Clipboard -Path "${r.replace(/"/g,'`"')}"`,i=(0,Vq.spawn)("powershell.exe",["-NoProfile","-NonInteractive","-Command",n]),s="";i.stderr.on("data",o=>{s+=o.toString()}),i.on("close",o=>{o!==0?(console.error(`PowerShell clipboard copy failed: ${s}`),e(!1)):(console.log(`File copied to clipboard: ${r}`),e(!0))}),i.on("error",o=>{console.error(`Error spawning PowerShell: ${o.message}`),e(!1)})}catch(r){let n=r instanceof Error?r.message:String(r);console.error(`Error copying file to clipboard: ${n}`),e(!1)}})}function nCe(){let t=kp.tmpdir(),r=`netezza_export_${Date.now()}.xlsb`;return ac.join(t,r)}var EC,ac,kp,Vq,qq,Vs=Y(()=>{"use strict";EC=j(require("fs")),ac=j(require("path")),kp=j(require("os")),Vq=require("child_process"),qq=(kq(),mE($q)).default});var Jq=O((Qve,zq)=>{zq.exports=qp;function qp(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}qp.prototype.go=function(t){this.pending<this.max?Kq(this,t):this.waiting.push(t)};qp.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};qp.prototype.hold=function(){return jq(this)};function jq(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)Kq(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function Kq(t,e){e(jq(t))}});var Zq=O(vd=>{var Md=require("fs"),Xp=require("util"),TC=require("stream"),Qq=TC.Readable,pC=TC.Writable,iCe=TC.PassThrough,sCe=Jq(),jp=require("events").EventEmitter;vd.createFromBuffer=oCe;vd.createFromFd=aCe;vd.BufferSlicer=rs;vd.FdSlicer=ts;Xp.inherits(ts,jp);function ts(t,e){e=e||{},jp.call(this),this.fd=t,this.pend=new sCe,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}ts.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(o){Md.read(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};ts.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(o){Md.write(s.fd,t,e,r,n,function(a,l,c){o(),i(a,l,c)})})};ts.prototype.createReadStream=function(t){return new Kp(this,t)};ts.prototype.createWriteStream=function(t){return new zp(this,t)};ts.prototype.ref=function(){this.refCount+=1};ts.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&Md.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};Xp.inherits(Kp,Qq);function Kp(t,e){e=e||{},Qq.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}Kp.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=Buffer.allocUnsafe(r);Md.read(e.context.fd,i,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(i.slice(0,o))),n()})})}};Kp.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};Xp.inherits(zp,pC);function zp(t,e){e=e||{},pC.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}zp.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();Md.write(n.context.fd,t,0,t.length,n.pos,function(o,a){o?(n.destroy(),s(),r(o)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),s(),r())})})}};zp.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};Xp.inherits(rs,jp);function rs(t,e){jp.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}rs.prototype.read=function(t,e,r,n,i){if(!(0<=e&&e<=t.length))throw new RangeError("offset outside buffer: 0 <= "+e+" <= "+t.length);if(n<0)throw new RangeError("position is negative: "+n);if(e+r>t.length&&(r=t.length-e),n+r>this.buffer.length&&(r=this.buffer.length-n),r<=0){setImmediate(function(){i(null,0)});return}this.buffer.copy(t,e,n,n+r),setImmediate(function(){i(null,r)})};rs.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};rs.prototype.createReadStream=function(t){t=t||{};var e=new iCe(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};rs.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new pC(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var o=r.pos+n.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};rs.prototype.ref=function(){this.refCount+=1};rs.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function oCe(t,e){return new rs(t,e)}function aCe(t,e){return new ts(t,e)}});var rX=O((eUe,tX)=>{var qs=require("buffer").Buffer,SC=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(SC=new Int32Array(SC));function eX(t){if(qs.isBuffer(t))return t;var e=typeof qs.alloc=="function"&&typeof qs.from=="function";if(typeof t=="number")return e?qs.alloc(t):new qs(t);if(typeof t=="string")return e?qs.from(t):new qs(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function lCe(t){var e=eX(4);return e.writeInt32BE(t,0),e}function RC(t,e){t=eX(t),qs.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=SC[(r^t[n])&255]^r>>>8;return r^-1}function AC(){return lCe(RC.apply(null,arguments))}AC.signed=function(){return RC.apply(null,arguments)};AC.unsigned=function(){return RC.apply(null,arguments)>>>0};tX.exports=AC});var EX=O(Jr=>{var _C=require("fs"),cCe=require("zlib"),nX=Zq(),uCe=rX(),Zp=require("util"),eS=require("events").EventEmitter,iX=require("stream").Transform,mC=require("stream").PassThrough,dCe=require("stream").Writable;Jr.open=ECe;Jr.fromFd=sX;Jr.fromBuffer=fCe;Jr.fromRandomAccessReader=NC;Jr.dosDateTimeToDate=lX;Jr.getFileNameLowLevel=cX;Jr.validateFileName=uX;Jr.parseExtraFields=dX;Jr.ZipFile=Ai;Jr.Entry=Ud;Jr.LocalFileHeader=aX;Jr.RandomAccessReader=Xs;function ECe(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=Qp),_C.open(t,"r",function(n,i){if(n)return r(n);sX(i,e,function(s,o){s&&_C.close(i,Qp),r(s,o)})})}function sX(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=Qp),_C.fstat(t,function(n,i){if(n)return r(n);var s=nX.createFromFd(t,{autoClose:!0});NC(s,i.size,e,r)})}function fCe(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=nX.createFromBuffer(t,{maxChunkSize:65536});NC(n,t.length,e,r)}function NC(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=Qp),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=20,a=65535,l=Math.min(o+s+a,e),c=ns(l),u=e-c.length;cc(t,c,0,l,u,function(d){if(d)return n(d);for(var f=l-s;f>=0;f-=1)if(c.readUInt32LE(f)===101010256){var E=c.subarray(f),T=E.readUInt16LE(4),h=E.readUInt16LE(10),p=E.readUInt32LE(16),S=E.readUInt16LE(20),I=E.length-s;if(S!==I)return n(new Error("Invalid comment length. Expected: "+I+". Found: "+S+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK\u263A\u263B` in the comment?"));var R=i?Jp(E.subarray(22),!1):E.subarray(22);if(f-o>=0&&c.readUInt32LE(f-o)===117853008){var A=c.subarray(f-o,f-o+o),N=lc(A,8),w=ns(56);return cc(t,w,0,w.length,N,function(m){return m?n(m):w.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(T=w.readUInt32LE(16),T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):(h=lc(w,32),p=lc(w,48),n(null,new Ai(t,p,e,h,R,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))))})}return T!==0?n(new Error("multi-disk zip files are not supported: found disk number: "+T)):n(null,new Ai(t,p,e,h,R,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))}n(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))})}Zp.inherits(Ai,eS);function Ai(t,e,r,n,i,s,o,a,l,c){var u=this;eS.call(u),u.reader=t,u.reader.on("error",function(d){oX(u,d)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=n,u.comment=i,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!o,u.decodeStrings=!!a,u.validateEntrySizes=!!l,u.strictFileNames=!!c,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Ai.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function Ri(t,e){t.autoClose&&t.close(),oX(t,e)}function oX(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Ai.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Ai.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=ns(46);cc(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return Ri(t,r);if(!t.emittedError){var n=new Ud,i=e.readUInt32LE(0);if(i!==33639248)return Ri(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return Ri(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=ns(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),cc(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return Ri(t,s);if(!t.emittedError){n.fileNameRaw=e.subarray(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength;n.extraFieldRaw=e.subarray(n.fileNameLength,o),n.fileCommentRaw=e.subarray(o,o+n.fileCommentLength);try{n.extraFields=dX(n.extraFieldRaw)}catch(h){return Ri(t,h)}if(t.decodeStrings){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileComment=Jp(n.fileCommentRaw,a),n.fileName=cX(n.generalPurposeBitFlag,n.fileNameRaw,n.extraFields,t.strictFileNames);var l=uX(n.fileName);if(l!=null)return Ri(t,new Error(l))}else n.fileComment=n.fileCommentRaw,n.fileName=n.fileNameRaw;n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1;for(var c=0;c<n.extraFields.length;c++){var u=n.extraFields[c];if(u.id===1){var d=u.data,f=0;if(n.uncompressedSize===4294967295){if(f+8>d.length)return Ri(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=lc(d,f),f+=8}if(n.compressedSize===4294967295){if(f+8>d.length)return Ri(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=lc(d,f),f+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(f+8>d.length)return Ri(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=lc(d,f),f+=8}break}}if(t.validateEntrySizes&&n.compressionMethod===0){var E=n.uncompressedSize;if(n.isEncrypted()&&(E+=12),n.compressedSize!==E){var T="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return Ri(t,new Error(T))}}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};Ai.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null&&(r=e,e=null),e==null)e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));var o;if(t.compressionMethod===0)o=!1;else if(t.compressionMethod===8)o=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));n.readLocalFileHeader(t,{minimal:!0},function(a,l){if(a)return r(a);n.openReadStreamLowLevel(l.fileDataStart,t.compressedSize,i,s,o,t.uncompressedSize,r)})};Ai.prototype.openReadStreamLowLevel=function(t,e,r,n,i,s,o){var a=this,l=t+e,c=a.reader.createReadStream({start:t+r,end:t+n}),u=c;if(i){var d=!1,f=cCe.createInflateRaw();c.on("error",function(E){setImmediate(function(){d||f.emit("error",E)})}),c.pipe(f),a.validateEntrySizes?(u=new Bd(s),f.on("error",function(E){setImmediate(function(){d||u.emit("error",E)})}),f.pipe(u)):u=f,IC(u,function(){d=!0,f!==u&&f.unpipe(u),c.unpipe(f),c.destroy()})}o(null,u)};Ai.prototype.readLocalFileHeader=function(t,e,r){var n=this;r==null&&(r=e,e=null),e==null&&(e={}),n.reader.ref();var i=ns(30);cc(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader,function(s){try{if(s)return r(s);var o=i.readUInt32LE(0);if(o!==67324752)return r(new Error("invalid local file header signature: 0x"+o.toString(16)));var a=i.readUInt16LE(26),l=i.readUInt16LE(28),c=t.relativeOffsetOfLocalHeader+30+a+l;if(c+t.compressedSize>n.fileSize)return r(new Error("file data overflows file bounds: "+c+" + "+t.compressedSize+" > "+n.fileSize));if(e.minimal)return r(null,{fileDataStart:c});var u=new aX;u.fileDataStart=c,u.versionNeededToExtract=i.readUInt16LE(4),u.generalPurposeBitFlag=i.readUInt16LE(6),u.compressionMethod=i.readUInt16LE(8),u.lastModFileTime=i.readUInt16LE(10),u.lastModFileDate=i.readUInt16LE(12),u.crc32=i.readUInt32LE(14),u.compressedSize=i.readUInt32LE(18),u.uncompressedSize=i.readUInt32LE(22),u.fileNameLength=a,u.extraFieldLength=l,i=ns(a+l),n.reader.ref(),cc(n.reader,i,0,i.length,t.relativeOffsetOfLocalHeader+30,function(d){try{return d?r(d):(u.fileName=i.subarray(0,a),u.extraField=i.subarray(a),r(null,u))}finally{n.reader.unref()}})}finally{n.reader.unref()}})};function Ud(){}Ud.prototype.getLastModDate=function(t){if(t==null&&(t={}),!t.forceDosFormat)for(var e=0;e<this.extraFields.length;e++){var r=this.extraFields[e];if(r.id===21589){var n=r.data;if(n.length<5)continue;var i=n[0],s=1;if(!(i&s))continue;var o=n.readInt32LE(1);return new Date(o*1e3)}else if(r.id===10)for(var n=r.data,a=4;a<n.length+4;){var l=n.readUInt16LE(a);a+=2;var c=n.readUInt16LE(a);if(a+=2,l!==1){a+=c;continue}if(c<8||a+c>n.length)break;var u=4294967296*n.readInt32LE(a+4)+n.readUInt32LE(a),d=u/1e4-116444736e5;return new Date(d)}}return lX(this.lastModFileDate,this.lastModFileTime,t.timezone)};Ud.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Ud.prototype.isCompressed=function(){return this.compressionMethod===8};function aX(){}function lX(t,e,r){var n=t&31,i=(t>>5&15)-1,s=(t>>9&127)+1980,o=0,a=(e&31)*2,l=e>>5&63,c=e>>11&31;if(r==null||r==="local")return new Date(s,i,n,c,l,a,o);if(r==="UTC")return new Date(Date.UTC(s,i,n,c,l,a,o));throw new Error("unrecognized options.timezone: "+options.timezone)}function cX(t,e,r,n){for(var i=null,s=0;s<r.length;s++){var o=r[s];if(o.id===28789){if(o.data.length<6||o.data.readUInt8(0)!==1)continue;var a=o.data.readUInt32LE(1);if(uCe.unsigned(e)!==a)continue;i=Jp(o.data.subarray(5),!0);break}}if(i==null){var l=(t&2048)!==0;i=Jp(e,l)}return n||(i=i.replace(/\\/g,"/")),i}function uX(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function dX(t){for(var e=[],r=0;r<t.length-3;){var n=t.readUInt16LE(r+0),i=t.readUInt16LE(r+2),s=r+4,o=s+i;if(o>t.length)throw new Error("extra field length exceeds extra field buffer size");var a=t.subarray(s,o);e.push({id:n,data:a}),r=o}return e}function cc(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,ns(0))});t.read(e,r,n,i,function(o,a){if(o)return s(o);if(a<n)return s(new Error("unexpected EOF"));s()})}Zp.inherits(Bd,iX);function Bd(t){iX.call(this),this.actualByteCount=0,this.expectedByteCount=t}Bd.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};Bd.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};Zp.inherits(Xs,eS);function Xs(){eS.call(this),this.refCount=0}Xs.prototype.ref=function(){this.refCount+=1};Xs.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};Xs.prototype.createReadStream=function(t){t==null&&(t={});var e=t.start,r=t.end;if(e===r){var n=new mC;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,o=new tS(this);i.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),IC(o,function(){i.unpipe(o),o.unref(),i.destroy()});var a=new Bd(r-e);return o.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),IC(a,function(){s=!0,o.unpipe(a),o.destroy()}),i.pipe(o).pipe(a)};Xs.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};Xs.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),o=new dCe,a=0;o._write=function(l,c,u){l.copy(t,e+a,0,l.length),a+=l.length,u()},o.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(o)};Xs.prototype.close=function(t){setImmediate(t)};Zp.inherits(tS,mC);function tS(t){mC.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}tS.prototype._flush=function(t){this.unref(),t()};tS.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var hCe="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function Jp(t,e){if(e)return t.toString("utf8");for(var r="",n=0;n<t.length;n++)r+=hCe[t[n]];return r}function lc(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var ns;typeof Buffer.allocUnsafe=="function"?ns=function(t){return Buffer.allocUnsafe(t)}:ns=function(t){return new Buffer(t)};function IC(t,e){typeof t.destroy=="function"?t._destroy=function(r,n){e(),n?.(r)}:t.destroy=e}function Qp(t){if(t)throw t}});var uc,gC=Y(()=>{"use strict";uc=class{constructor(){this.fieldCount=0;this.rowCount=0;this.actualSheetName="";this.resultsCount=0;this._oaEpoch=Date.UTC(1899,11,30)}async close(){}dispose(){}getDateTimeFromOaDate(e){let r=e*864e5+this._oaEpoch;return new Date(r)}}});var fX,rS,hX=Y(()=>{"use strict";fX=j(EX());gC();rS=class extends uc{constructor(){super();this.zipfile=null;this.sharedStrings=[];this.styles=[];this.sheetNames=[];this.sheets=[];this.entries=new Map;this._currentSheetIndex=-1;this._sheetXml=null;this._xmlPos=0;this._currentRow=[];this.xfIdToNumFmtId=[];this.customDateFormats=new Set}async open(r,n=!0){return new Promise((i,s)=>{fX.default.open(r,{lazyEntries:!0,autoClose:!1},async(o,a)=>{if(o)return s(o);this.zipfile=a,this.entries=new Map,a.on("entry",l=>{this.entries.set(l.fileName,l),a.readEntry()}),a.on("end",async()=>{try{let l=await this._readZipEntryContent("xl/_rels/workbook.xml.rels"),c={};if(l){let f=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,E;for(;(E=f.exec(l))!==null;)c[E[1]]=E[2]}let u=await this._readZipEntryContent("xl/workbook.xml");if(u){let f=/<sheet[^>]*name="([^"]*)"[^>]*sheetId="([^"]*)"[^>]*r:id="([^"]*)"/g,E;for(;(E=f.exec(u))!==null;){let T=this._unescapeXml(E[1]),h=E[2],p=E[3],I=c[p];I.startsWith("xl/")||(I="xl/"+I),this.sheetNames.push(T),this.sheets.push({name:T,sheetId:h,rId:p,path:I})}}if(n){let f=await this._readZipEntryContent("xl/sharedStrings.xml");f&&this._parseSharedStrings(f)}let d=await this._readZipEntryContent("xl/styles.xml");d&&this._parseStyles(d),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1,i()}catch(l){s(l)}}),a.readEntry()})})}async close(){this.zipfile&&this.zipfile.close()}async _readZipEntryContent(r){let n=this.entries.get(r);return n?new Promise((i,s)=>{this.zipfile.openReadStream(n,(o,a)=>{if(o)return s(o);let l=[];a.on("data",c=>l.push(c)),a.on("end",()=>{i(Buffer.concat(l).toString("utf8"))}),a.on("error",s)})}):null}_unescapeXml(r){return r?r.indexOf("&")===-1?r:r.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):""}_parseSharedStrings(r){let n=0;for(;;){let i=r.indexOf("<si>",n);if(i===-1)break;let s=r.indexOf("</si>",i);if(s===-1)break;let o=r.substring(i,s),a="",l=0;for(;;){let c=o.indexOf("<t",l);if(c===-1)break;let u=o.indexOf(">",c),d=o.indexOf("</t>",u);if(d===-1)break;a+=o.substring(u+1,d),l=d+4}this.sharedStrings.push(this._unescapeXml(a)),n=s+5}}_parseStyles(r){let n=/<numFmt\s+[^>]*numFmtId="(\d+)"[^>]*formatCode="([^"]*)"/g,i;for(this.customDateFormats=new Set;(i=n.exec(r))!==null;){let o=parseInt(i[1]),a=i[2];(a.toLowerCase().includes("yy")||a.toLowerCase().includes("mm")||a.toLowerCase().includes("dd")||a.toLowerCase().includes("h:mm"))&&this.customDateFormats.add(o)}this.xfIdToNumFmtId=[];let s=r.indexOf("<cellXfs");if(s!==-1){let o=r.indexOf("</cellXfs>",s);if(o!==-1){let a=r.substring(s,o),l=/<xf\s+[^>]*numFmtId="(\d+)"/g;for(;(i=l.exec(a))!==null;){let c=parseInt(i[1]);this.xfIdToNumFmtId.push(c)}}}}getSheetNames(){return this.sheetNames}async read(){return this._currentSheetIndex===-1&&(this._currentSheetIndex=0,await this._initSheet(this._currentSheetIndex)),!!this._readNextRow()}async _initSheet(r){if(r>=this.sheets.length)return;let n=this.sheets[r];this.actualSheetName=n.name,this._sheetXml=await this._readZipEntryContent(n.path),this._sheetXml||(this._sheetXml=""),this._xmlPos=0;let i=this._sheetXml.indexOf("<sheetData>");i!==-1&&(this._xmlPos=i+11)}_readNextRow(){if(!this._sheetXml)return!1;let r=this._sheetXml.indexOf("<row",this._xmlPos);if(r===-1)return!1;let n=this._sheetXml.indexOf("</row>",r);return n===-1?!1:(this._xmlPos=n+6,this._parseRowByIndex(r,n),!0)}_parseRowByIndex(r,n){this._currentRow=[];let i=this._sheetXml,s=i.indexOf(">",r)+1;for(;s<n;){let o=i.indexOf("<c",s);if(o===-1||o>=n)break;let a=i.indexOf(">",o),l=-1,c="n",u=0,d=o+2;for(;d<a;){for(;i.charCodeAt(d)<=32&&d<a;)d++;if(d>=a)break;let T=d;for(;i.charCodeAt(d)!==61&&d<a;)d++;let h=i.substring(T,d);if(d++,i.charCodeAt(d)===34){d++;let p=d;for(;i.charCodeAt(d)!==34&&d<a;)d++;let S=i.substring(p,d);if(d++,h==="r"){let I=0;for(;I<S.length&&S.charCodeAt(I)>=65;)I++;l=this._columnLetterToIndex(S.substring(0,I))}else h==="t"?c=S:h==="s"&&(u=parseInt(S,10))}}let f=null;if(i.charCodeAt(a-1)===47)s=a+1;else{let T=i.indexOf("</c>",a),h=T!==-1&&T<n?T:n,p=i.indexOf("<v>",a);if(p!==-1&&p<h){let S=p+3,I=i.indexOf("</v>",S);I!==-1&&I<h&&(f=i.substring(S,I))}else if(c==="inlineStr"){let S=i.indexOf("<t",a);if(S!==-1&&S<h){let I=i.indexOf(">",S)+1,R=i.indexOf("</t>",I);R!==-1&&R<h&&(f=i.substring(I,R))}}s=h+4}let E=null;if(f!==null){if(c==="s"){let T=parseInt(f,10);E=this.sharedStrings[T]}else if(c==="b")E=f==="1"||f==="true";else if(c==="inlineStr")E=this._unescapeXml(f);else if((c==="n"||c==="")&&(E=parseFloat(f),u>0&&this.xfIdToNumFmtId)){let T=0;if(u<this.xfIdToNumFmtId.length&&(T=this.xfIdToNumFmtId[u]),T>=14&&T<=22||T>=45&&T<=47||this.customDateFormats&&this.customDateFormats.has(T))try{E=this.getDateTimeFromOaDate(E)}catch{}}}l!==-1&&(this._currentRow[l]=E,l>=this.fieldCount&&(this.fieldCount=l+1))}}_columnLetterToIndex(r){let n=0,i=r.length;for(let s=0;s<i;s++)n+=(r.charCodeAt(s)-64)*Math.pow(26,i-s-1);return n-1}getValue(r){return r<0||r>=this._currentRow.length?null:this._currentRow[r]}}});var OC=O((sUe,TX)=>{TX.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var nS=O(SX=>{var pX={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function TCe(t){return function(...e){return e.length&&(t=t.replace(/\{(\d)\}/g,(r,n)=>e[n]||"")),new Error("ADM-ZIP: "+t)}}for(let t of Object.keys(pX))SX[t]=TCe(pX[t])});var mX=O((aUe,IX)=>{var pCe=require("fs"),$t=require("path"),RX=OC(),SCe=nS(),RCe=typeof process=="object"&&process.platform==="win32",AX=t=>typeof t=="object"&&t!==null,_X=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function It(t){this.sep=$t.sep,this.fs=pCe,AX(t)&&AX(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}IX.exports=It;It.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw SCe.FILE_IN_THE_WAY(`"${i}"`)}})}r(t)};It.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=$t.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};It.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,l){if(o&&l.isDirectory())return i(!1);var c=$t.dirname(t);s.fs.exists(c,function(u){u||s.makeDir(c),s.fs.open(t,"w",438,function(d,f){d?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(E,T){s.fs.write(T,e,0,e.length,0,function(){s.fs.close(T,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):f?s.fs.write(f,e,0,e.length,0,function(){s.fs.close(f,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};It.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){let l=$t.join(n,a),c=e.fs.statSync(l);(!i||i.test(l))&&o.push($t.normalize(l)+(c.isDirectory()?e.sep:"")),c.isDirectory()&&s&&(o=o.concat(r(l,i,s)))}),o}return r(t,void 0,!0)};It.prototype.findFilesAsync=function(t,e){let r=this,n=[];r.fs.readdir(t,function(i,s){if(i)return e(i);let o=s.length;if(!o)return e(null,n);s.forEach(function(a){a=$t.join(t,a),r.fs.stat(a,function(l,c){if(l)return e(l);c&&(n.push($t.normalize(a)+(c.isDirectory()?r.sep:"")),c.isDirectory()?r.findFilesAsync(a,function(u,d){if(u)return e(u);n=n.concat(d),--o||e(null,n)}):--o||e(null,n))})})})};It.prototype.getAttributes=function(){};It.prototype.setAttributes=function(){};It.crc32update=function(t,e){return _X[(t^e)&255]^t>>>8};It.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8"));let e=t.length,r=-1;for(let n=0;n<e;)r=It.crc32update(r,t[n++]);return~r>>>0};It.methodToString=function(t){switch(t){case RX.STORED:return"STORED ("+t+")";case RX.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};It.canonical=function(t){if(!t)return"";let e=$t.posix.normalize("/"+t.split("\\").join("/"));return $t.join(".",e)};It.zipnamefix=function(t){if(!t)return"";let e=$t.posix.normalize("/"+t.split("\\").join("/"));return $t.posix.join(".",e)};It.findLast=function(t,e){if(!Array.isArray(t))throw new TypeError("arr is not array");let r=t.length>>>0;for(let n=r-1;n>=0;n--)if(e(t[n],n,t))return t[n]};It.sanitize=function(t,e){t=$t.resolve($t.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=$t.normalize($t.join(t,r.slice(n,i).join($t.sep)));if(s.indexOf(t)===0)return s}return $t.normalize($t.join(t,$t.basename(e)))};It.toBuffer=function(e,r){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?r(e):Buffer.alloc(0)};It.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};It.fromDOS2Date=function(t){return new Date((t>>25&127)+1980,Math.max((t>>21&15)-1,0),Math.max(t>>16&31,1),t>>11&31,t>>5&63,(t&31)<<1)};It.fromDate2DOS=function(t){let e=0,r=0;return t.getFullYear()>1979&&(e=(t.getFullYear()-1980&127)<<9|t.getMonth()+1<<5|t.getDate(),r=t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1),e<<16|r};It.isWin=RCe;It.crcTable=_X});var gX=O((lUe,NX)=>{var ACe=require("path");NX.exports=function(t,{fs:e}){var r=t||"",n=s(),i=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&e.existsSync(r)?(i=e.statSync(r),n.directory=i.isDirectory(),n.mtime=i.mtime,n.atime=i.atime,n.executable=(73&i.mode)!==0,n.readonly=(128&i.mode)===0,n.hidden=ACe.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var CX=O((cUe,OX)=>{OX.exports={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}});var Ec=O((uUe,dc)=>{dc.exports=mX();dc.exports.Constants=OC();dc.exports.Errors=nS();dc.exports.FileAttr=gX();dc.exports.decoder=CX()});var yX=O((dUe,bX)=>{var js=Ec(),q=js.Constants;bX.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,l=0,c=0,u=0,d=0,f=0,E=0,T=0;t|=js.isWin?2560:768,r|=q.FLG_EFS;let h={extraLen:0},p=R=>Math.max(0,R)>>>0,S=R=>Math.max(0,R)&65535,I=R=>Math.max(0,R)&255;return i=js.fromDate2DOS(new Date),{get made(){return t},set made(R){t=R},get version(){return e},set version(R){e=R},get flags(){return r},set flags(R){r=R},get flags_efs(){return(r&q.FLG_EFS)>0},set flags_efs(R){R?r|=q.FLG_EFS:r&=~q.FLG_EFS},get flags_desc(){return(r&q.FLG_DESC)>0},set flags_desc(R){R?r|=q.FLG_DESC:r&=~q.FLG_DESC},get method(){return n},set method(R){switch(R){case q.STORED:this.version=10;case q.DEFLATED:default:this.version=20}n=R},get time(){return js.fromDOS2Date(this.timeval)},set time(R){this.timeval=js.fromDate2DOS(R)},get timeval(){return i},set timeval(R){i=p(R)},get timeHighByte(){return I(i>>>8)},get crc(){return s},set crc(R){s=p(R)},get compressedSize(){return o},set compressedSize(R){o=p(R)},get size(){return a},set size(R){a=p(R)},get fileNameLength(){return l},set fileNameLength(R){l=R},get extraLength(){return c},set extraLength(R){c=R},get extraLocalLength(){return h.extraLen},set extraLocalLength(R){h.extraLen=R},get commentLength(){return u},set commentLength(R){u=R},get diskNumStart(){return d},set diskNumStart(R){d=p(R)},get inAttr(){return f},set inAttr(R){f=p(R)},get attr(){return E},set attr(R){E=p(R)},get fileAttr(){return(E||0)>>16&4095},get offset(){return T},set offset(R){T=p(R)},get encrypted(){return(r&q.FLG_ENC)===q.FLG_ENC},get centralHeaderSize(){return q.CENHDR+l+c+u},get realDataOffset(){return T+q.LOCHDR+h.fnameLen+h.extraLen},get localHeader(){return h},loadLocalHeaderFromBinary:function(R){var A=R.slice(T,T+q.LOCHDR);if(A.readUInt32LE(0)!==q.LOCSIG)throw js.Errors.INVALID_LOC();h.version=A.readUInt16LE(q.LOCVER),h.flags=A.readUInt16LE(q.LOCFLG),h.method=A.readUInt16LE(q.LOCHOW),h.time=A.readUInt32LE(q.LOCTIM),h.crc=A.readUInt32LE(q.LOCCRC),h.compressedSize=A.readUInt32LE(q.LOCSIZ),h.size=A.readUInt32LE(q.LOCLEN),h.fnameLen=A.readUInt16LE(q.LOCNAM),h.extraLen=A.readUInt16LE(q.LOCEXT);let N=T+q.LOCHDR+h.fnameLen,w=N+h.extraLen;return R.slice(N,w)},loadFromBinary:function(R){if(R.length!==q.CENHDR||R.readUInt32LE(0)!==q.CENSIG)throw js.Errors.INVALID_CEN();t=R.readUInt16LE(q.CENVEM),e=R.readUInt16LE(q.CENVER),r=R.readUInt16LE(q.CENFLG),n=R.readUInt16LE(q.CENHOW),i=R.readUInt32LE(q.CENTIM),s=R.readUInt32LE(q.CENCRC),o=R.readUInt32LE(q.CENSIZ),a=R.readUInt32LE(q.CENLEN),l=R.readUInt16LE(q.CENNAM),c=R.readUInt16LE(q.CENEXT),u=R.readUInt16LE(q.CENCOM),d=R.readUInt16LE(q.CENDSK),f=R.readUInt16LE(q.CENATT),E=R.readUInt32LE(q.CENATX),T=R.readUInt32LE(q.CENOFF)},localHeaderToBinary:function(){var R=Buffer.alloc(q.LOCHDR);return R.writeUInt32LE(q.LOCSIG,0),R.writeUInt16LE(e,q.LOCVER),R.writeUInt16LE(r,q.LOCFLG),R.writeUInt16LE(n,q.LOCHOW),R.writeUInt32LE(i,q.LOCTIM),R.writeUInt32LE(s,q.LOCCRC),R.writeUInt32LE(o,q.LOCSIZ),R.writeUInt32LE(a,q.LOCLEN),R.writeUInt16LE(l,q.LOCNAM),R.writeUInt16LE(h.extraLen,q.LOCEXT),R},centralHeaderToBinary:function(){var R=Buffer.alloc(q.CENHDR+l+c+u);return R.writeUInt32LE(q.CENSIG,0),R.writeUInt16LE(t,q.CENVEM),R.writeUInt16LE(e,q.CENVER),R.writeUInt16LE(r,q.CENFLG),R.writeUInt16LE(n,q.CENHOW),R.writeUInt32LE(i,q.CENTIM),R.writeUInt32LE(s,q.CENCRC),R.writeUInt32LE(o,q.CENSIZ),R.writeUInt32LE(a,q.CENLEN),R.writeUInt16LE(l,q.CENNAM),R.writeUInt16LE(c,q.CENEXT),R.writeUInt16LE(u,q.CENCOM),R.writeUInt16LE(d,q.CENDSK),R.writeUInt16LE(f,q.CENATT),R.writeUInt32LE(E,q.CENATX),R.writeUInt32LE(T,q.CENOFF),R},toJSON:function(){let R=function(A){return A+" bytes"};return{made:t,version:e,flags:r,method:js.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:R(o),size:R(a),fileNameLength:R(l),extraLength:R(c),commentLength:R(u),diskNumStart:d,inAttr:f,attr:E,offset:T,centralHeaderSize:R(q.CENHDR+l+c+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var LX=O((EUe,wX)=>{var fc=Ec(),St=fc.Constants;wX.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return St.ENDHDR+i},loadFromBinary:function(s){if((s.length!==St.ENDHDR||s.readUInt32LE(0)!==St.ENDSIG)&&(s.length<St.ZIP64HDR||s.readUInt32LE(0)!==St.ZIP64SIG))throw fc.Errors.INVALID_END();s.readUInt32LE(0)===St.ENDSIG?(t=s.readUInt16LE(St.ENDSUB),e=s.readUInt16LE(St.ENDTOT),r=s.readUInt32LE(St.ENDSIZ),n=s.readUInt32LE(St.ENDOFF),i=s.readUInt16LE(St.ENDCOM)):(t=fc.readBigUInt64LE(s,St.ZIP64SUB),e=fc.readBigUInt64LE(s,St.ZIP64TOT),r=fc.readBigUInt64LE(s,St.ZIP64SIZE),n=fc.readBigUInt64LE(s,St.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(St.ENDHDR+i);return s.writeUInt32LE(St.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,St.ENDSUB),s.writeUInt16LE(e,St.ENDTOT),s.writeUInt32LE(r,St.ENDSIZ),s.writeUInt32LE(n,St.ENDOFF),s.writeUInt16LE(i,St.ENDCOM),s.fill(" ",St.ENDHDR),s},toJSON:function(){let s=function(o,a){let l=o.toString(16).toUpperCase();for(;l.length<a;)l="0"+l;return"0x"+l};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var bC=O(CC=>{CC.EntryHeader=yX();CC.MainHeader=LX()});var PX=O((hUe,DX)=>{DX.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),l=0;a.fill(0);for(var c=0;c<s.length;c++){var u=s[c];u.copy(a,l),l+=u.length}n&&n(a)}),i.end(t)}}}});var MX=O((TUe,xX)=>{var _Ce=+(process.versions?process.versions.node:"").split(".")[0]||0;xX.exports=function(t,e){var r=require("zlib");let n=_Ce>=15&&e>0?{maxOutputLength:e}:{};return{inflate:function(){return r.inflateRawSync(t,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],a=0;s.on("data",function(l){o.push(l),a+=l.length}),s.on("end",function(){var l=Buffer.alloc(a),c=0;l.fill(0);for(var u=0;u<o.length;u++){var d=o[u];d.copy(l,c),c+=d.length}i&&i(l)}),s.end(t)}}}});var GX=O((pUe,FX)=>{"use strict";var{randomFillSync:vX}=require("crypto"),ICe=nS(),mCe=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=e>>>1^3988292384:e>>>=1;return e>>>0}),BX=(t,e)=>Math.imul(t,e)>>>0,UX=(t,e)=>mCe[(t^e)&255]^t>>>8,Fd=()=>typeof vX=="function"?vX(Buffer.alloc(12)):Fd.node();Fd.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var iS={genSalt:Fd};function sS(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}sS.prototype.updateKeys=function(t){let e=this.keys;return e[0]=UX(e[0],t),e[1]+=e[0]&255,e[1]=BX(e[1],134775813)+1,e[2]=UX(e[2],e[1]>>>24),t};sS.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return BX(t,t^1)>>8&255};function NCe(t){let e=new sS(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function gCe(t){let e=new sS(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function OCe(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=NCe(r),i=n(t.slice(0,12)),s=(e.flags&8)===8?e.timeHighByte:e.crc>>>24;if(i[11]!==s)throw ICe.WRONG_PASSWORD();return n(t.slice(12))}function CCe(t){Buffer.isBuffer(t)&&t.length>=12?iS.genSalt=function(){return t.slice(0,12)}:t==="node"?iS.genSalt=Fd.node:iS.genSalt=Fd}function bCe(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=gCe(r),s=iS.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}FX.exports={decrypt:OCe,encrypt:bCe,_salter:CCe}});var HX=O(oS=>{oS.Deflater=PX();oS.Inflater=MX();oS.ZipCrypto=GX()});var wC=O((RUe,WX)=>{var je=Ec(),yCe=bC(),mt=je.Constants,yC=HX();WX.exports=function(t,e){var r=new yCe.EntryHeader,n=Buffer.alloc(0),i=Buffer.alloc(0),s=!1,o=null,a=Buffer.alloc(0),l=Buffer.alloc(0),c=!0;let u=t,d=typeof u.decoder=="object"?u.decoder:je.decoder;c=d.hasOwnProperty("efs")?d.efs:!1;function f(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(l=r.loadLocalHeaderFromBinary(e),e.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function E(R){if(r.flags_desc){let A={},N=r.realDataOffset+r.compressedSize;if(e.readUInt32LE(N)==mt.LOCSIG||e.readUInt32LE(N)==mt.CENSIG)throw je.Errors.DESCRIPTOR_NOT_EXIST();if(e.readUInt32LE(N)==mt.EXTSIG)A.crc=e.readUInt32LE(N+mt.EXTCRC),A.compressedSize=e.readUInt32LE(N+mt.EXTSIZ),A.size=e.readUInt32LE(N+mt.EXTLEN);else if(e.readUInt16LE(N+12)===19280)A.crc=e.readUInt32LE(N+mt.EXTCRC-4),A.compressedSize=e.readUInt32LE(N+mt.EXTSIZ-4),A.size=e.readUInt32LE(N+mt.EXTLEN-4);else throw je.Errors.DESCRIPTOR_UNKNOWN();if(A.compressedSize!==r.compressedSize||A.size!==r.size||A.crc!==r.crc)throw je.Errors.DESCRIPTOR_FAULTY();if(je.crc32(R)!==A.crc)return!1}else if(je.crc32(R)!==r.localHeader.crc)return!1;return!0}function T(R,A,N){if(typeof A>"u"&&typeof R=="string"&&(N=R,R=void 0),s)return R&&A&&A(Buffer.alloc(0),je.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var w=f();if(w.length===0)return R&&A&&A(w),w;if(r.encrypted){if(typeof N!="string"&&!Buffer.isBuffer(N))throw je.Errors.INVALID_PASS_PARAM();w=yC.ZipCrypto.decrypt(w,r,N)}var m=Buffer.alloc(r.size);switch(r.method){case je.Constants.STORED:if(w.copy(m),E(m))return R&&A&&A(m),m;throw R&&A&&A(m,je.Errors.BAD_CRC()),je.Errors.BAD_CRC();case je.Constants.DEFLATED:var D=new yC.Inflater(w,r.size);if(R)D.inflateAsync(function(y){y.copy(y,0),A&&(E(y)?A(y):A(y,je.Errors.BAD_CRC()))});else{if(D.inflate(m).copy(m,0),!E(m))throw je.Errors.BAD_CRC(`"${d.decode(n)}"`);return m}break;default:throw R&&A&&A(Buffer.alloc(0),je.Errors.UNKNOWN_METHOD()),je.Errors.UNKNOWN_METHOD()}}function h(R,A){if((!o||!o.length)&&Buffer.isBuffer(e))return R&&A&&A(f()),f();if(o.length&&!s){var N;switch(r.method){case je.Constants.STORED:return r.compressedSize=r.size,N=Buffer.alloc(o.length),o.copy(N),R&&A&&A(N),N;default:case je.Constants.DEFLATED:var w=new yC.Deflater(o);if(R)w.deflateAsync(function(D){N=Buffer.alloc(D.length),r.compressedSize=D.length,D.copy(N),A&&A(N)});else{var m=w.deflate();return r.compressedSize=m.length,m}w=null;break}}else if(R&&A)A(Buffer.alloc(0));else return Buffer.alloc(0)}function p(R,A){return(R.readUInt32LE(A+4)<<4)+R.readUInt32LE(A)}function S(R){try{for(var A=0,N,w,m;A+4<R.length;)N=R.readUInt16LE(A),A+=2,w=R.readUInt16LE(A),A+=2,m=R.slice(A,A+w),A+=w,mt.ID_ZIP64===N&&I(m)}catch{throw je.Errors.EXTRA_FIELD_PARSE_ERROR()}}function I(R){var A,N,w,m;R.length>=mt.EF_ZIP64_SCOMP&&(A=p(R,mt.EF_ZIP64_SUNCOMP),r.size===mt.EF_ZIP64_OR_32&&(r.size=A)),R.length>=mt.EF_ZIP64_RHO&&(N=p(R,mt.EF_ZIP64_SCOMP),r.compressedSize===mt.EF_ZIP64_OR_32&&(r.compressedSize=N)),R.length>=mt.EF_ZIP64_DSN&&(w=p(R,mt.EF_ZIP64_RHO),r.offset===mt.EF_ZIP64_OR_32&&(r.offset=w)),R.length>=mt.EF_ZIP64_DSN+4&&(m=R.readUInt32LE(mt.EF_ZIP64_DSN),r.diskNumStart===mt.EF_ZIP64_OR_16&&(r.diskNumStart=m))}return{get entryName(){return d.decode(n)},get rawEntryName(){return n},set entryName(R){n=je.toBuffer(R,d.encode);var A=n[n.length-1];s=A===47||A===92,r.fileNameLength=n.length},get efs(){return typeof c=="function"?c(this.entryName):c},get extra(){return a},set extra(R){a=R,r.extraLength=R.length,S(R)},get comment(){return d.decode(i)},set comment(R){if(i=je.toBuffer(R,d.encode),r.commentLength=i.length,i.length>65535)throw je.Errors.COMMENT_TOO_LONG()},get name(){var R=d.decode(n);return s?R.substr(R.length-1).split("/").pop():R.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return h(!1,null)},getCompressedDataAsync:function(R){h(!0,R)},setData:function(R){o=je.toBuffer(R,je.decoder.encode),!s&&o.length?(r.size=o.length,r.method=je.Constants.DEFLATED,r.crc=je.crc32(R),r.changed=!0):r.method=je.Constants.STORED},getData:function(R){return r.changed?o:T(!1,null,R)},getDataAsync:function(R,A){r.changed?R(o):T(!0,R,A)},set attr(R){r.attr=R},get attr(){return r.attr},set header(R){r.loadFromBinary(R)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=a.length;var R=r.centralHeaderToBinary(),A=je.Constants.CENHDR;return n.copy(R,A),A+=n.length,a.copy(R,A),A+=r.extraLength,i.copy(R,A),R},packLocalHeader:function(){let R=0;r.flags_efs=this.efs,r.extraLocalLength=l.length;let A=r.localHeaderToBinary(),N=Buffer.alloc(A.length+n.length+r.extraLocalLength);return A.copy(N,R),R+=A.length,n.copy(N,R),R+=n.length,l.copy(N,R),R+=l.length,N},toJSON:function(){let R=function(A){return"<"+(A&&A.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:R(e),data:R(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var kX=O((AUe,$X)=>{var YX=wC(),wCe=bC(),Tr=Ec();$X.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new wCe.MainHeader,o=!1,a=null;let l=new Set,c=e,{noSort:u,decoder:d}=c;t?T(c.readEntries):o=!0;function f(){let p=new Set;for(let S of Object.keys(n)){let I=S.split("/");if(I.pop(),!!I.length)for(let R=0;R<I.length;R++){let A=I.slice(0,R+1).join("/")+"/";p.add(A)}}for(let S of p)if(!(S in n)){let I=new YX(c);I.entryName=S,I.attr=16,I.temporary=!0,r.push(I),n[I.entryName]=I,l.add(I)}}function E(){if(o=!0,n={},s.diskEntries>(t.length-s.offset)/Tr.Constants.CENHDR)throw Tr.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(s.diskEntries);for(var p=s.offset,S=0;S<r.length;S++){var I=p,R=new YX(c,t);R.header=t.slice(I,I+=Tr.Constants.CENHDR),R.entryName=t.slice(I,I+=R.header.fileNameLength),R.header.extraLength&&(R.extra=t.slice(I,I+=R.header.extraLength)),R.header.commentLength&&(R.comment=t.slice(I,I+R.header.commentLength)),p+=R.header.centralHeaderSize,r[S]=R,n[R.entryName]=R}l.clear(),f()}function T(p){var S=t.length-Tr.Constants.ENDHDR,I=Math.max(0,S-65535),R=I,A=t.length,N=-1,w=0;for(typeof c.trailingSpace=="boolean"&&c.trailingSpace&&(I=0),S;S>=R;S--)if(t[S]===80){if(t.readUInt32LE(S)===Tr.Constants.ENDSIG){N=S,w=S,A=S+Tr.Constants.ENDHDR,R=S-Tr.Constants.END64HDR;continue}if(t.readUInt32LE(S)===Tr.Constants.END64SIG){R=I;continue}if(t.readUInt32LE(S)===Tr.Constants.ZIP64SIG){N=S,A=S+Tr.readBigUInt64LE(t,S+Tr.Constants.ZIP64SIZE)+Tr.Constants.ZIP64LEAD;break}}if(N==-1)throw Tr.Errors.INVALID_FORMAT();s.loadFromBinary(t.slice(N,A)),s.commentLength&&(i=t.slice(w+Tr.Constants.ENDHDR)),p&&E()}function h(){r.length>1&&!u&&r.sort((p,S)=>p.entryName.toLowerCase().localeCompare(S.entryName.toLowerCase()))}return{get entries(){return o||E(),r.filter(p=>!l.has(p))},get comment(){return d.decode(i)},set comment(p){i=Tr.toBuffer(p,d.encode),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(p){this.entries.forEach(p)},getEntry:function(p){return o||E(),n[p]||null},setEntry:function(p){o||E(),r.push(p),n[p.entryName]=p,s.totalEntries=r.length},deleteFile:function(p,S=!0){o||E();let I=n[p];this.getEntryChildren(I,S).map(A=>A.entryName).forEach(this.deleteEntry)},deleteEntry:function(p){o||E();let S=n[p],I=r.indexOf(S);I>=0&&(r.splice(I,1),delete n[p],s.totalEntries=r.length)},getEntryChildren:function(p,S=!0){if(o||E(),typeof p=="object")if(p.isDirectory&&S){let I=[],R=p.entryName;for(let A of r)A.entryName.startsWith(R)&&I.push(A);return I}else return[p];return[]},getChildCount:function(p){if(p&&p.isDirectory){let S=this.getEntryChildren(p);return S.includes(p)?S.length-1:S.length}return 0},compressToBuffer:function(){o||E(),h();let p=[],S=[],I=0,R=0;s.size=0,s.offset=0;let A=0;for(let m of this.entries){let D=m.getCompressedData();m.header.offset=R;let y=m.packLocalHeader(),P=y.length+D.length;R+=P,p.push(y),p.push(D);let M=m.packCentralHeader();S.push(M),s.size+=M.length,I+=P+M.length,A++}I+=s.mainHeaderSize,s.offset=R,s.totalEntries=A,R=0;let N=Buffer.alloc(I);for(let m of p)m.copy(N,R),R+=m.length;for(let m of S)m.copy(N,R),R+=m.length;let w=s.toBinary();return i&&i.copy(w,Tr.Constants.ENDHDR),w.copy(N,R),t=N,o=!1,N},toAsyncBuffer:function(p,S,I,R){try{o||E(),h();let A=[],N=[],w=0,m=0,D=0;s.size=0,s.offset=0;let y=function(P){if(P.length>0){let M=P.shift(),B=M.entryName+M.extra.toString();I&&I(B),M.getCompressedDataAsync(function(G){R&&R(B),M.header.offset=m;let V=M.packLocalHeader(),J=V.length+G.length;m+=J,A.push(V),A.push(G);let ne=M.packCentralHeader();N.push(ne),s.size+=ne.length,w+=J+ne.length,D++,y(P)})}else{w+=s.mainHeaderSize,s.offset=m,s.totalEntries=D,m=0;let M=Buffer.alloc(w);A.forEach(function(G){G.copy(M,m),m+=G.length}),N.forEach(function(G){G.copy(M,m),m+=G.length});let B=s.toBinary();i&&i.copy(B,Tr.Constants.ENDHDR),B.copy(M,m),t=M,o=!1,p(M)}};y(Array.from(this.entries))}catch(A){S(A)}}}}});var XX=O((_Ue,qX)=>{var Rt=Ec(),Nt=require("path"),LCe=wC(),DCe=kX(),ua=(...t)=>Rt.findLast(t,e=>typeof e=="boolean"),VX=(...t)=>Rt.findLast(t,e=>typeof e=="string"),PCe=(...t)=>Rt.findLast(t,e=>typeof e=="function"),xCe={noSort:!1,readEntries:!1,method:Rt.Constants.NONE,fs:null};qX.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),xCe);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=Rt.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new Rt(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=Rt.decoder),t&&typeof t=="string")if(i.fs.existsSync(t))n.method=Rt.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw Rt.Errors.INVALID_FILENAME();let s=new DCe(r,n),{canonical:o,sanitize:a,zipnamefix:l}=Rt;function c(E){if(E&&s){var T;if(typeof E=="string"&&(T=s.getEntry(Nt.posix.normalize(E))),typeof E=="object"&&typeof E.entryName<"u"&&typeof E.header<"u"&&(T=s.getEntry(E.entryName)),T)return T}return null}function u(E){let{join:T,normalize:h,sep:p}=Nt.posix;return T(".",h(p+E.split("\\").join(p)+p))}function d(E){return E instanceof RegExp?(function(T){return function(h){return T.test(h)}})(E):typeof E!="function"?()=>!0:E}let f=(E,T)=>{let h=T.slice(-1);return h=h===i.sep?i.sep:"",Nt.relative(E,T)+h};return{readFile:function(E,T){var h=c(E);return h&&h.getData(T)||null},childCount:function(E){let T=c(E);if(T)return s.getChildCount(T)},readFileAsync:function(E,T){var h=c(E);h?h.getDataAsync(T):T(null,"getEntry failed for:"+E)},readAsText:function(E,T){var h=c(E);if(h){var p=h.getData();if(p&&p.length)return p.toString(T||"utf8")}return""},readAsTextAsync:function(E,T,h){var p=c(E);p?p.getDataAsync(function(S,I){if(I){T(S,I);return}S&&S.length?T(S.toString(h||"utf8")):T("")}):T("")},deleteFile:function(E,T=!0){var h=c(E);h&&s.deleteFile(h.entryName,T)},deleteEntry:function(E){var T=c(E);T&&s.deleteEntry(T.entryName)},addZipComment:function(E){s.comment=E},getZipComment:function(){return s.comment||""},addZipEntryComment:function(E,T){var h=c(E);h&&(h.comment=T)},getZipEntryComment:function(E){var T=c(E);return T&&T.comment||""},updateFile:function(E,T){var h=c(E);h&&h.setData(T)},addLocalFile:function(E,T,h,p){if(i.fs.existsSync(E)){T=T?u(T):"";let S=Nt.win32.basename(Nt.win32.normalize(E));T+=h||S;let I=i.fs.statSync(E),R=I.isFile()?i.fs.readFileSync(E):Buffer.alloc(0);I.isDirectory()&&(T+=i.sep),this.addFile(T,R,p,I)}else throw Rt.Errors.FILE_NOT_FOUND(E)},addLocalFileAsync:function(E,T){E=typeof E=="object"?E:{localPath:E};let h=Nt.resolve(E.localPath),{comment:p}=E,{zipPath:S,zipName:I}=E,R=this;i.fs.stat(h,function(A,N){if(A)return T(A,!1);S=S?u(S):"";let w=Nt.win32.basename(Nt.win32.normalize(h));if(S+=I||w,N.isFile())i.fs.readFile(h,function(m,D){return m?T(m,!1):(R.addFile(S,D,p,N),setImmediate(T,void 0,!0))});else if(N.isDirectory())return S+=i.sep,R.addFile(S,Buffer.alloc(0),p,N),setImmediate(T,void 0,!0)})},addLocalFolder:function(E,T,h){if(h=d(h),T=T?u(T):"",E=Nt.normalize(E),i.fs.existsSync(E)){let p=i.findFiles(E),S=this;if(p.length)for(let I of p){let R=Nt.join(T,f(E,I));h(R)&&S.addLocalFile(I,Nt.dirname(R))}}else throw Rt.Errors.FILE_NOT_FOUND(E)},addLocalFolderAsync:function(E,T,h,p){p=d(p),h=h?u(h):"",E=Nt.normalize(E);var S=this;i.fs.open(E,"r",function(I){if(I&&I.code==="ENOENT")T(void 0,Rt.Errors.FILE_NOT_FOUND(E));else if(I)T(void 0,I);else{var R=i.findFiles(E),A=-1,N=function(){if(A+=1,A<R.length){var w=R[A],m=f(E,w).split("\\").join("/");m=m.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),p(m)?i.fs.stat(w,function(D,y){D&&T(void 0,D),y.isFile()?i.fs.readFile(w,function(P,M){P?T(void 0,P):(S.addFile(h+m,M,"",y),N())}):(S.addFile(h+m+"/",Buffer.alloc(0),"",y),N())}):process.nextTick(()=>{N()})}else T(!0,void 0)};N()}})},addLocalFolderAsync2:function(E,T){let h=this;E=typeof E=="object"?E:{localPath:E},localPath=Nt.resolve(u(E.localPath));let{zipPath:p,filter:S,namefix:I}=E;S instanceof RegExp?S=(function(N){return function(w){return N.test(w)}})(S):typeof S!="function"&&(S=function(){return!0}),p=p?u(p):"",I=="latin1"&&(I=N=>N.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof I!="function"&&(I=N=>N);let R=N=>Nt.join(p,I(f(localPath,N))),A=N=>Nt.win32.basename(Nt.win32.normalize(I(N)));i.fs.open(localPath,"r",function(N){N&&N.code==="ENOENT"?T(void 0,Rt.Errors.FILE_NOT_FOUND(localPath)):N?T(void 0,N):i.findFilesAsync(localPath,function(w,m){if(w)return T(w);m=m.filter(D=>S(R(D))),m.length||T(void 0,!1),setImmediate(m.reverse().reduce(function(D,y){return function(P,M){if(P||M===!1)return setImmediate(D,P,!1);h.addLocalFileAsync({localPath:y,zipPath:Nt.dirname(R(y)),zipName:A(y)},D)}},T))})})},addLocalFolderPromise:function(E,T){return new Promise((h,p)=>{this.addLocalFolderAsync2(Object.assign({localPath:E},T),(S,I)=>{S&&p(S),I&&h(this)})})},addFile:function(E,T,h,p){E=l(E);let S=c(E),I=S!=null;I||(S=new LCe(n),S.entryName=E),S.comment=h||"";let R=typeof p=="object"&&p instanceof i.fs.Stats;R&&(S.header.time=p.mtime);var A=S.isDirectory?16:0;let N=S.isDirectory?16384:32768;return R?N|=4095&p.mode:typeof p=="number"?N|=4095&p:N|=S.isDirectory?493:420,A=(A|N<<16)>>>0,S.attr=A,S.setData(T),I||s.setEntry(S),S},getEntries:function(E){return s.password=E,s?s.entries:[]},getEntry:function(E){return c(E)},getEntryCount:function(){return s.getEntryCount()},forEach:function(E){return s.forEach(E)},extractEntryTo:function(E,T,h,p,S,I){p=ua(!1,p),S=ua(!1,S),h=ua(!0,h),I=VX(S,I);var R=c(E);if(!R)throw Rt.Errors.NO_ENTRY();var A=o(R.entryName),N=a(T,I&&!R.isDirectory?I:h?A:Nt.basename(A));if(R.isDirectory){var w=s.getEntryChildren(R);return w.forEach(function(y){if(y.isDirectory)return;var P=y.getData();if(!P)throw Rt.Errors.CANT_EXTRACT_FILE();var M=o(y.entryName),B=a(T,h?M:Nt.basename(M));let G=S?y.header.fileAttr:void 0;i.writeFileTo(B,P,p,G)}),!0}var m=R.getData(s.password);if(!m)throw Rt.Errors.CANT_EXTRACT_FILE();if(i.fs.existsSync(N)&&!p)throw Rt.Errors.CANT_OVERRIDE();let D=S?E.header.fileAttr:void 0;return i.writeFileTo(N,m,p,D),!0},test:function(E){if(!s)return!1;for(var T in s.entries)try{if(T.isDirectory)continue;var h=s.entries[T].getData(E);if(!h)return!1}catch{return!1}return!0},extractAllTo:function(E,T,h,p){if(h=ua(!1,h),p=VX(h,p),T=ua(!1,T),!s)throw Rt.Errors.NO_ZIP();s.entries.forEach(function(S){var I=a(E,o(S.entryName));if(S.isDirectory){i.makeDir(I);return}var R=S.getData(p);if(!R)throw Rt.Errors.CANT_EXTRACT_FILE();let A=h?S.header.fileAttr:void 0;i.writeFileTo(I,R,T,A);try{i.fs.utimesSync(I,S.header.time,S.header.time)}catch{throw Rt.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(E,T,h,p){if(p=PCe(T,h,p),h=ua(!1,h),T=ua(!1,T),!p)return new Promise((N,w)=>{this.extractAllToAsync(E,T,h,function(m){m?w(m):N(this)})});if(!s){p(Rt.Errors.NO_ZIP());return}E=Nt.resolve(E);let S=N=>a(E,Nt.normalize(o(N.entryName))),I=(N,w)=>new Error(N+': "'+w+'"'),R=[],A=[];s.entries.forEach(N=>{N.isDirectory?R.push(N):A.push(N)});for(let N of R){let w=S(N),m=h?N.header.fileAttr:void 0;try{i.makeDir(w),m&&i.fs.chmodSync(w,m),i.fs.utimesSync(w,N.header.time,N.header.time)}catch{p(I("Unable to create folder",w))}}A.reverse().reduce(function(N,w){return function(m){if(m)N(m);else{let D=Nt.normalize(o(w.entryName)),y=a(E,D);w.getDataAsync(function(P,M){if(M)N(M);else if(!P)N(Rt.Errors.CANT_EXTRACT_FILE());else{let B=h?w.header.fileAttr:void 0;i.writeFileToAsync(y,P,T,B,function(G){G||N(I("Unable to write file",y)),i.fs.utimes(y,w.header.time,w.header.time,function(V){V?N(I("Unable to set times",y)):N()})})}})}}},p)()},writeZip:function(E,T){if(arguments.length===1&&typeof E=="function"&&(T=E,E=""),!E&&n.filename&&(E=n.filename),!!E){var h=s.compressToBuffer();if(h){var p=i.writeFileTo(E,h,!0);typeof T=="function"&&T(p?null:new Error("failed"),"")}}},writeZipPromise:function(E,T){let{overwrite:h,perm:p}=Object.assign({overwrite:!0},T);return new Promise((S,I)=>{!E&&n.filename&&(E=n.filename),E||I("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(R=>{let A=N=>N?S(N):I("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(E,R,h,p,A)},I)})},toBufferPromise:function(){return new Promise((E,T)=>{s.toAsyncBuffer(E,T)})},toBuffer:function(E,T,h,p){return typeof E=="function"?(s.toAsyncBuffer(E,T,h,p),null):s.compressToBuffer()}}}});var da,jX=Y(()=>{"use strict";da=class{constructor(e){this._isSheet=!1;this._workbookId=0;this._recId=null;this._workbookName=null;this._inCellXf=!1;this._inCellStyleXf=!1;this._inNumberFormat=!1;this._parentCellStyleXf=0;this._numberFormatIndex=0;this._format=0;this._formatString=null;this._sharedStringValue=null;this._sharedStringUniqueCount=0;this._cellType=0;this._intValue=0;this._doubleVal=0;this._boolValue=!1;this._stringValue=null;this._columnNum=-1;this._xfIndex=0;this._readCell=!1;this._rowIndex=-1;this._recordStart=0;this._xfIndexToNumFmtId=[];this._customNumFmts=new Set;if(!Buffer.isBuffer(e))throw new Error("BiffReaderWriter expects a Buffer");this.buffer=e,this.pos=0,this.length=e.length}_tryReadVariableValue(){if(this.pos>=this.length)return null;let e=this.buffer[this.pos++],r=(e&127)>>>0;if((e&128)===0)return r;if(this.pos>=this.length)return null;let n=this.buffer[this.pos++];if(r=((n&127)<<7|r)>>>0,(n&128)===0)return r;if(this.pos>=this.length)return null;let i=this.buffer[this.pos++];return r=((i&127)<<14|r)>>>0,(i&128)===0?r:this.pos>=this.length?null:(r=((this.buffer[this.pos++]&127)<<21|r)>>>0,r)}_getDWord(e){return this.buffer.readUInt32LE(this._recordStart+e)}_getInt32(e){return this.buffer.readInt32LE(this._recordStart+e)}_getWord(e){return this.buffer.readUInt16LE(this._recordStart+e)}_getByte(e){return this.buffer[this._recordStart+e]}_getDouble(e){return this.buffer.readDoubleLE(this._recordStart+e)}_getString(e,r){let n=this._recordStart+e,i=n+r*2;return i>this.buffer.length?"":this.buffer.toString("utf16le",n,i)}_getNullableString(e){let r=this._getDWord(e.val);if(e.val+=4,r===4294967295)return null;let n=this._getString(e.val,r);return e.val+=r*2,n}readWorkbook(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;if(this._recordStart=n,this.pos+=r,this._isSheet=!1,e===156){this._workbookId=this._getDWord(4);let i={val:8};this._recId=this._getNullableString(i);let s=this._getDWord(i.val);this._workbookName=this._getString(i.val+4,s),this._isSheet=!0}return!0}readSharedStrings(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;if(this._recordStart=n,this.pos+=r,this._sharedStringValue=null,e===19){let i=this._getDWord(1);this._sharedStringValue=this._getString(5,i)}else e===159&&(this._sharedStringUniqueCount=this._getDWord(4));return!0}readStyles(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;this._recordStart=n,this.pos+=r;let i=617,s=618,o=626,a=627,l=615,c=616,u=47,d=44;switch(e){case i:this._inCellXf=!0;break;case s:this._inCellXf=!1;break;case o:this._inCellStyleXf=!0;break;case a:this._inCellStyleXf=!1;break;case l:this._inNumberFormat=!0;break;case c:this._inNumberFormat=!1;break;case u:this._inCellXf&&(this._parentCellStyleXf=this._getWord(0),this._numberFormatIndex=this._getWord(2),this._xfIndexToNumFmtId.push(this._numberFormatIndex));break;case d:if(this._inNumberFormat){this._format=this._getWord(0);let f=this._getDWord(2);this._formatString=this._getString(6,f);let E=this._formatString.toLowerCase();(E.includes("yy")||E.includes("mm")||E.includes("dd")||E.includes("h:mm"))&&this._customNumFmts.add(this._format)}break}return!0}_getRkNumber(e){let r=this._getByte(e),n=0;if((r&2)!==0)n=this._getInt32(e)>>2;else{let s=this._getInt32(e)&4294967292,o=Buffer.allocUnsafe(8);o.writeInt32LE(0,0),o.writeInt32LE(s,4),n=o.readDoubleLE(0)}return(r&1)!==0&&(n/=100),n}readWorksheet(){let e=this._tryReadVariableValue(),r=this._tryReadVariableValue();if(e===null||r===null)return!1;let n=this.pos;if(n+r>this.length)return!1;this._recordStart=n,this.pos+=r,this._readCell=!1,this._columnNum=-1;let i=0,s=1,o=2,a=3,l=4,c=5,u=6,d=7,f=8,E=9,T=10,h=11;switch(e){case i:this._rowIndex=this._getInt32(0);break;case s:case a:case h:this._readCell=!0,this._cellType=0;break;case o:this._doubleVal=this._getRkNumber(8),this._readCell=!0,this._cellType=3;break;case l:case T:this._boolValue=this._getByte(8)===1,this._readCell=!0,this._cellType=4;break;case E:case c:this._doubleVal=this._getDouble(8),this._readCell=!0,this._cellType=3;break;case u:case f:{let p=this._getDWord(8);this._stringValue=this._getString(12,p),this._readCell=!0,this._cellType=5;break}case d:this._intValue=this._getDWord(8),this._readCell=!0,this._cellType=2;break}return this._readCell&&(this._columnNum=this._getDWord(0),this._xfIndex=this._getDWord(4)&16777215),!0}}});var KX,aS,zX=Y(()=>{"use strict";KX=j(XX());gC();jX();aS=class extends uc{constructor(){super();this.zip=null;this.sharedStrings=[];this.styles=[];this.sheetNames=[];this.sheets=[];this._currentSheetIndex=-1;this._reader=null;this._currentRow=[];this._pendingRowIndex=-1;this._eof=!1;this.xfIdToNumFmtId=[];this.customDateFormats=null}async open(r,n=!0){this.zip=new KX.default(r);let i=this.zip.getEntry("xl/workbook.bin");if(i){let a=i.getData(),l=new da(a);for(;l.readWorkbook();)if(l._isSheet){let c=l._workbookName,u=l._recId;this.sheetNames.push(c),this.sheets.push({name:c,rId:u,path:null})}}let s=this.zip.getEntry("xl/_rels/workbook.bin.rels");if(s){let a=s.getData().toString("utf8"),l=/<Relationship[^>]*Id="([^"]*)"[^>]*Target="([^"]*)"/g,c,u={};for(;(c=l.exec(a))!==null;)u[c[1]]=c[2];for(let d of this.sheets){let f=u[d.rId];f&&(f.startsWith("/")&&(f=f.substring(1)),f.startsWith("xl/")||(f="xl/"+f),d.path=f)}}if(n){let a="xl/sharedStrings.bin";this.zip.getEntry(a)&&this._readSharedStrings(a)}let o="xl/styles.bin";this.zip.getEntry(o)&&this._readStyles(o),this.resultsCount=this.sheets.length,this._currentSheetIndex=-1}_readSharedStrings(r){let n=this.zip.getEntry(r);if(!n)return;let i=new da(n.getData());for(;i.readSharedStrings();)i._sharedStringValue!==null&&this.sharedStrings.push(i._sharedStringValue)}_readStyles(r){let n=this.zip.getEntry(r);if(!n)return;let i=new da(n.getData());for(;i.readStyles(););this.xfIdToNumFmtId=i._xfIndexToNumFmtId,this.customDateFormats=i._customNumFmts}getSheetNames(){return this.sheetNames}read(){if(this._currentSheetIndex===-1&&(this._currentSheetIndex=0,!this._initSheet(0))||this._eof)return!1;for(this._currentRow=[];;){if(!this._reader.readWorksheet())return this._eof=!0,!0;if(this._reader._rowIndex!==-1&&this._reader._rowIndex!==this._pendingRowIndex)return this._pendingRowIndex=this._reader._rowIndex,!0;if(this._reader._readCell){let n=this._reader._columnNum,i=null;switch(this._reader._cellType){case 2:i=this.sharedStrings[this._reader._intValue];break;case 3:{i=this._reader._doubleVal;let s=this._reader._xfIndex,o=0;if(this.xfIdToNumFmtId&&s<this.xfIdToNumFmtId.length&&(o=this.xfIdToNumFmtId[s]),o>=14&&o<=22||o>=45&&o<=47||this.customDateFormats&&this.customDateFormats.has(o))try{i=this.getDateTimeFromOaDate(i)}catch{}break}case 4:i=this._reader._boolValue;break;case 5:i=this._reader._stringValue;break;default:i=null}this._currentRow[n]=i,n>=this.fieldCount&&(this.fieldCount=n+1)}}}_initSheet(r){if(r>=this.sheets.length)return!1;let n=this.sheets[r],i=this.zip.getEntry(n.path);if(!i)return!1;for(this._reader=new da(i.getData()),this._eof=!1,this._pendingRowIndex=-1;this._reader.readWorksheet();)if(this._reader._rowIndex!==-1)return this._pendingRowIndex=this._reader._rowIndex,!0;return this._eof=!0,!1}getValue(r){return r<0||r>=this._currentRow.length?null:this._currentRow[r]}}});var QX={};Pt(QX,{ReaderFactory:()=>lS,default:()=>MCe});var JX,lS,MCe,ZX=Y(()=>{"use strict";JX=j(require("path"));hX();zX();lS=class{static create(e){let r=JX.extname(e).toLowerCase();if(r===".xlsx")return new rS;if(r===".xlsb")return new aS;throw new Error(`Unsupported extension: ${r}`)}},MCe=lS});var PC={};Pt(PC,{ColumnTypeChooser:()=>hc,NetezzaDataType:()=>_i,NetezzaImporter:()=>cS,importDataToNetezza:()=>vCe});async function vCe(t,e,r,n,i){let s=Date.now(),o=null;try{if(!t||!Un.existsSync(t))return{success:!1,message:`Source file not found: ${t}`};if(!e)return{success:!1,message:"Target table name is required"};if(!r||!r.host)return{success:!1,message:"Connection details are required"};let l=Un.statSync(t).size,c=Ea.extname(t).toLowerCase(),u=[".csv",".txt",".xlsx",".xlsb"];if(!u.includes(c))return{success:!1,message:`Unsupported file format: ${c}. Supported: ${u.join(", ")}`};n?.("Starting import process..."),n?.(`  Source file: ${t}`),n?.(`  Target table: ${e}`),n?.(`  File size: ${l.toLocaleString()} bytes`),n?.(`  File format: ${c}`);let d=new cS(t,e);await d.analyzeDataTypes(n),n?.("Preparing in-memory data stream...");let f=await d.createDataStream(n),E=d.getVirtualFileName();n?.(`Registered virtual stream: ${E}`);let T=jt();T&&T.registerImportStream?T.registerImportStream(E,f):n?.("Warning: NzConnection driver does not support stream registry. Import might fail.");let h=d.generateCreateTableSql();n?.("Generated SQL:"),n?.(h),n?.("Connecting to Netezza...");let p={host:r.host,port:r.port||5480,database:r.database,user:r.user,password:r.password},S=jt();o=new S(p),await o.connect();try{n?.("Executing CREATE TABLE with EXTERNAL data...");let R=o.createCommand(h);R.commandTimeout=i||3600;let A=d.getRowsCount();o.on("importProgress",N=>{let w=N,m=A>0?Math.round(w.percentComplete/100*A):0;n?.(`Importing: ${w.percentComplete}% complete (${m.toLocaleString()} / ${A.toLocaleString()} rows)`)}),await R.execute(),n?.("Import completed successfully")}finally{await o.close(),T&&T.unregisterImportStream&&T.unregisterImportStream(E)}let I=(Date.now()-s)/1e3;return{success:!0,message:"Import completed successfully",details:{sourceFile:t,targetTable:e,fileSize:l,format:c,rowsProcessed:d.getRowsCount(),rowsInserted:d.getRowsCount(),processingTime:`${I.toFixed(1)}s`,columns:d.getSqlHeaders().length,detectedDelimiter:d.getCsvDelimiter()}}}catch(a){let l=(Date.now()-s)/1e3;return{success:!1,message:`Import failed: ${a instanceof Error?a.message:String(a)}`,details:{processingTime:`${l.toFixed(1)}s`}}}finally{if(o&&o._connected)try{await o.close()}catch{}}}var Un,Ea,t6,e6,LC,_i,hc,DC,cS,uS=Y(()=>{"use strict";Un=j(require("fs")),Ea=j(require("path")),t6=require("stream"),e6=()=>new Promise(t=>setTimeout(t,0));try{let t=(ZX(),mE(QX));LC=t.default||t.ReaderFactory||t}catch(t){console.error("libs/ExcelHelpersTs/ReaderFactory module not available",t)}_i=class{constructor(e,r,n,i){this.dbType=e;this.precision=r;this.scale=n;this.length=i}toString(){return["BIGINT","DATE","DATETIME"].includes(this.dbType)?this.dbType:this.dbType==="NUMERIC"?`${this.dbType}(${this.precision},${this.scale})`:this.dbType==="NVARCHAR"?`${this.dbType}(${this.length})`:`TODO !!! ${this.dbType}`}},hc=class{constructor(e="."){this.decimalDelimInCsv=".";this.firstTime=!0;this.currentType=new _i("BIGINT"),this.decimalDelimInCsv=e}getType(e){let r=this.currentType.dbType,n=e.length;if(r==="BIGINT"&&/^\d+$/.test(e)&&n<15)return this.firstTime=!1,new _i("BIGINT");let i=this.decimalDelimInCsv==="."?"\\.":this.decimalDelimInCsv,s=(e.match(new RegExp(`${i}`,"g"))||[]).length;if(["BIGINT","NUMERIC"].includes(r)&&s<=1){let a=e.replace(this.decimalDelimInCsv,"");if(/^\d+$/.test(a)&&n<15&&(!a.startsWith("0")||s>0||a==="0"))return this.firstTime=!1,new _i("NUMERIC",16,6)}if((r==="DATE"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=8&&n<=10){let a=e.split("-");if(a.length===3&&a.every(l=>/^\d+$/.test(l)))try{let l=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]));if(!isNaN(l.getTime()))return this.firstTime=!1,new _i("DATE")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/-/g)||[]).length===2&&n>=12&&n<=20){let a=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})[\s|T](\d{2}):(\d{2})(:?(\d{2}))?$/);if(a)try{let l=a[7]?parseInt(a[7]):0,c=new Date(parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),l);if(!isNaN(c.getTime()))return this.firstTime=!1,new _i("DATETIME")}catch{}}if((r==="DATETIME"||this.firstTime)&&(e.match(/\./g)||[]).length>=2){let a=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(a)try{let l=parseInt(a[1]),c=parseInt(a[2])-1,u=parseInt(a[3]),d=a[4]?parseInt(a[4]):0,f=a[5]?parseInt(a[5]):0,E=a[6]?parseInt(a[6]):0;if(c>=0&&c<=11&&l>=1&&l<=31){let T=new Date(u,c,l,d,f,E);if(!isNaN(T.getTime())&&T.getFullYear()===u&&T.getMonth()===c&&T.getDate()===l)return this.firstTime=!1,new _i("DATETIME")}}catch{}}let o=Math.max(n+5,20);return this.currentType.length!==void 0&&o<this.currentType.length&&(o=this.currentType.length),this.firstTime=!1,new _i("NVARCHAR",void 0,void 0,o)}refreshCurrentType(e){return this.currentType=this.getType(e),this.currentType}},DC=class extends t6.Readable{constructor(r,n,i){super();this.currentIndex=0;this.byteLength=0;this.lastReportedIndex=-1;this.lastReportTime=0;this.lastReportedMessage="";this.importer=r,this.rows=n,this.progressCallback=i,this.currentIndex=0,this.lastReportedIndex=-1,this.lastReportTime=0,this.lastReportedMessage="";try{this.byteLength=n.reduce((s,o)=>{let a=o.reduce((l,c)=>l+(c?c.length:0),0);return s+a+o.length},0)}catch{this.byteLength=1024*1024}}_read(r){try{let n=!0;for(;n&&this.currentIndex<this.rows.length;){let a=this.rows[this.currentIndex].map((l,c)=>this.importer.formatValue(l||"",c)).join(this.importer.getDelimiter())+this.importer.getRecordDelim();n=this.push(Buffer.from(a,"utf8")),this.currentIndex++}let i=this.rows.length;if(this.currentIndex>this.lastReportedIndex){let s=Date.now();if(this.currentIndex>=i||s-this.lastReportTime>=1e3){let c=`Importing: ${Math.floor(this.currentIndex/i*100)}% complete (${this.currentIndex.toLocaleString()} / ${i.toLocaleString()} rows)`,d=(this.currentIndex-(this.lastReportedIndex<0?0:this.lastReportedIndex))/i*100;c!==this.lastReportedMessage&&(this.progressCallback?.(c,d,!1),this.lastReportedIndex=this.currentIndex,this.lastReportTime=s,this.lastReportedMessage=c)}}this.currentIndex>=this.rows.length&&this.push(null)}catch(n){this.emit("error",n)}}},cS=class{constructor(e,r,n){this.delimiter="	";this.delimiterPlain="\\t";this.recordDelim=`
`;this.recordDelimPlain="\\n";this.escapechar="\\";this.csvDelimiter=",";this.excelData=[];this.isExcelFile=!1;this.sqlHeaders=[];this.dataTypes=[];this.rowsCount=0;this.valuesToEscape=[];this.filePath=e,this.targetTable=r,this.logDir=n||Ea.join(Ea.dirname(e),"netezza_logs");let i=Ea.extname(e).toLowerCase();this.isExcelFile=[".xlsx",".xlsb"].includes(i),this.virtualFileName=`virtual_import_${Date.now()}_${Math.floor(Math.random()*1e3)}.txt`,this.valuesToEscape=[this.escapechar,this.recordDelim,"\r",this.delimiter],Un.existsSync(this.logDir)||Un.mkdirSync(this.logDir,{recursive:!0})}getDelimiter(){return this.delimiter}getRecordDelim(){return this.recordDelim}detectCsvDelimiter(){let r=Un.readFileSync(this.filePath,"utf-8").split(`
`)[0]||"";r.startsWith("\uFEFF")&&(r=r.slice(1));let n=[";","	","|",","],i={};for(let o of n)i[o]=(r.match(new RegExp(o==="|"?"\\|":o,"g"))||[]).length;let s=Math.max(...Object.values(i));s>0&&(this.csvDelimiter=Object.keys(i).find(o=>i[o]===s)||",")}cleanColumnName(e){let r=String(e).trim();return r=r.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!r||/^\d/.test(r)||r.startsWith("_"))&&(r="COL"+(r.startsWith("_")?"":"_")+r),r}parseCsvLine(e){let r=[],n="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];o==='"'?i&&e[s+1]==='"'?(n+='"',s++):i=!i:o===this.csvDelimiter&&!i?(r.push(n),n=""):n+=o}return r.push(n),r}async readExcelFile(e){if(!LC)throw new Error("ReaderFactory module not available");e?.("Reading Excel file...");let r=LC.create(this.filePath);await r.open(this.filePath);let n=[],i=o=>{if(o==null)return"";if(o instanceof Date){let a=l=>l<10?"0"+l:l;return`${o.getFullYear()}-${a(o.getMonth()+1)}-${a(o.getDate())} ${a(o.getHours())}:${a(o.getMinutes())}:${a(o.getSeconds())}`}return String(o)},s=0;for(;await r.read();){let o=[],a=r._currentRow;if(a&&Array.isArray(a))for(let l=0;l<a.length;l++)o.push(i(a[l]));n.push(o),s++,s%1e4===0&&(e?.(`Processed ${s.toLocaleString()} rows...`,void 0,!1),await e6())}return typeof r.close=="function"&&await r.close(),e?.(`Excel file loaded: ${n.length} rows`),n}async analyzeDataTypes(e){e?.("Analyzing data types...");let r;if(this.isExcelFile)this.excelData=await this.readExcelFile(e),r=this.excelData;else{this.detectCsvDelimiter();let i=Un.readFileSync(this.filePath,"utf-8");i.startsWith("\uFEFF")&&(i=i.slice(1));let s=i.split(/\r?\n/);r=[];for(let o of s)o.trim()&&r.push(this.parseCsvLine(o))}if(!r||r.length===0)throw new Error("No data found in file");let n=[];this.sqlHeaders=r[0].map(i=>this.cleanColumnName(i||"COLUMN"));for(let i=0;i<r[0].length;i++)n.push(new hc);for(let i=1;i<r.length;i++){let s=r[i];for(let o=0;o<s.length;o++)o<n.length&&s[o]&&s[o].trim()&&n[o].refreshCurrentType(s[o].trim());i%1e4===0&&(e?.(`Analyzed ${i.toLocaleString()} rows...`,void 0,!1),await e6())}return this.rowsCount=r.length-1,e?.(`Analysis complete: ${this.rowsCount.toLocaleString()} rows`),this.dataTypes=n,n}escapeValue(e){let r=String(e).trim();for(let n of this.valuesToEscape)r=r.split(n).join(`${this.escapechar}${n}`);return r}formatValue(e,r){let n=this.escapeValue(e);return r<this.dataTypes.length&&this.dataTypes[r].currentType.dbType==="DATETIME"&&(n=n.replace("T"," ")),n}generateCreateTableSql(){let e=[];for(let n=0;n<this.sqlHeaders.length;n++){let i=this.sqlHeaders[n],s=this.dataTypes[n];e.push(`        ${i} ${s.currentType.toString()}`)}let r=this.logDir.replace(/\\/g,"/");return`CREATE TABLE ${this.targetTable} AS 
(
    SELECT * FROM EXTERNAL '${this.virtualFileName}'
    (
${e.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${this.delimiterPlain}'
        RecordDelim '${this.recordDelimPlain}'
        ESCAPECHAR '${this.escapechar}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${r}'
    )
) DISTRIBUTE ON RANDOM;`}async createDataStream(e){e?.("Preparing data stream...");try{let r;if(this.isExcelFile){if(!this.excelData||this.excelData.length===0)throw new Error("Excel data not loaded. Call analyzeDataTypes first.");r=this.excelData.slice(1)}else{let n=Un.readFileSync(this.filePath,"utf-8");n.startsWith("\uFEFF")&&(n=n.slice(1));let i=n.split(/\r?\n/);r=[];let s=!0;for(let o of i)if(o.trim()){if(s){s=!1;continue}r.push(this.parseCsvLine(o))}}return this.rowsCount=r.length,new DC(this,r,e)}catch(r){let n=r instanceof Error?r.message:String(r);throw e?.(`Error preparing stream: ${n}`),r}}getVirtualFileName(){return this.virtualFileName}getRowsCount(){return this.rowsCount}getSqlHeaders(){return this.sqlHeaders}getCsvDelimiter(){return this.csvDelimiter}}});var s6=Y(()=>{"use strict"});async function ut(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}function Ee(t){return!t||/^[A-Z_][A-Z0-9_]*$/i.test(t)&&t===t.toUpperCase()?t:`"${t.replace(/"/g,'""')}"`}function o6(t){if(!t)return t;let e=t.trim().toUpperCase();return e==="CHARACTER VARYING"?"CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER VARYING"?"NATIONAL CHARACTER VARYING(ANY)":e==="NATIONAL CHARACTER"?"NATIONAL CHARACTER(ANY)":e==="CHARACTER"?"CHARACTER(ANY)":t}async function a6(t){let e={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},r=jt(),n=new r(e);return await n.connect(),n}var mi=Y(()=>{"use strict"});async function Fn(t,e,r,n){let i=`
        SELECT 
            X.OBJID::INT AS OBJID
            , X.ATTNAME
            , X.DESCRIPTION
            , X.FORMAT_TYPE AS FULL_TYPE
            , X.ATTNOTNULL::BOOL AS ATTNOTNULL
            , X.COLDEFAULT
        FROM
            ${e.toUpperCase()}.._V_RELATION_COLUMN X
        INNER JOIN
            ${e.toUpperCase()}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
        WHERE
            X.TYPE IN ('TABLE','VIEW','EXTERNAL TABLE', 'SEQUENCE','SYSTEM VIEW','SYSTEM TABLE')
            AND X.OBJID NOT IN (4,5)
            AND D.SCHEMA = '${r.toUpperCase()}'
            AND D.OBJNAME = '${n.toUpperCase()}'
        ORDER BY 
            X.OBJID, X.ATTNUM
    `,s=await ut(t,i),o=[];for(let a of s){let l=!1,c=a.ATTNOTNULL;if(typeof c=="boolean")l=c;else if(typeof c=="number")l=c!==0;else if(typeof c=="string"){let u=c.trim().toLowerCase();l=u==="t"||u==="true"||u==="1"||u==="yes"}o.push({name:a.ATTNAME,description:a.DESCRIPTION||null,fullTypeName:a.FULL_TYPE,notNull:l,defaultValue:a.COLDEFAULT||null})}return o}async function is(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_DIST_MAP
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY DISTSEQNO
        `;return(await ut(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function ss(t,e,r,n){try{let i=`
            SELECT ATTNAME
            FROM ${e.toUpperCase()}.._V_TABLE_ORGANIZE_COLUMN
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
            ORDER BY ORGSEQNO
        `;return(await ut(t,i)).map(o=>o.ATTNAME)}catch{return[]}}async function os(t,e,r,n){let i=`
        SELECT 
            X.SCHEMA
            , X.RELATION
            , X.CONSTRAINTNAME
            , X.CONTYPE
            , X.ATTNAME
            , X.PKDATABASE
            , X.PKSCHEMA
            , X.PKRELATION
            , X.PKATTNAME
            , X.UPDT_TYPE
            , X.DEL_TYPE
        FROM 
            ${e.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.OBJID NOT IN (4,5)
            AND X.SCHEMA = '${r.toUpperCase()}'
            AND X.RELATION = '${n.toUpperCase()}'
        ORDER BY
            X.SCHEMA, X.RELATION, X.CONSEQ
    `,s=new Map;try{let o=await ut(t,i);for(let a of o){let l=a.CONSTRAINTNAME;if(!s.has(l)){let u={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};s.set(l,{type:u[a.CONTYPE]||"UNKNOWN",typeChar:a.CONTYPE,columns:[],pkDatabase:a.PKDATABASE||null,pkSchema:a.PKSCHEMA||null,pkRelation:a.PKRELATION||null,pkColumns:[],updateType:a.UPDT_TYPE||"NO ACTION",deleteType:a.DEL_TYPE||"NO ACTION"})}let c=s.get(l);c.columns.push(a.ATTNAME),a.PKATTNAME&&c.pkColumns.push(a.PKATTNAME)}}catch(o){console.warn("Cannot retrieve keys info:",o)}return s}async function fa(t,e,r,n){try{let i=`
            SELECT DESCRIPTION
            FROM ${e.toUpperCase()}.._V_OBJECT_DATA
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND OBJNAME = '${n.toUpperCase()}'
                AND OBJTYPE = 'TABLE'
        `,s=await ut(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{try{let i=`
                SELECT DESCRIPTION
                FROM ${e.toUpperCase()}.._V_OBJECT_DATA
                WHERE SCHEMA = '${r.toUpperCase()}'
                    AND OBJNAME = '${n.toUpperCase()}'
            `,s=await ut(t,i);if(s.length>0&&s[0].DESCRIPTION)return s[0].DESCRIPTION}catch{}}return null}async function Hd(t,e,r,n){try{let i=`
            SELECT OWNER
            FROM ${e.toUpperCase()}.._V_TABLE
            WHERE SCHEMA = '${r.toUpperCase()}'
                AND TABLENAME = '${n.toUpperCase()}'
        `,s=await ut(t,i);if(s.length>0&&s[0].OWNER)return s[0].OWNER}catch{}return null}var fS=Y(()=>{"use strict";mi()});async function Wd(t,e,r,n){let i=await Fn(t,e,r,n);if(i.length===0)throw new Error(`Table ${e}.${r}.${n} not found or has no columns`);let s=await is(t,e,r,n),o=await ss(t,e,r,n),a=await os(t,e,r,n),l=await fa(t,e,r,n);return Tc(e,r,n,i,s,o,a,l)}function Tc(t,e,r,n,i,s,o,a){if(n.length===0)return`-- Table ${t}.${e}.${r} has no columns or was not found`;let l=Ee(t),c=Ee(e),u=Ee(r),d=[];d.push(`CREATE TABLE ${l}.${c}.${u}`),d.push("(");let f=[];for(let E of n){let h=`    ${Ee(E.name)} ${E.fullTypeName}`;E.notNull&&(h+=" NOT NULL"),E.defaultValue!==null&&(h+=` DEFAULT ${E.defaultValue}`),f.push(h)}if(d.push(f.join(`,
`)),i.length>0){let E=i.map(T=>Ee(T));d.push(`)
DISTRIBUTE ON (${E.join(", ")})`)}else d.push(`)
DISTRIBUTE ON RANDOM`);if(s.length>0){let E=s.map(T=>Ee(T));d.push(`ORGANIZE ON (${E.join(", ")})`)}d.push(";"),d.push("");for(let[E,T]of o){let h=Ee(E),p=T.columns.map(S=>Ee(S));if(T.typeChar==="f"){let S=T.pkColumns.filter(I=>I).map(I=>Ee(I));S.length>0&&d.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${p.join(", ")}) REFERENCES ${T.pkDatabase}.${T.pkSchema}.${T.pkRelation} (${S.join(", ")}) ON DELETE ${T.deleteType} ON UPDATE ${T.updateType};`)}else(T.typeChar==="p"||T.typeChar==="u")&&d.push(`ALTER TABLE ${l}.${c}.${u} ADD CONSTRAINT ${h} ${T.type} (${p.join(", ")});`)}if(a){let E=a.replace(/'/g,"''");d.push(""),d.push(`COMMENT ON TABLE ${l}.${c}.${u} IS '${E}';`)}for(let E of n)if(E.description){let T=Ee(E.name),h=E.description.replace(/'/g,"''");d.push(`COMMENT ON COLUMN ${l}.${c}.${u}.${T} IS '${h}';`)}return d.join(`
`)}var hS=Y(()=>{"use strict";mi();fS()});async function ha(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            VIEWNAME,
            DEFINITION,
            OBJID::INT
        FROM ${e.toUpperCase()}.._V_VIEW
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND VIEWNAME = '${n.toUpperCase()}'
    `,o=await ut(t,i);if(o.length===0)throw new Error(`View ${e}.${r}.${n} not found`);let a=o[0],l=Ee(e),c=Ee(r),u=Ee(n),d=[];return d.push(`CREATE OR REPLACE VIEW ${l}.${c}.${u} AS`),d.push(a.DEFINITION||""),d.join(`
`)}var TS=Y(()=>{"use strict";mi()});async function Ta(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            OBJID::INT,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS,
            NULL AS LANGUAGE
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
        ORDER BY 1, 2, 3
    `,o=await ut(t,i);if(o.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let a=o[0],l={schema:a.SCHEMA,procedureSource:a.PROCEDURESOURCE,objId:a.OBJID,returns:o6(a.RETURNS),executeAsOwner:!!a.EXECUTEDASOWNER,description:a.DESCRIPTION||null,procedureSignature:a.PROCEDURESIGNATURE,procedureName:a.PROCEDURE,arguments:a.ARGUMENTS||null},c=Ee(e),u=Ee(r),d=Ee(l.procedureName),f=[],E=`CREATE OR REPLACE PROCEDURE ${c}.${u}.${d}`;if(l.arguments){let T=l.arguments.trim();T.startsWith("(")&&T.endsWith(")")?E+=T:E+=`(${T})`}else E+="()";if(f.push(E),f.push(`RETURNS ${l.returns}`),l.executeAsOwner?f.push("EXECUTE AS OWNER"):f.push("EXECUTE AS CALLER"),f.push("LANGUAGE NZPLSQL AS"),f.push("BEGIN_PROC"),f.push(l.procedureSource),f.push("END_PROC;"),l.description){let T=l.description.replace(/'/g,"''");f.push(`COMMENT ON PROCEDURE ${d} IS '${T}';`)}return f.join(`
`)}var pS=Y(()=>{"use strict";mi()});async function pa(t,e,r,n){let i=`
        SELECT 
            E1.SCHEMA,
            E1.TABLENAME,
            E2.EXTOBJNAME,
            E2.OBJID::INT,
            E1.DELIM,
            E1.ENCODING,
            E1.TIMESTYLE,
            E1.REMOTESOURCE,
            E1.SKIPROWS,
            E1.MAXERRORS,
            E1.ESCAPE,
            E1.LOGDIR,
            E1.DECIMALDELIM,
            E1.QUOTEDVALUE,
            E1.NULLVALUE,
            E1.CRINSTRING,
            E1.TRUNCSTRING,
            E1.CTRLCHARS,
            E1.IGNOREZERO,
            E1.TIMEEXTRAZEROS,
            E1.Y2BASE,
            E1.FILLRECORD,
            E1.COMPRESS,
            E1.INCLUDEHEADER,
            E1.LFINSTRING,
            E1.DATESTYLE,
            E1.DATEDELIM,
            E1.TIMEDELIM,
            E1.BOOLSTYLE,
            E1.FORMAT,
            E1.SOCKETBUFSIZE,
            E1.RECORDDELIM,
            E1.MAXROWS,
            E1.REQUIREQUOTES,
            E1.RECORDLENGTH,
            E1.DATETIMEDELIM,
            E1.REJECTFILE
        FROM 
            ${e.toUpperCase()}.._V_EXTERNAL E1
            JOIN ${e.toUpperCase()}.._V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE
                AND E1.SCHEMA = E2.SCHEMA
                AND E1.TABLENAME = E2.TABLENAME
        WHERE 
            E1.DATABASE = '${e.toUpperCase()}'
            AND E1.SCHEMA = '${r.toUpperCase()}'
            AND E1.TABLENAME = '${n.toUpperCase()}'
    `,s=await ut(t,i);if(s.length===0)throw new Error(`External table ${e}.${r}.${n} not found`);let o=h=>{if(h==null)return null;if(typeof h=="boolean")return h;if(typeof h=="number")return h!==0;let p=String(h).toLowerCase();return p==="t"||p==="true"||p==="1"||p==="yes"||p==="on"},a=s[0],l={schema:a.SCHEMA,tableName:a.TABLENAME,dataObject:a.EXTOBJNAME||null,delimiter:a.DELIM||null,encoding:a.ENCODING||null,timeStyle:a.TIMESTYLE||null,remoteSource:a.REMOTESOURCE||null,skipRows:a.SKIPROWS||null,maxErrors:a.MAXERRORS||null,escapeChar:a.ESCAPE||null,logDir:a.LOGDIR||null,decimalDelim:a.DECIMALDELIM||null,quotedValue:a.QUOTEDVALUE||null,nullValue:a.NULLVALUE||null,crInString:o(a.CRINSTRING),truncString:o(a.TRUNCSTRING),ctrlChars:o(a.CTRLCHARS),ignoreZero:o(a.IGNOREZERO),timeExtraZeros:o(a.TIMEEXTRAZEROS),y2Base:a.Y2BASE||null,fillRecord:o(a.FILLRECORD),compress:o(a.COMPRESS),includeHeader:o(a.INCLUDEHEADER),lfInString:o(a.LFINSTRING),dateStyle:a.DATESTYLE||null,dateDelim:a.DATEDELIM||null,timeDelim:a.TIMEDELIM||null,boolStyle:a.BOOLSTYLE||null,format:a.FORMAT||null,socketBufSize:a.SOCKETBUFSIZE||null,recordDelim:a.RECORDDELIM?String(a.RECORDDELIM).replace(/\r/g,"\\r").replace(/\n/g,"\\n"):null,maxRows:a.MAXROWS||null,requireQuotes:o(a.REQUIREQUOTES),recordLength:a.RECORDLENGTH||null,dateTimeDelim:a.DATETIMEDELIM||null,rejectFile:a.REJECTFILE||null},c=await Fn(t,e,r,n),u=Ee(e),d=Ee(r),f=Ee(n),E=[];E.push(`CREATE EXTERNAL TABLE ${u}.${d}.${f}`),E.push("(");let T=c.map(h=>{let p=`    ${Ee(h.name)} ${h.fullTypeName}`;return h.notNull&&(p+=" NOT NULL"),p});return E.push(T.join(`,
`)),E.push(")"),E.push("USING"),E.push("("),l.dataObject!==null&&E.push(`    DATAOBJECT('${l.dataObject}')`),l.delimiter!==null&&E.push(`    DELIMITER '${l.delimiter}'`),l.encoding!==null&&E.push(`    ENCODING '${l.encoding}'`),l.timeStyle!==null&&E.push(`    TIMESTYLE '${l.timeStyle}'`),l.remoteSource!==null&&E.push(`    REMOTESOURCE '${l.remoteSource}'`),l.maxErrors!==null&&E.push(`    MAXERRORS ${l.maxErrors}`),l.escapeChar!==null&&E.push(`    ESCAPECHAR '${l.escapeChar}'`),l.decimalDelim!==null&&E.push(`    DECIMALDELIM '${l.decimalDelim}'`),l.logDir!==null&&E.push(`    LOGDIR '${l.logDir}'`),l.quotedValue!==null&&E.push(`    QUOTEDVALUE '${l.quotedValue}'`),l.nullValue!==null&&E.push(`    NULLVALUE '${l.nullValue}'`),l.crInString!==null&&E.push(`    CRINSTRING ${l.crInString}`),l.truncString!==null&&E.push(`    TRUNCSTRING ${l.truncString}`),l.ctrlChars!==null&&E.push(`    CTRLCHARS ${l.ctrlChars}`),l.ignoreZero!==null&&E.push(`    IGNOREZERO ${l.ignoreZero}`),l.timeExtraZeros!==null&&E.push(`    TIMEEXTRAZEROS ${l.timeExtraZeros}`),l.y2Base!==null&&E.push(`    Y2BASE ${l.y2Base}`),l.fillRecord!==null&&E.push(`    FILLRECORD ${l.fillRecord}`),l.compress!==null&&E.push(`    COMPRESS ${l.compress}`),l.includeHeader!==null&&E.push(`    INCLUDEHEADER ${l.includeHeader}`),l.lfInString!==null&&E.push(`    LFINSTRING ${l.lfInString}`),l.dateStyle!==null&&E.push(`    DATESTYLE '${l.dateStyle}'`),l.dateDelim!==null&&E.push(`    DATEDELIM '${l.dateDelim}'`),l.timeDelim!==null&&E.push(`    TIMEDELIM '${l.timeDelim}'`),l.boolStyle!==null&&E.push(`    BOOLSTYLE '${l.boolStyle}'`),l.format!==null&&E.push(`    FORMAT '${l.format}'`),l.socketBufSize!==null&&E.push(`    SOCKETBUFSIZE ${l.socketBufSize}`),l.recordDelim!==null&&E.push(`    RECORDDELIM '${l.recordDelim}'`),l.maxRows!==null&&E.push(`    MAXROWS ${l.maxRows}`),l.requireQuotes!==null&&E.push(`    REQUIREQUOTES ${l.requireQuotes}`),l.recordLength!==null&&E.push(`    RECORDLENGTH ${l.recordLength}`),l.dateTimeDelim!==null&&E.push(`    DATETIMEDELIM '${l.dateTimeDelim}'`),l.rejectFile!==null&&E.push(`    REJECTFILE '${l.rejectFile}'`),E.push(");"),E.join(`
`)}var SS=Y(()=>{"use strict";mi();fS()});async function Sa(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            OWNER,
            SYNONYM_NAME,
            REFOBJNAME,
            DESCRIPTION
        FROM ${e.toUpperCase()}.._V_SYNONYM
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND SYNONYM_NAME = '${n.toUpperCase()}'
    `,o=await ut(t,i);if(o.length===0)throw new Error(`Synonym ${e}.${r}.${n} not found`);let a=o[0],l=Ee(e),c=Ee(a.OWNER||r),u=Ee(n),d=a.REFOBJNAME,f=[];if(f.push(`CREATE SYNONYM ${l}.${c}.${u} FOR ${d};`),a.DESCRIPTION){let E=a.DESCRIPTION.replace(/'/g,"''");f.push(`COMMENT ON SYNONYM ${u} IS '${E}';`)}return f.join(`
`)}var RS=Y(()=>{"use strict";mi()});async function UC(t){let e=null,r=[],n=[],i=0,s=0,o=["TABLE","VIEW","PROCEDURE","EXTERNAL TABLE","SYNONYM"];try{let a={host:t.connectionDetails.host,port:t.connectionDetails.port||5480,database:t.connectionDetails.database,user:t.connectionDetails.user,password:t.connectionDetails.password},l=jt();e=new l(a),await e.connect();let c=t.database.toUpperCase(),u=t.schema?t.schema.toUpperCase():null,d=t.objectTypes?t.objectTypes.map(A=>A.toUpperCase()).filter(A=>o.includes(A)):o;d.length===0&&(d=o),n.push("-- ============================================"),n.push("-- Batch DDL Export"),n.push(`-- Database: ${c}`),u&&n.push(`-- Schema: ${u}`),n.push(`-- Object Types: ${d.join(", ")}`),n.push(`-- Generated: ${new Date().toISOString()}`),n.push("-- ============================================"),n.push("");let f=new Map,E=new Map,T=new Map,h=new Map,p=new Map,S=d.includes("TABLE"),I=d.includes("VIEW"),R=d.includes("EXTERNAL TABLE");if(S||I||R){let A=u?`AND D.SCHEMA = '${u}'`:"",N=`
                SELECT 
                    D.SCHEMA,
                    D.OBJNAME,
                    D.OBJTYPE,
                    X.ATTNAME,
                    X.DESCRIPTION,
                    X.FORMAT_TYPE AS FULL_TYPE,
                    X.ATTNOTNULL::BOOL AS ATTNOTNULL,
                    X.COLDEFAULT
                FROM ${c}.._V_RELATION_COLUMN X
                INNER JOIN ${c}.._V_OBJECT_DATA D ON X.OBJID = D.OBJID
                WHERE D.DBNAME = '${c}'
                    AND D.OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                    ${A}
                ORDER BY D.SCHEMA, D.OBJNAME, X.ATTNUM
            `;try{let w=await ut(e,N);for(let m of w){let D=`${m.SCHEMA}.${m.OBJNAME}`;f.has(D)||f.set(D,[]);let y=!1,P=m.ATTNOTNULL;if(typeof P=="boolean")y=P;else if(typeof P=="number")y=P!==0;else if(typeof P=="string"){let M=P.trim().toLowerCase();y=M==="t"||M==="true"||M==="1"}f.get(D).push({name:m.ATTNAME,description:m.DESCRIPTION||null,fullTypeName:m.FULL_TYPE,notNull:y,defaultValue:m.COLDEFAULT||null})}}catch(w){let m=w instanceof Error?w.message:String(w);r.push(`Error bulk fetching columns: ${m}`)}}if(S){let A=u?`AND SCHEMA = '${u}'`:"",N=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_DIST_MAP
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, DISTSEQNO
            `;try{let w=await ut(e,N);for(let m of w){let D=`${m.SCHEMA}.${m.TABLENAME}`;E.has(D)||E.set(D,[]),E.get(D).push(m.ATTNAME)}}catch{}}if(S){let A=u?`AND SCHEMA = '${u}'`:"",N=`
                SELECT SCHEMA, TABLENAME, ATTNAME
                FROM ${c}.._V_TABLE_ORGANIZE_COLUMN
                WHERE 1=1 ${A}
                ORDER BY SCHEMA, TABLENAME, ORGSEQNO
            `;try{let w=await ut(e,N);for(let m of w){let D=`${m.SCHEMA}.${m.TABLENAME}`;T.has(D)||T.set(D,[]),T.get(D).push(m.ATTNAME)}}catch{}}if(S){let A=u?`AND X.SCHEMA = '${u}'`:"",N=`
                SELECT 
                    X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONTYPE,
                    X.ATTNAME, X.PKDATABASE, X.PKSCHEMA, X.PKRELATION, X.PKATTNAME,
                    X.UPDT_TYPE, X.DEL_TYPE
                FROM ${c}.._V_RELATION_KEYDATA X
                WHERE X.OBJID NOT IN (4,5) ${A}
                ORDER BY X.SCHEMA, X.RELATION, X.CONSTRAINTNAME, X.CONSEQ
            `;try{let w=await ut(e,N);for(let m of w){let D=`${m.SCHEMA}.${m.RELATION}`;h.has(D)||h.set(D,new Map);let y=h.get(D),P=m.CONSTRAINTNAME;if(!y.has(P)){let B={p:"PRIMARY KEY",f:"FOREIGN KEY",u:"UNIQUE"};y.set(P,{type:B[m.CONTYPE]||"UNKNOWN",typeChar:m.CONTYPE,columns:[],pkDatabase:m.PKDATABASE||null,pkSchema:m.PKSCHEMA||null,pkRelation:m.PKRELATION||null,pkColumns:[],updateType:m.UPDT_TYPE||"NO ACTION",deleteType:m.DEL_TYPE||"NO ACTION"})}let M=y.get(P);M.columns.push(m.ATTNAME),m.PKATTNAME&&M.pkColumns.push(m.PKATTNAME)}}catch{}}if(S){let A=u?`AND SCHEMA = '${u}'`:"",N=`
                SELECT SCHEMA, OBJNAME, DESCRIPTION
                FROM ${c}.._V_OBJECT_DATA
                WHERE DBNAME = '${c}' AND OBJTYPE = 'TABLE' AND DESCRIPTION IS NOT NULL ${A}
            `;try{let w=await ut(e,N);for(let m of w)m.DESCRIPTION&&p.set(`${m.SCHEMA}.${m.OBJNAME}`,m.DESCRIPTION)}catch{}}for(let A of d){let N=[];try{if(A==="PROCEDURE"){let w=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA FROM ${c}.._V_PROCEDURE WHERE DATABASE = '${c}'`;u&&(w+=` AND SCHEMA = '${u}'`),w+=" ORDER BY SCHEMA, PROCEDURESIGNATURE",N=(await ut(e,w)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}else{let w=`SELECT OBJNAME, SCHEMA FROM ${c}.._V_OBJECT_DATA WHERE DBNAME = '${c}' AND OBJTYPE = '${A}'`;u&&(w+=` AND SCHEMA = '${u}'`),w+=" ORDER BY SCHEMA, OBJNAME",N=(await ut(e,w)).map(D=>({name:D.OBJNAME,schema:D.SCHEMA}))}}catch(w){let m=w instanceof Error?w.message:String(w);r.push(`Error querying ${A}s: ${m}`);continue}if(N.length!==0){n.push("-- ----------------------------------------"),n.push(`-- ${A}S (${N.length})`),n.push("-- ----------------------------------------"),n.push("");for(let w of N)try{let m,D=`${w.schema}.${w.name}`;switch(A){case"TABLE":m=Tc(c,w.schema,w.name,f.get(D)||[],E.get(D)||[],T.get(D)||[],h.get(D)||new Map,p.get(D)||null);break;case"VIEW":m=await ha(e,c,w.schema,w.name);break;case"PROCEDURE":m=await Ta(e,c,w.schema,w.name);break;case"EXTERNAL TABLE":m=await pa(e,c,w.schema,w.name);break;case"SYNONYM":m=await Sa(e,c,w.schema,w.name);break;default:s++;continue}n.push(`-- ${A}: ${c}.${w.schema}.${w.name}`),n.push(m),n.push(""),i++}catch(m){let D=m instanceof Error?m.message:String(m);r.push(`Error generating DDL for ${A} ${c}.${w.schema}.${w.name}: ${D}`),s++}}}return n.push("-- ============================================"),n.push("-- End of Batch DDL Export"),n.push(`-- Total objects: ${i}`),s>0&&n.push(`-- Skipped: ${s}`),r.length>0&&n.push(`-- Errors: ${r.length}`),n.push("-- ============================================"),{success:!0,ddlCode:n.join(`
`),objectCount:i,errors:r,skipped:s}}catch(a){return{success:!1,objectCount:0,errors:[`Batch DDL generation error: ${a instanceof Error?a.message:String(a)}`],skipped:0}}finally{if(e)try{await e.close()}catch{}}}var l6=Y(()=>{"use strict";mi();hS();TS();pS();SS();RS()});async function BC(t,e,r,n,i){let s=null;try{s=await a6(t);let o=i.toUpperCase();return o==="TABLE"?{success:!0,ddlCode:await Wd(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="VIEW"?{success:!0,ddlCode:await ha(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="PROCEDURE"?{success:!0,ddlCode:await Ta(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="EXTERNAL TABLE"?{success:!0,ddlCode:await pa(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:o==="SYNONYM"?{success:!0,ddlCode:await Sa(s,e,r,n),objectInfo:{database:e,schema:r,objectName:n,objectType:i}}:{success:!0,ddlCode:`-- DDL generation for ${i} not yet implemented
-- Object: ${e}.${r}.${n}
-- Type: ${i}
--
-- This feature can be extended to support:
-- - FUNCTION: Query _V_FUNCTION system table
-- - AGGREGATE: Query _V_AGGREGATE system table
`,objectInfo:{database:e,schema:r,objectName:n,objectType:i},note:`${i} DDL generation not yet implemented`}}catch(o){return{success:!1,error:`DDL generation error: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}var c6=Y(()=>{"use strict";mi();hS();TS();pS();SS();RS()});var u6=Y(()=>{"use strict";s6();mi();fS();hS();TS();pS();SS();RS();l6();c6()});var FC={};Pt(FC,{buildTableDDLFromCache:()=>Tc,generateBatchDDL:()=>UC,generateDDL:()=>BC,generateExternalTableDDL:()=>pa,generateProcedureDDL:()=>Ta,generateSynonymDDL:()=>Sa,generateTableDDL:()=>Wd,generateViewDDL:()=>ha,getColumns:()=>Fn,getDistributionInfo:()=>is,getKeysInfo:()=>os,getOrganizeInfo:()=>ss,getTableComment:()=>fa,getTableOwner:()=>Hd,quoteNameIfNeeded:()=>Ee});var Yd=Y(()=>{"use strict";u6()});var d6={};Pt(d6,{generateRecreateTableScript:()=>UCe});async function UCe(t,e,r,n,i){let s=null;try{let o={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},a=jt();s=new a(o),await s.connect();let l=await Fn(s,e,r,n);if(l.length===0)return{success:!1,error:`Table ${e}.${r}.${n} not found or has no columns`};let c=await is(s,e,r,n),u=await ss(s,e,r,n),d=await os(s,e,r,n),f=await fa(s,e,r,n),E=await Hd(s,e,r,n),T=Ee(e),h=Ee(r),p=Ee(n),S=new Date().toISOString().replace(/[-:T.]/g,"").substring(0,14),I=Math.random().toString(36).substring(2,7).toUpperCase(),R=i||`${n}_${S}_NEW`,A=Ee(R),N=`${n}_${S}_BACKUP_${I}`,w=Ee(N),m=[];m.push(`-- Recreate Table Script for ${T}.${h}.${p}`),m.push(`-- Generated at ${new Date().toISOString()}`),m.push(""),m.push("-- 1. Create new table with desired structure"),m.push(`CREATE TABLE ${T}.${h}.${A}`),m.push("(");let D=[];for(let P of l){let B=`    ${Ee(P.name)} ${P.fullTypeName}`;P.notNull&&(B+=" NOT NULL"),P.defaultValue!==null&&(B+=` DEFAULT ${P.defaultValue}`),D.push(B)}if(m.push(D.join(`,
`)),c.length>0){let P=c.map(M=>Ee(M));m.push(`)
DISTRIBUTE ON (${P.join(", ")})`)}else m.push(`)
DISTRIBUTE ON RANDOM`);if(u.length>0){let P=u.map(M=>Ee(M));m.push(`ORGANIZE ON (${P.join(", ")})`)}if(m.push(";"),m.push(""),m.push("-- 2. Copy data from original table"),m.push(`INSERT INTO ${T}.${h}.${A} SELECT * FROM ${T}.${h}.${p};`),m.push(""),m.push("-- 3. Copy privileges from original table"),m.push(`ALTER TABLE ${T}.${h}.${A} SET PRIVILEGES TO ${T}.${h}.${p};`),m.push(""),m.push("-- 4. Swap tables: Rename Original to Backup, New to Original"),m.push(`ALTER TABLE ${T}.${h}.${p} RENAME TO ${w};`),m.push(`ALTER TABLE ${T}.${h}.${A} RENAME TO ${p};`),m.push(""),E&&(m.push("-- 5. Restore Owner"),m.push(`ALTER TABLE ${T}.${h}.${p} OWNER TO ${E};`),m.push("")),m.push("-- 6. Drop Backup Table (Optional - Comment out if you want to keep it)"),m.push(`DROP TABLE ${T}.${h}.${w};`),m.push(""),d.size>0){m.push("-- 7. Restore Constraints");for(let[P,M]of d){let B=Ee(P),G=M.columns.map(J=>Ee(J)),V="";if(M.typeChar==="f"){let J=M.pkColumns.filter(ne=>ne).map(ne=>Ee(ne));J.length>0&&(V=`ALTER TABLE ${T}.${h}.${p} ADD CONSTRAINT ${B} ${M.type} (${G.join(", ")}) REFERENCES ${M.pkDatabase}.${M.pkSchema}.${M.pkRelation} (${J.join(", ")}) ON DELETE ${M.deleteType} ON UPDATE ${M.updateType};`)}else(M.typeChar==="p"||M.typeChar==="u")&&(V=`ALTER TABLE ${T}.${h}.${p} ADD CONSTRAINT ${B} ${M.type} (${G.join(", ")});`);V&&m.push(V)}m.push("")}if(f){let P=f.replace(/'/g,"''");m.push("-- 8. Restore Comments"),m.push(`COMMENT ON TABLE ${T}.${h}.${p} IS '${P}';`)}let y=[];for(let P of l)if(P.description){let M=Ee(P.name),B=P.description.replace(/'/g,"''");y.push(`COMMENT ON COLUMN ${T}.${h}.${p}.${M} IS '${B}';`)}return y.length>0&&(f||m.push("-- 8. Restore Comments"),m.push(y.join(`
`)),m.push("")),m.push("-- 9. Generate Statistics"),m.push(`GENERATE EXPRESS STATISTICS ON ${T}.${h}.${p};`),{success:!0,sqlScript:m.join(`
`)}}catch(o){return{success:!1,error:`Error generating recreate script: ${o instanceof Error?o.message:String(o)}`}}finally{if(s)try{await s.close()}catch{}}}var E6=Y(()=>{"use strict";Yd()});var GC={};Pt(GC,{compareProcedures:()=>YCe,compareTableStructures:()=>HCe});async function BCe(t,e){let n=await t.createCommand(e).executeReader(),i=[];for(;await n.read();){let s={};for(let o=0;o<n.fieldCount;o++)s[n.getName(o)]=n.getValue(o);i.push(s)}return i}async function h6(t,e,r,n){let i=await Fn(t,e,r,n),s=await os(t,e,r,n),o=await is(t,e,r,n),a=await ss(t,e,r,n);return{database:e,schema:r,tableName:n,columns:i,keys:s,distribution:o,organization:a}}function FCe(t,e){let r=[];return t.fullTypeName!==e.fullTypeName&&r.push(`Type: ${t.fullTypeName} \u2192 ${e.fullTypeName}`),t.notNull!==e.notNull&&r.push(`NOT NULL: ${t.notNull} \u2192 ${e.notNull}`),t.defaultValue!==e.defaultValue&&r.push(`Default: ${t.defaultValue||"NULL"} \u2192 ${e.defaultValue||"NULL"}`),r}function GCe(t,e){let r=[];return t.type!==e.type&&r.push(`Type: ${t.type} \u2192 ${e.type}`),t.columns.join(",")!==e.columns.join(",")&&r.push(`Columns: (${t.columns.join(", ")}) \u2192 (${e.columns.join(", ")})`),t.typeChar==="f"&&e.typeChar==="f"&&t.pkRelation!==e.pkRelation&&r.push(`References: ${t.pkRelation} \u2192 ${e.pkRelation}`),r}async function HCe(t,e,r,n,i,s,o){let a=null;try{let l={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},c=jt();a=new c(l),await a.connect();let u=await h6(a,e,r,n),d=await h6(a,i,s,o),f=[],E=new Map(u.columns.map(N=>[N.name.toUpperCase(),N])),T=new Map(d.columns.map(N=>[N.name.toUpperCase(),N]));for(let[N,w]of E){let m=T.get(N);if(!m)f.push({name:w.name,status:"removed",sourceColumn:w});else{let D=FCe(w,m);f.push({name:w.name,status:D.length>0?"modified":"unchanged",sourceColumn:w,targetColumn:m,changes:D})}}for(let[N,w]of T)E.has(N)||f.push({name:w.name,status:"added",targetColumn:w});let h=[],p=u.keys,S=d.keys;for(let[N,w]of p){let m=S.get(N);if(!m)h.push({name:N,status:"removed",sourceKey:w});else{let D=GCe(w,m);h.push({name:N,status:D.length>0?"modified":"unchanged",sourceKey:w,targetKey:m,changes:D})}}for(let[N,w]of S)p.has(N)||h.push({name:N,status:"added",targetKey:w});let I=JSON.stringify(u.distribution)===JSON.stringify(d.distribution),R=JSON.stringify(u.organization)===JSON.stringify(d.organization),A={columnsAdded:f.filter(N=>N.status==="added").length,columnsRemoved:f.filter(N=>N.status==="removed").length,columnsModified:f.filter(N=>N.status==="modified").length,columnsUnchanged:f.filter(N=>N.status==="unchanged").length,keysAdded:h.filter(N=>N.status==="added").length,keysRemoved:h.filter(N=>N.status==="removed").length,keysModified:h.filter(N=>N.status==="modified").length};return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},columnDiffs:f,keyDiffs:h,distributionMatch:I,sourceDistribution:u.distribution,targetDistribution:d.distribution,organizationMatch:R,sourceOrganization:u.organization,targetOrganization:d.organization,summary:A}}finally{if(a)try{await a.close()}catch{}}}async function T6(t,e,r,n){let i=`
        SELECT 
            SCHEMA,
            PROCEDURESOURCE,
            RETURNS,
            EXECUTEDASOWNER,
            DESCRIPTION,
            PROCEDURESIGNATURE,
            PROCEDURE,
            ARGUMENTS
        FROM ${e.toUpperCase()}.._V_PROCEDURE
        WHERE DATABASE = '${e.toUpperCase()}'
            AND SCHEMA = '${r.toUpperCase()}'
            AND PROCEDURESIGNATURE = '${n.toUpperCase()}'
    `,s=await BCe(t,i);if(s.length===0)throw new Error(`Procedure ${e}.${r}.${n} not found`);let o=s[0];return{database:e,schema:r,procedureName:o.PROCEDURE,procedureSignature:o.PROCEDURESIGNATURE,arguments:o.ARGUMENTS||null,returns:o.RETURNS,executeAsOwner:!!o.EXECUTEDASOWNER,source:o.PROCEDURESOURCE,description:o.DESCRIPTION||null}}function WCe(t,e){let r=t.split(`
`).map(o=>o.trimEnd()),n=e.split(`
`).map(o=>o.trimEnd()),i=[],s=Math.max(r.length,n.length);for(let o=0;o<s;o++){let a=r[o]||"",l=n[o]||"";a===l?i.push(`  ${a}`):r[o]?n[o]?(i.push(`- ${a}`),i.push(`+ ${l}`)):i.push(`- ${a}`):i.push(`+ ${l}`)}return i}async function YCe(t,e,r,n,i,s,o){let a=null;try{let l={host:t.host,port:t.port||5480,database:t.database,user:t.user,password:t.password},c=jt();a=new c(l),await a.connect();let u=await T6(a,e,r,n),d=await T6(a,i,s,o),f=u.arguments===d.arguments,E=u.returns===d.returns,T=u.executeAsOwner===d.executeAsOwner,h=u.source.trim()===d.source.trim(),p=h?[]:WCe(u.source,d.source);return{source:{database:e,schema:r,name:n},target:{database:i,schema:s,name:o},argumentsMatch:f,sourceArguments:u.arguments,targetArguments:d.arguments,returnsMatch:E,sourceReturns:u.returns,targetReturns:d.returns,executeAsOwnerMatch:T,sourceExecuteAsOwner:u.executeAsOwner,targetExecuteAsOwner:d.executeAsOwner,sourceMatch:h,sourceCode:u.source,targetCode:d.source,sourceDiff:p}}finally{if(a)try{await a.close()}catch{}}}var HC=Y(()=>{"use strict";Yd()});var YC={};Pt(YC,{SchemaCompareView:()=>WC});var Ks,WC,$C=Y(()=>{"use strict";Ks=j(require("vscode")),WC=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.schemaCompare"}static createOrShow(e,r,n){let i=Ks.window.activeTextEditor?Ks.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._update(r,n);return}let s=Ks.window.createWebviewPanel(t.viewType,"Schema Comparison",i||Ks.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Ks.Uri.joinPath(e,"media")]});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){r==="table"?(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getTableComparisonHtml(e)):(this._panel.title=`Compare: ${e.source.name} \u2194 ${e.target.name}`,this._panel.webview.html=this._getProcedureComparisonHtml(e))}_getStatusIcon(e){switch(e){case"added":return"\u{1F7E2}";case"removed":return"\u{1F534}";case"modified":return"\u{1F7E1}";case"unchanged":return"\u26AA"}}_getStatusClass(e){return`status-${e}`}_getTableComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.columnDiffs.map(l=>{let c=l.sourceColumn,u=l.targetColumn,d=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.fullTypeName||"-"}</td>
                    <td>${u?.fullTypeName||"-"}</td>
                    <td class="changes">${d}</td>
                </tr>
            `}).join(""),s=e.keyDiffs.map(l=>{let c=l.sourceKey,u=l.targetKey,d=l.changes?.join("<br>")||"";return`
                <tr class="${this._getStatusClass(l.status)}">
                    <td>${this._getStatusIcon(l.status)}</td>
                    <td><strong>${l.name}</strong></td>
                    <td>${c?.type||"-"} (${c?.columns.join(", ")||"-"})</td>
                    <td>${u?.type||"-"} (${u?.columns.join(", ")||"-"})</td>
                    <td class="changes">${d}</td>
                </tr>
            `}).join(""),o=e.distributionMatch?"\u2705 Match":"\u274C Different",a=e.organizationMatch?"\u2705 Match":"\u274C Different";return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Schema Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Table Structure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="summary">
                        <h2>Summary</h2>
                        <div class="summary-grid">
                            <div class="summary-item added">\u{1F7E2} Added: ${e.summary.columnsAdded} columns, ${e.summary.keysAdded} keys</div>
                            <div class="summary-item removed">\u{1F534} Removed: ${e.summary.columnsRemoved} columns, ${e.summary.keysRemoved} keys</div>
                            <div class="summary-item modified">\u{1F7E1} Modified: ${e.summary.columnsModified} columns, ${e.summary.keysModified} keys</div>
                            <div class="summary-item unchanged">\u26AA Unchanged: ${e.summary.columnsUnchanged} columns</div>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Columns</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Column Name</th>
                                    <th>Source Type</th>
                                    <th>Target Type</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${i}
                            </tbody>
                        </table>
                    </div>

                    ${e.keyDiffs.length>0?`
                    <div class="section">
                        <h2>Keys & Constraints</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th width="40">Status</th>
                                    <th>Key Name</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Changes</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${s}
                            </tbody>
                        </table>
                    </div>
                    `:""}

                    <div class="section">
                        <h2>Distribution & Organization</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>DISTRIBUTE ON</strong></td>
                                    <td>${e.sourceDistribution.length>0?e.sourceDistribution.join(", "):"RANDOM"}</td>
                                    <td>${e.targetDistribution.length>0?e.targetDistribution.join(", "):"RANDOM"}</td>
                                    <td>${o}</td>
                                </tr>
                                <tr>
                                    <td><strong>ORGANIZE ON</strong></td>
                                    <td>${e.sourceOrganization.length>0?e.sourceOrganization.join(", "):"(none)"}</td>
                                    <td>${e.targetOrganization.length>0?e.targetOrganization.join(", "):"(none)"}</td>
                                    <td>${a}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </body>
            </html>
        `}_getProcedureComparisonHtml(e){let r=`${e.source.database}.${e.source.schema}.${e.source.name}`,n=`${e.target.database}.${e.target.schema}.${e.target.name}`,i=e.sourceDiff.map(s=>{let o="";return s.startsWith("+")?o="diff-added":s.startsWith("-")?o="diff-removed":o="diff-unchanged",`<div class="${o}">${this._escapeHtml(s)}</div>`}).join("");return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Procedure Comparison</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>Procedure Comparison</h1>
                    
                    <div class="header-info">
                        <div class="source-header">
                            <span class="label">Source:</span>
                            <span class="value">${r}</span>
                        </div>
                        <div class="arrow">\u2194</div>
                        <div class="target-header">
                            <span class="label">Target:</span>
                            <span class="value">${n}</span>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Signature Comparison</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Property</th>
                                    <th>Source</th>
                                    <th>Target</th>
                                    <th>Match</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="${e.argumentsMatch?"":"status-modified"}">
                                    <td><strong>Arguments</strong></td>
                                    <td><code>${e.sourceArguments||"(none)"}</code></td>
                                    <td><code>${e.targetArguments||"(none)"}</code></td>
                                    <td>${e.argumentsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.returnsMatch?"":"status-modified"}">
                                    <td><strong>Returns</strong></td>
                                    <td><code>${e.sourceReturns}</code></td>
                                    <td><code>${e.targetReturns}</code></td>
                                    <td>${e.returnsMatch?"\u2705":"\u274C"}</td>
                                </tr>
                                <tr class="${e.executeAsOwnerMatch?"":"status-modified"}">
                                    <td><strong>Execute As</strong></td>
                                    <td>${e.sourceExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.targetExecuteAsOwner?"OWNER":"CALLER"}</td>
                                    <td>${e.executeAsOwnerMatch?"\u2705":"\u274C"}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section">
                        <h2>Source Code ${e.sourceMatch?"\u2705 Identical":"\u274C Different"}</h2>
                        ${e.sourceMatch?`
                            <div class="code-block">
                                <pre>${this._escapeHtml(e.sourceCode)}</pre>
                            </div>
                        `:`
                            <div class="code-diff">
                                <pre>${i}</pre>
                            </div>
                        `}
                    </div>
                </div>
            </body>
            </html>
        `}_escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --added-bg: rgba(40, 167, 69, 0.2);
                --removed-bg: rgba(220, 53, 69, 0.2);
                --modified-bg: rgba(255, 193, 7, 0.2);
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .container {
                max-width: 1400px;
                margin: 0 auto;
            }

            h1 {
                border-bottom: 1px solid var(--border-color);
                padding-bottom: 10px;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.1em;
                margin-top: 25px;
                margin-bottom: 10px;
                color: var(--vscode-textLink-foreground);
            }

            .header-info {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 20px;
                padding: 15px;
                background-color: var(--header-bg);
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .header-info .label {
                font-weight: bold;
                margin-right: 8px;
            }

            .header-info .value {
                font-family: monospace;
                background-color: var(--vscode-textCodeBlock-background);
                padding: 4px 8px;
                border-radius: 4px;
            }

            .arrow {
                font-size: 1.5em;
                color: var(--vscode-charts-blue);
            }

            .summary {
                background-color: var(--header-bg);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 20px;
            }

            .summary h2 {
                margin-top: 0;
            }

            .summary-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 10px;
            }

            .summary-item {
                padding: 8px;
                border-radius: 4px;
            }

            .summary-item.added { background-color: var(--added-bg); }
            .summary-item.removed { background-color: var(--removed-bg); }
            .summary-item.modified { background-color: var(--modified-bg); }

            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            tr.status-added {
                background-color: var(--added-bg);
            }

            tr.status-removed {
                background-color: var(--removed-bg);
            }

            tr.status-modified {
                background-color: var(--modified-bg);
            }

            .changes {
                font-size: 0.9em;
                color: var(--vscode-descriptionForeground);
            }

            .code-block, .code-diff {
                background-color: var(--vscode-textCodeBlock-background);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                padding: 15px;
                overflow-x: auto;
            }

            .code-block pre, .code-diff pre {
                margin: 0;
                font-family: var(--vscode-editor-font-family);
                font-size: var(--vscode-editor-font-size);
                white-space: pre;
            }

            .diff-added {
                background-color: var(--added-bg);
                color: #28a745;
            }

            .diff-removed {
                background-color: var(--removed-bg);
                color: #dc3545;
            }

            .diff-unchanged {
                color: var(--fg-color);
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var A6={};Pt(A6,{buildERDData:()=>$Ce,getForeignKeysForSchema:()=>S6,getTablesInSchema:()=>R6});async function S6(t,e,r,n,i){let s=`
        SELECT 
            X.SCHEMA,
            X.RELATION AS FROM_TABLE,
            X.CONSTRAINTNAME,
            X.ATTNAME AS FROM_COLUMN,
            X.PKDATABASE,
            X.PKSCHEMA,
            X.PKRELATION AS TO_TABLE,
            X.PKATTNAME AS TO_COLUMN,
            X.UPDT_TYPE,
            X.DEL_TYPE,
            X.CONSEQ
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'f'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY
            X.CONSTRAINTNAME, X.CONSEQ
    `,o=new Map;try{let a=await K(t,s,!0,r,e);if(!a)return[];let l=JSON.parse(a);for(let c of l){let u=c.CONSTRAINTNAME,d=`${c.SCHEMA}.${c.FROM_TABLE}`,f=`${c.PKSCHEMA}.${c.TO_TABLE}`;o.has(u)||o.set(u,{constraintName:u,fromTable:d,toTable:f,fromColumns:[],toColumns:[],onDelete:c.DEL_TYPE||"NO ACTION",onUpdate:c.UPDT_TYPE||"NO ACTION"});let E=o.get(u);E.fromColumns.push(c.FROM_COLUMN),E.toColumns.push(c.TO_COLUMN)}}catch(a){console.warn("Cannot retrieve FK relationships:",a)}return Array.from(o.values())}async function R6(t,e,r,n,i){let s=`
        SELECT 
            T.TABLENAME,
            T.OWNER
        FROM 
            ${n.toUpperCase()}.._V_TABLE T
        WHERE 
            T.SCHEMA = '${i.toUpperCase()}'
        ORDER BY T.TABLENAME
    `,o=`
        SELECT 
            A.NAME AS TABLENAME,
            A.ATTNAME,
            A.FORMAT_TYPE
        FROM 
            ${n.toUpperCase()}.._V_RELATION_COLUMN A
        WHERE 
            A.SCHEMA = '${i.toUpperCase()}'
            AND A.TYPE = 'TABLE'
        ORDER BY A.NAME, A.ATTNUM
    `,a=`
        SELECT 
            X.RELATION,
            X.ATTNAME
        FROM 
            ${n.toUpperCase()}.._V_RELATION_KEYDATA X
        WHERE 
            X.CONTYPE = 'p'
            AND X.SCHEMA = '${i.toUpperCase()}'
        ORDER BY X.RELATION, X.CONSEQ
    `,l=new Map;try{let c=await K(t,s,!0,r,e);if(c){let f=JSON.parse(c);for(let E of f){let T=E.TABLENAME;l.set(T,{database:n,schema:i,tableName:T,fullName:`${i}.${T}`,columns:[],primaryKeyColumns:[]})}}let u=await K(t,o,!0,r,e);if(u){let f=JSON.parse(u);for(let E of f){let T=l.get(E.TABLENAME);T&&T.columns.push({name:E.ATTNAME,dataType:E.FORMAT_TYPE,isPrimaryKey:!1,isForeignKey:!1})}}let d=await K(t,a,!0,r,e);if(d){let f=JSON.parse(d);for(let E of f){let T=l.get(E.RELATION);if(T){T.primaryKeyColumns.push(E.ATTNAME);let h=T.columns.find(p=>p.name===E.ATTNAME);h&&(h.isPrimaryKey=!0)}}}}catch(c){console.warn("Cannot retrieve table information:",c)}return Array.from(l.values())}async function $Ce(t,e,r,n,i){let[s,o]=await Promise.all([R6(t,e,r,n,i),S6(t,e,r,n,i)]);for(let c of o){let u=c.fromTable.split(".")[1],d=s.find(f=>f.tableName===u);if(d)for(let f of c.fromColumns){let E=d.columns.find(T=>T.name===f);E&&(E.isForeignKey=!0)}}let a=new Set;for(let c of o)a.add(c.fromTable.split(".")[1]),a.add(c.toTable.split(".")[1]);let l=s.filter(c=>a.has(c.tableName)||s.length<=20);return{database:n,schema:i,tables:l,relationships:o}}var _6=Y(()=>{"use strict";Ar()});var I6={};Pt(I6,{ERDView:()=>kC});var zs,kC,m6=Y(()=>{"use strict";zs=j(require("vscode")),kC=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}static{this.viewType="netezza.erdView"}static createOrShow(e,r){let n=zs.window.activeTextEditor?zs.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n),t.currentPanel._update(r);return}let i=zs.window.createWebviewPanel(t.viewType,`ERD: ${r.database}.${r.schema}`,n||zs.ViewColumn.One,{enableScripts:!0,localResourceRoots:[zs.Uri.joinPath(e,"media")]});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){this._panel.title=`ERD: ${e.database}.${e.schema}`,this._panel.webview.html=this._getHtml(e)}_getHtml(e){let r=this._generateTableBoxes(e.tables,e.relationships),n=e.relationships.length,i=e.tables.length;return`
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Entity Relationship Diagram</title>
                <style>
                    ${this._getStyles()}
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>Entity Relationship Diagram</h1>
                    <div class="header-info">
                        <span class="badge">${e.database}.${e.schema}</span>
                        <span class="stat">${i} tables</span>
                        <span class="stat">${n} relationships</span>
                    </div>
                </div>

                <div class="legend">
                    <span class="legend-item"><span class="pk-indicator">\u{1F511}</span> Primary Key</span>
                    <span class="legend-item"><span class="fk-indicator">\u{1F517}</span> Foreign Key</span>
                </div>

                ${n===0?`
                    <div class="no-relationships">
                        <p>\u26A0\uFE0F No foreign key relationships found in this schema.</p>
                        <p>Tables are displayed but no relationship lines can be drawn.</p>
                    </div>
                `:""}

                <div class="erd-container" id="erdContainer">
                    <div class="erd-canvas" id="erdCanvas">
                        ${r}
                        <svg class="relationships-svg" id="relationshipsSvg"></svg>
                    </div>
                </div>

                <div class="relationships-table">
                    <h2>Foreign Key Relationships</h2>
                    ${n>0?`
                        <table>
                            <thead>
                                <tr>
                                    <th>Constraint Name</th>
                                    <th>From Table</th>
                                    <th>Column(s)</th>
                                    <th>\u2192</th>
                                    <th>To Table</th>
                                    <th>Column(s)</th>
                                    <th>On Delete</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${e.relationships.map(s=>`
                                    <tr>
                                        <td><code>${s.constraintName}</code></td>
                                        <td><strong>${s.fromTable}</strong></td>
                                        <td>${s.fromColumns.join(", ")}</td>
                                        <td>\u2192</td>
                                        <td><strong>${s.toTable}</strong></td>
                                        <td>${s.toColumns.join(", ")}</td>
                                        <td>${s.onDelete}</td>
                                    </tr>
                                `).join("")}
                            </tbody>
                        </table>
                    `:"<p>No foreign key relationships defined.</p>"}
                </div>

                <script>
                    ${this._getScript(e)}
                </script>
            </body>
            </html>
        `}_generateTableBoxes(e,r){let n=new Map,i=new Map,s=new Map;e.forEach(B=>{let G=B.tableName;n.set(G,new Set),i.set(G,0),s.set(G,0)}),r.forEach(B=>{let G=B.fromTable.includes(".")?B.fromTable.split(".").pop():B.fromTable,V=B.toTable.includes(".")?B.toTable.split(".").pop():B.toTable;n.has(G)&&(n.get(G).add(V),i.set(G,(i.get(G)||0)+1)),n.has(V)&&(n.get(V).add(G),s.set(V,(s.get(V)||0)+1))});let o=[],a=[],l=[];e.forEach(B=>{let G=i.get(B.tableName)||0;(n.get(B.tableName)?.size||0)===0?l.push(B):G>0?o.push(B):a.push(B)}),o.sort((B,G)=>{let V=i.get(B.tableName)||0;return(i.get(G.tableName)||0)-V});let c=new Map,u=new Set,d=260,f=240,E=50,T=40,h=d+E,p=f+T,S=(B,G)=>`${B},${G}`,I=(B,G)=>u.add(S(B,G)),R=(B,G)=>u.has(S(B,G)),A=(B,G=0)=>{let V=G;for(;R(B,V);)V++;return V},N=0,w=1,m=2,D=B=>20+B*h,y=B=>20+B*p;o.forEach(B=>{let G=A(w);I(w,G),c.set(B.tableName,{x:D(w),y:y(G)})});let P=new Map,M=[];return a.forEach(B=>{let G=n.get(B.tableName)||new Set,V=null;for(let J of G)if(o.some(ne=>ne.tableName===J)){V=J;break}V?(P.has(V)||P.set(V,[]),P.get(V).push(B)):M.push(B)}),P.forEach((B,G)=>{let V=c.get(G);if(!V)return;let J=Math.round((V.y-20)/p);B.forEach((ne,re)=>{let ve=re%2===0?N:m,fe=J+Math.floor(re/2);for(;R(ve,fe);)fe++;I(ve,fe),c.set(ne.tableName,{x:D(ve),y:y(fe)})})}),M.forEach(B=>{let G=!1;for(let V of[N,m]){let J=A(V);G||(I(V,J),c.set(B.tableName,{x:D(V),y:y(J)}),G=!0)}}),l.length>0&&l.forEach((G,V)=>{let J=V;c.set(G.tableName,{x:D(3),y:y(J)})}),e.map(B=>{let G=c.get(B.tableName)||{x:20,y:20},V=B.columns.slice(0,10).map(ne=>{let re=[];ne.isPrimaryKey&&re.push("\u{1F511}"),ne.isForeignKey&&re.push("\u{1F517}");let ve=re.length>0?`<span class="col-icons">${re.join("")}</span>`:"";return`
                    <div class="table-column ${ne.isPrimaryKey?"pk":""} ${ne.isForeignKey?"fk":""}" data-col="${ne.name}">
                        ${ve}
                        <span class="col-name">${ne.name}</span>
                        <span class="col-type">${ne.dataType}</span>
                    </div>
                `}).join(""),J=B.columns.length>10?`<div class="more-columns">... and ${B.columns.length-10} more</div>`:"";return`
                <div class="table-box" id="table-${B.tableName}" 
                     data-table="${B.fullName}"
                     style="left: ${G.x}px; top: ${G.y}px;">
                    <div class="table-header">${B.tableName}</div>
                    <div class="table-columns">
                        ${V}
                        ${J}
                    </div>
                </div>
            `}).join("")}_getScript(e){return`
            (function() {
                const relationships = ${JSON.stringify(e.relationships)};
                const canvas = document.getElementById('erdCanvas');
                const svg = document.getElementById('relationshipsSvg');
                
                function getTableBox(el) {
                    const left = parseInt(el.style.left) || 0;
                    const top = parseInt(el.style.top) || 0;
                    const width = el.offsetWidth;
                    const height = el.offsetHeight;
                    return {
                        left: left,
                        top: top,
                        right: left + width,
                        bottom: top + height,
                        centerX: left + width / 2,
                        centerY: top + height / 2
                    };
                }

                function getColumnPosition(tableEl, columnName) {
                    // Try to find exact column
                    let colEl = tableEl.querySelector('.table-column[data-col="' + columnName + '"]');
                    
                    // If not found (hidden by "more columns"), try to estimate or return center
                    if (!colEl) return null;

                    // Calculate position relative to the table box
                    const tableRect = tableEl.getBoundingClientRect();
                    const colRect = colEl.getBoundingClientRect();
                    const canvasRect = canvas.getBoundingClientRect();

                    // Relative Y from canvas top
                    // We can't just subtract rects if the canvas is scrolled, but here we want SVG coords (absolute in canvas)
                    // The table.style.top is relative to canvas.
                    // The column offset within table is colRect.top - tableRect.top
                    // So Y = table.style.top + (colRect.top - tableRect.top) + colHeight/2
                    
                    const relativeTop = colRect.top - tableRect.top;
                    const centerY = relativeTop + colRect.height / 2;
                    
                    // We need to account for table scroll position if any?
                    // getBoundingClientRect takes visual position, so it accounts for scroll.
                    
                    const tableStyleTop = parseInt(tableEl.style.top) || 0;
                    
                    return tableStyleTop + centerY;
                }
                
                function drawRelationships() {
                    svg.innerHTML = '';
                    
                    // Update SVG size
                    let maxX = 1200, maxY = 600;
                    document.querySelectorAll('.table-box').forEach(el => {
                        const box = getTableBox(el);
                        maxX = Math.max(maxX, box.right + 50);
                        maxY = Math.max(maxY, box.bottom + 50);
                    });
                    
                    svg.setAttribute('width', maxX);
                    svg.setAttribute('height', maxY);
                    svg.style.width = maxX + 'px';
                    svg.style.height = maxY + 'px';
                    
                    // Defs
                    const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                    const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
                    marker.setAttribute('id', 'arrowhead');
                    marker.setAttribute('markerWidth', '10');
                    marker.setAttribute('markerHeight', '7');
                    marker.setAttribute('refX', '10');
                    marker.setAttribute('refY', '3.5');
                    marker.setAttribute('orient', 'auto');
                    const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                    polygon.setAttribute('points', '0 0, 10 3.5, 0 7');
                    polygon.setAttribute('fill', '#3794ff');
                    marker.appendChild(polygon);
                    defs.appendChild(marker);
                    svg.appendChild(defs);
                    
                    relationships.forEach((rel, index) => {
                        const childTableName = rel.fromTable.split('.')[1];
                        const parentTableName = rel.toTable.split('.')[1];
                        
                        const childEl = document.getElementById('table-' + childTableName);
                        const parentEl = document.getElementById('table-' + parentTableName);
                        
                        if (!childEl || !parentEl) return;
                        
                        const childBox = getTableBox(childEl);
                        const parentBox = getTableBox(parentEl);
                        
                        // Determine L/R relationship
                        // If Parent is to the right of Child: Child Right -> Parent Left
                        const parentIsRight = parentBox.centerX > childBox.centerX;
                        
                        let fromX, fromY, toX, toY;
                        let fromControlX, toControlX;
                        
                        // Default Y to center if col not found
                        fromY = childBox.centerY;
                        toY = parentBox.centerY;
                        
                        // Try get specific column Y
                        const colY1 = getColumnPosition(childEl, rel.fromColumns[0]);
                        const colY2 = getColumnPosition(parentEl, rel.toColumns[0]);
                        
                        if (colY1 !== null) fromY = colY1;
                        if (colY2 !== null) toY = colY2;
                        
                        if (parentIsRight) {
                            fromX = childBox.right;
                            toX = parentBox.left;
                            fromControlX = fromX + 50;
                            toControlX = toX - 50;
                        } else {
                            fromX = childBox.left;
                            toX = parentBox.right;
                            fromControlX = fromX - 50;
                            toControlX = toX + 50;
                        }
                        
                        // Calculate Bezier curve
                        // M start C c1 c2 end
                        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                        
                        // Adjust constraints for multiple lines?
                        // Simple cubic bezier is best for side-to-side
                        const d = \`M \${fromX} \${fromY} C \${fromControlX} \${fromY}, \${toControlX} \${toY}, \${toX} \${toY}\`;
                        
                        path.setAttribute('d', d);
                        path.setAttribute('stroke', '#3794ff');
                        path.setAttribute('stroke-width', '2');
                        path.setAttribute('fill', 'none');
                        path.setAttribute('marker-end', 'url(#arrowhead)');
                        path.setAttribute('class', 'relationship-line');
                        
                        const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
                        title.textContent = rel.constraintName + ': ' + 
                            childTableName + '.' + rel.fromColumns.join(',') + ' -> ' + 
                            parentTableName + '.' + rel.toColumns.join(',');
                        path.appendChild(title);
                        
                        svg.appendChild(path);
                    });
                }
                
                // Dragging Logic
                let dragging = null;
                let dragStartX = 0, dragStartY = 0;
                let elemStartLeft = 0, elemStartTop = 0;
                
                document.querySelectorAll('.table-box').forEach(table => {
                    const header = table.querySelector('.table-header');
                    if (header) {
                        header.addEventListener('mousedown', function(e) {
                            e.preventDefault();
                            dragging = table;
                            dragStartX = e.pageX;
                            dragStartY = e.pageY;
                            elemStartLeft = parseInt(table.style.left) || 0;
                            elemStartTop = parseInt(table.style.top) || 0;
                            table.style.zIndex = '1000';
                            document.body.style.cursor = 'grabbing';
                        });
                    }
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (!dragging) return;
                    const dx = e.pageX - dragStartX;
                    const dy = e.pageY - dragStartY;
                    dragging.style.left = Math.max(0, elemStartLeft + dx) + 'px';
                    dragging.style.top = Math.max(0, elemStartTop + dy) + 'px';
                    drawRelationships();
                });
                
                document.addEventListener('mouseup', function() {
                    if (dragging) {
                        dragging.style.zIndex = '';
                        document.body.style.cursor = '';
                        dragging = null;
                    }
                });
                
                requestAnimationFrame(() => setTimeout(drawRelationships, 50));
                window.addEventListener('resize', drawRelationships);
            })();
        `}_getStyles(){return`
            :root {
                --bg-color: var(--vscode-editor-background);
                --fg-color: var(--vscode-editor-foreground);
                --border-color: var(--vscode-widget-border);
                --header-bg: var(--vscode-sideBarSectionHeader-background);
                --table-bg: var(--vscode-editorWidget-background);
                --pk-color: #f1c40f;
                --fk-color: #3498db;
            }

            body {
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--fg-color);
                background-color: var(--bg-color);
                margin: 0;
                padding: 20px;
            }

            .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                padding-bottom: 10px;
                border-bottom: 1px solid var(--border-color);
            }

            .header h1 {
                margin: 0;
                font-size: 1.4em;
            }

            .header-info {
                display: flex;
                gap: 15px;
                align-items: center;
            }

            .badge {
                background-color: var(--vscode-badge-background);
                color: var(--vscode-badge-foreground);
                padding: 4px 10px;
                border-radius: 12px;
                font-size: 0.9em;
            }

            .stat {
                color: var(--vscode-descriptionForeground);
                font-size: 0.9em;
            }

            .legend {
                display: flex;
                gap: 20px;
                margin-bottom: 15px;
                font-size: 0.9em;
            }

            .legend-item {
                display: flex;
                align-items: center;
                gap: 5px;
            }

            .no-relationships {
                background-color: rgba(255, 193, 7, 0.2);
                padding: 15px;
                border-radius: 6px;
                margin-bottom: 15px;
            }

            .no-relationships p {
                margin: 5px 0;
            }

            .erd-container {
                background-color: var(--header-bg);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                overflow: auto;
                margin-bottom: 20px;
                min-height: 400px;
            }

            .erd-canvas {
                position: relative;
                min-width: 1200px;
                min-height: 600px;
            }

            .relationships-svg {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
            }

            .relationship-line {
                pointer-events: stroke;
            }

            .relationship-line:hover {
                stroke-width: 3;
            }

            .table-box {
                position: absolute;
                width: 250px;
                background-color: var(--table-bg);
                border: 2px solid var(--border-color);
                border-radius: 6px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            }

            .table-header {
                background-color: var(--vscode-textLink-foreground);
                color: white;
                padding: 8px 12px;
                font-weight: bold;
                cursor: move;
                font-size: 0.95em;
            }

            .table-columns {
                max-height: 200px;
                overflow-y: auto;
            }

            .table-column {
                display: flex;
                align-items: center;
                padding: 4px 10px;
                border-bottom: 1px solid var(--border-color);
                font-size: 0.85em;
                gap: 6px;
            }

            .table-column:last-child {
                border-bottom: none;
            }

            .table-column.pk {
                background-color: rgba(241, 196, 15, 0.1);
            }

            .table-column.fk {
                background-color: rgba(52, 152, 219, 0.1);
            }

            .col-icons {
                font-size: 0.8em;
            }

            .col-name {
                flex: 1;
                font-weight: 500;
            }

            .col-type {
                color: var(--vscode-descriptionForeground);
                font-size: 0.85em;
            }

            .more-columns {
                padding: 6px 10px;
                color: var(--vscode-descriptionForeground);
                font-style: italic;
                font-size: 0.85em;
            }

            .relationships-table {
                margin-top: 20px;
            }

            .relationships-table h2 {
                font-size: 1.1em;
                margin-bottom: 10px;
            }

            table {
                width: 100%;
                border-collapse: collapse;
            }

            th, td {
                padding: 10px;
                text-align: left;
                border: 1px solid var(--border-color);
            }

            th {
                background-color: var(--header-bg);
                font-weight: 600;
            }

            code {
                font-family: var(--vscode-editor-font-family);
                background-color: var(--vscode-textCodeBlock-background);
                padding: 2px 6px;
                border-radius: 3px;
            }
        `}}});var N6={};Pt(N6,{SessionMonitorView:()=>VC});function kCe(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Qr,VC,g6=Y(()=>{"use strict";Qr=j(require("vscode"));Ar();VC=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._context=n,this._connectionManager=i,this._update(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(async s=>{switch(s.command){case"refresh":await this._fetchAndSendData();return;case"killSession":await this._killSession(s.sessionId);return;case"toggleAutoRefresh":this._toggleAutoRefresh(s.enabled);return}},null,this._disposables),this._fetchAndSendData()}static{this.viewType="netezza.sessionMonitor"}static createOrShow(e,r,n){let i=Qr.window.activeTextEditor?Qr.ViewColumn.Beside:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(i),t.currentPanel._fetchAndSendData();return}let s=Qr.window.createWebviewPanel(t.viewType,"Session Monitor",i||Qr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Qr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});t.currentPanel=new t(s,e,r,n)}dispose(){for(t.currentPanel=void 0,this._refreshInterval&&clearInterval(this._refreshInterval),this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_toggleAutoRefresh(e){e?this._refreshInterval=setInterval(()=>{this._fetchAndSendData()},3e4):this._refreshInterval&&(clearInterval(this._refreshInterval),this._refreshInterval=void 0)}async _killSession(e){try{if(await Qr.window.showWarningMessage(`Are you sure you want to terminate session ${e}?`,{modal:!0},"Yes, Kill Session")!=="Yes, Kill Session")return;let n=`DROP SESSION ${e}`;await K(this._context,n,!0,void 0,this._connectionManager),Qr.window.showInformationMessage(`Session ${e} terminated successfully.`),await this._fetchAndSendData()}catch(r){Qr.window.showErrorMessage(`Failed to kill session: ${r instanceof Error?r.message:String(r)}`)}}async _fetchAndSendData(){this._panel.webview.postMessage({command:"setLoading",loading:!0});try{let[e,r,n,i]=await Promise.all([this._fetchSessions(),this._fetchQueries(),this._fetchStorage(),this._fetchResources()]);this._panel.webview.postMessage({command:"updateData",data:{sessions:e,queries:r,storage:n,resources:i}})}catch(e){this._panel.webview.postMessage({command:"error",text:`Failed to fetch data: ${e instanceof Error?e.message:String(e)}`})}finally{this._panel.webview.postMessage({command:"setLoading",loading:!1})}}async _fetchSessions(){let e=`
            SELECT ID, PID, USERNAME, DBNAME, TYPE, CONNTIME, STATUS, 
                   SUBSTR(COMMAND, 1, 200) AS COMMAND, PRIORITY, CID, IPADDR, CLIENT_OS_USERNAME
            FROM _V_SESSION
            ORDER BY CONNTIME DESC
        `;try{let r=await K(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching sessions:",r),[]}}async _fetchQueries(){let e=`
            SELECT QS_SESSIONID, QS_PLANID, QS_CLIENTID, QS_CLIIPADDR,
                   SUBSTR(QS_SQL, 1, 300) AS QS_SQL, 
                   QS_STATE, QS_TSUBMIT, QS_TSTART, 
                   QS_PRIORITY, QS_PRITXT, QS_ESTCOST, 
                   QS_ESTDISK, QS_ESTMEM, QS_SNIPPETS, QS_CURSNIPT,
                   QS_RESROWS, QS_RESBYTES
            FROM _V_QRYSTAT
            ORDER BY QS_TSTART DESC
            LIMIT 100
        `;try{let r=await K(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching queries:",r),[]}}async _fetchStorage(){let e=`
            SELECT O.DBNAME AS DATABASE, TS.SCHEMA, 
                   ROUND(SUM(TS.ALLOCATED_BYTES) / 1024.0 / 1024.0, 2) AS ALLOC_MB,
                   ROUND(SUM(TS.USED_BYTES) / 1024.0 / 1024.0, 2) AS USED_MB,
                   ROUND(SUM(TS.SKEW * TS.USED_BYTES) / NULLIF(SUM(TS.USED_BYTES), 0), 2) AS AVG_SKEW,
                   COUNT(*) AS TABLE_COUNT
            FROM _V_TABLE_STORAGE_STAT TS
            JOIN _V_OBJECT_DATA O ON TS.OBJID = O.OBJID
            GROUP BY O.DBNAME, TS.SCHEMA
            ORDER BY USED_MB DESC
        `;try{let r=await K(this._context,e,!0,void 0,this._connectionManager);return!r||r.startsWith("Query executed")?[]:JSON.parse(r)}catch(r){return console.error("Error fetching storage:",r),[]}}async _fetchResources(){let e=[],r=[],n=null;try{let i=await K(this._context,"SELECT * FROM _V_SCHED_GRA_EXT LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(e=JSON.parse(i))}catch(i){console.warn("_V_SCHED_GRA_EXT not available:",i)}try{let i=await K(this._context,"SELECT * FROM _V_SYSTEM_UTIL ORDER BY 1 DESC LIMIT 50",!0,void 0,this._connectionManager);i&&!i.startsWith("Query executed")&&(r=JSON.parse(i))}catch(i){console.warn("_V_SYSTEM_UTIL not available:",i)}try{let i=await K(this._context,`SELECT 
                    ROUND(AVG(HOST_CPU) * 100, 1) AS AVG_HOST_CPU_PCT,
                    ROUND(AVG(SPU_CPU) * 100, 1) AS AVG_SPU_CPU_PCT,
                    ROUND(AVG(HOST_DISK) * 100, 1) AS AVG_DISK_PCT,
                    ROUND(AVG(HOST_MEMORY) * 100, 1) AS AVG_MEMORY_PCT,
                    ROUND(AVG(HOST_FABRIC) * 100, 1) AS AVG_FABRIC_PCT,
                    COUNT(*) AS SAMPLE_COUNT
                FROM _V_SYSTEM_UTIL`,!0,void 0,this._connectionManager);if(i&&!i.startsWith("Query executed")){let s=JSON.parse(i);n=s.length>0?s[0]:null}}catch(i){console.warn("_V_SYSTEM_UTIL summary not available:",i)}return{gra:e,systemUtil:r,sysUtilSummary:n}}_update(){let e=this._panel.webview;this._panel.title="Session Monitor",this._panel.webview.html=this._getHtmlForWebview(e)}_getHtmlForWebview(e){let r=e.asWebviewUri(Qr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.js")),n=e.asWebviewUri(Qr.Uri.joinPath(this._extensionUri,"media","sessionMonitor.css")),i=kCe();return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Session Monitor</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>\u{1F5A5}\uFE0F Session Monitor Dashboard</h2>
            <div class="header-actions">
                <label class="auto-refresh">
                    <input type="checkbox" id="autoRefresh"> Auto-refresh (30s)
                </label>
                <button id="refreshBtn" class="btn btn-primary">\u{1F504} Refresh</button>
            </div>
        </div>

        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <span>Loading data...</span>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="sessions">\u{1F4CB} Sessions</button>
            <button class="tab-btn" data-tab="queries">\u23F1\uFE0F Running Queries</button>
            <button class="tab-btn" data-tab="storage">\u{1F4BE} Storage</button>
            <button class="tab-btn" data-tab="resources">\u{1F4CA} Resources</button>
        </div>

        <div class="tab-content" id="sessions">
            <div class="section-header">
                <h3>Active Sessions</h3>
                <span class="count" id="sessionCount">0 sessions</span>
            </div>
            <div class="table-container">
                <table id="sessionsTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>PID</th>
                            <th>User</th>
                            <th>Database</th>
                            <th>Type</th>
                            <th>Connected</th>
                            <th>Status</th>
                            <th>IP</th>
                            <th>Command</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="queries">
            <div class="section-header">
                <h3>Running Queries</h3>
                <span class="count" id="queryCount">0 queries</span>
            </div>
            <div class="table-container">
                <table id="queriesTable">
                    <thead>
                        <tr>
                            <th>Session</th>
                            <th>Plan ID</th>
                            <th>State</th>
                            <th>Priority</th>
                            <th>Submitted</th>
                            <th>Started</th>
                            <th>Est. Cost</th>
                            <th>Rows</th>
                            <th>SQL</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="storage">
            <div class="section-header">
                <h3>Storage by Schema</h3>
                <span class="count" id="storageCount">0 schemas</span>
            </div>
            <div class="table-container">
                <table id="storageTable">
                    <thead>
                        <tr>
                            <th>Database</th>
                            <th>Schema</th>
                            <th>Allocated (MB)</th>
                            <th>Used (MB)</th>
                            <th>Usage %</th>
                            <th>Avg Skew</th>
                            <th>Tables</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div class="tab-content hidden" id="resources">
            <div class="section-header">
                <h3>Resource Utilization</h3>
            </div>
            <div class="resources-grid">
                <div class="resource-section">
                    <h4>GRA Scheduler</h4>
                    <div id="graTable" class="table-container small"></div>
                </div>
                <div class="resource-section">
                    <h4>System Utilization</h4>
                    <div id="sysUtilSummary"></div>
                    <div id="sysUtilTable" class="table-container small"></div>
                </div>
            </div>
        </div>
    </div>

    <script nonce="${i}" src="${r}"></script>
</body>
</html>`}}});var x6={};Pt(x6,{ClipboardDataProcessor:()=>IS,importClipboardDataToNetezza:()=>jCe});function VCe(t){let e=String(t).trim();return e=e.replace(/[^0-9a-zA-Z]+/g,"_").toUpperCase(),(!e||/^\d/.test(e)||e.startsWith("_"))&&(e="COL"+(e.startsWith("_")?"":"_")+e),e}function qCe(t,e,r){let n=String(t).trim();for(let i of r)n=n.split(i).join(`${e}${i}`);return n}function XCe(t,e,r,n,i){let s=qCe(t,n,i);return e<r.length&&r[e].currentType.dbType==="DATETIME"&&(s=s.replace("T"," ")),s}async function jCe(t,e,r,n,i){let s=Date.now(),o=null,a=null;try{if(!t)return{success:!1,message:"Target table name is required"};if(!e||!e.host)return{success:!1,message:"Connection details are required"};i?.("Starting clipboard import process..."),i?.(`  Target table: ${t}`),i?.(`  Format preference: ${r||"auto-detect"}`);let l=new IS,[c,u]=await l.processClipboardData(r,i);if(!c||!c.length)return{success:!1,message:"No data found in clipboard"};if(c.length<2)return{success:!1,message:"Clipboard data must contain at least headers and one data row"};i?.(`  Detected format: ${u}`),i?.(`  Rows: ${c.length}`),i?.(`  Columns: ${c[0].length}`);let d=c[0].map(re=>VCe(re)),f=c.slice(1);i?.("Detecting decimal separator...");let E=".",T=0,h=0,p=f.slice(0,100);for(let re of p)for(let ve of re){if(!ve||!ve.trim())continue;let fe=ve.trim();/^\d+\.\d+$/.test(fe)&&T++,/^\d+,\d+$/.test(fe)&&h++}h>T&&h>0&&(E=","),i?.(`Detected decimal separator: '${E}'`),i?.("Analyzing clipboard data types...");let S=d.map(()=>new hc(E));for(let re=0;re<f.length;re++){let ve=f[re];for(let fe=0;fe<ve.length;fe++)fe<S.length&&ve[fe]&&ve[fe].trim()&&S[fe].refreshCurrentType(ve[fe].trim());(re+1)%1e3===0&&(i?.(`Analyzed ${(re+1).toLocaleString()} rows...`,void 0,!1),await P6())}i?.(`Analysis complete: ${f.length.toLocaleString()} data rows`);let I=w6.join(require("os").tmpdir(),"netezza_clipboard_logs");mS.existsSync(I)||mS.mkdirSync(I,{recursive:!0});let R="	",A="\\t",N=`
`,w="\\n",m="\\",D=[m,N,"\r",R];i?.("Preparing in-memory data stream...");let y=new qC(f,S,R,N,m,D,E,i);o=`virtual_clipboard_import_${Date.now()}_${Math.floor(Math.random()*1e3)}.txt`,i?.(`Registered virtual stream: ${o}`);let P=jt();P&&P.registerImportStream?P.registerImportStream(o,y):i?.("Warning: NzConnection driver does not support stream registry. Import might fail.");let M=[];for(let re=0;re<d.length;re++)M.push(`        ${d[re]} ${S[re].currentType.toString()}`);let B=I.replace(/\\/g,"/"),G=`CREATE TABLE ${t} AS 
(
    SELECT * FROM EXTERNAL '${o}'
    (
${M.join(`,
`)}
    )
    USING
    (
        REMOTESOURCE 'jdbc'
        DELIMITER '${A}'
        RecordDelim '${w}'
        ESCAPECHAR '${m}'
        NULLVALUE ''
        ENCODING 'utf-8'
        TIMESTYLE '24HOUR'
        SKIPROWS 0
        MAXERRORS 10
        LOGDIR '${B}'
    )
) DISTRIBUTE ON RANDOM;`;i?.("Generated SQL:"),i?.(G),i?.("Connecting to Netezza...");let V={host:e.host,port:e.port||5480,database:e.database,user:e.user,password:e.password},J=jt();a=new J(V),await a.connect();try{i?.("Executing CREATE TABLE with EXTERNAL clipboard data...");let re=a.createCommand(G);re.commandTimeout=3600,await re.execute(),i?.("Clipboard import completed successfully")}finally{await a.close()}let ne=(Date.now()-s)/1e3;return{success:!0,message:"Clipboard import completed successfully",details:{targetTable:t,format:u,rowsProcessed:f.length,rowsInserted:f.length,processingTime:`${ne.toFixed(1)}s`,columns:d.length,detectedDelimiter:R}}}catch(l){let c=(Date.now()-s)/1e3;return{success:!1,message:`Clipboard import failed: ${l instanceof Error?l.message:String(l)}`,details:{processingTime:`${c.toFixed(1)}s`}}}finally{if(a&&a._connected)try{await a.close()}catch{}if(o){let l=jt();l&&l.unregisterImportStream&&l.unregisterImportStream(o)}}}var mS,w6,L6,D6,P6,IS,qC,M6=Y(()=>{"use strict";mS=j(require("fs")),w6=j(require("path")),L6=j(require("vscode")),D6=require("stream");uS();P6=()=>new Promise(t=>setTimeout(t,0)),IS=class{async processXmlSpreadsheet(e,r){r?.("Processing XML Spreadsheet data...");let n=[],i=0,s=[],o=0,a=e.match(/ExpandedColumnCount="(\d+)"/);a&&(i=parseInt(a[1]),r?.(`Table has ${i} columns`));let l=e.match(/ExpandedRowCount="(\d+)"/);l&&r?.(`Table has ${l[1]} rows`);let c=/<Row[^>]*>([\s\S]*?)<\/Row>/gi,u;for(;(u=c.exec(e))!==null;){let d=u[1];s=new Array(i).fill("");let f,E=0,T=/<Cell(?:[^>]*ss:Index="(\d+)")?[^>]*>(?:[\s\S]*?<Data[^>]*(?:\s+ss:Type="([^"]*)")?[^>]*>([^<]*)<\/Data>)?[\s\S]*?<\/Cell>/gi;for(;(f=T.exec(d))!==null;){f[1]&&(E=parseInt(f[1])-1);let h=f[2]||"",p=f[3]||"";h==="Boolean"&&(p=p==="0"?"False":"True"),E<i&&(s[E]=p),E++}s.some(h=>h.trim())&&n.push([...s]),o++,o%1e4===0&&(r?.(`Analyzed ${o.toLocaleString()} rows...`,void 0,!1),await P6())}return r?.(`XML processing complete: ${n.length} rows, ${i} columns`),n}async processTextData(e,r){if(r?.("Processing text data..."),!e.trim())return[];let n=e.split(`
`);for(;n.length&&!n[n.length-1].trim();)n.pop();if(!n.length)return[];let i=["	",",",";","|"],s={};for(let c of i){let u=[];for(let d of n.slice(0,Math.min(5,n.length)))if(d.trim()){let f=d.split(c);u.push(f.length)}if(u.length){let d=u.reduce((E,T)=>E+T,0)/u.length,f=u.reduce((E,T)=>E+Math.pow(T-d,2),0)/u.length;s[c]=[d,-f]}}let o="	";Object.keys(s).length&&(o=Object.keys(s).reduce((c,u)=>{let[d,f]=s[c]||[0,0],[E,T]=s[u];return E>d||E===d&&T>f?u:c},"	")),r?.(`Auto-detected delimiter: '${o==="	"?"\\t":o}'`);let a=[],l=0;for(let c of n)if(c.trim()){let u=c.split(o).map(d=>d.trim());a.push(u),l=Math.max(l,u.length)}for(let c of a)for(;c.length<l;)c.push("");return r?.(`Text processing complete: ${a.length} rows, ${l} columns`),a}async getClipboardText(){return await L6.env.clipboard.readText()}async processClipboardData(e,r){r?.("Getting clipboard data...");let n=await this.getClipboardText();if(!n)throw new Error("No data found in clipboard");r?.(`Data size: ${n.length} characters`);let i="TEXT";e==="XML Spreadsheet"||!e&&n.includes("<Workbook")&&n.includes("<Worksheet")?i="XML Spreadsheet":e==="TEXT"&&(i="TEXT"),r?.(`Detected format: ${i}`);let s;return i==="XML Spreadsheet"?s=await this.processXmlSpreadsheet(n,r):s=await this.processTextData(n,r),r?.(`Processed ${s.length} rows`),s.length&&r?.(`Columns per row: ${s[0].length}`),[s,i]}};qC=class extends D6.Readable{constructor(r,n,i,s,o,a,l,c){super();this.currentIndex=0;this.byteLength=0;this.lastReportedIndex=-1;this.lastReportTime=0;this.lastReportedMessage="";this.rows=r,this.dataTypes=n,this.delimiter=i,this.recordDelim=s,this.escapechar=o,this.valuesToEscape=a,this.decimalDelimiter=l,this.progressCallback=c,this.currentIndex=0,this.lastReportedIndex=-1,this.lastReportTime=0,this.lastReportedMessage="";try{this.byteLength=r.reduce((u,d)=>{let f=d.reduce((E,T)=>E+(T?T.length:0),0);return u+f+d.length},0)}catch{this.byteLength=1024*1024}}_read(r){try{let n=!0;for(;n&&this.currentIndex<this.rows.length;){let a=this.rows[this.currentIndex].map((l,c)=>{let u=XCe(l,c,this.dataTypes,this.escapechar,this.valuesToEscape);if(this.dataTypes[c].currentType.dbType==="NUMERIC"&&this.decimalDelimiter===","&&(u=u.replace(",",".")),this.dataTypes[c].currentType.dbType==="DATETIME"){let d=u.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(d){let f=d[1],E=d[2],T=d[3],h=d[4]||"00",p=d[5]||"00",S=d[6]||"00";u=`${T}-${E}-${f} ${h}:${p}:${S}`}}return u}).join(this.delimiter)+this.recordDelim;n=this.push(Buffer.from(a,"utf8")),this.currentIndex++}let i=this.rows.length;if(this.currentIndex>this.lastReportedIndex){let s=Date.now();if(this.currentIndex>=i||s-this.lastReportTime>=1e3){let c=`Streaming data: ${Math.floor(this.currentIndex/i*100)}% (${this.currentIndex.toLocaleString()}/${i.toLocaleString()})`,d=(this.currentIndex-(this.lastReportedIndex<0?0:this.lastReportedIndex))/i*100;c!==this.lastReportedMessage&&(this.progressCallback?.(c,d,!1),this.lastReportedIndex=this.currentIndex,this.lastReportTime=s,this.lastReportedMessage=c)}}this.currentIndex>=this.rows.length&&this.push(null)}catch(n){this.emit("error",n)}}}});var x,KCe,zCe,JCe,jC,QCe,ZCe,ebe,tbe,NS,rbe,Lt=Y(()=>{x=t=>t.flatMap(KCe),KCe=t=>NS(JCe(t)).map(zCe),zCe=t=>t.replace(/ +/g," ").trim(),JCe=t=>({type:"mandatory_block",items:jC(t,0)[0]}),jC=(t,e,r)=>{let n=[];for(;t[e];){let[i,s]=QCe(t,e);if(n.push(i),e=s,t[e]==="|")e++;else if(t[e]==="}"||t[e]==="]"){if(r!==t[e])throw new Error(`Unbalanced parenthesis in: ${t}`);return e++,[n,e]}else if(e===t.length){if(r)throw new Error(`Unbalanced parenthesis in: ${t}`);return[n,e]}else throw new Error(`Unexpected "${t[e]}"`)}return[n,e]},QCe=(t,e)=>{let r=[];for(;;){let[n,i]=ZCe(t,e);if(n)r.push(n),e=i;else break}return r.length===1?[r[0],e]:[{type:"concatenation",items:r},e]},ZCe=(t,e)=>{if(t[e]==="{")return ebe(t,e+1);if(t[e]==="[")return tbe(t,e+1);{let r="";for(;t[e]&&/[A-Za-z0-9_ ]/.test(t[e]);)r+=t[e],e++;return[r,e]}},ebe=(t,e)=>{let[r,n]=jC(t,e,"}");return[{type:"mandatory_block",items:r},n]},tbe=(t,e)=>{let[r,n]=jC(t,e,"]");return[{type:"optional_block",items:r},n]},NS=t=>{if(typeof t=="string")return[t];if(t.type==="concatenation")return t.items.map(NS).reduce(rbe,[""]);if(t.type==="mandatory_block")return t.items.flatMap(NS);if(t.type==="optional_block")return["",...t.items.flatMap(NS)];throw new Error(`Unknown node type: ${t}`)},rbe=(t,e)=>{let r=[];for(let n of t)for(let i of e)r.push(n+i);return r}});var $,KC,Ni,pc,Gn,gS,G6,An=Y(()=>{(function(t){t.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",t.IDENTIFIER="IDENTIFIER",t.STRING="STRING",t.VARIABLE="VARIABLE",t.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",t.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",t.RESERVED_KEYWORD="RESERVED_KEYWORD",t.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",t.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",t.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",t.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",t.RESERVED_CLAUSE="RESERVED_CLAUSE",t.RESERVED_SELECT="RESERVED_SELECT",t.RESERVED_JOIN="RESERVED_JOIN",t.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",t.ARRAY_KEYWORD="ARRAY_KEYWORD",t.CASE="CASE",t.END="END",t.WHEN="WHEN",t.ELSE="ELSE",t.THEN="THEN",t.LIMIT="LIMIT",t.BETWEEN="BETWEEN",t.AND="AND",t.OR="OR",t.XOR="XOR",t.OPERATOR="OPERATOR",t.COMMA="COMMA",t.ASTERISK="ASTERISK",t.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",t.OPEN_PAREN="OPEN_PAREN",t.CLOSE_PAREN="CLOSE_PAREN",t.LINE_COMMENT="LINE_COMMENT",t.BLOCK_COMMENT="BLOCK_COMMENT",t.DISABLE_COMMENT="DISABLE_COMMENT",t.NUMBER="NUMBER",t.NAMED_PARAMETER="NAMED_PARAMETER",t.QUOTED_PARAMETER="QUOTED_PARAMETER",t.NUMBERED_PARAMETER="NUMBERED_PARAMETER",t.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",t.CUSTOM_PARAMETER="CUSTOM_PARAMETER",t.DELIMITER="DELIMITER",t.EOF="EOF"})($=$||($={}));KC=t=>({type:$.EOF,raw:"\xABEOF\xBB",text:"\xABEOF\xBB",start:t}),Ni=KC(1/0),pc=t=>e=>e.type===t.type&&e.text===t.text,Gn={ARRAY:pc({text:"ARRAY",type:$.RESERVED_DATA_TYPE}),BY:pc({text:"BY",type:$.RESERVED_KEYWORD}),SET:pc({text:"SET",type:$.RESERVED_CLAUSE}),STRUCT:pc({text:"STRUCT",type:$.RESERVED_DATA_TYPE}),WINDOW:pc({text:"WINDOW",type:$.RESERVED_CLAUSE}),VALUES:pc({text:"VALUES",type:$.RESERVED_CLAUSE})},gS=t=>t===$.RESERVED_DATA_TYPE||t===$.RESERVED_KEYWORD||t===$.RESERVED_FUNCTION_NAME||t===$.RESERVED_KEYWORD_PHRASE||t===$.RESERVED_DATA_TYPE_PHRASE||t===$.RESERVED_CLAUSE||t===$.RESERVED_SELECT||t===$.RESERVED_SET_OPERATION||t===$.RESERVED_JOIN||t===$.ARRAY_KEYWORD||t===$.CASE||t===$.END||t===$.WHEN||t===$.ELSE||t===$.THEN||t===$.LIMIT||t===$.BETWEEN||t===$.AND||t===$.OR||t===$.XOR,G6=t=>t===$.AND||t===$.OR||t===$.XOR});var H6,W6=Y(()=>{H6=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"]});var Y6,$6,k6=Y(()=>{Y6=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],$6=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"]});function cbe(t){return ube(dbe(t))}function ube(t){let e=Ni;return t.map(r=>r.text==="OFFSET"&&e.text==="["?(e=r,Object.assign(Object.assign({},r),{type:$.RESERVED_FUNCTION_NAME})):(e=r,r))}function dbe(t){var e;let r=[];for(let n=0;n<t.length;n++){let i=t[n];if((Gn.ARRAY(i)||Gn.STRUCT(i))&&((e=t[n+1])===null||e===void 0?void 0:e.text)==="<"){let s=Ebe(t,n+1),o=t.slice(n,s+1);r.push({type:$.IDENTIFIER,raw:o.map(q6("raw")).join(""),text:o.map(q6("text")).join(""),start:i.start}),n=s}else r.push(i)}return r}function Ebe(t,e){let r=0;for(let n=e;n<t.length;n++){let i=t[n];if(i.text==="<"?r++:i.text===">"?r--:i.text===">>"&&(r-=2),r===0)return n}return t.length-1}var nbe,ibe,V6,zC,sbe,obe,abe,lbe,OS,q6,JC=Y(()=>{Lt();An();W6();k6();nbe=x(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),ibe=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),V6=x(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),zC=x(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),sbe=x(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),obe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),abe=x(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),lbe=x([]),OS={name:"bigquery",tokenizerOptions:{reservedSelect:nbe,reservedClauses:[...ibe,...zC,...V6],reservedSetOperations:sbe,reservedJoins:obe,reservedKeywordPhrases:abe,reservedDataTypePhrases:lbe,reservedKeywords:Y6,reservedDataTypes:$6,reservedFunctionNames:H6,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:cbe},formatOptions:{onelineClauses:[...V6,...zC],tabularOnelineClauses:zC}};q6=t=>e=>e.type===$.IDENTIFIER||e.type===$.COMMA?e[t]+" ":e[t]});var X6,j6=Y(()=>{X6=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"]});var K6,z6,J6=Y(()=>{K6=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],z6=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"]});var fbe,hbe,Q6,QC,Tbe,pbe,Sbe,Rbe,CS,ZC=Y(()=>{Lt();j6();J6();fbe=x(["SELECT [ALL | DISTINCT]"]),hbe=x(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),Q6=x(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),QC=x(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),Tbe=x(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),pbe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),Sbe=x(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),Rbe=x([]),CS={name:"db2",tokenizerOptions:{reservedSelect:fbe,reservedClauses:[...hbe,...Q6,...QC],reservedSetOperations:Tbe,reservedJoins:pbe,reservedKeywordPhrases:Sbe,reservedDataTypePhrases:Rbe,reservedKeywords:K6,reservedDataTypes:z6,reservedFunctionNames:X6,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","\xAC=","\xAC>","\xAC<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...Q6,...QC],tabularOnelineClauses:QC}}});var Z6,e3=Y(()=>{Z6=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"]});var t3,r3,n3=Y(()=>{t3=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],r3=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"]});var Abe,_be,i3,eb,Ibe,mbe,Nbe,gbe,bS,tb=Y(()=>{Lt();e3();n3();Abe=x(["SELECT [ALL | DISTINCT]"]),_be=x(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),i3=x(["CREATE [OR REPLACE] TABLE"]),eb=x(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),Ibe=x(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),mbe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),Nbe=x(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),gbe=x([]),bS={name:"db2i",tokenizerOptions:{reservedSelect:Abe,reservedClauses:[..._be,...i3,...eb],reservedSetOperations:Ibe,reservedJoins:mbe,reservedKeywordPhrases:Nbe,reservedDataTypePhrases:gbe,reservedKeywords:t3,reservedDataTypes:r3,reservedFunctionNames:Z6,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","\xAC=","\xAC>","\xAC<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[...i3,...eb],tabularOnelineClauses:eb}}});var s3,o3=Y(()=>{s3=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"]});var a3,l3,c3=Y(()=>{a3=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],l3=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"]});var Obe,Cbe,u3,rb,bbe,ybe,wbe,Lbe,yS,nb=Y(()=>{Lt();o3();c3();Obe=x(["SELECT [ALL | DISTINCT]"]),Cbe=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),u3=x(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),rb=x(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),bbe=x(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),ybe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),wbe=x(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"]),Lbe=x(["TIMESTAMP WITH TIME ZONE"]),yS={name:"duckdb",tokenizerOptions:{reservedSelect:Obe,reservedClauses:[...Cbe,...u3,...rb],reservedSetOperations:bbe,reservedJoins:ybe,reservedKeywordPhrases:wbe,reservedDataTypePhrases:Lbe,supportsXor:!0,reservedKeywords:a3,reservedDataTypes:l3,reservedFunctionNames:s3,nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...u3,...rb],tabularOnelineClauses:rb}}});var d3,E3=Y(()=>{d3=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"]});var f3,h3,T3=Y(()=>{f3=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],h3=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"]});var Dbe,Pbe,p3,ib,xbe,Mbe,vbe,Ube,wS,sb=Y(()=>{Lt();E3();T3();Dbe=x(["SELECT [ALL | DISTINCT]"]),Pbe=x(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),p3=x(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),ib=x(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),xbe=x(["UNION [ALL | DISTINCT]"]),Mbe=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),vbe=x(["{ROWS | RANGE} BETWEEN"]),Ube=x([]),wS={name:"hive",tokenizerOptions:{reservedSelect:Dbe,reservedClauses:[...Pbe,...p3,...ib],reservedSetOperations:xbe,reservedJoins:Mbe,reservedKeywordPhrases:vbe,reservedDataTypePhrases:Ube,reservedKeywords:f3,reservedDataTypes:h3,reservedFunctionNames:d3,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...p3,...ib],tabularOnelineClauses:ib}}});function Js(t){return t.map((e,r)=>{let n=t[r+1]||Ni;if(Gn.SET(e)&&n.text==="(")return Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME});let i=t[r-1]||Ni;return Gn.VALUES(e)&&i.text==="="?Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME}):e})}var kd=Y(()=>{An()});var S3,R3,A3=Y(()=>{S3=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],R3=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var _3,I3=Y(()=>{_3=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"]});var Bbe,Fbe,m3,ob,Gbe,Hbe,Wbe,Ybe,LS,ab=Y(()=>{Lt();kd();A3();I3();Bbe=x(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),Fbe=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),m3=x(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),ob=x(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),Gbe=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),Hbe=x(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Wbe=x(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),Ybe=x([]),LS={name:"mariadb",tokenizerOptions:{reservedSelect:Bbe,reservedClauses:[...Fbe,...m3,...ob],reservedSetOperations:Gbe,reservedJoins:Hbe,reservedKeywordPhrases:Wbe,reservedDataTypePhrases:Ybe,supportsXor:!0,reservedKeywords:S3,reservedDataTypes:R3,reservedFunctionNames:_3,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:Js},formatOptions:{onelineClauses:[...m3,...ob],tabularOnelineClauses:ob}}});var N3,g3,O3=Y(()=>{N3=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],g3=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var C3,b3=Y(()=>{C3=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"]});var $be,kbe,y3,lb,Vbe,qbe,Xbe,jbe,DS,cb=Y(()=>{Lt();kd();O3();b3();$be=x(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),kbe=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),y3=x(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),lb=x(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),Vbe=x(["UNION [ALL | DISTINCT]"]),qbe=x(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Xbe=x(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),jbe=x([]),DS={name:"mysql",tokenizerOptions:{reservedSelect:$be,reservedClauses:[...kbe,...y3,...lb],reservedSetOperations:Vbe,reservedJoins:qbe,reservedKeywordPhrases:Xbe,reservedDataTypePhrases:jbe,supportsXor:!0,reservedKeywords:N3,reservedDataTypes:g3,reservedFunctionNames:C3,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Js},formatOptions:{onelineClauses:[...y3,...lb],tabularOnelineClauses:lb}}});var w3,L3,D3=Y(()=>{w3=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],L3=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"]});var P3,x3=Y(()=>{P3=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"]});var Kbe,zbe,M3,ub,Jbe,Qbe,Zbe,eye,PS,db=Y(()=>{Lt();kd();D3();x3();Kbe=x(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),zbe=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),M3=x(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),ub=x(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),Jbe=x(["UNION [ALL | DISTINCT]"]),Qbe=x(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Zbe=x(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),eye=x([]),PS={name:"tidb",tokenizerOptions:{reservedSelect:Kbe,reservedClauses:[...zbe,...M3,...ub],reservedSetOperations:Jbe,reservedJoins:Qbe,reservedKeywordPhrases:Zbe,reservedDataTypePhrases:eye,supportsXor:!0,reservedKeywords:w3,reservedDataTypes:L3,reservedFunctionNames:P3,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:Js},formatOptions:{onelineClauses:[...M3,...ub],tabularOnelineClauses:ub}}});var v3,U3=Y(()=>{v3=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"]});var B3,F3,G3=Y(()=>{B3=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],F3=[]});var tye,rye,H3,nye,iye,sye,oye,xS,Eb=Y(()=>{Lt();U3();G3();tye=x(["SELECT [ALL | DISTINCT]"]),rye=x(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),H3=x(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),nye=x(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),iye=x(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),sye=x(["{ROWS | RANGE | GROUPS} BETWEEN"]),oye=x([]),xS={name:"n1ql",tokenizerOptions:{reservedSelect:tye,reservedClauses:[...rye,...H3],reservedSetOperations:nye,reservedJoins:iye,reservedKeywordPhrases:sye,reservedDataTypePhrases:oye,supportsXor:!0,reservedKeywords:B3,reservedDataTypes:F3,reservedFunctionNames:v3,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:H3}}});var W3,Y3,$3=Y(()=>{W3=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],Y3=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"]});var k3,V3=Y(()=>{k3=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"]});function fye(t){let e=Ni;return t.map(r=>Gn.SET(r)&&Gn.BY(e)?Object.assign(Object.assign({},r),{type:$.RESERVED_KEYWORD}):(gS(r.type)&&(e=r),r))}var aye,lye,q3,fb,cye,uye,dye,Eye,MS,hb=Y(()=>{Lt();An();$3();V3();aye=x(["SELECT [ALL | DISTINCT | UNIQUE]"]),lye=x(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),q3=x(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),fb=x(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),cye=x(["UNION [ALL]","MINUS","INTERSECT"]),uye=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),dye=x(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),Eye=x([]),MS={name:"plsql",tokenizerOptions:{reservedSelect:aye,reservedClauses:[...lye,...q3,...fb],reservedSetOperations:cye,reservedJoins:uye,reservedKeywordPhrases:dye,reservedDataTypePhrases:Eye,supportsXor:!0,reservedKeywords:W3,reservedDataTypes:Y3,reservedFunctionNames:k3,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:fye},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...q3,...fb],tabularOnelineClauses:fb}}});var X3,j3=Y(()=>{X3=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","UUIDV4","UUIDV7","UUID_EXTRACT_TIMESTAMP","UUID_EXTRACT_VERSION","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"]});var K3,z3,J3=Y(()=>{K3=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],z3=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"]});var hye,Tye,Q3,Tb,pye,Sye,Rye,Aye,vS,pb=Y(()=>{Lt();j3();J3();hye=x(["SELECT [ALL | DISTINCT]"]),Tye=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),Q3=x(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),Tb=x(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMENT ON","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),pye=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Sye=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Rye=x(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),Aye=x(["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"]),vS={name:"postgresql",tokenizerOptions:{reservedSelect:hye,reservedClauses:[...Tye,...Q3,...Tb],reservedSetOperations:pye,reservedJoins:Sye,reservedKeywordPhrases:Rye,reservedDataTypePhrases:Aye,reservedKeywords:K3,reservedDataTypes:z3,reservedFunctionNames:X3,nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...Q3,...Tb],tabularOnelineClauses:Tb}}});var Z3,ej=Y(()=>{Z3=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"]});var tj,rj,nj=Y(()=>{tj=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],rj=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"]});var _ye,Iye,ij,Sb,mye,Nye,gye,Oye,US,Rb=Y(()=>{Lt();ej();nj();_ye=x(["SELECT [ALL | DISTINCT]"]),Iye=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),ij=x(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),Sb=x(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),mye=x(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),Nye=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),gye=x(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),Oye=x([]),US={name:"redshift",tokenizerOptions:{reservedSelect:_ye,reservedClauses:[...Iye,...ij,...Sb],reservedSetOperations:mye,reservedJoins:Nye,reservedKeywordPhrases:gye,reservedDataTypePhrases:Oye,reservedKeywords:tj,reservedDataTypes:rj,reservedFunctionNames:Z3,extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...ij,...Sb],tabularOnelineClauses:Sb}}});var sj,oj,aj=Y(()=>{sj=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],oj=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"]});var lj,cj=Y(()=>{lj=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"]});function Pye(t){return t.map((e,r)=>{let n=t[r-1]||Ni,i=t[r+1]||Ni;return Gn.WINDOW(e)&&i.type===$.OPEN_PAREN?Object.assign(Object.assign({},e),{type:$.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===$.RESERVED_KEYWORD&&!(n.text==="COLLECTION"&&i.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:$.IDENTIFIER,text:e.raw}):e})}var Cye,bye,uj,Ab,yye,wye,Lye,Dye,BS,_b=Y(()=>{Lt();An();aj();cj();Cye=x(["SELECT [ALL | DISTINCT]"]),bye=x(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),uj=x(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),Ab=x(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),yye=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),wye=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),Lye=x(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),Dye=x([]),BS={name:"spark",tokenizerOptions:{reservedSelect:Cye,reservedClauses:[...bye,...uj,...Ab],reservedSetOperations:yye,reservedJoins:wye,reservedKeywordPhrases:Lye,reservedDataTypePhrases:Dye,supportsXor:!0,reservedKeywords:sj,reservedDataTypes:oj,reservedFunctionNames:lj,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:Pye},formatOptions:{onelineClauses:[...uj,...Ab],tabularOnelineClauses:Ab}}});var dj,Ej=Y(()=>{dj=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"]});var fj,hj,Tj=Y(()=>{fj=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],hj=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"]});var xye,Mye,pj,Ib,vye,Uye,Bye,Fye,FS,mb=Y(()=>{Lt();Ej();Tj();xye=x(["SELECT [ALL | DISTINCT]"]),Mye=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"]),pj=x(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),Ib=x(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),vye=x(["UNION [ALL]","EXCEPT","INTERSECT"]),Uye=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Bye=x(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),Fye=x([]),FS={name:"sqlite",tokenizerOptions:{reservedSelect:xye,reservedClauses:[...Mye,...pj,...Ib],reservedSetOperations:vye,reservedJoins:Uye,reservedKeywordPhrases:Bye,reservedDataTypePhrases:Fye,reservedKeywords:fj,reservedDataTypes:hj,reservedFunctionNames:dj,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...pj,...Ib],tabularOnelineClauses:Ib}}});var Sj,Rj=Y(()=>{Sj=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"]});var Aj,_j,Ij=Y(()=>{Aj=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],_j=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"]});var Gye,Hye,mj,Nb,Wye,Yye,$ye,kye,GS,gb=Y(()=>{Lt();Rj();Ij();Gye=x(["SELECT [ALL | DISTINCT]"]),Hye=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),mj=x(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),Nb=x(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),Wye=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Yye=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),$ye=x(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),kye=x([]),GS={name:"sql",tokenizerOptions:{reservedSelect:Gye,reservedClauses:[...Hye,...mj,...Nb],reservedSetOperations:Wye,reservedJoins:Yye,reservedKeywordPhrases:$ye,reservedDataTypePhrases:kye,reservedKeywords:Aj,reservedDataTypes:_j,reservedFunctionNames:Sj,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...mj,...Nb],tabularOnelineClauses:Nb}}});var Nj,gj=Y(()=>{Nj=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"]});var Oj,Cj,bj=Y(()=>{Oj=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],Cj=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"]});var Vye,qye,yj,Ob,Xye,jye,Kye,zye,HS,Cb=Y(()=>{Lt();gj();bj();Vye=x(["SELECT [ALL | DISTINCT]"]),qye=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),yj=x(["CREATE TABLE [IF NOT EXISTS]"]),Ob=x(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),Xye=x(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),jye=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),Kye=x(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),zye=x([]),HS={name:"trino",tokenizerOptions:{reservedSelect:Vye,reservedClauses:[...qye,...yj,...Ob],reservedSetOperations:Xye,reservedJoins:jye,reservedKeywordPhrases:Kye,reservedDataTypePhrases:zye,reservedKeywords:Oj,reservedDataTypes:Cj,reservedFunctionNames:Nj,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...yj,...Ob],tabularOnelineClauses:Ob}}});var wj,Lj=Y(()=>{wj=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"]});var Dj,Pj,xj=Y(()=>{Dj=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],Pj=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"]});var Jye,Qye,Mj,bb,Zye,e0e,t0e,r0e,WS,yb=Y(()=>{Lt();Lj();xj();Jye=x(["SELECT [ALL | DISTINCT]"]),Qye=x(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"]),Mj=x(["CREATE TABLE"]),bb=x(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),Zye=x(["UNION [ALL]","EXCEPT","INTERSECT"]),e0e=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),t0e=x(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),r0e=x([]),WS={name:"transactsql",tokenizerOptions:{reservedSelect:Jye,reservedClauses:[...Qye,...Mj,...bb],reservedSetOperations:Zye,reservedJoins:e0e,reservedKeywordPhrases:t0e,reservedDataTypePhrases:r0e,reservedKeywords:Dj,reservedDataTypes:Pj,reservedFunctionNames:wj,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Mj,...bb],tabularOnelineClauses:bb}}});var vj,Uj,Bj=Y(()=>{vj=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],Uj=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"]});var Fj,Gj=Y(()=>{Fj=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"]});var n0e,i0e,Hj,wb,s0e,o0e,a0e,l0e,YS,Lb=Y(()=>{Lt();kd();Bj();Gj();n0e=x(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),i0e=x(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),Hj=x(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),wb=x(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),s0e=x(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),o0e=x(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),a0e=x(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),l0e=x([]),YS={name:"singlestoredb",tokenizerOptions:{reservedSelect:n0e,reservedClauses:[...i0e,...Hj,...wb],reservedSetOperations:s0e,reservedJoins:o0e,reservedKeywordPhrases:a0e,reservedDataTypePhrases:l0e,reservedKeywords:vj,reservedDataTypes:Uj,reservedFunctionNames:Fj,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:Js},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...Hj,...wb],tabularOnelineClauses:wb}}});var Wj,Yj=Y(()=>{Wj=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER \u2014 Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"]});var $j,kj,Vj=Y(()=>{$j=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],kj=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"]});var c0e,u0e,qj,Db,d0e,E0e,f0e,h0e,$S,Pb=Y(()=>{Lt();Yj();Vj();c0e=x(["SELECT [ALL | DISTINCT]"]),u0e=x(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),qj=x(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),Db=x(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),d0e=x(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),E0e=x(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),f0e=x(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),h0e=x([]),$S={name:"snowflake",tokenizerOptions:{reservedSelect:c0e,reservedClauses:[...u0e,...qj,...Db],reservedSetOperations:d0e,reservedJoins:E0e,reservedKeywordPhrases:f0e,reservedDataTypePhrases:h0e,reservedKeywords:$j,reservedDataTypes:kj,reservedFunctionNames:Wj,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...qj,...Db],tabularOnelineClauses:Db}}});var xb={};Pt(xb,{bigquery:()=>OS,db2:()=>CS,db2i:()=>bS,duckdb:()=>yS,hive:()=>wS,mariadb:()=>LS,mysql:()=>DS,n1ql:()=>xS,plsql:()=>MS,postgresql:()=>vS,redshift:()=>US,singlestoredb:()=>YS,snowflake:()=>$S,spark:()=>BS,sql:()=>GS,sqlite:()=>FS,tidb:()=>PS,transactsql:()=>WS,trino:()=>HS});var Xj=Y(()=>{JC();ZC();tb();nb();sb();ab();cb();db();Eb();hb();pb();Rb();_b();mb();gb();Cb();yb();Lb();Pb()});var Qs,Mb,Sc,kS,Rc=Y(()=>{Qs=t=>t[t.length-1],Mb=t=>t.sort((e,r)=>r.length-e.length||e.localeCompare(r)),Sc=t=>t.replace(/\s+/gu," "),kS=t=>/\n/.test(t)});var en,vb,ls,T0e,jj,Kj,VS=Y(()=>{en=t=>t.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),vb=/\s+/uy,ls=t=>new RegExp(`(?:${t})`,"uy"),T0e=t=>t.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),jj=t=>t+"(?:-"+t+")*",Kj=({prefixes:t,requirePrefix:e})=>`(?:${t.map(T0e).join("|")}${e?"":"|"})`});var Jj,Ub,Bb,p0e,gi,qS,S0e,zj,Qj,Zj,Fb,Gb,eK,Hb,tK=Y(()=>{Rc();VS();Jj=t=>new RegExp(`(?:${t.map(en).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),Ub=(t,e=[])=>{let r=t==="open"?0:1,n=["()",...e].map(i=>i[r]);return ls(n.map(en).join("|"))},Bb=t=>ls(`${Mb(t).map(en).join("|")}`),p0e=({rest:t,dashes:e})=>t||e?`(?![${t||""}${e?"-":""}])`:"",gi=(t,e={})=>{if(t.length===0)return/^\b$/u;let r=p0e(e),n=Mb(t).map(en).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${n})${r}\\b`,"iuy")},qS=(t,e)=>{if(!t.length)return;let r=t.map(en).join("|");return ls(`(?:${r})(?:${e})`)},S0e=()=>{let t={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",r=Object.entries(t).map(([o,a])=>e.replace(/{left}/g,en(o)).replace(/{right}/g,en(a))),n=en(Object.keys(t).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${n}])(?:(?!\k<tag>').)*?\k<tag>`}|${r.join("|")})'`},zj={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":S0e()},Qj=t=>typeof t=="string"?zj[t]:"regex"in t?t.regex:Kj(t)+zj[t.quote],Zj=t=>ls(t.map(e=>"regex"in e?e.regex:Qj(e)).join("|")),Fb=t=>t.map(Qj).join("|"),Gb=t=>ls(Fb(t)),eK=(t={})=>ls(Hb(t)),Hb=({first:t,rest:e,dashes:r,allowFirstCharNumber:n}={})=>{let i="\\p{Alphabetic}\\p{Mark}_",s="\\p{Decimal_Number}",o=en(t??""),a=en(e??""),l=n?`[${i}${s}${o}][${i}${s}${a}]*`:`[${i}${o}][${i}${s}${a}]*`;return r?jj(l):l}});function XS(t,e){let r=t.slice(0,e).split(/\n/);return{line:r.length,col:r[r.length-1].length+1}}var Wb=Y(()=>{});var Vd,rK=Y(()=>{Wb();VS();Vd=class{constructor(e,r){this.rules=e,this.dialectName=r,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;let r=[],n;for(;this.index<this.input.length;){let i=this.getWhitespace();if(this.index<this.input.length){if(n=this.getNextToken(),!n)throw this.createParseError();r.push(Object.assign(Object.assign({},n),{precedingWhitespace:i}))}}return r}createParseError(){let e=this.input.slice(this.index,this.index+10),{line:r,col:n}=XS(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${r} column ${n}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){vb.lastIndex=this.index;let e=vb.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(let e of this.rules){let r=this.match(e);if(r)return r}}match(e){e.regex.lastIndex=this.index;let r=e.regex.exec(this.input);if(r){let n=r[0],i={type:e.type,raw:n,text:e.text?e.text(n):n,start:this.index};return e.key&&(i.key=e.key(n)),this.index+=n.length,i}}}});var nK,A0e,_0e,jS,iK=Y(()=>{nK=/\/\*/uy,A0e=/[\s\S]/uy,_0e=/\*\//uy,jS=class{constructor(){this.lastIndex=0}exec(e){let r="",n,i=0;if(n=this.matchSection(nK,e))r+=n,i++;else return null;for(;i>0;)if(n=this.matchSection(nK,e))r+=n,i++;else if(n=this.matchSection(_0e,e))r+=n,i--;else if(n=this.matchSection(A0e,e))r+=n;else return null;return[r]}matchSection(e,r){e.lastIndex=this.lastIndex;let n=e.exec(r);return n&&(this.lastIndex+=n[0].length),n?n[0]:null}}});var qd,kt,sK=Y(()=>{An();tK();rK();VS();Rc();iK();qd=class{constructor(e,r){this.cfg=e,this.dialectName=r,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,r){let n=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,r),...this.rulesAfterParams],i=new Vd(n,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(i):i}buildRulesBeforeParams(e){var r,n,i;return this.validRules([{type:$.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:$.BLOCK_COMMENT,regex:e.nestedBlockComments?new jS:/(\/\*[^]*?\*\/)/uy},{type:$.LINE_COMMENT,regex:Jj((r=e.lineCommentTypes)!==null&&r!==void 0?r:["--"])},{type:$.QUOTED_IDENTIFIER,regex:Gb(e.identTypes)},{type:$.NUMBER,regex:e.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:$.RESERVED_KEYWORD_PHRASE,regex:gi((n=e.reservedKeywordPhrases)!==null&&n!==void 0?n:[],e.identChars),text:kt},{type:$.RESERVED_DATA_TYPE_PHRASE,regex:gi((i=e.reservedDataTypePhrases)!==null&&i!==void 0?i:[],e.identChars),text:kt},{type:$.CASE,regex:/CASE\b/iuy,text:kt},{type:$.END,regex:/END\b/iuy,text:kt},{type:$.BETWEEN,regex:/BETWEEN\b/iuy,text:kt},{type:$.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:kt},{type:$.RESERVED_CLAUSE,regex:gi(e.reservedClauses,e.identChars),text:kt},{type:$.RESERVED_SELECT,regex:gi(e.reservedSelect,e.identChars),text:kt},{type:$.RESERVED_SET_OPERATION,regex:gi(e.reservedSetOperations,e.identChars),text:kt},{type:$.WHEN,regex:/WHEN\b/iuy,text:kt},{type:$.ELSE,regex:/ELSE\b/iuy,text:kt},{type:$.THEN,regex:/THEN\b/iuy,text:kt},{type:$.RESERVED_JOIN,regex:gi(e.reservedJoins,e.identChars),text:kt},{type:$.AND,regex:/AND\b/iuy,text:kt},{type:$.OR,regex:/OR\b/iuy,text:kt},{type:$.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:kt},...e.operatorKeyword?[{type:$.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:$.RESERVED_FUNCTION_NAME,regex:gi(e.reservedFunctionNames,e.identChars),text:kt},{type:$.RESERVED_DATA_TYPE,regex:gi(e.reservedDataTypes,e.identChars),text:kt},{type:$.RESERVED_KEYWORD,regex:gi(e.reservedKeywords,e.identChars),text:kt}])}buildRulesAfterParams(e){var r,n;return this.validRules([{type:$.VARIABLE,regex:e.variableTypes?Zj(e.variableTypes):void 0},{type:$.STRING,regex:Gb(e.stringTypes)},{type:$.IDENTIFIER,regex:eK(e.identChars)},{type:$.DELIMITER,regex:/[;]/uy},{type:$.COMMA,regex:/[,]/y},{type:$.OPEN_PAREN,regex:Ub("open",e.extraParens)},{type:$.CLOSE_PAREN,regex:Ub("close",e.extraParens)},{type:$.OPERATOR,regex:Bb(["+","-","/",">","<","=","<>","<=",">=","!=",...(r=e.operators)!==null&&r!==void 0?r:[]])},{type:$.ASTERISK,regex:/[*]/uy},{type:$.PROPERTY_ACCESS_OPERATOR,regex:Bb([".",...(n=e.propertyAccessOperators)!==null&&n!==void 0?n:[]])}])}buildParamRules(e,r){var n,i,s,o,a;let l={named:r?.named||((n=e.paramTypes)===null||n===void 0?void 0:n.named)||[],quoted:r?.quoted||((i=e.paramTypes)===null||i===void 0?void 0:i.quoted)||[],numbered:r?.numbered||((s=e.paramTypes)===null||s===void 0?void 0:s.numbered)||[],positional:typeof r?.positional=="boolean"?r.positional:(o=e.paramTypes)===null||o===void 0?void 0:o.positional,custom:r?.custom||((a=e.paramTypes)===null||a===void 0?void 0:a.custom)||[]};return this.validRules([{type:$.NAMED_PARAMETER,regex:qS(l.named,Hb(e.paramChars||e.identChars)),key:c=>c.slice(1)},{type:$.QUOTED_PARAMETER,regex:qS(l.quoted,Fb(e.identTypes)),key:c=>(({tokenKey:u,quoteChar:d})=>u.replace(new RegExp(en("\\"+d),"gu"),d))({tokenKey:c.slice(2,-1),quoteChar:c.slice(-1)})},{type:$.NUMBERED_PARAMETER,regex:qS(l.numbered,"[0-9]+"),key:c=>c.slice(1)},{type:$.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(c=>{var u;return{type:$.CUSTOM_PARAMETER,regex:ls(c.regex),key:(u=c.key)!==null&&u!==void 0?u:(d=>d)}})])}validRules(e){return e.filter(r=>!!r.regex)}},kt=t=>Sc(t.toUpperCase())});var oK,aK,I0e,m0e,lK=Y(()=>{sK();oK=new Map,aK=t=>{let e=oK.get(t);return e||(e=I0e(t),oK.set(t,e)),e},I0e=t=>({tokenizer:new qd(t.tokenizerOptions,t.name),formatOptions:m0e(t.formatOptions)}),m0e=t=>{var e;return{alwaysDenseOperators:t.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(t.onelineClauses.map(r=>[r,!0])),tabularOnelineClauses:Object.fromEntries(((e=t.tabularOnelineClauses)!==null&&e!==void 0?e:t.onelineClauses).map(r=>[r,!0]))}}});function cK(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"?" ".repeat(10):t.useTabs?"	":" ".repeat(t.tabWidth)}function Ra(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"}var Yb=Y(()=>{});var Xd,uK=Y(()=>{Xd=class{constructor(e){this.params=e,this.index=0}get({key:e,text:r}){return this.params?e?this.params[e]:this.params[this.index++]:r}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}}});var EK=O((dK,KS)=>{(function(t,e){typeof KS=="object"&&KS.exports?KS.exports=e():t.nearley=e()})(dK,function(){function t(l,c,u){return this.id=++t.highestId,this.name=l,this.symbols=c,this.postprocess=u,this}t.highestId=0,t.prototype.toString=function(l){var c=typeof l>"u"?this.symbols.map(a).join(" "):this.symbols.slice(0,l).map(a).join(" ")+" \u25CF "+this.symbols.slice(l).map(a).join(" ");return this.name+" \u2192 "+c};function e(l,c,u,d){this.rule=l,this.dot=c,this.reference=u,this.data=[],this.wantedBy=d,this.isComplete=this.dot===l.symbols.length}e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(l){var c=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=l,c.isComplete&&(c.data=c.build(),c.right=void 0),c},e.prototype.build=function(){var l=[],c=this;do l.push(c.right.data),c=c.left;while(c.left);return l.reverse(),l},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function r(l,c){this.grammar=l,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(l){for(var c=this.states,u=this.wants,d=this.completed,f=0;f<c.length;f++){var E=c[f];if(E.isComplete){if(E.finish(),E.data!==s.fail){for(var T=E.wantedBy,h=T.length;h--;){var p=T[h];this.complete(p,E)}if(E.reference===this.index){var S=E.rule.name;(this.completed[S]=this.completed[S]||[]).push(E)}}}else{var S=E.rule.symbols[E.dot];if(typeof S!="string"){this.scannable.push(E);continue}if(u[S]){if(u[S].push(E),d.hasOwnProperty(S))for(var I=d[S],h=0;h<I.length;h++){var R=I[h];this.complete(E,R)}}else u[S]=[E],this.predict(S)}}},r.prototype.predict=function(l){for(var c=this.grammar.byName[l]||[],u=0;u<c.length;u++){var d=c[u],f=this.wants[l],E=new e(d,0,this.index,f);this.states.push(E)}},r.prototype.complete=function(l,c){var u=l.nextState(c);this.states.push(u)};function n(l,c){this.rules=l,this.start=c||this.rules[0].name;var u=this.byName={};this.rules.forEach(function(d){u.hasOwnProperty(d.name)||(u[d.name]=[]),u[d.name].push(d)})}n.fromCompiled=function(d,c){var u=d.Lexer;d.ParserStart&&(c=d.ParserStart,d=d.ParserRules);var d=d.map(function(E){return new t(E.name,E.symbols,E.postprocess)}),f=new n(d,c);return f.lexer=u,f};function i(){this.reset("")}i.prototype.reset=function(l,c){this.buffer=l,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var l=this.buffer[this.index++];return l===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:l}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(l,c){var u=this.buffer;if(typeof u=="string"){var d=u.split(`
`).slice(Math.max(0,this.line-5),this.line),f=u.indexOf(`
`,this.index);f===-1&&(f=u.length);var E=this.index-this.lastLineBreak,T=String(this.line).length;return c+=" at line "+this.line+" col "+E+`:

`,c+=d.map(function(p,S){return h(this.line-d.length+S+1,T)+" "+p},this).join(`
`),c+=`
`+h("",T+E)+`^
`,c}else return c+" at index "+(this.index-1);function h(p,S){var I=String(p);return Array(S-I.length+1).join(" ")+I}};function s(l,c,u){if(l instanceof n)var d=l,u=c;else var d=n.fromCompiled(l,c);this.grammar=d,this.options={keepHistory:!1,lexer:d.lexer||new i};for(var f in u||{})this.options[f]=u[f];this.lexer=this.options.lexer,this.lexerState=void 0;var E=new r(d,0),T=this.table=[E];E.wants[d.start]=[],E.predict(d.start),E.process(),this.current=0}s.fail={},s.prototype.feed=function(l){var c=this.lexer;c.reset(l,this.lexerState);for(var u;;){try{if(u=c.next(),!u)break}catch(w){var T=new r(this.grammar,this.current+1);this.table.push(T);var d=new Error(this.reportLexerError(w));throw d.offset=this.current,d.token=w.token,d}var f=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var E=this.current+1,T=new r(this.grammar,E);this.table.push(T);for(var h=u.text!==void 0?u.text:u.value,p=c.constructor===i?u.value:u,S=f.scannable,I=S.length;I--;){var R=S[I],A=R.rule.symbols[R.dot];if(A.test?A.test(p):A.type?A.type===u.type:A.literal===h){var N=R.nextState({data:p,token:u,isToken:!0,reference:E-1});T.states.push(N)}}if(T.process(),T.states.length===0){var d=new Error(this.reportError(u));throw d.offset=this.current,d.token=u,d}this.options.keepHistory&&(f.lexerState=c.save()),this.current++}return f&&(this.lexerState=c.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(l){var c,u,d=l.token;return d?(c="input "+JSON.stringify(d.text[0])+" (lexer error)",u=this.lexer.formatError(d,"Syntax error")):(c="input (lexer error)",u=l.message),this.reportErrorCommon(u,c)},s.prototype.reportError=function(l){var c=(l.type?l.type+" token: ":"")+JSON.stringify(l.value!==void 0?l.value:l),u=this.lexer.formatError(l,"Syntax error");return this.reportErrorCommon(u,c)},s.prototype.reportErrorCommon=function(l,c){var u=[];u.push(l);var d=this.table.length-2,f=this.table[d],E=f.states.filter(function(h){var p=h.rule.symbols[h.dot];return p&&typeof p!="string"});if(E.length===0)u.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(f.states,u);else{u.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var T=E.map(function(h){return this.buildFirstStateStack(h,[])||[h]},this);T.forEach(function(h){var p=h[0],S=p.rule.symbols[p.dot],I=this.getSymbolDisplay(S);u.push("A "+I+" based on:"),this.displayStateStack(h,u)},this)}return u.push(""),u.join(`
`)},s.prototype.displayStateStack=function(l,c){for(var u,d=0,f=0;f<l.length;f++){var E=l[f],T=E.rule.toString(E.dot);T===u?d++:(d>0&&c.push("    ^ "+d+" more lines identical to this"),d=0,c.push("    "+T)),u=T}},s.prototype.getSymbolDisplay=function(l){return o(l)},s.prototype.buildFirstStateStack=function(l,c){if(c.indexOf(l)!==-1)return null;if(l.wantedBy.length===0)return[l];var u=l.wantedBy[0],d=[l].concat(c),f=this.buildFirstStateStack(u,d);return f===null?null:[l].concat(f)},s.prototype.save=function(){var l=this.table[this.current];return l.lexerState=this.lexerState,l},s.prototype.restore=function(l){var c=l.index;this.current=c,this.table[c]=l,this.table.splice(c+1),this.lexerState=l.lexerState,this.results=this.finish()},s.prototype.rewind=function(l){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[l])},s.prototype.finish=function(){var l=[],c=this.grammar.start,u=this.table[this.table.length-1];return u.states.forEach(function(d){d.rule.name===c&&d.dot===d.rule.symbols.length&&d.reference===0&&d.data!==s.fail&&l.push(d)}),l.map(function(d){return d.data})};function o(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return"character matching "+l;if(l.type)return l.type+" token";if(l.test)return"token matching "+String(l.test);throw new Error("Unknown symbol type: "+l)}}function a(l){var c=typeof l;if(c==="string")return l;if(c==="object"){if(l.literal)return JSON.stringify(l.literal);if(l instanceof RegExp)return l.toString();if(l.type)return"%"+l.type;if(l.test)return"<"+String(l.test)+">";throw new Error("Unknown symbol type: "+l)}}return{Parser:s,Grammar:n,Rule:t}})});function fK(t){return t.map(N0e).map(g0e).map(O0e).map(C0e).map(b0e)}var N0e,g0e,O0e,C0e,b0e,y0e,Ac,hK,TK,w0e,pK=Y(()=>{An();N0e=(t,e,r)=>{if(gS(t.type)){let n=y0e(r,e);if(n&&n.type===$.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw});let i=Ac(r,e);if(i&&i.type===$.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw})}return t},g0e=(t,e,r)=>{if(t.type===$.RESERVED_FUNCTION_NAME){let n=Ac(r,e);if(!n||!hK(n))return Object.assign(Object.assign({},t),{type:$.IDENTIFIER,text:t.raw})}return t},O0e=(t,e,r)=>{if(t.type===$.RESERVED_DATA_TYPE){let n=Ac(r,e);if(n&&hK(n))return Object.assign(Object.assign({},t),{type:$.RESERVED_PARAMETERIZED_DATA_TYPE})}return t},C0e=(t,e,r)=>{if(t.type===$.IDENTIFIER){let n=Ac(r,e);if(n&&TK(n))return Object.assign(Object.assign({},t),{type:$.ARRAY_IDENTIFIER})}return t},b0e=(t,e,r)=>{if(t.type===$.RESERVED_DATA_TYPE){let n=Ac(r,e);if(n&&TK(n))return Object.assign(Object.assign({},t),{type:$.ARRAY_KEYWORD})}return t},y0e=(t,e)=>Ac(t,e,-1),Ac=(t,e,r=1)=>{let n=1;for(;t[e+n*r]&&w0e(t[e+n*r]);)n++;return t[e+n*r]},hK=t=>t.type===$.OPEN_PAREN&&t.text==="(",TK=t=>t.type===$.OPEN_PAREN&&t.text==="[",w0e=t=>t.type===$.BLOCK_COMMENT||t.type===$.LINE_COMMENT});var Aa,$b=Y(()=>{Wb();An();Aa=class{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,r){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){let{line:r,col:n}=XS(this.input,e.start);return`Parse error at token: ${e.text} at line ${r} column ${n}`}has(e){return e in $}}});var z,kb=Y(()=>{(function(t){t.statement="statement",t.clause="clause",t.set_operation="set_operation",t.function_call="function_call",t.parameterized_data_type="parameterized_data_type",t.array_subscript="array_subscript",t.property_access="property_access",t.parenthesis="parenthesis",t.between_predicate="between_predicate",t.case_expression="case_expression",t.case_when="case_when",t.case_else="case_else",t.limit_clause="limit_clause",t.all_columns_asterisk="all_columns_asterisk",t.literal="literal",t.identifier="identifier",t.keyword="keyword",t.data_type="data_type",t.parameter="parameter",t.operator="operator",t.comma="comma",t.line_comment="line_comment",t.block_comment="block_comment",t.disable_comment="disable_comment"})(z=z||(z={}))});function Vb(t){return t[0]}var le,_a,rr,SK,nr,L0e,D0e,RK,AK=Y(()=>{$b();kb();An();le=new Aa(t=>[]),_a=([[t]])=>t,rr=t=>({type:z.keyword,tokenType:t.type,text:t.text,raw:t.raw}),SK=t=>({type:z.data_type,text:t.text,raw:t.raw}),nr=(t,{leading:e,trailing:r})=>(e?.length&&(t=Object.assign(Object.assign({},t),{leadingComments:e})),r?.length&&(t=Object.assign(Object.assign({},t),{trailingComments:r})),t),L0e=(t,{leading:e,trailing:r})=>{if(e?.length){let[n,...i]=t;t=[nr(n,{leading:e}),...i]}if(r?.length){let n=t.slice(0,-1),i=t[t.length-1];t=[...n,nr(i,{trailing:r})]}return t},D0e={Lexer:le,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:t=>t[0].concat([t[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([t])=>{let e=t[t.length-1];return e&&!e.hasSemicolon?e.children.length>0?t:t.slice(0,-1):t}},{name:"statement$subexpression$1",symbols:[le.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[le.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([t,[e]])=>({type:z.statement,children:t,hasSemicolon:e.type===$.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([t,e])=>[...t,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:_a},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[le.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:Vb},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[le.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([t,e,r,n])=>{if(n){let[i,s]=n;return{type:z.limit_clause,limitKw:nr(rr(t),{trailing:e}),offset:r,count:s}}else return{type:z.limit_clause,limitKw:nr(rr(t),{trailing:e}),count:r}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([t,[e,r]])=>({type:z.clause,nameKw:rr(t),children:[e,...r]})},{name:"select_clause",symbols:[le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([t])=>({type:z.clause,nameKw:rr(t),children:[]})},{name:"all_columns_asterisk",symbols:[le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:z.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"other_clause",symbols:[le.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([t,e])=>({type:z.clause,nameKw:rr(t),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"set_operation",symbols:[le.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([t,e])=>({type:z.set_operation,nameKw:rr(t),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:Vb},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([t,e])=>nr(t,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([t,e])=>nr(e,{leading:t})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([t,e])=>nr(e,{leading:t})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:_a},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:_a},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:_a},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:_a},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:_a},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:_a},{name:"array_subscript",symbols:[le.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([t,e,r])=>({type:z.array_subscript,array:nr({type:z.identifier,quoted:!1,text:t.text},{trailing:e}),parenthesis:r})},{name:"array_subscript",symbols:[le.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([t,e,r])=>({type:z.array_subscript,array:nr(rr(t),{trailing:e}),parenthesis:r})},{name:"function_call",symbols:[le.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([t,e,r])=>({type:z.function_call,nameKw:nr(rr(t),{trailing:e}),parenthesis:r})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([t,e,r])=>({type:z.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([t,e,r])=>({type:z.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([t,e,r])=>({type:z.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",le.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([t,e,r,n,[i]])=>({type:z.property_access,object:nr(t,{trailing:e}),operator:r.text,property:nr(i,{leading:n})})},{name:"between_predicate",symbols:[le.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",le.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([t,e,r,n,i,s,o])=>({type:z.between_predicate,betweenKw:rr(t),expr1:L0e(r,{leading:e,trailing:n}),andKw:rr(i),expr2:[nr(o,{leading:s})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:Vb},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:t=>t[0].concat([t[1]])},{name:"case_expression",symbols:[le.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",le.has("END")?{type:"END"}:END],postprocess:([t,e,r,n,i])=>({type:z.case_expression,caseKw:nr(rr(t),{trailing:e}),endKw:rr(i),expr:r||[],clauses:n})},{name:"case_clause",symbols:[le.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",le.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([t,e,r,n,i,s])=>({type:z.case_when,whenKw:nr(rr(t),{trailing:e}),thenKw:nr(rr(n),{trailing:i}),condition:r,result:s})},{name:"case_clause",symbols:[le.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([t,e,r])=>({type:z.case_else,elseKw:nr(rr(t),{trailing:e}),result:r})},{name:"comma$subexpression$1",symbols:[le.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[t]])=>({type:z.comma})},{name:"asterisk$subexpression$1",symbols:[le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[t]])=>({type:z.operator,text:t.text})},{name:"operator$subexpression$1",symbols:[le.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[t]])=>({type:z.operator,text:t.text})},{name:"identifier$subexpression$1",symbols:[le.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[le.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[le.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[t]])=>({type:z.identifier,quoted:t.type!=="IDENTIFIER",text:t.text})},{name:"parameter$subexpression$1",symbols:[le.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[le.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[t]])=>({type:z.parameter,key:t.key,text:t.text})},{name:"literal$subexpression$1",symbols:[le.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[le.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[t]])=>({type:z.literal,text:t.text})},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[le.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[t]])=>rr(t)},{name:"data_type$subexpression$1",symbols:[le.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[le.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[t]])=>SK(t)},{name:"data_type",symbols:[le.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([t,e,r])=>({type:z.parameterized_data_type,dataType:nr(SK(t),{trailing:e}),parenthesis:r})},{name:"logic_operator$subexpression$1",symbols:[le.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[le.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[le.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[t]])=>rr(t)},{name:"other_keyword$subexpression$1",symbols:[le.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[le.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[le.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[le.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[t]])=>rr(t)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:t=>t[0].concat([t[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([t])=>t},{name:"comment",symbols:[le.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([t])=>({type:z.line_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[le.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([t])=>({type:z.block_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[le.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([t])=>({type:z.disable_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})}],ParserStart:"main"},RK=D0e});function IK(t){let e={},r=new Aa(i=>[...fK(t.tokenize(i,e)),KC(i.length)]),n=new P0e(x0e.fromCompiled(RK),{lexer:r});return{parse:(i,s)=>{e=s;let{results:o}=n.feed(i);if(o.length===1)return o[0];throw o.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(o,void 0,2)}`)}}}var _K,P0e,x0e,mK=Y(()=>{_K=j(EK(),1);pK();AK();$b();An();({Parser:P0e,Grammar:x0e}=_K.default)});var W,Ia,M0e,v0e,zS=Y(()=>{Rc();(function(t){t[t.SPACE=0]="SPACE",t[t.NO_SPACE=1]="NO_SPACE",t[t.NO_NEWLINE=2]="NO_NEWLINE",t[t.NEWLINE=3]="NEWLINE",t[t.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",t[t.INDENT=5]="INDENT",t[t.SINGLE_INDENT=6]="SINGLE_INDENT"})(W=W||(W={}));Ia=class{constructor(e){this.indentation=e,this.items=[]}add(...e){for(let r of e)switch(r){case W.SPACE:this.items.push(W.SPACE);break;case W.NO_SPACE:this.trimHorizontalWhitespace();break;case W.NO_NEWLINE:this.trimWhitespace();break;case W.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(W.NEWLINE);break;case W.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(W.MANDATORY_NEWLINE);break;case W.INDENT:this.addIndentation();break;case W.SINGLE_INDENT:this.items.push(W.SINGLE_INDENT);break;default:this.items.push(r)}}trimHorizontalWhitespace(){for(;M0e(Qs(this.items));)this.items.pop()}trimWhitespace(){for(;v0e(Qs(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(Qs(this.items)){case W.NEWLINE:this.items.pop(),this.items.push(e);break;case W.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(W.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case W.SPACE:return" ";case W.NEWLINE:case W.MANDATORY_NEWLINE:return`
`;case W.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}},M0e=t=>t===W.SPACE||t===W.SINGLE_INDENT,v0e=t=>t===W.SPACE||t===W.SINGLE_INDENT||t===W.NEWLINE});function JS(t,e){if(e==="standard")return t;let r=[];return t.length>=10&&t.includes(" ")&&([t,...r]=t.split(" ")),e==="tabularLeft"?t=t.padEnd(9," "):t=t.padStart(9," "),t+["",...r].join(" ")}function qb(t){return G6(t)||t===$.RESERVED_CLAUSE||t===$.RESERVED_SELECT||t===$.RESERVED_SET_OPERATION||t===$.RESERVED_JOIN||t===$.LIMIT}var NK=Y(()=>{An()});var Xb,U0e,ma,jb=Y(()=>{Rc();Xb="top-level",U0e="block-level",ma=class{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(Xb)}increaseBlockLevel(){this.indentTypes.push(U0e)}decreaseTopLevel(){this.indentTypes.length>0&&Qs(this.indentTypes)===Xb&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===Xb;);}}});var jd,_c,gK=Y(()=>{jb();zS();jd=class extends Ia{constructor(e){super(new ma("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(r=>this.addToLength(r)),this.length>this.expressionWidth)throw new _c;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===W.MANDATORY_NEWLINE||e===W.NEWLINE)throw new _c;e===W.INDENT||e===W.SINGLE_INDENT||e===W.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===W.NO_NEWLINE||e===W.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}},_c=class extends Error{}});var Kd,OK=Y(()=>{Rc();Yb();An();kb();zS();NK();gK();Kd=class t{constructor({cfg:e,dialectCfg:r,params:n,layout:i,inline:s=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=r,this.inline=s,this.params=n,this.layout=i}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case z.function_call:return this.formatFunctionCall(e);case z.parameterized_data_type:return this.formatParameterizedDataType(e);case z.array_subscript:return this.formatArraySubscript(e);case z.property_access:return this.formatPropertyAccess(e);case z.parenthesis:return this.formatParenthesis(e);case z.between_predicate:return this.formatBetweenPredicate(e);case z.case_expression:return this.formatCaseExpression(e);case z.case_when:return this.formatCaseWhen(e);case z.case_else:return this.formatCaseElse(e);case z.clause:return this.formatClause(e);case z.set_operation:return this.formatSetOperation(e);case z.limit_clause:return this.formatLimitClause(e);case z.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case z.literal:return this.formatLiteral(e);case z.identifier:return this.formatIdentifier(e);case z.parameter:return this.formatParameter(e);case z.operator:return this.formatOperator(e);case z.comma:return this.formatComma(e);case z.line_comment:return this.formatLineComment(e);case z.block_comment:return this.formatBlockComment(e);case z.disable_comment:return this.formatBlockComment(e);case z.data_type:return this.formatDataType(e);case z.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let r;switch(e.array.type){case z.data_type:r=this.showDataType(e.array);break;case z.keyword:r=this.showKw(e.array);break;default:r=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(r)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(W.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){let r=this.formatInlineExpression(e.children);r?(this.layout.add(e.openParen),this.layout.add(...r.getLayoutItems()),this.layout.add(W.NO_SPACE,e.closeParen,W.SPACE)):(this.layout.add(e.openParen,W.NEWLINE),Ra(this.cfg)?(this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(W.NEWLINE,W.INDENT,e.closeParen,W.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),W.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(W.NO_SPACE,W.SPACE,this.showNonTabularKw(e.andKw),W.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(W.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(W.NEWLINE,W.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(W.NEWLINE,W.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(W.NEWLINE,W.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):Ra(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return Ra(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.nameKw),W.NEWLINE),this.layout.add(W.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),Ra(this.cfg)?this.layout.add(W.SPACE):this.layout.add(W.NEWLINE,W.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(W.NO_SPACE,",",W.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",W.SPACE)}formatLiteral(e){this.layout.add(e.text,W.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),W.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),W.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(W.NO_SPACE,e):e===":"?this.layout.add(W.NO_SPACE,e,W.SPACE):this.layout.add(e,W.SPACE)}formatComma(e){this.inline?this.layout.add(W.NO_SPACE,",",W.SPACE):this.layout.add(W.NO_SPACE,",",W.NEWLINE,W.INDENT)}withComments(e,r){this.formatComments(e.leadingComments),r(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(r=>{r.type===z.line_comment?this.formatLineComment(r):this.formatBlockComment(r)})}formatLineComment(e){kS(e.precedingWhitespace||"")?this.layout.add(W.NEWLINE,W.INDENT,e.text,W.MANDATORY_NEWLINE,W.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(W.NO_NEWLINE,W.SPACE,e.text,W.MANDATORY_NEWLINE,W.INDENT):this.layout.add(e.text,W.MANDATORY_NEWLINE,W.INDENT)}formatBlockComment(e){e.type===z.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(r=>{this.layout.add(W.NEWLINE,W.INDENT,r)}),this.layout.add(W.NEWLINE,W.INDENT)):this.layout.add(e.text,W.SPACE)}isMultilineBlockComment(e){return kS(e.text)||kS(e.precedingWhitespace||"")}isDocComment(e){let r=e.split(/\n/);return/^\/\*\*?$/.test(r[0])&&r.slice(1,r.length-1).every(n=>/^\s*\*/.test(n))&&/^\s*\*\/$/.test(Qs(r))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(r=>/^\s*\*/.test(r)?" "+r.replace(/^\s*/,""):r):e.split(/\n/).map(r=>r.replace(/^\s*/,""))}formatSubExpression(e){return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){let r=this.params.getPositionalParameterIndex();try{return new t({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new jd(this.cfg.expressionWidth),inline:!0}).format(e)}catch(n){if(n instanceof _c){this.params.setPositionalParameterIndex(r);return}else throw n}}formatKeywordNode(e){switch(e.tokenType){case $.RESERVED_JOIN:return this.formatJoin(e);case $.AND:case $.OR:case $.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){Ra(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),W.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?Ra(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(W.NEWLINE,W.INDENT,this.showKw(e),W.SPACE):this.layout.add(this.showKw(e),W.NEWLINE,W.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),W.SPACE)}showKw(e){return qb(e.tokenType)?JS(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return Sc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return qb(e.tokenType)?JS(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return Sc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return Sc(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}}});var zd,CK=Y(()=>{Yb();uK();mK();OK();zS();jb();zd=class{constructor(e,r){this.dialect=e,this.cfg=r,this.params=new Xd(this.cfg.params)}format(e){let r=this.parse(e);return this.formatAst(r).trimEnd()}parse(e){return IK(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(r=>this.formatStatement(r)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){let r=new Kd({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new Ia(new ma(cK(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?r.add(W.NEWLINE,";"):r.add(W.NO_NEWLINE,";")),r.toString()}}});function bK(t){let e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(let r of e)if(r in t)throw new cs(`${r} config is no more supported.`);if(t.expressionWidth<=0)throw new cs(`expressionWidth config must be positive number. Received ${t.expressionWidth} instead.`);if(t.params&&!B0e(t.params)&&console.warn('WARNING: All "params" option values should be strings.'),t.paramTypes&&!F0e(t.paramTypes))throw new cs("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return t}function B0e(t){return(t instanceof Array?t:Object.values(t)).every(r=>typeof r=="string")}function F0e(t){return t.custom&&Array.isArray(t.custom)?t.custom.every(e=>e.regex!==""):!0}var cs,Kb=Y(()=>{cs=class extends Error{}});var G0e,yK,zb,H0e,wK,Jb,LK=Y(()=>{Xj();lK();CK();Kb();G0e=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},yK={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},zb=Object.keys(yK),H0e={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},wK=(t,e={})=>{if(typeof e.language=="string"&&!zb.includes(e.language))throw new cs(`Unsupported SQL dialect: ${e.language}`);let r=yK[e.language||"sql"];return Jb(t,Object.assign(Object.assign({},e),{dialect:xb[r]}))},Jb=(t,e)=>{var{dialect:r}=e,n=G0e(e,["dialect"]);if(typeof t!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof t);let i=bK(Object.assign(Object.assign({},H0e),n));return new zd(aK(r),i).format(t)}});var DK={};Pt(DK,{ConfigError:()=>cs,bigquery:()=>OS,db2:()=>CS,db2i:()=>bS,duckdb:()=>yS,expandPhrases:()=>x,format:()=>wK,formatDialect:()=>Jb,hive:()=>wS,mariadb:()=>LS,mysql:()=>DS,n1ql:()=>xS,plsql:()=>MS,postgresql:()=>vS,redshift:()=>US,singlestoredb:()=>YS,snowflake:()=>$S,spark:()=>BS,sql:()=>GS,sqlite:()=>FS,supportedDialects:()=>zb,tidb:()=>PS,transactsql:()=>WS,trino:()=>HS});var PK=Y(()=>{LK();Lt();Kb();JC();ZC();tb();nb();sb();ab();cb();db();Eb();hb();pb();Rb();_b();mb();gb();Cb();yb();Lb();Pb()});var BK={};Pt(BK,{ExplainPlanView:()=>Qb,parseExplainOutput:()=>W0e});function W0e(t){let e=t.split(`
`).filter(d=>d.trim()),r=t.includes("QUERY VERBOSE PLAN:")||t.includes("Node 1."),n=e.map(d=>d.replace(/^NOTICE:\s*/i,"").trim()).filter(d=>d&&!d.startsWith("QUERY PLAN")&&!d.startsWith("QUERY VERBOSE")),i=[],s=[],o=0,a=0,l=n.findIndex(d=>d.includes("PLANTEXT:")),c=l>=0?n.slice(l+1).filter(d=>!d.startsWith("(")&&!d.includes("locus=")):n,u=[];for(let d of c){if(!d.trim()||d.startsWith("(xpath_")||d.includes("locus="))continue;let f=d.match(/^(\s*)/)?.[1]?.length||0,E=Math.floor(f/3),T=d.match(/^[\s]*(?:[lr]:\s*)?([\w\s-]+?)(?:\s+table\s+"(\w+)")?(?:\s+{[^}]*})?\s*\(cost=([\d.]+)\.\.([\d.]+)\s+rows=(\d+)\s+width=(\d+)\s+conf=([\d.]+)\)/i);if(T){let[,h,p,S,I,R,A,N]=T,w=h.trim(),m={id:++o,type:w,table:p,cost:{start:parseFloat(S),end:parseFloat(I)},rows:parseInt(R),width:parseInt(A),confidence:parseFloat(N),indent:E,children:[],raw:d.trim(),warnings:[]};for(Y0e(m),s.push(...m.warnings),m.cost.end>a&&(a=m.cost.end);u.length>0&&u[u.length-1].indent>=E;)u.pop();u.length>0?u[u.length-1].children.push(m):i.push(m),u.push(m)}}return{nodes:i,rawText:t,isVerbose:r,totalCost:a,warnings:s}}function Y0e(t){t.type.includes("Sequential Scan")&&t.rows>5e5&&t.warnings.push({type:"warning",message:`Sequential Scan on ${t.table||"table"} (${t.rows.toLocaleString()} rows) - consider adding an index`,icon:"\u26A0\uFE0F"}),t.type.includes("Nested Loop")&&t.rows>1e5&&t.warnings.push({type:"critical",message:`Nested Loop producing ${t.rows.toLocaleString()} rows - potential performance issue`,icon:"\u{1F534}"}),t.cost.end>1e10?t.warnings.push({type:"critical",message:`Very high estimated cost: ${t.cost.end.toExponential(2)}`,icon:"\u{1F534}"}):t.cost.end>1e7&&t.warnings.push({type:"warning",message:`High estimated cost: ${t.cost.end.toLocaleString()}`,icon:"\u26A0\uFE0F"}),t.confidence===0&&t.warnings.push({type:"info",message:"Low confidence estimate (conf=0) - statistics may be outdated",icon:"\u2139\uFE0F"})}function $0e(t){return t.includes("Sequential Scan")?"#e74c3c":t.includes("Index Scan")?"#27ae60":t.includes("Nested Loop")?"#e67e22":t.includes("Hash Join")?"#3498db":t.includes("Merge Join")?"#9b59b6":t.includes("Aggregate")?"#1abc9c":t.includes("Group")?"#16a085":t.includes("Sort")?"#f39c12":t.includes("Limit")?"#95a5a6":t.includes("Sub-query")?"#34495e":"#7f8c8d"}function vK(t,e=0){return t.map(r=>{let n=r.children.length>0,i=$0e(r.type),s=r.warnings.map(o=>`<span class="warning-badge warning-${o.type}" title="${o.message}">${o.icon}</span>`).join("");return`
        <div class="plan-node" style="--node-color: ${i}">
            <div class="node-header">
                ${n?'<span class="toggle-btn">\u25BC</span>':'<span class="toggle-spacer"></span>'}
                <span class="node-type" style="background-color: ${i}">${r.type}</span>
                ${r.table?`<span class="node-table">${r.table}${r.alias?` (${r.alias})`:""}</span>`:""}
                ${s}
            </div>
            <div class="node-metrics">
                <span class="metric"><b>Cost:</b> ${xK(r.cost.start)}..${xK(r.cost.end)}</span>
                <span class="metric"><b>Rows:</b> ${r.rows.toLocaleString()}</span>
                <span class="metric"><b>Width:</b> ${r.width}</span>
                <span class="metric ${r.confidence===0?"low-conf":""}"><b>Conf:</b> ${r.confidence}%</span>
            </div>
            ${n?`<div class="node-children">${vK(r.children,e+1)}</div>`:""}
        </div>`}).join("")}function xK(t){return t>1e6?t.toExponential(1):t.toLocaleString(void 0,{maximumFractionDigits:1})}function UK(t){return t.reduce((e,r)=>e+1+UK(r.children),0)}function MK(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function k0e(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var _n,Qb,FK=Y(()=>{"use strict";_n=j(require("vscode"));Qb=class t{constructor(e,r,n,i){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n,i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(s=>{switch(s.command){case"copyPlan":_n.env.clipboard.writeText(n.rawText),_n.window.showInformationMessage("Plan copied to clipboard");return}},null,this._disposables)}static{this.viewType="netezza.explainPlan"}static createOrShow(e,r,n){let i=_n.window.activeTextEditor?_n.ViewColumn.Beside:void 0,s=_n.window.createWebviewPanel(t.viewType,"Query Execution Plan",i||_n.ViewColumn.One,{enableScripts:!0,localResourceRoots:[_n.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(s,e,r,n)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e,r){this._panel.title="Query Execution Plan",this._panel.webview.html=this._getHtmlForWebview(e,r)}_getHtmlForWebview(e,r){let n=this._panel.webview.asWebviewUri(_n.Uri.joinPath(this._extensionUri,"media","explainPlan.css")),i=k0e(),s=MK(r);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${this._panel.webview.cspSource} 'unsafe-inline'; script-src 'nonce-${i}';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="${n}" rel="stylesheet">
    <title>Query Execution Plan</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>Query Execution Plan</h2>
            <div class="header-actions">
                <button id="copyBtn" class="btn">\u{1F4CB} Copy Plan</button>
                <button id="expandAllBtn" class="btn">\u2795 Expand All</button>
                <button id="collapseAllBtn" class="btn">\u2796 Collapse All</button>
            </div>
        </div>

        ${e.warnings.length>0?`
        <div class="warnings-summary">
            <h3>\u26A0\uFE0F Performance Issues Detected (${e.warnings.length})</h3>
            <ul>
                ${e.warnings.map(o=>`<li class="warning-${o.type}">${o.icon} ${o.message}</li>`).join("")}
            </ul>
        </div>
        `:`
        <div class="no-warnings">
            <span>\u2705 No obvious performance issues detected</span>
        </div>
        `}

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-label">Total Cost:</span>
                <span class="stat-value">${e.totalCost>1e6?e.totalCost.toExponential(2):e.totalCost.toLocaleString()}</span>
            </div>
            <div class="stat">
                <span class="stat-label">Nodes:</span>
                <span class="stat-value">${UK(e.nodes)}</span>
            </div>
        </div>

        <div class="query-section">
            <h3>Query</h3>
            <pre class="query-text">${s}</pre>
        </div>

        <div class="plan-section">
            <h3>Execution Plan</h3>
            <div id="planTree" class="plan-tree">
                ${vK(e.nodes)}
            </div>
        </div>

        <div class="raw-section">
            <details>
                <summary>Raw Plan Output</summary>
                <pre class="raw-plan">${MK(e.rawText)}</pre>
            </details>
        </div>
    </div>

    <script nonce="${i}">
        const vscode = acquireVsCodeApi();
        
        document.getElementById('copyBtn').addEventListener('click', () => {
            vscode.postMessage({ command: 'copyPlan' });
        });

        document.getElementById('expandAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'block');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25BC');
        });

        document.getElementById('collapseAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.node-children').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.toggle-btn').forEach(el => el.textContent = '\u25B6');
        });

        document.querySelectorAll('.toggle-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const node = e.target.closest('.plan-node');
                const children = node.querySelector('.node-children');
                if (children) {
                    const isHidden = children.style.display === 'none';
                    children.style.display = isHidden ? 'block' : 'none';
                    e.target.textContent = isHidden ? '\u25BC' : '\u25B6';
                }
            });
        });
    </script>
</body>
</html>`}}});var K0e={};Pt(K0e,{activate:()=>X0e,deactivate:()=>j0e});module.exports=mE(K0e);var X=j(require("vscode"));Ar();gR();var kr=j(require("vscode")),xE=class t{constructor(e,r,n){this.extensionUri=r;this.connectionManager=n;this._disposables=[];this._panel=e,this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.html=this._getHtmlForWebview(this._panel.webview),this._panel.webview.onDidReceiveMessage(async i=>{switch(i.command){case"save":try{await this.connectionManager.saveConnection(i.data),kr.window.showInformationMessage(`Connection '${i.data.name}' saved and activated!`),this.sendConnectionsToWebview()}catch(s){let o=s instanceof Error?s.message:String(s);kr.window.showErrorMessage(`Error saving: ${o}`)}return;case"delete":try{await kr.window.showWarningMessage(`Are you sure you want to delete '${i.name}'?`,{modal:!0},"Yes","No")==="Yes"&&(await this.connectionManager.deleteConnection(i.name),kr.window.showInformationMessage(`Connection '${i.name}' deleted.`),this.sendConnectionsToWebview())}catch(s){let o=s instanceof Error?s.message:String(s);kr.window.showErrorMessage(`Error deleting: ${o}`)}return;case"loadConnections":this.sendConnectionsToWebview();return}},null,this._disposables)}async sendConnectionsToWebview(){let e=await this.connectionManager.getConnections(),r=this.connectionManager.getActiveConnectionName();await this._panel.webview.postMessage({command:"updateConnections",connections:e,activeName:r})}static createOrShow(e,r){let n=kr.window.activeTextEditor?kr.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n);return}let i=kr.window.createWebviewPanel("netezzaLogin","Connect to Netezza",n||kr.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0});t.currentPanel=new t(i,e,r)}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getHtmlForWebview(e){let r=e.asWebviewUri(kr.Uri.joinPath(this.extensionUri,"netezza_icon64.png"));return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Connect to Netezza</title>
            <style>
                :root {
                    --container-paddding: 20px;
                    --input-padding-vertical: 6px;
                    --input-padding-horizontal: 8px;
                    --input-margin-vertical: 4px;
                    --input-margin-horizontal: 0;
                }
                body {
                    font-family: var(--vscode-font-family);
                    padding: 0;
                    margin: 0;
                    color: var(--vscode-foreground);
                    background-color: var(--vscode-editor-background);
                    display: flex;
                    height: 100vh;
                    overflow: hidden;
                }
                
                /* Sidebar */
                .sidebar {
                    width: 260px;
                    background-color: var(--vscode-sideBar-background);
                    border-right: 1px solid var(--vscode-panel-border);
                    display: flex;
                    flex-direction: column;
                    flex-shrink: 0;
                    user-select: none;
                }
                .sidebar-header {
                    padding: 10px 15px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    background-color: var(--vscode-sideBarSectionHeader-background);
                }
                .sidebar-title {
                    font-weight: bold;
                    font-size: 11px;
                    text-transform: uppercase;
                    color: var(--vscode-sideBarTitle-foreground);
                }
                .connection-list {
                    flex: 1;
                    overflow-y: auto;
                    padding: 0;
                }
                .connection-item {
                    padding: 8px 15px;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    border-left: 3px solid transparent;
                    color: var(--vscode-sideBar-foreground);
                }
                .connection-item:hover {
                    background-color: var(--vscode-list-hoverBackground);
                }
                .connection-item.active {
                    background-color: var(--vscode-list-activeSelectionBackground);
                    color: var(--vscode-list-activeSelectionForeground);
                    border-left-color: var(--vscode-focusBorder);
                }
                .connection-item .name {
                    flex: 1;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                .connection-item .status {
                    font-size: 0.8em;
                    margin-left: 5px;
                    opacity: 0.7;
                }

                /* Main Content */
                .main {
                    flex: 1;
                    padding: 40px;
                    overflow-y: auto;
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                }
                .form-container {
                    width: 100%;
                    max-width: 500px;
                    background-color: var(--vscode-editorWidget-background);
                    border: 1px solid var(--vscode-widget-border);
                    padding: 30px;
                    border-radius: 4px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
                
                h2 {
                    margin-top: 0;
                    margin-bottom: 25px;
                    font-size: 1.4em;
                    font-weight: 500;
                    padding-bottom: 10px;
                    border-bottom: 1px solid var(--vscode-panel-border);
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .form-group {
                    margin-bottom: 18px;
                }
                .form-row {
                    display: flex;
                    gap: 15px;
                }
                .form-col {
                    flex: 1;
                }

                label {
                    display: block;
                    margin-bottom: 6px;
                    font-weight: 600;
                    font-size: 12px;
                    color: var(--vscode-input-placeholderForeground);
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }

                input, select {
                    width: 100%;
                    padding: 8px 10px;
                    box-sizing: border-box;
                    background: var(--vscode-input-background);
                    color: var(--vscode-input-foreground);
                    border: 1px solid var(--vscode-input-border);
                    border-radius: 2px;
                    font-family: inherit;
                    font-size: 13px;
                }
                input:focus, select:focus {
                    border-color: var(--vscode-focusBorder);
                    outline: 1px solid var(--vscode-focusBorder);
                }
                
                /* Buttons */
                .actions {
                    margin-top: 30px;
                    display: flex;
                    gap: 12px;
                    padding-top: 20px;
                    border-top: 1px solid var(--vscode-panel-border);
                }
                button {
                    background: var(--vscode-button-background);
                    color: var(--vscode-button-foreground);
                    padding: 8px 16px;
                    border: none;
                    cursor: pointer;
                    border-radius: 2px;
                    font-size: 13px;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                button:hover {
                    background: var(--vscode-button-hoverBackground);
                }
                button.secondary {
                    background: var(--vscode-button-secondaryBackground);
                    color: var(--vscode-button-secondaryForeground);
                }
                button.secondary:hover {
                    background: var(--vscode-button-secondaryHoverBackground);
                }
                button.danger {
                    background: var(--vscode-errorForeground);
                    color: white;
                }
                button.icon-btn {
                    padding: 4px;
                    background: transparent;
                    color: var(--vscode-icon-foreground);
                }
                button.icon-btn:hover {
                    background: var(--vscode-toolbar-hoverBackground);
                }

                .icon-img {
                    width: 16px;
                    height: 16px;
                    object-fit: contain;
                }
                .logo-header {
                    width: 32px;
                    height: 32px;
                    margin-right: 10px;
                }

            </style>
        </head>
        <body>
            <div class="sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-title">Saved Connections</span>
                    <button class="icon-btn" id="btnNew" title="New Connection">
                        <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14 7v1H8v6H7V8H1V7h6V1h1v6h6z"/></svg>
                    </button>
                </div>
                <div id="connectionList" class="connection-list"></div>
            </div>
            
            <div class="main">
                <div class="form-container">
                    <h2 id="formTitle">
                        <img src="${r}" class="logo-header" />
                        New Connection
                    </h2>
                    
                    <div class="form-group">
                        <label for="name">Connection Name</label>
                        <input type="text" id="name" placeholder="Friendly name (e.g. Production)">
                    </div>

                    <div class="form-group">
                        <label for="dbType">
                            Database Type 
                            <img src="${r}" class="icon-img" />
                        </label>
                        <select id="dbType">
                            <option value="NetezzaSQL">NetezzaSQL</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="host">Host</label>
                                <input type="text" id="host" placeholder="Hostname or IP">
                            </div>
                        </div>
                        <div class="form-col" style="flex: 0 0 80px;">
                            <div class="form-group">
                                <label for="port">Port</label>
                                <input type="number" id="port" value="5480">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="database">
                            Database
                        </label>
                        <input type="text" id="database" placeholder="Database name" value="system">
                    </div>

                    <div class="form-row">
                         <div class="form-col">
                            <div class="form-group">
                                <label for="user">User</label>
                                <input type="text" id="user" placeholder="Username">
                            </div>
                         </div>
                         <div class="form-col">
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" id="password" placeholder="Password">
                            </div>
                         </div>
                    </div>
                    
                    <div class="actions">
                        <button id="btnSave" onclick="save()">Save & Connect</button>
                        <button id="btnDelete" class="danger" onclick="del()" style="display: none;">Delete</button>
                    </div>
                </div>
            </div>

            <script>
                const vscode = acquireVsCodeApi();
                let connections = [];
                let activeName = null;
                let currentEditName = null;
                const iconSrc = "${r}";

                // Load initial data
                window.addEventListener('message', event => {
                    const message = event.data;
                    switch (message.command) {
                        case 'updateConnections':
                            connections = message.connections;
                            activeName = message.activeName;
                            renderList();
                            break;
                    }
                });
                
                vscode.postMessage({ command: 'loadConnections' });

                document.getElementById('btnNew').addEventListener('click', () => {
                    clearForm();
                });

                function renderList() {
                    const list = document.getElementById('connectionList');
                    list.innerHTML = '';
                    
                    connections.forEach(conn => {
                        const div = document.createElement('div');
                        div.className = 'connection-item';
                        if (conn.name === currentEditName) {
                             div.classList.add('active');
                        }
                        
                        div.innerHTML = \`<span class="name"><img src="\${iconSrc}" class="icon-img"> \${conn.name}</span>\`;
                        if (conn.name === activeName) {
                            div.innerHTML += \`<span class="status">\u25CF</span>\`;
                            div.title = 'Active Connection';
                        }
                        
                        div.onclick = () => loadForm(conn);
                        list.appendChild(div);
                    });
                }

                function loadForm(conn) {
                    currentEditName = conn.name;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> Edit Connection\`;
                    document.getElementById('name').value = conn.name;
                    document.getElementById('dbType').value = conn.dbType || 'NetezzaSQL';
                    document.getElementById('host').value = conn.host;
                    document.getElementById('port').value = conn.port;
                    document.getElementById('database').value = conn.database;
                    document.getElementById('user').value = conn.user;
                    document.getElementById('password').value = conn.password || ''; 
                    
                    document.getElementById('btnDelete').style.display = 'block';
                    renderList();
                }

                function clearForm() {
                    currentEditName = null;
                    document.getElementById('formTitle').innerHTML = \`<img src="\${iconSrc}" class="logo-header" /> New Connection\`;
                    document.getElementById('name').value = '';
                    document.getElementById('dbType').value = 'NetezzaSQL';
                    document.getElementById('host').value = '';
                    document.getElementById('port').value = '5480';
                    document.getElementById('database').value = 'system';
                    document.getElementById('user').value = '';
                    document.getElementById('password').value = '';
                    
                    document.getElementById('btnDelete').style.display = 'none';
                    renderList();
                }

                function save() {
                    const name = document.getElementById('name').value;
                    if (!name) {
                        return; // Add validation UI?
                    }
                    
                    const data = {
                        name: name,
                        dbType: document.getElementById('dbType').value,
                        host: document.getElementById('host').value,
                        port: parseInt(document.getElementById('port').value),
                        database: document.getElementById('database').value,
                        user: document.getElementById('user').value,
                        password: document.getElementById('password').value
                    };
                    
                    vscode.postMessage({
                        command: 'save',
                        data: data
                    });
                }

                function del() {
                    if (currentEditName) {
                        vscode.postMessage({
                            command: 'delete',
                            name: currentEditName
                        });
                    }
                }
            </script>
        </body>
        </html>`}};var he=j(require("vscode"));Ar();function D4(t,e,r){return`SELECT description FROM ${t}.._v_object_data WHERE objtype='TABLE' AND objname='${r}' AND schema='${e}'`}function wR(t,e,r){return`
        SELECT 
            X.ATTNAME
            , X.FORMAT_TYPE
            , CASE WHEN X.ATTNOTNULL THEN 1 ELSE 0 END AS IS_NOT_NULL
            , X.COLDEFAULT
            , COALESCE(X.DESCRIPTION, '') AS DESCRIPTION
            , MAX(CASE WHEN K.CONTYPE = 'p' THEN 1 ELSE 0 END) AS IS_PK
            , MAX(CASE WHEN K.CONTYPE = 'f' THEN 1 ELSE 0 END) AS IS_FK
        FROM
            ${t}.._V_RELATION_COLUMN X
        INNER JOIN
            ${t}.._V_OBJECT_DATA O ON X.OBJID = O.OBJID
        LEFT JOIN
            ${t}.._V_RELATION_KEYDATA K 
            ON UPPER(K.RELATION) = UPPER(O.OBJNAME) 
            AND UPPER(K.SCHEMA) = UPPER(O.SCHEMA)
            AND UPPER(K.ATTNAME) = UPPER(X.ATTNAME)
            AND K.CONTYPE IN ('p', 'f')
        WHERE
            UPPER(O.OBJNAME) = UPPER('${r}')
            AND UPPER(O.DBNAME) = UPPER('${t}')
            AND UPPER(O.SCHEMA) = UPPER('${e}')
        GROUP BY 
            X.ATTNAME, X.FORMAT_TYPE, X.ATTNOTNULL, X.COLDEFAULT, X.DESCRIPTION, X.ATTNUM
        ORDER BY 
            X.ATTNUM
    `}function P4(t){let e=!1,r=t.IS_NOT_NULL;return typeof r=="boolean"?e=r:typeof r=="number"?e=r===1:typeof r=="string"&&(e=r==="1"||r.toLowerCase()==="true"||r.toLowerCase()==="t"),{attname:t.ATTNAME,formatType:t.FORMAT_TYPE,isNotNull:e,colDefault:t.COLDEFAULT||null,description:t.DESCRIPTION||"",isPk:Number(t.IS_PK)===1,isFk:Number(t.IS_FK)===1}}function x4(t){if(!t)return null;try{let e=JSON.parse(t);if(e.length>0&&e[0].DESCRIPTION)return e[0].DESCRIPTION}catch{}return null}function LR(t){if(!t)return[];try{return JSON.parse(t).map(P4)}catch(e){return console.error("[TableMetadataProvider] Error parsing column metadata:",e),[]}}async function x0(t,e,r,n){let i=D4(e,r,n),s=wR(e,r,n),[o,a]=await Promise.all([t(i),t(s)]);return{tableComment:x4(o),columns:LR(a)}}function M0(t){return t.map(e=>({ATTNAME:e.attname,FORMAT_TYPE:e.formatType,IS_NOT_NULL:e.isNotNull?1:0,COLDEFAULT:e.colDefault,DESCRIPTION:e.description,IS_PK:e.isPk?1:0,IS_FK:e.isFk?1:0}))}var ME=class{constructor(e,r,n){this.context=e;this.connectionManager=r;this.metadataCache=n;this._onDidChangeTreeData=new he.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.connectionManager.onDidChangeConnections(()=>this.refresh())}refresh(){this._onDidChangeTreeData.fire()}triggerDatabasePrefetch(e,r){this.metadataCache.hasConnectionPrefetchTriggered(e)||(console.log(`[SchemaProvider] Triggering connection prefetch for: ${e}`),this.metadataCache.triggerConnectionPrefetch(e,async n=>{try{return await K(this.context,n,!0,e,this.connectionManager)}catch(i){console.error("[SchemaProvider] Prefetch query error:",i);return}}))}getTreeItem(e){return e}getParent(e){if(e.contextValue!=="serverInstance"){if(e.contextValue==="database")return new Kt(e.connectionName,he.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,e.connectionName,void 0);if(e.contextValue.startsWith("typeGroup"))return new Kt(e.dbName,he.TreeItemCollapsibleState.Collapsed,"database",e.dbName,void 0,void 0,void 0,void 0,e.connectionName);if(e.contextValue.startsWith("netezza:"))return new Kt(e.objType,he.TreeItemCollapsibleState.Collapsed,`typeGroup:${e.objType}`,e.dbName,e.objType,void 0,void 0,void 0,e.connectionName)}}async getChildren(e){if(e){if(e.contextValue==="serverInstance"){if(!e.connectionName)return[];let r=this.metadataCache.getDatabases(e.connectionName);if(r)return r.map(n=>new Kt(n.label||n.DATABASE,he.TreeItemCollapsibleState.Collapsed,"database",n.label||n.DATABASE,void 0,void 0,void 0,void 0,e.connectionName));try{let n=await K(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e.connectionName,this.connectionManager);if(!n)return[];let i=JSON.parse(n),s=i.map(o=>({DATABASE:o.DATABASE,label:o.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e.connectionName,s),i.map(o=>new Kt(o.DATABASE,he.TreeItemCollapsibleState.Collapsed,"database",o.DATABASE,void 0,void 0,void 0,void 0,e.connectionName))}catch(n){let i=n instanceof Error?n.message:String(n);return he.window.showErrorMessage(`Failed to load databases for ${e.connectionName}: ${i}`),[]}}else if(e.contextValue==="database"){if(e.connectionName&&e.dbName&&this.triggerDatabasePrefetch(e.connectionName,e.dbName),e.connectionName&&e.dbName){let r=this.metadataCache.getTypeGroups(e.connectionName,e.dbName);if(r&&r.length>0)return r.map(n=>new Kt(n,he.TreeItemCollapsibleState.Collapsed,`typeGroup:${n}`,e.dbName,n,void 0,void 0,void 0,e.connectionName))}try{let r=`SELECT DISTINCT OBJTYPE FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' ORDER BY OBJTYPE`,n=await K(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName){let s=i.map(o=>o.OBJTYPE);this.metadataCache.setTypeGroups(e.connectionName,e.dbName,s)}return i.map(s=>new Kt(s.OBJTYPE,he.TreeItemCollapsibleState.Collapsed,`typeGroup:${s.OBJTYPE}`,e.dbName,s.OBJTYPE,void 0,void 0,void 0,e.connectionName))}catch(r){let n=r instanceof Error?r.message:String(r);return he.window.showErrorMessage("Failed to load object types: "+n),[]}}else if(e.contextValue.startsWith("typeGroup")){if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW"||e.objType==="EXTERNAL TABLE")){let r=this.metadataCache.getObjectsWithSchema(e.connectionName,e.dbName);if(r&&r.length>0){let n=e.objType,i=r.filter(s=>{let o=s.item;return o.objType?o.objType===n:n==="VIEW"?o.kind===18:n==="TABLE"?o.kind!==18&&o.detail!=="EXTERNAL TABLE":n==="EXTERNAL TABLE"?o.detail==="EXTERNAL TABLE"||o.detail?.startsWith("EXTERNAL TABLE"):!1});if(i.length>0)return i.map(s=>{let o=s.item;return new Kt(typeof o.label=="string"?o.label:o.label?.label||"unknown",he.TreeItemCollapsibleState.Collapsed,`netezza:${e.objType}`,e.dbName,e.objType,s.schema,s.objId,void 0,e.connectionName)})}}try{let r;e.objType==="PROCEDURE"?r=`SELECT PROCEDURESIGNATURE AS OBJNAME, SCHEMA, OBJID::INT AS OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_PROCEDURE WHERE DATABASE = '${e.dbName}' ORDER BY PROCEDURESIGNATURE`:r=`SELECT OBJNAME, SCHEMA, OBJID, COALESCE(DESCRIPTION, '') AS DESCRIPTION FROM ${e.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${e.dbName}' AND OBJTYPE = '${e.objType}' ORDER BY OBJNAME`;let n=await K(this.context,r,!0,e.connectionName,this.connectionManager),i=JSON.parse(n||"[]");if(e.connectionName&&e.dbName&&(e.objType==="TABLE"||e.objType==="VIEW")){let s=new Map;for(let o of i){let a=o.SCHEMA?`${e.dbName}.${o.SCHEMA}`:`${e.dbName}..`;s.has(a)||s.set(a,{tables:[],idMap:new Map});let l=s.get(a);l.tables.push({label:o.OBJNAME,kind:e.objType==="VIEW"?18:7,detail:o.SCHEMA?e.objType:`${e.objType} (${o.SCHEMA})`,sortText:o.OBJNAME});let c=o.SCHEMA?`${e.dbName}.${o.SCHEMA}.${o.OBJNAME}`:`${e.dbName}..${o.OBJNAME}`;l.idMap.set(c,o.OBJID)}}return i.map(s=>{let a=["TABLE","VIEW","EXTERNAL TABLE","SYSTEM VIEW","SYSTEM TABLE"].includes(e.objType||"");return new Kt(s.OBJNAME,a?he.TreeItemCollapsibleState.Collapsed:he.TreeItemCollapsibleState.None,`netezza:${e.objType}`,e.dbName,e.objType,s.SCHEMA,s.OBJID,s.DESCRIPTION,e.connectionName)})}catch(r){let n=r instanceof Error?r.message:String(r);return he.window.showErrorMessage("Failed to load objects: "+n),[]}}else if(e.contextValue.startsWith("netezza:")){let r=e.label,n=e.schema,i=e.dbName;if(e.connectionName&&i){let s=`${i}.${n||""}.${r}`,o=this.metadataCache.getColumns(e.connectionName,s);if(o&&o.length>0&&o[0].isPk!==void 0)return o.map(a=>new Kt(a.detail?`${a.label||a.ATTNAME} (${a.detail})`:a.label||a.ATTNAME,he.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,a.documentation||"",e.connectionName,r,void 0,a.isPk,a.isFk))}if(!e.connectionName||!i)return[];try{let s=wR(i,n||"",r),o=await K(this.context,s,!0,e.connectionName,this.connectionManager),a=LR(o),l=`${i}.${n||""}.${r}`,c=a.map(u=>({ATTNAME:u.attname,FORMAT_TYPE:u.formatType,label:u.attname,kind:5,detail:u.formatType,documentation:u.description,isPk:u.isPk,isFk:u.isFk}));return this.metadataCache.setColumns(e.connectionName,l,c),a.map(u=>new Kt(`${u.attname} (${u.formatType})`,he.TreeItemCollapsibleState.None,"column",e.dbName,void 0,void 0,void 0,u.description,e.connectionName,r,void 0,u.isPk,u.isFk))}catch(s){let o=s instanceof Error?s.message:String(s);return he.window.showErrorMessage("Failed to load columns: "+o),[]}}}else{let r=await this.connectionManager.getConnections(),n=he.Uri.file(this.context.asAbsolutePath("netezza_icon64.png"));return r.map(i=>new Kt(i.name,he.TreeItemCollapsibleState.Collapsed,"serverInstance",void 0,void 0,void 0,void 0,void 0,i.name,void 0,n))}return[]}},Kt=class extends he.TreeItem{constructor(r,n,i,s,o,a,l,c,u,d,f,E,T){super(r,n);this.label=r;this.collapsibleState=n;this.contextValue=i;this.dbName=s;this.objType=o;this.schema=a;this.objId=l;this.objectDescription=c;this.connectionName=u;this.parentName=d;this.isPk=E;this.isFk=T;let h=this.label;u&&(h+=`
[Server: ${u}]`),c&&c.trim()&&(h+=`

${c.trim()}`),a&&i.startsWith("netezza:")&&(h+=`

Schema: ${a}`),this.isPk&&(h+=`
\u{1F511} Primary Key`),this.isFk&&(h+=`
\u{1F517} Foreign Key`),this.tooltip=h,this.description=a?`(${a})`:"";let p=[u||"global",i,s||"",a||"",o||"",d||"",r,l?l.toString():""];this.id=p.join("|"),f?this.iconPath=f:i==="serverInstance"?this.iconPath=new he.ThemeIcon("server"):i==="database"?this.iconPath=new he.ThemeIcon("database"):i.startsWith("typeGroup")?this.iconPath=new he.ThemeIcon("folder"):i.startsWith("netezza:")?this.iconPath=this.getIconForType(o):i==="column"&&(this.isPk?this.iconPath=new he.ThemeIcon("key",new he.ThemeColor("charts.yellow")):this.isFk?this.iconPath=new he.ThemeIcon("link",new he.ThemeColor("charts.blue")):this.iconPath=new he.ThemeIcon("symbol-field"))}getIconForType(r){switch(r){case"TABLE":return new he.ThemeIcon("table");case"VIEW":return new he.ThemeIcon("eye");case"PROCEDURE":return new he.ThemeIcon("gear");case"FUNCTION":return new he.ThemeIcon("symbol-function");case"AGGREGATE":return new he.ThemeIcon("symbol-operator");case"EXTERNAL TABLE":return new he.ThemeIcon("server");default:return new he.ThemeIcon("file")}}};var Fe=j(require("vscode"));var Wr=j(require("vscode")),vE=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._extensionUri=r,this._update(n),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(i=>{switch(i.command){case"alert":Wr.window.showErrorMessage(i.text);return;case"info":Wr.window.showInformationMessage(i.text);return}},null,this._disposables)}static{this.viewType="netezza.analysisPanel"}static createOrShow(e,r){let n=Wr.window.activeTextEditor?Wr.ViewColumn.Beside:void 0,i=Wr.window.createWebviewPanel(t.viewType,"Data Analysis",n||Wr.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Wr.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});new t(i,e,r)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_update(e){let r=this._panel.webview;this._panel.title="Data Analysis",this._panel.webview.html=this._getHtmlForWebview(r,e)}_getHtmlForWebview(e,r){let n=Wr.Uri.joinPath(this._extensionUri,"media","analysisPanel.js"),i=e.asWebviewUri(n),s=Wr.Uri.joinPath(this._extensionUri,"media","analysisPanel.css"),o=e.asWebviewUri(s),a=e.asWebviewUri(Wr.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),l=e.asWebviewUri(Wr.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),c=M4();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}'; font-src ${e.cspSource};">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${o}" rel="stylesheet">

            <title>Data Analysis</title>
        </head>
        <body>
            <div id="app">
                <div class="sidebar">
                    <div class="section">
                        <h3>Fields</h3>
                        <div id="fieldList" class="field-list"></div>
                    </div>
                </div>
                <div class="main-content">
                    <div class="filter-section" style="margin-bottom: 15px; display: flex; gap: 10px; align-items: center;">
                        <label for="dataFilter" style="font-weight: bold;">Filter:</label>
                        <input type="text" id="dataFilter" placeholder="Type to filter data..." style="flex: 1; padding: 6px 10px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); border-radius: 4px;">
                        <button id="applyFilter" style="padding: 6px 12px; cursor: pointer;">Apply</button>
                        <button id="clearFilter" style="padding: 6px 12px; cursor: pointer;">Clear</button>
                    </div>
                    <div class="config-zones">
                        <div class="zone-container">
                            <h4>Rows</h4>
                            <div id="rowsZone" class="drop-zone" data-zone="rows"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Columns</h4>
                            <div id="colsZone" class="drop-zone" data-zone="cols"></div>
                        </div>
                        <div class="zone-container">
                            <h4>Values</h4>
                            <div id="valuesZone" class="drop-zone" data-zone="values"></div>
                        </div>
                    </div>
                    <div class="pivot-grid-container">
                        <div id="pivotGrid"></div>
                    </div>
                    <div class="chart-container" style="margin-top: 20px;">
                        <div class="chart-header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <h4 style="margin: 0;">Chart</h4>
                            <select id="chartType" style="padding: 4px;">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                            </select>
                        </div>
                        <canvas id="pivotChart" width="600" height="300" style="background: var(--vscode-editor-background); border: 1px solid var(--vscode-panel-border); border-radius: 4px;"></canvas>
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${a}"></script>
            <script nonce="${c}" src="${l}"></script>
            <script nonce="${c}">
                // Pass initial data to the script
                window.initialData = ${JSON.stringify(r)};
                window.TableCore = TableCore;
                window.VirtualCore = VirtualCore;
            </script>
            <script nonce="${c}" src="${i}"></script>
        </body>
        </html>`}};function M4(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var UE=class{constructor(e){this._cspSource=e}generateHtml(e,r){let n=this._getIcons();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src ${this._cspSource} 'unsafe-inline'; worker-src ${this._cspSource} blob:; connect-src ${this._cspSource}; style-src ${this._cspSource} 'unsafe-inline';">
            <title>Query Results</title>
            <script src="${e.scriptUri}"></script>
            <script src="${e.virtualUri}"></script>
            <link rel="stylesheet" href="${e.styleUri}">
        </head>
        <body>
            <div id="sourceTabs" class="source-tabs"></div>
            <div id="resultSetTabs" class="result-set-tabs" style="display: none;"></div>
            
            <div class="controls">
                <input type="text" id="globalFilter" placeholder="Filter..." onkeyup="onFilterChanged()" style="background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); padding: 4px;">
                <button onclick="toggleRowView()" title="Toggle Row View">${n.eye} Row View</button>
                
                <!-- Split Button for Export -->
                <div class="split-btn-container">
                    <button id="exportMainBtn" class="split-btn-main" onclick="executeSplitExport()" title="Export results (Excel)">
                        ${n.excel} Excel
                    </button>
                    <button id="exportArrowBtn" class="split-btn-arrow" onclick="toggleExportMenu()" title="Select export format">
                        <svg width="10" height="10" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                            <path d="M8 11L3 6h10l-5 5z"/>
                        </svg>
                    </button>
                    <div id="exportMenu" class="split-btn-menu" style="display:none;">
                        <div class="split-btn-menu-item" onclick="selectExportFormat('excel')">
                            ${n.excel} Excel (XLSB)
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('csv')">
                            ${n.csv} CSV
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('json')">
                            ${n.json} JSON
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('xml')">
                            ${n.xml} XML
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('sql')">
                            ${n.sql} SQL INSERT
                        </div>
                        <div class="split-btn-menu-item" onclick="selectExportFormat('markdown')">
                            ${n.markdown} Markdown Table
                        </div>
                    </div>
                </div>

                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="copyAsExcel()" title="Copy results as Excel to clipboard">${n.excel} Excel Copy</button>
                <div style="width: 1px; height: 16px; background: var(--vscode-panel-border); margin: 0 2px;"></div>
                <button onclick="selectAll()" title="Select all rows">${n.checkAll} Select All</button>
                <button onclick="copySelection(false)" title="Copy selected cells to clipboard">${n.copy} Copy</button>
                <button onclick="copySelection(true)" title="Copy selected cells with headers">${n.copy} Copy w/ Headers</button>
                <button onclick="clearAllFilters()" title="Clear all column filters">${n.clear} Clear Filters</button>
                <span id="rowCountInfo" style="margin-left: auto; font-size: 12px; opacity: 0.8;"></span>
            </div>

            <div id="groupingPanel" class="grouping-panel" ondragover="onDragOverGroup(event)" ondragleave="onDragLeaveGroup(event)" ondrop="onDropGroup(event)">
                <span style="opacity: 0.5;">Drag headers here to group</span>
            </div>

            <div id="mainSplitView" class="main-split-view">
                <div id="gridContainer"></div>
                <div id="rowViewPanel" class="row-view-panel">
                    <div class="row-view-header">
                        <span>Row Details & Comparison</span>
                        <span class="row-view-close" onclick="toggleRowView()">\xD7</span>
                    </div>
                    <div id="rowViewContent" class="row-view-content">
                        <div class="row-view-placeholder">Select 1 or 2 rows to view details or compare</div>
                    </div>
                </div>
            </div>
            
            <script>
                const vscode = acquireVsCodeApi();
                window.sources = ${r.sourcesJson};
                window.pinnedSources = new Set(${r.pinnedSourcesJson});
                window.pinnedResults = ${r.pinnedResultsJson};
                window.activeSource = ${r.activeSourceJson};
                window.resultSets = ${r.resultSetsJson};
                
                let grids = [];
                let activeGridIndex = window.resultSets && window.resultSets.length > 0 ? window.resultSets.length - 1 : 0;
                const workerUri = "${e.workerUri}";
            </script>
            <script src="${e.mainScriptUri}"></script>
            <script>
                // Initialize on load
                init();
            </script>
        </body>
        </html>`}_getIcons(){return{eye:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 3c-3 0-6 2.5-6 5s3 5 6 5 6-2.5 6-5-3-5-6-5zm0 9c-2.5 0-4.5-2-4.5-4S5.5 4 8 4s4.5 2 4.5 4-2 4.5-4.5 4.5z"/><circle cx="8" cy="8" r="2"/></svg>',excel:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/></svg>',copy:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4 4h7v2H4V4zm0 4h7v2H4V8zm0 4h7v2H4v-2zM2 1h12v14H2V1zm1 1v12h10V2H3z"/></svg>',csv:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13 2H6L2 6v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-1 11H4V7h3V4h5v9z"/></svg>',json:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M5 2c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2h-2V2H7v2H5V2zm0 12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-2h-2v2H7v-2H5v2zM2 7v2h2V7H2zm10 0v2h2V7h-2z"/></svg>',xml:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M11.5 1L7 15h2l4.5-14h-2zM4.5 1L0 15h2l4.5-14h-2z"/></svg>',sql:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 0C3.6 0 0 1.8 0 4v8c0 2.2 3.6 4 8 4s8-1.8 8-4V4c0-2.2-3.6-4-8-4zm0 2c3.3 0 6 1.3 6 3s-2.7 3-6 3-6-1.3-6-3 2.7-3 6-3zm0 12c-3.3 0-6-1.3-6-3V9c1.6 1.7 4.3 2 6 2s4.4-.3 6-2v2c0 1.7-2.7 3-6 3z"/></svg>',markdown:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14.5 2H1.5C.7 2 0 2.7 0 3.5v9C0 13.3.7 14 1.5 14h13c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5zM3 11V5l2 2 2-2v6H6V7l-1 1-1-1v4H3zm10 0h-2V9h-2v2H7V5h2v2h2V5h2v6z"/></svg>',export:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 3h8v10H6V3zm-1 0H3v10h2V3zm-2-1h9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/><path d="M6 6h8v1H6V6zm0 2h8v1H6V8zm0 2h8v1H6v-1z"/><path d="M10 12L8 14L6 12" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>',checkAll:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M13.485 1.929l1.414 1.414-9.9 9.9-4.243-4.242 1.415-1.415 2.828 2.829z"/></svg>',clear:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 7.293l4.146-4.147.708.708L8.707 8l4.147 4.146-.708.708L8 8.707l-4.146 4.147-.708-.708L7.293 8 3.146 3.854l.708-.708L8 7.293z"/></svg>'}}};var Pc=class{constructor(e){this._resultsMap=new Map;this._pinnedSources=new Set;this._pinnedResults=new Map;this._autoPinnedResults=new Set;this._resultIdCounter=0;this._extensionUri=e}static{this.viewType="netezza.results"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[Fe.Uri.joinPath(this._extensionUri,"media")]},e.webview.html=this._getHtmlForWebview(),e.webview.onDidReceiveMessage(i=>{switch(i.command){case"analyze":vE.createOrShow(this._extensionUri,i.data);return;case"exportCsv":this.exportCsv(i.data);return;case"openInExcel":this.openInExcel(i.data,i.sql);return;case"copyAsExcel":this.copyAsExcel(i.data,i.sql);return;case"exportJson":this.exportJson(i.data);return;case"exportXml":this.exportXml(i.data);return;case"exportSqlInsert":this.exportSqlInsert(i.data);return;case"exportMarkdown":this.exportMarkdown(i.data);return;case"switchSource":this._activeSourceUri=i.sourceUri,this._updateWebview();return;case"togglePin":this._pinnedSources.has(i.sourceUri)?this._pinnedSources.delete(i.sourceUri):this._pinnedSources.add(i.sourceUri),this._updateWebview();return;case"toggleResultPin":this._toggleResultPin(i.sourceUri,i.resultSetIndex);return;case"switchToPinnedResult":this._switchToPinnedResult(i.resultId);return;case"unpinResult":this._pinnedResults.delete(i.resultId),this._updateWebview();return;case"closeSource":this.closeSource(i.sourceUri);return;case"copyToClipboard":Fe.env.clipboard.writeText(i.text),Fe.window.showInformationMessage("Copied to clipboard");return;case"info":Fe.window.showInformationMessage(i.text);return;case"error":Fe.window.showErrorMessage(i.text);return;case"setContext":Fe.commands.executeCommand("setContext",i.key,i.value);return}})}triggerCopySelection(){this._postMessageToWebview({command:"copySelection"})}setActiveSource(e){this._resultsMap.has(e)&&this._activeSourceUri!==e&&(this._activeSourceUri=e,this._updateWebview())}startExecution(e){let r=this._resultsMap.get(e)||[],n,i=r.findIndex(d=>d.isLog);if(i!==-1){n=r[i];let d=new Date().toLocaleTimeString();n.data.push(["",""]),n.data.push([d,"--- New Execution Started ---"]),n.message="Execution started...",n.executionTimestamp=Date.now()}else n={columns:[{name:"Time",type:"string"},{name:"Message",type:"string"}],data:[],message:"Execution started...",executionTimestamp:Date.now(),isLog:!0,name:"Logs"};let s=Array.from(this._pinnedResults.entries()).filter(([d,f])=>f.sourceUri===e&&r[f.resultSetIndex]!==n).sort((d,f)=>d[1].resultSetIndex-f[1].resultSetIndex),o=[];s.forEach(([d,f])=>{f.resultSetIndex<r.length&&o.push(r[f.resultSetIndex])});let a=[n,...o];this._resultsMap.set(e,a),Array.from(this._pinnedResults.entries()).filter(([d,f])=>f.sourceUri===e).map(([d,f])=>d).forEach(d=>this._pinnedResults.delete(d));let c=`result_${++this._resultIdCounter}`,u=e.split(/[\\/]/).pop()||e;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:0,timestamp:Date.now(),label:`${u} - Logs`}),s.forEach(([d,f],E)=>{let T=`result_${++this._resultIdCounter}`;this._pinnedResults.set(T,{sourceUri:e,resultSetIndex:E+1,timestamp:Date.now(),label:`${u} - Result ${E+2}`})}),this._pinnedSources.add(e),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}log(e,r){let n=this._resultsMap.get(e);if(!n||n.length===0)return;let i=n.find(s=>s.isLog);if(i){let s=new Date().toLocaleTimeString();i.data.push([s,r]),this._updateWebview()}}finalizeExecution(e){for(let r of this._autoPinnedResults){let n=this._pinnedResults.get(r);n&&n.sourceUri===e&&this._pinnedResults.delete(r)}this._autoPinnedResults.clear()}updateResults(e,r,n=!1){this._resultsMap.has(r)||this._pinnedSources.add(r);let i=[];Array.isArray(e)?i=e:i=[e];let s=Date.now();i.forEach(E=>{E.executionTimestamp=s});let o=this._resultsMap.get(r)||[],a=o.find(E=>E.isLog),l=Array.from(this._pinnedResults.entries()).filter(E=>E[1].sourceUri===r).sort((E,T)=>E[1].resultSetIndex-T[1].resultSetIndex),c=[],u=new Map;a&&c.push(a),l.forEach(([E,T])=>{let h=o[T.resultSetIndex];h&&(h===a||c.includes(h)||c.push(h),u.set(E,h))});let d=c.length;c.push(...i);let f=r.split(/[\\\\/]/).pop()||r;if(i.forEach((E,T)=>{let h=`result_${++this._resultIdCounter}`,p=d+T;this._pinnedResults.set(h,{sourceUri:r,resultSetIndex:p,timestamp:Date.now(),label:E.isLog?`${f} - Logs`:`${f} - Result ${p}`}),this._autoPinnedResults.add(h)}),this._resultsMap.set(r,c),u.forEach((E,T)=>{let h=c.indexOf(E);if(h!==-1){let p=this._pinnedResults.get(T);p&&(p.resultSetIndex=h)}}),a&&!Array.from(u.values()).includes(a)){let T=`result_${++this._resultIdCounter}`,h=r.split(/[\\/]/).pop()||r;this._pinnedResults.set(T,{sourceUri:r,resultSetIndex:0,timestamp:Date.now(),label:`${h} - Logs`})}n||Array.from(this._resultsMap.keys()).filter(T=>T!==r&&!this._pinnedSources.has(T)).forEach(T=>{this._resultsMap.delete(T),Array.from(this._pinnedResults.entries()).filter(p=>p[1].sourceUri===T).map(([p,S])=>p).forEach(p=>this._pinnedResults.delete(p))}),this._activeSourceUri=r,this._view?(this._updateWebview(),this._view.show?.(!0)):Fe.window.showInformationMessage('Query completed. Please open "Query Results" panel to view data.')}appendStreamingChunk(e,r,n,i){let s=this._resultsMap.get(e)||[];if(n.isFirstChunk&&n.columns.length>0){let o={columns:n.columns,data:n.rows,executionTimestamp:Date.now(),sql:i,limitReached:n.limitReached};s.findIndex(d=>d.isLog)>=0,s.push(o),this._resultsMap.set(e,s);let l=e.split(/[\\/]/).pop()||e,c=`result_${++this._resultIdCounter}`,u=s.length-1;this._pinnedResults.set(c,{sourceUri:e,resultSetIndex:u,timestamp:Date.now(),label:`${l} - Result ${u}`}),this._autoPinnedResults.add(c),this._activeSourceUri=e,this._updateWebview(),this._view?.show?.(!0)}else if(n.rows.length>0){let o=s[s.length-1];o&&!o.isLog&&(o.data.push(...n.rows),o.limitReached=n.limitReached,this._postMessageToWebview({command:"appendRows",resultSetIndex:s.length-1,rows:n.rows,totalRows:n.totalRowsSoFar,isLastChunk:n.isLastChunk,limitReached:n.limitReached}))}n.isLastChunk&&this._postMessageToWebview({command:"streamingComplete",resultSetIndex:s.length-1,totalRows:n.totalRowsSoFar,limitReached:n.limitReached})}_postMessageToWebview(e){this._view&&this._view.webview.postMessage(e)}_updateWebview(){this._view&&(this._view.webview.html=this._getHtmlForWebview())}_toggleResultPin(e,r){let n=Array.from(this._pinnedResults.entries()).find(i=>{let s=i[1];return s.sourceUri===e&&s.resultSetIndex===r});if(n)this._pinnedResults.delete(n[0]);else{let i=`result_${++this._resultIdCounter}`,s=Date.now(),a=`${e.split(/[\\/]/).pop()||e} - Result ${r+1}`;this._pinnedResults.set(i,{sourceUri:e,resultSetIndex:r,timestamp:s,label:a})}this._updateWebview()}_switchToPinnedResult(e){let r=this._pinnedResults.get(e);r&&(this._activeSourceUri=r.sourceUri,this._updateWebview(),this._view&&this._view.webview.postMessage({command:"switchToResultSet",resultSetIndex:r.resultSetIndex}))}async exportCsv(e){let r=await Fe.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export"});r&&(await Fe.workspace.fs.writeFile(r,Buffer.from(e)),Fe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async openInExcel(e,r){Fe.commands.executeCommand("netezza.exportCurrentResultToXlsbAndOpen",e,r)}async copyAsExcel(e,r){Fe.commands.executeCommand("netezza.copyCurrentResultToXlsbClipboard",e,r)}async exportJson(e){let r=await Fe.window.showSaveDialog({filters:{"JSON Files":["json"]},saveLabel:"Export JSON"});r&&(await Fe.workspace.fs.writeFile(r,Buffer.from(e)),Fe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportXml(e){let r=await Fe.window.showSaveDialog({filters:{"XML Files":["xml"]},saveLabel:"Export XML"});r&&(await Fe.workspace.fs.writeFile(r,Buffer.from(e)),Fe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportSqlInsert(e){let r=await Fe.window.showSaveDialog({filters:{"SQL Files":["sql"]},saveLabel:"Export SQL"});r&&(await Fe.workspace.fs.writeFile(r,Buffer.from(e)),Fe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}async exportMarkdown(e){let r=await Fe.window.showSaveDialog({filters:{"Markdown Files":["md"]},saveLabel:"Export Markdown"});r&&(await Fe.workspace.fs.writeFile(r,Buffer.from(e)),Fe.window.showInformationMessage(`Results exported to ${r.fsPath}`))}closeSource(e){if(this._resultsMap.has(e)){if(this._resultsMap.delete(e),this._pinnedSources.delete(e),Array.from(this._pinnedResults.entries()).filter(([n,i])=>i.sourceUri===e).map(([n,i])=>n).forEach(n=>this._pinnedResults.delete(n)),this._activeSourceUri===e){let n=Array.from(this._resultsMap.keys());this._activeSourceUri=n.length>0?n[0]:void 0}this._updateWebview()}}_getHtmlForWebview(){if(!this._view)return"";let e=this._getScriptUris(),r=this._prepareViewData();return new UE(this._view.webview.cspSource).generateHtml(e,r)}_getScriptUris(){return{scriptUri:this._view.webview.asWebviewUri(Fe.Uri.joinPath(this._extensionUri,"media","tanstack-table-core.js")),virtualUri:this._view.webview.asWebviewUri(Fe.Uri.joinPath(this._extensionUri,"media","tanstack-virtual-core.js")),mainScriptUri:this._view.webview.asWebviewUri(Fe.Uri.joinPath(this._extensionUri,"media","resultPanel.js")),workerUri:this._view.webview.asWebviewUri(Fe.Uri.joinPath(this._extensionUri,"media","searchWorker.js")),styleUri:this._view.webview.asWebviewUri(Fe.Uri.joinPath(this._extensionUri,"media","resultPanel.css"))}}_prepareViewData(){let e=Array.from(this._resultsMap.keys()),r=Array.from(this._pinnedSources),n=Array.from(this._pinnedResults.entries()).map(([a,l])=>({id:a,...l})),i=this._activeSourceUri&&this._resultsMap.has(this._activeSourceUri)?this._activeSourceUri:e.length>0?e[0]:null,s=i?this._resultsMap.get(i):[],o=(a,l)=>typeof l=="bigint"?l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l):l.toString():l;return{sourcesJson:JSON.stringify(e),pinnedSourcesJson:JSON.stringify(r),pinnedResultsJson:JSON.stringify(n),activeSourceJson:JSON.stringify(i),resultSetsJson:JSON.stringify(s,o)}}};var ke=j(require("vscode"));Ar();var BE=class{constructor(e,r,n){this.context=e;this.metadataCache=r;this.connectionManager=n}async provideCompletionItems(e,r,n,i){let s=e.getText(),o=this.stripComments(s),a=this.parseLocalDefinitions(o),l=e.lineAt(r).text.substr(0,r.character),c=l.toUpperCase(),u=r.line>0?e.lineAt(r.line-1).text:"",d=this.connectionManager.getConnectionForExecution(e.uri.toString());if(d||(d=this.connectionManager.getActiveConnectionName()||void 0),d&&!this.metadataCache.hasConnectionPrefetchTriggered(d)&&this.metadataCache.triggerConnectionPrefetch(d,I=>K(this.context,I,!0,d,this.connectionManager)),/(FROM|JOIN)\s+$/.test(c)){let I=await this.getDatabases(d);return[...a.map(A=>{let N=new ke.CompletionItem(A.name,ke.CompletionItemKind.Class);return N.detail=A.type,N}),...I]}if(/(?:FROM|JOIN)\s*$/i.test(u)&&/^\s*[a-zA-Z0-9_]*$/.test(l)){let I=await this.getDatabases(d);return[...a.map(A=>{let N=new ke.CompletionItem(A.name,ke.CompletionItemKind.Class);return N.detail=A.type,N}),...I]}let f=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\s*$/i);if(f){let I=f[1],R=await this.getSchemas(d,I);return new ke.CompletionList(R,!1)}let E=l.match(/^\s*([a-zA-Z0-9_]+)\.\s*$/i);if(E&&/(?:FROM|JOIN)\s*$/i.test(u)){let I=E[1],R=await this.getSchemas(d,I);return new ke.CompletionList(R,!1)}let T=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.$/i);if(T){let I=T[1],R=T[2];return this.getTables(d,I,R)}let h=l.match(/^\s*([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\.\s*$/i);if(h&&/(?:FROM|JOIN)\s*$/i.test(u)){let I=h[1],R=h[2];return this.getTables(d,I,R)}let p=l.match(/(?:FROM|JOIN)\s+([a-zA-Z0-9_]+)\.\.$/i);if(p){let I=p[1];return this.getTables(d,I,void 0)}let S=l.match(/^\s*([a-zA-Z0-9_]+)\.\.\s*$/i);if(S&&/(?:FROM|JOIN)\s*$/i.test(u)){let I=S[1];return this.getTables(d,I,void 0)}if(l.trim().endsWith(".")){let I=l.match(/([a-zA-Z0-9_]+)\.$/);if(I){let R=I[1],A=this.findAlias(o,R);if(A){let w=a.find(m=>m.name.toUpperCase()===A.table.toUpperCase());return w?w.columns.map(m=>{let D=new ke.CompletionItem(m,ke.CompletionItemKind.Field);return D.detail="Local Column",D}):this.getColumns(d,A.db,A.schema,A.table)}let N=a.find(w=>w.name.toUpperCase()===R.toUpperCase());if(N)return N.columns.map(w=>{let m=new ke.CompletionItem(w,ke.CompletionItemKind.Field);return m.detail="Local Column",m})}}return this.getKeywords()}stripComments(e){let r=e.replace(/--.*$/gm,"");return r=r.replace(/\/\*[\s\S]*?\*\//g,""),r}parseLocalDefinitions(e){let r=[],n=/CREATE\s+TABLE\s+([a-zA-Z0-9_]+)\s+AS\s*\(/gi,i;for(;(i=n.exec(e))!==null;){let a=i[1],l=i.index+i[0].length,c=this.extractBalancedParenthesisContent(e,l);if(c){let u=this.extractColumnsFromQuery(c);r.push({name:a,type:"Temp Table",columns:u})}}let s=/\bWITH\s+/gi;for(;(i=s.exec(e))!==null;){let a=i.index+i[0].length;for(;;){let l=/^\s*([a-zA-Z0-9_]+)\s+AS\s*\(/i,c=e.substring(a),u=c.match(l);if(!u)break;let d=u[1],f=c.indexOf("(",u.index+u[1].length),E=a+f,T=this.extractBalancedParenthesisContent(e,E+1);if(T){let h=this.extractColumnsFromQuery(T);r.push({name:d,type:"CTE",columns:h}),a=E+1+T.length+1;let p=/^\s*,/,S=e.substring(a);if(p.test(S)){let I=S.match(p);a+=I[0].length}else break}else break}}let o=/\bJOIN\s+\(/gi;for(;(i=o.exec(e))!==null;){let a=i.index+i[0].length,l=this.extractBalancedParenthesisContent(e,a);if(l&&/^\s*SELECT\b/i.test(l)){let c=a+l.length+1,d=e.substring(c).match(/^\s+(?:AS\s+)?([a-zA-Z0-9_]+)/i);if(d){let f=d[1],E=this.extractColumnsFromQuery(l);r.push({name:f,type:"Subquery",columns:E})}}}return r}extractBalancedParenthesisContent(e,r){let n=1,i=r;for(;i<e.length;i++)if(e[i]==="("?n++:e[i]===")"&&n--,n===0)return e.substring(r,i);return null}extractColumnsFromQuery(e){let r=e.match(/^\s*SELECT\s+/i);if(!r)return[];let n=r[0].length,i="",s=0,o=-1;for(let c=n;c<e.length;c++)if(e[c]==="("?s++:e[c]===")"&&s--,s===0&&e.substr(c).match(/^\s+FROM\b/i)){o=c;break}o!==-1?i=e.substring(n,o):i=e.substring(n);let a=[],l="";s=0;for(let c=0;c<i.length;c++){let u=i[c];u==="("?s++:u===")"&&s--,u===","&&s===0?(a.push(l.trim()),l=""):l+=u}return l.trim()&&a.push(l.trim()),a.map(c=>{let u=c.match(/\s+AS\s+([a-zA-Z0-9_]+)$/i);if(u)return u[1];let d=c.match(/\s+([a-zA-Z0-9_]+)$/i);if(d)return d[1];let f=c.split(".");return f[f.length-1]})}findAlias(e,r){let n=new RegExp("(?:FROM|JOIN)\\s+([a-zA-Z0-9_\\.]+)(?:\\s+(?:AS\\s+)?([a-zA-Z0-9_]+))?","gi"),i;for(;(i=n.exec(e))!==null;){let s=i[1],o=i[2];if(o&&o.toUpperCase()===r.toUpperCase()){let a=s.split(".");return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{schema:a[0],table:a[1]}:{table:a[0]}}else if(!o){let a=s.split(".");if(a[a.length-1].toUpperCase()===r.toUpperCase())return a.length===3?{db:a[0],schema:a[1],table:a[2]}:a.length===2?{schema:a[0],table:a[1]}:{table:a[0]}}}return null}getKeywords(){return["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","INSERT","INTO","VALUES","UPDATE","SET","DELETE","CREATE","DROP","TABLE","VIEW","DATABASE","JOIN","INNER","LEFT","RIGHT","OUTER","ON","AND","OR","NOT","NULL","IS","IN","BETWEEN","LIKE","AS","DISTINCT","CASE","WHEN","THEN","ELSE","END","WITH","UNION","ALL"].map(r=>{let n=new ke.CompletionItem(r,ke.CompletionItemKind.Keyword);return n.detail="SQL Keyword",n})}async getDatabases(e){if(!e)return[];let r=this.metadataCache.getDatabases(e);if(r)return r.map(n=>{let i=new ke.CompletionItem(n.label||n.DATABASE,n.kind||ke.CompletionItemKind.Module);return i.detail=n.detail,i});try{let i=await K(this.context,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,e,this.connectionManager);if(!i)return[];let o=JSON.parse(i).map(a=>({DATABASE:a.DATABASE,label:a.DATABASE,kind:9,detail:"Database"}));return this.metadataCache.setDatabases(e,o),o.map(a=>{let l=new ke.CompletionItem(a.label,a.kind);return l.detail=a.detail,l})}catch(n){return console.error(n),[]}}async getSchemas(e,r){if(!e)return[];let n=this.metadataCache.getSchemas(e,r);if(n)return n.map(s=>{let o=new ke.CompletionItem(s.label||s.SCHEMA,s.kind||ke.CompletionItemKind.Folder);return o.detail=s.detail,o.insertText=s.insertText,o.sortText=s.sortText,o.filterText=s.filterText,o});let i=ke.window.setStatusBarMessage(`Fetching schemas for ${r}...`);try{let s=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,o=await K(this.context,s,!0,e,this.connectionManager);if(!o)return[];let l=JSON.parse(o).filter(c=>c.SCHEMA!=null&&c.SCHEMA!=="").map(c=>{let u=c.SCHEMA;return{SCHEMA:u,label:u,kind:19,detail:`Schema in ${r}`,insertText:u,sortText:u,filterText:u}});return this.metadataCache.setSchemas(e,r,l),l.map(c=>{let u=new ke.CompletionItem(c.label,c.kind);return u.detail=c.detail,u.insertText=c.insertText,u.sortText=c.sortText,u.filterText=c.filterText,u})}catch(s){return console.error("[SqlCompletion] Error in getSchemas:",s),[]}finally{i.dispose()}}async getTables(e,r,n){if(!e)return[];let i=n?`${r}.${n}`:`${r}..`,s=n?this.metadataCache.getTables(e,i):this.metadataCache.getTables(e,i)||this.metadataCache.getTablesAllSchemas(e,r);if(s)return s.map(l=>{let c=typeof l.label=="string"?l.label:l.label?.label||l.OBJNAME||l.TABLENAME||"?",u=new ke.CompletionItem(c,l.kind||ke.CompletionItemKind.Class);return u.detail=l.detail,u.sortText=l.sortText,u});let o=n?`Fetching tables for ${r}.${n}...`:`Fetching tables for ${r}...`,a=ke.window.setStatusBarMessage(o);try{let l="";n?l=`SELECT OBJNAME, OBJID FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND UPPER(SCHEMA) = UPPER('${n}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`:l=`SELECT OBJNAME, OBJID, SCHEMA FROM ${r}.._V_OBJECT_DATA WHERE UPPER(DBNAME) = UPPER('${r}') AND OBJTYPE='TABLE' ORDER BY OBJNAME`;let c=await K(this.context,l,!0,e,this.connectionManager);if(!c)return[];let u=JSON.parse(c),d=new Map,f=u.map(E=>{let T=E.OBJNAME,h=E.SCHEMA||n,p=h?`${r}.${h}.${E.OBJNAME}`:`${r}..${E.OBJNAME}`;return d.set(p,E.OBJID),{OBJNAME:E.OBJNAME,TABLENAME:E.OBJNAME,OBJID:E.OBJID,SCHEMA:h,label:T,kind:6,detail:n?"Table":`Table (${h})`,sortText:E.OBJNAME}});return this.metadataCache.setTables(e,i,f,d),f.map(E=>{let T=typeof E.label=="string"?E.label:E.label?.label||"?",h=new ke.CompletionItem(T,E.kind);return h.detail=E.detail,h.sortText=E.sortText,h})}catch(l){return console.error(l),[]}finally{a.dispose()}}async getColumns(e,r,n,i){if(!e)return[];let s,o=r?`${r}..`:"",a=n&&r?`${r}.${n}.${i}`:r?`${r}..${i}`:void 0;a&&(s=this.metadataCache.findTableId(e,a));let l=`${r||"CURRENT"}.${n||""}.${i}`,c=this.metadataCache.getColumns(e,l);if(c)return c.map(d=>{let f=new ke.CompletionItem(d.label||d.ATTNAME,d.kind||ke.CompletionItemKind.Field);return f.detail=d.detail,f});let u=ke.window.setStatusBarMessage(`Fetching columns for ${i}...`);try{let d="";if(s)d=`SELECT ATTNAME, FORMAT_TYPE FROM ${o}_V_RELATION_COLUMN WHERE OBJID = ${s} ORDER BY ATTNUM`;else{let h=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",p=r?`AND UPPER(O.DBNAME) = UPPER('${r}')`:"";d=`
                    SELECT C.ATTNAME, C.FORMAT_TYPE 
                    FROM ${o}_V_RELATION_COLUMN C
                    JOIN ${o}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) = UPPER('${i}') ${h} ${p}
                    ORDER BY C.ATTNUM
                `}let f=await K(this.context,d,!0,e,this.connectionManager);if(!f)return[];let T=JSON.parse(f).map(h=>({ATTNAME:h.ATTNAME,FORMAT_TYPE:h.FORMAT_TYPE,label:h.ATTNAME,kind:9,detail:h.FORMAT_TYPE}));if(this.metadataCache.setColumns(e,l,T),r){let h=this.context,p=this.metadataCache;setTimeout(async()=>{try{await p.prefetchColumnsForSchema(e,r,n,S=>K(h,S,!0,e,this.connectionManager))}catch(S){console.error("[SqlCompletion] Background column prefetch error:",S)}},100)}return T.map(h=>{let p=new ke.CompletionItem(h.label,h.kind);return p.detail=h.detail,p})}catch(d){return console.error(d),[]}finally{u.dispose()}}};var ro=j(require("vscode"));Ar();function v4(t){let e="",r=0;for(;r<t.length;){if(t[r]==="-"&&r+1<t.length&&t[r+1]==="-"){for(;r<t.length&&t[r]!==`
`;)r++;r<t.length&&(e+=" ",r++);continue}if(t[r]==="/"&&r+1<t.length&&t[r+1]==="*"){for(r+=2;r<t.length-1&&!(t[r]==="*"&&t[r+1]==="/");)r++;r<t.length-1&&(r+=2),e+=" ";continue}if(t[r]==="'"){for(r++;r<t.length;)if(t[r]==="'"&&r+1<t.length&&t[r+1]==="'")r+=2;else if(t[r]==="'"){r++;break}else r++;e+=" ";continue}e+=t[r],r++}return e}function DR(t,e){return v4(t).toUpperCase().includes(e.toUpperCase())}var xc=class{constructor(e,r,n,i){this._extensionUri=e;this.context=r;this.metadataCache=n;this.connectionManager=i;this.currentSearchId=0}static{this.viewType="netezza.search"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"search":await this.search(i.value);break;case"searchSource":await this.searchSourceCode(i.value);break;case"navigate":ro.commands.executeCommand("netezza.revealInSchema",i);break}})}async search(e){if(!e||e.length<2)return;let r,n=ro.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=ro.window.setStatusBarMessage(`$(loading~spin) Searching for "${e}"...`),o=new Set;if(this._view){let u=this.metadataCache.search(e,r);if(u.length>0){let d=[];u.forEach(f=>{let E=`${f.name.toUpperCase().trim()}|${f.type.toUpperCase().trim()}|${(f.parent||"").toUpperCase().trim()}`;o.has(E)||(o.add(E),d.push({NAME:f.name,SCHEMA:f.schema||"",DATABASE:f.database||"",TYPE:f.type,PARENT:f.parent||"",DESCRIPTION:"Result from Cache",MATCH_TYPE:"NAME",connectionName:r}))}),d.sort((f,E)=>{let T=h=>h==="COLUMN"?2:1;return T(E.TYPE)-T(f.TYPE)?T(f.TYPE)-T(E.TYPE):f.NAME.localeCompare(E.NAME)}),d.length>0&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:d,append:!1})}else i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});this.metadataCache.hasAllObjectsPrefetchTriggered(r)||this.metadataCache.prefetchAllObjects(r,async d=>K(this.context,d,!0,r,this.connectionManager))}let l=`%${e.replace(/'/g,"''").toUpperCase()}%`,c=`
            SELECT * FROM (
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(OBJNAME) LIKE '${l}'
                UNION ALL
                SELECT 1 AS PRIORITY, OBJNAME AS NAME, SCHEMA, DBNAME AS DATABASE, OBJTYPE AS TYPE, '' AS PARENT, 
                       COALESCE(DESCRIPTION, '') AS DESCRIPTION, 'DESC' AS MATCH_TYPE
                FROM _V_OBJECT_DATA 
                WHERE UPPER(DESCRIPTION) LIKE '${l}' AND UPPER(OBJNAME) NOT LIKE '${l}'
                UNION ALL
                SELECT 2 AS PRIORITY, C.ATTNAME AS NAME, O.SCHEMA, O.DBNAME AS DATABASE, 'COLUMN' AS TYPE, O.OBJNAME AS PARENT,
                       COALESCE(C.DESCRIPTION, '') AS DESCRIPTION, 'NAME' AS MATCH_TYPE
                FROM _V_RELATION_COLUMN C
                JOIN _V_OBJECT_DATA O ON C.OBJID = O.OBJID
                WHERE UPPER(C.ATTNAME) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, V.VIEWNAME AS NAME, V.SCHEMA, V.DATABASE, 'VIEW' AS TYPE, '' AS PARENT, 
                       'Found in view definition' AS DESCRIPTION, 'DEFINITION' AS MATCH_TYPE
                FROM _V_VIEW V
                WHERE UPPER(V.DEFINITION) LIKE '${l}'
                UNION ALL
                SELECT 4 AS PRIORITY, P.PROCEDURE AS NAME, P.SCHEMA, P.DATABASE, 'PROCEDURE' AS TYPE, '' AS PARENT, 
                       'Found in procedure source' AS DESCRIPTION, 'SOURCE' AS MATCH_TYPE
                FROM _V_PROCEDURE P
                WHERE UPPER(P.PROCEDURESOURCE) LIKE '${l}'
                UNION ALL
                SELECT 3 AS PRIORITY, E1.TABLENAME AS NAME, E1.SCHEMA, E1.DATABASE, 'EXTERNAL TABLE' AS TYPE, '' AS PARENT,
                       COALESCE(E2.EXTOBJNAME, '') AS DESCRIPTION, 'DATAOBJECT' AS MATCH_TYPE
                FROM _V_EXTERNAL E1
                JOIN _V_EXTOBJECT E2 ON E1.DATABASE = E2.DATABASE AND E1.SCHEMA = E2.SCHEMA AND E1.TABLENAME = E2.TABLENAME
                WHERE UPPER(E2.EXTOBJNAME) LIKE '${l}'
            ) AS R
            ORDER BY PRIORITY, NAME
            LIMIT 100
        `;try{let u=await K(this.context,c,!0,r,this.connectionManager);if(i!==this.currentSearchId){s.dispose();return}if(u){let d=[];u==="Query executed successfully (no results)."||u.startsWith("Query executed successfully")?d=[]:d=JSON.parse(u);let f=[];d.forEach(E=>{let T=E,h=`${T.NAME.toUpperCase().trim()}|${T.TYPE.toUpperCase().trim()}|${(T.PARENT||"").toUpperCase().trim()}`;o.has(h)||(f.push({NAME:T.NAME,SCHEMA:T.SCHEMA,DATABASE:T.DATABASE,TYPE:T.TYPE,PARENT:T.PARENT,DESCRIPTION:T.DESCRIPTION,MATCH_TYPE:T.MATCH_TYPE,connectionName:r}),o.add(h))}),f.length>0&&this._view&&this._view.webview.postMessage({type:"results",data:f,append:!0})}}catch(u){console.error("Search error:",u),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:u instanceof Error?u.message:String(u)})}finally{s.dispose()}}async searchSourceCode(e){if(!e||e.length<2)return;let r,n=ro.window.activeTextEditor;if(n&&n.document.languageId==="sql"&&(r=this.connectionManager.getConnectionForExecution(n.document.uri.toString())),r||(r=this.connectionManager.getActiveConnectionName()||void 0),!r){this._view?.webview.postMessage({type:"results",data:[],append:!1});return}let i=++this.currentSearchId,s=ro.window.setStatusBarMessage(`$(loading~spin) Searching in source code for "${e}"...`);try{this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:[],append:!1});let o=e.toUpperCase(),a=[],l=`
                SELECT VIEWNAME AS NAME, SCHEMA, DATABASE, DEFINITION AS SOURCE
                FROM _V_VIEW
            `;try{let u=await K(this.context,l,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let d=JSON.parse(u);for(let f of d)f.SOURCE&&DR(f.SOURCE,o)&&a.push({NAME:f.NAME,SCHEMA:f.SCHEMA,DATABASE:f.DATABASE,TYPE:"VIEW",PARENT:"",DESCRIPTION:"Found in view source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching views:",u)}let c=`
                SELECT PROCEDURE AS NAME, SCHEMA, DATABASE, PROCEDURESOURCE AS SOURCE
                FROM _V_PROCEDURE
            `;try{let u=await K(this.context,c,!0,r,this.connectionManager);if(u&&i===this.currentSearchId&&!u.startsWith("Query executed successfully")){let d=JSON.parse(u);for(let f of d)f.SOURCE&&DR(f.SOURCE,o)&&a.push({NAME:f.NAME,SCHEMA:f.SCHEMA,DATABASE:f.DATABASE,TYPE:"PROCEDURE",PARENT:"",DESCRIPTION:"Found in procedure source (excluding comments/strings)",MATCH_TYPE:"SOURCE_CODE",connectionName:r})}}catch(u){console.error("Error searching procedures:",u)}this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"results",data:a,append:!1})}catch(o){console.error("Source code search error:",o),this._view&&i===this.currentSearchId&&this._view.webview.postMessage({type:"error",message:o instanceof Error?o.message:String(o)})}finally{s.dispose()}}_getHtmlForWebview(e){return`<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Schema Search</title>
        <style>
            body { 
                font-family: var(--vscode-font-family); 
                padding: 0; 
                margin: 0;
                color: var(--vscode-foreground); 
                display: flex;
                flex-direction: column;
                height: 100vh;
                overflow: hidden;
            }
            .search-box { 
                display: flex; 
                gap: 5px; 
                padding: 10px;
                flex-shrink: 0;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            input { flex-grow: 1; padding: 5px; background: var(--vscode-input-background); color: var(--vscode-input-foreground); border: 1px solid var(--vscode-input-border); }
            button {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: 6px;
                background-color: var(--vscode-button-secondaryBackground);
                color: var(--vscode-button-secondaryForeground);
                border: 1px solid var(--vscode-contrastBorder, transparent);
                padding: 4px 10px;
                cursor: pointer;
                border-radius: 2px;
                font-family: var(--vscode-font-family);
                font-size: 12px;
                line-height: 18px;
            }
            button:hover { background-color: var(--vscode-button-secondaryHoverBackground); }
            button.primary { background-color: var(--vscode-button-background); color: var(--vscode-button-foreground); }
            button.primary:hover { background-color: var(--vscode-button-hoverBackground); }
            #status { padding: 5px 10px; flex-shrink: 0; }
            .results { 
                list-style: none; 
                padding: 0; 
                margin: 0; 
                flex-grow: 1; 
                overflow-y: auto; 
            }
            .result-item { padding: 8px 10px; border-bottom: 1px solid var(--vscode-panel-border); display: flex; flex-direction: column; cursor: pointer; position: relative; }
            .result-item:hover { background: var(--vscode-list-hoverBackground); }
            .item-header { display: flex; justify-content: space-between; font-weight: bold; }
            .item-details { font-size: 0.9em; opacity: 0.8; display: flex; gap: 10px; }
            .type-badge { font-size: 0.8em; background: var(--vscode-badge-background); color: var(--vscode-badge-foreground); padding: 2px 5px; border-radius: 3px; }
            .tooltip { position: absolute; background: var(--vscode-editorHoverWidget-background); color: var(--vscode-editorHoverWidget-foreground); border: 1px solid var(--vscode-editorHoverWidget-border); padding: 8px; border-radius: 4px; font-size: 0.9em; max-width: 300px; word-wrap: break-word; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.2s, visibility 0.2s; pointer-events: none; }
            .result-item:hover .tooltip { opacity: 1; visibility: visible; }
            .tooltip.top { bottom: 100%; left: 0; margin-bottom: 5px; }
            .tooltip.bottom { top: 100%; left: 0; margin-top: 5px; }
            .cache-badge { background-color: var(--vscode-charts-green); color: white; padding: 1px 4px; border-radius: 2px; font-size: 0.7em; margin-left: 5px; }
            .spinner {
                border: 2px solid transparent;
                border-top: 2px solid var(--vscode-progressBar-background);
                border-radius: 50%;
                width: 14px;
                height: 14px;
                animation: spin 1s linear infinite;
                display: inline-block;
                vertical-align: middle;
                margin-right: 8px;
            }
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            .options-row {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 5px 10px;
                font-size: 12px;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            .options-row label {
                display: flex;
                align-items: center;
                gap: 4px;
                cursor: pointer;
            }
            .options-row input[type="checkbox"] {
                margin: 0;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search tables, columns, view definitions, procedure source..." />
            <button id="searchBtn" class="primary">Search</button>
        </div>
        <div class="options-row">
            <label>
                <input type="checkbox" id="sourceOnlyCheck" />
                Source Code Only (exclude comments/strings)
            </label>
        </div>
        <div id="status"></div>
        <ul class="results" id="resultsList"></ul>

        <script>
            try {
            const vscode = acquireVsCodeApi();
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const sourceOnlyCheck = document.getElementById('sourceOnlyCheck');
            const resultsList = document.getElementById('resultsList');
            const status = document.getElementById('status');

            searchBtn.addEventListener('click', () => {
                const term = searchInput.value;
                if (term) {
                    status.innerHTML = '<span class="spinner"></span> Searching...';
                    const messageType = sourceOnlyCheck.checked ? 'searchSource' : 'search';
                    vscode.postMessage({ type: messageType, value: term });
                }
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchBtn.click();
                }
            });

            window.addEventListener('message', event => {
                const message = event.data;
                switch (message.type) {
                    case 'results':
                        status.textContent = '';
                        renderResults(message.data, message.append);
                        break;
                    case 'error':
                        status.textContent = 'Error: ' + message.message;
                        break;
                }
            });

            function renderResults(data, append) {
                if (!append) {
                    resultsList.innerHTML = '';
                }

                if (!data || data.length === 0) {
                    if (!append && resultsList.children.length === 0) {
                        status.textContent = 'No results found.';
                    }
                    return;
                }

                data.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'result-item';

                    const parentInfo = item.PARENT ? \`Parent: \${item.PARENT}\` : '';
                    const schemaInfo = item.SCHEMA ? \`Schema: \${item.SCHEMA}\` : '';
                    const databaseInfo = item.DATABASE ? \`Database: \${item.DATABASE}\` : '';
                    const description = item.DESCRIPTION && item.DESCRIPTION.trim() ? item.DESCRIPTION : '';
                    
                    // Add match type indicator
                    const matchTypeInfo = item.MATCH_TYPE === 'DEFINITION' ? 'Match in view definition' :
                                        item.MATCH_TYPE === 'SOURCE' ? 'Match in procedure source' :
                                        item.MATCH_TYPE === 'NAME' ? 'Match in name' : '';
                    
                    li.innerHTML = \`
                        <div class="item-header">
                            <span>\${item.NAME}</span>
                            <span class="type-badge">\${item.TYPE}</span>
                        </div>
                        <div class="item-details">
                            <span>\${databaseInfo}</span>
                            <span>\${schemaInfo}</span>
                            <span>\${parentInfo}</span>
                            \${matchTypeInfo ? \`<span style="font-style: italic; color: var(--vscode-descriptionForeground);">\${matchTypeInfo}</span>\` : ''}
                        </div>
                        \${description ? \`<div class="tooltip bottom">\${description}</div>\` : ''}
                    \`;
                    
                    // Add double-click handler to navigate to schema tree
                    li.addEventListener('dblclick', () => {
                        vscode.postMessage({ 
                            type: 'navigate', 
                            name: item.NAME,
                            schema: item.SCHEMA,
                            database: item.DATABASE,
                            objType: item.TYPE,
                            parent: item.PARENT,
                            connectionName: item.connectionName // Pass back connection name
                        });
                    });
                    
                    resultsList.appendChild(li);
                });
            }
            } catch (e) {
                document.body.innerHTML = '<pre style="color:red;">Error loading Schema Search: ' + e.message + '\\n' + e.stack + '</pre>';
            }
        </script>
    </body>
    </html>`}};no();var Pa=j(require("vscode"));no();var FE=class{provideDocumentLinks(e,r){let n=[],i=e.getText(),s=/[a-zA-Z0-9_"]+(\.[a-zA-Z0-9_"]*)+/g,o;for(;(o=s.exec(i))!==null;){let a=e.positionAt(o.index),l=e.positionAt(o.index+o[0].length),c=new Pa.Range(a,l),u=Dr.getObjectAtPosition(i,o.index+Math.floor(o[0].length/2));if(u){if(o[0].split(".").length===2&&!u.database&&this.isLikelyAliasReference(i,o.index))continue;let E={name:u.name,schema:u.schema,database:u.database},T=Pa.Uri.parse(`command:netezza.revealInSchema?${encodeURIComponent(JSON.stringify(E))}`),h=new Pa.DocumentLink(c,T);h.tooltip=`Reveal ${u.name} in Schema`,n.push(h)}}return n}isLikelyAliasReference(e,r){let i=e.substring(Math.max(0,r-200),r).replace(/--[^\n]*/g,"").replace(/\/\*[\s\S]*?\*\//g,"").toUpperCase();return/(?:FROM|JOIN)\s+[a-zA-Z0-9_"]*$/i.test(i)?!1:!!i.match(/\b(SELECT|WHERE|ON|HAVING|ORDER\s+BY|GROUP\s+BY|AND|OR|SET|VALUES)\b(?!.*\b(?:FROM|JOIN)\b)/)}};var HE=j(require("vscode")),GE=class{provideFoldingRanges(e,r,n){let i=[],s=[],o=/^\s*--\s*REGION\b/i,a=/^\s*--\s*ENDREGION\b/i;for(let l=0;l<e.lineCount;l++){let u=e.lineAt(l).text;if(o.test(u))s.push(l);else if(a.test(u)&&s.length>0){let d=s.pop();i.push(new HE.FoldingRange(d,l,HE.FoldingRangeKind.Region))}}return i}};var zt=j(require("vscode"));wE();var Mc=class{constructor(e,r){this._extensionUri=e;this._context=r}static{this.viewType="netezza.queryHistory"}resolveWebviewView(e,r,n){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),this.sendHistoryToWebview(),e.webview.onDidReceiveMessage(async i=>{switch(i.type){case"refresh":this.refresh();break;case"clearAll":await this.clearAllHistory();break;case"deleteEntry":await this.deleteEntry(i.id,i.query);break;case"copyQuery":await zt.env.clipboard.writeText(i.query),zt.window.showInformationMessage("Query copied to clipboard");break;case"executeQuery":await this.executeQuery(i.query);break;case"getHistory":await this.sendHistoryToWebview();break;case"toggleFavorite":await this.toggleFavorite(i.id);break;case"updateEntry":await this.updateEntry(i.id,i.tags,i.description);break;case"requestEdit":await this.requestEdit(i.id);break;case"requestTagFilter":await this.requestTagFilter(i.tags);break;case"showFavoritesOnly":await this.sendFavoritesToWebview();break;case"filterByTag":await this.sendFilteredByTagToWebview(i.tag);break}})}refresh(){this._view&&this.sendHistoryToWebview()}async sendHistoryToWebview(){if(!this._view)return;let e=new Rr(this._context),r=await e.getHistory(),n=await e.getStats();console.log("QueryHistoryView: sending history to webview, entries=",r.length),this._view.webview.postMessage({type:"historyData",history:r,stats:n})}async clearAllHistory(){await zt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await new Rr(this._context).clearHistory(),this.refresh(),zt.window.showInformationMessage("Query history cleared"))}async deleteEntry(e,r){let n=r?`: ${r.substring(0,50)}${r.length>50?"...":""}`:"";await zt.window.showWarningMessage(`Are you sure you want to delete this query${n}?`,{modal:!0},"Delete")==="Delete"&&(await new Rr(this._context).deleteEntry(e),this.refresh())}async executeQuery(e){let r=await zt.workspace.openTextDocument({content:e,language:"sql"});await zt.window.showTextDocument(r)}async toggleFavorite(e){await new Rr(this._context).toggleFavorite(e),this.refresh()}async updateEntry(e,r,n){await new Rr(this._context).updateEntry(e,r,n),this.refresh(),zt.window.showInformationMessage("Entry updated successfully")}async requestEdit(e){let i=(await new Rr(this._context).getHistory()).find(a=>a.id===e);if(!i){zt.window.showErrorMessage("Entry not found");return}let s=await zt.window.showInputBox({prompt:"Enter tags (comma separated)",value:i.tags||"",placeHolder:"tag1, tag2, tag3"});if(s===void 0)return;let o=await zt.window.showInputBox({prompt:"Enter description",value:i.description||"",placeHolder:"Description for this query"});o!==void 0&&await this.updateEntry(e,s,o)}async requestTagFilter(e){if(e.length===1)await this.sendFilteredByTagToWebview(e[0]);else if(e.length>1){let r=await zt.window.showQuickPick(e,{placeHolder:"Filter by which tag?"});r&&await this.sendFilteredByTagToWebview(r)}}async sendFavoritesToWebview(){if(!this._view)return;let e=new Rr(this._context),r=await e.getFavorites(),n=await e.getStats();this._view.webview.postMessage({type:"historyData",history:r,stats:n,filter:"favorites"})}async sendFilteredByTagToWebview(e){if(!this._view)return;let r=new Rr(this._context),n=await r.getByTag(e),i=await r.getStats();this._view.webview.postMessage({type:"historyData",history:n,stats:i,filter:`tag: ${e}`})}_getHtmlForWebview(e){let r=e.asWebviewUri(zt.Uri.joinPath(this._extensionUri,"media","queryHistory.css")),n=e.asWebviewUri(zt.Uri.joinPath(this._extensionUri,"media","queryHistory.js"));return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src ${e.cspSource};">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Query History</title>
    <link href="${r}" rel="stylesheet">
</head>
<body>
    <div class="toolbar">
        <div class="toolbar-top">
            <input type="search" id="searchInput" placeholder="Search queries..." />
            <span class="stats" id="stats">Loading...</span>
        </div>
        <div class="toolbar-buttons">
            <button class="secondary" id="showAllBtn">\u{1F4DC} All</button>
            <button class="secondary" id="showFavoritesBtn">\u2B50 Favorites</button>
            <button class="secondary" id="refreshBtn">\u21BB Refresh</button>
            <button class="secondary" id="clearAllBtn">\u{1F5D1}\uFE0F Clear All</button>
        </div>
    </div>
    <div class="history-container" id="historyContainer">
        <div class="empty-state">
            <div class="empty-state-icon">\u{1F4DC}</div>
            <div>No query history yet</div>
        </div>
    </div>

    <script src="${n}"></script>
</body>
</html>`}};var Ot=j(require("vscode"));Ar();var WE=class t{static{this.viewType="netezza.editData"}static async createOrShow(e,r,n,i){if(!r||!r.label||!r.dbName||!r.schema){Ot.window.showErrorMessage("Invalid table selection");return}let s=r.label,o=r.schema,a=r.dbName,l=`${a}.${o}.${s}`,c=Ot.window.createWebviewPanel(t.viewType,`Edit: ${s}`,Ot.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Ot.Uri.joinPath(e,"media")],retainContextWhenHidden:!0});c.webview.html=this._getHtmlForWebview(c.webview,e,l),this._loadData(c,a,o,s,r.connectionName,n,i),c.webview.onDidReceiveMessage(async u=>{try{switch(u.command){case"save":await this._handleSave(c,u.changes,l,r.connectionName,n,i),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"refresh":this._loadData(c,a,o,s,r.connectionName,n,i);break;case"updateTableComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON TABLE ${l} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Table comment updated");break;case"updateColumnComment":await this._execSimpleCommand(n,i,r.connectionName,`COMMENT ON COLUMN ${l}.${u.column} IS '${(u.comment||"").replace(/'/g,"''")}'`,"Column comment updated");break;case"addColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} ADD COLUMN ${u.name} ${u.type}`,`Column ${u.name} added`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"dropColumn":await this._execSimpleCommand(n,i,r.connectionName,`ALTER TABLE ${l} DROP COLUMN ${u.column}`,`Column ${u.column} dropped`,!0),this._loadData(c,a,o,s,r.connectionName,n,i);break;case"error":Ot.window.showErrorMessage(u.text);break;case"info":Ot.window.showInformationMessage(u.text);break}}catch(d){Ot.window.showErrorMessage(`Error: ${d instanceof Error?d.message:String(d)}`)}})}static async _execSimpleCommand(e,r,n,i,s,o=!1){try{await K(e,i,!0,n,r),Ot.window.showInformationMessage(s)}catch(a){Ot.window.showErrorMessage(`Operation failed: ${a instanceof Error?a.message:String(a)}`)}}static async _loadData(e,r,n,i,s,o,a){let l=`${r}.${n}.${i}`;try{e.webview.postMessage({command:"setLoading",loading:!0,message:"Fetching data..."});let c=p=>K(o,p,!0,s,a),[u,d]=await Promise.all([K(o,`SELECT ROWID, * FROM ${l} LIMIT 50000`,!0,s,a),x0(c,r,n,i)]),f=d.tableComment||"",E=M0(d.columns),T=[];try{let p=u||"[]";console.log("[EditDataProvider] dataResult type:",typeof p,"length:",typeof p=="string"?p.length:"N/A"),console.log("[EditDataProvider] dataResult preview:",typeof p=="string"?p.substring(0,200):"array"),typeof p=="string"?p.trim().startsWith("[")?T=JSON.parse(p):(console.log("[EditDataProvider] dataResult is NOT JSON array:",p.substring(0,100)),T=[]):Array.isArray(p)&&(T=p),console.log("[EditDataProvider] Parsed data rows:",T.length)}catch(p){console.error("[EditDataProvider] Data Parse Error",p)}let h=[];E.length>0?h=["ROWID",...E.map(p=>p.ATTNAME)]:T.length>0&&(h=Object.keys(T[0])),console.log("[EditDataProvider] Sending to webview:",{dataRows:T.length,columns:h.length}),e.webview.postMessage({command:"setData",data:T,columns:h,metadata:{tableComment:f,columns:E}})}catch(c){let u=c instanceof Error?c.message:String(c);Ot.window.showErrorMessage(`Failed to load data: ${u}`),e.webview.postMessage({command:"setError",text:u})}finally{e.webview.postMessage({command:"setLoading",loading:!1})}}static async _handleSave(e,r,n,i,s,o){let a=[];if(r.deletes&&r.deletes.length>0){let l=r.deletes.join(",");a.push(`DELETE FROM ${n} WHERE ROWID IN (${l})`)}if(r.updates&&r.updates.length>0)for(let l of r.updates){let c=[];for(let[u,d]of Object.entries(l.changes))u!=="ROWID"&&c.push(`${u} = ${this._formatValue(d)}`);c.length>0&&a.push(`UPDATE ${n} SET ${c.join(", ")} WHERE ROWID = ${l.rowId}`)}if(r.inserts&&r.inserts.length>0)for(let l of r.inserts){let c=Object.keys(l).filter(d=>d!=="ROWID");if(c.length===0)continue;let u=c.map(d=>this._formatValue(l[d]));a.push(`INSERT INTO ${n} (${c.join(", ")}) VALUES (${u.join(", ")})`)}if(a.length===0){Ot.window.showInformationMessage("No changes to save.");return}try{let l=["BEGIN",...a,"COMMIT"];await Dc(s,l,o),Ot.window.showInformationMessage(`Successfully executed ${a.length} changes.`)}catch(l){Ot.window.showErrorMessage(`Failed to save changes: ${l instanceof Error?l.message:String(l)}`)}}static _formatValue(e){return e==null||e===""?"NULL":typeof e=="number"?e.toString():typeof e=="boolean"?e?"TRUE":"FALSE":`'${String(e).replace(/'/g,"''")}'`}static _getHtmlForWebview(e,r,n){let i=e.asWebviewUri(Ot.Uri.joinPath(r,"media","tanstack-table-core.js")),s=e.asWebviewUri(Ot.Uri.joinPath(r,"media","tanstack-virtual-core.js")),o=e.asWebviewUri(Ot.Uri.joinPath(r,"media","editDataPanel.js")),a=e.asWebviewUri(Ot.Uri.joinPath(r,"media","editDataPanel.css")),l=e.asWebviewUri(Ot.Uri.joinPath(r,"media","codicon.ttf")),c=U4();return`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; font-src ${e.cspSource}; style-src ${e.cspSource} 'unsafe-inline'; script-src 'nonce-${c}';">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link href="${a}" rel="stylesheet">
            <style>
                @font-face {
                    font-family: 'codicon';
                    src: url('${l}') format('truetype');
                }
                .codicon { font-family: 'codicon'; }
            </style>
            <script nonce="${c}" src="${i}"></script>
            <script nonce="${c}" src="${s}"></script>
            <title>Edit Data: ${n}</title>
        </head>
        <body>
            <div class="main-layout">
                <!-- Tabs Header -->
                <div class="tabs-header">
                    <div class="tab active" data-target="tab-data">
                        Data
                    </div>
                    <div class="tab" data-target="tab-metadata">
                        Table Description
                    </div>
                </div>

                <!-- Tab: Data -->
                <div id="tab-data" class="tab-content active">
                    <div class="toolbar">
                        <span id="status" class="status"></span>
                        <div class="actions">
                            <button id="refreshBtn">Refresh</button>
                            <button id="addRowBtn">Add Row</button>
                            <button id="saveBtn" class="primary">Save Changes</button>
                        </div>
                    </div>
                    <div id="gridContainer" class="grid-container"></div>
                </div>

                <!-- Tab: Metadata -->
                <div id="tab-metadata" class="tab-content">
                    <div id="metadataContent" class="metadata-content">
                        <!-- Populated by JS -->
                        Loading metadata...
                    </div>
                </div>
            </div>
            
            <script nonce="${c}" src="${o}"></script>
        </body>
        </html>`}};function U4(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function PR(t,e){return e?t.startsWith(`${e}|`):!0}function mn(t){if(!t||typeof t!="object")return;let e=t;if(e.label)return typeof e.label=="string"?e.label:e.label.label}function YE(t){let e={};return t.forEach((r,n)=>{e[n]=r}),e}function U0(t){let e={};return t.forEach((r,n)=>{let i={};r.data.forEach((s,o)=>{i[o]=s}),e[n]={data:i,timestamp:r.timestamp}}),e}function xR(t,e,r){return e?`${t}.${e}.${r}`:`${t}..${r}`}var $E=class{constructor(){this.dbCache=new Map;this.schemaCache=new Map;this.tableCache=new Map;this.columnCache=new Map;this.tableIdMap=new Map;this.typeGroupCache=new Map}setOnDataChange(e){this.onDataChange=e}clearAll(){this.dbCache.clear(),this.schemaCache.clear(),this.tableCache.clear(),this.columnCache.clear(),this.tableIdMap.clear(),this.typeGroupCache.clear()}getDatabases(e){return this.dbCache.get(e)?.data}setDatabases(e,r){this.dbCache.set(e,{data:r,timestamp:Date.now()}),this.onDataChange?.("db")}getSchemas(e,r){let n=`${e}|${r}`;return this.schemaCache.get(n)?.data}setSchemas(e,r,n){let i=`${e}|${r}`;this.schemaCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("schema")}getTables(e,r){let n=`${e}|${r}`;return this.tableCache.get(n)?.data}getTablesAllSchemas(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n))for(let l of a.data){let c=mn(l);c&&!s.has(c.toUpperCase())&&(s.add(c.toUpperCase()),i.push(l))}return i.length>0?i:void 0}setTables(e,r,n,i){let s=Date.now(),o=`${e}|${r}`;this.tableCache.set(o,{data:n,timestamp:s}),this.tableIdMap.set(o,{data:i,timestamp:s}),this.onDataChange?.("table")}getObjectsWithSchema(e,r){let n=`${e}|${r}.`,i=[],s=new Set;for(let[o,a]of this.tableCache)if(o.startsWith(n)||o===`${e}|${r}..`){let l=o.split("|");if(l.length<2)continue;let u=l[1].split("."),d=(u.length>1?u[1]:"")||"",f=this.tableIdMap.get(o);for(let E of a.data){let T=mn(E),h=`${d}.${T}`;if(T&&!s.has(h)){s.add(h);let p;if(f){let S=xR(r,d||void 0,T);p=f.data.get(S)}i.push({item:E,schema:d,objId:p})}}}return i}getColumns(e,r){let n=`${e}|${r}`;return this.columnCache.get(n)?.data}setColumns(e,r,n){let i=`${e}|${r}`;this.columnCache.set(i,{data:n,timestamp:Date.now()}),this.onDataChange?.("column")}findTableId(e,r){let n=`${e}|`;for(let[i,s]of this.tableIdMap)if(i.startsWith(n)){let o=s.data.get(r);if(o!==void 0)return o}}getTypeGroups(e,r){let n=`${e}|${r}`;return this.typeGroupCache.get(n)?.data}setTypeGroups(e,r,n){let i=`${e}|${r}`;this.typeGroupCache.set(i,{data:n,timestamp:Date.now()})}findObjectWithType(e,r,n,i){let s=`${e}|`,o=i.toUpperCase();for(let[a,l]of this.tableCache){if(!a.startsWith(s))continue;let c=a.split("|");if(c.length<2)continue;let d=c[1].split("."),f=d[0],E=d.length>1?d[1]:void 0;if(f.toUpperCase()===r.toUpperCase()&&!(n!==void 0&&n!==""&&E?.toUpperCase()!==n.toUpperCase()))for(let T of l.data){let h=mn(T);if(h?.toUpperCase()===o){let p=T.objType||(T.kind===18?"VIEW":"TABLE"),S=xR(f,E,h),R=this.tableIdMap.get(a)?.data.get(S);if(R!==void 0)return{objId:R,objType:p,schema:E||"",name:h||i}}}}}invalidateSchema(e,r,n){let i=n?`${r}.${n}`:`${r}..`,s=`${e}|${i}`;this.tableCache.has(s)&&(this.tableCache.delete(s),this.tableIdMap.delete(s),this.onDataChange?.("table"),console.log(`[CacheStorage] Invalidated cache for ${s}`))}getDbCacheMap(){return this.dbCache}getSchemaCacheMap(){return this.schemaCache}getTableCacheMap(){return this.tableCache}getTableIdMapMap(){return this.tableIdMap}loadDbCache(e){this.dbCache=e}loadSchemaCache(e){this.schemaCache=e}loadTableCache(e){this.tableCache=e}loadTableIdMap(e){this.tableIdMap=e}};var VE=j(require("vscode"));var kE=class{constructor(e,r){this.context=e;this.storage=r;this.CACHE_TTL=14400*1e3;this.savePending=!1;this.context.storageUri&&(this.cacheFilePath=VE.Uri.joinPath(this.context.storageUri,"schema-cache.json").fsPath,this.ensureStorageDir())}async ensureStorageDir(){if(this.context.storageUri)try{await VE.workspace.fs.createDirectory(this.context.storageUri)}catch{}}async initialize(){try{let e=["sqlCompletion.dbCache","sqlCompletion.schemaCache","sqlCompletion.tableCache","sqlCompletion.columnCache","sqlCompletion.tableIdMap"];for(let r of e)this.context.workspaceState.get(r)!==void 0&&await this.context.workspaceState.update(r,void 0)}catch(e){console.error("[CachePersistence] Error cleaning up legacy workspace state:",e)}if(this.cacheFilePath)try{let e=require("fs");if(e.existsSync(this.cacheFilePath)){let r=await e.promises.readFile(this.cacheFilePath,"utf-8"),n=JSON.parse(r),i=Date.now();if(n.dbCache){let s=new Map;for(let[o,a]of Object.entries(n.dbCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadDbCache(s)}if(n.schemaCache){let s=new Map;for(let[o,a]of Object.entries(n.schemaCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadSchemaCache(s)}if(n.tableCache){let s=new Map;for(let[o,a]of Object.entries(n.tableCache))i-a.timestamp<this.CACHE_TTL&&s.set(o,a);this.storage.loadTableCache(s)}if(n.tableIdMap){let s=new Map;for(let[o,a]of Object.entries(n.tableIdMap))(this.storage.getTableCacheMap().has(o)||i-a.timestamp<this.CACHE_TTL)&&s.set(o,{data:new Map(Object.entries(a.data)),timestamp:a.timestamp});this.storage.loadTableIdMap(s)}}}catch(e){console.error("[CachePersistence] Error loading cache from disk:",e)}}scheduleSave(e){this.savePending||(this.savePending=!0,this.saveTimeoutId=setTimeout(()=>this.flushSave(),2e3))}async flushSave(){if(this.savePending=!1,!!this.cacheFilePath)try{let e=require("fs"),r={dbCache:YE(this.storage.getDbCacheMap()),schemaCache:YE(this.storage.getSchemaCacheMap()),tableCache:YE(this.storage.getTableCacheMap()),tableIdMap:U0(this.storage.getTableIdMapMap())};await e.promises.writeFile(this.cacheFilePath,JSON.stringify(r),"utf-8")}catch(e){console.error("[CachePersistence] Error saving cache to disk:",e)}}async clearCache(){if(this.saveTimeoutId&&(clearTimeout(this.saveTimeoutId),this.saveTimeoutId=void 0),this.savePending=!1,this.storage.clearAll(),this.cacheFilePath)try{let e=require("fs");e.existsSync(this.cacheFilePath)&&await e.promises.unlink(this.cacheFilePath)}catch(e){console.error("[CachePersistence] Error clearing cache file:",e)}}};var qE=class{constructor(e){this.storage=e;this.columnPrefetchInProgress=new Set;this.allObjectsPrefetchTriggeredSet=new Set;this.connectionPrefetchTriggered=new Set;this.connectionPrefetchInProgress=new Set}async prefetchColumnsForSchema(e,r,n,i){let s=n?`${r}.${n}`:`${r}..`,o=`${e}|${s}`;if(this.columnPrefetchInProgress.has(o))return;let a=this.storage.getTables(e,s);if(!(!a||a.length===0)){this.columnPrefetchInProgress.add(o);try{let l=[];for(let u of a){let d=mn(u);if(!d)continue;let f=`${r}.${n||""}.${d}`;this.storage.getColumns(e,f)||l.push(d)}if(l.length===0)return;let c=10;for(let u=0;u<l.length;u+=c){let f=l.slice(u,u+c).map(p=>`'${p}'`).join(","),E=`${r}..`,T=n?`AND UPPER(O.SCHEMA) = UPPER('${n}')`:"",h=`
                    SELECT O.OBJNAME AS TABLENAME, C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                    FROM ${E}_V_RELATION_COLUMN C
                    JOIN ${E}_V_OBJECT_DATA O ON C.OBJID = O.OBJID
                    WHERE UPPER(O.OBJNAME) IN (${f.toUpperCase()}) 
                    ${T}
                    AND UPPER(O.DBNAME) = UPPER('${r}')
                    ORDER BY O.OBJNAME, C.ATTNUM
                `;try{let p=await i(h);if(p){let S=JSON.parse(p),I=new Map;for(let R of S){let A=R.TABLENAME;I.has(A)||I.set(A,[]),I.get(A).push({ATTNAME:R.ATTNAME,FORMAT_TYPE:R.FORMAT_TYPE,label:R.ATTNAME,kind:5,detail:R.FORMAT_TYPE})}for(let[R,A]of I){let N=`${r}.${n||""}.${R}`;this.storage.setColumns(e,N,A)}}}catch(p){console.error("[CachePrefetcher] Error fetching batch columns:",p)}}}finally{this.columnPrefetchInProgress.delete(o)}}}async prefetchAllObjects(e,r){let n=`ALL_OBJECTS|${e}`;if(!this.allObjectsPrefetchTriggeredSet.has(n)){this.allObjectsPrefetchTriggeredSet.add(n),console.log(`[CachePrefetcher] Starting background prefetch of all objects (Connection: ${e})`);try{let s=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW') 
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!s)return;let o=JSON.parse(s),a=new Map;for(let l of o){let c=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}`:`${l.DBNAME}..`;a.has(c)||a.set(c,{tables:[],idMap:new Map});let u=a.get(c);u.tables.push({OBJNAME:l.OBJNAME,label:l.OBJNAME,kind:l.OBJTYPE==="VIEW"?18:6,detail:l.SCHEMA?l.OBJTYPE==="VIEW"?"View":"Table":`${l.OBJTYPE==="VIEW"?"View":"Table"} (${l.SCHEMA})`,objType:l.OBJTYPE,OBJID:l.OBJID,SCHEMA:l.SCHEMA});let d=l.SCHEMA?`${l.DBNAME}.${l.SCHEMA}.${l.OBJNAME}`:`${l.DBNAME}..${l.OBJNAME}`;u.idMap.set(d,l.OBJID)}for(let[l,c]of a)this.storage.setTables(e,l,c.tables,c.idMap);console.log(`[CachePrefetcher] Prefetched tables for ${a.size} schema(s) on ${e}`)}catch(i){console.error("[CachePrefetcher] Error in prefetchAllObjects:",i)}}}hasAllObjectsPrefetchTriggered(e){return this.allObjectsPrefetchTriggeredSet.has(`ALL_OBJECTS|${e}`)}hasConnectionPrefetchTriggered(e){return this.connectionPrefetchTriggered.has(e)}triggerConnectionPrefetch(e,r){this.connectionPrefetchTriggered.has(e)||this.connectionPrefetchInProgress.has(e)||(this.connectionPrefetchInProgress.add(e),console.log(`[CachePrefetcher] Starting eager prefetch for connection: ${e}`),this.executeConnectionPrefetch(e,r).catch(n=>console.error("[CachePrefetcher] Connection prefetch error:",n)).finally(()=>{this.connectionPrefetchInProgress.delete(e),this.connectionPrefetchTriggered.add(e),console.log(`[CachePrefetcher] Completed eager prefetch for connection: ${e}`)}))}async executeConnectionPrefetch(e,r){let n=await this.prefetchDatabases(e,r);if(!(!n||n.length===0)){for(let i of n)await this.prefetchSchemasForDb(e,i,r),await new Promise(s=>setTimeout(s,50));await this.prefetchAllTablesAndViews(e,r),await this.prefetchAllColumnsForConnection(e,r)}}async prefetchDatabases(e,r){if(this.storage.getDatabases(e))return this.storage.getDatabases(e)?.map(i=>mn(i)).filter(Boolean)||[];try{let i=await r("SELECT DATABASE FROM system.._v_database ORDER BY DATABASE");if(!i)return[];let s=JSON.parse(i),o=s.map(a=>({DATABASE:a.DATABASE,label:a.DATABASE,kind:9,detail:"Database"}));return this.storage.setDatabases(e,o),s.map(a=>a.DATABASE)}catch(n){return console.error("[CachePrefetcher] prefetchDatabases error:",n),[]}}async prefetchSchemasForDb(e,r,n){if(!this.storage.getSchemas(e,r))try{let i=`SELECT SCHEMA FROM ${r}.._V_SCHEMA ORDER BY SCHEMA`,s=await n(i);if(!s)return;let a=JSON.parse(s).filter(l=>l.SCHEMA!=null&&l.SCHEMA!=="").map(l=>({SCHEMA:l.SCHEMA,label:l.SCHEMA,kind:19,detail:`Schema in ${r}`,insertText:l.SCHEMA,sortText:l.SCHEMA,filterText:l.SCHEMA}));this.storage.setSchemas(e,r,a)}catch(i){console.error(`[CachePrefetcher] prefetchSchemasForDb error for ${r}:`,i)}}async prefetchAllTablesAndViews(e,r){try{let i=await r(`
                SELECT OBJNAME, OBJID, SCHEMA, DBNAME, OBJTYPE
                FROM _V_OBJECT_DATA 
                WHERE OBJTYPE IN ('TABLE', 'VIEW', 'EXTERNAL TABLE')
                ORDER BY DBNAME, SCHEMA, OBJNAME
            `);if(!i)return;let s=JSON.parse(i),o=new Map;for(let a of s){let l=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}`:`${a.DBNAME}..`;o.has(l)||o.set(l,{tables:[],idMap:new Map});let c=o.get(l);c.tables.push({OBJNAME:a.OBJNAME,label:a.OBJNAME,kind:a.OBJTYPE==="VIEW"?18:6,detail:a.SCHEMA?a.OBJTYPE:`${a.OBJTYPE} (${a.SCHEMA})`,objType:a.OBJTYPE});let u=a.SCHEMA?`${a.DBNAME}.${a.SCHEMA}.${a.OBJNAME}`:`${a.DBNAME}..${a.OBJNAME}`;c.idMap.set(u,a.OBJID)}for(let[a,l]of o)this.storage.getTables(e,a)||this.storage.setTables(e,a,l.tables,l.idMap);console.log(`[CachePrefetcher] Prefetched tables/views for ${o.size} schema(s)`)}catch(n){console.error("[CachePrefetcher] prefetchAllTablesAndViews error:",n)}}async prefetchAllColumnsForConnection(e,r){try{let n=`${e}|`,i=[];for(let[a,l]of this.storage.tableCache){if(!a.startsWith(n))continue;let c=a.split("|");if(c.length<2)continue;let d=c[1].split("."),f=d[0],E=d.length>1?d[1]:"";for(let T of l.data){let h=mn(T);h&&i.push({schema:E,name:h,db:f})}}if(i.length===0)return;let s=50,o=0;for(let a=0;a<i.length;a+=s){let l=i.slice(a,a+s),c=new Map;for(let u of l)c.has(u.db)||c.set(u.db,[]),c.get(u.db).push(u);for(let[u,d]of c){let f=d.map(T=>`(UPPER(O.SCHEMA) = UPPER('${T.schema}') AND UPPER(O.OBJNAME) = UPPER('${T.name}'))`).join(" OR "),E=`
                        SELECT O.OBJNAME AS TABLENAME, O.SCHEMA, O.DBNAME, 
                               C.ATTNAME, C.FORMAT_TYPE, C.ATTNUM
                        FROM ${u}.._V_RELATION_COLUMN C
                        JOIN ${u}.._V_OBJECT_DATA O ON C.OBJID = O.OBJID
                        WHERE O.DBNAME = '${u}' 
                        AND (${f})
                        ORDER BY O.SCHEMA, O.OBJNAME, C.ATTNUM
                    `;try{let T=await r(E);if(T){let h=JSON.parse(T),p=new Map;for(let S of h){let I=`${S.DBNAME}.${S.SCHEMA||""}.${S.TABLENAME}`;p.has(I)||p.set(I,[]),p.get(I).push({ATTNAME:S.ATTNAME,FORMAT_TYPE:S.FORMAT_TYPE,label:S.ATTNAME,kind:5,detail:S.FORMAT_TYPE})}for(let[S,I]of p)this.storage.getColumns(e,S)||(this.storage.setColumns(e,S,I),o++)}}catch(T){console.error(`[CachePrefetcher] Error fetching batch columns for DB ${u}:`,T)}}await new Promise(u=>setTimeout(u,10))}console.log(`[CachePrefetcher] Prefetched columns for ${o} tables/views (Batched)`)}catch(n){console.error("[CachePrefetcher] prefetchAllColumnsForConnection error:",n)}}};function B0(t,e,r){let n=[],i=e.toLowerCase();for(let[s,o]of t.tableCache){if(!PR(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],d=c.length>1?c[1]:void 0;for(let f of o.data){let E=mn(f);if(E&&E.toLowerCase().includes(i)){let T=f.objType||(f.kind===18?"VIEW":"TABLE");n.push({name:E,type:T,database:u,schema:d||(f.detail&&f.detail.includes("(")?f.detail.match(/\((.*?)\)/)?.[1]:void 0)})}}}for(let[s,o]of t.columnCache){if(!PR(s,r))continue;let a=s.split("|");if(a.length<2)continue;let c=a[1].split("."),u=c[0],d=c[1],f=c[2];for(let E of o.data){let T=mn(E);T&&T.toLowerCase().includes(i)&&n.push({name:T,type:"COLUMN",database:u,schema:d,parent:f})}}return n}var XE=class{constructor(e){this.storage=new $E,this.persistence=new kE(e,this.storage),this.prefetcher=new qE(this.storage),this.storage.setOnDataChange(r=>{this.persistence.scheduleSave(r)})}async initialize(){return this.persistence.initialize()}scheduleSave(e){this.persistence.scheduleSave(e)}async flushSave(){return this.persistence.flushSave()}async clearCache(){return this.persistence.clearCache()}getDatabases(e){return this.storage.getDatabases(e)}setDatabases(e,r){this.storage.setDatabases(e,r)}getSchemas(e,r){return this.storage.getSchemas(e,r)}setSchemas(e,r,n){this.storage.setSchemas(e,r,n)}getTables(e,r){return this.storage.getTables(e,r)}getTablesAllSchemas(e,r){return this.storage.getTablesAllSchemas(e,r)}setTables(e,r,n,i){this.storage.setTables(e,r,n,i)}getObjectsWithSchema(e,r){return this.storage.getObjectsWithSchema(e,r)}getColumns(e,r){return this.storage.getColumns(e,r)}setColumns(e,r,n){this.storage.setColumns(e,r,n)}findTableId(e,r){return this.storage.findTableId(e,r)}getTypeGroups(e,r){return this.storage.getTypeGroups(e,r)}setTypeGroups(e,r,n){this.storage.setTypeGroups(e,r,n)}findObjectWithType(e,r,n,i){return this.storage.findObjectWithType(e,r,n,i)}invalidateSchema(e,r,n){this.storage.invalidateSchema(e,r,n)}search(e,r){return B0(this.storage,e,r)}async prefetchColumnsForSchema(e,r,n,i){return this.prefetcher.prefetchColumnsForSchema(e,r,n,i)}async prefetchAllObjects(e,r){return this.prefetcher.prefetchAllObjects(e,r)}hasAllObjectsPrefetchTriggered(e){return this.prefetcher.hasAllObjectsPrefetchTriggered(e)}hasConnectionPrefetchTriggered(e){return this.prefetcher.hasConnectionPrefetchTriggered(e)}triggerConnectionPrefetch(e,r){this.prefetcher.triggerConnectionPrefetch(e,r)}get schemaCache(){return this.storage.schemaCache}get tableCache(){return this.storage.tableCache}get columnCache(){return this.storage.columnCache}get tableIdMap(){return this.storage.tableIdMap}get typeGroupCache(){return this.storage.typeGroupCache}};var Vr=j(require("vscode"));var sr=j(require("vscode"));function F0(t){switch(t){case"error":return sr.DiagnosticSeverity.Error;case"warning":return sr.DiagnosticSeverity.Warning;case"information":return sr.DiagnosticSeverity.Information;case"hint":return sr.DiagnosticSeverity.Hint;case"off":return null;default:return sr.DiagnosticSeverity.Warning}}function MR(t,e){let r=!1,n=!1,i=!1,s=!1;for(let o=0;o<e&&o<t.length;o++){let a=t[o],l=o+1<t.length?t[o+1]:"";i?a===`
`&&(i=!1):s?a==="*"&&l==="/"&&(s=!1,o++):r?a==="'"&&t[o-1]!=="\\"&&(r=!1):n?a==='"'&&t[o-1]!=="\\"&&(n=!1):a==="-"&&l==="-"?i=!0:a==="/"&&l==="*"?s=!0:a==="'"?r=!0:a==='"'&&(n=!0)}return r||n||i||s}function on(t,e){let r=[],n,i=new RegExp(e.source,e.flags.includes("g")?e.flags:e.flags+"g");for(;(n=i.exec(t))!==null;)MR(t,n.index)||r.push(n);return r}var B4={id:"NZ001",name:"Select Star",description:"Avoid using SELECT * - specify explicit column names for better performance and maintainability",defaultSeverity:sr.DiagnosticSeverity.Warning,check(t){let e=[],n=on(t,/\bSELECT\s+\*/gi);for(let i of n){let s=i[0].indexOf("*");e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index+s,endOffset:i.index+s+1})}return e}},F4={id:"NZ002",name:"Delete Without Where",description:"DELETE statement without WHERE clause will delete all rows",defaultSeverity:sr.DiagnosticSeverity.Error,check(t){let e=[],n=on(t,/\bDELETE\s+FROM\s+[\w."]+/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},G4={id:"NZ003",name:"Update Without Where",description:"UPDATE statement without WHERE clause will update all rows",defaultSeverity:sr.DiagnosticSeverity.Error,check(t){let e=[],n=on(t,/\bUPDATE\s+[\w."]+\s+SET\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;/\bWHERE\b/i.test(a)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+6})}return e}},H4={id:"NZ004",name:"Cross Join",description:"CROSS JOIN produces a Cartesian product - verify this is intentional",defaultSeverity:sr.DiagnosticSeverity.Warning,check(t){let e=[],n=on(t,/\bCROSS\s+JOIN\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},W4={id:"NZ005",name:"Leading Wildcard Like",description:"LIKE pattern with leading wildcard ('%...') prevents index usage",defaultSeverity:sr.DiagnosticSeverity.Hint,check(t){let e=[],n=on(t,/\bLIKE\s+'%/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},Y4={id:"NZ006",name:"Order By Without Limit",description:"ORDER BY without LIMIT/FETCH may cause performance issues on large datasets",defaultSeverity:sr.DiagnosticSeverity.Information,check(t){let e=[],n=on(t,/\bORDER\s+BY\b/gi);for(let i of n){let s=t.substring(i.index+i[0].length),o=s.indexOf(";"),a=o>=0?s.substring(0,o):s;if(!/\b(LIMIT|FETCH|TOP)\b/i.test(a)){let l=t.substring(0,i.index);/\bTOP\s+\d+\b/i.test(l)||e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}}return e}},$4={id:"NZ007",name:"Inconsistent Keyword Case",description:"SQL keywords have inconsistent casing - consider using consistent UPPER or lower case",defaultSeverity:sr.DiagnosticSeverity.Warning,check(t){let e=[],r=["SELECT","FROM","WHERE","JOIN","LEFT","RIGHT","INNER","OUTER","ON","AND","OR","INSERT","INTO","UPDATE","DELETE","CREATE","DROP","ALTER","TABLE","VIEW","INDEX","ORDER","BY","GROUP","HAVING","UNION","ALL","DISTINCT","AS","SET","VALUES","NULL","NOT","IN","BETWEEN","LIKE","IS","EXISTS","CASE","WHEN","THEN","ELSE","END","LIMIT","OFFSET"],n=0,i=0,s=[],o=new Set;for(let c of r){let u=new RegExp(`\\b${c}\\b`,"gi"),d=on(t,u);for(let f of d){if(o.has(f.index))continue;o.add(f.index);let E=f[0],T;E===E.toUpperCase()?(n++,T="UPPER"):E===E.toLowerCase()?(i++,T="lower"):T="Mixed",s.push({keyword:E,index:f.index,type:T})}}let a=n>=i,l=a?"UPPER":"lower";for(let c of s)c.type==="Mixed"?e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' has mixed casing (expected ${a?"UPPERCASE":"lowercase"})`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length}):c.type!==l&&e.push({ruleId:this.id,message:`${this.id}: Keyword '${c.keyword}' should be ${a?"UPPERCASE":"lowercase"}`,severity:this.defaultSeverity,startOffset:c.index,endOffset:c.index+c.keyword.length});return e}},k4={id:"NZ008",name:"Truncate Table",description:"TRUNCATE removes all data and cannot be rolled back - use with caution",defaultSeverity:sr.DiagnosticSeverity.Warning,check(t){let e=[],n=on(t,/\bTRUNCATE\s+(TABLE\s+)?[\w."]+/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+8});return e}},V4={id:"NZ009",name:"Or In Where Clause",description:"Multiple OR conditions may prevent index usage - consider UNION for better performance",defaultSeverity:sr.DiagnosticSeverity.Hint,check(t){let e=[],n=on(t,/\bWHERE\b/gi);for(let i of n){let s=t.substring(i.index),o=s.search(/\b(GROUP\s+BY|ORDER\s+BY|HAVING|LIMIT|UNION|;)/i),a=o>=0?s.substring(0,o):s,l=on(a,/\bOR\b/gi);if(l.length>=2){let c=l[0];e.push({ruleId:this.id,message:`${this.id}: ${this.description} (${l.length} OR conditions found)`,severity:this.defaultSeverity,startOffset:i.index+c.index,endOffset:i.index+c.index+2})}}return e}},q4={id:"NZ010",name:"Missing Table Alias",description:"Consider using table aliases in JOINs for better readability",defaultSeverity:sr.DiagnosticSeverity.Information,check(t){let e=[],n=on(t,/\bJOIN\s+([\w."]+)\s+ON\b/gi);for(let i of n)e.push({ruleId:this.id,message:`${this.id}: Table '${i[1]}' in JOIN has no alias - ${this.description}`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length});return e}},X4={id:"NZ011",name:"CTAS Missing Distribution",description:"CREATE TABLE AS SELECT should specify explicit data distribution",defaultSeverity:sr.DiagnosticSeverity.Warning,check(t){let e=[],n=on(t,/\bCREATE\s+TABLE\s+(?:(?:IF\s+NOT\s+EXISTS\s+)?[\w."]+\s+)?AS\s+(?:\(\s*)?SELECT\b/gi);for(let i of n){let s=t.length;for(let u=i.index;u<t.length;u++)if(t[u]===";"&&!MR(t,u)){s=u;break}let o=t.substring(i.index,s),l=/\bDISTRIBUTE\s+ON\b/i.exec(o),c=!1;l&&(MR(t,i.index+l.index)||(c=!0)),c||e.push({ruleId:this.id,message:`${this.id}: ${this.description} - Add 'DISTRIBUTE ON (...)' or 'DISTRIBUTE ON RANDOM'`,severity:this.defaultSeverity,startOffset:i.index,endOffset:i.index+i[0].length})}return e}},G0=[B4,F4,G4,H4,W4,Y4,$4,k4,V4,q4,X4];var UR=class{constructor(){this.disposables=[];this.diagnosticCollection=Vr.languages.createDiagnosticCollection("netezza-sql-linter")}activate(e){e.subscriptions.push(this.diagnosticCollection),this.disposables.push(Vr.workspace.onDidOpenTextDocument(r=>{this.shouldLint(r)&&this.lintDocument(r)})),this.disposables.push(Vr.workspace.onDidChangeTextDocument(r=>{this.shouldLint(r.document)&&this.lintDocument(r.document)})),this.disposables.push(Vr.workspace.onDidCloseTextDocument(r=>{this.diagnosticCollection.delete(r.uri)})),this.disposables.push(Vr.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("netezza.linter")&&this.lintAllOpenDocuments()})),e.subscriptions.push(...this.disposables),this.lintAllOpenDocuments()}shouldLint(e){return e.languageId==="sql"}getConfig(){let e=Vr.workspace.getConfiguration("netezza.linter");return{enabled:e.get("enabled",!0),rules:e.get("rules",{})}}lintAllOpenDocuments(){for(let e of Vr.workspace.textDocuments)this.shouldLint(e)&&this.lintDocument(e)}lintDocument(e){let r=this.getConfig();if(!r.enabled){this.diagnosticCollection.delete(e.uri);return}let n=e.getText(),i=this.lintSql(n,r.rules),s=this.issuesToDiagnostics(e,i);this.diagnosticCollection.set(e.uri,s)}lintSql(e,r={}){let n=[];for(let i of G0){let s=r[i.id],o=s!==void 0?F0(s):i.defaultSeverity;if(o===null)continue;let a=i.check(e);for(let l of a)n.push({...l,severity:o})}return n}issuesToDiagnostics(e,r){return r.map(n=>{let i=e.positionAt(n.startOffset),s=e.positionAt(n.endOffset),o=new Vr.Range(i,s),a=new Vr.Diagnostic(o,n.message,n.severity);return a.source="Netezza SQL Linter",a.code=n.ruleId,a})}dispose(){this.diagnosticCollection.dispose();for(let e of this.disposables)e.dispose()}},vR;function j4(){return vR||(vR=new UR),vR}function H0(t){let e=j4();return e.activate(t),e}var io=j(require("vscode"));no();var vc=class{static{this.providedCodeActionKinds=[io.CodeActionKind.QuickFix]}provideCodeActions(e,r,n,i){let s=[];for(let o of n.diagnostics)if(o.code==="NZ011"){let a=this.createDistributeOnRandomFix(e,o);a&&s.push(a)}return s}createDistributeOnRandomFix(e,r){let n=new io.CodeAction("Add DISTRIBUTE ON RANDOM",io.CodeActionKind.QuickFix);n.diagnostics=[r],n.isPreferred=!0;let i=e.offsetAt(r.range.start),s=e.getText(),o=Dr.getStatementAtPosition(s,i);if(o)return n.edit=new io.WorkspaceEdit,n.edit.insert(e.uri,e.positionAt(o.end)," DISTRIBUTE ON RANDOM"),n}};var ce=j(require("vscode"));function W0(t){switch(t){case"sql":return{type:"sql",query:"",connection:"default"};case"python":return{type:"python",script:""};case"container":return{type:"container",nodes:[],connections:[]};case"export":return{type:"export",format:"csv",outputPath:""};case"import":return{type:"import",format:"csv",inputPath:"",targetTable:""}}}function jE(){return"node-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}function KE(){return"conn-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}var BR=j(require("fs"));var Ts=class t{constructor(){this.currentProject=null;this.projectPath=null;this.isDirty=!1}static getInstance(){return t.instance||(t.instance=new t),t.instance}createProject(e){return this.currentProject={name:e,version:"1.0.0",description:"",variables:{},nodes:[],connections:[]},this.projectPath=null,this.isDirty=!0,this.currentProject}async loadProject(e){let r=await BR.promises.readFile(e,"utf-8"),n=JSON.parse(r),i=this.validateProject(n);if(i.length>0)throw new Error(`Invalid project: ${i.join(", ")}`);return this.currentProject=n,this.projectPath=e,this.isDirty=!1,this.currentProject}async saveProject(e){let r=e||this.projectPath;if(!r)throw new Error("No file path specified");if(!this.currentProject)throw new Error("No project to save");let n=JSON.stringify(this.currentProject,null,2);await BR.promises.writeFile(r,n,"utf-8"),this.projectPath=r,this.isDirty=!1}validateProject(e){let r=[];e.name||r.push("Project name is required"),e.version||r.push("Project version is required"),Array.isArray(e.nodes)||r.push("Nodes must be an array"),Array.isArray(e.connections)||r.push("Connections must be an array");let n=new Set;for(let s of e.nodes||[])s.id?n.has(s.id)?r.push(`Duplicate node ID: ${s.id}`):n.add(s.id):r.push("Node missing ID"),s.type||r.push(`Node ${s.id} missing type`),(!s.position||typeof s.position.x!="number"||typeof s.position.y!="number")&&r.push(`Node ${s.id} has invalid position`);for(let s of e.connections||[])(!s.from||!n.has(s.from))&&r.push(`Connection ${s.id} has invalid 'from' node: ${s.from}`),(!s.to||!n.has(s.to))&&r.push(`Connection ${s.id} has invalid 'to' node: ${s.to}`),s.from===s.to&&r.push(`Connection ${s.id} cannot connect node to itself`);let i=this.detectCycles(e);return r.push(...i),r}detectCycles(e){let r=[],n=new Set,i=new Set,s=new Map;for(let a of e.nodes)s.set(a.id,[]);for(let a of e.connections)s.get(a.from)?.push(a.to);let o=a=>{n.add(a),i.add(a);for(let l of s.get(a)||[])if(n.has(l)){if(i.has(l))return!0}else if(o(l))return!0;return i.delete(a),!1};for(let a of e.nodes)if(!n.has(a.id)&&o(a.id)){r.push("Project contains circular dependencies");break}return r}addNode(e){if(!this.currentProject)throw new Error("No project loaded");e.id||(e.id=jE()),this.currentProject.nodes.push(e),this.isDirty=!0}updateNode(e,r){if(!this.currentProject)throw new Error("No project loaded");let n=this.currentProject.nodes.findIndex(i=>i.id===e);if(n===-1)throw new Error(`Node not found: ${e}`);this.currentProject.nodes[n]={...this.currentProject.nodes[n],...r},this.isDirty=!0}removeNode(e){if(!this.currentProject)throw new Error("No project loaded");this.currentProject.nodes=this.currentProject.nodes.filter(r=>r.id!==e),this.currentProject.connections=this.currentProject.connections.filter(r=>r.from!==e&&r.to!==e),this.isDirty=!0}addConnection(e){if(!this.currentProject)throw new Error("No project loaded");if(e.id||(e.id=KE()),this.currentProject.connections.some(i=>i.from===e.from&&i.to===e.to))throw new Error("Connection already exists");if(this.currentProject.connections.push(e),this.isDirty=!0,this.detectCycles(this.currentProject).length>0)throw this.currentProject.connections.pop(),new Error("Connection would create a cycle")}removeConnection(e){if(!this.currentProject)throw new Error("No project loaded");this.currentProject.connections=this.currentProject.connections.filter(r=>r.id!==e),this.isDirty=!0}getCurrentProject(){return this.currentProject}getProjectPath(){return this.projectPath}hasUnsavedChanges(){return this.isDirty}getNode(e){return this.currentProject?.nodes.find(r=>r.id===e)}getOutgoingConnections(e){return this.currentProject?.connections.filter(r=>r.from===e)||[]}getIncomingConnections(e){return this.currentProject?.connections.filter(r=>r.to===e)||[]}};var zE=class{constructor(){this.executors=new Map}registerExecutor(e,r){this.executors.set(e,r)}onStatusChange(e){this.statusCallback=e}async execute(e,r){let n={projectName:e.name,startTime:new Date,status:"running",nodeResults:new Map};for(let i of e.nodes)this.statusCallback?.(i.id,"pending");try{let i=this.buildExecutionOrder(e);r.onProgress?.(`Starting ETL project: ${e.name}`),r.onProgress?.(`Found ${e.nodes.length} tasks in ${i.length} execution batches`);for(let s=0;s<i.length;s++){let o=i[s];if(r.cancellationToken?.isCancellationRequested)return n.status="cancelled",n.endTime=new Date,n;r.onProgress?.(`Executing batch ${s+1}/${i.length} (${o.length} tasks)`);let a=await Promise.all(o.map(l=>this.executeNode(l,r)));for(let l of a)if(n.nodeResults.set(l.nodeId,l),l.output!==void 0&&r.nodeOutputs.set(l.nodeId,l.output),l.status==="error")return r.onProgress?.(`Task ${l.nodeId} failed: ${l.error}`),n.status="failed",n.endTime=new Date,this.markRemainingAsSkipped(e,n,s,i),n}n.status="completed",n.endTime=new Date,r.onProgress?.("ETL project completed successfully")}catch(i){n.status="failed",n.endTime=new Date,r.onProgress?.(`ETL project failed: ${String(i)}`)}return n}buildExecutionOrder(e){let r=new Map,n=new Map;for(let a of e.nodes)r.set(a.id,[]),n.set(a.id,0);for(let a of e.connections){let l=r.get(a.from);l&&l.push(a.to),n.set(a.to,(n.get(a.to)||0)+1)}let i=[],s=new Map(e.nodes.map(a=>[a.id,a])),o=new Set;for(;o.size<e.nodes.length;){let a=[];for(let[l,c]of n)if(c===0&&!o.has(l)){let u=s.get(l);u&&a.push(u)}if(a.length===0)throw new Error("Cycle detected in ETL project");i.push(a);for(let l of a){o.add(l.id);for(let c of r.get(l.id)||[])n.set(c,(n.get(c)||1)-1)}}return i}async executeNode(e,r){this.statusCallback?.(e.id,"running"),r.onProgress?.(`Running task: ${e.name}`);let n=this.executors.get(e.type);if(!n){let i={nodeId:e.id,status:"error",startTime:new Date,endTime:new Date,error:`No executor registered for node type: ${e.type}`};return this.statusCallback?.(e.id,"error",i.error),i}try{let i=await n.execute(e,r);return this.statusCallback?.(e.id,i.status,i.error),i.status==="success"&&(r.onProgress?.(`Task ${e.name} completed successfully`),i.rowsAffected!==void 0&&r.onProgress?.(`  Rows affected: ${i.rowsAffected}`)),i}catch(i){let s={nodeId:e.id,status:"error",startTime:new Date,endTime:new Date,error:String(i)};return this.statusCallback?.(e.id,"error",s.error),s}}markRemainingAsSkipped(e,r,n,i){let s=i[n];for(let o of s)r.nodeResults.has(o.id)||(r.nodeResults.set(o.id,{nodeId:o.id,status:"skipped",startTime:new Date,endTime:new Date}),this.statusCallback?.(o.id,"skipped"));for(let o=n+1;o<i.length;o++)for(let a of i[o])r.nodeResults.set(a.id,{nodeId:a.id,status:"skipped",startTime:new Date,endTime:new Date}),this.statusCallback?.(a.id,"skipped")}getPreviousNodeOutput(e,r){return e.nodeOutputs.get(r)}};var JE=class{async execute(e,r){let n=e.config,i=new Date;if(!n.query||n.query.trim()==="")return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:"SQL query is empty"};let s=null;try{let o=n.query;for(let[T,h]of Object.entries(r.variables))o=o.replace(new RegExp(`\\$\\{${T}\\}`,"g"),h);r.onProgress?.(`Executing SQL: ${o.substring(0,100)}${o.length>100?"...":""}`);let a=r.connectionDetails;if(!a)throw new Error("No connection details available in context");let l=jt();s=new l({host:a.host,port:a.port||5480,database:a.database,user:a.user,password:a.password}),await s.connect();let c=s.createCommand(o);n.timeout&&(c.commandTimeout=n.timeout);let u=await c.executeReader(),d=[];for(let T=0;T<u.fieldCount;T++)d.push(u.getName(T));let f=[],E=0;for(;await u.read();){let T=[];for(let h=0;h<u.fieldCount;h++)T.push(u.getValue(h));f.push(T),E++}return u.close&&await u.close(),{nodeId:e.id,status:"success",startTime:i,endTime:new Date,rowsAffected:E,output:{columns:d,rows:f}}}catch(o){return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:String(o)}}finally{if(s)try{await s.close()}catch{}}}};var Y0=require("child_process"),Uc=j(require("fs")),ZE=j(require("path")),$0=j(require("os")),QE=class{async execute(e,r){let n=e.config,i=new Date;if(!n.script&&!n.scriptPath)return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:"Python script or script path is required"};try{let s=n.interpreter||this.findPythonInterpreter();r.onProgress?.(`Using Python interpreter: ${s}`);let o,a=!1;if(n.scriptPath){o=n.scriptPath;for(let[d,f]of Object.entries(r.variables))o=o.replace(new RegExp(`\\$\\{${d}\\}`,"g"),f);if(!Uc.existsSync(o))throw new Error(`Script file not found: ${o}`)}else{let d=n.script;for(let[f,E]of Object.entries(r.variables))d=d.replace(new RegExp(`\\$\\{${f}\\}`,"g"),E);o=ZE.join($0.tmpdir(),`etl_script_${Date.now()}.py`),await Uc.promises.writeFile(o,d,"utf-8"),a=!0}r.onProgress?.(`Executing Python script: ${ZE.basename(o)}`);let l=[o,...n.arguments||[]],c={...process.env,...Object.fromEntries(Object.entries(r.variables).map(([d,f])=>[`ETL_VAR_${d.toUpperCase()}`,f]))},u=await this.runPython(s,l,c,r,n.timeout);if(a)try{await Uc.promises.unlink(o)}catch{}return u.exitCode===0?{nodeId:e.id,status:"success",startTime:i,endTime:new Date,output:u.stdout}:{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:u.stderr||`Python exited with code ${u.exitCode}`,output:u.stdout}}catch(s){return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:String(s)}}}findPythonInterpreter(){return process.platform==="win32"?"py":"python3"}runPython(e,r,n,i,s){return new Promise(o=>{let a=(0,Y0.spawn)(e,r,{env:n,shell:!0}),l="",c="";if(a.stdout.on("data",u=>{let d=u.toString();l+=d,i.onProgress?.(`[Python] ${d.trim()}`)}),a.stderr.on("data",u=>{let d=u.toString();c+=d,i.onProgress?.(`[Python ERROR] ${d.trim()}`)}),a.on("close",u=>{o({exitCode:u??1,stdout:l.trim(),stderr:c.trim()})}),a.on("error",u=>{o({exitCode:1,stdout:"",stderr:`Failed to start Python: ${u.message}`})}),i.cancellationToken){let u=i.cancellationToken.onCancellationRequested(()=>{a.kill(),u.dispose()})}s&&s>0&&setTimeout(()=>{a.kill(),o({exitCode:1,stdout:l.trim(),stderr:`Execution timed out after ${s} seconds`})},s*1e3)})}};GR();Vs();var Vp=class{async execute(e,r){let n=e.config,i=new Date;if(!n.outputPath)return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:"Output path is required"};try{let s=n.outputPath,o=n.query||"";for(let[a,l]of Object.entries(r.variables))s=s.replace(new RegExp(`\\$\\{${a}\\}`,"g"),l),o=o.replace(new RegExp(`\\$\\{${a}\\}`,"g"),l);if(!o&&n.sourceNodeId){let a=r.nodeOutputs.get(n.sourceNodeId);if(a&&a.rows)return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:"In-memory data export is not yet supported. Please specify a query."}}if(!o)return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:"No query or source node specified for export"};if(r.onProgress?.(`Exporting to ${n.format.toUpperCase()}: ${s}`),n.format==="csv")await FR(r.extensionContext,r.connectionDetails,o,s,void 0,n.timeout);else if(n.format==="xlsb"){let a=await fC(r.connectionDetails,o,s,!1,l=>{r.onProgress?.(`[Export] ${l}`)},n.timeout);return a.success?{nodeId:e.id,status:"success",startTime:i,endTime:new Date,rowsAffected:a.details?.rows_exported,output:{filePath:s,format:n.format,rowsExported:a.details?.rows_exported}}:{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:a.message}}return{nodeId:e.id,status:"success",startTime:i,endTime:new Date,output:{filePath:s,format:n.format}}}catch(s){return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:String(s)}}}};var r6=j(require("fs")),xC;try{xC=(uS(),mE(PC)).importDataToNetezza}catch{}var dS=class{async execute(e,r){let n=e.config,i=new Date;if(!n.inputPath)return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:"Input path is required"};if(!n.targetTable)return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:"Target table is required"};try{let s=n.inputPath,o=n.targetTable,a=n.targetSchema||"";for(let[c,u]of Object.entries(r.variables))s=s.replace(new RegExp(`\\$\\{${c}\\}`,"g"),u),o=o.replace(new RegExp(`\\$\\{${c}\\}`,"g"),u),a=a.replace(new RegExp(`\\$\\{${c}\\}`,"g"),u);if(!r6.existsSync(s))return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:`Input file not found: ${s}`};if(r.onProgress?.(`Importing from ${n.format.toUpperCase()}: ${s}`),r.onProgress?.(`Target table: ${a?a+".":""}${o}`),!xC)return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:"importDataToNetezza function not available"};let l=await xC(s,o,r.connectionDetails,(c,u)=>{r.onProgress?.(`[Import] ${c}`)},n.timeout);return l.success?{nodeId:e.id,status:"success",startTime:i,endTime:new Date,rowsAffected:l.details?.rowsInserted,output:{filePath:s,targetTable:`${a?a+".":""}${o}`,rowsProcessed:l.details?.rowsProcessed,rowsInserted:l.details?.rowsInserted}}:{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:l.message}}catch(s){return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:String(s)}}}};var ES=class{constructor(e){this.engine=e}async execute(e,r){let n=e.config,i=new Date;if(!n.nodes||n.nodes.length===0)return{nodeId:e.id,status:"success",startTime:i,endTime:new Date,output:"Empty container - nothing to execute"};try{r.onProgress?.(`Entering container: ${e.name} (${n.nodes.length} tasks)`);let s={name:`Container: ${e.name}`,version:"1.0.0",nodes:n.nodes,connections:n.connections||[]},o=await this.engine.execute(s,r);if(r.onProgress?.(`Exiting container: ${e.name}`),o.status==="completed"){let a=0,l=0;for(let c of o.nodeResults.values())c.status==="success"&&(a++,c.rowsAffected&&(l+=c.rowsAffected));return{nodeId:e.id,status:"success",startTime:i,endTime:new Date,rowsAffected:l,output:{tasksExecuted:n.nodes.length,tasksSucceeded:a,nestedResults:Array.from(o.nodeResults.entries())}}}else{if(o.status==="cancelled")return{nodeId:e.id,status:"skipped",startTime:i,endTime:new Date,error:"Container execution was cancelled"};{let a="Container execution failed";for(let l of o.nodeResults.values())if(l.status==="error"&&l.error){a=l.error;break}return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:a}}}}catch(s){return{nodeId:e.id,status:"error",startTime:i,endTime:new Date,error:String(s)}}}};var Bn=class t{constructor(e,r,n){this._disposables=[];this._panel=e,this._context=r,this._projectManager=Ts.getInstance(),this._executionEngine=new zE,this._executionEngine.registerExecutor("sql",new JE),this._executionEngine.registerExecutor("python",new QE),this._executionEngine.registerExecutor("export",new Vp),this._executionEngine.registerExecutor("import",new dS),this._executionEngine.registerExecutor("container",new ES(this._executionEngine));let i=n||this._projectManager.createProject("New ETL Project");this._updateWebview(i),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.webview.onDidReceiveMessage(s=>this._handleMessage(s),null,this._disposables)}static{this.viewType="netezza.etlDesigner"}static setConnectionManager(e){t._connectionManager=e}static createOrShow(e,r){let n=ce.window.activeTextEditor?ce.window.activeTextEditor.viewColumn:void 0;if(t.currentPanel){t.currentPanel._panel.reveal(n),r&&t.currentPanel._updateProject(r);return}let i=ce.window.createWebviewPanel(t.viewType,"ETL Designer",n||ce.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[e.extensionUri]});t.currentPanel=new t(i,e,r)}async _handleMessage(e){let r=this._projectManager.getCurrentProject();switch(e.type){case"addNode":{let n=e.payload,i={id:jE(),type:n.type,name:this._getDefaultNodeName(n.type),position:n.position,config:W0(n.type)};this._projectManager.addNode(i),this._sendProjectUpdate();break}case"confirmRemoveNode":{let n=e.payload;await ce.window.showWarningMessage("Delete this task?",{modal:!0},"Delete")==="Delete"&&(this._projectManager.removeNode(n),this._sendProjectUpdate());break}case"removeNode":{let n=e.payload;this._projectManager.removeNode(n),this._sendProjectUpdate();break}case"updateNodePosition":{let{nodeId:n,position:i}=e.payload;this._projectManager.updateNode(n,{position:i});break}case"updateNodeName":{let{nodeId:n,name:i}=e.payload;this._projectManager.updateNode(n,{name:i}),this._sendProjectUpdate();break}case"addConnection":{let{from:n,to:i}=e.payload;try{this._projectManager.addConnection({id:KE(),from:n,to:i}),this._sendProjectUpdate()}catch(s){ce.window.showErrorMessage(String(s))}break}case"confirmRemoveConnection":{let n=e.payload;await ce.window.showWarningMessage("Delete this connection?",{modal:!0},"Delete")==="Delete"&&(this._projectManager.removeConnection(n),this._sendProjectUpdate());break}case"removeConnection":{let n=e.payload;this._projectManager.removeConnection(n),this._sendProjectUpdate();break}case"configureNode":{let n=e.payload;await this._configureNode(n);break}case"saveProject":{await this._saveProject();break}case"loadProject":{await this._loadProject();break}case"newProject":{let n=await ce.window.showInputBox({prompt:"Enter project name",value:"New ETL Project"});n&&(this._projectManager.createProject(n),this._sendProjectUpdate());break}case"runProject":{r&&await this._runProject(r);break}case"stopProject":{this._stopExecution();break}case"getProject":{this._sendProjectUpdate();break}}}_getDefaultNodeName(e){return{sql:"SQL Task",python:"Python Script",container:"Container",export:"Export Data",import:"Import Data"}[e]||"New Task"}async _configureNode(e){let r=this._projectManager.getNode(e);if(r)switch(r.type){case"sql":{let n=r.config,i=await ce.window.showInputBox({prompt:"Enter task name",value:r.name,placeHolder:"e.g. Load Customer Data"});if(i===void 0)break;let s=await ce.window.showInputBox({prompt:"Enter SQL query",value:n.query,placeHolder:"SELECT * FROM table_name"});if(s!==void 0){let o=await ce.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 60"}),a=o&&!isNaN(parseInt(o))?parseInt(o):void 0;this._projectManager.updateNode(e,{name:i,config:{...n,query:s,timeout:a}}),this._sendProjectUpdate()}break}case"python":{let n=r.config,i=await ce.window.showInputBox({prompt:"Enter task name",value:r.name,placeHolder:"e.g. Transform Data"});if(i===void 0)break;let s=await ce.window.showQuickPick(["Enter script inline","Select script file"],{placeHolder:"How to provide the Python script?"});if(s==="Enter script inline"){let o=await ce.window.showInputBox({prompt:"Enter Python script",value:n.script,placeHolder:'print("Hello ETL")'});if(o!==void 0){let a=await ce.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 60"}),l=a&&!isNaN(parseInt(a))?parseInt(a):void 0;this._projectManager.updateNode(e,{name:i,config:{...n,script:o,scriptPath:void 0,timeout:l}}),this._sendProjectUpdate()}}else if(s==="Select script file"){let o=await ce.window.showOpenDialog({filters:{Python:["py"]},canSelectMany:!1});if(o&&o[0]){let a=await ce.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 60"}),l=a&&!isNaN(parseInt(a))?parseInt(a):void 0;this._projectManager.updateNode(e,{name:i,config:{...n,scriptPath:o[0].fsPath,script:"",timeout:l}}),this._sendProjectUpdate()}}break}case"export":{let n=r.config,i=await ce.window.showInputBox({prompt:"Enter task name",value:r.name,placeHolder:"e.g. Export to CSV"});if(i===void 0)break;let s=await ce.window.showQuickPick(["csv","xlsb"],{placeHolder:"Select output format"});if(s){let o=await ce.window.showSaveDialog({filters:s==="csv"?{CSV:["csv"]}:{"Excel Binary":["xlsb"]}});if(o){let a=await ce.window.showInputBox({prompt:"Enter SQL query for export",value:n.query||"",placeHolder:"SELECT * FROM table_name"});if(a!==void 0){let l=await ce.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 300"}),c=l&&!isNaN(parseInt(l))?parseInt(l):void 0;this._projectManager.updateNode(e,{name:i,config:{...n,format:s,outputPath:o.fsPath,query:a,timeout:c}}),this._sendProjectUpdate()}}}break}case"import":{let n=r.config,i=await ce.window.showInputBox({prompt:"Enter task name",value:r.name,placeHolder:"e.g. Import Products"});if(i===void 0)break;let s=await ce.window.showOpenDialog({filters:{"Data Files":["csv","xlsb"],CSV:["csv"],"Excel Binary":["xlsb"]},canSelectMany:!1});if(s&&s[0]){let o=s[0].fsPath,a=o.endsWith(".xlsb")?"xlsb":"csv",l=await ce.window.showInputBox({prompt:"Enter target table name",value:n.targetTable,placeHolder:"SCHEMA.TABLE_NAME"});if(l){let c=await ce.window.showInputBox({prompt:"Enter execution timeout in seconds (optional)",value:n.timeout?String(n.timeout):"",placeHolder:"e.g. 300"}),u=c&&!isNaN(parseInt(c))?parseInt(c):void 0;this._projectManager.updateNode(e,{name:i,config:{...n,format:a,inputPath:o,targetTable:l,timeout:u}}),this._sendProjectUpdate()}}break}}}async _saveProject(){if(!this._projectManager.getCurrentProject())return;let r=await ce.window.showSaveDialog({filters:{"ETL Project":["etl.json"]},defaultUri:this._projectManager.getProjectPath()?ce.Uri.file(this._projectManager.getProjectPath()):void 0});if(r)try{await this._projectManager.saveProject(r.fsPath),ce.window.showInformationMessage(`Project saved to ${r.fsPath}`)}catch(n){ce.window.showErrorMessage(`Failed to save project: ${n}`)}}async _loadProject(){let e=await ce.window.showOpenDialog({filters:{"ETL Project":["etl.json"]},canSelectMany:!1});if(e&&e[0])try{let r=await this._projectManager.loadProject(e[0].fsPath);this._updateWebview(r),ce.window.showInformationMessage(`Project loaded: ${r.name}`)}catch(r){ce.window.showErrorMessage(`Failed to load project: ${r}`)}}async _runProject(e){let r=this._projectManager.validateProject(e);if(r.length>0){ce.window.showErrorMessage(`Project validation failed:
${r.join(`
`)}`);return}let n=t._connectionManager;if(!n){ce.window.showErrorMessage("Connection manager not initialized. Please reload the extension.");return}let i=n.getActiveConnectionName();if(!i){ce.window.showErrorMessage("No active connection. Please connect to a database first.");return}let s=await n.getConnection(i);if(!s){ce.window.showErrorMessage(`Connection not found: ${i}`);return}let o=ce.window.createOutputChannel("ETL Execution");o.show(),this._cancellationTokenSource=new ce.CancellationTokenSource;let a={extensionContext:this._context,variables:e.variables||{},nodeOutputs:new Map,connectionDetails:s,cancellationToken:this._cancellationTokenSource.token,onProgress:l=>{o.appendLine(`[${new Date().toLocaleTimeString()}] ${l}`)}};this._executionEngine.onStatusChange((l,c,u)=>{this._panel.webview.postMessage({type:"nodeStatusUpdate",payload:{nodeId:l,status:c,message:u}})}),this._panel.webview.postMessage({type:"executionStarted"});try{o.appendLine(`Starting ETL Project: ${e.name}`),o.appendLine(`Connection: ${i}`),o.appendLine("---");let l=await this._executionEngine.execute(e,a);o.appendLine("---"),o.appendLine(`Execution ${l.status}`),o.appendLine(`Duration: ${l.endTime?((l.endTime.getTime()-l.startTime.getTime())/1e3).toFixed(2):"N/A"} seconds`),this._panel.webview.postMessage({type:"executionEnded",payload:{status:l.status==="completed"?"Completed \u2713":"Failed \u2717"}}),l.status==="completed"?ce.window.showInformationMessage("ETL project completed successfully!"):l.status==="failed"&&ce.window.showErrorMessage("ETL project failed. Check output for details.")}catch(l){o.appendLine(`Error: ${l}`),ce.window.showErrorMessage(`ETL execution error: ${l}`),this._panel.webview.postMessage({type:"executionEnded",payload:{status:"Error \u2717"}})}finally{this._cancellationTokenSource?.dispose(),this._cancellationTokenSource=void 0}}_stopExecution(){this._cancellationTokenSource&&(this._cancellationTokenSource.cancel(),ce.window.showInformationMessage("ETL execution cancellation requested..."))}_updateProject(e){this._projectManager.createProject(e.name);for(let r of e.nodes)this._projectManager.addNode(r);for(let r of e.connections)try{this._projectManager.addConnection(r)}catch{}this._updateWebview(e)}_updateWebview(e){this._panel.webview.html=this._getHtml(e)}_sendProjectUpdate(){let e=this._projectManager.getCurrentProject();e&&this._panel.webview.postMessage({type:"projectUpdate",payload:e})}_getHtml(e){let r=this._getNonce();return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'unsafe-inline'; script-src 'nonce-${r}';">
    <title>ETL Designer - ${e.name}</title>
    <style>${this._getStyles()}</style>
</head>
<body>
    <div class="etl-designer">
        <!-- Toolbar -->
        <header class="toolbar">
            <div class="toolbar-left">
                <button id="btn-new" title="New Project">\u{1F4C4} New</button>
                <button id="btn-open" title="Open Project">\u{1F4C2} Open</button>
                <button id="btn-save" title="Save Project">\u{1F4BE} Save</button>
                <span class="separator"></span>
                <button id="btn-run" class="btn-primary" title="Run Project">\u25B6\uFE0F Run</button>
                <button id="btn-stop" class="btn-danger" title="Stop Execution" style="display:none;">\u23F9\uFE0F Stop</button>
            </div>
            <div class="toolbar-center">
                <span class="project-name">${e.name}</span>
            </div>
            <div class="toolbar-right">
                <span class="status" id="status"></span>
            </div>
        </header>

        <div class="main-content">
            <!-- Toolbox -->
            <aside class="toolbox">
                <h3>\u{1F4E6} Tasks</h3>
                <div class="toolbox-items">
                    <div class="toolbox-item" data-type="sql" draggable="true">
                        <span class="icon">\u{1F4DC}</span>
                        <span class="label">SQL Task</span>
                    </div>
                    <div class="toolbox-item" data-type="python" draggable="true">
                        <span class="icon">\u{1F40D}</span>
                        <span class="label">Python Script</span>
                    </div>
                    <div class="toolbox-item" data-type="container" draggable="true">
                        <span class="icon">\u{1F4E6}</span>
                        <span class="label">Container</span>
                    </div>
                    <div class="toolbox-item" data-type="export" draggable="true">
                        <span class="icon">\u{1F4E4}</span>
                        <span class="label">Export (CSV/XLSB)</span>
                    </div>
                    <div class="toolbox-item" data-type="import" draggable="true">
                        <span class="icon">\u{1F4E5}</span>
                        <span class="label">Import (CSV/XLSB)</span>
                    </div>
                </div>
                
                <h3>\u2139\uFE0F Help</h3>
                <div class="help-text">
                    <p>Drag tasks to canvas</p>
                    <p>Connect outputs to inputs</p>
                    <p>Double-click to configure</p>
                    <p>Connected = Sequential</p>
                    <p>Unconnected = Parallel</p>
                </div>
            </aside>

            <!-- Canvas -->
            <main class="canvas-container" id="canvas">
                <div id="zoom-wrapper" class="zoom-wrapper">
                    <svg class="connections-layer" id="connections-svg">
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                                refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" />
                            </marker>
                        </defs>
                    </svg>
                    <div class="nodes-layer" id="nodes-container"></div>
                </div>
            </main>

            <!-- Properties Panel -->
            <aside class="properties-panel" id="properties">
                <h3>\u2699\uFE0F Properties</h3>
                <div id="properties-content">
                    <p class="placeholder">Select a task to view properties</p>
                </div>
            </aside>
        </div>
    </div>

    <script nonce="${r}">
        ${this._getScript(e)}
    </script>
</body>
</html>`}_getStyles(){return`
            :root {
                --bg-primary: var(--vscode-editor-background);
                --bg-secondary: var(--vscode-sideBar-background);
                --bg-hover: var(--vscode-list-hoverBackground);
                --border-color: var(--vscode-panel-border);
                --text-color: var(--vscode-editor-foreground);
                --text-muted: var(--vscode-descriptionForeground);
                --accent-color: var(--vscode-button-background);
                --accent-hover: var(--vscode-button-hoverBackground);
                --success-color: #4CAF50;
                --error-color: #f44336;
                --warning-color: #ff9800;
            }

            * {
                box-sizing: border-box;
            }

            body {
                margin: 0;
                padding: 0;
                height: 100vh;
                overflow: hidden;
                font-family: var(--vscode-font-family);
                font-size: var(--vscode-font-size);
                color: var(--text-color);
                background: var(--bg-primary);
            }

            .etl-designer {
                display: flex;
                flex-direction: column;
                height: 100vh;
            }

            /* Toolbar */
            .toolbar {
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 8px 16px;
                background: var(--bg-secondary);
                border-bottom: 1px solid var(--border-color);
            }

            .toolbar button {
                padding: 6px 12px;
                margin-right: 4px;
                border: 1px solid var(--border-color);
                background: var(--bg-primary);
                color: var(--text-color);
                cursor: pointer;
                border-radius: 4px;
            }

            .toolbar button:hover {
                background: var(--bg-hover);
            }

            .toolbar .btn-primary {
                background: var(--accent-color);
                border-color: var(--accent-color);
            }

            .toolbar .btn-primary:hover {
                background: var(--accent-hover);
            }

            .toolbar .btn-danger {
                background: var(--error-color);
                border-color: var(--error-color);
                color: white;
            }

            .toolbar .btn-danger:hover {
                opacity: 0.8;
            }

            .toolbar .separator {
                display: inline-block;
                width: 1px;
                height: 20px;
                background: var(--border-color);
                margin: 0 8px;
            }

            .project-name {
                font-weight: bold;
                font-size: 1.1em;
            }

            .status {
                color: var(--text-muted);
                font-size: 0.9em;
            }

            /* Main Content */
            .main-content {
                display: flex;
                flex: 1;
                overflow: hidden;
            }

            /* Toolbox */
            .toolbox {
                width: 200px;
                background: var(--bg-secondary);
                border-right: 1px solid var(--border-color);
                padding: 12px;
                overflow-y: auto;
            }

            .toolbox h3 {
                margin: 0 0 12px 0;
                font-size: 0.9em;
                color: var(--text-muted);
                text-transform: uppercase;
            }

            .toolbox-item {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 10px 12px;
                margin-bottom: 6px;
                background: var(--bg-primary);
                border: 1px solid var(--border-color);
                border-radius: 6px;
                cursor: grab;
                transition: all 0.15s ease;
            }

            .toolbox-item:hover {
                border-color: var(--accent-color);
                transform: translateX(3px);
            }

            .toolbox-item:active {
                cursor: grabbing;
            }

            .toolbox-item .icon {
                font-size: 1.2em;
            }

            .toolbox-item .label {
                font-size: 0.85em;
            }

            .help-text {
                font-size: 0.8em;
                color: var(--text-muted);
                line-height: 1.6;
            }

            .help-text p {
                margin: 4px 0;
            }

            /* Canvas */
            .canvas-container {
                flex: 1;
                position: relative;
                overflow: hidden; /* Changed for zoom/pan */
                background: var(--bg-primary);
                cursor: grab;
            }
            
            .canvas-container:active {
                cursor: grabbing;
            }

            .zoom-wrapper {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                transform-origin: 0 0;
                background: 
                    linear-gradient(90deg, rgba(128,128,128,0.1) 1px, transparent 1px),
                    linear-gradient(rgba(128,128,128,0.1) 1px, transparent 1px);
                background-size: 20px 20px;
            }

            .connections-layer {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 1;
            }

            .connections-layer path.connection-line {
                stroke: var(--accent-color);
                stroke-width: 2;
                fill: none;
                pointer-events: none;
            }
            
            .connections-layer path.connection-hit {
                stroke: transparent;
                stroke-width: 15px;
                fill: none;
                pointer-events: stroke;
                cursor: pointer;
            }

            .connections-layer path.connection-hit:hover + .connection-line {
                stroke-width: 3;
                filter: drop-shadow(0 0 2px var(--accent-color));
            }

            /* Removed previous hover effect as we use connection-hit now */

            .connections-layer marker polygon {
                fill: var(--accent-color);
            }

            .nodes-layer {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 2;
                pointer-events: none; /* Let clicks pass to canvas/nodes */
            }

            .etl-node {
                pointer-events: all; /* Re-enable for nodes */
            }

            /* Nodes */
            .etl-node {
                position: absolute;
                min-width: 160px;
                background: var(--bg-secondary);
                border: 2px solid var(--border-color);
                border-radius: 8px;
                cursor: move;
                user-select: none;
                box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            }

            .etl-node:hover {
                box-shadow: 0 4px 12px rgba(0,0,0,0.25);
            }

            .etl-node.selected {
                border-color: var(--accent-color);
            }

            .etl-node.running {
                border-color: var(--warning-color);
                animation: pulse 1s infinite;
            }

            .etl-node.success {
                border-color: var(--success-color);
            }

            .etl-node.error {
                border-color: var(--error-color);
            }

            @keyframes pulse {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.7; }
            }

            .node-type-indicator {
                height: 4px;
                border-radius: 6px 6px 0 0;
            }

            .etl-node.sql .node-type-indicator { background: #4CAF50; }
            .etl-node.python .node-type-indicator { background: #3776AB; }
            .etl-node.container .node-type-indicator { background: #FF9800; }
            .etl-node.export .node-type-indicator { background: #2196F3; }
            .etl-node.import .node-type-indicator { background: #9C27B0; }

            .node-content {
                padding: 10px 12px;
            }

            .node-header {
                display: flex;
                align-items: center;
                gap: 8px;
                margin-bottom: 4px;
            }

            .node-icon {
                font-size: 1.2em;
            }

            .node-name {
                font-weight: 500;
                font-size: 0.9em;
            }

            .node-type {
                font-size: 0.75em;
                color: var(--text-muted);
                text-transform: uppercase;
            }

            .node-connectors {
                position: relative;
            }

            .node-actions {
                position: absolute;
                top: -8px;
                right: -8px;
                display: none;
            }

            .etl-node:hover .node-actions,
            .etl-node.selected .node-actions {
                display: block;
            }

            .node-delete-btn {
                width: 20px;
                height: 20px;
                border-radius: 50%;
                background: var(--error-color);
                color: white;
                border: 2px solid var(--bg-secondary);
                font-size: 12px;
                line-height: 16px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .node-delete-btn:hover {
                transform: scale(1.2);
            }

            .connector {
                width: 14px;
                height: 14px;
                background: var(--accent-color);
                border: 2px solid var(--bg-secondary);
                border-radius: 50%;
                position: absolute;
                cursor: crosshair;
                z-index: 10;
            }

            .connector.input {
                left: -9px;
                top: 50%;
                transform: translateY(-50%);
            }

            .connector.output {
                right: -9px;
                top: 50%;
                transform: translateY(-50%);
            }

            .connector:hover {
                transform: translateY(-50%) scale(1.3);
            }

            /* Properties Panel */
            .properties-panel {
                width: 250px;
                background: var(--bg-secondary);
                border-left: 1px solid var(--border-color);
                padding: 12px;
                overflow-y: auto;
            }

            .properties-panel h3 {
                margin: 0 0 12px 0;
                font-size: 0.9em;
                color: var(--text-muted);
                text-transform: uppercase;
            }

            .properties-panel .placeholder {
                color: var(--text-muted);
                font-style: italic;
            }

            .property-group {
                margin-bottom: 16px;
            }

            .property-label {
                display: block;
                font-size: 0.8em;
                color: var(--text-muted);
                margin-bottom: 4px;
            }

            .property-value {
                font-size: 0.9em;
                word-break: break-word;
            }

            .property-code {
                font-family: monospace;
                font-size: 0.8em;
                background: var(--bg-primary);
                border: 1px solid var(--border-color);
                border-radius: 4px;
                padding: 6px 8px;
                margin: 4px 0 0 0;
                white-space: pre-wrap;
                word-break: break-all;
                max-height: 80px;
                overflow-y: auto;
            }

            .configure-btn {
                width: 100%;
                margin-top: 16px;
                padding: 8px 12px;
                background: var(--accent-color);
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 0.85em;
            }

            .configure-btn:hover {
                background: var(--accent-hover);
            }

            /* Connection line being drawn */
            .temp-connection {
                stroke: var(--accent-color);
                stroke-width: 2;
                stroke-dasharray: 5,5;
                fill: none;
                pointer-events: none;
            }
        `}_getScript(e){return`
            const vscode = acquireVsCodeApi();
            
            // State
            let project = ${JSON.stringify(e)};
            let selectedNodeId = null;
            let isDragging = false;
            let dragOffset = { x: 0, y: 0 };
            let isConnecting = false;
            let connectionStart = null;
            let tempLine = null;
            
            // Zoom & Pan state
            let scale = 1;
            let pan = { x: 0, y: 0 };
            let isPanning = false;
            let panStart = { x: 0, y: 0 };

            // Node icons
            const nodeIcons = {
                sql: '\u{1F4DC}',
                python: '\u{1F40D}',
                container: '\u{1F4E6}',
                export: '\u{1F4E4}',
                import: '\u{1F4E5}'
            };

            // Initialize
            // Initialize
            function init() {
                renderNodes();
                renderConnections();
                setupToolboxDrag();
                setupCanvasDrop();
                setupToolbarButtons();
                setupKeyboardEvents();
                setupZoomPan();
                
                // Request current project state
                vscode.postMessage({ type: 'getProject' });
            }

            function updateTransform() {
                const wrapper = document.getElementById('zoom-wrapper');
                if (wrapper) {
                    wrapper.style.transform = \`translate(\${pan.x}px, \${pan.y}px) scale(\${scale})\`;
                }
            }

            function setupZoomPan() {
                const container = document.getElementById('canvas');
                
                // Wheel zoom
                container.addEventListener('wheel', (e) => {
                    // Zoom with Ctrl+Wheel or just Wheel (standard for node editors often)
                    if (e.ctrlKey || true) { 
                        e.preventDefault();
                        const zoomSensitivity = 0.001;
                        const delta = -e.deltaY * zoomSensitivity;
                        const newScale = Math.min(Math.max(0.1, scale + delta), 5);
                        scale = newScale;
                        updateTransform();
                    }
                });

                // Pan
                container.addEventListener('mousedown', (e) => {
                    // Start pan if clicking purely on background/container
                    // Check against container or the wrapper or the SVG definition layer
                    if (e.target === container || e.target.id === 'nodes-container' || e.target.id === 'zoom-wrapper' || e.target.id === 'connections-svg') {
                        isPanning = true;
                        panStart = { x: e.clientX - pan.x, y: e.clientY - pan.y };
                        container.style.cursor = 'grabbing';
                    }
                });

                window.addEventListener('mousemove', (e) => {
                    if (isPanning) {
                        pan.x = e.clientX - panStart.x;
                        pan.y = e.clientY - panStart.y;
                        updateTransform();
                    }
                });

                window.addEventListener('mouseup', () => {
                    if (isPanning) {
                        isPanning = false;
                        container.style.cursor = 'grab';
                    }
                });
            }

            // Keyboard events for Delete key
            function setupKeyboardEvents() {
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Delete' && selectedNodeId) {
                        vscode.postMessage({ type: 'confirmRemoveNode', payload: selectedNodeId });
                    }
                });
            }

            // Handle messages from extension
            window.addEventListener('message', (event) => {
                const message = event.data;
                switch (message.type) {
                    case 'projectUpdate':
                        project = message.payload;
                        renderNodes();
                        renderConnections();
                        break;
                    case 'nodeStatusUpdate':
                        updateNodeStatus(message.payload.nodeId, message.payload.status);
                        break;
                    case 'executionStarted':
                        document.getElementById('btn-run').style.display = 'none';
                        document.getElementById('btn-stop').style.display = 'inline-block';
                        document.getElementById('status').textContent = 'Running...';
                        break;
                    case 'executionEnded':
                        document.getElementById('btn-run').style.display = 'inline-block';
                        document.getElementById('btn-stop').style.display = 'none';
                        document.getElementById('status').textContent = message.payload?.status || '';
                        break;
                }
            });

            function renderNodes() {
                const container = document.getElementById('nodes-container');
                container.innerHTML = '';

                for (const node of project.nodes) {
                    const el = createNodeElement(node);
                    container.appendChild(el);
                }
            }

            function createNodeElement(node) {
                const el = document.createElement('div');
                el.className = 'etl-node ' + node.type + (selectedNodeId === node.id ? ' selected' : '');
                el.id = 'node-' + node.id;
                el.style.left = node.position.x + 'px';
                el.style.top = node.position.y + 'px';

                el.innerHTML = \`
                    <div class="node-actions">
                        <button class="node-delete-btn" data-node="\${node.id}" title="Delete task">\xD7</button>
                    </div>
                    <div class="node-type-indicator"></div>
                    <div class="node-content">
                        <div class="node-header">
                            <span class="node-icon">\${nodeIcons[node.type] || '\u{1F4CB}'}</span>
                            <span class="node-name">\${escapeHtml(node.name)}</span>
                        </div>
                        <div class="node-type">\${node.type}</div>
                    </div>
                    <div class="node-connectors">
                        <div class="connector input" data-node="\${node.id}" data-type="input"></div>
                        <div class="connector output" data-node="\${node.id}" data-type="output"></div>
                    </div>
                \`;

                setupNodeEvents(el, node);
                return el;
            }

            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            function setupNodeEvents(el, node) {
                // Delete button click
                const deleteBtn = el.querySelector('.node-delete-btn');
                if (deleteBtn) {
                    deleteBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        vscode.postMessage({ type: 'confirmRemoveNode', payload: node.id });
                    });
                }

                // Drag
                el.addEventListener('mousedown', (e) => {
                    if (e.target.classList.contains('connector')) return;
                    if (e.target.classList.contains('node-delete-btn')) return;
                    
                    selectedNodeId = node.id;
                    isDragging = true;
                    
                    const rect = el.getBoundingClientRect();
                    dragOffset.x = (e.clientX - rect.left) / scale;
                    dragOffset.y = (e.clientY - rect.top) / scale;
                    
                    // Update selection
                    document.querySelectorAll('.etl-node').forEach(n => n.classList.remove('selected'));
                    el.classList.add('selected');
                    
                    updatePropertiesPanel(node);
                });

                // Double-click to configure
                el.addEventListener('dblclick', () => {
                    vscode.postMessage({ type: 'configureNode', payload: node.id });
                });

                // Connector events
                el.querySelectorAll('.connector').forEach(conn => {
                    conn.addEventListener('mousedown', (e) => {
                        e.stopPropagation();
                        if (conn.dataset.type === 'output') {
                            isConnecting = true;
                            connectionStart = node.id;
                            createTempLine(e);
                        }
                    });

                    conn.addEventListener('mouseup', (e) => {
                        if (isConnecting && conn.dataset.type === 'input' && connectionStart !== node.id) {
                            vscode.postMessage({
                                type: 'addConnection',
                                payload: { from: connectionStart, to: node.id }
                            });
                        }
                        endConnection();
                    });
                });

                // Context menu for delete
                el.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    vscode.postMessage({ type: 'confirmRemoveNode', payload: node.id });
                });
            }

            function renderConnections() {
                const svg = document.getElementById('connections-svg');
                // Clear existing paths but keep defs
                svg.querySelectorAll('path').forEach(p => p.remove());

                for (const conn of project.connections) {
                    const fromNode = project.nodes.find(n => n.id === conn.from);
                    const toNode = project.nodes.find(n => n.id === conn.to);
                    
                    if (fromNode && toNode) {
                        const path = createConnectionPath(fromNode, toNode, conn.id);
                        svg.appendChild(path);
                    }
                }
            }

            function createConnectionPath(from, to, connId) {
                const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                
                // Calculate positions
                const x1 = from.position.x + 160; // Right side of node
                const y1 = from.position.y + 35;  // Middle of node
                const x2 = to.position.x;          // Left side of node
                const y2 = to.position.y + 35;    // Middle of node

                // Create bezier curve
                const midX = (x1 + x2) / 2;
                const d = 'M ' + x1 + ' ' + y1 + ' C ' + midX + ' ' + y1 + ', ' + midX + ' ' + y2 + ', ' + x2 + ' ' + y2;
                
                // 1. Hit path (invisible, wider)
                const hitPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                hitPath.setAttribute('d', d);
                hitPath.setAttribute('class', 'connection-hit');
                hitPath.dataset.connectionId = connId; // For debugging
                
                hitPath.addEventListener('click', (e) => {
                    e.stopPropagation();
                    vscode.postMessage({ type: 'confirmRemoveConnection', payload: connId });
                });

                // 2. Visible path
                const visiblePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                visiblePath.setAttribute('d', d);
                visiblePath.setAttribute('marker-end', 'url(#arrowhead)');
                visiblePath.setAttribute('class', 'connection-line');

                group.appendChild(hitPath);
                group.appendChild(visiblePath);
                
                return group;
            }

            function setupToolboxDrag() {
                document.querySelectorAll('.toolbox-item').forEach(item => {
                    item.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('nodeType', item.dataset.type);
                    });
                });
            }

            function setupCanvasDrop() {
                const canvas = document.getElementById('canvas');
                
                canvas.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });
                
                canvas.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const nodeType = e.dataTransfer.getData('nodeType');
                    if (nodeType) {
                        const rect = canvas.getBoundingClientRect();
                        const x = (e.clientX - rect.left - pan.x) / scale;
                        const y = (e.clientY - rect.top - pan.y) / scale;
                        
                        vscode.postMessage({
                            type: 'addNode',
                            payload: { type: nodeType, position: { x, y } }
                        });
                    }
                });

                // Mouse move for dragging and connecting
                document.addEventListener('mousemove', (e) => {
                    if (isDragging && selectedNodeId) {
                        const canvas = document.getElementById('canvas');
                        const rect = canvas.getBoundingClientRect();
                        const x = (e.clientX - rect.left - pan.x) / scale - dragOffset.x;
                        const y = (e.clientY - rect.top - pan.y) / scale - dragOffset.y;
                        
                        // Update node position in DOM
                        const nodeEl = document.getElementById('node-' + selectedNodeId);
                        if (nodeEl) {
                            nodeEl.style.left = Math.max(0, x) + 'px';
                            nodeEl.style.top = Math.max(0, y) + 'px';
                        }
                        
                        // Update connections
                        const node = project.nodes.find(n => n.id === selectedNodeId);
                        if (node) {
                            node.position = { x: Math.max(0, x), y: Math.max(0, y) };
                            renderConnections();
                        }
                    }
                    
                    if (isConnecting && tempLine) {
                        updateTempLine(e);
                    }
                });

                document.addEventListener('mouseup', (e) => {
                    if (isDragging && selectedNodeId) {
                        // Save position
                        const node = project.nodes.find(n => n.id === selectedNodeId);
                        if (node) {
                            vscode.postMessage({
                                type: 'updateNodePosition',
                                payload: { nodeId: selectedNodeId, position: node.position }
                            });
                        }
                    }
                    
                    isDragging = false;
                    endConnection();
                });

                // Deselect on canvas click
                canvas.addEventListener('click', (e) => {
                    if (e.target === canvas || e.target.classList.contains('nodes-layer')) {
                        selectedNodeId = null;
                        document.querySelectorAll('.etl-node').forEach(n => n.classList.remove('selected'));
                        updatePropertiesPanel(null);
                    }
                });
            }

            function createTempLine(e) {
                const svg = document.getElementById('connections-svg');
                tempLine = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                tempLine.classList.add('temp-connection');
                svg.appendChild(tempLine);
                updateTempLine(e);
            }

            function updateTempLine(e) {
                if (!tempLine || !connectionStart) return;
                
                const fromNode = project.nodes.find(n => n.id === connectionStart);
                if (!fromNode) return;
                
                const canvas = document.getElementById('canvas');
                const rect = canvas.getBoundingClientRect();
                
                const x1 = fromNode.position.x + 160;
                const y1 = fromNode.position.y + 35;
                const x2 = (e.clientX - rect.left - pan.x) / scale;
                const y2 = (e.clientY - rect.top - pan.y) / scale;
                
                const midX = (x1 + x2) / 2;
                tempLine.setAttribute('d', 'M ' + x1 + ' ' + y1 + ' C ' + midX + ' ' + y1 + ', ' + midX + ' ' + y2 + ', ' + x2 + ' ' + y2);
            }

            function endConnection() {
                isConnecting = false;
                connectionStart = null;
                if (tempLine) {
                    tempLine.remove();
                    tempLine = null;
                }
            }

            function setupToolbarButtons() {
                document.getElementById('btn-new').addEventListener('click', () => {
                    vscode.postMessage({ type: 'newProject' });
                });
                
                document.getElementById('btn-open').addEventListener('click', () => {
                    vscode.postMessage({ type: 'loadProject' });
                });
                
                document.getElementById('btn-save').addEventListener('click', () => {
                    vscode.postMessage({ type: 'saveProject' });
                });
                
                document.getElementById('btn-run').addEventListener('click', () => {
                    vscode.postMessage({ type: 'runProject' });
                });
                
                document.getElementById('btn-stop').addEventListener('click', () => {
                    vscode.postMessage({ type: 'stopProject' });
                });
            }

            function updatePropertiesPanel(node) {
                const content = document.getElementById('properties-content');
                
                if (!node) {
                    content.innerHTML = '<p class="placeholder">Select a task to view properties</p>';
                    return;
                }
                
                let configHtml = '';
                const config = node.config;
                
                switch (node.type) {
                    case 'sql':
                        const queryPreview = config.query 
                            ? (config.query.length > 100 ? config.query.substring(0, 100) + '...' : config.query)
                            : '(not configured)';
                        configHtml = \`
                            <div class="property-group">
                                <span class="property-label">Connection</span>
                                <div class="property-value">\${escapeHtml(config.connection || 'Active connection')}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Query</span>
                                <pre class="property-code">\${escapeHtml(queryPreview)}</pre>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Timeout</span>
                                <div class="property-value">\${config.timeout ? config.timeout + 's' : '(default)'}</div>
                            </div>
                        \`;
                        break;
                    case 'python':
                        let scriptInfo = '(not configured)';
                        if (config.scriptPath) {
                            const pathParts = config.scriptPath.split(/[/\\\\]/);
                            scriptInfo = '\u{1F4C1} ' + pathParts[pathParts.length - 1];
                        } else if (config.script) {
                            const preview = config.script.length > 50 ? config.script.substring(0, 50) + '...' : config.script;
                            scriptInfo = preview;
                        }
                        configHtml = \`
                            <div class="property-group">
                                <span class="property-label">Script Source</span>
                                <div class="property-value">\${config.scriptPath ? 'File' : (config.script ? 'Inline' : 'Not set')}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Script</span>
                                <pre class="property-code">\${escapeHtml(scriptInfo)}</pre>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Interpreter</span>
                                <div class="property-value">\${escapeHtml(config.pythonPath || 'Auto-detect')}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Timeout</span>
                                <div class="property-value">\${config.timeout ? config.timeout + 's' : '(default)'}</div>
                            </div>
                        \`;
                        break;
                    case 'export':
                        const outPath = config.outputPath 
                            ? config.outputPath.split(/[/\\\\]/).pop() 
                            : '(not configured)';
                        const exportQueryPreview = config.query 
                            ? (config.query.length > 50 ? config.query.substring(0, 50) + '...' : config.query)
                            : '(uses previous output)';
                        configHtml = \`
                            <div class="property-group">
                                <span class="property-label">Format</span>
                                <div class="property-value">\${config.format?.toUpperCase() || '(not set)'}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Output File</span>
                                <div class="property-value">\u{1F4C4} \${escapeHtml(outPath)}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Query</span>
                                <pre class="property-code">\${escapeHtml(exportQueryPreview)}</pre>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Timeout</span>
                                <div class="property-value">\${config.timeout ? config.timeout + 's' : '(default)'}</div>
                            </div>
                        \`;
                        break;
                    case 'import':
                        const inPath = config.inputPath 
                            ? config.inputPath.split(/[/\\\\]/).pop() 
                            : '(not configured)';
                        configHtml = \`
                            <div class="property-group">
                                <span class="property-label">Format</span>
                                <div class="property-value">\${config.format?.toUpperCase() || 'Auto-detect'}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Input File</span>
                                <div class="property-value">\u{1F4C4} \${escapeHtml(inPath)}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Target Table</span>
                                <div class="property-value">\${escapeHtml(config.targetTable || '(not set)')}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Create Table</span>
                                <div class="property-value">\${config.createTable !== false ? 'Yes (if needed)' : 'No'}</div>
                            </div>
                            <div class="property-group">
                                <span class="property-label">Timeout</span>
                                <div class="property-value">\${config.timeout ? config.timeout + 's' : '(default)'}</div>
                            </div>
                        \`;
                        break;
                    case 'container':
                        const childCount = (config.childNodes || []).length;
                        configHtml = \`
                            <div class="property-group">
                                <span class="property-label">Child Tasks</span>
                                <div class="property-value">\${childCount} task(s)</div>
                            </div>
                        \`;
                        break;
                }
                
                content.innerHTML = \`
                    <div class="property-group">
                        <span class="property-label">ID</span>
                        <div class="property-value" style="font-family: monospace; font-size: 0.75em;">\${node.id}</div>
                    </div>
                    <div class="property-group">
                        <span class="property-label">Name</span>
                        <div class="property-value">\${escapeHtml(node.name)}</div>
                    </div>
                    <div class="property-group">
                        <span class="property-label">Type</span>
                        <div class="property-value">\${node.type.toUpperCase()}</div>
                    </div>
                    <div class="property-group">
                        <span class="property-label">Position</span>
                        <div class="property-value">(\${node.position.x}, \${node.position.y})</div>
                    </div>
                    <hr style="border: none; border-top: 1px solid var(--border-color); margin: 12px 0;">
                    <h4 style="margin: 8px 0; font-size: 0.85em; color: var(--text-muted);">\u2699\uFE0F Configuration</h4>
                    \${configHtml}
                    <button class="configure-btn" data-node-id="\${node.id}">
                        \u270F\uFE0F Edit Configuration
                    </button>
                \`;
                
                // Attach event listener to configure button (CSP-safe)
                const configBtn = content.querySelector('.configure-btn');
                if (configBtn) {
                    configBtn.addEventListener('click', () => {
                        vscode.postMessage({ type: 'configureNode', payload: node.id });
                    });
                }
            }

            function updateNodeStatus(nodeId, status) {
                const nodeEl = document.getElementById('node-' + nodeId);
                if (nodeEl) {
                    nodeEl.classList.remove('running', 'success', 'error', 'pending', 'skipped');
                    nodeEl.classList.add(status);
                }
                
                document.getElementById('status').textContent = status === 'running' 
                    ? 'Running...' 
                    : (status === 'error' ? 'Error!' : '');
            }

            // Start
            init();
        `}_getNonce(){let e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}};var Gd=j(require("vscode"));function $r(t){return`${t.dbName}.${t.schema}.${t.label}`}async function Ii(t,e){return await t.getConnection(e||t.getActiveConnectionName()||"")?!0:(Gd.window.showErrorMessage("No database connection"),!1)}async function pr(t,e){return Gd.window.withProgress({location:Gd.ProgressLocation.Notification,title:t,cancellable:!1},e)}function MC(t){return t.replace(/'/g,"''")}function vC(t){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t.trim())}var Sr=j(require("vscode"));Ar();function n6(t){let{context:e,connectionManager:r,schemaProvider:n}=t;return[Sr.commands.registerCommand("netezza.copySelectAll",async i=>{if(i&&i.label&&i.dbName&&i.schema){let s=`SELECT * FROM ${i.dbName}.${i.schema}.${i.label} LIMIT 1000;`,o=await Sr.window.showQuickPick([{label:"Open in Editor",description:"Open SQL in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy SQL to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the SQL?"});if(o)if(o.value==="editor"){let a=await Sr.workspace.openTextDocument({content:s,language:"sql"});await Sr.window.showTextDocument(a)}else await Sr.env.clipboard.writeText(s),Sr.window.showInformationMessage("Copied to clipboard")}}),Sr.commands.registerCommand("netezza.copyDrop",async i=>{if(i&&i.label&&i.dbName&&i.schema&&i.objType){let s=$r(i),o=`DROP ${i.objType} ${s};`;if(await Sr.window.showWarningMessage(`Are you sure you want to delete ${i.objType.toLowerCase()} "${s}"?`,{modal:!0},"Yes, delete","Cancel")==="Yes, delete")try{await pr(`Deleting ${i.objType.toLowerCase()} ${s}...`,async()=>{await K(e,o,!0,i.connectionName,r)}),Sr.window.showInformationMessage(`Deleted ${i.objType.toLowerCase()}: ${s}`),n.refresh()}catch(l){let c=l instanceof Error?l.message:String(l);Sr.window.showErrorMessage(`Error during deletion: ${c}`)}}}),Sr.commands.registerCommand("netezza.copyName",i=>{if(i&&i.label&&i.dbName&&i.schema){let s=$r(i);Sr.env.clipboard.writeText(s),Sr.window.showInformationMessage("Copied to clipboard")}})]}var He=j(require("vscode"));Ar();function i6(t){let{context:e,connectionManager:r,metadataCache:n,schemaProvider:i}=t;return[He.commands.registerCommand("netezza.grantPermissions",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType){let o=$r(s),a=await He.window.showQuickPick([{label:"SELECT",description:"Privileges to read data"},{label:"INSERT",description:"Privileges to insert data"},{label:"UPDATE",description:"Privileges to update data"},{label:"DELETE",description:"Privileges to delete data"},{label:"ALL",description:"All privileges (SELECT, INSERT, UPDATE, DELETE)"},{label:"LIST",description:"Privileges to list objects"}],{placeHolder:"Select privilege type"});if(!a)return;let l=await He.window.showInputBox({prompt:"Enter user or group name",placeHolder:"e.g. SOME_USER or GROUP_NAME",validateInput:d=>!d||d.trim().length===0?"User/group name cannot be empty":vC(d)?null:"Invalid user/group name"});if(!l)return;let c=`GRANT ${a.label} ON ${o} TO ${l.trim().toUpperCase()};`;if(await He.window.showInformationMessage(`Execute: ${c}`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute"){if(!await Ii(r))return;try{await pr(`Granting ${a.label} on ${o}...`,async()=>{await K(e,c,!0,s.connectionName,r)}),He.window.showInformationMessage(`Granted ${a.label} on ${o} to ${l.trim().toUpperCase()}`)}catch(d){let f=d instanceof Error?d.message:String(d);He.window.showErrorMessage(`Error granting privileges: ${f}`)}}}}),He.commands.registerCommand("netezza.addTableComment",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=$r(s),a=await He.window.showInputBox({prompt:"Enter comment for table",placeHolder:"e.g. Table contains customer data",value:s.objectDescription||""});if(a===void 0)return;let l=`COMMENT ON TABLE ${o} IS '${MC(a)}';`;try{if(!await Ii(r))return;await K(e,l,!0,s.connectionName,r),He.window.showInformationMessage(`Comment added to table: ${o}`),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);He.window.showErrorMessage(`Error adding comment: ${u}`)}}}),He.commands.registerCommand("netezza.addColumnComment",async s=>{if(s&&s.label&&s.dbName&&s.parentName){let o=s.label.split(" ")[0],a=s.parentName,l=s.schema||"ADMIN",c=`${s.dbName}.${l}.${a}.${o}`,u=await He.window.showInputBox({prompt:`Enter comment for column "${o}"`,placeHolder:"e.g. Customer ID from CRM",value:s.objectDescription||""});if(u===void 0)return;let d=`COMMENT ON COLUMN ${c} IS '${MC(u)}';`;try{if(!await Ii(r))return;await K(e,d,!0,s.connectionName,r),He.window.showInformationMessage(`Comment added to column: ${o}`),i.refresh()}catch(f){let E=f instanceof Error?f.message:String(f);He.window.showErrorMessage(`Error adding comment: ${E}`)}}}),He.commands.registerCommand("netezza.truncateTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=$r(s),a=`TRUNCATE TABLE ${o};`;if(await He.window.showWarningMessage(`\u26A0\uFE0F WARNING: Are you sure you want to delete ALL data from the table "${o}"?

${a}

This operation is IRREVERSIBLE!`,{modal:!0},"Yes, delete all data","Cancel")==="Yes, delete all data"){if(!await Ii(r))return;try{await pr(`Clearing table ${o}...`,async()=>{await K(e,a,!0,s.connectionName,r)}),He.window.showInformationMessage(`Table cleared: ${o}`)}catch(c){let u=c instanceof Error?c.message:String(c);He.window.showErrorMessage(`Error clearing table: ${u}`)}}}}),He.commands.registerCommand("netezza.addPrimaryKey",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=$r(s),a=await He.window.showInputBox({prompt:"Enter primary key constraint name",placeHolder:`e.g. PK_${s.label}`,value:`PK_${s.label}`,validateInput:f=>!f||f.trim().length===0?"Constraint name cannot be empty":vC(f)?null:"Invalid constraint name"});if(!a)return;let l=await He.window.showInputBox({prompt:"Enter primary key column names (comma separated)",placeHolder:"e.g. COL1, COL2 or ID",validateInput:f=>!f||f.trim().length===0?"You must provide at least one column":null});if(!l)return;let c=l.split(",").map(f=>f.trim().toUpperCase()).join(", "),u=`ALTER TABLE ${o} ADD CONSTRAINT ${a.trim().toUpperCase()} PRIMARY KEY (${c});`;if(await He.window.showInformationMessage(`Add primary key to table "${o}"?

${u}`,{modal:!0},"Yes, add","Cancel")==="Yes, add"){if(!await Ii(r))return;try{await pr(`Adding primary key to ${o}...`,async()=>{await K(e,u,!0,s.connectionName,r)}),He.window.showInformationMessage(`Primary key added: ${a.trim().toUpperCase()}`),i.refresh()}catch(f){let E=f instanceof Error?f.message:String(f);He.window.showErrorMessage(`Error adding primary key: ${E}`)}}}}),He.commands.registerCommand("netezza.changeOwner",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=$r(s),a=await He.window.showInputBox({prompt:"Enter new owner name",placeHolder:"e.g. USER_NAME or GROUP_NAME"});if(!a)return;let l=`ALTER TABLE ${o} OWNER TO ${a.trim()};`;try{if(!await Ii(r))return;await K(e,l,!0,s.connectionName,r),He.window.showInformationMessage(`Owner changed to ${a} for ${o}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);He.window.showErrorMessage(`Error changing owner: ${u}`)}}}),He.commands.registerCommand("netezza.renameTable",async s=>{if(s&&s.label&&s.dbName&&s.schema&&s.objType==="TABLE"){let o=$r(s),a=await He.window.showInputBox({prompt:"Enter new table name",placeHolder:"NewTableName",value:s.label});if(!a||a===s.label)return;let l=`ALTER TABLE ${o} RENAME TO ${a.trim()};`;try{if(!await Ii(r))return;await K(e,l,!0,s.connectionName,r),He.window.showInformationMessage(`Table renamed to ${a}`),n.invalidateSchema(s.connectionName,s.dbName,s.schema),i.refresh()}catch(c){let u=c instanceof Error?c.message:String(c);He.window.showErrorMessage(`Error renaming table: ${u}`)}}})]}var ze=j(require("vscode"));Ar();function f6(t){let{context:e,connectionManager:r}=t;return[ze.commands.registerCommand("netezza.groomTable",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=$r(n),s=await ze.window.showQuickPick([{label:"RECORDS ALL",description:"Groom all records (reclaim space from deleted rows)"},{label:"RECORDS READY",description:"Groom only ready records"},{label:"PAGES ALL",description:"Groom all pages (reorganize data pages)"},{label:"PAGES START",description:"Groom pages from start"},{label:"VERSIONS",description:"Groom versions (clean up old row versions)"}],{placeHolder:"Select GROOM mode"});if(!s)return;let o=await ze.window.showQuickPick([{label:"DEFAULT",description:"Use default backupset",value:"DEFAULT"},{label:"NONE",description:"No backupset",value:"NONE"},{label:"Custom",description:"Specify custom backupset ID",value:"CUSTOM"}],{placeHolder:"Select RECLAIM BACKUPSET option"});if(!o)return;let a=o.value;if(o.value==="CUSTOM"){let u=await ze.window.showInputBox({prompt:"Enter backupset ID",placeHolder:"e.g. 12345",validateInput:d=>!d||d.trim().length===0?"Backupset ID cannot be empty":/^\d+$/.test(d.trim())?null:"Backupset ID must be a number"});if(!u)return;a=u.trim()}let l=`GROOM TABLE ${i} ${s.label} RECLAIM BACKUPSET ${a};`;if(await ze.window.showWarningMessage(`Execute GROOM on table "${i}"?

${l}

Warning: This operation may be time-consuming for large tables.`,{modal:!0},"Yes, execute","Cancel")==="Yes, execute")try{let u=Date.now();await pr(`GROOM TABLE ${i} (${s.label})...`,async()=>{await K(e,l,!0,n.connectionName,r)});let d=((Date.now()-u)/1e3).toFixed(1);ze.window.showInformationMessage(`GROOM completed successfully (${d}s): ${i}`)}catch(u){let d=u instanceof Error?u.message:String(u);ze.window.showErrorMessage(`Error during GROOM: ${d}`)}}}),ze.commands.registerCommand("netezza.generateStatistics",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=$r(n),s=`GENERATE EXPRESS STATISTICS ON ${i};`;if(await ze.window.showInformationMessage(`Generate statistics for table "${i}"?

${s}`,{modal:!0},"Yes, generate","Cancel")==="Yes, generate")try{let a=Date.now();await pr(`Generating statistics for ${i}...`,async()=>{await K(e,s,!0,n.connectionName,r)});let l=((Date.now()-a)/1e3).toFixed(1);ze.window.showInformationMessage(`Statistics generated successfully (${l}s): ${i}`)}catch(a){let l=a instanceof Error?a.message:String(a);ze.window.showErrorMessage(`Error generating statistics: ${l}`)}}}),ze.commands.registerCommand("netezza.checkSkew",async n=>{if(n&&n.label&&n.dbName&&n.schema&&n.objType==="TABLE"){let i=$r(n),s=`SELECT datasliceid, count(*) as row_count FROM ${i} GROUP BY 1 ORDER BY 1;`;if(await ze.window.showInformationMessage(`Check skew for "${i}"?

This will run: ${s}

Note: This may be slow on very large tables.`,{modal:!0},"Yes, check skew","Cancel")==="Yes, check skew"){let a=await ze.workspace.openTextDocument({content:`-- Check Skew for ${i}
${s}`,language:"sql"});await ze.window.showTextDocument(a),ze.commands.executeCommand("netezza.runQuery")}}}),ze.commands.registerCommand("netezza.recreateTable",async n=>{if(!n||!n.label||!n.dbName||!n.schema||!n.objType||n.objType!=="TABLE"){ze.window.showErrorMessage("Invalid object selected for Recreate Table");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){ze.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=await ze.window.showInputBox({prompt:"Enter temporary table name (Optional)",placeHolder:"Leave empty to auto-generate timestamped name",value:""});if(s!==void 0)try{await pr(`Generating Recreate Script for ${n.label}...`,async()=>{let{generateRecreateTableScript:o}=await Promise.resolve().then(()=>(E6(),d6)),a=await o(i,n.dbName,n.schema,n.label,s||void 0);if(a.success&&a.sqlScript){let l=await ze.workspace.openTextDocument({content:a.sqlScript,language:"sql"});await ze.window.showTextDocument(l),ze.window.showInformationMessage(`Recreate script generated for ${n.label}`)}else throw new Error(a.error||"Script generation failed")})}catch(o){let a=o instanceof Error?o.message:String(o);ze.window.showErrorMessage(`Error generating recreate script: ${a}`)}})]}var Ne=j(require("vscode"));Ar();function p6(t){let{context:e,connectionManager:r}=t;return[Ne.commands.registerCommand("netezza.createDDL",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){Ne.window.showErrorMessage("Invalid object selected for DDL generation");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){Ne.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}await pr(`Generating DDL for ${n.objType} ${n.label}...`,async()=>{let{generateDDL:s}=await Promise.resolve().then(()=>(Yd(),FC)),o=await s(i,n.dbName,n.schema,n.label,n.objType);if(o.success&&o.ddlCode){let a=await Ne.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:"How would you like to access the DDL code?"});if(a)if(a.value==="editor"){let l=await Ne.workspace.openTextDocument({content:o.ddlCode,language:"sql"});await Ne.window.showTextDocument(l),Ne.window.showInformationMessage(`DDL code generated for ${n.objType} ${n.label}`)}else a.value==="clipboard"&&(await Ne.env.clipboard.writeText(o.ddlCode),Ne.window.showInformationMessage("DDL code copied to clipboard"))}else throw new Error(o.error||"DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);Ne.window.showErrorMessage(`Error generating DDL: ${s}`)}}),Ne.commands.registerCommand("netezza.compareSchema",async n=>{try{if(!n||!n.label||!n.dbName||!n.schema||!n.objType){Ne.window.showErrorMessage("Invalid object selected for comparison");return}let i=await r.getConnection(r.getActiveConnectionName()||"");if(!i){Ne.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let s=n.objType,o=`${n.dbName}.${n.schema}.${n.label}`,a=[];if(await pr(`Loading ${s}s for comparison...`,async()=>{let c=s==="PROCEDURE"?"OBJTYPE = 'PROCEDURE'":s==="VIEW"?"OBJTYPE = 'VIEW'":"OBJTYPE = 'TABLE'",u=s==="PROCEDURE"?`SELECT DISTINCT SCHEMA, PROCEDURESIGNATURE AS OBJNAME FROM ${n.dbName}.._V_PROCEDURE WHERE DATABASE = '${n.dbName.toUpperCase()}' ORDER BY SCHEMA, PROCEDURESIGNATURE`:`SELECT SCHEMA, OBJNAME FROM ${n.dbName}.._V_OBJECT_DATA WHERE DBNAME = '${n.dbName.toUpperCase()}' AND ${c} ORDER BY SCHEMA, OBJNAME`,d=await K(e,u,!0,n.connectionName,r);if(d&&!d.startsWith("Query executed successfully")){let f=JSON.parse(d);for(let E of f){let T=E.OBJNAME,h=E.SCHEMA;`${n.dbName}.${h}.${T}`.toUpperCase()!==o.toUpperCase()&&a.push({label:T,description:`${n.dbName}.${h}`,db:n.dbName,schema:h,name:T})}}}),a.length===0){Ne.window.showWarningMessage(`No other ${s}s found to compare with.`);return}let l=await Ne.window.showQuickPick(a,{placeHolder:`Select ${s} to compare with ${n.label}`,matchOnDescription:!0});if(!l)return;await pr(`Comparing ${n.label} with ${l.label}...`,async()=>{if(s==="PROCEDURE"){let{compareProcedures:c}=await Promise.resolve().then(()=>(HC(),GC)),{SchemaCompareView:u}=await Promise.resolve().then(()=>($C(),YC)),d=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,d,"procedure")}else{let{compareTableStructures:c}=await Promise.resolve().then(()=>(HC(),GC)),{SchemaCompareView:u}=await Promise.resolve().then(()=>($C(),YC)),d=await c(i,n.dbName,n.schema,n.label,l.db,l.schema,l.name);u.createOrShow(e.extensionUri,d,"table")}}),Ne.window.showInformationMessage(`Comparison complete: ${n.label} \u2194 ${l.label}`)}catch(i){let s=i instanceof Error?i.message:String(i);Ne.window.showErrorMessage(`Error comparing objects: ${s}`)}}),Ne.commands.registerCommand("netezza.batchExportDDL",async n=>{try{if(!n||!n.contextValue){Ne.window.showErrorMessage("Invalid node selected for batch DDL export");return}let i=n.contextValue==="database",s=n.contextValue.startsWith("typeGroup:");if(!i&&!s){Ne.window.showErrorMessage("Batch DDL export is only available on database or object type nodes");return}let o=await r.getConnection(r.getActiveConnectionName()||"");if(!o){Ne.window.showErrorMessage("Connection not configured. Please connect via Netezza: Connect...");return}let a=n.dbName||n.label,l=s?[n.objType||n.contextValue.replace("typeGroup:","")]:void 0;await pr(i?`Exporting all DDL for database ${a}...`:`Exporting ${l?.[0]} DDL for ${a}...`,async()=>{let{generateBatchDDL:c}=await Promise.resolve().then(()=>(Yd(),FC)),u=await c({connectionDetails:o,database:a,objectTypes:l});if(u.success&&u.ddlCode){let d=await Ne.window.showQuickPick([{label:"Open in Editor",description:"Open DDL code in a new editor",value:"editor"},{label:"Save to File",description:"Save DDL code to a .sql file",value:"file"},{label:"Copy to Clipboard",description:"Copy DDL code to clipboard",value:"clipboard"}],{placeHolder:`${u.objectCount} objects found. How would you like to access the DDL code?`});if(d)if(d.value==="editor"){let f=await Ne.workspace.openTextDocument({content:u.ddlCode,language:"sql"});await Ne.window.showTextDocument(f),Ne.window.showInformationMessage(`DDL exported: ${u.objectCount} objects`)}else if(d.value==="file"){let f=i?`${a}_all_ddl.sql`:`${a}_${l?.[0]?.toLowerCase()||"objects"}_ddl.sql`,E=await Ne.window.showSaveDialog({defaultUri:Ne.Uri.file(f),filters:{"SQL Files":["sql"]}});E&&(await Ne.workspace.fs.writeFile(E,Buffer.from(u.ddlCode,"utf8")),Ne.window.showInformationMessage(`DDL saved to ${E.fsPath}`))}else d.value==="clipboard"&&(await Ne.env.clipboard.writeText(u.ddlCode),Ne.window.showInformationMessage(`DDL copied: ${u.objectCount} objects`));u.errors.length>0&&Ne.window.showWarningMessage(`Batch DDL completed with ${u.errors.length} error(s). Check the generated file for details.`)}else throw new Error(u.errors.join(", ")||"Batch DDL generation failed")})}catch(i){let s=i instanceof Error?i.message:String(i);Ne.window.showErrorMessage(`Error exporting DDL: ${s}`)}})]}var Zr=j(require("vscode"));Ar();function O6(t){let{context:e,connectionManager:r}=t;return[Zr.commands.registerCommand("netezza.showERD",async n=>{try{if(!n||!n.contextValue||!n.contextValue.startsWith("typeGroup:")){Zr.window.showErrorMessage("Please right-click on a TABLE type group to show ERD");return}let i=n.dbName||n.label,s=n.connectionName;if(!s){Zr.window.showErrorMessage("No connection selected");return}let o=`SELECT DISTINCT SCHEMA FROM ${i}.._V_TABLE ORDER BY SCHEMA`,a=await K(e,o,!0,s,r);if(!a){Zr.window.showErrorMessage("Could not retrieve schemas");return}let l=JSON.parse(a);if(l.length===0){Zr.window.showWarningMessage("No tables found in this database");return}let c;if(l.length===1)c=l[0].SCHEMA;else{let f=l.map(T=>({label:T.SCHEMA,description:`${i}.${T.SCHEMA}`})),E=await Zr.window.showQuickPick(f,{placeHolder:"Select schema to show ERD for"});if(!E)return;c=E.label}let u=0,d=0;await pr(`Building ERD for ${i}.${c}...`,async()=>{let{buildERDData:f}=await Promise.resolve().then(()=>(_6(),A6)),{ERDView:E}=await Promise.resolve().then(()=>(m6(),I6)),T=await f(e,r,s,i,c);u=T.tables.length,d=T.relationships.length,E.createOrShow(e.extensionUri,T)}),Zr.window.showInformationMessage(`ERD generated: ${u} tables, ${d} relationships`)}catch(i){let s=i instanceof Error?i.message:String(i);Zr.window.showErrorMessage(`Error generating ERD: ${s}`)}}),Zr.commands.registerCommand("netezza.showSessionMonitor",async()=>{try{if(!await Ii(r)){Zr.window.showErrorMessage("Please connect to a Netezza database first.");return}let{SessionMonitorView:n}=await Promise.resolve().then(()=>(g6(),N6));n.createOrShow(e.extensionUri,e,r)}catch(n){let i=n instanceof Error?n.message:String(n);Zr.window.showErrorMessage(`Error opening Session Monitor: ${i}`)}})]}var gt=j(require("vscode"));Ar();function C6(t){let{context:e,connectionManager:r,metadataCache:n,schemaTreeView:i}=t;return[gt.commands.registerCommand("netezza.revealInSchema",async s=>{let o=gt.window.setStatusBarMessage(`$(loading~spin) Revealing ${s.name} in schema...`);try{let a,l=gt.window.activeTextEditor;if(l&&l.document.languageId==="sql"&&(a=r.getConnectionForExecution(l.document.uri.toString())),a||(a=s.connectionName),a||(a=r.getActiveConnectionName()||void 0),!a){o.dispose(),gt.window.showWarningMessage("No active connection. Please select a connection first.");return}let c=s.name,u=s.objType;if(u==="COLUMN"){if(!s.parent){o.dispose(),gt.window.showWarningMessage("Cannot find column without parent table");return}c=s.parent}if(s.database){let E=n.findObjectWithType(a,s.database,s.schema,c);if(E){let T=new Kt(E.name,gt.TreeItemCollapsibleState.Collapsed,`netezza:${E.objType}`,s.database,E.objType,E.schema||s.schema,E.objId,void 0,a);await i.reveal(T,{select:!0,focus:!0,expand:!0}),o.dispose(),gt.window.setStatusBarMessage(`$(check) Found ${c} in ${s.database}.${E.schema||s.schema} (cached)`,3e3);return}else n.hasConnectionPrefetchTriggered(a)||n.triggerConnectionPrefetch(a,async T=>K(e,T,!0,a,r))}if(!await r.getConnection(a)){o.dispose(),gt.window.showWarningMessage("Not connected to database and object not found in cache.");return}let f=s.database||await r.getCurrentDatabase(a);if(f){let E=u&&u!=="COLUMN"?`AND UPPER(OBJTYPE) = UPPER('${u}')`:"",T=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",h=`
                        SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                        FROM ${f}.._V_OBJECT_DATA 
                        WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                        AND DBNAME = '${f}'
                        ${E}
                        ${T}
                        LIMIT 1
                    `;try{let p=await K(e,h,!0,a,r);if(p){let S=[];if(p==="Query executed successfully (no results)."||p.startsWith("Query executed successfully")?S=[]:S=JSON.parse(p),S.length>0){let I=S[0];if(I.OBJTYPE==="PROCEDURE")try{let A=`SELECT PROCEDURESIGNATURE FROM ${f}.._V_PROCEDURE WHERE OBJID = ${I.OBJID}`,N=await K(e,A,!0,a,r);if(N){let w=JSON.parse(N);w.length>0&&w[0].PROCEDURESIGNATURE&&(I.OBJNAME=w[0].PROCEDURESIGNATURE)}}catch(A){console.warn("Failed to resolve procedure signature:",A)}let R=new Kt(I.OBJNAME,gt.TreeItemCollapsibleState.Collapsed,`netezza:${I.OBJTYPE}`,f,I.OBJTYPE,I.SCHEMA,I.OBJID,void 0,a);await i.reveal(R,{select:!0,focus:!0,expand:!0}),o.dispose(),gt.window.setStatusBarMessage(`$(check) Found ${c} in ${f}.${I.SCHEMA}`,3e3);return}}}catch(p){console.log(`Error searching in ${f}:`,p)}}if(!f){let E=await K(e,"SELECT DATABASE FROM system.._v_database ORDER BY DATABASE",!0,a,r);if(E){let T=JSON.parse(E);for(let h of T){let p=h.DATABASE;try{let S=s.schema?`AND UPPER(SCHEMA) = UPPER('${s.schema.replace(/'/g,"''")}')`:"",I=`
                                    SELECT OBJNAME, OBJTYPE, SCHEMA, OBJID 
                                    FROM ${p}.._V_OBJECT_DATA 
                                    WHERE UPPER(OBJNAME) = UPPER('${c.replace(/'/g,"''")}') 
                                    AND DBNAME = '${p}'
                                    ${S}
                                    LIMIT 1
                                `,R=await K(e,I,!0,a,r);if(R){let A=[];if(R==="Query executed successfully (no results)."||R.startsWith("Query executed successfully")?A=[]:A=JSON.parse(R),A.length>0){let N=A[0];if(N.OBJTYPE==="PROCEDURE")try{let m=`SELECT PROCEDURESIGNATURE FROM ${p}.._V_PROCEDURE WHERE OBJID = ${N.OBJID}`,D=await K(e,m,!0,a,r);if(D){let y=JSON.parse(D);y.length>0&&y[0].PROCEDURESIGNATURE&&(N.OBJNAME=y[0].PROCEDURESIGNATURE)}}catch(m){console.warn("Failed to resolve procedure signature:",m)}let w=new Kt(N.OBJNAME,gt.TreeItemCollapsibleState.Collapsed,`netezza:${N.OBJTYPE}`,p,N.OBJTYPE,N.SCHEMA,N.OBJID,void 0,a);await i.reveal(w,{select:!0,focus:!0,expand:!0}),o.dispose(),gt.window.setStatusBarMessage(`$(check) Found ${c} in ${p}.${N.SCHEMA}`,3e3);return}}}catch(S){console.log(`Error searching in ${p}:`,S)}}}}o.dispose(),gt.window.showWarningMessage(`Could not find ${u||"object"} ${c}`)}catch(a){o.dispose();let l=a instanceof Error?a.message:String(a);gt.window.showErrorMessage(`Error revealing item: ${l}`)}}),gt.commands.registerCommand("netezza.showQueryHistory",()=>{gt.commands.executeCommand("netezza.queryHistory.focus")}),gt.commands.registerCommand("netezza.clearQueryHistory",async()=>{let{QueryHistoryManager:s}=await Promise.resolve().then(()=>(wE(),C0)),o=new s(e);await gt.window.showWarningMessage("Are you sure you want to clear all query history?",{modal:!0},"Clear All")==="Clear All"&&(await o.clearHistory(),gt.window.showInformationMessage("Query history cleared"))})]}function AS(t){return[...n6(t),...i6(t),...f6(t),...p6(t),...O6(t),...C6(t)]}var ee=j(require("vscode")),b6=j(require("path")),_S=j(require("os"));function $d(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}function y6(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[ee.commands.registerCommand("netezza.exportToXlsb",async()=>{let i=ee.window.activeTextEditor;if(!i){ee.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){ee.window.showWarningMessage("No SQL query to export");return}let a=await ee.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),d=await r.getConnection(u||"");if(!d)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Exporting to XLSB...",cancellable:!1},async f=>{let{exportQueryToXlsb:E}=await Promise.resolve().then(()=>(Vs(),ca)),T=await E(d,o,a.fsPath,!1,h=>{f.report({message:h}),n.appendLine(`[XLSB Export] ${h}`)});if(!T.success)throw new Error(T.message)}),$d(n,"Export to XLSB",l),ee.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);ee.window.showErrorMessage(`Error exporting to XLSB: ${u}`)}}),ee.commands.registerCommand("netezza.exportToCsv",async()=>{let i=ee.window.activeTextEditor;if(!i){ee.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){ee.window.showWarningMessage("No SQL query to export");return}let a=await ee.window.showSaveDialog({filters:{"CSV Files":["csv"]},saveLabel:"Export to CSV"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),d=await r.getConnection(u||"");if(!d)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Exporting to CSV...",cancellable:!1},async f=>{let{exportToCsv:E}=await Promise.resolve().then(()=>(GR(),q0));await E(e,d,o,a.fsPath,f)}),$d(n,"Export to CSV",l),ee.window.showInformationMessage(`Results exported to ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);ee.window.showErrorMessage(`Error exporting to CSV: ${u}`)}}),ee.commands.registerCommand("netezza.copyXlsbToClipboard",async()=>{let i=ee.window.activeTextEditor;if(!i){ee.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){ee.window.showWarningMessage("No SQL query to export");return}try{let a=i.document.uri.toString(),l=r.getConnectionForExecution(a),c=await r.getConnection(l||"");if(!c)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let u=Date.now();if(await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Exporting to XLSB and copying to clipboard...",cancellable:!1},async f=>{let{exportQueryToXlsb:E,getTempFilePath:T}=await Promise.resolve().then(()=>(Vs(),ca)),h=T(),p=await E(c,o,h,!0,S=>{f.report({message:S}),n.appendLine(`[XLSB Clipboard] ${S}`)});if(!p.success)throw new Error(p.message);if(!p.details?.clipboard_success)throw new Error("Failed to copy file to clipboard")}),$d(n,"Copy XLSB to Clipboard",u),await ee.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let f=_S.tmpdir();await ee.env.openExternal(ee.Uri.file(f))}}catch(a){let l=a instanceof Error?a.message:String(a);ee.window.showErrorMessage(`Error copying XLSB to clipboard: ${l}`)}}),ee.commands.registerCommand("netezza.exportToXlsbAndOpen",async()=>{let i=ee.window.activeTextEditor;if(!i){ee.window.showErrorMessage("No active editor found");return}let s=i.selection,o=s.isEmpty?i.document.getText():i.document.getText(s);if(!o.trim()){ee.window.showWarningMessage("No SQL query to export");return}let a=await ee.window.showSaveDialog({filters:{"Excel Binary Workbook":["xlsb"]},saveLabel:"Export to XLSB and Open"});if(!a)return;let l=Date.now();try{let c=i.document.uri.toString(),u=r.getConnectionForExecution(c),d=await r.getConnection(u||"");if(!d)throw new Error("Connection not configured. Please connect via Netezza: Connect...");await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Exporting to XLSB and opening...",cancellable:!1},async f=>{let{exportQueryToXlsb:E}=await Promise.resolve().then(()=>(Vs(),ca)),T=await E(d,o,a.fsPath,!1,h=>{f.report({message:h}),n.appendLine(`[XLSB Export] ${h}`)});if(!T.success)throw new Error(T.message)}),$d(n,"Export to XLSB and Open",l),await ee.env.openExternal(a),ee.window.showInformationMessage(`Results exported and opened: ${a.fsPath}`)}catch(c){let u=c instanceof Error?c.message:String(c);ee.window.showErrorMessage(`Error exporting to XLSB: ${u}`)}}),ee.commands.registerCommand("netezza.exportCurrentResultToXlsbAndOpen",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){ee.window.showErrorMessage("No data to export");return}let o=i;if(Array.isArray(i)&&i.length>1){let d=await ee.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!d)return;if(d==="Export Active Result Only"){let f=i.find(E=>E.isActive);f?o=[f]:o=[i[0]]}}let a=new Date().toISOString().replace(/[:.]/g,"-"),l=b6.join(_S.tmpdir(),`netezza_results_${a}.xlsb`),c=Date.now();await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Creating Excel file...",cancellable:!1},async d=>{let{exportCsvToXlsb:f}=await Promise.resolve().then(()=>(Vs(),ca)),E=await f(o,l,!1,{source:"Query Results Panel",sql:s},T=>{d.report({message:T}),n.appendLine(`[CSV to XLSB] ${T}`)});if(!E.success)throw new Error(E.message)});let u=Date.now()-c;n.appendLine(`[${new Date().toLocaleTimeString()}] Export Current Result to Excel completed in ${u}ms`),await ee.env.openExternal(ee.Uri.file(l)),ee.window.showInformationMessage(`Results exported and opened: ${l}`)}catch(o){let a=o instanceof Error?o.message:String(o);ee.window.showErrorMessage(`Error exporting to Excel: ${a}`)}}),ee.commands.registerCommand("netezza.copyCurrentResultToXlsbClipboard",async(i,s)=>{try{if(!i||Array.isArray(i)&&i.length===0){ee.window.showErrorMessage("No data to copy");return}let o=i;if(Array.isArray(i)&&i.length>1){let d=await ee.window.showQuickPick(["Export All Results","Export Active Result Only"],{placeHolder:"Multiple results available. What would you like to export?"});if(!d)return;if(d==="Export Active Result Only"){let f=i.find(E=>E.isActive);f?o=[f]:o=[i[0]]}}let{getTempFilePath:a}=await Promise.resolve().then(()=>(Vs(),ca)),l=a(),c=Date.now();if(await ee.window.withProgress({location:ee.ProgressLocation.Notification,title:"Copying to clipboard as Excel...",cancellable:!1},async d=>{let{exportCsvToXlsb:f}=await Promise.resolve().then(()=>(Vs(),ca)),E=await f(o,l,!0,{source:"Query Results Panel",sql:s},T=>{d.report({message:T}),n.appendLine(`[Clipboard XLSB] ${T}`)});if(!E.success)throw new Error(E.message)}),$d(n,"Copy Result as Excel",c),await ee.window.showInformationMessage("Excel file copied to clipboard! You can now paste it into Excel or Windows Explorer.","Show Temp Folder","OK")==="Show Temp Folder"){let d=_S.tmpdir();await ee.env.openExternal(ee.Uri.file(d))}}catch(o){let a=o instanceof Error?o.message:String(o);ee.window.showErrorMessage(`Error copying to Excel: ${a}`)}})]}var ge=j(require("vscode")),B6=j(require("path"));Ar();function v6(t,e,r){let n=Date.now()-r;t.appendLine(`[${new Date().toLocaleTimeString()}] ${e} completed in ${n}ms`),t.show(!0)}async function U6(t,e,r){try{let i=await K(t,"SELECT CURRENT_CATALOG, CURRENT_SCHEMA",!0,e,r);if(i){let s=JSON.parse(i);if(s&&s.length>0){let o=s[0].CURRENT_CATALOG||"SYSTEM",a=s[0].CURRENT_SCHEMA||"ADMIN",c=new Date().toISOString().slice(0,10).replace(/-/g,""),u=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${o}.${a}.IMPORT_${c}_${u}`}}}catch(n){ge.window.showErrorMessage(`Error getting current database/schema: ${n instanceof Error?n.message:String(n)}`)}return null}function F6(t){let{context:e,connectionManager:r,outputChannel:n}=t;return[ge.commands.registerCommand("netezza.importClipboard",async()=>{try{let s=ge.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnection(o||"");if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await ge.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:f=>!f||f.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(f.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(l===void 0)return;let c;if(!l||l.trim().length===0){let f=await U6(e,o,r);if(!f)return;c=f,ge.window.showInformationMessage(`Auto-generated table name: ${c}`)}else c=l.trim();let u=await ge.window.showQuickPick([{label:"Auto-detect",description:"Automatically detect clipboard format (text or Excel XML)",value:null},{label:"Excel XML Spreadsheet",description:"Force Excel XML format processing",value:"XML Spreadsheet"},{label:"Plain Text",description:"Force plain text processing with delimiter detection",value:"TEXT"}],{placeHolder:"Select clipboard data format"});if(!u)return;let d=Date.now();await ge.window.withProgress({location:ge.ProgressLocation.Notification,title:"Importing clipboard data...",cancellable:!1},async f=>{let{importClipboardDataToNetezza:E}=await Promise.resolve().then(()=>(M6(),x6)),T="",h=await E(c,a,u.value,{},(p,S,I=!0)=>{f.report({message:p,increment:S}),I&&p!==T&&(n.appendLine(`[Clipboard Import] ${p}`),T=p)});if(!h.success)throw new Error(h.message);h.details&&(n.appendLine(`[Clipboard Import] Rows processed: ${h.details.rowsProcessed}`),n.appendLine(`[Clipboard Import] Columns: ${h.details.columns}`),n.appendLine(`[Clipboard Import] Format: ${h.details.format}`))}),v6(n,"Import Clipboard Data",d),ge.window.showInformationMessage(`Clipboard data imported successfully to table: ${c}`,"Copy Table Name").then(f=>{f==="Copy Table Name"&&(ge.env.clipboard.writeText(c),ge.window.showInformationMessage("Table name copied to clipboard"))})}catch(i){ge.window.showErrorMessage(`Error importing clipboard data: ${i instanceof Error?i.message:String(i)}`)}}),ge.commands.registerCommand("netezza.importData",async()=>{try{let s=ge.window.activeTextEditor?.document?.uri?.toString(),o=r.getConnectionForExecution(s),a=await r.getConnection(o||"");if(!a)throw new Error("Connection not configured. Please connect via Netezza: Connect...");let l=await ge.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Data Files":["csv","txt","xlsx","xlsb","json"],"CSV Files":["csv"],"Excel Files":["xlsx","xlsb"],"Text Files":["txt"],"JSON Files":["json"],"All Files":["*"]},openLabel:"Select file to import"});if(!l||l.length===0)return;let c=l[0].fsPath,u=await ge.window.showInputBox({prompt:"Enter target table name (leave empty for auto-generated name)",placeHolder:"e.g. my_schema.my_table or leave empty",validateInput:T=>!T||T.trim().length===0||/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)?(\.[a-zA-Z_][a-zA-Z0-9_]*)?$/.test(T.trim())?null:"Invalid table name format. Use: [database.]schema.table"});if(u===void 0)return;let d;if(!u||u.trim().length===0){let T=await U6(e,o,r);if(!T)return;d=T,ge.window.showInformationMessage(`Auto-generated table name: ${d}`)}else d=u.trim();let f=await ge.window.showQuickPick([{label:"Default Import",description:"Use default settings",value:{}},{label:"Custom Options",description:"Configure import settings (coming soon)",value:null}],{placeHolder:"Select import options"});if(!f)return;if(f.value===null){ge.window.showInformationMessage("Custom options will be available in future version");return}let E=Date.now();await ge.window.withProgress({location:ge.ProgressLocation.Notification,title:"Importing data...",cancellable:!1},async T=>{let{importDataToNetezza:h}=await Promise.resolve().then(()=>(uS(),PC)),p="",S=await h(c,d,a,(I,R,A=!0)=>{T.report({message:I,increment:R}),A&&I!==p&&(n.appendLine(`[Import] ${I}`),p=I)});if(!S.success)throw new Error(S.message);S.details&&(n.appendLine(`[Import] Rows processed: ${S.details.rowsProcessed}`),n.appendLine(`[Import] Columns: ${S.details.columns}`),n.appendLine(`[Import] Delimiter: ${S.details.detectedDelimiter}`))}),v6(n,"Import Data",E),ge.window.showInformationMessage(`Data imported successfully to table: ${d}`,"Copy Table Name").then(T=>{T==="Copy Table Name"&&(ge.env.clipboard.writeText(d),ge.window.showInformationMessage("Table name copied to clipboard"))})}catch(i){ge.window.showErrorMessage(`Error importing data: ${i instanceof Error?i.message:String(i)}`)}}),ge.commands.registerCommand("netezza.smartPaste",async()=>{try{let i=ge.window.activeTextEditor;if(!i)return;let o=ge.workspace.getConfiguration("netezza").get("pythonPath")||"python",a=B6.join(e.extensionPath,"python","check_clipboard_format.py"),l=require("child_process");if(await new Promise(u=>{let d=l.spawn(o,[a]);d.on("close",f=>{u(f===1)}),d.on("error",()=>{u(!1)})})){let u=await ge.window.showQuickPick([{label:"\u{1F4CA} import to Netezza table",description:'Detected "XML Spreadsheet" format - import data to database',value:"import"},{label:"\u{1F4DD} Paste as text",description:"Paste clipboard content as plain text",value:"paste"}],{placeHolder:'Detected "XML Spreadsheet" format in clipboard - choose an action'});if(u?.value==="import")ge.commands.executeCommand("netezza.importClipboard");else if(u?.value==="paste"){let d=await ge.env.clipboard.readText(),f=i.selection;await i.edit(E=>{E.replace(f,d)})}}else{let u=await ge.env.clipboard.readText(),d=i.selection;await i.edit(f=>{f.replace(d,u)})}}catch(i){ge.window.showErrorMessage(`Error during paste: ${i instanceof Error?i.message:String(i)}`)}})]}var ue=j(require("vscode"));Ar();no();function XC(t){return t&&(t.includes(" ")?`"${t.replace(/"/g,'\\"')}"`:t)}function as(t,e,r){let i=/[ \\/]/.test(t)?`& ${XC(t)}`:t,s=XC(e),o=r.map(a=>XC(a)).join(" ");return`${i} ${s}${o?" "+o:""}`.trim()}function HK(t){let{context:e,connectionManager:r,resultPanelProvider:n}=t;return[ue.commands.registerCommand("netezza.runQuery",async()=>{let i=ue.window.activeTextEditor;if(!i){ue.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.getText(),l=s.uri.toString(),c=[];if(o.isEmpty){let d=s.offsetAt(o.active),f=Dr.getStatementAtPosition(a,d);if(f){c=[f.sql];let E=s.positionAt(f.start),T=s.positionAt(f.end);i.selection=new ue.Selection(E,T)}else{ue.window.showWarningMessage("No SQL statement found at cursor");return}}else{let d=s.getText(o);if(!d.trim()){ue.window.showWarningMessage("No SQL query selected");return}/^\s*CREATE\s+(OR\s+REPLACE\s+)?PROCEDURE\b/i.test(d)?c=[d]:c=Dr.splitStatements(d)}if(c.length===0)return;let u=c.length===1?c[0].trim():null;if(u){let d=u.split(/\s+/),f=d[0]||"",E=/python(\.exe)?$/i.test(f)&&d.length>=2&&d[1].toLowerCase().endsWith(".py"),T=f.toLowerCase().endsWith(".py");if(E||T){let p=ue.workspace.getConfiguration("netezza").get("pythonPath")||"python",S="";if(E){let R=d[0],A=d[1],N=d.slice(2);S=as(R,A,N)}else{let R=f,A=d.slice(1);S=as(p,R,A)}let I=ue.window.createTerminal({name:"Netezza: Script"});I.show(!0),I.sendText(S,!0),ue.window.showInformationMessage(`Running script: ${S}`);return}}try{n.startExecution(l);let d=ue.workspace.getConfiguration("netezza"),f=d.get("enableStreaming",!1),E=d.get("streamingChunkSize",5e3);f?await P0(e,c,r,l,T=>n.log(l,T),(T,h,p)=>{n.appendStreamingChunk(l,T,h,p)},E):await Dc(e,c,r,l,T=>n.log(l,T),T=>n.updateResults(T,l,!0)),n.finalizeExecution(l),ue.commands.executeCommand("netezza.results.focus")}catch(d){let f=d instanceof Error?d.message:String(d);n.finalizeExecution(l),n.log(l,`Error: ${f}`),ue.window.showErrorMessage(`Error executing query: ${f}`)}}),ue.commands.registerCommand("netezza.runQueryBatch",async()=>{let i=ue.window.activeTextEditor;if(!i){ue.window.showErrorMessage("No active editor found");return}let s=i.document,o=i.selection,a=s.uri.toString(),l;if(o.isEmpty?l=s.getText():l=s.getText(o),!l.trim()){ue.window.showWarningMessage("No SQL query to execute");return}let u=l.trim().split(/\s+/),d=u[0]||"",f=/python(\.exe)?$/i.test(d)&&u.length>=2&&u[1].toLowerCase().endsWith(".py"),E=d.toLowerCase().endsWith(".py");if(f||E){let h=ue.workspace.getConfiguration("netezza").get("pythonPath")||"python",p="";if(f){let I=u[0],R=u[1],A=u.slice(2);p=as(I,R,A)}else{let I=d,R=u.slice(1);p=as(h,I,R)}let S=ue.window.createTerminal({name:"Netezza: Script"});S.show(!0),S.sendText(p,!0),ue.window.showInformationMessage(`Running script: ${p}`);return}try{n.startExecution(a),await Dc(e,[l],r,a,T=>n.log(a,T),T=>n.updateResults(T,a,!0)),n.finalizeExecution(a),ue.commands.executeCommand("netezza.results.focus")}catch(T){let h=T instanceof Error?T.message:String(T);n.finalizeExecution(a),n.log(a,`Error: ${h}`),ue.window.showErrorMessage(`Error executing query: ${h}`)}}),ue.commands.registerCommand("netezza.explainQuery",async()=>{await GK(e,r,!1)}),ue.commands.registerCommand("netezza.explainQueryVerbose",async()=>{await GK(e,r,!0)}),ue.commands.registerCommand("netezza.formatSQL",async()=>{let i=ue.window.activeTextEditor;if(!i){ue.window.showErrorMessage("No active editor");return}if(i.document.languageId!=="sql"&&i.document.languageId!=="mssql"){ue.window.showWarningMessage("Format SQL is only available for SQL files");return}let s=ue.workspace.getConfiguration("netezza"),o=s.get("formatSQL.tabWidth",4),a=s.get("formatSQL.keywordCase","upper"),l=i.selection,c=l.isEmpty?i.document.getText():i.document.getText(l);try{let{format:u}=await Promise.resolve().then(()=>(PK(),DK)),d="__NZ_DOUBLE_DOT__",f=c.replace(/\.\.(?=[a-zA-Z_])/g,`.${d}.`),T=u(f,{language:"sql",tabWidth:o,keywordCase:a,linesBetweenQueries:2}).replace(new RegExp(`\\.\\s*${d}\\s*\\.`,"g"),"..");await i.edit(h=>{if(l.isEmpty){let p=new ue.Range(i.document.positionAt(0),i.document.positionAt(i.document.getText().length));h.replace(p,T)}else h.replace(l,T)}),ue.window.showInformationMessage("SQL formatted successfully")}catch(u){let d=u instanceof Error?u.message:String(u);d.includes("Parse error")?ue.window.showErrorMessage("SQL formatting failed: The SQL contains syntax not supported by the formatter. Try selecting a simpler portion of the SQL to format."):ue.window.showErrorMessage(`Format SQL failed: ${d}`)}})]}async function GK(t,e,r){let n=ue.window.activeTextEditor;if(!n){ue.window.showErrorMessage("No active editor found");return}let i=n.document,s=n.selection,o;if(!s.isEmpty)o=i.getText(s);else{let c=n.selection.active,u=i.offsetAt(c),d=i.getText(),f=Dr.getStatementAtPosition(d,u);f?o=d.substring(f.start,f.end):o=i.getText()}if(!o.trim()){ue.window.showWarningMessage("No SQL query to explain");return}let a=o.trim();a.toUpperCase().startsWith("EXPLAIN")&&(a=a.replace(/^EXPLAIN\s+(?:VERBOSE\s+)?/i,""));let l=r?`EXPLAIN VERBOSE ${a}`:`EXPLAIN ${a}`;try{let c=i.uri.toString(),u=e.getConnectionForExecution(c);if(!u){ue.window.showErrorMessage("No database connection. Please connect first.");return}await ue.window.withProgress({location:ue.ProgressLocation.Notification,title:"Generating query plan...",cancellable:!1},async()=>{let d=await D0(t,l,u,e,c);if(d&&d.trim()){let{parseExplainOutput:f,ExplainPlanView:E}=await Promise.resolve().then(()=>(FK(),BK)),T=f(d);E.createOrShow(t.extensionUri,T,a)}else ue.window.showWarningMessage("No explain output received")})}catch(c){let u=c instanceof Error?c.message:String(c);ue.window.showErrorMessage(`Error generating query plan: ${u}`)}}var us=j(require("vscode"));function Zb(t,e){let r=e.getKeepConnectionOpen();t.text=r?"\u{1F517} Keep Connection ON":"\u26D3\uFE0F\u200D\u{1F4A5} Keep Connection OFF",t.tooltip=r?"Keep Connection Open: ENABLED - Click to disable":"Keep Connection Open: DISABLED - Click to enable",t.backgroundColor=r?new us.ThemeColor("statusBarItem.prominentBackground"):void 0}function WK(t,e){let r=us.window.createStatusBarItem(us.StatusBarAlignment.Right,100);return r.command="netezza.toggleKeepConnectionOpen",Zb(r,e),r.show(),t.subscriptions.push(r),r}function YK(t,e){let r=us.window.createStatusBarItem(us.StatusBarAlignment.Left,100);return r.command="netezza.selectConnectionForTab",r.tooltip="Click to select connection for this SQL tab",t.subscriptions.push(r),{statusBarItem:r,updateFn:()=>{let i=us.window.activeTextEditor;if(i&&i.document.languageId==="sql"){let s=i.document.uri.toString(),o=e.getConnectionForExecution(s);o?(r.text=`$(database) ${o}`,r.show()):(r.text="$(database) Select Connection",r.show())}else r.hide()}}}var Je=j(require("vscode"));no();var $K=/(^|\s)(?:[A-Za-z]:\\|\\|\/)?[\w.\-\\/]+\.py\b|(^|\s)python(?:\.exe)?\s+[^\n]*\.py\b/i,ZS=class{constructor(){this._onDidChange=new Je.EventEmitter;this.onDidChangeCodeLenses=this._onDidChange.event}provideCodeLenses(e){let r=[];for(let n=0;n<e.lineCount;n++){let i=e.lineAt(n);if($K.test(i.text)){let s=i.range,o={title:"Run as script",command:"netezza.runScriptFromLens",arguments:[e.uri,s]};r.push(new Je.CodeLens(s,o))}}return r}refresh(){this._onDidChange.fire()}};function kK(){return Je.window.createTextEditorDecorationType({backgroundColor:new Je.ThemeColor("editor.rangeHighlightBackground"),borderRadius:"3px"})}function VK(){return Je.window.createTextEditorDecorationType({backgroundColor:"rgba(5, 115, 201, 0.10)",isWholeLine:!1,rangeBehavior:Je.DecorationRangeBehavior.ClosedClosed})}function ey(t,e){let r=e||Je.window.activeTextEditor;if(!r)return;let n=r.document,i=[];for(let s=0;s<n.lineCount;s++){let o=n.lineAt(s);$K.test(o.text)&&i.push({range:o.range,hoverMessage:"Python script invocation"})}r.setDecorations(t,i)}function QS(t,e){if(!Je.workspace.getConfiguration("netezza").get("highlightActiveStatement",!0)||!e||e.document.languageId!=="sql"&&e.document.languageId!=="mssql"){e&&e.setDecorations(t,[]);return}try{let i=e.document,s=e.selection.active,o=i.offsetAt(s),a=i.getText(),l=Dr.getStatementAtPosition(a,o);if(l){let c=i.positionAt(l.start),u=i.positionAt(l.end),d=new Je.Range(c,u);e.setDecorations(t,[d])}else e.setDecorations(t,[])}catch(i){console.error("Error updating SQL highlight:",i)}}function qK(t,e,r){t.subscriptions.push(Je.window.onDidChangeActiveTextEditor(()=>ey(e)),Je.workspace.onDidChangeTextDocument(n=>{Je.window.activeTextEditor&&n.document===Je.window.activeTextEditor.document&&ey(e,Je.window.activeTextEditor)})),t.subscriptions.push(Je.window.onDidChangeTextEditorSelection(n=>{QS(r,n.textEditor)}),Je.window.onDidChangeActiveTextEditor(n=>{QS(r,n)}),Je.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration("netezza.highlightActiveStatement")&&QS(r,Je.window.activeTextEditor)})),ey(e,Je.window.activeTextEditor),QS(r,Je.window.activeTextEditor)}var Hn=j(require("vscode")),V0e=new Map([["SX","SELECT"],["WX","WHERE"],["GX","GROUP BY"],["HX","HAVING"],["OX","ORDER BY"],["FX","FROM"],["JX","JOIN"],["LX","LIMIT"],["IX","INSERT INTO"],["UX","UPDATE"],["DX","DELETE FROM"],["CX","CREATE TABLE"]]);function XK(t){let e=Hn.workspace.onDidChangeTextDocument(async r=>{if(r.document.languageId!=="sql"&&r.document.languageId!=="mssql"||r.contentChanges.length!==1)return;let n=r.contentChanges[0];if(n.text!==" ")return;let i=Hn.window.activeTextEditor;if(!i||i.document!==r.document)return;let o=r.document.lineAt(n.range.start.line).text;for(let[a,l]of V0e)if(new RegExp(`\\b${a}\\s$`,"i").test(o)){let u=o.toUpperCase().lastIndexOf(a.toUpperCase());if(u>=0){let d=new Hn.Position(n.range.start.line,u),f=new Hn.Position(n.range.start.line,u+a.length+1);await i.edit(E=>{E.replace(new Hn.Range(d,f),l+" ")}),["SELECT","FROM","JOIN"].includes(l)&&setTimeout(()=>{Hn.commands.executeCommand("editor.action.triggerSuggest")},100);break}}});t.subscriptions.push(e)}var jK=[{id:"mtxr.sqltools",name:"SQLTools"},{id:"ms-mssql.mssql",name:"Microsoft SQL Server"},{id:"oracle.oracledevtools",name:"Oracle Developer Tools"},{id:"cweijan.vscode-mysql-client2",name:"MySQL"},{id:"ckolkman.vscode-postgres",name:"PostgreSQL"}];async function q0e(t){let e=X.workspace.getConfiguration("netezza");if(!e.get("showConflictWarnings",!0))return;let n=[];for(let a of jK)X.extensions.getExtension(a.id)&&n.push(a.name);let s=X.extensions.all.filter(a=>{let l=a.packageJSON;if(!l||a.id==="krzysztof-d.justybaselite-netezza"||jK.some(f=>f.id===a.id))return!1;let c=l.activationEvents?.some(f=>f.includes("onLanguage:sql")||f.includes("onLanguage:mssql")),u=l.contributes?.languages?.some(f=>f.id==="sql"||f.extensions?.includes(".sql"));return(l.displayName||"")==="SQL Language Basics"?!1:c||u}).map(a=>a.packageJSON.displayName||a.id),o=[...n,...s];if(o.length>0){let a=o.length===1?`SQL extension detected "${o[0]}" which may cause conflicts (e.g. duplicate keybindings F5, Ctrl+Enter).`:`SQL extensions detected which may cause conflicts: ${o.join(", ")}. Some functions (e.g. F5, Ctrl+Enter) may be duplicated.`;await X.window.showWarningMessage(a,"OK","Do not show again")==="Do not show again"&&await e.update("showConflictWarnings",!1,X.ConfigurationTarget.Global)}}async function X0e(t){console.log("Netezza extension: Activating..."),q0e(t);let e=new Ci(t),r=new XE(t);await r.initialize();let n=new ME(t,e,r),i=new Pc(t.extensionUri);t.subscriptions.push({dispose:()=>{e.closeAllPersistentConnections()}});let s=X.window.createOutputChannel("Netezza"),o=WK(t,e),{updateFn:a}=YK(t,e);a(),e.onDidChangeActiveConnection(R=>{a(),R&&!r.hasConnectionPrefetchTriggered(R)&&r.triggerConnectionPrefetch(R,A=>K(t,A,!0,R,e))}),e.onDidChangeConnections(a),e.onDidChangeDocumentConnection(R=>{a();let A=e.getDocumentConnection(R);A&&!r.hasConnectionPrefetchTriggered(A)&&r.triggerConnectionPrefetch(A,N=>K(t,N,!0,A,e))}),X.window.onDidChangeActiveTextEditor(a),console.log("Netezza extension: Registering SchemaSearchProvider...");let l=new xc(t.extensionUri,t,r,e);console.log("Netezza extension: Registering QueryHistoryView...");let c=new Mc(t.extensionUri,t),u=X.window.createTreeView("netezza.schema",{treeDataProvider:n,showCollapseAll:!0});t.subscriptions.push(X.window.registerWebviewViewProvider(Pc.viewType,i),X.window.registerWebviewViewProvider(xc.viewType,l),X.window.registerWebviewViewProvider(Mc.viewType,c));let d=kK(),f=VK();qK(t,d,f);let E=new ZS;t.subscriptions.push(X.languages.registerCodeLensProvider({scheme:"file"},E)),t.subscriptions.push(X.window.onDidChangeActiveTextEditor(R=>{if(R&&R.document){let A=R.document.uri.toString();i.setActiveSource(A)}}));let T=AS({context:t,connectionManager:e,metadataCache:r,schemaProvider:n,schemaTreeView:u});t.subscriptions.push(...T);let h=y6({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...h);let p=F6({context:t,connectionManager:e,outputChannel:s});t.subscriptions.push(...p);let S=HK({context:t,connectionManager:e,resultPanelProvider:i});t.subscriptions.push(...S),t.subscriptions.push(X.commands.registerCommand("netezza.viewEditData",R=>{WE.createOrShow(t.extensionUri,R,t,e)}),X.commands.registerCommand("netezza.createProcedure",async R=>{let A=R;if(!A||!A.dbName){X.window.showErrorMessage("Invalid selection. Select a Procedure folder.");return}let N=await X.window.showInputBox({prompt:"Enter new procedure name",placeHolder:"NEW_PROCEDURE",value:"NEW_PROCEDURE"});if(N===void 0)return;let w=N.trim()||"NEW_PROCEDURE",D=`CREATE OR REPLACE PROCEDURE ${A.dbName}.SCHEMA.${w}(INTEGER)
RETURNS INTEGER
EXECUTE AS CALLER
LANGUAGE NZPLSQL AS
BEGIN_PROC
DECLARE
    arg1 ALIAS FOR $1;
BEGIN
    -- YOUR CODE GOES HERE
    
    EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE EXCEPTION  'Procedure failed: %', sqlerrm;
        --RAISE NOTICE 'Caught error, continuing %', sqlerrm;

END;
END_PROC;`,y=await X.workspace.openTextDocument({content:D,language:"sql"});await X.window.showTextDocument(y)}),X.commands.registerCommand("netezza.toggleKeepConnectionOpen",()=>{let R=e.getKeepConnectionOpen();e.setKeepConnectionOpen(!R),Zb(o,e);let A=!R;X.window.showInformationMessage(A?"Keep connection open: ENABLED - connection will remain open after queries":"Keep connection open: DISABLED - connection will be closed after each query")}),X.commands.registerCommand("netezza.cancelQuery",async()=>{await y0()}),X.commands.registerCommand("netezza.selectActiveConnection",async()=>{let R=await e.getConnections();if(R.length===0){X.window.showWarningMessage("No connections configured. Please connect first.");return}let A=await X.window.showQuickPick(R.map(N=>N.name),{placeHolder:"Select Active Connection"});A&&(await e.setActiveConnection(A),X.window.showInformationMessage(`Active connection set to: ${A}`))}),X.commands.registerCommand("netezza.selectConnectionForTab",async()=>{let R=X.window.activeTextEditor;if(!R||R.document.languageId!=="sql"){X.window.showWarningMessage("This command is only available for SQL files");return}let A=await e.getConnections();if(A.length===0){X.window.showWarningMessage("No connections configured. Please connect first.");return}let N=R.document.uri.toString(),w=e.getDocumentConnection(N)||e.getActiveConnectionName(),m=A.map(y=>({label:y.name,description:w===y.name?"$(check) Currently selected":`${y.host}:${y.port}/${y.database}`,name:y.name})),D=await X.window.showQuickPick(m,{placeHolder:"Select connection for this SQL tab"});D&&(e.setDocumentConnection(N,D.name),X.window.showInformationMessage(`Connection for this tab set to: ${D.name}`))}),X.commands.registerCommand("netezza.openLogin",()=>{xE.createOrShow(t.extensionUri,e)}),X.commands.registerCommand("netezza.refreshSchema",async()=>{await r.clearCache(),n.refresh(),X.window.showInformationMessage("Schema refreshed (Cache cleared)")}),X.commands.registerCommand("netezza.jumpToSchema",async()=>{let R=X.window.activeTextEditor;if(!R)return;let A=R.document,N=R.selection,w=A.offsetAt(N.active),m=Dr.getObjectAtPosition(A.getText(),w);m?X.commands.executeCommand("netezza.revealInSchema",m):X.window.showWarningMessage("No object found at cursor")}),X.commands.registerCommand("netezza.runScriptFromLens",async(R,A)=>{try{let N=await X.workspace.openTextDocument(R),w=N.getText(A).trim()||N.lineAt(A.start.line).text.trim();if(!w){X.window.showWarningMessage("No script command found");return}let m=w.split(/\s+/),D=m[0]||"",y=/python(\.exe)?$/i.test(D)&&m.length>=2&&m[1].toLowerCase().endsWith(".py"),P=D.toLowerCase().endsWith(".py"),B=X.workspace.getConfiguration("netezza").get("pythonPath")||"python",G="";if(y){let J=m[0],ne=m[1],re=m.slice(2);G=as(J,ne,re)}else if(P){let J=D,ne=m.slice(1);G=as(B,J,ne)}else G=as(B,"",m);let V=X.window.createTerminal({name:"Netezza: Script"});V.show(!0),V.sendText(G,!0),X.window.showInformationMessage(`Running script: ${G}`)}catch(N){let w=N instanceof Error?N.message:String(N);X.window.showErrorMessage(`Error running script: ${w}`)}}),X.commands.registerCommand("netezza.clearAutocompleteCache",async()=>{await X.window.showWarningMessage("Are you sure you want to clear the autocomplete cache? This will remove all cached databases, schemas, tables, and columns.",{modal:!0},"Clear Cache")==="Clear Cache"&&(await r.clearCache(),X.window.showInformationMessage("Autocomplete cache cleared successfully. Cache will be rebuilt on next use."))}),X.commands.registerCommand("netezza.copySelection",()=>{i.triggerCopySelection()}),X.commands.registerCommand("netezza.openEtlDesigner",()=>{Bn.setConnectionManager(e),Bn.createOrShow(t)}),X.commands.registerCommand("netezza.newEtlProject",async()=>{let R=await X.window.showInputBox({prompt:"Enter ETL project name",value:"New ETL Project"});R&&(Ts.getInstance().createProject(R),Bn.setConnectionManager(e),Bn.createOrShow(t))}),X.commands.registerCommand("netezza.openEtlProject",async()=>{let R=await X.window.showOpenDialog({filters:{"ETL Project":["etl.json"]},canSelectMany:!1});if(R&&R[0])try{let N=await Ts.getInstance().loadProject(R[0].fsPath);Bn.setConnectionManager(e),Bn.createOrShow(t,N),X.window.showInformationMessage(`ETL project loaded: ${N.name}`)}catch(A){X.window.showErrorMessage(`Failed to load ETL project: ${A}`)}}),X.commands.registerCommand("netezza.runEtlProject",async()=>{let A=Ts.getInstance().getCurrentProject();if(!A){X.window.showWarningMessage("No ETL project is currently open. Please open or create a project first.");return}Bn.setConnectionManager(e),Bn.createOrShow(t,A),X.window.showInformationMessage("ETL project opened. Use the Run button in the designer to execute.")})),t.subscriptions.push(X.languages.registerDocumentLinkProvider({language:"sql"},new FE),X.languages.registerFoldingRangeProvider({language:"sql"},new GE));let I=new BE(t,r,e);t.subscriptions.push(X.languages.registerCompletionItemProvider(["sql","mssql"],I,"."," ")),XK(t),H0(t),t.subscriptions.push(X.languages.registerCodeActionsProvider(["sql","netezza-sql"],new vc,{providedCodeActionKinds:vc.providedCodeActionKinds})),console.log("Netezza extension: Activation complete.")}function j0e(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

archiver/lib/error.js:
archiver/lib/core.js:
  (**
   * Archiver Core
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

zip-stream/index.js:
  (**
   * ZipStream
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
   * @copyright (c) 2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/zip.js:
  (**
   * ZIP Format Plugin
   *
   * @module plugins/zip
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/tar.js:
  (**
   * TAR Format Plugin
   *
   * @module plugins/tar
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/json.js:
  (**
   * JSON Format Plugin
   *
   * @module plugins/json
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/index.js:
  (**
   * Archiver Vending
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)
*/
